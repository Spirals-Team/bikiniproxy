/**
 * Package www/base
 * lmd/util/link
 * lmd/ui/plier-deplier
 * lmd/ui/databox
 * partenaires/newsweb/databox
 * lmd/ui/image/load-on-event
 * lmd/ui/liste-az
 * lmd/ui/popup
 * lmd/ui/resize-column
 * lmd/ui/slideshow
 * lmd/ui/auth/login
 * lmd/ui/image/lazy-retina
 * lmd/ui/component
 * lmd/ui/lightbox
 * lmd/util/iframe
 * lmd/module/retina
 * lmd/module/alerte
 * lmd/module/encontinu
 * lmd/module/lives
 * lmd/module/live
 * lmd/module/marketing/monster_form
 * hoganpower!/partials/general/header/nav.html.mu@www
 * hgn/www/templates/module/user/login.html.mu.js@abs
 * hgn/www/templates/module/general/alerte.html.mu.js@abs
 * hgn/www/templates/module/general/lives.html.mu.js@abs
 * hgn/www/templates/module/general/live.html.mu.js@abs
 * hgn/www/templates/module/general/en_continu.html.mu.js@abs
 * lmd/ui/pagination
 * lmd/module/encontinu/refresh
 * lmd/module/encontinu/storage
 */

/* -- start module lmd/util/link -- */
define("lmd/util/link",function(require){"use strict";var $=require("jquery"),e={parse:function(e,t){e=e||"body";var n,r;$(e).find(".lien_interne").hover(function(e){r=e,n=window.setTimeout(function(){$(r.currentTarget).css("text-decoration","underline"),$(r.currentTarget).css("cursor","pointer")},500)},function(){window.clearTimeout(n),$(r.currentTarget).css("text-decoration","none"),$(r.currentTarget).css("cursor","text")}),$(e).find(".lien_interne").click(function(e){window.open(e.target.href)}),$(function(){!function(e){var t,n,r,i,o,a,c,u;for(o=0,a=e.length;o<a;o+=1){for(t=document.createElement("a"),n=e[o],r=n.attributes,i=n.parentNode,c=0,u=r.length;c<u;c+=1)"data-href"===r[c].name?t.setAttribute(r[c].name.slice(5),window.atob(r[c].value)):"data-target"===r[c].name?t.setAttribute(r[c].name.slice(5),r[c].value):t.setAttribute(r[c].name,r[c].value),t.innerHTML=n.innerHTML;i.insertBefore(t,n),i.removeChild(n)}}($(e).find(".obf").get()),t&&t()})}};return e});
/* -- end module lmd/util/link -- */
/* -- start module lmd/ui/plier-deplier -- */
define("lmd/ui/plier-deplier",function(require){"use strict";var $=require("jquery");return{parse:function(e){e=e||"body",$(e).find(".voir_plus").each(function(){var e,i,n,o,s,t;e=$(this),i=e.find("p"),n=e.find("img"),o=n.parents().first(".img_ico"),s=e.find(".repliable").first().hide(),t=e.find(".deplier").first(),e.on("mouseenter mouseleave",function(){e.find(".deplier").first().toggleClass("visible")}),i.on("mouseenter mouseleave",function(){e.toggleClass("hovered")}),o.length?o.on("mouseenter mouseleave",function(){e.find("a").first().toggleClass("lien_focus")}):n.on("mouseenter mouseleave",function(){e.find("a").first().toggleClass("lien_focus")}),t.on("click",function(){s.toggle(),t.toggleClass("ouvert ferme")}),i.on("click",function(){s.toggle(),t.toggleClass("ouvert ferme"),i.toggleClass("open")})})}}});
/* -- end module lmd/ui/plier-deplier -- */
/* -- start module lmd/ui/databox -- */
define("lmd/ui/databox",["jquery","hoganpower!/partials/pave/onglets.html.mu"],function($,t){"use strict";var a,i="tab-active",e=function(){};a=function(a){var e,n=$("> div",a),r=0,s=n.length,c=[],d=0;if(n.length<1)return!1;for(r;r<s;r++){var u=n[r].getAttribute("data-name")?n[r].getAttribute("data-name"):n[r].id.replace(/panneau\-/,"").replace(/-/," ");c[r]={ref:n[r].id,intitule:u,active_indicator:n[r].className.match(i)?i:""}}for(r=0,s=c.length;r<s;r++)""!==c[r].active_indicator&&(d=r);return c[d].active_indicator=i,e=$(t.render({tabs:c})),a.before(e),e};var n={initTabs:function(t,e){var r=$(t);if(this.$tabs=r.prev(".tabs"),this.$tabs.length){if(this.$tabs.data("initialised"))return}else if(this.$tabs=a(r),this.$tabs===!1)return r.hide(),!1;this.$tabs.each(function(){var t=$(this);t.data("initialised",!0),$("li",t).on("click",function(t){var a=$(this),i=a.index();return t.preventDefault(),n.update(i,a,r),e&&e(r.find("> div").eq(i)),!0})}),this.$tabs.find("."+i+" a").trigger("click")},update:function(t,a,i){var r=i.children("div").css({display:"none"}).eq(t);n.updateTabs(t,a),r.css({display:"block"}),e.apply(r)},updateTabs:function(t,a){$("."+i,this.$tabs).removeClass(i),a.addClass(i)}};return n});
/* -- end module lmd/ui/databox -- */
/* -- start module partenaires/newsweb/databox -- */
define("partenaires/newsweb/databox",["jquery"],function($){var a={initTabs:function(e,n){var s;"undefined"==typeof n&&(n={}),n=$.extend({event:"mouseover",activeClass:"tab-active",disabledClass:"tab-disable",onOpen:function(){}},n),e=e||"",s=$("ul.tabs"),s.each(function(){var e,s,t=$(this);t.data("tabs-activated")||t.hasClass("tabs-behavior")||(s=t.next(".tabs-content"),t.data("tabs-activated",!0),t.data("tabs-event")&&(n.event=t.data("tabs-event")),"mouseover"===n.event&&t.find("li:not(.tab-behavior)").on("click",function(){return!1}),t.find("li:not(.tab-behavior)").on(n.event,function(){var e=$(this),i=e.index();return e.hasClass(n.disabledClass)||a.update(i,n,t,s),0!==t.parents("#main-nav").length}),e=t.find("."+n.activeClass),e.trigger(n.event))})},update:function(e,n,s,t){var i,d,l;if(i=t.children("div").eq(e),d=i.html(),""!==d)a.updateTabs(e,n,s,t),i.css({display:"block"}),$(".loading").removeClass("loading"),n.onOpen.apply(i);else if(l=$("li:eq("+e+") a",s).attr("href"),""!==l){a.updateTabs(e,n,s,t);var o=$.ajax({url:l});o.success(function(a){i=t.find("> div:eq("+e+")"),i.append(a).css({display:"block"}),$(".loading").removeClass("loading"),n.onOpen.apply(i)}).error(function(){i.empty().append("<p>Page introuvable</p>").css({display:"block"}),$(".loading").removeClass("loading")})}else i.empty().append("<p>Pas de chemin</p>").css({display:"block"})},updateTabs:function(a,e,n,s){$("li",n).removeClass(e.activeClass),s.children("div").css({display:"none"}),n.find("li").eq(a).addClass(e.activeClass),s.addClass("loading")}};return a});
/* -- end module partenaires/newsweb/databox -- */
/* -- start module lmd/ui/image/load-on-event -- */
define("lmd/ui/image/load-on-event",["jquery"],function($){"use strict";var t,n,e=window.devicePixelRatio<=1?["data-src-cond"]:["data-src-cond-hdpi","data-src-cond"];return t=function(t,e,c){$(document.body).one(t,e,function(){n(c)})},n=function(t){var n=$("["+e[0]+"]",t);!n.length&&e.length>1&&(n=$("["+e[1]+"]",t)),e.length&&n.length&&n.each(function(){var t=this.getAttribute(e[0]);this.getAttribute("src")!==t&&$(this).attr("src",t)})},{addListener:t,loadSrcs:n}});
/* -- end module lmd/ui/image/load-on-event -- */
/* -- start module lmd/ui/liste-az -- */
define("lmd/ui/liste-az",["jquery"],function($){"use strict";return{init:function(e){var t,n,i,a,o="",s=[],r=0;e=$.extend({context:"body"},e),t=$("#nav_ariane",e.context),n=$("#ariane_az",e.context),i=$(".entrees",n),a=$("ul",t).width(),$("li.ariane",t).each(function(){a-=$(this).outerWidth(!0)}),$("li.sous_rub",t).each(function(){r+=$(this).outerWidth(!0),r>a&&(s.push($("a",this).get(0)),$(this).remove())}),s.length>0&&i.prepend(s),r<a&&$("a",i).each(function(){var e;r<a&&(e=$(this).clone(),o=$('<li class="sous_rub"></li>').append(e),$("ul",t).append(o),r+=e.outerWidth(!0),r>a?o.remove():$(this).remove())}),$("a",i).size()<=0?$(".az",t).hide():$(".az",t).show(),$(".az").on("click",t,function(){n.toggleClass("opened")})}}});
/* -- end module lmd/ui/liste-az -- */
/* -- start module lmd/ui/popup -- */
define("lmd/ui/popup",["jquery","lmd/core/conf"],function($,i){"use strict";var e={parse:function(i,t){i=i||"",t=$.extend({identifier:"popup",link:function(i){return $(i).attr("href")},position:{top:0,left:0},width:screen.width,height:screen.height},t),t.link!==!1&&$(i).on("click",function(i){i.preventDefault(),e.openPopup({identifier:t.identifier,position:t.position,width:t.width,height:t.height,scrollbars:t.scrollbars,link:t.link(this)})})},openPopup:function(i){var e;if(i=$.extend({identifier:"popup",position:{top:0,left:0},width:screen.width,height:screen.height,scrollbars:"no",link:!1},i),i.link!==!1)return"center"===i.position&&(i.position={top:(screen.height-i.height)/2,left:(screen.width-i.width)/2}),e=window.open(i.link,i.identifier,"status=no,width="+i.width+",height="+i.height+",scrollbars="+i.scrollbars+",resizable=yes,top="+i.position.top+",left="+i.position.left),null!==e&&"undefined"!=typeof e&&(e.focus(),e)}};return e});
/* -- end module lmd/ui/popup -- */
/* -- start module lmd/ui/resize-column -- */
define("lmd/ui/resize-column",function(require){"use strict";function t(t){var i,l;g.$target=$(t?t:".plus_partages"),"undefined"==typeof g.$target.data("resizable")&&(l=g.$target.closest(".global"),g.$rightCol=$(".col_droite.resizable",l),i=$(".col_gauche",l),g.$rightCol.length&&i.length&&(g.leftColHeight=i.height(),g.$followUs=g.$target.find(".sociaux"),g.$list=g.$target.find("ul"),g.$list.length&&(g.$target.data("resizable",!0),e())))}function e(){var t,s=g.$target.height(),f=g.$rightCol.height()-g.leftColHeight,u=s-f;if(u=u<n?0:u,t=f-(s-u),Math.abs(f)>a&&s!==u){if(u<=0)return void i();g.$list.height(g.$list.height()-f)}o<r&&(o++,window.setTimeout(function(){h(e)},l))}function i(){g.$list.hide(),g.$target.find("> .entete").hide()}var $=require("jquery"),l=1e3,n=175,a=3,r=60,o=0,g={},h=window.requestAnimationFrame||function(t){t.call(this)};return{init:t}});
/* -- end module lmd/ui/resize-column -- */
/* -- start module lmd/ui/slideshow -- */
define("lmd/ui/slideshow",["jquery","lib/jquery/plugin/jquery.lazyload"],function($){"use strict";var t=function(){var n,e,o,s,a,i,l,v,p,r,c,d=this;p=function(){l(d.vals.currentPage-1)},v=function(){l(d.vals.currentPage+1)},l=function(t){var n;c(),a(),t<=d.vals.totalPage&&t>0?(d.vals.currentPage=t,n=-(d.vals.blockWidth*d.opts.numberDisplayBlock*(d.vals.currentPage-1)),d.opts.$content.animate({left:n},500,function(){d.opts.$container.trigger("pageDisplayed",{vals:d.vals}),r()}),i()):d.opts.infini&&t===d.vals.totalPage+1?(d.vals.currentPage=1,n=-(d.vals.blockWidth*d.opts.numberDisplayBlock*d.vals.totalPage),d.opts.infini&&!d.vals.clonedLast&&(d.vals.clonedLast=!0),d.opts.$content.animate({left:n},500,function(){$(this).animate({left:0},0,function(){d.opts.$container.trigger("pageDisplayed",{vals:d.vals}),r()})}),i()):d.opts.infini&&0===t?(d.vals.currentPage=d.vals.totalPage,n=0,d.opts.$content.animate({left:d.vals.blockWidth*d.opts.numberDisplayBlock},500,function(){$(this).animate({left:-(d.vals.blockWidth*d.opts.numberDisplayBlock*(d.vals.totalPage-1))},0,function(){d.opts.$container.trigger("pageDisplayed",{vals:d.vals}),r()})}),i()):r()},i=function(){d.opts.$navPrev.length>=1&&d.opts.$navNext.length>=1&&(d.opts.$navPrev.removeClass("active"),d.opts.$navNext.removeClass("active"),d.vals.currentPage<d.vals.totalPage&&d.opts.$navNext.addClass("active"),d.vals.currentPage>1&&d.opts.$navPrev.addClass("active")),null!==d.opts.$navDotContainer&&d.opts.$navDotContainer.length&&d.opts.$navDots.removeClass("actif").eq(d.vals.currentPage-1).addClass("actif"),d.opts.$content.find(".shown").first().removeClass("shown"),d.opts.$elts.eq(d.vals.currentPage-1).addClass("shown")},s=function(t){d.opts.autoSlideOn&&d.vals.autoSlideIntervalHandler.push(window.setTimeout(function(){e(t)},t))},a=function(){var t,n;if(d.vals.autoSlideIntervalHandler)for(t=0,n=d.vals.autoSlideIntervalHandler.length;t<n;t+=1)window.clearTimeout(d.vals.autoSlideIntervalHandler.shift())},e=function(){d.opts.infini||(d.vals.currentPage===d.vals.totalPage?d.vals.autoSlideReverse=!0:1===d.vals.currentPage&&(d.vals.autoSlideReverse=!1)),d.vals.autoSlideReverse?p():v(),s(d.opts.autoSlideInterval)},o=function(t){"undefined"!=typeof t&&t||(t=15e3),d.opts.$container.hover(function(){a()},function(){s(t)}),d.opts.$nav.length>0&&d.opts.$nav.hover(function(){a()},function(){s(t)}),s(t)},r=function(){(d.opts.$navPrev.length>=1||d.opts.$navNext.length>=1)&&(c(),d.opts.$navPrev.on("click",function(){p(d)}),d.opts.$navNext.on("click",function(){v(d)}))},c=function(){(d.opts.$navPrev.length>=1||d.opts.$navNext.length>=1)&&(d.opts.$navPrev.unbind("click"),d.opts.$navNext.unbind("click"))},n=function(){var t,n,e,s;d.vals.blockWidth=d.opts.$content.children().outerWidth(!0),t=d.opts.$content.children().length,n=d.opts.$content.children().outerHeight(!0),e=d.vals.blockWidth*t,d.vals.totalPage=Math.ceil(t/d.opts.numberDisplayBlock),d.opts.$container.css({overflow:"hidden",position:"relative"}),d.opts.$content.css({height:n,width:e+(d.opts.decale||d.opts.infini?4*d.vals.blockWidth:0),position:"relative",top:0,left:0}),d.opts.decale&&(s=-(2*d.vals.blockWidth-Math.ceil((d.opts.$container.width()-d.vals.blockWidth)/2))+"px",d.opts.$elts.each(function(){$(this).css("left",s)}),d.vals.$firstClone=d.opts.$elts.first().clone(),d.vals.$secondClone=d.opts.$elts.eq(1).clone(),d.vals.$lastClone=d.opts.$elts.last().find("img").lazyload({skip_invisible:!1}).end().clone().find("img").lazyload({skip_invisible:!1}).end(),d.vals.$penultimateClone=d.opts.$elts.eq(d.opts.$elts.length-2).find("img").lazyload({skip_invisible:!1}).end().clone().find("img").lazyload({skip_invisible:!1}).end(),d.opts.$content.append(d.vals.$firstClone).append(d.vals.$secondClone),d.opts.$content.prepend(d.vals.$lastClone).prepend(d.vals.$penultimateClone)),window.setTimeout(function(){$("img",d.opts.$content).each(function(){$(this).lazyload({container:d.opts.$content})})},d.opts.autoSlideInterval),d.opts.$elts.first().addClass("shown"),d.opts.infini&&(d.vals.$extraAppended=!!d.opts.decale&&d.vals.$lastClone,d.vals.$extraPrepended=!!d.opts.decale&&d.vals.$firstClone),null!==d.opts.$navDotContainer&&d.opts.$navDotContainer.length>=1&&d.opts.$navDotContainer.on("click",d.opts.$navDots,function(t){var n=$(t.target).index();l(n+1)}),r(),d.opts.autoSlideOn&&o(d.opts.autoSlideInterval)},function(){t.prototype.opts={},t.prototype.vals={},t.prototype.init=function(t){return this.vals={currentPage:1,autoSlideIntervalHandler:[]},this.opts=t,this.opts.$container=$(this.opts.$container),this.opts.$content=$(this.opts.$content,this.opts.$container).first(),this.opts.$elts=$(".elt",this.opts.$content),this.opts.$nav=$(this.opts.$nav),this.opts.$navPrev=$(this.opts.$navPrev,this.opts.$nav),this.opts.$navNext=$(this.opts.$navNext,this.opts.$nav),this.opts.$navDots&&(this.opts.$navDotContainer=$(this.opts.$navDotContainer),this.opts.$navDots=$(this.opts.$navDots,this.opts.$navDotContainer)),!(this.opts.$container.length<=0||this.opts.$content.length<=0)&&void n(this)}}()};return function(){return new t}});
/* -- end module lmd/ui/slideshow -- */
/* -- start module lmd/ui/auth/login -- */
define("lmd/ui/auth/login",["jquery","lib/jquery/plugin/jquery.spin","hogan","lmd/core/conf","lmd/core/auth","lmd/ui/lightbox","hoganpower!/templates/module/user/login.html.mu@www"],function($,i,o,e,n,r,s){"use strict";return{initialized:!1,init:function(){if(this.initialized!==!0){this.$box=$(s.render({conf:e})),this.initialized=!0}},open:function(i){var o=this;this.lightbox=new r({width:770,height:288,button:".close-lightbox",wrapper:".lightbox_ext"}),this.init(),this.$box.is(":visible")||(this.lightbox.open(this.$box),this.$box.find("input").on("change",function(){$(this).removeClass("saisie_erreur")}),this.$box.find(".trigger_password_recover").on("click",function(){return o.showRecoverPasswordForm(),!1}),this.$box.find(".form_back").on("click",function(){return o.showMainForm(),!1}),this.$box.find("#login_form").on("submit",$.proxy(this.onSubmitMainForm,this)),this.$box.find("#rmdp_form_form").on("submit",$.proxy(this.onSubmitRecoverPasswordForm,this)),this.$box.find("#loginbox_email").focus(),"undefined"!=typeof i&&"function"==typeof i.loginSuccessCallback&&(this.loginSuccessCallback=i.loginSuccessCallback))},setRedirectUrl:function(i){this.init(),this.$box.find("[name=url]").val(i)},setRedirectUrlAbonne:function(i){this.init(),this.$box.find("[name=url_zop]").val(i)},getRedirectUrl:function(i){return this.init(),this.$box.find("[name=url]").val()},getRedirectUrlAbonne:function(i){return this.init(),this.$box.find("[name=url_zop]").val()},close:function(){this.lightbox.close()},showRecoverPasswordForm:function(){this.$box.find("#fenetre_1").hide(),this.$box.find("#password_recover_box").show()},showMainForm:function(){this.$box.find("#password_recover_box").hide(),this.$box.find("#fenetre_1").show()},showErrorMainForm:function(i,o){this.$box.find(".txt_erreur").hide(),"not-filled"===i?this.$box.find(".login_error_not_filled").css("display","block"):"auth"===i&&this.$box.find(".login_error_auth").css("display","block")},onSubmitMainForm:function(i){var o=this.$box.find("#login_form"),e=o.find("[name=mail]"),r=o.find("[name=passe]"),s=o.find("[name=sauv_login]");return r.val().length>3&&e.val().length>0?(this.$box.find("#login_form").spin(),n.login({login:e.val(),password:r.val(),remember:s.is(":checked")},!0).then($.proxy(this.loginSuccess,this),$.proxy(this.loginFail,this))):(e.addClass("saisie_erreur"),r.addClass("saisie_erreur"),this.showErrorMainForm("not-filled")),!1},loginSuccess:function(i){"function"==typeof this.loginSuccessCallback&&this.loginSuccessCallback.call(this,i);var o=this;n.loadUser(!0).done(function(){var i="url",e=!1;n.user&&"boolean"==typeof n.user.abonne&&n.user.abonne===!0&&(i="url_zop",e=n.user.abonne);var r=o.$box.find("[name="+i+"]").val();""==r&&(r=window.location.href),o.$box.find(".erreur").hide(),o.$box.find("#login_form").unspin(),o.lightbox.close(),window.location.href===r?window.location.reload():window.location.href=r})},loginFail:function(i){this.showErrorMainForm("auth"),this.$box.find("#login_form").unspin()},onSubmitRecoverPasswordForm:function(i){var o="http://"+e.www.location.hostname+"/api/1/user/retrouver_mdp/",n=this.$box.find("#rmdp_form_form"),r=n.find("[name=email]");if(0===r.val().length)return r.addClass("saisie_erreur"),!1;var s="params="+JSON.stringify({mode:"retrouver",email:r.val()});return n.find("[type=submit]").attr("disabled","disabled"),$.ajax({url:o,type:"get",dataType:"jsonp",data:s}).then($.proxy(this.recoverPasswordSuccess,this),$.proxy(this.recoverPasswordFail,this)),!1},recoverPasswordSuccess:function(i){return"object"==typeof i&&"undefined"!=typeof i.exception?this.recoverPasswordFail(i):(this.$box.find("#rmdp_ro_email").html(this.$box.find("#password_recover_box_email").val()),this.$box.find("#password_recover_box .rmdp_confirm").show(),void this.$box.find("#password_recover_box [type=submit]").removeAttr("disabled"))},recoverPasswordFail:function(i){this.$box.find("#password_recover_box .alerte").show(),this.$box.find("#password_recover_box [type=submit]").removeAttr("disabled")}}});
/* -- end module lmd/ui/auth/login -- */
/* -- start module lmd/ui/image/lazy-retina -- */
define("lmd/ui/image/lazy-retina",function(){"use strict";return window.lzld||!function(t,e){function n(){var e="undefined"!=typeof t.devicePixelRatio?t.devicePixelRatio:1;return e>=t.lzld.config.minDevicePixelRatio}function i(t){z(t,b)===-1&&(E&&v(),d(t,b.push(t)-1))}function o(){for(var n,i=e.getElementsByTagName("img"),o=0,r=i.length;o<r;o+=1)n=i[o],n.getAttribute(t.lzld.config.lazyAttr)&&z(n,b)===-1&&b.push(n);m(),setTimeout(w,25)}function r(){p=!0,w(),setTimeout(w,25)}function l(t,e){var n=0;return function(){var i=+new Date;i-n<e||(n=i,t.apply(this,arguments))}}function c(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)}function a(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener(e,n,!1)}function u(n){function i(o){"readystatechange"===o.type&&"complete"!==e.readyState||(a("load"===o.type?t:e,o.type,i),r||(r=!0,n()))}function o(){try{e.documentElement.doScroll("left")}catch(t){return void setTimeout(o,50)}i("poll")}var r=!1,l=!0;if("complete"===e.readyState)n();else{if(e.createEventObject&&e.documentElement.doScroll){try{l=!t.frameElement}catch(t){}l&&o()}c(e,"DOMContentLoaded",i),c(e,"readystatechange",i),c(t,"load",i)}}function d(i,o){if(h(e.documentElement,i)&&i.getBoundingClientRect().top<A+t.lzld.config.offset){i.onload=null,i.removeAttribute("onload"),t.lzld.config.removeOnError&&(i.onerror=null,i.removeAttribute("onerror"));var r=i.getAttribute(t.lzld.config.lazyAttr)?t.lzld.config.lazyAttr:"src",l=i.getAttribute(r);if(t.lzld.config.retina===!0||"auto"===t.lzld.config.retina&&n())i.getAttribute(H)?l=i.getAttribute(H):(i.setAttribute(D,l),"function"==typeof t.lzld.config.hdCallback&&(l=t.lzld.config.hdCallback(i.getAttribute(r))),i.setAttribute(H,l));else if(i.getAttribute(D))l=i.getAttribute(D);else{var c=i.getAttribute(D);c&&(l=c)}return i.setAttribute(t.lzld.config.lazyAttr,l),i.src=i.getAttribute(t.lzld.config.lazyAttr),i.removeAttribute(t.lzld.config.lazyAttr),b[o]=null,!0}return!1}function f(t){var e=t.split("."),n=e.slice(0,e.length-1).join("."),i=e[e.length-1];return n+"@2x."+i}function g(){return e.documentElement.clientHeight>=0?e.documentElement.clientHeight:e.body&&e.body.clientHeight>=0?e.body.clientHeight:t.innerHeight>=0?t.innerHeight:0}function m(){var t,e=b.length,n=!0;for(t=0;t<e;t++){var i=b[t];null===i||d(i,t)||(n=!1)}n&&p&&s()}function s(){E=!0,a(t,"resize",x),a(t,"scroll",w),a(t,"load",r)}function v(){E=!1,c(t,"resize",x),c(t,"scroll",w)}function h(){}function z(t,e,n){var i;if(e){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1}function y(){m()}var A=g(),b=[],p=!1,E=!1,x=l(g,20),w=l(m,20);t.lzld=i,t.lzld.config={retina:"auto",hdCallback:f,lazyAttr:"data-src",minDevicePixelRatio:1.5,offset:200,removeOnError:!0},t.lzld.update=y;var D="data-no-hd-src",H="data-hd-src";t.lzld.isRetinaDevice=n,u(o),c(t,"load",r),v(),h=e.documentElement.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:e.documentElement.contains?function(t,e){return t!==e&&!!t.contains&&t.contains(e)}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1}}(window,document),window.lzld});
/* -- end module lmd/ui/image/lazy-retina -- */
/* -- start module lmd/ui/component -- */
define("lmd/ui/component",function(require){"use strict";var t=require("hogan"),$=require("jquery"),e=(require("lmd/core/conf"),/([\w\_\-\.]*) *([\w\_\-\.\ ]*) */),i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,n={template:null,el:null,$el:null,$:null,events:{},tagName:"<div>",className:"",options:{},data:{},compiledTemplate:null},l=function(t){var n;if(null===this.el&&null===this.$el&&null===this.template)throw"Empty template ["+this.template+"]";this.options=t,this.el=this.el||(this.$el?this.$el[0]:null)||$(this.tagName)[0],this.$el=$(this.el).addClass(this.className),this.$=$.proxy(function(){var t=Array.prototype.slice.call(arguments);return t.push(this.el),$.apply(this,t)},this);for(n in this.events)if(this.events.hasOwnProperty(n)){var l=this.events[n],s=n.match(e),h=s[1],o=s[2],p=o?$(o,this.$el):this.$el;p.on(h,$.proxy(this[l],this))}if(null!==this.template){var r=!1;if("string"==typeof this.template){var a=i.exec(this.template);a&&a[1]&&(r=!0)}r||"object"==typeof this.template&&"function"==typeof this.template.render||(this.template=$(this.template).html()),this.render(this.data)}};return l.prototype.render=function(i){var n;if(null!==this.template&&("string"!=typeof this.template||0!==this.template.length)){"object"==typeof this.template&&"function"==typeof this.template.render&&(this.compiledTemplate=this.template),null===this.compiledTemplate&&(this.compiledTemplate=t.compile(this.template));var l=this.compiledTemplate.render(i);this.$el.html(l);for(n in this.events)if(this.events.hasOwnProperty(n)){var s=this.events[n],h=n.match(e),o=h[1],p=h[2],r=p?$(p,this.$el):this.$el;r!==this.$el&&r.on(o,$.proxy(this[s],this))}}},l.prototype.on=function(t,e,i){var n=i?$.proxy(e,i):e;return this.$el.on(t,n),this},l.prototype.trigger=function(t,e){return this.$el.trigger(t,e),this},l.prototype.attach=function(t){if(!t)throw"Missing content in component.attach(content)";return $(t).append(this.el),this},l.prototype.detach=function(){return this.$el.remove(),this},l.extend=function(t){if("undefined"==typeof t)throw"Missing object to component.extend({})";var e=function(e){var i,s={};for(i in e)e.hasOwnProperty(i)&&"undefined"!=typeof n[i]&&(s[i]=e[i]);if($.extend(this,n,t,s),null===this.el&&null===this.$el&&null===this.template)throw'Missing template o={template:"..."} to component.extend(o)';l.call(this,e),"undefined"!=typeof this.initialize&&this.initialize.apply(this,arguments)};return e.prototype=$.extend({},l.prototype),e},l});
/* -- end module lmd/ui/component -- */
/* -- start module lmd/ui/lightbox -- */
define("lmd/ui/lightbox",["jquery"],function($){"use strict";var e={overlay:".filtre_page",wrapper:".lightbox_ext",button:".js_close_lightbox",loader:".js_loader_lighbox",effectSpeedIn:450,effectSpeedOut:250,overlaySpeedIn:500,overlaySpeedOut:250,zIndex:null,autoCloseLoader:!0,opacity:1,disableClosing:!1},t=function(t){var i=[],s=[];this.isOpened=!1,this.isLoading=!1,this.instance=null,"undefined"!=typeof t?this.instance=$.extend({},e,t):this.instance=$.extend({},e),i=this.instance.wrapper.split("."),this.instance.wrapperClasses=i.join(" "),s=this.instance.overlay.split("."),this.instance.overlayClasses=s.join(" "),this.wrapper=$("<div>").addClass(this.instance.wrapperClasses),this.on=$.proxy(this.wrapper.on,this.wrapper)};return t.prototype={trigger:function(e){this.wrapper.trigger(e)},open:function(e,t){var i,s=$(e),n=this,a="auto",r={trigger:!0};if(r=$.extend(r,t),this.wrapper.html(s),this.isOpened=!0,"undefined"==typeof this.instance.height){$(document.body).append(this.wrapper);var o={display:this.wrapper.css("display"),visibility:this.wrapper.css("visibility"),position:this.wrapper.css("position"),opacity:this.wrapper.css("opacity")};this.wrapper.css({display:"block",visibility:"hidden",position:"absolute",opacity:0}),this.instance.height=this.wrapper.outerHeight(),this.wrapper.css(o),this.wrapper.detach()}else a=this.instance.height;i="undefined"!=typeof this.instance.top?this.instance.top:this.getTop()+"px","undefined"!=typeof this.instance.left&&this.wrapper.css({left:this.instance.left}),this.isLoading&&this.instance.autoCloseLoader&&this.setLoader(!1,this.instance),this.wrapper.css({top:i,height:a,"z-index":this.instance.zIndex||this.getMaxZ()+1}).fadeIn(this.instance.effectSpeedIn),$(document).on("keyup",function(e){27===e.keyCode&&n.close()}),this.wrapper.find(this.instance.button).css({"z-index":this.instance.zIndex||this.getMaxZ()+1}).on("click",function(e){e.preventDefault(),n.close()}),this.setBlackBg(!0,this.instance.opacity,function(){r.trigger&&n.trigger("open")}),r.insertBefore&&0!=$(r.insertBefore).length?this.wrapper.insertBefore(r.insertBefore):$(document.body).append(this.wrapper)},close:function(e,t){if(!this.instance.disableClosing){var i,s=this,n={trigger:!0};(this.isOpened||this.isLoading)&&(n=$.extend(n,e),this.isOpened=!1,this.isLoading&&this.setLoader(!1,this.instance),this.wrapper?(this.wrapper.fadeOut(this.instance.effectSpeedOut,function(){s.wrapper.remove(),i=s.setBlackBg(!1),t&&t()}),n.trigger&&this.trigger("close")):i=s.setBlackBg(!1))}},getTop:function(){return Math.max(0,($(window).height()-this.instance.height)/2)},setBlackBg:function(e,t,i){var s=$(this.instance.overlay);return"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=1),0===s.length&&(s=$("<div>").addClass(this.instance.overlayClasses).css({opacity:0,"z-index":this.instance.zIndex||this.getMaxZ()+1}),$(document.body).append(s)),e?s.animate({opacity:t},this.instance.overlaySpeedIn,"swing",i):(s.animate({opacity:0},this.instance.overlaySpeedOut,i),s.remove()),this.instance.overlayClose&&s.on("click",$.proxy(this.close,this)),s},setLoader:function(e){var t,i;"undefined"==typeof e&&(e=!0),e?(t=this.setBlackBg(!0,.5),i=$("<div>").css({position:"fixed",zIndex:this.getMaxZ()+1,top:(t.height()-40)/2,left:"50%",marginLeft:"-20px"}).addClass("loader "+this.instance.loader.substr(1)),$(document.body).append(i),this.isLoading=!0):this.isLoading&&($(this.instance.loader).remove(),this.isLoading=!1)},getMaxZ:function(){return Math.max.apply(null,$.map($("body > *"),function(e,t){var i=$(e).css("z-index");return"2.14748e+9"===i?2147483647:parseFloat(i)||1}))}},t});
/* -- end module lmd/ui/lightbox -- */
/* -- start module lmd/util/iframe -- */
define("lmd/util/iframe",["jquery","lib/jquery/plugin/jquery.waypoint"],function($){"use strict";var n=function(n,e,t){var o=document.getElementById(e);t=t||{};var i=t.delayed||0;"load"===i?$(window).one("load",function(){o.src=n}):"scroll"===i?$(o).waypoint(function(){this.src=n},{offset:"130%",triggerOnce:!0}):i>0?window.setTimeout(function(){o.src=n},i):o.src=n};return{load:n}});
/* -- end module lmd/util/iframe -- */
/* -- start module lmd/module/retina -- */
define("lmd/module/retina",["lmd/ui/image/lazy-retina"],function(n){"use strict";return n.config.offset=750,n.config.hdCallback=function(n){var o=new RegExp("("+lmd.conf.medias.location.hostname.replace(/s1/,"(s1|s2)")+")/image/(.*)"),a=n.match(o);return a?"http://"+a[1]+"/image2x/"+a[3]:lmd.conf.medias.location.cloudHostname&&lmd.conf.medias.location.cloudUrl?(o=new RegExp("("+lmd.conf.medias.location.cloudHostname+")(/[0-9]+/[0-9]+/[0-9]+/-?[0-9.]+/-?[0-9.]+/-?[0-9.]+/-?[0-9.]+/)([0-9]+)/([0-9]+)(/.*)"),a=n.match(o),a?lmd.conf.medias.location.cloudUrl+a[2]+2*parseInt(a[3])+"/"+2*parseInt(a[4])+a[5]:n):n},n});
/* -- end module lmd/module/retina -- */
/* -- start module lmd/module/alerte -- */
define("lmd/module/alerte",["jquery","lmd/core/conf","lmd/core/storage","lmd/core/context","lmd/ui/component","lmd/core/social/facebook","lmd/core/live","hoganpower!/templates/module/general/alerte.html.mu@www"],function($,e,t,i,n,r,o,l){"use strict";var h=n.extend({template:l,current:null,events:{"click .croix_blanche":"hideAlerte","click .fb13x13_blanc":"onClickFacebook","click .tw13x13_blanc":"onClickTwitter","click .google13x13_blanc":"onClickGoogle","click .linkedin13x13_blanc":"onClickLinkedin"},alertes:{history:{}},initialize:function(){this.hideConteneur();var e=this;$.getJSON("/ws/1/ticker/alerte/").done(function(t){t&&"undefined"!=typeof t.alertes&&t.alertes.forEach(function(t){e.showAlerte(t)})}),this.initLiveListener()},initLiveListener:function(){o.on("alerte",$.proxy(function(e,t){this.showAlerte(t)},this)),"stopped"===o.status&&o.start()},showAlerte:function(e){if("undefined"==typeof this.alertes.history[e.alerte_id]&&!(t.get("inhiber_alerte_"+e.alerte_id)||i&&i.rubrique&&i.rubrique.id&&"3242"!==i.rubrique.id&&"alerte_thematisee_sport"===e.thematique&&e.niveau_envoi<3)){this.current=e,this.alertes.history[e.alerte_id]=!0;var n='<strong class=" txt14_140">'+e.titre+"</strong>";null!==e.texte&&(n+=e.texte),this.$(".heure_alerte").html(e.heure_minute),this.$(".texte_alerte").html(n),this.showConteneur()}},hideAlerte:function(){null!==this.current&&(t.set("inhiber_alerte_"+this.current.alerte_id,"true",36e5),this.hideConteneur(),this.current=null)},showConteneur:function(){this.$el.removeClass("invisible").addClass("visible"),this.$el.show()},hideConteneur:function(){this.$el.hide(),this.$el.removeClass("visible").addClass("invisible")},onClickFacebook:function(){if(null!==this.current&&"undefined"!=typeof this.current.titre){var t="http://"+e.www.location.hostname;r.load().done($.proxy(function(){window.FB.ui({method:"feed",link:t,caption:this.current.titre,description:this.current.texte,redirect_uri:"http://www.lemonde.fr"})},this))}},onClickTwitter:function(){if(null!==this.current&&"undefined"!=typeof this.current.titre){var t="http://"+e.www.location.hostname+"#xtor=AL-32280258",i=this._htmlEntities(this.current.titre),n="http://twitter.com/share?related=lemondefr&via=lemondefr&lang=fr&text="+i+"&url="+t,r={};r.width=550,r.height=280,this._openPopupShare(n,r)}},onClickGoogle:function(){if(null!==this.current&&"undefined"!=typeof this.current.titre){var t="http://"+e.www.location.hostname+"#xtor=AL-32280258",i=(this._htmlEntities(this.current.titre),"https://plus.google.com/share?hl=fr&url="+t),n={};n.width=600,n.height=600,this._openPopupShare(i,n)}},onClickLinkedin:function(){if(null!==this.current&&"undefined"!=typeof this.current.titre){var t="http://"+e.www.location.hostname,i=this._htmlEntities(this.current.titre),n="http://www.linkedin.com/shareArticle?mini=true&url="+t+"&title="+i+"&source=LeMonde.fr",r={};r.width=550,r.height=340,this._openPopupShare(n,r)}},_openPopupShare:function(e,t){var i="width",n="height",r="undefined"!=typeof t.width?t.width:650,o="undefined"!=typeof t.height?t.height:430,l=($(window)[i]()-r)/2,h=($(window)[n]()-o)/2;t="width="+String(r)+",height="+String(o)+",top="+String(h)+",left="+String(l),t+=",location=no,resizable=yes,status=no,titlebar=no,toolbar=no",window.open(encodeURI(e),"alerte_share_popup",t)},_htmlEntities:function(e){return e}});return h});
/* -- end module lmd/module/alerte -- */
/* -- start module lmd/module/encontinu -- */
define("lmd/module/encontinu",function(require){"use strict";var e=require("lmd/ui/component"),$=require("jquery"),t=require("lmd/core/context"),n=require("hoganpower!/templates/module/general/en_continu.html.mu@www"),i=t&&t.pageType===t.PAGE_TYPE_UNE,r=i?null:n,s=e.extend({template:r,speed:10,i:1,initialize:function(){i?this.animate():this.fetch().done($.proxy(function(){this.animate()},this))},fetch:function(){var e=new $.Deferred;return e.promise(this),$.getJSON("/ws/1/ticker/en_continu/").done($.proxy(function(t){if(t&&"undefined"!=typeof t.elements){var n=t.elements.map(function(e,t){return e.premier=0===t,e},this);this.render({service_en_continu:n})}e.resolve()},this)),this},animate:function(){var e=null;return function(t){if(null!==e&&window.clearInterval(e),0!==t)return t=t||this.speed,e=window.setInterval($.proxy(this.cycle,this),1e3*t),this}}(),cycle:function(){var e=this.$(".js_titre"),t=this.i;return e.each(function(n){t%e.length===n?$(this).show():$(this).hide()}),this.i++,this}});return s});
/* -- end module lmd/module/encontinu -- */
/* -- start module lmd/module/lives -- */
define("lmd/module/lives",["lmd/ui/component","jquery","lmd/core/context","lmd/core/storage","lmd/module/live","lmd/core/live","hoganpower!/templates/module/general/lives.html.mu@www","lmd/module/xiti/hit"],function(e,$,t,i,s,n,r,o){"use strict";var u,l=!0,a=328,h=550,d=400,v=150,p=26,c=25,f=function(){var e=$(window).height(),t=a,i=e-v,s=Math.min(i,h);return{width:t,height:s,minHeight:d}},m=f(),g=0;$(".global").length&&(g=$(".global").position().top);var I=e.extend({template:r,className:"lives",events:{"click a.popup":"clickPopup","click .chrome":"clickDeplierReplier","click .live_fermer":"clickFermer"},lives:[],comments:{queue:[],history:{},interval:5e3},ouvrable_par_defaut:!1,popuped:!1,cil_ouvrable:parseInt(m.height,10)>=parseInt(m.minHeight,10),status:null,liveId:null,savedStatus:null,savedLiveId:null,autoloadFromService:!0,initialize:function(e){$.extend(this,e),i.isSupported&&(this.savedStatus=i.get("ticker.live.status"),this.savedLiveId=i.get("ticker.live.liveId")),this.popuped===!1?$(window).scroll($.proxy(this.tryAutoExpand,this)):($.extend(m,{width:parseInt(a,10),height:parseInt(h,10)}),this.$(".chrome a").hide()),this.autoloadFromService&&this.createLivesFromService().done($.proxy(function(){this.initLiveListener()},this))},initLiveListener:function(){var e=this,t=!0;n.on("cil.comment",function(t,i){e.enqueue(i)}),n.on("success.end",function(){t&&(e.dequeueLatest(),e.dequeueAll(),t=!1)}),n.start()},updateStatus:function(e,t,s){if(this.$el.removeClass("desactive moyen grand popuped"),this.$el.addClass(e),this.status=e,this.liveId=t,s){if(i.isSupported){var n=864e5,r=!1;i.set("ticker.live.status",e,n,r),i.set("ticker.live.liveId",t,n,r)}this.savedStatus=e,this.savedLiveId=t}},getLiveById:function(e){var t;for(t=0;t<this.lives.length;++t)if(parseInt(this.lives[t].liveInfos.id,10)===parseInt(e,10))return this.lives[t];return null},getLiveByStatus:function(e){var t;for(t=0;t<this.lives.length;++t)if(this.lives[t].status===e)return this.lives[t];return null},getLiveByAltcastCode:function(e){var t;for(t=0;t<this.lives.length;++t)if(this.lives[t].liveInfos.altcast_code===e)return this.lives[t];return null},tryAutoExpand:function(){if(0!==this.lives.length&&null===this.savedStatus&&this.cil_ouvrable){var e,t="width",i="height",s=parseInt($(window)[t](),10),n=parseInt($(window)[i](),10),r=parseInt($(window).scrollTop(),10),o=parseInt(m.height,10)+this.lives.length*p;s>1640||n+r-o>g&&this.ouvrable_par_defaut?(e=this.getLiveByStatus("moyen"),e&&this.deplier(e)):(e=this.getLiveByStatus("grand"),e&&this.replier(e))}},createLivesFromService:function(){var e=this;return $.getJSON("/ws/1/ticker/live/").done(function(i){var s=t&&t.pageType===t.PAGE_TYPE_UNE,n=t&&t.rubrique&&"string"==typeof t.rubrique.maquette&&t.rubrique.maquette.indexOf("revolutionnaire")!==-1;e.ouvrable_par_defaut=s&&(i.ouvert_par_defaut||n),e.createLives(i.lives)})},createLives:function(e){e.forEach(function(e){var t=new s({liveInfos:e,iframeSize:m,status:"desactive",popuped:this.popuped});this.push(t)},this);var t=null;this.popuped&&("undefined"!=typeof this.options.popupedLiveId&&(t=this.getLiveById(this.options.popupedLiveId)),null===t&&(t=this.lives[0]),this.deplier(t))},push:function(e){var t=this;e.on("deplier",function(){t.updateStatus("grand",e.liveInfos.id,!0),t.deplier(e)}),e.on("participez",function(e){t.clickDeplierReplier(e)}),this.lives.push(e),this.$el.append(e.$el)},clickDeplierReplier:function(e){if(e.preventDefault(),e.stopPropagation(),!this.popuped&&this.cil_ouvrable){var t=this.getLiveByStatus("moyen")||this.getLiveByStatus("grand");null===t&&(t=this.getLiveById(this.savedLiveId)),null===t&&(t=this.lives[0]),"moyen"===t.status?(this.updateStatus("grand",t.liveInfos.id,!0),this.deplier(t,!0)):(this.updateStatus("moyen",t.liveInfos.id,!0),this.replier(t,!0))}},clickFermer:function(e){e.preventDefault(),e.stopPropagation(),o.hit(this,"C",5,"ticker_fermer","A");var t=this.getLiveByStatus("moyen")||this.getLiveByStatus("grand");this.updateStatus("desactive",t.liveInfos.id,!0),this.fermer(t)},clickPopup:function(e){e.preventDefault(),e.stopPropagation(),o.hit(this,"C",5,"ticker_detacher","A");var t=this.getLiveByStatus("moyen")||this.getLiveByStatus("grand");null===t&&(t=this.getLiveById(this.savedLiveId)),null===t&&(t=this.lives[0]),this.updateStatus(t.status,t.liveInfos.id,!0),this.popup(t)},deplier:function(e,t){t&&o.hit(this,"C",5,"ticker_expand_full","A"),this.lives.forEach(function(t){e!==t&&t.petit()}),this.$(".chrome .titre").empty(),this.$(".chrome").show(),this.$(".live_deplier").hide(),this.popuped===!1&&this.$(".live_replier").show(),e.grand(),this.updateStatus("grand",e.liveInfos.id)},replier:function(e,t,i){t&&o.hit(this,"C",5,"ticker_expand","A"),this.lives.forEach(function(e){e.desactiver()}),i!==!0&&(this.dequeueLatest(),this.dequeueAll()),this.$(".chrome .titre").html(e.liveInfos.titre),this.$(".chrome").show(),this.cil_ouvrable?this.$(".live_deplier").show():this.$(".live_deplier").hide(),this.$(".live_replier").hide(),this.$(".live_fermer").show(),e.moyen(),this.updateStatus("moyen",e.liveInfos.id)},checkAds:function(){var e,t,i=10,s=0,n=$(".lives",".conteneur_lives"),r=$(".position_pub.top:first");n.length>0&&r.length>0&&(clearTimeout(u),l||(s=1e3),u=setTimeout(function(){e=$(window).height()-n.height(),t=r.offset().top+r.height()+i,l=!0,e<t&&(l=!1),n.toggle(l)},s))},fermer:function(e){this.lives.forEach(function(e){e.desactiver()}),null!==e&&this.$(".chrome .titre").html(e.liveInfos.titre),this.$(".chrome").show(),this.$(".live_fermer").hide(),this.$(".live_replier").hide(),this.$(".live_deplier").show(),this.updateStatus("desactive",e.liveInfos.id)},popup:function(e){var t=e.status;this.lives.forEach(function(e){e.desactiver()}),this.$(".chrome").hide(),e.desactiver(),this.updateStatus("popuped",e.liveInfos.id);var i=0;i+=parseInt(h,10),i+=this.lives.length*p,i+=c,i+=5;var s=0;s+=parseInt(m.width,10);var n=window.open("/popup/live/"+e.liveInfos.id+"/","Live","resizable=no,scrollbar=no,status=no,toolbar=no,width="+String(s)+",height="+String(i));n.focus();var r=setInterval($.proxy(function(){n.closed&&(clearInterval(r),this.$(".chrome").show(),this.dequeueAll(),"moyen"===t?this.replier(e):"grand"===t?this.deplier(e):e.desactiver())},this),1e3)},enqueue:function(){var e=!0;return function(t){var i=t.altcast_code+":"+t.itemID,s=this.comments.queue.some(function(e){return i===e.altcast_code+":"+e.itemID}),n="undefined"!=typeof this.comments.history[i];s||n||this.comments.queue.push(t),e&&(setTimeout($.proxy(function(){this.dequeue(this.comments.interval)},this),10),e=!1)}}(),dequeue:function(){var e=null;return function(t){if("undefined"==typeof t)throw"missing interval in dequeue(interval)";return 0===t?void(null!==e&&(window.clearInterval(e),e=null)):(this.dequeueFirst(),void(e=window.setInterval($.proxy(this.dequeueFirst,this),t)))}}(),dequeueFirst:function(){var e=this.comments.queue;0!==e.length&&this.displayComment(e.shift())},dequeueAll:function(){for(var e=this.comments.queue;e.length>0;)this.dequeueFirst()},dequeueLatest:function(){var e=this.comments.queue,t=null;0!==e.length&&(e.forEach(function(e){(null===t||parseInt(t.timestamp,10)<parseInt(e.timestamp,10))&&(t=e)}),this.comments.queue=e.filter(function(e){return e!==t}),this.displayComment(t))},displayComment:function(){var e=!0;return function(t){var i=this.comments.history,s=t.altcast_code+":"+t.itemID;if("undefined"==typeof i[s]){i[s]=!0;var n=this.getLiveByAltcastCode(t.altcast_code);if(n&&(n.updateComment(t),"grand"!==this.status&&"popuped"!==this.status&&"desactive"!==this.status)){var r=this.getLiveByStatus("moyen");if(!(null!==r&&parseInt(n.lastComment.timestamp,10)<parseInt(r.lastComment.timestamp,10)))return e?(e=!1,void("desactive"===this.savedStatus?this.fermer(n):"moyen"===this.savedStatus?this.replier(n,!1,!0):"grand"===this.savedStatus&&this.cil_ouvrable?this.getLiveById(this.savedLiveId)?this.deplier(this.getLiveById(this.savedLiveId)):this.deplier(n):(this.replier(n,!1,!0),this.tryAutoExpand()))):void(null===r?this.replier(n,!1,!0):$.when(r.desactiver()).then($.proxy(function(){this.replier(n,!1,!0)},this)))}}}}()});return I});
/* -- end module lmd/module/lives -- */
/* -- start module lmd/module/live -- */
define("lmd/module/live",["jquery","lmd/ui/component","hoganpower!/templates/module/general/live.html.mu@www"],function($,t,i){"use strict";var e=t.extend({template:i,className:"live",events:{"click .bandeau":"onClickBandeau","click .voir":"onClickVoir","click .btn":"onClickParticipez"},status:"moyen",liveInfos:{id:"",altcast_code:"",embed:"",link:"",titre:""},lastComment:{itemID:"",timestamp:0,author_name:"",comment:"",time:"",altcast_code:""},iframeSize:{width:328,height:550},iframeLoaded:!1,initialize:function(t){$.extend(this,t),this.liveInfos.embed='<iframe src="http://www.coveritlive.com/index2.php/option=com_altcaster/task=viewaltcast/altcast_code='+this.liveInfos.altcast_code+"/height="+String(this.iframeSize.height)+"/width="+String(this.iframeSize.width)+'" scrolling="no" height="'+String(this.iframeSize.height)+'px" width="'+String(this.iframeSize.width)+'px" frameBorder="0" allowTransparency="true" style="position:relative;" ></iframe>',this.$(".titre").html(this.liveInfos.titre),this.$(".voir").attr("href",this.liveInfos.link),this.$("a.popup").attr("href",["/popup/live",this.liveInfos.id,String(this.iframeSize.width),String(this.iframeSize.height),""].join("/")),"desactive"===this.status&&this.$el.hide()},repaint:function(){return"desactive"===this.status?void this.$el.removeClass("petit moyen grand"):("grand"===this.status?this.iframeLoaded===!1&&(this.$(".cil").html(this.liveInfos.embed),this.iframeLoaded=!0):"moyen"===this.status&&(this.$(".toast .heure").html(this.lastComment.time),this.$(".toast .details").html(this.lastComment.comment)),this.$el.removeClass("petit moyen grand"),void this.$el.addClass(this.status))},updateComment:function(t){this.lastComment=t,this.repaint()},onClickBandeau:function(){"moyen"!==this.status&&"petit"!==this.status||this.trigger("deplier")},onClickVoir:function(t){this.options.popuped&&(t.preventDefault(),t.stopPropagation(),window.opener?(window.opener.location=this.liveInfos.link,window.close()):window.open(this.liveInfos.link))},onClickParticipez:function(t){t.preventDefault(),t.stopPropagation(),this.trigger("participez")},grand:function(){if("grand"!==this.status)return this.$el.show(),this.status="grand",this.$(".titre").html('<a href="'+this.liveInfos.link+'">'+this.liveInfos.titre+"</a>"),this.$(".voir").attr("href",this.liveInfos.link),this.asyncRepaint(),this},moyen:function(){if("moyen"!==this.status)return this.$el.hide(),this.status="moyen",this.asyncRepaint(this.$el.fadeIn()),this},petit:function(){if("petit"!==this.status)return this.$el.hide(),this.status="petit",this.$(".titre").html(this.liveInfos.titre),this.asyncRepaint(this.$el.fadeIn()),this},desactiver:function(){if("desactive"!==this.status)return this.status="desactive",this.$el.hide(),this.asyncRepaint(),this},asyncRepaint:function(t,i){i=i||[],t=t||[],i=$.isArray(i)?i:[i],t=$.isArray(t)?i:[t];var e=new $.Deferred;e.promise(this),$.when.apply(null,i).then($.proxy(function(){this.repaint(),$.when.apply(null,t).then($.proxy(function(){e.resolve()},this))},this))}});return e});
/* -- end module lmd/module/live -- */
/* -- start module lmd/module/marketing/monster_form -- */
define("lmd/module/marketing/monster_form",["jquery"],function($){"use strict";return function(e,n,t){$("[name='"+e+"']").on("submit",function(e){e.preventDefault();var a="?"+t,o=e.target.getElementsByTagName("input"),u=o.length,i=0,r=e.target.action.split("?")[0];for(i;i<u;i+=1)a=a+"&"+unescape(encodeURIComponent(o[i].name+"="+o[i].value)).replace(/[\?&]/g," ");xt_med("C","35",n,"N"),window.open(r+a)})}});
/* -- end module lmd/module/marketing/monster_form -- */
/* -- module hoganpower!/partials/general/header/nav.html.mu@www not found -- */
/* -- start module hgn/www/templates/module/user/login.html.mu.js@abs -- */
define("hgn/www/templates/module/user/login.html.mu.js@abs",function(){return function(c,p,i){var _=this;_.b(i=i||"");_.b("<div id=\"loginbox\" class=\"loginbox boite_formulaire\">");_.b("\n" + i);_.b("   <div id=\"fenetre_1\">");_.b("\n" + i);_.b("      <h2>Identifiez-vous <a class=\"close-lightbox fermer\" href=\"#\">Fermer <span></span></a></h2>");_.b("\n" + i);_.b("      <span class=\"login_error_not_filled erreur txt_erreur\">Un ou plusieurs champs ne sont pas correctement renseignés.</span>");_.b("\n" + i);_.b("      <span class=\"login_error_auth erreur txt_erreur\">Erreur lors de l'authentification&nbsp;: l'adresse email ou le mot de passe saisis sont incorrects.</span>");_.b("\n" + i);_.b("\n" + i);_.b("      <div class=\"login_form\">");_.b("\n" + i);_.b("         <form id=\"login_form\" name=\"authentification\" method=\"post\" action=\"http://");_.b(_.v(_.d("conf.www.location.hostname",c,p,0)));_.b("/teaser/\">");_.b("\n" + i);_.b("            <input type=\"hidden\" value=\"\" name=\"url_zop\">");_.b("\n" + i);_.b("            <input type=\"hidden\" value=\"\" name=\"url\">");_.b("\n" + i);_.b("            <span class=\"intitule\">Vous avez déjà un<br>compte Le Monde.fr</span>");_.b("\n" + i);_.b("            <p id=\"champ_email\">");_.b("\n" + i);_.b("               <label for=\"loginbox_email\">Adresse e-mail<i> invalide</i></label>");_.b("\n" + i);_.b("               <input type=\"email\" id=\"loginbox_email\" name=\"mail\" class=\"saisie\">");_.b("\n" + i);_.b("            </p>");_.b("\n" + i);_.b("            <p id=\"champ_pwd\">");_.b("\n" + i);_.b("               <label for=\"loginbox_password\">Mot de passe<i> incorrect</i></label>");_.b("\n" + i);_.b("               <input type=\"password\" id=\"loginbox_password\" name=\"passe\" class=\"saisie\">");_.b("\n" + i);_.b("            </p>");_.b("\n" + i);_.b("            <div class=\"submit_line\">");_.b("\n" + i);_.b("               <p class=\"choix\">");_.b("\n" + i);_.b("                  <label for=\"loginbox_save_login\">");_.b("\n" + i);_.b("                  <input type=\"checkbox\" name=\"sauv_login\" id=\"loginbox_save_login\" value=\"1\" checked=\"checked\"> Rester connecté</label>");_.b("\n" + i);_.b("                  <a href=\"http://");_.b(_.v(_.d("conf.www.location.hostname",c,p,0)));_.b("/web/ep/password_retrouver/1,27-0,1-0,0.html\" class=\"trigger_password_recover\">Mot de passe oublié ?</a>");_.b("\n" + i);_.b("               </p>");_.b("\n" + i);_.b("               <p class=\"button_pane\">");_.b("\n" + i);_.b("                  <input class=\"btn_abo\" type=\"submit\" value=\"S'identifier\">");_.b("\n" + i);_.b("               </p>");_.b("\n" + i);_.b("            </div>");_.b("\n" + i);_.b("         </form>");_.b("\n" + i);_.b("      </div>");_.b("\n" + i);_.b("      <div class=\"signup\">");_.b("\n" + i);_.b("         <p>");_.b("\n" + i);_.b("            <span class=\"intitule\">Vous n'avez pas<br>encore de compte ?</span>");_.b("\n" + i);_.b("            <span class=\"accroche\">Créez votre compte et recevez gratuitement les newsletters du Monde.fr</span><br>&rsaquo;");_.b("\n" + i);_.b("            <a href=\"https://");_.b(_.v(_.d("conf.wwwssf.location.hostname",c,p,0)));_.b("/sfuser/register\">Inscrivez-vous</a>");_.b("\n" + i);_.b("         </p>");_.b("\n" + i);_.b("         <span class=\"clear\"></span>");_.b("\n" + i);_.b("      </div>");_.b("\n" + i);_.b("      <div class=\"abonne_journal\">");_.b("\n" + i);_.b("         <span class=\"intitule\">Vous êtes abonné<br>au journal ?</span>");_.b("\n" + i);_.b("         <span class=\"accroche\">Activez votre compte<br>Le Monde.fr pour profiter de<br>l’Édition abonnés incluse dans votre abonnement.</span>");_.b("\n" + i);_.b("         <a href=\"http://");_.b(_.v(_.d("conf.www.location.hostname",c,p,0)));_.b("/web/abopapier/1,27-0,1-0,0.html\" class=\"btn\">Activez votre compte</a>");_.b("\n" + i);_.b("      </div>");_.b("\n" + i);_.b("   </div>");_.b("\n" + i);_.b("   <div id=\"password_recover_box\" class=\"loginbox\" style=\"display: none;\">");_.b("\n" + i);_.b("      <h2>Obtenir un nouveau mot de passe <a class=\"fermer close-lightbox\" href=\"#\">Fermer <span></span></a></h2>");_.b("\n" + i);_.b("      <div>");_.b("\n" + i);_.b("         <p class=\"alerte erreur txt_erreur\" style=\"display: none\">");_.b("\n" + i);_.b("            Cette adresse e-mail n'est pas valide ou ne correspond pas à celle de votre abonnement et / ou de votre");_.b("\n" + i);_.b("            inscription au Monde.fr.<br>N.B. : si votre adresse e-mail est de la forme \"@club.lemonde.fr\", veuillez");_.b("\n" + i);_.b("            <a href=\"http://");_.b(_.v(_.d("conf.www.location.hostname",c,p,0)));_.b("/web/ep/service_clients/1,27-0,1-0,0.html\">contacter notre service clients</a>.");_.b("\n" + i);_.b("         </p>");_.b("\n" + i);_.b("         <div id=\"rmdp_form\" class=\"rmdp\">");_.b("\n" + i);_.b("            <p class=\"accroche\">");_.b("\n" + i);_.b("               Votre mot de passe actuel est sécurisé et ne peut être retrouvé.<br>Pour recevoir un nouveau mot de");_.b("\n" + i);_.b("               passe, veuillez indiquer votre adresse e-mail.");_.b("\n" + i);_.b("            </p>");_.b("\n" + i);_.b("            <form id=\"rmdp_form_form\" method=\"get\">");_.b("\n" + i);_.b("               <p id=\"email_line\">");_.b("\n" + i);_.b("                  <label for=\"password_recover_box_email\">Adresse e-mail<i> invalide</i></label>");_.b("\n" + i);_.b("                  <input type=\"email\" name=\"email\" id=\"password_recover_box_email\" class=\"saisie\">");_.b("\n" + i);_.b("               </p>");_.b("\n" + i);_.b("               <input class=\"btn\" type=\"submit\" value=\"Envoyer\">");_.b("\n" + i);_.b("            </form>");_.b("\n" + i);_.b("         </div>");_.b("\n" + i);_.b("         <p class=\"back\">");_.b("\n" + i);_.b("            <a class=\"form_back fle_gris close\" href=\"#\">Revenir sur l'écran d'authentification</a>");_.b("\n" + i);_.b("         </p>");_.b("\n" + i);_.b("      </div>");_.b("\n" + i);_.b("      <div class=\"rmdp_confirm\" style=\"display: none;\">");_.b("\n" + i);_.b("         <div id=\"rmdp_confirm\">");_.b("\n" + i);_.b("            <p class=\"confirmation\">");_.b("\n" + i);_.b("               Votre nouveau mot de passe a été envoyé à l'adresse suivante : <br>");_.b("\n" + i);_.b("               <span id=\"rmdp_ro_email\"></span>");_.b("\n" + i);_.b("            </p>");_.b("\n" + i);_.b("         </div>");_.b("\n" + i);_.b("         <p class=\"back\">");_.b("\n" + i);_.b("            <a id=\"form_back\" class=\"fle_gris close\" href=\"#\">Revenir sur l'écran d'authentification</a>");_.b("\n" + i);_.b("         </p>");_.b("\n" + i);_.b("      </div>");_.b("\n" + i);_.b("      <span class=\"clear\"></span>");_.b("\n" + i);_.b("   </div>");_.b("\n" + i);_.b("</div>");_.b("\n");return _.fl();;}})
/* -- end module hgn/www/templates/module/user/login.html.mu.js@abs -- */
/* -- start module hgn/www/templates/module/general/alerte.html.mu.js@abs -- */
define("hgn/www/templates/module/general/alerte.html.mu.js@abs",function(){return function(c,p,i){var _=this;_.b(i=i||"");_.b("<p class=\"bandeau\"><span>Alerte</span><span class=\"croix_blanche\">Fermer&nbsp;</span></p>");_.b("\n" + i);_.b("<div class=\"conteneur_bas\">");_.b("\n" + i);_.b("   <p class=\"alerte\">");_.b("\n" + i);_.b("      <span class=\"heure_alerte txt1\"></span>");_.b("\n" + i);_.b("      <span class=\"texte_alerte txt2\">");_.b("\n" + i);_.b("         <strong class=\" txt3\"></strong>");_.b("\n" + i);_.b("      </span>");_.b("\n" + i);_.b("   </p>");_.b("\n" + i);_.b("   <div class=\"sociaux\">");_.b("\n" + i);_.b("      <span class=\"txt1\">Partager</span>");_.b("\n" + i);_.b("      <span class=\"fb13x13_blanc\">facebook</span>");_.b("\n" + i);_.b("      <span class=\"tw13x13_blanc\">twitter</span>");_.b("\n" + i);_.b("      <span class=\"google13x13_blanc\">google+</span>");_.b("\n" + i);_.b("      <span class=\"linkedin13x13_blanc\">linkedin</span>");_.b("\n" + i);_.b("   </div>");_.b("\n" + i);_.b("</div>");_.b("\n" + i);_.b("\n");return _.fl();;}})
/* -- end module hgn/www/templates/module/general/alerte.html.mu.js@abs -- */
/* -- start module hgn/www/templates/module/general/lives.html.mu.js@abs -- */
define("hgn/www/templates/module/general/lives.html.mu.js@abs",function(){return function(c,p,i){var _=this;_.b(i=i||"");_.b("<div class=\"chrome\">");_.b("\n" + i);_.b("   <span class=\"tt_chrome\">live</span>");_.b("\n" + i);_.b("   <span class=\"titre\"></span>");_.b("\n" + i);_.b("   <a href=\"\" class=\"live_fermer\"></a>");_.b("\n" + i);_.b("   <a href=\"\" class=\"popup\" target=\"live\"></a>");_.b("\n" + i);_.b("   <a href=\"\" class=\"live_deplier\"></a>");_.b("\n" + i);_.b("   <a href=\"\" class=\"live_replier\"></a>");_.b("\n" + i);_.b("</div>");return _.fl();;}})
/* -- end module hgn/www/templates/module/general/lives.html.mu.js@abs -- */
/* -- start module hgn/www/templates/module/general/live.html.mu.js@abs -- */
define("hgn/www/templates/module/general/live.html.mu.js@abs",function(){return function(c,p,i){var _=this;_.b(i=i||"");_.b("<div class=\"bandeau\">");_.b("\n" + i);_.b("   <span class=\"titre\"></span><a class=\"voir\"></a>");_.b("\n" + i);_.b("</div>");_.b("\n" + i);_.b("<div class=\"toast\" style=\"overflow:hidden;\">");_.b("\n" + i);_.b("   <p class=\"heure\"></p>");_.b("\n" + i);_.b("   <p class=\"details\">");_.b("\n" + i);_.b("   </p>");_.b("\n" + i);_.b("   <a href=\"#\" class=\"btn\">Participez au live</a>");_.b("\n" + i);_.b("</div>");_.b("\n" + i);_.b("<div class=\"cil\">");_.b("\n" + i);_.b("</div>");return _.fl();;}})
/* -- end module hgn/www/templates/module/general/live.html.mu.js@abs -- */
/* -- start module hgn/www/templates/module/general/en_continu.html.mu.js@abs -- */
define("hgn/www/templates/module/general/en_continu.html.mu.js@abs",function(){return function(c,p,i){var _=this;_.b(i=i||"");_.b("<a href=\"/actualite-en-continu\" class=\"tetiere\">En Continu</a>");_.b("\n" + i);_.b("\n" + i);if(_.s(_.f("service_en_continu",c,p,1),c,p,0,231,373,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("   <a class=\"js_titre\" href=\"");_.b(_.v(_.f("link",c,p,0)));_.b("\"");if(!_.s(_.f("premier",c,p,1),c,p,1,0,0,"")){_.b(" style=\"display:none\"");};_.b("><span class=\"heure\">");_.b(_.v(_.f("heure_minute",c,p,0)));_.b("</span>");_.b(_.v(_.f("titre",c,p,0)));_.b("</a>");_.b("\n");});c.pop();}return _.fl();;}})
/* -- end module hgn/www/templates/module/general/en_continu.html.mu.js@abs -- */
/* -- start module lmd/ui/pagination -- */
define("lmd/ui/pagination",["jquery"],function($){"use strict";function e(e){function n(e){e.siblings("[data-jsid="+i.pageSelector+"]").hide().removeClass(a).end().show().addClass(a)}var i=$.extend(t,e),a="current",o="."+a;if("string"==typeof i.blockSelector){var d,r,c,l=$("[data-jsid="+i.blockSelector+"]");l.each(function(){var e=$(this);"undefined"==typeof e.data("pagination-inited")&&(d=e.find("[data-jsid="+i.prevSelector+"]"),r=e.find("[data-jsid="+i.nextSelector+"]"),c=e.find("[data-jsid="+i.pagerSelector+"]"),d.on("click",function(){n(e.find(o).prev("[data-jsid="+i.pageSelector+"]")),c.text(e.find(o).index()+1)}),r.on("click",function(){n(e.find(o).next("[data-jsid="+i.pageSelector+"]")),c.text(e.find(o).index()+1)}),n(e.find("[data-jsid="+i.pageSelector+"]").eq(0)),e.data("pagination-inited",!0))})}else console&&console.warn("You must specify the blockSelector property for the pagination module.")}var t={pageSelector:"page",pagerSelector:"current_page",nextSelector:"next",prevSelector:"prev"};return{init:e}});
/* -- end module lmd/ui/pagination -- */
/* -- start module lmd/module/encontinu/refresh -- */
define("lmd/module/encontinu/refresh",function(require){"use strict";var $=require("jquery"),t=require("lmd/module/encontinu/storage"),i=require("lmd/core/live"),e=!1,n="div[data-jsid=pave_edito_en_continu]",a=16,r={init:function(){e||(t.init(a),this.initDom(),this.initLive(),e=!0)},initLive:function(){i.on("encontinu",$.proxy(function(i,e){t.hasElement(e.id)||(t.addElements(e,!0),this.add(this.getLiFromData(e),!0))},this)),"stopped"===i.status&&i.start(15)},initDom:function(){var i=this,e=t.getSortElements(),r=[],d=[],o=[],s={},u=$(n).first().find("ul li:lt("+a+")");u.each(function(e,n){s=i.getDataFromLi($(n)),t.hasElement(s.id)||d.push(s),r.push(s.id)}),$.each(e,function(t,i){return $.inArray(i.id,r)===-1&&void o.push(i)}),$.each(o.reverse(),function(t,e){i.add(i.getLiFromData(e))}),d.length&&t.addElements(d,!0)},getDataFromLi:function(t){var i=t.find("a").attr("href"),e=t.find("span").text(),n=i?i.match(/\/([0-9]{4})\/([0-9]{2})\/([0-9]{2})/):void 0,a={};return n&&(n.shift(),n.splice(3),a=n.join("-")+"T"+e+":00+02:00"),{id:t.data("item-id"),titre_court:t.find(".texte").text(),link:i,date_publication:a}},getLiFromData:function(t){var i=$(n).first().find("ul").first().find("li").last().clone(),e=new Date(t.date_publication),a=e.getHours(),r=e.getMinutes();if(isNaN(a)||isNaN(r))return!1;var d=(a>=10?a:"0"+a)+":"+(r>=10?r:"0"+r),o=document.createElement("DIV");o.innerHTML=t.titre_court;var s=o.textContent||o.innerText||"";return!!s&&(i.attr("data-item-id",t.id).find(".heure").text(d),i.find("a").attr("href",t.link).text(s),i)},add:function(t,i){var e=$(n),a={},r=!0;i=i||!1,t!==!1&&e.find("ul").each(function(){r?(i?(t.hide(),e.find("ul").first().prepend(t),t.slideDown(500)):e.find("ul").first().prepend(t),r=!1):$(this).prepend(a),a=$(this).find("li").last().clone(),$(this).find("li").last().remove()})}};return r});
/* -- end module lmd/module/encontinu/refresh -- */
/* -- start module lmd/module/encontinu/storage -- */
define("lmd/module/encontinu/storage",["jquery","lmd/core/storage"],function($,t){"use strict";var e="encontinu",n=24,i={},r=[],o={init:function(t){var e=this;n=t,i=this.getElementsFromStorage(),$.each(i,function(t,n){r.push(n),r.sort(e.sortOnTimestamp)})},getSortElements:function(){return r.slice(0)},addElements:function(t,e){var n=this;e=e||!1,$.isArray(t)||(t=[t]),$.each(t,function(t,e){n.hasElement(e.id)||(i[e.id]=e,r.push(e),r.sort(this.sortOnTimestamp))}),t.length&&e&&n.updateStorage()},hasElement:function(t){return void 0!==i[t]},sortOnTimestamp:function(t,e){var n=new Date(t.date_publication),i=new Date(e.date_publication),r=n.getTime(),o=i.getTime();return o-r},getElementsFromStorage:function(){return t.get(e,!0)||{}},updateStorage:function(){var i={};r.length>n&&r.splice(0,r.length-n),$.each(r,function(t,e){i[e.id]=e}),t.set(e,i,12e5,!0)}};return o});
/* -- end module lmd/module/encontinu/storage -- */