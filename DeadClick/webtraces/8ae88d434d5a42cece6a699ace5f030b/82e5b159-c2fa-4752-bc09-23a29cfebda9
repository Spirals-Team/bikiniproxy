googletag.impl.pubads.callbackProxy1({"/6582/tmg.telegraph.travel/travel.news":{"_type_":"html","_expandable_":true,"_afc_expandable_":false,"_html_":"\x3cscript type\x3d\x22text/javascript\x22\x3e\n  //////////////////////////////////////////////////////////////\n  // FUNCTIONS\n  // performance POLYFILL\n  // using the performance polyfill from hgere: https://gist.github.com/RubaXa/8662836\n  (function(e){var b\x3dDate.now?Date.now():+(new Date),g\x3de.performance||{},f\x3d[],a\x3d{},d\x3dfunction(k,l){var j\x3d0,m\x3df.length,h\x3d[];for(;j\x3cm;j++){if(f[j][k]\x3d\x3dl){h.push(f[j])}}return h},c\x3dfunction(k,h){var j\x3df.length,l;while(j--){l\x3df[j];if(l.entryType\x3d\x3dk\x26\x26(h\x3d\x3d\x3dvoid 0||l.name\x3d\x3dh)){f.splice(j,1)}}};if(!g.now){g.now\x3dg.webkitNow||g.mozNow||g.msNow||function(){return(Date.now?Date.now():+(new Date))-b}}if(!g.mark){g.mark\x3dg.webkitMark||function(h){var i\x3d{name:h,entryType:\x22mark\x22,startTime:g.now(),duration:0};f.push(i);a[h]\x3di}}if(!g.measure){g.measure\x3dg.webkitMeasure||function(h,j,i){j\x3da[j].startTime;i\x3da[i].startTime;f.push({name:h,entryType:\x22measure\x22,startTime:j,duration:i-j})}}if(!g.getEntriesByType){g.getEntriesByType\x3dg.webkitGetEntriesByType||function(h){return d(\x22entryType\x22,h)}}if(!g.getEntriesByName){g.getEntriesByName\x3dg.webkitGetEntriesByName||function(h){return d(\x22name\x22,h)}}if(!g.clearMarks){g.clearMarks\x3dg.webkitClearMarks||function(h){c(\x22mark\x22,h)}}if(!g.clearMeasures){g.clearMeasures\x3dg.webkitClearMeasures||function(h){c(\x22measure\x22,h)}}e.performance\x3dg;if(typeof define\x3d\x3d\x3d\x22function\x22\x26\x26(define.amd||define.ajs)){define(\x22performance\x22,[],function(){return g})}})(window);\n  // Our defined funcs\n  var tmgAdsTimer \x3d function(){\n    // we now have the performance poilyfill in place so can sue this across the board\n    return Number((performance.now()/1000).toFixed(5));\n  };\n  // TIMER TO FLAG START OF IFRAME\n  var tsInit \x3d tmgAdsTimer();\n  //////////////////////////////////////////////////////////////\n  // CONFIG\n  var dfpad \x3d {\n    about       : {\n      version     : \x274.3.1-no-IAS\x27,\n      date        : \x272017-02-27\x27,\n      name        : \x27CreativeWrapper\x27\n    },\n    debug       : false,  // checks to see if the adconsole is turned on\n    scope       : false, // true \x3d we can access the parent.tmgAds object\n    domain      : \x27telegraph.co.uk\x27,\n    refdom      : \x27www.telegraph.co.uk\x27,\n    url         : location.protocol+\x27//\x27+location.host+location.pathname,\n    geodata     : \x27ct\x3dFR\x26st\x3d\x26city\x3d5410\x26dma\x3d0\x26zp\x3d59650\x26bw\x3d4\x27,\n    geo         : {\n      data        : \x27ct\x3dFR\x26st\x3d\x26city\x3d5410\x26dma\x3d0\x26zp\x3d59650\x26bw\x3d4\x27,\n      keypairs    : \x27ct\x3dFR\x26st\x3d\x26city\x3d5410\x26dma\x3d0\x26zp\x3d59650\x26bw\x3d4\x27.split(\x27\x26\x27),\n      keys        : {}\n    },\n    log         : [],\n    dfp         : {\n      adv         : \x27224895894\x27,\n      aid         : \x274571722304\x27,\n      buy         : \x27416774214\x27,\n      cid         : \x27138224729782\x27,\n      pid         : \x271460410734\x27,\n      rid         : \x27138224729782\x27,\n      sid         : \x275304054\x27,\n      rand        : \x271323375208\x27,\n      cms         : \x27aem\x27,\n      pos         : \x272\x27,\n      at          : \x27nat\x27,\n      sc          : \x27travel-news\x27,\n      pt          : \x27story\x27,\n      pg          : \x27AlZKtDmjV7Mz\x27,\n      vp          : \x27l\x27,\n      adcount     : \x271\x27,\n      sticky      : \x271\x27,\n      szw         : \x271\x27,\n      szh         : \x271\x27,\n      sz          : \x271x1\x27,\n      zone        : \x27travel-news\x27.replace(/\\//g,\x27.\x27).replace(/-/g,\x27.\x27).replace(/_/g,\x27\x27).replace(/ /g,\x27\x27),\n      div         : \x27advert_tmg_nat_story_top\x27,\n      iframe      : window.name,\n      contdiv     : window.name+\x27__container__\x27, //dfp container div for this ad\n      geo         : {\x27ct\x27:null,\x27st\x27:null,\x27city\x27:null,\x27dma\x27:null,\x27zp\x27:null,\x27bw\x27:null}\n    },\n    matched     : {\n      geo         : false,\n      size        : false\n    },\n    target      : {\n      countries   : [\x27UK\x27,\x27GB\x27,\x27IE\x27],\n      sizes       : [\x27468x60\x27,\x27728x90\x27,\x27940x250\x27,\x27970x90\x27,\x27970x250\x27,\x27300x250\x27,\x27300x600\x27,\x27120x600\x27,\x27160x600\x27,\x27300x50\x27,\x27320x50\x27,\x27320x100\x27]\n    },\n    performance : {\n      tsPageStart        : tsInit,\n      tsPageEnd          : 0,\n      tmPageLoadTime     : 0,\n      tsPageOnload       : 0,\n      tsHeadStart        : tmgAdsTimer(),\n      tsHeadEnd          : 0,\n      tmHeadLoadTime     : 0,\n      tsCreativeStart    : 0,\n      tsCreativeEnd      : 0,\n      tmCreativeLoadTime : 0\n    },\n    // we acces some values of dfpad in this section hence why it\x27s outside the nroaml init of the dfpad obj\n    tags        : [\n      {active:  true, name: \x27moat\x27,     tag:\x27https://z.moatads.com/telegraphdfp799172313855/moatad.js#moatClientLevel1\x3d224895894\x26moatClientLevel2\x3d416774214\x26moatClientLevel3\x3d4571722304\x26moatClientLevel4\x3d138224729782\x26moatClientSlicer1\x3d5304054\x26moatClientSlicer2\x3d1460410734\x26zMoatPS\x3dnat\x26zMoatSZ\x3d1x1\x26zMoatPT\x3dstory\x26zMoatVP\x3dl\x26zMoatOP\x3d\x26zMoatST\x3d\x27+\x27travel-news\x27.replace(/\\//g,\x27.\x27).replace(/-/g,\x27.\x27).replace(/_/g,\x27\x27).replace(/ /g,\x27\x27)},\n      {active: false, name: \x27integral\x27, tag:\x27https://pixel.adsafeprotected.com/jload?anId\x3d8747\x26campId\x3d1x1\x26pubId\x3d224895894\x26chanId\x3d1460410734\x26placementId\x3d4571722304\x26pubCreative\x3d138224729782\x26pubOrder\x3d416774214\x26custom\x3dstory\x26custom2\x3d2\x26custom3\x3dl\x27},\n      {active: false, name: \x27meetrics\x27, tag:\x27https://s368.meetrics.net/bb-mx/prime/mtrcs_639782.js?pjid\x3d639782\x26site\x3d5304054\x26place\x3d1460410734\x26cpid\x3d416774214\x26cid\x3d138224729782\x26adc\x3dstory\x26size\x3d1x1\x27},\n      {active: false, name: \x27comscore\x27, tag:\x27http://b.voicefive.com/c2/19915570/rs.js#c1\x3d3\x26amp;c3\x3d19915570_vme\x26amp;c4\x3d1x1\x26amp;c5\x3d5304054_1460410734\x26amp;c6\x3d\x26amp;c10\x3d1\x26amp;c11\x3d5304054\x26amp;c12\x3d\x26amp;c13\x3d1x1\x26amp;c16\x3dvmedfp\x26amp;\x27}\n    ]\n  };\n  // FUNCTIONS onLoad functionality and block certain methods\n  // logging func\n  var logit \x3d function(msg){\n    if(dfpad.debug){\n     var timestamp \x3d (\x2700\x27+tmgAdsTimer().toFixed(5)).slice(-8); // NB this turns the timestamp into a string... original val is number\n      msg \x3d \x27[\x27+dfpad.about.name+\x27-\x27+dfpad.about.version+\x27][\x27+dfpad.dfp.cid+\x27][\x27+timestamp+\x27][\x27+dfpad.dfp.div+\x27]: \x27+msg;\n      dfpad.log.push(msg); // push this to the log in case we need to assess later.\n      console.log(msg);\n    }\n  };\n  // do this after page loads\n  var tmgAdsOnLoad \x3d function(){\n    // we now want to add various viewability tags/systems to this ad, this section will check to see if we can and then add those that are flagged for inclusion.\n    // v4.0.1:\n    logit(\x27INFO: Page onLoad/DOM-Ready\x27);\n    dfpad.performance.tsPageOnload       \x3d tmgAdsTimer(); \n    logit(\x27INFO: AdSlot Footer Start\x27);\n    dfpad.performance.tmCreativeLoadTime \x3d Number((dfpad.performance.tsPageOnload - dfpad.performance.tsCreativeStart).toFixed(5));\n    dfpad.performance.tmPageLoadTime     \x3d Number((dfpad.performance.tsPageOnload - dfpad.performance.tsPageStart).toFixed(5));\n    //log this out\n    for(i in dfpad.performance){\n      if(typeof dfpad.performance[i] \x3d\x3d \x27number\x27){\n        logit(\x27AdSlot Performance -\x3e \x27+(i+\x22                   \x22).slice(0,20)+\x27: \x27+dfpad.performance[i].toFixed(5));\n      }\n    }\n    // add this to the parent.tmgAds obj to record in page\n    if(dfpad.scope){\n      if(typeof tmgAds !\x3d \x27undefined\x27){\n        if(tmgAds.ads.hasOwnProperty(dfpad.dfp.pos)){\n          tmgAds.ads[dfpad.dfp.pos].dfpad \x3d dfpad;\n          logit(\x27INFO: Adding [dfpad.performance] ad object to the parent.tmgAds for ease of analysis\x27);\n          //make sure we\x27ve got an obj to propagate\n          tmgAds.performance.ads                                   \x3d tmgAds.performance.ads || {};\n          tmgAds.performance.ads[dfpad.dfp.at]                     \x3d tmgAds.performance.ads[dfpad.dfp.at] || {};\n          for(i in dfpad.performance){\n            tmgAds.performance.ads[dfpad.dfp.at][i] \x3d dfpad.performance[i];\n          }\n          logit(\x27INFO: Adding perfomance data [dfpad.performance] to parent.tmgAds.performance.ads[adtype]\x27);\n        } else {\n          logit(\x27WARNING: parent.tmgAds.ads[\x27+dfpad.dfp.pos+\x27] does not exist\x27);\n        }\n      } else {\n        logit(\x27WARNING: tmgAds is undefined\x27);\n      }\n    } else {\n      logit(\x27WARNING: dfpad.scope\x3d\x27+dfpad.scope);\n    }\n\n\n    // Now load any viewability metrics/tags\n    tmgAdsLoadTags();\n  };\n  // do this after page loads\n  var tmgAdsLoadTags \x3d function(){\n    logit(\x27INFO: Running tmgAdsPageLoad() - Loads viewability/analytics metrics.\x27);\n    dfpad.performance.tsTagsLoadStart  \x3d tmgAdsTimer(); \n    load \x3d function(dfpad){\n      dfpad.tags[i].tsOnload    \x3d tmgAdsTimer();\n      dfpad.tags[i].tmLoadTime  \x3d Number((dfpad.tags[i].tsOnload - dfpad.tags[i].tsStart).toFixed(5));\n      // now add this data to the tmgAds.performance. obj\n      tmgAds.performance.ads[dfpad.dfp.at][dfpad.tags[i].name] \x3d dfpad.tags[i];\n    };\n    if(dfpad.dfp.cms\x3d\x3d\x27aem\x27 || dfpad.dfp.cms\x3d\x3d\x27escenic\x27 || dfpad.dfp.cms\x3d\x3d\x27gamp\x27 || dfpad.dfp.cms\x3d\x3d\x27fbia\x27){\n      if(dfpad.matched.geo \x26\x26 dfpad.matched.size){ // make sure this geo and size need monitoring\n        for(i in dfpad.tags){ // itterate through list of tags\n          if(dfpad.tags[i].hasOwnProperty(\x27active\x27) \x26\x26 dfpad.tags[i].active){\n              // Create the script to insert this script.tag then append to body\n            dfpad.tags[i].tsStart       \x3d tmgAdsTimer();\n            dfpad.tags[i].script        \x3d document.createElement(\x27script\x27);\n            dfpad.tags[i].script.src    \x3d dfpad.tags[i].tag;\n            dfpad.tags[i].script.onload \x3d load(dfpad);\n            document.getElementsByTagName(\x27body\x27)[0].appendChild(dfpad.tags[i].script);\n            logit(\x27INFO: Viewability: Active [\x27+dfpad.tags[i].name+\x27]: \x27+dfpad.tags[i].tag);\n          } else {\n            logit(\x27INFO: Viewability: Inactive [\x27+dfpad.tags[i].name+\x27]:\x27);\n          }\n        }\n      } else {\n        logit(\x27Geo and/or Size not matched: geo\x3d\x27+dfpad.matched.geo+\x27  size\x3d\x27+dfpad.matched.size);\n      }\n    }\n    dfpad.performance.tsTagsLoadEnd  \x3d tmgAdsTimer();\n    dfpad.performance.tmTagsLoadTime \x3d Number((dfpad.performance.tsTagsLoadEnd - dfpad.performance.tsTagsLoadStart).toFixed(5));\n  };\n  var tmgAdsSetEventhandlers \x3d function(){\n    if(dfpad.cms !\x3d \x27fbia\x27 \x26\x26 dfpad.cms !\x3d \x27amp\x27){\n      if(typeof tmgAds !\x3d \x27undefined\x27){\n        if(typeof tmgAds.dfp.geo !\x3d \x27undefined\x27){\n          tmgAds.dfp.geo \x3d dfpad.dfp.geo;\n          logit(\x27SUCCESS: Setting the parent.dfp.geo with geo-data\x27);\n        }\n        // CREATE SOME EVENTS TO PICK UP ON INTERACTION AND HALT COUNTDOWN\n        if(tmgAds.config.deliveryModel.model \x3d\x3d \x27mpu\x27 || tmgAds.config.deliveryModel.model \x3d\x3d \x27ban\x27){  \n          logit(\x27SUCCESS: page ad model is sticky - tmgAds.config.deliveryModel.model \x3d \x27+tmgAds.config.deliveryModel.model);\n          logit(\x27CREATE-EVENT: [\x27+dfpad.dfp.div+\x27] mouseover\x27);\n          parent.document.getElementById(dfpad.dfp.div).addEventListener(\x27mouseover\x27,  function(){\n            tmgAds.config.viewportstatus \x3d false;\n            logit(\x27EVENT: UserInteraction: mouseover - pause countdown -\x3e current status of tmgAds.config.viewportstatus \x3d \x27+tmgAds.config.viewportstatus);\n          }, false);\n          logit(\x27CREATE-EVENT: [\x27+dfpad.dfp.div+\x27] click\x27);\n          parent.document.getElementById(dfpad.dfp.div).addEventListener(\x27click\x27,  function(){\n            tmgAds.config.viewportstatus \x3d false;\n            logit(\x27EVENT: UserInteraction: click - pause countdown -\x3e current status of tmgAds.config.viewportstatus \x3d \x27+tmgAds.config.viewportstatus);\n          }, false);\n          logit(\x27CREATE-EVENT: [\x27+dfpad.dfp.div+\x27] mouseout \x27);\n          parent.document.getElementById(dfpad.dfp.div).addEventListener(\x27mouseout\x27,  function(){\n            tmgAds.config.viewportstatus \x3d true;\n            logit(\x27EVENT: UserInteraction: mouseout - restart countdown -\x3e current status of tmgAds.config.viewportstatus \x3d \x27+tmgAds.config.viewportstatus);\n          }, false);\n        } else {\n          logit(\x27WARNING: page ad model is NOT sticky - tmgAds.config.deliveryModel.model \x3d\x27+tmgAds.config.deliveryModel.model);\n        }\n      } else {\n        logit(\x27WARNING: parent.tmgAds is not available - dfpad.scope \x3d false\x27);\n      } \n    } else {\n      logit(\x27WARNING: CMS is FBIA or AMP so unable to set eventhandlers in parent\x27);\n    } \n  };\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  // MAIN LOGIC -  CHECK TO SEE IF WE NED TO LOG THIS OUT\n  logit(\x27INFO: AdSlot Header Start:\x27);\n  if(document.addEventListener) {\n    document.addEventListener(\x22DOMContentLoaded\x22, tmgAdsOnLoad, false);\n  } else {\n    window.onload    \x3d function(){tmgAdsOnLoad();};\n  }\n  // rewrite some often used methods of bad ads.\n  window.alert       \x3d function(){logit(\x22DANGER: window.alert attempted to be used\x22);};\n  window.confirm     \x3d function(){logit(\x22DANGER: window.confirm attempted to be used\x22);};\n  // temporary stopgap, fix this later, fo the geo data\n  for(var i in dfpad.geo.keypairs){\n    var kvp \x3d dfpad.geo.keypairs[i];\n    if(kvp.length \x3e 0){\n      var data \x3d kvp.split(\x27\x3d\x27);\n      dfpad.dfp.geo[data[0]]  \x3d data[1];  // allows us to keep details in the ad and store this in the parent tmgAds obj\n      dfpad.geo.keys[data[0]] \x3d data[1];\n    }\n  }\n  // MAIN LOGIC - do this on non gamp/aem/fbia/escenic only\n  // set document.domain - do this on GAMP/FBIA pages\n  if(dfpad.dfp.cms\x3d\x3d\x27gamp\x27 || dfpad.dfp.cms\x3d\x3d\x27fbia\x27){\n    logit(\x27WARNING: Page is NOT AEM or Escenic ie; its a Google AMP or Facebook IA page -\x3e NOT setting the document.domain as this is outside of the telegraph.co.uk namespace\x27);\n  } else {\n    // get local refernce to the window.tmgAds obj\n    if(typeof parent.tmgAds !\x3d \x27undefined\x27){\n      tmgAds \x3d parent.tmgAds;\n      dfpad.scope \x3d true;\n      logit(\x27SUCCESS: parent.tmgAds is available --\x3e tmgAds\x3dparent.tmgAds, dfpad.scope\x3dtrue\x27);\n      if(tmgAds.plugins){\n        if(tmgAds.plugins.adconsole){\n          dfpad.debug \x3d tmgAds.plugins.adconsole;\n          logit(\x27SUCCESS: Setting dfpad.debug\x3d\x27+tmgAds.plugins.adconsole+\x27 as the user has set the adconsole flag\x27);\n        }\n      } else {\n        logit(\x27WARNING: AdSlot Start - parent.tmgAds.plugins is NOT set\x27);\n      }\n      // get local refernce to the window.tmgAds obj\n      if(dfpad.scope \x26\x26 typeof parent.googletag !\x3d \x27undefined\x27){\n        googletag \x3d parent.googletag;\n        logit(\x27SUCCESS: parent.googletag is available --\x3e googletag\x3dparent.googletag\x27);\n      } else {\n        logit(\x27WARNING: parent.googletag NOT available\x27);\n      } \n    } else {\n      logit(\x27WARNING: parent.tmgAds NOT available\x27);\n    }\n  }\n  // check to see if we have access to the page\x27s main tmgAds object so we can inject details about this ad into the global page/scope.\n  tmgAdsSetEventhandlers();\n  // now get check if geo and size are among those we need to monitor and flag accordingly (used later for loadingh MOAT etc).\n  for(var i in dfpad.target.countries){\n    if(dfpad.target.countries[i] \x3d\x3d dfpad.dfp.geo.ct){\n      logit(\x27SUCCESS: GeoIP matched: \x27+dfpad.target.countries[i]);\n      dfpad.matched.geo \x3d true;\n      }\n    }\n    for(var i in dfpad.target.sizes){\n      if(dfpad.target.sizes[i] \x3d\x3d dfpad.dfp.sz){\n        logit(\x27SUCCESS: Size matched: \x27+dfpad.target.sizes[i]);\n      dfpad.matched.size \x3d true;\n    }  \n  }\n  //\n  logit(\x27INFO: AdSlot Header End:\x27);\n  dfpad.performance.tsHeadEnd       \x3d tmgAdsTimer();\n  dfpad.performance.tmHeadLoadTime  \x3d Number((dfpad.performance.tsHeadEnd - dfpad.performance.tsHeadStart).toFixed(5));\n  dfpad.performance.tsCreativeStart \x3d tmgAdsTimer();\n\x3c/script\x3e\n\x3cscript\x3evar viewReq \x3d new Array();function vu(u) {var i\x3dnew Image();i.src\x3du.replace(\x22\x26amp;\x22,\x22\x26\x22);viewReq.push(i);}\x3c/script\x3e\x3cscript\x3evu(\x22https://securepubads.g.doubleclick.net/pcs/view?xai\\x3dAKAOjstCXB8hqli_hpm35EZbC5Rg8KZubgUAs9vje2BTvDhU7aaBV-S965RBQ-LDK_L9ID21XuGboKKlbBWMMCS1XPyvswvz8gF4Wajn4vcaw7tsG3bagkzLve01rkXn10J9wTjjPOlqmQNc90UDHyk-pIYanFCtPXy6f0ACCcD4MfIv_m9n7qSaeV8TZ5PPIn2cWqYbHcB0t-KZBeWwk9avreVNzu5Xj4iD6Qhfa6HguNiXo_FsR0YTIgm5iwEnuNGFpn8_Z8mHgmFwbkzhZ8DfkvFU2A\\x26sig\\x3dCg0ArKJSzG-B2TpdnHmbEAE\\x26urlfix\\x3d1\\x26adurl\\x3d\x22)\x3c/script\x3e\x3cscript src\x3d\x22//ib.3lift.com/ttj?inv_code\x3dTelegraph_article_top_non-news\x22\x3e\x3c/script\x3e\n\x3cscript src\x3d\x22https://tpc.googlesyndication.com/pagead/js/r20180212/r20110914/activeview/osd_listener.js\x22\x3e\x3c/script\x3e\x3cscript type\x3d\x22text/javascript\x22\x3eosdlfm(-1,\x27\x27,\x27BNO1iNdOFWvufMsb5bKD2kegGAAAAABABOAHIAQnAAgLgAgDgBAGgBhbSCAUIgGEQAQ\x27,\x27\x27,3451641294,true,\x27ud\\x3d1\\x26la\\x3d0\\x26alp\\x3dxai\\x26alh\\x3d228585790\\x26\x27,3,\x27CAASEuRou4STk0EzhM4GiUBpayXqsQ\x27,\x27https://pagead2.googlesyndication.com/pcs/activeview?xai\\x3dAKAOjstNS_NYEJgMUq5GneI3X9t6raRNjJLAJ1MGd24sFUk1zBFhytpnP92RDi2lyCdc_BK4_45LzyY2930aCii7W0m0eGrve25o60Y\\x26sig\\x3dCg0ArKJSzEgufZoh3G6bEAE\x27);\x3c/script\x3e\x3cscript\x3eif (window.top \x26\x26 window.top.postMessage) {window.top.postMessage(\x27{\x22googMsgType\x22:\x22adpnt\x22}\x27,\x27*\x27);}\x3c/script\x3e\x3c!--// none //--\x3e","_snippet_":true,"_height_":1,"_width_":1,"_empty_":false,"_is_afc_":false,"_creative_ids_":[138224729782],"_adgroup2_ids_":[4571722304],"_advertiser_ids_":[224895894],"_campaign_ids_":[416774214],"_label_ids_":[],"_yield_group_ids_":[],"_company_ids_":[],"_is_psa_":false,"_is_3pas_":true,"_pstok_":"","_qqid_":"CLuOwJDIqNkCFcY8GwodIHsEbQ"}});