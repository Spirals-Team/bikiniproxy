var cnnmBanner={bannerElem:document.querySelector(".js-banner"),bodyElem:document.querySelector("body"),navElem:document.querySelector(".js-nav"),yScroll:0,smallNav_triggerPos:68,setStickyNav:function(){window.addEventListener("scroll",function(a){if(window.pageYOffset!==undefined){cnnmBanner.yScroll=window.pageYOffset;}else{if(cnnmBanner.navElem!==undefined&&cnnmBanner.navElem.scrollTop){cnnmBanner.yScroll=cnnmBanner.navElem.scrollTop;}else{if(document.body!==undefined){cnnmBanner.yScroll=document.body.scrollTop;}}}if(cnnmBanner.yScroll>cnnmBanner.smallNav_triggerPos){if(cnnmBanner.bodyElem.className.indexOf("body--sticky")<0){cnnmBanner.bodyElem.className+=" body--sticky";}}else{cnnmBanner.bodyElem.className=cnnmBanner.bodyElem.className.replace("body--sticky","");}});},checkStickyNav:function(){if(window.pageYOffset!==undefined){cnnmBanner.yScroll=window.pageYOffset;}else{if(cnnmBanner.navElem!==undefined&&cnnmBanner.navElem.scrollTop){cnnmBanner.yScroll=cnnmBanner.navElem.scrollTop;}else{if(document.body!==undefined){cnnmBanner.yScroll=document.body.scrollTop;}}}if(cnnmBanner.yScroll>cnnmBanner.smallNav_triggerPos){cnnmBanner.bodyElem.className+=" body--sticky";}else{cnnmBanner.bodyElem.className=cnnmBanner.bodyElem.className.replace("body--sticky","");}console.log("DOM fully loaded and parsed");},setEditionDropdown:function(){jQuery(".js-editionizer").click(function(){$editionOption=jQuery(".js-editionOption");$editionIcon=jQuery(".js-editionIcon");if($editionOption.hasClass("show")){$editionOption.removeClass("show");$editionIcon.removeClass("icon-close");$editionIcon.html("+");}else{$editionOption.addClass("show");$editionIcon.addClass("icon-close");$editionIcon.html('<i class="icon icon--close"></i>');}});jQuery(document).bind("click",function(b){var a=jQuery(b.target);if(!a.parents().hasClass("js-editionizer")){jQuery(".js-editionOption").removeClass("show");jQuery(".js-editionIcon").removeClass("icon-close");jQuery(".js-editionIcon").html("+");}});jQuery(".js-editionOption").click(function(){var a=new Date();var c=jQuery(this).html();var b=jQuery(this).attr("id");jQuery(".js-editionDisplayText").html(c);jQuery(".js-editionOption").hide();a.setDate(a.getDate()+365);console.log("in and setting - "+b);cnnm_setCookie("SelectedEdition",b,a.toUTCString(),"/","cnn.com");if(b=="www"){document.location.href="/?iid=dmstedition";}else{document.location.href="/?iid=intnledition";}});},setLoggedInStatus:function(a,b){if(a=="true"){b=b||"";var c=(b!=="")?('Hi, <a href="/profile">'+b+"</a>"):'<a href="/profile">Hello</a>';jQuery(".js-logged-in-display").hide();jQuery(".js-logged-out-display").show();jQuery(".js-username-display").html(c).show();}else{if(a=="false"){jQuery(".js-logged-in-display").show();jQuery(".js-logged-out-display").hide();jQuery(".js-username-display").html("").hide();}}},init:function(){try{this.setStickyNav();this.checkStickyNav();this.setEditionDropdown();}catch(a){console.log("banner error: "+a.message);}}};var MarketsModuleSlideShow=(function(){var e=$("#pt-markets-slider"),d=e.children("div.pt-page"),p=1,a=d.length,m=0,b=false,l=false,j=false,c=null,r=h(),s=true;function h(){var u,y,v=document.createElement("div"),w={"WebkitAnimation":"webkitAnimationEnd","OAnimation":"oAnimationEnd","msAnimation":"MSAnimationEnd","animation":"animationend"};for(u in w){if(w.hasOwnProperty(u)&&v.style[u]!==y){return w[u];}}return null;}function t(){e=$("#pt-markets-slider");d=e.children("div.pt-page");p=1;a=d.length;m=0;b=false;l=false;j=false;c=(typeof(c)!=="undefined")?c:null;r=h();s=true;if(c){window.clearInterval(c);}if(r===null){s=false;}d.each(function(){var u=$(this);u.attr("data-original-class-list",u.attr("class").replace("pt-page-current",""));});d.eq(m).addClass("pt-page-current");$(".navigation a.nav-prev").click(function(){q(2);clearInterval(c);});$(".navigation a.nav-right").click(function(){q(1);clearInterval(c);});c=setInterval(function(){f();},5000);}function q(w){var y=(w.animation)?w.animation:w;if(b){return false;}b=true;var z=d.eq(m);if(w.showPage){if(w.showPage<a-1){m=w.showPage;}else{m=0;}}else{if(m<a-1){++m;}else{m=0;}}var A=d.eq(m).addClass("pt-page-current"),u="",v="";switch(y){case 1:u="pt-page-moveToLeft";v="pt-page-moveFromRight";break;case 2:u="pt-page-moveToRight";v="pt-page-moveFromLeft";break;}z.addClass(u).on(r,function(){z.off(r);l=true;if(j){o(z,A);}});A.addClass(v).on(r,function(){A.off(r);j=true;if(l){o(z,A);}});if(!s){o(z,A);}}function o(v,u){l=false;j=false;g(v,u);b=false;}function g(v,u){v.attr("class",v.attr("data-original-class-list"));u.attr("class",u.attr("data-original-class-list")+" pt-page-current");}function f(){q(1);}return{init:t};})();(function(b,a){b.fn.html=function(){if(b(this).hasClass("index-change")&&arguments.length){if(arguments[0].indexOf("icon--markets-arrow-up")>-1){b(this).closest(".module-body").removeClass("market-down market-neutral").addClass("market-up");}else{if(arguments[0].indexOf("icon--markets-arrow-down")>-1){b(this).closest(".module-body").removeClass("market-up market-neutral").addClass("market-down");}else{b(this).closest(".module-body").removeClass("market-up market-down").addClass("market-neutral");}}}return(a.apply(this,arguments));};})(jQuery,jQuery.fn.html);function Format(c,b,a){return format_data.FormatVal(c,b,a);}format_data=function(){this.error=[];this.error["-32768"]="--";this.error["NA"]="--";this.error["--"]="--";this.error["NaN"]="--";this.magnitudes={shortcap:["","K","M","B","T"],longspace:[""," thousand"," million"," billion"," trillion"],longcap:["","Thousand","Million","Billion","Trillion"],longcapspace:[""," Thousand"," Million"," Billion"," Trillion"]};};format_data.prototype.FormatVal=function(d,c,a){var b=d;if(this.error[d]){return this.error[d];}try{return this[c](d,b,a);}catch(f){return"--";}};format_data.prototype.Price=function(b,a){b=b.toFixed(this.SigDigitsAll(a));b=this.comma(b);return b;};format_data.prototype.PriceNoDecimal=function(b,a){b=b.toFixed(0);b=this.comma(b);return b;};format_data.prototype.IndexPriceNoDecimal=function(b,a){b=b.toFixed(0);b=this.comma(b);return b;};format_data.prototype.ToHundredth=function(b,a){b=b.toFixed(2);b=this.comma(b);return b;};format_data.prototype.PriceCurrency=function(b,a){b=b.toFixed(4);return b;};format_data.prototype.PriceCurrencyColor=function(b,a){b=b.toFixed(4);b=this.color(b,a);return b;};format_data.prototype.FullVolume=function(b,a){b=b.toFixed(0);b=this.comma(b);return b;};format_data.prototype.ShortMagnitude=function(b,a){b=this.getMagnitude(1,a,"shortcap");return b;};format_data.prototype.PriceColor=function(b,a){b=b.toFixed(this.SigDigits(a));b=this.comma(b);b=this.showSign(b,a);b=this.color(b,a);return b;};format_data.prototype.PriceColorNoDecimal=function(b,a){b=b.toFixed(0);b=this.comma(b);b=this.showSign(b,a);b=this.color(b,a);return b;};format_data.prototype.PercentParensColor=function(b,a){b=b.toFixed(this.SigDigits(a));b=this.comma(b);b=b+"%";b=this.showSign(b,a);b=this.colorParens(b,a);return b;};format_data.prototype.PercentColor=function(b,a){b=b.toFixed(2);b=this.comma(b);b=b+"%";b=this.showSign(b,a);b=this.color(b,a);return b;};format_data.prototype.PercentColorNoSign=function(b,a){b=b.toFixed(2);b=this.comma(b);b=b+"%";b=this.removeSign(b,a);b=this.colorRawValue(b,a);return b;};format_data.prototype.PercentColorSpanSign=function(b,a){b=b.toFixed(2);b=this.comma(b);b=b+"%";b=this.spanSign(b,a);b=this.colorRawValue(b,a);return b;};format_data.prototype.IconArrow=function(b,a){b=b.toFixed(2);b=this.comma(b);b=this.removeSign(b,a);b=this.addIcon(b,a);return b;};format_data.prototype.PlainPercent=function(b,a){b=b.toFixed(2);b=this.comma(b);b=b+"%";return b;};format_data.prototype.PercentPrecision=function(b,a){b=b.toFixed(3);b=this.comma(b);b=b+"%";return b;};format_data.prototype.bid_ask=function(b,a){b=b*100;b=b.toFixed(0);b="x"+this.comma(b);return b;};format_data.prototype.timestamp=function(m,e){var o=new Date(m);var j=o.getDate();var c=o.getMonth();var g=o.getFullYear();
var d=o.getHours();var b=o.getMinutes()+"";var l=o.getTimezoneOffset()/60;var a=d+l;if(a>11){if(a==12){a=12;}else{a=(a-12);}var f="PM";}else{var f="AM";}if(b.length==1){b="0"+b;}return a+":"+b+" "+f+" ET "+(c+1)+"/"+j+"/"+g;};format_data.prototype.ShortTime=function(p,e,j){if(!j){j={};}var q=new Date(p);var l=q.getDate();var c=q.getMonth();var g=q.getFullYear();var d=q.getHours();var b=q.getMinutes()+"";var o="";if(j.showSeconds){o=q.getSeconds()+"";}var m=q.getTimezoneOffset()/60;var a=d+m;if(a>11){if(a==12){a=12;}else{a=(a-12);}var f="pm";}else{var f="am";}if(b.length==1){b="0"+b;}if(o.length==1){o="0"+o;}return[a,":",b,(j.showSeconds)?":"+o:"",f," ET"].join("");};format_data.prototype.LastTradeTime=function(o,e){var p=new Date(o);var j=p.getDate();var c=p.getMonth();var g=p.getFullYear();var d=p.getHours();var b=p.getMinutes()+"";var m=p.getSeconds()+"";var l=p.getTimezoneOffset()/60;var a=d+l;if(a>11){if(a==12){a=12;}else{a=(a-12);}var f="PM";}else{var f="AM";}if(b.length==1){b="0"+b;}return a+":"+b+":"+m+" "+f+" ET "+(c+1)+"/"+j+"/"+g;};format_data.prototype.ShortDate=function(f,c){var b=new Date(f);var a=b.getDate();var e=b.getMonth();if(e<10){e="0"+e;}var d=b.getFullYear();return(e+1)+"/"+a+"/"+d;};format_data.prototype.color=function(b,a){if(a>0){b='<span class="posData">'+b+"</span>";}else{if(a<0){b='<span class="negData">'+b+"</span>";}else{b='<span class="unchanged">'+b+"</span>";}}return b;};format_data.prototype.addIcon=function(b,a){if(a>0){b='<i class="icon icon--markets-arrow-up"></i>'+b;}else{if(a<0){b='<i class="icon icon--markets-arrow-down"></i>'+b;}else{b="&ndash;"+b;}}return b;};format_data.prototype.colorParens=function(b,a){if(a>0){b='<span class="posData">('+b+")</span>";}else{if(a<0){b='<span class="negData">('+b+")</span>";}else{b='<span class="unchanged">('+b+")</span>";}}return b;};format_data.prototype.colorRawValue=function(b,a){if(a>0){b='<span class="posData" rawValue="'+a+'">'+b+"</span>";}else{if(a<0){b='<span class="negData" rawValue="'+a+'">'+b+"</span>";}else{b='<span class="unchanged" rawValue="'+a+'">'+b+"</span>";}}return b;};format_data.prototype.showSign=function(b,a){if(a>0.0001){b="+"+b;}return b;};format_data.prototype.removeSign=function(b,a){b=b.replace("+","").replace("-","");return b;};format_data.prototype.spanSign=function(b,a){b=b.replace("+","<span>+</span>").replace("-","<span>-</span>");return b;};format_data.prototype.SigDigits=function(a){a=Math.abs(a);if(a>999){return 0;}else{if(a<0.01&&a>0){return 4;}else{return 2;}}};format_data.prototype.SigDigitsAll=function(c){c=String(c.toFixed(4))+"";x=c.split(".");x1=x[1];var a=Number(x1.length);var b=String(x[1]);if(b.charAt(a-1)=="0"){a--;if(b.charAt(a-1)=="0"){a--;}}if(a>3){return 4;}else{if(a>2){return 3;}else{return 2;}}};format_data.prototype.getMagnitude=function(d,a,b){a=Math.abs(a);var e=0;while(a>=1000&&e<4){a/=1000;e++;}value=a.toFixed(d);return value+this.magnitudes[b][e];};format_data.prototype.comma=function(b){b+="";x=b.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var a=/(\d+)(\d{3})/;while(a.test(x1)){x1=x1.replace(a,"$1"+","+"$2");}return x1+x2;};format_data.prototype.MsToJsDate=function(b){var c=(b-25568)*86400000;var a=new Date(c);return a;};format_data.prototype.trim=function(f,d,c){if(c&&c.len){var a=c.len;}else{var a=100;}if(c&&c.tail){var b=c.tail;}else{var b="";}try{if(d.length<1||d==" "||d=="undefined"){d="n.a.";}else{if(d.length>a){if(b){d=d.substr(0,a)+b;}else{if(d.length+3>a){d=d.substr(0,d.length-(d.length-a))+"...";}}}else{if(c.forceTail){d=d+b;}}}}catch(g){d="n.a.";}return d;};var format_data=new format_data();function base64_encode(j){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d,c,b,p,o,m,l,q,h=0,s=0,g="",f=[];if(!j){return j;}do{d=j.charCodeAt(h++);c=j.charCodeAt(h++);b=j.charCodeAt(h++);q=d<<16|c<<8|b;p=q>>18&63;o=q>>12&63;m=q>>6&63;l=q&63;f[s++]=e.charAt(p)+e.charAt(o)+e.charAt(m)+e.charAt(l);}while(h<j.length);g=f.join("");var a=j.length%3;return(a?g.slice(0,a-3):g)+"===".slice(a||3);}var CryptoJS=CryptoJS||function(s,r){var v={},y=v.lib={},e=y.Base=function(){function b(){}return{extend:function(d){b.prototype=this;var f=new b;d&&f.mixIn(d);f.$super=this;return f;},create:function(){var d=this.extend();d.init.apply(d,arguments);return d;},init:function(){},mixIn:function(d){for(var f in d){d.hasOwnProperty(f)&&(this[f]=d[f]);}d.hasOwnProperty("toString")&&(this.toString=d.toString);},clone:function(){return this.$super.extend(this);}};}(),o=y.WordArray=e.extend({init:function(b,d){b=this.words=b||[];this.sigBytes=d!=r?d:4*b.length;},toString:function(b){return(b||w).stringify(this);},concat:function(f){var g=this.words,j=f.words,h=this.sigBytes,f=f.sigBytes;this.clamp();if(h%4){for(var d=0;d<f;d++){g[h+d>>>2]|=(j[d>>>2]>>>24-8*(d%4)&255)<<24-8*((h+d)%4);}}else{if(65535<j.length){for(d=0;d<f;d+=4){g[h+d>>>2]=j[d>>>2];}}else{g.push.apply(g,j);}}this.sigBytes+=f;return this;},clamp:function(){var b=this.words,d=this.sigBytes;b[d>>>2]&=4294967295<<32-8*(d%4);b.length=s.ceil(d/4);},clone:function(){var b=e.clone.call(this);b.words=this.words.slice(0);return b;},random:function(b){for(var d=[],f=0;f<b;f+=4){d.push(4294967296*s.random()|0);}return o.create(d,b);}}),c=v.enc={},w=c.Hex={stringify:function(g){for(var h=g.words,g=g.sigBytes,l=[],f=0;f<g;f++){var j=h[f>>>2]>>>24-8*(f%4)&255;l.push((j>>>4).toString(16));l.push((j&15).toString(16));}return l.join("");},parse:function(f){for(var g=f.length,h=[],d=0;d<g;d+=2){h[d>>>3]|=parseInt(f.substr(d,2),16)<<24-4*(d%8);}return o.create(h,g/2);}},t=c.Latin1={stringify:function(g){for(var h=g.words,g=g.sigBytes,f=[],j=0;j<g;j++){f.push(String.fromCharCode(h[j>>>2]>>>24-8*(j%4)&255));}return f.join("");},parse:function(g){for(var f=g.length,j=[],h=0;h<f;h++){j[h>>>2]|=(g.charCodeAt(h)&255)<<24-8*(h%4);}return o.create(j,f);}},q=c.Utf8={stringify:function(f){try{return decodeURIComponent(escape(t.stringify(f)));}catch(d){throw Error("Malformed UTF-8 data");}},parse:function(b){return t.parse(unescape(encodeURIComponent(b)));}},u=y.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=o.create();this._nDataBytes=0;},_append:function(b){"string"==typeof b&&(b=q.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes;},_process:function(l){var j=this._data,B=j.words,A=j.sigBytes,z=this.blockSize,p=A/(4*z),p=l?s.ceil(p):s.max((p|0)-this._minBufferSize,0),l=p*z,A=s.min(4*l,A);if(l){for(var m=0;m<l;m+=z){this._doProcessBlock(B,m);}m=B.splice(0,l);j.sigBytes-=A;}return o.create(m,A);},clone:function(){var b=e.clone.call(this);b._data=this._data.clone();return b;},_minBufferSize:0});y.Hasher=u.extend({init:function(){this.reset();},reset:function(){u.reset.call(this);this._doReset();},update:function(b){this._append(b);this._process();return this;},finalize:function(b){b&&this._append(b);this._doFinalize();return this._hash;},clone:function(){var b=u.clone.call(this);b._hash=this._hash.clone();return b;},blockSize:16,_createHelper:function(b){return function(d,f){return b.create(f).finalize(d);};},_createHmacHelper:function(b){return function(d,f){return a.HMAC.create(b,f).finalize(d);};}});var a=v.algo={};return v;}(Math);(function(){var e=CryptoJS,d=e.lib,g=d.WordArray,d=d.Hasher,c=[],a=e.algo.SHA1=d.extend({_doReset:function(){this._hash=g.create([1732584193,4023233417,2562383102,271733878,3285377520]);},_doProcessBlock:function(q,m){for(var s=this._hash.words,o=s[0],b=s[1],p=s[2],l=s[3],u=s[4],r=0;80>r;r++){if(16>r){c[r]=q[m+r]|0;}else{var t=c[r-3]^c[r-8]^c[r-14]^c[r-16];c[r]=t<<1|t>>>31;}t=(o<<5|o>>>27)+u+c[r];t=20>r?t+((b&p|~b&l)+1518500249):40>r?t+((b^p^l)+1859775393):60>r?t+((b&p|b&l|p&l)-1894007588):t+((b^p^l)-899497514);u=l;l=p;p=b<<30|b>>>2;b=o;o=t;}s[0]=s[0]+o|0;s[1]=s[1]+b|0;s[2]=s[2]+p|0;s[3]=s[3]+l|0;s[4]=s[4]+u|0;},_doFinalize:function(){var j=this._data,m=j.words,o=8*this._nDataBytes,l=8*j.sigBytes;m[l>>>5]|=128<<24-l%32;m[(l+64>>>9<<4)+15]=o;j.sigBytes=4*m.length;this._process();}});e.SHA1=d._createHelper(a);e.HmacSHA1=d._createHmacHelper(a);
})();(function(){var b=CryptoJS,a=b.enc.Utf8;b.algo.HMAC=b.lib.Base.extend({init:function(q,s){q=this._hasher=q.create();"string"==typeof s&&(s=a.parse(s));var m=q.blockSize,e=4*m;s.sigBytes>e&&(s=q.finalize(s));for(var c=this._oKey=s.clone(),r=this._iKey=s.clone(),o=c.words,j=r.words,p=0;p<m;p++){o[p]^=1549556828,j[p]^=909522486;}c.sigBytes=r.sigBytes=e;this.reset();},reset:function(){var c=this._hasher;c.reset();c.update(this._iKey);},update:function(c){this._hasher.update(c);return this;},finalize:function(d){var c=this._hasher,d=c.finalize(d);c.reset();return c.finalize(this._oKey.clone().concat(d));}});})();var DataBubbleManager={bubbles:{},duplicates:{},scripts:[],openBubbles:true,templatesLoaded:false,bubbleTypes:{TICKER:1,CALC:2,CONTENT:3},contentTypes:{TICKER:1,IFRAME:2,INLINE_EXT:3,CONTENT:4,VIDEO:5},popupTypes:{CUSTOM:1,HOVER:2,CLICK:3},positionTypes:{ABOVE:1,BELOW:2,FINDBEST:3},padding:{top:-5,right:25,left:367},templates:{DEFAULT:{uri:"/.element/ssi/tools/5.0/bubble.html",loaded:false}},add:function(b,a){this.bubbles[b]=a;eventLogger.incBubbleCount();},create:function(){var d=$("#bubbleGroup");var c=Math.floor(Math.random()*10101010);var b="popbubble_"+c;var a=$("#popbubble").clone();a.attr("id",b);d.append(a);return a;},init:function(){jQuery("body").append('<div id="bubbleGroup" style="z-index: 10000000000000;"></div>');jQuery("body").click(function(c){if(DataBubbleManager.openBubbles==true){if($(c.target).find("div.innershell").length>0){for(var b in DataBubbleManager.bubbles){var a=DataBubbleManager.bubbles[b];if(a.isOpen&&a.type!=DataBubbleManager.bubbleTypes.CALC){a.close(true);}}}}});},destroyBubbles:function(){jQuery("#bubbleGroup").html("");this.bubbles={};this.duplicates={};while(this.scripts.length>0){var a=this.scripts.pop();a.parentNode.removeChild(a);}},getBubble:function(a){return this.bubbles[a];},getDuplicates:function(d,c){var a=[];for(var b in this.bubbles){if(this.bubbles[bubble_id][d]==c){a.push(this.bubbles[b]);}}return a;},getOriginal:function(c,b){for(var a in this.bubbles){if(this.bubbles[a][c]==b){return this.bubbles[a];}}return null;},loadTemplate:function(a){jQuery("#bubbleGroup").load("/.element/ssi/tools/5.0/bubble.html",a);},loadCSS:function(){},mapDuplicate:function(b,a){if(typeof(this.duplicates[b])=="undefined"){this.duplicates[b]=[];}this.duplicates[b].push(a);},updateDuplicates:function(c){if(typeof(this.duplicates[c])!="undefined"){var d=this.getBubble(c);var a=this.duplicates[c];for(var b=0;b<a.length;b++){this.getBubble(a[b]).insert(d.content);}}}};DataBubbleManager.init();var TICKER_HOST="http://markets.money.cnn.com/services/api/quotehover/?callback=tickerCallback";var updatedTickerList={"RIMM":"BBRY"};function addToList(a,b){if(ms_isLoggedIn()===true){if(!jQuery("#WSOD-add-watchlist-iframe").length){jQuery("body").append('<div id="WSOD-add-watchlist" class="overlay_content"><a href="javascript:void(0)" class="close" onclick="cnnHideOverlays();return false;"></a><iframe src="" id="WSOD-add-watchlist-iframe" name="WSOD-add-watchlist-iframe" frameborder="0" border="0"></iframe></div>');}jQuery("#WSOD-add-watchlist-iframe").attr("src",cnnWSODPrefix+"/secure/watchlist/addSymbol.asp?ticker="+b+"&rnd="+Math.floor(Math.random()*101010101)).parent().cnnShowOverlay();}else{CNN_EMAILS_LOADED=false;CNN_PRIMARY_EMAIL_CONFIRMED=false;cnnShowLoginAddWatchList();}}function updateTicker(b){var a=b;if(typeof(updatedTickerList[b])!="undefined"){a=updatedTickerList[b];}return a;}function getTickerHTML(e,j){var o="";var p=(parseFloat(e.duringDay.pctChange,10)<0)?"down":"up";var m="http://money.cnn.com/quote/quote.html?symb="+e.ticker;var c="http://money.cnn.com/quote/etf/etf.html?symb="+e.ticker;var l="http://money.cnn.com/quote/mutualfund/mutualfund.html?symb="+e.ticker;var a="http://markets.money.cnn.com/secure/watchlist/addSymbol.asp?ticker="+e.ticker;var h={"XAX":"/data/markets/amex/","OIX":"/data/markets/cboe_oil/","INDU":"/data/markets/dow/","DJT":"/data/markets/downtrans/","DJU":"/data/markets/dowutil/","BKX":"/data/markets/kbw_bank/","MSTAR":"/data/markets/mstar/","COMP":"/data/markets/nasdaq/","NYA":"/data/markets/nyse/","SOX":"/data/markets/philsemi/","RUT":"/data/markets/russell/","SPX":"/data/markets/sandp/","XAO":"/data/world_markets/asx100/","ATH":"/data/world_markets/athens_composite/","IBOV":"/data/world_markets/bovespa/","CAC40":"/data/world_markets/cac40/","DAX":"/data/world_markets/dax/","N100":"/data/world_markets/euronext/","UKX":"/data/world_markets/ftse100/","HSI":"/data/world_markets/hang_seng/","MXX":"/data/world_markets/ipc/","IPSA":"/data/world_markets/ipsa/","JKSE":"/data/world_markets/jakarta_composite/","KOSPI":"/data/world_markets/kospi/","MERV":"/data/world_markets/merval/","NZ50":"/data/world_markets/newzealand50/","N225":"/data/world_markets/nikkei225/","OMXS":"/data/world_markets/omx30/","SHCOMP":"/data/world_markets/se_composite/","SENSEX":"/data/world_markets/sensex/","SXXP":"/data/world_markets/stoxx600/","SSMI":"/data/world_markets/swiss/","SETIDX":"/data/world_markets/thailand_se/","TS50":"/data/world_markets/tsec50/","OSP60":"/data/world_markets/tsx60/"};var f="";switch(e.dataType){case"ETF":f=c;break;case"Funds":f=l;break;case"Index":if(typeof(h[e.ticker])!="undefined"){f=h[e.ticker];}break;case"Stock":default:f=m;break;}f=updateLink(f,cnnLinkSelectors["story_bubbles"][1]);o+='<div class="popbody-ticker">';o+='  <div class="boxHeading"><a href="'+f+'">'+e.companyName+"</a><span> ("+e.exchange+": "+e.ticker+")</span></div>";switch(e.dataType){case"Funds":o+='      <div class="marketdata">';o+='          <div class="panel day">';o+='              <span class="label">During the Trading Day</span>';o+='              <span class="price">'+e.duringDay.value+"</span>";o+='              <span class="change '+p+'">';if(typeof(e.duringDay.change)!="undefined"){o+='              <a href="'+f+'">'+e.duringDay.change+"</a> / ";}o+='                  <a href="'+f+'">'+e.duringDay.pctChange+"%</a>";o+="              </span>";o+="          </div>";o+='          <div class="panel">';chartURL=e.duringDay.chart;chartURL_temp=chartURL.split("numDays=");chartURL=chartURL_temp[0]+"numDays=90"+chartURL_temp[1].slice(chartURL_temp[1].indexOf("&"));o+='              <img width="160" height="77" border="0" alt="" src="'+chartURL+'">';o+="          </div>";o+="      </div>";break;case"ETF":case"Stock":default:o+='      <div class="marketdata stock_charts">';o+='          <div class="panel day">';o+='              <span class="label">During the Trading Day</span>';o+='              <span class="price">'+e.duringDay.value+"</span>";o+='              <span class="change '+p+'">';if(typeof(e.duringDay.change)!="undefined"){o+='              <a href="'+f+'">'+e.duringDay.change+"</a> / ";}o+='                  <a href="'+f+'">'+e.duringDay.pctChange+"%</a>";o+="              </span>";o+="          </div>";o+='          <div class="panel">';if(typeof(e.extendedHours)!="undefined"){var d=(parseFloat(e.extendedHours.pctChange,10)<0)?"down":"up";o+='          <span class="label">During '+e.extendedHours.label+"</span>";o+='          <span class="price">'+e.extendedHours.value+"</span>";o+='          <span class="change '+d+'"><a href="'+f+'">'+e.extendedHours.change+'</a> / <a href="'+f+'">'+e.extendedHours.pctChange+"%</a></span>";}else{if(e.duringDay.chart!=""){o+='          <img width="160" height="77" border="0" alt="" src="'+e.duringDay.chart+'">';}}o+="          </div>";o+="      </div>";break;}if(typeof(e.stories)!="undefined"&&e.stories.length>0){o+="  <ul>";for(var g=0;g<e.stories.length;g++){var b=cnnLinkSelectors["story_bubbles"][0];if(isUpdatableLink(e.stories[g].url,b)){e.stories[g].url=updateLink(e.stories[g].url,b);}o+="      <li>";o+='          <span class="status"><a href="'+e.stories[g].url+'">'+e.stories[g].text+"</a></span>";o+='          <span class="cnnDateStamp">'+e.stories[g].dateTime+'</span> / <span class="source">'+e.stories[g].source+"</span>";o+="      </li>";}o+="  </ul>";}o+='      <a class="seeMore" href="'+f+'">FULL QUOTE</a> <a class="addwatchlist" href="javascript:addToList(\''+a+"', '"+e.ticker+"')\">ADD TO WATCH LIST</a>";
o+='  <div class="clearfix"></div>';o+="</div>";return o;}function tickerCallback(f){var a=f.Api;if(a.dataType=="Invalid"){for(var e in DataBubbleManager.bubbles){var b=DataBubbleManager.getBubble(e);if(b.ticker==a.ticker){b.removeTrigger();}}return;}else{var b=DataBubbleManager.getOriginal("ticker",a.ticker);var c=b.bubbleId;var d=getTickerHTML(a,c);b.insert(d);DataBubbleManager.updateDuplicates(c);}}function getVideoHTML(a){var b="";b+='<div class="videoBubble" style="height: 100px;">';b+='  <img width="160" height="90" class="" border="0" src="'+a.image+'" style="float: left; padding-right: 4px;"/>';b+='  <h2><a href="#">'+a.headline+"</a></h2><br/>";b+='  <span class="cnnBlurbTxt">'+a.description+"</span>";b+="</div>";return b;}function DataBubble(f){var j=this;var b=null;var c=null;this.bubbleId=f.bubbleId;this.contentType=f.contentType;this.type=f.type;this.positioning=f.positioning||DataBubbleManager.positionTypes.FINDBEST;this.ticker=(typeof(f.ticker)!="undefined")?f.ticker:null;this.uniqueId=f.uniqueId;this.content=(typeof(f.content)!="undefined")?f.content:"";this.contentURI=(typeof(f.contentURI)!="undefined")?f.contentURI:null;this.useAds=f.useAds||false;this.delayLoad=(typeof(f.delayLoad)!="undefined")?f.delayLoad:false;this.useTracking=f.useTracking||false;this.closeInterval=null;this.closeDelay=250;this.isOpen=false;this.hasBeenDisplayed=false;this.initialDataRequested=false;this.opacityInc=0.15;this.openAnimDelay=1;this.$parent=f.parent;this.popupType=f.popupType||DataBubbleManager.popupTypes.CUSTOM;this.useOpenAnimation=false;this.$link=f.link||null;function a(){window.clearInterval(j.closeInterval);j.closeInterval=null;}function h(){b=$("#"+j.bubbleId);c=b.find(".close_btn");if(j.delayLoad==false){j.insert();}if(j.useOpenAnimation==true){b.css("opacity",0);}if(j.useAds==false){b.find("ul.sponsor_ad").remove();}if(this.contentType==DataBubbleManager.contentTypes.TICKER){try{eventLogger.log("quote","quote_bubble");}catch(l){}}if(j.popupType==DataBubbleManager.popupTypes.HOVER){c.addClass("hide");b.mouseenter(function(m){DataBubbleManager.getBubble(j.bubbleId).keepAlive();});b.mouseleave(function(o){var m=$(o.currentTarget);if(m.hasClass("popbub")){DataBubbleManager.getBubble(j.bubbleId).hide();}});j.$parent.mouseover(function(o){var m=DataBubbleManager.getBubble(j.bubbleId);if(m.hasContent){m.show();m.setPosition($(this),o);}});j.$parent.mouseout(function(m){DataBubbleManager.getBubble(j.bubbleId).hide();});}else{if(j.popupType==DataBubbleManager.popupTypes.CLICK){c.click(function(m){j.close(true);return false;});j.$parent.click(function(o){var m=DataBubbleManager.getBubble(j.bubbleId);if(m.isOpen){if($(o.target).is("a")){m.close(true);}}else{if(m.hasContent){m.setPosition($(this),o);m.show();}}return false;});}}}function e(l){j.content=l;b.find("div.popbody").html(l);j.hasContent=(l=="")?false:true;}function d(){if(j.hasBeenDisplayed==true){return;}if(j.useAds&&b.find("ul.sponsor_ad > li").length==0){var m=[(parseInt(Math.random()*1000000))];try{var l="";l+="  <li>";l+='    <div id="ad_mod_'+m[0]+'">';l+="    </div>";l+="  </li>";b.find("ul.sponsor_ad").append(l);AMPTManager.renderSingleSlot("ad_mod_"+m[0],[[300,100]],[["transId",cnnad_transactionID],["kuid",Krux.user],["ksg",Krux.segments],["guid",AMPTManager.readCookie("ug")],["pos",["mod"]],["mod",["hover"]]],[],"8663477/CNNMoney",0);}catch(o){console.log("Error rendering singleton: "+o.message);}}}function g(){if(j.useOpenAnimation==true){b.css("opacity",this.opacityInc);b.show();j.isOpen=true;var l=window.setInterval(function(){var m=parseFloat(b.css("opacity"),10);if(m>=1){m=1;window.clearInterval(l);l=null;}else{m+=j.opacityInc;}b.css("opacity",m);},j.openAnimDelay);}else{b.show();j.isOpen=true;}j.hasBeenDisplayed=true;}this.close=function(l){if(typeof(l)=="undefined"){var l=false;}if(l==false){if(this.closeInterval==null){return;}}a();b.hide();this.isOpen=false;};this.getBubble=function(){return b;};this.hide=function(){if(this.closeInterval!=null){return;}this.closeInterval=window.setInterval("DataBubbleManager.getBubble('"+j.bubbleId+"').close()",j.closeDelay);};this.insert=function(o){if(o){e(o);return;}if(this.initialDataRequested==true){e(this.content);return;}this.initialDataRequested=true;switch(this.contentType){case DataBubbleManager.contentTypes.TICKER:var m=document.createElement("script");m.setAttribute("type","text/javascript");m.src=TICKER_HOST+"&symb="+this.ticker;document.body.appendChild(m);DataBubbleManager.scripts.push(m);break;case DataBubbleManager.contentTypes.VIDEO:$.ajax({url:"/video/data/4.0/"+this.uniqueId+".xml",dataType:"xml",context:document.body,success:function(s,u,r){$root=$(s.documentElement);var q=$(s.documentElement).find("description").text();var p=$(s.documentElement).find("headline").text();var t=$(s.documentElement).find("images > image[width=124]").text();var s=getVideoHTML({description:q,headline:p,image:t});e(s);}});break;case DataBubbleManager.contentTypes.IFRAME:e('<iframe src="'+this.contentURI+'" border="0" frameborder="0" width="376" height="328" scrolling="no"></iframe>');break;case DataBubbleManager.contentTypes.INLINE_EXT:var l=this.bubbleId;$.ajax({url:this.contentURI,dataType:"html",context:document.body,cache:true,success:function(q,r,p){e(q);DataBubbleManager.updateDuplicates(l);}});break;case DataBubbleManager.contentTypes.CONTENT:e(this.content);break;}};this.keepAlive=function(){a();};this.removeTrigger=function(){jQuery("<span>"+this.ticker+"</span>").insertBefore(this.$link);this.$link.remove();};this.setPosition=function(p,l){var m=$(window);var A=m.scrollTop();var z=m.height();var y=p.closest(".column");var s=container_offsety=0;if(y.length>0&&y.css("position")=="relative"){var w=y.offset();s=w.left;container_offsety=w.top;}var q=p[0].offsetTop+container_offsety;var r=p[0].offsetLeft+s;var v=b.width();var o=b.height();var u=r-28;var t=q+p[0].offsetHeight-5;if((r+v)<document.body.offsetWidth){b.find(".pinch").removeClass("right");}else{u=(r-v)+45;b.find(".pinch").addClass("right");}switch(this.positioning){case DataBubbleManager.positionTypes.ABOVE:t=q-o+5;b.addClass("pinchbot");b.removeClass("pinchtop");break;case DataBubbleManager.positionTypes.BELOW:default:t=q+p[0].offsetHeight-5;b.addClass("pinchtop");b.removeClass("pinchbot");break;case DataBubbleManager.positionTypes.FINDBEST:if(((q-A)>=(A+z-q))&&(q>=o)){t=q-o+5;b.addClass("pinchbot");b.removeClass("pinchtop");}else{t=q+p[0].offsetHeight-5;b.addClass("pinchtop");b.removeClass("pinchbot");}break;}b.css({"left":u,"top":t});};this.setPosition2=function(p,l){var m=$(window);var y=m.scrollTop();var w=m.height();var v=$("#storycontent").offset().left;var r=p[0].offsetLeft;var q=p[0].offsetTop;var u=b.width();var o=b.height();var t=r-28;var s=q+5;if((r-v)>=u){t=(p[0].offsetLeft-u)+45;b.find(".pinch").addClass("right");}else{b.find(".pinch").removeClass("right");}switch(this.positioning){case DataBubbleManager.positionTypes.ABOVE:s=s-o;b.addClass("pinchbot");b.removeClass("pinchtop");break;case DataBubbleManager.positionTypes.BELOW:b.addClass("pinchtop");b.removeClass("pinchbot");break;case DataBubbleManager.positionTypes.FINDBEST:if(((q-y)>=(y+w-q))&&(q>=o)){s=s-o;b.addClass("pinchbot");b.removeClass("pinchtop");}else{b.addClass("pinchtop");b.removeClass("pinchbot");}break;}b.css({"left":t,"top":s});};this.show=function(){a();if(this.isOpen){return;}if(this.useTracking==true){try{eventLogger.log("quotehover","quote_bubble");}catch(m){}}if(!this.hasBeenDisplayed){d();}g();if(this.initialDataRequested==false){if(this.contentType==DataBubbleManager.bubbleTypes.TICKER){var l=DataBubbleManager.getOriginal("ticker",this.ticker);if(!l){l=this;}setTimeout(function(){l.insert();},500);}else{this.insert();}}};h();}if(typeof CNNM==="undefined"){var CNNM={};}if(typeof cnnmsocial==="undefined"){var cnnmsocial={};}cnnmsocial.facebook={shareURL:"",btn_class:"js-share-fb",btnlike_class:"js-share-fbrec",$btn_like:null,likereaction:null,verb:"recommend",showcount_like:true,appID:"",killswitch:false,addbutton:function(b,c){b.append(this.getbutton(c));
var a=b.find("."+this.btn_class);this.addshareonlick(a);if(typeof c==="undefined"){this.$btn=a;}},addlikebutton:function(a){if(CNNM.Social.browser.cnnIE6){return;}a.append('<span class="fbrec '+this.btnlike_class+'">'+this.getlikebutton()+"</span>");this.$btn_like=a.parent().find("."+this.btnlike_class);},addshareonlick:function(a){if(jQuery.isFunction(jQuery.fn.on)){a.on("click",function(b){b.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"facebook","height=300,width=665");eventLogger.social_track("fb-share");return false;});}else{a.live("click",function(b){b.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"facebook","height=300,width=665");eventLogger.social_track("fb-share");return false;});}},refresh:function(a){var c;var b;var d=false;if(typeof a==="undefined"||a==null){return;}c=a.find("."+this.btn_class);b=a.find("."+this.btnlike_class);if(c.length){c.replaceWith(this.getbutton());d=true;var c=a.find("."+this.btn_class);this.addshareonlick(c);}if(b.length){b.html(this.getlikebutton());d=true;}if(d){this.loadscript();}},getbutton:function(e){e=e||{};var b="";var a=(typeof e.url!=="undefined")?e.url:this.shareURL;var f=(typeof e.title!=="undefined")?e.title:this.title;var d=encodeURIComponent(a);var c=encodeURIComponent(f);c=c.replace(/%26.*amp%3B/g,"%26");b+='<a class="icon icon--social-facebook '+this.btn_class+'" href="//www.facebook.com/share.php?'+"u="+d+"&title="+c+'" target="new"></a>';return b;},getlikebutton:function(){var a="";if(CNNM.Social.browser.cnnIE6){return;}a='<div class="fb-like" data-action="'+this.verb+'" '+'data-href="'+this.shareURL+'"';if(this.showcount_like){a+=' data-layout="button_count"';}a+=' data-send="false" data-width="90" data-show-faces="false"></div>';return a;},setoverrides:function(a){if(CNNM.Social.browser.cnnIE6){return;}if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.verb!=="undefined"){this.verb=a.verb;}if(typeof a.showcount_like!=="undefined"){this.showcount_like=a.showcount_like;}if(typeof a.likereaction!=="undefined"){this.likereaction=a.likereaction;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},customshare:function(a){url=a.url;pic=a.pic;title=a.title;caption=a.caption;desc=a.desc;var b={method:"feed",link:url,picture:pic,name:title,caption:caption,description:desc};function c(d){}FB.ui(b,c);eventLogger.social_track("fb-share",url);},loadscript:function(){if(CNNM.Social.browser.cnnIE6){return;}console.log(jQuery("#fb-root").length);if(!jQuery("#fb-root").length){cnnmsocial.facebook.setAppId(CNNM.Social.source);window.fbAsyncInit=function(){FB.init({appId:cnnmsocial.facebook.appID,xfbml:true,version:"v2.6"});if(cnnmsocial.facebook.likereaction!==null){FB.Event.subscribe("edge.create",function(a){cnnmsocial.facebook.likereaction();});}FB.Event.subscribe("edge.create",function(){eventLogger.social_track("fb-like",CNNM.Social.socialtrack_URL);CNNM.Social.settrackURL();});FB.Event.subscribe("edge.remove",function(){eventLogger.social_track("fb-like",CNNM.Social.socialtrack_URL);CNNM.Social.settrackURL();});FB.XFBML.parse();};jQuery("body").append('<div id="fb-root"></div>');(function(e,a,f){var c,b=e.getElementsByTagName(a)[0];if(e.getElementById(f)){return;}c=e.createElement(a);c.id=f;c.src="//connect.facebook.net/en_US/sdk.js";b.parentNode.insertBefore(c,b);}(document,"script","facebook-jssdk"));}else{FB.XFBML.parse();}},setAppId:function(a){switch(a){case (cnnm_sourcing.sourceTypes.moneymag):cnnmsocial.facebook.appID="459366314150755";break;case (cnnm_sourcing.sourceTypes.fortune):cnnmsocial.facebook.appID="381685278607014";break;default:cnnmsocial.facebook.appID="521848191196480";break;}},init:function(){this.shareURL=CNNM.Social.shareURL;this.title=CNNM.Social.shareTitle;}};cnnmsocial.twitter={shareURL:"",btn_class:"js-share-tw",getCountURL:"",bitlyURL:"",source:"CNNMoney",related:"",description:"",count:"horizontal",eventsbound:false,killswitch:false,via:true,addbutton:function(a,c){a.append(this.getbutton(c));var b=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){b.on("click",function(f){f.preventDefault();jQuery(".popover").removeClass("active");var d=$(this).attr("data-href");window.open(d,"twitter","height=300,width=665");eventLogger.social_track("twt-tweet");return false;});}else{b.live("click",function(d){d.preventDefault();return false;});}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());this.loadscript();}},getbutton:function(g){g=g||{};var b="";var d=(typeof g.title!=="undefined")?g.title:this.description;var a=(typeof g.url!=="undefined")?g.url:this.shareURL;var f="";var c="";var e="";d=$("<div/>").html(d).text();f=d;if(g.url===undefined){if(this.bitlyURL!=""){a=this.bitlyURL;}e=this.related;}else{e=this.getRelated(null);}c=encodeURIComponent(f);e=encodeURIComponent(this.related);b='<a class="icon icon--social-twitter '+this.btn_class+'"  href="https://twitter.com/intent/tweet?'+"text="+c+"&via="+this.source+"&related="+e+"&url="+a+'">'+"</a>";return b;},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.bitlyURL!=="undefined"){this.bitlyURL=a.bitlyURL;}if(typeof a.related!=="undefined"){this.related=a.related;}if(typeof a.source!=="undefined"){this.source=a.source;}if(typeof a.title!=="undefined"){this.description=a.title;}if(typeof a.hashes!=="undefined"){this.description+=" "+a.hashes;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}if(typeof a.via!=="undefined"){this.via=a.via;}},getRelated:function(b){var a="";switch(b){case"Investing":a="CNNMoneyInvest";break;case"Small Business":a="CNNMoneySmBiz";break;case"Technology":case"Mobile":case"Enterprise":case"Innovation":case"Security":case"Social":a="CNNTech:For news and features on the day's hottest technology stories,CNNTechGadgets:For gadget-related news and reviews from our tech team";break;case"Personal Finance":case"Real Estate":case"Retirement":case"Autos":case"College":case"Insurance":case"Jobs":case"Taxes":a="CNNMoneyPF:For news and features on the most compelling personal finance stories";break;default:a="CNNMoney:Breaking news and in-depth looks at the most important business stories of the day.";break;}return a;},setRelated:function(){if(typeof cnnSection!=="undefined"){this.related=this.getRelated(cnnSection);}else{this.related="";}},bindevents:function(){if(!this.eventsbound){try{twttr.ready(function(b){b.events.bind("tweet",function(c){eventLogger.social_track("twt-tweet",CNNM.Social.socialtrack_URL);});b.events.bind("retweet",function(c){eventLogger.social_track("twt-retweet",CNNM.Social.socialtrack_URL);});b.events.bind("favorite",function(c){eventLogger.social_track("twt-favorite",CNNM.Social.socialtrack_URL);});b.events.bind("follow",function(c){eventLogger.social_track("twt-follow",CNNM.Social.socialtrack_URL);});CNNM.Social.settrackURL();});this.eventsbound=true;}catch(a){}}},loadscript:function(){try{if(typeof twttr!=="undefined"){twttr.widgets.load();}else{window.twttr=(function(j,f,l){var e,h,g=j.getElementsByTagName(f)[0];if(j.getElementById(l)){return;}h=j.createElement(f);h.id=l;h.src="//platform.twitter.com/widgets.js";g.parentNode.insertBefore(h,g);return window.twttr||(e={_e:[],ready:function(d){e._e.push(d);}});}(document,"script","twitter-wjs"));var c=document.querySelectorAll("."+cnnmsocial.twitter.btn_class);for(i=0;i<c.length;i++){var a=document.createElement("span");a.innerHTML=cnnmsocial.twitter.getbutton();a.querySelector("a").href=c[i].href;c[i].parentNode.replaceChild(a.childNodes[0],c[i]);}binder=setTimeout(cnnmsocial.twitter.bindevents,1500);}}catch(b){}},customshare:function(a){url=encodeURIComponent(a.url);desc=encodeURIComponent(a.desc);via="";if(typeof(a.via)!=="undefined"){via="&via="+a.via;}window_href="//twitter.com/share?count=vertical"+"&original_referer="+url+"&text="+desc+"&url="+url+"&via="+via;window_name="intent";
window_conf="left=685, top=350, width=550px, height=380px, scrollbars=no, status=no";openWindow(window_href,window_name,window_conf);eventLogger.social_track("twt-tweet",url);},init:function(){this.shareURL=CNNM.Social.shareURL;this.description=CNNM.Social.shareTitle;this.setRelated();if(typeof cnntweetDesc!=="undefined"){this.description=cnntweetDesc;}}};cnnmsocial.linkedin={shareURL:"",btn_class:"js-share-linkedin",source:"CNNMoney",description:"",linkedInLoaded:false,killswitch:false,addbutton:function(a,c){a.append(this.getbutton(c));var b=a.find(" ."+this.btn_class);if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());cnnmsocial.linkedin.linkedInLoaded=false;}},getbutton:function(f){f=f||{};var c="";var a=(typeof f.url!=="undefined")?f.url:this.shareURL;var h=(typeof f.title!=="undefined")?f.title:this.description;var e=encodeURIComponent(a+"?source=linkedin");var d=encodeURIComponent(h);d=d.replace(/%26.*amp%3B/g,"%26");var g="scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=600,height=450,left=0,top=0";var b=href="//www.linkedin.com/shareArticle?mini=true&"+"source="+this.source+"&url="+e+"&title="+d;b=b.replace(/["']/g,"\\$&");c+='<a class="icon icon--social-linkedin '+this.btn_class+'"'+" onclick=\"openWindow('"+b+"','linkedin', '"+g+"');"+' eventLogger.social_track(\'lin-share\'); return false;" target="new" >'+"</a>";return c;},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.description=a.title;}if(typeof a.source!=="undefined"){this.setSource(a.source);}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},setSource:function(a){switch(a){case (cnnm_sourcing.sourceTypes.moneymag):this.source="Money Magazine";break;case (cnnm_sourcing.sourceTypes.fortune):this.source="Fortune Magazine";break;default:this.source="CNNMoney";break;}},loadscript:function(){if(!jQuery("#linkedin_script").length){jQuery("head").append('<div id="linkedin_script"></div>');}var a=document.createElement("script");a.type="text/javascript";a.src="//platform.linkedin.com/in.js";document.getElementById("linkedin_script").appendChild(a);},init:function(){this.shareURL=CNNM.Social.shareURL;this.description=CNNM.Social.shareTitle;this.setSource(CNNM.Social.source);}};cnnmsocial.gplus={shareURL:"",btn_class:"js-share-gplus",annotation:"bubble",killswitch:false,addbutton:function(a,c){a.append(this.getbutton(c));var b=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){b.on("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"gplus","height=400,width=665");eventLogger.social_track("goog-plus");return false;});}else{b.live("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"gplus","height=500,width=480");eventLogger.social_track("goog-plus");return false;});}if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());}},getbutton:function(c){c=c||{};var a=c.url||this.shareURL;var b=encodeURIComponent(a);return'<a class="icon icon--social-googleplus '+this.btn_class+'" href="https://plus.google.com/share?'+"url="+b+'"'+' class="" target="new" rel="noopener noreferrer">'+"<span></span>"+"</a>";},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.annotation!=="undefined"){this.annotation=a.annotation;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},init:function(){this.shareURL=CNNM.Social.shareURL;}};gplus_track=function(a){eventLogger.social_track("goog-plus");};cnnmsocial.pinterest={shareURL:"",btn_class:"js-share-pinterest",imageURL:"",description:"",killswitch:false,addbutton:function(a,c){a.append(this.getbutton(c));var b=a.find(" ."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){b.on("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"pinterest","height=300,width=665");eventLogger.social_track("pin-share");return false;});}else{b.live("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"pinterest","height=300,width=665");eventLogger.social_track("pin-share");return false;});}if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());}},getbutton:function(d){d=d||{};var f;var c=d.url||this.shareURL;var g=d.title||this.description;var a=d.image||this.imageURL;var e=encodeURIComponent(c);var b=encodeURIComponent(a);var j=encodeURIComponent(g);var h="false";if(CNNM.Social.pagetype==CNNM.Social.pagetypes.video){h="true";}f='<a class="icon icon--social-pinterest '+this.btn_class+'" href="//pinterest.com/pin/create/bookmarklet/?is_video='+h+"&url="+e+"&media="+b+"&description="+j+'"'+' class="" target="new" rel="noopener noreferrer">'+"<span></span>"+"</a>";return f;},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.image!=="undefined"){this.imageURL=a.image;}if(typeof a.description!=="undefined"){this.description=a.description;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},loadscript:function(){},init:function(){this.shareURL=CNNM.Social.shareURL;this.imageURL=CNNM.Social.shareImage;this.description=CNNM.Social.shareTitle;}};cnnmsocial.reddit={shareURL:"",btn_class:"js-share-reddit",title:"",killswitch:false,addbutton:function(a,c){a.append(this.getbutton(c));var b=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){b.on("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"reddit","height=600,width=850");eventLogger.social_track("reddit-share");return false;});}else{b.live("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"reddit","height=600,width=850");eventLogger.social_track("reddit-share");return false;});}if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());}},getbutton:function(e){e=e||{};var a=e.url||this.shareURL;var f=e.title||this.title;var d=encodeURIComponent(a);var c=encodeURIComponent(f);var b="//www.reddit.com/submit?"+"url="+d+"&title="+c;return'<a class="icon icon--social-reddit '+this.btn_class+'" href="'+b+'"'+' class="" target="new" rel="noopener noreferrer"><span></span>'+"</a>";},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.title=a.title;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},init:function(){this.shareURL=CNNM.Social.shareURL;this.title=CNNM.Social.shareTitle;}};cnnmsocial.stumbleupon={shareURL:"",btn_class:"js-share-stumbleupon",title:"",killswitch:false,addbutton:function(a,c){a.append(this.getbutton(c));var b=a.find(" ."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){b.on("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"stumbleupon","height=600,width=850");eventLogger.social_track("stumbleupon-share");return false;});}else{b.live("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");window.open(this.href,"stumbleupon","height=600,width=850");eventLogger.social_track("stumbleupon-share");return false;});}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());}},getbutton:function(e){e=e||{};var a=e.url||this.shareURL;var f=e.title||this.title;var d=encodeURIComponent(a);var c=encodeURIComponent(f);var b="//www.stumbleupon.com/submit?"+"url="+d+"&title="+c;
return'<a class="icon icon--social-stumbleupon '+this.btn_class+'" href="'+b+'" target="new" rel="noopener noreferrer">'+"</a>";},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.title=a.title;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},init:function(){this.shareURL=CNNM.Social.shareURL;this.title=CNNM.Social.shareTitle;}};cnnmsocial.email={shareURL:"",btn_class:"js-share-mail",shareTitle:"",shareText:"",buttontag_contents:"",killswitch:false,addbutton:function(a,c){a.append(this.getbutton(c));var b=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){b.on("mousedown",function(d){d.preventDefault();jQuery(".popover").removeClass("active");eventLogger.social_track("email");return false;});}else{b.live("mousedown",function(d){d.preventDefault();jQuery(".popover").removeClass("active");eventLogger.social_track("email");return false;});}if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());this.loadscript();}},getbutton:function(b){b=b||{};var a=b.url||this.shareURL;var c=b.title||this.shareTitle;c=encodeURIComponent(c);this.shareText="Check out this story on CNNMoney: "+a;this.shareText=encodeURIComponent(this.shareText);return'<a href="javascript:void(0)" class="st_email_custom icon icon--social-mail '+this.btn_class+'" st_url="'+a+'" st_title="'+c+'" st_summary="'+this.shareText+'"></a>';},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.title!=="undefined"){this.shareTitle=a.title;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},loadscript:function(){try{if(jQuery(".st_email_custom").length){stLight.options({publisher:"b8241a5c-6fa7-404a-9989-13f94cdfff16",url:this.shareURL,title:this.shareTitle,text:this.shareText,onhover:false});stButtons.locateElements();}}catch(a){}},init:function(){this.shareURL=CNNM.Social.shareURL;this.shareTitle=CNNM.Social.shareTitle;}};cnnmsocial.print={btn_class:"js-share-print",buttontag_contents:"",killswitch:false,addbutton:function(a,c){a.append('<li class="print">'+this.getbutton()+"</li>");var b="."+this.btn_class;if(jQuery.isFunction(jQuery.fn.on)){b.on("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");cnnmsocial.print.print();eventLogger.social_track("print");return false;});}else{b.live("click",function(d){d.preventDefault();jQuery(".popover").removeClass("active");cnnmsocial.print.print();eventLogger.social_track("print");return false;});}if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.getbutton());}},getbutton:function(a){a=a||{};return'<a class="icon icon--social-print '+this.btn_class+'" href="javascript:void(0)" class=""></a>';},setoverrides:function(a){a=a||{};if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},print:function(){window.print();return false;},init:function(){this.shareURL=CNNM.Social.shareURL;}};cnnmsocial.embed={shareURL:"",btn_class:"js-share-embed",shareTitle:"",buttontag_contents:"",embedscript:"",killswitch:false,addbutton:function(a,c){this.setbutton();a.append(this.buttontag_contents);var b=a.find("."+this.btn_class+"");b.on("click",function(d){var f=jQuery(this);d.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(f.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find(".popover").toggleClass("active");eventLogger.social_track("embed");jQuery("#embedCode").val(cnnmsocial.embed.embedscript).focus(function(){$(this).select();}).mouseup(function(g){g.preventDefault();}).trigger("focus");return false;});jQuery("html").on("click",function(d){if(jQuery(d.target).closest(".popover").get(0)==null){jQuery(".popover").removeClass("active");}});if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){this.setembedscript();jQuery("#embedCode").val(cnnmsocial.embed.embedscript);}},setbutton:function(){this.buttontag_contents='<a class="embed_custom icon icon--social-embed '+this.btn_class+'">'+'<div class="popover">'+'<div class="popoverHed">Embed</div>'+'<input id="embedCode" type="text" value="" />'+"</div></a>";this.setembedscript();},setoverrides:function(a){a=a||{};if(typeof a.url!=="undefined"){this.shareURL=a.url;}if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},setembedscript:function(){var b=this.shareURL;var c=location.host;var a="i.cdn.turner.com/money";b=b.replace("//money.cnn.com/","");indexLoc=b.indexOf("index.htm");b=(indexLoc!=-1)?b.substring(0,indexLoc):b;b=(b.charAt(b.length-1)=="/")?b.substring(0,b.length-1):b;b=b.replace("http:","");if((c.indexOf("preview2.ref")>-1)||(c.indexOf("dev.money.cnn.com")>-1)||(c.indexOf("ref2.money.cnn.com")>-1)||(c.indexOf("train.money")>-1)){a=c;}this.embedscript="<script src='//"+a+"/.element/script/7.0/players/embed.js?videoid="+b+"'><\/script>";},init:function(){this.shareURL=CNNM.Social.shareURL;}};cnnmsocial.link={shareURL:"",btn_class:"js-share-link",buttontag_contents:"",killswitch:false,addbutton:function(a,c){this.setbutton();a.append(this.buttontag_contents);var b=a.find("."+this.btn_class);b.on("click",function(d){var f=jQuery(this);d.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(f.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find(".popover").toggleClass("active");eventLogger.social_track("link");jQuery("#linkValue").val(cnnmsocial.link.shareURL).focus(function(){$(this).select();}).mouseup(function(g){g.preventDefault();}).trigger("focus");return false;});jQuery("html").on("click",function(d){if(jQuery(d.target).closest(".popover").get(0)==null){jQuery(".popover").removeClass("active");}});if(typeof c==="undefined"){this.$btn=b;}},refresh:function(a){var b;if(typeof a==="undefined"||a==null){return;}b=a.find("."+this.btn_class);if(b.length){b.replaceWith(this.buttontag_contents);}},setbutton:function(){this.buttontag_contents='<a class="icon icon--social-link '+this.btn_class+'">'+'<div class="popover">'+'<div class="popoverHed">Link</div>'+'<input id="linkValue" type="text" value="" />'+"</div></a>";},setoverrides:function(a){a=a||{};if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}if(typeof a.url!=="undefined"){this.shareURL=a.url;}},init:function(){this.shareURL=CNNM.Social.shareURL;}};cnnmsocial.bitly={getbitlyURL:function(){bitlyGrab=$("link[rel=shortlink]").eq(0).attr("href");bitlyurl=(typeof bitlyGrab!=="undefined")?bitlyGrab:"";if(bitlyurl!=""){CNNM.Social.bitlyupdate(bitlyurl);}}};cnnmsocial.morebutton={shareURL:"",btn_class:"js-share-more",popupclass:"js-share-more-popup",sharelist:[],$popupmenu:null,killswitch:false,addbutton:function(a,c){if(this.sharelist.length==0){return;}a.append(this.getbutton(c));var b=a.find("."+this.btn_class);if(jQuery.isFunction(jQuery.fn.on)){b.on("click",function(d){var f=jQuery(this);d.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(f.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find("."+cnnmsocial.morebutton.popupclass).toggleClass("active");return false;});jQuery("html").on("click",function(d){if(jQuery(d.target).closest("."+cnnmsocial.morebutton.popupclass).get(0)==null){jQuery("."+cnnmsocial.morebutton.popupclass).removeClass("active");}});}else{b.live("click",function(d){var f=jQuery(this);d.stopPropagation();d.preventDefault();jQuery(".popover, .popup-menu").each(function(){if(!jQuery(this).is(f.children()[0])){jQuery(this).removeClass("active");}});jQuery(this).find("."+cnnmsocial.morebutton.popupclass).toggleClass("active");return false;});jQuery("html").live("click",function(d){if(jQuery(d.target).closest("."+cnnmsocial.morebutton.popupclass).get(0)==null){jQuery("."+cnnmsocial.morebutton.popupclass).removeClass("active");
}});}if(typeof c==="undefined"){this.$btn=b;}this.addpopupmenu(a.find("."+this.popupclass),c);},addpopupmenu:function(a,c){c=c||{};var b=this.sharelist;if(typeof c!=="undefined"){b=(c.morelist)||b;}for(i=0;i<b.length;i++){b[i].addbutton(a);}},getbutton:function(a){a=a||{};return'<a class="icon icon--social-more '+this.btn_class+'"><div class="popup-menu '+this.popupclass+'"></div></a>';},setsharelist:function(a){this.sharelist=a;},setoverrides:function(a){a=a||{};if(typeof a.killswitch!=="undefined"){this.killswitch=a.killswitch;}},refresh:function(a,c){var b;if(typeof a==="undefined"||a==null){return;}$popupmenu=a.find("."+this.popupclass);$popupmenu.empty();this.addpopupmenu($popupmenu,c);},init:function(){}};CNNM.Social={sharebars:{$main:null,$main_btnsbins:null,$float:null,$float_btnsbins:null},buttonset_main:[],buttonset_more:[],enableRefresh:false,positions:{float_start_selector:".js-social-anchor-start, .cnnCol_main",float_end_selector:".js-social-anchor-end, footer.footer, #cnnFooter",float_start:0,float_end:9999,is_floating:false,float_hidden:true,scroll_last_position:0},pagetypes:{story:1,video:2,gallery:3,quiz:4,poll:5,listspecial:6,calc:7,interactive:8,landing:9},pagetype:0,shareURL:"http://"+location.host+location.pathname,sharePath:location.pathname,bitlyURL:"",shareTitle:document.title,shareImage:"",source:"",showcount:true,socialtrack_URL:null,browser:{win:(navigator.platform.toLowerCase().indexOf("win32")==-1)?"":" win",mac:(navigator.platform.toLowerCase().indexOf("mac")==-1)?false:true,cnnIE:(navigator.userAgent.toLowerCase().indexOf("msie")==-1)?false:true,cnnIE6:(navigator.userAgent.toLowerCase().indexOf("msie 6")==-1)?false:true,cnnIE7:(navigator.userAgent.toLowerCase().indexOf("msie 7")==-1)?false:true,cnnIE8:(navigator.userAgent.toLowerCase().indexOf("msie 8")==-1)?false:true,cnnFF:(navigator.userAgent.toLowerCase().indexOf("firefox")==-1)?false:true,cnnChrome:(navigator.userAgent.toLowerCase().indexOf("chrome")==-1)?false:true},setpagetype:function(){if(this.shareURL.match("/video/")){this.pagetype=this.pagetypes.video;}else{if(this.shareURL.match("/galleries/")||this.shareURL.match("/gallery/")){this.pagetype=this.pagetypes.gallery;}else{if(this.shareURL.match("/quizzes/")){this.pagetype=this.pagetypes.quiz;}else{if(this.shareURL.match("/poll/")){this.pagetype=this.pagetypes.poll;}else{if(this.shareURL.match("/tools/")||this.shareURL.match("/calculator/")){this.pagetype=this.pagetypes.calc;}else{if(this.shareURL.match(/(money.cnn.com\/[\d]{4}\/[\d]{2}\/[\d]{2}\/)\w+\//g)){this.pagetype=this.pagetypes.story;}else{if(this.shareURL.match("/infographic/")||this.shareURL.match("/interactive/")){this.pagetype=this.pagetypes.interactive;}else{this.pagetype=this.pagetypes.landing;}}}}}}}if((typeof cnnmsoc_overrides!=="undefined")&&(typeof cnnmsoc_overrides.global!=="undefined")&&(typeof cnnmsoc_overrides.global.pagetype!=="undefined")){switch(cnnmsoc_overrides.global.pagetype){case ("story"):case ("video"):case ("gallery"):case ("quiz"):case ("poll"):case ("listspecial"):case ("calculator"):case ("landing"):this.pagetype=this.pagetypes[cnnmsoc_overrides.global.pagetype];break;case ("infographic"):case ("interactive"):this.pagetype=this.pagetypes["interactive"];break;default:break;}}},setbuttonsets:function(){switch(this.pagetype){case (this.pagetypes.video):if(!cnnmsocial.link.killswitch){this.buttonset_main.push(cnnmsocial.link);}if(!cnnmsocial.embed.killswitch){this.buttonset_main.push(cnnmsocial.embed);}default:if(!cnnmsocial.linkedin.killswitch){this.buttonset_main.unshift(cnnmsocial.linkedin);}if(!cnnmsocial.twitter.killswitch){this.buttonset_main.unshift(cnnmsocial.twitter);}if(!cnnmsocial.facebook.killswitch){this.buttonset_main.unshift(cnnmsocial.facebook);}if(!cnnmsocial.email.killswitch){this.buttonset_main.unshift(cnnmsocial.email);}break;}if(!cnnmsocial.morebutton.killswitch){this.buttonset_main.push(cnnmsocial.morebutton);if(!cnnmsocial.pinterest.killswitch){this.buttonset_more.push(cnnmsocial.pinterest);}if(!cnnmsocial.stumbleupon.killswitch){this.buttonset_more.push(cnnmsocial.stumbleupon);}if(!cnnmsocial.gplus.killswitch){this.buttonset_more.push(cnnmsocial.gplus);}if(!cnnmsocial.reddit.killswitch){this.buttonset_more.push(cnnmsocial.reddit);}cnnmsocial.morebutton.setsharelist(this.buttonset_more);}},setsharedata:function(){this.source=cnnm_sourcing.getURLSource(this.shareURL);var b=jQuery('link[rel="canonical"]').attr("href");var c=jQuery('meta[property="og:url"]').attr("content");var g=jQuery('meta[name="title"]').attr("content");var a=jQuery('meta[property="og:title"]').attr("content");var e=jQuery('meta[property="og:image"]').attr("content");if(typeof c!=="undefined"&&c!=""){this.shareURL=c;}else{if(typeof b!=="undefined"&&b!=""){this.shareURL=b;}}this.shareURL=this.shareURL.replace("moneypreview.turner.com:86","money.cnn.com");this.shareURL=this.shareURL.replace("jcmsprod.cnn.com:86","money.cnn.com");this.shareURL=this.shareURL.replace("money.qai.cnn.com","money.cnn.com");this.shareURL=this.shareURL.replace("localhost.cnn.com/money","money.cnn.com");this.sharePath=this.sharePath.replace("//","/");split=this.sharePath.split(".com/");if(split.length>1){this.sharePath="/"+split[1];}if(typeof e!=="undefined"&&e!=""){this.shareImage=e;}this.setpagetype();if(typeof a!=="undefined"&&a!=""){this.shareTitle=a;}else{if(typeof g!=="undefined"&&g!=""){this.shareTitle=g;}}var d=document.getElementsByTagName("h1");if(this.pagetype==this.pagetypes.listspecial){this.shareTitle=document.title;}else{if(d.length==1){this.shareTitle=jQuery.trim(d[0].innerHTML);}}this.shareTitle=this.shareTitle.replace(/<(?:.|\s)*?>/g,"");switch(this.pagetype){case (this.pagetypes.quiz):multipageURL="";if(this.shareURL.indexOf("index.html")!=-1){var f=this.shareURL.lastIndexOf("index.html");multipageURL=this.shareURL.substring(0,f);}else{if(this.shareURL.indexOf(".html")!=-1){var f=this.shareURL.lastIndexOf("/");multipageURL=this.shareURL.substring(0,f)+"/";}else{if(this.shareURL.charAt(this.shareURL.length-1)=="/"){multipageURL=this.shareURL;}else{multipageURL=this.shareURL+"/";this.sharePath=this.sharePath+"/";}}}this.shareURL=multipageURL;break;default:break;}cnnmsocial.facebook.init();cnnmsocial.twitter.init();cnnmsocial.linkedin.init();cnnmsocial.gplus.init();cnnmsocial.pinterest.init();cnnmsocial.reddit.init();cnnmsocial.stumbleupon.init();cnnmsocial.email.init();cnnmsocial.print.init();cnnmsocial.embed.init();cnnmsocial.link.init();},setoverrides:function(a){if(typeof a!=="undefined"){cnnmsoc_overrides=a;}if(typeof cnnmsoc_overrides==="undefined"){return;}if(typeof cnnmsoc_overrides.global!=="undefined"){if(typeof cnnmsoc_overrides.global.floatstartselector!=="undefined"){this.positions.float_start_selector=cnnmsoc_overrides.global.floatstartselector;}if(typeof cnnmsoc_overrides.global.floatendselector!=="undefined"){this.positions.float_end_selector=cnnmsoc_overrides.global.floatendselector;}if(typeof cnnmsoc_overrides.global.url!=="undefined"){this.shareURL=cnnmsoc_overrides.global.url;cnnmsocial.facebook.setoverrides({url:this.shareURL});cnnmsocial.twitter.setoverrides({url:this.shareURL});cnnmsocial.linkedin.setoverrides({url:this.shareURL});cnnmsocial.gplus.setoverrides({url:this.shareURL});cnnmsocial.pinterest.setoverrides({url:this.shareURL});cnnmsocial.reddit.setoverrides({url:this.shareURL});cnnmsocial.stumbleupon.setoverrides({url:this.shareURL});cnnmsocial.email.setoverrides({url:this.shareURL});cnnmsocial.link.setoverrides({url:this.shareURL});cnnmsocial.embed.setoverrides({url:this.shareURL});}if(typeof cnnmsoc_overrides.global.bitlyurl!=="undefined"){this.bitlyURL=cnnmsoc_overrides.global.bitlyurl;cnnmsocial.twitter.setoverrides({bitlyURL:this.bitlyURL});}if(typeof cnnmsoc_overrides.global.title!=="undefined"){this.shareTitle=cnnmsoc_overrides.global.title;cnnmsocial.twitter.setoverrides({title:this.shareTitle});cnnmsocial.linkedin.setoverrides({title:this.shareTitle});cnnmsocial.pinterest.setoverrides({description:this.shareTitle});
cnnmsocial.reddit.setoverrides({title:this.shareTitle});cnnmsocial.stumbleupon.setoverrides({title:this.shareTitle});cnnmsocial.email.setoverrides({title:this.shareTitle});}if(typeof cnnmsoc_overrides.global.image!=="undefined"){this.shareImage=cnnmsoc_overrides.global.image;cnnmsocial.pinterest.setoverrides({image:this.shareImage});}if(typeof cnnmsoc_overrides.global.source!=="undefined"){this.source=cnnmsoc_overrides.global.source;cnnmsocial.twitter.setoverrides({source:this.source});cnnmsocial.linkedin.setoverrides({source:this.source});}if(typeof cnnmsoc_overrides.global.showcount!=="undefined"){this.showcount=cnnmsoc_overrides.global.showcount;if(this.showcount){cnnmsocial.facebook.setoverrides({showcount_like:true});cnnmsocial.twitter.setoverrides({count:"vertical"});cnnmsocial.gplus.setoverrides({annotation:"bubble"});}else{cnnmsocial.facebook.setoverrides({showcount_like:false});cnnmsocial.twitter.setoverrides({count:"none"});cnnmsocial.gplus.setoverrides({annotation:"none"});}}}if(typeof cnnmsoc_overrides.facebook!=="undefined"){cnnmsocial.facebook.setoverrides(cnnmsoc_overrides.facebook);}if(typeof cnnmsoc_overrides.twitter!=="undefined"){cnnmsocial.twitter.setoverrides(cnnmsoc_overrides.twitter);}if(typeof cnnmsoc_overrides.linkedin!=="undefined"){cnnmsocial.linkedin.setoverrides(cnnmsoc_overrides.linkedin);}if(typeof cnnmsoc_overrides.gplus!=="undefined"){cnnmsocial.gplus.setoverrides(cnnmsoc_overrides.gplus);}if(typeof cnnmsoc_overrides.pinterest!=="undefined"){cnnmsocial.pinterest.setoverrides(cnnmsoc_overrides.pinterest);}if(typeof cnnmsoc_overrides.reddit!=="undefined"){cnnmsocial.reddit.setoverrides(cnnmsoc_overrides.reddit);}if(typeof cnnmsoc_overrides.stumbleupon!=="undefined"){cnnmsocial.stumbleupon.setoverrides(cnnmsoc_overrides.stumbleupon);}if(typeof cnnmsoc_overrides.email!=="undefined"){cnnmsocial.email.setoverrides(cnnmsoc_overrides.email);}if(typeof cnnmsoc_overrides.print!=="undefined"){cnnmsocial.print.setoverrides(cnnmsoc_overrides.print);}if(typeof cnnmsoc_overrides.link!=="undefined"){cnnmsocial.link.setoverrides(cnnmsoc_overrides.link);}if(typeof cnnmsoc_overrides.embed!=="undefined"){cnnmsocial.embed.setoverrides(cnnmsoc_overrides.embed);}},addsharebar_main:function(){var a='<div id="js-sharebar-main-bin"><div>';$existingAnchor=jQuery("#js-sharebar-main");if($existingAnchor.length){$existingAnchor.html(a);}this.sharebars.$main=$existingAnchor;this.sharebars.$main_btnsbins=this.sharebars.$main.find("#js-sharebar-main-bin");},addsharebar_float:function(){var c='<div id="js-sharebar-floater-bin"><div>';var b=jQuery("#js-sharebar-floater");if(b.length){b.html(c);}else{return;}this.sharebars.$float=jQuery("#js-sharebar-floater");this.sharebars.$float_btnsbins=this.sharebars.$float.find("#js-sharebar-floater-bin");function e(j){var l=$(window);var g={top:l.scrollTop(),left:l.scrollLeft()};g.right=g.left+l.width();g.bottom=g.top+l.height();var h=j.offset();h.right=h.left+j.outerWidth();h.bottom=h.top+j.outerHeight();return(!(g.right<h.left||g.left>h.right||g.bottom<(h.top+96)||g.top>h.bottom));}function d(j){var l=$(window);var g={top:l.scrollTop()};g.bottom=g.top+l.height();var h=j.offset();h.bottom=h.top+j.outerHeight();return(g.top>h.bottom);}var f=false;if(CNNM.Social.sharebars.$main.length>0){f=e(CNNM.Social.sharebars.$main);}if(!f){CNNM.Social.sharebars.$float.fadeIn("fast");}console.log("main is on:"+f);jQuery(window).scroll(function(){var l=jQuery(document).scrollTop();var h=(CNNM.Social.positions.scroll_last_position>l)?true:false;CNNM.Social.positions.scroll_last_position=l;var j=false;if(CNNM.Social.sharebars.$main.length){j=d(CNNM.Social.sharebars.$main);}var g=false;if(jQuery(CNNM.Social.positions.float_end_selector).length){g=e(jQuery(CNNM.Social.positions.float_end_selector));CNNM.Social.positions.float_end=jQuery(CNNM.Social.positions.float_end_selector).offset().top;}if(jQuery(CNNM.Social.positions.float_start_selector).length){CNNM.Social.positions.float_start=jQuery(CNNM.Social.positions.float_start_selector).offset().top;}if(CNNM.Social.positions.is_floating&&!h&&g){CNNM.Social.positions.is_floating=false;CNNM.Social.sharebars.$float.css("top",(l-jQuery(CNNM.Social.positions.float_start_selector).offset().top)+"px");CNNM.Social.sharebars.$float.css("position","absolute");return;}if(!CNNM.Social.positions.is_floating&&CNNM.Social.positions.float_start<l&&!g){CNNM.Social.positions.is_floating=true;CNNM.Social.sharebars.$float.css("top","150px");CNNM.Social.sharebars.$float.css("position","fixed");return;}if(CNNM.Social.positions.is_floating&&CNNM.Social.positions.float_start>l){CNNM.Social.positions.is_floating=false;CNNM.Social.sharebars.$float.css("top",0);CNNM.Social.sharebars.$float.css("position","absolute");return;}if(!CNNM.Social.positions.float_hidden&&!j&&f){CNNM.Social.positions.float_hidden=true;CNNM.Social.sharebars.$float.fadeOut("fast");return;}if(CNNM.Social.positions.float_hidden&&j&&f){CNNM.Social.positions.float_hidden=false;CNNM.Social.sharebars.$float.fadeIn("fast");return;}});function a(){return window.innerWidth!=null?window.innerWidth:document.body!=null?document.body.clientWidth:null;}jQuery(window).resize(function(){if(a()>=1270){CNNM.Social.sharebars.$float.css("visibility","visible");}else{CNNM.Social.sharebars.$float.css("visibility","hidden");}});if(CNNM.Social.browser.msie){jQuery(document).ready(function(){jQuery(window).trigger("resize");jQuery(window).trigger("scroll");});}else{jQuery(window).load(function(){jQuery(window).trigger("resize");jQuery(window).trigger("scroll");});}},addsocialbuttons:function(){if(this.sharebars.$main_btnsbins!==null){this.sharebars.$main_btnsbins.html("");switch(this.pagetype){case (this.pagetypes.gallery):case (this.pagetypes.story):case (this.pagetypes.video):if(!cnnmsocial.facebook.killswitch){cnnmsocial.facebook.addlikebutton(this.sharebars.$main_btnsbins);}for(var a=0;a<this.buttonset_main.length;a++){this.buttonset_main[a].addbutton(this.sharebars.$main_btnsbins);}break;case (this.pagetypes.interactive):case (this.pagetypes.landing):case (this.pagetypes.quiz):case (this.pagetypes.poll):case (this.pagetypes.calc):case (this.pagetypes.listspecial):for(var a=0;a<this.buttonset_main.length;a++){this.buttonset_main[a].addbutton(this.sharebars.$main_btnsbins);}if(!cnnmsocial.facebook.killswitch){cnnmsocial.facebook.addlikebutton(this.sharebars.$main_btnsbins);}break;default:break;}}if(this.sharebars.$float_btnsbins!==null){this.sharebars.$float_btnsbins.html("");for(var b=0;b<this.buttonset_main.length;b++){this.buttonset_main[b].addbutton(this.sharebars.$float_btnsbins);}}},addtoutshares:function(){var a=jQuery(".js-sharebar-tout");a.each(function(m,f){var q={};var c="";var l="";var h=[];var p=[];var g=[];var b=jQuery(f);q={url:b.attr("data-url"),title:b.attr("data-title")};c=b.attr("data-mainset")||c;l=b.attr("data-moreset")||l;h=c.replace(/, /g,",").split(",");p=l.replace(/, /g,",").split(",");if(b.attr("data-image")!==undefined){q.image=b.attr("data-image");}b.html("");for(var j=0;j<p.length;j++){try{switch(p[j]){case ("fb"):g.unshift(cnnmsocial.facebook);break;case ("email"):g.unshift(cnnmsocial.email.addbutton);break;case ("tw"):g.unshift(cnnmsocial.twitter.addbutton);break;case ("linkedin"):g.unshift(cnnmsocial.linkedin.addbutton);break;case ("pinterest"):g.unshift(cnnmsocial.pinterest.addbutton);break;case ("gplus"):g.unshift(cnnmsocial.gplus.addbutton);break;case ("reddit"):g.unshift(cnnmsocial.reddit.addbutton);break;case ("stumbleupon"):g.unshift(cnnmsocial.stumbleupon.addbutton);break;default:break;}}catch(o){console.log("share [addtoutshares]: "+o.message);}}q.morelist=g;for(var d=0;d<h.length;d++){try{switch(h[d]){case ("fb"):cnnmsocial.facebook.addbutton(b,q);break;case ("email"):cnnmsocial.email.addbutton(b,q);break;case ("tw"):cnnmsocial.twitter.addbutton(b,q);break;case ("linkedin"):cnnmsocial.linkedin.addbutton(b,q);break;case ("pinterest"):cnnmsocial.pinterest.addbutton(b,q);break;case ("gplus"):cnnmsocial.gplus.addbutton(b,q);
break;case ("reddit"):cnnmsocial.reddit.addbutton(b,q);break;case ("stumbleupon"):cnnmsocial.stumbleupon.addbutton(b,q);break;case ("more"):cnnmsocial.morebutton.addbutton(b,q);break;default:break;}}catch(o){console.log("share [addtoutshares]: "+o.message);}}});},loadscripts:function(){if(!cnnmsocial.facebook.killswitch){cnnmsocial.facebook.loadscript();}if(!cnnmsocial.twitter.killswitch){cnnmsocial.twitter.loadscript();}if(!cnnmsocial.linkedin.killswitch){console.log("loading");cnnmsocial.linkedin.loadscript();}if(!cnnmsocial.email.killswitch){cnnmsocial.email.loadscript();}},refresh:function(a){if(typeof a==="undefined"){a="";}switch(a){case ("facebook"):cnnmsocial.facebook.refresh(this.sharebars.$main);cnnmsocial.facebook.refresh(this.sharebars.$float);break;case ("twitter"):cnnmsocial.twitter.refresh(this.sharebars.$main);cnnmsocial.twitter.refresh(this.sharebars.$float);break;case ("linkedin"):cnnmsocial.linkedin.refresh(this.sharebars.$main);cnnmsocial.linkedin.refresh(this.sharebars.$float);break;case ("gplus"):cnnmsocial.gplus.refresh(this.sharebars.$main);cnnmsocial.gplus.refresh(this.sharebars.$float);break;case ("pinterest"):cnnmsocial.pinterest.refresh(this.sharebars.$main);cnnmsocial.pinterest.refresh(this.sharebars.$float);break;case ("reddit"):cnnmsocial.reddit.refresh(this.sharebars.$main);cnnmsocial.reddit.refresh(this.sharebars.$float);break;case ("stumbleupon"):cnnmsocial.stumbleupon.refresh(this.sharebars.$main);cnnmsocial.stumbleupon.refresh(this.sharebars.$float);break;case ("email"):cnnmsocial.email.refresh(this.sharebars.$main);cnnmsocial.email.refresh(this.sharebars.$float);break;case ("print"):cnnmsocial.print.refresh(this.sharebars.$main);cnnmsocial.print.refresh(this.sharebars.$float);break;case ("embed"):cnnmsocial.embed.refresh(this.sharebars.$main);cnnmsocial.embed.refresh(this.sharebars.$float);break;default:cnnmsocial.facebook.refresh(this.sharebars.$main);cnnmsocial.facebook.refresh(this.sharebars.$float);cnnmsocial.twitter.refresh(this.sharebars.$main);cnnmsocial.twitter.refresh(this.sharebars.$float);cnnmsocial.linkedin.refresh(this.sharebars.$main);cnnmsocial.linkedin.refresh(this.sharebars.$float);cnnmsocial.stumbleupon.refresh(this.sharebars.$main);cnnmsocial.stumbleupon.refresh(this.sharebars.$float);cnnmsocial.email.refresh(this.sharebars.$main);cnnmsocial.email.refresh(this.sharebars.$float);cnnmsocial.gplus.refresh(this.sharebars.$main);cnnmsocial.gplus.refresh(this.sharebars.$float);cnnmsocial.pinterest.refresh(this.sharebars.$main);cnnmsocial.pinterest.refresh(this.sharebars.$float);cnnmsocial.reddit.refresh(this.sharebars.$main);cnnmsocial.reddit.refresh(this.sharebars.$float);cnnmsocial.print.refresh(this.sharebars.$main);cnnmsocial.print.refresh(this.sharebars.$float);cnnmsocial.embed.refresh(this.sharebars.$main);cnnmsocial.embed.refresh(this.sharebars.$float);cnnmsocial.morebutton.refresh(this.sharebars.$main);cnnmsocial.morebutton.refresh(this.sharebars.$float);break;}},bitlyupdate:function(a){cnnmsocial.twitter.bitlyURL=a;this.refresh("twitter");},settrackURL:function(a){if(typeof(a)!=="undefined"){this.socialtrack_URL=a;}else{this.socialtrack_URL=null;}},debugit:function(a){display="";if(typeof a!=="undefined"){display="<h3>"+a+"</h3><br />";}display+="<b>shareURL : </b>"+this.shareURL+"<br />";display+="<b>sharePath : </b>"+this.sharePath+"<br />";display+="<b>shareTitle : </b>"+this.shareTitle+"<br />";display="<li>"+display+"</li>";display+="<b>FB-url: </b>"+cnnmsocial.facebook.shareURL+"<br />";display+="<b>FB-showct: </b>"+cnnmsocial.facebook.showcount+"<br />";display+="<b>Twt-url: </b>"+cnnmsocial.twitter.shareURL+"<br />";display+="<b>Twt-bitly: </b>"+cnnmsocial.twitter.bitlyURL+"<br />";display+="<b>Twt-desc: </b>"+cnnmsocial.twitter.description+"<br />";display+="<b>Twt-source: </b>"+cnnmsocial.twitter.source+"<br />";display+="<b>Twt-related: </b>"+cnnmsocial.twitter.related+"<br />";display+="<b>Twt-count: </b>"+cnnmsocial.twitter.count+"<br />";display+="<b>LI-url: </b>"+cnnmsocial.linkedin.shareURL+"<br />";display+="<b>LI-desc: </b>"+cnnmsocial.linkedin.description+"<br />";display+="<b>LI-source: </b>"+cnnmsocial.linkedin.source+"<br />";display+="<b>LI-showct: </b>"+cnnmsocial.linkedin.showcount+"<br />";display+="<b>G+-url: </b>"+cnnmsocial.gplus.shareURL+"<br />";display+="<b>G+-annot: </b>"+cnnmsocial.gplus.annotation+"<br />";$testbox=jQuery("#cnnmsocialLog");if($testbox.length>0){$testbox.html(display);}else{display='<ul id="cnnmsocialLog" style="background: #333; border: 1px solid #000; color: #999; bottom: 0; right; 0; padding: 10px; z-index:9999999999; text-align: left;">'+display+"</ul>";jQuery("body").append(display);}},init:function(){this.setsharedata();this.setbuttonsets();this.setoverrides();this.addsharebar_main();this.addsharebar_float();if(location.hostname.indexOf("moneypreview")==-1){cnnmsocial.bitly.getbitlyURL();}this.addsocialbuttons();this.addtoutshares();this.loadscripts();}};function jumpToComments(a){try{if(jQuery(".js-livefyre-comments").length){window.scrollTo(jQuery(".js-livefyre-comments:first").offset().left,jQuery(".js-livefyre-comments:first").offset().top);}else{jQuery(a).parent().hide();}}catch(b){}return false;}function cnnUpdateShareWidget(d){var f=d.video_id;var b="//money.cnn.com/"+f+"/index.html";var e=(d.title===null)?document.title:d.title;var c=(d.image===null)?document.image:d.image;var a={global:{url:b,title:e,image:c}};CNNM.Social.setoverrides(a);if(CNNM.Social.enableRefresh){CNNM.Social.refresh();}CNNM.Social.enableRefresh=true;}(function(a){a.fn.extend({imageChanger:function(c){var b=this;this.settings=a.extend({},a.fn.imageChanger.defaults,c);this.settings.navigationHtml=['<div class="imageChanger-navigation">','<span class="imageChanger-navPrev"><img width="',b.settings.previousButton.width,'" height="',b.settings.previousButton.height,'" border="0" title="Click to view previous image" alt="Previous image" src="',b.settings.previousButton.disabled,'"></span>','<span class="imageChanger-navText"></span>','<span class="imageChanger-navNext"><img width="',b.settings.nextButton.width,'" height="',b.settings.nextButton.height,'" border="0" title="Click to view next image" alt="Next image" src="',b.settings.nextButton.disabled,'"></span>',"</div>"].join("");this.changeImage=function(m,l){var h=m.find(".imageChanger-content .imageChanger-item");var f=h.filter(".selected");var e=h.index(f[0])+1;var d=h.size();switch(l){case"-1":case"prev":if(e>1){f.fadeOut("fast",function(){a(this).removeClass("selected");a(this).prev().fadeIn("fast").addClass("selected");});e--;}break;case"1":case"next":if(e<d){f.fadeOut("fast",function(){a(this).removeClass("selected");a(this).next().fadeIn("fast").addClass("selected");});e++;}break;}if(e){m.find(".imageChanger-navigation .imageChanger-navText").text(e+"/"+d);var j=m.find(".imageChanger-navigation .imageChanger-navPrev");j.unbind();if(e==1){j.addClass("disabled").find("img").attr("src",b.settings.previousButton.disabled);}else{j.removeClass("disabled").find("img").attr("src",b.settings.previousButton.enabled).end().hover(function(){a(this).find("img").attr("src",b.settings.previousButton.hover);},function(){a(this).find("img").attr("src",b.settings.previousButton.enabled);}).click(function(){b.changeImage(m,"prev");return false;});}var g=m.find(".imageChanger-navigation .imageChanger-navNext");g.unbind();if(e==d){g.addClass("disabled").find("img").attr("src",b.settings.nextButton.disabled);}else{g.removeClass("disabled").find("img").attr("src",b.settings.nextButton.enabled).end().hover(function(){a(this).find("img").attr("src",b.settings.nextButton.hover);},function(){a(this).find("img").attr("src",b.settings.nextButton.enabled);}).click(function(){b.changeImage(m,"next");return false;});}}};return this.each(function(){var d=a(this).find(".imageChanger-content .imageChanger-item");if(d.length){a(this).show();d.eq(0).show().addClass("selected");if(d.length>1){a(this).append(b.settings.navigationHtml);a(this).find(".imageChanger-navigation").show();
b.changeImage(a(this));}}});}});a.fn.imageChanger.defaults={previousButton:{width:"27",height:"19",enabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_prev.gif",hover:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_prev_over.gif",disabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_prev_off.gif"},nextButton:{width:"27",height:"19",enabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_next.gif",hover:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_next_over.gif",disabled:"http://i.l.cnn.net/money/.element/img/2.0/fortune/buttons/image_next_off.gif"}};})(jQuery);(function(a){a.isDebugOn=function(){return typeof(Debug)!="undefined"&&Debug.debugWindow?true:false;};a.log=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.log.apply(console,arguments);}};a.logInfo=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.info.apply(console,arguments);}};a.logError=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.error.apply(console,arguments);}};a.logWarning=function(){if(typeof(console)!="undefined"&&!a.browser.msie){console.warn.apply(console,arguments);}};a.msToJsDate=function(c){var b=new Date(((c-25569)*86400000));return new Date(((c-25569+(b.getTimezoneOffset()/1440))*86400000));};a.jsToMsDate=function(c){var b=c.getTimezoneOffset()/1440;return(c.getTime()/86400000)+(25569-b);};a.create=function(){var j,d,h,e;if(arguments.length==1&&a.isArray(arguments[0])){var l=arguments[0];if(a.isArray(l)){j=arguments[0][0];d=arguments[0][1];h=arguments[0][2];e=arguments[0][3];}else{if(l instanceof $){return l;}else{if("dom"==a.type(l)){return l;}}}}else{j=arguments[0];d=arguments[1];h=arguments[2];e=arguments[3];}var s=a("<"+j+"/>");if(d){var p={};for(var q in d){var b=q.toLowerCase();var o=b.indexOf("$on");var g=b.substring(3);if(0==o&&s[g]){s[g]=d[q];}else{p[q]=d[q];}}s.attr(p);}if(null!=h){if(a.isArray(h)){var m=h.length;for(var r=0;r<m;r++){var f=h[r];if(f instanceof Array){s.append(a.create(f));}else{if(f instanceof $||"dom"==type){s.append(f);}else{s.append(document.createTextNode(String(f)));}}}}else{s.html(h);}}if(e){a(e).append(s);}return s;};a.support.maxHeight=document.createElement("div").style.maxHeight!=undefined;a.fn.bgIframe=a.fn.bgiframe=function(c){if(a.browser.msie&&(/6.0/).test(navigator.userAgent)){c=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},c||{});var d=function(e){return e&&e.constructor==Number?e+"px":e;},b='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+c.src+'"'+'style="display:block;position:absolute;z-index:-1;'+(c.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(c.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":d(c.top))+";"+"left:"+(c.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":d(c.left))+";"+"width:"+(c.width=="auto"?"expression((this.parentNode.scrollWidth + (parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*2)+'px')":d(c.width))+";"+"height:"+(c.height=="auto"?"expression((this.parentNode.scrollHeight + (parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*2)+ 'px')":d(c.height))+";"+'"/>';return this.each(function(){if(a("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(b),this.firstChild);}});}return this;};})(jQuery);(function(d){d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(f,e){d.fx.step[e]=function(g){if(g.state==0){g.start=c(g.elem,e);g.end=b(g.end);}g.elem.style[e]="rgb("+[Math.max(Math.min(parseInt((g.pos*(g.end[0]-g.start[0]))+g.start[0]),255),0),Math.max(Math.min(parseInt((g.pos*(g.end[1]-g.start[1]))+g.start[1]),255),0),Math.max(Math.min(parseInt((g.pos*(g.end[2]-g.start[2]))+g.start[2]),255),0)].join(",")+")";};});function b(f){var e;if(f&&f.constructor==Array&&f.length==3){return f;}if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])];}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return[parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55];}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)];}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];}return a[d.trim(f).toLowerCase()];}function c(g,e){var f;do{f=d.curCSS(g,e);if(f!=""&&f!="transparent"||d.nodeName(g,"body")){break;}e="backgroundColor";}while(g=g.parentNode);return b(f);}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};})(jQuery);(function(c){c.xLazyLoader=function(e,d){if(typeof e=="object"){d=e;e="init";}new b()[e](d);};c.xLazyLoader.defaults={js:[],css:[],img:[],name:null,timeout:20000,success:function(){},error:function(){},complete:function(){},each:function(){}};var a=document.getElementsByTagName("head")[0];function b(){var p=this,r,j=[],m=[],l,d,f,e=[];this.init=function(s){if(!s){return;}r=c.extend({},c.xLazyLoader.defaults,s);f={js:r.js,css:r.css,img:r.img};c.each(f,function(t,u){if(typeof u=="string"){u=u.split(",");}e=e.concat(u);});if(!e.length){h("error");return;}if(r.timeout){l=setTimeout(function(){var t=j.concat(m);c.each(e,function(v,u){c.inArray(u,t)==-1&&m.push(u);});h("error");},r.timeout);}c.each(f,function(t,u){if(c.isArray(u)){c.each(u,function(w,v){o(t,v);});}else{if(typeof u=="string"){o(t,u);}}});};this.js=function(y,z,u){var w=c('script[src*="'+y+'"]');if(w.length){w.attr("pending")?w.bind("scriptload",z):z();return;}var v=document.createElement("script");v.setAttribute("type","text/javascript");v.setAttribute("src",y);v.setAttribute("id",u);v.setAttribute("pending",1);v.onerror=q;c(v).bind("scriptload",function(){c(this).removeAttr("pending");z();setTimeout(function(){c(v).unbind("scriptload");},10);});var t=false;v.onload=v.onreadystatechange=function(){if(!t&&(!this.readyState||/loaded|complete/.test(this.readyState))){t=true;v.onload=v.onreadystatechange=null;c(v).trigger("scriptload");}};a.appendChild(v);};this.css=function(t,y,u){if(c('link[href*="'+t+'"]').length){y();return;}var v=c('<link rel="stylesheet" type="text/css" media="all" href="'+t+'" id="'+u+'"></link>')[0];if(c.browser.msie){v.onreadystatechange=function(){/loaded|complete/.test(v.readyState)&&y();};}else{if(c.browser.opera){v.onload=y;}else{var s=location.hostname.replace("www.",""),w=/http:/.test(t)?/^(\w+:)?\/\/([^\/?#]+)/.exec(t)[2]:s;s!=w&&c.browser.mozilla?y():(function(){try{v.sheet.cssRules;}catch(z){d=setTimeout(arguments.callee,20);return;}y();})();}}a.appendChild(v);};this.img=function(t,u){var s=new Image();s.onload=u;s.onerror=q;s.src=t;};this.disable=function(s){c("#lazy-loaded-"+s,a).attr("disabled","disabled");};this.enable=function(s){c("#lazy-loaded-"+s,a).removeAttr("disabled");};this.destroy=function(s){c("#lazy-loaded-"+s,a).remove();};function o(t,s){p[t](s,function(u){u=="error"?m.push(s):j.push(s)&&r.each(s);
g();},"lazy-loaded-"+(r.name?r.name:new Date().getTime()));}function h(s){r.complete(s,j,m);r[s](s=="error"?m:j);clearTimeout(l);clearTimeout(d);}function g(){if(j.length==e.length){h("success");}else{if(j.length+m.length==e.length){h("error");}}}function q(){m.push(this.src);g();}}})(jQuery);jQuery.fn.search=function(){return this.focus(function(){if(this.value==this.defaultValue){this.value="";}}).blur(function(){if(!this.value.length){this.value=this.defaultValue;var a=jQuery(this).data("closestButton")||[];if(a.length){a.data("results",-1);}}});};jQuery.belowthefold=function(b,c){if(c.container===undefined||c.container===window){var a=jQuery(window).height()+jQuery(window).scrollTop();}else{var a=jQuery(c.container).offset().top+jQuery(c.container).height();}return a<=jQuery(b).offset().top-c.threshold;};jQuery.rightoffold=function(b,c){if(c.container===undefined||c.container===window){var a=jQuery(window).width()+jQuery(window).scrollLeft();}else{var a=jQuery(c.container).offset().left+jQuery(c.container).width();}return a<=jQuery(b).offset().left-c.threshold;};jQuery.extend(jQuery.expr[":"],{"below-the-fold":"jQuery.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!jQuery.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"jQuery.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!jQuery.rightoffold(a, {threshold : 0, container: window})"});jQuery.cookie=function(b,j,o){if(typeof j!="undefined"){o=o||{};if(j===null){j="";o=jQuery.extend({},o);o.expires=-1;}var e="";if(o.expires&&(typeof o.expires=="number"||o.expires.toUTCString)){var f;if(typeof o.expires=="number"){f=new Date();f.setTime(f.getTime()+(o.expires*24*60*60*1000));}else{f=o.expires;}e="; expires="+f.toUTCString();}var m=o.path?"; path="+(o.path):"";var g=o.domain?"; domain="+(o.domain):"";var a=o.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,m,g,a].join("");}else{var d=null;if(document.cookie&&document.cookie!=""){var l=document.cookie.split(";");for(var h=0;h<l.length;h++){var c=jQuery.trim(l[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break;}}}return d;}};(function(f){var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var h=["January","February","March","April","May","June","July","August","September","October","November","December"];f.PHPDate=function(j,m){var p="";var s="";j=j.replace(/r/g,"D, j M Y H;i:s O");for(var r=0;r<j.length;r++){p=j.charAt(r);switch(p){case"x":p="ET";break;case"a":p=g(m.getHours());break;case"c":p=(m.getFullYear()+"-"+b(m.getMonth())+"-"+b(m.getDate())+"T"+b(m.getHours())+":"+b(m.getMinutes())+":"+b(m.getSeconds()));var o=m.toString().split(" ")[5];if(o.indexOf("-")>-1){p+=o.substr(o.indexOf("-"));}else{if(o.indexOf("+")>-1){p+=o.substr(o.indexOf("+"));}else{p+="+0000";}}break;case"d":p=b(m.getDate());break;case"g":p=a(m.getHours());break;case"h":p=b(a(m.getHours()));break;case"i":p=b(m.getMinutes());break;case"j":p=m.getDate();break;case"l":p=c[m.getDay()];break;case"m":p=b(m.getMonth()+1);break;case"n":p=m.getMonth()+1;break;case"o":(new Date(d(m.getFullYear()))>m)?p=(m.getFullYear()-1):p=m.getFullYear();break;case"s":p=b(m.getSeconds());break;case"t":var w=new Date(m.valueOf());w.setMonth(w.getMonth()+1);w.setDate(0);p=w.getDate();break;case"u":p=m.getMilliseconds();break;case"w":p=m.getDay();break;case"y":p=m.getFullYear().toString().substr(2,2);break;case"z":var y=new Date(m.getFullYear(),0,1,0,0,0,0);var u=new Date(m.getFullYear(),m.getMonth(),m.getDate(),0,0,0,0);p=Math.round((u.valueOf()-y.valueOf())/1000/60/60/24);break;case"A":p=g(m.getHours()).toUpperCase();break;case"B":p=Math.floor(((m.getHours()*60*60*1000)+(m.getMinutes()*60*1000)+(m.getSeconds()*1000)+(m.getMilliseconds()))/86400);break;case"D":p=c[m.getDay()].substr(0,3);break;case"F":p=h[m.getMonth()];break;case"G":p=m.getHours();break;case"H":p=b(m.getHours());break;case"I":var q=new Date(m.getFullYear(),0,1);var v=new Date(m.getFullYear(),m.getMonth(),m.getDate());var l=(v.valueOf()-q.valueOf())/1000/60/60/24;(l==Math.round(l))?p=0:p=1;break;case"L":((new Date(m.getFullYear(),2,0)).getDate()==29)?p=1:p=0;break;case"M":p=h[m.getMonth()].substr(0,3);break;case"N":(m.getDay()==0)?p=7:p=m.getDay();break;case"O":var o=m.toString().split(" ")[5];if(o.indexOf("-")>-1){p=o.substr(o.indexOf("-"));}else{if(o.indexOf("+")>-1){p=o.substr(o.indexOf("+"));}else{p="+0000";}}break;case"P":var o=m.toString().split(" ")[5];if(o.indexOf("-")>-1){var t=o.substr(o.indexOf("-")+1).split("");p=("-"+t[0]+t[1]+":"+t[2]+t[3]);}else{if(o.indexOf("+")>-1){var t=o.substr(o.indexOf("+")+1).split("");p=("+"+t[0]+t[1]+":"+t[2]+t[3]);}else{p="+00:00";}}break;case"S":p=e(m.getDate());break;case"T":p=m.toString().split(" ")[5];if(p.indexOf("+")>-1){p=p.substr(0,p.indexOf("+"));}else{if(p.indexOf("-")>-1){p=p.substr(0,p.indexOf("-"));}}break;case"U":p=Math.floor(m.getTime()/1000);break;case"W":var q=new Date(d(m.getFullYear()));var v=new Date(m.getFullYear(),m.getMonth(),m.getDate());p=Math.ceil(Math.round((v.valueOf()-q.valueOf())/1000/60/60/24)/7);break;case"Y":p=m.getFullYear();break;case"Z":(m.getTimezoneOffset()<0)?p=Math.abs(m.getTimezoneOffset()*60):p=(0-(m.getTimezoneOffset()*60));break;}s+=p.toString();}return s;};function b(j){if(j<10){j=("0"+j);}return j;}function g(j){if(j>11){return"pm";}else{return"am";}}function e(l){var j="th";switch(parseInt(l)){case 1:case 21:case 31:j="st";break;case 2:case 22:j="nd";break;case 3:case 23:j="rd";}return j;}function d(l){var j=new Date(l,0,1);while(j.getDay()!=1){j.setDate(j.getDate()+1);}return j.valueOf();}function a(j){if(j==0){j=24;}else{if(j>12){j-=12;}}return j;}})(jQuery);jQuery.ui||(function(r){var j=r.fn.remove,q=r.browser.mozilla&&(parseFloat(r.browser.version)<1.9);r.ui={version:"1.7.2",plugin:{add:function(c,b,e){var a=r.ui[c].prototype;for(var d in e){a.plugins[d]=a.plugins[d]||[];a.plugins[d].push([b,e[d]]);}},call:function(d,b,c){var e=d.plugins[b];if(!e||!d.element[0].parentNode){return;}for(var a=0;a<e.length;a++){if(d.options[e[a][0]]){e[a][1].apply(d.element,c);}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b);},hasScroll:function(a,c){if(r(a).css("overflow")=="hidden"){return false;}var d=(c&&c=="left")?"scrollLeft":"scrollTop",b=false;if(a[d]>0){return true;}a[d]=1;b=(a[d]>0);a[d]=0;return b;},isOverAxis:function(b,c,a){return(b>c)&&(b<(c+a));},isOver:function(e,c,f,a,d,b){return r.ui.isOverAxis(e,f,d)&&r.ui.isOverAxis(c,a,b);},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(q){var o=r.attr,p=r.fn.removeAttr,l="http://www.w3.org/2005/07/aaa",t=/^aria-/,s=/^wairole:/;r.attr=function(c,d,b){var a=b!==undefined;return(d=="role"?(a?o.call(this,c,d,"wairole:"+b):(o.apply(this,arguments)||"").replace(s,"")):(t.test(d)?(a?c.setAttributeNS(l,d.replace(t,"aaa:"),b):o.call(this,c,d.replace(t,"aaa:"))):o.apply(this,arguments)));};r.fn.removeAttr=function(a){return(t.test(a)?this.each(function(){this.removeAttributeNS(l,a.replace(t,""));}):p.call(this,a));};}r.fn.extend({remove:function(){r("*",this).add(this).each(function(){r(this).triggerHandler("remove");});return j.apply(this,arguments);},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui");},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false;});},scrollParent:function(){var a;if((r.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){a=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(r.curCSS(this,"position",1))&&(/(auto|scroll)/).test(r.curCSS(this,"overflow",1)+r.curCSS(this,"overflow-y",1)+r.curCSS(this,"overflow-x",1));
}).eq(0);}else{a=this.parents().filter(function(){return(/(auto|scroll)/).test(r.curCSS(this,"overflow",1)+r.curCSS(this,"overflow-y",1)+r.curCSS(this,"overflow-x",1));}).eq(0);}return(/fixed/).test(this.css("position"))||!a.length?r(document):a;}});r.extend(r.expr[":"],{data:function(a,b,c){return !!r.data(a,c[3]);},focusable:function(b){var a=b.nodeName.toLowerCase(),c=r.attr(b,"tabindex");return(/input|select|textarea|button|object/.test(a)?!b.disabled:"a"==a||"area"==a?b.href||!isNaN(c):!isNaN(c))&&!r(b)["area"==a?"parents":"closest"](":hidden").length;},tabbable:function(a){var b=r.attr(a,"tabindex");return(isNaN(b)||b>=0)&&r(a).is(":focusable");}});function m(a,f,e,b){function c(g){var h=r[a][f][g]||[];return(typeof h=="string"?h.split(/,?\s+/):h);}var d=c("getter");if(b.length==1&&typeof b[0]=="string"){d=d.concat(c("getterSetter"));}return(r.inArray(e,d)!=-1);}r.widget=function(b,c){var a=b.split(".")[0];b=b.split(".")[1];r.fn[b]=function(e){var g=(typeof e=="string"),f=Array.prototype.slice.call(arguments,1);if(g&&e.substring(0,1)=="_"){return this;}if(g&&m(a,b,e,f)){var d=r.data(this[0],b);return(d?d[e].apply(d,f):undefined);}return this.each(function(){var h=r.data(this,b);(!h&&!g&&r.data(this,b,new r[a][b](this,e))._init());(h&&g&&r.isFunction(h[e])&&h[e].apply(h,f));});};r[a]=r[a]||{};r[a][b]=function(e,f){var d=this;this.namespace=a;this.widgetName=b;this.widgetEventPrefix=r[a][b].eventPrefix||b;this.widgetBaseClass=a+"-"+b;this.options=r.extend({},r.widget.defaults,r[a][b].defaults,r.metadata&&r.metadata.get(e)[b],f);this.element=r(e).bind("setData."+b,function(h,u,g){if(h.target==e){return d._setData(u,g);}}).bind("getData."+b,function(g,h){if(g.target==e){return d._getData(h);}}).bind("remove",function(){return d.destroy();});};r[a][b].prototype=r.extend({},r.widget.prototype,c);r[a][b].getterSetter="option";};r.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled");},option:function(b,a){var c=b,d=this;if(typeof b=="string"){if(a===undefined){return this._getData(b);}c={};c[b]=a;}r.each(c,function(f,e){d._setData(f,e);});},_getData:function(a){return this.options[a];},_setData:function(b,a){this.options[b]=a;if(b=="disabled"){this.element[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",a);}},enable:function(){this._setData("disabled",false);},disable:function(){this._setData("disabled",true);},_trigger:function(b,a,g){var e=this.options[b],d=(b==this.widgetEventPrefix?b:this.widgetEventPrefix+b);a=r.Event(a);a.type=d;if(a.originalEvent){for(var c=r.event.props.length,f;c;){f=r.event.props[--c];a[f]=a.originalEvent[f];}}this.element.trigger(a,g);return !(r.isFunction(e)&&e.call(this.element[0],a,g)===false||a.isDefaultPrevented());}};r.widget.defaults={disabled:false};r.ui.mouse={_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b);}).bind("click."+this.widgetName,function(b){if(a._preventClickEvent){a._preventClickEvent=false;b.stopImmediatePropagation();return false;}});if(r.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on");}this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(r.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable));},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(b.originalEvent.mouseHandled){return;}(this._mouseStarted&&this._mouseUp(b));this._mouseDownEvent=b;var c=this,a=(b.which==1),d=(typeof this.options.cancel=="string"?r(b.target).parents().add(b.target).filter(this.options.cancel).length:false);if(!a||d||!this._mouseCapture(b)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=(this._mouseStart(b)!==false);if(!this._mouseStarted){b.preventDefault();return true;}}this._mouseMoveDelegate=function(e){return c._mouseMove(e);};this._mouseUpDelegate=function(e){return c._mouseUp(e);};r(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(r.browser.safari||b.preventDefault());b.originalEvent.mouseHandled=true;return true;},_mouseMove:function(a){if(r.browser.msie&&!a.button){return this._mouseUp(a);}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault();}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,a)!==false);(this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));}return !this._mouseStarted;},_mouseUp:function(a){r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(a.target==this._mouseDownEvent.target);this._mouseStop(a);}return false;},_mouseDistanceMet:function(a){return(Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance);},_mouseDelayMet:function(a){return this.mouseDelayMet;},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return true;}};r.ui.mouse.defaults={cancel:null,distance:1,delay:0};})(jQuery);(function(b){b.widget("ui.draggable",b.extend({},b.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit();},destroy:function(){if(!this.element.data("draggable")){return;}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();},_mouseCapture:function(a){var d=this.options;if(this.helper||d.disabled||b(a.target).is(".ui-resizable-handle")){return false;}this.handle=this._getHandle(a);if(!this.handle){return false;}return true;},_mouseStart:function(a){var d=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(b.ui.ddmanager){b.ui.ddmanager.current=this;}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;if(d.cursorAt){this._adjustOffsetFromHelper(d.cursorAt);}if(d.containment){this._setContainment();}this._trigger("start",a);this._cacheHelperProportions();if(b.ui.ddmanager&&!d.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,a);}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true;},_mouseDrag:function(a,e){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!e){var f=this._uiHash();this._trigger("drag",a,f);this.position=f.position;}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}if(b.ui.ddmanager){b.ui.ddmanager.drag(this,a);}return false;},_mouseStop:function(f){var e=false;if(b.ui.ddmanager&&!this.options.dropBehaviour){e=b.ui.ddmanager.drop(this,f);}if(this.dropped){e=this.dropped;this.dropped=false;}if((this.options.revert=="invalid"&&!e)||(this.options.revert=="valid"&&e)||this.options.revert===true||(b.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){var a=this;
b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",f);a._clear();});}else{this._trigger("stop",f);this._clear();}return false;},_getHandle:function(a){var d=!this.options.handle||!b(this.options.handle,this.element).length?true:false;b(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target){d=true;}});return d;},_createHelper:function(f){var e=this.options;var a=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[f])):(e.helper=="clone"?this.element.clone():this.element);if(!a.parents("body").length){a.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo));}if(a[0]!=this.element[0]&&!(/(fixed|absolute)/).test(a.css("position"))){a.css("position","absolute");}return a;},_adjustOffsetFromHelper:function(a){if(a.left!=undefined){this.offset.click.left=a.left+this.margins.left;}if(a.right!=undefined){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;}if(a.top!=undefined){this.offset.click.top=a.top+this.margins.top;}if(a.bottom!=undefined){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop();}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)){a={top:0,left:0};}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode;}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var h=b(f.containment)[0];if(!h){return;}var g=b(f.containment).offset();var a=(b(h).css("overflow")!="hidden");this.containment=[g.left+(parseInt(b(h).css("borderLeftWidth"),10)||0)+(parseInt(b(h).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(b(h).css("borderTopWidth"),10)||0)+(parseInt(b(h).css("paddingTop"),10)||0)-this.margins.top,g.left+(a?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(b(h).css("borderLeftWidth"),10)||0)-(parseInt(b(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,g.top+(a?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(b(h).css("borderTopWidth"),10)||0)-(parseInt(b(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}else{if(f.containment.constructor==Array){this.containment=f.containment;}}},_convertPositionTo:function(l,d){if(!d){d=this.position;}var o=l=="absolute"?1:-1;var m=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);return{top:(d.top+this.offset.relative.top*o+this.offset.parent.top*o-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop()))*o)),left:(d.left+this.offset.relative.left*o+this.offset.parent.left*o-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())*o))};},_generatePosition:function(p){var l=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}var q=p.pageX;var r=p.pageY;if(this.originalPosition){if(this.containment){if(p.pageX-this.offset.click.left<this.containment[0]){q=this.containment[0]+this.offset.click.left;}if(p.pageY-this.offset.click.top<this.containment[1]){r=this.containment[1]+this.offset.click.top;}if(p.pageX-this.offset.click.left>this.containment[2]){q=this.containment[2]+this.offset.click.left;}if(p.pageY-this.offset.click.top>this.containment[3]){r=this.containment[3]+this.offset.click.top;}}if(l.grid){var m=this.originalPageY+Math.round((r-this.originalPageY)/l.grid[1])*l.grid[1];r=this.containment?(!(m-this.offset.click.top<this.containment[1]||m-this.offset.click.top>this.containment[3])?m:(!(m-this.offset.click.top<this.containment[1])?m-l.grid[1]:m+l.grid[1])):m;var o=this.originalPageX+Math.round((q-this.originalPageX)/l.grid[0])*l.grid[0];q=this.containment?(!(o-this.offset.click.left<this.containment[0]||o-this.offset.click.left>this.containment[2])?o:(!(o-this.offset.click.left<this.containment[0])?o-l.grid[0]:o+l.grid[0])):o;}}return{top:(r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop())))),left:(q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(a,f,e){e=e||this._uiHash();b.ui.plugin.call(this,a,[f,e]);if(a=="drag"){this.positionAbs=this._convertPositionTo("absolute");}return b.widget.prototype._trigger.call(this,a,f,e);},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs};}}));b.extend(b.ui.draggable,{version:"1.7.2",eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});b.ui.plugin.add("draggable","connectToSortable",{start:function(l,h){var j=b(this).data("draggable"),g=j.options,a=b.extend({},h,{item:j.element});j.sortables=[];b(g.connectToSortable).each(function(){var c=b.data(this,"sortable");if(c&&!c.options.disabled){j.sortables.push({instance:c,shouldRevert:c.options.revert});c._refreshItems();c._trigger("activate",l,a);}});},stop:function(h,f){var g=b(this).data("draggable"),a=b.extend({},f,{item:g.element});b.each(g.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;g.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;
if(this.shouldRevert){this.instance.options.revert=true;}this.instance._mouseStop(h);this.instance.options.helper=this.instance.options._helper;if(g.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",h,a);}});},drag:function(l,g){var h=b(this).data("draggable"),a=this;var j=function(r){var d=this.offset.click.top,e=this.offset.click.left;var t=this.positionAbs.top,o=this.positionAbs.left;var q=r.height,f=r.width;var c=r.top,s=r.left;return b.ui.isOver(t+d,o+e,c,s,q,f);};b.each(h.sortables,function(c){this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=b(a).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0];};l.target=this.instance.currentItem[0];this.instance._mouseCapture(l,true);this.instance._mouseStart(l,true,true);this.instance.offset.click.top=h.offset.click.top;this.instance.offset.click.left=h.offset.click.left;this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top;h._trigger("toSortable",l);h.dropped=this.instance.element;h.currentItem=h.element;this.instance.fromOutside=h;}if(this.instance.currentItem){this.instance._mouseDrag(l);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",l,this.instance._uiHash(this.instance));this.instance._mouseStop(l,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}h._trigger("fromSortable",l);h.dropped=false;}}});}});b.ui.plugin.add("draggable","cursor",{start:function(h,g){var a=b("body"),f=b(this).data("draggable").options;if(a.css("cursor")){f._cursor=a.css("cursor");}a.css("cursor",f.cursor);},stop:function(a,f){var e=b(this).data("draggable").options;if(e._cursor){b("body").css("cursor",e._cursor);}}});b.ui.plugin.add("draggable","iframeFix",{start:function(a,f){var e=b(this).data("draggable").options;b(e.iframeFix===true?"iframe":e.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(b(this).offset()).appendTo("body");});},stop:function(a,d){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});}});b.ui.plugin.add("draggable","opacity",{start:function(h,g){var a=b(g.helper),f=b(this).data("draggable").options;if(a.css("opacity")){f._opacity=a.css("opacity");}a.css("opacity",f.opacity);},stop:function(a,f){var e=b(this).data("draggable").options;if(e._opacity){b(f.helper).css("opacity",e._opacity);}}});b.ui.plugin.add("draggable","scroll",{start:function(f,e){var a=b(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML"){a.overflowOffset=a.scrollParent.offset();}},drag:function(j,h){var l=b(this).data("draggable"),g=l.options,a=false;if(l.scrollParent[0]!=document&&l.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((l.overflowOffset.top+l.scrollParent[0].offsetHeight)-j.pageY<g.scrollSensitivity){l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop+g.scrollSpeed;}else{if(j.pageY-l.overflowOffset.top<g.scrollSensitivity){l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop-g.scrollSpeed;}}}if(!g.axis||g.axis!="y"){if((l.overflowOffset.left+l.scrollParent[0].offsetWidth)-j.pageX<g.scrollSensitivity){l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft+g.scrollSpeed;}else{if(j.pageX-l.overflowOffset.left<g.scrollSensitivity){l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft-g.scrollSpeed;}}}}else{if(!g.axis||g.axis!="x"){if(j.pageY-b(document).scrollTop()<g.scrollSensitivity){a=b(document).scrollTop(b(document).scrollTop()-g.scrollSpeed);}else{if(b(window).height()-(j.pageY-b(document).scrollTop())<g.scrollSensitivity){a=b(document).scrollTop(b(document).scrollTop()+g.scrollSpeed);}}}if(!g.axis||g.axis!="y"){if(j.pageX-b(document).scrollLeft()<g.scrollSensitivity){a=b(document).scrollLeft(b(document).scrollLeft()-g.scrollSpeed);}else{if(b(window).width()-(j.pageX-b(document).scrollLeft())<g.scrollSensitivity){a=b(document).scrollLeft(b(document).scrollLeft()+g.scrollSpeed);}}}}if(a!==false&&b.ui.ddmanager&&!g.dropBehaviour){b.ui.ddmanager.prepareOffsets(l,j);}}});b.ui.plugin.add("draggable","snap",{start:function(h,g){var a=b(this).data("draggable"),f=a.options;a.snapElements=[];b(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var c=b(this);var d=c.offset();if(this!=a.element[0]){a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left});}});},drag:function(t,E){var K=b(this).data("draggable"),C=K.options;var d=C.snapTolerance;var l=E.offset.left,o=l+K.helperProportions.width,L=E.offset.top,M=L+K.helperProportions.height;for(var r=K.snapElements.length-1;r>=0;r--){var B=K.snapElements[r].left,F=B+K.snapElements[r].width,G=K.snapElements[r].top,D=G+K.snapElements[r].height;if(!((B-d<l&&l<F+d&&G-d<L&&L<D+d)||(B-d<l&&l<F+d&&G-d<M&&M<D+d)||(B-d<o&&o<F+d&&G-d<L&&L<D+d)||(B-d<o&&o<F+d&&G-d<M&&M<D+d))){if(K.snapElements[r].snapping){(K.options.snap.release&&K.options.snap.release.call(K.element,t,b.extend(K._uiHash(),{snapItem:K.snapElements[r].item})));}K.snapElements[r].snapping=false;continue;}if(C.snapMode!="inner"){var N=Math.abs(G-M)<=d;var a=Math.abs(D-L)<=d;var I=Math.abs(B-o)<=d;var H=Math.abs(F-l)<=d;if(N){E.position.top=K._convertPositionTo("relative",{top:G-K.helperProportions.height,left:0}).top-K.margins.top;}if(a){E.position.top=K._convertPositionTo("relative",{top:D,left:0}).top-K.margins.top;}if(I){E.position.left=K._convertPositionTo("relative",{top:0,left:B-K.helperProportions.width}).left-K.margins.left;}if(H){E.position.left=K._convertPositionTo("relative",{top:0,left:F}).left-K.margins.left;}}var J=(N||a||I||H);if(C.snapMode!="outer"){var N=Math.abs(G-L)<=d;var a=Math.abs(D-M)<=d;var I=Math.abs(B-l)<=d;var H=Math.abs(F-o)<=d;if(N){E.position.top=K._convertPositionTo("relative",{top:G,left:0}).top-K.margins.top;}if(a){E.position.top=K._convertPositionTo("relative",{top:D-K.helperProportions.height,left:0}).top-K.margins.top;}if(I){E.position.left=K._convertPositionTo("relative",{top:0,left:B}).left-K.margins.left;}if(H){E.position.left=K._convertPositionTo("relative",{top:0,left:F-K.helperProportions.width}).left-K.margins.left;}}if(!K.snapElements[r].snapping&&(N||a||I||H||J)){(K.options.snap.snap&&K.options.snap.snap.call(K.element,t,b.extend(K._uiHash(),{snapItem:K.snapElements[r].item})));}K.snapElements[r].snapping=(N||a||I||H||J);}}});b.ui.plugin.add("draggable","stack",{start:function(a,h){var f=b(this).data("draggable").options;var g=b.makeArray(b(f.stack.group)).sort(function(c,d){return(parseInt(b(c).css("zIndex"),10)||f.stack.min)-(parseInt(b(d).css("zIndex"),10)||f.stack.min);});b(g).each(function(c){this.style.zIndex=f.stack.min+c;});this[0].style.zIndex=f.stack.min+g.length;}});b.ui.plugin.add("draggable","zIndex",{start:function(h,g){var a=b(g.helper),f=b(this).data("draggable").options;if(a.css("zIndex")){f._zIndex=a.css("zIndex");}a.css("zIndex",f.zIndex);},stop:function(a,f){var e=b(this).data("draggable").options;if(e._zIndex){b(f.helper).css("zIndex",e._zIndex);}}});})(jQuery);(function(b){b.widget("ui.droppable",{_init:function(){var d=this.options,a=d.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&b.isFunction(this.options.accept)?this.options.accept:function(c){return c.is(a);
};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[this.options.scope]=b.ui.ddmanager.droppables[this.options.scope]||[];b.ui.ddmanager.droppables[this.options.scope].push(this);(this.options.addClasses&&this.element.addClass("ui-droppable"));},destroy:function(){var a=b.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<a.length;d++){if(a[d]==this){a.splice(d,1);}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");},_setData:function(a,d){if(a=="accept"){this.options.accept=d&&b.isFunction(d)?d:function(c){return c.is(d);};}else{b.widget.prototype._setData.apply(this,arguments);}},_activate:function(d){var a=b.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass);}(a&&this._trigger("activate",d,this.ui(a)));},_deactivate:function(d){var a=b.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}(a&&this._trigger("deactivate",d,this.ui(a)));},_over:function(d){var a=b.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return;}if(this.options.accept.call(this.element[0],(a.currentItem||a.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}this._trigger("over",d,this.ui(a));}},_out:function(d){var a=b.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return;}if(this.options.accept.call(this.element[0],(a.currentItem||a.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}this._trigger("out",d,this.ui(a));}},_drop:function(h,g){var a=g||b.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return false;}var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var c=b.data(this,"droppable");if(c.options.greedy&&b.ui.intersect(a,b.extend(c,{offset:c.element.offset()}),c.options.tolerance)){f=true;return false;}});if(f){return false;}if(this.options.accept.call(this.element[0],(a.currentItem||a.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}this._trigger("drop",h,this.ui(a));return this.element;}return false;},ui:function(a){return{draggable:(a.currentItem||a.element),helper:a.helper,position:a.position,absolutePosition:a.positionAbs,offset:a.positionAbs};}});b.extend(b.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});b.ui.intersect=function(a,v,r){if(!v.offset){return false;}var B=(a.positionAbs||a.position.absolute).left,C=B+a.helperProportions.width,s=(a.positionAbs||a.position.absolute).top,t=s+a.helperProportions.height;var z=v.offset.left,D=z+v.proportions.width,l=v.offset.top,u=l+v.proportions.height;switch(r){case"fit":return(z<B&&C<D&&l<s&&t<u);break;case"intersect":return(z<B+(a.helperProportions.width/2)&&C-(a.helperProportions.width/2)<D&&l<s+(a.helperProportions.height/2)&&t-(a.helperProportions.height/2)<u);break;case"pointer":var y=((a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left),w=((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top),A=b.ui.isOver(w,y,l,z,v.proportions.height,v.proportions.width);return A;break;case"touch":return((s>=l&&s<=u)||(t>=l&&t<=u)||(s<l&&t>u))&&((B>=z&&B<=D)||(C>=z&&C<=D)||(B<z&&C>D));break;default:return false;break;}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(o,l){var a=b.ui.ddmanager.droppables[o.options.scope];var m=l?l.type:null;var j=(o.currentItem||o.element).find(":data(droppable)").andSelf();droppablesLoop:for(var p=0;p<a.length;p++){if(a[p].options.disabled||(o&&!a[p].options.accept.call(a[p].element[0],(o.currentItem||o.element)))){continue;}for(var q=0;q<j.length;q++){if(j[q]==a[p].element[0]){a[p].proportions.height=0;continue droppablesLoop;}}a[p].visible=a[p].element.css("display")!="none";if(!a[p].visible){continue;}a[p].offset=a[p].element.offset();a[p].proportions={width:a[p].element[0].offsetWidth,height:a[p].element[0].offsetHeight};if(m=="mousedown"){a[p]._activate.call(a[p],l);}}},drop:function(a,f){var e=false;b.each(b.ui.ddmanager.droppables[a.options.scope],function(){if(!this.options){return;}if(!this.options.disabled&&this.visible&&b.ui.intersect(a,this,this.options.tolerance)){e=this._drop.call(this,f);}if(!this.options.disabled&&this.visible&&this.options.accept.call(this.element[0],(a.currentItem||a.element))){this.isout=1;this.isover=0;this._deactivate.call(this,f);}});return e;},drag:function(a,d){if(a.options.refreshPositions){b.ui.ddmanager.prepareOffsets(a,d);}b.each(b.ui.ddmanager.droppables[a.options.scope],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}var j=b.ui.intersect(a,this,this.options.tolerance);var c=!j&&this.isover==1?"isout":(j&&this.isover==0?"isover":null);if(!c){return;}var h;if(this.options.greedy){var l=this.element.parents(":data(droppable):eq(0)");if(l.length){h=b.data(l[0],"droppable");h.greedyChild=(c=="isover"?1:0);}}if(h&&c=="isover"){h.isover=0;h.isout=1;h._out.call(h,d);}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,d);if(h&&c=="isout"){h.isout=0;h.isover=1;h._over.call(h,d);}});}};})(jQuery);(function(b){b.widget("ui.sortable",b.extend({},b.ui.mouse,{_init:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?(/left|right/).test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit();},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData("sortable-item");}},_mouseCapture:function(l,j){if(this.reverting){return false;}if(this.options.disabled||this.options.type=="static"){return false;}this._refreshItems(l);var m=null,o=this,a=b(l.target).parents().each(function(){if(b.data(this,"sortable-item")==o){m=b(this);return false;}});if(b.data(l.target,"sortable-item")==o){m=b(l.target);}if(!m){return false;}if(this.options.handle&&!j){var h=false;b(this.options.handle,m).find("*").andSelf().each(function(){if(this==l.target){h=true;}});if(!h){return false;}}this.currentItem=m;this._removeCurrentsFromItems();return true;},_mouseStart:function(l,j,a){var h=this.options,o=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(l);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");b.extend(this.offset,{click:{left:l.pageX-this.offset.left,top:l.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(l);this.originalPageX=l.pageX;this.originalPageY=l.pageY;if(h.cursorAt){this._adjustOffsetFromHelper(h.cursorAt);}this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide();}this._createPlaceholder();if(h.containment){this._setContainment();}if(h.cursor){if(b("body").css("cursor")){this._storedCursor=b("body").css("cursor");}b("body").css("cursor",h.cursor);}if(h.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}this.helper.css("opacity",h.opacity);}if(h.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}this.helper.css("zIndex",h.zIndex);}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset();
}this._trigger("start",l,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}if(!a){for(var m=this.containers.length-1;m>=0;m--){this.containers[m]._trigger("activate",l,o._uiHash(this));}}if(b.ui.ddmanager){b.ui.ddmanager.current=this;}if(b.ui.ddmanager&&!h.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,l);}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(l);return true;},_mouseDrag:function(m){this.position=this._generatePosition(m);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}if(this.options.scroll){var l=this.options,a=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-m.pageY<l.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+l.scrollSpeed;}else{if(m.pageY-this.overflowOffset.top<l.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-l.scrollSpeed;}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-m.pageX<l.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+l.scrollSpeed;}else{if(m.pageX-this.overflowOffset.left<l.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-l.scrollSpeed;}}}else{if(m.pageY-b(document).scrollTop()<l.scrollSensitivity){a=b(document).scrollTop(b(document).scrollTop()-l.scrollSpeed);}else{if(b(window).height()-(m.pageY-b(document).scrollTop())<l.scrollSensitivity){a=b(document).scrollTop(b(document).scrollTop()+l.scrollSpeed);}}if(m.pageX-b(document).scrollLeft()<l.scrollSensitivity){a=b(document).scrollLeft(b(document).scrollLeft()-l.scrollSpeed);}else{if(b(window).width()-(m.pageX-b(document).scrollLeft())<l.scrollSensitivity){a=b(document).scrollLeft(b(document).scrollLeft()+l.scrollSpeed);}}}if(a!==false&&b.ui.ddmanager&&!l.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,m);}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}for(var p=this.items.length-1;p>=0;p--){var o=this.items[p],q=o.item[0],j=this._intersectsWithPointer(o);if(!j){continue;}if(q!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=q&&!b.ui.contains(this.placeholder[0],q)&&(this.options.type=="semi-dynamic"?!b.ui.contains(this.element[0],q):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(o)){this._rearrange(m,o);}else{break;}this._trigger("change",m,this._uiHash());break;}}this._contactContainers(m);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,m);}this._trigger("sort",m,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(h,g){if(!h){return;}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,h);}if(this.options.revert){var a=this;var f=a.placeholder.offset();a.reverting=true;b(this.helper).animate({left:f.left-this.offset.parent.left-a.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-a.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){a._clear(h);});}else{this._clear(h,g);}return false;},cancel:function(){var a=this;if(this.dragging){this._mouseUp();if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,a._uiHash(this));if(this.containers[d].containerCache.over){this.containers[d]._trigger("out",null,a._uiHash(this));this.containers[d].containerCache.over=0;}}}if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem);}else{b(this.domPosition.parent).prepend(this.currentItem);}return true;},serialize:function(e){var a=this._getItemsAsjQuery(e&&e.connected);var f=[];e=e||{};b(a).each(function(){var c=(b(e.item||this).attr(e.attribute||"id")||"").match(e.expression||(/(.+)[-=_](.+)/));if(c){f.push((e.key||c[1]+"[]")+"="+(e.key&&e.expression?c[1]:c[2]));}});return f.join("&");},toArray:function(e){var a=this._getItemsAsjQuery(e&&e.connected);var f=[];e=e||{};a.each(function(){f.push(b(e.item||this).attr(e.attribute||"id")||"");});return f;},_intersectsWith:function(p){var w=this.positionAbs.left,y=w+this.helperProportions.width,q=this.positionAbs.top,r=q+this.helperProportions.height;var v=p.left,z=v+p.width,l=p.top,s=l+p.height;var a=this.offset.click.top,t=this.offset.click.left;var u=(q+a)>l&&(q+a)<s&&(w+t)>v&&(w+t)<z;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>p[this.floating?"width":"height"])){return u;}else{return(v<w+(this.helperProportions.width/2)&&y-(this.helperProportions.width/2)<z&&l<q+(this.helperProportions.height/2)&&r-(this.helperProportions.height/2)<s);}},_intersectsWithPointer:function(m){var l=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,m.top,m.height),o=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,m.left,m.width),h=l&&o,a=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();if(!h){return false;}return this.floating?(((j&&j=="right")||a=="down")?2:1):(a&&(a=="down"?2:1));},_intersectsWithSides:function(h){var l=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,h.top+(h.height/2),h.height),j=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,h.left+(h.width/2),h.width),a=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(this.floating&&g){return((g=="right"&&j)||(g=="left"&&!j));}else{return a&&((a=="down"&&l)||(a=="up"&&!l));}},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up");},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left");},refresh:function(a){this._refreshItems(a);this.refreshPositions();},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith;},_getItemsAsjQuery:function(t){var a=this;var o=[];var q=[];var m=this._connectWith();if(m&&t){for(var r=m.length-1;r>=0;r--){var j=b(m[r]);for(var s=j.length-1;s>=0;s--){var p=b.data(j[s],"sortable");if(p&&p!=this&&!p.options.disabled){q.push([b.isFunction(p.options.items)?p.options.items.call(p.element):b(p.options.items,p.element).not(".ui-sortable-helper"),p]);}}}}q.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper"),this]);for(var r=q.length-1;r>=0;r--){q[r][0].each(function(){o.push(this);});}return b(o);},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data(sortable-item)");for(var f=0;f<this.items.length;f++){for(var a=0;a<e.length;a++){if(e[a]==this.items[f].item[0]){this.items.splice(f,1);}}}},_refreshItems:function(B){this.items=[];this.containers=[this];var u=this.items;var a=this;var w=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],B,{item:this.currentItem}):b(this.options.items,this.element),this]];var s=this._connectWith();if(s){for(var y=s.length-1;y>=0;y--){var r=b(s[y]);for(var z=r.length-1;z>=0;z--){var v=b.data(r[z],"sortable");if(v&&v!=this&&!v.options.disabled){w.push([b.isFunction(v.options.items)?v.options.items.call(v.element[0],B,{item:this.currentItem}):b(v.options.items,v.element),v]);
this.containers.push(v);}}}}for(var y=w.length-1;y>=0;y--){var t=w[y][1];var A=w[y][0];for(var z=0,q=A.length;z<q;z++){var j=b(A[z]);j.data("sortable-item",t);u.push({item:j,instance:t,width:0,height:0,left:0,top:0});}}},refreshPositions:function(a){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}for(var j=this.items.length-1;j>=0;j--){var h=this.items[j];if(h.instance!=this.currentContainer&&this.currentContainer&&h.item[0]!=this.currentItem[0]){continue;}var l=this.options.toleranceElement?b(this.options.toleranceElement,h.item):h.item;if(!a){h.width=l.outerWidth();h.height=l.outerHeight();}var g=l.offset();h.left=g.left;h.top=g.top;}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(var j=this.containers.length-1;j>=0;j--){var g=this.containers[j].element.offset();this.containers[j].containerCache.left=g.left;this.containers[j].containerCache.top=g.top;this.containers[j].containerCache.width=this.containers[j].element.outerWidth();this.containers[j].containerCache.height=this.containers[j].element.outerHeight();}}},_createPlaceholder:function(g){var a=g||this,f=a.options;if(!f.placeholder||f.placeholder.constructor==String){var h=f.placeholder;f.placeholder={element:function(){var c=b(document.createElement(a.currentItem[0].nodeName)).addClass(h||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!h){c.style.visibility="hidden";}return c;},update:function(d,c){if(h&&!f.forcePlaceholderSize){return;}if(!c.height()){c.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10));}if(!c.width()){c.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10));}}};}a.placeholder=b(f.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);f.placeholder.update(a,a.placeholder);},_contactContainers:function(p){for(var q=this.containers.length-1;q>=0;q--){if(this._intersectsWith(this.containers[q].containerCache)){if(!this.containers[q].containerCache.over){if(this.currentContainer!=this.containers[q]){var j=10000;var l=null;var o=this.positionAbs[this.containers[q].floating?"left":"top"];for(var a=this.items.length-1;a>=0;a--){if(!b.ui.contains(this.containers[q].element[0],this.items[a].item[0])){continue;}var m=this.items[a][this.containers[q].floating?"left":"top"];if(Math.abs(m-o)<j){j=Math.abs(m-o);l=this.items[a];}}if(!l&&!this.options.dropOnEmpty){continue;}this.currentContainer=this.containers[q];l?this._rearrange(p,l,null,true):this._rearrange(p,null,this.containers[q].element,true);this._trigger("change",p,this._uiHash());this.containers[q]._trigger("change",p,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);}this.containers[q]._trigger("over",p,this._uiHash(this));this.containers[q].containerCache.over=1;}}else{if(this.containers[q].containerCache.over){this.containers[q]._trigger("out",p,this._uiHash(this));this.containers[q].containerCache.over=0;}}}},_createHelper:function(f){var e=this.options;var a=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[f,this.currentItem])):(e.helper=="clone"?this.currentItem.clone():this.currentItem);if(!a.parents("body").length){b(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);}if(a[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}if(a[0].style.width==""||e.forceHelperSize){a.width(this.currentItem.width());}if(a[0].style.height==""||e.forceHelperSize){a.height(this.currentItem.height());}return a;},_adjustOffsetFromHelper:function(a){if(a.left!=undefined){this.offset.click.left=a.left+this.margins.left;}if(a.right!=undefined){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;}if(a.top!=undefined){this.offset.click.top=a.top+this.margins.top;}if(a.bottom!=undefined){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop();}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)){a={top:0,left:0};}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode;}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!(/^(document|window|parent)$/).test(f.containment)){var h=b(f.containment)[0];var g=b(f.containment).offset();var a=(b(h).css("overflow")!="hidden");this.containment=[g.left+(parseInt(b(h).css("borderLeftWidth"),10)||0)+(parseInt(b(h).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(b(h).css("borderTopWidth"),10)||0)+(parseInt(b(h).css("paddingTop"),10)||0)-this.margins.top,g.left+(a?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(b(h).css("borderLeftWidth"),10)||0)-(parseInt(b(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,g.top+(a?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(b(h).css("borderTopWidth"),10)||0)-(parseInt(b(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(l,d){if(!d){d=this.position;}var o=l=="absolute"?1:-1;var m=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);return{top:(d.top+this.offset.relative.top*o+this.offset.parent.top*o-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop()))*o)),left:(d.left+this.offset.relative.left*o+this.offset.parent.left*o-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())*o))};},_generatePosition:function(p){var l=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(a[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}var q=p.pageX;var r=p.pageY;if(this.originalPosition){if(this.containment){if(p.pageX-this.offset.click.left<this.containment[0]){q=this.containment[0]+this.offset.click.left;
}if(p.pageY-this.offset.click.top<this.containment[1]){r=this.containment[1]+this.offset.click.top;}if(p.pageX-this.offset.click.left>this.containment[2]){q=this.containment[2]+this.offset.click.left;}if(p.pageY-this.offset.click.top>this.containment[3]){r=this.containment[3]+this.offset.click.top;}}if(l.grid){var m=this.originalPageY+Math.round((r-this.originalPageY)/l.grid[1])*l.grid[1];r=this.containment?(!(m-this.offset.click.top<this.containment[1]||m-this.offset.click.top>this.containment[3])?m:(!(m-this.offset.click.top<this.containment[1])?m-l.grid[1]:m+l.grid[1])):m;var o=this.originalPageX+Math.round((q-this.originalPageX)/l.grid[0])*l.grid[0];q=this.containment?(!(o-this.offset.click.left<this.containment[0]||o-this.offset.click.left>this.containment[2])?o:(!(o-this.offset.click.left<this.containment[0])?o-l.grid[0]:o+l.grid[0])):o;}}return{top:(r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:a.scrollTop())))),left:(q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:a.scrollLeft())))};},_rearrange:function(h,j,o,l){o?o[0].appendChild(this.placeholder[0]):j.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?j.item[0]:j.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var m=this,a=this.counter;window.setTimeout(function(){if(a==m.counter){m.refreshPositions(!l);}},0);},_clear:function(j,h){this.reverting=false;var g=[],a=this;if(!this._noFinalSort&&this.currentItem[0].parentNode){this.placeholder.before(this.currentItem);}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var l in this._storedCSS){if(this._storedCSS[l]=="auto"||this._storedCSS[l]=="static"){this._storedCSS[l]="";}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}if(this.fromOutside&&!h){g.push(function(c){this._trigger("receive",c,this._uiHash(this.fromOutside));});}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!h){g.push(function(c){this._trigger("update",c,this._uiHash());});}if(!b.ui.contains(this.element[0],this.currentItem[0])){if(!h){g.push(function(c){this._trigger("remove",c,this._uiHash());});}for(var l=this.containers.length-1;l>=0;l--){if(b.ui.contains(this.containers[l].element[0],this.currentItem[0])&&!h){g.push((function(c){return function(d){c._trigger("receive",d,this._uiHash(this));};}).call(this,this.containers[l]));g.push((function(c){return function(d){c._trigger("update",d,this._uiHash(this));};}).call(this,this.containers[l]));}}}for(var l=this.containers.length-1;l>=0;l--){if(!h){g.push((function(c){return function(d){c._trigger("deactivate",d,this._uiHash(this));};}).call(this,this.containers[l]));}if(this.containers[l].containerCache.over){g.push((function(c){return function(d){c._trigger("out",d,this._uiHash(this));};}).call(this,this.containers[l]));this.containers[l].containerCache.over=0;}}if(this._storedCursor){b("body").css("cursor",this._storedCursor);}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);}this.dragging=false;if(this.cancelHelperRemoval){if(!h){this._trigger("beforeStop",j,this._uiHash());for(var l=0;l<g.length;l++){g[l].call(this,j);}this._trigger("stop",j,this._uiHash());}return false;}if(!h){this._trigger("beforeStop",j,this._uiHash());}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove();}this.helper=null;if(!h){for(var l=0;l<g.length;l++){g[l].call(this,j);}this._trigger("stop",j,this._uiHash());}this.fromOutside=false;return true;},_trigger:function(){if(b.widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(d){var a=d||this;return{helper:a.helper,placeholder:a.placeholder||b([]),position:a.position,absolutePosition:a.positionAbs,offset:a.positionAbs,item:a.currentItem,sender:d?d.element:null};}}));b.extend(b.ui.sortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:false,cancel:":input,option",connectWith:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000}});})(jQuery);jQuery.effects||(function(j){j.effects={version:"1.7.2",save:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.data("ec.storage."+a[c],b[0].style[a[c]]);}}},restore:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.css(a[c],b.data("ec.storage."+a[c]));}}},setMode:function(b,a){if(a=="toggle"){a=b.is(":hidden")?"show":"hide";}return a;},getBaseline:function(c,b){var a,d;switch(c[0]){case"top":a=0;break;case"middle":a=0.5;break;case"bottom":a=1;break;default:a=c[0]/b.height;}switch(c[1]){case"left":d=0;break;case"center":d=0.5;break;case"right":d=1;break;default:d=c[1]/b.width;}return{x:d,y:a};},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper")){return e.parent();}var d={width:e.outerWidth(true),height:e.outerHeight(true),"float":e.css("float")};e.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var a=e.parent();if(e.css("position")=="static"){a.css({position:"relative"});e.css({position:"relative"});}else{var b=e.css("top");if(isNaN(parseInt(b,10))){b="auto";}var c=e.css("left");if(isNaN(parseInt(c,10))){c="auto";}a.css({position:e.css("position"),top:b,left:c,zIndex:e.css("z-index")}).show();e.css({position:"relative",top:0,left:0});}a.css(d);return a;},removeWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent().replaceWith(a);}return a;},setTransition:function(c,a,d,b){b=b||{};j.each(a,function(e,m){unit=c.cssUnit(m);if(unit[0]>0){b[m]=unit[0]*d+unit[1];}});return b;},animateClass:function(d,c,a,b){var m=(typeof a=="function"?a:(b?b:null));var e=(typeof a=="string"?a:null);return this.each(function(){var v={};var y=j(this);var w=y.attr("style")||"";if(typeof w=="object"){w=w.cssText;}if(d.toggle){y.hasClass(d.toggle)?d.remove=d.toggle:d.add=d.toggle;}var t=j.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(d.add){y.addClass(d.add);}if(d.remove){y.removeClass(d.remove);}var s=j.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(d.add){y.removeClass(d.add);}if(d.remove){y.addClass(d.remove);}for(var u in s){if(typeof s[u]!="function"&&s[u]&&u.indexOf("Moz")==-1&&u.indexOf("length")==-1&&s[u]!=t[u]&&(u.match(/color/i)||(!u.match(/color/i)&&!isNaN(parseInt(s[u],10))))&&(t.position!="static"||(t.position=="static"&&!u.match(/left|top|bottom|right/)))){v[u]=s[u];}}y.animate(v,c,e,function(){if(typeof j(this).attr("style")=="object"){j(this).attr("style")["cssText"]="";j(this).attr("style")["cssText"]=w;}else{j(this).attr("style",w);}if(d.add){j(this).addClass(d.add);}if(d.remove){j(this).removeClass(d.remove);}if(m){m.apply(this,arguments);}});});}};function l(d,e){var b=d[1]&&d[1].constructor==Object?d[1]:{};if(e){b.mode=e;}var c=d[1]&&d[1].constructor!=Object?d[1]:(b.duration?b.duration:d[2]);c=j.fx.off?0:typeof c==="number"?c:j.fx.speeds[c]||j.fx.speeds._default;var a=b.callback||(j.isFunction(d[1])&&d[1])||(j.isFunction(d[2])&&d[2])||(j.isFunction(d[3])&&d[3]);return[d[0],b,c,a];}j.fn.extend({_show:j.fn.show,_hide:j.fn.hide,__toggle:j.fn.toggle,_addClass:j.fn.addClass,_removeClass:j.fn.removeClass,_toggleClass:j.fn.toggleClass,effect:function(c,d,b,a){return j.effects[c]?j.effects[c].call(this,{method:c,options:d||{},duration:b,callback:a}):null;
},show:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._show.apply(this,arguments);}else{return this.effect.apply(this,l(arguments,"show"));}},hide:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._hide.apply(this,arguments);}else{return this.effect.apply(this,l(arguments,"hide"));}},toggle:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))||(j.isFunction(arguments[0])||typeof arguments[0]=="boolean")){return this.__toggle.apply(this,arguments);}else{return this.effect.apply(this,l(arguments,"toggle"));}},addClass:function(c,d,a,b){return d?j.effects.animateClass.apply(this,[{add:c},d,a,b]):this._addClass(c);},removeClass:function(c,d,a,b){return d?j.effects.animateClass.apply(this,[{remove:c},d,a,b]):this._removeClass(c);},toggleClass:function(c,d,a,b){return((typeof d!=="boolean")&&d)?j.effects.animateClass.apply(this,[{toggle:c},d,a,b]):this._toggleClass(c,d);},morph:function(e,c,d,a,b){return j.effects.animateClass.apply(this,[{add:c,remove:e},d,a,b]);},switchClass:function(){return this.morph.apply(this,arguments);},cssUnit:function(c){var b=this.css(c),a=[];j.each(["em","px","%","pt"],function(e,d){if(b.indexOf(d)>0){a=[parseFloat(b),d];}});return a;}});j.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(a,b){j.fx.step[b]=function(c){if(c.state==0){c.start=h(c.elem,b);c.end=f(c.end);}c.elem.style[b]="rgb("+[Math.max(Math.min(parseInt((c.pos*(c.end[0]-c.start[0]))+c.start[0],10),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[1]-c.start[1]))+c.start[1],10),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[2]-c.start[2]))+c.start[2],10),255),0)].join(",")+")";};});function f(a){var b;if(a&&a.constructor==Array&&a.length==3){return a;}if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)];}if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55];}if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)];}if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)];}if(b=/rgba\(0, 0, 0, 0\)/.exec(a)){return g.transparent;}return g[j.trim(a).toLowerCase()];}function h(a,c){var b;do{b=j.curCSS(a,c);if(b!=""&&b!="transparent"||j.nodeName(a,"body")){break;}c="backgroundColor";}while(a=a.parentNode);return f(b);}var g={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};j.easing.jswing=j.easing.swing;j.extend(j.easing,{def:"easeOutQuad",swing:function(d,c,e,a,b){return j.easing[j.easing.def](d,c,e,a,b);},easeInQuad:function(d,c,e,a,b){return a*(c/=b)*c+e;},easeOutQuad:function(d,c,e,a,b){return -a*(c/=b)*(c-2)+e;},easeInOutQuad:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c+e;}return -a/2*((--c)*(c-2)-1)+e;},easeInCubic:function(d,c,e,a,b){return a*(c/=b)*c*c+e;},easeOutCubic:function(d,c,e,a,b){return a*((c=c/b-1)*c*c+1)+e;},easeInOutCubic:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c*c+e;}return a/2*((c-=2)*c*c+2)+e;},easeInQuart:function(d,c,e,a,b){return a*(c/=b)*c*c*c+e;},easeOutQuart:function(d,c,e,a,b){return -a*((c=c/b-1)*c*c*c-1)+e;},easeInOutQuart:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c*c*c+e;}return -a/2*((c-=2)*c*c*c-2)+e;},easeInQuint:function(d,c,e,a,b){return a*(c/=b)*c*c*c*c+e;},easeOutQuint:function(d,c,e,a,b){return a*((c=c/b-1)*c*c*c*c+1)+e;},easeInOutQuint:function(d,c,e,a,b){if((c/=b/2)<1){return a/2*c*c*c*c*c+e;}return a/2*((c-=2)*c*c*c*c+2)+e;},easeInSine:function(d,c,e,a,b){return -a*Math.cos(c/b*(Math.PI/2))+a+e;},easeOutSine:function(d,c,e,a,b){return a*Math.sin(c/b*(Math.PI/2))+e;},easeInOutSine:function(d,c,e,a,b){return -a/2*(Math.cos(Math.PI*c/b)-1)+e;},easeInExpo:function(d,c,e,a,b){return(c==0)?e:a*Math.pow(2,10*(c/b-1))+e;},easeOutExpo:function(d,c,e,a,b){return(c==b)?e+a:a*(-Math.pow(2,-10*c/b)+1)+e;},easeInOutExpo:function(d,c,e,a,b){if(c==0){return e;}if(c==b){return e+a;}if((c/=b/2)<1){return a/2*Math.pow(2,10*(c-1))+e;}return a/2*(-Math.pow(2,-10*--c)+2)+e;},easeInCirc:function(d,c,e,a,b){return -a*(Math.sqrt(1-(c/=b)*c)-1)+e;},easeOutCirc:function(d,c,e,a,b){return a*Math.sqrt(1-(c=c/b-1)*c)+e;},easeInOutCirc:function(d,c,e,a,b){if((c/=b/2)<1){return -a/2*(Math.sqrt(1-c*c)-1)+e;}return a/2*(Math.sqrt(1-(c-=2)*c)+1)+e;},easeInElastic:function(p,e,q,a,b){var d=1.70158;var c=0;var o=a;if(e==0){return q;}if((e/=b)==1){return q+a;}if(!c){c=b*0.3;}if(o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}return -(o*Math.pow(2,10*(e-=1))*Math.sin((e*b-d)*(2*Math.PI)/c))+q;},easeOutElastic:function(p,e,q,a,b){var d=1.70158;var c=0;var o=a;if(e==0){return q;}if((e/=b)==1){return q+a;}if(!c){c=b*0.3;}if(o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}return o*Math.pow(2,-10*e)*Math.sin((e*b-d)*(2*Math.PI)/c)+a+q;},easeInOutElastic:function(p,e,q,a,b){var d=1.70158;var c=0;var o=a;if(e==0){return q;}if((e/=b/2)==2){return q+a;}if(!c){c=b*(0.3*1.5);}if(o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}if(e<1){return -0.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e*b-d)*(2*Math.PI)/c))+q;}return o*Math.pow(2,-10*(e-=1))*Math.sin((e*b-d)*(2*Math.PI)/c)*0.5+a+q;},easeInBack:function(e,d,m,a,b,c){if(c==undefined){c=1.70158;}return a*(d/=b)*d*((c+1)*d-c)+m;},easeOutBack:function(e,d,m,a,b,c){if(c==undefined){c=1.70158;}return a*((d=d/b-1)*d*((c+1)*d+c)+1)+m;},easeInOutBack:function(e,d,m,a,b,c){if(c==undefined){c=1.70158;}if((d/=b/2)<1){return a/2*(d*d*(((c*=(1.525))+1)*d-c))+m;}return a/2*((d-=2)*d*(((c*=(1.525))+1)*d+c)+2)+m;},easeInBounce:function(d,c,e,a,b){return a-j.easing.easeOutBounce(d,b-c,0,a,b)+e;},easeOutBounce:function(d,c,e,a,b){if((c/=b)<(1/2.75)){return a*(7.5625*c*c)+e;}else{if(c<(2/2.75)){return a*(7.5625*(c-=(1.5/2.75))*c+0.75)+e;}else{if(c<(2.5/2.75)){return a*(7.5625*(c-=(2.25/2.75))*c+0.9375)+e;}else{return a*(7.5625*(c-=(2.625/2.75))*c+0.984375)+e;}}}},easeInOutBounce:function(d,c,e,a,b){if(c<b/2){return j.easing.easeInBounce(d,c*2,0,a,b)*0.5+e;}return j.easing.easeOutBounce(d,c*2-b,0,a,b)*0.5+a*0.5+e;}});})(jQuery);(function(b){b.effects.highlight=function(a){return this.queue(function(){var o=b(this),p=["backgroundImage","backgroundColor","opacity"];var j=b.effects.setMode(o,a.options.mode||"show");var q=a.options.color||"#ffff99";var l=o.css("backgroundColor");b.effects.save(o,p);o.show();o.css({backgroundImage:"none",backgroundColor:q});var m={backgroundColor:l};if(j=="hide"){m.opacity=0;}o.animate(m,{queue:false,duration:a.duration,easing:a.options.easing,complete:function(){if(j=="hide"){o.hide();}b.effects.restore(o,p);if(j=="show"&&b.browser.msie){this.style.removeAttribute("filter");}if(a.callback){a.callback.apply(this,arguments);}o.dequeue();}});});};})(jQuery);function submitCalculatorStarter(b){var c={"millionaire":{"fields":["principal","deposit"],"uri":"/tools/millionaire/millionaire.html?"},"saveyoung":{"fields":["age","salaryEntry","savingsEntry"],"uri":"/tools/saveyoung/index.html?"},"assetalloc":{"fields":["timeHorizon","riskTolerance"],"uri":""},"costofliving":{"fields":["salary"],"uri":""},"retireyoung":{"fields":["myAge","myIncome"],"uri":""},"savings":{"fields":["principal","deposit"],"uri":""}};
function d(e){var h="";for(var g=0;g<e.length;g++){var f=document.getElementById(e[g]);if(f==null){continue;}h+=f.id+"="+f.value+"&";}return h;}var a=c[b];top.location.href=a.uri+d(a.fields);}var calc_collegecoststarter={searchterm_id:null,searchstate_id:null,init:function(a){this.searchterm_id=a.searchterm_id;this.searchstate_id=a.searchstate_id;jQuery(a.searchstate_dropdown+" li a").click(function(){jQuery(a.searchterm_id).val("");});jQuery(a.searchterm_id).click(function(){jQuery("#collegecalc_states ul .selected").removeClass("selected");jQuery("#collegecalc_states .selected li a").html("All states");});},collegestarterSend:function(){var c=jQuery(this.searchstate_id).attr("key");var a=jQuery(this.searchterm_id).val();var a=a.replace(" ","+");var b="/tools/collegecost/collegecost.html"+"?state="+c+"&query="+a;document.location.href=b;location=b;}};(function(c){var o={},b,p,e=document,l=window,j=e.documentElement,m=c.expando,a;c.event.special.inview={add:function(d){o[d.guid+"-"+this[m]]={data:d,$element:c(this)};if(!a&&!c.isEmptyObject(o)){a=setInterval(g,250);}},remove:function(d){try{delete o[d.guid+"-"+this[m]];}catch(q){}if(c.isEmptyObject(o)){clearInterval(a);a=null;}}};function h(){var r,d,q={height:l.innerHeight,width:l.innerWidth};if(!q.height){r=e.compatMode;if(r||!c.support.boxModel){d=r==="CSS1Compat"?j:e.body;q={height:d.clientHeight,width:d.clientWidth};}}return q;}function f(){return{top:l.pageYOffset||j.scrollTop||e.body.scrollTop,left:l.pageXOffset||j.scrollLeft||e.body.scrollLeft};}function g(){var s=[],r,q=0;c.each(o,function(D,C){var A=C.data.selector,B=C.$element;s.push(A?B.find(A):B);});r=s.length;if(r){b=b||h();p=p||f();for(;q<r;q++){if(!c.contains(j,s[q][0])){continue;}var y=c(s[q]),z={height:y.height(),width:y.width()},d=y.offset(),t=y.data("inview"),v,u,w;if(!p||!b){return;}if(d.top+z.height>p.top&&d.top<p.top+b.height&&d.left+z.width>p.left&&d.left<p.left+b.width){v=(p.left>d.left?"right":(p.left+b.width)<(d.left+z.width)?"left":"both");u=(p.top>d.top?"bottom":(p.top+b.height)<(d.top+z.height)?"top":"both");w=v+"-"+u;if(!t||t!==w){y.data("inview",w).trigger("inview",[true,v,u]);}}else{if(t){y.data("inview",false).trigger("inview",[false]);}}}}}c(l).bind("scroll resize scrollstop",function(){b=p=null;});if(!j.addEventListener&&j.attachEvent){j.attachEvent("onfocusin",function(){p=null;});}})(jQuery);Serializer=function(){this._nameExclusions={};this._typeExclusions={};this._encode=true;this._strictJson=true;this._safeDeserialize=false;this._sBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";};Serializer.prototype.serialize=function(a){this._data=[];this._serializeNode([a],a,0);this._data=this._data.join("");this._data=this._data.replace(/,}/g,"}");this._data=this._data.replace(/,]/g,"]");this._data=this._data.substr(0,this._data.length-1);if(this.allowEncoding()){this._data=this.base64encode(this._data);}return this._data;};Serializer.prototype.addNameExclusion=function(){var a=arguments.length;for(var b=0;b<a;b++){this._nameExclusions[arguments[b]]=true;}};Serializer.prototype.removeNameExclusion=function(){var a=arguments.length;for(var b=0;b<a;b++){this._nameExclusions[arguments[b]]=false;}};Serializer.prototype.addTypeExclusion=function(){var a=arguments.length;for(var b=0;b<a;b++){this._typeExclusions[arguments[b].toLowerCase()]=true;}};Serializer.prototype.removeTypeExclusion=function(){var a=arguments.length;for(var b=0;b<a;b++){this._typeExclusions[arguments[b].toLowerCase()]=false;}};Serializer.prototype.requireStrictJson=function(a){if(typeof(a)!="undefined"){this._strictJson=a;}return this._strictJson;};Serializer.prototype.requireSafeDeserialize=function(a){if(typeof(a)!="undefined"){this._safeDeserialize=a;}return this._safeDeserialize;};Serializer.prototype.allowEncoding=function(a){if(typeof(a)!="undefined"){this._encode=a;}return this._encode;};Serializer.prototype._unicodeEscape=function(d){var e=d.charCodeAt(0);var c="\\u";var b=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];var a;a=4096;c+=b[Math.floor(e/a)];e=e%a;a=256;c+=b[Math.floor(e/a)];e=e%a;a=16;c+=b[Math.floor(e/a)];e=e%a;a=1;c+=b[Math.floor(e/a)];e=e%a;return c;};Serializer.prototype._serializeNode=function(c,e,h,l){var m,j,b,a;for(var g in c){if(c[g]===null){m="null";}else{m=typeof(c[g]);}j=m=="object"?true:false;m=m=="object"&&typeof(c[g].length)!="undefined"&&c[g].constructor==Array?"array":m;if(!this._typeExclusions[m]&&!this._nameExclusions[g]&&!(this._strictJson&&m=="function")){switch(m){case"string":b='"';a='"';break;case"object":b="{";a="}";break;case"array":b="[";a="]";break;default:b="";a="";break;}if(isFinite(g)&&!(l&&l=="object")){this._data.push(b);}else{var d=typeof(g)=="string"?'"'+g+'"':g;this._data.push(d+":"+b);}if(j){if(h==0||c[g]!==e){this._serializeNode(c[g],null,null,m);}}else{if(m=="string"){this._data.push(c[g].replace(/[^ -~]|[\"\\]/g,this._unicodeEscape));}else{if(m=="undefined"||m=="null"){this._data.push(this._strictJson?"null":m);}else{this._data.push(c[g]);}}}this._data.push(a+",");}}};Serializer.prototype.deserialize=function(c){try{if(this.hasEncodingLeader(c)){c=this.base64decode(c);}if(this._safeDeserialize){return this.safeDeserialize(c);}else{return this.unsafeDeserialize(c);}}catch(b){if(typeof(dbg)=="function"){dbg("Serializer.deserialize() error","","red");dbgObject(b);dbg("Serializer Source",c);}var a="";}return a;};Serializer.prototype.safeDeserialize=function(o){try{var p=new jsonParser();p.parse(o);eval("var x = "+o);}catch(e){var x=null;}return x;};Serializer.prototype.unsafeDeserialize=function(o){try{eval("var x = "+o);}catch(e){var x=null;}return x;};Serializer.prototype.hasEncodingLeader=function(a){return a.indexOf("B64ENC")==0?true:false;};Serializer.prototype.stripLeader=function(a){return a.substr(6,a.length);};Serializer.prototype.prependLeader=function(a){return"B64ENC"+a;};Serializer.prototype.base64decode=function(b){var a;var d;var c=[];if(this.hasEncodingLeader(b)){b=this.stripLeader(b);}else{return b;}b=b.replace(/=/g,"");for(a=0;a<b.length;a+=4){d=(this._sBase64.indexOf(b.charAt(a))<<18)|(this._sBase64.indexOf(b.charAt(a+1))<<12)|((this._sBase64.indexOf(b.charAt(a+2))&255)<<6)|(this._sBase64.indexOf(b.charAt(a+3))&255);c.push(String.fromCharCode(d>>16&255));c.push((a>b.length-3)?"":String.fromCharCode(d>>8&255));c.push((a>b.length-4)?"":String.fromCharCode(d&255));}return c.join("");};Serializer.prototype.base64encode=function(b){var a;var d;var c=[];for(a=0;a<b.length;a+=3){d=(b.charCodeAt(a)<<16)+((b.charCodeAt(a+1)&255)<<8)+(b.charCodeAt(a+2)&255);c.push(this._sBase64.charAt(d>>18&63));c.push(this._sBase64.charAt(d>>12&63));c.push((a>b.length-2)?"=":this._sBase64.charAt(d>>6&63));c.push((a>b.length-3)?"=":this._sBase64.charAt(d&63));}c=this.prependLeader(c.join(""));return c;};function jsonParser(){this.lexer=null;this.tokens=[];}jsonParser.prototype.parse=function(a){this.lexer=new jsonLexer(a);return this._json();};jsonParser.prototype.lookAhead=function(a){while(this.tokens.length<=a){this.tokens.push(this.lexer.nextToken());}return this.tokens[a].type;};jsonParser.prototype.consume=function(a){if(this.tokens.length==0){this.tokens.push(this.lexer.nextToken());}if(this.tokens[0].type==a){this.tokens.shift();}else{throw {message:"JSON: invalid token encountered validating string; Expected "+a+", got "+this.tokens[0].type};}};jsonParser.prototype._json=function(){this._value();this.consume("_EOF");};jsonParser.prototype._value=function(){switch(this.lookAhead(0)){case"_OBJ_OPEN":this._object();break;case"_ARR_OPEN":this._array();break;case"_DIGITS":case"_NEG":this._number();break;case"_STRING":this.consume("_STRING");break;case"_TRUE":this.consume("_TRUE");break;case"_FALSE":this.consume("_FALSE");break;case"_NULL":this.consume("_NULL");break;}};jsonParser.prototype._object=function(){this.consume("_OBJ_OPEN");if(this.lookAhead(0)!="_OBJ_CLOSE"){this._member();}while(this.lookAhead(0)!="_OBJ_CLOSE"){this.consume("_SEP");this._member();}this.consume("_OBJ_CLOSE");
};jsonParser.prototype._member=function(){this.consume("_STRING");this.consume("_ASSIGN");this._value();};jsonParser.prototype._array=function(){this.consume("_ARR_OPEN");if(this.lookAhead(0)!="_ARR_CLOSE"){this._value();}while(this.lookAhead(0)!="_ARR_CLOSE"){this.consume("_SEP");this._value();}this.consume("_ARR_CLOSE");};jsonParser.prototype._number=function(){if(this.lookAhead(0)=="_NEG"){this.consume("_NEG");}this.consume("_DIGITS");if(this.lookAhead(0)=="_DOT"){this.consume("_DOT");this.consume("_DIGITS");}if(this.lookAhead(0)=="_EXP"){this.consume("_EXP");if(this.lookAhead(0)=="_POS"){this.consume("_POS");}else{if(this.lookAhead(0)=="_NEG"){this.consume("_NEG");}}this.consume("_DIGITS");}};function jsonLexer(a){a=a.replace(/"([^"\\]|\\"|\\)*"/g,"S");a=a.replace(/[0-9]+/g,"0");this.input=a;}jsonLexer.prototype.charTokens={"{":"_OBJ_OPEN","}":"_OBJ_CLOSE","[":"_ARR_OPEN","]":"_ARR_CLOSE",":":"_ASSIGN",",":"_SEP",".":"_DOT","-":"_NEG","+":"_POS","e":"_EXP","E":"_EXP","S":"_STRING","0":"_DIGITS"};jsonLexer.prototype.nextToken=function(){if(this.input.length==0){return new jsonToken("_EOF",null);}var a=this.input.substr(0,1);if(this.charTokens[a]){this.input=this.input.substr(1);return new jsonToken(this.charTokens[a],a);}switch(a){case"t":case"T":if(this.input.substr(0,4).toLowerCase()=="true"){this.input=this.input.substr(4);return new jsonToken("_TRUE",true);}break;case"f":case"F":if(this.input.substr(0,5).toLowerCase()=="false"){this.input=this.input.substr(5);return new jsonToken("_FALSE",true);}break;case"n":if(this.input.substr(0,4)=="null"){this.input=this.input.substr(4);return new jsonToken("_NULL",true);}break;}throw {message:"JSON: Unexpected character ("+a+") encountered validating string"};};function jsonToken(a,b){this.type=a;this.value=b;}var common=new (function(){var a=this;this.serializer=new Serializer();this.isIE6=(jQuery.browser.msie&&jQuery.browser.version==6)?1:0;this.quirksMode=(jQuery.browser.msie&&!jQuery.support.boxModel)?true:false;this.commonGen=jQuery("#commonGen");this.urlPrefix=(typeof(urlPre)!="undefined")?urlPre:"";this.urlPre=this.urlPrefix;this._getEnv=function(){if(location.href.indexOf("dev2")>-1){return"DEV";}else{if(location.href.indexOf("money.qai")>-1){return"QAI";}else{return"PROD";}}};this.cnnGetDomain=function(){if("QAI"==this._getEnv()){return"http://money.qai.cnn.com/";}else{return"http://money.cnn.com/";}};this.wsodGetDomain=function(){if("DEV"==this._getEnv()){return"http://dev2.wallst.com/";}else{if("QAI"==this._getEnv()){return"http://markets.money.qai.cnn.com/";}else{return"http://markets.money.cnn.com/";}}};this.initStorageManager=function(){};this.saveToStorageManager=function(b){};this.isRunningAtCNN=function(){try{if(location.href.indexOf("cnn.com")>-1){return true;}else{return false;}}catch(b){return true;}};this.showLoading=function(d){if(jQuery("#loading_"+d).length>0){this.hideLoading(d);}var b=jQuery("#"+d).height();var g=jQuery("#"+d).width();var e=jQuery("#"+d).offset();var h=(parseInt(b/2-16));var f=(parseInt(g/2-16));var c=jQuery("<div />").attr({id:"loading_"+d,"className":"wsod_loadingIndicator"}).css({top:e.top+"px",left:e.left+"px",height:b+"px",width:g+"px"}).appendTo("body");jQuery('<img src="'+this.urlPre+'images/loading.gif" />').attr({id:"loadingIcon"}).css({position:"absolute",top:h+"px",left:f+"px"}).appendTo(c);};this.hideLoading=function(b){jQuery("#loading_"+b).remove();};this.initSymbolSearch=function(b,c){if(!b){b="symb";}wsod_js.search.init(b,c);};this.swapPipeNavCSS=function(c,b){if(!b){b="active";}c.parent().siblings().children("a").removeClass(b);c.addClass(b);};this.loadAssets=function(b){jQuery.xLazyLoader(jQuery.extend(b,{success:b.success,error:b.error}));};this.initCurrencyConverter=function(){var e=jQuery("#wsod_ccAmountValue");var d=jQuery("#wsod_ccBaseCurrency select");var b=jQuery("#wsod_ccQuoteCurrency select");jQuery("#wsod_ccAmountValue, #wsod_ccBaseCurrency select, #wsod_ccQuoteCurrency select").bind("change",function(){var f=a.toNumber(e.val());e.val(f);c({amount:f,base:d.val(),quote:b.val()});});e.keypress(function(){window.clearTimeout(a.currencyTimer);a.currencyTimer=window.setTimeout(function(){var f=a.toNumber(e.val());e.val(f);a.ccAmountValue=f;c({amount:f,base:d.val(),quote:b.val()});},300);});function c(g){var f="wsod_ccResult";if(this.request){this.request.abort();this.request=null;}this.request=jQuery.ajax({dataType:"html",type:"POST",url:a.urlPrefix+"common/modules/iframe/currencyConverter.asp",data:{convert:1,amount:g.amount,base:g.base,quote:g.quote},success:function(h){jQuery("#wsod_ccResult").fadeOut(150).html(h).fadeIn(150);},error:function(){}});}};this.toNumber=function(c){var b=(String(c).replace(/\s/g,"")=="")?0:parseFloat(String(c).replace(/[^0-9.]/g,""));return b;};this.showHelp=function(c,h){if(jQuery("#wsod_helpBubble").length){common.hideHelp();}var o='<div><a href="javascript:void(0);" onclick="common.hideHelp();" class="wsod_helpBubbleClose"><img src="http://i.cdn.turner.com/money/.element/img/3.0/data/icon_removeX.png" alt="close" /></a></div>';var e=jQuery("<div />").attr("id","wsod_helpBubble");var g=jQuery("<div />").addClass("wsod_helpBubbleArrow").html("&nbsp;");var b=jQuery("<div />").addClass("wsod_helpBubbleBody");var d=jQuery("<div />").addClass("wsod_helpBubbleTitle").html(unescape(h.title)+o);var j=jQuery("<div />").html(unescape(h.body));e.append(g);b.append(d).append(j).appendTo(e);e.appendTo("body");var m=parseInt(jQuery(c).offset().top+30);var f=parseInt(jQuery(c).offset().left-10);if(jQuery(c).children("img").length){m+=5;}e.css({top:m,left:f});};this.hideHelp=function(b){jQuery("#wsod_helpBubble").remove();};this.initButtonHover=function(){if(this.quirksMode){jQuery(".wsod_button").hover(function(){jQuery(this).addClass("hovered");},function(){jQuery(this).removeClass("hovered");});}};this.updateQueryString=function(g,h){var e=location.search;if(location.search){if(e.indexOf(g)!=-1){e=e.replace("?","");var c=e.split("&");var d=["?"];for(var f=0,b=c.length;f<b;f++){if(c[f].indexOf(g)==-1){d.push(c[f],"&");}}location.search=[d.join(""),g,"=",h].join("");}else{location.search+=["&",g,"=",h].join("");}}else{location.href+=["?",g,"=",h].join("");}};this.yieldSwapper=function(c){var b=c.innerHTML;jQuery("div.wsod_yieldCurveEg").removeClass("wsod_active");jQuery(c).addClass("wsod_active");jQuery("div#wsod_yieldText div").hide();jQuery("div#"+b).show();};this.createDropShadow=function(b,o,m,l,e){var d=jQuery("#"+b);var p=d.height();var c=d.outerWidth();var j=(l)?" "+l:"";d.after('<div class="WSODHoverShadowContainer'+j+'"></div>');var h=d.next();var f=4;for(var g=0;g<f;g++){var q=jQuery('<div class="WSODHoverShadowLayer"></div>');q.css({opacity:0.055*g,top:(f-g)+"px",left:(f-g)+"px"});h.append(q);}if(e){m-=f;}h.children("div").width(c+2).height(p+4).end().css({top:o,left:m}).show();};this.selectSymbolResult=function(r,e,s){var q=jQuery(e);if(jQuery("#wsod_symbolSearchErrorMsg").length>0){jQuery("#wsod_symbolSearchErrorMsg").remove();}if(s.length<1){}var l=q.data("results");var b=["Symbol","Add Ticker","Add another company"];var f;if(l===-1||!l||(l&&l.length<1)){var g=s.val();if(g==""||jQuery.inArray(g,b)){f="ENTER A TICKER AND TRY AGAIN.";}else{f="THAT TICKER IS NOT VALID. PLEASE TRY AGAIN.";}var o=jQuery("<div>").attr("id","wsod_symbolSearchErrorMsg").addClass("wsod_symbolSearch").appendTo("body");var j=jQuery("<tbody>");var c=jQuery("<table>").append(j);var m=jQuery("<tr>").addClass("resultType last").appendTo(j);jQuery("<td colspan='3'>"+f+"</td>").appendTo(m);o.append(c);var h=s.offset(),p=h.top+s.outerHeight(),d=s.outerWidth();o.css({top:parseFloat(p),minWidth:parseFloat(d-2)});o.css("left",h.left);}else{if(l&&l.length>0){if(l[0]&&l[0][0]){wsod_js.search.goToResult(r,s,l[0][0]);}}}};this.symbolSearchButtonListener=function(b){var d=this;var f=jQuery("form.wsod_symbLookupForm").find("div.wsod_buttonSymbolSearchForm").find("a");if(f.length<1){f=jQuery("form").find("div.wsod_buttonSymbolSearchForm").find("a");}if(f.length>0){var c=f.parents("form.wsod_symbLookupForm");
if(c.length<1){c=f.parents("form");}var e=c.find("input.wsod_symSearchBox");e.data("closestButton",f);f.bind("click",function(g){d.selectSymbolResult(g,this,e);});}};this.customizeMarketTracker=function(b){var c=jQuery(b).parents("#marketTracker");cnnMarketTracker.customize(b,c);};})();jQuery(document).ready(function(){common.cnnDomain=common.cnnGetDomain();common.runatCNN=common.isRunningAtCNN();common.initSymbolSearch();common.initButtonHover();jQuery(document.body).click(function(a){var b=jQuery(a.target);if(b.is("div.wsod_buttonSymbolSearchForm > a")||b.is("div.eventIcon")||b.is("a.wsod_bubbleIcon")||b.parents().is("a.wsod_bubbleIcon")||b.parents().is("div.wsod_helpBubbleBody")){}else{if(jQuery("#wsod_helpBubble").length>0){common.hideHelp();}if(jQuery("#wsod_symbolSearchErrorMsg").length>0){jQuery("#wsod_symbolSearchErrorMsg").remove();}}});common.symbolSearchButtonListener();});var xss_class=function(){};xss_class.prototype.filter=function(a){a=a.replace(/<\/?script>/gi,"");a=a.replace(/"/g,"&quot");a=a.replace(/'/g,"&#39;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a;};var xss=new xss_class();if(!wsod_js){var wsod_js={};}(function(){var b=function(){};if(!window["console"]){window.console={};}var c={log:b,warn:b,error:b,info:b};for(var a in c){if(!window.console[a]){window.console[a]=c[a];}}})();wsod_js.search={init:function(c,a){var j=this;if(!c){console.warn("wsod_js.search: No input ID provided.");return false;}this.searchInputId=c;var g=jQuery("#"+c);if(!g||g.length<1){console.warn("wsod_js.search: No input#"+c+" found on the DOM.");return false;}g.search();g.attr("autocomplete","off");var l=g.val().replace(/ /g,"").length;if(l==0){document.getElementById("search_button").disabled=true;}this.searchURLPrefix="http://markets.money.cnn.com/";this.urlPrefix=(urlPre)?urlPre:"";this.cnnUrlMap=[];this.cnnUrlMap["INDU"]="data/markets/dow/";this.cnnUrlMap["COMP"]="data/markets/nasdaq/";this.cnnUrlMap["SPX"]="data/markets/sandp/";this.cnnUrlMap["INX"]="data/markets/sandp/";this.cnnUrlMap["XAX"]="data/markets/amex/";this.cnnUrlMap["OIX"]="data/markets/cboe_oil/";this.cnnUrlMap["DJT"]="data/markets/dowtrans/";this.cnnUrlMap["DJU"]="data/markets/dowutil/";this.cnnUrlMap["BKX"]="data/markets/kbw_bank/";this.cnnUrlMap["NYA"]="data/markets/nyse/";this.cnnUrlMap["SOX"]="data/markets/philsemi/";this.cnnUrlMap["RUT"]="data/markets/russell/";this.cnnUrlMap["XAO"]="data/world_markets/asx100/";this.cnnUrlMap["ATH"]="data/world_markets/athens_composite/";this.cnnUrlMap["IBOV"]="data/world_markets/bovespa/";this.cnnUrlMap["CAC40"]="data/world_markets/cac40/";this.cnnUrlMap["DAX"]="data/world_markets/dax/";this.cnnUrlMap["N100"]="data/world_markets/euronext/";this.cnnUrlMap["UKX"]="data/world_markets/ftse100/";this.cnnUrlMap["HSI"]="data/world_markets/hang_seng/";this.cnnUrlMap["MXX"]="data/world_markets/ipc/";this.cnnUrlMap["IPSA"]="data/world_markets/ipsa/";this.cnnUrlMap["JKSE"]="data/world_markets/jakarta_composite/";this.cnnUrlMap["KOPSI"]="data/world_markets/kopsi/";this.cnnUrlMap["MERV"]="data/world_markets/merval/";this.cnnUrlMap["NZ50"]="data/world_markets/newzealand50/";this.cnnUrlMap["N225"]="data/world_markets/nikkei225/";this.cnnUrlMap["OMXS"]="data/world_markets/omx30/";this.cnnUrlMap["SHCOMP"]="data/world_markets/se_composite/";this.cnnUrlMap["SENSEX"]="data/world_markets/sensex/";this.cnnUrlMap["SXXP"]="data/world_markets/stoxx600/";this.cnnUrlMap["SSMI"]="data/world_markets/swiss/";this.cnnUrlMap["SETIDX"]="data/world_markets/thailand_se/";this.cnnUrlMap["TS50"]="data/world_markets/tsec50/";this.cnnUrlMap["OSP60"]="data/world_markets/tsx60/";if(common&&common.isRunningAtCNN()){var b=window.location.host.split(".")[0];if(b!="money"){this.urlPrefix="http://"+b+".money.cnn.com/";}else{this.urlPrefix="http://money.cnn.com/";}if(common._getEnv()=="QAI"){this.urlPrefix="http://money.qai.cnn.com/";}var h="quote/quote.html?symb=";var f="quote/mutualfund/mutualfund.html?symb=";var e="quote/etf/etf.html?symb=";}else{var h=f=e="research/quote/snapshot.asp?symb=";}var d={linkTo:this.urlPrefix+h,linkToMF:this.urlPrefix+f,linkToETF:this.urlPrefix+e,symReference:"displaySymbol",symToUpperCase:true,autoSelectFirstResult:false,resultAction:"returnSymbol",target:"",hideResultsOnSubmit:false,multiquoteAllowed:true};if(!this.config){this.config={};}this.config[c]=jQuery.extend(d,a);this.attach(g,{cache:{},onClose:function(m,o){},onOpen:function(m,o){},onSelect:function(o,p,m){j.goToResult(o,p,m);},onGo:function(o,p,m){j.goToResult(o,p,m);},align:j.config[c].align||"left"});},goToResult:function(d,f,b){var c=f.get(0).id;this.removeButtonData(f);var h=("WSODIssue"==this.config[c].symReference&&b.w)?b.w:((b&&b.s)?b.s:b);if("returnResult"==this.config[c].resultAction){dataBack=b;}else{dataBack=h;}if(b&&dataBack){if(this.config[c].symToUpperCase&&"returnResult"!=this.config[c].resultAction){dataBack=dataBack.toUpperCase();}if(!b.it){b.it="";}var e;var g=false;switch(b.it){case"MF":case"MMF":e=this.config[c].linkToMF;break;case"ETF":case"ETN":case"LETF":e=this.config[c].linkToETF;break;case"IN":g=true;if(this.cnnUrlMap[dataBack]){e=this.urlPrefix+this.cnnUrlMap[dataBack];}else{e=this.config[c].linkTo+dataBack;}break;default:e=this.config[c].linkTo;break;}var a=(g)?"":dataBack;if("function"==typeof(this.config[c].linkTo)){this.config[c].linkTo(dataBack);}else{if(this.config[c].target=="parentWindow"){parent.location.href=e+a;}else{location.href=e+a;}}this._close(d,f,b);}},attach:function(h,f){var c=this;var a=h.attr("id");var e=jQuery("body");f.cache=f.cache||{};var b={"click":function(j){c.onClick(j,jQuery(this),f);}};var g={"blur":function(j){for(var l in b){e.unbind(l,b[l]);}c.onBlur(j,jQuery(this),f);},"focus":function(j){for(var l in b){e.bind(l,b[l]);}c.onFocus(j,jQuery(this),f);},"keyup":function(j){c.onKeyUp(j,jQuery(this),f);},"keydown":function(j){c.onKeyDown(j,jQuery(this),f);}};for(var d in g){h.bind(d,g[d]);}},quickSearch:function(f,d,e){var b=this;var a=f.get(0).id;var c={q:d,render:"JSON"};if(b.config[a]&&b.config[a].searchIssueType){c.issueType=b.config[a].searchIssueType;}f.addClass("loading");return jQuery.ajax({url:b.searchURLPrefix+"common/symbolLookup/getSymbols.asp",dataType:"jsonp",jsonp:"jsoncallback",data:c,success:function(g){e(g);b.removeLoadingIcon(f);},error:function(){b.removeLoadingIcon(f);}});},removeLoadingIcon:function(a){a.removeClass("loading");},removeButtonData:function(b){var a=b.data("closestButton")||[];if(a.length){a.data("results",-1);}},_closeOptions:function(a,c,b){if(b._div){b._div.remove();b._div=null;}},_drawOptions:function(b,G,s,y,E){var r=this;if(jQuery("#wsod_symbolSearchErrorMsg").length>0){jQuery("#wsod_symbolSearchErrorMsg").remove();}if(!G._div){var t=b.attr("id")+"Results";var D=G._div=jQuery("<div>").attr("id",t).addClass("wsod_symbolSearch");D.appendTo("body");}else{G._div.empty();D=G._div;}y=y.data||[];var z=b.data("closestButton")||[];if(z.length){if(y.length<1){z.data("results",-1);}else{z.data("results",y);}}this.removeLoadingIcon(b);var l=["SYMBOL MATCHES","COMPANY MATCHES","SYMBOL STARTS WITH"];var u=jQuery("<tbody>");var a="/search/index.html?sortBy=date&primaryType=mixed&search=Search&query=";var f=jQuery("<tr>").addClass("result").appendTo(u);var g=jQuery("<td colspan='3'>Search News</td>").appendTo(f);f.bind("mouseenter",function(){jQuery(this).siblings("tr").removeClass("hover");jQuery(this).addClass("hover");}).bind("mouseleave",function(){jQuery(this).removeClass("hover");}).bind("mousedown",function(c){location.href=a+b.val();});for(var B=0,o;B<y.length;B++){o=y[B];if(o.length){for(var A=0,C;A<o.length;A++){C=o[A];if(C.n.indexOf("<b>")>-1){}else{C=this._highlightText(s,C);}if(A==0){var F=jQuery("<tr>").addClass("resultType").appendTo(u);var m=jQuery("<img>").attr("src","http://i.cdn.turner.com/money/.element/img/3.0/data/iconDownArrow.png").attr("width",12).attr("height",4);if(C.lt=="Symbol.5.0"){jQuery("<td colspan='3'>"+l[0]+"</td>").append(m).appendTo(F);}else{if(C.lt=="SymbolStart.5.0"){jQuery("<td colspan='3'>"+l[2]+"</td>").append(m).appendTo(F);
}else{if(C.lt=="IssueNameFast.5.0"){jQuery("<td colspan='3'>"+l[1]+"</td>").append(m).appendTo(F);}}}}var H=jQuery("<tr>").addClass("result").appendTo(u);var w=jQuery("<td>"+C.n+"</td>");var d=jQuery("<td>"+C.d+"</td>").addClass("wsod_sym");H.append(w).append(d);H.data("result",C).bind("mouseenter",function(){jQuery(this).siblings("tr").removeClass("hover");jQuery(this).addClass("hover");}).bind("mouseleave",function(){jQuery(this).removeClass("hover");}).bind("mousedown",function(c){r._select(c,b,G,jQuery(this).data("result"));});}}}var h=jQuery("<table>").append(u);h.find("tr.resultType:eq(1)").addClass("nameMatches");h.find("tr:last").addClass("last");D.append(h);var e=b.offset(),p=e.top+b.outerHeight(),v=b.outerWidth();D.css({top:parseFloat(p),minWidth:parseFloat(v-2)});D.css("left",(G.align==="right"?e.left-(D.outerWidth()-v):e.left)+"px");},_close:function(a,c,b){this._closeOptions(a,c,b);if(b.onClose){b.onClose(a,c);}},_go:function(a,d,c,b){if(c.onGo){c.onGo(a,d,b,c);}this._close(a,d,c);},_open:function(a,f,e,d,c,b){this._drawOptions(f,e,d,c,b);if(e.onOpen){e.onOpen(a,f,d,c);}},_search:function(b,g,f,e){var c=this;var a=g.attr("id");if(f._timer){window.clearTimeout(f._timer);}this.removeButtonData(g);if(this.config[a].hideResultsOnSubmit){var d=g.parent();if(d.get(0).tagName=="FORM"){d.submit(function(){c._close(b,g,f);});}}e=xss.filter(e);if(this.config[a].multiquoteAllowed!==false&&(e.indexOf(",")>-1||e.indexOf(" ")>-1)){this.removeButtonData(g);this._close(b,g,f);return;}if(f.cache[e]){c._open(b,g,f,e,f.cache[e],true);}else{f._timer=window.setTimeout(function(){f._active=c.quickSearch(g,e,function(h){f.cache[e]=h;c._open(b,g,f,e,h,false);});},250);}},_select:function(a,d,c,b){if(c.onSelect){c.onSelect(a,d,b,c);}},onBlur:function(a,b,c){this._close(a,b,c);if(!b.val()){b.val(b.attr("alt"));this.removeButtonData(b);}},onClick:function(a,b,c){},onFocus:function(a,b,c){if(b.val()==b.attr("alt")){b.val("");this.removeButtonData(b);}else{if(b.val()){this._search(a,b,c,b.val());}}},onKeyDown:function(c,e,f){this.g=e.val().replace(/ /g,"").length;if(this.g==0&&c.keyCode==13){c.preventDefault();}if(!f._div){return;}var b=e.attr("id");this.removeLoadingIcon(e);var d=f._div.find("tr.hover:first");switch(c.keyCode){case 13:if(!d.length){if(this.config[b].autoSelectFirstResult===true){d=f._div.find("tr.result:first");if(d.length){this._go(c,e,f,d.data("result"));}else{return false;}}else{return true;}}else{this._select(c,e,f,d.data("result"));}c.preventDefault();break;case 27:this._close(c,e,f);break;case 40:var a=d.nextAll("tr:not('.resultType'):first");if(!a.length){a=f._div.find("tr:not('.resultType'):first");}d.removeClass("hover");a.addClass("hover");c.preventDefault();break;case 38:var a=d.prevAll("tr:not('.resultType'):first");if(!a.length){a=f._div.find("tr:last");}d.removeClass("hover");a.addClass("hover");c.preventDefault();break;}},onKeyUp:function(a,d,f){var c=this;var b=d.val();var e=d.val().replace(/ /g,"").length;if(b!=f._lastValue){f._lastValue=b;if(!b){this._close(a,d,f);}else{this._search(a,d,f,b);}}if(e==0){document.getElementById("search_button").disabled=true;}else{document.getElementById("search_button").disabled=false;}},_highlightText:function(a,o){var s=this;var b=String(a).split(" ");var d=b.length;if(o.n.indexOf(" ")){var e=o.n.split(" ");var p=e.length;}else{var e=o.n;var p=1;}if(d==1){var g="<b>$1</b>";var r=new RegExp("\\b("+b+")","gi");o.d=String(o.s).replace(r,g);o.n=String(o.n).replace(r,g);}else{for(var j=0;j<p;j++){var l=e[j];if(!l.length){continue;}for(var m=0;m<d;m++){var h=b[m].replace(/\s/g,"");var f=h.length;if(f&&h.toLowerCase()==l.toLowerCase().substring(0,f)){e[j]="<b>"+l.substring(0,f)+"</b>"+l.substring(f);m=d;}}o.n=e.join(" ");}}return o;}};var ViewabilityVideo=function(){var e="js-inbetweener-pinner--type1";var v="js-inbetweener-pinner--type2";var g="js-inbetweener-unpinner";var w="inbetweener-pinner--type1";var t="inbetweener-pinner--type2";var d="inbetweener-unpinner";var c="cvp_story_0";var m="viewability--off";var q="viewability--on";var r=jQuery("body");var o=[];var j=[];var b=[];var u=jQuery("#js-ie-storytop");var a=u.find(".cnnplayer");var l=VideoPlayerManager.getPlayer(c);var p=u.offset().left;var y=800;function z(){if(r.hasClass(q)){a.removeClass("fade-in");r.removeClass(w);r.removeClass(t);r.removeClass(q);r.addClass(m);a.css("left","auto");o.css({left:p+"px"});j.css({left:p+"px"});l.resizeTo(780,439);u.css("height","auto");setTimeout(function(){a.addClass("fade-in");},200);}}function h(){if(!r.hasClass(q)&&l.isPlaying){u.css("height",u.height());a.removeClass("fade-in");r.removeClass(m);r.addClass(q+" "+w);o.css({left:p+y});a.css({left:p+y});l.resizeTo(300,169);setTimeout(function(){a.addClass("fade-in");},200);}}function f(){var B=window.pageYOffset||window.scrollY;var A=u.offset().top+u.height()-75;if(!r.hasClass(q)&&l.isPlaying&&(B>A)){u.css("height",u.height());a.removeClass("fade-in");r.removeClass(m);j.css({left:p+y});r.addClass(q+" "+t);a.css("left",p+y);l.resizeTo(300,169);setTimeout(function(){a.addClass("fade-in");},200);}}function s(){if(a.length<=0){return false;}var B=document.createElement("div");var C=document.createElement("div");var A=document.createElement("div");B.className=e+" "+w;C.className=v+" "+t;A.className=g+" "+d;a.before(A);a.before(B);a.before(C);o=u.find("."+e);j=u.find("."+v);b=u.find("."+g);o.css("left",p);jQuery(window).scroll(function(F){if(l==undefined){return;}var G=window.pageYOffset||window.scrollY;var E=u.offset().top+50;var D=E+439;if(G>E){if(G<=D){h();}else{f();}}else{z();}});window.addEventListener("resize",function(){p=u.offset().left;if(r.hasClass(q)){a.css("left",p+y);o.css({left:p+y});}});}return{init:s,unpin:z,pin_style2:f,pin_style1:h};};var eventLogger={quoteRegistered:false,trackvalues:{social:{"twt-tweet":"twitter_click","twt-retweet":"twitter_click","twt-favorite":"twitter_click","twt-follow":"twitter_click","fb-like":"facebook_click","fb-share":"facebook_post","goog-plus":"google_click","lin-share":"linkedin_click","pin-share":"pinterest_click","reddit-share":"reddit_click","stumbleupon-share":"stumbleupon_click","embed":"embed_click","link":"link_click","email":"email_click","print":"print_click","cmt-cmmt":"disqus_click"}},init:function(){if(jQuery("body.cnn-story").length>0){if(typeof(business)=="undefined"){business={mny:{bubble_quotes:0}};}}},social_track:function(g,a){var f="";var b=this.trackvalues.social[g];var d={type:"social-click"};if(typeof a==="undefined"||a==null){f=window.location.href;}else{f=a;}if(b!=null&&f!=""){try{d.data={clickObj:{socialType:b,pageName:f}};trackMetrics(d);}catch(c){}}},incBubbleCount:function(){try{business.mny.bubble_quotes++;}catch(a){}},log:function(b,a){try{switch(b){case"quote":if(this.quoteRegistered==false){logMetrics({"action":b,"data":{"component":a}});this.quoteRegistered=true;}break;case"navclick":case"navhover":case"quotehover":logMetrics({"action":b,"data":{"component":a}});break;}}catch(c){}}};eventLogger.init();var cnnLinkSelectors={"section":[{name:"Trulia",selector:"div#mod-trulia li.lastItem a",query:"iid=Partner_TR"},{name:"Aol Autos",selector:"div.aol-autos a",query:"iid=Partner_AOL"},{name:"Glassdoor",selector:"#gdWidgetStatic a",query:"iid=Partner_GD"},{name:"Video Summary",selector:".js-video-summary a",query:"iid=SF_video"}],"section_markets":[{name:"Subnav Links",selector:"div#cnnHeader > div.subnav ul li a",query:"iid=MKT_Sub"},{name:"ETF Top Summaries",selector:"div#wsod_etfCenter > div.wsod_pgHeader > div.mod-featstories ul li a",query:"iid=ETF_MKT_News"},{name:"MF Top Summaries",selector:"div#wsod_mutualFundCenter > div.wsod_pgHeader > div.mod-featstories ul li a",query:"iid=MF_MKT_News"},{name:"MkOverview Top Summary",selector:"div#wsod_marketsOverview > div.clearfix > div.wsod_marketsLeftCol > div.summaryBlock a",query:"iid=mkt_SF_news"}],"section_investing":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_economy":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_news":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_technology":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_pf":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_college101":[{name:"RightModule",selector:"div.mod-spFeatstories a",query:"iid=collnews"}],"section_smallbusiness":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_luxury":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_media":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_retirement":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_companies":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_real_estate":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_autos":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_taxes":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_college":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_interactive":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_interactive":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_lists":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"section_funds":[{name:"Latest News",selector:".js-stack article a",query:"iid=SF_LN"},{name:"Featured News (River)",selector:".js-river article a",query:"iid=SF_River"},{name:"Top Lead",selector:".js-toplead a",query:"iid=Lead"}],"special_livepage":[{name:"River",selector:"div.mod-T2panels > ul.summaryList a",query:"?iid=V_LiveShelf ",not:"a.tw,a.fb,a.money-get-twitter,a.money-get-likes"},{name:"HotList module",selector:"div#mod-galleries a",query:"iid=GM"}],"surge_landing":[{name:"River",selector:"ul.list-surge li > a",query:"iid=surge-landing-summary"}],"story":[{name:"Gallery Module",selector:"div#js-mod-galleries div#mod-galleries div.summaryBlock a",query:"iid=GM"},{name:"Most Popular module",selector:"div.mod-mostpop > table tr td.cnnHeadline a",query:"iid=s_mpm"},{name:"Article Markets module",selector:"div#markets-module-stories a",query:"iid=s_inv_mid"},{name:"Economic Calendar",selector:"div#mod-econStats a",query:"iid=s_econ_mid"},{name:"News edit module",selector:"div#newsEditModule a",query:"iid=s_bn_mid"},{name:"Tech Blogs module",selector:"div.mod-blogs a",query:"iid=s_tech_mid"},{name:"PF edit module",selector:"div#pfEditModule a",query:"iid=s_pf_mid"},{name:"Smallbiz edit module",selector:"div#js-mod-spSectionModule a",query:"iid=s_sb_mid"},{name:"End of article links",selector:"div.mod-morestories a",query:"iid=EAL"},{name:"In-Story Embedded Links",selector:"div#storycontent a",query:"iid=EL",not:".comment,#fb-share-counter-link-side,li#linkedin-share-counter-side a"},{name:"Spotlight",selector:"#cnnBody div.cnnCol_side > div#lux-spotlight a",query:"iid=S_LU_SP "},{name:"Life at the top",selector:"#cnnBody div.cnnCol_side > div#lux-thetop a",query:"iid=S_LU_Mid "},{name:"Social Surge",selector:".js-surge-module > a",query:"iid=surge-landing"},{name:"Social Surge",selector:".js-surge-module li > a",query:"iid=surge-story-summary"}],"story_bubbles":[{name:"in-article quote bubbles - headlines",selector:"div.popbody ul li a",query:"iid=QB_MKTNEWS"},{name:"in-article quote bubbles- data",selector:"div.popbody div.panel span.change > a",query:"iid=QB_MKTDATA"}],"gallery":[{name:"Jump page - Featured",selector:"div#mod-river ul li a",query:"iid=F_Jump",not:"a.money-social"},{name:"Jump page - Latest Galleries",selector:"div.mod-T2panels ul li a",query:"iid=L_Jump",not:"a.money-social"}],"gallery-xl":[{name:"Latest Gallery Module",selector:"div.mod-T2panels ul li a",query:"iid=XL_latest"},{name:"More Module",selector:"div#relatedElements a",query:"iid=XL_more"}],"video":[{name:"Series module",selector:".js-vid-shelf-series",query:"iid=V_Series"},{name:"HotList module",selector:"div#mod-galleries a",query:"iid=V_GM"},{name:"Top Videos module",selector:"div#js-vid-shelf-top a",query:"iid=V_Top"},{name:"Latest Videos module",selector:"div.mod-latestnews a",query:"iid=V_LV"},{name:"Series Description header",selector:"div.mod-videoDesc .boxHeading a",query:"iid=V_Mod_Header"},{name:"Series Description RSS",selector:"div.mod-videoDesc p.subscribe-rss a",query:"iid=V_RSS"}],"tablet_fullview":[{name:"Tablet View - Full Article View",selector:"#ctype-story a.cnnMore",query:"iid=FullView"},{name:"Tablet View - Full Article View",selector:"#ctype-gallery a.cnnMore",query:"iid=FullView"}],"tablet_section_access":[{name:"Tablet View - Homepage Access",selector:"#app_tab",query:"iid=Tablet_SFAccess"}],"tablet_hp_access":[{name:"Tablet View - Homepage Access",selector:"#app_tab",query:"iid=Tablet_HPAccess"}],"tools":[{name:"Gallery Module",selector:"div#mod-galleries div.summaryBlock a",query:"iid=GM"},{name:"More Calculators head",selector:"#calculator div.breadcrumb a",query:"iid=TL_Head"},{name:"Related Links",selector:"#relatedLinks a",query:"iid=TL_Links"},{name:"BPL Module",selector:"#bpliveStats a",query:"iid=TL_COL_Mod"},{name:"MPM",selector:"div.mod-mostpop a",query:"iid=TL_Popular"}],"homepage":[{name:"Social Surge",selector:".js-surge-module > a, .js-surge-module > article a",query:"iid=surge-landing"},{name:"Social Surge",selector:".js-surge-module li > article a",query:"iid=surge-hp-summary"},{name:"Top Lead Surge",selector:".js-surge-toplead a",query:"iid=surge-toplead-dom"},{name:"Stack Surge",selector:".js-surge-stack a",query:"iid=surge-stack-dom"},{name:"Grid Surge",selector:".js-surge-grid a",query:"iid=surge-grid-dom"},{name:"Stack",selector:".js-stack article a",query:"iid=hp-stack-dom"},{name:"Featured News (Grid)",selector:".js-river article a",query:"iid=hp-grid-dom"},{name:"Last 5 Quotes module",selector:"table tr td a",query:"iid=HP_Last5",type:"iframe",iframe_selector:"iframe.myInvestments"},{name:"Top Lead",selector:".js-toplead a",query:"iid=hp-toplead-dom"},{name:"Video Zone",selector:"#video-zone a",query:"iid=HP_Video"}],"homepage_international":[{name:"Social Surge",selector:".js-surge-module > a, .js-surge-module > article a",query:"iid=surge-landing"},{name:"Social Surge",selector:".js-surge-module li > article a",query:"iid=surge-hp-summary"},{name:"Top Lead Surge",selector:".js-surge-toplead a",query:"iid=surge-toplead-intl"},{name:"Stack Surge",selector:".js-surge-stack a",query:"iid=surge-stack-intl"},{name:"Grid Surge",selector:".js-surge-grid a",query:"iid=surge-grid-intl"},{name:"Top Lead",selector:".js-toplead a",query:"iid=hp-toplead-intl"},{name:"Stack",selector:".js-stack article a",query:"iid=hp-stack-intl"},{name:"Featured News (Grid)",selector:".js-river article a",query:"iid=hp-grid-intl"},{name:"Market Tracker (Intl)",selector:"div#mod-markettracker a",query:"iid=intnlmrkt"},{name:"Currencies Module",selector:"ul.currencies a",query:"iidF=intnlcurrencies"},{name:"Business 360",selector:"div#mod-business360 a",query:"iid=intnl360"},{name:"Rankings",selector:"div#mod-rankings a",query:"iid=intnlrankings"},{name:"Specials",selector:"div.module-special a",query:"iid=INTL_SPC"},{name:"Right Rail Sponsoered",selector:"div#modSponsored a",query:"iid=INTL_RR"},{name:"TV Promo",selector:"div.mod-specialpromo a",query:"iid=INTL_TV"},{name:"Video Zone",selector:"#video-zone a",query:"iid=HP_Video"}],"markettracker_open":[{name:"Expanded State MT- US",selector:"div#slide_data_us > div.col1 > ul > li a, div#slide_data_us > div.col1 > div.seeMore a",query:"iid=E_MT_US"},{name:"Expanded State MT- Europe",selector:"div#slide_data_europe > div.col1 > ul > li a, div#slide_data_europe > div.col1 > div.seeMore a",query:"iid=E_MT_Eurpoe"},{name:"Expanded State MT- Europe",selector:"div#slide_data_asia > div.col1 > ul > li a, div#slide_data_asia > div.col1 > div.seeMore a",query:"iid=E_MT_Asia"},{name:"Expanded State MT- Currencies",selector:"div#slide_data_currencies > div.col1 > ul > li a, div#slide_data_currencies > div.col1 > div.seeMore a",query:"iid=E_MT_Currencies"},{name:"Expanded State MT- Commodities",selector:"div#slide_data_commodities > div.col1 > ul > li a, div#slide_data_commodities > div.col1 > div.seeMore a",query:"iid=E_MT_Commodities"},{name:"Expanded State MT- Bonds",selector:"div#slide_data_bonds > div.col1 > ul > li a, div#slide_data_bonds > div.col1 > div.seeMore a",query:"iid=E_MT_Bonds"}],"markettracker_closed":[{name:"See All Markets' Link",selector:"div#mod-markettracker div.quotes-latest-body > div.seeMore a",query:"iid=C_All_MKTS"},{name:"Market Tracker- Indexes",selector:"div#mod-markettracker div.quotes-latest-body table.list_indices tbody > tr > td > a",query:"iid=C_MT_Index"},{name:"Market Tracker- Bonds and Currencies",selector:"div#mod-markettracker div.quotes-latest-body table.list_keydata tbody > tr > td > a",query:"iid=C_MT_BC"},{name:"Market Tracker- Commodities",selector:"div#mod-markettracker div.quotes-latest-body table.list_commodities tbody > tr > td > a",query:"iid=C_MT_Commodities"}],"article_top_nav_news":[{name:"Business News- News Headlines",selector:"div.flyout-business div.column article a",query:"iid=A_BN_News"},{name:"Business News- Quicklinks",selector:"div.flyout-business ul.flyout-nav-list a",query:"iid=A_BN_QL"}],"article_top_nav_markets":[{name:"Markets- News",selector:"div.flyout-markets div.column article a",query:"iid=A_MKT_News"},{name:"Markets- Quicklinks",selector:"div.flyout-markets div.column ul.flyout-nav-list a",query:"iid=A_MKT_QL"}],"article_top_nav_tech":[{name:"Technology- News Headlines",selector:"div.flyout-tech div.column article a",query:"iid=A_T_News"},{name:"Technology- Quicklinks",selector:"div.flyout-tech div.column ul.flyout-nav-list a",query:"iid=A_T_QL"}],"article_top_nav_pf":[{name:"PF- News Headlines",selector:"div.flyout-personal_finance div.column article a",query:"iid=A_PF_News"},{name:"PF- Quicklinks",selector:"div.flyout-personal_finance div.column ul.flyout-nav-list a",query:"iid=A_PF_QL"}],"article_top_nav_smallbusiness":[{name:"Small Business- News Headlines",selector:"div.flyout-small_business  div.column article a",query:"iid=A_SB_News"},{name:"Small Business- Quicklinks",selector:"div.flyout-small_business  div.column  ul.flyout-nav-list a",query:"iid=A_SB_QL"}],"article_top_nav_luxury":[{name:"Luxury- News Headlines",selector:"div.flyout-luxury div.column article a",query:"iid=A_LU_News"},{name:"Luxury- Quicklinks",selector:"div.flyout-luxury div.column ul.flyout-nav-list a",query:"iid=A_LU_QL"}],"top_nav_news":[{name:"Business",selector:".main-nav ul.main-nav-ul a.main-nav-a#business-link",query:"iid=Biz_Nav"},{name:"Business News- News Headlines",selector:"div.flyout-business div.column article a",query:"iid=H_BN_News"},{name:"Business News- Quicklinks",selector:"div.flyout-business ul.flyout-nav-list a",query:"iid=H_BN_QL"}],"top_nav_markets":[{name:"Markets",selector:".main-nav ul.main-nav-ul a.main-nav-a#markets-link",query:"iid=Mark_Nav"},{name:"Markets- News",selector:"div.flyout-markets div.column article a",query:"iid=H_MKT_News"},{name:"Markets- Quicklinks",selector:"div.flyout-markets div.column ul.flyout-nav-list a",query:"iid=H_MKT_QL"}],"top_nav_tech":[{name:"Technology",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--tech a.main-nav-a",query:"iid=Tech_Nav"},{name:"Technology- News Headlines",selector:"div.flyout-tech div.column article a",query:"iid=H_T_News"},{name:"Technology- Quicklinks",selector:"div.flyout-tech div.column ul.flyout-nav-list a",query:"iid=H_T_QL"}],"top_nav_media":[{name:"Media",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--media a.main-nav-a",query:"iid=Media_Nav"}],"top_nav_pf":[{name:"PF",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--personal_finance a.main-nav-a",query:"iid=PF_Nav"},{name:"PF- News Headlines",selector:"div.flyout-personal_finance div.column article a",query:"iid=H_PF_News"},{name:"PF- Quicklinks",selector:"div.flyout-personal_finance div.column ul.flyout-nav-list a",query:"iid=H_PF_QL"}],"top_nav_smallbusiness":[{name:"Small Biz",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--small_business a.main-nav-a",query:"iid=SmallBiz_Nav"},{name:"Small Business- News Headlines",selector:"div.flyout-small_business  div.column article a",query:"iid=H_SB_News"},{name:"Small Business- Quicklinks",selector:"div.flyout-small_business  div.column  ul.flyout-nav-list a",query:"iid=H_SB_QL"}],"top_nav_luxury":[{name:"Luxury",selector:".main-nav ul.main-nav-ul li.main-nav-li#main-nav--luxury a.main-nav-a",query:"iid=Lux_Nav"},{name:"Luxury- News Headlines",selector:"div.flyout-luxury div.column article a",query:"iid=H_LU_News"},{name:"Luxury- Quicklinks",selector:"div.flyout-luxury div.column ul.flyout-nav-list a",query:"iid=H_LU_QL"}],"hp_most_popular":[{name:"Most Popular Tab Content (within the 'River')",selector:"div#mod-river > ul.sumlist02 a",query:"iid=HP_MP_River",not:"a.cm, a.fb, a.cm"}]};
function updateLinks(f){var b=cnnLinkSelectors[f];for(var a=0;a<b.length;a++){try{if(b[a].type=="iframe"){var c=jQuery(b[a].iframe_selector).contents().find(b[a].selector);}else{var c=jQuery(b[a].selector);}if(typeof(b[a].not)!="undefined"){c=c.not(b[a].not);}c.each(function(j){if(!isUpdatableLink(this.href,b[a])){return;}var m=jQuery(this);var o=this.innerHTML;var g=m.text();var e=this.href;var h=getHashValue(e);if(h!=""){e=e.replace("#"+h,"");}var q;var s=0;if(e.indexOf("?")==-1){e=e+"?"+b[a].query;}else{q=e.substr((e.indexOf("?")+1),e.length);e=e.substr(0,e.indexOf("?"));var l={};var r=q.split("&");r.push(b[a].query);if(r.length>=1){jQuery.each(r,function(v,w){var z=r[v].split("=");var u=z[0];var y=z[1]||"";if(typeof(l[u])=="undefined"){l[u]=y;s++;}});}var p="?";jQuery.each(l,function(u,v){p+=u+"="+l[u];s--;if(s>0){p+="&";}});console.log("queryVarCount = "+s);e+=p;}if(h!=""){e+="#"+h;}m.attr("href",e);var t=/\W/gi;if(g.length>0&&t.test(g)&&navigator.userAgent.indexOf("MSIE")!=-1){this.innerHTML=o;}if(b[a].name=="Last 5 Quotes module"){this.setAttribute("target","_top");this.removeAttribute("onclick");}});}catch(d){}}}function updateLink(b,a){var b=b+((b.indexOf("?")>-1)?"&":"?")+a.query;return b;}function isUpdatableLink(b,a){if(b==""){return false;}if(b=="#"){return false;}if(b.indexOf(a.query)!=-1){return false;}if(b.indexOf("javascript:")>-1){return false;}if(a.selector.indexOf("div.col3")!=-1){return true;}if(a.selector.indexOf("div.col2 .seeMore")!=-1){return true;}if(b.indexOf(".cnn")==-1&&b.indexOf(".turner")==-1&&b.indexOf("cnnmoneytech.tumblr.com")==-1){return false;}if(a.name=="In-Story Embedded Links"){if(b.indexOf("facebook.com")>-1||b.indexOf("twitter.com")>-1||b.indexOf("linkedin.com")>-1){return false;}if(b.indexOf("/quote/quote.html")>-1||b.indexOf("source=")>-1){return false;}}return true;}function getQSParam(c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+c+"=([^&#]*)";var d=new RegExp(a);var b=d.exec(window.location.href);if(b==null){return"";}else{return decodeURIComponent(b[1].replace(/\+/g," "));}}function getHashValue(d){var a="#([^&?#]*)";var c=new RegExp(a);var b=c.exec(d);if(b==null){return"";}else{return b[1];}}function getParamValue(c,e){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+c+"=([^&#]*)";var d=new RegExp(a);var b=d.exec(e);if(b==null){return"";}else{return decodeURIComponent(b[1].replace(/\+/g," "));}}function updateLinksForNavigation(b){var a={"news":b,"markets":b,"investing":b,"tech":b,"media":b,"pf":b,"smallbusiness":b,"luxury":b};jQuery.each(a,function(c,d){if(d=="story"){try{updateLinks("article_top_nav_"+c);}catch(f){}}else{try{updateLinks("top_nav_"+c);}catch(f){}}});}function showNavTab(b,a){var c=document.getElementById(b);c.className="Tab"+a+"Visible";}function addCommas(a){if(typeof(a)=="undefined"){return"";}a=a.toString();var b=new RegExp("(-?[0-9]+)([0-9]{3})");var c=a.split(".");a=c[0];while(b.test(a)){a=a.replace(b,"$1,$2");}if(c.length==2){a=a+"."+c[1];}return a;}function capitalize(a){return a.replace(/\w+/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase();});}function getHashValue(d){var a="#([^&?#]*)";var c=new RegExp(a);var b=c.exec(d);if(b==null){return"";}else{return b[1];}}var updateLatestNewsTimestamp=function(){var a=new Date().getTime();var b=1000;var c=60*b;var e=60*c;var f=24*e;var m=0;jQuery(".mod-latestnews li").each(function(p){if(jQuery(this).attr("time")){var q=new Number(jQuery(this).attr("time"));var o=new Date(q);if(q&&q>m){m=q;}}});if(m){var d="";var l=a-m;if(l>0&&l<(60*c)){var h=Math.floor(l/e);var g=Math.floor(l%e/c);var j=Math.floor(l%e%c/b);if(l<c){d=("Updated: "+j+" "+(j==1?"second":"sec.")+" ago");}else{if(l<e){d=("Updated: "+g+" "+(g==1?"min.":"min.")+" ago");}else{if(l<f){d=("Updated: "+h+" "+(h==1?"hr.":"hrs.")+" ago");}}}}jQuery(".mod-latestnews .cnnDateStamp").html(d);}};function openWindow(a,c,d){var b=a;if(b.match("/quizzes/")){document.location.href=b;}else{popupWin=window.open(b,c,d);popupWin.opener.top.name="opener";popupWin.focus();}}var cnnHasOpenPopup=0;function CNN_openPopup(c,b,e,a){var f=location.hostname;window.top.name="opener";var d=window.open(c,b,e);if(d){cnnHasOpenPopup=1;}if(d&&d.opener){if(a){d.opener.location=a;}}if(d){d.focus();}}var cnnVidServer="";function cnnLiveVideo(a){if(!a){a="1";}var b=cnnVidServer+"http://www.cnn.com/video/live/live.html?stream=stream"+a;javascript:CNN_openPopup(b,"liveplayer","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=yes,width=672,height=540");}function cnnVideo(e,h,l){var g=new Array("world","us","international","spanish","politics","showbiz","offbeat","tech","living","education","health","sports","weather");var c=false;var f=false;var j="";var a=/\/(\d{4})\/(\d{2})\/(\d{2})\//;if(a.test(h)){var d=h.match(a);var b=d[1]+d[2]+d[3];if(b<"20090303"){c=true;}}for(i=0;i<g.length;i++){var m=new RegExp("^/video/"+g[i]+"/");if(m.test(h)){f=true;}}if(h.search(/^\/video\/business\//)>-1&&c==true){f=true;}if(h.search(/\/globalforum\//)>-1){j="http://money.cnn.com/video/globalforum/"+h;}else{if(f){j="http://www.cnn.com/video/#"+h;}else{j="http://money.cnn.com/"+h;}}if(e=="live"){cnnLiveVideo(h);}else{if(top.location==self.location){location.href=j;}else{window.open(j,"vid_win");}}}function writeLink(b,a,c){if(document.getElementById(c)){document.getElementById(c).innerHTML='<a rel="nofollow" href="'+a+'">Subscribe to '+b+"</a>";}}var sectionType="";function setMagLinks(){banner_linkMag="";banner_linkMagURL="";link_fortURL="https://subscription.fortune.com/storefront/subscribe-to-fortune/link/1002978.html";link_moneymagURL="https://subscription.money.com/storefront/subscribe-to-money/link/1003003.html";if(location.pathname.match("fortune")){banner_linkMag="Fortune";banner_linkMagURL=link_fortURL;}else{if(location.pathname.match("moneymag")){banner_linkMag="Money";banner_linkMagURL=link_moneymagURL;}else{var a=Math.floor(Math.random()*2);if(a==0){banner_linkMag="Fortune";banner_linkMagURL=link_fortURL;}else{banner_linkMag="Money";banner_linkMagURL=link_moneymagURL;}}}writeLink(banner_linkMag,banner_linkMagURL,"banner_maglink");}function chooseFortEKeyFooter(){var a=Math.floor(Math.random()*2);if((location.pathname=="/magazines/fortune/")||(location.pathname=="/magazines/fortune/index.html")){writeFortCMLinkFooter("FOnb?source_id=34");}else{if((location.pathname=="/magazines/fortune/investing/")||(location.pathname=="/magazines/fortune/investingindex.html")){writeFortCMLinkFooter("FOnb?source_id=33");}else{if((location.pathname=="/magazines/fortune/tech/")||(location.pathname=="/magazines/fortune/tech/index.html")){writeFortCMLinkFooter("FOnb?source_id=31");}else{if((location.pathname=="/magazines/fortune/fortune500/")||(location.pathname=="/magazines/fortune/fortune500/index.html")){writeFortCMLinkFooter("FOnb?source_id=35");}else{if((location.pathname=="/magazines/fortune/management/")||(location.pathname=="/magazines/fortune/management/index.html")){writeFortCMLinkFooter("FOnb?source_id=32");}else{if((location.pathname=="/magazines/fortune/rankings/")||(location.pathname=="/magazines/fortune/rankings/index.html")){writeFortCMLinkFooter("foab?source_id=33");}else{if((location.hostname.search(/\.blogs(\..+)?\.cnn\.com$/)!=-1)||(location.pathname.match("/magazines/fortune/columnists"))){writeFortCMLinkFooter("FOnb?source_id=36");}else{if(location.pathname.match("/galleries")){writeFortCMLinkFooter("FOnb?source_id=54");}else{if(location.pathname.match("/video/ft")){writeFortCMLinkFooter("FOnb?source_id=37");}else{if(location.pathname.match(".htm$")){writeFortCMLinkFooter("FOnb?source_id=38");}else{if(location.pathname.match("/magazines/fortune/fortune_archive/")){writeFortCMLinkFooter("FOnb?source_id=51");}else{if(location.pathname.match(/(\..+)?\/\d{4}\//)){writeFortCMLinkFooter("foab?source_id=33");}else{writeFortCMLinkFooter("FOnb?source_id=2");}}}}}}}}}}}}}var cnnCSIs=new Array();var cnnUseDelayedCSI=0;var localUserAgent=navigator.userAgent.toLowerCase();
if((localUserAgent.indexOf("msie")>-1)&&(localUserAgent.indexOf("mac")>-1)){cnnUseDelayedCSI=1;}function cnnAddCSI(c,b,f,g){if(c!="contextualLinks"){if(!f){f="";}g=(!g&&(b.charAt(0)=="/"))?false:true;if(cnnUseDelayedCSI){var d=new Object();d.src=b;d.id=c;d.args=f;d.breakCache=g;cnnCSIs[cnnCSIs.length]=d;}else{var h=new Date();var e=h.getTime();var a=(g)?"&time="+e:"";if(f){a=a+"&"+f;}var j='<iframe src="'+b+"?domId="+c+a+'" name="iframe'+c+'" id="iframe'+c+'" width="0" height="0" align="right" style="visibility:hidden"></iframe>';document.write(j);}}}function cnnUpdateCSI(b,e){var a=document.getElementById(e)||document.all[e];if(a){a.innerHTML=b;}var c=0;if(c){var d=c.style.top||"0px";c.style.top="1px";c.style.top=d;}}function cnnHandleCSIs(){if(document.getElementById){var b=document.getElementById("cnnPipelineLauncher");}if(document.body&&document.body.innerHTML&&cnnUseDelayedCSI){var e=document.getElementById("csiIframe")||document.all["csiIframe"];var l="";for(var g=0;g<cnnCSIs.length;g++){var a=cnnCSIs[g].src;var c=cnnCSIs[g].id;var j=new Date();var h=cnnCSIs[g].breakCache;var d=j.getTime();var f=(h)?"&time="+d:"";if(cnnCSIs[g].args){f=f+"&"+cnnCSIs[g].args;}l+='<iframe src="'+a+"?domId="+c+f+'" name="iframe'+c+'" id="iframe'+c+'" width="0" height="0" align="right"></iframe>';}if(e){e.innerHTML=l;}}}function getTimeStamp(f){var l=f.split("T");var j=l[0].split("-");var h=l[1].split(":");var e=j[1]+"/"+j[2]+"/"+j[0]+" "+l[1].toString();f=new Date(e);var g=cnnSiteWideCurrDate;var m="AM";function c(o){return(b(o.getHours())+":"+a(o.getMinutes())+" "+m);}function b(d){if(d>=12){m="PM";d-=12;}if(d<10){d="0"+d;}return d;}function a(d){if(d<=10){d="0"+d;}return d;}if(f.getMonth()==g.getMonth()&&f.getDate()==g.getDate()&&f.getFullYear()==g.getFullYear()){return c(f);}else{return(f.toDateString()+" "+c(f));}}function trunctext(b,a){if(b.length>a){trunced=b.substring(0,a);trunced=trunced.replace(/\w+$/,"...");return trunced;}return b;}function getQueryStrings(){var e={};var d=function(g){return decodeURIComponent(g.replace(/\+/g," "));};var f=location.search.substring(1);var a=f.split("&");for(var c in a){var b=a[c].split("=");if(b.length>1){e[d(b[0])]=d(b[1]);}}return e;}function setFigureWidthFromContainedImageWidth(){var b=document.querySelectorAll("figure.body_img");var a;for(a=0;a<b.length;a++){if(b[a].getElementsByTagName("img")&&b[a].getElementsByTagName("img")[0]){console.log("setting stuff");b[a].style.width=b[a].getElementsByTagName("img")[0].offsetWidth+"px";}}}function intlEdition_Dropdown(){jQuery(".edtn_dropdown dt a").click(function(){jQuery(".edtn_dropdown dd ul").toggle();});jQuery(".edtn_dropdown dd ul li a").click(function(){var c=jQuery(this).html();jQuery(".edtn_dropdown dt a").html(c);jQuery(".edtn_dropdown dd ul").hide();var b=jQuery(this).attr("id");function a(d,e){var f=new Date();f.setDate(f.getDate()+365);document.cookie=d+"="+escape(e)+";expires="+f.toUTCString()+";path=/;domain=cnn.com";return;}a("SelectedEdition",b);if(b=="www"){document.location.href="/?iid=dmstedition";}else{document.location.href="/?iid=intnledition";}});jQuery(document).bind("click",function(b){var a=jQuery(b.target);if(!a.parents().hasClass("edtn_dropdown")){jQuery(".edtn_dropdown dd ul").hide();}});}var cnnOutbrain_Manager={OB_permalink:"",WIDGETS:{story_hotlist:{widgetid:"HOP_5",anchorid:"js-outbrain-hotlist"},section_hotlist:{widgetid:"HOP_8",anchorid:"js-outbrain-hotlist"},story_related:{widgetid:"AR_6",anchorid:"js-outbrain-relateds"},gallery_related:{widgetid:"AR_2",anchorid:"js-outbrain-relateds"},video_related:{widgetid:"TR_1",anchorid:"js-outbrain-relateds"},data_quote_related:{widgetid:"AR_18",anchorid:"js-outbrain-relateds"},story_recommend:{widgetid:"AR_11",anchorid:"js-outbrain-recommended"},gallery_recommend:{widgetid:"AR_13",anchorid:"js-outbrain-recommended"},blog_recommend:{widgetid:"AR_11",anchorid:"js-outbrain-recommended"},data_quote_recommend:{widgetid:"AR_17",anchorid:"js-outbrain-recommended"},video_recommend:{widgetid:"AR_19",anchorid:"js-outbrain-recommended"},video_between_recommend:{widgetid:"AR_21",anchorid:"js-outbrain-between-recommended"},story_module:{widgetid:"AR_5",anchorid:"js-outbrain-module"},blog_module:{widgetid:"AR_5",anchorid:"js-outbrain-module"},gallery_module:{widgetid:"AR_15",anchorid:"js-outbrain-module"},hp_module:{widgetid:"SFC",anchorid:"js-outbrain-module"},videoclip_module:{widgetid:"AR_10",anchorid:"js-outbrain-module"},marketshp_module:{widgetid:"SF_3",anchorid:"js-outbrain-module"},markets_module:{widgetid:"AR_8",anchorid:"js-outbrain-module"},section_module:{widgetid:"SF_4",anchorid:"js-outbrain-module"},section_module_2:{widgetid:"SF_7",anchorid:"js-outbrain-section-module-2"},marketshp_300_module:{widgetid:"SF_8",anchorid:"js-outbrain-marketshp-300-module"},marketshp_726_module:{widgetid:"SF_9",anchorid:"js-outbrain-marketshp-726-module"},story_ads_rr_module:{widgetid:"SB_5",anchorid:"js-outbrain-ads-module"},quote_ads_rr_module:{widgetid:"SB_5",anchorid:"js-outbrain-ads-module"},story_ads_rr2_module:{widgetid:"AR_34",anchorid:"js-outbrain-rightrail-ads-module"},video_footer_module:{widgetid:"AR_20",anchorid:"js-outbrain-module"},hp_module_promoted_stories:{widgetid:"AR_37",anchorid:"js-outbrain-module-rightrail"},hp_module_promoted_stories_orange_zone:{widgetid:"HPP",anchorid:"js-outbrain-module-rightrail"},hp_intl_module_thirdparty_row:{widgetid:"HPC_3",anchorid:"js-outbrain-module-thirdparty-row"}},addScript:function(){var a=document.createElement("script");a.setAttribute("language","javascript");a.setAttribute("async","async");a.setAttribute("type","text/javascript");a.setAttribute("src","http://widgets.outbrain.com/outbrain.js");document.body.appendChild(a);},get_OB_permalink:function(){return this.OB_permalink;},set_OB_permalink:function(){var a=document.getElementsByTagName("head")[0].getElementsByTagName("link"),d=false,b;for(b=0;b<a.length;b++){try{if(a[b].getAttribute("rel")=="canonical"){d=true;this.OB_permalink=a[b].getAttribute("href");break;}}catch(c){}}if(!d){this.OB_permalink=window.location.href;}this.OB_permalink=this.OB_permalink.replace(/http:\/\/\w+\.money/g,"http://money");},load:function(a){if(typeof a==="undefine"){return;}if(typeof a.permalink!=="undefined"){this.OB_permalink=a.permalink;}else{this.set_OB_permalink();}if(typeof a.feeds!=="undefined"&&true===a.feeds){cnnOutbrainFeeds.load();}if(typeof a.modules!=="undefined"&&a.modules.length>0){for(i=0;i<a.modules.length;i++){cnnOutbrainModules.load(a.modules[i]);}}this.addScript();}};var cnnOutbrainFeeds={OB_data_fbk:"",OB_data_widget_id:"",OB_anchor:document.getElementById("js-OB_feed"),OB_feedIDlist:["FT","DF"],OB_feedIDs:{"FT":{fbk:"CNNMoneyHpFT",widget_id:"HOP_3"},"DF":{fbk:"CNNMoneyHpDF",widget_id:"HOP_4"}},setModuleId:function(){var b=(new Date()).getMilliseconds(),a,c;a=(b%this.OB_feedIDlist.length);c=this.OB_feedIDs[this.OB_feedIDlist[a]];if(typeof c==="undefined"){c=this.OB_feedIDs["FT"];}this.OB_data_fbk=c.fbk;this.OB_data_widget_id=c.widget_id;},addModule:function(){var a="";this.setModuleId();if(this.OB_anchor){this.OB_div_elem='<div class="OUTBRAIN" data-widget-type="hp" data-fbk="'+this.OB_data_fbk+'" data-src="'+cnnOutbrain_Manager.get_OB_permalink()+'" data-widget-id="'+this.OB_data_widget_id+'" data-ob-template="cnnmoney"></div>';this.OB_anchor.innerHTML=this.OB_div_elem;}},load:function(a){var b;if(typeof a!=="undefined"){this.OB_anchor=(typeof a.anchorID!=="undefined")?document.getElementById(a.anchorID):this.OB_anchor;}if(!this.OB_anchor){return;}b=this.OB_anchor.getAttribute("data-feedlist");this.OB_feedIDlist=b.split(",");this.addModule();}};var cnnOutbrainModules={OB_data_widget_id:"",OB_anchor:null,addModule:function(){var a="";if(this.OB_anchor){this.OB_div_elem='<div class="OUTBRAIN" data-widget-id="'+this.OB_data_widget_id+'" data-src="'+cnnOutbrain_Manager.get_OB_permalink()+'" data-ob-template="cnnmoney"></div>';this.OB_anchor.innerHTML=this.OB_div_elem;}},load:function(b){b=b||{};var a=b.anchorid||"";
this.OB_data_widget_id=b.widgetid||this.OB_data_widget_id;this.OB_anchor=document.getElementById(a);if(this.OB_anchor!=null&&this.OB_data_widget_id!=""){this.addModule();}}};var glassDoorConfig={defaultFormat:"300x390",host:"http://jobsearch.money.cnn.com",profile:"",format:"300x390",title:"",industry:"",company:"",query:"",ticker:""};function initGlassDoorIframe(){var a={title:"",profile:"",format:glassDoorConfig.defaultFormat,industry:"",company:"",query:"",ticker:""};var f=location.search.substr(1).split("&");for(var c=0;c<f.length;c++){var d=f[c].split("=");var b=d[0].toLowerCase();var e=d[1];switch(b){case"profile":a.profile=(e=="")?a.profile:e;break;case"format":a.format=(e=="")?a.format:e;break;case"title":a.title=(e=="")?"":e;break;case"industry":a.industry=(e=="")?"":e;break;case"company":a.company=(e=="")?"":e;break;case"query":a.query=(e=="")?"":e;break;case"ticker":a.ticker=(e=="")?"":e;break;}}return a;}var glassDoor={PROFILES:{TECHJOBS:"techjobs",IN_LOCATION:"jobsinplace",IN_COMPANY:"jobsincompany",IN_TICKER:"jobsinticker",IN_FIELD:"jobsinfield"},host:glassDoorConfig.host,requestParams:"",companyName:"",companyNameUri:"/httpcall/research/quote/modules/companyName.asp?display=include&symb=",loadscript:function(){var a=document.createElement("script");a.async=true;a.type="text/javascript";a.src=this.host+"/js/widget.js";document.body.appendChild(a);},setParameters:function(){this.requestParams="format="+encodeURIComponent(glassDoorConfig.format)+"&";if(glassDoorConfig.title!=""){this.requestParams+="t="+encodeURIComponent(glassDoorConfig.title)+"&";}switch(glassDoorConfig.profile){case glassDoor.PROFILES.TECHJOBS:glassDoorConfig.query="Technology";this.requestParams+="q="+encodeURIComponent(glassDoorConfig.query)+"&";break;case glassDoor.PROFILES.IN_LOCATION:this.requestParams+="l="+encodeURIComponent(glassDoorConfig.location)+"&";break;case glassDoor.PROFILES.IN_COMPANY:this.requestParams+="e="+encodeURIComponent(glassDoorConfig.company)+"&";break;case glassDoor.PROFILES.IN_TICKER:this.requestParams+="ticker="+encodeURIComponent(glassDoorConfig.ticker)+"&";break;case glassDoor.PROFILES.IN_FIELD:this.requestParams+="q="+encodeURIComponent(glassDoorConfig.query)+"&";break;}},embed:function(){var a='<div class="jobsWidget">Find <a href="'+glassDoorConfig.host+"/?"+this.requestParams+'" target="_pn">'+glassDoorConfig.title+' Jobs</a> with CNNMoney Jobs. Powered by Glassdoor <a href="'+glassDoorConfig.host+'/index.htm" title="Jobs by Glassdoor">jobs</a> search.</div>';jQuery("div#gdWidget").html(a).show();},getCompanyName:function(b){var a=this.companyNameUri+glassDoorConfig.ticker;jQuery.ajax({url:a,success:function(d){if(d!=""){try{var c=d.substr(d.indexOf(" - ")+3,d.length-1);glassDoorConfig.title=c;glassDoor.setParameters();glassDoor.embed();glassDoor.loadscript();}catch(f){console.log(f);}}}});},init:function(a){if(typeof(a)=="undefined"){var a={};}if(!document.getElementById("gdWidget")){return;}glassDoorConfig.profile=a.profile||"";glassDoorConfig.format=a.format||glassDoorConfig.defaultFormat;glassDoorConfig.title=a.title||"";glassDoorConfig.industry=a.industry||"";glassDoorConfig.company=a.company||"";glassDoorConfig.query=a.query||"";glassDoorConfig.ticker=a.ticker||"";if(glassDoorConfig.ticker!=""&&glassDoorConfig.company==""){this.getCompanyName();}else{this.setParameters();this.embed();this.loadscript();}}};if(window.top!=window){var gdOptions=initGlassDoorIframe();glassDoor.init(gdOptions);}var DataBubbleCalculators={"starter_calc_annuities":{name:"annuities",uri:"/.element/ssi/stories/5.0/tools/starter.annuities.html",isIframe:true},"starter_calc_assetalloc":{name:"assetalloc",uri:"/.element/ssi/stories/5.0/tools/starter.assetalloc.html",isIframe:false},"starter_calc_costofliving":{name:"costofliving",uri:"/.element/ssi/stories/5.0/tools/starter.costofliving.html",isIframe:false},"starter_calc_millionaire":{name:"millionaire",uri:"/.element/ssi/stories/5.0/tools/starter.millionaire.html",isIframe:false},"starter_calc_retireyoung":{name:"retireyoung",uri:"/.element/ssi/stories/5.0/tools/starter.retireyoung.html",isIframe:false},"starter_calc_saveyoung":{name:"saveyoung",uri:"/.element/ssi/stories/5.0/tools/starter.saveyoung.html",isIframe:false},"starter_calc_savings":{name:"savings",uri:"/.element/ssi/stories/5.0/tools/starter.savings.html",isIframe:false}};function initStoryTickerBubbles(){jQuery(".inlink_chart").each(function(){var b=$(this).text();b=updateTicker(b);var d=DataBubbleManager.create();var c=d.attr("id");var e=DataBubbleManager.getOriginal("ticker",b);if(e==null){var f=new DataBubble({"bubbleId":c,"ticker":b,"contentType":DataBubbleManager.contentTypes.TICKER,"useAds":true,"useTracking":true,"link":$(this),"uniqueId":b,"popupType":DataBubbleManager.popupTypes.HOVER,"parent":$(this)});}else{DataBubbleManager.mapDuplicate(e.bubbleId,c);var f=new DataBubble({"bubbleId":c,"ticker":b,"contentType":DataBubbleManager.contentTypes.CONTENT,"content":e.content,"useAds":true,"useTracking":true,"link":$(this),"uniqueId":b,"popupType":(is_iOS==true)?DataBubbleManager.popupTypes.CLICK:DataBubbleManager.popupTypes.HOVER,"parent":$(this)});}DataBubbleManager.add(c,f);});try{eventLogger.log("quote","quote_bubble");}catch(a){}}function initStoryCalcBubbles(){jQuery(".inlink_calc").each(function(){var d=$(this).find(".inlink").attr("id");var c=DataBubbleManager.create();var b=c.attr("id");var a=new DataBubble({"bubbleId":b,"type":DataBubbleManager.bubbleTypes.CALC,"useAds":true,"contentType":((DataBubbleCalculators[d].isIframe==true)?DataBubbleManager.contentTypes.IFRAME:DataBubbleManager.contentTypes.INLINE_EXT),"contentURI":DataBubbleCalculators[d].uri,"uniqueId":d,"popupType":DataBubbleManager.popupTypes.CLICK,"parent":$(this)});DataBubbleManager.add(b,a);});}jQuery(document).ready(function(){try{cnnmBanner.init();}catch(h){}try{CNNM.Social.init();}catch(h){}try{MarketsModuleSlideShow.init();}catch(h){}try{DataBubbleManager.loadTemplate(function(){initStoryTickerBubbles();initStoryCalcBubbles();});}catch(h){}try{updateLinks("story");updateLinksForNavigation("story");}catch(h){console.log(h);}try{if(typeof MULTIVIDEO_FLAG==="undefined"){VideoPlayerManager.loadAutoplayers();}else{VideoPlayerManager.initMultiPlayer();}}catch(h){}var f=function(){if(!jQuery.belowthefold(".ratesContainer",{threshold:0,container:window})){try{jQuery(window).unbind("scroll",f);}catch(j){}try{BankrateScroll.init(0);}catch(j){}}};try{if(jQuery("#bankrate_module").length){if(!jQuery.belowthefold(".ratesContainer",{threshold:0,container:window})){try{BankrateScroll.init(0);}catch(h){}}else{jQuery(window).scroll(f);}}}catch(h){}try{if(cnnOmniture_videoopps=="zero"){AspenWeb.init({"site":"cnn_money","appName":"aspenWeb","appVersion":"1.0","platform":"javascript"});var d="article";var c=document.location.pathname.replace("index.html","");var b=window.location.protocol+"//"+window.location.host;var g=document.location.href;AspenWeb.send("pageView",{"pageLocation":d,"fullURL":g,"pagePath":b+c});}}catch(h){}try{cnnOutbrain_Manager.load({"feeds":true,"modules":[cnnOutbrain_Manager.WIDGETS.story_hotlist,cnnOutbrain_Manager.WIDGETS.story_related,cnnOutbrain_Manager.WIDGETS.story_recommend,cnnOutbrain_Manager.WIDGETS.story_module,cnnOutbrain_Manager.WIDGETS.story_ads_rr_module,cnnOutbrain_Manager.WIDGETS.story_ads_rr2_module]});}catch(h){}try{var a={"format":"300x225"};if(location.pathname.indexOf("/technology/")!=-1){a.profile="techjobs";}glassDoor.init(a);}catch(h){if(console&&console.log){console.log("Error loading Glassdoor...\n"+h);}}try{setFigureWidthFromContainedImageWidth();}catch(h){if(console&&console.log){console.log("Error fixing in-story figure width \n"+h);}}});(function(d){var e=[];function b(j){var h=j.getOpts();return h?h.cnnConfigTarget:void (0);}function g(){return e;}function a(h){if(h){e.push(h);}}function f(){}function c(h){var j=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return j.test(h);}f.prototype.configureElement=function(){return{};
};f.prototype.fetchElements=function(){return[];};f.prototype.generateStreamConfigs=function(){var j=this,h=d.makeArray(this.fetchElements());return d.map(h,function(m){var l=j.configureElement(m);l.cnnConfigTarget=j;return l;});};f.prototype.onWidgetLoaded=function(){};window.CNN=window.CNN||{};window.CNN.social=window.CNN.social||{};window.CNN.social.findPlugin=b;window.CNN.social.getLivefyreConvPlugins=g;window.CNN.social.registerLivefyreConvPlugin=a;window.CNN.social.LivefyreConvPlugin=f;window.CNN.social.isValidEmail=c;}(jQuery));(function(b){var j,d=0;function g(m){var o=m.attr("id");if(typeof o==="undefined"||o===""){do{o="cnnLivefyreComments_"+d;d+=1;}while(document.getElementById(o));m.attr("id",o);}return o;}function c(m){j=m.data;return false;}function h(){b(".fyre-comment-footer").each(function(){var m=b(this);if(!m.data("cnn-click")){m.data("cnn-click",1);m.on("click",null,m,c);}});}function e(m){CNN.share.popup({elem:j,url:m.url});}function l(){var o=0,m=0,q=10,p=25;b(".fyre .fyre-stream-content > .fyre-comment-article").each(function(r,s){if(m){if(o>=q){b(s).addClass("non-mobile-comment");}if(o>=p){b(s).addClass("non-web-comment");}}else{if(o>=q){b(s).addClass("large-first-mobile-comment");}if(o>=p){b(s).addClass("large-first-web-comment");}}if(b("> .fyre-comment-wrapper",b(s)).css("display")!=="none"){o=o+1;}b(".fyre-comment-article",b(s)).each(function(u,t){if(b("> .fyre-comment-wrapper",b(t)).css("display")!=="none"){o=o+1;}if(o>q){b(t).addClass("non-mobile-reply");}if(o>p){b(t).addClass("non-web-reply");}});m=1;});if(o>=q){b(".js-livefyre-comments").addClass("at-least-10-comments");}if(o>=p){b(".js-livefyre-comments").addClass("at-least-25-comments");}b(".fyre .fyre-comment-stream > .fyre-stream-more").addClass("in-house-more-button");b(".js-livefyre-comments .fyre-comment-stream").append('<div class="cnn-custom-stream-more"><div class="fyre-stream-more"><div class="fyre-stream-more-container"><div class="fyre-text">Show More Comments</div></div></div></div>');b(".cnn-custom-stream-more .fyre-stream-more-container").click(function(){b(".js-livefyre-comments").addClass("show-all-initial-comments");});}function f(){b(".js-livefyre-comments").addClass("js-livefyre-comments-logged-in");}function a(){this.widget=null;this.targetId=null;}a.prototype=new CNN.social.LivefyreConvPlugin();a.prototype.configureElement=function(s){var r=b(s),o=g(r),p=r.data("article-id"),q=r.data("checksum"),t=r.data("collectionMeta"),m;this.targetId=o;m={app:"main",siteId:CNN.msib.localCfg.livefyre.siteId,el:o,articleId:p,collectionMeta:t,};if(q){m.checksum=q;}return m;};a.prototype.fetchElements=function(){return b(".js-livefyre-comments");};a.prototype.changeConv=function(m){m=m||{};m.siteId=CNN.msib.localCfg.livefyre.siteId;m.el=this.targetId;if(!("collectionMeta" in m)||!("checksum" in m)||!("articleId" in m)){console.log("collectionMeta, checksum, and articleId are all required keys to refresh the comments, make sure these are being passed in the cfg object");}else{this.widget.changeCollection(m);}};a.prototype.onWidgetLoaded=function(m){this.widget=m;m.on("userLoggedIn",f);};CNN.social.registerLivefyreConvPlugin(new a());}(jQuery));(function(){var a=window.location.hostname;window.CNN=window.CNN||{};CNN.msib=CNN.msib||{};CNN.msib.localCfg=CNN.msib.localCfg||{};CNN.msib.localCfg.instance="money";CNN.msib.localCfg.livefyre=CNN.msib.localCfg.livefyre||{};CNN.msib.localCfg.livefyre.cookieName="cnnLFCookie";CNN.msib.localCfg.livefyre.network="cnn.fyre.co";CNN.msib.localCfg.livefyre.cookieTtl=2*7*24*60*60*1000;CNN.msib.localCfg.livefyre.tokenEndPoint="//cnn-login-app.prod.services.ec2.dmtio.net/services/livefyre/authtoken";CNN.msib.localCfg.gigya=CNN.msib.localCfg.gigya||{};CNN.msib.localCfg.msib=CNN.msib.localCfg.msib||{};CNN.msib.localCfg.mod=CNN.msib.localCfg.mod||{};CNN.msib.localCfg.mod.saml_logout="http://markets.money.qai.cnn.com/marketsdata/site/logoutsecureservices";if(a.match(/^money\.cnn\.com$/i)||a.match(/^stage\.money\.cnn\.com$/i)){CNN.msib.localCfg.gigya.appId="3_gtUbleJNtrRITgx-1mM_ci7GcIrH8xL9W_VfAbzSa4zpFrRwnpq_eYd8QTRkr7VC";CNN.msib.localCfg.mod.saml_logout="http://markets.money.cnn.com/marketsdata/site/logoutsecureservices";}else{CNN.msib.localCfg.gigya.appId="3_rXsA415Q3s8tcp2UZg_6Io5FLBWLpVZmZqmUNuYXDjKqCaCmgq2VdNte7cURdLVq";}CNN.msib.env=CNN.msib.env||{};CNN.msib.env.host=a;}());CNNM_MODAL={overlay_element_id:"js-ms-overlay",overlay_element:null,modal_title_id:"js-ms-overlay-modal-title",modal_title:{},modal_body_id:"js-ms-overlay-modal-body",modal_body:{},modal_style:{"standard":"ms-overlay-style--standard","naked":"ms-overlay-style--naked"},createEmptyOverlay:function(){var a;if(this.overlay_element==null){a=document.createElement("div");a.className="ms-overlay";a.id=this.overlay_element_id;a.innerHTML='<div class="ms-overlay-bg" onclick="CNNM_MODAL.hide()"></div>				<div class="ms-overlay-modal">					<span class="icon icon--close" onclick="CNNM_MODAL.hide()"></span>					<h1 id="'+this.modal_title_id+'" class="ms-overlay-modal-title"></h1>					<div id="'+this.modal_body_id+'" class="ms-overlay-modal-body"></div>				<div>';document.body.appendChild(a);this.overlay_element=document.getElementById(this.overlay_element_id);this.modal_body=document.getElementById(this.modal_body_id);this.modal_title=document.getElementById(this.modal_title_id);}return;},render_overlay:function(c,b){b=b||{};var a;this.modal_title.innerHTML=b.header||"";if(this.modal_title.innerHTML==""){this.modal_title.className+=" hidden";}else{this.modal_title.className=this.modal_title.className.replace(/ hidden/g,"");}if(c!=undefined){a=this.modal_body_id;c(a);}},show:function(b){b=b||"standard";var a=this.modal_style[b]||this.modal_style["style"];this.overlay_element.className=this.overlay_element.className.replace(/ ms-overlay-style--\w+/g,"");this.overlay_element.className+=" show"+" "+a;},hide:function(){this.overlay_element.className=this.overlay_element.className.replace(/ show/g,"");this.modal_body.innerHTML="";},init:function(){this.overlay_element=document.getElementById(this.overlay_element_id);this.createEmptyOverlay();}};function cnnHideOverlays(){CNNM_MODAL.hide();}var CNNM_MS_DISPLAYS={css_url:"/.element/css/pkg/cnnmoney.members.services.html",modal_viewer:null,show_login_modal:function(){this.modal_viewer.render_overlay(CNNM_MS_DISPLAYS.show_gigya_screenset_login);},show_registration_modal:function(){this.modal_viewer.render_overlay(CNNM_MS_DISPLAYS.show_gigya_screenset_registration);},show_profile_modal:function(){if(CNNM_MS_CONNECT.cnnm_user.get_login_status()){this.modal_viewer.render_overlay(CNNM_MS_DISPLAYS.show_gigya_screenset_profile);}else{this.show_login_modal();}},show_linkedaccounts_modal:function(d){var g="Social Settings";var f=d.get_linked_accounts()||[];var a="";var c=0;for(index in f){var b=(f[index].is_linked)?"":"unlinked";var e=(""!=f[index].profile_image)?'<img src="'+f[index].profile_image+'"/>':"";a+='<li class="social-settings-item--'+index+" "+b+'">					<span class="social-settings-status" onclick="CNNM_MS_PROFILEPAGE.toggle_social_account(this)"><span class="icon icon--checkmark"></span></span>					<span class="social-settings-name">						<span class="social-settings-icon"></span>					</span>					<span class="social-settings-avatar">'+e+"</span>		          </li>";}a='<div class="social-settings">		        <ul>'+a+'</ul>		        <aside class="ms-overlay-note">		        	<p>Note: If you unlink your social account, you will be logged out and you will log in with your provided email address and password.</p>		        </aside>		    </div>';this.show_custom_message(g,a);},show_iframe_modal:function(b,c){c=c||{};var e=c.style||"";var d=c.width||"100%";var a=c.height||"100%";this.modal_viewer.render_overlay(function(f){var g=document.getElementById(f);var h='<iframe class="ms-overlay-iframe" src='+b+" width="+d+" height="+a+"></iframe>";g.innerHTML=h;CNNM_MS_DISPLAYS.modal_viewer.show(e);});},show_custom_message:function(c,b){c=c||"";var a=(b||"").trim();
if(a!=""){this.modal_viewer.render_overlay(function(d){var e=document.getElementById(d);e.innerHTML=a;},{"header":c});CNNM_MS_DISPLAYS.modal_viewer.show();}},show_gigya_screenset_profile:function(a){gigya.accounts.showScreenSet({"screenSet":"CNNMoney-ProfileUpdate","containerID":a,"onError":function b(d){var c=d.statusMessage||"";console.log("Error getting profile overlay = "+c);},"onAfterScreenLoad":function(){CNNM_MS_DISPLAYS.modal_viewer.show();},"onAfterSubmit":function(c){CNNM_MS_CONNECT.cnnm_user.build_user_profile(c);if(CNNM_MS_PROFILEPAGE!==undefined){CNNM_MS_PROFILEPAGE.display_profile_data();}CNNM_MS_DISPLAYS.show_profile_modal();}});},show_gigya_screenset_login:function(a){gigya.accounts.showScreenSet({"screenSet":"CNNMoney-RegistrationLogin","containerID":a,"onError":function b(d){var c=d.statusMessage||"";console.log("Error getting login overlay - "+c);},"onAfterScreenLoad":function(){CNNM_MS_DISPLAYS.modal_viewer.show();}});},show_gigya_screenset_registration:function(a){gigya.accounts.showScreenSet({"screenSet":"CNNMoney-RegistrationLogin","containerID":a,"startScreen":"gigya-register-screen","onError":function b(d){var c=d.statusMessage||"";console.log("Error getting registration overlay - "+c);},"onAfterScreenLoad":function(){CNNM_MS_DISPLAYS.modal_viewer.show();}});},show_MOD_overlay:function(a){if(CNNM_MS_CONNECT.cnnm_user.get_login_status()){if(CNNM_MS_CONNECT.cnnm_user.has_email()){CNNM_MS_CONNECT.make_MOD_request(a);}else{CNNM_MS_DISPLAYS.show_emailrequired_overlay();}}else{CNNM_MS_CONNECT.add_post_login_callback(function(){CNNM_MS_CONNECT.make_MOD_request(a);},true);this.show_login_modal();}},show_emailrequired_overlay:function(){var b="We're sorry!";var a='This feature requires a confirmed email address. Please add your email in your <a href="javascript:CNNM_MS_DISPLAYS.show_profile_modal();">profile</a> and add an email. <br />We will send you a confirmation email to your inbox';this.show_custom_message(b,a);},toggle_loggedin_link:function(a,c){if(typeof cnnmBanner!=="undefined"){try{cnnmBanner.setLoggedInStatus(a.toString(),c);}catch(b){setTimeout(function(){cnnmBanner.setLoggedInStatus(a.toString(),c);},1500);console.log("Error updating banner in moneySetNavDropdown");}}},load_styles:function(){jQuery.ajax(this.css_url,{cache:true,dataType:"html"}).done(function(b){var e=new DOMParser();var c=e.parseFromString(b,"text/xml");var a=c.firstChild||{};var d=document.createElement("link");d["href"]=a.attributes["href"].nodeValue;d.rel="stylesheet";d.id="js-ms-form-styles";document.head.appendChild(d);}).fail(function(c,b,a){console.log(a);});},setup_onclickhandlers:function(){jQuery(".cnnLogin").on("click",function(){CNNM_MS_DISPLAYS.show_login_modal();});jQuery(".cnnLogout").on("click",function(){CNNM_MS_CONNECT.logout();});},init:function(){this.modal_viewer=CNNM_MODAL;this.modal_viewer.init();this.load_styles();this.setup_onclickhandlers();}};function CNNM_MS_User(){var l=this;var h="";var g="";var j;var b="";var a={"Opening Bell":"off","Closing Bell":"off","Breaking News Alerts":"off"};var e={"facebook":{is_linked:false,profile_image:""},"twitter":{is_linked:false,profile_image:""},"googleplus":{is_linked:false,profile_image:""},"linkedin":{is_linked:false,profile_image:""}};var f=false;var c={"moneybreakingnews":"Breaking News Alerts","moneyhtmlmarketbriefing":"Closing Bell","moneypremarket":"Opening Bell"};this.isValidNewsletter=function(m){return(c[m]!==undefined);};this.set_subscriptions_status=function(o,m,r){o=o||"";var p="";for(var q in c){if(o==c[q]){p=q;break;}}CNNM_MS_CONNECT.set_subscription_status(p,m,function(){a[o]=m;r();});};this.set_linked_account=function(o,m,p){if(e[o]!==undefined){e[o].is_linked=m;e[o].profile_image=p;}};var d=function(m){m=m||{};var s=m.newsletters||[];for(k in s){var p=s[k]||{};var q=k;var r=p.newsletter_sts;var o=c[q];if(a[o]!==undefined){a[o]=((r==1)?"on":"off");}}};this.get_login_status=function(){return f;};this.get_username=function(){return h;};this.get_subscriptions_status=function(m){return(a[m]||"off");};this.get_linked_accounts=function(){return e;};this.has_email=function(){return b!="";};this.build_user_profile=function(m){var p=m.profile||{};var t=m.data||{};var o=m.identities||[];f=true;var s=p.firstName||"";var r=p.lastName||"";h=(s+" "+r).trim();g=(p.nickname||"").trim();b=p.email||"";if(h==""&&g==""){h="Hello";}if(p.photoURL!=""){this.user_image=p.photoURL;}d(t);for(k=0;k<o.length;k++){var q=o[k].provider;if(e.hasOwnProperty(q)){e[q].is_linked=true;e[q].profile_image=o[k].photoURL||"";}}};}var CNNM_MS_CONNECT={ms_display:{},cnnm_user:{},gigyascript_id:"js-gigya-script",gigyascript_timer:0,callbacks:[],mod_prefix:"",post_login_callbacks:[],set_MOD_URL_host:function(){var a=location.hostname;if(a.indexOf("jcmsdev")>-1||a.indexOf("qai")>-1||a.indexOf("turner")>-1||a.indexOf("dev")>-1||a.indexOf("ref")>-1||a.indexOf("train")>-1||a.indexOf("localhost")>-1){this.mod_prefix="http://markets.money.qai.cnn.com";}else{this.mod_prefix="http://markets.money.cnn.com";}},make_MOD_request:function(c){jQuery(".showOverlay").removeClass("showOverlay");switch(c){case"wsod_setAlertButton":alertType=quotes.WSODIssue;var b=CNNM_MS_CONNECT.get_MOD_prefix()+"/secure/alerts/iframe.asp?wsodissue="+alertType+"&rnd="+Math.floor(Math.random()*101010101);this.ms_display.show_iframe_modal(b,{style:"naked",width:"300px",height:"415px"});break;case"wsod_addToWatchlistButton":alertType=quotes.WSODIssue;var b=CNNM_MS_CONNECT.get_MOD_prefix()+"/secure/watchlist/addSymbol.asp?wsodissue="+alertType+"&rnd="+Math.floor(Math.random()*101010101);this.ms_display.show_iframe_modal(b,{style:"naked",width:"573px",height:"397px"});break;case"managa_btn0":alertType="company";var b=CNNM_MS_CONNECT.get_MOD_prefix()+"/secure/alerts/iframe.asp?alertType="+alertType+"&rnd="+Math.floor(Math.random()*101010101);this.ms_display.show_iframe_modal(b,{style:"naked",width:"880px",height:"486px"});break;case"managa_btn1":alertType="mf";var b=CNNM_MS_CONNECT.get_MOD_prefix()+"/secure/alerts/iframe.asp?alertType="+alertType+"&rnd="+Math.floor(Math.random()*101010101);this.ms_display.show_iframe_modal(b,{style:"naked",width:"880px",height:"468px"});break;case"managa_btn2":alertType="watchlist";var b=CNNM_MS_CONNECT.get_MOD_prefix()+"/secure/alerts/iframe.asp?alertType="+alertType+"&rnd="+Math.floor(Math.random()*101010101);this.ms_display.show_iframe_modal(b,{style:"naked",width:"880px",height:"517px"});break;case"managa_btn3":alertType="keyword";var b=CNNM_MS_CONNECT.get_MOD_prefix()+"/secure/alerts/iframe.asp?alertType="+alertType+"&rnd="+Math.floor(Math.random()*101010101);this.ms_display.show_iframe_modal(b,{style:"naked",width:"880px",height:"427px"});break;case"viewNewslettersOverlay":jQuery("#profile_newsletter_overlay").cnnShowOverlay();var a=true;jQuery(".myNewsletter_signUp").each(function(d){if(jQuery(this).hasClass("loading")){a=false;}});if(!CNN_NEWSLETTERS_LOADED&&a){jQuery(".myNewsletter_signUp").addClass("loading");ms_getEmails("ms_uiGetEmails");}break;default:break;}},logout:function(){try{this.mod_logout();}catch(a){}try{this.gigya_logout();}catch(a){}this.remove_livefyre_cookie();try{Livefyre.require(["fyre.conv#3","auth"],function(c,b){b.logout();});}catch(a){}},gigya_logout:function(){gigya.accounts.logout();},mod_logout:function(){jQuery.ajax({url:CNN.msib.localCfg.mod.saml_logout,type:"GET",dataType:"jsonp",error:function(b,d,c){console.log("MS: MOD Logout - Error - "+c);}}).done(function a(b){console.log("MS: MOD Logout - Success");});},post_logout_actions:function(a){location.reload();},post_login_actions:function(b){var a=b.data||{};if(!a.hasOwnProperty("Turner_Brand")){a.Turner_Brand="CNNMoney";gigya.accounts.setAccountInfo({data:a,callback:function(c){}});}CNNM_MS_CONNECT.livefyre_settoken(b,CNNM_MS_CONNECT.check_login_state);CNNM_MODAL.hide();setTimeout(function(){for(i=0;i<CNNM_MS_CONNECT.post_login_callbacks.length;i++){CNNM_MS_CONNECT.post_login_callbacks[i].callback();if(CNNM_MS_CONNECT.post_login_callbacks[i].callOnce){CNNM_MS_CONNECT.post_login_callbacks.splice(i,1);
}}location.reload();},300);},add_post_login_callback:function(b,a){a=a||true;b=b||function(){};this.post_login_callbacks.push({callOnce:a,callback:b});},link_social_account:function(a,b){gigya.socialize.addConnection({"provider":a,"callback":b});},unlink_social_account:function(a,b){gigya.socialize.removeConnection({"provider":a,"callback":b});},set_subscription_status:function(c,b,a){b=(1==b||"on"==b)?1:4;c=c||"";if(""==c){return;}gigya.ids.getAccountInfo({include:"data",callback:function(d){var e=d.data||{};if(CNNM_MS_CONNECT.cnnm_user.isValidNewsletter(c)){e.newsletters=e.newsletters||{};var g=e.newsletters;var f=(new Date()).toISOString();if(g[c]!==undefined){g[c].newsletter_sts=b;g[c].last_update_dte=f;}else{g[c]={create_dte:f,last_update_dte:f,newsletter_sts:1};}gigya.accounts.setAccountInfo({data:e,callback:function(h){if(h.errorCode===0){a();}}});}}});},check_login_state:function(){gigya.ids.getAccountInfo({include:"profile, identities-all, data",extraProfileFields:"languages, certifications",callback:function(a){var b=a.UID||"";if(a.errorCode===0&&b!=""){CNNM_MS_CONNECT.cnnm_user.build_user_profile(a);CNNM_MS_CONNECT.ms_display.toggle_loggedin_link(CNNM_MS_CONNECT.cnnm_user.get_login_status(),CNNM_MS_CONNECT.cnnm_user.get_username());}else{console.log("MS: check_login_state - Error - "+a.errorCode);console.dir(a);}CNNM_MS_CONNECT.run_callbacks();}});},register_callback:function(a){this.callbacks.push(a);},run_callbacks:function(){for(n=0;n<this.callbacks.length;n++){this.callbacks[n]();}},get_MOD_prefix:function(){return this.mod_prefix;},get_cookies:function(){var b={};if(document.cookie){var d=document.cookie.split("; ");for(var c=0;c<d.length;c++){var a=d[c].split("=");b[a[0]]=a[1]||null;}}return b;},remove_livefyre_cookie:function(){var b="";var e="/";var d=".cnn.com";var c="Fri, 13-Apr-1970 00:00:00 GMT";var a=this.get_cookies();var f=a[CNN.msib.localCfg.livefyre.cookieName];b=CNN.msib.localCfg.livefyre.cookieName+"=;expires="+c+";path="+e+";domain="+d;document.cookie=b;},livefyre_settoken:function(a,c){jQuery.ajax({url:CNN.msib.localCfg.livefyre.tokenEndPoint,data:{UID:a.UID,UIDSignature:a.UIDSignature,signatureTimestamp:a.signatureTimestamp,displayName:a.nickname||""},type:"GET",dataType:"json",cache:false,error:function(d,f,e){c();}}).done(function b(d){if(d.success&&d.authToken){var g="/";var f=".cnn.com";var e=e=(new Date((new Date()).getTime()+CNN.msib.localCfg.livefyre.cookieTtl*3600000)).toGMTString();document.cookie=CNN.msib.localCfg.livefyre.cookieName+"="+d.authToken+((e)?(";expires="+e):"")+((g)?";path="+g:"")+((f)?";domain="+f:"");}c();});},load_livefyre_script:function(b){var a="//cdn.livefyre.com/Livefyre.js";jQuery.ajax(a,{cache:true,dataType:"script"}).done(function(){b(true);}).fail(function(e,d,c){console.log("MS: loading livefyre script - error - "+c);b(false);});},init_livefyre:function(d){d=d||function(){};var b=CNN.social.getLivefyreConvPlugins(),a=[],c;for(c=0;c<b.length;c+=1){Array.prototype.push.apply(a,b[c].generateStreamConfigs());}if(!a.length){d();}else{this.load_livefyre_script(function(e){if(!e){d();}else{Livefyre.require(["fyre.conv#3","auth"],function(o,m){var h=CNNM_MS_CONNECT.get_cookies();var l=h[CNN.msib.localCfg.livefyre.cookieName];new o({network:CNN.msib.localCfg.livefyre.network,},a,function(q){});m.delegate({login:function g(q){if(l!=undefined){q(null,{livefyre:l});}else{CNNM_MS_CONNECT.ms_display.show_login_modal();}},logout:function f(q){CNNM_MS_CONNECT.remove_livefyre_cookie();CNNM_MS_CONNECT.gigya_logout();q(null);},viewProfile:function j(q){location.href="http://money.cnn.com/profile/";},editProfile:function p(q){location.href="http://money.cnn.com/profile/";}});if(l!=undefined){m.authenticate({livefyre:l});}});}});}},load_gigya_script:function(c){var a=CNN.msib.localCfg.gigya.appId;var b="http://cdn.gigya.com/js/gigya.js?apikey="+a;jQuery.ajax({url:b,cache:true,dataType:"script"}).done(function(){c();}).fail(function(f,e,d){console.log("MS: loading gigya script - error - "+d);c();});},init:function(a,b){this.set_MOD_URL_host();this.cnnm_user=a||new CNNM_MS_User();this.load_gigya_script(function(){try{CNNM_MS_CONNECT.ms_display=b;CNNM_MS_CONNECT.ms_display.init();}catch(c){console.log("MS: error initializing CNNM_MS_DISPLAYS "+c.message);}try{gigya.accounts.addEventHandlers({onLogin:CNNM_MS_CONNECT.post_login_actions,onLogout:CNNM_MS_CONNECT.post_logout_actions});}catch(c){}try{CNNM_MS_CONNECT.register_callback(function(){CNNM_MS_CONNECT.init_livefyre();});CNNM_MS_CONNECT.check_login_state();}catch(c){}});}};jQuery(document).ready(function(){var a=new CNNM_MS_User();jQuery("#wsod_addToWatchlistButton, #wsod_setAlertButton").click(function(){var b=jQuery(this).attr("id");CNNM_MS_DISPLAYS.show_MOD_overlay(b);});if(typeof CNNM_MS_PROFILEPAGE!="undefined"){CNNM_MS_CONNECT.register_callback(function(){CNNM_MS_PROFILEPAGE.update_profile_page(CNNM_MS_CONNECT);});CNNM_MS_PROFILEPAGE.init(CNNM_MS_CONNECT);}CNNM_MS_CONNECT.init(a,CNNM_MS_DISPLAYS);});var cnnBVPAdSections={"news":"cnnmoney.com_businessnews_archive","economy":"cnnmoney.com_businessnews_jobsandeconomy_archive","business":"cnnmoney.com_businessnews_archive","business2":"cnnmoney.com_businessnews_archive","markets":"cnnmoney.com_marketsandstocks_archive","media":"cnnmoney.com_media_archive","luxury":"cnnmoney.com_luxury_archive","pf":"cnnmoney.com_personalfinance_archive","moneymag":"cnnmoney.com_personalfinance_archive","fsb":"cnnmoney.com_smallbusiness_archive","smallbusiness":"cnnmoney.com_smallbusiness_archive","technology":"cnnmoney.com_technology_archive","fortune_news":"fortune.com_businessnews_archive","fortune_business":"fortune.com_businessnews_archive","fortune_markets":"fortune.com_marketsandstocks_archive","fortune_pf":"fortune.com_personalfinance_archive","fortune_smallbusiness":"fortune.com_smallbusiness_archive","fortune_technology":"fortune.com_technology_archive","fortune_fortune":"fortune.com_technology_archive","2017_year_in_review":"cnnmoney.com_businessnews_2017yearinreview_archive","2018_olympics":"cnnmoney.com_businessnews_2018olympics_archive","2020_visionaries":"cnnmoney.com_technology_2020visionaries_archive","before_the_bell":"cnnmoney.com_marketsandstocks_beforethebell_archive","battleground_states":"cnnmoney.com_economy_battlegroundstates_archive","btw":"cnnmoney.com_businessnews_btw_archive","b.t.w.":"cnnmoney.com_businessnews_btw_archive","businessoftheolympics":"cnnmoney.com_businessnews_olympics2016_businessoftheolympics_archive","cnnmoneyreports":"cnnmoney.com_businessnews_cnnmoneyreports_archive","facetoface":"cnnmoney.com_business_news_face_to_face_archive","fear_and_greed":"cnnmoney.com_investing_fearandgreed_archive","future_of_tech":"cnnmoney.com_technology_futureoftech_archive","strategysessions":"cnnmoney.com_businessnews_strategysessions_archive","morningbuzz":"cnnmoney.com_investing_thebuzz_archive","corneroffice":"cnnmoney.com_businessnews_clevel_corneroffice_archive","detroit":"cnnmoney.com_businessnews_jobsandeconomy_detroitproject_archive","midtermelections2010":"cnnmoney.com_businessnews_jobsandeconomy_election_archive","gas":"cnnmoney.com_businessnews_jobsandeconomy_energy_archive","cnnmoneynow":"cnnmoney.com_marketsandstocks_cnnmoneynow_archive","moneytips":"cnnmoney.com_personalfinance_moneytips_archive","asktheexpert":"cnnmoney.com_retirement_asktheexpert_archive","revell":"cnnmoney.com_retirement_rulesofretirement_archive","innovationnation":"cnnmoney.com_technology_innovationnation_archive","smallglobal":"cnnmoney.com_smallbusiness_smallandglobal_archive","smallbiztips":"cnnmoney.com_smallbusiness_smallbiztips_archive","fsbmakeover":"cnnmoney.com_smallbusiness_smallbusinessmakeover_archive","resourceguide":"cnnmoney.com_smallbusiness_smallbiztips_archive","stateofsmallbiz":"cnnmoney.com_small_business_state_of_small_business_archive","where-are-they-now":"cnnmoney.com_small_business_where_are_they_now_archive","techtalk":"cnnmoney.com_technology_techtalk_archive","toptips":"cnnmoney.com_personalfinance_fivetips_archive","consciouscapitalism":"cnnmoney.com_businessnews_clevel_consciouscapitalism_archive","visionaries":"cnnmoney.com_businessnews_visionaries_archive","investing_guide":"cnnmoney.com_investing_investingguide_archive","ad_age_anatomy":"cnnmoney.com_media_adageanatomy_archive","ad_age_connectivity":"cnnmoney.com_media_adageconnectivity_archive","agility_in_action":"cnnmoney.com_technology_agilityinaction_archive","alternative_investing":"cnnmoney.com_investing_alternativeinvesting_archive","american_dream":"cnnmoney.com_businessnews_americandream_archive","american_dream_new_york":"cnnmoney.com_businessnews_americandreamnewyork_archive","americas_choice_2016":"cnnmoney.com_businessnews_americaschoice2016_archive","americas_debt":"cnnmoney.com_businessnews_americasdebt_archive","bestadvice":"fortune.com_businessnews_bestadvice_archive","best_in_tech":"cnnmoney.com_technology_bestintech_archive","bestplacelive_2013":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2012":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2010":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2009":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2008":"cnnmoney.com_personalfinance_bestplacestolive_archive","bestplacelive_2007":"cnnmoney.com_personalfinance_bestplacestolive_archive","boss_files":"cnnmoney.com_businessnews_bossfiles_archive","breaking_the_mold":"cnnmoney.com_smallbusiness_breakingthemold_archive","buffett_live":"cnnmoney.com_investing_buffett_live_archive","biz_frontiers":"cnnmoney.com_news_bizfrontiers_archive","cnnmoney_investigates_con_woman":"cnnmoney.com_businessnews_cnnmoneyinvestigatesconwoman_archive","thebuzz":"cnnmoney.com_investing_thebuzz_archive","traders":"cnnmoney.com_business_traders_archive","holidaymoney2009":"cnnmoney.com_personalfinance_holidaymoney_archive","holidaymoney2010":"cnnmoney.com_personalfinance_holidaymoney_archive","holiday_shopping_2016":"cnnmoney.com_personalfinance_holidayshopping2016_archive","holiday_shopping_2017":"cnnmoney.com_personalfinance_holidayshopping2017_archive","holiday_shopping_2017_cnntech":"cnnmoney.com_technology_holidayshopping2017cnntech_archive","home_trends":"cnnmoney.com_personalfinance_hometrends_archive","road-to-wealth":"cnnmoney.com_personal_finance_road_to_wealth_archive","bing":"fortune.com_businessnews_stanleybing_archive","csuite":"fortune.com_clevel_csuitestrategies_archive","csuiteunpackaged":"fortune.com_clevel_csuitestrategies_archive","cyber_safe":"cnnmoney.com_technology_cybersafe_archive","40under40_2010":"fortune.com_clevel_peopleyoushouldknow_archive","40under40_2011":"fortune.com_business_news_clevel_40_under_40_archive","40under40_2012":"fortune.com_business_news_clevel_40_under_40_archive","mostpowerfulwomen2013":"fortune.com_clevel_50mostpowerfulwomen_archive","election_2016":"cnnmoney.com_economy_election2016_archive","eclipse_of_the_century":"cnnmoney.com_businessnews_eclipseofthecentury_archive","living_in_the_future":"cnnmoney.com_technology_livinginthefuture_archive","fresh_money":"cnnmoney.com_businessnews_freshmoney_archive","g20":"cnnmoney.com_business_g20_archive","gentlemans_guide":"cnnmoney.com_luxury_gentlemansguide_archive","global_real_estate":"cnnmoney.com_realestate_globalrealestate_archive","globalforum":"fortune.com_worldbiz_globalforum_archive","global500_2013":"fortune.com_lists_global500_archive","going_global":"cnnmoney.com_business_goingglobal_archive","growing_in_india":"cnnmoney.com_business_growinginindia_archive","streetlife":"fortune.com_marketsandstocks_streetlife_archive","europe_2020":"cnnmoney.com_business_europe2020_archive","impact_investing":"cnnmoney.com_business_impactinvesting_archive","india_2020":"cnnmoney.com_business_india2020_archive","india_20_under_40":"cnnmoney.com_business_india20under40_archive","innovate_tech":"cnnmoney.com_technology_innovate_archive","innovative_cities":"cnnmoney.com_technology_innovativecities_archive","innovators":"cnnmoney.com_businessnews_innovators_archive","internet_of_things":"cnnmoney.com_technology_internetofthing_archive","investorsguide2010":"fortune.com_personalfinance_ultimateinvestmentguide_archive","investorsguide2011":"fortune.com_personalfinance_ultimateinvestmentguide_archive","money-sense":"fortune.com_personal_finance_money_sense_archive","brainstormtech":"fortune.com_technology_brainstorm_archive","disruptors":"fortune.com_technology_disruptors_archive","techmate":"fortune.com_technology_techmate_archive","techtransformation":"fortune.com_technology_techtransformation_archive","the_business_view":"cnnmoney.com_business_thebusinessview_archive","the_rebound":"cnnmoney.com_businessnews_therebound_archive","the_collector":"cnnmoney.com_luxury_thecollector_archive","bestcos2012":"fortune.com_lists_100bestcompaniestoworkfor_archive","picture_this":"cnnmoney.com_businessnews_picturethis_archive","power":"cnnmoney.com_ businessnews_power_archive","powering_your_world":"cnnmoney.com_technology_poweringyourworld_archive","powerwomen2012":"fortune.com_clevel_50mostpowerfulwomen_archive","bestcos2011":"fortune.com_lists_100bestcompaniestoworkfor_archive","millennials_and_their_money":"cnnmoney.com_personalfinance_millennialsandtheirmoney_archive","mostadmired2013":"fortune.com_lists_mostadmiredcompanies_archive","mostadmired2014":"fortune.com_lists_mostadmiredcompanies_archive","most_innovative_cities":"cnnmoney.com_technology_mostinnovativecities_archive","davos":"cnnmoney.com_businessnews_worldbiz_davos_archive","davos_2018":"cnnmoney.com_economy_davos_2018_archive","executivedreamteam":"fortune.com_clevel_executivedreamteam_archive","empire":"cnnmoney.com_site_small_business_empire_archive","evolution":"cnnmoney.com_technology_evolution_archive","appnation":"cnnmoney.com_technology_app_nation_archive","gadget":"cnnmoney.com_technology_gadget_archive","gamechangers":"cnnmoney.com_businessnews_game_changers_archive","fastestgrowingcos2012":"fortune.com_lists_fastestgrowingcompanies_archive","fastestgrowingcos2013":"fortune.com_lists_fastestgrowingcompanies_archive","fed_focus":"cnnmoney.com_investing_fed_focus_archive","future_tense":"cnnmoney.com_technology_futuretense_archive","wheels":"cnnmoney.com_personalfinance_auto_wheels_archive","women_entrepreneurs":"CNNMoney.com_Site_Small_Business_Women_Entrepreneurs_Archive_Instream","verne_harnish":"cnnmoney.com_small_business_verne_harnish_archive","sectors":"cnnmoney.com_sectors_archive","sept11_2011":"fortune.com_personalfinance_ground_zero_archive","trailblazers":"cnnmoney.com_small_business_innovation_trailblazers_archive","away":"cnnmoney.com_personalfinance_away_archive","drive":"cnnmoney.com_luxury_drive_archive","million-dollar-homes":"cnnmoney.com_luxury_milliondollarhomes_archive","tech_reports":"cnnmoney.com_technology_techreports_archive","the-big-spend":"cnnmoney.com_luxury_thebigspend_archive","the_inside_story":"cnnmoney.com_technology_theinsidestory_archive","the_open":"cnnmoney.com_investing_openingbell_archive","reliablesources":"cnnmoney.com_media_reliablesources_archive","made_in_india":"cnnmoney.com_news_madeinindia_archive","made_in_japan":"cnnmoney.com_businessnews_madeinjapan_archive","made_in_malaysia":"cnnmoney.com_businessnews_madeinmalaysia_archive","made_in_poland":"cnnmoney.com_business_madeinpoland_archive","made_in_safrica":"cnnmoney.com_business_madeinsafrica_archive","made_in_thailand":"cnnmoney.com_markets_madeinthailand_archive","market_movers":"cnnmoney.com_investing_marketmovers_archive","markets_now":"cnnmoney.com_marketsandstocks_marketsnow_archive","market_movers_and_shakers":"cnnmoney.com_investing_marketmoversandshakers_archive","marketplace_middle_east":"cnnmoney.com_markets_marketplacemiddleeast_archive","marketplace_russia":"cnnmoney.com_businessnews_marketplacerussia_archive","money_moves":"cnnmoney.com_personalfinance_moneymoves_archive","money_essentials":"cnnmoney.com_personalfinance_moneyessentials_archive","your-money":"cnnmoney.com_personalfinance_yourmoney_archive","future-of-love":"cnnmoney.com_technology_futureoflove_archive","big-money":"cnnmoney.com_luxury_rare_archive","new_delhi_pollution":"cnnmoney.com_businessnews_newdelhipollution_archive","new_investor":"cnnmoney.com_investing_newinvestor_archive","new_rules_for_retirement":"cnnmoney.com_personalfinance_newrulesforretirement_archive","nigeria_economy":"cnnmoney.com_economy_nigeriaeconomy_archive","24-hours-with":"cnnmoney.com_personalfinance_24hourswith_archive","billion-dollar-ideas":"cnnmoney.com_businessnews_billiondollarideas_archive","family":"cnnmoney.com_personalfinance_family_archive","family-money":"cnnmoney.com_luxury_familymoney_archive","why-costs":"cnnmoney.com_luxury_whythiscoststhat_archive","opening-bell":"cnnmoney.com_investing_openingbell_archive","our_driverless_future":"cnnmoney.com_technology_ourdriverlessfuture_archive","aloft":"cnnmoney.com_luxury_aloft_archive","hottest-investments-world":"cnnmoney.com_investing_hottestinvestmentsworld_archive","the_connectors":"cnnmoney.com_business_theconnectors_archive","the-real-economy":"cnnmoney.com_economy_therealeconomy_archive","cloud-computing":"cnnmoney.com_technology_cloudcomputing_archive","business-ofbeing":"cnnmoney.com_businessnews_businessofbeing_archive","holiday_shopping":"cnnmoney.com_personalfinance_holidayshopping_archive","homes":"cnnmoney.com_personalfinance_homes_archive","passion_to_portfolio":"cnnmoney.com_business_passiontoportfolio_archive","planning-next":"cnnmoney.com_personalfinance_planningnext_archive","quest_means_business":"cnnmoney.com_business_questmeansbusiness_archive","runway_slaves":"cnnmoney.com_businessnews_runwayslaves_archive","dream-retirement":"cnnmoney.com_personalfinance_dreamretirement_archive","savings_challenge":"cnnmoney.com_personalfinance_savingschallenge_archive","science-of-work":"cnnmoney.com_smallbusiness_scienceofwork_archive","on_abu_dhabi":"cnnmoney.com_markets_onabudhabi_archive","stockswatch":"cnnmoney.com_site_investing_stockswatch_archive","voyage":"cnnmoney.com_luxury_voyage_archive","smart-spending":"cnnmoney.com_personalfinance_smartspending_archive","spielberg":"cnnmoney.com_media_spielberg_archive","start_small_think_big":"cnnmoney.com_smallbusiness_startsmallthinkbig_archive","startups":"cnnmoney.com_smallbusiness_startups_archive","super_bowl_2018":"cnnmoney.com_businessnews_superbowl2018_archive","superhero_hackers":"cnnmoney.com_technology_superherohackers_archive","surge":"cnnmoney.com_surge_archive","retire_your_way":"cnnmoney.com_personalfinance_retireyourway_archive","restart":"cnnmoney.com_smallbusiness_restart_archive","romans_numeral":"cnnmoney.com_investing_romansnumeral_archive","trump_inc":"cnnmoney.com_economy_trumpinc_archive","producing_the_goods":"cnnmoney.com_technology_producingthegoods_archive","working_life":"cnnmoney.com_ businessnews_workinglife_archive","work_transformed":"cnnmoney.com_technology_worktransformed_archive","world_business_today":"cnnmoney.com_business_worldbusinesstoday_archive","unhackable":"cnnmoney.com_technology_unhackable_archive","unicorns":"cnnmoney.com_business_unicorns_archive","upstarts":"cnnmoney.com_technology_upstarts_archive","upstarts30":"cnnmoney.com_technology_upstarts30_archive"};
var cnnStoryAdSections={"markets":"cnnmoney.com_marketsandstocks_t1","news/economy":"cnnmoney.com_businessnews_jobsandeconomy_t1","news":"cnnmoney.com_businessnews_t1","pf":"cnnmoney.com_personalfinance_t1","real_estate":"cnnmoney.com_realestate_t1","retirement":"cnnmoney.com_retirement_t1","smallbusiness":"cnnmoney.com_smallbusiness_t1","technology":"cnnmoney.com_technology_t1","fortune_news":"fortune.com_businessnews_t1","fortune_pf":"fortune.com_personalfinance_t1","fortune_smallbusiness":"fortune.com_smallbusiness_t1","fortune_technology":"fortune.com_technology_t1","fortune_lifestyle":"fortune.com_lifestyle_t1","blog_features":"fortune.com_businessnews_t1","blog_postcards":"fortune.com_businessnews_t1","blog_tech":"fortune.com_technology_t1","blog_finance":"cnnmoney.com_investing_t1","blog_management":"fortune.com_businessnews_t1","blog_moremoney":"cnnmoney.com_personalfinance_t1","blog_readereschoice":"cnnmoney.com_personalfinance_t1","blog_helpdesk":"cnnmoney.com_personalfinance_fivetips_t1","blog_economy":"cnnmoney.com_businessnews_jobsandeconomy_t1","blog_buzz":"cnnmoney.com_investing_thebuzz_t1","blog_smallbusiness":"cnnmoney.com_smallbusiness_t1","2017_year_in_review":"cnnmoney.com_businessnews_2017yearinreview_t1","2018_olympics":"cnnmoney.com_businessnews_2018olympics_t1","2020_visionaries":"cnnmoney.com_technology_2020visionaries_t1","before_the_bell":"cnnmoney.com_marketsandstocks_beforethebell_t1","battleground_states":"cnnmoney.com_economy_battlegroundstates_t1","bestbizideas":"cnnmoney.com_businessnews_bestbusinessideas_t1","businessoftheolympics":"cnnmoney.com_businessnews_olympics2016_businessoftheolympics_t1","greenbiz":"cnnmoney.com_businessnews_bizgreen_t1","facetoface":"cnnmoney.com_business_news_face_to_face_t1","future_of_tech":"cnnmoney.com_technology_futureoftech_t1","strategysessions":"cnnmoney.com_businessnews_strategysessions_t1","morningbuzz":"cnnmoney.com_investing_thebuzz_t1","bestjobs2009":"cnnmoney.com_businessnews_jobsandeconomy_bestjobs_t1","bestjobs":"cnnmoney.com_businessnews_jobsandeconomy_bestjobs_t1","detroit":"cnnmoney.com_businessnews_jobsandeconomy_detroitproject_t1","TheRescue":"cnnmoney.com_businessnews_jobsandeconomy_election_t1","midtermelections2010":"cnnmoney.com_businessnews_jobsandeconomy_election_t1","gas":"cnnmoney.com_businessnews_jobsandeconomy_energy_t1","fortuneoutlook":"cnnmoney.com_businessnews_jobsandeconomy_theoutlook_t1","luxurylifetop":"cnnmoney.com_luxury_t1","ad_age_anatomy":"cnnmoney.com_media_adageanatomy_t1","ad_age_connectivity":"cnnmoney.com_media_adageconnectivity_t1","agility_in_action":"cnnmoney.com_technology_agilityinaction_t1","alternative_investing":"cnnmoney.com_investing_alternativeinvesting_t1","american_dream":"cnnmoney.com_businessnews_americandream_t1","american_dream_new_york":"cnnmoney.com_businessnews_americandreamnewyork_t1","americas_choice_2016":"cnnmoney.com_businessnews_americaschoice2016_t1","americas_debt":"cnnmoney.com_businessnews_americasdebt_t1","bestplacelive_2013":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2012":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2010":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2009":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2008":"cnnmoney.com_personalfinance_bestplacestolive_t1","bestplacelive_2007":"cnnmoney.com_personalfinance_bestplacestolive_t1","breaking_the_mold":"cnnmoney.com_smallbusiness_breakingthemold_t1","buffett_live":"cnnmoney.com_investing_buffett_live_t1","biz_frontiers":"cnnmoney.com_news_bizfrontiers_t1","doitnow":"cnnmoney.com_personalfinance_doitnow_t1","election_2016":"cnnmoney.com_economy_election2016_t1","eclipse_of_the_century":"cnnmoney.com_businessnews_eclipseofthecentury_t1","living_in_the_future":"cnnmoney.com_technology_livinginthefuture_t1","cnnmoney_investigates_con_woman":"cnnmoney.com_businessnews_cnnmoneyinvestigatesconwoman_t1","holiday":"cnnmoney.com_personalfinance_holidaymoney_t1","holidaymoney2009":"cnnmoney.com_personalfinance_holidaymoney_t1","holidaymoney2010":"cnnmoney.com_personalfinance_holidaymoney_t1","holiday2007":"cnnmoney.com_personalfinance_holidaymoney_t1","holiday_shopping_2016":"cnnmoney.com_personalfinance_holidayshopping2016_t1","holiday_shopping_2017":"cnnmoney.com_personalfinance_holidayshopping2017_t1","holiday_shopping_2017_cnntech":"cnnmoney.com_technology_holidayshopping2017cnntech_t1","home_trends":"cnnmoney.com_personalfinance_hometrends_t1","homes":"cnnmoney.com_personalfinance_homes_t1","moneymainstreet":"cnnmoney.com_personalfinance_moneyandmainstreet_t1","family":"cnnmoney.com_personalfinance_family_t1","familymoney":"cnnmoney.com_personalfinance_yourfamily_t1","fed_focus":"cnnmoney.com_investing_fed_focus_t1","yourfamilymoney":"cnnmoney.com_personalfinance_yourfamily_t1","road-to-wealth":"cnnmoney.com_personal_finance_road_to_wealth_t1","familymoney":"cnnmoney.com_realestate_yourfamily_t1","yourfamilymoney":"cnnmoney.com_realestate_yourfamily_t1","MONEY":"cnnmoney.com_retirement_asktheexpert_t1","best_in_tech":"cnnmoney.com_technology_bestintech_t1","bestplaceretire_2010":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire_2009":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire_2008":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire_2007":"cnnmoney.com_retirement_bestplacestoretire_t1","bestplaceretire":"cnnmoney.com_retirement_bestplacestoretire_t1","retirerich":"cnnmoney.com_retirement_retirerich_t1","revell":"cnnmoney.com_retirement_rulesofretirement_t1","bestbizideas":"cnnmoney.com_smallbusiness_bestbusinessideas_t1","innovationnation":"cnnmoney.com_technology_innovationnation_t1","smallandglobal":"cnnmoney.com_smallbusiness_smallandglobal_t1","fsbmakeover":"cnnmoney.com_smallbusiness_smallbusinessmakeover_t1","stateofsmallbiz":"cnnmoney.com_small_business_state_of_small_business_t1","fortunetechtalk":"cnnmoney.com_technology_techtalk_t1","fresh_money":"cnnmoney.com_businessnews_freshmoney_t1","toptips":"cnnmoney.com_personalfinance_fivetips_t1","visionaries":"cnnmoney.com_businessnews_visionaries_t1","investing_guide":"cnnmoney.com_investing_investingguide_t1","where-are-they-now":"cnnmoney.com_small_business_where_are_they_now_t1","bestadvice2009":"fortune.com_businessnews_bestadvice_t1","brainstormgreen":"fortune.com_businessnews_brainstormgreenconference_t1","dumbest":"fortune.com_lists_dumbmoments_t1","stanleybing":"fortune.com_businessnews_stanleybing_t1","mostpowerfulwomen2013":"fortune.com_clevel_50mostpowerfulwomen_t1","picture_this":"cnnmoney.com_businessnews_picturethis_t1","power":"cnnmoney.com_businessnews_power_t1","powering_your_world":"cnnmoney.com_technology_poweringyourworld_t1","powerwomen2012":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2010":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2009":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2008":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen2007":"fortune.com_clevel_50mostpowerfulwomen_t1","powerwomen":"fortune.com_clevel_50mostpowerfulwomen_t1","csuite":"fortune.com_clevel_csuitestrategies_t1","csuiteunpackaged":"fortune.com_clevel_csuitestrategies_t1","cyber_safe":"cnnmoney.com_technology_cybersafe_t1","leadership2008":"fortune.com_clevel_leadershipseries_t1","40under40_2010":"fortune.com_clevel_peopleyoushouldknow_t1","40under40_2011":"fortune.com_business_news_clevel_40_under_40_t1","40under40_2012":"fortune.com_business_news_clevel_40_under_40_t1","fortpower25":"fortune.com_clevel_powerissue_t1","peopleinpower":"fortune.com_clevel_powerissue_t1","bestcos2012":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2011":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2010":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2009":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos2008":"fortune.com_lists_100bestcompaniestoworkfor_t1","bestcos":"fortune.com_lists_100bestcompaniestoworkfor_t1","boss_files":"cnnmoney.com_businessnews_bossfiles_t1","fastestgrowingcos2009":"fortune.com_lists_fastestgrowingcompanies_t1","fastestgrowingcos2008":"fortune.com_lists_fastestgrowingcompanies_t1","fear_and_greed":"cnnmoney.com_investing_fearandgreed_t1","fortfastgrow_2007":"fortune.com_lists_fastestgrowingcompanies_t1","fortune500_2013":"fortune.com_lists_fortune500_t1","fortune500_2012":"fortune.com_lists_fortune500_t1","fortune500_2011":"fortune.com_lists_fortune500_t1","fortune500_2010":"fortune.com_lists_fortune500_t1","fortune500_2009":"fortune.com_lists_fortune500_t1","fortune500_2008":"fortune.com_lists_fortune500_t1","fortune500_2007":"fortune.com_lists_fortune500_t1","fortune500_2006":"fortune.com_lists_fortune500_t1","future_tense":"cnnmoney.com_technology_futuretense_t1","g20":"cnnmoney.com_business_g20_t1","gadget":"cnnmoney.com_technology_gadget_t1","gentlemans_guide":"cnnmoney.com_luxury_gentlemansguide_t1","global_real_estate":"cnnmoney.com_realestate_globalrealestate_t1","global500_2013":"fortune.com_lists_global500_t1","global500_2009":"fortune.com_lists_global500_t1","global500_2008":"fortune.com_lists_global500_t1","global500_2007":"fortune.com_lists_global500_t1","globalforum":"fortune.com_worldbiz_globalforum_t1","going_global":"cnnmoney.com_business_goingglobal_t1","growing_in_india":"cnnmoney.com_business_growinginindia_t1","made_in_india":"cnnmoney.com_news_madeinindia_t1","made_in_japan":"cnnmoney.com_businessnews_madeinjapan_t1","made_in_malaysia":"cnnmoney.com_businessnews_madeinmalaysia_t1","made_in_poland":"cnnmoney.com_business_madeinpoland_t1","made_in_safrica":"cnnmoney.com_business_madeinsafrica_t1","made_in_thailand":"cnnmoney.com_markets_madeinthailand_t1","millennials_and_their_money":"cnnmoney.com_personalfinance_millennialsandtheirmoney_t1","mostadmired2009":"fortune.com_lists_mostadmiredcompanies_t1","mostadmired2008":"fortune.com_lists_mostadmiredcompanies_t1","mostadmired2013":"fortune.com_lists_mostadmiredcompanies_t1","mostadmired2014":"fortune.com_lists_mostadmiredcompanies_t1","mostadmiredcos":"fortune.com_lists_mostadmiredcompanies_t1","most_innovative_cities":"cnnmoney.com_technology_mostinnovativecities_t1","callawaycars":"fortune.com_lifestyle_autos_callawaycars_t1","fortluxbiz2008":"fortune.com_lifestyle_bizofluxury_t1","luxurylifetop":"fortune.com_lifestyle_lifeatthetop_t1","roadwarriorsfortune":"fortune.com_lifestyle_travel_roadwarriorsguide_t1","captainsblog":"fortune.com_marketsandstocks_streetlife_t1","europe_2020":"cnnmoney.com_business_europe2020_t1","impact_investing":"cnnmoney.com_business_impactinvesting_t1","india_2020":"cnnmoney.com_business_india2020_t1","india_20_under_40":"cnnmoney.com_business_india20under40_t1","innovate_tech":"cnnmoney.com_technology_innovate_t1","innovative_cities":"cnnmoney.com_technology_innovativecities_t1","innovators":"cnnmoney.com_businessnews_innovators_t1","internet_of_things":"cnnmoney.com_technology_internetofthing_t1","investorsp-econ08":"fortune.com_personalfinance_investorsspecialguide_t1","investorsguide2010":"fortune.com_personalfinance_ultimateinvestmentguide_t1","investorsguide2011":"fortune.com_personalfinance_ultimateinvestmentguide_t1","money-sense":"fortune.com_personal_finance_money_sense_t1","bpsmbiz2009":"fortune.com_smallbusiness_bestplacesforsmallbusiness_t1","fsbhowwegotstarted":"fortune.com_smallbusiness_entrepreneurialheroes_t1","brainstormTech2008":"fortune.com_technology_brainstorm_t1","brainstormtech":"fortune.com_technology_brainstorm_t1","disruptors":"fortune.com_technology_disruptors_t1","techinnovation":"fortune.com_technology_innovationtechspecial_t1","techinnovators2008":"fortune.com_technology_techspecialreport_t1","the_business_view":"cnnmoney.com_business_thebusinessview_t1","the_rebound":"cnnmoney.com_businessnews_therebound_t1","the_collector":"cnnmoney.com_luxury_thecollector_t1","biztransform":"fortune.com_technology_techtransformation_t1","davos":"cnnmoney.com_businessnews_worldbiz_davos_t1","davos_2018":"cnnmoney.com_economy_davos_2018_t1","executivedreamteam":"fortune.com_clevel_executivedreamteam_t1","empire":"cnnmoney.com_site_small_business_empire_t1","evolution":"cnnmoney.com_technology_evolution_t1","appnation":"cnnmoney.com_technology_app_nation_t1","gamechangers":"cnnmoney.com_businessnews_game_changers_t1","fastestgrowingcos2012":"fortune.com_lists_fastestgrowingcompanies_t1","fastestgrowingcos2013":"fortune.com_lists_fastestgrowingcompanies_t1","wheels":"cnnmoney.com_personalfinance_auto_wheels_t1","women_entrepreneurs":"CNNMoney.com_Site_Small_Business_Women_Entrepreneurs_T1_Instream","sectors":"cnnmoney.com_sectors_t1","sept11_2011":"fortune.com_personalfinance_ground_zero_t1","verne_harnish":"cnnmoney.com_small_business_verne_harnish_t1","trailblazers":"cnnmoney.com_small_business_innovation_trailblazers_t1","away":"cnnmoney.com_personalfinance_away_t1","drive":"cnnmoney.com_luxury_drive_t1","million-dollar-homes":"cnnmoney.com_luxury_milliondollarhomes_t1","tech_reports":"cnnmoney.com_technology_techreports_t1","the-big-spend":"cnnmoney.com_luxury_thebigspend_t1","the_inside_story":"cnnmoney.com_technology_theinsidestory_t1","the_open":"cnnmoney.com_investing_openingbell_t1","traders":"cnnmoney.com_business_traders_t1","reliablesources":"cnnmoney.com_media_reliablesources_t1","market_movers":"cnnmoney.com_investing_marketmovers_t1","markets_now":"cnnmoney.com_marketsandstocks_marketsnow_t1","market_movers_and_shakers":"cnnmoney.com_investing_marketmoversandshakers_t1","marketplace_middle_east":"cnnmoney.com_markets_marketplacemiddleeast_t1","marketplace_russia":"cnnmoney.com_businessnews_marketplacerussia_t1","money_moves":"cnnmoney.com_personalfinance_moneymoves_t1","money_essentials":"cnnmoney.com_personalfinance_moneyessentials_t1","your-money":"cnnmoney.com_personalfinance_yourmoney_t1","future-of-love":"cnnmoney.com_technology_futureoflove_t1","big-money":"cnnmoney.com_luxury_rare_t1","new_delhi_pollution":"cnnmoney.com_businessnews_newdelhipollution_t1","new_investor":"cnnmoney.com_investing_newinvestor_t1","new_rules_for_retirement":"cnnmoney.com_personalfinance_newrulesforretirement_t1","nigeria_economy":"cnnmoney.com_economy_nigeriaeconomy_t1","24-hours-with":"cnnmoney.com_personalfinance_24hourswith_t1","billion-dollar-ideas":"cnnmoney.com_businessnews_billiondollarideas_t1","family-money":"cnnmoney.com_luxury_familymoney_t1","why-costs":"cnnmoney.com_luxury_whythiscoststhat_t1","opening-bell":"cnnmoney.com_investing_openingbell_t1","our_driverless_future":"cnnmoney.com_technology_ourdriverlessfuture_t1","aloft":"cnnmoney.com_luxury_aloft_t1","hottest-investments-world":"cnnmoney.com_investing_hottestinvestmentsworld_t1","the_connectors":"cnnmoney.com_business_theconnectors_t1","the-real-economy":"cnnmoney.com_economy_therealeconomyt1","cloud-computing":"cnnmoney.com_technology_cloudcomputing_t1","business-ofbeing":"cnnmoney.com_businessnews_businessofbeing_t1","holiday_shopping":"cnnmoney.com_personalfinance_holidayshopping_t1","passion_to_portfolio":"cnnmoney.com_business_passiontoportfolio_t1","planning-next":"cnnmoney.com_personalfinance_planningnext_t1","quest_means_business":"cnnmoney.com_business_questmeansbusiness_t1","runway_slaves":"cnnmoney.com_businessnews_runwayslaves_t1","restart":"cnnmoney.com_smallbusiness_restart_t1","dream-retirement":"cnnmoney.com_personalfinance_dreamretirement_t1","savings_challenge":"cnnmoney.com_personalfinance_savingschallenge_t1","science-of-work":"cnnmoney.com_smallbusiness_scienceofwork_t1","on_abu_dhabi":"cnnmoney.com_markets_onabudhabi_t1","startups":"cnnmoney.com_smallbusiness_startups_t1","voyage":"cnnmoney.com_luxury_voyage_t1","smart-spending":"cnnmoney.com_personalfinance_smartspending_t1","spielberg":"cnnmoney.com_media_spielberg_t1","start_small_think_big":"cnnmoney.com_smallbusiness_startsmallthinkbig_t1","stockswatch":"cnnmoney.com_site_investing_stockswatch_t1","super_bowl_2018":"cnnmoney.com_businessnews_superbowl2018_t1","superhero_hackers":"cnnmoney.com_technology_superherohackers_t1","surge":"cnnmoney.com_surge_t1","retire_your_way":"cnnmoney.com_personalfinance_retireyourway_t1","romans_numeral":"cnnmoney.com_investing_romansnumeral_t1","trump_inc":"cnnmoney.com_economy_trumpinc_t1","producing_the_goods":"cnnmoney.com_technology_producingthegoods_t1","working_life":"cnnmoney.com_businessnews_workinglife_t1","work_transformed":"cnnmoney.com_technology_worktransformed_t1","world_business_today":"cnnmoney.com_business_worldbusinesstoday_t1","unhackable":"cnnmoney.com_technology_unhackable_t1","unicorns":"cnnmoney.com_business_unicorns_t1","upstarts":"cnnmoney.com_technology_upstarts_t1","upstarts30":"cnnmoney.com_technology_upstarts30_t1"};
function setADBPValues(c,f,b){c.contentpage.cnnOmniture_source=c.contentpage.cnnOmniture_prop14="";c.contentpage.cnnOmniture_prop17="";c.contentpage.cnnOmniture_prop19="";c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="";if(f.source=="CNNMoney"){c.contentpage.cnnOmniture_source=c.contentpage.cnnOmniture_prop14="CNNMONEY";}else{if(f.source=="Fortune"){c.contentpage.cnnOmniture_source=c.contentpage.cnnOmniture_prop14="FORT";}}switch(f.section){case"/video/news":c.contentpage.cnnOmniture_prop19="News";break;case"/video/markets":c.contentpage.cnnOmniture_prop19="Markets";break;case"/video/pf":c.contentpage.cnnOmniture_prop19="PersonalFinance";break;case"/video/technology":c.contentpage.cnnOmniture_prop19="Technology";break;case"/video/luxury":c.contentpage.cnnOmniture_prop19="Luxury";break;default:break;}var d=c.profile;var e=location.pathname.toLowerCase();var a=cnnm_getCookie("SelectedEdition").toLowerCase();if(e.indexOf("/international/")!==-1||(e=="/"&&a=="edition")||(e=="/index.html"&&a=="edition")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="international player";}else{if(d=="videoInteractive"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="interactive player";}else{if(location.pathname.match("/media/")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="media player";}else{if(location.pathname.match("/technology/")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="tech player";}else{if(location.pathname.match("/interactive/")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="interactive player";}else{if(d=="live"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="live player";}else{if(d=="videoclip"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="videoclip";}else{if(d=="story"||d=="wp_blogs"){if("top"==c.vidloc){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="story top";}else{c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="story player";}}else{if(d=="gallerySmall"||d=="galleryLarge"||d=="galleryExtraLarge"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="gallery player";}else{if(location.pathname=="/"||location.pathname=="/index.html"){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="cnnmoney homepage";}else{if(location.pathname=="/smallbusiness/"||location.pathname.match("/smallbusiness/index.html")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="smallbusiness homepage";}else{if(location.pathname=="/smallbusiness/makeover/"||location.pathname.match("/smallbusiness/makeover/index.html")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="smallbusiness makeover";}else{if(location.pathname=="/magazines/fortune/"||location.pathname.match("/magazines/fortune/index.html")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="fortune homepage";}else{if(top.location.pathname.match("data/premarket")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="premarkets";}else{if(top.location.pathname.match("data/afterhours")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="afterhours";}else{if(location.pathname.match("/video/")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="videoclip";}else{if(location.pathname.match("news/specials/assignment_detroit")){c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="detroit homepage";}else{c.contentpage.cnnOmniture_playername=c.contentpage.cnnOmniture_prop24="story player";}}}}}}}}}}}}}}}}}}function playVideo(c,a){var b=(a===undefined)?VideoPlayerManager.getPlayer():VideoPlayerManager.getPlayer(a);if(b==null){VideoPlayerManager.playVideos();return;}var d=b.play_list.getIndex(c);if(!d){b.play_list.injectItem({id:c});}b.play(c);}var VideoPlayerManager={ispreview:(location.hostname.match("preview"))?true:false,players:{},playerprofiles:{configs:{"generic":{width:1024,height:576,divid:"playerarea",slateClick:"top",autoplay:false},"story":{width:780,height:439,divid:"vid0",slateClick:"top",autoplay:false},"wp_blogs":{width:476,height:268,divid:"cnnVidplayer",slateClick:"player",autoplay:false},"section":{width:620,height:348,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"sectionLarge":{width:1024,height:576,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"videoclip":{width:1100,height:620,divid:"cnnVidplayer",slateClick:"top",autoplay:true},"galleryLarge":{width:620,height:348,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"gallerySmall":{width:340,height:191,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"galleryExtraLarge":{width:1024,height:576,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"homepage":{width:780,height:439,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"homepageInternational":{width:620,height:348,divid:"cnnVidplayer",stateClick:"top",autoplay:false},"markets":{width:300,height:168,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"noAds":{width:780,height:439,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"interactive":{width:925,height:520,divid:"playerarea",slateClick:"top",autoplay:false},"videoInteractive":{width:1024,height:576,divid:"cnnVidplayer",slateClick:"top",autoplay:false},"live":{width:925,height:520,divid:"playerarea",slateClick:"player",autoplay:true},"twitter":{width:420,height:236,divid:"cnnVidplayer",slateClick:"player",autoplay:false}}},add:function(a){this.players[a.id]=a;},pauseplayers:function(a){for(var b in this.players){if(a!=this.players[b].id&&this.players[b].isPlaying){this.players[b].pause();}}},getPlayer:function(b){if(typeof(b)=="undefined"){for(var a in this.players){return this.players[a];}}return this.players[b];},initVideo:function(z){profile=(typeof z.playerprofile!=="undefined")?z.playerprofile:"generic";var b=(VideoPlayerManager.ispreview)?"preview":profile,r=(typeof z.width!=="undefined")?z.width:this.playerprofiles.configs[profile].width,m=(typeof z.height!=="undefined")?z.height:this.playerprofiles.configs[profile].height,t=(typeof z.playerid!=="undefined")?z.playerid:"cvp_x"+(parseInt(Math.random()*10000)).toString(),c=(typeof z.divid!=="undefined")?z.divid:this.playerprofiles.configs[profile].divid,d=(typeof z.flashVarsProfile!=="undefined")?z.flashVarsProfile:"2",f=(typeof z.freewheelJsUrl!=="undefined")?z.freewheelJsUrl:"",e=(typeof z.ssid!=="undefined")?z.ssid:undefined,D=(z.profile=="twitter")?"off":"on",j=(typeof z.autoplay!=="undefined")?(z.autoplay):this.playerprofiles.configs[profile].autoplay,h=(typeof z.has_poster!=="undefined")?(z.has_poster):true,a=(typeof z.defaultSection!=="undefined")?z.defaultSection:null,y=z.videoArray||z.playlist,C=(typeof z.auto_playlist!="undefined")?z.auto_playlist:true,g=(typeof z.maxVideos!=="undefined")?z.maxVideos:15,p=(typeof z.loc!="undefined")?z.loc:"",q=(typeof z.contentpage!="undefined")?z.contentpage:undefined,s=(typeof z.disableEndSlate!="undefined")?z.disableEndSlate:undefined,A=(typeof z.disableNextUpSlate!="undefined")?z.disableNextUpSlate:undefined,l=(typeof z.mode!="undefined")?z.mode:undefined,v=(typeof z.firstVideoId!="undefined")?z.firstVideoId:undefined,B=(typeof z.callouts!="undefined")?z.callouts:undefined;var w={id:t,width:r,height:m,divId:c,flashVarsProfile:d,freewheelJsUrl:f,defaultSection:a,callouts:B,mode:l,firstVideoId:v,maxVideos:g,playlist:y,auto_playlist:C,contentpage:q,disableEndSlate:s,disableNextUpSlate:A,vidloc:p,vidprofile:profile,ssid:e,autoplay:j,autostart:D,has_poster:h};var o=(typeof z.callbacks!=="undefined")?z.callbacks:{};var u=new VideoPlayer(w,o);if(!u.canPlay){u.embedNeedsFlash();return;}this.add(u);u.init();},playVideos:function(a){var d=vidConfig.length,c;for(var b=0;b<d;b++){c=vidConfig[b];if(typeof(a)!="undefined"){if(typeof(c.playerid)!="undefined"&&a==c.playerid){this.initVideo(c);return;}}else{this.initVideo(c);
}}},loadAutoplayers:function(){var c=vidConfig.length,b,d=false;for(var a=0;a<c;a++){b=vidConfig[a];profile=(typeof b.playerprofile!=="undefined")?b.playerprofile:"generic";d=(typeof b.autoplay!=="undefined")?(b.autoplay):this.playerprofiles.configs[profile].autoplay;if(d){this.initVideo(b);}}},initMultiPlayer:function(){var b=vidConfig.length;for(var a=0;a<b;a++){playerconfig=vidConfig[a];playerconfig.autostart=false;playerconfig.has_poster=false;playerconfig.autoplay=false;playerconfig.playerprofile="noAds";playerconfig.callouts={onCVPReady:function(c){VideoPlayer.utils.log("cvp is ready - "+c+". Going to bind now");jQuery(VideoPlayerManager.getPlayer(c).player_elem).bind("inview",function(d,e){if(e){VideoPlayerManager.getPlayer(c).resume(true);VideoPlayerManager.pauseplayers(c);}else{VideoPlayerManager.getPlayer(c).pause();}});}};this.initVideo(playerconfig);}}};function VideoPlayer(config,callbacks){var _self=this;var _player=null;this.profile=config.vidprofile||config.playerprofile||"generic";this.id=config.id||"cvp_x"+(parseInt(Math.random()*10000)).toString();this.playerWidth=config.width||VideoPlayerManager.playerprofiles.configs[this.profile].width;this.playerHeight=config.height||VideoPlayerManager.playerprofiles.configs[this.profile].height;this.playerDivId=config.divId||VideoPlayerManager.playerprofiles.configs[this.profile].divid;this.flashVarsProfile=config.flashVarsProfile||"2";this.freewheelJsUrl=config.freewheelJsUrl||"";this.autoplay=config.autoplay||false;this.has_poster=(typeof config.has_poster!==undefined)?config.has_poster:true;this.vidloc=config.vidloc||"";this.defaultSection=config.defaultSection||null;this.mode=config.mode||VideoPlaylist.MODES.REPEAT;this.firstVideoId=config.firstVideoId||null;this.updateFirstHed=config.updateFirstHed||false;this.maxVideos=config.limit||config.maxVideos||15;this.temp_list=config.playlist||config.videoArray||[];this.auto_playlist=(config.auto_playlist!==undefined)?config.auto_playlist:true;this.initial_callouts=config.callouts||{};this.contentpage=(typeof(config.contentpage)!=="undefined")?eval(config.contentpage):window;this.disableNextUpSlate=(config.disableNextUpSlate!==undefined)?config.disableNextUpSlate:true;this.disableEndSlate=(config.disableEndSlate!==undefined)?config.disableEndSlate:false;this.ssid=config.ssid||undefined;this.play_list=new VideoPlaylist(this.maxVideos,this.mode);this.slateClickTarget=config.slateClickTarget||VideoPlayerManager.playerprofiles.configs[this.profile].slateClick||"top";this.endSlate=null;this.pauseSlate=null;this.nextUpSlate=null;this.activeVideoObject=null;this.callbacks=callbacks||{};this.callouts={onCVPReady:[],onContentBegin:[],onContentPause:[],onContentEnd:[],onContentPlayhead:[]};this.hedClass="js-vid-hed-"+this.id;this.dekClass="js-vid-dek-"+this.id;this.countdownClass="js-vid-countdown-"+this.id;this.bylineClass="js-vid-byline-"+this.id;this.player_elem=null;this.hed_elem=null;this.dek_elem=null;this.byline_elem=null;this.countdown_elem=null;this.adStartTime=0;this.trackingcontext="main";this.videoStartTime=0;this.supposedCurrentTime=0;this.videoDOMEl=null;this.canPlay=false;this.maximizeAndroid=false;this.isPlaying=false;this.isPaused=false;this.isAdPlaying=false;this.isHTML5=false;this.playlistloaded=false;this.isReplay=false;this.autoPaused=false;this.playBackStarted=false;this.autostart_tracking=false;this.viewability_pinner=null;var default_callbacks={onPlayerReady:function(playerId){_self.setHTML5flag();},onAdSetup:function(){try{AmazonDirectMatchBuy.setAdKeyValuePairs(this);AmazonDirectMatchBuy.requestAdRefresh();}catch(e){console.log("Error in onAdSetup with AmazonDirectMatchBuy. - "+e);}},onCVPReady:function(){try{_self.setplayerElems();}catch(e){}var firstVideo=_self.play_list.getItem(_self.firstVideoId);if(firstVideo!=null){_self.play_list.setPointer(firstVideo.id);_self.play_list.prevItem();}try{_self.playNext();}catch(e){VideoPlayer.utils.log("Error trying to play first video fron onCVPReady");}try{if(_self.vidloc=="top"){_self.viewability_pinner=new ViewabilityVideo;_self.viewability_pinner.init();}}catch(e){console.log("onCVPReady: Video Viewability setup: "+e.message);}if(_self.callouts.onCVPReady.length>0){for(var i=0;i<_self.callouts.onCVPReady.length;i++){try{var _f=_self.callouts.onCVPReady[i];if(typeof(_f)==="function"){_f(_self.id);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}_self.videoDOMEl=document.querySelector("#"+_self.id);var config={attributes:true,childList:false,characterData:false},observer=new MutationObserver(function(mutations){mutations.forEach(function(item){if(item.attributeName==="controls"&&!_self.videoDOMEl.hasAttribute("controls")){_self.videoDOMEl.controls="controls";}});});observer.observe(_self.videoDOMEl,config);if(!_self.videoDOMEl.hasAttribute("controls")){_self.videoDOMEl.controls="controls";}_self.videoDOMEl.controlsList.add("nodownload");_self.registerOnVideoClickHandler();},onAdPlay:function(playerId,token,mode,id,duration,blockId,adType){try{var content_id=_self.play_list.getCurrentItemId();var vdata=this.getContentEntry(content_id);var analyticsAdtype="video-"+adType;vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(content_id).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,analyticsAdtype,playerId);}catch(e){VideoPlayer.utils.log("error in onAdPlay - "+e);}_self.adStartTime=new Date();_self.isAdPlaying=true;_self.adcountdown_start(duration);_self.onAdSeek();try{_self.viewability_pinner.pin_style2();}catch(e){console.log("onAdPlay: Video Viewability pinning: "+e.message);}},onAdPlayhead:function(playerId,playhead,duration){if(_self.isAdPlaying==true){_self.adcountdown_update(duration-playhead);}},onAdEnd:function(playerId,token,mode,id,blockId,adType){try{var content_id=_self.play_list.getCurrentItemId();var vdata=this.getContentEntry(content_id);vdata=window.JSON.parse(vdata);vdata.adType=adType;vdata.video_collection=_self.play_list.getItem(content_id).collection;_self.contentpage.sendVideoEvent(vdata,"video-adcomplete",playerId);}catch(e){VideoPlayer.utils.log("error in onAdEnd - "+e);}_self.adStartTime=0;_self.isAdPlaying=false;_self.adcountdown_remove();_self.onAdSeek_remove();},onContentBegin:function(playerId,contentId){var content_id=_self.play_list.getCurrentItemId();_self.playBackStarted=true;_self.hideSlates();_self.videoStartTime=new Date();_self.isPlaying=true;_self.isAdPlaying=false;_self.adcountdown_remove();try{_self.activeVideoObject=window.JSON.parse(this.getContentEntry(content_id));if(typeof(setADBPValues)==="function"){setADBPValues(_self,_self.activeVideoObject,content_id);}}catch(e){console.warn("Error in onContentBegin, trying to get json data to set ADBP values"+e.message);}try{VideoPlayerManager.pauseplayers(_self.id);}catch(e){VideoPlayer.utils.log("pauseplayers"+e.message);}try{if(0<_self.play_list.pointer||_self.isReplay||(0==_self.play_list.pointer&&_self.updateFirstHed)){_self.updateexternalitems(_self.activeVideoObject);}}catch(e){VideoPlayer.utils.log("update:"+e.message);}try{if((0<_self.play_list.pointer||_self.autoplay)&&!_self.isReplay){_self.trackingcontext="autostart";this.switchTrackingContext(_self.trackingcontext);}else{_self.trackingcontext="main";this.switchTrackingContext(_self.trackingcontext);}}catch(e){}try{if(!_self.playlistloaded){_self.loadplaylist();}}catch(e){}if(_self.callouts.onContentBegin.length>0){for(var i=0;i<_self.callouts.onContentBegin.length;i++){try{var _f=_self.callouts.onContentBegin[i];if(typeof(_f)==="function"){_f(_self.id,contentId,_self.activeVideoObject);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentPlay:function(playerId,contentId){try{if(_self.videoDOMEl.firstChild){if(_self.videoDOMEl.firstChild.nodeName.toLowerCase()==="track"){_self.videoDOMEl.firstChild.src=_self.videoDOMEl.firstChild.src;
_self.videoDOMEl.firstChild.mode="hidden";_self.videoDOMEl.textTracks[0].mode="hidden";}}}catch(e){console.log("Error in onContentEnd. Trying to reset Tracks for FF bug - "+e);}try{var content_id=_self.play_list.getCurrentItemId();var vdata=this.getContentEntry(content_id);vdata=window.JSON.parse(vdata);vdata.video_length=_self.activeVideoObject.trt||3;vdata.video_publish_date=_self.activeVideoObject.dateCreated.text.replace(/\//g,"-")||"";vdata.video_collection=_self.play_list.getItem(content_id).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;try{if("autostart"==_self.trackingcontext){vdata.is_auto=1;}}catch(e){}_self.contentpage.sendVideoEvent(vdata,"video-start",playerId);}catch(e){VideoPlayer.utils.log("Error on contentplay : video-start: "+e.message);}_self.isAdPlaying=false;_self.adcountdown_remove();try{_self.viewability_pinner.pin_style2();}catch(e){console.log("onContentPlay: Video Viewability pinning: "+e.message);}},onContentPause:function(playerId,contentId,paused){var content_id=_self.play_list.getCurrentItemId();try{var vdata=this.getContentEntry(content_id);vdata=window.JSON.parse(vdata);vdata.paused=paused;vdata.video_collection=_self.play_list.getItem(content_id).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-pause",playerId);}catch(e){VideoPlayer.utils.log("error in onContentPause - "+e);}if(!this.isPaused()){VideoPlayerManager.pauseplayers(_self.id);_self.isPlaying=true;_self.isPaused=false;}else{_self.isPlaying=false;_self.isPaused=true;}if(_self.callouts.onContentPause.length>0){for(var i=0;i<_self.callouts.onContentPause.length;i++){try{var _f=_self.callouts.onContentPause[i];if(typeof(_f)==="function"){_f(_self.id,content_id,paused);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentBuffering:function(playerId,contentId,buffering){var content_id=_self.play_list.getCurrentItemId();try{var vdata=this.getContentEntry(content_id);vdata=window.JSON.parse(vdata);vdata.buffering=buffering;vdata.video_collection=_self.play_list.getItem(content_id).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-buffer",playerId);}catch(e){VideoPlayer.utils.log("error in onContentBuffering - "+e);}},onTrackingContentSeek:function(playerId,dataObj){try{var content_id=_self.play_list.getCurrentItemId();var vdata=this.getContentEntry(content_id);vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(content_id).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-scrub",playerId);}catch(e){VideoPlayer.utils.log("error in onTrackingContentSeek - "+e);}},onContentPlayhead:function(playerId,contentId,playhead,duration){var content_id=_self.play_list.getCurrentItemId();try{var vc=new _self.contentpage._jsmd.plugin.gMONVideoCollection();if(playhead>(duration/2)&&vc.get(playerId,"hasScrubbed")==false&&vc.get(playerId,"pastHalf")==false){var vdata=this.getContentEntry(content_id);vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(content_id).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-fifty_percent",playerId);}}catch(e){VideoPlayer.utils.log("error in onContentPlayhead - "+e);}if(_self.callouts.onContentPlayhead.length>0){for(var i=0;i<_self.callouts.onContentPlayhead.length;i++){try{var _f=_self.callouts.onContentPlayhead[i];if(typeof(_f)==="function"){_f(_self.id,content_id,playhead,duration);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentEnd:function(playerId,contentId){try{if(_self.videoDOMEl.firstChild){if(_self.videoDOMEl.firstChild.nodeName.toLowerCase()==="track"){_self.videoDOMEl.firstChild.mode="hidden";_self.videoDOMEl.textTracks[0].mode="hidden";}}}catch(e){console.log("Error in onContentEnd. Trying to reset Tracks for FF bug - "+e);}try{var content_id=_self.play_list.getCurrentItemId();var vdata=this.getContentEntry(content_id);vdata=window.JSON.parse(vdata);vdata.video_collection=_self.play_list.getItem(contentId).collection;vdata.cnnOmniture_prop14=vdata.cnnOmniture_source=_self.contentpage.cnnOmniture_prop14;vdata.cnnOmniture_prop19=_self.contentpage.cnnOmniture_prop19;vdata.cnnOmniture_prop24=vdata.cnnOmniture_playername=vdata.cnnOmniture_playername=_self.contentpage.cnnOmniture_prop24;_self.contentpage.sendVideoEvent(vdata,"video-complete",playerId);}catch(e){VideoPlayer.utils.log("error in onContentEnd - "+e);}_self.isPlaying=false;_self.isReplay=false;if(!_self.play_list.hasMoreItems()&&_self.play_list.mode===VideoPlaylist.MODES.REPEAT){_self.play_list.resetPointer();_self.updateFirstHed=true;}try{if(!_self.showSlate()){_self.playNext();}}catch(e){VideoPlayer.utils.log("Couldn't load slate - "+e.message);_self.playNext();}if(_self.callouts.onContentEnd.length>0){for(var i=0;i<_self.callouts.onContentEnd.length;i++){try{var _f=_self.callouts.onContentEnd[i];if(typeof(_f)==="function"){_f(_self.id,contentId,_self.activeVideoObject);}}catch(e){VideoPlayer.utils.log("Error running callout - "+e);}}}},onContentReplayRequest:function(playerId,contentId,additionalParams){_self.isReplay=true;_self.trackingcontext="main";this.switchTrackingContext(_self.trackingcontext);},onContentEntryLoadError:function(playerId,contentId,errorMessage,errorCode,queue){_self.handleContentError("onContentEntryLoadError",playerId,contentId,errorMessage);},onContentError:function(playerId,contentId,errorMessage){_self.handleContentError("onContentError",playerId,contentId,errorMessage);},onCVPVisibilityChange:function(playerId,visible){},onPageVisibilityChange:function(playerId,visible){},onViewportVisibilityChange:function(playerId,visible){},onAdError:function(playerId,errorMessage){},onAdPrerollUrl:function(playerId,contentId){},onAdPostrollUrl:function(playerId,contentId){VideoPlayer.utils.log("postroll url coming in for - "+contentId);return false;},onAdSensitive:function(playerId,contentId){},onContentEntryLoad:function(playerId,contentId,isQueue){},onContentResize:function(playerId,width,height){},onContentVolume:function(playerId,muted,volume){},onContentBitrateInfo:function(playerId,currentBitrateId,maxBitrateId,currentBitrate){},onContentBitrateChangeStart:function(playerId,currentBitrateId,maxBitrateId,currentBitrate){},onContentBitrateChangeEnd:function(playerId,currentBitrateId,maxBitrateId,currentBitrate){},onContentBitrateChangeError:function(playerId,error,currentBitrateId,maxBitrateId,currentBitrate){},onContentComplete:function(playerId,contentId){},onContentMetadata:function(playerId,contentId,duration,width,height){},onContentQueue:function(playerId,queue){},onContentQueueAutoplay:function(playerId,autoplay){},onTrackingAdStart:function(playerId,dataObj){},onTrackingAdComplete:function(playerId,dataObj){},onTrackingAdProgress:function(playerId,dataObj){},onTrackingAdCountdown:function(playerId,dataObj){},onTrackingAdClick:function(playerId,dataObj){},onTrackingContentPlay:function(playerId,dataObj){},onTrackingContentBegin:function(playerId,dataObj){},onTrackingContentProgress:function(playerId,dataObj){},onTrackingContentComplete:function(playerId,dataObj){},onTrackingContentReplay:function(playerId,dataObj){},onTrackingContentSegmentPlay:function(playerId,dataObj){},onTrackingContentSegmentComplete:function(playerId,dataObj){},onTrackingFullscreen:function(playerId,dataObj){},onTrackingMuted:function(playerId,dataObj){},onTrackingPaused:function(playerId,dataObj){}};
function _init(){if(!VideoPlayer.utils.canPlayFlash()&&!VideoPlayer.utils.canPlayHTML5()){return;}_self.canPlay=true;_self.play_list.load(_self.temp_list);_player={id:_self.id,width:_self.playerWidth,height:_self.playerHeight,playerType:VideoPlayer.utils.getBestPlayer(),flashVars:{context:(VideoPlayerManager.ispreview)?"preview":_self.profile,autostart:((navigator.userAgent.match(/ipad/i)!=null)||(!_self.has_poster&&!_self.autoplay)||(_self.profile==="twitter"))?"off":"on",site:"cnnmoney",profile:_self.flashVarsProfile},embed:{containerSwf:VideoPlayer.utils.getContainerPath(),expressInstallSwf:"/.element/apps/cvp2/assets/expressInstall.swf",options:{quality:"high",bgcolor:"#000000",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}}};if(_self.freewheelJsUrl!=""){_player.freewheelJsUrl=_self.freewheelJsUrl;}var playercallbacks=default_callbacks;for(var c in _self.callbacks){playercallbacks[c]=_self.callbacks[c];}for(var c in playercallbacks){_player[c]=playercallbacks[c];}_self.contentpage.cnnOmniture_prop14=null;_self.contentpage.cnnOmniture_prop19=null;_self.contentpage.cnnOmniture_prop17=null;_self.contentpage.cnnOmniture_prop24=null;_self.registerCallouts(_self.initial_callouts);}this.init=function(){_player=new CVP(_player);try{AmazonDirectMatchBuy.init();}catch(e){console.log("Error while embedding. AmazonDirectMatchBuy = "+AmazonDirectMatchBuy);}setTimeout(function(){_self.embed();},250);};this.loadplaylist=function(){if(this.playlistloaded){return;}if(this.auto_playlist){if(this.defaultSection==null&&(this.profile=="story"||this.profile=="wp_blogs")){var firstVideoId=this.play_list.getFirstItemId();var playlistItem=this.play_list.getItem(firstVideoId);var branding=(playlistItem.branding!==undefined)?playlistItem.branding:"";var category=(playlistItem.category!==undefined)?playlistItem.category:"";this.defaultSection=VideoPlayer.utils.getDefaultSection(branding,category);}if(this.defaultSection!=null){VideoPlayer.utils.getPayload(this.defaultSection,true,"xml","defaultplaylist",{success:function(reqId,data,textStatus,jqXHR){var playlist=[];var $xmldata=jQuery(data);var $video=$xmldata.find("video");for(i=0;i<$video.length;i++){var videoId=$video.eq(i).find("id").text();var headline=$video.eq(i).find("headline").text();var dek=$video.eq(i).find("description").text();if(videoId!=""&&headline!=""){if("/"!=videoId.charAt(0)){videoId="/"+videoId;}playlist.push({"id":videoId,"hed":headline,"dek":dek});}}_self.play_list.append(playlist);},error:function(reqId,jqXHR,textStatus,errorThrown){}});}}this.playlistloaded=true;};this.mute=function(){try{_player.mute();}catch(e){}};this.resizeTo=function(width,height){try{document.getElementById(this.id).width=width;document.getElementById(this.id).height=height;_player.resize(width,height);}catch(e){VideoPlayer.utils.log("Error trying to resize to "+width+"x"+height+" - "+e);}};this.hideSlates=function(){if(!this.disableNextUpSlate){this.nextUpSlate.hide();}if(!this.disableEndSlate){this.endSlate.hide();}};this.setplayerElems=function(){var player_holderid="cnnplayer_"+this.id;var cvpplayerobject=document.getElementById(this.id);var parent=cvpplayerobject.parentNode;var traversals=0;do{parent=parent.parentNode;traversals++;}while(parent.className.match("cnnplayer")==null&&traversals<4);parent.setAttribute("id",player_holderid);if(this.playerWidth<560&&this.playerWidth>=420){parent.className=parent.className+" medium-player";}else{if(this.playerWidth<420){parent.className=parent.className+" small-player";}}this.player_elem=parent;this.hed_elem=document.querySelector("."+this.hedClass);this.dek_elem=document.querySelector("."+this.dekClass);this.countdown_elem=document.querySelector("."+this.countdownClass);this.byline_elem=document.querySelector("."+this.bylineClass);try{var playerParent=document.getElementById(this.id).parentNode;if(!this.disableEndSlate){this.endSlate=new VideoPlayerSlate({targetNode:playerParent,playerId:_self.id,type:VideoPlayerSlate.TYPES.END,clickTarget:_self.slateClickTarget});}if(!this.disableNextUpSlate){this.nextUpSlate=new VideoPlayerSlate({targetNode:playerParent,playerId:_self.id,type:VideoPlayerSlate.TYPES.NEXTUP,clickTarget:_self.slateClickTarget,onCountdownComplete:function(){try{_self.playNext();}catch(e){VideoPlayer.utils.log("Error trying to call next video. - "+e.message);}}});}}catch(e){VideoPlayer.utils.log("Error creating slates. "+e.message);}};this.unmute=function(){try{_player.unmute();}catch(e){}};this.updateexternalitems=function(vidjson){vidjson=vidjson||{};var vid=vidjson["id"];var hed=(typeof(vidjson.headline)!="undefined")?vidjson.headline:"";var dek=(typeof(vidjson.description)!="undefined")?vidjson.description:"";var producer="";var producer_tw="";var producer_icon="";var producer_url="";var producerImg_elem=document.getElementById("js-byline-icon");var shareBylineContainer_Elem=document.getElementById("js-share-byline-timestamp");var byline_html="";var producerIcon_html="";var shareimageNode={};var shareimage="";if(""!=hed){if(null!=this.hed_elem){this.hed_elem.innerHTML=hed;}if(null!=this.dek_elem){this.dek_elem.innerHTML=dek;}}if(null!=this.byline_elem){if(typeof(vidjson.producer)!="undefined"){if(typeof(vidjson.producer.name)!="undefined"){producer=(typeof(vidjson.producer.name.text)!="undefined")?vidjson.producer.name.text:producer;producer_tw=(typeof(vidjson.producer.name["twitterhandle"])!="undefined")?vidjson.producer.name["twitterhandle"]:producer_tw;producer_icon=(typeof(vidjson.producer.name["icon"])!="undefined")?vidjson.producer.name["icon"]:producer_icon;producer_url=(typeof(vidjson.producer.name["url"])!="undefined")?vidjson.producer.name["url"]:producer_url;}else{if(typeof(vidjson.producer[0])!="undefined"&&typeof(vidjson.producer[0].name)!="undefined"){producer=(typeof(vidjson.producer[0].name.text)!="undefined")?vidjson.producer[0].name.text:producer;producer_tw=(typeof(vidjson.producer[0].name["twitterhandle"])!="undefined")?vidjson.producer[0].name["twitterhandle"]:producer_tw;}}}var byline_html=producer;if(""!=producer){if(""!=producer_icon){producerIcon_html='<img src="'+producer_icon+'" class="byline-icon" height="55" width="55" />';}if(""!=producer_url){byline_html='<a href="'+producer_url+'">'+byline_html+"</a>";producerIcon_html='<a href="'+producer_url+'">'+producerIcon_html+"</a>";}byline_html='<span class="byline">by '+byline_html+"</span>";if(""!=producer_tw){byline_html+='&nbsp; <a href="https://twitter.com/intent/user?screen_name='+producer_tw+'" class="soc-twtname">@'+producer_tw+"</a>";}shareBylineContainer_Elem.className=shareBylineContainer_Elem.className.replace(/ byline--none/g,"");}else{shareBylineContainer_Elem.className+=" byline--none";}producerImg_elem.innerHTML=producerIcon_html;this.byline_elem.innerHTML=byline_html;}if(this.profile=="videoclip"){if(vidjson.images!==undefined){shareimageNode=vidjson.images[15]||vidjson.images[10]||vidjson.images[5]||vidjson.images[0]||shareimageNode;if(shareimageNode.image!==undefined){shareimage=shareimageNode.image.text||shareimage;}}var sharevid=vid.replace("/video/","video/");try{cnnUpdateShareWidget({"video_id":sharevid,"title":hed,"image":shareimage});}catch(e){}}};this.adcountdown_start=function(duration){var playerclass=this.player_elem.className;playerclass+=" showcountdown";this.player_elem.className=playerclass;_self.countdown_elem.innerHTML="Your video will play in "+VideoPlayer.utils.time_tostring(duration);};this.adTimeUpdate=function(){if(!_self.videoDOMEl.seeking){_self.supposedCurrentTime=_self.videoDOMEl.currentTime;}};this.adSeeking=function(){var delta=_self.videoDOMEl.currentTime-_self.supposedCurrentTime;if(Math.abs(delta)>0.01){console.log("Seeking is disabled");_self.videoDOMEl.currentTime=_self.supposedCurrentTime;}};this.onAdSeek=function(){_self.videoDOMEl.addEventListener("timeupdate",_self.adTimeUpdate);_self.videoDOMEl.addEventListener("seeking",_self.adSeeking);};this.onAdSeek_remove=function(){_self.videoDOMEl.removeEventListener("timeupdate",_self.adTimeUpdate);
_self.videoDOMEl.removeEventListener("seeking",_self.adSeeking);};this.adcountdown_update=function(duration){if((isNaN(duration)||this.isHTML5)&&_self.isAdPlaying!=true){return;}_self.countdown_elem.innerHTML="Your video will play in "+VideoPlayer.utils.time_tostring(duration);};this.adcountdown_remove=function(){try{_self.countdown_elem.innerHTML="";var playerclass=this.player_elem.className;playerclass=playerclass.replace(" showcountdown","");_self.player_elem.className=playerclass;}catch(e){console.log("Error trying to remove countdown - "+e);}};this.setHTML5flag=function(){if(_player.getPlayerType()=="html5"){this.isHTML5=true;}else{this.isHTML5=false;}};this.embed=function(){_player.embed(this.playerDivId);};this.embedNeedsFlash=function(){try{var s='<a href="http://get.adobe.com/flashplayer/" target="_blank"><img src="http://i2.cdn.turner.com/money/.element/img/4.0/video/no_flash/620x384_no_flash.gif" width="'+this.playerWidth+'" height="'+this.playerHeight+'" alt="" border="0"></a>';var elem=document.getElementById(this.playerDivId).parentNode;if(elem){elem.innerHTML=s;}}catch(e){VideoPlayer.utils.log("could not embed flash message - "+e);}};this.registerCallouts=function(callouts){if(typeof(callouts.onCVPReady)==="function"){this.callouts.onCVPReady.push(callouts.onCVPReady);}if(typeof(callouts.onContentBegin)==="function"){this.callouts.onContentBegin.push(callouts.onContentBegin);}if(typeof(callouts.onContentPause)==="function"){this.callouts.onContentPause.push(callouts.onContentPause);}if(typeof(callouts.onContentEnd)==="function"){this.callouts.onContentEnd.push(callouts.onContentEnd);}if(typeof(callouts.onContentPlayhead)==="function"){this.callouts.onContentPlayhead.push(callouts.onContentPlayhead);}};this.pause=function(autoPaused){try{this.autoPaused=(typeof(autoPaused)=="boolean")?autoPaused:false;_player.pause();}catch(e){VideoPlayer.utils.log("Error trying to pause. - "+e);}};this.play=function(id,allowPastLimit){try{var playListItem=this.play_list.getItem(id);if(!playListItem){VideoPlayer.utils.log("Cannot play "+id+" - Not found in playlist.");return;}}catch(e){VideoPlayer.utils.log("Error accessing playlist in VideoPlayer.play(); - "+e);return;}try{this.play_list.setPointer(id,allowPastLimit);var profile=_player.getContext();var ssid=this.ssid||VideoPlayerAds.get_ssid(profile,id,this.contentpage,playListItem);var isSurging=this.contentpage.CNNMONEY.adTargets.surge||false;if(profile==="story"&&this.play_list.pointer==0&&isSurging==="true"){ssid="cnnmoney.com_surge_t1";}else{if(this.play_list.pointer==0&&isSurging==="true"){ssid="cnnmoney.com_surge_archive";}}if(""!=ssid){_player.setAdSection(ssid);}_player.setAdKeyValue("refdom",VideoPlayerAds.get_refdom_value());try{var pconidValues=this.contentpage.proximicData||[];for(var i=0;i<pconidValues.length;i++){_player.setAdKeyValue(pconidValues[i],"pconid");}}catch(e){console.log("Cannot load proximic data - "+e);}if(this.play_list.getCurrentItemId()===id){console.log("Playing video "+id+".\nItem "+(this.play_list.getIndex(id)+1)+" from the playlist.");setTimeout(function(){_player.play(id);},100);}try{if(profile!="videoclip"){_vrtrack({track_url:"http://money.cnn.com"+id});}else{if(profile=="videoclip"&&this.play_list.getFirstItemId()!=this.play_list.getCurrentItemId()){_vrtrack({track_url:"http://money.cnn.com"+id});}}}catch(e){VideoPlayer.utils.log("Error in firing _vrtrack \nid="+id+"\n\n"+e.message);}}catch(e){VideoPlayer.utils.log("Error in VideoPlayer.play()\nid="+id+"\n\n"+e.message);}};this.registerOnVideoClickHandler=function(){_self.videoDOMEl.addEventListener("click",function(){if(_player.isPaused()){_player.resume();}else{_player.pause();}});};this.playNext=function(){if(this.play_list.hasMoreItems()){this.play_list.nextItem();var nextVideoId=this.play_list.getCurrentItemId();this.play(nextVideoId);}else{if(this.play_list.getNumItems()>0){try{this.showSlate();}catch(e){}}}};this.handleContentError=function(type,playerId,contentId,errorMessage){switch(type){case"onContentError":case"onContentEntryLoadError":VideoPlayer.utils.log(type+" - "+contentId+" - "+errorMessage);this.play_list.remove(contentId);if(this.play_list.hasMoreItems()){this.playNext();}else{try{this.showSlate();}catch(e){}}break;default:break;}};this.showSlate=function(){if(!this.play_list.hasMoreItems()&&this.play_list.mode!==VideoPlaylist.MODES.REPEAT){if(!this.disableNextUpSlate){this.nextUpSlate.hide();}if(!this.disableEndSlate){this.endSlate.show(this.play_list);return true;}return false;}else{if(!this.disableEndSlate){this.endSlate.hide();}if(!this.disableNextUpSlate){this.nextUpSlate.show(this.play_list);return true;}return false;}return false;};this.replay=function(){try{_player.replay();}catch(e){var playlistItemId=this.play_list.getCurrentItemId();this.isReplay=true;this.trackingcontext="main";_player.switchTrackingContext(this.trackingcontext);this.play(playlistItemId);}};this.resume=function(autoResume){try{if(!_player.isPaused){VideoPlayer.utils.log("player.resume() - Player is not paused.");}if(this.autoPaused===true||autoResume===true){_player.resume();this.autoPaused=false;}else{VideoPlayer.utils.log("Cannot resume playback. Player is not autoPaused.");}}catch(e){VideoPlayer.utils.log("Error trying to resume playback. - "+e.message);}};this.getCurrentPlayTime=function(){return parseInt(_player.getPlayhead())*1000;};this.queue=function(vid){};this.emptyQueue=function(){};this.seek=function(sec){};_init();}VideoPlayer.utils={isSecure:(location.protocol==="https:")?true:false,canPlayFlash:function(){if(typeof CVP.swfobject=="object"&&CVP.swfobject.hasFlashPlayerVersion("9.0")){return true;}return false;},canPlayHTML5:function(){var b=false;try{var a=document.createElement("video");if(a.canPlayType&&a.canPlayType("video/mp4").replace(/no/,"")){b=true;}a=null;}catch(c){b=false;}return b;},getBestPlayer:function(){var a=window.navigator.userAgent;if(a.indexOf("MSIE ")===-1&&a.indexOf("Trident/")===-1&&a.indexOf("Edge/")===-1){return"html5";}else{return"flash";}},getContainerPath:function(){var a={dev:"/.element/apps/cvp2/assets/cvp_main_container.swf",pro:"http://i.cdn.turner.com/money/.element/apps/cvp2/assets/cvp_main_container.swf",pro_secure:"https://s.cdn.turner.com/money/.element/apps/cvp2/assets/cvp_main_container.swf"};var b=a["pro"];switch(location.hostname){case"money.cnn.com":b=a["pro"];break;case"secure.money.cnn.com":b=a["pro_secure"];break;default:b=a["dev"];break;}return b;},getDefaultSection:function(b,e){var d="/.element/ssi/auto/4.0/video/xml/latest.xml";var a=["fortune","luxury","markets","moneymag","news","pf","smallbusiness","technology","luxury","media"];if(b!=""){d="/.element/ssi/auto/4.0/video/xml/branding/"+b+".xml";}else{for(var c=0;c<a.length;c++){if(a[c]==e){d="/.element/ssi/auto/4.0/video/xml/"+e+".xml";break;}}}return d;},getPosterImage:function(g,a){var m=((VideoPlayer.utils.isSecure)?"https://s.":"http://i2.")+"cdn.turner.com/money/.element/img/4.0/video/default_thumbs/cnnmoney.620x348.jpg";for(var l in g){if(l.indexOf(a+"x")===0){var f=new Image();f.src=g[l];return f;}}var b="";var c="";for(var l in g){var d=l.split("x");var j=d[0];var e=d[1];if(j<=a){b=g[l];}if(j>=a){c=g[l];break;}}var f=new Image();if(c!==""){f.src=c;}else{if(b!==""){f.src=b;}else{f.src=m;}}return f;},getImages:function(c,g){if(g===undefined){var g=["160x90","576x324","620x348","1024x576","1280x720"];}var a={};for(var e=0;e<c.length;e++){for(var f=0;f<g.length;f++){var h=g[f].split("x");var b=h[0];var d=jQuery(c[e]);if(d.text().match(g[f])||d.attr("width")==b){a[g[f]]=(VideoPlayer.utils.isSecure)?d.text().replace("http://i2.","https://s."):d.text();}}}return a;},getPayload:function(d,b,a,e,c){d=d.replace("4.0video","4.0/video");d=d.replace("4.0//video","4.0/video");jQuery.ajax({reqId:e,async:b,dataType:a,url:d,success:function(g,h,f){if(typeof(c.success)=="function"){c.success(this.reqId,g,h,f);}},error:function(f,h,g){if(typeof(c.error)=="function"){c.error(this.reqId,f,h,g);}}});},log:function(a){try{console.log(a);
}catch(b){}},warn:function(a){try{console.warn(a);}catch(b){}},secureHost:function(a){if(a.indexOf("http://ht.cdn.turner.com/money/big/ads/")===0){a=a.replace("http://ht.cdn.turner.com/money/big/ads/","https://secure.money.cnn.com/big/ads/");}a=a.replace(/http:/g,"https:");a=a.replace(/http\%/g,"https%");return a;},time_tostring:function(b){var c="";var b=Math.round(b);var a=Math.floor(b/3600);var d=Math.floor((b-(a*3600))/60);var e=b-(a*3600)-(d*60);if(a>0){if(a<10){c+="0";}c+=a;}if(d>0){c+=":";if(d<10){c+="0";}c+=d;}else{c+="00";}c+=":";if(e<10){c+="0";}c+=e;return c;}};function VideoPlaylist(b,d){var a=this;this.list=[];this.pointer=-1;this.limit=b||7;this.endOfList=true;this.mode=d||"normal";function c(h){var l=[];for(var f=0;f<h.length;f++){if(h[f].id===undefined){continue;}if("/"!=h[f].id.charAt(0)){h[f].id="/"+h[f].id;}l[f]=h[f].id;}var m=[];m.push(h[0]);for(var f=1;f<l.length;f++){var g=false;for(var e=0;e<m.length;e++){if(l[f].match(m[e].id)||m[e].id.match(l[f])){g=true;break;}}if(g==false){m.push(h[f]);}}return m;}this.append=function(h){try{if(h.length===undefined){return;}var g=c(h);if(g.length==0){return;}for(var f=0;f<g.length;f++){this.list.push(g[f]);}var l=c(this.list);this.list=l;this.loadPlaylistItemData();this.updateEndOfListFlag();}catch(j){console.log("VideoPlaylist could not append new list - "+j);}};this.getCurrentItem=function(){if(this.list[this.pointer]){return this.list[this.pointer];}return null;};this.getCurrentItemId=function(){if(this.list[this.pointer]){return this.list[this.pointer].id;}return"";};this.getFirstItemId=function(){if(this.list.length>0){return this.list[0].id;}return"";};this.getIndex=function(f){for(var e=0;e<this.list.length;e++){if(this.list[e].id==f){return e;}}return null;};this.getItem=function(g){for(var e=0;e<this.list.length;e++){var f=this.list[e].id;if(f===g){return this.list[e];}}return null;};this.getItemsInRange=function(h,g){var f=[];if(h<0){throw new Error("Out of range exception. Cannot access playlist in position "+startIdex);}for(var e=h;e<=g||e>=this.list.length;e++){if(e>=this.list.length){break;}if(this.list[e]){f.push(this.list[e]);}}return f;};this.getLastItemId=function(){if(this.list[this.list.length-1]){return this.list[this.list.length-1].id;}return"";};this.getNumItems=function(){return this.list.length;};this.hasMoreItems=function(){return(!this.endOfList);};this.injectItem=function(f,e){if(f===undefined){throw new Error("Nothing to inject into playlist. Missing item parameter.");}if(e===undefined){var e=this.pointer+1;}if(e>this.list.length-1){e=this.list.length-1;}if(e==-1){e=0;}this.list.splice(e,0,f);var g=c(this.list);this.list=g;this.loadPlaylistItemData(false);this.updateEndOfListFlag();};this.load=function(e){if(e.length===undefined){throw new Error("Missing Array parameter");}var f=c(e);if(f.length==0){throw new Error("Playlist resulted in 0 valid entries.");}this.list=f;this.resetPointer();this.loadPlaylistItemData(false);this.updateEndOfListFlag();};this.loadPlaylistItemData=function(f){if(f===undefined){var f=true;}var h={success:function(s,q,o,t){var r=a.getIndex(s);var l=jQuery(q);if(l[0].firstChild.nodeName==="html"){q=t.responseText.replace(" <?xml","<?xml");q=jQuery.parseXML(q);l=jQuery(q);}var p=l.find("video > images > image");var j=l.find("video > files > file");var m=l.find("video > closedCaptions > source")||[];a.list[r].category=l.find("video > category").text();a.list[r].section=l.find("video > section").text();a.list[r].registryPath=l.find("video > registryPath").text();a.list[r].branding=l.find("video > branding").text();a.list[r].source=l.find("video > source").text();a.list[r].adSensitive=l.find("video > isAdSensitive").text();a.list[r].headline=a.list[r].hed=l.find("video > headline").text();a.list[r].jqFiles=j;a.list[r].jqImages=p;a.list[r].collection=(typeof(a.list[r].collection)=="undefined"||a.list[r].collection=="")?"no video collection":a.list[r].collection;a.list[r].hasCC=(m.length>0)?true:false;a.list[r].images=VideoPlayer.utils.getImages(p);a.list[r].poster=a.list[r].img=VideoPlayer.utils.getPosterImage(a.list[r].images,"620");a.list[r].thumb=VideoPlayer.utils.getPosterImage(a.list[r].images,"160");a.list[r]._dataComplete="success";if(a.list[r].headline===""){}},error:function(m,j,o,l){a.remove(m);}};for(var e=0;e<this.list.length;e++){if(this.list[e]._dataComplete===undefined){if(this.list[e].id.indexOf("/presenter")==0){var g=this.list[e].id+".xml";}else{var g="/video/data/4.0"+this.list[e].id+".xml";}this.list[e]._dataComplete="";VideoPlayer.utils.getPayload(g,f,"xml",this.list[e].id,h);}}};this.prevItem=function(){if(this.pointer!=-1){this.pointer--;this.updateEndOfListFlag();}};this.nextItem=function(){if(this.hasMoreItems()){this.pointer++;this.updateEndOfListFlag();}};this.remove=function(f){var e=this.getIndex(f);this.list.splice(e,1);if(e==this.pointer&&(e!=0&&this.list.length>0)){this.pointer--;}this.updateEndOfListFlag();};this.resetPointer=function(){this.pointer=-1;this.updateEndOfListFlag();};this.updateEndOfListFlag=function(){this.endOfList=(this.pointer>=(this.list.length-1)||(this.pointer>=this.limit-1));};this.setLimit=function(e){this.limit=e;this.updateEndOfListFlag();};this.setPointer=function(g,e){if(e===undefined){var e=false;}var f=this.getIndex(g);if(f==null){throw new Error("Cannot set pointer to id - "+g+". Item not found.");}if(e===false&&f>=this.limit){throw new Error("Cannot set pointer to playlist-item past the limit of "+this.limit);}if(e===true&&f>=this.limit){this.limit=f+1;}this.pointer=f;this.updateEndOfListFlag();};}VideoPlaylist.MODES={NORMAL:0,REPEAT:1};function VideoPlayerSlate(b){if(b===undefined){throw new Error("Missing required parameter to create VideoPlayerSlate object.");}if(b.targetNode===undefined||b.playerId===undefined){throw new Error("Missing required parameter to create VideoPlayerSlate object.");}var a=this;this.type=(b.type!==undefined)?b.type:VideoPlayerSlate.TYPES.END;this.rootNode=b.targetNode;this.playerId=b.playerId;this.id=this.playerId+"_"+this.type+"Slate";this.clickTarget=b.clickTarget||"top";this.seconds=b.seconds||5;this.onCountdownComplete=b.onCountdownComplete||null;this.onCountdownPause=b.onCountdownPause||null;function c(){var d=document.createElement("div");d.id=a.id;d.className=(a.type===VideoPlayerSlate.TYPES.NEXTUP)?"video-posterboard nextup-slate":"video-posterboard end-slate";a.rootNode.appendChild(d);a.buildUI();}this.countdown={isRunning:false,isStopped:false,isPaused:false,intervalId:null,start:function(){if(this.isRunning){console.log("Cannot start the same counter while its running...");return;}this.isRunning=true;this.isStopped=false;var e=0;var d=jQuery("div#"+a.id+" .video-slate-countdown");d.html("0"+a.seconds);this.intervalId=setInterval(function(){if(!a.countdown.isPaused){e++;d.html("0"+(a.seconds-e));}if(e>=a.seconds||a.countdown.isStopped){window.clearInterval(a.countdown.intervalId);a.countdown.complete();}},1000);},pause:function(){this.isPaused=!this.isPaused;if(typeof(a.onCountdownPause)==="function"){a.onCountdownPause(this.isPaused);}},stop:function(){this.isStopped=true;},complete:function(){this.isRunning=false;if(this.isStopped){return;}if(typeof(a.onCountdownComplete)==="function"){a.onCountdownComplete();}}};this.show=function(f){if(this.type===VideoPlayerSlate.TYPES.NEXTUP){var l=f.pointer+1;var g=f.list[l];if(!g){g={};}var d=g.id||"";var m=g.poster||{};var e=g.hed||"";var h=f.getItemsInRange(l+1,l+4);this.buildUI();this.runTemplate({id:d,title:e,poster:m,list:h});jQuery("div#"+this.id).show();this.countdown.start();return;}if(this.type===VideoPlayerSlate.TYPES.END){var g=f.getCurrentItem();var d=g.id||"";var m=g.poster||{};var h=f.getItemsInRange(f.pointer+1,f.pointer+4);if(h.length<3){var j=3-h.length;var o=f.getItemsInRange(1,j);h=h.concat(o);}this.runTemplate({id:d,poster:m,list:h});jQuery("div#"+this.id).show();return;}};this.hide=function(){jQuery("div#"+this.id).hide();};this.replay=function(){console.log("In replay handler");
};this.buildUI=function(){var e="_top";var d="";d+='<div class="video-slate-wrapper">';d+='<div class="video-bg">';d+='<div class="mask"></div>';d+='<img src="" alt="" width="620" height="348">';d+="</div>";d+='<div class="video-slate-content">';if(this.type==VideoPlayerSlate.TYPES.NEXTUP){d+='	<div class="video-slate-header">';d+='		<div class="video-slate-countdown"></div>';d+='		<div class="video-title-wrapper">';d+='			<span class="video-nextup">Next up:</span>';d+='			<span class="video-title"></span>';d+="		</div>";d+="	</div>";}d+='	<div class="video-thumbnails-wrapper">';d+='		<a class="video-thumbnail first" href="/" target="'+e+'">';d+='			<img src="" alt="" width="160" height="90">';d+='			<div class="video-thumbnail-caption"></div>';d+="		</a>";d+='		<a class="video-thumbnail second" href="/" target="'+e+'">';d+='			<img src="" alt="" width="160" height="90">';d+='			<div class="video-thumbnail-caption"></div>';d+="		</a>";d+='		<a class="video-thumbnail third" href="/" target="'+e+'">';d+='			<img src="" alt="" width="160" height="90">';d+='			<div class="video-thumbnail-caption"></div>';d+="		</a>";d+='	 	<div class="clearFloat"></div>';d+="	</div>";d+='	<div data-playerid="'+this.playerId+'" class="replay">Replay</div>';d+="</div>";d+="</div>";jQuery("#"+this.id).html(d);jQuery("#"+this.id+" > .video-slate-wrapper > .video-slate-content > .replay").click(function(){var f=this.dataset["playerid"];VideoPlayerManager.getPlayer(f).replay();a.countdown.stop();});};this.runTemplate=function(d){if(d===undefined){var d={};}var g=(d.title!==undefined)?d.title:"",h=(d.poster!==undefined)?d.poster:"",f=(d.list!==undefined)?d.list:[],e="";if(this.type==VideoPlayerSlate.TYPES.NEXTUP){jQuery("#"+this.id+" > .video-slate-wrapper > .video-slate-content > div.video-slate-header .video-title").text(g);}jQuery("#"+this.id+" > .video-slate-wrapper > .video-bg > img").replaceWith(h);jQuery("#"+this.id+" > .video-slate-wrapper > .video-slate-content > .video-thumbnails-wrapper a.video-thumbnail").each(function(l){var j=jQuery(this);if(f[l]){j.find("img").attr("src",(f[l].thumb.src||""));j.find(".video-thumbnail-caption").text(f[l].hed);j.attr("href",f[l].id);if(a.clickTarget==="player"){j.click(function(m){m.preventDefault();VideoPlayerManager.getPlayer(a.playerId).play(f[l].id,true);});}j.show();}else{j.hide();}});};c();}VideoPlayerSlate.TYPES={NEXTUP:"nextup",PAUSE:"pause",END:"end"};var VideoPlayerAds={page_target:window,pagebranding:"",pagesection:"",get_refdom_value:function(){var a="other";if(CNNMONEY.adTargets.refdom=="cnn"||CNNMONEY.adTargets.refdom=="money"){a=CNNMONEY.adTargets.refdom;}return a;},get_ssid:function(e,d,c,b){if(null!=c){this.page_target=c;}var h="";switch(e){case"generic":h=this.get_story_ssid();break;case"story":h=this.get_story_ssid();break;case"interactive":h=this.get_story_ssid();break;case"wp_blogs":h=this.get_blogstory_ssid();break;case"gallerySmall":case"galleryLarge":case"galleryExtraLarge":case"videoclip":case"section":case"sectionLarge":var f=b.branding;var g=b.category;var a=b.source;h=this.get_bvp_ssid(f,g,a);break;case"homepage":case"markets":h=this.get_smallplayer_ssid();break;default:break;}return h;},_get_story_section:function(){var e=location.pathname;var c=e.split("/");var b=[];var d="";for(var a=0;a<c.length-2;a++){if(isNaN(parseInt(c[a],10))&&c[a]!=""){b.push(c[a]);}}for(var a=0;a<b.length;a++){d+=b[a];if(a<b.length-1){d+="/";}}if(this.page_target.cnnSource=="FORT"){d="fortune_"+d;}return d;},_get_page_branding:function(){if(typeof(this.page_target.cnnBrandingValue)=="undefined"){return"";}if(this.page_target.cnnBrandingValue==""){return"";}return this.page_target.cnnBrandingValue;},set_branding:function(a){this.pagebranding=a;},set_section:function(a){this.pagesection=a;},get_story_ssid:function(){var b=(""!=this.pagebranding)?this.pagebranding:this._get_page_branding();var d=(""!=this.pagesection)?this.pagesection:this._get_story_section();var a=cnnStoryAdSections[b];var c=cnnStoryAdSections[d];if(a!=null){return a;}if(c!=null){return c;}if(this.page_target.cnnSource=="FORT"){d="fortune_technology";}else{d="news";}return cnnStoryAdSections[d];},get_blogstory_ssid:function(){var b=(""!=this.pagebranding)?this.pagebranding:this._get_page_branding();var d=(""!=this.pagesection)?this.pagesection:this._get_story_section();var a=cnnStoryAdSections[b];var c=cnnStoryAdSections[d];if(a!=null){return a;}if(c!=null){return c;}if(typeof(cnnStoryAdSections[blogname])!="undefined"){return cnnStoryAdSections[blogname];}return cnnStoryAdSections[d];},get_bvp_ssid:function(c,e,d){var b=this._get_page_branding();var a=cnnBVPAdSections[b];if(a!=null){return a;}if(typeof(cnnBVPAdSections[c])!="undefined"){return cnnBVPAdSections[c];}if(d.toLowerCase()=="fortune"){if(typeof(cnnBVPAdSections["fortune_"+e])!="undefined"){return cnnBVPAdSections["fortune_"+e];}return cnnBVPAdSections["fortune_technology"];}if(typeof(cnnBVPAdSections[e])!="undefined"){return cnnBVPAdSections[e];}return cnnBVPAdSections["news"];},get_smallplayer_ssid:function(){var a="cnnmoney.com_homepage";var b=location.pathname;if(b=="/smallbusiness/"||b.match("/smallbusiness/index.html")){a="cnnmoney.com_smallbusiness_sectionhomepage";}else{if(b=="/magazines/fortune/"||b.match("/magazines/fortune/index.html")){a="fortune.com_homepage";}else{if(b.match("data/premarket")){a="cnnmoney.com_premarkets";}else{if(b.match("data/afterhours")){a="cnnmoney.com_afterhours";}}}}return a;}};var adaptiveVideoPage=(function(){var c=null,h=null,r=null,o=null,u=null,j=null,b=1064,a=580,m="small-player",q=false,d=true,g=true;function s(){var v=false;(function(w){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(w)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(w.substr(0,4))){v=true;}})(navigator.userAgent||navigator.vendor||window.opera);return v;}function l(){var w=document.body||document.documentElement,A=w.style,B="transition";if(typeof A[B]=="string"){return true;}var y=["Moz","webkit","Webkit","Khtml","O","ms"];B=B.charAt(0).toUpperCase()+B.substr(1);for(var z=0;z<y.length;z++){if(typeof A[y[z]+B]=="string"){return true;}}return false;}function f(){if(q){c.removeClass(m);
}else{o.t=setTimeout((function(){o.animate({"width":"1024px"},500,"linear");}),400);r.t=setTimeout((function(){r.animate({"height":"576px"},500,"linear");}),400);clearTimeout(h.t);h.animate({"margin-top":"0px"},500,"linear");clearTimeout(u.t);u.animate({"height":"0px"},500,"linear");}}function e(){if(q){c.addClass(m);}else{j.css("position","absolute");clearTimeout(o.t);o.animate({"width":"620px"},500,"linear");clearTimeout(r.t);r.animate({"height":"348px"},500,"linear");h.t=setTimeout((function(){h.animate({"margin-top":"-372px"},500,"linear",function(){j.css("position","relative");});}),400);u.t=setTimeout((function(){u.animate({"height":"372px"},500,"linear");}),400);}}function p(){c=jQuery("#cnnBody");h=c.find(".cnnCol_side");j=c.find(".cnnCol_main");h.prepend('<div class="responsive-border"></div>');u=h.find(".responsive-border");r=c.find(".cnnplayer");o=c.find(".cnnRow");}function t(){jQuery(window).resize(function(){var y=jQuery(this),v=y.width(),w=y.height();if(v<=b||w<=a){if(d){e();VideoPlayerManager.getPlayer().resizeTo(697,392);d=false;}}else{if(!d){f();VideoPlayerManager.getPlayer().resizeTo(1024,576);d=true;}}});}return{init:function(){if(typeof disableAdaptiveVideoPage!=="undefined"){if(disableAdaptiveVideoPage==true){g=false;}}if(g&&!s()){p();q=l();t();jQuery(window).trigger("resize");}}};})();