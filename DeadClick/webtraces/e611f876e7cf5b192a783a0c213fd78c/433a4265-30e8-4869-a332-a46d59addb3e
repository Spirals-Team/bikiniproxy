webpackJsonp([26,32,33,42,48,50,52],[,function(t,e,i){"use strict";(function(t){function o(t,e){a.call(this),this._linetool=t,this._pointindex=e,this._model=t._model,this._text="",this._coordinate=0,this._background="#5592C9",this._activeBackground="#0F6DBF",this._borderColor="#2E84A6",this._color="white",this._visible=!1,this._invalidated=!0,this._renderer=new l}function n(t,e){var i,r,s;if(c.call(this),this._model=t,this._properties=e,this._pointAdded=new g,this._pointChanged=new g,this._onRestoringFactoryDefaults=new g,this._onTemplateApplying=new g,this._onTemplateApplied=new g,e.visible&&e.frozen||this._properties.merge(defaults("linetool")),i=defaults("linetoolvisibilities"),e.intervalsVisibilities)for(r in i.intervalsVisibilities)this._properties.intervalsVisibilities[r]||this._properties.intervalsVisibilities.addProperty(r,i.intervalsVisibilities[r]);else this._properties.merge(i);if(this._paneViews=[],this._points=[],this._fixedPoints=[],this._timePoint=[],this._currentPointsetId=null,this._properties.symbol||this._properties.merge({symbol:t.mainSeries().symbol()}),this._properties.interval||this._properties.merge({interval:t.mainSeries().interval()}),this._properties.addExclusion&&(this._properties.addExclusion("symbol"),this._properties.addExclusion("symbolInfo"),this._properties.addExclusion("points"),this._properties.addExclusion("interval"),this._properties.addExclusion("visible"),this._properties.addExclusion("lastUpdateTime")),this.calcIsActualSymbol(),this._properties.intervalsVisibilities.listeners().subscribe(this,n.prototype.calcIsActualSymbol),this._properties.listeners().subscribe(this,n.prototype.propertiesChanged),this._createPointsProperties(),"_tooltipFieldsHash"in this&&!this.hasOwnProperty("_tooltipFieldsHash")&&(this._tooltipFieldsHash=$.extend(!0,{},this._tooltipFieldsHash)),this.m_priceAxisViews=[],this.m_timeAxisViews=[],this.pointsCount()>0)for(s=0;s<this.pointsCount();s++)this.m_priceAxisViews.push(this.createPriceAxisView(s)),this.m_timeAxisViews.push(new o(this,s));this._properties.visible.listeners().subscribe(this,function(t){t.value()||this._model.selectedSource()!==this||this._model.setSelectedSource(null)}),this.customization=this.customization||{forcePriceAxisLabel:!1,disableSelection:!1,disableErasing:!1,disableSave:!1,showInObjectsTree:!0},this._properties.lastUpdateTime||this._properties.addProperty("lastUpdateTime",0),this._syncStateExclusions=[]}var r=i(8).Point,s=i(278).LineToolPriceAxisView,a=i(279).TimeAxisView,l=i(280),c=i(52).DataSource,h=i(110),d=i(130).Interval,u=i(184).DateTimeFormatter,p=i(677),f=i(40),_=i(0).getLogger("Chart.LineDataSource"),g=i(4),m=i(2).propertyPages,v=i(554).lineToolsInfo,y=i(43);inherit(o,a),o.prototype.setActive=function(t){this._active=t},o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){var t,e,i;this._visible=!1,this._model.timeScale().isEmpty()||(t=this._linetool.axisPoints(),t.length<=this._pointindex||this._linetool===this._model.selectedSource()&&(this._text="",e=t[this._pointindex].index,
this._coordinate=this._model.timeScale().indexToCoordinate(e),i=this._model.timeScale().indexToUserTime(e),i&&(this._text=new u(this._model.mainSeries().isDWM()).format(i)),this._visible=!0,this._invalidated=!1))},o.prototype.renderer=function(){this._invalidated&&(this.updateImpl(),this._invalidated=!1);var t={text:this._text,coordinate:this._coordinate,color:this._color,background:this._active?this._activeBackground:this._background,borderColor:this._borderColor,visible:this._visible};return this._renderer.setData(t),this._renderer},inherit(n,c),n.prototype.pointAdded=function(){return this._pointAdded},n.prototype.pointChanged=function(){return this._pointChanged},n.PointPriceProperty=function(e,i){t.call(this),this._lineSource=e,this._pointIndex=i,e.pointAdded().subscribe(this,function(t){this._pointIndex===t&&this._listeners.fire(this)}),e.pointChanged().subscribe(this,function(t){this._pointIndex===t&&this._listeners.fire(this)})},inherit(n.PointPriceProperty,t),n.prototype.enableCurrentIntervalVisibility=function(){var t,e,i,o,n,r,s,a=d.parse(this._model.mainSeries().interval());a.kind()===d.SECONDS&&(a.multiplier()<60?(this.properties().intervalsVisibilities.seconds.setValue(!0),t=Math.min(this.properties().intervalsVisibilities.secondsFrom.value(),a.multiplier()),this.properties().intervalsVisibilities.secondsFrom.setValue(t),e=Math.max(this.properties().intervalsVisibilities.secondsTo.value(),a.multiplier()),this.properties().intervalsVisibilities.secondsTo.setValue(e)):a=new d(d.MINUTES,a.multiplier()/60)),a.kind()===d.MINUTES&&(a.multiplier()<60?(this.properties().intervalsVisibilities.minutes.setValue(!0),t=Math.min(this.properties().intervalsVisibilities.minutesFrom.value(),a.multiplier()),this.properties().intervalsVisibilities.minutesFrom.setValue(t),e=Math.max(this.properties().intervalsVisibilities.minutesTo.value(),a.multiplier()),this.properties().intervalsVisibilities.minutesTo.setValue(e)):(i=Math.floor(a.multiplier()/60),this.properties().intervalsVisibilities.hours.setValue(!0),o=Math.min(this.properties().intervalsVisibilities.hoursFrom.value(),i),this.properties().intervalsVisibilities.hoursFrom.setValue(o),n=Math.max(this.properties().intervalsVisibilities.hoursTo.value(),i),this.properties().intervalsVisibilities.hoursTo.setValue(n))),a.kind()===d.DAYS&&(this.properties().intervalsVisibilities.days.setValue(!0),r=Math.min(this.properties().intervalsVisibilities.daysFrom.value(),a.multiplier()),this.properties().intervalsVisibilities.daysFrom.setValue(r),s=Math.max(this.properties().intervalsVisibilities.daysTo.value(),a.multiplier()),this.properties().intervalsVisibilities.daysTo.setValue(s)),a.kind()===d.WEEKS&&this.properties().intervalsVisibilities.weeks.setValue(!0),a.kind()===d.MONTHS&&this.properties().intervalsVisibilities.months.setValue(!0)},n.prototype.getType=function(){return TradingView.className(this.constructor)},n.prototype.getConstructor=function(){return this._constructor||null},n.prototype.isActualSymbol=function(){return this._isActualSymbol},
n.prototype.isActualInterval=function(){return this._isActualInterval},n.prototype.isSavedInChart=function(t){return!this.customization.disableSave},n.prototype.setSavingInChartEnabled=function(t){this.customization.disableSave=!t},n.prototype.showInObjectTree=function(){return this.customization.showInObjectsTree},n.prototype.setShowInObjectsTreeEnabled=function(t){this.customization.showInObjectsTree=t},n.prototype.isSelectionEnabled=function(){return!this.customization.disableSelection},n.prototype.setSelectionEnabled=function(t){this.customization.disableSelection=!t},n.prototype.visibilityKeyByInterval=function(t){var e,i=d.parse(t);return n.IntervalsVisibilities.forEach(function(t){t.kind===i.kind()&&t.from<=i.multiplier()&&t.to>=i.multiplier()&&(e=t.key)}),e},n.prototype.calcIsActualSymbol=function(){var t,e=this._properties.symbol,i=this._model.mainSeries(),o=e.value();this._isActualSymbol=i.symbolSameAsCurrent(o),this._isActualSymbol&&(t=i.symbol(),o!==t&&(_.logWarn('Possible drawing "migrating" detected from "'+o+'" to "'+t+'"'),_.logWarn("Series symbolInfo: "+JSON.stringify(i.symbolInfo())),_.logWarn(Error().stack)),e.setValue(t)),this.calcIsActualInterval()},n.prototype.calcIsActualInterval=function(){var t,e,i,o,n=this._properties,r=this._model.mainSeries(),s=d.parse(r.interval()),a=n.intervalsVisibilities;this._isActualInterval=!1,s.kind()===d.SECONDS&&(t=a.seconds.value(),e=a.secondsFrom.value(),i=a.secondsTo.value(),this._isActualInterval=t&&s.multiplier()>=e&&s.multiplier()<=i),s.kind()===d.MINUTES&&s.multiplier()<60&&(t=a.minutes.value(),e=a.minutesFrom.value(),i=a.minutesTo.value(),this._isActualInterval=t&&s.multiplier()>=e&&s.multiplier()<=i),s.kind()===d.MINUTES&&s.multiplier()>=60&&(o=Math.floor(s.multiplier()/60),t=a.hours.value(),e=a.hoursFrom.value(),i=a.hoursTo.value(),this._isActualInterval=t&&o>=e&&o<=i),s.kind()===d.DAYS&&(t=a.days.value(),e=a.daysFrom.value(),i=a.daysTo.value(),this._isActualInterval=t&&s.multiplier()>=e&&s.multiplier()<=i),s.kind()===d.WEEKS&&(this._isActualInterval=a.weeks.value()),s.kind()===d.MONTHS&&(this._isActualInterval=a.months.value()),this._isActualInterval||this._model.selectedSource()!==this||this._model.setSelectedSource(null)},n.PointPriceProperty.prototype.value=function(){var t=this._lineSource.points()[this._pointIndex].price,e=this._lineSource.ownerSource().formatter(),i=e.parse(e.format(t));return i.price?i.price:i.value},n.PointPriceProperty.prototype.setValue=function(t){var e,i,o=this._lineSource.points()[this._pointIndex];o.price=parseFloat(t),e=this._lineSource.priceScale(),e.isPercent()&&(i=this._lineSource.ownerSource().firstValue(),o.price=e.priceRange().convertToPercent(o.price,i)),this._lineSource.setPoint(this._pointIndex,o),this._lineSource._model.updateSource(this._lineSource),this._listeners.fire(this),this._lineSource.endChanging(!0),this._lineSource._syncMultichartState(),this._lineSource._properties.lastUpdateTime.setValue((new Date).valueOf())},n.PointIndexProperty=function(e,i){t.call(this),this._lineSource=e,this._pointIndex=i},
inherit(n.PointIndexProperty,t),n.PointIndexProperty.prototype.value=function(){return this._lineSource.points()[this._pointIndex].index},n.PointIndexProperty.prototype.setValue=function(t){var e,i,o=this._lineSource.points()[this._pointIndex];o.index=t,e=this._lineSource.priceScale(),e.isPercent()&&(i=this._lineSource.ownerSource().firstValue(),o.price=e.priceRange().convertToPercent(o.price,i)),this._lineSource.setPoint(this._pointIndex,o),this._lineSource._model.updateSource(this._lineSource),this._listeners.fire(this),this._lineSource.endChanging(!0),this._lineSource._syncMultichartState(),this._lineSource._properties.lastUpdateTime.setValue((new Date).valueOf())},n.prototype._syncMultichartState=function(){var t={points:this._timePoint,interval:this._model.mainSeries().interval()};this.linkKey&&!this.properties().singleChartOnly&&h.finishChangingLineTool({model:this._model,linkKey:this.linkKey,symbol:this._model.mainSeries().symbol(),finalState:t})},n.prototype._createPointProperty=function(t){var e,i=this._properties.points;i.addProperty(t),e=i[t],e.addChild("price",new n.PointPriceProperty(this,t)),e.addChild("bar",new n.PointIndexProperty(this,t))},n.prototype._createPointsProperties=function(){this._properties.addProperty("points");for(var t=0;t<this.pointsCount();t++)this._createPointProperty(t)},n.prototype.priceScale=function(){return this._ownerSource?this._ownerSource.m_priceScale:null},n.prototype.symbol=function(){return this._properties.symbol.value()},n.prototype.properties=function(){return this._properties},n.prototype.isSavedInStudyTemplates=function(){return!1},n.prototype.state=function(t){var e=TradingView.className(this.constructor),i={type:e,id:this.id(),state:this.properties().state(),points:this._timePoint,zorder:this.zorder(),linkKey:this.linkKey};return i.state._isActualInterval=this.isActualInterval(),delete i.state.points,t&&(i.indexes=this._points),this.ownerSource()&&(i.ownerSource=this.ownerSource().id()),this.isFixed()&&(i.positionPercents=this._positionPercents||this.calcPositionPercents()),"version"in this&&1!==this.version&&(i.version=this.version),this.hasAlert.value()&&(i.alertId=this._alertId),i},n.prototype.template=function(){var t=this.properties().state();return delete t.points,delete t.symbol,delete t.symbolInfo,t},n.prototype.applyTemplate=function(t){delete t.symbolInfo,this._onTemplateApplying.fire(t);var e=this.properties();e.merge(t),e.saveDefaults(),this.propertiesChanged(),this.calcIsActualSymbol(),this.updateAllViews(),this.model().invalidate(new f(f.LIGHT_UPDATE)),this._onTemplateApplied.fire()},n.prototype.restoreFactoryDefaults=function(){this.properties().restoreFactoryDefaults(),this._onRestoringFactoryDefaults.fire(),this.model().updateSource(this)},n.prototype.clearData=function(){this._points=[]},n.prototype.currentPointsetId=function(){return"pointset_"+this._currentPointsetId},n.prototype.stop=function(){this.clearServerPoints(),this.hasAlert.value()&&TradingView.alertsDispatcher&&TradingView.alertsDispatcher.deleteAlert(this._alertId)},
n.prototype.isStarted=function(){return null!==this._currentPointsetId},n.prototype.restart=function(){this.isFixed()||(this._currentPointsetId=null,this.createServerPoints())},n.prototype.tryCreateServerPoints=function(){this.isFixed()||null===this._currentPointsetId&&this.createServerPoints()},n.prototype.normalizePoint=function(t){var e=this._model.timeScale().normalizeBarIndex(t.index);return e.price=t.price,e},n.prototype.normalizePoints=function(){var t,e;for(this._timePoint=[],t=0;t<this._points.length;t++){if(e=this._model.timeScale().normalizeBarIndex(this._points[t].index),!e.time_t){this._timePoint=[];break}e.price=this._points[t].price,this._timePoint.push(e)}},n.prototype.denormalizeTimePoints=function(){var t,e,i=[];for(t=0;t<this._timePoint.length;t++){if(void 0===(e=this._model.timeScale().denormalizeTimePoint(this._timePoint[t]))){i=[];break}i.push({index:e,price:this._timePoint[t].price})}i.length>0&&(this._points=i)},n.prototype.restorePoints=function(t,e,i){this._timePoint=t,this._points=e,i||this.denormalizeTimePoints()},n.prototype.restoreExternalPoints=function(t){if(this.properties().interval.setValue(t.interval),this._timePoint=t.points,this.denormalizeTimePoints(),!this.isActualSymbol())return void this.clearServerPoints();this.createServerPoints()},n.prototype.restorePositionPercents=function(t){this._positionPercents=t},n.prototype.updateAllViewsAndRedraw=function(){this.updateAllViews(),this._model.updateSource(this)},n.prototype.propertiesChanged=function(){if(this.calcIsActualInterval(),this.updateAllViewsAndRedraw(),this.linkKey){var t=this.properties().state(this._syncStateExclusions);delete t.interval,h.changeLineStyle({linkKey:this.linkKey,state:t,model:this._model})}},n.prototype.points=function(){var t,e,i=[];for(t=0;t<this._points.length;t++)e=this._points[t],i.push({index:e.index,price:e.price,time:e.time});return this._lastPoint&&i.push({index:this._lastPoint.index,price:this._lastPoint.price,time:this._lastPoint.time}),this._currentMovingPoint&&this._startMovingPoint&&this.correctPoints(i),i},n.prototype.axisPoints=function(){return this.points()},n.prototype.fixedPoints=function(){var t,e,i,o,n=[];if(this._positionPercents&&!this.priceScale().isEmpty())for(t=0;t<this._positionPercents.length;t++)e=this._positionPercents[t],i=this._model.timeScale().width()*e.x,o=this.priceScale().height()*e.y,n.push(new r(i,o));else for(t=0;t<this._fixedPoints.length;t++)n.push(this._fixedPoints[t].clone());return this._lastPoint&&n.push(this._lastPoint.clone()),this._currentMovingPoint&&this._startMovingPoint&&this.correctFixedPoints(n),n},n.prototype._convertPriceFromPercentIfNeeded=function(t){var e,i=this.priceScale();i.isPercent()&&(e=this.ownerSource().firstValue(),t.price=i.priceRange().convertFromPercent(t.price,e))},n.prototype._convertPriceToPercentIfNeeded=function(t){var e,i=this.priceScale();i.isPercent()&&(e=this.ownerSource().firstValue(),t.price=i.priceRange().convertToPercent(t.price,e))},n.prototype._preparePoint=function(t,e){var i=t
;return e&&e.shift&&this.points().length>=2&&this._properties.snapTo45Degrees&&this._snapPoint45Degree(i,this.points()[this.points().length-2]),this._convertPriceFromPercentIfNeeded(i),i},n.prototype.addPoint=function(t,e,i){var o=this._preparePoint(t,e);return this._addPointIntenal(o,e,i)},n.prototype._addPointIntenal=function(t,e,i){this._points.push(t);var o=this._points.length===this.pointsCount();return o?(this._lastPoint=null,i||(this.normalizePoints(),this.createServerPoints())):this._lastPoint=t,this._pointAdded.fire(this._points.length-1),o},n.prototype.addFixedPoint=function(t){this._fixedPoints.push(t);var e=this._fixedPoints.length===this.pointsCount();return e&&this.calcPositionPercents(),e},n.prototype.calcPositionPercents=function(){var t,e,i,o;if(!this.priceScale()||this.priceScale().isEmpty())return[];for(this._positionPercents=[],t=0;t<this._fixedPoints.length;t++)e=this._fixedPoints[0],i=e.x/this._model.timeScale().width(),o=e.y/this.priceScale().height(),this._positionPercents.push({x:i,y:o});return this._positionPercents},n.prototype.calcMiddlePoint=function(t,e){return new r((t.x+e.x)/2,(t.y+e.y)/2)},n.prototype.restoreFixedPoints=function(){this._fixedPoints=this.fixedPoints()},n.prototype.onData=function(t){var e,i,o,n,r,s;if(t.params.customId===this.currentPointsetId()&&0!==t.params.plots.length){for(e=0;e<t.params.plots.length;e++)i=t.params.plots[e],o=this._timePoint[i.index],n=i.value[0],r=new Date(1e3*i.value[1]),s={index:n,time:r,price:o.price},this._points.length<=i.index?(this._points.push(s),this._pointAdded.fire(this._points.length-1)):(this._points[i.index]=s,this._pointChanged.fire(i.index));this.checkAlert&&this.checkAlert(),this.updateAllViewsAndRedraw()}},n.prototype.correctPricesToPercents=function(){var t,e,i=this.priceScale(),o=this.ownerSource().firstValue();for(t=0;t<this._points.length;t++)e=this._points[t],e.price=i.priceRange().convertFromPercent(e.price,o),this._pointChanged.fire(t)},n.prototype.startChanging=function(t,e){t<this.m_priceAxisViews.length&&this.m_priceAxisViews[t].setActive(!0),t<this.m_timeAxisViews.length&&this.m_timeAxisViews[t].setActive(!0),this._properties.lastUpdateTime.setValue((new Date).valueOf())},n.prototype.setPoint=function(t,e,i){if(i&&i.shift&&this._properties.snapTo45Degrees){var o=0===t?1:t-1;this._snapPoint45Degree(e,this.points()[o])}this._convertPriceFromPercentIfNeeded(e),this._points[t]=e,this._pointChanged.fire(t),this.normalizePoints()},n.prototype.startMoving=function(t){this.isFixed()&&this.restoreFixedPoints(),this._convertPriceFromPercentIfNeeded(t),this._startMovingPoint=t,this._properties.lastUpdateTime.setValue((new Date).valueOf())},n.prototype.move=function(t){this._convertPriceFromPercentIfNeeded(t),this._currentMovingPoint=t,this.updateAllViews()},n.prototype.correctPoints=function(t){var e,i,o=this._currentMovingPoint.index-this._startMovingPoint.index,n=this._currentMovingPoint.price-this._startMovingPoint.price;if(0===o&&0===n)return!1;for(e=0;e<t.length;e++)i=t[e],i.index+=o,i.price+=n,t[e]=i;return!0},
n.prototype.correctFixedPoints=function(t){var e,i=this._currentMovingPoint.subtract(this._startMovingPoint);for(e=0;e<t.length;e++)t[e]=t[e].add(i)},n.prototype.endMoving=function(t){var e,i,o;if(this._properties.interval.setValue(this._model.mainSeries().interval()),e=!1,i=!1,this._currentMovingPoint&&this._startMovingPoint){if(e=this._currentMovingPoint.index!==this._startMovingPoint.index,i=this._currentMovingPoint.price!==this._startMovingPoint.price,this.isFixed())this.correctFixedPoints(this._fixedPoints);else if(this.correctPoints(this._points))for(o=0;o<this._points.length;o++)this._pointChanged.fire(o);this._startMovingPoint=null,this._currentMovingPoint=null}if(this.isFixed())return this.calcPositionPercents(),void this.updateAllViews();this.normalizePoints(),this.updateAllViews(),e&&!t&&this.createServerPoints(),(i||e)&&this.synchronizeAlert(!this._alertUndoMode)},n.prototype.endChanging=function(t,e){var i;for(this._properties.interval.setValue(this._model.mainSeries().interval()),e||(this.normalizePoints(),this.createServerPoints()),i=0;i<this.m_priceAxisViews.length;i++)this.m_priceAxisViews[i].setActive(!1);for(i=0;i<this.m_timeAxisViews.length;i++)this.m_timeAxisViews[i].setActive(!1);this.synchronizeAlert(!t)},n.prototype.paneViews=function(t){var e,i;if(this.isSourceHidden())return null;for(e=[],i=this._paneViews.length-1;i>=0;--i)e.push(this._paneViews[i]);return e},n.prototype._setPaneViews=function(t){this._paneViews=t,this._model.invalidate(new f(f.LIGHT_UPDATE))},n.prototype.dataWindowView=function(){return null},n.prototype.statusView=function(){return null},n.prototype.isSourceHidden=function(){return!this._properties.visible.value()||h.hideAllDrawings().value()&&this.canBeHidden()||!this._isActualInterval||!this._isActualSymbol},n.prototype.priceAxisViews=function(t,e){var i,o,n;return this.isSourceHidden()?null:-1!==t.dataSources().indexOf(this)&&e===this.priceScale()?this._model.lineBeingEdited()===this?(i=this._model.linePointBeingEdited(),i<this.m_priceAxisViews.length?(o=this.m_priceAxisViews.slice(),n=o[i],o.splice(i,1),o.push(n),o):this.m_priceAxisViews):this.m_priceAxisViews:null},n.prototype.timeAxisViews=function(){var t,e,i;return this.isSourceHidden()?null:this._model.lineBeingEdited()===this?(t=this._model.linePointBeingEdited(),t<this.m_timeAxisViews.length?(e=this.m_timeAxisViews.slice(),i=e[t],e.splice(t,1),e.push(i),e):this.m_timeAxisViews):this.m_timeAxisViews},n.prototype.updateAllViews=function(){var t,e,i;if(!this._isActualSymbol)return null;if(!this._properties.visible.value())return null;if(null!==(t=this.paneViews()))for(e=t,i=0;i<e.length;i++)e[i].update();for(e=this.m_priceAxisViews,i=0;i<e.length;i++)e[i].update();for(e=this.m_timeAxisViews,i=0;i<e.length;i++)e[i].update()},n.prototype.setLastPoint=function(t,e){this._lastPoint=this._preparePoint(t,e),this.updateAllViews()},n.prototype.setLastFixedPoint=function(t){this._lastFixedPoint=t,this.updateAllViews()},n.prototype.title=function(){return"Line Tool"},n._pointSetId=1,n.prototype.start=function(){
this.createServerPoints()},n.prototype.createServerPoints=function(){var t,e,i,o,r,s;if(!this._recursiveGuard&&this._isActualSymbol&&this._model.chartApi().connected()&&(this.clearServerPoints(),!this._model.timeScale().isEmpty()&&(0===this._timePoint.length&&this.normalizePoints(),0!==this._timePoint.length))){for(this._currentPointsetId=++n._pointSetId,t=this._model.mainSeries().symbolId(),e=this.properties().interval.value(),i=[],o=0;o<this._timePoint.length;o++)r=this._timePoint[o],i.push([r.time_t,r.offset]);s=this,this._model.chartApi().createPointset(this.currentPointsetId(),"turnaround",t,e,i,function(t){s.onData(t)})}},n.prototype.clearServerPoints=function(){null!==this._currentPointsetId&&(this._model.chartApi().removePointset(this.currentPointsetId()),this._currentPointsetId=null)},n.prototype.isBeingEdited=function(){return this===this._model.lineBeingEdited()||this===this._model.sourceBeingMoved},n.prototype.isFixed=function(){return this.properties().locked&&this.properties().locked.value()},n.prototype.isLocked=n.prototype.isFrozen=function(){return this.properties().frozen&&this.properties().frozen.value()},n.prototype._tooltipFieldsHash={},n.prototype._tooltipFieldsOrder=["time","price","index","time0","price0","time1","price1","time2","price2","time3","price3","time4","price4","distance","term","pointsPerBar"],n.prototype._tooltipFieldsOrdered=null,n.prototype._formatTooltip=function(){return null===this._tooltipFieldsOrdered&&(this._tooltipFieldsOrdered=new p(this._tooltipFieldsHash,p.byOrder(this._tooltipFieldsOrder))),this._tooltipFieldsOrdered.array.filter(function(t){return null!==t.value&&""!==t.value}).map(function(t){return"<span>"+t.title+":</span> "+t.value}).join("<br />")},n.prototype.pointToScreenPoint=function(t){var e,i,o,n,s,a,l=this._model.timeScale(),c=this.priceScale();if(!c||c.isEmpty()||l.isEmpty())return[new r(0,0),new r(0,0)];if(e=null,c.isPercent()){if(!this.ownerSource())return;if(null===(e=this.ownerSource().firstValue())||!isFinite(e))return}return i=l.indexToCoordinate(t.index,!0),o=t.price,c.isPercent()&&(o=c.priceRange().convertToPercent(o,e)),n=c.priceToCoordinate(o,!0),s=new r(i,n),i=l.indexToCoordinate(t.index,!1),n=c.priceToCoordinate(o,!1),a=new r(i,n),[s,a]},n.prototype.screenPointToPoint=function(t){var e=this._model.timeScale(),i=this.priceScale(),o=e.coordinateToIndex(t.x),n=i.coordinateToPrice(t.y),r=null;if(i.isPercent()){if(!this.ownerSource())return;if(null===(r=this.ownerSource().firstValue())||!isFinite(r))return}return i.isPercent()&&(n=i.priceRange().convertFromPercent(n,r)),{price:n,index:o}},n.prototype.tags=function(){return[this._constructor]},n.prototype._snapPoint45Degree=function(t,e,i){var o,n,r,s,a,l,c,h,d,u,p,f,_=this._model.timeScale(),g=_.indexToCoordinate(e.index),m=_.indexToCoordinate(t.index)-g,v=this.m_priceScale,y=e.price,b=t.price,w=this.ownerSource().firstValue();v.isPercent()&&(y=v.priceRange().convertToPercent(y,w)),o=v.priceToCoordinate(y),n=v.priceToCoordinate(b)-o,r=Math.round(Math.atan2(m,n)/Math.PI*4),
2===Math.abs(r)?i||(t.price=y):0===Math.abs(r)||4===Math.abs(r)?i||(t.index=e.index):0===Math.abs(r)||4===Math.abs(r)?i||(t.index=e.index):(s=Math.sqrt(m*m+n*n),a=m<0?-1:1,l=n<0?-1:1,c=Math.max(Math.abs(n),Math.abs(m)),h=c*Math.sqrt(2),d=h/s,c/=d,u=Math.round(_.coordinateToIndex(g+c*a)),p=Math.abs(_.indexToCoordinate(u)-g),f=v.coordinateToPrice(o+p*l),t.index=u,t.price=f)},n.prototype.createPriceAxisView=function(t){return new s(this,{pointIndex:t})},n.prototype.version=1,n.isLineTool=function(t){var e=TradingView[t];return!!e&&TradingView.isInherited(e,n)},n.prototype.alertId=function(){return this._alertId},n.prototype.setAlert=function(t,e){function o(){!e.noChartSave&&window.saver&&window.saver.saveChartSilently(null,!1,function(t){t&&413===t.status||y.createGoProDialog({feature:"savedChartsForAlertLimit"}).then(function(t){t.open()})},{noDefaultOnFail:!0})}var n,r,s,a=i(561),l=this;if(e=e||{},n=t instanceof a?t.id:parseInt(t),r=l._model.hoveredSource()===l,s=l._model.selectedSource()===l,this.canHasAlert()&&(l._alertId=n,l.hasAlert.setValue(!0),TradingView.alertsDispatcher))return l.getAlert().done(function(t){l._processAlertHanders("unsubscribe"),l._processAlertHanders("subscribe"),t.set("hovered",r),t.set("selected",s)}).fail(function(t){l._processAlertHanders("unsubscribe"),"not_exists"===t&&l.flushAlert()}).always(function(){setTimeout(o,0)})},n.prototype.flushAlert=function(){delete this._alertId,delete this._alert,this.hasAlert.setValue(!1),window.saver&&window.saver.saveChartSilently(null,!1)},n.prototype._processAlertHanders=function(t){var e,i,o,n=this;("unsubscribe"!==(t="subscribe"===t?"subscribe":"unsubscribe")||n._alertCallbacks)&&(i="subscribe"===t?"on":"off",e=n.properties(),o=n._alertCallbacks||{flush:n.flushAlert.bind(n),hovered:function(t,e){e?n._model.setHoveredSource(n):n._model.hoveredSource()===n&&n._model.setHoveredSource(null)},selected:function(t,e){e&&n._model.setSelectedSource(n)},synchronizeSilently:function(t){n.synchronizeAlert(!1)}},n._alertCallbacks||(n._alertCallbacks=o),n.getAlert().done(function(r){r&&(r[i]("destroy",o.flush),r[i]("change:hovered",o.hovered),r[i]("change:selected",o.selected),e.extendLeft&&e.extendLeft[t](n,o.synchronizeSilently),e.extendRight&&e.extendRight[t](n,o.synchronizeSilently))}))},n.prototype.editAlert=function(){function t(t){"not_exists"===t&&(e.flushAlert(),TVDialogs.ShowConfirm($.t("Alert"),$.t("Alert does not exist. Create new?"),function(){new o({drawing:e})}))}var e=this,o=i(256).MakeAlertDialog;e.hasAlert.value()&&TradingView.alertsDispatcher.openEditDialog(this.alertId(),{error:t})},n.prototype.getAlert=function(t){var e,i=this;return t=t||{},e=$.Deferred(),TradingView.alertsDispatcher?TradingView.alertsDispatcher.requestAlert(i._alertId,{success:e.resolve.bind(e),error:e.reject.bind(e),fromCache:t.fromCache}):_.logError("[Alerts] Can't get alert without alerts dispatcher"),e.promise()},n.prototype.synchronizeAlert=function(t){var e=this;e.hasAlert.value()&&setTimeout(function(){function i(){e._alertUndoMode=!0,
s.undoToCheckpoint(e._undoCheckpointAlert),setTimeout(function(){e._alertUndoMode=!1,e.localAndServerAlersMismatch=!1},0)}function o(t){var i=t.get("description")!==t.defaultDescription(),o=t.get("extra"),n=o.alertSeries(),r=e._model.mainSeries().stateForAlert();"MainSeries"===n.type&&r.actualSymbol===n.actualSymbol&&(o.mainSeries(r),o.alertSeries(r)),t.set("resolution",e.stateForAlert().interval),o.drawing(e),i||t.setDefaultDescription(),e.localAndServerAlersMismatch=!0}function n(t){TradingView.alertsDispatcher.restartAlert(t,{success:function(){e.localAndServerAlersMismatch=!1},error:i,complete:function(){delete e._undoCheckpointAlert}})}var r,s=e._getUndoHistory();e._undoCheckpointAlert||e._alertUndoMode||(r=s.undoStack().pop(),e._undoCheckpointAlert=s.createUndoCheckpoint(),r&&s.undoStack().push(r)),e.getAlert().done(function(e){o(e),t&&n(e)}).fail(i)},0)},n.prototype._getUndoHistory=function(){return this._model._undoModel.undoHistory},n.prototype.stateForAlert=function(){var t,e;if(this.canHasAlert())return t=this.state(),t.id=this.idForAlert(),t.uniqueId=this.idForAlert(),t.title=this.title(),t.interval=this._model.mainSeries().interval(),e=this._getAlertPlots(),e&&(t.plots=e),t},n.prototype._getAlertPlots=function(){return null},n.prototype._linePointsToAlertPlot=function(t,e,i,o){if(2!==t.length)return _.logError("[Drawing Alert] Wrong points"),null;var n=this._model.timeScale();return!n||n.isEmpty()?null:{type:"LinePlot",title:e||this.title(),timestamp:n.indexToTimePoint(0),offset1:t[0].index,offset2:t[1].index,price1:t[0].price,price2:t[1].price,extendBackward:i||!1,extendForward:o||!1}},n.prototype.getAlertIsActive=function(t){this.getAlert({fromCache:!0}).done(function(e){t(!!e&&e.get("active"))}).fail(function(){t(!1)})},n.prototype.geometry=function(){var t=this,e=function(e){var i=e.x/t._model.timeScale().width(),o=e.y/t.priceScale().height();return new r(i,o)};return this.points().map(function(i){var o=t.pointToScreenPoint(i)[0];return e(o)})},n.prototype.onlyYMoving=function(){return!1},n.prototype.model=function(){return this._model},n.prototype.isForcedDrawPriceAxisLabel=function(){return this.customization.forcePriceAxisLabel},n.prototype.getInputsPropertyPage=function(){return m.LineToolInputsPropertyPage},n.prototype.getVisibilitiesPropertyPage=function(){return m.LineToolVisibilitiesPropertyPage},n.prototype.getSourceIcon=function(){var t=v[this.getType()];return void 0===t?null:{type:"svg",svgCode:t.icon}},n.prototype.destroy=function(){this.stop()},e.LineToolPriceAxisView=s,e.LineDataSource=n}).call(e,i(37))},function(t,e,i){"use strict";var o,n,r=i(0).getLogger("Chart.DataSourcePropertyPages");e.propertyPages={},o=e.propertyPages,n=null,e.loadPropertyPages=function(){return null!==n?n:(r.logNormal("Start loading property pages"),n=new Promise(function(t){i.e(12).then(function(e){o.ChartStylesPropertyPage=i(1130),o.LineToolABCDPatternStylesPropertyPage=i(1131),o.LineToolArcStylesPropertyPage=i(1132),o.LineToolArrowMarkStylesPropertyPage=i(1133),o.LineToolBalloonStylesPropertyPage=i(1134),
o.LineToolBarsPatternStylesPropertyPage=i(1135).LineToolBarsPatternStylesPropertyPage,o.LineToolBezierStylesPropertyPage=i(1136),o.LineToolBrushStylesPropertyPage=i(1137),o.LineToolCalloutStylesPropertyPage=i(1138),o.LineToolCircleLinesStylesPropertyPage=i(1139),o.LineToolDateAndPriceRangeStylesPropertyPage=i(1140),o.LineToolDateRangeStylesPropertyPage=i(1141),o.LineToolDisjointAngleStylesPropertyPage=i(1142),o.LineToolElliottStylesPropertyPage=i(1143),o.LineToolEllipseStylesPropertyPage=i(1144),o.LineToolFibChannelStylesPropertyPage=i(1145),o.LineToolFibCirclesStylesPropertyPage=i(1146),o.LineToolFibRetracementStylesPropertyPage=i(1113),o.LineToolFibSpeedResistanceArcsStylesPropertyPage=i(1147),o.LineToolFibSpeedResistanceFanStylesPropertyPage=i(1148),o.LineToolFibSpiralStylesPropertyPage=i(1149),o.LineToolFibTimeZoneStylesPropertyPage=i(1150),o.LineToolFibWedgeStylesPropertyPage=i(1151),o.LineToolFlatBottomStylesPropertyPage=i(1152),o.LineToolGannComplexStylesPropertyPage=i(1153).LineToolGannComplexStylesPropertyPage,o.LineToolGannFixedStylesPropertyPage=i(1154).LineToolGannFixedStylesPropertyPage,o.LineToolGannFanStylesPropertyPage=i(1155),o.LineToolGannSquareStylesPropertyPage=i(1156),o.LineToolGhostFeedInputsPropertyPage=i(639).LineToolGhostFeedInputsPropertyPage,o.LineToolGhostFeedStylesPropertyPage=i(639).LineToolGhostFeedStylesPropertyPage,o.LineToolHorzLineInputsPropertyPage=i(640).LineToolHorzLineInputsPropertyPage,o.LineToolHorzLineStylesPropertyPage=i(640).LineToolHorzLineStylesPropertyPage,o.LineToolIconStylesPropertyPage=i(1157),o.LineToolInputsPropertyPage=i(1098),o.LineToolLineTool5PointsPatternStylesPropertyPage=i(1158),o.LineToolNotePropertyPage=i(1159),o.LineToolParallelChannelStylesPropertyPage=i(1160),o.LineToolPitchfanStylesPropertyPage=i(1161),o.LineToolPitchforkStylesPropertyPage=i(1162),o.LineToolPolylineStylesPropertyPage=i(1163),o.LineToolPredictionStylesPropertyPage=i(1164),o.LineToolPriceLabelStylesPropertyPage=i(1165),o.LineToolProjectionStylesPropertyPage=i(1166),o.LineToolRectangleStylesPropertyPage=i(1167),o.LineToolRiskRewardInputsPropertyPage=i(641).LineToolRiskRewardInputsPropertyPage,o.LineToolRiskRewardStylesPropertyPage=i(641).LineToolRiskRewardStylesPropertyPage,o.LineToolTextStylesPropertyPage=i(1168),o.LineToolTimeCyclesPropertyPage=i(1169),o.LineToolTrendAngleInputsPropertyPage=i(642).LineToolTrendAngleInputsPropertyPage,o.LineToolTrendAngleStylesPropertyPage=i(642).LineToolTrendAngleStylesPropertyPage,o.LineToolTrendBasedFibExtensionStylesPropertyPage=i(1170),o.LineToolTrendBasedFibTimeStylesPropertyPage=i(1171),o.LineToolTrendLineStylesPropertyPage=i(1172),o.LineToolTrianglePatternStylesPropertyPage=i(1173),o.LineToolTriangleStylesPropertyPage=i(1174),o.LineToolVertLineInputsPropertyPage=i(643).LineToolVertLineInputsPropertyPage,o.LineToolVertLineStylesPropertyPage=i(643).LineToolVertLineStylesPropertyPage,o.LineToolVisibilitiesPropertyPage=i(1175),o.StudyCompareInputsPropertyPage=i(1176),o.StudyDisplayPropertyPage=i(553).StudyDisplayPropertyPage,
o.StudyInputsPropertyPage=i(524).StudyInputsPropertyPage,o.StudyLineDataSourcePropertyPage=i(1177),o.StudyOverlayStylesPropertyPage=i(1178),o.StudyStrategyPropertyPage=i(1179),o.StudyStylesPropertyPage=i(553).StudyStylesPropertyPage,o.VolumePropertyPage=i(1180),o.LineToolRegressionTrendInputsPropertyPage=i(1181),o.LinetoolVolumeProfilePropertyPage=i(644).LinetoolVolumeProfilePropertyPage,o.StudyElliottInputsPropertyPage=i(1182),o.StudyLinearRegressionStylesPropertyPage=i(1183),o.StudyPivotPointsHighLowStylesPropertyPage=i(1184),o.StudyPivotPointsStandardStylesPropertyPage=i(1185),o.StudyVolumeProfilePropertyPage=i(644).StudyVolumeProfilePropertyPage,o.StudyZigZagStylesPropertyPage=i(1186),r.logNormal("Property pages loaded"),t()}.bind(null,i)).catch(i.oe)}))}},,,,,function(t,e,i){"use strict";function o(t,e,i){this._defaultName=t;var n;i?n=e:(n=TradingView.clone(defaults(t)),e&&TradingView.merge(n,e)),r.call(this,n),this._defaultName=t,this.listeners().subscribe(this,o.prototype.onPropertyChanged),this._exclusions=[]}function n(t){o._saveDefaults=t}var r=i(37);inherit(o,r),o._saveDefaults=!1,o.prototype.addExclusion=function(t){this._exclusions.push(t)},o.prototype.restoreFactoryDefaults=function(){var t,e={};this._defaultName.startsWith("study_")&&(e=TradingView.clone(TradingView.factoryDefaults("study"))),this._defaultName.startsWith("linetool")&&(e=TradingView.clone(TradingView.factoryDefaults("linetoolvisibilities"))),t=TradingView.clone(TradingView.factoryDefaults(this._defaultName)),this._defaultName.startsWith("study_")&&t.inputs&&delete t.inputs.symbol,"linetoolicon"===this._defaultName&&(t.icon=defaults(this._defaultName).icon),~["linetooltext","linetooltextabsolute","linetoolnote","linetoolnoteabsolute","linetoolcallout","linetoolballoon","linetoolarrowmark","linetoolarrowmarkleft","linetoolarrowmarkup","linetoolarrowmarkright","linetoolarrowmarkdown","linetoolhorzline","linetoolhorzray"].indexOf(this._defaultName)&&delete t.text,this._exclusions.forEach(function(e){delete t[e]}),TradingView.merge(e,t),this.merge(e),this._defaultName.startsWith("study_")||TradingView.saveDefaults(this._defaultName,this.state(this._exclusions)),this.listeners().fire(this)},o.prototype.cleanupFactoryDefaults=function(){var t={};TradingView.saveDefaults(this._defaultName,t),this.listeners().fire(this)},o.prototype.onPropertyChanged=function(){o._saveDefaults&&!this._defaultName.startsWith("study_")&&this.saveDefaults()},o.prototype.saveDefaults=function(){TradingView.saveDefaults(this._defaultName,this.state(this._exclusions))},o.prototype.restoreDefaults=function(){var t=TradingView.clone(defaults(this._defaultName));this.merge(t),this.listeners().fire(this)},o.prototype.clone=function(t){return new o(this._defaultName,this.state(),t&&t.replaceByState)},e.DefaultProperty=o,e.saveDefaultProperties=n},,,,function(t,e,i){"use strict";var o=function(){function t(t,e,i){this._result=t,this._data=e,this._eraseMarker=i}return t.prototype.result=function(){return this._result},t.prototype.data=function(){return this._data},
t.prototype.eraseMarker=function(){return this._eraseMarker},t.MOVEPOINT_BACKGROUND=1,t.REGULAR=2,t.MOVEPOINT=3,t.CHANGEPOINT=4,t.CUSTOM=5,t.CUSTOM_MOVE=6,t}();t.exports=o},,,,,,,,,,,,,function(t,e,i){"use strict";function o(t,e){var i,o;return null===t?e:null===e?t:(i=Math.min(t.min,e.min),o=Math.max(t.max,e.max),{min:i,max:o})}var n,r,s,a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),n=i(9),r=i(134),s=i(0),a=s.getLogger("Chart.PlotList"),function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.Exact=0]="Exact",t[t.NearestRight=1]="NearestRight"}(l=e.PlotRowSearchMode||(e.PlotRowSearchMode={})),c=30,h=-2e6,d=function(){function t(t){void 0===t&&(t=[]),this._items=[],this._plotNames=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache={},this._rowSearchCache={},this._plotNames=t}return t.prototype.clear=function(){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache={},this._rowSearchCache={}},t.prototype.plotNames=function(){return this._plotNames},t.prototype.first=function(){return this.size()>0?this._items[this._start]:null},t.prototype.last=function(){return this.size()>0?this._items[this._end-1]:null},t.prototype.firstIndex=function(){return this.size()>0?this._indexAt(this._start):null},t.prototype.lastIndex=function(){return this.size()>0?this._indexAt(this._end-1):null},t.prototype.size=function(){return this._end-this._start},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.contains=function(t){return null!==this._search(t)},t.prototype.valueAt=function(t){var e=this.search(t);return null!==e?e.value:null},t.prototype.add=function(t,e){var i,o;return this._shareRead?(a.logDebug("add: readonly collection modification attempt"),!1):(i={index:t,value:e},o=this._search(t),this._rowSearchCache={},null===o?(this._items.splice(this._lowerbound(t),0,i),this._start=0,this._end=this._items.length,!0):(this._items[o]=i,!1))},t.prototype.search=function(t,e){var i,o;return void 0===e&&(e=l.Exact),this._rowSearchCache[t]&&this._rowSearchCache[t][e]?this._rowSearchCache[t][e]:null===(i=this._search(t,e))?null:(o={index:this._indexAt(i),value:this._valueAt(i)},this._rowSearchCache[t]=this._rowSearchCache[t]||{},this._rowSearchCache[t][e]=o,o)},t.prototype.fold=function(t,e){var i,o,n,r=e;for(i=this._start;i<this._end;++i)o=this._indexAt(i),n=this._valueAt(i),r=t(o,n,r);return r},t.prototype.findFirst=function(t,e){var i,o,n,r=void 0!==e&&Math.min(this._start+e,this._end)||this._end;for(i=this._start;i<r;++i)if(o=this._indexAt(i),n=this._valueAt(i),t(o,n))return{index:o,value:n};return null},t.prototype.findLast=function(t,e){var i,o,n,r=void 0!==e&&Math.max(this._end-e,this._start)||this._start;for(i=this._end-1;i>=r;--i)if(o=this._indexAt(i),n=this._valueAt(i),t(o,n))return{index:o,value:n};return null},t.prototype.each=function(t){var e,i,o;for(e=this._start;e<this._end&&(i=this._indexAt(e),o=this._valueAt(e),!t(i,o));++e);},t.prototype.reduce=function(t,e){var i,o,n,r=e;for(i=this._start;i<this._end;++i)o=this._indexAt(i),n=this._valueAt(i),r=t(r,o,n);return r
},t.prototype.range=function(e,i){var o=new t;return o._items=this._items,o._start=this._lowerbound(e),o._end=Math.min(this._lowerbound(i)+1,o._items.length),o._shareRead=!0,o},t.prototype.minMaxOnRange2=function(t,e,i){var r,s,a,l,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x;if(this.isEmpty())return null;for(r=null,s=n.ensureNotNull(this.firstIndex()),a=n.ensureNotNull(this.lastIndex()),l=0,h=i;l<h.length;l++){for(d=h[l],u=t-d.offset,p=e-d.offset,u=Math.max(u,s),p=Math.min(p,a),f=Math.ceil(u/c)*c,_=Math.max(f,Math.floor(p/c)*c),g=this._lowerbound(u),m=this._upperbound(Math.min(p,f,e)),v=this._plotMinMax(g,m,d),r=o(r,v),this._minMaxCache[d.index]||(this._minMaxCache[d.index]={}),y=this._minMaxCache[d.index],b=Math.max(f+1,u);b<_;b+=c)w=Math.floor(b/c),S=y[w],void 0===S&&(T=w*c,x=(w+1)*c-1,S=this.minMaxOnRange(T,x,[d]),y[w]=S),r=o(r,S);g=this._lowerbound(_),m=this._upperbound(p),v=this._plotMinMax(g,m,d),r=o(r,v),void 0!==d.baseValue&&null!==r&&(r.min=r.min?Math.min(d.baseValue,r.min):r.min,r.max=r.min?Math.max(d.baseValue,r.max):r.max)}return r},t.prototype.minMaxOnRange=function(t,e,i){var n,r,s,a,l,c,h=null;for(n=0,r=i;n<r.length;n++)s=r[n],a=this._lowerbound(t-s.offset),l=Math.min(this._lowerbound(e-s.offset)+1,this._items.length),this._items[this._end-1]&&this._items[l-1].index>e-s.offset&&(l=a),c=this._plotMinMax(a,l,s),h=o(h,c),void 0!==s.baseValue&&null!==h&&(h.min=h.min?Math.min(s.baseValue,h.min):h.min,h.max=h.max?Math.max(s.baseValue,h.max):h.max);return h},t.prototype.merge=function(t){var e,i,o,n;if(this._shareRead)return a.logDebug("merge: readonly collection modification attempt"),[];for(e=[],e.earliestRow=null,i=0,o=t;i<o.length;i++)n=o[i],this._invalidateCacheForRow(n),(null===e.earliestRow||e.earliestRow.index>n.index)&&(e.earliestRow=n),this.add(n.index,n.value)?e.push({insert:n}):e.push({update:n});return e},t.prototype.addTail=function(t,e){var i,o,n,r;for(void 0===e&&(e=!1),i=0,e&&this._end-this._start>0&&(i=1,this._items[this._end-this._start-1].value=t[0].value),o=i;o<t.length;++o){if(n=t[o],null===(r=this.lastIndex())){a.logError("Can't add tail to the empty plotlist");break}this.add(r+1,n.value)}this._rowSearchCache={}},t.prototype.move=function(t){var e,i,o,n,r,s,l,c;if(this._shareRead)return a.logDebug("move: readonly collection modification attempt"),[];for(e=[],e.earliestRow=null,i=0,o=t;i<o.length;i++)n=o[i],null!==(r=this._search(n.old))&&(s=this._items[r].value,l={index:n.old,value:s},this._items.splice(r,1),this._end=this._items.length,e.push({remove:l}),this._invalidateCacheForRow(l),n.new!==h&&(c={index:n.new,value:s},(null===e.earliestRow||e.earliestRow.index>c.index)&&(e.earliestRow=c),this.add(c.index,c.value)?e.push({insert:c}):e.push({update:c}),this._invalidateCacheForRow(c)));return this._rowSearchCache={},e},t.prototype.remove=function(t){var e,i,o,n,r,s;if(this._shareRead)return a.logDebug("remove: readonly collection modification attempt"),[];if(null===(e=this._search(t,l.NearestRight)))return[];if(i=[],o=this._items.splice(e),o.length>0)for(i.earliestRow=o[0],n=0,
r=o;n<r.length;n++)s=r[n],i.push({remove:s});return this._end=this._items.length,this._minMaxCache={},this._rowSearchCache={},i},t.prototype.state=function(){return{columns:this._plotNames,start:this._start,end:this._end,data:this._items,shareread:this._shareRead}},t.prototype.restoreState=function(t){if(!t)return void this.clear();this._plotNames=t.columns,this._start=t.start,this._end=t.end,this._shareRead=t.shareread,this._items=t.data,this._minMaxCache={},this._rowSearchCache={}},t.prototype._indexAt=function(t){return this._items[t].index},t.prototype._valueAt=function(t){return this._items[t].value},t.prototype._length=function(){return this._items.length},t.prototype._search=function(t,e){var i,o=this._bsearch(t);return null===o&&e?e<0?(i=this._lowerbound(t),i>this._start&&(i-=1),i!==this._end&&this._indexAt(i)<t?i:null):(i=this._upperbound(t),i!==this._end&&t<this._indexAt(i)?i:null):o},t.prototype._bsearch=function(t){var e=this._lowerbound(t);return e===this._end||t<this._items[e].index?null:e},t.prototype._lowerbound=function(t){return r.lowerbound(this._items,t,function(t,e){return t.index<e},this._start,this._end)},t.prototype._upperbound=function(t){return r.upperbound(this._items,t,function(t,e){return e.index>t},this._start,this._end)},t.prototype._plotMinMax=function(t,e,i){var o,n,r,s=null;for(o=t;o<e;o++)n=this._items[o].value,void 0===(r=n[i.index])||null===r||Number.isNaN(r)||(null===s?s={min:r,max:r}:(r<s.min&&(s.min=r),r>s.max&&(s.max=r)));return s},t.prototype._invalidateCacheForRow=function(t){var e,i=Math.floor(t.index/c);for(e=0;e<this._plotNames.length;e++)this._minMaxCache[e]&&delete this._minMaxCache[e][i]},t}(),e.PlotList=d,e.mergeMinMax=o},,,,,,,function(t,e,i){"use strict";(function(e){function o(t,e,i,o){this._map=$.extend({},this._map,o),e&&(e=this.unpackLevels(e)),r.call(this,t,e,i),this.updateCollectibleProperty()}var n=i(10).isSameType,r=i(7).DefaultProperty,s=i(773);inherit(o,r),o.prototype.state=function(t,i){t=t||[],t.push("__collectibleLines");var o=e.prototype.state.call(this,t);return i?o:this.packLevels(o)},o.prototype.clone=function(){var t=this.state();return this.__collectibleLines&&(t.__collectibleLines=this.__collectibleLines.state()),new o(this._defaultName,t)},o.prototype.merge=function(t){e.prototype.merge.call(this,this.unpackLevels(t)),this.updateCollectibleProperty()},o.prototype._map={prefixes:[""],range:[0,0],names:["coeff","color","visible","linestyle","linewidth"],typecheck:{pack:Object,unpack:Array}},o.prototype._packLvlTpl=function(){return[]},o.prototype._unpackLvlTpl=function(){return{}},o.prototype._packLvlFill=function(t,e,i,o){return o.push(i[e]),o},o.prototype._unpackLvlFill=function(t,e,i,o){return o[e]=i[t],o},o.prototype._iterateLevels=function(t,e){var i,o,r,s,a;for(i in this._map.prefixes)for(o=(this._map.prefixes[i]||"")+"level",r=this._map.range[0];r<=this._map.range[1];r++)if(t[o+r]&&n(t[o+r],e.typecheck())){s=e.tpl();for(a in this._map.names)s=e.fill(a,this._map.names[a],t[o+r],s);t[o+r]=s}return t},o.prototype.packLevels=function(t){
return this._iterateLevels(t,{tpl:this._packLvlTpl,fill:this._packLvlFill,typecheck:this._map.typecheck.pack})},o.prototype.unpackLevels=function(t){return this._iterateLevels(t,{tpl:this._unpackLvlTpl,fill:this._unpackLvlFill,typecheck:this._map.typecheck.unpack})},o.prototype.saveDefaults=function(){TradingView.saveDefaults(this._defaultName,this.state(this._exclusions,!0))},o.prototype.updateCollectibleProperty=function(){var t,e;this.__collectibleLines&&(t=this,e=[],this.__collectibleLines._childs.forEach(function(i){var o,n=t.__collectibleLines[i].value(),r=n.split("."),s=t[r[0]];for(o=1;o<r.length&&s;++o)s=s[r[o]];s&&e.push({property:s.color,defaultValue:s.color.value()})}),this.collectibleColors?this.collectibleColors.reloadProperties(e):this.collectibleColors=new s(e))},t.exports=o}).call(e,i(37))},,function(t,e,i){"use strict";function o(t,e,i){var o,n,r,s,c;if(e=e||0,!a(t))return i?l.rgbaToString(l.rgba(l.parseRgb(t),l.normalizeAlphaComponent(1-e/100))):t;if(e<0&&e>100)throw Error("invalid transparency");return o=l.parseRgb(t),n=o[0],r=o[1],s=o[2],c=l.normalizeAlphaComponent(1-e/100),l.rgbaToString([n,r,s,c])}function n(t){return a(t)?t:l.rgbaToString(l.rgba(l.parseRgb(t),l.normalizeAlphaComponent(1)))}function r(t){var e=l.parseRgb(t).map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)});return+(.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3)}function s(t,e){return l.rgbaToString(l.blendRgba(l.parseRgba(t),l.parseRgba(e)))}function a(t){return 0===t.indexOf("#")}Object.defineProperty(e,"__esModule",{value:!0});var l=i(55);e.generateColor=o,e.resetTransparency=n,e.getLuminance=r,e.blendColors=s,e.isHexColor=a},function(t,e,i){"use strict";(function(e,o,n,r){function s(t,e,i,o){this._study=t,this.m_series=e,this.m_model=i,this._plotName=o,this._visible=!1,this._points=[new it(0,0)],this._invalidated=!0,this._lineRenderer=new x}function a(){return{visible:!0,color:"#0496FF",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:2,plottype:pt.PlotType.Line,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1}}function l(t,e,i,o){var n,r;return o.isTVScriptStrategy?n="StudyStrategy":(r="study_"+(o.classId||o.shortId),n=r in TradingView?r:"Study"),new TradingView[n](t,e,i,o)}function c(t,e,i,o,n){return h(t,e,i,o,ut.getStudyPropertyRootName(t),n)}function h(t,e,i,o,n,r){var s,a,l,c,h,d=p(t,e,i,o);for(r instanceof v&&(s=ut.getSourceInputIds(t),s.length>0&&(a=s[0],d.inputs[a]="{pid}$0")),l=new nt(n,d,!0),l.addExclusion("visible"),l.addExclusion("precision"),l.addExclusion("minTick"),c=0;c<t.inputs.length;++c)h=t.inputs[c],h.isHidden&&(l.addExclusion("inputs."+c),l.addExclusion("inputs."+h.id));return l}function d(t,e,i,o,n,r){return u(t,e,i,o,n,ut.getStudyPropertyRootName(t),r)}function u(t,e,i,o,n,r,s){var a,l,c,h=f(t,e,i,o,n),d=new nt(r,h,!0);for(d.addExclusion("visible"),d.addExclusion("precision"),d.addExclusion("minTick"),a=e||t,l=0;l<a.inputs.length;++l)c=a.inputs[l],c.isHidden&&(d.addExclusion("inputs."+l),d.addExclusion("inputs."+c.id));return d}function p(t,o,n,r){
var s,a,l,c,h,d,u,p,f=i(144);if(ut.versionOf(t)<1)throw Error("This function cannot work with metainfo of the old format version. Required format version >= 1");return s=TradingView.clone(defaults("study")),_(s,t),a=ut.getStudyPropertyRootName(t),l=TradingView.clone(defaults(a,r)),t.isTVScript&&t.TVScriptSourceCode!==l.TVScriptSourceCode&&(l=TradingView.clone(TradingView.factoryDefaults(a,r))),TradingView.merge(s,l),o&&(w(!(o instanceof e),"propsState should not be an instance of Property"),TradingView.merge(s,o)),c=TradingView.clone(t),h={},f.mergeInputsObjPart(h,c.defaults.inputs),f.mergeInputsObjPart(h,s.inputs),s.inputs=h,delete c.inputs,delete c.defaults.inputs,d={},TradingView.merge(d,c.defaults),TradingView.merge(d,TradingView.factoryDefaults("study_"+c.id)),TradingView.merge(d,s),TradingView.merge(d,c),delete d.defaults,s=d,u=null!==n?n.model().getStudyShiftColorStartOffset():void 0,p=g(n,t),TradingView.merge(s,m(s,p,u)),o&&TradingView.merge(s.styles,o.styles),s}function f(t,e,o,n,r){var s,a,l,c,h,d,u=i(144);return t.version&&o.version&&t.version!==o.version&&_t.logWarn("Serialized metaInfo version "+t.version+" is not equal to the saved state version "+o.version),s=TradingView.clone(defaults("study")),TradingView.merge(s,TradingView.factoryDefaults("study_"+t.id)),_(s,t),TradingView.merge(s,o),s=r.updateStudyState(s,t,e),a=TradingView.clone(e||t),a&&ut.versionOf(a)>=1&&(l={},u.mergeInputsObjPart(l,a.defaults.inputs),u.mergeInputsObjPart(l,s.inputs),s.inputs=l,delete a.inputs,delete a.defaults.inputs,c={},TradingView.merge(c,a.defaults),TradingView.merge(c,TradingView.factoryDefaults("study_"+a.id)),TradingView.merge(c,s),delete a.defaults,TradingView.merge(c,a),s=c),h=null!==n?n.model().getStudyShiftColorStartOffset():void 0,d=g(n,a),TradingView.merge(s,m(s,d,h)),s}function _(t,e){var i,o,n,r;if(e.plots)for(i=0;i<e.plots.length;i++)o=e.plots[i].id,(n=e.plots[i].type)!==pt.PlotTypes.COLORER&&(r=a(),n===pt.PlotTypes.COLORER&&(r.transparency=0),r.plottype=n,r.title=o,t.styles&&o in t.styles&&TradingView.merge(r,t.styles[o]),t.styles[o]=r)}function g(t,e){var i,o,n,r,s=0;if(t)for(i=0;i<t.dataSources().length;i++)o=t.dataSources()[i],o.metaInfo&&o.metaInfo()&&(n=o.metaInfo().id===e.id,r=(o.metaInfo().pine&&o.metaInfo().pine.version)===(e.pine&&e.pine.version),n&&r&&s++);return s}function m(t,e,i){var o,n;if(!e)return t;for(o in t.styles)(n=t.styles[o].color)&&(t.styles[o].color=ot(n,e,i));return t}function v(t,e,r,s){var a,l,c,h,d,u,p,f,_,g,m=i(209);for(this._titleCache={},this._resolvedSymbols={},this._priceAxisViewsBase=[],this._paneViews=[],this._hlinesPriceAsisViews=[],this._horizlinesPriceAsisViews=[],H.call(this,t),this.m_data=new ct,this._graphics=new q(s),this._plotOffsets={},this._plotOffsetsMetaInfoOverride={},this._model=t,this._chartApi=t._chartApi,this._series=r instanceof TradingView.Series?r:this._model.mainSeries(),r instanceof v&&(this._source=r,this._isChildStudy=!0,this._source.setChild(this)),this._numericFormatter=new at,this._metaInfo=s,this._properties=e,
this._properties.listeners().subscribe(this,this.changeStyles),this._properties.visible.listeners().subscribe(this,this.visibleChanged),this._properties.visible.listeners().subscribe(this,this.processHibernate),a=0;a<this._metaInfo.plots.length;a++)l=this._metaInfo.plots[a].id,null!=(c=this.properties().styles[l])&&null!=c.visible&&c.visible.listeners().subscribe(this,this.processHibernate);for(h in this._metaInfo.graphics)for(d in this._metaInfo.graphics[h])u=this._properties.graphics[h][d],u.visible&&u.visible.listeners().subscribe(this,this.processHibernate);if(this._showStudyArgumentsProperty=this.model().properties().paneProperties.legendProperties.showStudyArguments,this._turnaroundCounter=1,this._turnaround="st"+this._turnaroundCounter,this._status="",this._plotFields=[],p=this.metaInfo().plots)for(a=0,f=p.length;a<f;a++)d=p[a].id,this._plotFields.push(d);this.clearData(),this._studyModified=!1,this._tagsChanged=new o,this.createViews(),_=this,this._handler=function(t){_.onData(t)},this._handler.isTVScriptStrategy=this._metaInfo.isTVScriptStrategy,this._createFormatter(),_=this,this._properties.precision.listeners().subscribe(null,function(){_._createFormatter(),_._model.invalidate(new G(G.FULL_UPDATE))}),this._showStudyArgumentsProperty.listeners().subscribe(this,this.invalidateTitleCache),this._properties.description.listeners().subscribe(this,this.invalidateTitleCache),this._properties.shortDescription&&this._properties.shortDescription.listeners().subscribe(this,this.invalidateTitleCache),n.enabled("update_study_formatter_on_symbol_resolve")&&t.mainSeries().onSymbolResolved().subscribe(this,v.prototype._createFormatter),_=this,g={},this._simplePlotsCount=s.plots.filter(function(t,e){if(_.isLinePlot(e))return!0;if(_.isOHLCSeriesPlot(e)){var i=_.metaInfo().plots[e].target;return!g[i]&&(g[i]=i,!0)}return!1}).length,this._properties.showInDataWindow.listeners().subscribe(t,m.prototype.fullUpdate),this.hasBarColorer()&&this._properties.visible.listeners().subscribe(t.mainSeries(),TradingView.Series.prototype.invalidateBarStylesCache),this.onStart=new o,this._childStudyByRebind=new o}function y(t,e){return t&&t[e]&&t[e].hasOwnProperty("showLast")?t[e].showLast.value():null}
var b=i(9),w=b.assert,S=b.ensureNotNull,T=i(273).StudyBarColorer,x=i(156).HorizontalLineRenderer,P=i(657),C=P.BandPaneView,M=P.BandBackgroundPaneView,k=P.HlineFillPaneView,L=i(475).StudyPriceAxisView,I=i(115),A=I.StudyPaneView,R=I.StudyBackgroundPaneView,D=I.StudyPlotShapesPaneView,E=I.StudyPlotCharsPaneView,O=I.StudyPlotArrowsPaneView,V=I.StudyPlotBarsPaneView,B=I.StudyPlotCandlesPaneView,z=i(674),F=z.PlotFillPaneView,N=z.AreaBackgroundPaneView,H=i(52).PriceDataSource,W=i(181),U=i(182).StudyDataWindowView,j=i(158),q=i(183),G=i(40),Y=i(10).parseJSONorNot,X=i(117).ChartApiInterface,K=i(57).Telemetry,J=i(112),Z=i(43),Q=i(570).formatCallstudyArg,tt=i(571),et=i(277).FormattersSerializer,it=i(8).Point,ot=i(55).shiftColor,nt=i(7).DefaultProperty,rt=i(16).PriceFormatter,st=i(71).VolumeFormatter,at=i(66).NumericFormatter,lt=i(24),ct=lt.PlotList,ht=lt.PlotRowSearchMode,dt=lt.mergeMinMax,ut=i(39),pt=i(92),ft=i(2).propertyPages,_t=i(0).getLogger("Chart.Study");s.prototype.update=function(){this._invalidated=!0},s.prototype.updateImpl=function(){this._visible=!1;var t=this._study.lastValueData(this._plotName,!0);t.noData||(this._visible=!0,this._points=[new it(0,t.coordinate)],this._color=t.color)},s.prototype.renderer=function(){this._invalidated&&(this.updateImpl(),this._invalidated=!1);var t={};return t.width=this.m_model.timeScale().width(),t.height=this._study.priceScale().height(),t.points=this._points,t.color=this._color,t.linewidth=this._study.properties().styles[this._plotName].linewidth.value(),t.linestyle=CanvasEx.LINESTYLE_DOTTED,t.visible=this._visible,this._lineRenderer.setData(t),this._lineRenderer},inherit(v,H),TradingView.Study=v,i(892),v.prototype.lastValueData=function(t,e,i){var o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P={noData:!0};if(this._model.timeScale().isEmpty()||null==this.priceScale()||this.priceScale().isEmpty()||this.data().isEmpty())return P;if(null===(o=this._model.timeScale().visibleBars()))return P;if(!this.properties().visible.value())return P;if(n=this.properties().styles,r=this.properties().ohlcPlots,n&&n[t]&&(s=n[t]),r&&r[t]&&(s=r[t]),!s||!s.visible.value())return P;if(a=this.offset(t),null==(l=this.nearestIndex(o.lastBar()-a,ht.NearestLeft))||void 0===l)return P;for(h=this.metaInfo().plots,c=0;c<h.length&&!(h[c].id===t||this.isOHLCClosePlot(c)&&h[c].target===t);c++);if(d=this._lastNonEmptyPlotRow(c),u=null!==d&&o.contains(d.index),p=null!==d?d.value:null,!(f=e||u?p:this.data().valueAt(l))||!isNumber(f[c+1]))return P;for(_={noData:!1},g=null,m=null,y=0;y<h.length;y++)h[y].target===t&&(this.isSelfColorerPlot(y)||this.isOHLCColorerPlot(y))&&(g=y,m=this.metaInfo().palettes[h[y].palette],v=this.properties().palettes[h[y].palette]);if(b=f[c+1],i&&(_.price=b),this.priceScale().properties().percentage.value()){if(!(w=this.firstValue(!0)))return P;b=this.priceScale().priceRange().convertToPercent(b,w)}return _.text=this.priceScale().formatter().format(b),S=s.color.value(),g&&f.length>g+1?(T=f[g+1],void 0!==T&&null!==T?(x=m.valToIndex?m.valToIndex[T]:T,
_.color=v.colors[x].color.value()):_.color=S):_.color=S,_.floatCoordinate=this.priceScale().priceToCoordinate(b,!0),_.coordinate=Math.round(_.floatCoordinate),_.item=f,_},v.prototype.series=function(){return this._series},v.prototype.model=function(){return this._model},v.prototype._invalidateLastNonEmptyPlotRowCache=function(){this._lastNonEmptyPlotRowCache={}},v.prototype.clearData=function(){this._invalidateLastNonEmptyPlotRowCache(),this.m_data=new ct(this._plotFields),this._graphics=new q(this._metaInfo),this._plotOffsets={}},v.prototype.onTagsChanged=function(){return this._tagsChanged},v.prototype.properties=function(){return this._properties},v.prototype.state=function(t){var e,i,o,n,r=TradingView.className(this.constructor),s={type:r,id:this.id(),state:this.properties().state(),zorder:this.zorder()};for(this.metaInfo()instanceof ut?s.metaInfo=TradingView.clone(this.metaInfo().state()):(s.metaInfo=TradingView.clone(this.metaInfo()),s.metaInfo.id=ut.parseIdString(s.metaInfo.id+(s.metaInfo.version?"-"+s.metaInfo.version:"")).fullId),t&&(s.data=this.m_data.state(),s.data.symbols=this._resolvedSymbols,s.data.graphics=this._graphics.graphics(),s.data.plotOffsets=this._plotOffsets),this.ownerSource()&&(s.ownerSource=this.ownerSource().id()),e=0;e<this._metaInfo.inputs.length;e++)"bar_time"===this._metaInfo.inputs[e].type&&(i=this._metaInfo.inputs[e].id,(o=s.state.inputs[i])<0&&(n=this._rightOffsetToUnixTime(-o),s.state.inputs[i]=n&&n>=0?n:0));return this._isChildStudy&&ut.patchChildStudyMetaInfoState(s),s},v.prototype._plotsForAlert=function(){var t=this,e=this._metaInfo,i=[pt.PlotTypes.LINE,pt.PlotTypes.SHAPES,pt.PlotTypes.CHARS,pt.PlotTypes.ARROWS,pt.PlotTypes.OHLC_OPEN,pt.PlotTypes.OHLC_HIGH,pt.PlotTypes.OHLC_LOW,pt.PlotTypes.OHLC_CLOSE];return e.plots.map(function(t,e){return t.pinePlotIndex=e,t}).filter(function(t){return-1!==i.indexOf(t.type)}).map(function(i){var o={id:i.id,type:i.type,pinePlotIndex:i.pinePlotIndex,offset:t.offset(i.id)};return e.styles&&void 0!==e.styles[i.id]&&(o.title=e.styles[i.id].title||""),i.target&&e.ohlcPlots&&e.ohlcPlots[i.target]&&(o.ohlcTitle=e.ohlcPlots[i.target].title),o})},v.prototype._collectDepsForAlert=function(){var t,e,i,o,n,r,s=[this].concat(this.getAllOwnerSources()).filter(function(t){return t instanceof TradingView.Study}),a=[],l=void 0,c=void 0;for(t=s.length-1;t>=0;t--)e=s[t],i=ut.cutFullId(e._metaInfo.id),o=e._getStudyIdWithLatestVersion(),c=e.inputs(),n=e._metaInfo.inputs.filter(function(t){return"source"===t.type}).map(function(t){return t.id}),tt.patchChildIdInInputs(c,l,n),r=tt.idForAlert(i,c),a.push({id:r,study:o,inputs:c}),l=r;return{idForAlert:l,inputsForAlert:c,studyDependencies:a.reverse()}},v.prototype.idForAlert=function(){return this._collectDepsForAlert().idForAlert},v.prototype.toDepsObjectForAlert=function(t){return this._collectDepsForAlert().studyDependencies},v.prototype.dependenciesForAlerts=function(){var t=this;return this.getAllOwnerSources().filter(function(t){return t instanceof TradingView.Study}).map(function(e){
var i,o,n=e.inputs(),r=TradingView.StudyMetaInfo.cutDollarHash(e._metaInfo.fullId);return"tv-scripting"===e._metaInfo.productId&&(i=TradingView.StudyMetaInfo.findStudyMetaInfo(t._model._studiesMetaData,"Script@tv-scripting").fullId,r=i),o={id:e._studyId,study:r,inputs:n},null!=e._metaInfo.pine&&(o.scriptIdPart=e._metaInfo.scriptIdPart,o.scriptVersion=e._metaInfo.pine.version),o})},v.prototype.stateForAlert=function(){var t=this._metaInfo,e=this._plotsForAlert(),i=this._collectDepsForAlert(),o=i.idForAlert,n=i.studyDependencies,r=i.inputsForAlert,s=(this.priceScale()||this.model().mainSeries().priceScale()).formatter();return s=s?et.serialize(s):null,{id:o,uniqueId:o,type:TradingView.className(this.constructor),title:TradingView.clean(this._title(!1,null,!1),!0),shortTitle:TradingView.clean(this._title(!0,null,!1),!0),shortDescription:TradingView.clean(t.shortDescription||"Study",!0),fullId:t.fullId,isTVScript:t.isTVScript,plots:e,inputs:r,alerts:t.alerts,scriptIdPart:t.scriptIdPart,scriptVersion:t.pine?t.pine.version:"-1",callStudyDependencies:Q(this.dependenciesForAlerts()),studyDependencies:n,formatter:s}},v.prototype.isSavedInStudyTemplates=function(){for(var t=0;t<this._metaInfo.inputs.length;t++)if("bar_time"===this._metaInfo.inputs[t].type)return!1;return!0},v.prototype.restoreData=function(t){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.restoreState(t),this._resolvedSymbols=t.symbols,this._graphics.setGraphics(t.graphics),this._postProcessGraphics(),this._plotOffsets=t.plotOffsets},v.prototype.restart=function(){this._restarting=!0,this.clearData(),n.enabled("stop_study_on_restart")&&this.stop(),setTimeout(this.start.bind(this),0)},v.prototype.stop=function(t){if(!0===t&&this._children)for(var e=0;e<this._children.length;++e)this._children[e].stop(!0);this._chartApi&&this._chartApi.connected()&&this._studyId&&this._chartApi.removeStudy(this._studyId,this._handler,this._isChildStudy),n.enabled("update_study_formatter_on_symbol_resolve")&&this._model.mainSeries().onSymbolResolved().unsubscribe(this,v.prototype._createFormatter),this._studyId=null,this.clearData(),this._unsubscribeExtendedHours(),this.recalculate()},v.prototype._resolveSymbol=function(t){var e=function(i,o){this._chartApi.resolveSymbol(this._makeNextSymbolId(),i,function(i){switch(i.method){case"symbol_resolved":this._resolvedSymbols[t]=i.params[1],this.invalidateTitleCache(!0),o.resolve(t);break;case"symbol_error":if("permission denied"===i.params[1]&&i.params[2])switch(i.params[2]){case TradingView.Series.PD_REASON_EXTENDED_HOURS:break;case TradingView.Series.PD_REASON_SYMBOL:if(i.params[3])return void e(i.params[3],o);break;default:return void e(i.params[2],o)}K.sendReport("charts","symbol_error"),o.reject(t)}}.bind(this))}.bind(this),i=$.Deferred();return e(t,i),i.promise()},v.prototype._allSymbolsAreResolved=function(){var t,e,i,o,n=$.Deferred(),r=[];for(t=0;t<this._metaInfo.inputs.length;t++)"symbol"===this._metaInfo.inputs[t].type&&(e=this._metaInfo.inputs[t].id,i=this._properties.inputs[e].value(),
this._resolvedSymbols[i]||(o=this._resolveSymbol(i),r.push(o)));return r.length>0?$.when.apply($,r).done(function(){0!==this._studyId&&this.stop(!0),this.start(!0),n.resolve("All symbols are resolved now")}.bind(this)).fail(function(t){this._status=$.t("Invalid Symbol"),this.stop(!0),this._model.updateSource(this),n.reject("Invalid symbol, "+t)}.bind(this)):n.resolve("There are no symbols to resolve"),n.promise()},v.prototype._allInputsAreValid=function(){var t,e,i;for(t=0;t<this._metaInfo.inputs.length;t++)if("bar_time"===this._metaInfo.inputs[t].type&&(e=this._metaInfo.inputs[t].id,void 0===(i=this._properties.inputs[e].value())||null==i))return!1;return!0},v.prototype.sourceId=function(){return this._studyId},v.prototype.source=function(){return this._source||this._series},v.prototype.ownerSource=function(){return this._isChildStudy?this._source:H.prototype.ownerSource.call(this)},v.prototype.getAllOwnerSources=function(){for(var t=[],e=this.ownerSource();null!=e;)t.push(e),e=e.ownerSource();return t},v.prototype.isChildStudy=function(){return!!this._isChildStudy},v.prototype.setChild=function(t){t instanceof v&&t.source()===this&&(this._children||(this._children=[]),-1===this._children.indexOf(t)&&this._children.push(t))},v.prototype.unsetChild=function(t){if(t instanceof v&&t.source()===this&&this._children){var e=this._children.indexOf(t);~e&&this._children.splice(e,1)}},v.prototype.hasChildren=function(){return!(!this._children||!this._children.length)},v.prototype.getAllChildren=function(){var t,e,i,o;if(!Array.isArray(this._children))return[];for(t=this._children.slice(),e=0;e<t.length;++e)for(i=t[e].getAllChildren(),o=0;o<i.length;++o)~t.indexOf(i[o])||t.push(i[o]);return t},v.prototype._debugId=function(){var t=[];return this._studyId&&t.push(this._studyId),t.push(this._metaInfo.fullId),t.push(this._metaInfo.description),JSON.stringify({study:t})},v.prototype.isStarted=function(){return!!this._studyId},v.prototype.isRestarting=function(){return!!this._restarting},v.prototype.isVisible=function(){var t,e,i;if(!this.properties().visible.value())return!1;if(this._metaInfo.plots.length>0)return!0;for(t in this._metaInfo.graphics)for(e in this._metaInfo.graphics[t])if(i=this.properties().graphics[t][e],!i.visible||i.visible.value())return!0;return!!this._metaInfo.isTVScriptStrategy},v.prototype.start=function(t,e){var i,o=this._model.mainSeries();if(!o.isStarted())return void o.onCompleted().subscribe(this,function(){this.start(t,e)},!0);this._isChildStudy&&this._source.isHibernated()&&this._source.start(),i=!this._isChildStudy&&!this.hasChildren()&&!this.isVisible(),!this._chartApi||!this._chartApi.connected()||i&&!0!==e||this._allSymbolsAreResolved().done(function(i){this._startAfterSymbolsResolved(t,e)}.bind(this)).fail(function(t){_t.logError("ERROR: "+this._debugId()+" start failed, "+t),delete this._restarting}.bind(this))},v.prototype._getStudyIdWithLatestVersion=function(){var t=ut.cutDollarHash(this._metaInfo.id),e=t
;return["Script@tv-scripting","StrategyScript@tv-scripting","ESD@tv-scripting"].indexOf(t)>=0?e+="-72!":e+="-"+this._metaInfo.version,e},v.prototype._startAfterSymbolsResolved=function(t,e){var i,o;if(!this.isStarted()||this._restarting){if(this._isChildStudy){if(!this._source.isStarted()||this._source.isRestarting())return void this._source.onStart.subscribe(this,this._startAfterSymbolsResolved,!0);ut.setChildStudyMetaInfoPropertiesSourceId(this._metaInfo,this._source.sourceId(),this._properties)}if(this._studyId=v.makeNextStudyId(),delete this._restarting,this._allInputsAreValid()&&(this._inputs=this.inputs(),i=this._getStudyIdWithLatestVersion(),this._chartApi.createStudy(this._studyId,this._turnaround,this._isChildStudy?this._source.sourceId():this._series._seriesId,i,this._inputs,this._handler,this._isChildStudy),this._studyName=i,this._subscribeExtendedHours(),this.onStart.fire(this._studyId),!0===t&&this._children))for(o=0;o<this._children.length;++o)this._children[o].start(!0,e)}},v._nextSymbolId=0,v.prototype._makeNextSymbolId=function(){return"ss_"+ ++v._nextSymbolId},v._nextStudyId=0,v.makeNextStudyId=function(){return"st"+ ++v._nextStudyId},v.prototype._rightOffsetToUnixTime=function(t){var e;return this._series.bars().size()>=t&&(e=S(this._series.bars().lastIndex())-t,S(this._series.bars().valueAt(e))[TradingView.TIME_PLOT]),null},v.prototype.getSymbolString=function(t){return this._series&&this._series.extendedHours.value()?"="+JSON.stringify({symbol:t,session:"extended"}):t},v.prototype.inputsForGUI=function(){return this.inputs({symbolsForDisplay:!0,skipHiddenInputs:!0,skipFakeInputs:!1,fakeInputsForDisplay:!0,asObject:!1})},v.prototype.inputsForAlert=function(){var t=this.offset(),e=this.inputs();return t&&e.push(t),e},v.prototype.inputs=function(t){var e={symbolsForDisplay:!1,symbolsForChartApi:!0,skipHiddenInputs:!1,skipFakeInputs:!1,asObject:!0};return TradingView.merge(e,t),this._buildInputs(e)},v.prototype._buildInputs=function(t){var e,i;w(!!t,"options not set"),e={};try{e=this._prepareInputs(t)}catch(t){_t.logWarn("Failed to prepare study inputs: "+t)}return t.asObject?(i={},Object.keys(e).forEach(function(t){null!=e[t]&&(i[t]=e[t])}),i):(i=[],Object.keys(e).forEach(function(t){null!=e[t]&&i.push(e[t])}),i)},v.prototype._prepareInputs=function(t){var e,i,o,r;for(w(!!t,"options not set"),e={},i=0;i<this._metaInfo.inputs.length;i++)o=this._metaInfo.inputs[i],o.isFake&&t.skipFakeInputs||o.isHidden&&t.skipHiddenInputs||"bool"===o.type&&t.skipHiddenInputs&&n.enabled("dont_show_boolean_study_arguments")||(r=this._prepareInput(o,t),e[o.id]=TradingView.clone(r));return e},v.prototype._prepareInput=function(t,e){var i=this._prepareInputValue(t,e);return!t.isFake||e.fakeInputsForDisplay?i:e.onlyAtomValues?i:{v:i,f:!0,t:t.type}},v.prototype._prepareInputValue=function(t,e){var i,o,n,r,s=t.id;return"symbol"===t.type?(i=this._properties.inputs[s].value(),
e&&e.symbolsForDisplay?this._resolvedSymbols&&this._resolvedSymbols[i]&&(i=this._resolvedSymbols[i].name+", "+this._resolvedSymbols[i].exchange):(this._resolvedSymbols&&this._resolvedSymbols[i]&&(o=this._resolvedSymbols[i],i=o.ticker||o.full_name),e&&e.symbolsForChartApi&&(i=this.getSymbolString(i))),i):"bar_time"===t.type?(n=this._properties.inputs[s].value(),n<0&&(r=this._rightOffsetToUnixTime(-n),n=r&&r>=0?r:n),n):this._metaInfo.isTVScript||this._metaInfo.pine?"text"===s?this._metaInfo.defaults.inputs.text:"pineId"===s?this._metaInfo.scriptIdPart:"pineVersion"===s?this._metaInfo.pine?this._metaInfo.pine.version:"-1":this._properties.inputs[s].value():this._properties.inputs[s].value()},v.prototype._rebindToSource=function(t,e){var i,o,n,r,s,a,l,c,h,d,u;if(this._isChildStudy){if(this._source.unsetChild(this),delete this._nonPriceParent,o=null,t===this._model.mainSeries()){for(n=this._model.studiesMetaData(),s=0;s<n.length;++s)if(this._metaInfo.id===n[s].id){r=n[s];break}if(!r)return void _t.logError("Can not find "+this._metaInfo.id+" meta info");delete this._source,delete this._isChildStudy,delete this._ownerSource,this._metaInfo=r.state(!0),i=this._series._seriesId,o=X.REBIND_STUDY_CHILD_TO_STANDALONE}else{if(!(t instanceof v))return _t.logError("Unable to rebind study to source of this type"),!1;this._ownerSource=t,this._source=t,i=this._source.sourceId(),this._source.setChild(this),this._source.isHibernated()&&this._source.start()}this._chartApi.rebindStudy(this._studyId,this._turnaround,i,this._studyName,e,this._handler,o)}else{if(!(t instanceof v))return _t.logError("Unable to rebind study to source of this type"),!1;if(a=t.isHibernated(),a&&t.start(),l=!1,this._canCreateStudyWithRebindType(X.REBIND_STUDY_STANDALONE_TO_CHILD)?l=this._chartApi.rebindStudy(this._studyId,this._turnaround,t.sourceId(),this._studyName,e,this._handler,X.REBIND_STUDY_STANDALONE_TO_CHILD):Z.createGoProDialog({feature:"studyOnStudy"}).then(function(t){t.open()}),!l)return a&&t.stop(),!1;this._metaInfo=TradingView.clone(this._metaInfo),this._isChildStudy=!0,this._ownerSource=t,this._source=t,this._source.setChild(this),this._childStudyByRebind.fire()}return c=this.m_priceScale,h=t.priceScale(),c!==h&&(d=this._model.paneForSource(this),u=this._model.paneForSource(t),d===u&&(~c.dataSources().indexOf(this)&&c.removeDataSource(this),h.addDataSource(this),this.setPriceScale(h))),!0},v.prototype.childStudyByRebind=function(){return this._childStudyByRebind},v.prototype._changeInputsImpl=function(t,e){var i,o,n,r,s=this.source(),a=this._properties.inputs&&this._properties.inputs.state(),l=ut.getSourceIdByInputs(this._metaInfo.inputs,a),c=!0;if(l)if("high"===l||"open"===l||"low"===l||"close"===l||"hl2"===l||"ohl3"===l||"ohlc4"===l)s=this._model.mainSeries();else for(i=this._model.dataSources(),o=0;o<i.length;++o)if(i[o]instanceof v&&i[o].sourceId()===l){s=i[o];break}if(s!==this.source()){if(!this._rebindToSource(s,t)&&a){for(n=null,r=null,o=0;o<e.length;++o)if(e[o]!==t[o]&&0===t[o].indexOf(l)){n=this._properties.inputs[a[o].id],r=e[o],c=!1
;break}n&&n.setValue(r)}}else this._chartApi.modifyStudy(this._studyId,this._turnaround,t,this._handler);c&&(this._studyModified=c)},v.prototype._changeInputs=function(t){var e=TradingView.clone(this._inputs);this._studyId&&this._chartApi.connected()?(this._turnaround="st"+ ++this._turnaroundCounter,this._allInputsAreValid()?this._allSymbolsAreResolved().done(this._changeInputsImpl.bind(this,t,e)).fail(function(t){_t.logError("ERROR: "+this._debugId()+" _changeInputs: cannot modify study, "+t)}.bind(this)):this.stop()):(this.stop(!0),this.start(!0)),this._inputs=t,this._tagsChanged.fire(),this._titleCache={}},v.prototype.testInputValue=function(t,e){var i,o;return!ut.canBeChild(this._metaInfo)||!ut.isSourceInput(t)||(!(i=this._properties.inputs&&this._properties.inputs[t.id])||(o=v.getInputRebindType(t,i.value(),e),!!this._canCreateStudyWithRebindType(o)||(Z.createGoProDialog({feature:"studyOnStudy"}).then(function(t){t.open()}),!1)))},v.prototype._canCreateStudyWithRebindType=function(t){return t!==X.REBIND_STUDY_STANDALONE_TO_CHILD||this._chartApi.isCanCreateStudy(!0)},v.prototype.changeStyles=function(){var t,e=null!=this._metaInfo.inputs.filter(function(t){return"symbol"===t.type})[0];!this.isStarted()&&!e||this._restarting||(this._inputs?(t=this.inputs(),JSON.stringify(t)!==JSON.stringify(this._inputs)&&this._changeInputs(t)):this._chartApi&&this._chartApi.connected()&&this.restart(),this._metaInfo.isTVScript&&this._metaInfo.TVScriptMetaInfoExprs&&(this._pinePatchProps(),this._titleCache={}),this.hasBarColorer()&&this._model.mainSeries().invalidateBarStylesCache(),e&&this.invalidateBarStylesCache(),this.createViews(),this.recalculate(!0),this.updateAllViews())},v.prototype._isModifiedStudyInputs=function(t){if(void 0===this._oldStudyInputs)return this._oldStudyInputs=t,!0;var e=Object.keys(this._oldStudyInputs);return w(e.length===Object.keys(t).length,"keys quantity should be equal"),e.forEach(function(e){w(t.hasOwnProperty(e),"key '"+e+"' should existing in studyInputs"),this._oldStudyInputs[e]!==t[e]&&(this._oldStudyInputs=t)},this),this._oldStudyInputs===t},v.prototype._pinePatchProps=function(){var t,e,i={symbolsForDisplay:!1,symbolsForChartApi:!0,skipHiddenInputs:!0,skipFakeInputs:!1,onlyAtomValues:!0},o=this._prepareInputs(i);this._isModifiedStudyInputs(o)&&(t=J.patchPropertiesAsync(this._properties,this._metaInfo,o),e=this._allSymbolsAreResolved(),$.when(t,e).done(function(t,e){this.createViews(),this.recalculate(!0),this.updateAllViews()}.bind(this)).fail(function(t){_t.logError("ERROR: "+this._debugId()+" _pinePatchProps failed, reason: "+t)}.bind(this)))},v.prototype.visibleChanged=function(){this._series instanceof TradingView.Series&&this._series.invalidateBarColorerCache()},v.prototype.invalidateBarStylesCache=function(){this.m_data.each(function(t,e){e[TradingView.STYLE_PLOT]=null})},v.prototype.processHibernate=function(){this.isHibernateAllowed()&&(!this._studyId&&this.isVisible()&&this.start(),this._studyId&&!this.isVisible()&&this.stop())},v.prototype.isHibernated=function(){
return!this.isVisible()&&!this._studyId},v.prototype.isHibernateAllowed=function(){return!this._isChildStudy&&!this.hasChildren()},v.prototype.lastPriceLabelFixedCoordinate=function(t){return this._priceAxisViewsCache[t]._fixedCoordinate},v.prototype.priceLabelText=function(t){var e,i,o,n;return 1===this._simplePlotsCount?this._metaInfo.shortDescription:(e=this._metaInfo.styles,i=this._metaInfo.ohlcPlots,e&&e[t]&&(o=e[t]),i&&i[t]&&(o=i[t]),n=o.title,this._metaInfo.is_price_study?this._metaInfo.shortDescription+":"+n:n)},v.prototype.createPlotLabels=function(t){for(var e=0;e<t.length;e++)this._paneViews.push(new W(this._model,this,t[e],"priceLabelText","showStudyPlotLabels"))},v.prototype.createViews=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p;if(this._priceAxisViewsBase=[],this._paneViews=[],t={},this._priceAxisViewsCache={},e=[],this.metaInfo().plots)for(i=0;i<this.metaInfo().plots.length;i++)if(!(this.isSelfColorerPlot(i)||this.isTextColorerPlot(i)||this.isBarColorerPlot(i)||this.isOHLCColorerPlot(i)))if(o=this.metaInfo().plots[i].id,this.isBgColorerPlot(i))this._paneViews.push(new R(this,this._series,this._model,o));else if(this.isPlotShapesPlot(i))this._paneViews.push(new D(this,this._series,this._model,o));else if(this.isPlotCharsPlot(i))this._paneViews.push(new E(this,this._series,this._model,o));else if(this.isPlotArrowsPlot(i))this._paneViews.push(new O(this,this._series,this._model,o));else if(this.isOHLCSeriesPlot(i)){if(n=this.metaInfo().plots[i].target,t[n])continue;t[n]=n,this.isOHLCBarsPlot(i)?this._paneViews.push(new V(this,this._series,this._model,n)):this.isOHLCCandlesPlot(i)&&this._paneViews.push(new B(this,this._series,this._model,n)),r=new L(this,{plotIndex:n}),this._priceAxisViewsCache[n]=r,this._priceAxisViewsBase.push(r),e.push(n)}else r=new L(this,{plotIndex:o}),this._priceAxisViewsCache[o]=r,this._priceAxisViewsBase.push(r),this._paneViews.push(new A(this,this._series,this._model,o)),this.properties().styles[o].trackPrice.value()&&this._paneViews.push(new s(this,this._series,this._model,o)),e.push(o);if(this._properties.bands)for(i=0;i<this._properties.bands.childCount();i++)this._properties.bands[i].visible.value()&&this._paneViews.push(new C(this._properties.bands[i],this));this._properties.bandsBackground&&this._paneViews.push(new M(this)),a=[],this.metaInfo().graphics&&(a=Object.keys(this.metaInfo().graphics),a.sort(function(t,e){return v.graphicsZOrderPriority(t)-v.graphicsZOrderPriority(e)}));for(l in a)c=a[l],h="_paneView"+c,d="StudyPaneView_"+c,TradingView.Study[d]&&(this[h]=new TradingView.Study[d](this,this._model),this._paneViews.push(this[h])),this._dataWindowView||"hhists"!==c||(this._dataWindowView=new TradingView.StudyHHistsDataWindowView(this,this._model));if(this._properties.areaBackground&&this._paneViews.push(new N(this)),this._properties.filledAreas&&this._metaInfo.filledAreas)for(i=0;i<this._metaInfo.filledAreas.length;++i)u=this._metaInfo.filledAreas[i],p=this._properties.filledAreasStyle[u.id],
u.type===ut.FilledArea.TYPE_PLOTS||u.palette?this._paneViews.push(new F(this,u,p)):u.type===ut.FilledArea.TYPE_HLINES?this._paneViews.push(new k(this,u,p)):_t.logWarn("Unsupported filledArea type: "+u.type);this.createPlotLabels(e),this._dataWindowView||(this._dataWindowView=new U(this,this._model)),this._statusView||(this._statusView=new j(this,this._model.properties())),this._priceAxisViews=[].concat(this._priceAxisViewsBase,this._hlinesPriceAsisViews,this._horizlinesPriceAsisViews)},v.prototype.recalculate=function(t){var e=this._model.paneForSource(this);this._model.recalculatePane(e,t),this._model.updateSource(this)},v.prototype.data=function(){return this.m_data},v.prototype.metaInfo=function(){return this._metaInfo},v.prototype.status=function(){return this._status},v.prototype.title=function(t,e,i){var o,n=JSON.stringify([t,e,i]);return this._titleCache[n]?this._titleCache[n]:(o=this._title(t,e,i||!this._showStudyArgumentsProperty.value()),this._titleCache[n]=o,o)},v.prototype._title=function(t,e,i){var o,n,r,s,a,l,c,h,d,u,p,f,_;if(o=t?this._metaInfo.shortDescription||this._properties.shortDescription&&this._properties.shortDescription.value()||"Study":this._metaInfo.description||this._properties.description&&this._properties.description.value()||"Study",e=e||{},o=$.t(o),!i&&(n=this.inputsForGUI()||[],n.length>0)){if(r={},this._isChildStudy)for(s=0;s<this._metaInfo.inputs.length;++s)if(a=this._metaInfo.inputs[s],ut.isSourceInput(a)){l=a.id,c=this._properties.inputs[l].value(),c.indexOf("$")>=0&&this._source&&(h=this._source.metaInfo(),d=this._source.title(t,null,!0),1===h.plots.length?r[c]=d:(u=c.split("$")[1],p=h.plots[u].id,f=h.styles&&h.styles[p]&&h.styles[p].title||p,r[c]=d+":"+f));break}_=this,n=n.map(function(t){var i=isNumber(t)?_._numericFormatter.format(t):r&&r[t]||t;return e[i]&&(i=e[i]),i}),o+=" ("+n.join(", ")+")"}return o},v.prototype.invalidateTitleCache=function(t){if(this._titleCache={},!0===t&&this._children)for(var e=0;e<this._children.length;++e)this._children[e].invalidateTitleCache(t)},v.prototype.graphics=function(){return this._graphics.graphics()},v.prototype.turnaround=function(t){return!0===t?this.source().turnaround(!0)+"_"+this._turnaround:this._turnaround},v.prototype._checkTurnaround=function(t){return t===this._turnaround||t===this._model.mainSeries().turnaround()||t===this.turnaround(!0)},v.prototype._makeJSONForNSData=function(t,e){var o=""!==t.params.nonseries.d?Y(t.params.nonseries.d):e||"";return o.dataCompressed||o.graphicsCmdsCompressed?new Promise(function(t){i.e(14).then(function(e){var n,r=i(1246);o.dataCompressed&&(n=new r(o.dataCompressed,{base64:!0}).file("").asText(),delete o.dataCompressed,o.data=Y(n)),o.graphicsCmdsCompressed&&(n=new r(o.graphicsCmdsCompressed,{base64:!0}).file("").asText(),delete o.graphicsCmdsCompressed,o.graphicsCmds=Y(n)),t(o)}.bind(null,i)).catch(i.oe)}):Promise.resolve(o)},v.prototype.onData=function(t){var e,i,o,n,r=this;switch(t.method){case"study_loading":this._status=$.t("loading..."),this._failed=!1,this._statusView.update(),
this._model.updateSource(this),-1===["Plot splits","Plot earnings","Plot dividends"].indexOf(r._metaInfo.description)&&(r._loadingStartTime=(new Date).getTime());break;case"study_error":delete this._loadingStartTime,this._failed=!0,this.clearData(),"string"==typeof t.params[2]?this._status=$.t(t.params[2].split(":",2)[0]):this._status="",-1===["Sessions"].indexOf(r._metaInfo.description)&&(this instanceof TradingView.StudyStrategy?K.sendReport("charts","strategy_error"):K.sendReport("charts","study_error")),this._statusView.update(),this._model.updateSource(this);break;case"study_completed":if(!this._checkTurnaround(t.params[1]))return Promise.resolve();e="chartSession:"+r._chartApi._sessionid,i=(new Date).getTime()-this._loadingStartTime,_t.logDebug(e+", Study "+this._metaInfo.description+" loading took "+i+" ms"),delete this._loadingStartTime,this._status="",this._statusView.update(),o=this._model.paneForSource(this),this._model.recalculatePane(o),this._updateSources(),this._model.invalidate(new G(G.FULL_UPDATE));break;case"study_deleted":break;case"data_update":return this._checkTurnaround(t.params.turnaround)?(this._studyModified&&(this.clearData(),this._studyModified=!1),n=0===this.m_data.size()&&this._metaInfo.plots.length>0,w(!!t.params.nonseries,"data.params.nonseries is missing"),new Promise(function(e){r._makeJSONForNSData(t).then(function(i){var o,s;t.params.nonseries.d=i,r._processPlotOffsets(t.params),r.transformData(t.params.plots),o=r._mergeData(t.params.plots).earliestRow,r.hasBarColorer()&&(null!==o?r._model.mainSeries().invalidateBarStylesCache(o.index):_t.logNormal("ERROR: No earliestRow in studies plots, "+r._debugId())),r._graphics.process(t.params.nonseries),r._postProcessGraphics(),s=r._model.paneForSource(r),r._model.recalculatePane(s,n),r._updateSources(),e()})})):Promise.resolve()}return Promise.resolve()},v.prototype.transformData=function(t){},v.prototype.moveData=function(t){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.move(t)},v.prototype.replaceData=function(t,e,i){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.remove(t+1),this.m_data.addTail(i,e)},v.prototype._updateSources=function(){this._model.updateSource(this),this.hasBarColorer()&&this._model.updateSource(this._model.mainSeries())},v.processPlotOffsets=function(t,e){if(!e.nonseries||"nochange"!==e.nonseries.indexes){var i=e.nonseries.d;if(!i||!i.indexes_replace)return i&&i.offsets?void(t._plotOffsets=i.offsets):void(t._plotOffsets={})}},v.prototype._processPlotOffsets=function(t){v.processPlotOffsets(this,t)},v.prototype._mergeData=function(t){return this._invalidateLastNonEmptyPlotRowCache(),this.m_data.merge(t)},v.prototype._postProcessGraphics=function(){var t=this,e=function(e){var i,o,n,r,s=t._graphics.graphics(),a=[];if(s&&s[e])for(n=s[e],i=0;i<n.length;i+=1)if(n[i].data)for(o=0;o<n[i].data.length;o+=1)r={line:n[i].data[o],styleId:n[i].styleId,lineType:e},a.push(new v.StudyPriceAxisView_hlines(t,r));return a};this._hlinesPriceAsisViews=e("hlines"),this._horizlinesPriceAsisViews=e("horizlines"),
this._priceAxisViews=[].concat(this._priceAxisViewsBase,this._hlinesPriceAsisViews,this._horizlinesPriceAsisViews)},v.prototype._getNonPriceParent=function(){var t,e;if(this._nonPriceParent)return this._nonPriceParent;for(t=this.source();t instanceof v;){if(e=t.metaInfo(),!e.is_price_study||"Compare@tv-basicstudies"===e.id)return this._nonPriceParent=t,t;t=t.source()}},v.prototype.firstValue=function(t){var e,i,o,n,r,s;return!this._isChildStudy&&"Compare@tv-basicstudies"===this._metaInfo.id||!this._metaInfo.is_price_study?null===(e=this._model.timeScale().visibleBars())?null:(i=e.firstBar(),o=e.lastBar(),0===this.m_data.size()?null:(r=this,this.m_data.range(i,o).each(function(e,i){var o,s,a;for(o=1;o<i.length;++o)if(void 0!==i[o-1]&&null!==i[o-1]&&!r.isSelfColorerPlot(o-1)&&(s=r._metaInfo.plots[o-1].id,a=r.properties().styles[s],a.visible&&a.visible.value()&&!(t&&Math.abs(i[o])<1e-10||void 0===i[o]||null===i[o]||n)))return n=i[o],!0}),this._nonPriceFirstValue=n,n)):this._isChildStudy&&(s=this._getNonPriceParent())&&this.priceScale()===s.priceScale()?void 0!==s._nonPriceFirstValue?s._nonPriceFirstValue:s.firstValue():this._series.firstValue()},v.offset=function(t,e){var i=0;return t._plotOffsets&&void 0!==t._plotOffsets[e]&&(i+=t._plotOffsets[e]),void 0!==t._plotOffsetsMetaInfoOverride[e]?i+=t._plotOffsetsMetaInfoOverride[e]:t.properties().offsets&&void 0!==t.properties().offsets[e]&&(i+=t.properties().offsets[e].val.value()),t.properties().offset&&(i+=t.properties().offset.val.value()),i},v.prototype.offset=function(t){return v.offset(this,t)},v.prototype.priceRange=function(t,e){var i,o,n,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S;if(!TradingView.isInteger(t))return void _t.logDebug("priceRange: incorrect startBar");if(!TradingView.isInteger(e))return void _t.logDebug("priceRange: incorrect endBar");if(0===this.m_data.size())return null;if(i=null,o=this,n=o._metaInfo,0===n.plots.length)return null;for(a=[],c=0;c<n.plots.length;++c)if(!(o.isSelfColorerPlot(c)||o.isTextColorerPlot(c)||o.isBarColorerPlot(c)||o.isBgColorerPlot(c)||o.isOHLCColorerPlot(c))&&(h=n.plots[c].id,o.isOHLCSeriesPlot(c)?(u=n.plots[c].target,d=o.properties().ohlcPlots[u]):d=o.properties().styles[h],d.visible.value()&&(l=null,d.location&&(l=d.location.value()),s||(p=[CanvasEx.MARKLOC_ABSOLUTE,CanvasEx.MARKLOC_TOP,CanvasEx.MARKLOC_BOTTOM].indexOf(l)<0,f=o.isPlotShapesPlot(c)||o.isPlotCharsPlot(c),s=f&&p||o.isPlotArrowsPlot(c)),o.isLinePlot(c)||(o.isPlotShapesPlot(c)||o.isPlotCharsPlot(c))&&d.location.value()===CanvasEx.MARKLOC_ABSOLUTE||o.isOHLCSeriesPlot(c)))){if(_={index:c+1,offset:o.offset(h)},g=o.properties().styles[h].plottype.value(),!o.properties().skipHistogramBaseOnAutoScale&&[pt.PlotType.Histogram,pt.PlotType.Columns,pt.PlotType.Area].indexOf(g)>=0){if(m=o.properties().styles[h].histogramBase.value(),!isNumber(m))continue;_.baseValue=m}a.push(_)}if(v=o.m_data.minMaxOnRange2(t,e,a),s&&(a=[{index:TradingView.LOW_PLOT,offset:0},{index:TradingView.HIGH_PLOT,offset:0}],y=o.series().data().bars().minMaxOnRange2(t,e,a),v=dt(v,y)),
null!==v&&(i=new r(v.min,v.max)),n.bands)for(c=0;c<n.bands.length;c++)if(o.properties().bands[c].visible.value()){if(m=o.properties().bands[c].value.value(),!isNumber(m))continue;i?i.apply(m,m):i=new r(m,m)}return i&&i.minValue()===i.maxValue()&&(b=.005*i.minValue(),i=new r(i.minValue()-b,i.maxValue()+b)),w=this.priceScale(),w&&w.properties().percentage.value()&&i?(S=this.firstValue(),S?i.convertToPercents(S):null):w&&w.isLog()&&i?new r(o.priceScale().priceToLogical(i.minValue()),o.priceScale().priceToLogical(i.maxValue())):i},v.prototype.paneViews=function(t){return this.properties().visible.value()?this._paneViews:null},v.prototype.dataWindowView=function(){return this._dataWindowView},v.prototype.statusView=function(){return this._statusView},v.prototype.priceAxisViews=function(t,e){return this._model.paneForSource(this)===t&&e===this.priceScale()&&(this._showLastValueOnPriceScale()||this.properties().oldShowLastValue&&this.properties().oldShowLastValue.value())?this._priceAxisViews:null},v.prototype._showLastValueOnPriceScale=function(){return this._model.properties().scalesProperties.showStudyLastValue.value()},v.prototype.isLinePlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.LINE},v.isSelfColorerPlot=function(t,e){return t._metaInfo.plots[e].type===pt.PlotTypes.COLORER},v.prototype.isSelfColorerPlot=function(t){return v.isSelfColorerPlot(this,t)},v.prototype.isTextColorerPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.TEXT_COLORER},v.prototype.isBarColorerPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.BAR_COLORER},v.prototype.isBgColorerPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.BG_COLORER},v.prototype.isPlotShapesPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.SHAPES},v.prototype.isPlotCharsPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.CHARS},v.prototype.isPlotArrowsPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.ARROWS},v.prototype.isOHLCBarsPlot=function(t){var e=this._metaInfo.plots[t].target,i=this.metaInfo().defaults.ohlcPlots[e];return i&&this.isOHLCSeriesPlot(t)&&i.plottype===pt.OHLCType.BARS},v.prototype.isOHLCCandlesPlot=function(t){var e=this._metaInfo.plots[t].target,i=this.metaInfo().defaults.ohlcPlots[e];return i&&this.isOHLCSeriesPlot(t)&&i.plottype===pt.OHLCType.CANDLES},v.prototype.isOHLCSeriesPlot=function(t){var e=this._metaInfo.plots[t].type;return e===pt.PlotTypes.OHLC_OPEN||e===pt.PlotTypes.OHLC_HIGH||e===pt.PlotTypes.OHLC_LOW||e===pt.PlotTypes.OHLC_CLOSE},v.prototype.isOHLCOpenPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.OHLC_OPEN},v.prototype.isOHLCHighPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.OHLC_HIGH},v.prototype.isOHLCLowPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.OHLC_LOW},v.prototype.isOHLCClosePlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.OHLC_CLOSE},v.prototype.isOHLCColorerPlot=function(t){
return this._metaInfo.plots[t].type===pt.PlotTypes.OHLC_COLORER},v.prototype.isDataOffsetPlot=function(t){return this._metaInfo.plots[t].type===pt.PlotTypes.DATAOFFSET},v.prototype.hasBarColorer=function(){for(var t=0;t<this._metaInfo.plots.length;++t)if(this.isBarColorerPlot(t))return!0;return!1},v.prototype.barColorer=function(){var t,e,i=null;for(t=0;t<this._metaInfo.plots.length;++t)this.isBarColorerPlot(t)&&(e=new T(this,t),null==i?i=e:i.pushBackBarColorer(e));if(null==i)throw Error("Cannot create BarColorer: study doesn't have a bar_colorer plot!");return i},v.prototype.base=function(){return"Volume"===this._metaInfo.id?1:0},v.prototype._createFormatter=function(){var t,e,i;"default"===this.properties().precision.value()?this.metaInfo().defaults&&(t=parseInt(this.metaInfo().defaults.precision)):t=parseInt(this.properties().precision.value()),isFinite(t)||(t=-1!==["Volume@tv-basicstudies","VbPVisible@tv-volumebyprice","VbPSessions@tv-volumebyprice"].indexOf(this._metaInfo.id)?0:1e4),e=this.series().symbolInfo(),0===t?(i=0,e&&e.volume_precision&&(i=e.volume_precision),this._formatter=new st(i)):this._formatter=new rt(Math.pow(10,t)),this.priceScale()&&this.priceScale().updateFormatter()},v.prototype.formatter=function(){return this._formatter},v.prototype.nearestIndex=function(t,e){if(!TradingView.isInteger(t))return void _t.logDebug("nearestIndex: incorrect logicalPoint");var i=this._series.data().bars().search(t,e);return null!==i?i.index:void 0},v.prototype._lastNonEmptyPlotRow=function(t){var e,i;return TradingView.isInteger(t)?void 0!==this._lastNonEmptyPlotRowCache[t]?this._lastNonEmptyPlotRowCache[t]:(e=1e3,null===(i=this.data().findLast(function(e,i){return void 0!==i[t]},e))?null:(this._lastNonEmptyPlotRowCache[t]=i,this._lastNonEmptyPlotRowCache[t])):(_t.logDebug("_lastNonEmptyPlotRow: incorrect plotIndex"),null)},v.prototype.updateAllViews=function(){var t;for(t=0;t<this._paneViews.length;t++)this._paneViews[t].update();for(this._dataWindowView.update(),this._statusView.update(),t=0;t<this._priceAxisViews.length;t++)this._priceAxisViews[t].update()},v.prototype.tags=function(){return!this._metaInfo||!this._metaInfo.description||this._metaInfo.isTVScriptStub||this._metaInfo.is_hidden_study||this._metaInfo.isTVScript&&"tv-scripting"===this._metaInfo.productId?[]:[this._metaInfo.description]},v.isPointsBasedStudy=function(t){switch(t){case"VbPFixed@tv-volumebyprice":case"mtp_tsanalysis@mtp-mtpredictor":case"mtp_riskreward@mtp-mtpredictor":case"mtp_decisionpoint@mtp-mtpredictor":case"mtp_ew_main@mtp-mtpredictor":case"mtp_ew_major@mtp-mtpredictor":case"mtp_ew_minor@mtp-mtpredictor":case"mtp_wpt_down1ora@mtp-mtpredictor":case"mtp_wpt_down2orb@mtp-mtpredictor":case"mtp_wpt_down3@mtp-mtpredictor":case"mtp_wpt_down4@mtp-mtpredictor":case"mtp_wpt_down5@mtp-mtpredictor":case"mtp_wpt_downc@mtp-mtpredictor":case"mtp_wpt_up1ora@mtp-mtpredictor":case"mtp_wpt_up2orb@mtp-mtpredictor":case"mtp_wpt_up3@mtp-mtpredictor":case"mtp_wpt_up4@mtp-mtpredictor":case"mtp_wpt_up5@mtp-mtpredictor":case"mtp_wpt_upc@mtp-mtpredictor":
return!0;default:return!1}},v.lineToolNameForPointsBasedStudy=function(t){switch(t){case"VbPFixed@tv-volumebyprice":return"LineToolVbPFixed";case"RegressionTrend@tv-basicstudies":return"LineToolRegressionTrend";case"mtp_tsanalysis@mtp-mtpredictor":return"LineStudyMtpAnalysis";case"mtp_riskreward@mtp-mtpredictor":return"LineStudyMtpRiskReward";case"mtp_decisionpoint@mtp-mtpredictor":return"LineStudyMtpDecisionPoint";case"mtp_ew_main@mtp-mtpredictor":return"LineStudyMtpElliotWaveMain";case"mtp_ew_major@mtp-mtpredictor":return"LineStudyMtpElliotWaveMajor";case"mtp_ew_minor@mtp-mtpredictor":return"LineStudyMtpElliotWaveMinor";case"mtp_wpt_down1ora@mtp-mtpredictor":return"LineStudyMtpDownWave1OrA";case"mtp_wpt_down2orb@mtp-mtpredictor":return"LineStudyMtpDownWave2OrB";case"mtp_wpt_down3@mtp-mtpredictor":return"LineStudyMtpDownWave3";case"mtp_wpt_down4@mtp-mtpredictor":return"LineStudyMtpDownWave4";case"mtp_wpt_down5@mtp-mtpredictor":return"LineStudyMtpDownWave5";case"mtp_wpt_downc@mtp-mtpredictor":return"LineStudyMtpDownWaveC";case"mtp_wpt_up1ora@mtp-mtpredictor":return"LineStudyMtpUpWave1OrA";case"mtp_wpt_up2orb@mtp-mtpredictor":return"LineStudyMtpUpWave2OrB";case"mtp_wpt_up3@mtp-mtpredictor":return"LineStudyMtpUpWave3";case"mtp_wpt_up4@mtp-mtpredictor":return"LineStudyMtpUpWave4";case"mtp_wpt_up5@mtp-mtpredictor":return"LineStudyMtpUpWave5";case"mtp_wpt_upc@mtp-mtpredictor":return"LineStudyMtpUpWaveC";default:throw Error("There is no line tool name, associated with study id "+t)}},v.isStudyLineTool=function(t){var e=i(132).StudyLineDataSource,o=TradingView[t];return"function"==typeof o&&o.prototype instanceof e},v.prototype.onExtendedHoursChanged=function(){this.restart()},v.prototype.hasSymbolInputs=function(){for(var t=this._metaInfo.inputs.length;t--;)if("symbol"===this._metaInfo.inputs[t].type)return!0;return!1},v.prototype._subscribeExtendedHours=function(){!this._isSubscribedToExtendedHours&&this.hasSymbolInputs()&&(this._series.extendedHours.listeners().subscribe(this,this.onExtendedHoursChanged),this._isSubscribedToExtendedHours=!0)},v.prototype._unsubscribeExtendedHours=function(){this._isSubscribedToExtendedHours&&(this._series.extendedHours.listeners().unsubscribe(this,this.onExtendedHoursChanged),delete this._isSubscribedToExtendedHours)},v.prototype.removeByRemoveAllStudies=function(){return!0},v.prototype.canHaveChildren=function(){return void 0===this._canHaveChildren&&(this._canHaveChildren=!!ut.canHaveChildren(this._metaInfo)),this._canHaveChildren},v.getInputRebindType=function(t,e,i){var o=ut.isSourceInput(t);return o&&!~e.indexOf("$")&&~i.indexOf("$")?X.REBIND_STUDY_STANDALONE_TO_CHILD:o&&~e.indexOf("$")&&!~i.indexOf("$")?X.REBIND_STUDY_CHILD_TO_STANDALONE:0},v.prototype.getPlotFields=function(){return this._plotFields},v.prototype.getMinFirstBarIndexForPlot=function(t){var e,i=y(this._properties.styles,t)||y(this._properties.ohlcPlots,t)||y(this._properties.filledAreasStyle,t);return null===i?-1/0:(e=this.data().lastIndex(),null===e?-1/0:e-i+1)},v.prototype.getInputsPropertyPage=function(){
return ft.StudyInputsPropertyPage},v.prototype.getStylesPropertyPage=function(){return ft.StudyStylesPropertyPage},v.prototype.getDisplayPropertyPage=function(){return ft.StudyDisplayPropertyPage},t.exports={Study:v,createStudy:l,prepareStudyProperties:c,prepareStudyPropertiesForLoadChart:d,prepareStudyPropsStateForLoadChart:f}}).call(e,i(37),i(4),i(3),i(79))},,,function(t,e,i){"use strict";(function(e){function i(t){if(this._listeners=new e,this._childs=[],void 0!==t&&null!==t)if(this.isPrimitiveType(t))this._value=t;else for(var i in t)this.addProperty(i,t[i])}i.prototype.merge=function(t){var e,i;if(null!=t)if(this.isPrimitiveType(t))this._value=t;else if(Array.isArray(t))for(e=0;e<t.length;e++)this[e]?this[e].merge(t[e]):this.addProperty(e,t[e]);else for(i in t)this[i]?this[i].merge(t[i]):this.addProperty(i,t[i])},i.prototype.state=function(t){var e,i,o,n,r,s=this._value;for(void 0===s&&(s={}),e=0;e<this._childs.length;e++)if(i=this._childs[e],!t||-1===t.indexOf(i))if(t){for(o=[],n=0;n<t.length;n++)r=t[n],r.startsWith(i+".")&&o.push(r.substr(i.length+1));s[i]=this[i].state(o)}else s[i]=this[i].state();return s},i.prototype.clone=function(t){return new i(this.state())},i.prototype.isPrimitiveType=function(t){return!!isNumber(t)||(!!new TradingView.TypeValidator(String).check(t)||TradingView.isBoolean(t))},i.prototype.value=function(){return this._value},i.prototype.listeners=function(){return this._listeners},i.prototype.childCount=function(){return this._childs.length},i.prototype.setValue=function(t,e){(this._value!==t||e)&&(this._value=t,this._listeners.fire(this))},i.prototype.setValueSilently=function(t){this._value=t},i.prototype.addProperty=function(t,e){var o=new i(e);this[t]=o,this._childs.push(t),o.listeners().subscribe(this,i.prototype.childChanged)},i.prototype.removeProperty=function(t){this[t].listeners().unsubscribe(this,i.prototype.childChanged),delete this[t],this._childs=this._childs.filter(function(e){return e!==t})},i.prototype.addChild=function(t,e){this[t]=e,-1===$.inArray(t,this._childs)&&this._childs.push(t),e.listeners().subscribe(this,i.prototype.childChanged)},i.prototype.childChanged=function(t,e){this.listeners().fire(this)},i.prototype.subscribe=function(t,e){this.listeners().subscribe(t,e)},i.prototype.unsubscribe=function(t,e){this.listeners().unsubscribe(t,e)},i.prototype.unsubscribeAll=function(t){this.listeners().unsubscribeAll(t)},t.exports=i}).call(e,i(4))},,function(t,e,i){"use strict";(function(t,e){function o(t){TradingView.merge(this,{palettes:{},inputs:[],plots:[],graphics:{},defaults:{}}),TradingView.merge(this,t);var e=t.fullId||t.id;TradingView.merge(this,o.parseIdString(e)),this.name=this.id}var n=i(9).assert,r=i(0).getLogger("Chart.Study.MetaInfo"),s=(i(57).Telemetry,i(25).isFeatureEnabled),a=i(556).applyOverridesToStudyDefaults,l=null;o.VERSION_STUDY_ARG_SOURCE=41,o.METAINFO_FORMAT_VERSION_SOS_V2=42,o.VERSION_PINE_PROTECT_TV_4164=43,o.CURRENT_METAINFO_FORMAT_VERSION=45,o.CHILD_STUDY_ALLOWED_PLOT_TYPES=["line"],
o.CHILD_STUDY_EXCLUDE_IDS=["CorrelationCoefficient@tv-basicstudies"],o.CHILD_STUDY_PARENT_EXCLUDE_IDS=[],o.FilledArea={},o.FilledArea.TYPE_PLOTS="plot_plot",o.FilledArea.TYPE_HLINES="hline_hline",o.versionOf=function(t){var e="_metainfoVersion"in t&&isNumber(t._metainfoVersion)?t._metainfoVersion:0;return e<0&&r.logError("Metainfo format version cannot be negative: "+e),e>o.CURRENT_METAINFO_FORMAT_VERSION&&r.logWarn("Client doesn't support this version of metainfo format: "+e),e},o.parseIdString=function(t){var e,i,o,n,r={};if(-1===t.indexOf("@"))r.shortId=t,r.packageId="tv-basicstudies",r.id=t+"@"+r.packageId,r.version=1;else if(e=t.split("@"),r.shortId=e[0],i=e[1].split("-"),3===i.length)r.packageId=i.slice(0,2).join("-"),r.id=r.shortId+"@"+r.packageId,r.version=i[2];else if(1===i.length&&"decisionbar"===i[0])r.packageId="les-"+i[0],r.id=r.shortId+"@"+r.packageId,r.version=1;else{if(1!==i.length)throw Error("unexpected study id:"+t);r.packageId="tv-"+i[0],r.id=r.shortId+"@"+r.packageId,r.version=1}return r.fullId=r.id+"-"+r.version,"tv-scripting"===r.packageId?(o=r.shortId,0===o.indexOf("Script$")||0===o.indexOf("StrategyScript$")?(n=o.indexOf("_"),r.productId=n>=0?o.substring(0,n):r.packageId):r.productId=r.packageId):r.productId=r.packageId,r},o.getPackageName=function(t){return(/^[^@]+@([^-]+-[^-]+)/.exec(t||"")||[0,"tv-basicstudies"])[1]},o.cutFullId=function(t){return t.replace(/(@[^-]+-[^-]+).*$/,"$1")},o.cutDollarHash=function(t){var e,i,o=t.indexOf("$"),n=t.indexOf("@");return-1===o?t:(e=t.substr(0,o),i=n>=0?t.substr(n):"",e+i)},o.cutScriptIdPart=function(t){var e=t.indexOf("$"),i=t.indexOf("@");return e<0&&i>=0?"":t.substring(Math.max(e+1,0),i>=0?i:t.length)},o.hasUserIdSuffix=function(t){return/^USER;[\d\w]+;\d+$/.test(t)},o.getSourceIdByInputs=function(t,e){var i,n,r;if(!Array.isArray(t)||!e)return null;for(i=0;i<t.length;++i)if(n=t[i],o.isSourceInput(n)&&"string"==typeof e[n.id])return r=e[n.id],~r.indexOf("$")&&(r=r.split("$")[0]),r;return null},o.getSourceInputIds=function(t){var e,i,n=[],r=t.inputs;for(e=0;e<r.length;++e)i=r[e],o.isSourceInput(i)&&n.push(i.id);return n},o.setChildStudyMetaInfoPropertiesSourceId=function(e,i,n){var r,s,a,l;for(r=0;r<e.inputs.length;++r)s=e.inputs[r],o.isSourceInput(s)&&n instanceof t&&n.inputs&&n.inputs[s.id]&&(a=n.inputs[s.id].value(),a.indexOf("$")>0&&(l=a.replace(/^[^\$]+/,i),n.inputs[s.id].setValue(l)))},o.patchChildStudyMetaInfoState=function(t){function e(t){if("object"==typeof t)for(var i in t)"string"==typeof t[i]&&/^[^\$]+\$\d+$/.test(t[i])?t[i]=t[i].replace(/^[^\$]+/,"{pid}"):e(t[i])}t.state&&e(t.state.inputs),t.state.isChildStudy=!0},o.prototype.parseValue=function(t,e){return"bool"===t?TradingView.parseBool(e):e},o.prototype.defaultInputs=function(){var t,e=[];for(t=0;t<this.inputs.length;t++)e.push(this.inputs[t].defval);return e},o.prototype.state=function(t){var e,i={};for(e in this)this.hasOwnProperty(e)&&(i[e]=this[e],!0!==t&&"id"===e&&(i[e]+="-"+this.version));return i},o.findStudyMetaInfoByDescription=function(t,e){if(t){
for(var i=0;i<t.length;++i)if(t[i].description.toLowerCase()===e.toLowerCase())return t[i];throw Error("unexpected study id:"+e)}throw Error("There is no studies metainfo")},o._findStudyMetaInfo=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].id===e)return[i,t[i]];return[]},o.findStudyMetaInfo=function(t,e){if(!t)throw new ReferenceError("There is no studies metainfo");var i=o._findStudyMetaInfo(t,e)[1];if(!i)throw new ReferenceError("unexpected study id:"+e);return i},o.isParentSourceId=function(t){return"string"==typeof t&&/^[^\$]+\$\d+$/.test(t)},o.isSourceInput=function(t){return t.id&&(("source"===t.id||"src"===t.id)&&("text"===t.type||"source"===t.type)||"source"===t.type)},o.getChildSourceInputTitles=function(t,e,i){var n,r,s,a,l={};if(e.plots&&e.plots.length&&t.options&&t.options.length)for(n=0;n<t.options.length;++n)r=t.options[n],s=r&&+r.split("$")[1],(a=isFinite(s)&&e.plots[s])&&~o.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(a.type)&&(l[r]=e.styles&&e.styles[a.id]&&e.styles[a.id].title||a.id,i&&(l[r]=i+":"+l[r]));return l},o.removeStudyMetaInfo=function(t,e,i){var n=function(i){return void 0!==(i=void 0!==i?i:o._findStudyMetaInfo(t,e.id)[0])&&(t.splice(i,1),defaults.remove(o.getStudyPropertyRootName(e)),!0)};if(t)return n(i);throw Error("There are no studies metainfo")},o.getStudyPropertyRootName=function(t){var e="study_"+t.id;return t.pine&&t.pine.version&&(e+="_"+t.pine.version.replace(".","_")),e},o.addOrReplaceStudyMetaInfo=function(t,e){var i,n,s,a,l=new o(e),c=o._findStudyMetaInfo(t,l.id),h=c[0],d=c[1];if(d){if(i=d.pine&&d.pine.version,!(null==(n=l.pine&&l.pine.version)||null==i||n>=i))return l;o.removeStudyMetaInfo(t,l,h)}else o.removeStudyMetaInfo(t,l,h)&&r.logDebug("Study with id="+l.id+" already exists in the model!");return t.push(l),l.defaults&&(s=TradingView.clone(l.defaults),s.precision="default",a=o.getStudyPropertyRootName(l),defaults.create(a,s)),l},o.overrideDefaults=function(t){null!==l&&0!==t.length&&a(l,t,function(t){return TradingView.defaultProperties["study_"+t]||null})},o.setDefaultsOverrides=function(t){l=t},o.createMetaInfoStub=function(t,e){var i,o,r;return n(TradingView.isExistent(t.scriptIdPart),"scriptIdPart is missing, study: "+JSON.stringify(t)),i=t.extra&&"strategy"===t.extra.kind||!0===t.isTVScriptStrategy,o=TVScript.createScriptStudyId(t.scriptIdPart,e,i),r={isTVScriptStubToCompile:!0,id:o,scriptIdPart:t.scriptIdPart,description:t.scriptName,TVScriptSourceCode:t.scriptSource,is_hidden_study:t.extra&&t.extra.is_hidden_study,extra:t.extra,version:e},r.pine={},r.pine.version=TradingView.isExistent(t.version)?t.version:-1,r.pine.access=TVScript.Access.MAP_ID_TO_NAME[t.access],r.pine.userHaveAccess=t.userHaveAccess,!0===i&&(r.isTVScriptStrategy=!0),r},o.isScriptStrategy=function(t){if(t.extra&&t.extra.kind)return t.extra.kind===TVScript.Kinds.STRATEGY;if(!0===t.isTVScriptStrategy)return!0;var e=t.TVScriptSourceCode||t.scriptSource;return!!e&&TVScript.isStrategy(e)},o.replaceWithFullStudyMetaInfoAsync=function(t,e){var n,r,s,a=$.Deferred();if(e.isTVScriptStubToCompile){n=i(112)
;try{if(r=o.findStudyMetaInfo(t,e.id),!r.isTVScriptStubToCompile&&e.pine.version===r.pine.version)return a.resolve(r),a.promise()}catch(t){}s=null,s=n.translateScriptAsync2(e.scriptIdPart,e.pine.version),s.done(function(e){var i=o.addOrReplaceStudyMetaInfo(t,e);a.resolve(i)}).fail(function(i){var r="Error: couldn't compile script '"+e.description+"'",s=n.createScriptStubNoSrc(r,e.scriptIdPart),l=o.addOrReplaceStudyMetaInfo(t,s);a.resolve(l)})}else a.resolve(e);return a.promise()},o.getOrderedInputIds=function(t){var e,i,o=[],n=t.inputs;for(e=0;e<n.length;++e)i=n[e],o.push(i.id);return o},o.canBeChild=function(t){var e,i,n;if(t&&"string"==typeof t)return!0;if(!t||t.extra&&!o.isAllowedSourceInputsCount(t.extra.sourceInputsCount)||!0===t.canNotBeChild||!1===t.canBeChild||~o.CHILD_STUDY_EXCLUDE_IDS.indexOf(t.id)||t.isTVScriptStrategy||t.TVScriptSourceCode&&TVScript.isStrategy(t.TVScriptSourceCode))return!1;if(t.isTVScriptStubToCompile)return!0;for(e=t.inputs,i=0,n=0;n<e.length;++n)o.isSourceInput(e[n])&&++i;return o.isAllowedSourceInputsCount(i)},o.isAllowedSourceInputsCount=function(t){return s("multiple-sos")?t>=1:1===t},o.canHaveChildren=function(t){if(t){if(t.isTVScriptStrategy||t.TVScriptSourceCode&&TVScript.isStrategy(t.TVScriptSourceCode))return!1;if(t.id&&!~o.CHILD_STUDY_PARENT_EXCLUDE_IDS.indexOf(t.id)&&Array.isArray(t.plots))for(var e=0;e<t.plots.length;++e)if(~o.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(t.plots[e].type))return!0}return!1},TradingView.StudyMetaInfo=o,void 0!==e&&e&&e.exports&&(e.exports=o)}).call(e,i(37),i(15)(t))},function(t,e,i){"use strict";function o(t){this._invalidationLevel=t||o.UPDATE_CURSOR_ONLY,this._invalidatedPanes={}}o.UPDATE_CURSOR_ONLY=1,o.LIGHT_UPDATE=2,o.FULL_UPDATE=3,o.prototype.invalidatePane=function(t,e){this._invalidatedPanes[t]?this._invalidatedPanes[t]=Math.max(this._invalidatedPanes[t],e):this._invalidatedPanes[t]=e},o.prototype.invalidateAll=function(t){this._invalidationLevel=Math.max(this._invalidationLevel,t)},o.prototype.fullInvalidation=function(){return this._invalidationLevel},o.prototype.invalidateForPane=function(t){return this._invalidatedPanes[t]?Math.max(this._invalidatedPanes[t],this._invalidationLevel):this._invalidationLevel},o.prototype.merge=function(t){this.force=this.force||t.force,this._invalidationLevel=Math.max(this._invalidationLevel,t._invalidationLevel);for(var e in t._invalidatedPanes)this._invalidatedPanes[e]?this._invalidatedPanes[e]=Math.max(this._invalidatedPanes[e],t._invalidatedPanes[e]):this._invalidatedPanes[e]=t._invalidatedPanes[e]},o.prototype.exclude=function(t){this._invalidationLevel<=t&&(this._invalidationLevel=0);for(var e in this._invalidatedPanes)this._invalidatedPanes[e]<=t&&(this._invalidatedPanes[e]=0)},t.exports=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this._renderers=[],this._globalAlpha=1}return t.prototype.setGlobalAlpha=function(t){this._globalAlpha=t},t.prototype.append=function(t){this._renderers.push(t)},t.prototype.insert=function(t,e){
this._renderers.splice(e,0,t)},t.prototype.draw=function(t){for(var e=0;e<this._renderers.length;e++)t.save(),t.globalAlpha=this._globalAlpha,this._renderers[e].draw(t),t.restore()},t.prototype.drawBackground=function(t){var e,i;for(t.save(),t.globalAlpha=this._globalAlpha,e=0;e<this._renderers.length;e++)i=this._renderers[e],i.drawBackground&&i.drawBackground(t);t.restore()},t.prototype.hitTest=function(t){var e,i,o=null;for(e=this._renderers.length-1;e>=0;e--)null!==(i=this._renderers[e].hitTest(t))&&(null===o||i.result()>o.result())&&(o=i);return o},t}();e.CompositeRenderer=o},function(t,e,i){"use strict";function o(t,e,i,o,n,r){var s,a,h,d;return l.equalPoints(t,e)?null:(s=new l.Point(0,0),a=new l.Point(i,o),n?r?(h=c.intersectLineAndRectangle(l.lineThroughPoints(t,e),s,a),Array.isArray(h)?h:null):(d=c.intersectRayAndRectangle(e,t,s,a),null===d||l.equalPoints(e,d)?null:l.lineSegment(e,d)):r?(d=c.intersectRayAndRectangle(t,e,s,a),null===d||l.equalPoints(t,d)?null:l.lineSegment(t,d)):(h=c.intersectLineSegmentAndRectangle(l.lineSegment(t,e),s,a),Array.isArray(h)?h:null))}function n(t){return.3*t}function r(t){return 2+.5*t}function s(t){return null!==t&&void 0!==t&&!h.isNaN(t)}function a(t,e){void 0!==e&&d.setLineStyle(t,e)}var l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),l=i(8),c=i(170),h=i(10),d=i(69),e.extendAndClipLineSegment=o,e.optimalBarWidth=n,e.selectionTolerance=r,e.coordinateIsValid=s,e.setValidLineStyle=a},,,,,,,,,,function(t,e,i){"use strict";(function(t){function o(){this._zorder=0,this.m_priceScale=null,this._id=s.randomHashN(6),this._ownerSource=null,this._userEditEnabled=!0,this.hasAlert=new t(!1)}function n(t){o.call(this),this._isOverlay=null,this._model=t}var r=i(7).DefaultProperty,s=i(17);o.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i)},o.prototype.id=function(){return this._id},o.prototype.idForAlert=function(){return this._id},o.prototype.setId=function(t){this._id=t},o.prototype.zorder=function(){return this._zorder},o.prototype.setZorder=function(t){"number"==typeof t&&this._zorder!==t&&(this._zorder=t)},o.prototype.title=function(){throw Error("Implement this fun in a subclass")},o.prototype.priceScale=function(){return this.m_priceScale},o.prototype.setPriceScale=function(t){this.m_priceScale=t},o.prototype.ownerSource=function(){return this._ownerSource},o.prototype.setOwnerSource=function(t){this._ownerSource=t,t&&this.setPriceScale(t.priceScale())},o.prototype.isSavedInChart=function(t){return!0},o.prototype.isSavedInStudyTemplates=function(){return!0},o.prototype.isRemovedByStudyTemplates=function(){return!0},o.prototype.hasContextMenu=function(){return!0},o.prototype.showInObjectTree=function(){return!0},o.prototype.setUserEditEnabled=function(t){this._userEditEnabled=t},o.prototype.userEditEnabled=function(){return this._userEditEnabled},o.prototype.canBeHidden=function(){return this.userEditEnabled()},o.prototype.isUserDeletable=function(){return this.userEditEnabled()},o.prototype.canHasAlert=function(){return!1},o.prototype.properties=function(){
throw Error("Implement this fun in a subclass")},o.prototype.statusView=function(){return null},o.prototype.dataWindowView=function(){return null},o.prototype.priceAxisViews=function(t,e){return null},o.prototype.updateAllViews=function(){},o.prototype.paneViews=function(t){return null},o.prototype.isChildStudy=function(){return!1},o.prototype.hasChildren=function(){return!1},o.prototype.canHaveChildren=function(){return!1},o.prototype.onClickOutside=function(){},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return null},o.prototype.getDisplayPropertyPage=function(){return null},o.prototype.getVisibilitiesPropertyPage=function(){return null},o.prototype.getStrategyPropertyPage=function(){return null},o.prototype.getSourceIcon=function(){return null},inherit(n,o),n.prototype.isNoScale=function(){return!!this._isOverlay},n.prototype.base=function(){return 0},n.prototype.formatter=function(){return null},n.prototype.model=function(){return this._model},n.prototype.priceRange=function(t,e){return null},n.prototype.isDraggable=function(){return!this._metaInfo||!this._metaInfo.linkedToSeries},n.prototype.priceLineColor=function(t){return t},e.DataSource=o,e.PriceDataSource=n}).call(e,i(22))},,,function(t,e,i){"use strict";function o(t,e,i){return G.isNaN(e)?t:e<t?t:e>i?i:Math.round(e)}function n(t,e,i){return G.isNaN(e)?t:e<t?t:e>i?i:Math.round(1e4*e)/1e4}function r(t){return o(0,t,255)}function s(t){return o(0,t,255)}function a(t){return o(0,t,255)}function l(t){return n(0,t,1)}function c(t,e,i){return[r(t),s(e),a(i)]}function h(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function d(t,e,i,o){var n,c,h;return Array.isArray(t)?(n=t,o=e,[n[0],n[1],n[2],l(o)]):(c=t,h=e,i=i||0,o=o||0,[r(c),s(h),a(i),l(o)])}function u(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function p(t){return n(0,t,1)}function f(t){return n(0,t,1)}function _(t){return n(0,t,1)}function g(t){return n(0,t,1)}function m(t){return n(0,t,1)}function v(t,e,i){return[p(t),f(e),g(i)]}function y(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function b(t,e,i){return[p(t),_(e),m(i)]}function w(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function S(t){var e,i=t[0],o=t[1],n=t[2],r=i/255,s=o/255,a=n/255,l=Math.min(r,s,a),c=Math.max(r,s,a),h=0,d=0,u=(l+c)/2;if(l===c)h=0,d=0;else switch(e=c-l,d=u>.5?e/(2-c-l):e/(c+l),c){case r:h=((s-a)/e+(s<a?6:0))/6;break;case s:h=((a-r)/e+2)/6;break;case a:h=((r-s)/e+4)/6}return[h,d,u]}function T(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function x(t){var e,i,o,n,l,c=t[0],h=t[1],d=t[2];return 0===h?e=i=o=d:(n=d<.5?d*(1+h):d+h-d*h,l=2*d-n,e=T(l,n,c+1/3),i=T(l,n,c),o=T(l,n,c-1/3)),[r(255*e),s(255*i),a(255*o)]}function P(t){var e=t[0],i=t[1],o=t[2],n=e/255,r=i/255,s=o/255,a=Math.min(n,r,s),l=Math.max(n,r,s),c=l-a,h=0,d=0===l?0:c/l,u=l;if(l===a)h=0;else switch(l){case e:h=((r-s)/c+(r<s?6:0))/6;break;case i:h=((s-n)/c+2)/6;break;case o:h=((n-r)/c+4)/6}return[h,d,u]}function C(t){
var e=t[0],i=t[1],o=t[2],n=Math.floor(6*e),l=6*e-n,c=o*(1-i),h=o*(1-l*i),d=o*(1-(1-l)*i),u=0,p=0,f=0;switch(n%6){case 0:u=o,p=d,f=c;break;case 1:u=h,p=o,f=c;break;case 2:u=c,p=o,f=d;break;case 3:u=c,p=h,f=o;break;case 4:u=d,p=c,f=o;break;case 5:u=o,p=c,f=h}return[r(255*u),s(255*p),a(255*f)]}function M(t){return Y[0]*t[0]+Y[1]*t[1]+Y[2]*t[2]}function k(t,e){var i=t[0],o=t[1],n=t[2],r=e[0],s=e[1],a=e[2],l=r-i,c=s-o,h=a-n;return Math.sqrt(l*l+c*c+h*h)}function L(t){return[255-t[0],255-t[1],255-t[2]]}function I(t,e){var i=S(t);return x([i[0],i[1],g(i[2]-e/100)])}function A(t,e){var i=t[0],o=t[1],n=t[2],c=t[3],h=e[0],d=e[1],u=e[2],p=e[3],f=l(1-(1-p)*(1-c));return[r(h*p/f+i*c*(1-p)/f),s(d*p/f+o*c*(1-p)/f),a(u*p/f+n*c*(1-p)/f),f]}function R(t,e,i){var o,n;return void 0===i&&(i=.05),o=S(t),n=o[0]+e*i,o[0]=p(n-Math.floor(n)),x(o)}function D(t,e,i){return void 0===i&&(i=.05),B(R(U(t),e,i))}function E(t,e){return e in t}function O(t){var e=K.re.exec(t);return null!==e?K.parse(e):null}function V(t){return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function $(t){var e=J.re.exec(t);return null!==e?J.parse(e):null}function B(t){var e=t[0],i=t[1],o=t[2],n=e.toString(16),r=i.toString(16),s=o.toString(16);return"#"+(1===n.length?"0":"")+n+(1===r.length?"0":"")+r+(1===s.length?"0":"")+s}function z(t){var e=Z.re.exec(t);return null!==e?Z.parse(e):null}function F(t){var e=Q.re.exec(t);return null!==e?Q.parse(e):null}function N(t){return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function H(t,e){if(e<0||e>255)throw Error("invalid threshold value, valid values are [0, 255]");return M(t)>=e?"white":"black"}function W(t){var e,i,o,n,r;if(t=t.toLowerCase(),E(X,t)){if(null!==(e=$(X[t])))return e;throw Error("Invalid named color definition")}return null!==(i=O(t))?i:null!==(o=$(t))?o:null!==(n=z(t))?n:(r=F(t),null!==r?r:null)}function U(t){var e=W(t);if(null!==e)return e;throw Error("Passed color string does not match any of the known color representations")}function j(t){var e,i,o,n,r,s,a,l;if(t=t.toLowerCase(),E(X,t)){if(null!==(e=$(X[t])))return i=e[0],o=e[1],n=e[2],[i,o,n,1];throw Error("Invalid named color definition")}return null!==(r=O(t))?(i=r[0],o=r[1],n=r[2],[i,o,n,1]):null!==(s=$(t))?(i=s[0],o=s[1],n=s[2],[i,o,n,1]):null!==(a=z(t))?(i=a[0],o=a[1],n=a[2],[i,o,n,1]):(l=F(t),null!==l?l:null)}function q(t){var e=j(t);if(null!==e)return e;throw Error("Passed color string does not match any of the known color representations")}var G,Y,X,K,J,Z,Q;Object.defineProperty(e,"__esModule",{value:!0}),G=i(113),e.normalizeRedComponent=r,e.normalizeGreenComponent=s,e.normalizeBlueComponent=a,e.normalizeAlphaComponent=l,e.rgb=c,e.areEqualRgb=h,e.rgba=d,e.areEqualRgba=u,e.normalizeHue=p,e.normalizeHslSaturation=f,e.normalizeHsvSaturation=_,e.normalizeLightness=g,e.normalizeValue=m,e.hsl=v,e.areEqualHsl=y,e.hsv=b,e.areEqualHsv=w,e.rgbToHsl=S,e.hslToRgb=x,e.rgbToHsv=P,e.hsvToRgb=C,Y=[.199,.687,.114],e.rgbToGrayscale=M,e.distanceRgb=k,e.invertRgb=L,e.darkenRgb=I,e.blendRgba=A,e.shiftRgb=R,e.shiftColor=D,X={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",
aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},function(t){function e(t){return[r(parseInt(t[1],10)),s(parseInt(t[2],10)),a(parseInt(t[3],10))]}t.re=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,t.parse=e}(K||(K={})),e.rgbToString=V,function(t){function e(t){
return[r(parseInt(t[1],16)),s(parseInt(t[2],16)),a(parseInt(t[3],16))]}t.re=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,t.parse=e}(J||(J={})),e.rgbToHexString=B,function(t){function e(t){return[r(parseInt(t[1]+t[1],16)),s(parseInt(t[2]+t[2],16)),a(parseInt(t[3]+t[3],16))]}t.re=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/,t.parse=e}(Z||(Z={})),function(t){function e(t){return[r(parseInt(t[1],10)),s(parseInt(t[2],10)),a(parseInt(t[3],10)),l(parseFloat(t[4]))]}t.re=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/,t.parse=e}(Q||(Q={})),e.rgbaToString=N,e.rgbToBlackWhiteString=H,e.tryParseRgb=W,e.parseRgb=U,e.tryParseRgba=j,e.parseRgba=q},,,,function(t,e,i){"use strict";function o(t,e,i,o,n){this._wptStudyId=o,this._pointsCount=n,g.call(this,t,e,i)}function n(t,e,i){o.call(this,t,e,i,"mtp_wpt_down1ora",2)}function r(t,e,i){o.call(this,t,e,i,"mtp_wpt_down2orb",2)}function s(t,e,i){o.call(this,t,e,i,"mtp_wpt_down3",3)}function a(t,e,i){o.call(this,t,e,i,"mtp_wpt_down4",2)}function l(t,e,i){o.call(this,t,e,i,"mtp_wpt_down5",5)}function c(t,e,i){o.call(this,t,e,i,"mtp_wpt_downc",3)}function h(t,e,i){o.call(this,t,e,i,"mtp_wpt_up1ora",2)}function d(t,e,i){o.call(this,t,e,i,"mtp_wpt_up2orb",2)}function u(t,e,i){o.call(this,t,e,i,"mtp_wpt_up3",3)}function p(t,e,i){o.call(this,t,e,i,"mtp_wpt_up4",2)}function f(t,e,i){o.call(this,t,e,i,"mtp_wpt_up5",5)}function _(t,e,i){o.call(this,t,e,i,"mtp_wpt_upc",3)}var g=i(160).LineStudyMtp;inherit(o,g),o.prototype._studyInputs=function(){var t,e,i,o,n=this.points();if(n.length<this.pointsCount())return null;for(t=[this.properties().inputs.displayZoneLabels.value()],e=0;e<this.pointsCount();++e){if(i=n[e].index,null===(o=this._model.mainSeries().bars().valueAt(i)))return null;t.push(1e3*o[TradingView.TIME_PLOT])}return t},o.prototype._mtpStudyId=function(){return this._wptStudyId},o.prototype.pointsCount=function(){return this._pointsCount},inherit(n,o),n.getTooltipText=function(t){return"Down Wave 1 or A: Select Point "+((t?t._points.length:0)+1)},inherit(r,o),r.getTooltipText=function(t){return"Down Wave 2 or B: Select Point "+((t?t._points.length:0)+1)},inherit(s,o),s.getTooltipText=function(t){return"Down Wave 3: Select Point "+((t?t._points.length:0)+1)},inherit(a,o),a.getTooltipText=function(t){return"Down Wave 4: Select Point "+((t?t._points.length:0)+1)},inherit(l,o),l.getTooltipText=function(t){return"Down Wave 5: Select Point "+((t?t._points.length:0)+1)},inherit(c,o),c.getTooltipText=function(t){return"Down Wave C: Select Point "+((t?t._points.length:0)+1)},inherit(h,o),h.getTooltipText=function(t){return"Up Wave 1 or A: Select Point "+((t?t._points.length:0)+1)},inherit(d,o),d.getTooltipText=function(t){return"Up Wave 2 or B: Select Point "+((t?t._points.length:0)+1)},inherit(u,o),u.getTooltipText=function(t){return"Up Wave 3: Select Point "+((t?t._points.length:0)+1)},inherit(p,o),p.getTooltipText=function(t){return"Up Wave 4: Select Point "+((t?t._points.length:0)+1)},inherit(f,o),f.getTooltipText=function(t){
return"Up Wave 5: Select Point "+((t?t._points.length:0)+1)},inherit(_,o),_.getTooltipText=function(t){return"Up Wave C: Select Point "+((t?t._points.length:0)+1)},e.LineStudyMtpDownWave1OrA=n,e.LineStudyMtpDownWave2OrB=r,e.LineStudyMtpDownWave3=s,e.LineStudyMtpDownWave4=a,e.LineStudyMtpDownWave5=l,e.LineStudyMtpDownWaveC=c,e.LineStudyMtpUpWave1OrA=h,e.LineStudyMtpUpWave2OrB=d,e.LineStudyMtpUpWave3=u,e.LineStudyMtpUpWave4=p,e.LineStudyMtpUpWave5=f,e.LineStudyMtpUpWaveC=_},,,,,,,,,function(t,e,i){"use strict";function o(t){this.items=t.items,this.height=t.height||t.width,this.width=t.width||t.height,this._color=t.color,this._borderColor=t.borderColor,this._vertOffset=t.vertOffset||0,t.textCache&&(this._textCache=t.textCache,this._textColor=t.textColor,this._textVertOffset=this._vertOffset>0?this.height:-this.height,this._textImageWidth=this._textCache.textImageWidth,this._textImageHeight=this._textCache.textImageHeight)}var n=i(8).Point,r=i(11);o.prototype.draw=function(t){this.drawShape(t),this.drawText(t)},o.prototype.drawShape=function(t){throw Error("Not implemented")},o.prototype.drawText=function(t){var e,i,o,n,r,s;if(this._textCache)for(e=0,i=this.items.length;e<i;e++)o=this.items[e],n=o.x,r=o.y+this._vertOffset+this._textVertOffset,s=o.style&&null!=o.style.textColor?o.style.textColor:this._textColor,this._textCache.paintTo(t,s,n,r,"center",this._vertOffset>0?"top":"bottom")},o.prototype.hitTest=function(t,e){var i,o,s,a,l,c,h,d,u,p,f,_,g,m=Math.max(this.height,this.width),v=this._vertOffset,y=this._textVertOffset;for(e=e||r.REGULAR,o=0;o<this.items.length;++o)if(s=this.items[o]){if(i=new n(s.x,s.y+v),i.subtract(t).length()<=m)return new r(e,{});if(this._textCache&&(a=this._textImageWidth/2,l=s.y+v+y,c=v>0?0:-this._textImageHeight,h=v>0?this._textImageHeight:0,d=t.x,u=t.y,p=s.x-a,f=l+c,_=s.x+a,g=l+h,d>p&&d<_&&u>f&&u<g))return new r(e,{})}return null},e.PaneRendererAbstractShape=TradingView.PaneRendererAbstractShape=o},,,,,,function(t,e,i){"use strict";(function(t){function o(e){e||(e={}),this.checkable=e.checkable||!1,this.checked=e.checked||null,this.enabled=void 0===e.enabled||e.enabled,this.visible=e.visible||!0,this.active=!0,this.font=e.font||"Arial",this.icon=e.icon||null,this.iconText=e.iconText||null,this.iconVisibleInMenu=e.iconVisibleMenu||!0,this.deleteButton=e.deleteButton||null,this.shortcut=null,this.setShortCut(e.shortcut,e.doNotBindShortcut),this.statusTip=e.statusTip||null,this.text=e.text||null,this.toolTip=e.toolTip||null,this.htmlclass=e.htmlclass||null,this.statName=e.statName||null,this._callbackContext=e.callbackContext||this,this._callbacks=new t,this.subActions=e.subActions||[]}function n(){o.call(this),this.font=null,this.subActions=null,this.htmlclass="action-separator"}function r(t){o.call(this),this.deferred=t}var s=i(131);o.prototype.callbacks=function(){return this._callbacks},o.prototype.callbackContext=function(){return this._callbackContext},o.prototype.setCallbackContext=function(t){this._callbackContext=t},o.prototype.hasSubActions=function(){
return this.subActions&&this.subActions.length},o.prototype.setChecked=function(t){this.checked=t},o.prototype._toggleChecked=function(){this.checked=!this.checked},o.prototype.setVisible=function(t){this.visible=t},o.prototype.setEnabled=function(t){this.enabled=t},o.prototype.disable=function(){this.setEnabled(!1)},o.prototype.enable=function(){this.setEnabled(!0)},o.prototype.setActive=function(t){this.active!==t&&(this.active=t,this.shortcut&&!this.doNotBindShortcut&&(t?this._bindShortCut():this._unbindShortCut()))},o.prototype.setShortCut=function(t,e){t&&(this.shortcut=t,!0!==e&&this._bindShortCut())},o.prototype._bindShortCut=function(){s.bind(this.shortcut,function(t){if(t.preventDefault(),this.enabled)return this.executeCallback(),!1}.bind(this))},o.prototype._unbindShortCut=function(){s.unbind(this.shortcut)},o.prototype.setIconVisible=function(t){this.iconVisibleInMenu=t},o.prototype.executeCallback=function(t){this._lastEvent=t,this._toggleChecked(),this._callbacks.fire(this)},inherit(n,o),inherit(r,o),e.Action=o,e.ActionSeparator=n,e.ActionPlaceholder=r}).call(e,i(4))},,,,,function(t,e,i){"use strict";var o=i(10),n=i(0),r=n.getLogger("Chart.PriceRange"),s=function(){function t(t,e){var i,o;null!==t&&"object"==typeof t?(i=t,this._minValue=i.m_minValue,this._maxValue=i.m_maxValue):(o=t,this._minValue=o,void 0!==e&&(this._maxValue=e))}return t.prototype.equals=function(t){return this._minValue===t._minValue&&this._maxValue===t._maxValue},t.prototype.clone=function(){return new t(this._minValue,this._maxValue)},t.prototype.minValue=function(){return this._minValue},t.prototype.setMinValue=function(t){this._minValue=t},t.prototype.maxValue=function(){return this._maxValue},t.prototype.setMaxValue=function(t){this._maxValue=t},t.prototype.length=function(){return this._maxValue-this._minValue},t.prototype.isEmpty=function(){return this._maxValue===this._minValue||this._maxValue!==this._maxValue||this._minValue!==this._minValue},t.prototype.serialize=function(){return{m_maxValue:this._maxValue,m_minValue:this._minValue}},t.prototype.state=function(){return{max:this._maxValue,min:this._minValue}},t.prototype.merge=function(e){return new t(Math.min(this.minValue(),e.minValue()),Math.max(this.maxValue(),e.maxValue()))},t.prototype.apply=function(t,e){this._minValue=Math.min(this._minValue,t),this._maxValue=Math.max(this._maxValue,e)},t.prototype.set=function(t,e){this._minValue=t,this._maxValue=e},t.prototype.scaleAroundCenter=function(t){var e,i,n,s;if(!o.isNumber(t))return void r.logDebug("PriceRange.scaleAroundCenter: invalid coeff");0!==(e=this._maxValue-this._minValue)&&(i=.5*(this._maxValue+this._minValue),n=this._maxValue-i,s=this._minValue-i,n*=t,s*=t,this._maxValue=i+n,this._minValue=i+s)},t.prototype.shift=function(t){if(!o.isNumber(t))return void r.logDebug("PriceRange.shift: invalid coeff");this._maxValue+=t,this._minValue+=t},t.prototype.containsStrictly=function(t){return t.minValue()>this._minValue&&t.maxValue()<this._maxValue},t.prototype.convertToPercent=function(t,e){return 100*(t-e)/e},
t.prototype.convertFromPercent=function(t,e){return t/100*e+e},t.prototype.convertToPercents=function(e){return new t(100*(this._minValue-e)/e,100*(this._maxValue-e)/e)},t.prototype.convertFromPercents=function(e){return new t(this._minValue/100*e+e,this._maxValue/100*e+e)},t}();t.exports=s},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(55),n=i(658),r=function(){function t(){this._rendererData={text:"",coordinate:0,fixedCoordinate:0,color:"#FFF",background:"#000",visible:!1},this._renderer=new n.PriceAxisViewRenderer(this._rendererData),this._invalidated=!0}return t.prototype.text=function(){return this._rendererData.text},t.prototype.background=function(){return this._rendererData.background},t.prototype.color=function(){return this.generateTextColor(this.background())},t.prototype.generateTextColor=function(t){return"black"===o.rgbToBlackWhiteString(o.parseRgb(t),160)?"white":"black"},t.prototype.coordinate=function(){return this._updateRendererDataIfNeeded(),this._rendererData.coordinate},t.prototype.floatCoordinate=function(){return this._updateRendererDataIfNeeded(),this._rendererData.floatCoordinate||this._rendererData.coordinate},t.prototype.update=function(){this._invalidated=!0},t.prototype.height=function(t,e){return void 0===e&&(e=!1),this._renderer.height(t,e)},t.prototype.getFixedCoordinate=function(){return this._rendererData.fixedCoordinate||0},t.prototype.setFixedCoordinate=function(t){this._rendererData.fixedCoordinate=t},t.prototype.isVisible=function(){return this._rendererData.visible},t.prototype.renderer=function(){return this._updateRendererDataIfNeeded(),this._renderer.setData(this._rendererData),this._renderer},t.prototype._updateRendererDataIfNeeded=function(){this._invalidated&&(this._updateRendererData(this._rendererData),this._invalidated=!1)},t}(),e.PriceAxisView=r},,,,,,function(t,e,i){"use strict";(function(t,o){function n(t,e,i,o,n){this._paneView=n,l.call(this,t,e,i,o)}function r(t,e,i,o){n.call(this,t,e,i,o,new u(t,this))}function s(t,e,i,o){n.call(this,t,e,i,o,new p(t,this))}function a(t,e,i,o){n.call(this,t,e,i,o,new f(t,this)),this.pointSets={},this.updateEstimateHandler=this.updateEstimate.bind(this)}var l=i(34).Study,c=i(158),h=i(157).DataWindowView,d=i(508),u=d.DividendsPaneView,p=d.SplitsPaneView,f=d.EarningsPaneView,_=i(637).createEstimatesProvider,g=i(2).propertyPages;inherit(n,l),n.prototype.createViews=function(){this._paneViews=[this._paneView],this._priceAxisViews=[],this._dataWindowView||(this._dataWindowView=new h),this._statusView||(this._statusView=new c(this,this._model.properties()))},n.prototype.onClickOutside=function(t){this._paneView.onClickOutside(t)},n.prototype.showInObjectTree=function(){return!1},n.prototype.isSavedInStudyTemplates=function(){return!1},n.prototype.isRemovedByStudyTemplates=function(){return!1},n.prototype.removeByRemoveAllStudies=function(){return!1},n.prototype.isDraggable=function(){return!1},n.prototype.statusView=function(){return!1},n.prototype.onData=function(t){
l.prototype.onData.call(this,t),"study_completed"===t.method&&this._restartRequired&&(delete this._restartRequired,this.restart())},n.prototype.start=function(){l.prototype.start.call(this),this._model.mainSeries().onSymbolResolved().subscribe(this,this._initPlotStash),this._initPlotStash()},n.prototype.stop=function(){l.prototype.stop.call(this),this._model.mainSeries().onSymbolResolved().unsubscribe(this,this._initPlotStash),this._paneView.closeTooltips()},n.prototype.isSavedInChart=function(t){return t},n.prototype._initPlotStash=function(){this._plotStash={}},n.prototype._updatePlotStash=function(t,e){var i,o,n;!this._restartRequired&&this._plotStash&&(i=t.value.slice(),o=i.shift(),n=o+"",e?this._plotStash[n]?this._plotStash[n]+""!=i+""&&(this._restartRequired=!0):this._plotStash[n]=i:this._plotStash[n]&&(this._restartRequired=!0))},n.prototype.transformData=function(t){for(var e,i,o=t.length-1;o>=0;--o)e=t[o],i=this.isValid(e.value),this._updatePlotStash(e,i),i||t.splice(o,1)},n.prototype.isValid=function(t){throw Error("Not Implemented")},n.prototype.restoreData=function(t){this.transformData(t.data),t.end=t.data.length,l.prototype.restoreData.call(this,t)},n.prototype.canHaveChildren=function(){return!1},n.getSettingsValue=function(t,e){var i=null;switch(t){case"TV_DIVIDENDS":i=e.esdShowDividends.value();break;case"TV_SPLITS":i=e.esdShowSplits.value();break;case"TV_EARNINGS":i=e.esdShowEarnings.value()}return i},n.prototype.getDisplayPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return t.enabled("show_chart_property_page")?g.ChartStylesPropertyPage:null},inherit(r,n),r.prototype.isValid=function(t){var e=t[2];return $.isNumeric(e)},inherit(s,n),s.prototype.isValid=function(t){var e=t[3];return $.isNumeric(e)},inherit(a,n),a.pointSetCounter=1,a.pointSetsVersion="1",a.prototype.isValid=function(t){var e=t[3],i=t[4];return $.isNumeric(e)&&$.isNumeric(i)},a.prototype.restorePointset=function(t){return{estimate:{index:t.index,value:[t.tickmark,void 0,t.estimate,$.isNumeric(t.period)?t.period:o(t.period).unix(),$.isNumeric(t.date)?t.date:o(t.date).unix()]}}},a.prototype.restoreData=function(t){var e,i;n.prototype.restoreData.call(this,t),(e=this.currentPointsetKey())&&(t.estimate?this.pointSets[e]=this.restorePointset(t.estimate):t.pointSets&&null==t.pointSetsVersion?(i=e.split(":")[1].toUpperCase(),t.pointSets[e]?this.pointSets[e]=this.restorePointset(t.pointSets[e]):t.pointSets[i]&&(this.pointSets[e]=this.restorePointset(t.pointSets[i]))):t.pointSets&&"1"===t.pointSetsVersion&&(this.pointSets=t.pointSets))},a.prototype.state=function(t){var e,i,o=n.prototype.state.call(this,t);if(t){e={};for(i in this.pointSets)this.pointSets.hasOwnProperty(i)&&(e[i]={estimate:this.pointSets[i].estimate});o.data.pointSets=e,o.data.pointSetsVersion=a.pointSetsVersion}return o},a.prototype.stop=function(){n.prototype.stop.call(this);var t=this;Object.keys(this.pointSets).forEach(function(e){var i=t.pointSets[e];i.promise&&i.promise.always(function(){
i.sessionId===t._model.chartApi()._chartApi.sessionid&&t._model.chartApi().removePointset(i.pointsetId)})}),this.pointSets={},this._estimatesCache.off("data",this.updateEstimateHandler),this._estimatesCache.destroy(),this._model.mainSeries().onSymbolResolved().unsubscribe(this,this.requestEstimate)},a.prototype.generatePointsetId=function(){return"pointsetEstimates_"+a.pointSetCounter++},a.prototype.getEstimate=function(){var t,e=this.currentPointsetKey();return e?(t=this.pointSets[e],t?t.estimate:null):null},a.prototype.currentPointsetKey=function(){var t=this._series.symbolInfo();return t?t.base_name[0].toLowerCase():null},a.prototype.createPointsetKey=function(t,e){return t.toLowerCase()+":"+e.toLowerCase()},a.prototype.updateEstimate=function(t){if(this._model.chartApi().connected()){var e=this;this._model.timeScale().isEmpty()?this._model.mainSeries().onDataLoaded().subscribe(null,function(i){"series_loading"!==i.method&&e.updateEstimateImpl(t)},!0):this.updateEstimateImpl(t)}},a.prototype.updateEstimateImpl=function(t){var e,i,o;this._model.chartApi().connected()&&(e=this,i=this.createPointsetKey(t.exchange,t.symbol),o=this.pointSets[i],o&&o.promise&&(o.promise.always(function(){o.sessionId===e._model.chartApi()._chartApi.sessionid&&e._model.chartApi().removePointset(o.pointsetId)}),delete this.pointSets[i]),t.date&&t.period&&(t.reported||t.estimate)&&(this.pointSets[i]=this.createPointset(t)))},a.prototype.start=function(){n.prototype.start.call(this),this.pointSets={},this._estimatesCache=_(),this._estimatesCache.on("data",this.updateEstimateHandler),this._model.mainSeries().onSymbolResolved().subscribe(this,this.requestEstimate),this.requestEstimate()},a.prototype.createPointset=function(t){var e,i,n,r=this.generatePointsetId(),s=this._model.mainSeries().symbolId(),a=this._model.mainSeries().properties().interval.value().split(",")[0],l=[];return l.push([o(t.date).unix(),0]),e=$.Deferred(),i={promise:e.promise(),pointsetId:r,sessionId:this._model.chartApi()._chartApi.sessionid},n=this,this._model.chartApi().createPointset(r,"turnaround",s,a,l,function(s){return s.params.customId!==r?e.reject():0===s.params.plots.length?e.reject():s.params.plots[0].value[0]<n._model.timeScale().baseIndex()?e.reject():(i.estimate={index:s.params.plots[0].value[0],value:[s.params.plots[0].value[1],t.reported,t.estimate,o(t.period).unix(),o(t.date).unix()]},e.resolve())}),i},a.prototype.requestEstimate=function(){var t,e,i;this._estimatesCache.resetSymbol(),(t=this.currentPointsetKey())&&this._model.chartApi().connected()&&(e=t.split(":")[0],i=t.split(":")[1],this._estimatesCache.setSymbol(e,i))},e.ESDStudyBase=n,e.study_ESD$TV_EARNINGS=a,e.study_ESD$TV_SPLITS=s,e.study_ESD$TV_DIVIDENDS=r}).call(e,i(3),i(54))},function(t,e,i){"use strict";for(var o={LineToolFibRetracement:i(772).LineToolFibRetracement,LineToolFibChannel:i(774).LineToolFibChannel,LineToolFibSpeedResistanceArcs:i(775).LineToolFibSpeedResistanceArcs,LineToolProjection:i(776).LineToolProjection,LineToolTrendBasedFibExtension:i(777).LineToolTrendBasedFibExtension,
LineToolElliott:i(159).LineToolElliott,LineToolFibCircles:i(778).LineToolFibCircles,LineToolRegressionTrend:i(481).LineToolRegressionTrend,LineToolVbPFixed:i(779).LineToolVbPFixed,LineToolTrading:i(282),LineStudyMtp:i(160).LineStudyMtp,LineToolVertLine:i(780).LineToolVertLine,LineToolBarsPattern:i(782).LineToolBarsPattern,LineToolTrendBasedFibTime:i(783).LineToolTrendBasedFibTime,LineToolFibTimeZone:i(784).LineToolFibTimeZone,LineToolCircleLines:i(785).LineToolCircleLines,LineToolDateRange:i(786).LineToolDateRange,LineToolPriceRange:i(787).LineToolPriceRange,LineToolDateAndPriceRange:i(788).LineToolDateAndPriceRange,LineToolParallelChannel:i(789).LineToolParallelChannel,LineToolTrendAngle:i(790).LineToolTrendAngle,LineToolTrendLine:i(218).LineToolTrendLine,LineToolArrowMark:i(186).LineToolArrowMark,LineToolExecution:i(486).LineToolExecution,LineToolPitchfan:i(791).LineToolPitchfan,LineToolGannSquare:i(792).LineToolGannSquare,LineToolFibSpeedResistanceFan:i(793).LineToolFibSpeedResistanceFan,LineToolGannComplex:i(794).LineToolGannComplex,LineToolGannFixed:i(795).LineToolGannFixed,LineToolGannFan:i(796).LineToolGannFan,LineToolFibWedge:i(484).LineToolFibWedge,LineToolPitchfork:i(220).LineToolPitchfork,LineToolDisjointAngle:i(797).LineToolDisjointAngle,LineToolFlatBottom:i(798).LineToolFlatBottom,LineToolIcon:i(799).LineToolIcon,LineToolRotatedRectangle:i(800).LineToolRotatedRectangle,LineToolFibSpiral:i(801).LineToolFibSpiral,LineToolHeadAndShoulders:i(802).LineToolHeadAndShoulders,LineToolTriangle:i(803).LineToolTriangle,LineToolTrianglePattern:i(804).LineToolTrianglePattern,LineTool5PointsPattern:i(488).LineTool5PointsPattern,LineToolThreeDrivers:i(805).LineToolThreeDrivers,LineToolABCD:i(806).LineToolABCD,LineToolRiskReward:i(283).LineToolRiskReward,LineToolPolyline:i(808).LineToolPolyline,LineToolPrediction:i(809).LineToolPrediction,LineToolPriceLabel:i(810).LineToolPriceLabel,LineToolNote:i(489).LineToolNote,LineToolNoteAbsolute:i(489).LineToolNoteAbsolute,LineToolBrush:i(811).LineToolBrush,LineToolArc:i(812).LineToolArc,LineToolCallout:i(813).LineToolCallout,LineToolBalloon:i(814).LineToolBalloon,LineToolText:i(490).LineToolText,LineToolHorzLine:i(815).LineToolHorzLine,LineToolHorzRay:i(816).LineToolHorzRay,LineToolRectangle:i(817).LineToolRectangle,LineToolEllipse:i(818).LineToolEllipse,LineToolTimeCycles:i(819).LineToolTimeCycles,LineToolSineLine:i(820).LineToolSineLine,LineToolGhostFeed:i(821).LineToolGhostFeed,LineToolBezierQuadro:i(822).LineToolBezierQuadro,LineToolBezierCubic:i(823).LineToolBezierCubic,LineToolArrow:i(824).LineToolArrow,LineToolRay:i(825).LineToolRay,LineToolExtended:i(826).LineToolExtended,LineToolSchiffPitchfork:i(827).LineToolSchiffPitchfork,LineToolSchiffPitchfork2:i(828).LineToolSchiffPitchfork2,LineToolInsidePitchfork:i(829).LineToolInsidePitchfork,LineToolTextAbsolute:i(490).LineToolTextAbsolute,LineToolArrowMarkLeft:i(186).LineToolArrowMarkLeft,LineToolArrowMarkRight:i(186).LineToolArrowMarkRight,LineToolArrowMarkUp:i(186).LineToolArrowMarkUp,
LineToolArrowMarkDown:i(186).LineToolArrowMarkDown,LineToolFlagMark:i(830).LineToolFlagMark,LineToolCypherPattern:i(831).LineToolCypherPattern,LineToolElliottImpulse:i(159).LineToolElliottImpulse,LineToolElliottTriangle:i(159).LineToolElliottTriangle,LineToolElliottTripleCombo:i(159).LineToolElliottTripleCombo,LineToolElliottCorrection:i(159).LineToolElliottCorrection,LineToolElliottDoubleCombo:i(159).LineToolElliottDoubleCombo,LineToolRiskRewardLong:i(283).LineToolRiskRewardLong,LineToolRiskRewardShort:i(283).LineToolRiskRewardShort,LineToolPosition:i(832).LineToolPosition,LineToolOrder:i(833).LineToolOrder},n=Object.keys(o),r=n.length;r--;)TradingView[n[r]]=o[n[r]];t.exports=o},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Normal=0]="Normal",t[t.Arrow=1]="Arrow",t[t.Circle=2]="Circle"}(e.LineEnd||(e.LineEnd={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(5),function(t){t.LINE="line",t.COLORER="colorer",t.BAR_COLORER="bar_colorer",t.BG_COLORER="bg_colorer",t.TEXT_COLORER="text_colorer",t.OHLC_COLORER="ohlc_colorer",t.SHAPES="shapes",t.CHARS="chars",t.ARROWS="arrows",t.DATAOFFSET="dataoffset",t.OHLC_OPEN="ohlc_open",t.OHLC_HIGH="ohlc_high",t.OHLC_LOW="ohlc_low",t.OHLC_CLOSE="ohlc_close"}(e.PlotTypes||(e.PlotTypes={})),function(t){t.BARS="ohlc_bars",t.CANDLES="ohlc_candles"}(e.OHLCType||(e.OHLCType={})),function(t){t[t.Line=0]="Line",t[t.Histogram=1]="Histogram",t[t.Cross=3]="Cross",t[t.Area=4]="Area",t[t.Columns=5]="Columns",t[t.Circles=6]="Circles",t[t.LineWithBreaks=7]="LineWithBreaks",t[t.AreaWithBreaks=8]="AreaWithBreaks",t[t.StepLine=9]="StepLine"}(e.PlotType||(e.PlotType={})),function(t){t[t.Right=0]="Right",t[t.Left=1]="Left",t[t.None=2]="None"}(e.ScaleType||(e.ScaleType={})),e.plotShapesData={shape_arrow_down:{guiName:$.t("Arrow Down"),id:"shape_arrow_down",paneRendererClass:"PaneRendererArrowDown",pineName:"shape.arrowdown"},shape_arrow_up:{guiName:$.t("Arrow Up"),id:"shape_arrow_up",paneRendererClass:"PaneRendererArrowUp",pineName:"shape.arrowup"},shape_circle:{guiName:$.t("Circle"),id:"shape_circle",paneRendererClass:"PaneRendererCircleShape",pineName:"shape.circle"},shape_cross:{guiName:$.t("Cross"),id:"shape_cross",paneRendererClass:"PaneRendererCrossShape",pineName:"shape.cross"},shape_diamond:{guiName:$.t("Diamond"),id:"shape_diamond",paneRendererClass:"PaneRendererDiamond",pineName:"shape.diamond"},shape_flag:{guiName:$.t("Flag"),id:"shape_flag",paneRendererClass:"PaneRendererFlagShape",pineName:"shape.flag"},shape_label_down:{guiName:$.t("Label Down"),id:"shape_label_down",paneRendererClass:"PaneRendererLabelDown",pineName:"shape.labeldown"},shape_label_up:{guiName:$.t("Label Up"),id:"shape_label_up",paneRendererClass:"PaneRendererLabelUp",pineName:"shape.labelup"},shape_square:{guiName:$.t("Square"),id:"shape_square",paneRendererClass:"PaneRendererSquare",pineName:"shape.square"},shape_triangle_down:{guiName:$.t("Triangle Down"),id:"shape_triangle_down",paneRendererClass:"PaneRendererTriangleApexDown",
pineName:"shape.triangledown"},shape_triangle_up:{guiName:$.t("Triangle Up"),id:"shape_triangle_up",paneRendererClass:"PaneRendererTriangleApexUp",pineName:"shape.triangleup"},shape_xcross:{guiName:$.t("X Cross"),id:"shape_xcross",paneRendererClass:"PaneRendererXCross",pineName:"shape.xcross"}}},,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";(function(e,o,n){function r(t){return"cursor"===t||"arrow"===t||"dot"===t}function s(t){!t&&d&&d.stayInDrawingMode.value()||this.tool.setValue(this.cursorTool.value())}function a(t,e){return function(e){t.inFire||(t.inFire=!0,t.fire(e),t.inFire=!1)}}function l(){X||(m.setValue(TVSettings.getValue("chart.cursorPreference","cursor")),m.subscribe(function(t){r(t)&&v.setValue(t)},{callWithLast:!0}),v.subscribe(function(t){t&&TVSettings.setValue("chart.cursorPreference",t)}),d=new c("drawings"),u=new n,p=new n,f=new n,_=new n,u.setValue(!1),p.setValue(!1),f.setValue(!1),_.setValue(!1),m.subscribe(function(){h.emit("onSelectedLineToolChanged")}),X=!0)}var c=i(7).DefaultProperty,h=i(108),d=null,u=null,p=null,f=null,_=null,g=new e,m=new e,v=new e,y=new o,b=new o,w=new o,S=new o,T=new o,x=new o,P=new o,C=new o,M=new o,k=new o,L=new o,I=new o,A=new o,R=new o,D=new o,E=a(y),O=a(b),V=a(w),$=a(S),B=a(T),z=a(x),F=a(P),N=a(C),H=a(M),W=a(k),U=a(L),j=a(I),q=a(A),G=a(R),Y=a(D),X=!1;t.exports={tool:m,cursorTool:v,toolIsCursor:r,resetToCursor:s,init:l,createdLineTool:y,continuedLineTool:b,cancelledLineTool:w,createLineTool:E,continueLineTool:O,cancelLineTool:V,startedMovingLineTool:S,movedLineTool:T,finishedMovingLineTool:x,startMovingLineTool:$,moveLineTool:B,finishMovingLineTool:z,startedChangingLineTool:P,changedLineTool:C,finishedChangingLineTool:M,startChangingLineTool:F,changeLineTool:N,finishChangingLineTool:H,removedLineTool:k,removeLineTool:W,restoredLineTool:R,restoreLineTool:G,restoredLineToolState:D,restoreLineToolState:Y,finishedLineTool:L,finishLineTool:U,changedLineStyle:I,changeLineStyle:j,copiedLineTool:A,copyLineTool:q,properties:function(){return d},hideAllDrawings:function(){return u},hideMarksOnBars:function(){return f},lockDrawings:function(){return p},drawOnAllCharts:function(){return d.drawOnAllCharts},lockTimeAxis:function(){return _},lockTimeAxisTime:g}}).call(e,i(22),i(4),i(37))},,function(t,e,i){"use strict";(function(e){function o(t,e){var i,o,n,r=Object.keys(d);for(i=0;i<r.length;i++)if(o=d[r[i]],n=o.filter(function(e){return-1!==t.indexOf(e)}),n.length)return r[i];return!1}function n(){u._cache={}}var r=i(9).assert,s=i(39),a=i(20).trackEvent,l=i(53).TVXWindowEvents,c=i(0).getLogger("Pine.ScriptLib"),h=i(57).Telemetry,d={fast:["delete","get","is_auth_to_get","is_auth_to_write","parse_title","rename"],medium:["list","eval_pine_ex"],slow:["process_legacy","publish","save","translate","translate_source","gen_alert"]},u={};u._isAuthCache=new n,u._pineDeleted=new e,l.on("TVScriptModified",function(t){u.clearSavedScriptsCache(),u.scriptUpdater()&&u.scriptUpdater().onTVScriptModified(JSON.parse(t))}),l.on("TVScriptDeleted",function(t){u.clearAllCaches(),
u.scriptUpdater()&&u.scriptUpdater().onTVScriptDeleted(JSON.parse(t))}),l.on("TVScriptRenamed",function(t){u.clearSavedScriptsCache(),u.scriptUpdater()&&u.scriptUpdater().onTVScriptRenamed(JSON.parse(t))}),l.on("TVScriptLegacyPineProcessed",function(t){u.clearSavedScriptsCache(),u.scriptUpdater()&&u.scriptUpdater().onTVScriptLegacyPineProcessed(JSON.parse(t))}),u.PINE_FACADE_URL=function(){return window.PINE_URL},u.onPineDeleted=function(){return u._pineDeleted},u._pineFacadeAjax=function(t,e,i,n){var r=o(e,d),s=Date.now(),a="GET"===t?void 0:{"X-CSRFToken":$.cookie("csrftoken")},l=n?void 0:{withCredentials:!0};return $.ajax({url:u.PINE_FACADE_URL()+e,type:t,data:i||{},headers:a,xhrFields:l}).done(function(){var t=Date.now()-s;h.sendReport("pine",r+"_group_time_frame",{v:t}),h.sendReport("pine",r+"_group_ok")}).fail(function(){var t=Date.now()-s;h.sendReport("pine",r+"_group_time_frame",{v:t}),h.sendReport("pine",r+"_group_error")})},u.translateScriptAsync=function(t,e,i,o){var n,r,s;return a("Pine","ScriptLib.translateScript"),o=!!o,n=$.Deferred(),r="/translate_source/"+encodeURIComponent(e)+"/?is_pine_ex="+o,s={user_name:window.user&&window.user.username,source:t,inputs:JSON.stringify(i||{})},u._pineFacadeAjax("POST",r,s).done(function(t,e,i){var o=JSON.parse(t);u._translateScriptAsyncDone(n,o)}).fail(function(t,e,i){u._anyRequestAsyncFail(n,t)}),n.promise()},u.translateScriptAsync2=function(t,e){var i,o,n,r,s;return c.logNormal("translateScriptAsync2, pineId="+t+" pineVersion="+e),a("Pine","ScriptLib.translateScript"),i=$.Deferred(),o=0!==t.indexOf("USER"),n=window.user&&window.user.username,r="?user_name="+encodeURIComponent(n),s="/translate/"+encodeURIComponent(t)+"/"+e+"/",o||null==n||(s+=r),u._pineFacadeAjax("GET",s,void 0,o).done(function(t,o,n){var r,s,a=JSON.parse(t);u._translateScriptAsyncDone(i,a),(r=e<0)&&(u.clearSavedScriptsCache(),s={scriptMetaInfo:a.result.metaInfo},l.emit("TVScriptLegacyPineProcessed",JSON.stringify(s)),setTimeout(function(){s.isSelfCall=!0,null!=u.scriptUpdater()&&u.scriptUpdater().onTVScriptLegacyPineProcessed(s)},0))}).fail(function(t,e,o){u._anyRequestAsyncFail(i,t)}),i.promise()},u._translateScriptAsyncDone=function(t,e){if(e.error)t.reject(u._readableError(e.error));else if(e.success)t.resolve(e.result.metaInfo,e.result.IL);else{var i=e.result?e.result.metaInfo:null;t.reject(e.reason,i)}},u._saveScriptAsyncDone=function(t,e){if(e.error)t.reject(u._readableError(e.error));else if(e.success)t.resolve(e.result.metaInfo);else{var i=e.result?e.result.metaInfo:null;t.resolve(i,e.reason)}},u._readableError=function(t,e){return e},u._anyRequestAsyncFail=function(t,e){0===u.PINE_FACADE_URL().indexOf("http")&&c.logError(e.responseText),t.reject(u._readableError(e.status,e.statusText))},u.isAuthToWritePineScript=function(t){var e,i,o="write_"+t,n=u._isAuthCache.getPromise(o);return null!==n?n:(a("Pine","ScriptLib.isAuthToWritePineScript"),e=$.Deferred(),i="/is_auth_to_write/"+encodeURIComponent(t),u._pineFacadeAjax("GET",i).done(function(t,i,o){var n=JSON.parse(t);e.resolve(n)
}).fail(function(t,i,o){u._anyRequestAsyncFail(e,t)}),u._isAuthCache.setPromise(o,e.promise()))},u.isAuthToGetPineSourceCode=function(t,e){var i,o,n="get_"+t+"_"+e,r=u._isAuthCache.getPromise(n);return null!==r?r:(a("Pine","ScriptLib.isAuthToGetPineSourceCode"),i=$.Deferred(),o="/is_auth_to_get/"+encodeURIComponent(t)+"/"+e,u._pineFacadeAjax("GET",o).done(function(t,e,o){var n=JSON.parse(t);i.resolve(n)}).fail(function(t,e,o){u._anyRequestAsyncFail(i,t)}),u._isAuthCache.setPromise(n,i.promise()))},n.prototype.getPromise=function(t){var e=u._cache[t];return void 0===e?null:void 0!==e.value?$.Deferred().resolve(e.value):void 0!==e.promise?e.promise:null},n.prototype.setPromise=function(t,e){return u._cache[t]={promise:e},e.done(function(e){u._cache[t]={value:e}}).fail(function(e){delete u._cache[t]}),e},u.getPineSourceCode=function(t,e,i){var o,n,r;return a("Pine","ScriptLib.getPineSourceCode"),o=$.Deferred(),n="?no_4xx="+!!i,r="/get/"+encodeURIComponent(t)+"/"+e+n,u._pineFacadeAjax("GET",r).done(function(t,e,i){var n=JSON.parse(t);!1===n.success?o.reject(n.reason):o.resolve(n)}).fail(function(t,e,i){u._anyRequestAsyncFail(o,t)}),o.promise()},u._removeDefaultDraft=function(t){var e=t.result.metaInfo.id,i=s.parseIdString(e).id,o="study_"+i;TradingView.saveDefaults(o,{})},u.saveNewDraft=function(t){var e,i,o,n;return a("Pine","ScriptLib.saveNewDraft"),e=$.Deferred(),null==t||""===t?e.reject($.t("Cannot save empty source code")):(i=window.user&&window.user.username,o="/save/new_draft/?user_name="+encodeURIComponent(i)+"&allow_use_existing_draft=true",n={source:t},u._pineFacadeAjax("POST",o,n).done(function(t,i,o){var n=JSON.parse(t);u._removeDefaultDraft(n),u._translateScriptAsyncDone(e,n)}).fail(function(t,i,o){u._anyRequestAsyncFail(e,t)}),e.promise())},u.saveNextDraft=function(t,e,i){var o,n,r,s;return a("Pine","ScriptLib.saveNextDraft"),o=$.Deferred(),null==e||""===e?o.reject($.t("Cannot save empty source code")):(n=window.user&&window.user.username,i=!!i,r="/save/next_draft/"+encodeURIComponent(t)+"/?user_name="+encodeURIComponent(n)+"&allow_create_new="+i,s={source:e},u._pineFacadeAjax("POST",r,s).done(function(t,e,i){var n=JSON.parse(t);u._removeDefaultDraft(n),u._translateScriptAsyncDone(o,n)}).fail(function(t,e,i){u._anyRequestAsyncFail(o,t)}),o.promise())},u.processLegacy=function(t,e){var i,o,n,r;return a("Pine","ScriptLib.processLegacy"),i=$.Deferred(),o=window.user&&window.user.username,n="/process_legacy/"+encodeURIComponent(t)+"/?user_name="+encodeURIComponent(o),r={},null!=e&&""!==e&&(r.source=e),u._pineFacadeAjax("POST",n,r).done(function(t,e,o){var n=JSON.parse(t);u._translateScriptAsyncDone(i,n)}).fail(function(t,e,o){u._anyRequestAsyncFail(i,t)}),i.promise()},u.generateAlert=function(t){var e,i,o,n,r;return a("Pine","ScriptLib.generateAlert"),e=$.Deferred(),i=window.user&&window.user.username,o="/gen_alert/?user_name="+encodeURIComponent(i),n={alert_info:t},r=Date.now(),u._pineFacadeAjax("POST",o,n).done(function(t,i,o){h.sendReport("alerts","compilation_ok");var n=JSON.parse(t)
;u._translateScriptAsyncDone(e,n)}).fail(function(t,i,o){h.sendReport("alerts","compilation_error"),u._anyRequestAsyncFail(e,t)}).always(function(){var t=Date.now()-r;h.sendReport("alerts","compilation_time_frame",{v:t})}),e.promise()},u.createScriptStubNoSrc=function(t,e){var i,o;return c.logNormal("createScriptStubNoSrc"),i=u._createScriptStubTemplate(),o={shortDescription:t,id:"Script$"+e+"@tv-scripting-1",scriptIdPart:e},TradingView.merge(i,o)},u._createScriptStubTemplate=function(){return{_metainfoVersion:s.CURRENT_METAINFO_FORMAT_VERSION,isTVScript:!0,isTVScriptStub:!0,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#000080"}},precision:4,inputs:{text:"na~$0;$0()~$1"}},plots:[{id:"plot_0",type:"line"}],styles:{plot_0:{title:"Plot",histogramBase:0,joinPoints:!1}},description:"None",shortDescription:"TODO: set value",is_price_study:!1,inputs:[{defval:"na~$0;$0()~$1",id:"text",name:"ILScript",type:"text",isHidden:!0}],id:"TODO: set value",scriptIdPart:"TODO: set value"}},u.parseScriptTitleAsync=function(t){var e,i;return a("Pine","ScriptLib.parseScriptTitle"),e=$.Deferred(),null==t||""===t?e.reject($.t("Cannot save empty source code")):(i={user_name:window.user&&window.user.username,source:t},u._pineFacadeAjax("POST","/parse_title/",i).done(function(t,i,o){var n=JSON.parse(t);n.error?e.reject(u._readableError(n.error)):n.success?e.resolve(n.result):e.reject(n.reason)}).fail(function(t){u._anyRequestAsyncFail(e,t)}),e.promise())},u.evalMetaInfoExprsAsync=function(t,e){var i,o;return a("Pine","ScriptLib.evalMetaInfoExprs"),i=$.Deferred(),o={username:window.user&&window.user.username,source:t,inputs:JSON.stringify(e||{})},u._pineFacadeAjax("POST","/eval_pine_ex/",o).done(function(t,e,o){var n=JSON.parse(t);n.error?i.reject(u._readableError(n.error)):n.success?i.resolve(n.result):i.reject(n.reason)}).fail(function(t){u._anyRequestAsyncFail(i,t)}),i.promise()},u.patchPropertiesAsync=function(t,e,i){var o,n,s;return c.logNormal("patchPropertiesAsync"),o=$.Deferred(),e.TVScriptMetaInfoExprs?(n=e.TVScriptMetaInfoExprs.tree,s=e.TVScriptMetaInfoExprs.patchMap,u.evalMetaInfoExprsAsync(n,i).done(function(e){var i,n,a,l,c,h,d,u,p,f=e.rootValues,_=Object.keys(s);for(i=0;i<_.length;i++){for(n=_[i],a=s[n],l=f[a],c=n.split("."),"defaults"===c[0]&&c.splice(0,1),r(c.length>1,"Unexpectedly short json path"),h=t,d=0;d<c.length-1;++d)u=c[d],h=h[u];p=c[c.length-1],h[p].setValue(l)}o.resolve(t)}).fail(function(t){o.reject(t)}),o.promise()):o.resolve(t)},u.scriptUpdater=function(){return window.scriptUpdater},u.clearAllCaches=function(){u.clearIsAuthToCaches(),u.clearSavedScriptsCache()},u.clearIsAuthToCaches=function(t){t?Object.keys(u._cache).filter(function(e){return e.indexOf(t)>=0}).forEach(function(t){delete u._cache[t]}):u._isAuthCache=new n},u.clearSavedScriptsCache=function(t){delete u._userScriptsDfd},u.requestUserScripts=function(t){var e;return a("Pine","ScriptLib.requestUserScripts"),
window.is_authenticated?(u._userScriptsDfd||(u._userScriptsDfd=$.Deferred(),e=u._userScriptsDfd,u._pineFacadeAjax("GET","/list?filter=saved").done(function(t,i,o){var n=JSON.parse(t);e.resolve(n)}).fail(function(t){u._anyRequestAsyncFail(e,t)})),e=u._userScriptsDfd):e=$.Deferred().resolve([]),"function"==typeof t&&e.done(t),e.promise()},u.setUserScripts=function(t){u._userScriptsDfd||(u._userScriptsDfd=$.Deferred().resolve(t))},u.requestUserPublishedScripts=function(t,e){var i;return a("Pine","ScriptLib.requestUserPublishedScripts"),window.is_authenticated?(!e&&u._userPublishedScriptsDfd||(u._userPublishedScriptsDfd=$.Deferred(),i=u._userPublishedScriptsDfd,u._pineFacadeAjax("GET","/list?filter=published").done(function(t,e,o){var n=JSON.parse(t);i.resolve(n)}).fail(function(t){u._anyRequestAsyncFail(i,t)})),i=u._userPublishedScriptsDfd):i=$.Deferred().resolve([]),"function"==typeof t&&i.done(t),i.promise()},u.requestPineEditorNewTemplateScripts=function(t){var e,i;return a("Pine","ScriptLib.requestPineEditorNewTemplateScripts"),e=!0,i=$.Deferred(),u._pineFacadeAjax("GET","/list/?filter=template",void 0,e).done(function(t,e,o){var n=JSON.parse(t);i.resolve(n)}).fail(function(t){u._anyRequestAsyncFail(i,t)}),"function"==typeof t&&i.done(t),i.promise()},u.requestBuiltinAndUserScripts=function(t){var e,i;return a("Pine","ScriptLib.requestBuiltinAndUserScripts"),c.logNormal("Request built-in and user scripts"),e=window.user&&window.user.username,i=$.Deferred(),$.when(u._pineFacadeAjax("GET","/list?filter=saved&user_name="+encodeURIComponent(e),void 0,!1),u._pineFacadeAjax("GET","/list?filter=standard",void 0,!0)).done(function(t,e){var o,n,r;c.logNormal("Request built-in and user scripts finished"),o=JSON.parse(t[0]),n=JSON.parse(e[0]),r=o.concat(n),i.resolve(r)}).fail(function(t){c.logWarn("Request built-in and user scripts finished with fail"),u._anyRequestAsyncFail(i,t)}),"function"==typeof t&&i.done(t),i.promise()},u.requestPineAddons=function(t){a("Pine","ScriptLib.requestPineAddons");var e=$.Deferred();return u._pineFacadeAjax("GET","/list?filter=addon&pine_id_prefix="+t).done(function(t){e.resolve(JSON.parse(t))}).fail(function(t){u._anyRequestAsyncFail(e,t)}),e},u._updateAliveScriptInstances=function(t,e){var i={};i.scriptMetaInfo=t.result.metaInfo,i.scriptVersionToUpdate=e,l.emit("TVScriptModified",JSON.stringify(i)),setTimeout(function(){i.isSelfCall=!0,null!=u.scriptUpdater()&&u.scriptUpdater().onTVScriptModified(i)},0)},u.saveNew=function(t,e,i,o){var n,r,s,l,c;return a("Pine","ScriptLib.saveNew"),n=$.Deferred(),null==t||""===t?n.reject($.t("Cannot save empty source code")):(r=window.user&&window.user.username,s=i?"&allow_overwrite=true":"",l="/save/new/?name="+encodeURIComponent(e)+"&user_name="+encodeURIComponent(r)+s,c={source:t},u._pineFacadeAjax("POST",l,c).done(function(t,e,i){u.clearSavedScriptsCache();var r=JSON.parse(t);u._updateAliveScriptInstances(r,o),u._saveScriptAsyncDone(n,r)}).fail(function(t,e,i){u._anyRequestAsyncFail(n,t)}),n.promise())},u.saveNext=function(t,e,i,o,n){var r,s,l,c,h
;return a("Pine","ScriptLib.saveNext"),r=null!=i?"&name="+encodeURIComponent(i):"",s=$.Deferred(),null==e||""===e?s.reject($.t("Cannot save empty source code")):(l=window.user&&window.user.username,c="/save/next/"+encodeURIComponent(t)+"/?user_name="+encodeURIComponent(l)+"&allow_create_new="+!!n+r,h={source:e},u._pineFacadeAjax("POST",c,h).done(function(t,e,i){u.clearSavedScriptsCache();var n=JSON.parse(t);u._updateAliveScriptInstances(n,o),u._saveScriptAsyncDone(s,n)}).fail(function(t,e,i){u._anyRequestAsyncFail(s,t)}),s.promise())},u.deletePine=function(t){var e,i,o;return a("Pine","ScriptLib.deletePine"),e=$.Deferred(),i=window.user&&window.user.username,o="/delete/"+encodeURIComponent(t)+"/?user_name="+encodeURIComponent(i),u._pineFacadeAjax("POST",o).done(function(i,o,n){u.clearIsAuthToCaches(t),u.clearSavedScriptsCache(),e.resolve(i);var r={scriptIdPart:t};l.emit("TVScriptDeleted",JSON.stringify(r)),setTimeout(function(){r.isSelfCall=!0,null!=u.scriptUpdater()&&u.scriptUpdater().onTVScriptDeleted(r),u._pineDeleted.fire(t)},0)}).fail(function(t,i,o){u._anyRequestAsyncFail(e,t)}),e.promise()},u.renamePine=function(t,e,i){var o,n,r;return a("Pine","ScriptLib.renamePine"),o=$.Deferred(),n=window.user&&window.user.username,r="/rename/"+encodeURIComponent(t)+"/?name="+encodeURIComponent(e)+"&user_name="+encodeURIComponent(n)+"&force="+encodeURIComponent(!!i),u._pineFacadeAjax("POST",r).done(function(i,n,r){u.clearSavedScriptsCache();var s={scriptIdPart:t,scriptName:e};l.emit("TVScriptRenamed",JSON.stringify(s)),setTimeout(function(){s.isSelfCall=!0,null!=u.scriptUpdater()&&u.scriptUpdater().onTVScriptRenamed(s)},0),o.resolve(i)}).fail(function(t,e,i){u._anyRequestAsyncFail(o,t)}),o.promise()},u.publishNew=function(t,e){var i,o,n,r;return a("Pine","ScriptLib.publishNew"),i=$.Deferred(),o=window.user&&window.user.username,n="/publish/new/?access="+encodeURIComponent(e)+"&user_name="+encodeURIComponent(o),r={source:t},u._pineFacadeAjax("POST",n,r).done(function(t,e,o){u.clearSavedScriptsCache();var n=JSON.parse(t);i.resolve(n)}).fail(function(t,e,o){u._anyRequestAsyncFail(i,t)}),i.promise()},u.publishNext=function(t,e){var i,o,n,r;return c.logNormal("ScriptLib.publishNext","pine"),a("Pine","ScriptLib.publishNext"),i=$.Deferred(),o=window.user&&window.user.username,n="/publish/next/"+encodeURIComponent(e)+"?user_name="+encodeURIComponent(o),r={source:t},u._pineFacadeAjax("POST",n,r).done(function(t,e,o){u.clearSavedScriptsCache();var n=JSON.parse(t);n.success||i.reject(n.reason),i.resolve(n)}).fail(function(t,e,o){u._anyRequestAsyncFail(i,t)}),i.promise()},u.tvScriptingPkgVersion=function(t){c.logNormal("tvScriptingPkgVersion");var e;try{e=s.findStudyMetaInfo(t,"Script@tv-scripting")}catch(t){throw Error("Metainfo of 'tv-scripting' package is not found")}return e.version},loginStateChange.subscribe(u,u.clearAllCaches),t.exports=u}).call(e,i(4))},,function(t,e,i){function o(){this._data=null,this._hittest=new n(n.MOVEPOINT)}var n,r,s,a;i(35),n=i(11),r=i(91).LineEnd,s=i(51).distanceToSegment,
a=i(42).extendAndClipLineSegment,o.prototype.setData=function(t){this._data=t},o.prototype.setHitTest=function(t){this._hittest=t},o.prototype.drawArrow=function(t,e,i,o){var n,r,s,a,l,c,h,d,u;e.subtract(t).length()<1||(n=e.subtract(t).normalized(),r=5*o,s=n.scaled(r),a=e.subtract(s),l=n.transposed(),c=3*o,h=l.scaled(c),d=a.add(h),u=a.subtract(h),CanvasEx.drawLine(i,Math.round(d.x),Math.round(d.y),e.x,e.y),CanvasEx.drawLine(i,Math.round(u.x),Math.round(u.y),e.x,e.y))},o.prototype.extendAndClipLineSegment=function(t,e){return a(t,e,this._data.width,this._data.height,this._data.extendleft,this._data.extendright)},o.prototype.drawCircle=function(t,e,i,o){o=$.extend({fillStyle:"#000000"},o),e.save(),e.fillStyle=o.fillStyle,e.beginPath(),e.arc(t.x,t.y,i,0,2*Math.PI,!1),e.fill(),o.strokeWidth&&(e.lineWidth=o.strokeWidth,e.stroke()),e.restore()},o.prototype.draw=function(t){var e,i,o,n,r;null===this._data||this._data.points&&this._data.points.length<2||this._data.floatPoints&&this._data.floatPoints.length<2||(t.lineCap="butt",t.strokeStyle=this._data.color,t.lineWidth=this._data.linewidth,t.lineStyle=this._data.linestyle,e=this._data.floatPoints||this._data.points,i=e[0],o=e[1],this._data.overlayLineEndings?n=[$.extend(!0,{},i),$.extend(!0,{},o)]:this.drawEnds(t,[i,o]),r=this.extendAndClipLineSegment(i,o),null!==r&&this._data.linewidth>0&&CanvasEx.drawLine(t,r[0].x,r[0].y,r[1].x,r[1].y),this._data.overlayLineEndings&&this.drawEnds(t,n))},o.prototype.drawEnds=function(t,e){var i=e[0],o=e[1];switch(this._data.leftend){case r.Arrow:this.drawArrow(o,i,t,t.lineWidth);break;case r.Circle:this.drawCircle(i,t,t.lineWidth,this._data.endstyle)}switch(this._data.rightend){case r.Arrow:this.drawArrow(i,o,t,t.lineWidth);break;case r.Circle:this.drawCircle(o,t,t.lineWidth,this._data.endstyle)}},o.prototype.hitTest=function(t){var e,i,o,n,r,a;return null===this._data||this._data.points&&this._data.points.length<2?null:this._data.floatPoints&&this._data.floatPoints.length<2?null:(e=TradingView.isMobile.any()?24:3,i=this._data.floatPoints||this._data.points,o=i[0],n=i[1],r=this.extendAndClipLineSegment(o,n),null!==r&&(a=s(r[0],r[1],t),a.distance<=e)?this._hittest:null)},e.TrendLineRenderer=o},function(t,e,i){"use strict";function o(t,e,i,o){var n,r;for(this.m_study=t,this.m_series=e,this.m_model=i,this._plotName=o,this.m_items=[],this._invalidated=!0,this._isMarkersEnabled=j.enabled("source_selection_markers"),n=this.m_study.metaInfo().plots,this._colorer=null,this._palette=null,this._paletterProps=null,this._plotIndex=0,r=0;r<n.length;r++)n[r].id===this._plotName&&(this._plotIndex=r),this.m_study.isSelfColorerPlot(r)&&n[r].target===this._plotName&&(this._colorer=r,this._palette=this.m_study.metaInfo().palettes[n[r].palette],this._paletterProps=this.m_study.properties().palettes[n[r].palette])}function n(t,e,i,o){var n,r;for(this._study=t,this._series=e,this._model=i,this._plotName=o,this._items=[],this._invalidated=!0,this._isMarkersEnabled=j.enabled("source_selection_markers"),n=this._study.metaInfo().plots,
r=0;r<n.length;r++)n[r].id===this._plotName&&(this._plotIndex=r,u(this._study.isBgColorerPlot(r),"Plot '"+this._plotName+"' is not a background colorer!"))}function r(t,e,i,o){var n,r;for(this.m_study=t,this.m_series=e,this.m_model=i,this.m_plotName=o,this.m_items=[],this.m_invalidated=!0,this._isMarkersEnabled=j.enabled("source_selection_markers"),this.m_selectionData=null,this.m_plotIndex=null,n=this.m_study.metaInfo().plots,r=0;r<n.length;r++)if(n[r].id===this.m_plotName){this.m_plotIndex=r;break}for(n=this.m_study.metaInfo().plots,this._colorer=null,this._textColorer=null,this._palette=null,this._textPalette=null,this._paletterProps=null,this._textPaletterProps=null,this._plotIndex=0,r=0;r<n.length;r++)n[r].id===this.m_plotName&&(this._plotIndex=r),this.m_study.isSelfColorerPlot(r)&&n[r].target===this.m_plotName&&(this._colorer=r,this._palette=this.m_study.metaInfo().palettes[n[r].palette],this._paletterProps=this.m_study.properties().palettes[n[r].palette]),this.m_study.isTextColorerPlot(r)&&n[r].target===this.m_plotName&&(this._textColorer=r,this._textPalette=this.m_study.metaInfo().palettes[n[r].palette],this._textPaletterProps=this.m_study.properties().palettes[n[r].palette])}function s(t,e,i,o){r.call(this,t,e,i,o)}function a(t,e,i,o){s.call(this,t,e,i,o)}function l(t,e,i,o){r.call(this,t,e,i,o),this._maxAbsValue=0}function c(t,e,i,o){var n,r;for(this.m_study=t,this.m_series=e,this.m_model=i,this.m_plotName=o,this.m_bars=[],this._invalidated=!0,this._isMarkersEnabled=j.enabled("source_selection_markers"),n=this.m_study.metaInfo().plots,this._colorer=null,this._palette=null,this._paletterProps=null,this._ohlcPlotIndexes={},r=0;r<n.length;r++)n[r].target===this.m_plotName&&(this.m_study.isOHLCOpenPlot(r)&&(this._ohlcPlotIndexes[TradingView.OPEN_PLOT]=r),this.m_study.isOHLCHighPlot(r)&&(this._ohlcPlotIndexes[TradingView.HIGH_PLOT]=r),this.m_study.isOHLCLowPlot(r)&&(this._ohlcPlotIndexes[TradingView.LOW_PLOT]=r),this.m_study.isOHLCClosePlot(r)&&(this._ohlcPlotIndexes[TradingView.CLOSE_PLOT]=r),this.m_study.isOHLCColorerPlot(r)&&(this._colorer=r,this._palette=this.m_study.metaInfo().palettes[n[r].palette],this._paletterProps=this.m_study.properties().palettes[n[r].palette]))}function h(t,e,i,o){c.call(this,t,e,i,o)}function d(t,e,i,o){c.call(this,t,e,i,o)}var u=i(9).assert,p=i(8).Point,f=i(55),_=f.rgbToHsl,g=f.hslToRgb,m=f.rgbToHexString,v=f.parseRgb,y=f.parseRgba,b=i(11),w=i(155),S=w.SelectionRenderer,T=w.SelectionRendererArrowsUpDown,x=i(476).PaneRendererBars,P=i(659).PaneRendererHistogram,C=i(660).PaneRendererColumns,M=i(271).PaneRendererLine,k=i(477).PaneRendererArea,L=i(471).PaneRendererCandles,I=i(661).PaneRendererCross,A=i(662).PaneRendererCircles,R=i(274).PaneRendererArrowsUpDownItem,D=i(274).PaneRendererArrowsUpDown,E=i(638).PaneRendererUnicodeChar,O=i(663).PaneRendererBackground,V=i(664).PaneRendererStepLine,$=i(478),B=i(41).CompositeRenderer,z=i(275),F=i(36).clamp,N=i(92),H=i(665),W=i(33),U=i(24).PlotRowSearchMode,j=i(3);i(666),i(667),i(668),i(669),i(670),i(671),i(672),i(479),i(673),
o.isIndexValid=function(t,e){return null!==t&&t>=0&&t<e._length()},o.prototype.items=function(){return this.m_items},o.prototype.update=function(){this._invalidated=!0},o.prototype._updateImpl=function(){var t,e,i,n,r,s,a,l,c,h,d,u,f,_,g,m,v,y,w,S,T,x,P,C,M,k,L;if(this._histogramBase=null,this.m_items=[],!(this.m_model.timeScale().isEmpty()||this.m_study.priceScale().isEmpty()||null===(t=this.m_model.timeScale().visibleBars())||(e=this.m_series.nearestIndex(t.firstBar(),U.NearestRight),i=this.m_series.nearestIndex(t.lastBar(),U.NearestLeft),n=this.m_study.offset(this._plotName),n>0?(e-=n,i+=n):(e+=n,i-=n),(r=this.m_study.getMinFirstBarIndexForPlot(this._plotName))>i))){if(e=Math.max(r,e),s=this.m_study.properties().styles[this._plotName],a=s.plottype.value(),l=[N.PlotType.Line,N.PlotType.Area,N.PlotType.Circles,N.PlotType.Cross].indexOf(a)>=0,c=this.m_study.data(),h=this.m_study.firstValue(),l&&c._length()>0){for(d=c._bsearch(e);o.isIndexValid(d,c)&&void 0===c._valueAt(d)[this._plotIndex+1];)d-=1;for(e=o.isIndexValid(d,c)?c._indexAt(d):e,u=c._bsearch(i);o.isIndexValid(u,c)&&void 0===c._valueAt(u)[this._plotIndex+1];)u+=1;i=o.isIndexValid(u,c)?c._indexAt(u):i}if(f=c.range(e,i),_=this.m_study.priceScale(),g=_.properties().percentage.value(),m=F(this._getTranspValue(),0,100),v={},y=function(t,e){var i=t+"@"+e;return v[i]||(this._plotName&&"vol"===this._plotName?v[i]=W.generateColor(t,e):v[i]=W.generateColor(t,e,!0)),v[i]}.bind(this),f.each(function(t,e){var i,o,r,a,c,d,u,f,_;return t+=n,t=Math.floor(t),i=e[this._plotIndex+1],o=void 0===i||null===i,i=o?NaN:i,g&&!o&&(i=100*(i-h)/h),(!l||!o)&&(r=new p(t,i),a=void 0!==e[this._colorer+1]||this._palette&&this._palette.addDefaultColor,this._colorer&&a&&(i=e[this._colorer+1],r.style={},null!=i?(c=this._palette.valToIndex?this._palette.valToIndex[i]:i,d=this._paletterProps.colors[c],u=d.color.value(),r.style.color=W.isHexColor(u)?y(u,m):u):(u=s.color.value(),r.style.color=y(u,100)),f=void 0!==c?d.width.value():s.linewidth.value(),_=void 0!==c?d.style.value():s.linestyle.value(),r.style.width=f,r.style.style=_),this.m_items.push(r),!1)}.bind(this)),_.pricesToCoordinates(this.m_items),this.m_model.timeScale().indexesToCoordinates(this.m_items),s.histogramBase&&(this._histogramBase=this.m_study.priceScale().priceToCoordinate(s.histogramBase.value())),this.m_study===this.m_model.selectedSource())for(w=z(e,i),this._selectionData={points:[]},this._selectionData.hittestResult=b.REGULAR,S=0;S<w.length;S++)T=w[S],x=this.m_study.data().valueAt(T),T+=n,null!==x&&(P=x[this._plotIndex+1],_.isPercentage()&&(P=100*(P-h)/h),C=this.m_model.timeScale().indexToCoordinate(Math.floor(T)),M=this.m_study.priceScale().priceToCoordinate(P),this._selectionData.points.push(new p(C,M)));k=s,this._lineColor=W.generateColor(k.color.value(),m),this._lineWidth=k.linewidth.value(),L=k.color.value(),this._colorer&&null!=(P=this._paletterProps.colors[0])&&(L=P.color.value(),this._lineWidth=P.width.value(),this._lineColor=W.generateColor(P.color.value(),m)),this._color2=W.generateColor(L,m),
this._color1=W.generateColor(o.addHueForColor(L),m)}},o.addHueForColor=H(function(t){var e=_(v(t)),i=e[0]+.05;return e[0]=i-Math.floor(i),m(g(e))}),o.prototype._getTranspValue=function(){var t=this.m_study.properties(),e=t.styles[this._plotName],i=0,o=0,n=this.m_study.metaInfo();return"Volume@tv-basicstudies"===n.id&&n.version<=46&&"transparency"in t?(i=t.transparency.value(),i=isNumber(i)?i:o):(e.transparency&&(i=e.transparency.value(),i=isNumber(i)?i:o),i)},o.prototype.renderer=function(){var t,e,i,o,n,r=this.m_study.properties().styles[this._plotName];if(r.visible.value()&&this.m_study.priceScale()){switch(this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.barSpacing=this.m_model.timeScale().barSpacing(),t.items=this.m_items,t.histogramBase=this._histogramBase?this._histogramBase:this.m_study.priceScale().height(),t.lineIndex=0,t.lineStyle=r.linestyle.value(),t.lineColor=this._lineColor,t.lineWidth=this._lineWidth,t.lineWidth=isNumber(t.lineWidth)?t.lineWidth:1,t.color1=this._color1,t.color2=this._color2,t.bottom=t.histogramBase,this._colorer||(t.simpleMode=!0),e=new B,i=!!r.joinPoints&&r.joinPoints.value(),r.plottype.value()){case N.PlotType.Line:case N.PlotType.LineWithBreaks:e.append(new M(t));break;case N.PlotType.Area:case N.PlotType.AreaWithBreaks:e.append(new k(t));break;case N.PlotType.Histogram:e.append(new P(t));break;case N.PlotType.Columns:e.append(new C(t));break;case N.PlotType.Cross:e.append(new I(t)),i&&(o=TradingView.merge({},t),o.lineWidth=1,o.forceLineWidth=!0,e.append(new M(o)));break;case N.PlotType.Circles:e.append(new A(t)),i&&(o=TradingView.merge({},t),o.lineWidth=1,o.ignorePaletteLineWidth=!0,e.append(new M(o)));break;case N.PlotType.StepLine:n=new V,n.setData(t),e.append(n);break;default:e.append(new M(t))}return this.m_study===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new S(this._selectionData)),e}},n.prototype.items=function(){return this._items},n.prototype.update=function(){this._invalidated=!0},n.prototype._scalesReady=function(){var t=this._model.timeScale(),e=this._study.priceScale();return t&&e&&!t.isEmpty()&&!e.isEmpty()},n.prototype._getTranspValue=function(){var t=this._study.properties(),e=t.styles[this._plotName],i=0;return e.transparency&&(i=e.transparency.value(),i=isNumber(i)?i:40),i},n.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,f;this._items=[],u(this._scalesReady(),"Scales must be ready!"),null!==(t=this._model.timeScale().visibleBars())&&(e=this._study.metaInfo().plots,i=e[this._plotIndex].palette,o=this._study.properties().palettes[i],n=o.colors,r=this._study.metaInfo().palettes[i],s=this._getTranspValue(),a=this._series.nearestIndex(t.firstBar(),U.NearestRight),l=this._series.nearestIndex(t.lastBar(),U.NearestLeft),c=this._study.offset(this._plotName),c>0?(a-=c,l+=c):(a+=c,l-=c),(h=this._study.getMinFirstBarIndexForPlot(this._plotName))>l||(a=Math.max(h,a),d=this._study.data(),f=d.range(a,l),f.each(function(t,e){var i,o,a,l;return t+=c,i=e[this._plotIndex+1],o=new p(Math.floor(t)-.5),a=isNumber(s)?s:50,
a=Math.min(a,100),a=Math.max(a,0),null!=i?(l=r.valToIndex?r.valToIndex[i]:i,o.color=W.generateColor(n[l].color.value(),a)):o.color=null,this._items.push(o),!1}.bind(this)),this._model.timeScale().indexesToCoordinates(this._items)))},n.prototype.renderer=function(){var t,e;if(this._study.properties().styles[this._plotName].visible&&this._study.properties().styles[this._plotName].visible.value()&&this._scalesReady())return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={items:this._items,y:0,h:this._study.priceScale().height(),w:Math.ceil(this._model.timeScale().barSpacing())},e=new B,e.append(new O(t)),e},r.prototype.items=function(){return this.m_items},r.prototype.update=function(){this.m_invalidated=!0},r.prototype._scalesReady=function(){var t=this.m_model.timeScale(),e=this.m_study.priceScale();return t&&e&&!t.isEmpty()&&!e.isEmpty()},r.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m;this.m_items=[],this._scalesReady()&&(t=this.m_model.timeScale(),e=this.m_study.priceScale(),null!==(i=t.visibleBars())&&(o=this.m_series.nearestIndex(i.firstBar(),U.NearestRight),n=this.m_series.nearestIndex(i.lastBar(),U.NearestLeft),r=this.m_study.offset(this.m_plotName),r>0?(o-=r,n+=r):(o+=r,n-=r),(s=this.m_study.getMinFirstBarIndexForPlot(this.m_plotName))>n||(o=Math.max(s,o),a=this.m_study.data(),l=this.m_study.firstValue(),c=a.range(o,n),h=e.properties().percentage.value(),d=this._getTranspValue(),u=z(o,n),p=this.m_study===this.m_model.selectedSource(),this.m_selectionData=p?{points:[],hittestResult:b.REGULAR,vertOffset:0}:null,f=this.m_series.properties().style.value(),_=f===TradingView.Series.STYLE_LINE?"lineStyle":f===TradingView.Series.STYLE_AREA?"areaStyle":null,_?(g=this.m_series.properties()[_].priceSource.value(),m=g):(g="high",m="low"),this._topCoord=e.coordinateToPrice(e.height()*e.topMargin()),this._bottomCoord=e.coordinateToPrice(e.height()*(1-e.bottomMargin())),c.each(function(t,e){var i,o,n,s,a,c,f,_=Math.floor(t+r),v=e[this.m_plotIndex+1];return null!==v&&void 0!==v&&(i=this._createItem(_,v,g,m,h,l),void 0!==i&&null!==i?(o=void 0!==e[this._colorer+1]||this._palette&&this._palette.addDefaultColor,this._colorer&&o&&(v=e[this._colorer+1],i.style={},null!=v?(s=this._palette.valToIndex?this._palette.valToIndex[v]:v,n=this._paletterProps.colors[s].color.value(),i.style.color=W.generateColor(n,d)):(n=this.m_study.properties().styles[this.m_plotName].color.value(),i.style.color=W.generateColor(n,100)),a=d>9?d-10:0,i.style.borderColor=W.generateColor(n,a)),c=void 0!==e[this._textColorer+1]||this._textPalette&&this._textPalette.addDefaultColor,this._textColorer&&c&&(v=e[this._textColorer+1],i.style||(i.style={}),null!=v?(s=this._textPalette.valToIndex?this._textPalette.valToIndex[v]:v,f=this._textPaletterProps.colors[s].color.value(),i.style.textColor=W.generateColor(f,d)):(f=this.m_study.properties().styles[this.m_plotName].textColor.value(),i.style.textColor=W.generateColor(f,100))),p&&-1!==u.indexOf(t)&&this.m_selectionData.points.push(i),this.m_items.push(i),!1):void 0)
}.bind(this)),this._convertItemsToCoordinates())))},r.prototype._getSeriesVal=function(t,e){var i;t=t||"close",i=null;try{i=this.m_series[t](e)}catch(t){}return i},r.prototype._getTranspValue=function(){var t,e=0;return this.m_study.properties().transparency&&(e=this.m_study.properties().transparency.value(),e=isNumber(e)?e:50),t=this.m_study.properties().styles[this.m_plotName],t.transparency&&(e=t.transparency.value(),e=isNumber(e)?e:50),F(e,0,100)},r.prototype._createItem=function(t,e,i,o,n,r){var s,a,l,c=this.m_study.properties().styles[this.m_plotName].location.value();if(!e&&c!==CanvasEx.MARKLOC_ABSOLUTE)return null;switch(c){case CanvasEx.MARKLOC_ABOVEBAR:if(void 0===(s=this._getSeriesVal(i,t))||null==s)return null;a=s;break;case CanvasEx.MARKLOC_BELOWBAR:if(void 0===(l=this._getSeriesVal(o,t))||null==l)return null;a=l;break;case CanvasEx.MARKLOC_TOP:a=this._topCoord;break;case CanvasEx.MARKLOC_BOTTOM:a=this._bottomCoord;break;case CanvasEx.MARKLOC_ABSOLUTE:a=e;break;default:throw Error("Bad value: "+c)}return n&&c!==CanvasEx.MARKLOC_TOP&&c!==CanvasEx.MARKLOC_BOTTOM&&(a=100*(a-r)/r),new p(t,a)},r.prototype._convertItemsToCoordinates=function(){var t=this.m_model.timeScale(),e=this.m_study.priceScale();t.indexesToCoordinates(this.m_items),e.pricesToCoordinatesEx(this.m_items,function(t){return t.y},function(t,e){t.y=e})},r.prototype._calculateVerticalOffset=function(t,e){var i=0;switch(t){case CanvasEx.MARKLOC_ABOVEBAR:case CanvasEx.MARKLOC_BOTTOM:i=-e;break;case CanvasEx.MARKLOC_BELOWBAR:case CanvasEx.MARKLOC_TOP:i=e}return i},r.prototype._calculateShapeHeight=function(t,e){var i=t;switch(e){case CanvasEx.SIZE_TINY:i=.3*t;break;case CanvasEx.SIZE_SMALL:i=.6*t;break;case CanvasEx.SIZE_NORMAL:i=t;break;case CanvasEx.SIZE_LARGE:i=1.5*t;break;case CanvasEx.SIZE_HUGE:i=2*t}return i},r.prototype.renderer=function(){var t,e,i,o,n,r,s,a,l,c;if(this.m_study.properties().styles[this.m_plotName].visible&&this.m_study.properties().styles[this.m_plotName].visible.value()&&this._scalesReady())return t=this.m_model.timeScale(),this.m_invalidated&&(this._updateImpl(),this.m_invalidated=!1),e={},i=this._getTranspValue(),o=t.barSpacing(),n=this._calculateShapeHeight(o),r=this.m_study.properties().styles[this.m_plotName].location.value(),s=this._calculateVerticalOffset(r,n+n/2),e.barSpacing=o,e.items=this.m_items,e.color=W.generateColor(this.m_study.properties().styles[this.m_plotName].color.value(),i),e.height=n,e.vertOffset=s,a=this.m_study.properties().styles[this.m_plotName].plottype.value(),l=N.plotShapesData[a],c=new B,l&&c.append(new TradingView[l.paneRendererClass](e)),this.m_study===this.m_model.selectedSource()&&this._isMarkersEnabled&&null!==this.m_selectionData&&(this.m_selectionData.vertOffset=s,c.append(new S(this.m_selectionData))),c},inherit(s,r),s.prototype.renderer=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b=this.m_study.properties().styles[this.m_plotName];if(b.visible&&b.visible.value()&&this._scalesReady())return t=this.m_model.timeScale(),this.m_invalidated&&(this._updateImpl(),
this.m_invalidated=!1),e={},i=this._getTranspValue(),o=t.barSpacing(),b.size?(r=b.size.value(),n=this._calculateShapeHeight(25,r)):n=Math.round(o/2),s=b.location.value(),a=W.generateColor(b.color.value(),i),l=i>19?i-10:0,c=this._calculateVerticalOffset(s,Math.round(1.5*n)),e.barSpacing=o,e.items=this.items(),e.color=a,e.borderColor=W.generateColor(b.color.value(),l),e.height=n,e.vertOffset=c,h=b.plottype.value(),d=N.plotShapesData[h],u=new B,p=b.text?b.text.value():void 0,void 0!==p&&""!==p.trim()&&(f=p.trim().replace(/\\n/gm,"\n"),f=TradingView.cleanButAmpersand(f,!0),_=!1,g=!1,m="Arial",v=12,e.textCache=new $(f,_,g,m,v),y=b.textColor?b.textColor.value():void 0,e.textColor=y?W.generateColor(y,i):a),null!=d&&u.append(new TradingView[d.paneRendererClass](e)),this.m_study===this.m_model.selectedSource()&&this._isMarkersEnabled&&null!==this.m_selectionData&&(this.m_selectionData.vertOffset=c,u.append(new S(this.m_selectionData))),u},inherit(a,s),a.prototype.renderer=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m=this.m_study.properties().styles[this.m_plotName];if(m.visible&&m.visible.value()&&this._scalesReady())return t=this.m_model.timeScale(),this.m_invalidated&&(this._updateImpl(),this.m_invalidated=!1),e={},i=this._getTranspValue(),o=t.barSpacing(),m.size?(r=m.size.value(),n=this._calculateShapeHeight(50,r)):n=Math.round(o),s=m.location.value(),a=W.generateColor(m.color.value(),i),l=this._calculateVerticalOffset(s,n),e.items=this.items(),e.char=m.char.value(),e.height=n,e.vertOffset=l,e.color=a,c=new B,h=m.text?m.text.value():void 0,void 0!==h&&""!==h.trim()&&(d=h.trim().replace(/\\n/gm,"\n"),d=TradingView.cleanButAmpersand(d,!0),u=!1,p=!1,f="Arial",_=12,e.textCache=new $(d,u,p,f,_),g=m.textColor?m.textColor.value():void 0,e.textColor=g?W.generateColor(g,i):a),c.append(new E(e)),this.m_study===this.m_model.selectedSource()&&this._isMarkersEnabled&&null!==this.m_selectionData&&(this.m_selectionData.vertOffset=l,c.append(new S(this.m_selectionData))),c},inherit(l,r),l.prototype.renderer=function(){var t,e,i,o,n,r,s,a,l;if(this.m_study.properties().styles[this.m_plotName].visible&&this.m_study.properties().styles[this.m_plotName].visible.value()&&this._scalesReady())return this.m_invalidated&&(this._updateImpl(),this.m_invalidated=!1),t={},e=F(this._getTranspValue(),0,100),i=this.m_model.timeScale().barSpacing(),t.items=this.m_items,t.barSpacing=i,t.colorup=W.generateColor(this.m_study.properties().styles[this.m_plotName].colorup.value(),e),t.colordown=W.generateColor(this.m_study.properties().styles[this.m_plotName].colordown.value(),e),o=y(t.colorup),n=o?100*(1-o[3]):0,r=y(t.colordown),s=r?100*(1-r[3]):0,t.colorBorderUp=W.generateColor("#000000",n),t.colorBorderDown=W.generateColor("#000000",s),t.minHeight=this.m_study.properties().styles[this.m_plotName].minHeight.value(),t.maxHeight=this.m_study.properties().styles[this.m_plotName].maxHeight.value(),a=new B,a.append(new D(t)),this.m_study===this.m_model.selectedSource()&&null!==this.m_selectionData&&(l=this.m_selectionData,l.barSpacing=i,a.append(new T(l))),a
},l.prototype._createItem=function(t,e,i,o,n,r){var s,a,l,c;if(0!==e){if(Math.abs(e)>this._maxAbsValue&&(this._maxAbsValue=Math.abs(e)),s=e>0){if(void 0===(l=this._getSeriesVal(o,t))||null==l)return null;a=l}else{if(void 0===(c=this._getSeriesVal(i,t))||null==c)return null;a=c}return n&&(a=100*(a-r)/r),new R(t,a,e,s)}},l.prototype._convertItemsToCoordinates=function(){var t,e,i,o,n,r,s,a,l,c=this.m_model.timeScale(),h=this.m_study.priceScale();for(c.indexesToCoordinates(this.m_items),h.pricesToCoordinatesEx(this.m_items,function(t){return t.y},function(t,e){t.y=e}),t=Math.abs(this.m_study.properties().styles[this.m_plotName].minHeight.value()),e=Math.abs(this.m_study.properties().styles[this.m_plotName].maxHeight.value()),t>e&&(i=t,t=e,e=i),o=e-t,n=o/this._maxAbsValue,r=this.m_items,s=0;s<r.length;s++)a=r[s],l=Math.abs(a.height),a.height=l*n+t},c.prototype.update=function(){this._invalidated=!0},c.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,f,y,w,S,T,x,P;if(this.m_bars.length=0,!(this.m_model.timeScale().isEmpty()||this.m_study.priceScale().isEmpty()||null===(t=this.m_model.timeScale().visibleBars())||(e=this.m_series.nearestIndex(t.firstBar(),U.NearestRight),i=this.m_series.nearestIndex(t.lastBar(),U.NearestLeft),(o=this.m_study.getMinFirstBarIndexForPlot(this.m_plotName))>i||(e=Math.max(o,e),n=this.m_study.data(),r=this.m_study.firstValue(),s=n.range(e,i),a=this.m_study.priceScale(),l=a.properties().percentage.value(),c=0,h=this.m_study.properties().ohlcPlots[this.m_plotName],d={},u=function(t,e){var i=t+"@"+e;return d[i]||(d[i]=W.generateColor(t,e)),d[i]},s.each(function(t,e){var i,o,n,s,a,d,p,f,y,b,w,S,T,x,P,C;for(t=Math.floor(t),i=!0,o={},n=TradingView.OPEN_PLOT;n<=TradingView.CLOSE_PLOT;++n){if(void 0===(s=e[this._ohlcPlotIndexes[n]+1])||null===s){i=!1;break}o[n]=s}return!!i&&(a=o[TradingView.OPEN_PLOT],d=o[TradingView.CLOSE_PLOT],p=Math.max(a,o[TradingView.HIGH_PLOT],o[TradingView.LOW_PLOT],d),f=Math.min(a,o[TradingView.HIGH_PLOT],o[TradingView.LOW_PLOT],d),y={},y.time=Math.round(t),l?(y.open=100*(a-r)/r,y.high=100*(p-r)/r,y.low=100*(f-r)/r,y.close=100*(d-r)/r):(y.open=a,y.high=p,y.low=f,y.close=d),b=h.color.value(),w=void 0!==e[this._colorer+1]||this._palette&&this._palette.addDefaultColor,this._colorer&&w&&null!=(s=e[this._colorer+1])&&(S=this._palette.valToIndex?this._palette.valToIndex[s]:s,T=this._paletterProps.colors[S],b=T.color.value()),y.color=u(b,c),x=_(v(b)),P=x[2]>.25?x[2]-.26:x[2]+.75,C=g(x[0],x[1],P),y.borderColor=u(m(C),c),y.hollow=null,this.m_bars.push(y),!1)}.bind(this)),a.barPricesToCoordinates(this.m_bars),this.m_model.timeScale().barIndexesToCoordinates(this.m_bars),this.m_study!==this.m_model.selectedSource()))))for(f=z(e,i),this._selectionData={points:[],hittestResult:b.REGULAR},y=0;y<f.length;y++)w=f[y],null!==(S=this.m_study.data().valueAt(w))&&(T=S[this._plotIndex+1],a.properties().percentage.value()&&(T=100*(T-r)/r),x=this.m_model.timeScale().indexToCoordinate(Math.floor(w)),P=this.m_study.priceScale().priceToCoordinate(T),
this._selectionData.points.push(new p(x,P)))},c.prototype.items=function(){return this.m_bars},inherit(h,c),h.prototype.renderer=function(){var t,e;if(this.m_study.properties().ohlcPlots[this.m_plotName].visible.value())return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barSpacing=this.m_model.timeScale().barSpacing(),t.dontDrawOpen=this.m_series.properties().barStyle.dontDrawOpen.value(),e=new B,e.append(new x(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new S(this._selectionData)),e},inherit(d,c),d.prototype.renderer=function(){var t,e,i,o=this.m_study.properties().ohlcPlots[this.m_plotName];if(o.visible.value())return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barSpacing=this.m_model.timeScale().barSpacing(),t.drawWick=o.drawWick.value(),t.drawBorder=o.drawBorder.value(),e=o.wickColor.value(),t.borderColor=e,t.wickColor=e,i=new B,i.append(new L(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&i.append(new S(this._selectionData)),i},e.StudyPaneView=o,e.StudyBackgroundPaneView=n,e.StudyPlotShapesPaneView=s,e.StudyPlotCharsPaneView=a,e.StudyPlotArrowsPaneView=l,e.StudyPlotCandlesPaneView=d,e.StudyPlotBarsPaneView=h},,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function o(t,e,i){a.call(this,t,e),this.properties().listeners().subscribe(this,o.prototype.changeStyles),this._beingCreatedPaneView=new n(this,t),this._anchorsPaneView=new r(this,t),this._constructor=i,this._studyId=null,this._nonseriesdata=null,this._indexes=null,this._metaInfo=null,this._graphics=null,this._inputs=null}function n(t,e){l.call(this,t,e),this._lineRenderer1=new c,this._lineRenderer2=new c,this._medianRenderer=new h}function r(t,e){l.call(this,t,e)}var s=i(9).ensureNotNull,a=i(1).LineDataSource,l=i(461).LineSourcePaneView,c=i(563).VerticalLineRenderer,h=i(114).TrendLineRenderer,d=i(155).SelectionRenderer,u=i(41).CompositeRenderer,p=i(183),f=i(24).PlotList,_=i(39),g=i(2).propertyPages,m=i(91).LineEnd;inherit(o,a),o.prototype.pointsCount=function(){throw Error("Reimplement this in a child class")},o.prototype.title=function(){return this._metaInfo.description},o.prototype.studyId=function(){return this._metaInfo.id},o.prototype._requestStudy=function(){throw Error("Reimplement this in a child class")},o.prototype.changeStyles=function(){var t,e,o,n=i(144);if(this._inputs){t=n.splitInputs(this.properties().inputs.state()),e=t.obj;for(o in e)if(e[o]!==this._inputs[o]){this._inputs=e,this._requestStudy(),this._properties.lastUpdateTime.setValue((new Date).valueOf());break}}else t=n.splitInputs(this.properties().inputs.state()),this._inputs=TradingView.clone(t.obj),this._requestStudy(),this._properties.lastUpdateTime.setValue((new Date).valueOf())},o.prototype._checkTurnaround=function(t){return t===this._turnaround||t===this._model.mainSeries()._turnaround||t===this._model.mainSeries()._turnaround+"_"+this._turnaround},o.prototype.stop=function(){a.prototype.stop.call(this),
this._studyId&&(this._model.chartApi().removeStudy(this._studyId),this.disconnect())},o.prototype.onData=function(t){throw Error("Reimplement this in a child class")},o.prototype._correctedPoint=function(t){var e=s(this._model.mainSeries().bars().firstIndex()),i=s(this._model.mainSeries().bars().lastIndex());return t.index=Math.max(t.index,e),t.index=Math.min(t.index,i),t},o.prototype.addPoint=function(t){return a.prototype.addPoint.call(this,this._correctedPoint(t))},o.prototype.setLastPoint=function(t){return a.prototype.setLastPoint.call(this,this._correctedPoint(t))},o.prototype.move=function(t){},o.prototype.clearData=function(){void 0!==this.m_data&&(this.m_data=new f(this._plotFields)),this._nonseriesdata=null,this._indexes=null,this._graphics=new p(this._metaInfo),this.updateAllViews()},o.prototype.state=function(t){var e=a.prototype.state.call(this,t);return t&&(void 0!==this.m_data&&(e.data=this.m_data.state()),e.nonseriesdata=this._nonseriesdata,e.nonseriesindexes=this._indexes,e.graphics=this._graphics.graphics()),this.metaInfo()instanceof _?e.metaInfo=this.metaInfo().state():(e.metaInfo=$.extend({},this.metaInfo()),e.metaInfo.id=_.parseIdString(e.metaInfo.id+(e.metaInfo.version?"-"+e.metaInfo.version:"")).fullId),e},o.prototype.restoreData=function(t){void 0!==this.m_data&&void 0!==t.data&&this.m_data.restoreState(t.data),this._nonseriesdata=t.nonseriesdata?t.nonseriesdata:null,this._indexes=t.nonseriesindexes?t.nonseriesindexes:null,this._graphics.setGraphics(t.graphics?t.graphics:p.emptyGraphics())},o.prototype.setPoint=function(t,e){this._nonseriesdata=null,this._indexes=null,a.prototype.setPoint.call(this,t,this._correctedPoint(e))},o.prototype.disconnect=function(){this._studyId=0},o.prototype.graphics=function(){return this._graphics.graphics()},o.prototype.firstValue=function(){return this._model.mainSeries().firstValue()},o.prototype.metaInfo=function(){return this._metaInfo},o.prototype.getMinFirstBarIndexForPlot=function(){return-1/0},o.prototype.getInputsPropertyPage=function(){return g.StudyLineDataSourcePropertyPage},o.prototype.getStylesPropertyPage=function(){return g.StudyStylesPropertyPage},o.prototype.paneViews=function(t){var e,i=[];return this._isReady()?null!==(e=a.prototype.paneViews.call(this,t))&&(i=i.concat(e)):i.push(this._beingCreatedPaneView),i.push(this._anchorsPaneView),i},o.prototype._isReady=function(){return!0},inherit(n,l),n.prototype.renderer=function(){var t,e,i,o,n,r,s,a;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._points.length<2?null:(t=new u,e=this._points[0],i=this._points[1],o=this._model.timeScale().width(),n=this._source.priceScale().height(),r={},r.width=o,r.height=n,r.points=[e],r.color="#808080",r.linewidth=1,r.linestyle=CanvasEx.LINESTYLE_SOLID,this._lineRenderer1.setData(r),t.append(this._lineRenderer1),s={},s.width=o,s.height=n,s.points=[i],s.color="#808080",s.linewidth=1,s.linestyle=CanvasEx.LINESTYLE_SOLID,this._lineRenderer2.setData(s),t.append(this._lineRenderer2),a={points:[e,i],width:this._model.timeScale().width(),
height:this._source.priceScale().height(),color:"#808080",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:m.Normal,rightend:m.Normal},this._medianRenderer.setData(a),t.append(this._medianRenderer),t)},inherit(r,l),r.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var t=new u;return this.isAnchorsRequired()&&(t.append(new d({points:this._points})),t.append(this.createLineAnchor({points:this._points}))),t},e.StudyLineDataSource=o},function(t,e,i){"use strict";function o(){this._registeredSources={},this._sourcesToRow={},this._rowsToSources={},this._currentSymbol="",this._actualCapacity=0,this._actualWidth=1,this._numericFormatter=new r,this._percentageFormatter=new n}var n=i(73).PercentageFormatter,r=i(66).NumericFormatter;o.prototype.levelsCount=function(){return 0},o.prototype.topByRow=function(t){return t*o.ROW_HEIGHT},o.prototype.rowHeight=function(t){return o.ROW_HEIGHT},o.prototype.canvas=function(){if(!this._canvas){this._canvas=$("<canvas>"),this._cache=this._canvas.get(0).getContext("2d"),this._canvas.prop("width",100).css("position","absolute").css("top",0).css("z-index",1e3).css("left",0);this._canvas.get(0).getContext("2d").font="12px Verdana"}return this._canvas},o.ROW_HEIGHT=14,o.prototype.points=function(t){return[t.points()[0],t.points()[1]]},o.prototype.startPoint=function(t,e){return e?t.points()[0]:t.points()[1]},o.prototype.priceRange=function(t,e){var i=this.points(t),o=i[0],n=i[1];return e?n.price-o.price:o.price-n.price},o.prototype.sourceIsReady=function(t){return t.points().length>=2},o.prototype._calculateWidth=function(t){var e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T;if(!this.sourceIsReady(t))return null;if(e=this.canvas().get(0).getContext("2d"),e.font="12px Verdana",i=!!t.properties().showPrices&&t.properties().showPrices.value(),o=!!t.properties().coeffsAsPercents&&t.properties().coeffsAsPercents.value(),n=t.properties().showCoeffs.value(),r=t.priceScale().formatter(),s=this.points(t),a=s[0],l=s[1],!a||!l)return null;if(c=!1,h=t.properties(),h.reverse&&h.reverse.value()&&(c=h.reverse.value()),d=this.priceRange(t,c),u=this.startPoint(t,c).price,t.priceScale().isPercent()&&null===(p=t.ownerSource().firstValue()))return 0;for(f=0,_=[],g=1;g<=this.levelsCount();g++)m="level"+g,v=h[m],y=v.coeff.value(),b=u+y*d,t.priceScale().isPercent()&&(b=t.priceScale().priceRange().convertToPercent(b,p)),w="",n&&(w+=o?this._percentageFormatter.format(Math.round(1e4*y)/100):this._numericFormatter.format(y)),i&&(w+="("+r.format(b)+")"),S=e.measureText(w).width,T={text:w,left:f,width:S+4},_.push(T),f+=T.width;return{totalWidth:f,cells:_}},o.prototype._effectiveState=function(t){var e,i,o,n,r,s,a={},l=t.properties();for(l.showPrices&&(a.showPrices=l.showPrices.value()),l.coeffsAsPercents&&(a.coeffsAsPercents=l.coeffsAsPercents.value()),a.showCoeffs=l.showCoeffs.value(),t.priceScale()&&t.priceScale().formatter().state&&(a.formatter=t.priceScale().formatter().state()),l.reverse&&(a.reverse=l.reverse.value()),a.p1=t.points()[0],
a.p2=t.points()[1],3===t.points().length&&(a.p3=t.points()[2]),a.items=[],e=1;e<=this.levelsCount();e++)i="level"+e,o=l[i],n=o.coeff.value(),r=o.color.value(),s={coeff:n,color:r},a.items.push(s);return a},o.prototype._findEmptyRow=function(t){for(var e,i=0;this._rowsToSources[i];)i++;return this._rowsToSources[i]=t,i>=this._actualCapacity&&(this._actualCapacity++,e=this.canvas(),TradingView.resizeCanvas(e,this._actualWidth,o.ROW_HEIGHT*this._actualCapacity)),i},o.prototype._repaintSource=function(t,e,i){var n,r,s=o.ROW_HEIGHT*i.row,a=this.canvas().get(0).getContext("2d");for(a.clearRect(0,s,this._actualWidth,o.ROW_HEIGHT),a.textBaseline="bottom",a.font="12px Verdana",s+=o.ROW_HEIGHT,n=0;n<t.cells.length;n++)r=t.cells[n],a.fillStyle=e.items[n].color,a.fillText(r.text,r.left,s)},o.prototype.removeSource=function(t){var e,i;this._sourcesToRow[t]&&(e=this._sourcesToRow[t].row,i=this.canvas().get(0).getContext("2d"),i.save(),i.clearRect(0,this.topByRow(e),this._actualWidth,o.ROW_HEIGHT),i.restore(),delete this._sourcesToRow[t],delete this._rowsToSources[e])},o.prototype._effectiveStatesEquals=function(t,e){var i,o=function(t,e){return!(!t&&!e)&&(!(!t||e)||(!(t||!e)||(t.minMove!==e.minMove||(t.minMove2!==e.minMove2||(t.fractional!==e.fractional||t.fractionalLength!==e.fractionalLength)))))},n=function(t,e){return!(!t&&!e)&&(!(!t||e)||(!(t||!e)||(t.index!==e.index||t.price!==e.price)))},r=function(t,e){return t.coeff!==e.coeff||t.color!==e.color};if(t&&!e)return!1;if(!t&&e)return!1;if(t.showPrices!==e.showPrices)return!1;if(t.coeffsAsPercents!==e.coeffsAsPercents)return!1;if(t.showCoeffs!==e.showCoeffs)return!1;if(t.reverse!==e.reverse)return!1;if(o(t.formatter,e.formatter))return!1;if(n(t.p1,e.p1))return!1;if(n(t.p2,e.p2))return!1;if(n(t.p3,e.p3))return!1;if(t.items.length!==e.items.length)return!1;for(i=0;i<t.items.length;i++)if(r(t.items[i],e.items[i]))return!1;return!0},o.prototype.updateSource=function(t){var e,i,n,r,s=t.properties().symbol.value();return this._currentSymbol!==s&&(this._currentSymbol=s,this._sourcesToRow={},this._rowsToSources={}),this._sourcesToRow[t.id()]||(e=this._findEmptyRow(t.id()),this._sourcesToRow[t.id()]={effectiveState:null,row:e}),i=this._sourcesToRow[t.id()].effectiveState,n=this._effectiveState(t),this._effectiveStatesEquals(i,n)||(r=this._calculateWidth(t),r?(this._sourcesToRow[t.id()].effectiveState=n,r.totalWidth>this._actualWidth&&(TradingView.resizeCanvas(this.canvas(),r.totalWidth,o.ROW_HEIGHT*this._actualCapacity),this._actualWidth=r.totalWidth),e=this._sourcesToRow[t.id()],this._repaintSource(r,n,e),this._sourcesToRow[t.id()].effectiveState=n,this._sourcesToRow[t.id()].preparedCells=r):this._sourcesToRow[t.id()].effectiveState=null),this._sourcesToRow[t.id()]},t.exports=o},function(t,e,i){"use strict";function o(t,e){return t<e}function n(t,e,i,o,n){var r,s,a;for(void 0===o&&(o=0),void 0===n&&(n=t.length),r=n-o;0<r;)s=r>>1,a=o+s,i(t[a],e)?(o=a+1,r-=s+1):r=s;return o}function r(t,e,i,r){return void 0===i&&(i=0),void 0===r&&(r=t.length),n(t,e,o,i,r)}function s(t,e,i,o,n){var r,s,a
;for(void 0===o&&(o=0),void 0===n&&(n=t.length),r=n-o;0<r;)s=r>>1,a=o+s,i(e,t[a])?r=s:(o=a+1,r-=s+1);return o}function a(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=t.length),s(t,e,o,i,n)}function l(t,e,i,o,n){var r,s;for(void 0===o&&(o=0),void 0===n&&(n=t.length-1);o<=n;)if(r=o+n>>>1,(s=i(t[r],e))>0)o=r+1;else{if(!(s<0))return r;n=r-1}return-1}Object.defineProperty(e,"__esModule",{value:!0}),e.lowerbound=n,e.lowerbound_int=r,e.upperbound=s,e.upperbound_int=a,e.bSearch=l},,,,,,,,,,function(t,e,i){"use strict";function o(t,e){var o,n,r,s,a,c,h,d,u;if(!t)throw Error("No studies metainfo");if(o=i(483),this._studiesMetainfo=t,!e)throw Error("No studies migrations");for(this._studiesMigrations=e,this._migrations={},n=0;n<this._studiesMigrations.length;n++)for(r=this._studiesMigrations[n],s=r.versFrom,a=r.versTo,c=0;c<r.studyMigrations.length;c++)h=r.studyMigrations[c],d=h.studyId,0!==h.rules.length?(u=d in this._migrations?this._migrations[d]:new o(d),u.addMigration(s,a,h.rules),this._migrations[d]=u):l.logError("Study Migration should have at least one convertion rule");this._clientMigrations=[function(t,e){var i,o,n,r,s;if(0===this._studiesMetainfo.length||!t.isTVScript||t.version>=22)return e;for(i={},o=0,n=0;void 0!==(r=e[n]);)s=e[r.id],r.isFake&&(r.id="in_"+o++),i[n]=r,i[r.id]=s,n++;return i}]}var n=i(9).assert,r=i(481).LineToolRegressionTrend,s=i(112),a=i(230).Version,l=i(0).getLogger("Chart.Study.Versioning"),c=i(50),h=i(39);o.prototype.updateMetaInfo=function(t){var e,i,o;if(!t)return t;for(n(!t.isTVScript,"This method should update only built-in java indicators metaInfo. For Pine indicators use updateMetaInfoAsync"),e=null,i=this._studiesMetainfo,o=0;o<i.length;o++)if(i[o].id===t.id){e=i[o];break}return TradingView.clone(e)},o.prototype.updateMetaInfoAsync=function(t,e){var i,o,r,a,l,c,d,u=$.Deferred(),p=u.promise();if(!t)return u.reject("No old metaInfo was given"),p;if(e)return u.resolve(null),p;if(i=t.isTVScript&&t.scriptIdPart&&TVScript.pineType(t.scriptIdPart)===TVScript.PineType.Addon,o=h.versionOf(t),t.isTVScript&&!t.pine&&!i&&o<h.VERSION_PINE_PROTECT_TV_4164)n(TradingView.isExistent(t.scriptIdPart),"scriptIdPart is missing, study "+JSON.stringify(t)),r=t.scriptIdPart,s.processLegacy(r,t.TVScriptSourceCode).done(function(e){h.removeStudyMetaInfo(this._studiesMetainfo,t),e=h.addOrReplaceStudyMetaInfo(this._studiesMetainfo,e),u.resolve(e)}.bind(this)).fail(function(t,e){u.reject(t)});else if((t.isTVScript||t.isTVScriptStubToCompile)&&t.pine&&!i)o!==h.CURRENT_METAINFO_FORMAT_VERSION?s.translateScriptAsync2(t.scriptIdPart,t.pine.version).done(function(t){t=h.addOrReplaceStudyMetaInfo(this._studiesMetainfo,t),u.resolve(t)}.bind(this)).fail(function(t,e){u.reject(t)}):(a=h.addOrReplaceStudyMetaInfo(this._studiesMetainfo,t),u.resolve(a));else{for(l=null,c=this._studiesMetainfo,d=0;d<c.length;d++)if(c[d].id===t.id){l=c[d];break}l?u.resolve(TradingView.clone(l)):u.resolve(null)}return p},o.prototype.updateStudyInputs=function(t,e,i,o,n){var r,s,c,h,d,u,p=TradingView.clone(o)
;if(t in this._migrations&&(r=a.parse(e),s=a.parse(i),c=this._migrations[t],h=c.updateInputs(r,s,p),p=h),null==n)return p;for(d in n)d in p||(p[d]=n[d]);for(d in p)d in n||(u=p[d],l.logWarn("Extra input detected, studyId="+t+", versionFrom="+e+", inputId="+d+", inputValue="+u+", removing it and continue..."),delete p[d]);return p},o.prototype.updateStudyState=function(t,e,i){var o,n,r,s,a,c,d,u,p,f,_,g,m,v;if(null==t||null==e||null==i)return t;for(t=TradingView.clone(t),o=e.isTVScript||!!e.pine,o||e.version===i.version||(n=i&&i.defaults.inputs,r=this.updateStudyInputs(e.id,e.version,i.version,t.inputs,n),t.inputs=r),s=0;s<this._clientMigrations.length;++s)r=this._clientMigrations[s].call(this,e,t.inputs),Object.keys(r).length===Object.keys(t.inputs).length?t.inputs=r:l.logWarn("StudyVersioning._clientMigrations application returned bad result. Skipping it...");if(a=h.versionOf(e),e.isTVScript&&e.TVScriptSourceCode&&a>=12&&a<=26){for(c={},s=0;s<e.plots.length;++s)d=e.plots[s],u=i.plots[s],c[d.id]=u.id;for(p=Object.keys(t.styles),s=0;s<p.length;++s)f=p[s],_=t.styles[f],delete t.styles[f],g=c[f],t.styles[g]=_;for(m=Object.keys(t.plots),s=0;s<m.length;++s)v=m[s],f=t.plots[v].id,t.plots[v].id=c[f]}return t},o.prototype.patchPointsBasedStudyState=function(t){return o._fixInputsMaxValue(t.state,t.metaInfo),"LineToolRegressionTrend"===t.type&&(t=r.patchSourceState(t)),t},o.prototype.patchPointsBasedStudyData=function(t,e){if(!c.isProd())return e;if(!t||!e)return e;var i=TradingView.clone(e);return"VbPFixed@tv-volumebyprice"===t.id&&t.version&&t.version<=4&&o._patchOldVolumeProfiles(0,i),i},o.prototype.patchStudyData=function(t,e,i,n){var r,s,a,l,d,u,p;if(!c.isProd())return{data:e,nsData:i,indexes:n};if(r=TradingView.clone(e),s=TradingView.clone(i),a=TradingView.clone(n),"VbPVisible@tv-volumebyprice"===t.id&&t.version&&t.version<=4&&o._patchOldVolumeProfiles(0,r.graphics),"VbPSessions@tv-volumebyprice"===t.id&&t.version&&t.version<=4&&o._patchOldVolumeProfiles(0,r.graphics),l=h.versionOf(t),t.isTVScript&&t.TVScriptSourceCode&&l>=12&&l<=26)for(d=r.columns,r.columns=[],u=0;u<d.length;++u)p="plot_"+u,r.columns.push(p);return{data:r,nsData:s,indexes:a}},o._patchOldVolumeProfiles=function(t,e){var i,o=e.hhists[t].data,n=[];for(i in o)n=n.concat(o[i]);e.hhists[0].data=n},o._fixInputsOrder=function(t,e){var i,n,r,s,a=h.getOrderedInputIds(e),l=o.splitInputs(t.inputs),c=l.arr,d=l.obj,u=TradingView.merge({},d);for(i=0;i<a.length;++i)n=a[i],null!==(r=o.findInputKeyById(c,n))&&(s=c[r],u[i]=s);t.inputs=u},o.INPUT_MAX_VALUE=1e12,o._verifyInputsMaxValue=function(t){var e,i,n=o.INPUT_MAX_VALUE;if(t.inputs)for(e=0;e<t.inputs.length;e++)i=t.inputs[e],"integer"===i.type&&i.max&&i.max>n&&l.logWarn("Bad integer input max value in metaInfo id="+t.id+" title="+t.description)},o._fixInputsMaxValue=function(t,e){var i,n,r,s,a,l;if(!TradingView.isAbsent(e)){if(i=o.INPUT_MAX_VALUE,e.inputs)for(n=0;n<e.inputs.length;n++)r=e.inputs[n],"integer"===r.type&&r.max&&r.max>i&&(r.max=i);if(t&&t.inputs){s=o.splitInputs(t.inputs),a=s.arr;for(l in a)r=a[l],
"integer"===r.type&&r.max&&r.max>i&&(r.max=i);t.inputs=TradingView.merge(s.obj,s.arr)}}},o.prototype.patchPropsStateAndMetaInfo=function(t,e,i){var n,r,s,a,l,c,d,u,p,f,_,g,m,v,y,b,w,S;if("Script$BOOKER"!==e.productId||e.alerts||delete t.alerts,o._fixInputsOrder(t,e),o._fixInputsMaxValue(t,e),n=o.splitInputs(t.inputs),t.inputs=n.obj,h.versionOf(e)<h.METAINFO_FORMAT_VERSION_SOS_V2&&e.isChildStudy&&(t.isChildStudy=e.isChildStudy),r=60,e.isTVScript&&e.version<r&&("Script$TV_EARNINGS@tv-scripting"!==e.id&&"Script$TV_DIVIDENDS@tv-scripting"!==e.id&&"Script$TV_SPLITS@tv-scripting"!==e.id||delete e.TVScriptSourceCode),"Volume"!==e.id&&"Volume@tv-basicstudies"!==e.id||0!==e.inputs.length||(e.inputs=[{id:"length",type:"integer",defval:20,min:1,max:1e3}],e.plots.push({id:"vol_ma",type:"line"})),"Volume@tv-basicstudies"===e.id&&e.version&&e.version<=46&&(t.styles.vol.transparency=t.transparency||87),"PivotPointsStandard@tv-basicstudies"===e.id&&(0===e.inputs.length?(t.inputs={kind:"Traditional",showHistoricalPivots:!0},e.inputs=[{defval:"Traditional",id:"kind",type:"text",options:["Traditional","Fibonacci","Woodie","Classic","DeMark","Camarilla"]},{id:"showHistoricalPivots",type:"bool",defval:!0}]):1===e.inputs.length&&(t.inputs={kind:"Traditional"},e.inputs=[{defval:"Traditional",id:"kind",type:"text",options:["Traditional","Fibonacci","Woodie","Classic","DeMark","Camarilla"]},{id:"showHistoricalPivots",type:"bool",defval:!0}]),void 0===t._hardCodedDefaultsVersion&&(t._hardCodedDefaultsVersion=1,s=t.color,delete t.color,t.levelsStyle={colors:{P:s,"S1/R1":s,"S2/R2":s,"S3/R3":s,"S4/R4":s,"S5/R5":s}})),"CMF"===e.shortId&&2===e.inputs.length&&(t.inputs={length:t.inputs["length fast"]},e.inputs=e.inputs.splice(0,1),e.inputs[0].id="length"),e.defaults&&void 0===e.defaults.precision&&(-1!==["Volume@tv-basicstudies","VbPVisible@tv-volumebyprice","VbPSessions@tv-volumebyprice"].indexOf(e.id)?e.defaults.precision=0:e.defaults.precision=4),a=60,e.version<a)for(l=["TV_DIVIDENDS","TV_SPLITS","TV_EARNINGS"],c=6,d=0;d<l.length;d++)e.id.startsWith("Script$"+l[d]+"@tv-scripting")&&(e.fullId="ESD"+e.fullId.substring(c),e.id="ESD"+e.id.substring(c),e.name="ESD"+e.name.substring(c),e.shortId="ESD"+e.shortId.substring(c),e.productId="ESD"+e.productId.substring(c));if(h.versionOf(e)<h.VERSION_PINE_PROTECT_TV_4164&&(u={"StrategyScript$STD;Consecutive%1Ups/Downs%1Strategy":{pineId:"STD;Consecutive%1Ups%1Downs%1Strategy",className:"StrategyScript"},Script$EDGR_NET_INCOME_FROM_CONTINUING_OPERATIONS_APPLICABLE_TO_COMMON_V2:{pineId:"Script$EDGR_NET_INCOME_FROM_CONTINUING_OPS_APPLICABLE_TO_COMMON_V2",className:"Script"}},e.shortId in u&&(p=u[e.shortId].className+"$"+u[e.shortId].pineId,f={scriptIdPart:u[e.shortId].pineId,fullId:e.fullId.replace(e.shortId,p),id:e.id.replace(e.shortId,p),name:e.name.replace(e.shortId,p),shortId:p},TradingView.merge(e,f),TradingView.merge(t,f)),_=TradingView.StudyMetaInfo.cutScriptIdPart(e.fullId),(g=_.match(/^(USER)(_\d+)(;)(.*)$/))&&(m=g[0],v=g[1]+g[3]+g[2]+g[4],f={scriptIdPart:v,fullId:e.fullId.replace(m,v),
id:e.id.replace(m,v),name:e.name.replace(m,v),shortId:e.shortId.replace(m,v)},TradingView.merge(e,f),TradingView.merge(t,f))),"MA"===e.id){switch(y=new h({id:"MAExp",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgExp",type:"line"}],palettes:{}}),b=new h({id:"MASimple",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgSimple",type:"line"}],palettes:{}}),w=new h({id:"MAVolumeWeighted",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgVolumeWeighted",type:"line"}],palettes:{}}),S=new h({id:"MAWeighted",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgWeighted",type:"line"}],palettes:{}}),t.inputs.type){case"exp":e=y;break;case"simple":e=b;break;case"weighted":e=S;break;case"volume weighted":e=w}t.styles[e.plots[0].id]=t.styles.MovAvg,delete t.styles.MovAvg,delete t.inputs.type}return i.oldShowStudyLastValueProperty&&(t.oldShowLastValue=t.showLastValue),delete t.showLastValue,delete t.showStudyArguments,{propsState:t,metaInfo:e}},o.isVersionTesting=function(t){var e;return!!t&&(t=""+t,e=RegExp("\\d+.\\d+"),e.exec(t)===t)},o.isVersionHead=function(t){var e;return!!t&&(t=""+t,e=RegExp("\\d+"),e.exec(t)===t)},o.mergeInputs=function(t,e){o.mergeInputsArrPart(t,e),o.mergeInputsObjPart(t,e)},o.mergeInputsArrPart=function(t,e){var i,n,r=o.splitInputs(e);for(i in r.arr)n=o.findInputKeyById(t,r.arr[i].id),n?TradingView.merge(t[n],r.arr[i]):o.appendInputInfoToArr(t,r.arr[i])},o.mergeInputsObjPart=function(t,e){var i=o.splitInputs(e);TradingView.merge(t,i.obj)},o.appendInputInfoToArr=function(t,e){var i,o,n=-1;for(i in t)o=parseInt(i,10),isNumber(o)&&o>n&&(n=o);t[n+1]=e},o.splitInputs=function(t){var e,i={},o={};for(e in t)isNumber(parseInt(e,10))?i[e]=t[e]:o[e]=t[e];return{arr:i,obj:o}},o.findInputKeyById=function(t,e){var i,o=null;for(i in t)if(isNumber(parseInt(i,10))&&t[i].id===e){o=i;break}return o},o.getInputKeyById=function(t,e){var i=o.findInputKeyById(t,e);if(!i)throw Error("Cannot find input with id: "+e);return i},t.exports=o},function(t,e,i){"use strict";(function(e,o,n,r){function s(t){this._series=t,this._model=t.m_model,this._points=[new Q(0,0)],this._invalidated=!0,this._lineRenderer=new j}function a(t){this._series=t,this._model=t.m_model,this._points=[new Q(0,0)],this._invalidated=!0,this._lineRenderer=new j}function l(){return{count:TradingView.DEFAULT_BAR_COUNT}}function c(t,n,r){var h,g=i(209);G.call(this,t),this._boxSizeChanged=new e,
this._tagsChanged=new e,this._symbolIntervalChanged=new e,this._symbolResolved=new e,this._symbolError=new e,this._symbolNotPermitted=new e,this._symbolGroupNotPermitted=new e,this._intervalChanged=new e,this._extendedHoursChanged=new e,this._extendedHoursNotPermitted=new e,this.chartTypeNotPermitted=new e,this.intradaySpreadNotPermitted=new e,this.intradayExchangeNotPermitted=new e,this.customIntervalNotPermitted=new e,this.chartWidgetInitialized=new e,this._startLoading=new e,this._dataLoaded=new e,this._tickmarksRangeChanged=new e,this._barReceived=new e,this._onStyleChanged=new e,this._onCompleted=new e,this._onStatusChanged=new e,this._onRestarted=new e,this._onSessionsStudyCreated=new e,this.requestingIntradayWhenNotSupported=new e,this.requestingResolutionWhenNotSupported=new e,this.priceScaleChanged=new e,this._onInReplayStateChanged=new e,this._requestOptions=r||l(),this.m_model=t,this._chartApi=t._chartApi,this.m_data=new J(["time","open","high","low","close","adt","style"]),this.setProperties(n),this._prevChartStyle=n.style.value(),this.createPaneView(),this._dataWindowView=new _(this,t),this._statusView=new d(this,t.properties()),this._priceAxisViews=[new u(this,t),new f(this,{model:t}),new p(this,{model:t})],this._symbolInfo=null,this._status=c.STATUS_OFFLINE,this._syncModel=null,this._replaySubscriber=null,h=this,this._turnaroundCounter=1,this._turnaround="s"+this._turnaroundCounter,this._handler=function(t){h.onData(t)},this._haStyle={studyId:"BarSetHeikenAshi@tv-basicstudies-60"},this._renkoStyle={studyId:"BarSetRenko@tv-prostudies-15"},this._pbStyle={studyId:"BarSetPriceBreak@tv-prostudies-15"},this._kagiStyle={studyId:"BarSetKagi@tv-prostudies-15"},this._pnfStyle={studyId:"BarSetPnF@tv-prostudies-15"},this._properties.addExclusion&&this._properties.addExclusion("visible"),this._base=100,this._formatter=new et(this._base),this._predictBars=0,this._futureBarsPaneView=null,this._properties.showInDataWindow.listeners().subscribe(t,g.prototype.fullUpdate),this.marketStatus=new o,this._seriesLoaded=!1,this.properties().minTick.listeners().subscribe(this,c.prototype._recreateFormatter),h=this,this.properties().minTick.listeners().subscribe(null,function(){h.m_model.invalidate(new Z(Z.FULL_UPDATE))}),this._prevClosePriceLineView=new a(this),this._priceLineView=new s(this),this._gotoDateView=new q(this),this.bindStyleChange(),this.bindJapChartsInputs(),this._createIsPrevClosePriceAvailableProperty(),this.createExtendedHoursProperty(),this.extendedHours.listeners().subscribe(this,function(){this._extendedHoursChanged.fire()}),this._extendedHoursNotPermitted.subscribe(this,function(){this._properties.extendedHours.setValue(!1)}),this._extendedHoursChanged.subscribe(this,function(){this._status!==c.STATUS_SNAPSHOT&&this.restart()}),H("dividends-adjust")&&(this.createDividendsAdjustmentProperty(),this.dividendsAdjustment.listeners().subscribe(this,function(){this._status!==c.STATUS_SNAPSHOT&&this.restart()})),this._symbolIntervalChanged.subscribe(this,this.checkInterval),
this.properties().showCountdown.listeners().subscribe(this,c.prototype._onChangeShowCountdown),this._onChangeShowCountdown(this.properties().showCountdown),this._recreateFormatter(),this._isDWMCached=null}var h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R,D,E,O,V,$,B,z,F,N,H,W,U,j,q,G,Y,X,K,J,Z,Q,tt,et,it,ot,nt,rt,st,at,lt,ct,ht,dt,ut,pt,ft,_t,gt;TradingView.DEFAULT_BAR_COUNT=300,TradingView.TIME_PLOT=0,TradingView.OPEN_PLOT=1,TradingView.HIGH_PLOT=2,TradingView.LOW_PLOT=3,TradingView.CLOSE_PLOT=4,TradingView.ADT_PLOT=6,TradingView.STYLE_PLOT=7,h=i(9).ensureNotNull,d=i(845),u=i(846).PrevCloseSeriesPriceAxisView,p=i(847).ProjectionSeriesPriceAxisView,f=i(493).SeriesPriceAxisView,_=i(848),g=i(494),m=g.SeriesAreaPaneView,v=g.SeriesLinePaneView,y=g.SeriesHollowCandlesPaneView,b=g.SeriesCandlesPaneView,w=g.SeriesBarsPaneView,S=g.SeriesHeikenAshiPaneView,T=g.SeriesBaselinePaneView,x=g.SeriesBaselineLinePaneView,P=i(3),C=i(2).propertyPages,M=i(850),k=M.SeriesRenkoPaneView,L=M.SeriesProjectionRenkoPaneView,I=M.SeriesPriceBreakPaneView,A=M.SeriesProjectionPriceBreakPaneView,R=M.SeriesKagiPaneView,D=M.SeriesProjectionKagiPaneView,E=M.SeriesPnFPaneView,O=M.SeriesProjectionPnFPaneView,V=i(57).Telemetry,$=i(27).ProductFeatures,B=!1,z=i(467),F=i(276),N=i(277).FormattersSerializer,H=i(25).isFeatureEnabled,W=i(495).BarsRange,U=i(273).SeriesBarColorer,j=i(156).HorizontalLineRenderer,q=i(854),G=i(52).PriceDataSource,Y=i(181),X=i(525).FutureBarsPaneView,K=i(130).Interval,J=i(444).SeriesData,Z=i(40),Q=i(8).Point,tt=i(95),et=i(16).PriceFormatter,it=i(24),ot=it.PlotList,nt=it.PlotRowSearchMode,rt=it.mergeMinMax,st=i(39),at=i(496).SyncModel,lt=i(20).trackEvent,ct=i(217).translatedIntervalString,ht=i(17),dt=i(0),ut=dt.getLogger("Chart.Series"),pt=dt.getLogger("Chart.Series.Updates",{highRate:!0}),ft=i(32),_t=i(635),gt=i(268),s.prototype.update=function(){this._invalidated=!0},s.prototype.updateImpl=function(){if(this._visible=!1,this._series.properties().showPriceLine.value()){var t=this._series.lastValueData(TradingView.CLOSE_PLOT,!0);t.noData||(this._visible=!0,this._points=[new Q(0,t.coordinate)],this._color=this._series.priceLineColor(t.color))}},s.prototype.renderer=function(){this._invalidated&&(this.updateImpl(),this._invalidated=!1);var t={};return t.width=this._model.timeScale().width(),t.height=this._series.priceScale().height(),t.points=this._points,t.color=this._color,t.linewidth=this._series.properties().priceLineWidth.value(),t.linestyle=CanvasEx.LINESTYLE_DOTTED,t.visible=this._visible,this._lineRenderer.setData(t),this._lineRenderer},a.prototype.update=function(){this._invalidated=!0},a.prototype._updateImpl=function(){if(this._visible=!1,this._series.properties().showPrevClosePriceLine.value()&&!this._series.isDWM()){var t=this._series.prevClose();null!==t&&(this._visible=!0,this._points=[new Q(0,t.coordinate)],this._color=this._series.properties().prevClosePriceLineColor.value())}},a.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var t={}
;return t.width=this._model.timeScale().width(),t.height=this._series.priceScale().height(),t.points=this._points,t.color=this._color,t.linewidth=this._series.properties().prevClosePriceLineWidth.value(),t.linestyle=CanvasEx.LINESTYLE_DOTTED,t.visible=this._visible,this._lineRenderer.setData(t),this._lineRenderer},inherit(c,G),c.prototype.styleStudyInfos=function(){return{haStyle:this._haStyle,renkoStyle:this._renkoStyle,pbStyle:this._pbStyle,kagiStyle:this._kagiStyle,pnfStyle:this._pnfStyle}},c.prototype.styleStudyInfo=function(t){return this.styleStudyInfos()[t]},c.prototype.priceLineColor=function(t){return this.properties().priceLineColor.value()||t},c.prototype.endOfData=function(){return this._endOfData},c.prototype.serverTimeOffset=function(){return this._chartApi.serverTimeOffset()},c.prototype._onChangeShowCountdown=function(t){var e=this;t.value()?this._countdownUpdateTimer=this.m_model.setInterval(function(){e.isDWM()||(e._priceAxisViews[0].update(),e.m_model.invalidate(new Z(Z.LIGHT_UPDATE)))},500):(this.m_model.clearInterval(this._countdownUpdateTimer),delete this._countdownUpdateTimer)},c.prototype.lastValueData=function(t,e,i){var o,n,r,s,a,l,c,h,d,u,p={noData:!0};if(this.m_model.timeScale().isEmpty()||this.priceScale().isEmpty()||this.data().isEmpty())return p;if(null===(o=this.m_model.timeScale().visibleBars()))return p;if(e){if(null===(s=this.data().bars().last()))return p;n=s.value,r=s.index}else{if(null===(a=this.data().bars().search(o.lastBar(),nt.NearestLeft)))return p;n=this.data().bars().valueAt(a.index),r=a.index}return l={noData:!1},c=n[t],i&&(l.price=c),this.priceScale().properties().percentage.value()&&(h=this.firstValue(),c=this.priceScale().priceRange().convertToPercent(c,h)),l.text=this.priceScale().formatter().format(c),d=this.barColorer(),u=d.barStyle(r,!1),l.color=u.barColor,l.floatCoordinate=this.priceScale().priceToCoordinate(c,!0),l.coordinate=Math.round(l.floatCoordinate),l.index=r,l},c.prototype.prevClose=function(){var t,e;return this.priceScale().isEmpty()||this.data().isEmpty()||!this.quoteData?null:null==(t=this.quoteData.prev_close_price)?null:(this.priceScale().properties().percentage.value()&&(e=this.firstValue(),t=this.priceScale().priceRange().convertToPercent(t,e)),{coordinate:this.priceScale().priceToCoordinate(t),floatCoordinate:this.priceScale().priceToCoordinate(t,!0),text:this.priceScale().formatter().format(t)})},c.prototype._createIsPrevClosePriceAvailableProperty=function(){this._isPrevClosePriceAvailable=new n(!this.isDWM()),this._onRestarted.subscribe(this,function(){this._isPrevClosePriceAvailable.setValue(!this.isDWM())})},c.prototype.isPrevClosePriceAvailable=function(){return this._isPrevClosePriceAvailable},c.prototype._prepareChartApiParams=function(){
return this._requestOptions.startDate?!this._requestOptions.startDate||this._requestOptions.endDate||this._requestOptions.count?this._requestOptions.startDate&&this._requestOptions.endDate?["from_to",this._requestOptions.startDate,this._requestOptions.endDate]:["from_to",this._requestOptions.startDate,this._requestOptions.count]:["from_to",this._requestOptions.startDate]:this._requestOptions.count||TradingView.DEFAULT_BAR_COUNT},c.prototype._nextSymbolId=1,c.prototype._nextSeriesId=1,Object.assign(c,ft),c.PERMISSION_DENIED="permission denied",c.PD_REASON_SYMBOL="symbol",c.PD_REASON_EXTENDED_HOURS="extended_hours",c.PD_REASON_GROUP_PERMISSION="group",c.STUDY_NOT_AUTH="study_not_auth",c.prototype.model=function(){return this.m_model},c.prototype.fixLastBar=function(t){this._futureBarsPaneView||(this._futureBarsPaneView=new X(this,this.data().bars().lastIndex(),t))},c.prototype.clearData=function(){this.data().clear()},c.prototype.data=function(){return this.m_data},c.prototype.symbolId=function(){return this._symbolId},c.prototype.isPulse=function(){return this._symbolInfo&&this._symbolInfo.resolutions.length>0},c.prototype.onTagsChanged=function(){return this._tagsChanged},c.prototype.onSymbolIntervalChanged=function(){return this._symbolIntervalChanged},c.prototype.onSymbolResolved=function(){return this._symbolResolved},c.prototype.onSymbolError=function(){return this._symbolError},c.prototype.onSymbolNotPermitted=function(){return this._symbolNotPermitted},c.prototype.onSymbolGroupNotPermitted=function(){return this._symbolGroupNotPermitted},c.prototype.onIntervalChanged=function(){return this._intervalChanged},c.prototype.onExtendedHoursNotPermitted=function(){return this._extendedHoursNotPermitted},c.prototype.onStartLoading=function(){return this._startLoading},c.prototype.onDataLoaded=function(){return this._dataLoaded},c.prototype.onStatusChanged=function(){return this._onStatusChanged},c.prototype.onTickmarksRangeChanged=function(){return this._tickmarksRangeChanged},c.prototype.onBarReceived=function(){return this._barReceived},c.prototype.onStyleChanged=function(){return this._onStyleChanged},c.prototype.onCompleted=function(){return this._onCompleted},c.prototype.onRestarted=function(){return this._onRestarted},c.prototype.onBoxSizeChanged=function(){return this._boxSizeChanged},c.prototype.status=function(){return this._status},c.prototype.isDWM=function(){var t,e;return null!==this._isDWMCached?this._isDWMCached:(t=new K(this._properties.interval.value()),t.isDWM()?this._isDWMCached=!0:(e=t.kind()===K.SECONDS?t.multiplier():60*t.multiplier(),this._isDWMCached=!(e<216e3)),this._isDWMCached)},c.prototype.lastPriceLabelFixedCoordinate=function(){return this._priceAxisViews[0]._fixedCoordinate},c.prototype.createPaneView=function(){this._paneView=null,this._projectionBarsPaneView=null,this._baseLineView=null,this._symbolLabelView=new Y(this.m_model,this,TradingView.CLOSE_PLOT,"firstShortName","showSymbolLabels");var t=this._properties.style.value();switch(t){case c.STYLE_BARS:
this._paneView=new w(this,this.m_model);break;case c.STYLE_CANDLES:this._paneView=new b(this,this.m_model);break;case c.STYLE_LINE:this._paneView=new v(this,this._properties.lineStyle.priceSource.value(),this.m_model);break;case c.STYLE_AREA:this._paneView=new m(this,this._properties.areaStyle.priceSource.value(),this.m_model);break;case c.STYLE_RENKO:this._paneView=new k(this,this.m_model),this._projectionBarsPaneView=new L(this,this.m_model);break;case c.STYLE_PB:this._paneView=new I(this,this.m_model),this._projectionBarsPaneView=new A(this,this.m_model);break;case c.STYLE_KAGI:this._paneView=new R(this,this.m_model),this._projectionBarsPaneView=new D(this,this.m_model);break;case c.STYLE_PNF:this._paneView=new E(this,this.m_model),this._projectionBarsPaneView=new O(this,this.m_model);break;case c.STYLE_HEIKEN_ASHI:this._paneView=new S(this,this.m_model);break;case c.STYLE_HOLLOW_CANDLES:this._paneView=new y(this,this.m_model);break;case c.STYLE_BASELINE:this._paneView=new T(this,this._properties.baselineStyle.priceSource.value(),this.m_model),this._baseLineView=new x(this,this.m_model);break;default:throw Error("Unknown chart style assigned: "+t)}},c.prototype._clearStylePlot=function(t,e){var i,o;0!==t.size()&&(i=e||h(t.firstIndex()),o=h(t.lastIndex())+1,t.range(i,o).each(function(t,e){e[TradingView.STYLE_PLOT]=null}))},c.prototype.invalidateBarStylesCache=function(t){ut.logDebug("Invalidate style cache starting from "+t),this._clearStylePlot(this.m_data.m_bars,t),this._clearStylePlot(this.m_data.m_nsBars)},c.prototype.invalidateBarColorerCache=function(){delete this._barColorerCache,this.invalidateBarStylesCache()},c.prototype.barColorer=function(){var t,e,i,o;if(this._barColorerCache)return this._barColorerCache;for(t=null,e=this.m_model.dataSources().length-1;e>=0;e--)i=this.m_model.dataSources()[e],i.metaInfo&&TradingView.isInherited(i.constructor,TradingView.Study)&&i.hasBarColorer()&&i.properties().visible.value()&&(o=i.barColorer(),null===t?t=o:t.pushBackBarColorer(o));return null===t?t=new U(this):t.pushBackBarColorer(new U(this)),this._barColorerCache=t,this._barColorerCache},c.prototype.properties=function(){return this._properties},c.prototype._barsState=function(t){var e=t.state();return e.columns=e.columns.filter(function(t){return"style"!==t}),e.data.forEach(function(t){t.value.splice(7,1)}),e},c.prototype.state=function(t){var e=this===this.m_model.mainSeries()?"MainSeries":TradingView.className(this.constructor),i={type:e,id:this.id(),state:this.properties().state(),zorder:this.zorder(),haStyle:this._haStyle,renkoStyle:this._renkoStyle,pbStyle:this._pbStyle,kagiStyle:this._kagiStyle,pnfStyle:this._pnfStyle};return this._symbolInfo&&this._symbolInfo.ticker&&(i.state.symbol=this._symbolInfo.ticker),t&&(i.bars=this._barsState(this.m_data.m_bars),i.nsBars=this._barsState(this.m_data.m_nsBars),i.symbolInfo=this._symbolInfo,i.rtPrice=this.data().lastProjectionPrice),i.boxSize=this.data().boxSize,i.reversalAmount=this.data().reversalAmount,i},c.prototype.stateForAlert=function(){
var t=this===this.m_model.mainSeries()?"MainSeries":TradingView.className(this.constructor),e=this.idForAlert(),i=this.formatter();return i=i?N.serialize(i):null,{id:e,uniqueId:e,type:t,proSymbol:this.proSymbol(),actualSymbol:this.actualSymbol(),symbolString:this.getSymbolString(),interval:this.interval(),style:this.properties().style.value(),styleInputs:this.getInputsProperties().state(),extendedHours:this._isExtendedHoursAllowed()&&this.extendedHours.value(),boxSize:this.data().boxSize,reversalAmount:this.data().reversalAmount,isSpread:this.isSpread(),formatter:i}},c.prototype.idForAlert=function(){return""+z(this.getSymbolString()+this.interval())},c.prototype.restoreData=function(t,e,i,o,n,r){this._status=c.STATUS_SNAPSHOT,this.m_data.m_bars.restoreState(t),this.m_data.m_nsBars.restoreState(e),this.updateSymbolInfo(i),this.m_data.lastProjectionPrice=o,this.m_data.boxSize=n,n||(this.properties().style.value()===c.STYLE_PNF?this.m_data.boxSize=this.properties().pnfStyle.inputs.boxSize.value():this.properties().style.value()===c.STYLE_RENKO&&(this.m_data.boxSize=this.properties().renkoStyle.inputs.boxSize.value())),this.m_data.reversalAmount=r,r||this.properties().style.value()===c.STYLE_KAGI&&(this.m_data.reversalAmount=this.properties().kagiStyle.inputs.reversalAmount.value())},c.prototype.setProperties=function(t){t.timeframe||t.merge({timeframe:""}),t.shortName||t.merge({shortName:""}),this._properties=t,this._properties.symbol.listeners().subscribe(this,c.prototype.changeSymbol),this._properties.interval.listeners().subscribe(this,c.prototype.changeInterval),this._properties.timeframe.listeners().subscribe(this,c.prototype.changeTimeFrame),this._properties.listeners().subscribe(this,c.prototype.changeProperties)},c.prototype.changeSymbol=function(){this.setSymbolIntervalDelayed(),this.m_model.checkLineToolSelection()},c.prototype.changeInterval=function(){this.setSymbolIntervalDelayed()},c.prototype.changeTimeFrame=function(){lt("GUI","Change timeframe")},c.prototype.title=function(){return this.properties().symbol.value()+", "+ct(this.properties().interval.value())},c.prototype.changeProperties=function(t){t!==this._properties.symbol&&t!==this._properties.interval&&t!==this._properties.timeframe&&(this._tagsChanged.fire(),this.createPaneView(),this.updateAllViews(),this.m_model.updateSource(this))},c.prototype._makeNextSymbolId=function(){return"symbol_"+this._nextSymbolId++},c.prototype._makeNextSeriesId=function(){return"s"+this._nextSeriesId++},c.prototype.onData=function(t){var e,o,n,r,s,a,l,d,u,p,f,_,g,m,v,y,b,w=this;switch(t.method){case"symbol_resolved":if(t.params[0]!==this._symbolId){ut.logNormal("command for old symbol. Expected:"+this._symbolId+", actual"+t.params[0]);break}this.updateSymbolInfo(t.params[1]),this.m_model.updateSource(this),this._symbolResolved.fire(this._symbolInfo),this.m_model.realignLineTools(),TradingView.onWidget()||lt("Symbol",t.params[1].listed_exchange,t.params[1].name),e=this.symbolInfo().minmov/this.symbolInfo().pricescale,o=this.properties(),
o.style.value()===c.STYLE_RENKO&&o.renkoStyle.inputs.boxSize.value()<e?o.renkoStyle.inputs.merge({boxSize:e}):o.style.value()===c.STYLE_PNF&&o.pnfStyle.inputs.boxSize.value()<e?o.pnfStyle.inputs.merge({boxSize:e}):o.style.value()===c.STYLE_KAGI&&o.kagiStyle.inputs.reversalAmount.value()<e&&o.kagiStyle.inputs.merge({reversalAmount:e});break;case"symbol_error":if(t.params[0]!==this._symbolId){ut.logNormal("command for old symbol. Expected:"+this._symbolId+", actual"+t.params[0]);break}if(this._setStatus(c.STATUS_INVALID_SYMBOL),this._properties.shortName.setValue(this._properties.symbol.value()),this.m_model.clearAllStudies(),this.updateAllViews(),this.m_model.updateSource(this),t.params[1]===c.PERMISSION_DENIED)switch(t.params[2]){case c.PD_REASON_EXTENDED_HOURS:this._extendedHoursNotPermitted.fire();break;case c.PD_REASON_SYMBOL:this._symbolNotPermitted.fire(t.params[3]);break;case c.PD_REASON_GROUP_PERMISSION:this._symbolGroupNotPermitted.fire(t.params[3]);break;default:this._symbolNotPermitted.fire(t.params[2])}else this.m_model.resetTimeScale(),this._symbolError.fire();this.m_model.realignLineTools(),V.sendReport("charts","symbol_error");break;case"series_timeframe":if(t.params[1]!==this._turnaround)break;n=t.params[2],r=t.params[3],s=t.params[4],a=void 0!==s&&s?r:r+10,this.m_model.setTimeViewport(n,a);break;case"series_error":l=t.params[2],delete this._loadingStartTime,P.enabled("charting_library_debug_mode")&&ut.logNormal("Error reason: "+l),this._setStatus(P.enabled("no_bars_status")&&this._symbolInfo?c.STATUS_NO_BARS:c.STATUS_INVALID_SYMBOL),"string"==typeof l&&(l.startsWith("study_not_auth:")?(d=l.split(":",2)[1].split("@",2)[0],d in{BarSetRenko:!0,BarSetPriceBreak:!0,BarSetKagi:!0,BarSetPnF:!0}?this.chartTypeNotPermitted.fire(d):"BarSetSpread"===d&&this.intradaySpreadNotPermitted.fire()):"resolution_not_entitled"===l?this.intradayExchangeNotPermitted.fire():"custom_resolution"===l&&this.customIntervalNotPermitted.fire()),this._seriesLoaded=!0,V.sendReport("charts","series_error");break;case"series_loading":if(t.params[1]!==this._turnaround)break;if(t.params[0]!==this._seriesId){ut.logNormal("command for old series. Expected:"+this._seriesId+", actual"+t.params.customId);break}this._setStatus(c.STATUS_LOADING),w._loadingStartTime=(new Date).getTime();break;case"series_completed":if(t.params[2]!==this._turnaround)break;if(t.params[0]!==this._seriesId){ut.logNormal("command for old series. Expected:"+this._seriesId+", actual"+t.params.customId);break}switch(u="chartSession:"+w._chartApi._sessionid,p=(new Date).getTime()-this._loadingStartTime,ut.logDebug(u+", Series loading took "+p+" ms, eod:"+this._endOfData),delete this._loadingStartTime,f=t.params[1],"pulsed"===f&&(f="delayed"),f){case"streaming":this._setStatus(c.STATUS_READY);break;case"endofday":this._setStatus(c.STATUS_EOD);break;case"delayed":this._setStatus(c.STATUS_DELAYED);break;case"pulsed":this._setStatus(c.STATUS_PULSE);break;case"replay":this._setStatus(c.STATUS_REPLAY)}f.match(/delayed_streaming/)&&this._setStatus(c.STATUS_DELAYED_STREAMING),
_=this.m_model.paneForSource(this),_.recalculatePriceScale(this.priceScale()),this.m_model.invalidate(new Z(Z.FULL_UPDATE)),this.m_data.size()&&this._tickmarksRangeChanged.fire({start:h(this.data().first()).value[TradingView.TIME_PLOT],end:h(this.data().last()).value[TradingView.TIME_PLOT]}),this.model().recalcVisibleRangeStudy(this.model().dataSources(),!0),this.model().recalcStudyBasedLineTools(),!this.m_priceScale.isLockScale()||this.model().timeScale().isEmpty()||this._seriesLoaded||(this.model().timeScale()._correctOffset(),this.model().timeScale().correctBarSpacing(),g=this.model().timeScale().visibleBars(),this.priceScale().setPriceRange(this.priceRange(g.firstBar(),g.lastBar()))),this._seriesLoaded=!0,this._onCompleted.fire(this._endOfData),B||(B=!0,window.performance&&window.performance.timing&&i(867)("Chart","Time to series",Date.now()-window.performance.timing.requestStart)),this.requestMoreData();break;case"series_deleted":break;case"data_update":if(t.params.customId!==this._seriesId){ut.logNormal("command for old series. Expected:"+this._seriesId+", actual"+t.params.customId);break}if(t.params.turnaround!==this._turnaround){ut.logNormal("command for old series turnaround. Expected:"+this._turnaround+", actual"+t.params.turnaround);break}if(this._setSymbolIntervalDelay){if(this._willSymbolIntervalChanged())return void ut.logNormal("command comes during symbol/interval changing");ut.logNormal("data_update comes when symbol interval delay present but symbol/interval should not be changed")}if(this.status()===c.STATUS_INVALID_SYMBOL)break;t.params.plots.length?(m=this.m_data.bars().size(),v=this.m_data.bars().firstIndex(),y=this.m_data.bars().merge(t.params.plots),(null===v||y.earliestRow.index<v)&&(this._endOfData=!1),b="Merge bars. Changes:{length:"+y.length+", earliestRow:"+y.earliestRow.index+"} ",b+="bars state:{firstBar:"+h(this.m_data.bars().firstIndex())+",lastBar:"+h(this.m_data.bars().lastIndex())+",size:"+this.m_data.bars().size()+"}",pt.logDebug(b),m!==this.bars().size()&&(this._barReceived.fire(y),this.model().recalcVisibleRangeStudy(this.model().dataSources(),!0))):(this.m_data.clear(),this._startLoading.fire()),new Promise(function(e){var i=w.properties().style.value();t.params.nonseries&&gt.isJapaneseStyle(i)?w.parseJapProjBars(t.params.nonseries).then(function(t){w.m_data.m_nsBars=t.nsBars,w.m_data.lastProjectionPrice=t.lastPrice;var i=w.m_data.boxSize!==t.boxSize;w.m_data.boxSize=t.boxSize,w.m_data.reversalAmount=t.reversalAmount,i&&w._boxSizeChanged.fire(w.m_data.boxSize),e()}):(t.params.nonseries||(w.m_data.m_nsBars.clear(),w.m_data.lastProjectionPrice=void 0),e(),e())}).then(function(){w._statusView.invalidate();var t=w.m_model.paneForSource(w);w.m_model.updateAllVolumeStudies(),w.m_model.recalculatePane(t),w.m_model.updateSource(w),w.m_model.updateLineTools(),w.m_model.updateCrossHair()})}this._dataLoaded.fire(t)},c.prototype.parseJapProjBars=function(t){
var e,i,o,n=new ot(["time","open","high","low","close","adt","style"]),r=this.model().timeScale(),s=this.properties().style.value(),a=this;return new Promise(function(l){t.d&&""!==t.d?TradingView.Study.prototype._makeJSONForNSData.call(a,{params:{nonseries:t}}).then(function(a){var h,d,u,p,f=a.data;for(e=f.price,i=f.boxSize,o=f.reversalAmount,h=f.bars,d=0;h&&d<h.length;d++)u=[],p=t.indexes[h[d].time],u.push(r.points().valueAt(p)),u.push(h[d].open),u.push(h[d].high),u.push(h[d].low),u.push(h[d].close),u.push(h[d].volume),s===c.STYLE_KAGI?u.push(h[d].additionalPrice):s===c.STYLE_PNF&&u.push(h[d].factor),n.add(p,u);l({nsBars:n,lastPrice:e,boxSize:i,reversalAmount:o})}):l({nsBars:n,lastPrice:e,boxSize:i,reversalAmount:o})})},c.prototype.disconnect=function(){this._seriesId&&this._chartApi.removeSeries(this._seriesId),this._symbolId=null,this._seriesId=null,this._predictBars=0,this._status=c.STATUS_OFFLINE},c.prototype.isStarted=function(){return!!this._symbolId},c.prototype.restart=function(){var t,e=i(209);this._onRestarted.fire(),this._setStatus(c.STATUS_RESOLVING),this.m_data=new J(["time","open","high","low","close","adt","style"]),this.updateSymbolInfo(null),this._prevSymbolId=this._symbolId,this._symbolId=this._makeNextSymbolId(),t=this._properties.interval.value(),this._pendingTimeRange&&(t=this._generateTimeframe(t,this._pendingTimeRange),delete this._pendingTimeRange),this._removeReplaySubscriber(),this._onBeforeModifySeries(this.getSymbolString(),t),this._chartApi.resolveSymbol(this._symbolId,this._getResolvingSymbolString(),this._handler),this._seriesId?(this._turnaround="s"+ ++this._turnaroundCounter,this._chartApi.modifySeries(this._seriesId,this._turnaround,this._symbolId,t,this._handler,this._prevSymbolId)):(this._seriesId=this._makeNextSeriesId(),!1===this._chartApi.createSeries(this._seriesId,this._turnaround,this._symbolId,t,this._prepareChartApiParams(),this._handler)&&(this._seriesId=void 0)),this._properties.showInDataWindow.listeners().subscribe(this.m_model,e.prototype.fullUpdate),this.m_symbol=this._properties.symbol.value(),this.m_interval=this._properties.interval.value()},c.prototype._generateTimeframe=function(t,e){var i,o=e.right(1),n=t;return"ytd"===e?n+=",YTD":"d"===o?(i=e.left(e.length-1),n+=","+i,P.enabled("daily_timeframe_suffix")&&(n+="D")):"m"===o?(i=e.left(e.length-1),n+=","+i+"M"):"all"===e&&(n+=",ALL"),n},c.prototype.hasDelayedSymbolIntervalChange=function(){return!!this._setSymbolIntervalDelay},c.prototype.setSymbolIntervalDelayed=function(){this._isDWMCached=null,this._willSymbolIntervalChanged()&&(this._setSymbolIntervalDelay&&(ut.logNormal("Clear timeout to change symbol/interval #"+this._setSymbolIntervalDelay),clearTimeout(this._setSymbolIntervalDelay)),this._setSymbolIntervalDelay=setTimeout(function(){ut.logNormal("Timeout #"+this._setSymbolIntervalDelay+' fired, new symbol will be "'+this._properties.symbol.value()+'"'),delete this._setSymbolIntervalDelay,this._setSymbolInterval(this._properties.symbol.value(),this._properties.interval.value())}.bind(this),30),
ut.logNormal("Started timeout #"+this._setSymbolIntervalDelay+' to change symbol/interval from "'+this.m_symbol+'" to "'+this._properties.symbol.value()+'"'))},c.prototype._willSymbolIntervalChanged=function(){var t=this._checkIntervalWillChanged(this._parseInterval(this._properties.interval.value()).interval);return this._checkSymbolWillChanged(this._properties.symbol.value())||t},c.prototype._checkSymbolWillChanged=function(t){return!this.symbolSameAsCurrent(t)||P.enabled("same_data_requery")},c.prototype._checkIntervalWillChanged=function(t){return this.m_interval!==t||P.enabled("same_data_requery")},c.prototype._parseInterval=function(t){var e=(t+"").split(",");return{interval:2===e.length?e[0]:t,timeframe:2===e.length?e[1]:0}},c.prototype.rerequestData=function(){this._setSymbolInterval(this.m_symbol,this.m_interval,!0)},c.prototype._setSymbolInterval=function(t,e,i){var o,n,r,s,a,l;delete this._gotoDateResult,o=this._parseInterval(e),n=o.interval,r=o.timeframe,s=this._checkSymbolWillChanged(t),a=this._checkIntervalWillChanged(n),(s||a||i)&&(this._syncModel=null,this.m_symbol=t,this.m_interval=n,this.m_timeframe=r,this._symbolId&&!s||this.updateSymbolInfo(null),(s||a)&&this.isInReplay()&&(this._removeReplaySubscriber(),this._symbolId=null),this.m_model.realignLineTools(),this._status!==c.STATUS_SNAPSHOT&&(this._setStatus(c.STATUS_RESOLVING),this._symbolIntervalChanged.fire(),a&&(l={timeframe:this._pendingTimeRange},this._intervalChanged.fire(this.m_interval,l),this._pendingTimeRange=l.timeframe&&l.timeframe.toLowerCase()),this._onRestarted.fire(),this._seriesLoaded=!1,this._chartApi&&this._chartApi.connected()&&(this._symbolId&&!s||(this._prevSymbolId=this._symbolId,this._symbolId=this._makeNextSymbolId(),this._chartApi.resolveSymbol(this._symbolId,this._getResolvingSymbolString(),this._handler)),this._seriesId?(this._turnaround="s"+ ++this._turnaroundCounter,this._pendingTimeRange&&(e=this._generateTimeframe(e,this._pendingTimeRange),delete this._pendingTimeRange),this._onBeforeModifySeries(this.getSymbolString(),e),this._predictBars=0,this._chartApi.modifySeries(this._seriesId,this._turnaround,this._symbolId,e,this._handler,this._prevSymbolId)):(this._onBeforeModifySeries(this.getSymbolString(),e),this._seriesId=this._makeNextSeriesId(),this._chartApi.createSeries(this._seriesId,this._turnaround,this._symbolId,e,this._prepareChartApiParams(),this._handler)))))},c.prototype.setDefaultTimeframe=function(t){this._pendingTimeRange=t},c.prototype.actualSymbol=function(){return this.symbolInfo()?this.symbolInfo().full_name:this.symbol()},c.prototype.proSymbol=function(){return this.symbolInfo()?this.symbolInfo().pro_name:this.symbol()},c.prototype.symbol=function(){return this.properties().symbol.value()},c.prototype.interval=function(){return this.properties().interval.value()},c.prototype.isIntradayInterval=function(){return!!/^\d*$/.test(this.interval())&&this.interval()<=1440},c.prototype.bars=function(){return this.m_data.m_bars},c.prototype.nsBars=function(){return this.m_data.m_nsBars},
c.prototype.open=function(t){return this.m_data.valueAt(t)[TradingView.OPEN_PLOT]},c.prototype.high=function(t){return this.m_data.valueAt(t)[TradingView.HIGH_PLOT]},c.prototype.low=function(t){return this.m_data.valueAt(t)[TradingView.LOW_PLOT]},c.prototype.close=function(t){return this.m_data.valueAt(t)[TradingView.CLOSE_PLOT]},c.prototype.hl2=function(t){return(this.high(t)+this.low(t))/2},c.prototype.hlc3=function(t){return(this.high(t)+this.low(t)+this.close(t))/3},c.prototype.ohlc4=function(t){return(this.open(t)+this.high(t)+this.low(t)+this.close(t))/4},c.prototype.priceRange=function(t,e){var i,o,n,s,a,l,c,h;return TradingView.isInteger(t)?TradingView.isInteger(e)?this.data().isEmpty()?null:this.m_priceScale.isLockScale()&&null!==(i=this._model.mainSeriesScaleRatio())?(o=this.priceScale().internalHeight()/(this.model().timeScale().barSpacing()/i),n=this.data().search(e,nt.NearestLeft),s=(n.value[TradingView.HIGH_PLOT]+n.value[TradingView.LOW_PLOT])/2,a=new r(s-.5*o,s+.5*o),l=this.data().search(t,nt.NearestRight),this.priceScale().isPercentage()?a.convertToPercents(l.value[TradingView.CLOSE_PLOT]):a):(c=this.data().bars().minMaxOnRange2(t,e,[{index:TradingView.LOW_PLOT,offset:0},{index:TradingView.HIGH_PLOT,offset:0}]),h=this.data().nsBars().minMaxOnRange(t,e,[{index:TradingView.LOW_PLOT,offset:0},{index:TradingView.HIGH_PLOT,offset:0}]),c=rt(c,h),a=null!==c?c.min===c.max?new r(c.min-.5,c.max+.5):new r(c.min,c.max):new r(-.5,.5),this.priceScale().isPercent()?(l=this.data().search(t,nt.NearestRight),null===l?null:a.convertToPercents(l.value[TradingView.CLOSE_PLOT])):this.priceScale().isLog()?new r(this.priceScale().priceToLogical(a.minValue()),this.priceScale().priceToLogical(a.maxValue())):a):(ut.logDebug("Series.priceRange: incorrect endBar"),null):(ut.logDebug("Series.priceRange: incorrect startBar"),null)},c.prototype.nearestData=function(t,e){if(!TradingView.isInteger(t))return void ut.logDebug("Series.nearestData: incorrect logicalPoint");var i=this.data().search(t,e);return null!==i?i:void 0},c.prototype.nearestIndex=function(t,e){var i=this.nearestData(t,e);return i?i.index:void 0},c.prototype.paneViews=function(t){if(!this.properties().visible.value())return null;var e=[this._paneView];return this._futureBarsPaneView&&e.push(this._futureBarsPaneView),this._projectionBarsPaneView&&e.push(this._projectionBarsPaneView),null!==this._baseLineView&&e.push(this._baseLineView),e.push(this._prevClosePriceLineView),e.push(this._priceLineView),e.push(this._symbolLabelView),e.push(this._gotoDateView),e},c.prototype.dataWindowView=function(){return this._dataWindowView},c.prototype.statusView=function(){return this._statusView},c.prototype.priceAxisViews=function(t,e){return this.m_model.paneForSource(this)===t&&e===this.priceScale()&&(this.m_model.properties().scalesProperties.showSeriesLastValue.value()||this.properties().showCountdown.value())?this._priceAxisViews:null},c.prototype.base=function(){return this._base},c.prototype.formatter=function(){return this._formatter},c.prototype.purgeSymbolInfo=function(){
this._symbolInfo=null},c.prototype.symbolInfo=function(){return this._symbolInfo},c.prototype._recreateFormatter=function(){var t,e,i,o;"default"===this.properties().minTick.value()?this._formatter=new et(this._symbolInfo?this._symbolInfo.pricescale:100,this._symbolInfo?this._symbolInfo.minmov:1,!!this._symbolInfo&&this._symbolInfo.fractional,this._symbolInfo?this._symbolInfo.minmove2:void 0):(t=this.properties().minTick.value().split(","),e=parseInt(t[0]),i=parseInt(t[1]),o="true"===t[2],this._formatter=new et(e,i,o)),this.priceScale()&&this.priceScale().updateFormatter()},c.prototype.updateSymbolInfo=function(t){var e,i,o=this,n=t&&(t.pro_name||t.full_name||t.name);P.enabled("charting_library_single_symbol_request")&&this.m_symbol&&(n=this.m_symbol),this._symbolInfo=t,t&&(this._properties.shortName.setValue(t.name),e=this._properties.symbol.value(),i=n,P.enabled("uppercase_instrument_names")&&(e=e.toUpperCase(),i=i.toUpperCase()),n&&e!==i&&this._properties.symbol.setValue(n)),this._base=t?t.pricescale/t.minmov:100,this._recreateFormatter(),this._statusView.update(),this.priceScale().updateFormatter(),"undefined"!=typeof quoteSessionMultiplexerInstance&&this._quoteSessionSymbol!==n&&(this._quoteSessionClientId||(this._quoteSessionClientId="series-"+ht.guid()),this._unsubscribeQuoteSession(),n&&(this._quoteSessionSymbol=n,quoteSessionMultiplexerInstance.full.subscribe(this._quoteSessionClientId,this._quoteSessionSymbol,function(t,e){o.quoteData=t&&t.values||null,e&&e.values&&e.values.current_session&&o.marketStatus.setValue(e.values.current_session)}))),this.checkInterval(),this.dataPoweredBy=F(t)},c.prototype._unsubscribeQuoteSession=function(){this._quoteSessionSymbol&&(quoteSessionMultiplexerInstance.full.unsubscribe(this._quoteSessionClientId,this._quoteSessionSymbol),this._quoteSessionSymbol=void 0)},c.prototype.symbolSameAsCurrent=function(t){if(this.m_symbol===t)return!0;var e=this._symbolInfo;if(e){if(e.full_name===t||e.pro_name===t)return!0;if(e.ticker===t)return!0;if(e.aliases&&-1!==e.aliases.indexOf(t))return!0;if(e.alternatives&&-1!==e.alternatives.indexOf(t))return!0;if(0===t.indexOf("FRA:")&&e.pro_name===t.replace("FRA:","FWB:"))return!0}return!1},c.prototype.updateAllViews=function(){var t,e;for(this._paneView.update(),this._dataWindowView.update(),this._statusView.update(),t=this._priceAxisViews.length,e=0;e<t;e++)this._priceAxisViews[e].update();this._futureBarsPaneView&&this._futureBarsPaneView.update(),this._projectionBarsPaneView&&this._projectionBarsPaneView.update(),null!==this._baseLineView&&this._baseLineView.update(),this._prevClosePriceLineView.update(),this._priceLineView.update(),this._gotoDateView.update(),this._symbolInfo&&this._symbolLabelView.update()},c.prototype._setStatus=function(t){this._status=t,this._statusView.update(),this.m_model.updateSource(this),this._onStatusChanged.fire()},c.prototype.requestMoreData=function(t){var e,i,o,n
;this._status!==c.STATUS_READY&&this._status!==c.STATUS_PULSE&&this._status!==c.STATUS_DELAYED&&this._status!==c.STATUS_DELAYED_STREAMING&&this._status!==c.STATUS_EOD&&this._status!==c.STATUS_REPLAY||this.m_model.timeScale().isEmpty()||null!==(e=this.m_model.timeScale().visibleBars())&&0!==this.bars().size()&&(i=t||e.lastBar()-h(this.data().last()).index,this._predictBars<i&&(this._predictBars=i,this._chartApi&&this._chartApi.connected()&&this._chartApi.requestMoreTickmarks(this._seriesId,i,this._handler)),this._endOfData||(o=h(this.bars().firstIndex()),(n=t||o-e.firstBar())<=0||(this._endOfData=!0,this._chartApi&&this._chartApi.connected()&&(this._chartApi.requestMoreData(this._seriesId,n,this._handler),P.enabled("charting_library_base")&&(this._predictBars=0)),this._setStatus(c.STATUS_LOADING))))},c.prototype.bindStyleChange=function(){var t=this;["candleStyle","hollowCandleStyle","haStyle","barStyle","lineStyle","areaStyle","renkoStyle","pbStyle","kagiStyle","pnfStyle"].forEach(function(e){t._properties[e].listeners().subscribe(t,c.prototype.invalidateBarStylesCache)})},c.prototype.bindJapChartsInputs=function(){this._properties.style.listeners().subscribe(this,this.onChartStyleChanged),this._properties.renkoStyle.inputs.boxSize.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.wicks.listeners().subscribe(this,this.onInputChanged),this._properties.pbStyle.inputs.lb.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.reversalAmount.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.boxSize.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.reversalAmount.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.sources.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged)},c.prototype.createExtendedHoursProperty=function(){function t(){var t=void 0!==$&&P.enabled($.EXTENDED_SESSION),i=e.model().readOnly(),o=e._properties.extendedHours.value(),n=P.enabled("widget");!o||n||i||t||(e._extendedHoursNotPermitted.fire(),o=!1),o&&!e.isIntradayInterval()&&(o=!1),e.extendedHours.setValue(o)}var e=this;e.extendedHours=new n,e._properties.extendedHours.listeners().subscribe(null,t),e._properties.interval.listeners().subscribe(null,t),e.chartWidgetInitialized.subscribe(null,t),t()},c.prototype.createDividendsAdjustmentProperty=function(){function t(){var t=e._properties.dividendsAdjustment.value();e.dividendsAdjustment.setValue(t)}var e=this
;e.dividendsAdjustment=new n,e._properties.dividendsAdjustment.listeners().subscribe(null,t),t()},c.prototype.isNeedRestart=function(t){if(void 0===t&&(t=this.properties().style.value()),this._prevChartStyle!==t){var e=[c.STYLE_BARS,c.STYLE_CANDLES,c.STYLE_HOLLOW_CANDLES,c.STYLE_LINE,c.STYLE_AREA,c.STYLE_BASELINE];if(!(e.indexOf(this._prevChartStyle)>-1&&e.indexOf(t)>-1))return!0}return!1},c.prototype.onChartStyleChanged=function(){this.isNeedRestart()&&(this.data().clear(),this.model().timeScale().scrollToRealtime(!1),this.isInReplay()&&!this.isStyleSupportedForReplay(this.style())&&this._removeReplaySubscriber(),this.restart()),this._prevChartStyle=this.properties().style.value(),this._onStyleChanged.fire(this.properties().style.value()),this.invalidateBarStylesCache()},c.prototype.style=function(){return this.properties().style.value()},c.prototype.isJapaneseStyle=function(){return gt.isJapaneseStyle(this.style())},c.prototype.onInputChanged=function(){this.restart()},c.prototype.onExtendedHoursChanged=function(){return this._extendedHoursChanged},c.prototype.getSymbolString=function(){var t,e,i,o;return t=P.enabled("pay_attention_to_ticker_not_symbol")&&this._symbolInfo?this._symbolInfo.ticker:this.actualSymbol(),this.extendedHours.value()&&(t={symbol:t,session:"extended"}),c.SYMBOL_STRING_DATA.hasOwnProperty(this._properties.style.value())&&(e=this.styleStudyInfo(this.getStyleShortName()+"Style").studyId,i=this.getInputsProperties(),t={symbol:t,type:e+"!",inputs:i.state()}),H("dividends-adjust")&&(o=this.properties().dividendsAdjustment.value()?"dividends":"splits","string"!=typeof t?t.adjustment=o:t={symbol:t,adjustment:o}),"string"!=typeof t&&(t="="+JSON.stringify(t)),t},c.prototype._getResolvingSymbolString=function(){var t=this.getSymbolString();return this._replaySubscriber&&(t=this._replaySubscriber.generateReplaySymbol(t)),t},c.prototype.getStyleShortName=function(){var t=this._properties.style.value();if(c.STYLE_SHORT_NAMES.hasOwnProperty(t))return c.STYLE_SHORT_NAMES[t];throw Error("Missed short name for style "+t)};c.prototype.getStyleProperties=function(){return this._properties[this.getStyleShortName()+"Style"]},c.prototype.getInputsProperties=function(){return this.getStyleProperties().inputs||new n},c.prototype.getRealVisibleRange=function(){var t,e,i=this.model().timeScale().visibleBars();return null===i?null:(t=this.data().search(i.firstBar(),nt.NearestRight),e=this.data().search(i.lastBar(),nt.NearestLeft),null===t||null===e?null:new W(t.index,e.index))},c.prototype.firstValue=function(){var t=this.firstBar();return null===t?null:t[TradingView.CLOSE_PLOT]},c.prototype.firstBar=function(){var t,e,i=this.model().timeScale().visibleBars();return null===i?null:(t=i.firstBar(),e=this.data().search(t,nt.NearestRight),null!==e?e.value:null)},c.prototype.sessionsStudy=function(){var t,e,i,o;if(this._sessionsStudy)return this._sessionsStudy;for(t=this.model().paneForSource(this),e=t.dataSources(),
i=0;i<e.length;i++)if((o=e[i])instanceof TradingView.Study&&"Sessions"===o.metaInfo().shortId)return this._sessionsStudy=o,this._sessionsStudy;return!1},c.prototype.clearSessionStudy=function(){this._sessionsStudy=null},c.prototype.createSessStudy=function(){if(!this.sessionsStudy()){var t=st.findStudyMetaInfo(this.model().studiesMetaData(),"Sessions@tv-basicstudies");this.model().insertStudy(t,!1,!0),this._onSessionsStudyCreated.fire()}},c.prototype.checkSessStudy=function(){P.enabled("charting_library_base")||(this.sessionsStudy()||this.createSessStudy(),this.sessionsStudy().start())},c.prototype.isSpread=function(){return"spread"===this._symbolInfo.type},c.prototype.firstSymbol=function(){return this._symbolInfo?this._symbolInfo.legs[0]:""},c.prototype.firstShortName=function(){return tt.ticker(this.firstSymbol())},c.prototype.onSessionsStudyCreated=function(){return this._onSessionsStudyCreated},c.prototype.loadDataTo=function(t){this._turnaround="s"+ ++this._turnaroundCounter;var e=this._properties.interval.value();e=this._generateTimeframe(e,t),this._chartApi.modifySeries(this._seriesId,this._turnaround,this._symbolId,e,this._handler)},c.prototype.checkInterval=function(){if(this._symbolInfo&&(K.kind(this.interval())!==K.MINUTES||this._symbolInfo.has_intraday||this.requestingIntradayWhenNotSupported.fire(),this._symbolInfo.hasOwnProperty("supported_resolutions"))){var t=this._properties.interval.value();-1===this._symbolInfo.supported_resolutions.indexOf(t)&&this.requestingResolutionWhenNotSupported.fire(this._symbolInfo.supported_resolutions[0])}},c.prototype.priceScale=function(){return this.m_priceScale},c.prototype.setPriceScale=function(t){this.m_priceScale!==t&&(this.m_priceScale=t,this.priceScaleChanged.fire(t))},c.prototype.setGotoDateResult=function(t){this._gotoDateResult=t},c.prototype.gotoDateResult=function(){return this._gotoDateResult},c.prototype.syncModel=function(){var t,e;if(!this._syncModel){if(t=this.symbolInfo(),e=this.interval(),!t||!e)return null;this._syncModel=new at(t,e)}return this._syncModel},c.prototype.turnaround=function(){return this._turnaround},c.prototype.getStylesPropertyPage=function(){return P.enabled("show_chart_property_page")?C.ChartStylesPropertyPage:null},c.prototype.getSourceIcon=function(){return{type:"svg",svgCode:_t[this.properties().style.value()]}},c.prototype.isStyleSupported=function(t){return!this.isInReplay()||this.isStyleSupportedForReplay(t)},c.prototype.isStyleSupportedForReplay=function(t){return!gt.isJapaneseStyle(t)},c.prototype.isInReplay=function(){return null!==this._replaySubscriber},c.prototype.onInReplayStateChanged=function(){return this._onInReplayStateChanged},c.prototype.switchToReplay=function(t){this._replaySubscriber=t,this._onInReplayStateChanged.fire(),this._replaySubscriber.modifySeries(this.getSymbolString(),this._properties.interval.value()),this._symbolId=null,this.rerequestData()},c.prototype.switchToRealtime=function(){this.isInReplay()&&(this._removeReplaySubscriber(),this._symbolId=null,this.rerequestData())},
c.prototype._removeReplaySubscriber=function(){if(this.isInReplay()){var t=this._replaySubscriber;this._replaySubscriber=null,this._onInReplayStateChanged.fire(),t.destroy()}},c.prototype._onBeforeModifySeries=function(t,e){this._replaySubscriber&&this._replaySubscriber.modifySeries(t,e)},c.prototype._isExtendedHoursAllowed=function(){return this._symbolInfo&&-1!==["stock","index","futures"].indexOf(this._symbolInfo.type)},c.prototype.destroy=function(){this._unsubscribeQuoteSession()},TradingView.Series=c,t.exports=c}).call(e,i(4),i(22),i(37),i(79))},,,,,,,,function(t,e,i){"use strict";function o(t,e){t.width=e.w,t.height=e.h;var i=t.getContext("2d");i&&i.translate(.5,.5)}function n(t,e){t.width=0,o(t,e)}function r(t,e,i,o,n,r){t.save(),t.translate(-.5,-.5),t.fillStyle=r,t.fillRect(e,i,o,n),t.restore()}function s(t,e){var i=document.createElement("canvas");return t.append(i),o(i,e),i}Object.defineProperty(e,"__esModule",{value:!0}),i(13);var a=function(){function t(t,e){this.w=t,this.h=e}return t.prototype.equals=function(t){return this.w===t.w&&this.h===t.h},t}();e.Size=a,e.resizeCanvas=o,e.hardResizeCanvas=n,e.clearRect=r,e.addCanvasTo=s},function(t,e,i){"use strict";var o=i(463),n={instances:[],createMenu:function(t,e,i){var n=new o(t,e,i);return this.instances.push(n),n},hideAll:function(){for(var t in this.instances)this.instances[t].hide()}};t.exports=n},function(t,e,i){"use strict";function o(t){this._data=t}function n(t,e){this._data=t,this._model=e,this.radius=this._data.radius||n.OUTER_RADIUS}function r(t){o.call(this,t)}var s=i(11),a=i(274).PaneRendererArrowsUpDown;i(35),o.RADIUS=3.5,o.prototype.tolerance=2,o.prototype.draw=function(t){function e(t){return void 0===t.x||TradingView.isNaN(t.x)||null===t.x||void 0===t.y||TradingView.isNaN(t.y)||null===t.y}var i,o,n;if(this._data)for(t.strokeStyle="#6B6B6B",t.fillStyle="#D6D6D6",i=this._data.vertOffset||0,o=0;o<this._data.points.length;o++)n=this._data.points[o],e(n)||this._drawMarker(t,n,i)},o.prototype._drawMarker=function(t,e,i){t.beginPath(),t.arc(e.x+.5,e.y+.5+i,o.RADIUS,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke()},o.prototype.hitTest=function(t){var e,i;if(!this._data)return null;for(e=0;e<this._data.points.length;e++)if(i=this._data.points[e],i.subtract(t).length()<=o.RADIUS+this.tolerance)return new s(this._data.hittestResult,i.data);return null},n.OUTER_RADIUS=TradingView.isMobile.any()?16:8,n.prototype.tolerance=2,n.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h=this._data.currentPoint,d=this._data.outerStrokeWidth||1;for(e=0;e<this._data.points.length;e++)i=this._data.points[e],o=i.subtract(h).length(),n=TradingView.isInteger(i.data)&&this._data.linePointBeingEdited===i.data,r=this.radius,s=this._data.strokeWidth||2,a=o<=r+this.tolerance,l=a?1:0,r+=l,s+=l,n||(i.square?(t.fillStyle=this._data.backgroundColor,t.fillRect(i.x-r,i.y-r,2*r,2*r),t.fillStyle=this._data.color,c=r-d,t.fillRect(i.x-c,i.y-c,2*c,2*c),c=r-d-s,t.fillStyle=this._data.backgroundColor,t.fillRect(i.x-c,i.y-c,2*c,2*c)):(t.beginPath(),t.arc(i.x,i.y,r,0,2*Math.PI,!0),
t.closePath(),t.fillStyle=this._data.backgroundColor,t.fill(),t.beginPath(),t.arc(i.x,i.y,r-d,0,2*Math.PI,!0),t.closePath(),t.fillStyle=this._data.color,t.fill(),t.beginPath(),t.arc(i.x,i.y,r-d-s,0,2*Math.PI,!0),t.closePath(),t.fillStyle=this._data.backgroundColor,t.fill()))},n.prototype.hitTest=function(t){var e,i,o;for(e=0;e<this._data.points.length;e++)if(i=this._data.points[e],o=i.subtract(t).length(),o<=this.radius+this.tolerance)return new s(this._data.hittestResult,i.data);return null},inherit(r,o),r.prototype._drawMarker=function(t,e,i){var n=e.isUp?1:-1,r=a.prototype._calculateVerticalOffset(this._data.barSpacing),s=a.prototype._calculateMinHeight(this._data.barSpacing),l=i+n*r+n*s;t.beginPath(),t.arc(e.x+.5,e.y+.5+l,o.RADIUS,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke()},e.SelectionRenderer=o,e.LineAnchor=n,e.SelectionRendererArrowsUpDown=r},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(11),n=i(69),r=function(){function t(){this._data=null,this._hitTest=new o(o.REGULAR)}return t.prototype.setData=function(t){this._data=t},t.prototype.setHitTest=function(t){this._hitTest=t},t.prototype.draw=function(t){var e,i;null!==this._data&&0!==this._data.points.length&&!1!==this._data.visible&&((e=this._data.points[0].y)<0||e>this._data.height||(i=this._data.width,t.lineCap="square",t.strokeStyle=this._data.color,t.lineWidth=this._data.linewidth,void 0!==this._data.linestyle&&n.setLineStyle(t,this._data.linestyle),n.drawLine(t,0,e,i,e)))},t.prototype.hitTest=function(t){return null===this._data||!1===this._data.visible?null:0===this._data.points.length?null:Math.abs(t.y-this._data.points[0].y)<=5?this._hitTest:null},t}(),e.HorizontalLineRenderer=r},function(t,e,i){"use strict";function o(t,e){this.m_title=t,this.m_value=e,this._visible=!0,this._color=void 0}function n(){this._header="",this._title="",this._items=[]}o.prototype.title=function(){return this.m_title},o.prototype.text=function(){return this.m_value},o.prototype.visible=function(){return this._visible},o.prototype.color=function(){return this._color},o.prototype.setVisible=function(t){this._visible=t},o.prototype.setValue=function(t){this.m_value=t},o.prototype.setColor=function(t){this._color=t},o.prototype.value=function(){return this.m_value},n.prototype.header=function(){return this._header},n.prototype.title=function(){return this._title},n.prototype.items=function(){return this._items},n.prototype.update=function(){},e.DataWindowItem=o,e.DataWindowView=n},function(t,e,i){"use strict";function o(t,e){n.call(this,e),this._study=t,this._inputValueReplacements={NONE:"Default"}}var n=i(480);inherit(o,n),o.prototype.color=function(){return this._study._failed||this._study.metaInfo&&this._study.metaInfo().isTVScriptStub?"#ff0000":n.prototype.color.call(this)},o.prototype.update=function(){this._study._failed?this._text=this._study.title(!0,this._inputValueReplacements)+": "+this._study.status():this._text=this._study.title(!0,this._inputValueReplacements)+" "+this._study.status()},t.exports=o
},function(t,e,i){"use strict";function o(t,e){var o=e||new p("linetoolelliott");d.call(this,t,o),i.e(11).then(function(t){var e=i(472).ElliottLabelsPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function n(t,e){var o=e||new p("linetoolelliott");d.call(this,t,o),this.version=n.version,i.e(11).then(function(t){var e=i(472).ElliottLabelsPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function r(t,e){this._constructor="LineToolElliottImpulse";var i=e||new p("linetoolelliottimpulse");n.call(this,t,i)}function s(t,e){this._constructor="LineToolElliottTriangle";var i=e||new p("linetoolelliotttriangle");n.call(this,t,i)}function a(t,e){this._constructor="LineToolElliottTripleCombo";var i=e||new p("linetoolelliotttriplecombo");n.call(this,t,i)}function l(t,e){var o=e||new p("linetoolelliott");d.call(this,t,o),this.version=l.version,i.e(11).then(function(t){var e=i(472).ElliottLabelsPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function c(t,e){this._constructor="LineToolElliottCorrection";var i=e||new p("linetoolelliottcorrection");l.call(this,t,i)}function h(t,e){this._constructor="LineToolElliottLineToolElliottDoubleCombo";var i=e||new p("linetoolelliottdoublecombo");l.call(this,t,i)}var d=i(1).LineDataSource,u=i(74).Action,p=i(7).DefaultProperty,f=i(2).propertyPages;inherit(o,d),o.migrateState=function(t){var e={0:11,1:10,2:9,3:8,4:7,5:6,6:5,7:4,8:3},i={0:11,1:8};"LineToolElliottSubminuette"===t.type&&(t.type="LineToolElliottImpulse",t.state.degree=e[t.state.wavesize]),"LineToolElliottMinor"===t.type&&(t.type="LineToolElliottImpulse",t.state.degree=e[t.state.wavesize]),"LineToolElliottCircle"===t.type&&(t.type="LineToolElliottImpulse",t.state.degree=e[t.state.wavesize]),"LineToolElliottMinorRetr"===t.type&&(t.type="LineToolElliottCorrection",t.state.degree=i[t.state.wavesize]),"LineToolElliottMajorRetr"===t.type&&(t.type="LineToolElliottCorrection",t.state.degree=i[t.state.wavesize])},o.prototype.title=function(){return"Elliott Labels"},o.degrees=[$.t("Supermillennium"),$.t("Millennium"),$.t("Submillennium"),$.t("Grand Supercycle"),$.t("Supercycle"),$.t("Cycle"),$.t("Primary"),$.t("Intermediate"),$.t("Minor",{context:"wave"}),$.t("Minute"),$.t("Minuette"),$.t("Subminuette"),$.t("Micro"),$.t("Submicro"),$.t("Miniscule")],o.prototype.additionalActions=function(t){var e=new u({text:$.t("Degree")}),i=this;return e.subActions=o.degrees.map(function(e,o){var n=new u({text:e,checkable:!0,checked:i.properties().degree.value()===o});return n.callbacks().subscribe(null,function(){t.setProperty(i.properties().degree,o,"Change Elliott Degree")}),n}),[e]},o.prototype.label=function(t){var e=o.degrees.length-this.properties().degree.value()-1,i=Math.floor(e/3),n=e%3;return{fontIncrease:4*Math.floor(i),bold:!!(i%2),decoration:["","brackets","circle"][n],label:this.labelsGroup()[i][t]}},o.prototype.getStylesPropertyPage=function(){return f.LineToolElliottStylesPropertyPage},
o.prototype.getDegrees=function(){return o.degrees},inherit(n,o),n.version=3,n.prototype.pointsCount=function(){return 6},n.prototype.migrateVersion=function(t,e,i){if(1===t){var o=$.extend({},this._timePoint[0]);this._timePoint.unshift(o),this._points.length>0&&(o=$.extend({},this._points[0]),this._points.unshift(o))}},inherit(r,n),r._labelsGroups=[["0","1","2","3","4","5"],["0","i","ii","iii","iv","v"],["0","1","2","3","4","5"],["0","I","II","III","IV","V"],["0","1","2","3","4","5"]],r.prototype.labelsGroup=function(){return r._labelsGroups},inherit(s,n),s._labelsGroups=[["0","A","B","C","D","E"],["0","a","b","c","d","e"],["0","A","B","C","D","E"],["0","a","b","c","d","e"],["0","A","B","C","D","E"]],s.prototype.labelsGroup=function(){return s._labelsGroups},inherit(a,n),a._labelsGroups=[["0","W","X","Y","X","Z"],["0","w","x","y","x","z"],["0","W","X","Y","X","Z"],["0","w","x","y","x","z"],["0","W","X","Y","X","Z"]],a.prototype.labelsGroup=function(){return a._labelsGroups},inherit(l,o),l.version=3,l.prototype.pointsCount=function(){return 4},l.prototype.migrateVersion=function(t,e,i){if(1===t){var o=$.extend({},this._timePoint[0]);this._timePoint.insert(o,0),this._points.length>0&&(o=$.extend({},this._points[0]),this._points.insert(o,0))}},inherit(c,l),c._labelsGroups=[["0","A","B","C"],["0","a","b","c"],["0","A","B","C"],["0","a","b","c"],["0","A","B","C"]],c.prototype.labelsGroup=function(){return c._labelsGroups},inherit(h,l),h._labelsGroups=[["0","W","X","Y"],["0","w","x","y"],["0","W","X","Y"],["0","w","x","y"],["0","W","X","Y"]],h.prototype.labelsGroup=function(){return h._labelsGroups},e.LineToolElliott=o,e.LineToolElliottImpulse=r,e.LineToolElliottTriangle=s,e.LineToolElliottTripleCombo=a,e.LineToolElliottCorrection=c,e.LineToolElliottDoubleCombo=h},function(t,e,i){"use strict";function o(t,e,i){var o=this._mtpStudyId()+"@mtp-mtpredictor",n=i||u.findStudyMetaInfo(t.studiesMetaData(),o),s=e||a(n,null,null,t.studyVersioning()),c=l.lineToolNameForPointsBasedStudy(o);r.call(this,t,s,c),this._setPaneViews(this.createPaneViews(t)),this._turnaroundCounter=0,this._nextTurnaround(),this._metaInfo=n,this._graphics=new h(n),this._formatter=new d}var n=i(132),r=n.StudyLineDataSource,s=i(34),a=s.prepareStudyProperties,l=s.Study,c=i(1).LineDataSource,h=i(183),d=i(71).VolumeFormatter,u=i(39);inherit(o,r),o.prototype.series=function(){return TradingView.isInherited(this._ownerSource.constructor,TradingView.Series)?this._ownerSource:this._ownerSource.series()},o.prototype.calcIsActualSymbol=function(){return c.prototype.calcIsActualSymbol.call(this)},o.prototype._nextTurnaround=function(){this._turnaround=this._mtpStudyId()+"_"+ ++this._turnaroundCounter},o.prototype.createPaneViews=function(t){return[new l.StudyPaneView_textmarks(this,t),new l.StudyPaneView_polygons(this,t),new l.StudyPaneView_lines(this,t)]},o.prototype.onData=function(t){var e=this;if("data_update"===t.method&&t.params.customId==="pointset_"+this._currentPointsetId)c.prototype.onData.call(this,t),
this._points.length===this.pointsCount()&&this._requestStudy();else if("data_update"===t.method&&t.params.customId===this._studyId){if(!this._checkTurnaround(t.params.turnaround))return;l.prototype._makeJSONForNSData.call(this,t).then(function(i){t.params.nonseries.d=i,""!==t.params.nonseries.d&&e._graphics.process(t.params.nonseries),t.params.nonseries.indexes.length>0&&(e._indexes=t.params.nonseries.indexes),e.updateAllViews(),e._model.updateSource(e)})}},o.prototype._requestStudy=function(){var t=this,e=function(e){t.onData(e)},i=this._studyInputs();i&&(this._studyId?(this._nextTurnaround(),this._model.chartApi().modifyStudy(this._studyId,this._turnaround,i,e)):(this._studyId=l.makeNextStudyId(),this._model.chartApi().createStudy(this._studyId,this._turnaround,this._model.mainSeries()._seriesId,this._metaInfo.fullId+"!",i,e)))},e.LineStudyMtp=o},,,,,function(t,e,i){"use strict";function o(t){return r(s(t),n(t))}function n(t){var e,i={shortName:t.shortName,exchange:t.exchange,proName:t.proName,type:t.type};return t.proName&&t.proName.includes(":")&&(e=t.proName.split(":"),i.exchange=e[0],i.shortName=e[1]),i}function r(t,e){return t.replace("{tvexchange}",e.exchange||"").replace("{tvsymbol}",e.shortName||"").replace("{tvprosymbol}",e.proName||"")}function s(t){var e;return t.type&&["spread","expression"].includes(t.type)?t.proName?"/symbols/spread/{tvprosymbol}/":"/":void 0===t.shortName&&void 0===t.proName?(console.warn("Params missed"),"/"):(e=t.type&&["forex","bitcoin"].includes(t.type),e?"/symbols/{tvsymbol}/":t.exchange||t.proName?"/symbols/{tvexchange}-{tvsymbol}/":"/symbols/{tvsymbol}/")}function a(t,e){var i,o=t;return/{tvsymbol}|{tvexchange}|{tvprosymbol}/.test(t)||(i="tvprosymbol",void 0===e.proName&&(i="tvsymbol"),o=t+"?tvwidgetsymbol={"+i+"}"),r(o,n(e))}function l(t,e,i){var o=window.locale_domains?h.determineBaseUrl(window.locale_domains,i):window.location.origin,a=r(s(t),n(t)),l=o+a;return e?h.addUtmToUrl(l,e):l}function c(t,e){var i=window.locale_domains?h.determineBaseUrl(window.locale_domains):window.location.origin,o=r("/chart/?symbol={tvprosymbol}",n(t)),s=i+o;return e?h.addUtmToUrl(s,e):s}Object.defineProperty(e,"__esModule",{value:!0});var h=i(175);e.getSymbolPagePath=o,e.makeSymbolInfoWithSymbolInfoPriority=n,e.renderTemplate=r,e.makeSymbolPagePathTemplate=s,e.makeTemplateSymbolUrl=a,e.makeSymbolPageUrl=l,e.makeSymbolChartUrl=c},,,,,,,,,,function(t,e,i){"use strict";function o(t,e){var i=e||window.locale||"en",o=t[i]?t[i]:t.en;return o?document.location.protocol+"//"+o:""}function n(t,e){var i,o,n,s,a,l,c,h;return/([a-zA-Z0-9.\-]*tradingview.com)|localhost/.test(t)?(i=r.buildUtmQueryString(e),o=t.indexOf("?"),n=t.indexOf("#"),s=-1!==n,a=-1!==o&&(!s||o<n),a?(l=t.slice(0,o),c=s?t.slice(o+1,n):t.slice(o+1),h=s?t.slice(n):"",l+"?"+c+"&"+i+h):s?(l=t.slice(0,n),h=t.slice(n),l+"?"+i+h):""===i?t:t+"?"+i):t}Object.defineProperty(e,"__esModule",{value:!0});var r=i(60);e.determineBaseUrl=o,e.addUtmToUrl=n},,function(t,e,i){function o(t,e){this._linesMaxWidth=null,this._hittest=e||new n(n.MOVEPOINT),
this._data={},this._fontSize=0,this.setData(t)}var n=i(11);o.prototype.setData=function(t){var e,i,o,n=this._data,r=this.fontStyle();this._data=t,this._fontSize=t.fontsize||t.fontSize||30,e=t.text===n.text,i=t.wordWrapWidth===n.wordWrapWidth,o=r===this.fontStyle(),e&&i&&o?(this._data.lines=n.lines,this._lines=n.lines):(this._linesMaxWidth=null,t.lines=this.wordWrap(t.text,t.wordWrapWidth),this._lines=t.lines)},function(){function t(){var t=document.createElement("canvas");t.width=0,t.height=0,e=t.getContext("2d"),t=null}var e;o.prototype.setPoints=function(t,e){this._data.points=t,this._hittest=e||new n(n.MOVEPOINT)},o.prototype._getLinesMaxWidth=function(){var i,o;if(null!==this._linesMaxWidth)return this._linesMaxWidth;if(e||t(),e.textBaseline="alphabetic",e.font=this.fontStyle(),this._data.wordWrapWidth)return this._data.wordWrapWidth;for(i=0,o=0;o<this._lines.length;o++)i=Math.max(i,e.measureText(this._lines[o]).width);return this._linesMaxWidth=i,i},o.prototype.measure=function(){var t=this._fontSize,e=this._getLinesMaxWidth(),i=t*this._lines.length,o=~~(t/6);return this._data.backgroundHorzInflate&&(e+=2*this._data.backgroundHorzInflate),this._data.backgroundVertInflate&&(i+=2*this._data.backgroundVertInflate),e=Math.ceil(e+2*o),i=Math.ceil(i+2*o),e%2!=0&&e++,this._data.padding&&(i+=this._data.padding),{width:e,height:i,textBgPadding:o}},o.prototype.wordWrap=function(i,o,n){var r,s,a,l,c,h,d,u,p;if(e||t(),o=+o,i+="",r=i.split(/[^\S\r\n]*(?:\r\n|\r|\n|$)/),r[r.length-1]||r.pop(),!isFinite(o)||o<=0)return r;for(e.font=n||this.fontStyle(),s=[],a=0;a<r.length;a++)if(l=r[a],(c=e.measureText(l).width)<=o)s.push(l);else for(h=l.split(/([-\)\]\},.!?:;])|(\s+)/);h.length;){if((d=~~(o/c*(h.length+2)/3))<=0||e.measureText(h.slice(0,3*d-1).join("")).width<=o)for(;e.measureText(h.slice(0,3*(d+1)-1).join("")).width<=o;)d++;else for(;d>0&&e.measureText(h.slice(0,3*--d-1).join("")).width>o;);if(d>0)s.push(h.slice(0,3*d-1).join("")),h.splice(0,3*d);else{if(u=h[0]+(h[1]||""),p=1===p?1:~~(o/e.measureText(u)*u.length),e.measureText(u.substr(0,p)).width<=o)for(;e.measureText(u.substr(0,p+1)).width<=o;)p++;else for(;p>1&&e.measureText(u.substr(0,--p)).width>o;);p<1&&(p=1),s.push(u.substr(0,p)),h[0]=u.substr(p),h[1]=""}if((c=e.measureText(h.join("")).width)<=o){s.push(h.join(""));break}}return s}}(),o.prototype._x=function(){return this._data.points[0].x+this._data.offsetX},o.prototype._y=function(){var t,e=this._fontSize*this._lines.length;switch(this._data.scaleY&&(e*=this._data.scaleY),t=this._data.points[0].y+this._data.offsetY+e,this._data.vertAlign){case"top":break;case"bottom":t-=e;break;case"middle":t-=e/2}return t},o.prototype.fontStyle=function(){return(this._data.bold?"bold ":"")+(this._data.italic?"italic ":"")+this._fontSize+"px "+this._data.font},o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h,d,u,p,f,_;if(0!==this._data.points.length){switch(e=this._x(),i=this._y(),o=this._fontSize,this._data.scaleY&&(o*=this._data.scaleY),i-=o*(this._lines.length-1),t.textBaseline="alphabetic",t.font=this.fontStyle(),
this._data.horzAlign){case"left":t.textAlign="start";break;case"right":t.textAlign="end";break;case"center":t.textAlign="center"}if(t.translate(e+.5,i+.5),e=0,i=0,o=this._fontSize,this._data.scaleX&&this._data.scaleY&&(n=Math.min(this._data.scaleX,this._data.scaleY),t.scale(n,n)),r=this._getLinesMaxWidth(),s=0,this._data.backgroundColor||this._data.borderColor||this._data.highlightBorder&&this._data.wordWrapWidth){switch(a=e,this._data.horzAlign){case"left":break;case"right":a-=r;break;case"center":a-=r/2}l=o*this._lines.length,c=~~(o/6),this._data.backgroundHorzInflate&&(r+=2*this._data.backgroundHorzInflate,a-=this._data.backgroundHorzInflate),this._data.backgroundVertInflate&&(l+=2*this._data.backgroundVertInflate,i+=this._data.backgroundVertInflate),h={x:Math.floor(a-c),y:Math.floor(i-o),w:Math.ceil(r+2*c),h:Math.ceil(l+2*c)},h.w%2!=0&&h.w++,this._data.padding&&(h.h+=this._data.padding,s=this._data.padding),this._data.backgroundVertInflate&&(i+=this._data.backgroundVertInflate),this._data.backgroundRoundRect?(t.roundRect(h.x,h.y,h.w,h.h,this._data.backgroundRoundRect),this._data.backgroundColor&&(t.fillStyle=this._data.backgroundColor,t.fill()),this._data.borderColor&&(d=~~Math.max(o/12,1),t.strokeStyle=this._data.borderColor,t.lineWidth=d,t.stroke())):(this._data.backgroundColor&&(t.fillStyle=this._data.backgroundColor,t.fillRect(h.x,h.y,h.w,h.h)),this._data.borderColor?(d=~~Math.max(o/12,1),t.strokeStyle=this._data.borderColor,t.lineWidth=d,t.strokeRect(h.x-d/2,h.y-d/2,h.w+d,h.h+d)):this._data.highlightBorder&&(t.strokeStyle=this._data.color,t.lineWidth=1,t.beginPath(),f=[3,1],t.dashedLineTo(h.x-.5,p=h.y-.5,u=h.x+h.w+.5,p,f),t.dashedLineTo(u,p,u,p=h.y+h.h+.5,f),t.dashedLineTo(u=h.x-.5,p,h.x+h.w+.5,p,f),t.dashedLineTo(u,h.y-.5,u,p,f),t.stroke()))}for(this._data.backgroundVertInflate&&!this._data.backgroundColor&&(i+=2*this._data.backgroundVertInflate),t.fillStyle=this._data.color,_=0;_<this._lines.length;_++)t.fillText(this._lines[_],e,i),i+=o+s}},o.prototype.hitTest=function(t){var e,i,o,n,r,s;return 0===this._data.points.length?null:(e=this._fontSize,this._data.scaleY&&(e*=this._data.scaleY),i=this._getLinesMaxWidth(),this._data.scaleX&&(i*=this._data.scaleX),o=this._data.points[0].x+this._data.offsetX,n=this._data.points[0].y+this._data.offsetY,"bottom"===this._data.vertAlign&&(n-=this._lines.length*this._fontSize),"middle"===this._data.vertAlign&&(n-=this._lines.length*this._fontSize/2),"right"===this._data.horzAlign?o-=i:"center"===this._data.horzAlign&&(o-=i/2),r=this._data.backgroundColor||this._data.borderColor?~~(e/6):0,s=this._data.borderColor?~~Math.max(e/12,1):0,t.x>=o-r-s&&t.x<=o+i+r+s&&t.y>=n-s&&t.y<=n+this._lines.length*this._fontSize+2*r+s?this._hittest:null)},e.TextRenderer=o},,,,function(t,e,i){"use strict";(function(e){function o(t){this._data=t,this._textWidthCache=new l}function n(t,e,i,o,n){this._model=t,this._source=e,this._plotIndex=i,this._getterName=o||"symbol",this._propertyName=n,this._cache={},this._invalidated=!0,this._rendererData={}}
var r=i(55),s=r.parseRgb,a=r.rgbToBlackWhiteString,l=i(258),c=i(41).CompositeRenderer,h=i(259).makeFont,d=i(33);o.prototype.hitTest=function(t){return null},o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h;this._data.visible&&(this._textWidthCache.font!==this._data.font&&(this._textWidthCache.reset(),this._textWidthCache.font=this._data.font),t.font=this._data.font,e=this._data.fontSize,i=Math.floor(e/4.5),o=Math.ceil(e/4.5),n=Math.ceil(e/3),r=Math.ceil(this._textWidthCache.measureText(t,this._data.text)),s=Math.round(e/10),a=e+i+o,l=r+2*n,c=this._data.x-.5,"right"===this._data.align&&(c-=l),h=this._data.y-Math.floor(e/2)-i-.5,t.fillStyle=d.resetTransparency(this._data.backColor),t.fillRect(c,h,l,a),t.fillStyle=this._data.color,t.textAlign="left",t.fillText(this._data.text,c+n,h+i+e-s))},n.prototype.isPropertyEnabled=function(){return this._model.properties().scalesProperties[this._propertyName].value()},n.prototype.update=function(){this._invalidated=!0},n.prototype.updateImpl=function(){var t,i,o,n,r,l,d,u,p=this._rendererData;if(p.visible=!1,p.text="",this.isPropertyEnabled()&&this._source.properties().visible.value()&&(t=this._source.lastValueData(this._plotIndex,e.enabled("price_scale_always_last_bar_value")),!t.noData)){if(i=this._model.paneForSource(this._source),o="right",i.leftPriceScale()===this._source.priceScale()&&(o="left"),n=this._model.properties(),r=!i.leftPriceScale().mainSource()||!i.rightPriceScale().mainSource(),r&&n.scalesProperties.showLeftScale.value()&&!n.scalesProperties.showRightScale.value()&&(o="left"),!r){if("left"===o&&!n.scalesProperties.showLeftScale.value())return new c;if("right"===o&&!n.scalesProperties.showRightScale.value())return new c}l=t.coordinate,d=this._source.m_data.m_series&&this._source.m_data.m_series.properties().style.value()===TradingView.Series.STYLE_HEIKEN_ASHI,this._source.lastPriceLabelFixedCoordinate&&!d&&"showSymbolLabels"===!this._propertyName&&(l=this._source.lastPriceLabelFixedCoordinate(this._plotIndex)||l),t.color!==p.backColor&&(p.backColor=this._source.priceLineColor(t.color),u=a(s(p.backColor),160),p.color="black"===u?"white":"black"),p.text=this._source[this._getterName](this._plotIndex),p.visible=""!==p.text,p.align=o,p.x="right"===o?this._model.timeScale().width():0,p.y=l,p.fontSize=this._model.properties().scalesProperties.fontSize.value(),p.font=h(p.fontSize,"Arial","")}},n.prototype.renderer=function(){return this._invalidated&&(this.updateImpl(),this._invalidated=!1),this._renderer||(this._renderer=new o(this._rendererData)),this._renderer},t.exports=n}).call(e,i(3))},function(t,e,i){"use strict";(function(t){function o(t,e){var i,o,n,r,s;if(a.call(this),this._study=t,this._model=e,i=t.metaInfo().plots){for(o=0;o<i.length;++o)if(!(this._study.isSelfColorerPlot(o)||this._study.isBarColorerPlot(o)||this._study.isBgColorerPlot(o)||this._study.isDataOffsetPlot(o)||this._study.isOHLCColorerPlot(o))){if(n=i[o].id,"Compare@tv-basicstudies"===this._study.metaInfo().id)r=new l(this._study.inputsForGUI()[1],"");else{s=this._study.title();try{
s=this._study.properties().styles[n].title.value()}catch(t){}r=new l(s,"")}r.plotId=n,r.plotIndex=o,this._items.push(r)}this.update(),this._invalidated=!0}}function n(t,e){o.call(this,t,e)}var r=i(276),s=i(157),a=s.DataWindowView,l=s.DataWindowItem,c=i(24).PlotRowSearchMode;inherit(o,a),o.prototype.update=function(){this._invalidated=!0},o.prototype._updateImpl=function(){var e,i,o,n,r,s,a,l,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x=!0;for(this._header=this._study.title(x),this._title=this._study.title(),e=this._study.isVisible()?$.t("n/a"):"",i=0;i<this._items.length;++i)this._items[i].setValue(e);if(t.enabled("hide_last_na_study_output")&&this._items.length&&this._items[this._items.length-1].setValue(""),!this._model.timeScale().isEmpty()){if(o=this._study.metaInfo().plots,n=null,r={},o)for(i=0;i<o.length;i++)(this._study.isSelfColorerPlot(i)||this._study.isOHLCColorerPlot(i))&&(r[o[i].target]={index:i},r[o[i].target].palette=this._study.metaInfo().palettes[o[i].palette],r[o[i].target].paletterProps=this._study.properties().palettes[o[i].palette]);for(s=this._study.data().size()-1,a=this._model.crossHairSource().appliedIndex(),l=this._study.formatter(),h={},i=0;i<this._items.length;++i)d=this._items[i],u=d.plotId,p=d.plotIndex,f=this._study.offset(u),void 0!==(_=isNumber(a)?this._study.nearestIndex(a-f,c.NearestLeft):s)&&(g=h[u],void 0===g&&(g=this._study.getMinFirstBarIndexForPlot(u),h[u]=g),g>_||(m=this._study.data().last(),null!==(v=this._study.data().valueAt(_)||(null!==m?m.value:null))&&(y=v[p+1],isNumber(y)&&(d.setValue(l.format(y)),b=this._study.properties().styles[u].color.value(),this._study.isOHLCSeriesPlot(p)&&(u=o[p].target,b=this._study.properties().ohlcPlots[u].color.value()),r[u]&&v.length>r[u].index+1?(w=v[r[u].index+1],void 0!==w&&null!==w?(n=r[u].palette,S=r[u].paletterProps,T=n.valToIndex?n.valToIndex[w]:w,this._items[i].setColor(S.colors[T].color.value())):this._items[i].setColor(b)):this._items[i].setColor(b)))))}},o.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},inherit(n,o),n.prototype.additional=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._additional},n.prototype._updateImpl=function(){var t=r(this._study.symbolInfo());return this._additional=t?"(Data Provided by "+t+")":void 0,o.prototype._updateImpl.call(this)},e.StudyDataWindowView=o,e.DataVendorStudyDataWindowView=n}).call(e,i(3))},function(t,e,i){"use strict";function o(t){this._graphics=o.emptyGraphics(),n(!!t,"Study metaInfo is absent!"),this._metaInfo=t}var n=i(9).assert,r=i(0).getLogger("Chart.StudyGraphics");o.emptyGraphics=function(){return{indexes:[]}},o.prototype.isEmpty=function(){var t=Object.keys(this._graphics).length>1;return 0===this._graphics.indexes.length&&!t},o.prototype.graphics=function(){return this._graphics},o.prototype.setGraphics=function(t){this._graphics=t,this._postProcessGraphicsData()},o.prototype.process=function(t){
if(""!==t.d)return t.d.indexes_replace?void this.replaceIndexes(t):void(t.d.graphicsCmds&&(this.processEraseCmds(t.d.graphicsCmds.erase),this.processCreateCmds(t.d.graphicsCmds.create,t.indexes)))},o.prototype.replaceIndexes=function(t){""!==t.d&&(n(!!t.d.indexes_replace),this._graphics.indexes=t.indexes)},o.prototype.processEraseCmds=function(t){var e,i,r,s,a;if(t)for(n(!!this._graphics,"_graphics object doesn't exist in the study!"),n(!!this._graphics.indexes,"_graphics.indexes array doesn't exist in the study!"),e=0;e<t.length;++e)if(i=t[e],"all"===i.action)this._graphics=o.emptyGraphics();else{if("one"!==i.action)throw Error("Unknown graphics command "+i.action);for(r in this._graphics[i.type])s=this._graphics[i.type][r],(a=o._findGraphicsObjIndexById(s.data,i.id))>=0&&s.data.splice(a,1)}},o._findGraphicsObjIndexById=function(t,e){for(var i=0;i<t.length;++i)if(t[i].id===e)return i;return-1},o.prototype.processCreateCmds=function(t,e){var i,o,r,s,a,l;if(t){n(!!e,"indexes are missing in the study nonseries response!"),n(!!this._graphics,"_graphics object doesn't exist in the study!"),n(!!this._graphics.indexes,"_graphics.indexes array doesn't exist in the study!");for(i in t){n(i in this._metaInfo.graphics,"There is a '"+i+"' in study response, but it doesn't present in metaInfo!");for(o=0;o<t[i].length;++o){r=t[i][o],s=r.styleId,n(s in this._metaInfo.graphics[i]),this._graphics[i]||(this._graphics[i]=[]),a=null;for(l=0;l<this._graphics[i].length;++l)if(this._graphics[i][l].styleId===s){a=this._graphics[i][l];break}null===a&&(a={styleId:s,data:[]},this._graphics[i].push(a)),a.data=a.data.concat(r.data)}}"nochange"===e||(n(Array.isArray(e)),this._graphics.indexes=e),this._postProcessGraphicsData()}},o.prototype._postProcessGraphicsData=function(){this._graphics&&this._splitHHistItems()},o.prototype._splitHHistItems=function(){var t,e,i,n,r,s,a,l,c,h,d,u;if(void 0!==this._graphics.hhists){for(t in this._graphics.hhists)e=this._graphics.hhists[t],o._sortHHistItemsByPrice(e.data),i=this._graphics.indexes,e.dataObj=o._splitHHistItemsBySession(e.data,i);if(n=this._graphics.hhists[0],r=this._graphics.hhists[1],n&&r&&n.dataObj&&r.dataObj)for(s in n.dataObj)if(a=n.dataObj[s],l=r.dataObj[s],a&&l){for(c=l[0],h=l[l.length-1],d=0;d<a.length;d++)u=a[d],(u.priceHigh>=c.priceHigh||u.priceLow>=c.priceLow)&&(u.priceHigh<=h.priceHigh||u.priceLow<=h.priceLow)&&(u.va=!0);n.shortDataObj||(n.shortDataObj={}),n.shortDataObj[s]=a.slice()}}},o._sortHHistItemsByPrice=function(t){t.sort(function(t,e){return t.priceLow-e.priceLow})},o._splitHHistItemsBySession=function(t,e){var i,o,n,s={};for(i=0;i<t.length;++i)o=t[i],n=e[o.firstBarTime],void 0!==n?(n in s||(s[n]=[]),s[n].push(o)):r.logError("Cannot find index "+o.firstBarTime+" in study timescale indexes");return s},t.exports=o},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(229),n=i(272),r=function(){function t(t){void 0===t&&(t=!1),this._dwm=t}return t.prototype.format=function(t){var e=(new n.DateFormatter).format(t)
;return this._dwm||(e+=" "+(new o.TimeFormatter).format(t)),e},t.prototype.formatLocal=function(t){var e=(new n.DateFormatter).formatLocal(t);return this._dwm||(e+=" "+(new o.TimeFormatter).formatLocal(t)),e},t}(),e.DateTimeFormatter=r},function(t,e,i){"use strict";function o(t,e,i,o,r){this._paneView=r,n.call(this,t,e,i,o)}var n=i(34).Study;inherit(o,n),o.prototype.onData=function(t){var e=this;switch(t.method){case"data_update":n.prototype._makeJSONForNSData.call(this,t,{}).then(function(i){i.indexes_replace?e._indexes=t.params.nonseries.indexes:(e._nonseriesdata=i.data,e._indexes=t.params.nonseries.indexes);var o=e._model.paneForSource(e);e._model.recalculatePane(o),e._model.updateSource(e)});break;default:return n.prototype.onData.call(this,t)}},o.prototype.updateAllViews=function(){this._paneView.update(),this._dataWindowView.update(),this._statusView.update()},o.prototype.paneViews=function(t){return[this._paneView]},o.prototype.state=function(t){var e=n.prototype.state.call(this,t);return t&&(e.nonSeriesData=this._nonseriesdata,e.indexes=this._indexes),e},o.prototype.restoreData=function(t,e,i){n.prototype.restoreData.call(this,t),this._nonseriesdata=e,this._indexes=i},o.prototype.clearData=function(){this._nonseriesdata=null,this._indexes=null},o.prototype.nonSeriesData=function(){return this._nonseriesdata},t.exports=o},function(t,e,i){"use strict";function o(t,e){var o=e||new c("linetoolarrowmark");l.call(this,t,o),i.e(11).then(function(e){var o=i(650).TextPaneView,n=i(651).MarkPaneView,r=[new n(this,t,this.image,this.width,this.height,this.offsetX,this.offsetY)],s=this._createTextPaneView(o);null!==s&&r.push(s),this._setPaneViews(r)}.bind(this).bind(null,i)).catch(i.oe)}function n(t,e){this._constructor="LineToolArrowMarkLeft",o.call(this,t,e)}function r(t,e){this._constructor="LineToolArrowMarkUp",o.call(this,t,e)}function s(t,e){this._constructor="LineToolArrowMarkRight",o.call(this,t,e)}function a(t,e){this._constructor="LineToolArrowMarkDown",o.call(this,t,e)}var l=i(1).LineDataSource,c=i(7).DefaultProperty,h=i(2).propertyPages;inherit(o,l),o.prototype.width=21,o.prototype.height=21,o.prototype.offsetX=0,o.prototype.offsetY=0,o.prototype.paneViews=function(t){var e=l.prototype.paneViews.call(this,t);return null!==e&&this._textPaneView&&e.push(this._textPaneView),e},o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Arrow Mark"},o.prototype.getStylesPropertyPage=function(){return h.LineToolArrowMarkStylesPropertyPage},o.prototype._createTextPaneView=function(t){return null},inherit(n,o),n.prototype.image=new Image,
n.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB50lEQVR4AWMgETAKKAgIAGkQ5mCgAmCWdtTWV4yxvgFkWwKxOKUGssr5Gccrx9t+Vk6w+w/kxwKxIrmGMTKIivIohFvONKsI+e/cl/ofamgGECuTYyCTqJ2mqlK01Vnr+uj/HjNy/1v1J8AMzSTHUBYZP6MgpTjb97bNsf9dpmf9N++J/W/UEQEztAiIbUEGo2EpIObE8C4oVuVDzLuBmv869aT8t5+c+t+0K/q/YXs4GGsWeIAMRscwy/yhBiO8K2ijJKcYZXXYuj7qv/u0nP/W/Yn/jTsjQYYRwliDhUXKy8BVKdbmuW1T7H+3Gdn/LXrjQN4FaSDLUBa5MItyoOAvp67k/45T0pC9S56hSrHWhY4tif9D5pUDXZjz36w7Blkx+S5VDLNoBUWMY3fKfwdExMAw+WEq7Wvkoxhn+waUhFwRSYhcQxGxL26jpqQYbX3CBpjY3aeDYj+BothHpFNxcW75cIvJpmXB/516Uv/bT0r5b9IVRUY6xQSssr6GkcAc9dGuNe6/y7RMMnMUJmCWcNTSBgbHZeuG6P+eM/P+W/VRlPcRwSGoJMgvH265yKIq/L9LfzqKoZSXp0Em6cDy9BvU0Dhyy1PM4PAwMFWKs7kFZFsBsQQDlQAjr4a0MJAWxFdHAQAcI3sGHsO1dgAAAABJRU5ErkJggg==",n.prototype.offsetX=1,n.prototype.offsetY=-10,n.prototype.title=function(){return"Arrow Mark Left"},n.prototype._createTextPaneView=function(t){var e=new t(this,this._model,22,-3,"middle","left");return e.disableSelection(),e},inherit(r,o),r.prototype.image=new Image,r.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAACBklEQVR4AWMgErAoxVoXgmgGKgEWxTCLVseWxP9yYRbl1DCYSdrXyEc5we5vyLzy/0D6l5SXgStInFwDGcVt1JQU42zfOHan/HebkfPfqSv5v1KszXNBGyU5kDzpRoqLcytGW5+wbY797zA59b9Zd8x/xylp/22bYv8rRlkdBqrgINVIVvlwi8k29dH/Xadn/Tftiv5v2B4Opt1mZP+3ro/6Lx9i3k1K+DLL+hpGmpYF/3efnvPfvCcWZCAcW/TG/XeflvMfFM4yfkZBxIQvo4SjlrZSnO1Hp57U/9b9Cf+NOiKQDQXxgeKJ/516Uv4D1b0XtdNUxRu+gkqC/MBwvGzXGvffflLKf+POSISBCAwWtweGMyi8laKtzjKIivLgCUfLRdYN0f9dpmX+N+mKghiCieHh6wIMb2tguCuEW84E6ccIR7kgk3SLqvD/njPzYOFICIPVeczI/W9WEfJfzs84HmQOIhw9DEyV422/ufSn/7fqg4cjIQxWZwUMd+e+1P9A/Z+lHbX1weHLqyEtrBRncwsYm/+RsWaBBz4DwfLoehRjrG8IKAgIgOMHiK2AOA6IM6G4CKgIr6EgeZA6qPoMII4FYksgFmCA5gwJIFYEYmUotiXSUFuYHqh+cXw5TZlIQ5WxaR4mhuLBZBkqBcT+oJjFg/3B6kgAnFANyniwFEQdJgAAOuN7Bp7MBuYAAAAASUVORK5CYII=",r.prototype.offsetX=-9,r.prototype.offsetY=0,r.prototype.title=function(){return"Arrow Mark Up"},r.prototype._createTextPaneView=function(t){var e=new t(this,this._model,0,18,"top","center");return e.disableSelection(),e},inherit(s,o),s.prototype.image=new Image,s.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB60lEQVR4AWPAAziAWJBXQ1oYSDMyUAlIALGVUpzNLQkPA1Mgm5kahioCcZxygt1/5Xjbb3JBJulAPiulhioDcSbIUJf+9P8WVeH/5cMtFwkqCfKDgoNiQ636Ev57zsz7b90Q/V8x2vqyhKOWNqHg4ARiKZAhaNgWiItAhhp1RPw374n97zIt879da9x/pTjbj7K+hpE4gwNqoD9IMzasWeDx37A9HIxNuqL+209K+e/Uk/rftCwYGBwWkxnExbkRwYHpTZBGgti4M/K/dX/Cf/fpOf9t6sHBcULcRk0JaAYT6YYiMDw4XKdn/bdtjv2vGGf7RtrXyAdoDguZhiKwaVf0f4fJqf8du1NAQfVXMcyiFWQwmYYisFl3zH+3GTn/Q+aV/3dsSfyvFGtdSLFLHaek/XfqSga59JdcmEU5yKVkh6lFbxzQhdn/bZtiga6zeS7lZeAKMpCC2E/87z4t5791fdR/xSirw4I2SnKg2CcxnSK8aw+MGKceSMTIh5h3Q0szRvJzFCQJgXLUexk/oyCQd8nP+8DE7jEjF+jd6P9K0VZnRe00VWHeJcfQDJChzn2p/80qQv4rhFvOZBAV5QF5l5LyNBZann6W8zOOp0Z5Kg7Eloox1jekHbX1qVLyQ2NVQEBBQIBU7wIAOFZ7BmG7RzYAAAAASUVORK5CYII=",s.prototype.offsetX=-19,s.prototype.offsetY=-10,s.prototype.title=function(){return"Arrow Mark Right"},s.prototype._createTextPaneView=function(t){
var e=new t(this,this._model,-22,-3,"middle","right");return e.disableSelection(),e},inherit(a,o),a.prototype.image=new Image,a.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB/UlEQVR4AWPAATj3Wij8J4RB6hhIAFIgTS9a8nBhmKFSpBiqDNJ0P80PF4YZqkyyobfD7HDh4WJolaKY+G5zhXvoMXva2xifoWB5dD07zeTvFKvxioDMFY6RFUgEGvzzQVk8OGafVib9v5fkhc9QkDxIHVj9vaKY/7vM5b+HS/JFA80TAhnKA8TGZSoiS057GYFiFqzhTpQTPkNB8iB1YPUnPQz+5ykKzQGaYwjE3CBDmUCuBWKHabqSZ0656oI0EY1B6idoSx4F6reDupIJFrTMQCwtxsYcvNZY5uU5T0OiDDwLdOFKI9knvMzM/kD9kmBz0AAbEKs6iHAX7zSX/3nF3xyvgZd8Tf9vM5P/ZiXAmQdNBazYEgIjEHOBwiVHXmjWcSctnAbeDLH5f8xR83+SjNBEoHo9sD4owGWwIBDb9mtJHMIVviDxDg3x3UB11kDMD9ZHADCDwkeAmdlvhZHMI2C4oRh4xl3//1IDmbvszAxeQHXiUPWEATR8lE0EubJB4QYMP7CBF31M/m82k/usy8uRCpRXAKsjEXCCwiteVqD/qIPG/+tBVv/3WCj8C5Pi7wCKawMxBwMZgBEaXlbtGuI7T7ro/G9QFdsI5JsDMR/+cCQcvuLsLAzubRoSa4FsJyAWBSdwsgEifKVBXoYmcBYGagCoQZzEGggAoyq6zKXuV5gAAAAASUVORK5CYII=",a.prototype.offsetX=-9,a.prototype.offsetY=-18,a.prototype.title=function(){return"Arrow Mark Down"},a.prototype._createTextPaneView=function(t){var e=new t(this,this._model,0,-23,"bottom","center");return e.disableSelection(),e},s.prototype.version=n.prototype.version=a.prototype.version=r.prototype.version=2,e.LineToolArrowMark=o,e.LineToolArrowMarkLeft=n,e.LineToolArrowMarkRight=s,e.LineToolArrowMarkUp=r,e.LineToolArrowMarkDown=a},function(t,e,i){"use strict";(function(t,o,n){function r(e,i){var r,a=e._undoModel._chartWidget,l=a.onWidget(),c=!1;c=l?a._options&&!a._options.hideIdeas:!!t.enabled("bars_marks")&&TVSettings.getBool("BarsMarksContainer.visibile",!1),i?i.merge({visible:c,frozen:!1}):i=new o({visible:c,frozen:!1}),r=this,i.visible.listeners().subscribe(null,function(e){l||a._containsData||!t.enabled("bars_marks")||TVSettings.setValue("BarsMarksContainer.visibile",!!e.value()),r._tooltip&&r._tooltip.removeAll()}),s.call(this,e,i),this.onNeedRepaint=new n,this._requests=[],this._marks={},this._loadedRange=null,this._getDataTimeout=null,this._collectedRange=null,this._model.mainSeries().onSymbolIntervalChanged().subscribe(this,this.clearMarks),this._model.mainSeries().onSymbolResolved().subscribe(this,this.clearMarks),this._model.mainSeries().onTickmarksRangeChanged().subscribe(this,this.getData),this._initialize(),this.pinnedTooltips={},this._tooltip=new h(this._createTooltip.bind(this),this)}var s=i(1).LineDataSource,a=i(10).isNumber,l=i(193).BarsMarksContainerPaneView,c=i(193).BarsMarksContainerRenderer,h=i(888).TooltipRenderer,d=i(0).getLogger("Chart.BarsMarksContainer");inherit(r,s),r.prototype._constructor="Child class must override this member",r.prototype._initialize=function(t){throw Error("Child class must override this member")},r.prototype.onClicked=function(){throw Error("Child class must override this member")},r.prototype._getData=function(t){throw Error("Child class must override this member")},r.prototype._createTooltip=function(){throw Error("Child class must override this member")},r.prototype.updateDotData=function(t,e){return e},r.prototype.updatePlateData=function(t,e){},
r.prototype._plateViewData=function(t){return{}},r.prototype.pinTooltip=function(t,e){this.pinnedTooltips[t]=e},r.prototype.timeScale=function(){return this._model.timeScale()},r.prototype.getIntervalInTicks=function(){function t(t){if((t=parseInt(t))!=t)throw new TypeError("Unexpected interval");return 60*t}var e=t(1440),i=7*e,o=31*e,n=this._model.mainSeries().properties().interval.value();switch(n){case"M":return o;case"W":return i;case"D":return e;default:return t(n)}},r.prototype._maxDate=Math.round(new Date(2037,0,1).getTime()/1e3),r.prototype.getVisibleTickmarksRange=function(){var t,e;return this.timeScale().isEmpty()?{start:0,end:0}:(t=this.timeScale().visibleBars(),t.lastBar()>this.timeScale().points().firstIndex()&&t.firstBar()<this.timeScale().points().lastIndex()?(e=t.lastBar()<this.timeScale().points().lastIndex()?this.timeScale().indexToTimePoint(t.lastBar()):this._maxDate,t={start:this.timeScale().indexToTimePoint(Math.max(t.firstBar(),this.timeScale().points().firstIndex())),end:e},{start:t.start?t.start:void 0,end:t.end?t.end:void 0}):{start:0,end:0})},r.prototype.getVisibleRangePlates=function(){var t=[],e=this.getVisibleTickmarksRange(),i=this.getIntervalInTicks();return $.each(this._marks,function(o,n){var r=n.tickmark;r>=e.start&&r<=e.end+i&&t.push(n)}),t},r.prototype.getPublishedPlates=function(){var t={},e=this;return is_authenticated?($.each(this.getVisibleRangePlates(),function(i,o){o.is_public&&(e.pinnedTooltips[o.id]||o.user__id===user.id)&&(t[o.id]=o)}),t):t},r.prototype._maxPlatesPerBar=10,r.prototype.filterDisplayedPlates=function(t){return t=t.reduce(function(t,e){var i=this._getIndex(e.tickmark);return t[i]=t[i]||[],t[i].push(e),t}.bind(this),{}),t=Object.keys(t).reduce(function(e,i){var o=t[i];return o=o.sort(function(t,e){return e.views_count-t.views_count}),o=o.slice(0,this._maxPlatesPerBar),e.concat(o)}.bind(this),[])},r.prototype._layout=function(t){switch(t){default:case 0:return"up";case 1:return"down";case 2:return"up";case 3:case 4:case 5:case 6:return"up"}},r.prototype._theme=function(t){switch(t){default:case 0:return"neutral";case 1:return"green";case 2:return"red";case 3:return"yellow";case 4:return"blue";case 5:return"green";case 6:return"red"}},r.prototype._offset=function(t,e){var i;switch(t){default:case"up":i=e[TradingView.HIGH_PLOT];break;case"down":i=e[TradingView.LOW_PLOT]}return this.priceScale().isPercent()&&(i=this.priceScale().priceRange().convertToPercent(i,this.ownerSource().firstValue())),this.priceScale().priceToCoordinate(i)},r.prototype._getIndex=function(t){return this.timeScale().timePointToIndex(t)},r.prototype.getViewData=function(){return{barWidth:this.barWidth(),plates:this.getPlatesViewData(),tooltip:this._tooltip}},r.prototype.barWidth=function(){return this.timeScale().barSpacing()},r.prototype.getPlatesViewData=function(){var t,e,i,o,n,r;if(this._model.mainSeries().data().isEmpty())return[];t=this.filterDisplayedPlates(this.getVisibleRangePlates()),e=this,i={},o=this._model.lastHittestData(),t=t.map(function(t){
var n,r,s,a,l,c,h=this._getIndex(t.tickmark),d=this._getBar(h);return null!==d&&(n=this._layout(t.direction),r=this._theme(t.direction),s=o&&o.id===t.id,a=this.timeScale().indexToCoordinate(h),l=this._offset(n,d),c=0,h in i||(i[h]={up:0,down:0}),c=i[h][n]++,TradingView.merge({id:t.id,x:a,y:l,order:c,direction:n,theme:r,hovered:s,pinned:!0===e.pinnedTooltips[t.id],user__id:t.user__id,label:t.label,labelFontColor:t.labelFontColor||"#444",minSize:t.minSize||0},this._plateViewData(t)))}.bind(this)),t=t.filter(function(t){return!!t}),n=t.filter(function(t){return!0===t.hovered});for(r=0;r<t.length;r++)null!=n[0]&&t[r].user__id===n[0].user__id&&(t[r].highlightByAuthor=!0);return t.sort(function(t,e){return t.hovered&&!e.hovered?1:0}),t},r.prototype._getBar=function(t){return this._model.mainSeries().data().valueAt(t)},r.prototype.paneViews=function(t){var e=this;return this._properties.visible.value()?[new l(this,t,function(t){return new c(t.getViewData(),e)})]:[]},r.prototype.dataWindowView=function(){return null},r.prototype.priceAxisViews=function(){return null},r.prototype.statusView=function(){return null},r.prototype.updateAllViews=function(){},r.prototype.pointsCount=function(){return 0},r.prototype.properties=function(){return this._properties},r.prototype._rangeDifference=function(t){return t=$.extend({},t),this._loadedRange&&(t.start<this._loadedRange.start?t.end=this._loadedRange.start:t.end>this._loadedRange.end&&(t.start=this._loadedRange.end)),t},r.prototype._rangeUnion=function(t,e){return t=$.extend({},t),e&&(t.start=Math.min(e.start,t.start),t.end=Math.max(e.end,t.end)),t},r.prototype._pushGetDataStack=function(t){if(!a(t.start)||!a(t.end))return void d.logError("Wrong tickmark range");this._getDataTimeout&&clearTimeout(this._getDataTimeout),this._collectedRange=this._rangeUnion(t,this._collectedRange),this._getDataTimeout=setTimeout(function(){this._getData(this._collectedRange),this._getDataTimeout=this._collectedRange=null}.bind(this),300)},r.prototype.roundRange=function(t){return{start:Math.round(t.start),end:Math.round(t.end)}},r.prototype.refreshData=function(){this.getData(this._lastRange)},r.prototype.getData=function(t){if(!a(t.start)||!a(t.end))return void d.logError("Wrong range");this._lastRange=t;var t=$.extend({},t);t.end=this._maxDate,this._pushGetDataStack(t)},r.prototype._abortAllRequests=function(){this._requests.forEach(function(t){t.abort()}),this._requests=[],this._getDataTimeout&&clearTimeout(this._getDataTimeout),this._getDataTimeout=this._collectedRange=null},r.prototype.clearMarks=function(){this._abortAllRequests(),this._marks={},this._loadedRange=null},e.BarsMarksContainer=r}).call(e,i(3),i(37),i(4))},,function(t,e,i){t.exports=i.p+"flag-square-mock.6035782eb723ecf947366380e597bd61.svg"},,,function(t,e,i){"use strict";function o(t,e){var i=t.offset();e.localX=e.pageX-i.left,e.localY=e.pageY-i.top}function n(t,e,i,o){new c(t,e,i,o)}var r,s,a,l,c;Object.defineProperty(e,"__esModule",{value:!0}),i(13),i(109),r=i(458),s=i(9),a=2,l=!1,c=function(){function t(t,e,i,o){
this._clickCount=0,this._clickTimeoutId=null,this._touchContextMenuTimeout=null,this._lastTouchPosition={x:0,y:0},this._mouseMoveStartPosition=null,this._cancelClick=!1,this._$target=t,this._handler=e,this._originalPreventDefault=i,this._preventDefault=!o&&i,this._verticalTouchScroll=o,this._init()}return t.prototype._mouseEnterHandler=function(t){this._$target.off("mousemove.chartgui"),this._$target.on("mousemove.chartgui",this._mouseMoveHandler.bind(this)),Modernizr.touch&&this._mouseMoveHandler(t),this._processEvent(t,this._handler.mouseEnterEvent),this._preventDefaultIfNeeded(t)},t.prototype._resetClickTimeout=function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null},t.prototype._mouseMoveHandler=function(t){l&&!Modernizr.touch||(this._processEvent(t,this._handler.mouseMoveEvent),this._preventDefaultIfNeeded(t))},t.prototype._mouseMoveWithDownHandler=function(t){var e,i,o,n,r,l,c;void 0===t.button&&(t.button=0),e=!1,i=Modernizr.touch||t.originalEvent.touches,i&&(this._fixMouseTouchEvent(t,t.originalEvent),t.clientX=t.pageX,t.clientY=t.pageY,this._verticalTouchScroll&&(o=Math.abs(.5*(t.pageX-this._lastTouchPosition.x)),n=Math.abs(t.pageY-this._lastTouchPosition.y),o<=n?(e=!0,this._preventDefault=!1):this._preventDefault=this._originalPreventDefault),this._lastTouchPosition.x=t.pageX,this._lastTouchPosition.y=t.pageY),r=s.ensure(this._mouseMoveStartPosition),l=Math.abs(r.x-t.pageX),c=Math.abs(r.y-t.pageY),l+c>5&&(this._cancelClick=!0,i&&this._clearContextMenuTimeout()),t.button===a||e||this._processEvent(t,this._handler.pressedMouseMoveEvent),this._preventDefaultIfNeeded(t)},t.prototype._mouseUpHandler=function(t){void 0===t.button&&(t.button=0),(Modernizr.touch||t.originalEvent.touches)&&(t.pageX=this._lastTouchPosition.x,t.pageY=this._lastTouchPosition.y,t.localX=this._lastTouchPosition.x,t.localY=this._lastTouchPosition.y,this._clearContextMenuTimeout()),this._mouseMoveStartPosition=null,l=!1,$(document.body).off("mousemove.chartgui"),$(document.body).off("mouseup.chartgui"),Modernizr.touch||t.originalEvent.touches?($(document.body).off("touchmove.chartgui"),$(document.body).off("touchend.chartgui"),this._mouseLeaveHandler(t)):($(document.body).off("mousemove.chartgui touchmove.chartgui"),$(document.body).off("mouseup.chartgui touchend.chartgui")),t.button!==a&&(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId&&this._clickCount>1?(this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent)),this._preventDefaultIfNeeded(t),Modernizr.touch&&this._mouseLeaveHandler(t)},t.prototype._clearContextMenuTimeout=function(){null!==this._touchContextMenuTimeout&&(clearTimeout(this._touchContextMenuTimeout),this._touchContextMenuTimeout=null)},t.prototype._mouseDownHandler=function(t){if(void 0===t.button&&(t.button=0),this._cancelClick=!1,(Modernizr.touch||t.originalEvent.touches)&&(this._fixMouseTouchEvent(t,t.originalEvent),
this._lastTouchPosition.x=t.pageX,this._lastTouchPosition.y=t.pageY,this._mouseEnterHandler(t)),this._mouseMoveStartPosition={x:t.pageX,y:t.pageY},Modernizr.touch?($(document.body).off("touchmove.chartgui"),$(document.body).off("touchend.chartgui"),$(document.body).on("touchmove.chartgui",this._mouseMoveWithDownHandler.bind(this)),$(document.body).on("touchend.chartgui",this._mouseUpHandler.bind(this)),this._clearContextMenuTimeout(),this._touchContextMenuTimeout=setTimeout(this._contextMenuHandler.bind(this,t),500)):($(document.body).off("mousemove.chartgui touchmove.chartgui"),$(document.body).off("mouseup.chartgui touchend.chartgui"),$(document.body).on("mousemove.chartgui touchmove.chartgui",this._mouseMoveWithDownHandler.bind(this)),$(document.body).on("mouseup.chartgui touchend.chartgui",this._mouseUpHandler.bind(this))),l=!0,t.button!==a&&(this._processEvent(t,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500))),this._preventDefaultIfNeeded(t),this._preventDefault)try{window.focus()}catch(t){}},t.prototype._init=function(){var t=this;this._$target.mouseenter(this._mouseEnterHandler.bind(this)),this._$target.on("touchcancel",this._clearContextMenuTimeout.bind(this)),this._$target.on("touchstartoutside mousedownoutside",function(e){t._handler.mouseDownOutsideEvent&&t._handler.mouseDownOutsideEvent(e,t._$target)}),this._$target.mouseleave(this._mouseLeaveHandler.bind(this)),this._$target.contextMenu&&this._$target.contextMenu(this._contextMenuHandler.bind(this)),Modernizr.touch?(this._$target.on("touchstart.chartgui",this._mouseDownHandler.bind(this)),this._initGestureEvents()):this._$target.on("mousedown.chartgui touchstart.chartgui",this._mouseDownHandler.bind(this))},t.prototype._mouseLeaveHandler=function(t){this._$target.off("mousemove.chartgui touchmove.chartgui"),this._processEvent(t,this._handler.mouseLeaveEvent),this._preventDefaultIfNeeded(t)},t.prototype._contextMenuHandler=function(t){this._processEvent(t,this._handler.contextMenuEvent),this._preventDefaultIfNeeded(t),this._cancelClick=!0},t.prototype._processEvent=function(t,e){e&&(o(this._$target,t),e.call(this._handler,t,this._$target))},t.prototype._preventDefaultIfNeeded=function(t){this._preventDefault&&t.preventDefault()},t.prototype._initGestureEvents=function(){var t=this,e=new r(this._$target.get(0));e.get("pinch").set({enable:!0}),e.on("pinchstart",function(e){t._handler.gestureStartEvent&&t._handler.gestureStartEvent(e,t._$target),t._clearContextMenuTimeout()}),e.on("pinchmove",function(e){t._handler.gestureChangeEvent&&t._handler.gestureChangeEvent(e,t._$target)}),e.on("pinchend pinchcancel",function(e){t._handler.gestureEndEvent&&t._handler.gestureEndEvent(e,t._$target)})},t.prototype._fixMouseTouchEvent=function(t,e){var i=e.touches[0].pageX,o=e.touches[0].pageY;t.pageX=i,t.pageY=o,t.localX=i,t.localY=o},t}(),e.setMouseEventHandler=n},function(t,e,i){"use strict";function o(t,e,i){this.source=t,this.pane=e,this._rendererFactory=i}
function n(t,e){this._barWidth=t.barWidth,this._plates=t.plates,this._tooltip=t.tooltip,this._model=e}function r(){this._layout=[],this._currentId=void 0,this.tooltipHovered=!1}var s=i(8).Point,a=i(70).pointInCircle,l=i(11);o.prototype.update=function(){},o.prototype.renderer=function(){return this._rendererFactory(this.source)},n.prototype.draw=function(t){t.save();for(var e=0;e<this._plates.length;e++)if(this._plates[e].highlightByAuthor){this._highlightByAuthor=!0;break}this._plates.forEach(this._drawItem.bind(this,t)),this._tooltip.draw(this._plates.map(function(t){return this._plateTransform(t)}.bind(this)),t),this._tooltip.endDraw(),t.restore()},n.prototype._drawItem=function(t,e){t.save(),this._highlightByAuthor&&!e.highlightByAuthor&&(t.globalAlpha=.4);var i=this._dotTransform(e);i.mine?this._drawTriangle(t,i):this._drawDot(t,i),t.restore()},n.prototype._commonTransform=function(t){var e=Math.max(1.4*t.minSize,this._barWidth+4),i=t.y+{up:-1,down:1}[t.direction]*(e*(t.order+.6)+.25*e),o=TradingView.clone(t.overridedTheme||this.themes[t.theme]);return o.dotBorderWidth=t.hovered||t.highlightByAuthor?4:2,{id:t.id,theme:o,themeName:t.theme,x:Math.round(t.x+1),y:Math.round(i),pinned:t.pinned,hovered:t.hovered}},n.prototype._dotTransform=function(t){var e=this._commonTransform(t);return e.radius=Math.max(t.minSize/2,.4*this._barWidth),e.label=t.label,e.labelFontColor=t.labelFontColor,e.labelFontSize=Math.ceil(Math.max(10,Math.min(e.radius,20))),this._model.updateDotData(t,e)},n.prototype._plateTransform=function(t){var e=this._commonTransform(t);return this._model.updatePlateData(t,e)},n.THEMES=["green","red","neutral","yellow","blue"],n.prototype.themes={green:{border:"#78C143",background:"#8DDD54"},red:{border:"#CC4545",background:"#ED5A5A"},neutral:{border:"#EAC300",background:"#FFD400"},yellow:{border:"#EAC300",background:"#FFD400"},blue:{border:"#047ACE",background:"#0496FF"}},n.prototype._drawTriangle=function(t,e){var i,o,n,r;t.strokeStyle=e.theme.border,t.fillStyle=e.theme.background,t.lineWidth=e.theme.dotBorderWidth,i=e,o=e.radius,n=Math.cos(Math.PI/6)*o,r=Math.sin(Math.PI/6)*o,t.translate(i.x,i.y),"up"===e.direction&&t.rotate(Math.PI),e.public||(t.lineWidth/=2),t.beginPath(),t.moveTo(0,-o),t.lineTo(n,r),t.lineTo(-n,r),t.lineTo(0,-o),t.closePath(),t.stroke(),e.public&&t.fill()},n.prototype._drawDot=function(t,e){t.strokeStyle=e.theme.border,t.fillStyle=e.theme.background,t.lineWidth=e.theme.dotBorderWidth,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!0),t.closePath(),t.stroke(),t.fill(),e.label&&e.radius>6&&(t.textAlign="center",t.textBaseline="middle",t.font="bold "+e.labelFontSize+"px Arial",t.fillStyle=e.labelFontColor,t.fillText(e.label,e.x,e.y))},n.prototype.hitTest=function(t){var e,i;for(i=this._plates.length-1;i>=0;--i)if(e=this._hitTestDot(this._plates[i],t))return e;return null},n.prototype._hitTestDot=function(t,e){var i=this._dotTransform(t),o=new s(i.x,i.y);return a(e,o,Math.max(i.radius,8))?new l(l.REGULAR,t):null},r.prototype._createLayout=function(){
throw Error("Child class must override this member")},r.prototype._updatePlate=function(t){throw Error("Child class must override this member")},r.prototype._getContainer=function(t){return this._container&&this._context===t||(this._context=t,this._container=$(t.canvas).parent()),this._container},r.prototype._plateArrowSize=14,r.prototype.showPlate=function(t,e){var i,o,n,r,s,a,l,c;this._currentId===t.id&&this._layout&&0!==this._layout.length&&null!=this._layout[0].parentNode||(this._currentId=t.id,this._createLayout(),this._getContainer(e).append(this._layout),i=this,this._layout.hover(function(){i.tooltipHovered=!0,$(this).stop(!0).fadeTo(0,1)},function(){i.tooltipHovered=!1})),o=Math.round(t.barWidth/2),o>15&&(o=15),o<10&&(o=10),this._updatePlate(t),n=e.canvas.getBoundingClientRect(),r=t.x-this._layout.outerWidth()<this._plateArrowSize,s=n.width-t.x+Math.round(t.barWidth/2+o),r&&(s-=this._layout.outerWidth()+2*this._plateArrowSize),a=n.height,l=20,c=10,this._layout.toggleClass("right",r),this._layout.css({top:Math.min(Math.max(t.y,l),a-this._layout.outerHeight()-c),right:s,fontSize:o+"px",display:"block"})},r.prototype._removeLayout=function(){this.tooltipHovered||(this._layout.stop(!0),this._layout.remove())},r.prototype._toggleLayout=function(t){this._layout.toggle(t)},r.prototype.hide=function(t){this.tooltipHovered?this._layout.stop(!0).fadeTo(0,1):this._layout.fadeOut(400,function(){$(this).remove(),t()})},r.prototype.setSource=function(t){this.source=t},e.BarsMarksContainerPaneView=o,e.BarsMarksContainerRenderer=n,e.BarMarkTooltip=r},,,,function(t,e,i){"use strict";function o(t,e){d.call(this),this.m_model=t,this._data=e,this._paneView=new n(this,t),this.toolname="AlertLabel",this._resetUserEditEnabled(),this._resetProperties(),this.hasAlert.setValue(!0),e.on("change:id",this._resetProperties.bind(this)),e.on("change:id",this._resetUserEditEnabled.bind(this)),e.on("change:extra",this._resetUserEditEnabled.bind(this))}function n(t,e){this.m_alertLabel=t,this.m_model=e,this.m_item=null,this._invalidated=!0,this.labelWidth=10,this.m_alertLabel.alert().on("fired",this.highlight.bind(this)),this.m_alertLabel.alert().on("change:hovered",this.updateHover.bind(this))}function r(t){t.items=[t.item.points[0]],_.call(this,t)}function s(t){this.points=t.item.points,this.alert=t.item.alert,this.borderColor=t.color,this.cursor=t.cursor,this.labelWidth=t.width}function a(t){this.color=t.color,this.points=t.item.points,this.lineWidth=t.lineWidth,this.lineStyle=t.lineStyle}function l(t){this.item=t.item,this.height=t.height,this.width=t.width,this.color=t.color,this.horzLineWidth=t.lineWidth,this.connectingLineWidth=t.connectingLineWidth}var c=i(8).Point,h=i(36).max,d=i(52).DataSource,u=i(11),p=i(155).SelectionRenderer,f=i(68).PaneRendererAbstractShape,_=i(479).PaneRendererTriangleApexLeft,g=i(41).CompositeRenderer,m=i(40),v=i(93),y=i(7).DefaultProperty;inherit(o,d),o.prototype._resetUserEditEnabled=function(){var t=this._data;this._userEditEnabled=!t.isNew()&&t.isPrice()&&t.get("extra")},
o.prototype._resetProperties=function(){var t=this._data,e=t.TVSettingsPropertiesKey(),i=TVSettings.getJSON(e,{}),o=TradingView.factoryDefaults("chartproperties.alertsProperties."+(t.isNew()?"fakeLabels":"labels"));t.isNew()||(o.color=""),o.highlightColor="",o.line.style="",o.line.width="",TradingView.merge(o,i),this._properties=new y(e,o,!0)},o.prototype.data=function(){return this._data},o.prototype.alert=o.prototype.data,o.prototype.alertId=function(){return this.alert().id},o.prototype.getAlert=function(){var t=$.Deferred();return t.resolve(this.alert()),t.promise()},o.prototype.state=function(){var t=this.alert().get("extra"),e=[];return t&&t.conditionData().isChannel?(e.push({price:t.price().upper}),e.push({price:t.price().lower})):e.push({price:t.price()}),{points:e}},o.prototype.restorePoints=function(t,e){var i=this.alert().get("extra");i.conditionData().isChannel?i.price({upper:t[0].price,lower:t[1].price}):i.price(t[0].price)},o.prototype.createServerPoints=function(){},o.prototype.properties=function(){return this._properties},o.prototype.globalProperties=function(){return this.m_model.properties().alertsProperties.labels},o.prototype.paneViews=function(){return TradingView.printing?null:this.properties().visible.value()&&this.globalProperties().visible.value()?[this._paneView]:null},o.prototype.dataWindowView=function(){return null},o.prototype.priceAxisViews=function(){return null},o.prototype.statusView=function(){return null},o.prototype.updateAllViews=function(){this._paneView.update()},o.prototype.pointsCount=function(){return 0},o.prototype.title=function(){return this.alert().title()},o.prototype.startMoving=function(t,e){this._userEditEnabled=!1,this._startMovingPoint=t,this.alert().saveState()},o.prototype.move=function(t,e){var i=t.price,o=this.alert().get("extra");o.conditionData().isChannel&&(0===e?i={upper:i}:1===e&&(i={lower:i})),o.price(i),this._currentMovingPoint=t},o.prototype.endMoving=function(){function t(){setTimeout(function(){e._undoMode=!0,e.m_model._undoModel.undoHistory.undo(),e._undoMode=!1},0)}var e=this,i=this._startMovingPoint,o=this._currentMovingPoint;this._userEditEnabled=!0,delete this._startMovingPoint,delete this._currentMovingPoint,i&&o&&i!==o&&!this._undoMode&&TradingView.alertsDispatcher.openEditDialog(this.alert(),{onEditCancel:t})},o.prototype.showInObjectTree=function(){return!1},o.prototype.isRemovedByStudyTemplates=function(){return!1},o.prototype.isUserDeletable=function(){return!1},n.prototype.update=function(){this._invalidated=!0},n.prototype.invalidate=function(){this.m_model.invalidate(new m(m.FULL_UPDATE))},n.prototype.highlight=function(){var t=function(){this._highlighted=!0,this.update(),this.invalidate(),setTimeout(e,500)}.bind(this),e=function(){this._highlighted=!1,this.update(),this.invalidate()}.bind(this);t(),setTimeout(t,1e3)},n.prototype.updateHover=function(t,e){this._hovered=!!e,this.update(),this.invalidate()},n.prototype._updateImpl=function(){
var t,e,i,o,n,r=this,s=this.m_alertLabel.alert(),a=s.get("extra"),l=a&&a.getMainSeries(),h=l&&l.getStyle&&l.getStyle(),d=this.m_model.mainSeries(),p=d&&d.properties(),f=p&&p.style&&p.style.value(),_=s.isPrice()&&(s.get("resolution")===v.interval.value()||s.get("crossInterval"))&&(!s.isJapaneseStyle()&&!d.isJapaneseStyle()||h===f),g=[],m=-1,y=function(t){if(r.m_alertLabel.priceScale().isPercent()){var e=r.m_model.paneForSource(r.m_alertLabel).mainDataSource().firstValue();t=r.m_alertLabel.priceScale().priceRange().convertToPercent(t,e)}return r.m_alertLabel.priceScale().priceToCoordinate(t)};if(!_)return void(this.m_item=null);t=this.m_model.paneForSource(this.m_alertLabel).width()-this.labelWidth/2+m,e=s.get("extra").price(),s.get("extra").conditionData().isChannel?(i=y(e.upper),o=y(e.lower),g.push(new c(t,i)),g.push(new c(t,o))):(n=y(e),g.push(new c(t,n))),this.m_item={alert:s,points:g},this.m_alertLabel===this.m_model.selectedSource()?this._selectionData={points:g,hittestResult:u.MOVEPOINT}:this._selectionData=null},n.prototype.color=function(){return this._highlighted?this.m_alertLabel.globalProperties().highlightColor.value():this.m_alertLabel.properties().color.value()||this.m_alertLabel.globalProperties().color.value()},n.prototype.renderer=function(){var t,e,i,o,n,c,h;if(this._invalidated&&(this._updateImpl(),this._invalidated=!1),this.m_item)return t=this.m_alertLabel,e=this.m_model,i=this.m_item.alert,o={},o.item=this.m_item,o.barSpacing=e.timeScale().barSpacing(),o.height=this._hovered?12:10,o.width=this._hovered?this.labelWidth+2:this.labelWidth,o.connectingLineWidth=this._hovered?3:1,o.color=this.color(),o.lineWidth=(t.properties().line.width.value()||t.globalProperties().line.width.value())+(this._hovered?2:0),o.lineStyle=t.properties().line.style.value()||t.globalProperties().line.style.value(),o.cursor=e.crossHairSource(),n=new g,i.get("extra").conditionData().isChannel?n.append(new l(o)):n.append(new r(o)),t.properties().line.visible.value()&&t.globalProperties().line.visible.value()&&n.append(new a(o)),c=t===e.hoveredSource(),c&&n.append(new s(o)),h=t===e.selectedSource(),h&&n.append(new p(this._selectionData)),n},inherit(r,_),r.prototype.hitTest=function(t){return f.prototype.hitTest.call(this,t,u.CUSTOM)},s.prototype.draw=function(t){var e=function(t,e,i){var o,n,r,s,a,l,d,u,p,f,_,g,m,v=1,y=12,b=8,w=20,S=20,T=5,x=[$.t("Alert: ")+this.alert.get("description")];for(t.font=y+"px Arial, sans-serif",n=2*w+h($.map(x,function(e){return t.measureText(e).width||0})),r=x.length*y+2*b+(x.length-1)*b,s=2===this.points.length,s?(a=this.points[0],l=this.points[1],p=this.cursor.x<a.x-this.labelWidth,p?(d=this.cursor.x,u=Math.abs(l.y-this.cursor.y)<Math.abs(a.y-this.cursor.y)?l.y:a.y):(d=a.x,u=this.cursor.y,u=Math.min(l.y,u),u=Math.max(a.y,u)),o=new c(d,u)):o=new c(this.cursor.x,this.points[0].y),f={x:o.x-S-T-n,y:o.y-r/2},t.lineWidth=v,t.strokeStyle=this.borderColor,t.fillStyle=e,t.translate(f.x,f.y),t.beginPath(),t.moveTo(0,0),t.lineTo(n,0),t.lineTo(n,r/2-T),t.lineTo(n+T,r/2),t.lineTo(n,r/2+T),t.lineTo(n,r),
t.lineTo(0,r),t.lineTo(0,0),t.stroke(),t.fill(),t.textBaseline="bottom",t.fillStyle=i,_=0,g=w,m=0;m<x.length;m++)_+=b+y,t.fillText(x[m],g,_);t.translate(-f.x,-f.y)}.bind(this);i.e(16).then(i.bind(null,236)).then(function(i){var o=i.setThemedColor,n=o("color-alert-bg"),r=o("color-alert-text");e(t,n,r)})},s.prototype.hitTest=function(){return null},a.prototype.draw=function(t){var e,i,o;for(t.lineWidth=this.lineWidth,t.strokeStyle=this.color,CanvasEx.setLineStyle(t,this.lineStyle),o=0;o<this.points.length;o++)i=this.points[o].y,e=this.points[o].x,t.beginPath(),t.moveTo(e,i),t.lineTo(0,i),t.stroke()},a.prototype.hitTest=function(t){var e,i,o;for(o=0;o<this.points.length;o++)if(e=this.points[o].y,Math.abs(e-t.y)<=3)return i=o,new u(u.MOVEPOINT,i);return null},l.prototype._claculateTriangleHeight=function(t,e){var i=this.height;return t.y<=e.y&&(i=Math.min(i,Math.abs(t.y-e.y)/2)),i},l.prototype.draw=function(t){var e=this.item.points[0],i=this.item.points[1],o=this._claculateTriangleHeight(e,i),n=this.width,r=this.connectingLineWidth,s=this.horzLineWidth/2;t.fillStyle=this.color,t.strokeStyle=this.color,t.lineWidth=r,t.beginPath(),t.moveTo(e.x-n/2,e.y-s),t.lineTo(e.x+n/2,e.y-s),t.lineTo(e.x+n/2,e.y+o),t.closePath(),t.fill(),t.beginPath(),t.moveTo(i.x-n/2,i.y+s),t.lineTo(i.x+n/2,i.y+s),t.lineTo(i.x+n/2,i.y-o),t.closePath(),t.fill(),i.y<e.y||(t.beginPath(),t.moveTo(i.x+n/2,i.y),t.lineTo(e.x+n/2,e.y),t.stroke())},l.prototype.hitTest=function(t){var e,i,o,n=this.item.points[0],r=this.item.points[1],s=this.width,a=this._claculateTriangleHeight(n,r),l=n.x-s/2<=t.x&&t.x<=n.x+s/2&&n.y<=t.y&&t.y<=n.y+a,c=r.x-s/2<=t.x&&t.x<=r.x+s/2&&r.y-a<=t.y&&t.y<=r.y;return l?e=0:c&&(e=1),i=3,o=Math.abs(t.x-(n.x+s/2))<=i&&n.y<=t.y&&t.y<=r.y,void 0!==e?new u(u.CUSTOM,e):o?new u(u.REGULAR):null},t.exports=o},,,,,,,,,,,,function(t,e,i){"use strict";var o,n=i(9).assert,r=i(55),s=r.rgba,a=r.rgbaToString,l=r.parseRgb,c=i(771),h=i(287),d=i(231),u=i(445),p=i(1).LineDataSource,f=i(132).StudyLineDataSource,_=i(87).LineToolBarsPattern,g=i(87).LineToolCallout,m=i(891),v=i(34),y=v.Study,b=v.prepareStudyPropsStateForLoadChart,w=v.prepareStudyPropertiesForLoadChart,S=v.createStudy,T=i(145),x=i(32),P=i(7).DefaultProperty,C=i(39),M=i(3),k=i(0).getLogger("Chart.Serialization"),L=i(197),I=i(112),A=i(27).ProductFeatures,R=i(43),D=i(87).LineToolParallelChannel,E=i(87).LineToolTrendAngle,O=i(87).LineToolGhostFeed,V=i(87).LineToolElliott,B=i(52).PriceDataSource,z=i(286),F=i(40),N=i(33);c.version=2,c.prototype.state=function(t,e){var i,o,n,r={};for(r.panes=[],i=0;i<this.panes().length;i++)r.panes.push(this.panes()[i].state(!0,t,!1,e));return r.timeScale=this.m_timeScale.state(t),o=null,o=this.publishedChartsTimelineSource(),n=this.properties(),r.chartProperties={paneProperties:n.paneProperties.state(),scalesProperties:n.scalesProperties.state(),publishedChartsTimelineProperties:o?o.state(t):void 0,chartEventsSourceProperties:n.chartEventsSourceProperties.state()},
n.chartEventsSourceProperties&&(r.chartProperties.chartEventsSourceProperties=n.chartEventsSourceProperties.state()),r.version=c.version,r.timezone=this.timezone(),r},c.prototype.asyncState=function(t){return this.publishedChartsTimelineSource().asyncState(t).pipe(function(t){var e={};return e.chartProperties={publishedChartsTimelineProperties:t},e})},c.prototype.chartPropertiesTransparencyMigrate=function(t){var e,i,o;t.chartProperties.paneProperties.crossHairProperties&&(o=t.chartProperties.paneProperties.crossHairProperties,N.isHexColor(o.color)&&(i=o.transparency/100,e=l(o.color),o.color=a(s(e,i)))),t.chartProperties.paneProperties.dataWindowProperties&&(o=t.chartProperties.paneProperties.dataWindowProperties,N.isHexColor(o.color)&&(i=o.transparency/100,e=l(o.color),o.color=a(s(e,i))))},c.prototype.resetDeferredStudies=function(){new o(this).reset()},c.prototype._getExceedingChildStudies=function(t){var e,i,o,n,r,s,a,l,c=[];for(e=0;e<t.length;++e)c=c.concat(t[e].sources||[]);for(i=0,o=1,o=M.getConfig(A.STUDY_ON_STUDY).child_limit,n=[],r={},s=0,a=1e6;c.length&&--a;)l=c[s],(l.ownerSource&&r[l.ownerSource]||!l.ownerSource)&&(r[l.id]=l,c.splice(c.indexOf(l),1),l.ownerSource&&"Study"===l.type&&l.state&&l.state.isChildStudy&&++i>o&&n.push(l)),s=(s+1)%c.length;return n},c.prototype.restoreState=function(t,e){var i,n,r,s,a,l,c,h,d,u,f,_;if(new o(this).reset(),i={},!t.panes)return void k.logDebug("ChartModel.restoreState: invalid state");if(!Array.isArray(t.panes))return void k.logDebug("ChartModel.restoreState: invalid state");if(t.panes.length<1)return void k.logDebug("ChartModel.restoreState: invalid state");if(t.chartProperties&&!t.chartProperties.timezone&&(t.chartProperties.timezone=t.timezone),t.chartProperties&&(n=TradingView.factoryDefaults("chartproperties").scalesProperties,TradingView.merge(n,t.chartProperties.scalesProperties),!("showLastValue"in n)||"showSeriesLastValue"in n||"showStudyLastValue"in n||(n.showSeriesLastValueProperty=n.showLastValue,n.showStudyLastValueProperty=n.showLastValue),"showSeriesLastValue"in n&&(i.showSeriesLastValueProperty=!0),"showStudyLastValue"in n&&(i.showStudyLastValueProperty=!0),t.chartProperties.paneProperties.vertGridProperties=t.chartProperties.paneProperties.vertGridProperties||TradingView.clone(t.chartProperties.paneProperties.gridProperties),t.chartProperties.paneProperties.horzGridProperties=t.chartProperties.paneProperties.horzGridProperties||TradingView.clone(t.chartProperties.paneProperties.gridProperties),this._properties.paneProperties.merge(t.chartProperties.paneProperties),this._properties.scalesProperties.merge(n),t.chartProperties.timezone&&this._properties.timezone.setValue(t.chartProperties.timezone),t.chartProperties.chartEventsSourceProperties&&this._properties.chartEventsSourceProperties&&this._properties.chartEventsSourceProperties.merge(t.chartProperties.chartEventsSourceProperties),this.m_timeScale.restoreState(t.timeScale,e)),t.timeScale&&this.m_timeScale.restoreState(t.timeScale,e),!this.readOnly()&&(r=this._getExceedingChildStudies(t.panes),
r.length)){for(s=t.panes.length-1;s>=0;--s){for(a=t.panes[s],l=a.sources.length-1;l>=0;--l)c=a.sources[l],~r.indexOf(c)&&a.sources.splice(l,1);a.sources.length||t.panes.splice(s,1)}setTimeout(function(){R.createGoProDialog({feature:"studyOnStudy"}).then(function(t){t.open()})},500)}for(h=t.panes,this.panes()[0].restoreState(h[0],e,t.version,i),s=1;s<t.panes.length;s++)a=this.panes()[s]||this.createPane(),a.restoreState(t.panes[s],e,t.version,i);for(t.chartProperties&&t.chartProperties.publishedChartsTimelineProperties&&this.publishedChartsTimelineSource().restoreData(t.chartProperties.publishedChartsTimelineProperties,e),this._invalidateBarColorerCaches(),d=this.dataSources(),u=0,s=0;s<d.length;s++)f=d[s],TradingView.isInherited(f.constructor,p)&&(u++,f.calcIsActualSymbol());return this._version=t.version,this.updateTimeScaleBaseIndex(),this.recalculateAllPanes(),this.invalidate(new F(F.FULL_UPDATE)),_=TVLocalStorage.getItem("linetools_limit")||1e3,window.is_authenticated&&window.user&&window.user.settings&&(_=window.user.settings.linetools_limit||_),u>_?{lines_limit_exceeded:!0,line_tools_count:u}:{}},z.prototype.state=function(t,e,i,o){function n(t){return i&&!t.isSavedInStudyTemplates()||t instanceof L||!t.state||!t.state()||!t.isSavedInChart(e)||o&&t.isActualSymbol&&!t.isActualSymbol()}var r,s,a={};if(t)for(a.sources=[],r=0;r<this.m_dataSources.length;r++)n(this.m_dataSources[r])||a.sources.push(this.m_dataSources[r].state(e));for(a.leftAxisState=this.m_leftPriceScale.state(),a.leftAxisState.m_isLockScale&&null!==this._lastLeftPriceScaleRatio&&(a.leftPriceScaleRatio=this._lastLeftPriceScaleRatio),a.leftAxisSources=[],r=0;r<this.m_leftPriceScale.dataSources().length;r++)n(this.m_leftPriceScale.dataSources()[r])||a.leftAxisSources.push(this.m_leftPriceScale.dataSources()[r].id());for(a.rightAxisState=this.m_rightPriceScale.state(),a.rightAxisState.m_isLockScale&&null!==this._lastRightPriceScaleRatio&&(a.rightPriceScaleRatio=this._lastRightPriceScaleRatio),a.rightAxisSources=[],r=0;r<this.m_rightPriceScale.dataSources().length;r++)n(this.m_rightPriceScale.dataSources()[r])||a.rightAxisSources.push(this.m_rightPriceScale.dataSources()[r].id());for(a.overlayPriceScales={},r=0;r<this.m_dataSources.length;r++)s=this.m_dataSources[r],this.isOverlay(s)&&s.isSavedInChart(e)&&(a.overlayPriceScales[s.id()]=s.priceScale().state());return a.stretchFactor=this._stretchFactor,this.m_mainDataSource&&(a.mainSourceId=this.m_mainDataSource.id()),a},z.prototype.sourceById=function(t){for(var e=0;e<this.m_dataSources.length;e++)if(this.m_dataSources[e].id()===t)return this.m_dataSources[e];return null},z.prototype.isESDStudy=function(t){return"Script$TV_EARNINGS@tv-scripting"===t.id||"Script$TV_DIVIDENDS@tv-scripting"===t.id||"Script$TV_SPLITS@tv-scripting"===t.id||"ESD$TV_EARNINGS@tv-scripting"===t.id||"ESD$TV_DIVIDENDS@tv-scripting"===t.id||"ESD$TV_SPLITS@tv-scripting"===t.id},z.prototype.isStudyToSkip=function(t){return!!this.isESDStudy(t)},z.prototype.restoreState=function(t,e,i,o){var n,r,s,a,l,c,d,u,f,_,g,m,v,b,w;if(o=o||{},
!t.leftAxisState||!t.rightAxisState)throw Error("invalid state");if(!t.leftAxisSources||!t.rightAxisSources)throw Error("invalid state");if(t.stretchFactor&&(this._stretchFactor=t.stretchFactor),n={},t.sources)for(r=-1!==this.m_dataSources.indexOf(this._model.mainSeries()),this.clearSeries(),this.m_mainDataSource=null,r&&this.m_dataSources.push(this._model.mainSeries()),s=this.getZOrderMinMax(),a=s.minZOrder,l=s.maxZOrder,c=0;c<t.sources.length;c++)d=t.sources[c],u=d.type,Math.abs(d.zorder)>1e200?(f=a-1,k.logWarn("Datasource zorder has bad value: "+d.zorder+" Resetting it to "+f),d.zorder=f):this.isZOrderAvailable(d.zorder)||r&&"MainSeries"===u&&this._model.mainSeries().zorder()===d.zorder||(d.zorder=l+1),_=d.id,n[_]=d.ownerSource,u&&("MainSeries"===u?this._restoreMainSeries(d,e,r,o):u.toLowerCase().startsWith("study")?this._restoreStudy(d,e,o):TradingView.isInherited(TradingView[u],p)?this._restoreLineTool(d,e):TradingView[u]&&TradingView[u].createFromState&&this._restoreSpecialSource(d,e)),a=Math.min(a,d.zorder),l=Math.max(l,d.zorder);for(this.m_leftPriceScale.dataSources().splice(0,1/0),this.m_leftPriceScale._hasSeries=!1,g=defaults("chartproperties").paneProperties.leftAxisProperties,TradingView.merge(g,t.leftAxisState),this.m_leftPriceScale.restoreState(g),void 0!==t.leftPriceScaleRatio&&(this._lastLeftPriceScaleRatio=t.leftPriceScaleRatio),c=0;c<t.leftAxisSources.length;c++)(m=this.dataSourceForId(t.leftAxisSources[c]))&&(void 0!==g.m_showSymbolLabels&&m instanceof T&&this.model().properties().scalesProperties.showSymbolLabels.setValue(g.m_showSymbolLabels),m.setPriceScale(this.m_leftPriceScale),this.m_leftPriceScale.addDataSource(m));for(this.m_rightPriceScale.dataSources().splice(0,1/0),this.m_rightPriceScale._hasSeries=!1,g=defaults("chartproperties").paneProperties.rightAxisProperties,TradingView.merge(g,t.rightAxisState),this.m_rightPriceScale.restoreState(g),void 0!==t.rightPriceScaleRatio&&(this._lastRightPriceScaleRatio=t.rightPriceScaleRatio),c=0;c<t.rightAxisSources.length;c++)(m=this.dataSourceForId(t.rightAxisSources[c]))&&(void 0!==g.m_showSymbolLabels&&m instanceof T&&this.model().properties().scalesProperties.showSymbolLabels.setValue(g.m_showSymbolLabels),m.setPriceScale(this.m_rightPriceScale),this.m_rightPriceScale.addDataSource(m));for(c=0;c<this.m_dataSources.length;c++)m=this.m_dataSources[c],-1===this.m_rightPriceScale.dataSources().indexOf(m)&&-1===this.m_leftPriceScale.dataSources().indexOf(m)?(m._isOverlay=!0,v=new h(this._model.properties().scalesProperties),v.setHeight(this.m_height),v.setTopMargin(this.m_rightPriceScale.topMargin()),v.setBottomMargin(this.m_rightPriceScale.bottomMargin()),v.addDataSource(m),t.overlayPriceScales&&t.overlayPriceScales[m.id()]&&(g=t.overlayPriceScales[m.id()],g.m_isAutoScale=!0,g.m_isLog=!1,g.m_isPercentage=!1,g.m_isLockScale=!1,v.restoreState(g)),m.setPriceScale(v)):m._isOverlay=!1;for(_ in n)(b=n[_])&&(m=this.sourceById(_))&&this.sourceById(_).setOwnerSource(this.sourceById(b))
;if(t.mainSourceId&&!this.m_mainDataSource&&(this.m_mainDataSource=this.dataSourceForId(t.mainSourceId)),!this.m_mainDataSource)for(c=0;c<this.m_dataSources.length;c++)if(m=this.m_dataSources[c],TradingView.isInherited(m.constructor,B)){this.m_mainDataSource=m;break}for(c=0;c<this.m_dataSources.length;c++)m=this.m_dataSources[c],TradingView.isInherited(m.constructor,p)?(m.ownerSource()||m.setOwnerSource(this.mainDataSource()),m.isFixed()&&m.restoreFixedPoints(),1===i&&m.priceScale().isPercent()&&!m.isFixed()&&m.correctPricesToPercents(),m.fixAfterRestorePriceAxis&&m.fixAfterRestorePriceAxis()):TradingView.isInherited(m.constructor,y)&&(w=m.properties(),w.linkedToSeries&&w.linkedToSeries.value()&&(m.ownerSource()||m.setOwnerSource(this.model().mainSeries())));this._updateMargins(),this._cachedOrderedSoruces=null,this._cachedHitTestSources=null},z.prototype._restoreMainSeries=function(t,e,i,o){var n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y=t.id,b=t.state,w=t.zorder;if(b&&["candleStyle","hollowCandleStyle","haStyle"].forEach(function(t){b[t]&&(b[t].wickUpColor=b[t].wickUpColor||b[t].wickColor,b[t].wickDownColor=b[t].wickDownColor||b[t].wickColor)}),i||(n=this._model.paneForSource(this._model.mainSeries()),n.removeDataSource(this._model.mainSeries()),this.m_dataSources.push(this._model.mainSeries())),this.m_mainDataSource=this._model.mainSeries(),r=b&&b.style?b.style:void 0,r===T.STYLE_PNF&&"ATR"===this._model.mainSeries().properties().pnfStyle.inputs.style.value()?this._model.mainSeries().properties().pnfStyle.inputs.style._value="Traditional":r===T.STYLE_RENKO&&"ATR"===this._model.mainSeries().properties().renkoStyle.inputs.style.value()&&(this._model.mainSeries().properties().renkoStyle.inputs.style._value="Traditional"),b&&!b.hasOwnProperty("showSessions")&&(b.showSessions=!1),b&&!b.extendedHours&&(b.extendedHours=!1),b&&e&&(b.showCountdown=!1),b&&(e&&!("showSeriesLastValueProperty"in o)&&"showLastValue"in b&&this._model.properties().scalesProperties.showSeriesLastValue.setValue(b.showLastValue),delete b.showLastValue),b)for(s={haStyle:"BarSetHeikenAshi@tv-basicstudies-60",renkoStyle:"BarSetRenko@tv-prostudies-15",pbStyle:"BarSetPriceBreak@tv-prostudies-15",kagiStyle:"BarSetKagi@tv-prostudies-15",pnfStyle:"BarSetPnF@tv-prostudies-15"},a=this._model.studyVersioning(),l=this._model.mainSeries().styleStudyInfos(),c=Object.keys(x.SYMBOL_STRING_DATA),h=0;h<c.length;h++)r=c[h],d=x.STYLE_SHORT_NAMES[r]+"Style",u=d in t?t[d].studyId:s[d],null!=(r=b[d])&&(p=r.inputs,f=C.parseIdString(u),_=l[d].studyId,g=C.parseIdString(_),m=a.updateStudyInputs(f.id,f.version,g.version,p,null),r.inputs=m);this._model.mainSeries().clearSessionStudy(),this._model.mainSeries().properties().merge(b),this._model.mainSeries()._prevChartStyle=this._model.mainSeries().properties().style.value(),this._model.mainSeries().createPaneView(),this._model.mainSeries().setId(y),e&&this._model.mainSeries().restoreData(t.bars,t.nsBars,t.symbolInfo,t.rtPrice,t.boxSize,t.reversalAmount),void 0!==w&&this._model.mainSeries().setZorder(w),
this._model.mainSeries().properties().extendedHours.listeners().fire(this._model.mainSeries().properties().extendedHours),(v=this._model.mainSeries().symbolInfo())&&this._model.mainSeries().onSymbolResolved().fire(this._model.mainSeries().symbolInfo())},z.prototype._restoreStudy=function(t,e,i){var n,r,s,a,l,c,h,u,p,f;return e&&void 0===t.data&&void 0===t.nonSeriesData&&void 0===t.indexes?void k.logError("Cannot restore (skipping) study without data "+t.id+", "+t.metaInfo.id):(n=t.id,r=t.state,s=t.zorder,a=t.ownerSource,l=TradingView.clone(t.metaInfo),$.extend(l,C.parseIdString(l.id)),this.isStudyToSkip(l)&&!e?void k.logNormal("Skipping study "+l.id):(c=r,h=this._model.studyVersioning(),u=h.patchPropsStateAndMetaInfo(c,l,{oldShowStudyLastValueProperty:e&&!i.showStudyLastValueProperty}),c=u.propsState,l=u.metaInfo,p=new d(this._model,t,l.shortDescription),p.setId(n),f=this,h.updateMetaInfoAsync(l,e).done(function(i){function r(o){var r,a=w(l,i,c,null,h,o),d=S(f._model,a,o||f._model.mainSeries(),s);d.setId(n),e&&(r=h.patchStudyData(l,t.data,t.nonSeriesData,t.indexes),d.restoreData(r.data,r.nsData,r.indexes)),f._model.replaceStudyStub(p,d)||(p=d),_.add(n,d)}var s,d,u,_,g;p.setStatus(""),s=i||l,s.isTVScript&&!e&&(d=C.parseIdString(s.fullId||s.id),u=d.productId,pro.hasPackage(u)||(s=I.createScriptStubNoSrc("Error: '"+s.shortDescription+"' is not authorized",s.scriptIdPart),$.extend(s,C.parseIdString(s.id)),l=s,i=s,c={})),_=new o(f._model),g=a&&t.state.isChildStudy,g?_.get(a).done(r):r()}).fail(function(t){p.setStatus("error: "+t),p.setFailed(!0)}),p&&this.m_dataSources.push(p),delete this._cachedOrderedSoruces,delete this._cachedHitTestSources,p&&void 0!==s&&p.setZorder(s),p))},z.prototype._restoreLineTool=function(t,e,i){var o,r,s,a,l,c,h,v,y,w,S,T,x,k,L,I,A,R,B,z,F,N,H;for(i=void 0===i||i,V.migrateState(t),m.migrateState(t),o=t.type,r=t.id,s=t.state,a=i?t.zorder:this._newZOrderForLineTool(),l=TradingView[o],n(TradingView.isInherited(l,p),"invalid data source type:"+o+" (expected to be a Line Tool)"),c=t.points,h=!1,v=0;v<c.length;v++)if(Math.abs(c[v].offset)>1e4){h=!0;break}if(!h){if(y=null,w=TradingView.factoryDefaults("linetool"),TradingView.isInherited(l,f)){if(y=this._model.studyVersioning(),t=y.patchPointsBasedStudyState(t),TradingView.merge(w,s),x=t.metaInfo,$.extend(x,C.parseIdString(x.fullId)),!e&&(k=x.productId,!pro.hasPackage(k)))return L=new d(this._model,t,x.shortDescription),L.setId(r),this.m_dataSources.push(L),void 0!==a&&L.setZorder(a),L.setStatus($.t("not authorized")),void L.setFailed(!0);I=y.updateMetaInfo(x),A=I||x,w=b(A,x,w,null,y),e?TradingView.merge(w,{fixedSize:!1}):TradingView.merge(w,{fixedSize:!0}),T=new P("study_"+A.id,w,!0),S=u.create(o,this._model,T,A,this.mainDataSource())}else R=o.toLowerCase(),TradingView.merge(w,TradingView.factoryDefaults(R)),T=TradingView[o].prototype.createPropertiesObject(R,w),T.merge(s),e?T.merge({fixedSize:!1}):T.merge({fixedSize:!0}),S=new TradingView[o](this._model,T,!0);return S.setId(r),S.linkKey=t.linkKey,B=t.alertId,
B&&"function"==typeof S.setAlert&&M.enabled("alerts")&&!this._model.readOnly()&&!this._model.isJustClonedChart()&&S.setAlert(B,{noChartSave:!0}),z=t.indexes?t.indexes:[],z=z.slice(0,t.points.length),S.isFixed()?S.restorePositionPercents(t.positionPercents):S.restorePoints(t.points,z,e),S instanceof _||S instanceof g||S instanceof E||S instanceof O||S instanceof D?S.restoreData(t):e&&S.restoreData&&(F=t,y&&(F.graphics=y.patchPointsBasedStudyData(F.metaInfo,F.graphics)),S.restoreData(F)),N=null==t.version?1:t.version,H=null==S.version?1:S.version,N!==H&&"function"==typeof S.migrateVersion&&S.migrateVersion(N,H,{pane:this,model:this._model,properties:T}),this.m_dataSources.push(S),delete this._cachedOrderedSoruces,delete this._cachedHitTestSources,void 0!==a&&S.setZorder(a),S}},z.prototype._restoreSpecialSource=function(t,e){var i,o=TradingView[t.type];o&&o.createFromState&&(i=o.createFromState(t,e,this._model))&&(i.setId(t.id),this.m_dataSources.push(i),i.zorder&&i.setZorder(i.zorder))},c.prototype.studyTemplate=function(t){var e,i,o,n,r={};for(r.panes=[],e=0;e<this.panes().length;e++)i=!0,o=!1,n=!0,r.panes.push(this.panes()[e].state(i,o,n));return t&&(r.interval=this.mainSeries().interval()),r.version=c.version,r},c.prototype.restoreStudyTemplate=function(t,e){this._undoModel.studyLoadTemplate(this._undoModel,this.studyTemplate(),t,e)},c.prototype.theme=function(){var t={};return t.chartProperties={paneProperties:this.properties().paneProperties.state(),scalesProperties:this.properties().scalesProperties.state(),symbolWatermarkProperties:this.properties().symbolWatermarkProperties.state()},t.mainSourceProperties=this.mainSeries().state().state,delete t.mainSourceProperties.symbol,delete t.mainSourceProperties.interval,delete t.chartProperties.paneProperties.topMargin,delete t.chartProperties.paneProperties.bottomMargin,t.version=c.version,t},c.prototype.restoreTheme=function(t){var e,i,o={hollowCandle:{related:"candle"}};for(e in o)t.mainSourceProperties[e+"Style"]||(i=t.mainSourceProperties[o[e].related+"Style"],t.mainSourceProperties[e+"Style"]=TradingView.clone(i));this._undoModel.chartLoadTheme(this,t)},o=function(){function t(o){var n=e.indexOf(o);return~n?i[n]:this instanceof t?(this._source=o,this._studies={},this._deferreds={},e.push(o),void i.push(this)):new t(o)}var e=[],i=[];return t.prototype.add=function(t,e){this._deferreds[t]&&(this._deferreds[t].resolve(e),delete this._deferreds[t]),this._studies[t]=e},t.prototype.get=function(t){return this._studies[t]?$.Deferred().resolve(this._studies[t]):(this._deferreds[t]||(this._deferreds[t]=$.Deferred()),this._deferreds[t].promise())},t.prototype.reset=function(){var t=e.indexOf(this._source);~t&&(e.splice(t,1),i.splice(t,1))},t}(),t.exports=c},,,,,,,,function(t,e,i){"use strict";function o(t){var e=(""+t).match(/(.*)([DWM])/);return e?e[1]+$.t(e[2],{context:"interval_short"}):t}Object.defineProperty(e,"__esModule",{value:!0}),i(5),e.translatedIntervalString=o},function(t,e,i){"use strict";function o(){var t,e,i,o;this._registeredSources={},
this._sourcesToRow={},this._rowsToSources={},this._currentSymbol="",this._actualCapacity=0,this._actualWidth=0,this._canvas=$("<canvas>"),this._cache=this._canvas.get(0).getContext("2d"),this._currentWidth=400,this._canvas.prop("width",this._currentWidth).prop("height",1).css("position","absolute").css("top",0).css("z-index",1e3).css("left",0),this._ctx=this._canvas.get(0).getContext("2d"),this._ctx.font=d.fontSize+"px"+d.font,t=d.fontSize,e=d.lineSpacing,i=t+e,o=3,this._padding=8,this._rowHeight=i*o-e+2*this._padding+2}function n(t,e){this._constructor="LineToolTrendLine";var n=e||new a("linetooltrendline");s.call(this,t,n),t._trendLineStatsCache||(t._trendLineStatsCache=new o),i.e(11).then(function(t){var e=i(1205).TrendLinePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(8).Point,s=i(1).LineDataSource,a=i(7).DefaultProperty,l=i(2).propertyPages,c=i(0).getLogger("Chart.LineToolTrendLine"),h=i(649).TrendLineStatsRenderer,d=i(634).LabelSettings;o.prototype.canvas=function(){return this._canvas},o.prototype.topByRow=function(t){return t*this._rowHeight},o.prototype.rowHeight=function(t){return this._rowHeight},o.prototype.rowWidth=function(t){var e=this._rowsToSources[t];return this._sourcesToRow[e].width},o.prototype.currentWidth=function(){return this._currentWidth},o.prototype._findEmptyRow=function(t){for(var e=0;this._rowsToSources[e];)e++;return this._rowsToSources[e]=t,e>=this._actualCapacity&&(this._actualCapacity++,TradingView.resizeCanvas(this._canvas,this._currentWidth,this._rowHeight*this._actualCapacity),this._ctx=this._canvas.get(0).getContext("2d"),c.logDebug("TrendLineCache. Expanging cache to "+this._actualCapacity+" items")),e},o.prototype._effectiveState=function(t){var e,i={};return i.p1=$.extend({},t.points()[0]),i.p2=$.extend({},t.points()[1]),e=t.properties(),i.showBars=e.showBarsRange.value(),i.showTimeRange=e.showDateTimeRange.value(),i.showDistance=e.showDistance.value(),i.showPriceRange=e.showPriceRange.value(),i.showAngle=e.showAngle.value(),i.color=e.textcolor.value(),i.showAngle&&(i.priceRange=t.priceScale().priceRange().state(),i.barSpacing=t._model.timeScale().barSpacing()),i},o.prototype._effectiveStatesEquals=function(t,e){var i=function(t,e){return!(!t&&!e)&&(!(!t||e)||(!(t||!e)||(t.index!==e.index||t.price!==e.price)))};if(t&&!e)return!1;if(!t&&e)return!1;if(i(t.p1,e.p1))return!1;if(i(t.p2,e.p2))return!1;if(t.color!==e.color)return!1;if(t.showBars!==e.showBars)return!1;if(t.showTimeRange!==e.showTimeRange)return!1;if(t.showDistance!==e.showDistance)return!1;if(t.showPriceRange!==e.showPriceRange)return!1;if(t.showAngle!==e.showAngle)return!1;if(t.showAngle){if(t.priceRange.min!==e.priceRange.min)return!1;if(t.priceRange.max!==e.priceRange.max)return!1;if(t.barSpacing!==e.barSpacing)return!1}return!0},o.prototype.removeSource=function(t){if(this._sourcesToRow[t]){var e=this._sourcesToRow[t].row;this._ctx.save(),this._ctx.clearRect(0,this.topByRow(e),this._currentWidth,this.rowHeight(e)),this._ctx.restore(),
delete this._sourcesToRow[t],delete this._rowsToSources[e]}},o.prototype._repaintSource=function(t,e,i){var o,n;this._ctx.save(),this._ctx.translate(0,this.topByRow(e)+.5),i.points[0]=new r(0,0),i.offsetX=0,i.offsetY=0,delete i.horzAlign,delete i.vertAlign,this._ctx.clearRect(0,0,this._currentWidth,this.rowHeight(e)),o=new h(i,{}),n=o.draw(this._ctx),this._sourcesToRow[t].width=n.width,this._ctx.restore()},o.prototype.updateSource=function(t,e){var i,o,n,r,s,a=t.properties().symbol.value();return this._currentSymbol!==a&&(c.logDebug("TrendLineCache. Clearing canvas because of changing symbol from "+this._currentSymbol+" to "+a),this._currentSymbol=a,this._sourcesToRow={},this._rowsToSources={}),i=t.id(),this._sourcesToRow[i]||(o=this._findEmptyRow(i),this._sourcesToRow[i]={effectiveState:null,row:o}),n=this._sourcesToRow[t.id()].effectiveState,r=this._effectiveState(t),this._effectiveStatesEquals(n,r)||(o=this._sourcesToRow[t.id()],s=e(),this._repaintSource(i,o.row,s),this._sourcesToRow[i].effectiveState=r),this._sourcesToRow[i]},inherit(n,s),n.prototype.stop=function(){s.prototype.stop.call(this),this._model._trendLineStatsCache.removeSource(this.id())},n.prototype.pointsCount=function(){return 2},n.prototype.title=function(){return"Trend Line"},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){return[this._linePointsToAlertPlot(this._points,null,this.properties().extendLeft.value(),this.properties().extendRight.value())]},n.prototype.getStylesPropertyPage=function(){return l.LineToolTrendLineStylesPropertyPage},e.LineToolTrendLine=n},function(t,e,i){"use strict";function o(t,e){var i,o;return e.isPercentage()?null===(i=e.mainSource())?null:(o=i.firstValue(),null===o||void 0===o?null:t.convertFromPercents(o).length()):t.length()}function n(t){var e,i;return t.isEmpty()?null:null===(e=t.priceRange())?null:(i=o(e,t),null===i?null:t.internalHeight()/i)}function r(t,e){var i,o,r;return t.isEmpty()||e.isEmpty()?null:null===(i=n(e))?null:(o=t.getValidBarSpacing(),r=Math.max(c,i),o/r)}function s(t,e,i){var n,r,s,a;return null===i||t.isEmpty()?null:null===(n=t.priceRange())||n.isEmpty()?null:(r=t.internalHeight()/(e/i),null===(s=o(n,t))?null:r===s?n:(a=(r-s)/2,new l(n.minValue()-a,n.maxValue()+a)))}function a(t,e){var i,n;return null===e||t.isEmpty()?null:null===(i=t.priceRange())?null:(n=o(i,t),null===n?null:t.internalHeight()/n*e)}var l,c;Object.defineProperty(e,"__esModule",{value:!0}),l=i(79),c=1e-10,e.scaleRatio=r,e.priceRangeByScaleRatio=s,e.barSpacingByScaleRatio=a},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolPitchfork";var i=e||this.createPropertiesObject("linetoolpitchfork");n.call(this,t,i),this._properties.style.listeners().subscribe(this,o.prototype._recreatePaneView),this._recreatePaneView()}var n=i(1).LineDataSource,r=i(31),s=i(74).Action,a=i(2).propertyPages,l=i(497).LineToolPitchforkStyle,c=null;inherit(o,n),o.prototype.additionalActions=function(){var t,e,i=[],o=["Original","Modified Schiff","Inside","Schiff"];for(t=0;t<4;t++)e=new s({
checked:this.properties().style.value()===t,checkable:!0,text:$.t(o[t]),callbackContext:{target:this,value:t}}),e.callbacks().subscribe(null,function(t){var e=t.callbackContext(),i=e.target,o=e.value;i.properties().style.setValue(o),i.updateAllViews(),i._model.updateSource(i)}),i.push(e);return[i[0],i[3],i[1],i[2]]},o.prototype._recreatePaneView=function(){if(null===c)return void i.e(11).then(function(t){null===c&&(c=i(1213)),this._recreatePaneView()}.bind(this).bind(null,i)).catch(i.oe);var t=[];this._properties.style.value()===l.Original?t=[new c.PitchforkLinePaneView(this,this._model)]:this._properties.style.value()===l.Schiff?t=[new c.SchiffPitchforkLinePaneView(this,this._model)]:this._properties.style.value()===l.Schiff2?t=[new c.SchiffPitchfork2LinePaneView(this,this._model)]:this._properties.style.value()===l.Inside&&(t=[new c.InsidePitchforkLinePaneView(this,this._model)]),this._setPaneViews(t)},o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return $.t("Pitchfork")},o.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},o.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[0,8]})},o.prototype.getStylesPropertyPage=function(){return a.LineToolPitchforkStylesPropertyPage},e.LineToolPitchfork=o},,function(t,e,i){"use strict";var o,n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(4),r=i(289),s=i(0),a=s.getLogger("ChartSession"),l=function(t){function e(e,i){void 0===i&&(i=!1);var o=t.call(this,e,"cs",!1)||this;return o._sessionDisabled=!1,o._handler=null,o._criticalError=new n,o._disableStatistics=i,o}return o.__extends(e,t),e.prototype.destroy=function(){this._criticalError.destroy(),this._handler=null,t.prototype.destroy.call(this)},e.prototype.serverTimeOffset=function(){return this._getChartApi().serverTimeOffset()},e.prototype.switchTimezone=function(t){return this._getChartApi().switchTimezone(this.sessionId(),t)},e.prototype.resolveSymbol=function(t,e,i){return this._getChartApi().resolveSymbol(this.sessionId(),t,e,i)},e.prototype.requestFirstBarTime=function(t,e,i){return this._getChartApi().requestFirstBarTime(this.sessionId(),t,e,i)},e.prototype.createSeries=function(t,e,i,o,n,r){return this._getChartApi().createSeries(this.sessionId(),t,e,i,o,n,r)},e.prototype.modifySeries=function(t,e,i,o,n){return this._getChartApi().modifySeries(this.sessionId(),t,e,i,o,n)},e.prototype.removeSeries=function(t,e){return!!this.isConnected().value()&&this._getChartApi().removeSeries(this.sessionId(),t,e)},e.prototype.requestMoreData=function(t,e,i){return this._getChartApi().requestMoreData(this.sessionId(),t,e,i)},e.prototype.requestMoreTickmarks=function(t,e,i){return this._getChartApi().requestMoreTickmarks(this.sessionId(),t,e,i)},e.prototype.requestMetadata=function(t,e){var i=this;window.localForageReady.done(function(){i._getChartApi().requestMetadata(i.sessionId(),t,e)}).fail(function(t){a.logError("localForage is not initialized, cannot proceed. "+t)})},
e.prototype.isCanCreateStudy=function(t){return this._getChartApi().isCanCreateStudy(t)},e.prototype.createStudy=function(t,e,i,o,n,r,s){return this._getChartApi().createStudy(this.sessionId(),t,e,i,o,n,r,s)},e.prototype.rebindStudy=function(t,e,i,o,n,r,s){return this._getChartApi().rebindStudy(this.sessionId(),t,e,i,o,n,r,s)},e.prototype.modifyStudy=function(t,e,i,o){return this._getChartApi().modifyStudy(this.sessionId(),t,e,i,o)},e.prototype.removeStudy=function(t,e,i){return this._getChartApi().removeStudy(this.sessionId(),t,e,i)},e.prototype.createPointset=function(t,e,i,o,n,r){return this._getChartApi().createPointset(this.sessionId(),t,e,i,o,n,r)},e.prototype.modifyPointset=function(t,e,i,o){return this._getChartApi().modifyPointset(this.sessionId(),t,e,i,o)},e.prototype.removePointset=function(t){return this._getChartApi().removePointset(this.sessionId(),t)},e.prototype.criticalError=function(){return this._criticalError},e.prototype.connect=function(e){void 0===e&&(e=null),null!==e&&(this._handler=e),t.prototype.connect.call(this)},e.prototype.setHandler=function(t){this._handler=t},e.prototype.connected=function(){return this.isConnected().value()&&!this._sessionDisabled},e.prototype.disable=function(){this._sessionDisabled=!0},e.prototype.chartApi=function(){return this._getChartApi()},e.prototype._sendCreateSession=function(){var t=this;Object.keys(this).forEach(function(e){/^(s|st|symbol_)\d+$/.test(e)&&delete t[e]}),this._getChartApi().chartCreateSession(this.sessionId(),this._disableStatistics)},e.prototype._sendRemoveSession=function(){this._getChartApi().chartDeleteSession(this.sessionId())},e.prototype._onMessage=function(t){this._handler&&this._handler(t)},e.prototype._onCriticalError=function(e,i){this._criticalError.fire(e,i),t.prototype._onCriticalError.call(this,e,i)},e}(r.Session),e.ChartSession=l},,,,,,,function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(16),n=function(){function t(t){this._formatStr=t||"%h:%m:%s"}return t.prototype.format=function(t){return o.customFormatters.timeFormatter?o.customFormatters.timeFormatter.format(t):this._formatStr.replace("%h",o.numberToStringWithLeadingZero(t.getUTCHours(),2)).replace("%m",o.numberToStringWithLeadingZero(t.getUTCMinutes(),2)).replace("%s",o.numberToStringWithLeadingZero(t.getUTCSeconds(),2))},t.prototype.formatLocal=function(t){return o.customFormatters.timeFormatter?o.customFormatters.timeFormatter.formatLocal?o.customFormatters.timeFormatter.formatLocal(t):o.customFormatters.timeFormatter.format(t):this._formatStr.replace("%h",o.numberToStringWithLeadingZero(t.getHours(),2)).replace("%m",o.numberToStringWithLeadingZero(t.getMinutes(),2)).replace("%s",o.numberToStringWithLeadingZero(t.getSeconds(),2))},t}(),e.TimeFormatter=n},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(9),n=function(){function t(t,e){this._major=t,this._minor=e}return t.prototype.major=function(){return this._major},t.prototype.minor=function(){return this._minor},
t.prototype.isZero=function(){return 0===this._major&&0===this._minor},t.prototype.toString=function(){return this._major+"."+this._minor},t.prototype.compareTo=function(t){return this._major<t._major?-1:this._major>t._major?1:this._minor<t._minor?-1:this._minor>t._minor?1:0},t.prototype.isLess=function(t){return this.compareTo(t)<0},t.prototype.isLessOrEqual=function(t){return this.compareTo(t)<=0},t.prototype.isEqual=function(t){return 0===this.compareTo(t)},t.prototype.isGreater=function(t){return this.compareTo(t)>0},t.prototype.isGreaterOrEqual=function(t){return this.compareTo(t)>=0},t.parse=function(e){var i,n,r;if(e instanceof t)return new t(e.major(),e.minor());if("number"==typeof e)return o.assert(Math.floor(e)===e,"Version should not be a float number"),new t(e,0);if("string"==typeof e){if(i=e.split("."),1===i.length)return n=parseInt(i[0],10),o.assert(!isNaN(n),"Bad version string: "+e),new t(n,0);if(2===i.length)return n=parseInt(i[0],10),o.assert(!isNaN(n),"Bad version string: "+e),r=parseInt(i[1],10),o.assert(!isNaN(r),"Bad version string: "+e),new t(n,r);throw Error("Bad version string (one dot expected): "+e)}throw Error("Bad version: "+e)},t.ZERO=new t(0,0),t}(),e.Version=n},function(t,e,i){"use strict";(function(e){function o(t,i,o){r.call(this,t),this._origState=i,this._title=o;var a={visible:!0};this._properties=new e(a),this._statusView=new n(this,t.properties()),this._status=$.t("compiling..."),this._statusView.setText(this._title+" "+this._status),this._formatter=new s(Math.pow(10,2)),this._failed=!1}var n=i(158),r=i(52).PriceDataSource,s=i(16).PriceFormatter;inherit(o,r),o.prototype.properties=function(){return this._properties},o.prototype.statusView=function(){return this._statusView},o.prototype.state=function(t){return this._origState},o.prototype.setStatus=function(t){this._status=t,this._statusView.setText(this._title+" "+this._status)},o.prototype.formatter=function(){return this._formatter},o.prototype.title=function(){return this._title},o.prototype.setFailed=function(t){this._failed=t},o.prototype.start=function(t){},o.prototype.firstValue=function(t){return null},t.exports=o}).call(e,i(37))},,,,,function(t,e,i){"use strict";function o(t,e){var i=_.colorsPalette[t];if(!i)throw Error("No such color "+t);return i}function n(t){return!t.isPrivate}function r(){return e.themes[e.watchedTheme.value()]||e.themes[e.DEFAULT_THEME]}function s(t){return r().getThemedColor(t)}function a(t){(window.TradingView.onChartPage||u.enabled("widget"))&&e.watchedTheme.setValue(t)}function l(){a(d.getValue(g)||e.DEFAULT_THEME)}function c(){d.setValue(g,r().name,{forceFlush:!0})}var h,d,u,p,f,_,g;Object.defineProperty(e,"__esModule",{value:!0}),i(180),i(5),h=i(22),d=i(48),u=i(3),p=i(1441),f=i(1442),_=i(1443),e.themes={light:{name:"light",label:window.t("Light",{context:"colorThemeName"}),className:"theme-light",order:2,getThemedColor:function(t){return o(t)}},dark:{name:"dark",label:window.t("Dark",{context:"colorThemeName"}),className:"theme-dark",order:1,getThemedColor:function(t){return o(p[t])}},sa:{
isPrivate:!0,noChartTheme:!0,name:"sa",className:"theme-sa",getThemedColor:function(t){return o(f[t])}}},e.DEFAULT_THEME="light",e.watchedTheme=new h,e.watchedTheme.subscribe(function(t){var i=document.getElementsByTagName("html")[0];Object.keys(e.themes).forEach(function(t){i.classList.remove(e.themes[t].className)}),i.classList.add(e.themes[t].className)}),e.isPublicTheme=n,e.getCurrentTheme=r,e.setThemedColor=s,e.setTheme=a,g="current_theme.name",e.restoreTheme=l,e.syncTheme=c},function(t,e,i){"use strict";var o,n,r,s,a,l,c,h,d,u,p;Object.defineProperty(e,"__esModule",{value:!0}),i(453),o=i(443),i(109),n=i(14),r=i(75),s=i(4),a=i(238),l=i(257),c=i(48),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(h||(h={})),d={saveTab:"",noSlider:!1,onTabClick:!1,loadedClass:"i-loaded",tabsContainerClass:"tv-tabs",tabClass:"tv-tabs__tab",tabDisabledClass:"disabled",activeTabClass:"i-active",activePageClass:"active",sliderClass:"tv-tabs__slider",scrollBoxClass:"tv-tabs__scroll-box",scrollWrapClass:"tv-tabs__scroll-wrap",lArrowClass:"tv-tabs__left-arrow",rArrowClass:"tv-tabs__right-arrow"},u={leftArrow:a,rightArrow:l},p=function(){function t(t,e,i){void 0===i&&(i={}),this._animating=!1,this._prevWidth=-1,this._bindings=[],this._options=r.deepExtend({},d,i),this.tabChanged=new s,this._elTabs=t,this._elPages=e,this._elScrollWrap=this._findOrCreateElement(this._options.scrollWrapClass||"",this._elTabs,"wrapInner"),this._elScrollBox=this._findOrCreateElement(this._options.scrollBoxClass||"",this._elScrollWrap,"wrapInner"),this._elArrowLeft=this._findOrCreateElement(this._options.lArrowClass||"",this._elTabs,"append",'<div class="'+(this._options.lArrowClass||"")+' i-slided">'+u.leftArrow+"</div>"),this._elArrowRight=this._findOrCreateElement(this._options.rArrowClass||"",this._elTabs,"append",'<div class="'+(this._options.rArrowClass||"")+' i-slided">'+u.rightArrow+"</div>"),this._options.noSlider||(this._elSlider=this._findOrCreateElement(this._options.sliderClass||"",this._elScrollBox,"append")),this._addClass(this._elArrowLeft,this._options.addLeftArrowsClass),this._addClass(this._elArrowRight,this._options.addRightArrowsClass),this._addClass(this._elScrollBox,this._options.addScrollBoxClass),this._addClass(this._elTabs,this._options.tabsContainerClass),this._addClass(this.getTabsArray(),this._options.tabClass),this._addClass(this._elTabs,this._options.loadedClass),"string"==typeof this._options.sliderMod&&this._addClass(this._elSlider,this._options.sliderClass+"--"+this._options.sliderMod),this.checkScrollArrows(!0),this._initActivePage(),this._bindEvents()}return t.prototype.getTabsArray=function(){var t,e,i,o=this._elScrollBox.children;if(!this._options.sliderClass)return Array.prototype.slice.call(o);for(t=[],e=0;e<o.length;e++)i=o[e],i.classList.contains(this._options.sliderClass)||t.push(i);return t},t.prototype.getPagesArray=function(){return this._elPages?Array.prototype.slice.call(this._elPages.children):[]},t.prototype.getElTabs=function(){return this._elTabs},t.prototype.getElPages=function(){return this._elPages},
t.prototype.checkScrollArrows=function(t){function e(t){t.classList.remove("i-slided"),$.Velocity&&$.Velocity.animate(t,{translateX:"0%"},{duration:n.dur/2,easing:"easeOutCubic",queue:!1})}function i(e,i){if(t)return e.classList.add("i-slided"),void e.setAttribute("style","");var r=i===h.Left?"-100%":"100%";o.lazyVelocity().then(function(){$.Velocity.animate(e,{translateX:r},{complete:function(){return e.classList.add("i-slided")},duration:n.dur/2,easing:"easeOutCubic",queue:!1})})}var r,s,a,l;void 0===t&&(t=!1),r=Math.ceil(this._elScrollWrap.scrollLeft),s=this._getElWidth(this._elScrollWrap),a=10,l=this._elScrollWrap.scrollWidth-s,r>=a?e(this._elArrowLeft):(r<=a||this._elScrollWrap.scrollWidth<=s)&&i(this._elArrowLeft,h.Left),l-r>1?e(this._elArrowRight):(r>=l||this._elScrollWrap.scrollWidth<=s)&&i(this._elArrowRight,h.Right)},t.prototype.index=function(){var t=this.getElActiveTab();return t?this.getTabsArray().indexOf(t):-1},t.prototype.getElActiveTab=function(){return this._getActiveElement(this.getTabsArray(),this._options.activeTabClass||"",this._options.inactiveTabClass)},t.prototype.getElActivePage=function(){return this._getActiveElement(this.getPagesArray(),this._options.activePageClass||"",this._options.inactivePageClass)},t.prototype.setActivePage=function(t,e,i){function o(e,i,o){e.forEach(function(e,n){var r=t===n,s=e.classList;i&&s.toggle(i,r),o&&s.toggle(o,!r)})}if(-1!==t&&(t!==this.index()||i)){var n=this.index();o(this.getTabsArray(),this._options.activeTabClass,this._options.inactiveTabClass),o(this.getPagesArray(),this._options.activePageClass,this._options.inactivePageClass),this._options.noSlider||this.updateSlider(n,t,e),this._options.saveTab&&c.setValue(this._options.saveTab,t),this.tabChanged.fire(t)}},t.prototype.updateSlider=function(t,e,i){var r,s,a,l,c,h,d=this;this._options.noSlider||(r=this.getTabsArray()[e],0===r.clientWidth||0===r.clientHeight||"none"===window.getComputedStyle(r).getPropertyValue("display")||(s=window.getComputedStyle(r),a=r.offsetLeft+parseInt(s.getPropertyValue("padding-left")),l=this._getElWidth(r),c=r.querySelector(".js-tabs__slider-pos"),c&&(h=window.getComputedStyle(c),a+=parseInt(h.getPropertyValue("padding-left"))+c.offsetLeft,l-=l-this._getElWidth(c)),i=i||-1===t||document.all&&!window.atob,i?(this._elSlider.style.left=a+"px",this._elSlider.style.width=l+"px"):(this._animating=!0,o.lazyVelocity().then(function(){$.Velocity.animate(d._elSlider,{left:a},{duration:n.dur,easing:"easeOutCubic",queue:!1}),$.Velocity.animate(d._elSlider,{width:l},{complete:function(){d._animating=!1},duration:n.dur,easing:"easeOutCubic",queue:!1})}))))},t.prototype.onTabClick=function(t){var e=t.currentTarget||t.target,i=this.getTabsArray().indexOf(e);-1===i||this._isTabDisabled(e)||this.setActivePage(i),document.activeElement.blur(),t.preventDefault()},t.prototype.resizeSlider=function(){var t,e;this._options.noSlider||(t=this._elTabs.offsetWidth)!==this._prevWidth&&(this._prevWidth=t,e=this.index(),this.updateSlider(e,e,!0))},t.prototype.count=function(){
return this.getTabsArray().length},t.prototype.add=function(t,e){this._elScrollBox.appendChild(t),this._elPages&&e&&this._elPages.appendChild(e),this._bindTabEvents(t),this.checkScrollArrows(!0)},t.prototype.remove=function(t){function e(t){t.parentElement&&t.parentElement.removeChild(t)}var i,o,n=this.tabAt(t);n&&(this._unbindTabEvents(n),e(n)),i=this.pageAt(t),i&&e(i),o=t-1>=0?t-1:0,this.setActivePage(o),this.checkScrollArrows(!0)},t.prototype.indexOfTab=function(t){return this.getTabsArray().indexOf(t)},t.prototype.indexOfPage=function(t){return this.getPagesArray().indexOf(t)},t.prototype.pageAt=function(t){return this.getPagesArray()[t]||null},t.prototype.tabAt=function(t){return this.getTabsArray()[t]||null},t.prototype.deselect=function(t){var e,i=this.getElActiveTab();return this._options.activeTabClass&&i&&i.classList.remove(this._options.activeTabClass),e=this.getElActivePage(),this._options.activePageClass&&e&&e.classList.remove(this._options.activePageClass),this._elSlider&&(this._elSlider.style.left="",this._elSlider.style.width=""),this},t.prototype.stop=function(){this._unbindEvents({})},t.prototype._getElWidth=function(t){if(0===t.offsetWidth)return 0;var e=window.getComputedStyle(t);return t.offsetWidth-parseFloat(e.getPropertyValue("padding-left"))-parseFloat(e.getPropertyValue("padding-right"))-parseFloat(e.getPropertyValue("border-left-width"))-parseFloat(e.getPropertyValue("border-right-width"))},t.prototype._findOrCreateElement=function(t,e,i,o){var n,r,s,a=e.querySelector("."+t);if(!a)if(n=document.createElement("div"),n.innerHTML=o||'<div class="'+t+'"></div>',a=n.firstElementChild,"append"===i)e.appendChild(a);else{if("wrapInner"!==i)throw Error("Unknown insertMethod");for(r=Array.prototype.slice.call(e.childNodes),s=0;s<r.length;s++)a.appendChild(r[s]);e.appendChild(a)}return a},t.prototype._addClass=function(t,e){if("string"==typeof e){Array.isArray(t)||(t=[t]);var i=e.split(/\s+/);t.forEach(function(t){i.forEach(function(e){t.classList.add(e)})})}},t.prototype._initActivePage=function(){var t,e=0;this._options.saveTab&&(e=c.getInt(this._options.saveTab,0)),t=this.index(),-1!==t&&(e=t),void 0!==this._options.activeTab&&(e=this._options.activeTab),this.setActivePage(e,!0,!0)},t.prototype._bindEvents=function(){var t,e=this;this.getTabsArray().forEach(this._bindTabEvents.bind(this)),this._bindOneEvent({eventName:"scroll",listener:this.checkScrollArrows.bind(this,!1),target:this._elScrollWrap}),this._bindOneEvent({eventName:"touchstart",listener:function(t){var i=e._elScrollWrap.scrollLeft,o=t.touches[0].clientX,n=function(t){var n=o-t.touches[0].clientX;e._elScrollWrap.scrollLeft=i+n},r=function(t){e._elScrollWrap.removeEventListener("touchmove",n),e._elScrollWrap.removeEventListener("touchend",r)};e._elScrollWrap.addEventListener("touchmove",n),e._elScrollWrap.addEventListener("touchend",r)},target:this._elScrollWrap}),this._bindOneEvent({eventName:"click",listener:function(t){var i=e.getTabsArray(),r=0,s=!1,a=e._elScrollWrap.scrollLeft;i.forEach(function(t){if(!s){
var e=t.offsetLeft+t.offsetWidth;e>a?s=!0:r=e}}),o.lazyVelocity().then(function(){$.Velocity.animate(e._elScrollWrap,"scroll",{axis:"x",container:$(e._elScrollWrap),duration:n.dur/2,easing:"easeInOutCubic",offset:Math.floor(r-a-e._getElWidth(e._elArrowLeft)),queue:!1})})},target:this._elArrowLeft}),this._bindOneEvent({eventName:"click",listener:function(t){var i=e.getTabsArray(),r=0,s=e._elScrollWrap.scrollLeft+e._getElWidth(e._elScrollWrap);i.forEach(function(t){if(0===r){var e=t.offsetLeft+t.offsetWidth;e>s&&(r=e)}}),o.lazyVelocity().then(function(){$.Velocity.animate(e._elScrollWrap,"scroll",{axis:"x",container:$(e._elScrollWrap),duration:n.dur/2,easing:"easeInOutCubic",offset:Math.ceil(r-s+e._getElWidth(e._elArrowRight)),queue:!1})})},target:this._elArrowRight}),t=Array.prototype.slice.call(this._elTabs.querySelectorAll(".js-tabs__slider-hover")||[]),t.length&&t.forEach(function(t){return e._bindOneEvent({eventName:"mouseenter",listener:function(t){if(!e._animating){var i=t.currentTarget;i&&e._options.activeTabClass&&i.classList&&i.classList.contains(e._options.activeTabClass)&&e._hoverSlider(i)}},target:t})}),this._bindOneEvent({eventName:"resize",listener:function(){e.checkScrollArrows(!0),e._options.noSlider||e.resizeSlider()},target:window})},t.prototype._bindTabEvents=function(t){var e=this;this._bindOneEvent({eventName:Modernizr.touch?"touchend":"click",listener:function(t){"function"==typeof e._options.onTabClick?e._options.onTabClick(t):e.onTabClick(t)},target:t})},t.prototype._unbindTabEvents=function(t){this._unbindEvents({target:t})},t.prototype._bindOneEvent=function(t){t.target.addEventListener(t.eventName,t.listener),this._bindings.push(t)},t.prototype._unbindEvents=function(t){var e=function(e){return!(void 0!==e.eventName&&e.eventName!==t.eventName||void 0!==e.target&&e.target!==t.target||void 0!==e.listener&&e.listener!==t.listener)};this._bindings.filter(e).forEach(function(t){return t.target.removeEventListener(t.eventName,t.listener)}),this._bindings=this._bindings.filter(function(t){return!e(t)})},t.prototype._getActiveElement=function(t,e,i){var o=function(t,o,n){return e?t.classList.contains(e):!!i&&!t.classList.contains(i)};return t.filter(o)[0]||null},t.prototype._isTabDisabled=function(t){return t.classList.contains("i-disabled")||this._options.tabDisabledClass&&t.classList.contains(this._options.tabDisabledClass)||t.hasAttribute("disabled")},t.prototype._hoverSlider=function(t){var e,i=this,r=this._getElWidth(t),s=window.getComputedStyle(t),a=t.offsetLeft+parseInt(s.getPropertyValue("padding-left"))+parseInt(s.getPropertyValue("margin-left")),l={duration:n.dur/4,easing:"easeOutCubic",queue:!1};o.lazyVelocity().then(function(){$.Velocity.animate(i._elSlider,{left:a},l),$.Velocity.animate(i._elSlider,{width:r},l)}),e=function(){i.getElActiveTab()===t&&i._unhoverSlider(t),t.removeEventListener("mousleave",e)},t.addEventListener("mouseleave",e)},t.prototype._unhoverSlider=function(t){
var e=this,i=window.getComputedStyle(t),r=t.querySelector(".js-tabs__slider-pos"),s=window.getComputedStyle(r),a=t.offsetLeft+parseInt(i.getPropertyValue("padding-left"))+parseInt(i.getPropertyValue("margin-left"))+parseInt(s.getPropertyValue("padding-left"))+r.offsetLeft,l=this._getElWidth(t),c=l-(l-this._getElWidth(r)),h={duration:n.dur/2,easing:"easeInSine",queue:!1};o.lazyVelocity().then(function(){$.Velocity.animate(e._elSlider,{left:a},h),$.Velocity.animate(e._elSlider,{width:c},h)})},t}(),e.Tabs=p},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-80 -25 140 140" width="16" height="16"><path d="M10 12L-.7.7-41 43.2l.1.1-.1.1L-.7 85.9l10-10.6-29.7-31.2z"/></svg>'},,,,,,,,,function(t,e,i){"use strict";function o(t){t in r&&(t=r[t]);try{return i(295)("./flag-square-"+t+".svg")}catch(t){return i(189)}}function n(t){return'<img alt="'+t+'" src="'+o(t)+'" class="tv-flag-country tv-flag-country--'+t+'">'}Object.defineProperty(e,"__esModule",{value:!0});var r={erl:"eu",uk:"gb"};e.flagUrl=o,e.flagHtml=n},,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(906);e.createConfirmDialog=o.createConfirmDialog},function(t,e,i){"use strict";function o(t){var e,o=t.chartWidget;if(!navigator.onLine&&!n.isAlertsOnline(o))return e=n.getAlertDialogType(t),void n.openOfflineDialog(e);i.e(13).then(function(e){new(0,i(647).MakeAlertDialog)(t)}.bind(null,i)).catch(i.oe)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(633);e.MakeAlertDialog=o},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-90 -55 140 140" width="16" height="16"><path d="M10 12l-40.3-42.5-10 10.6 29.7 31.2L-41 43.4l10.7 11.3L10 12.2l-.1-.1z"/></svg>'},function(t,e,i){"use strict";function o(t){this._maxSize=t||50,this.reset()}var n=/[2-9]/g;o.prototype.measureText=function(t,e,i){var o,r,s=i||n,a=(e+"").replace(s,"0");return this._cache[a]?this._cache[a].width:(this._actualSize===this._maxSize&&(o=this._tick2Labels[this._oldestTick],delete this._tick2Labels[this._oldestTick],delete this._cache[o],this._oldestTick++,this._actualSize--),0===(r=t.measureText(a).width)&&e.length?0:(this._cache[a]={width:r,tick:this._usageTick},this._tick2Labels[this._usageTick]=a,this._actualSize++,this._usageTick++,r))},o.prototype.reset=function(){this._actualSize=0,this._cache={},this._usageTick=1,this._oldestTick=1,this._tick2Labels={}},t.exports=o},function(t,e,i){"use strict";function o(t,e,i){return i&&(i+=" "),(i||"")+t+"px "+e}Object.defineProperty(e,"__esModule",{value:!0}),e.makeFont=o},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){var i=new Date(t+e),o=Math.round(Math.abs(e)/6e4),n="UTC";return 0!==o&&(n+=e>0?"+":"-",n+=Math.floor(o/60),o%60&&(n+=":"+o%60)),i.getUTCFullYear()+"-"+("0"+(i.getUTCMonth()+1)).slice(-2)+"-"+("0"+i.getUTCDate()).slice(-2)+" "+("0"+i.getUTCHours()).slice(-2)+":"+("0"+i.getUTCMinutes()).slice(-2)+" ("+n+")"}function r(t){
return"string"==typeof t&&0!==t.trim().length}function s(t){var e,i,o,n,s;if(!t||0===t.length)return!0;for(e=0;e<t.length;e++){if(r(t[e])||t[e].id||r(t[e].title))return!1;if(t[e].lines)for(i=t[e].lines,o=i.length,n=0;n<o;n++)if(s=i[n],r(s)||r(s.line))return!1}return!0}function a(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.hasOwnProperty("text")?t.hasOwnProperty("color")&&i?e.append($("<span>",{style:"color: "+t.color}).text(t.text)):e.text(t.text):e.text(t)}function l(t,e){if(Array.isArray(t)&&2===t.length)$("<dl>").append(a(t[0],$("<dt>")),a(t[1],$("<dd>"),!0)).appendTo(e);else if(t.hasOwnProperty("br")&&t.br)$("<br>").appendTo(e);else{var i=$("<dl>").append(a(t,$("<dt>"))).appendTo(e);t.hasOwnProperty("listItem")&&i.addClass("list-item")}}function c(t,e){$("<a>").attr("href",t.href).text(t.text).addClass(t.class).appendTo(e)}function h(t,e){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("string"==typeof t)$("<h2>").text(t).appendTo(e);else if(t.hasOwnProperty("lines"))for(i=0;i<t.lines.length;i++)t.lines[i].hasOwnProperty("line")?0===i?t.lines[i].line.isEmpty||$("<h2>").text(t.lines[i].line).appendTo(e):l(t.lines[i].line,e):t.lines[i].hasOwnProperty("link")&&c(t.lines[i].link,e);else t.hasOwnProperty("title")&&$("<h2>").text(t.title).appendTo(e),t.hasOwnProperty("actual")&&$("<dl>").append($("<dt>").text($.t("Actual")+": "),$("<dd>").text(t.actual||"")).appendTo(e),t.hasOwnProperty("forecast")&&$("<dl>").append($("<dt>").text($.t("Forecast")+": "),$("<dd>").text(t.forecast||"")).appendTo(e),t.hasOwnProperty("previous")&&$("<dl>").append($("<dt>").text($.t("Previous")+": "),$("<dd>").text(t.previous||"")).appendTo(e),t.hasOwnProperty("timestamp")&&$("<dl>").append($("<dt>").text($.t("Date")+": "),$("<dd>").text(n(t.timestamp,o)||"")).appendTo(e)}var d;Object.defineProperty(e,"__esModule",{value:!0}),e.Tooltip=void 0,d=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),i(676),e.Tooltip=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.direction,n=void 0===i?"top":i,r=e.clickable,s=void 0!==r&&r,a=e.wide,l=void 0!==a&&a;o(this,t),this._direction=n,this._tooltipShown=!1,this._tooltipX=void 0,this._tooltipY=void 0,this._tooltipItems=null,this._width=l?250:200,this._$tooltip=$("<div>").addClass("tv-chart-events-source__tooltip").css({position:"absolute",width:this._width+"px"}),this._$tooltipContent=$("<div>").addClass("tv-chart-events-source__tooltip__content").appendTo(this._$tooltip),s&&this._$tooltip.addClass("tv-chart-events-source__tooltip--clickable")}return d(t,[{key:"show",value:function(){
var t,e,i,o,n,r,a,l,c,d,u,p,f,_,g,m,v,y,b,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=w.items,T=void 0===S?[]:S,x=w.x,P=void 0===x?0:x,C=w.y,M=void 0===C?0:C,k=w.wrapElement,L=void 0===k?null:k,I=w.timeOffset,A=void 0===I?"":I,R=w.leftBorderColor,D=void 0===R?null:R;if(L&&!s(T)){if(t=$(L).width(),e=$(L).height(),i=!1,o=!1,this._tooltipShown||(this._$tooltip.appendTo(L),this._tooltipShown=!0,i=!0,o=!0),P===this._tooltipX&&M===this._tooltipY||(i=!0),i&&(n=Math.max(Math.min(P-this._width/2,t-this._width-10),0),this._$tooltip.css({left:Math.round(n),bottom:Math.round(e-M+10)})),this._tooltipItems||(o=!0),!o)for(r=T.length;r--;)if(this._tooltipItems[r]!==T[r]){o=!0;break}if(o){if(a=void 0,T.length<=1)a=T;else{for(l={},c=T.length;c--;)d=T[c].importance,null==d&&(d=-1),l[d]||(l[d]=[]),l[d].push(T[c]);if(u=Object.keys(l).sort(function(t,e){return t-e}),u.length<=1)a=l[u[0]];else for(a=[],p=u.length;p--;)for(f=l[u[p]],_=f.length;_--;)a.push(f[_])}for(this._$tooltipContent.empty(),g=a.length;g--;)m=a[g],v="",m.hasOwnProperty("importance")?("string"==typeof m.importance&&("earnings"===m.importance?v="--importance-earnings":"splits"===m.importance?v="--importance-splits":"dividends"===m.importance?v="--importance-dividends":"list"===m.importance&&(v="--importance-list")),0===m.importance?v="--importance-normal":m.importance>0&&(v="--importance-high")):D||(v="--importance-none"),y="tv-chart-events-source__tooltip__item",v&&(y+=" "+y+v),b=$("<div>").attr("class",y),D&&b.css("border-left-color",D),h(m,b,A),b.appendTo(this._$tooltipContent);this._tooltipItems=T}"bottom"===this._direction&&this._$tooltip.css({bottom:Math.round(e-M-this._$tooltipContent.height()+10)})}}},{key:"hide",value:function(){this._tooltipShown&&(this._$tooltip.detach(),this._tooltipShown=!1)}},{key:"isOpened",value:function(){return this._tooltipShown}}]),t}()},,,,,,,function(t,e,i){"use strict";var o={};o.renderAttributes=function(t){var e,i="";for(e in t)t[e]&&(i+=" "+e+'="'+t[e]+'"');return i},o.create=function(t,e){var i=$(document.createElement(t));return e&&(e.html&&(i.html(e.html),delete e.html),i.attr(e)),i},
o.validAttributes=["abbr","accept-charset","accept","accesskey","action","align","alink","alt","archive","axis","background","bgcolor","border","cellpadding","cellspacing","char","charoff","charset","checked","cite","class","classid","clear","code","codebase","codetype","color","cols","colspan","compact","content","coords","data","datetime","declare","defer","dir","disabled","enctype","face","for","frame","frameborder","headers","height","href","hreflang","hspace","http-equiv","id","ismap","label","lang","language","link","longdesc","marginheight","marginwidth","maxlength","media","method","multiple","name","nohref","noresize","noshade","nowrap","object","onblur","onchange","onclick","ondblclick","onfocus","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onreset","onselect","onsubmit","onunload","profile","prompt","readonly","rel","rev","rows","rowspan","rules","scheme","scope","scrolling","selected","shape","size","span","src","standby","start","style","summary","tabindex","target","text","title","type","usemap","valign","value","valuetype","version","vlink","vspace","width"],o.validAttribute=function(t){return-1!==jQuery.inArray(t,o.validAttributes)},o.cleanAttributes=function(t){return jQuery.each(t,function(e,i){o.validAttribute(e)||delete t[e]}),t},t.exports=o},function(t,e,i){"use strict";function o(t){return-1!==s.indexOf(t)}function n(t){return-1!==a.indexOf(t)}var r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),r=i(32),s=[r.STYLE_RENKO,r.STYLE_KAGI,r.STYLE_PNF,r.STYLE_PB,r.STYLE_HEIKEN_ASHI],e.isJapaneseStyle=o,a=[r.STYLE_RENKO,r.STYLE_PB,r.STYLE_KAGI,r.STYLE_PNF],e.hasProjection=n},function(t,e,i){"use strict";var o=i(40),n={_fontHeightCache:{},_parsedColorCache:{}};n._parseColor=function(t){var e,i,o;return this._parsedColorCache[t]?this._parsedColorCache[t]:(e=document.createElement("div"),e.style.color=t,i=e.style.color.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i)||e.style.color.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\,\s*(\d*\.?\d+)\s*\)$/i),o={r:i[1],g:i[2],b:i[3],a:i[4]||"1"},this._parsedColorCache[t]=o,o)},n.getColorFromProperties=function(t,e){var i=1-e.value()/100,o=this._parseColor(t.value());return"rgba("+o.r+","+o.g+","+o.b+","+i+")"},n.setColorToProperties=function(t,e,i){var o,n=this._parseColor(t);e.setValue("rgb("+n.r+","+n.g+","+n.b+")"),o=100*(1-n.a),i.setValue(Math.max(0,Math.min(o,100)))},n._parseFont=function(t){var e,i,o=document.createElement("div");return o.style.font=t,e=o.style.fontSize.match(/(\d+)pt/),i=e&&e[0]===o.style.fontSize,{family:o.style.fontFamily,size:i?e[1]:"",bold:"bold"===o.style.fontWeight,italic:"italic"===o.style.fontStyle}},n.getFontFromProperties=function(t,e,i,o){return[i.value()?"bold":"",o.value()?"italic":"",e.value()+"pt",t.value()].join(" ")},n.setFontToProperties=function(t,e,i,o,n){var r=this._parseFont(t);r.family.length>0&&e.setValue(r.family),r.size.length>0&&i.setValue(r.size),o.setValue(r.bold),n.setValue(r.italic)},n.fontHeight=function(t){var e,i
;return this._fontHeightCache[t]||(e=document.createElement("span"),e.appendChild(document.createTextNode("height")),document.body.appendChild(e),e.style.cssText="font: "+t+"; white-space: nowrap; display: inline;",i=e.offsetHeight,document.body.removeChild(e),this._fontHeightCache[t]=Math.ceil(i)),this._fontHeightCache[t]},n.drawPolyHoverOrPress=function(t,e,i,o){o?(t.save(),t.fillStyle="rgba(0, 0, 0, 0.15)",CanvasEx.drawPoly(t,e,!0),t.restore()):i&&(t.save(),t.fillStyle="rgba(0, 0, 0, 0.1)",CanvasEx.drawPoly(t,e,!0),t.restore())},n.repaint=function(t){var e=new o(o.LIGHT_UPDATE);e.force=!0,t.invalidate(e)},n.roundToMinTick=function(t,e){var i=t.mainSource().base(),o=1/i;return o*Math.round(e/o)},t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(6);i(1109),o.__exportStar(i(1110),e)},function(t,e,i){"use strict";function o(t){this.items=t.items,this._simpleMode=t.simpleMode,this.barSpacing=t.barSpacing,this.lineColor=t.lineColor,this.lineWidth=t.lineWidth,this.lineStyle=t.lineStyle,this.withMarkers=t.withMarkers,this.withSteps=t.withSteps,this.hittest=t.hittest,this.ignorePaletteLineWidth=t.ignorePaletteLineWidth,this.forceLineColor=!!t.forceLineColor}var n=i(8).Point,r=i(51).distanceToSegment,s=i(42),a=i(11);o.prototype.draw=function(t){t.lineCap="square",t.lineJoin=this.withMarkers?"round":"miter",t.strokeStyle=this.lineColor,t.fillStyle=this.lineColor,t.lineWidth=this.lineWidth,t.lineStyle=this.lineStyle,s.setValidLineStyle(t,this.lineStyle),this._simpleMode?this._drawSimpleMode(t):this._drawLines(t)},o.prototype._drawSimpleMode=function(t){var e,i,o,n;if(t.beginPath(),this.walkLine(t,this.items),t.stroke(),this.withMarkers){for(e=this.lineWidth+2,i=2*Math.PI,t.beginPath(),n=this.items.length;n--;)(o=this.items[n])&&(t.moveTo(o.x,o.y),t.arc(o.x,o.y,e,0,i));t.fill()}},o.prototype.walkLine=function(t,e,i,o){var n,r,a,l,c,h,d,u,p,f,_;if(e){for(n=.25*this.barSpacing,d=s.coordinateIsValid,u=0,p=e.length;u<p;u++)if(f=e[u],d(f.y)){a=f,r=u;break}if(void 0!==r&&a)for(_=this.withSteps&&this.lineWidth&&this.lineWidth%2==0?.5:0,u=r,p=e.length;u<p;u++){if(c=e[u],h=e[u+1]||{},d(c.y))if(l&&d(l.y))this.withSteps&&t.lineTo(l.x+_,c.y+_),t.lineTo(c.x+_,c.y+_),i&&!d(h.y)&&t.lineTo(c.x+_,o);else if(h&&d(h.y))i?(u!==r&&t.lineTo(c.x+_,o),t.lineTo(c.x+_,c.y+_)):t.moveTo(c.x+_,c.y+_);else if(i){if(0===u)continue;u!==r&&t.lineTo(c.x-n+_,o),t.lineTo(c.x-n+_,c.y+_),t.lineTo(c.x+n+_,c.y+_),t.lineTo(c.x+n+_,o)}else t.moveTo(c.x-n+_,c.y+_),t.lineTo(c.x+n+_,c.y+_);l=c}}},o.prototype._drawLines=function(t){function e(e,i,o){a(i.y)&&(a(e.y)?t.lineTo(i.x,i.y):o&&a(o.y)?t.moveTo(i.x,i.y):(t.moveTo(i.x-r,i.y),t.lineTo(i.x+r,i.y)))}var i,o,n,r,a,l,c,h,d,u,p,f,_,g;if(this.items.length){for(r=.25*this.barSpacing,a=s.coordinateIsValid,t.beginPath(),l=this.items[0],l&&t.moveTo(l.x,l.y),c=t.strokeStyle,h=t.lineWidth,d=t.lineStyle,u=1;u<this.items.length;++u)i=this.items[u-1],o=this.items[u],n=this.items[u+1],o.style&&!this.forceLineColor?(p=o.style.color,f=o.style.width,_=o.style.style):(p=this.lineColor,
f=this.lineWidth,_=this.lineStyle),this.ignorePaletteLineWidth&&(f=this.lineWidth),g=p!==c||f!==h||_!==d,g&&(c=p,h=f,d=_,t.stroke(),t.beginPath(),t.strokeStyle=p,t.lineWidth=f,s.setValidLineStyle(t,_),t.moveTo(i.x,i.y)),e(i,o,n);t.stroke()}},o.prototype.hitTest=function(t){for(var e,i,o,l,c,h,d,u,p=s.selectionTolerance(this.lineWidth),f=0,_=this.items.length-1;_-f>2;)h=Math.round((_+f)/2),d=this.items[h],d.x<=t.x?f=h:_=h;for(f=Math.max(1,f-1),_=Math.min(this.items.length-1,_+1),u=f;u<=_;++u)if(e=this.items[u-1],i=this.items[u],o=e.x,l=i.x,c=r(new n(o,e.y),new n(l,i.y),new n(t.x,t.y)),c.distance<=p)return this.hittest?this.hittest:new a(a.REGULAR);return null},e.PaneRendererLine=TradingView.PaneRendererLine=o},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(16),n=function(){function t(){}return t.prototype.format=function(t){return o.customFormatters&&o.customFormatters.dateFormatter?o.customFormatters.dateFormatter.format(t):o.numberToStringWithLeadingZero(t.getUTCFullYear(),4)+"-"+o.numberToStringWithLeadingZero(t.getUTCMonth()+1,2)+"-"+o.numberToStringWithLeadingZero(t.getUTCDate(),2)},t.prototype.formatLocal=function(t){return o.customFormatters.dateFormatter?o.customFormatters.dateFormatter.formatLocal?o.customFormatters.dateFormatter.formatLocal(t):o.customFormatters.dateFormatter.format(t):o.numberToStringWithLeadingZero(t.getFullYear(),4)+"-"+o.numberToStringWithLeadingZero(t.getMonth()+1,2)+"-"+o.numberToStringWithLeadingZero(t.getDate(),2)},t}(),e.DateFormatter=n},function(t,e,i){"use strict";function o(){this.backColorers=[]}function n(t){o.call(this),this._series=t}function r(t,e){o.call(this),this._study=t,this._plotIndex=e}var s=i(24).PlotRowSearchMode;o.prototype.barStyle=function(t,e,i){var o,n={};for(o=this.backColorers.length-1;o>=0;o--)this.backColorers[o].applyBarStyle(t,e,n,i);return this.applyBarStyle(t,e,n,i),n},o.prototype.pushBackBarColorer=function(t){this.backColorers.push(t)},o.prototype.applyBarStyle=function(t,e,i){throw Error("This function is supposed to be reimplemented in a subclass")},inherit(n,o),n.prototype.applyBarStyle=function(t,e,i,o){var n,r,s,a,l,c,h,d,u,p,f,_,g,m,v;switch(i||(i={}),i.barColor=null,i.barBorderColor=null,i.barWickColor=null,i.isBarHollow=null,i.isBarUp=null,i.upColor=null,i.downColor=null,i.isTwoColorBar=null,n=this._series.properties(),n.style.value()){case TradingView.Series.STYLE_LINE:i.barColor=n.lineStyle.color.value();break;case TradingView.Series.STYLE_AREA:i.barColor=n.areaStyle.linecolor.value();break;case TradingView.Series.STYLE_BARS:r=n.barStyle.upColor.value(),s=n.barStyle.downColor.value(),a=r,l=s,c=this.findBar(t,!1,o),n.barStyle.barColorsOnPrevClose.value()?(h=this.findPrevBar(t,!1,o),i.barColor=h[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]?r:s,i.barBorderColor=h[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]?a:l):(i.barColor=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT]?r:s,i.barBorderColor=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT]?a:l);break
;case TradingView.Series.STYLE_CANDLES:r=n.candleStyle.upColor.value(),s=n.candleStyle.downColor.value(),a=n.candleStyle.borderUpColor?n.candleStyle.borderUpColor.value():n.candleStyle.borderColor.value(),l=n.candleStyle.borderDownColor?n.candleStyle.borderDownColor.value():n.candleStyle.borderColor.value(),d=n.candleStyle.wickUpColor?n.candleStyle.wickUpColor.value():n.candleStyle.wickColor.value(),u=n.candleStyle.wickDownColor?n.candleStyle.wickDownColor.value():n.candleStyle.wickColor.value(),c=this.findBar(t,!1,o),n.candleStyle.barColorsOnPrevClose.value()?(h=this.findPrevBar(t,!1,o),p=h[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]):p=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT],i.barColor=p?r:s,i.barBorderColor=p?a:l,i.barWickColor=p?d:u;break;case TradingView.Series.STYLE_HOLLOW_CANDLES:r=n.hollowCandleStyle.upColor.value(),s=n.hollowCandleStyle.downColor.value(),a=n.hollowCandleStyle.borderUpColor?n.hollowCandleStyle.borderUpColor.value():n.hollowCandleStyle.borderColor.value(),l=n.hollowCandleStyle.borderDownColor?n.hollowCandleStyle.borderDownColor.value():n.hollowCandleStyle.borderColor.value(),d=n.hollowCandleStyle.wickUpColor?n.hollowCandleStyle.wickUpColor.value():n.hollowCandleStyle.wickColor.value(),u=n.hollowCandleStyle.wickDownColor?n.hollowCandleStyle.wickDownColor.value():n.hollowCandleStyle.wickColor.value(),c=this.findBar(t,!1,o),h=this.findPrevBar(t,!1,o),h[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]?(i.barColor=r,i.barBorderColor=a,i.barWickColor=d):(i.barColor=s,i.barBorderColor=l,i.barWickColor=u),c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT]?i.isBarHollow=!0:i.isBarHollow=!1;break;case TradingView.Series.STYLE_HEIKEN_ASHI:r=n.haStyle.upColor.value(),s=n.haStyle.downColor.value(),a=n.haStyle.borderUpColor.value(),l=n.haStyle.borderDownColor.value(),d=n.haStyle.wickUpColor.value(),u=n.haStyle.wickDownColor.value(),c=this.findBar(t,e,o),n.haStyle.barColorsOnPrevClose.value()?(h=this.findPrevBar(t,e,o),p=h[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]):p=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT],i.barColor=p?r:s,i.barBorderColor=p?a:l,i.barWickColor=p?d:u;break;case TradingView.Series.STYLE_RENKO:c=this.findBar(t,e,o),p=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT],r=e?n.renkoStyle.upColorProjection.value():n.renkoStyle.upColor.value(),s=e?n.renkoStyle.downColorProjection.value():n.renkoStyle.downColor.value(),a=e?n.renkoStyle.borderUpColorProjection.value():n.renkoStyle.borderUpColor.value(),l=e?n.renkoStyle.borderDownColorProjection.value():n.renkoStyle.borderDownColor.value(),d=n.renkoStyle.wickUpColor.value(),u=n.renkoStyle.wickDownColor.value(),i.barColor=p?r:s,i.barBorderColor=p?a:l,i.barWickColor=p?d:u,i.isBarUp=p;break;case TradingView.Series.STYLE_PB:c=this.findBar(t,e,o),p=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT],r=e?n.pbStyle.upColorProjection.value():n.pbStyle.upColor.value(),s=e?n.pbStyle.downColorProjection.value():n.pbStyle.downColor.value(),a=e?n.pbStyle.borderUpColorProjection.value():n.pbStyle.borderUpColor.value(),
l=e?n.pbStyle.borderDownColorProjection.value():n.pbStyle.borderDownColor.value(),i.barColor=p?r:s,i.barBorderColor=p?a:l,i.isBarUp=p;break;case TradingView.Series.STYLE_KAGI:i.upColor=e?n.kagiStyle.upColorProjection.value():n.kagiStyle.upColor.value(),i.downColor=e?n.kagiStyle.downColorProjection.value():n.kagiStyle.downColor.value(),f=null,c=this.findBar(t,e,o),c[TradingView.LOW_PLOT]<c[TradingView.ADT_PLOT]&&c[TradingView.ADT_PLOT]<c[TradingView.HIGH_PLOT]?(f=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT],i.isTwoColorBar=!0):(f=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT]?c[TradingView.OPEN_PLOT]===c[TradingView.ADT_PLOT]:c[TradingView.OPEN_PLOT]!==c[TradingView.ADT_PLOT],i.isTwoColorBar=!1),i.barColor=f?i.upColor:i.downColor,i.isBarUp=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT];break;case TradingView.Series.STYLE_PNF:c=this.findBar(t,e,o),p=c[TradingView.ADT_PLOT]>0,r=e?n.pnfStyle.upColorProjection.value():n.pnfStyle.upColor.value(),s=e?n.pnfStyle.downColorProjection.value():n.pnfStyle.downColor.value(),i.isBarUp=p,i.barColor=p?r:s;break;case TradingView.Series.STYLE_BASELINE:c=this.findBar(t,e,o),_=n.baselineStyle,g=this._series.priceScale(),m=Math.round(g.height()*(Math.abs(100-_.baseLevelPercentage.value())/100)),v=g.coordinateToPrice(m),c[TradingView.CLOSE_PLOT]>v?i.barColor=n.baselineStyle.topLineColor.value():i.barColor=n.baselineStyle.bottomLineColor.value()}return i},n.prototype.getSeriesBars=function(t){return t?this._series.nsBars():this._series.bars()},n.prototype._findBarFieldValue=function(t,e,i){var o=this.getSeriesBars(i).valueAt(t);if(null!==o)return o[e]},n.prototype.findBar=function(t,e,i){return i?i.value:this.getSeriesBars(e).valueAt(t)||[]},n.prototype.findPrevBar=function(t,e,i){var o,n;return i&&i.previousValue?i.previousValue:(o=this._series.bars(),n=o._search(t,s.Exact),null!==n&&n>0?this._series.bars()._valueAt(n-1):[])},inherit(r,o),r.prototype.applyBarStyle=function(t,e,i){var o,n,r,s,a,l,c,h,d,u,p,f,_;return i||(i={}),e?i:(o=this._study.properties(),o.visible.value()?(n=this._study.metaInfo(),(r=this._study.data())&&0!==r.size()?(s=n.plots[this._plotIndex],this._study.getMinFirstBarIndexForPlot(s.id)>t?i:(a=o.styles[s.id],a.visible&&!a.visible.value()?i:(l=this._study.offset(s.id),null===(c=r.valueAt(t-l))?i:null==(h=c[this._plotIndex+1])?i:(h=Math.round(h),d=n.plots[this._plotIndex].palette,u=o.palettes,p=u[d],f=n.palettes[d].valToIndex?n.palettes[d].valToIndex[h]:h,_=p.colors[f].color.value(),i.barColor=_,i.upColor=_.color,i.downColor=_.color,i)))):i):i)},e.SeriesBarColorer=n,e.StudyBarColorer=r},function(t,e,i){"use strict";function o(t){this.items=t.items,this.barSpacing=t.barSpacing,this.colorUp=t.colorup,this.colorDn=t.colordown,this.colorBorderUp=t.colorBorderUp,this.colorBorderDown=t.colorBorderDown,this.width=this._calculateWidth(t.barSpacing),this.minHeight=t.minHeight,this.vertOffset=this._calculateVerticalOffset(t.barSpacing)}function n(t,e,i,o){this.x=t,this.y=e,this.height=i,this.isUp=o}var r=i(8).Point,s=i(11)
;o.prototype._calculateVerticalOffset=function(t){return Math.round((t||0)/4)},o.prototype._calculateMinHeight=function(t){return this.width||this._calculateWidth(t)},o.prototype._calculateWidth=function(t){var t=t||this.barSpacing;return Math.round(t/2)},o.prototype.draw=function(t){var e,i,o,n,r,s,a,l=this.width,c=l<4,h=Math.max(parseInt(l/2),1),d=Math.round(this.width/2),u=Math.round(this.width);for(t.translate(1,1),e=0,i=this.items.length;e<i;e++)o=this.items[e],n=o.isUp?-1:1,r=Math.abs(o.height),s=o.y-n*this.vertOffset,t.beginPath(),t.translate(o.x,s),c?(t.moveTo(0,0),t.lineTo(-d,-d*n),t.moveTo(0,0),t.lineTo(d,-d*n),t.moveTo(0,0),t.lineTo(0,-r*n),t.moveTo(-d,-r*n),t.lineTo(d,-r*n),t.lineWidth=h,t.strokeStyle=o.isUp?this.colorUp:this.colorDn,t.stroke()):(t.moveTo(0,0),r<u?(t.lineTo(l,-r*n),t.lineTo(-l,-r*n)):(t.lineTo(l,-u*n),t.lineTo(d,-u*n),t.lineTo(d,-r*n),t.lineTo(-d,-r*n),t.lineTo(-d,-u*n),t.lineTo(-l,-u*n)),t.lineTo(0,0),a=o.isUp?this.colorBorderUp:this.colorBorderDown,t.strokeStyle=a,t.stroke(),t.fillStyle=o.isUp?this.colorUp:this.colorDn,t.fill()),t.translate(-o.x,-s);t.translate(-1,-1)},o.prototype.hitTest=function(t){var e,i,o,n,r,a,l,c,h,d=Math.round(this.width/2),u=Math.round(this.width);for(e=0;e<this.items.length;++e)if((i=this.items[e])&&void 0!==i.x&&null!==i.x&&!TradingView.isNaN(i.x)&&void 0!==i.y&&null!==i.y&&!TradingView.isNaN(i.y)&&(o=Math.abs(i.height),n=i.isUp?-1:1,r=o+u,a=i.y-n*this.vertOffset,l=a-n*r,c=i.x-d,h=i.x+d,c<t.x&&t.x<h&&(i.isUp?a<t.y&&t.y<l:l<t.y&&t.y<a)))return new s(s.REGULAR);return null},inherit(n,r),e.PaneRendererArrowsUpDown=TradingView.PaneRendererArrowsUpDown=o,e.PaneRendererArrowsUpDownItem=TradingView.PaneRendererArrowsUpDownItem=n},function(t,e,i){"use strict";t.exports=function(t,e){var i,o=10,n=t%o;for(n&&(t=t-n+o),i=[];t<=e;t+=o)i.push(t);return i}},function(t,e,i){"use strict";function o(t){if(t)return"QUANDL"===t.exchange?"Quandl.com":["BMFBOVESPA","ASX","BME","NAG","TSE","TFX","NZX","BCBA","TWSE","TASE","EURONEXT","TOCOM","BMV","SIX","SGX","GPW","SWB","BCS","WB","SZSE","BELEX","BAHRAIN","EGX","TADAWUL","BVL","LUXSE","DFM","BVC","NSENG"].includes(t.exchange)?"ICE Data services":void 0}t.exports=o},function(t,e,i){"use strict";var o,n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),o=i(16),n=i(71),r=i(73),s=i(632),a=i(9),l={price:o.PriceFormatter,volume:n.VolumeFormatter,percentage:r.PercentageFormatter,quoteSessionPrice:s.QuoteSessionPriceFormater},function(t){function e(t){var e=a.ensureDefined(l[t.type]);return{type:t.type,state:e.serialize(t)}}function i(t){return a.ensureDefined(l[t.type]).deserialize(t.state)}t.serialize=e,t.deserialize=i}(e.FormattersSerializer||(e.FormattersSerializer={}))},function(t,e,i){"use strict";var o,n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(9),r=i(80),s=i(10),a=function(t){function e(e,i){var o=t.call(this)||this;return o._activeBackground="#0F6DBF",o._background="#5592C9",o._active=!1,o._source=e,o._data=i,o}return o.__extends(e,t),e.prototype.setActive=function(t){this._active=t},
e.prototype.setBackground=function(t){this._background=t},e.prototype._updateRendererData=function(t){var e,i,o,r,a,l,c,h;if(t.visible=!1,e=this._source.model(),e.timeScale()&&!e.timeScale().isEmpty()&&null!==(i=this._source.priceScale())&&!i.isEmpty()&&(e.selectedSource()===this._source||this._source.isForcedDrawPriceAxisLabel())&&null!==e.timeScale().visibleBars()&&(o=this._source.axisPoints(),r=this._data.pointIndex,!(o.length<=r)&&(a=o[r],isFinite(a.price)))){if(i.isPercent()){if(!(l=this._source.ownerSource()))return;if(c=l.firstValue(),!s.isNumber(c))return;a.price=n.ensureNotNull(i.priceRange()).convertToPercent(a.price,c)}h=this._active?this._activeBackground:this._background,this._data.backgroundProperty&&(h=this._data.backgroundProperty.value()),t.background=h,t.borderColor="#2E84A6",t.color=this.generateTextColor(h),t.coordinate=i.priceToCoordinate(a.price),t.text=i.formatter().format(a.price),t.visible=!0}},e}(r.PriceAxisView),e.LineToolPriceAxisView=a},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(55),n=function(){function t(){this._text="",this._background="#585858",this._coordinate=0}return t.prototype.text=function(){return this._text},t.prototype.background=function(){return this._background},t.prototype.color=function(){return"black"===o.rgbToBlackWhiteString(o.parseRgb(this._background),150)?"white":"black"},t.prototype.coordinate=function(){return this._coordinate},t}(),e.TimeAxisView=n},function(t,e,i){"use strict";function o(){this._data=null}var n=/[1-9]/g;o.prototype.setData=function(t){this._data=t},o.prototype.draw=function(t,e){var i,o,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w;null!=this._data&&!1!==this._data.visible&&0!==this._data.text.length&&(t.font=e.font,(i=Math.round(e.widthCache.measureText(t,this._data.text,n)))<=0||(o=e.paddingHorizontal,r=i+2*o,s=r/2,a=this._data.width,l=this._data.coordinate,c=Math.floor(l-s)+.5,c<0?(l+=Math.abs(0-c),c=Math.floor(l-s)+.5):c+r>a&&(l-=Math.abs(a-(c+r)),c=Math.floor(l-s)+.5),h=c,d=h+r,u=d,p=Math.round(this._data.coordinate+1),f=p,_=.5,g=_+e.borderSize+e.tickLength+e.paddingTop+e.fontSize+e.paddingBottom,m=g,v=_,y=v,b=y+e.borderSize+e.tickLength,w=g-e.baselineOffset-e.paddingBottom,t.fillStyle=this._data.background,t.lineWidth=1,t.beginPath(),t.strokeStyle=this._data.color,t.moveTo(c,_),t.lineTo(h,g),t.lineTo(d,m),t.lineTo(u,v),t.fill(),t.beginPath(),t.moveTo(p,y),t.lineTo(f,b),t.stroke(),t.textAlign="left",t.fillStyle=this._data.color,t.fillText(this._data.text,c+o,w)))},t.exports=o},function(t,e,i){"use strict";function o(t){function e(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)||""}var i,o,s,a=t||{},l="QUANDL"===a.exchange,c="",h={symbolDescription:"",interval:"",exchange:"",chartStyle:"",extended:""};switch(a.description&&l?2===a.description.split("/").length?h.symbolDescription=a.description.split("/")[1]:(i=a.description.split("'").filter(function(t){return t.length}),i.forEach(function(t){t=t&&("/"===t[0]||/\d+\/\(?/.test(t))?[t]:t.split("/").filter(function(t){return t.length}),
h.symbolDescription+=t[2===t.length?1:0]})):a.description?h.symbolDescription=a.description:h.symbolDescription=a.symbol,a.interval&&(h.interval=n(a.interval)),l&&a.description&&(o=/[\w_]+\/[\w_]+/.exec(a.description),o&&o[0]?h.provider=o[0].split("/")[0]:h.provider=a.description.split("/")[0]),a.exchange&&(h.exchange=a.exchange),a.style){case r.STYLE_RENKO:s=a.inputs.style+("ATR"===a.inputs.style?"("+a.inputs.atrLength+")":""),h.chartStyle=$.t("Renko")+" ["+s+", "+e(a.boxSize,4)+"]";break;case r.STYLE_PB:h.chartStyle=$.t("Line Break")+" ["+a.inputs.lb+"]";break;case r.STYLE_KAGI:s=a.inputs.style+("ATR"===a.inputs.style?"("+a.inputs.atrLength+")":""),h.chartStyle=$.t("Kagi")+" ["+s+(void 0!==a.reversalAmount?", "+e(a.reversalAmount,8):"")+"]";break;case r.STYLE_PNF:s=a.inputs.style+("ATR"===a.inputs.style?"("+a.inputs.atrLength+")":""),h.chartStyle=$.t("PnF")+" ["+s+", "+e(a.boxSize,8)+", "+a.inputs.reversalAmount+"]";break;case r.STYLE_HEIKEN_ASHI:h.chartStyle=$.t("Heikin Ashi")}return a.extended&&(h.extended=window.t("ext",{context:"shorthand_for_extended_session"})),c=h.symbolDescription+(h.interval?", "+h.interval:"")+(h.provider?", "+h.provider:"")+(h.exchange?", "+h.exchange:"")+(h.chartStyle?", "+h.chartStyle:"")+(h.extended?", "+h.extended:""),c=c.replace(/\'/g,"")}var n=i(217).translatedIntervalString,r=i(32);t.exports={generateTitleForGui:o}},function(t,e,i){"use strict";function o(t,e){this.customization={forcePriceAxisLabel:!0,disableSelection:!0,disableErasing:!0},n.call(this,t,e)}var n=i(1).LineDataSource;inherit(o,n),o.POINTS_COUNT=1,o.prototype.pointsCount=function(){return o.POINTS_COUNT},o.prototype.hasContextMenu=function(){return!1},o.prototype.state=function(){return null},o.prototype.startMoving=function(){n.prototype.startMoving.apply(this,arguments),this._cursorMoved=!1},o.prototype.endMoving=function(){n.prototype.endMoving.apply(this,arguments),this._cursorMoved=!1},o.prototype.correctPoints=function(t){var e,i,o,n,r;for(this._currentMovingPoint&&this._startMovingPoint?this._currentMovingPoint.price-this._startMovingPoint.price&&(this._cursorMoved=!0):this._cursorMoved=!1,e=this.priceScale(),i=e.mainSource().base(),o=1/i,n=0;n<t.length;n++)r=t[n],this._cursorMoved&&(r.price=this._currentMovingPoint.price),r.price=o*Math.round(r.price/o),t[n]=r},o.prototype.userEditEnabled=function(){return!0},o.prototype.canBeHidden=function(){return!1},o.prototype.isUserDeletable=function(){return!1},o.prototype.showInObjectTree=function(){return!1},o.prototype.getInputsPropertyPage=function(){return null},t.exports=o},function(t,e,i){"use strict";(function(t){function o(e,n){var r,s,c,u,p,f,_,g,m,v,y=n||new h("linetoolriskreward");a.call(this,e,y),this._properties.addExclusion&&(this._properties.addExclusion("stopLevel"),this._properties.addExclusion("profitLevel")),n.stopLevel||n.profitLevel||(r=e.timeScale().visibleBars(),s=r.firstBar(),c=r.lastBar(),u=e.mainSeries().priceRange(s,c),p=e.mainSeries().priceScale(),p.isLog()&&(f=p.logicalToPrice(u.minValue()),_=p.logicalToPrice(u.maxValue()),u=new t(f,_)),
p.isPercent()&&(g=e.mainSeries().firstValue(),f=p.priceRange().convertFromPercent(u.minValue(),g),_=p.priceRange().convertFromPercent(u.maxValue(),g),u=new t(f,_)),u&&!u.isEmpty()&&(m=Math.round(.2*u.length()*e.mainSeries().base()),y.merge({stopLevel:m,profitLevel:m}))),v=this,y.stopLevel.listeners().subscribe(this,this.recalculate),y.stopLevel.listeners().subscribe(null,function(){v.properties().stopPrice._listeners.fire(v.properties().stopPrice)}),y.profitLevel.listeners().subscribe(this,this.recalculate),y.profitLevel.listeners().subscribe(null,function(){v.properties().targetPrice._listeners.fire(v.properties().targetPrice)}),y.addChild("entryPrice",new o.PriceProperty(this,0)),y.addChild("stopPrice",new o.StopPriceProperty(this)),y.addChild("targetPrice",new o.TargetPriceProperty(this)),y.addProperty("riskSize",250),y.addProperty("qty",0),y.addProperty("amountTarget",y.accountSize.value()),y.addProperty("amountStop",y.accountSize.value()),this._riskInPercentsFormatter=new d(2),this._riskInMoneyFormatter=new d,y.risk.subscribe(this,this._recalculateRiskSize),y.accountSize.subscribe(this,this._recalculateRiskSize),y.riskDisplayMode.subscribe(this,this._recalculateRisk),y.riskDisplayMode.subscribe(this,this._recalculateRiskSize),y.entryPrice.subscribe(this,this._recalculateRiskSize),y.stopPrice.subscribe(this,this._recalculateRiskSize),y.profitLevel.subscribe(this,this._recalculateRiskSize),y.stopLevel.subscribe(this,this._recalculateRiskSize),y.qty.subscribe(this,this._recalculateRiskSize),"percents"===y.riskDisplayMode.value()&&y.risk.value()>100&&y.riskDisplayMode.setValueSilently("money"),this._syncStateExclusions=["entryPrice","stopPrice","targetPrice","riskSize","qty","amountTarget","amountStop","risk","accountSize"],this.version=o.version,this._entryPriceAxisView=new l(this,{colorProperty:y.linecolor,priceProperty:y.entryPrice}),this._stopPriceAxisView=new l(this,{colorProperty:y.stopBackground,priceProperty:y.stopPrice}),this._profitPriceAxisView=new l(this,{colorProperty:y.profitBackground,priceProperty:y.targetPrice}),i.e(11).then(function(t){var e=i(1224).RiskRewardPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function n(t,e){var i,n;this._constructor="LineToolRiskRewardShort",i=e||new h("linetoolriskrewardshort"),o.call(this,t,i),n=this.properties(),n.entryPrice.subscribe(this,this._recalculateQty),n.stopPrice.subscribe(this,this._recalculateQty),n.riskSize.subscribe(this,this._recalculateQty),n.entryPrice.subscribe(this,this._recalculateAmount),n.profitLevel.subscribe(this,this._recalculateAmount),n.stopLevel.subscribe(this,this._recalculateAmount),n.accountSize.subscribe(this,this._recalculateAmount),n.riskSize.subscribe(this,this._recalculateAmount),n.qty.subscribe(this,this._recalculateAmount)}function r(t,e){var i,n;this._constructor="LineToolRiskRewardLong",i=e||new h("linetoolriskrewardlong"),o.call(this,t,i),n=this.properties(),n.entryPrice.subscribe(this,this._recalculateQty),n.stopPrice.subscribe(this,this._recalculateQty),
n.riskSize.subscribe(this,this._recalculateQty),n.entryPrice.subscribe(this,this._recalculateAmount),n.profitLevel.subscribe(this,this._recalculateAmount),n.stopLevel.subscribe(this,this._recalculateAmount),n.accountSize.subscribe(this,this._recalculateAmount),n.riskSize.subscribe(this,this._recalculateAmount),n.qty.subscribe(this,this._recalculateAmount)}var s=i(9).ensureNotNull,a=i(1).LineDataSource,l=i(807).LineToolRiskRewardPriceAxisView,c=i(110),h=i(7).DefaultProperty,d=i(66).NumericFormatter,u=i(2).propertyPages,p=i(652).RiskRewardPointIndex;inherit(o,a),o.prototype.riskFormatter=function(t){return"percents"===t?this._riskInPercentsFormatter:this._riskInMoneyFormatter},o.prototype.getRiskStep=function(t){return"percents"===t?.01:1},o.prototype._roundValue=function(t){return parseFloat(t.toFixed(2))},o.prototype._recalculateRisk=function(){var t=this.properties(),e=t.riskDisplayMode.value(),i=t.riskSize.value(),o=t.accountSize.value(),n=t.risk.value();n="percents"===e?this._roundValue(i/o*100):this._roundValue(o/100*n),this._riskInChange=!0,t.risk.setValue(this.riskFormatter(e).format(n)),this._riskInChange=!1},o.prototype._recalculateRiskSize=function(){var t,e,i,o;this._riskInChange||(t=this.properties(),e=t.risk.value(),i=t.riskDisplayMode.value(),o=t.accountSize.value(),"percents"===i?t.riskSize.setValue(e/100*o):e>o?(t.risk.setValue(o),t.riskSize.setValue(o)):t.riskSize.setValue(e))},o.version=2,o.prototype.i18nCache={title:$.t("Risk/Reward")},o.prototype.lastBarData=function(){var t,e,i,o,n,r=this._model.mainSeries().bars().firstIndex(),a=this._model.mainSeries().bars().lastIndex();return null===r||null===a||isNaN(r)||isNaN(a)?null:(t=this.points(),4===t.length?(e=t[p.ActualClose],e.index<r?null:{closePrice:e.price,index:Math.min(a,e.index)}):(i=t[p.Close],i.index<r?null:(o=Math.min(a,i.index),n=s(this._model.mainSeries().bars().valueAt(o)),{closePrice:n[TradingView.CLOSE_PLOT],index:o})))},o.prototype.migrateVersion=function(t,e,i){var o,n,r,s;1===t&&this._points.length>=1&&(o=[],o.push(this._points[0]),n=this._points[0],n={price:n.price,index:n.index+50},o.push(n),this._points[1]&&o.push(this._points[1]),this._points[2]&&o.push(this._points[2]),this._points=o,this._timePoint.length>=1&&(r=[],n=this._timePoint[0],r.push(n),s={price:n.price,time_t:n.time_t,offset:n.offset+50},r.push(s),this._timePoint[1]&&o.push(this._points[1]),this._timePoint[2]&&o.push(this._points[2]),this._timePoint=r))},o.prototype.checkAlert=function(){this.recalculate()},o.prototype.priceAxisViews=function(t,e){return this.isSourceHidden()?null:e!==this.priceScale()||this._model.paneForSource(this)!==t?null:[this._entryPriceAxisView,this._stopPriceAxisView,this._profitPriceAxisView]},o.prototype.updateAllViews=function(){this.isActualSymbol()&&this._properties.visible.value()&&(c.hideAllDrawings().value()&&this.userEditEnabled()||(a.prototype.updateAllViews.call(this),this._entryPriceAxisView.update(),this._stopPriceAxisView.update(),this._profitPriceAxisView.update()))},o.prototype.setPoint=function(t,e){var i,o=this.priceScale()
;switch(o.isPercent()&&(i=this.ownerSource().firstValue(),e.price=o.priceRange().convertFromPercent(e.price,i)),t){case 0:e.price=this._roundPrice(e.price),o.isPercent()&&(e.price=o.priceRange().convertToPercent(e.price,i)),a.prototype.setPoint.call(this,t,e),this.recalculate();break;case 1:this.isActualSymbol()&&this.properties().stopPrice.setValue(this.preparseStopPrice(e.price));break;case 2:this.isActualSymbol()&&this.properties().targetPrice.setValue(this.preparseProfitPrice(e.price));break;case 3:e.price=this._roundPrice(e.price),o.isPercent()&&(e.price=o.priceRange().convertToPercent(e.price,i)),a.prototype.setPoint.call(this,1,e),this.recalculate()}},o.PriceProperty=function(t,e){a.PointPriceProperty.call(this,t,e)},inherit(o.PriceProperty,a.PointPriceProperty),o.PriceProperty.prototype.setValue=function(t){var e=this._lineSource.points()[this._pointIndex];e.price=parseFloat(t),this._lineSource.setPoint(this._pointIndex,e),this._lineSource.recalculate(),this._lineSource._model.updateSource(this._lineSource),this._listeners.fire(this),this._lineSource.endChanging(),this._lineSource._syncMultichartState()},o.StopPriceProperty=function(t){o.PriceProperty.call(this,t,1)},inherit(o.StopPriceProperty,o.PriceProperty),o.StopPriceProperty.prototype.value=function(){var t=this._lineSource.stopPrice(),e=this._lineSource.ownerSource().formatter(),i=e.parse(e.format(t));return i.price?i.price:i.value},o.StopPriceProperty.prototype.setValue=function(t){var e=Math.round(Math.abs(t-this._lineSource.entryPrice())*this._lineSource._model.mainSeries().base());this._lineSource.properties().stopLevel.setValue(e),this._lineSource.properties().stopLevel.listeners().fire(this._lineSource.properties().stopLevel)},o.TargetPriceProperty=function(t){o.PriceProperty.call(this,t,2)},inherit(o.TargetPriceProperty,o.PriceProperty),o.TargetPriceProperty.prototype.value=function(){var t=this._lineSource.profitPrice(),e=this._lineSource.ownerSource().formatter(),i=e.parse(e.format(t));return i.price?i.price:i.value},o.TargetPriceProperty.prototype.setValue=function(t){var e=Math.round(Math.abs(t-this._lineSource.entryPrice())*this._lineSource._model.mainSeries().base());this._lineSource.properties().profitLevel.setValue(e),this._lineSource.properties().profitLevel.listeners().fire(this._lineSource.properties().profitLevel)},o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return this.i18nCache.title},o.prototype.addPoint=function(t){var e,i;return t.price=this._roundPrice(t.price),a.prototype.addPoint.call(this,t,null,!0),e={price:t.price,index:t.index+50},a.prototype._addPointIntenal.call(this,e,null,!0),i=this.calculateActualEntry(t,e),i&&(a.prototype._addPointIntenal.call(this,i,null,!0),(e=this.findClosePoint(i,e))&&a.prototype._addPointIntenal.call(this,e,null,!0)),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0},o.prototype._roundPrice=function(t){var e=this._model.mainSeries().base();return Math.round(t*e)/e},o.prototype.recalculate=function(){var t,e,i,o,n
;this.properties().interval.value()===this._model.mainSeries().interval()&&0!==this.points().length&&(t=this.properties().targetPrice.value(),e=this.properties().stopPrice.value(),i=[this._points[0],this._points[1]],o=this.calculateActualEntry(this.points()[0],this.points()[1]),o&&(i.push(o),(n=this.findClosePoint(o,this.points()[1]))&&i.push(n)),this._points=i,t!==this.properties().targetPrice.value()&&this.properties().targetPrice._listeners.fire(this.properties().targetPrice),e!==this.properties().stopPrice.value()&&this.properties().stopPrice._listeners.fire(this.properties().stopPrice))},o.prototype.start=function(){a.prototype.start.call(this),this.recalculate()},o.prototype.startMoving=function(t){t.price=this._roundPrice(t.price),a.prototype.startMoving.call(this,t)},o.prototype.move=function(t){t.price=this._roundPrice(t.price),a.prototype.move.call(this,t),this.recalculate(),this._entryPriceAxisView.update()},o.prototype.correctPoints=function(t){return!!this.isActualSymbol()&&a.prototype.correctPoints.call(this,[t[0],t[1]])},o.prototype.entryPrice=function(){return this.points()[0].price},o.prototype.findClosePoint=function(t,e){var i,o,n,r=this._model.mainSeries().bars(),a=s(r.firstIndex()),l=Math.max(t.index,a),c=s(r.lastIndex());for(i=l;i<=Math.min(c,e.index);i++)if(o=s(r.valueAt(i)),null!=(n=this.checkStopPrice(o)))return{index:i,price:n};return null},o.prototype.calculateActualEntry=function(t,e){var i,o,n=this._model.mainSeries().bars(),r=s(n.firstIndex()),a=Math.max(t.index,r),l=t.price,c=s(n.lastIndex());for(i=a;i<=Math.min(c,e.index);i++)if(o=s(n.valueAt(i)),o[TradingView.HIGH_PLOT]>=l&&o[TradingView.LOW_PLOT]<=l)return{index:i,price:l};return null},o.prototype.axisPoints=function(){var t,e,i;if(!this._points[p.ActualEntry])return[];if(t=this._points[p.ActualEntry],e=null,4===this._points.length)e=this._points[p.ActualClose];else{if(!(i=this.lastBarData()))return[];e={index:i.index,price:i.closePrice}}return[t,e]},o.prototype.getInputsPropertyPage=function(){return u.LineToolRiskRewardInputsPropertyPage},o.prototype.getStylesPropertyPage=function(){return u.LineToolRiskRewardStylesPropertyPage},inherit(n,o),n.prototype.i18nCache={title:$.t("Risk/Reward short")},n.prototype._recalculateQty=function(){var t,e,i,o,n;0!==this.points().length&&(t=this.properties(),e=t.entryPrice.value(),i=t.stopPrice.value(),o=t.riskSize.value(),n=Math.floor(o/Math.abs(i-e)),t.qty.setValue(n))},n.prototype._recalculateAmount=function(){var t,e,i,o,n,r,s,a;0!==this.points().length&&(t=this.properties(),e=t.accountSize.value(),i=t.entryPrice.value(),o=t.qty.value(),n=t.stopPrice.value(),r=t.targetPrice.value(),s=this._roundValue(e+(i-r)*o),a=this._roundValue(e-(n-i)*o),t.amountTarget.setValue(s),t.amountStop.setValue(a))},n.prototype.title=function(){return this.i18nCache.title},n.prototype.stopPrice=function(){return this.entryPrice()+this.properties().stopLevel.value()/this._model.mainSeries().base()},n.prototype.profitPrice=function(){
return this.entryPrice()-this.properties().profitLevel.value()/this._model.mainSeries().base()},n.prototype.calculatePL=function(t){return this.entryPrice()-t},n.prototype.preparseStopPrice=function(t){t=this._roundPrice(t);var e=this.entryPrice()+1/this._model.mainSeries().base();return Math.max(t,e)},n.prototype.preparseProfitPrice=function(t){t=this._roundPrice(t);var e=this.entryPrice()-1/this._model.mainSeries().base();return Math.min(t,e)},n.prototype.checkStopPrice=function(t){var e=this.stopPrice(),i=this.profitPrice();return t[TradingView.HIGH_PLOT]>=e?this.stopPrice():t[TradingView.LOW_PLOT]<=i?this.profitPrice():null},r.prototype.i18nCache={title:$.t("Risk/Reward long")},inherit(r,o),r.prototype._recalculateQty=function(){var t,e,i,o,n;0!==this.points().length&&(t=this.properties(),e=t.entryPrice.value(),i=t.stopPrice.value(),o=t.riskSize.value(),n=Math.floor(o/Math.abs(e-i)),t.qty.setValue(n))},r.prototype._recalculateAmount=function(){var t,e,i,o,n,r,s,a;0!==this.points().length&&(t=this.properties(),e=t.accountSize.value(),i=t.entryPrice.value(),o=t.qty.value(),n=t.stopPrice.value(),r=t.targetPrice.value(),s=this._roundValue(e+(r-i)*o),a=this._roundValue(e-(i-n)*o),t.amountTarget.setValue(s),t.amountStop.setValue(a))},r.prototype.stopPrice=function(){return this.entryPrice()-this.properties().stopLevel.value()/this._model.mainSeries().base()},r.prototype.profitPrice=function(){return this.entryPrice()+this.properties().profitLevel.value()/this._model.mainSeries().base()},r.prototype.calculatePL=function(t){return t-this.entryPrice()},r.prototype.preparseStopPrice=function(t){t=this._roundPrice(t);var e=this.entryPrice()-1/this._model.mainSeries().base();return Math.min(t,e)},r.prototype.preparseProfitPrice=function(t){t=this._roundPrice(t);var e=this.entryPrice()+1/this._model.mainSeries().base();return Math.max(t,e)},r.prototype.checkStopPrice=function(t){var e=this.stopPrice(),i=this.profitPrice();return t[TradingView.LOW_PLOT]<=e?this.stopPrice():t[TradingView.HIGH_PLOT]>=i?this.profitPrice():null},r.prototype.title=function(){return this.i18nCache.title},e.LineToolRiskReward=o,e.LineToolRiskRewardLong=r,e.LineToolRiskRewardShort=n}).call(e,i(79))},function(t,e,i){"use strict";function o(t,e){this._formatter=t,this._maxSize=e||50,this._actualSize=0,this._cache={},this._usageTick=1,this._oldestTick=1,this._tick2Labels={}}o.prototype.format=function(t){var e,i;return this._cache[t]?this._cache[t].string:(this._actualSize===this._maxSize&&(e=this._tick2Labels[this._oldestTick],delete this._tick2Labels[this._oldestTick],delete this._cache[e],this._oldestTick++,this._actualSize--),i=this._formatter(t),this._cache[t]={string:i,tick:this._usageTick},this._tick2Labels[this._usageTick]=t,this._actualSize++,this._usageTick++,i)},t.exports=o},function(t,e,i){"use strict";function o(t,e,i){a.call(this,t,e,i)}function n(t,e,i){o.call(this,t,e,i)}function r(t,e,i){o.call(this,t,e,i)}function s(t,e,i){o.call(this,t,e,i)}var a=i(160).LineStudyMtp;inherit(o,a),o.prototype.pointsCount=function(){return 1},
o.prototype._studyInputs=function(){var t,e,i=this.points();return i.length<this.pointsCount()?null:(t=i[0].index,e=this._model.mainSeries().bars().valueAt(t),null===e?null:[this.properties().inputs.displayZoneLabels.value(),1e3*e[TradingView.TIME_PLOT]])},inherit(n,o),n.prototype._mtpStudyId=function(){return"mtp_ew_main"},inherit(r,o),r.prototype._mtpStudyId=function(){return"mtp_ew_major"},inherit(s,o),s.prototype._mtpStudyId=function(){return"mtp_ew_minor"},e.LineStudyMtpElliotWaveMinor=s,e.LineStudyMtpElliotWaveMajor=r,e.LineStudyMtpElliotWaveMain=n,e.LineStudyMtpElliotWave=o},function(t,e,i){"use strict";(function(e){function o(t,i,n){var r,s;this.m_timeScale=t,r=i.rightAxisProperties.state(),r.autoScale=!0,this.m_rightPriceScale=new h(n.properties().scalesProperties,r),s=i.leftAxisProperties.state(),s.autoScale=!0,this.m_leftPriceScale=new h(n.properties().scalesProperties,s),this.m_dataSources=[],this.m_height=0,this.m_width=0,this.m_mainDataSource=null,this._properties=i,this._model=n,this._tagsChanged=new e,this._leftPriceScaleRatioChanged=new e,this._rightPriceScaleRatioChanged=new e,this._leftPriceScaleRatioChanged.subscribe(this,this._mainSeriesPaneScaleRatioOnChange),this._rightPriceScaleRatioChanged.subscribe(this,this._mainSeriesPaneScaleRatioOnChange),this.m_timeScale.barSpacingChanged().subscribe(this,this._recalculatePriceScaleByScaleRatio),this.m_leftPriceScale.internalHeightChanged().subscribe(this,this._recalculatePriceScaleByScaleRatio),this.m_rightPriceScale.internalHeightChanged().subscribe(this,this._recalculatePriceScaleByScaleRatio),this.m_leftPriceScale.priceRangeChanged().subscribe(this,this._recalculateTimeScaleByLeftScaleRatio),this.m_rightPriceScale.priceRangeChanged().subscribe(this,this._recalculateTimeScaleByRightScaleRatio),this.m_leftPriceScale.priceRangeChanged().subscribe(this,this._onLeftPriceScaleSetMinMaxPriceRange),this.m_rightPriceScale.priceRangeChanged().subscribe(this,this._onRightPriceScaleSetMinMaxPriceRange),this._lastLeftPriceScaleRatio=d(this.m_timeScale,this.m_leftPriceScale),this._lastRightPriceScaleRatio=d(this.m_timeScale,this.m_rightPriceScale),i.topMargin.listeners().subscribe(this,o.prototype._updateMargins),i.bottomMargin.listeners().subscribe(this,o.prototype._updateMargins),this._updateMargins(),this._stretchFactor=o.DEFAULT_STRETCH_FACTOR,this._isInInsertManyDataSourcesState=!1,this._lastLineDataSourceZOrder=null,this._maximized=!1,this._isMainPane=!1}var n=i(486).ExecutionsPositionController,r=i(1).LineDataSource,s=i(79),a=i(52).PriceDataSource,l=i(0).getLogger("Chart.Pane"),c=i(197),h=i(287),d=i(219).scaleRatio,u=i(219).priceRangeByScaleRatio,p=i(219).barSpacingByScaleRatio;o.DEFAULT_STRETCH_FACTOR=1e3,o.PANE_ANIMATION_DURATION=500,o.sortSourcesPreOrdered={"Volume@tv-basicstudies":0,ChartEventsSource:1,"ESD$TV_DIVIDENDS@tv-scripting":2,"ESD$TV_SPLITS@tv-scripting":3,"ESD$TV_EARNINGS@tv-scripting":4,LineToolOrder:5,LineToolPosition:6,LineToolExecution:7},o.prototype.destroy=function(){var t,e
;for(this._leftPriceScaleRatioChanged.unsubscribe(this,this._mainSeriesPaneScaleRatioOnChange),this._rightPriceScaleRatioChanged.unsubscribe(this,this._mainSeriesPaneScaleRatioOnChange),this.m_rightPriceScale.priceRangeChanged().unsubscribe(this,this._recalculateTimeScaleByRightScaleRatio),this.m_leftPriceScale.priceRangeChanged().unsubscribe(this,this._recalculateTimeScaleByLeftScaleRatio),this.m_timeScale.barSpacingChanged().unsubscribe(this,this._recalculatePriceScaleByScaleRatio),this.m_leftPriceScale.internalHeightChanged().unsubscribe(this,this._recalculatePriceScaleByScaleRatio),this.m_rightPriceScale.internalHeightChanged().unsubscribe(this,this._recalculatePriceScaleByScaleRatio),this.m_leftPriceScale.priceRangeChanged().unsubscribe(this,this._onLeftPriceScaleSetMinMaxPriceRange),this.m_rightPriceScale.priceRangeChanged().unsubscribe(this,this._onRightPriceScaleSetMinMaxPriceRange),this._properties.topMargin.listeners().unsubscribe(this,o.prototype._updateMargins),this._properties.bottomMargin.listeners().unsubscribe(this,o.prototype._updateMargins),t=0;t<this.m_dataSources.length;t++)e=this.m_dataSources[t],e.destroy&&e.destroy()},o.prototype.setPaneSize=function(t){var e={large:1,medium:.6,small:.3,tiny:.15};if(!e[t])throw Error("Unknown size enum value: "+t);this._stretchFactor=e[t]*o.DEFAULT_STRETCH_FACTOR},o.sortSources=function(t){return t.map(function(t){var e,i,n=t._constructor;return isFunction(t.metaInfo)&&(n=t.metaInfo().id),i=o.sortSourcesPreOrdered[n]||0,e=i>0?1/0:i<0?-1/0:t.zorder(),[t,i,e]}).sort(function(t,e){return t[1]-e[1]||t[2]-e[2]}).map(function(t){return t[0]})},o.prototype._updateMargins=function(){var t,e,i=.01*this._properties.topMargin.value(),o=.01*this._properties.bottomMargin.value();for(this.m_leftPriceScale.setTopMargin(i),this.m_leftPriceScale.setBottomMargin(o),this.m_rightPriceScale.setTopMargin(i),this.m_rightPriceScale.setBottomMargin(o),t=0;t<this.m_dataSources.length;t++)(e=this.m_dataSources[t])instanceof TradingView.Study&&this.isOverlay(e)&&"Volume"!==e.metaInfo().shortId&&e.priceScale()&&e.priceScale()!==this.m_leftPriceScale&&e.priceScale()===this.m_rightPriceScale&&(e.priceScale().setTopMargin(i),e.priceScale().setBottomMargin(o),this.recalculatePriceScale(e.priceScale()));this.recalculatePriceScale(this.m_leftPriceScale),this.recalculatePriceScale(this.m_rightPriceScale),this.updateAllViews()},o.prototype.model=function(){return this._model},o.prototype.width=function(){return this.m_width},o.prototype.height=function(){return this.m_height},o.prototype.setWidth=function(t){this.m_width=t,this.updateAllViews()},o.prototype.setHeight=function(t){var e,i;for(this.m_height=t,this.m_leftPriceScale.setHeight(t),this.m_rightPriceScale.setHeight(t),e=0;e<this.m_dataSources.length;e++)i=this.m_dataSources[e],this.isOverlay(i)&&i.priceScale()&&i.priceScale().setHeight(t);this.updateAllViews()},o.prototype.leftPriceScale=function(){return this.m_leftPriceScale},o.prototype.rightPriceScale=function(){return this.m_rightPriceScale},o.prototype.timeScale=function(){
return this.m_timeScale},o.prototype.dataSources=function(){return this.m_dataSources},o.prototype.isOverlay=function(t){return t._isOverlay},o.prototype._processMainSourceChange=function(){var t,e,i,n,s,l,h;if(null===this.m_mainDataSource)for(e=0;e<this.m_dataSources.length;e++)if(i=this.m_dataSources[e],TradingView.isInherited(i.constructor,a)&&!this.isOverlay(i)&&(!i.properties().linkedToSeries||!i.properties().linkedToSeries.value())&&!(i instanceof c)){this.m_mainDataSource=i,t=!0;break}if(this.m_mainDataSource&&t){for(n=[],e=0;e<this.m_dataSources.length;e++)i=this.m_dataSources[e],TradingView.isInherited(i.constructor,r)&&n.push(i);for(n=o.sortSources(n),e=0;e<n.length;e++)this.move(n[e],this.m_mainDataSource.priceScale(),!0)}else if(!this.m_mainDataSource||this.isOverlay(this.m_mainDataSource)&&0===this.nonOverlayPricesSourcesCount())for(e=0;e<this.m_dataSources.length;e++)if(i=this.m_dataSources[e],TradingView.isInherited(i.constructor,a)&&this.isOverlay(i)&&i.showInObjectTree()){for(this.m_mainDataSource=i,this.m_rightPriceScale.addDataSource(i),i.setPriceScale(this.m_rightPriceScale),s=this._model.children(i),h=0;h<s.length;h++)l=s[h],this.m_rightPriceScale.addDataSource(l),l.setPriceScale(this.m_rightPriceScale),l._isOverlay=!1;this.recalculatePriceScale(this.m_rightPriceScale),i._isOverlay=!1;break}},o.prototype._newZOrderForLineTool=function(){var t,e,i,o=null;for(t=0;t<this.m_dataSources.length;++t)(e=this.m_dataSources[t])instanceof r&&(i=e.zorder(),(null===o||i>o)&&(o=i));return null===o&&(o=this.getZOrderMinMax().minZOrder-1),this.m_dataSources.forEach(function(t){t.zorder()>o&&t.setZorder(t.zorder()+1)}),o+1},o.prototype.beginInsertManyLineDataSources=function(){this._isInInsertManyDataSourcesState=!0,this._lastLineDataSourceZOrder=null},o.prototype.endInsertManyLineDataSources=function(){this._isInInsertManyDataSourcesState=!1,this._lastLineDataSourceZOrder=null,this.updateAlertLabelsSources()},o.prototype.addDataSource=function(t,e,i){var o;t instanceof r&&!i?(o=null!==this._lastLineDataSourceZOrder?this._lastLineDataSourceZOrder:this._newZOrderForLineTool(),this._isInInsertManyDataSourcesState&&(this._lastLineDataSourceZOrder=o)):o=this.getZOrderMinMax().minZOrder-1,this.insertDataSource(t,e,o)},o.prototype.insertDataSource=function(t,e,i){var n,r,s;this.m_dataSources.push(t),n=!1,t===this._model.mainSeries()?(this.m_mainDataSource=t,n=!0):null!==this.m_mainDataSource||t instanceof c||(this.m_mainDataSource=t,n=!0),t._isOverlay=!1,null!==e||this.canHaveMoreNoScaleSources()||(e=this.rightPriceScale()),null===e&&(r=this.m_rightPriceScale.topMargin(),s=this.m_rightPriceScale.bottomMargin(),t.metaInfo&&"Volume@tv-basicstudies"===t.metaInfo().id&&(r=.75,s=0),e=new h(this._model.properties().scalesProperties),e.setHeight(this.m_height),e.setTopMargin(r),e.setBottomMargin(s),t._isOverlay=!0),e.addDataSource(t,this._isInInsertManyDataSourcesState),t.setPriceScale(e),t.onTagsChanged&&t.onTagsChanged().subscribe(this,o.prototype.onSourceTagsChanged),t.setZorder(i),n&&this._processMainSourceChange(),
t instanceof c||this._isInInsertManyDataSourcesState||this.updateAlertLabelsSources(),this._tagsChanged.fire(),TradingView.isInherited(t.constructor,a)&&this.recalculatePriceScale(e),this.invalidateSourcesCache()},o.prototype.removeDataSource=function(t,e){var i,n=this.m_dataSources.indexOf(t);if(-1===n)return void l.logDebug("removeDataSource: invalid data source");t._isOverlay=!1,this.m_dataSources.splice(n,1),t!==this.m_mainDataSource||e||(this.m_mainDataSource=null),i=null,-1!==this.m_leftPriceScale.dataSources().indexOf(t)?(this.m_leftPriceScale.removeDataSource(t),i=this.m_leftPriceScale):-1!==this.m_rightPriceScale.dataSources().indexOf(t)&&(this.m_rightPriceScale.removeDataSource(t),i=this.m_rightPriceScale),t.onTagsChanged&&t.onTagsChanged().unsubscribe(this,o.prototype.onSourceTagsChanged),TradingView.isInherited(t.constructor,a)&&this._processMainSourceChange(),t instanceof c||this._model.mainSeries()!==t||this.updateAlertLabelsSources(),this._tagsChanged.fire(),i&&TradingView.isInherited(t.constructor,a)&&this.recalculatePriceScale(i),this.invalidateSourcesCache()},o.prototype.updateAlertLabelsSources=function(){function t(t){return d.dataSources().filter(function(e){return e instanceof c&&e.data()===t})[0]}var e,i,o,n,r,s,a,l,h,d=this,u=this._model.alertsList();if(u)for(e=this.dataSources().filter(function(t){return t instanceof c}).map(function(t){return t.alert().id}),i=this.dataSources().map(function(t){return t.idForAlert()}),u=u.models,o=u.length-1;o>=0;o--)n=u[o],n.get("extra")&&(r=n.get("extra").alertSeries().id,s=-1!==e.indexOf(n.id),a=-1!==i.indexOf(r),s&&!a&&(l=t(n))&&this.removeDataSource(l),a&&!s&&(l=new c(this._model,n),h=this.rightPriceScale()||this.leftPriceScale(),this.addDataSource(l,h)))},o.prototype.startScalePrice=function(t,e){t.startScale(e)},o.prototype.scalePriceTo=function(t,e){t.scaleTo(e),this.updateAllViews()},o.prototype.endScalePrice=function(t){t.endScale()},o.prototype.startScrollPrice=function(t,e){t.startScroll(e)},o.prototype.scrollPriceTo=function(t,e){t.scrollTo(e),this.updateAllViews()},o.prototype.endScrollPrice=function(t){t.endScroll()},o.prototype.setPriceAutoScale=function(t,e){if(t.setAutoScale(e),this.timeScale().isEmpty())return void t.setPriceRange(null);this.recalculatePriceScale(t)},o.prototype.restorePriceScaleState=function(t,e){t.restoreState(e),this.updateAllViews()},o.prototype.updateAllViews=function(){for(var t=0;t<this.m_dataSources.length;t++)this.m_dataSources[t].updateAllViews()},o.prototype.defaultPriceScale=function(){var t=this.m_mainDataSource?this.m_mainDataSource.priceScale():this.rightPriceScale();return void 0===t&&(t=new h(this._model.properties().scalesProperties)),t},o.prototype._priceScaleIsPrice=function(t){var e=t.mainSource();return!!e&&(!!TradingView.isInherited(e.constructor,TradingView.Series)||!!TradingView.isInherited(e.constructor,TradingView.Study)&&e.metaInfo().is_price_study)},o.prototype.findSuitableScale=function(t){
if(TradingView.isInherited(t.constructor,TradingView.Study)&&"Volume@tv-basicstudies"===t.metaInfo().id)return this.m_rightPriceScale.mainSource()||this.m_leftPriceScale.mainSource()?null:this.m_rightPriceScale;var e=!1;if(TradingView.isInherited(t.constructor,TradingView.Study)?e=t.metaInfo().is_price_study:TradingView.isInherited(t.constructor,TradingView.Series)&&(e=!0),e){if(this._priceScaleIsPrice(this.m_rightPriceScale))return this.m_rightPriceScale;if(this._priceScaleIsPrice(this.m_leftPriceScale))return this.m_leftPriceScale}return this.m_rightPriceScale.mainSource()?this.m_leftPriceScale.mainSource()?null:this.m_leftPriceScale:this.m_rightPriceScale},o.prototype.mainDataSource=function(){return this.m_mainDataSource},o.prototype.recalculatePriceScale=function(t){var e,i;t&&(e=t.sourcesForAutoscale(),t.isAutoScale()&&e&&e.length>0&&!this.timeScale().isEmpty()&&(i=this.timeScale().visibleBars(),t.recalculatePriceRange(i)),t.updatePaneViews())},o.prototype.resetPriceScale=function(t){var e=this.timeScale().visibleBars();t.isLockScale()||t.setAutoScale(!0),t.recalculatePriceRange(e),this.updateAllViews()},o.prototype.recalculate=function(){var t,e;for(this.recalculatePriceScale(this.m_rightPriceScale),this.recalculatePriceScale(this.m_leftPriceScale),t=0;t<this.m_dataSources.length;t++)e=this.m_dataSources[t],!this.isOverlay(e)||e instanceof r||this.recalculatePriceScale(e.priceScale());this.updateAllViews(),this._model.updatePane(this)},o.prototype.isEmpty=function(){return null===this.m_mainDataSource},o.prototype.move=function(t,e,i){var o=this.m_dataSources.slice(),n=null!==e;this.removeDataSource(t,n),this.addDataSource(t,e,i),this.m_dataSources=o,this.invalidateSourcesCache()},o.prototype.dataSourceForId=function(t){for(var e=0;e<this.m_dataSources.length;e++)if(this.m_dataSources[e].id()===t)return this.m_dataSources[e];return null},o.prototype.priceScaleForSource=function(t){return-1!==this.rightPriceScale().dataSources().indexOf(t)?this.rightPriceScale():-1!==this.leftPriceScale().dataSources().indexOf(t)?this.leftPriceScale():null},o.prototype.sourceById=function(t){for(var e=0;e<this.m_dataSources.length;e++)if(this.m_dataSources[e].id()===t)return this.m_dataSources[e];return null},o.prototype.containsMainSeries=function(){return-1!==this.m_dataSources.indexOf(this._model.mainSeries())},o.prototype.priceScaleByName=function(t){return"left"===t?this.m_leftPriceScale:"right"===t?this.m_rightPriceScale:null},o.prototype.priceScaleName=function(t){return t===this.m_leftPriceScale?"left":t===this.m_rightPriceScale?"right":""},o.prototype.hitTestSources=function(){var t,e,i,o,n;if(this._cachedHitTestSources)return this._cachedHitTestSources;for(t=this.orderedSources(),e=[],i=[this._model.crossHairSource()],o=0;o<t.length;o++)n=t[o],TradingView.isInherited(n.constructor,r)?e.push(n):i.push(n);return this._cachedHitTestSources=i.concat(e),this._cachedHitTestSources},o.prototype.orderedSources=function(){var t,e,i,n;if(this._cachedOrderedSoruces)return this._cachedOrderedSoruces;for(t=[],e=0,
i=this.m_dataSources.length;e<i;e++)n=this.m_dataSources[e],TradingView.isInherited(n.constructor,r)&&!n.isActualSymbol()||t.push(n);return t=o.sortSources(t),this._cachedOrderedSoruces=t,t},o.prototype.createDrawingsCaches=function(){n.recreateOrderedByBarsSourcesCache(this)},o.prototype.clearDrawingCaches=function(){n.clearOrderedByBarsSourcesCache()},o.prototype.invalidateSourcesCache=function(){this._cachedOrderedSoruces=null,this._cachedHitTestSources=null,this.m_leftPriceScale.invalidateSourcesCache(),this.m_rightPriceScale.invalidateSourcesCache()},o.prototype.getZOrderMinMax=function(){var t,e,i,o,n=this.orderedSources();if(0===n.length)return{minZOrder:0,maxZOrder:0};for(t=n[0].zorder(),e=n[0].zorder(),i=1;i<n.length;i++)o=n[i],o.zorder()<t&&(t=o.zorder()),o.zorder()>e&&(e=o.zorder());return{minZOrder:t,maxZOrder:e}},o.prototype.isZOrderAvailable=function(t){var e,i;for(e=0;e<this.m_dataSources.length;e++)if(i=this.m_dataSources[e],i.zorder()===t)return!1;return!0},o.prototype.sendToBack=function(t){var e,i=this.getZOrderMinMax().minZOrder,o=Math.abs(t.zorder()-i);for(e=0;e<o;e++)this.changeZOrder(t,-1)},o.prototype.bringToFront=function(t){var e,i=this.getZOrderMinMax().maxZOrder,o=Math.abs(t.zorder()-i);for(e=0;e<o;e++)this.changeZOrder(t,1)},o.prototype.changeZOrder=function(t,e){var i,o,n,r,s,a=this.orderedSources().filter(function(t){return t.showInObjectTree()}),l=0;for(i=0,o=a.length;i<o;i++)if(a[i]===t){l=i;break}l>0&&e<0?(n=a[l-1].zorder(),r=t.zorder(),a[l-1].setZorder(r),t.setZorder(n)):l<a.length-1&&e>0&&(s=a[l+1].zorder(),r=t.zorder(),a[l+1].setZorder(r),t.setZorder(s)),this.invalidateSourcesCache()},o.prototype.onSourceTagsChanged=function(){this._tagsChanged.fire()},o.prototype.onTagsChanged=function(){return this._tagsChanged},o.prototype.dumpPriceScale=function(t){var e,i,o,n=t.dataSources(),r=[];for(e=0;e<n.length;e++)if(i=n[e].priceAxisViews(this,t))for(o=0;o<i.length;o++)r.push(i[o].dump());return r},o.prototype.dumpViews=function(){var t,e,i,o,n,r={};for(r.paneViews={},t=this.orderedSources(),e=0;e<t.length;e++)if(i=t[e],r.paneViews[e]=[],o=i.paneViews())for(n=0;n<o.size();n++)r.paneViews[e].push(o.item(e).dump());return r.leftAxis=this.dumpPriceScale(this.m_leftPriceScale),r.rightAxis=this.dumpPriceScale(this.m_rightPriceScale),r},o.prototype.clearSeries=function(){for(var t=this.m_dataSources.length-1;t>=0;t--)TradingView.isInherited(this.m_dataSources[t].constructor,TradingView.Series)&&this.m_dataSources.splice(t,1)},o.prototype.nonOverlayPricesSourcesCount=function(){return this.m_dataSources.filter(function(t){return(!t.properties().linkedToSeries||!t.properties().linkedToSeries.value())&&(TradingView.isInherited(t.constructor,a)&&t.showInObjectTree()&&!t.isNoScale())}).length},o.prototype.canHaveMoreNoScaleSources=function(){return this.nonOverlayPricesSourcesCount()>1},o.prototype.actionNoScaleIsEnabled=function(t){return!(!this.isOverlay(t)&&TradingView.isInherited(t.constructor,a))||this.canHaveMoreNoScaleSources()},o.prototype.executionsPositionController=function(){
return this._executionsPositionController||(this._executionsPositionController=new n(this,this._model.timeScale())),this._executionsPositionController},o.prototype.isLast=function(){var t=this._model.panes();return t[t.length-1]===this},o.prototype.setMaximized=function(t){this._maximized=t},o.prototype.isMaximized=function(){return this._maximized},o.prototype.isMainPane=function(){var t=this._model.mainSeries(),e=!1;return this.m_dataSources.forEach(function(i){e||(e=i===t)}),this._isMainPane=e,e},o.prototype.properties=function(){return this._properties},o.prototype._mainSourceVisiblePriceRange=function(t){var e=this.m_timeScale.visibleBars();return null!==e?t.mainSource().priceRange(e.firstBar(),e.lastBar()):new s(-.5,.5)},o.prototype.applyLeftPriceScaleRatio=function(t){this._lastLeftPriceScaleRatio!==t&&(this._setNewPriceRangeByScaleRatio(this.m_leftPriceScale,t,this._mainSourceVisiblePriceRange(this.m_leftPriceScale),!0,!0),this._tryToApplyNewLeftPriceScaleRatio(d(this.m_timeScale,this.m_leftPriceScale)))},o.prototype.applyRightPriceScaleRatio=function(t){this._lastRightPriceScaleRatio!==t&&(this._setNewPriceRangeByScaleRatio(this.m_rightPriceScale,t,this._mainSourceVisiblePriceRange(this.m_rightPriceScale),!0,!0),this._tryToApplyNewRightPriceScaleRatio(d(this.m_timeScale,this.m_rightPriceScale)))},o.prototype.isLeftPriceScaleLocked=function(){return!this.m_leftPriceScale.isLog()&&this.m_leftPriceScale.isLockScale()},o.prototype.isRightPriceScaleLocked=function(){return!this.m_rightPriceScale.isLog()&&this.m_rightPriceScale.isLockScale()},o.prototype.leftPriceScaleRatio=function(){return null===this._lastLeftPriceScaleRatio&&(this._lastLeftPriceScaleRatio=d(this.m_timeScale,this.m_leftPriceScale)),this._lastLeftPriceScaleRatio},o.prototype.rightPriceScaleRatio=function(){return null===this._lastRightPriceScaleRatio&&(this._lastRightPriceScaleRatio=d(this.m_timeScale,this.m_rightPriceScale)),this._lastRightPriceScaleRatio},o.prototype._mainSeriesPaneScaleRatioOnChange=function(){this.isMainPane()&&(this._lastLeftPriceScaleRatio=null,this._lastRightPriceScaleRatio=null,this._model.mainSeriesScaleRatioPropertyOnChanged())},o.prototype._applyOldScaleRatioToPriceScale=function(t,e){if(this._isRecalculatingScales||null===e||void 0===e)return!1;this._isRecalculatingScales=!0,this._setNewPriceRangeByScaleRatio(t,e,this._mainSourceVisiblePriceRange(t)),this._isRecalculatingScales=!1},o.prototype._applyOldScaleRatioToTimeScale=function(t,e){if(this._isRecalculatingScales||null===e||void 0===e)return!1;this._isRecalculatingScales=!0,this._setNewBarSpacingByScaleRatio(t,e),this._isRecalculatingScales=!1},o.prototype._tryToApplyNewLeftPriceScaleRatio=function(t){if(this._lastLeftPriceScaleRatio===t)return!1;this._leftPriceScaleRatioChanged.fire(this._lastLeftPriceScaleRatio,t),this._lastLeftPriceScaleRatio=t},o.prototype._tryToApplyNewRightPriceScaleRatio=function(t){if(this._lastRightPriceScaleRatio===t)return!1;this._rightPriceScaleRatioChanged.fire(this._lastRightPriceScaleRatio,t),this._lastRightPriceScaleRatio=t},
o.prototype._recalculatePriceScaleByScaleRatio=function(){this.isMainPane()&&(this.m_leftPriceScale.mainSource()&&(this.isLeftPriceScaleLocked()&&null!==this._lastLeftPriceScaleRatio?this._applyOldScaleRatioToPriceScale(this.m_leftPriceScale,this._lastLeftPriceScaleRatio):this._tryToApplyNewLeftPriceScaleRatio(d(this.m_timeScale,this.m_leftPriceScale))),this.m_rightPriceScale.mainSource()&&(this.isRightPriceScaleLocked()&&null!==this._lastRightPriceScaleRatio?this._applyOldScaleRatioToPriceScale(this.m_rightPriceScale,this._lastRightPriceScaleRatio):this._tryToApplyNewRightPriceScaleRatio(d(this.m_timeScale,this.m_rightPriceScale))))},o.prototype._recalculateTimeScaleByLeftScaleRatio=function(){this.isLeftPriceScaleLocked()&&null!==this._lastLeftPriceScaleRatio?this._applyOldScaleRatioToTimeScale(this.m_leftPriceScale,this._lastLeftPriceScaleRatio):this._tryToApplyNewLeftPriceScaleRatio(d(this.m_timeScale,this.m_leftPriceScale))},o.prototype._recalculateTimeScaleByRightScaleRatio=function(){this.isRightPriceScaleLocked()&&null!==this._lastRightPriceScaleRatio?this._applyOldScaleRatioToTimeScale(this.m_rightPriceScale,this._lastRightPriceScaleRatio):this._tryToApplyNewRightPriceScaleRatio(d(this.m_timeScale,this.m_rightPriceScale))},o.prototype._setNewPriceRangeByScaleRatio=function(t,e,i,o,n){var r=u(t,this.m_timeScale.barSpacing(),e);t.setPriceRange(null!==r?r:i,o,n)},o.prototype._setMinMaxPriceRange=function(t,e){var i=u(t,this.m_timeScale.maxBarSpacing(),e),o=u(t,this.m_timeScale.minBarSpacing(),e);null!==i&&t.setMaxPriceRange(i),null!==o&&t.setMinPriceRange(o)},o.prototype._onLeftPriceScaleSetMinMaxPriceRange=function(){this._setMinMaxPriceRange(this.m_leftPriceScale,this._lastLeftPriceScaleRatio)},o.prototype._onRightPriceScaleSetMinMaxPriceRange=function(){this._setMinMaxPriceRange(this.m_rightPriceScale,this._lastRightPriceScaleRatio)},o.prototype._setNewBarSpacingByScaleRatio=function(t,e){var i=this.m_timeScale.getValidBarSpacing(p(t,e));this.m_timeScale.isValidBarSpacing(i)&&this.m_timeScale.setBarSpacing(i)},t.exports=o}).call(e,i(4))},function(t,e,i){"use strict";(function(e,o){function n(t,e){if(this.m_base=t,this.m_integralDividers=e,this.m_fractionalDividers=[],p.isBaseDecimal(this.m_base))this.m_fractionalDividers=[2,2.5,2];else for(var i=this.m_base;1!==i;){if(i%2==0)this.m_fractionalDividers.push(2),i/=2;else{if(i%5!=0)throw new RangeError("unexpected base");this.m_fractionalDividers.push(2),this.m_fractionalDividers.push(2.5),i/=5}if(this.m_fractionalDividers.length>100)throw Error("something wrong with base")}}function r(t,e,i){this.m_marks=[],this.m_base=e,this.m_priceScale=t,this._formatter=i,i&&(this._cache=new f(function(t){return i.format(t)})),this._currentFormatBase=0}function s(t){for(var e=1;t*e!==Math.round(t*e);)e*=10;return e}function a(t,i){function n(){var t,e,i=s.m_dataSources;for(t=0;t<i.length;t++)e=i[t],e.priceScaleChanged&&e.priceScaleChanged.fire(s)}this._properties=new e(i||l),this._scalesProperties=t,this.m_height=0,this._internalHeightCache=null,
this._internalHeightChanged=new o,this.m_priceRange=null,this._priceRangeChanged=new o,this.m_dataSources=[],this.m_topMargin=0,this.m_bottomMargin=0,this._studyTopMargin=0,this._studyBottomMargin=0,this.m_scrollStartPoint=null,this.m_scaleStartPoint=null,this.m_maxPriceRange=null,this.m_minPriceRange=null,this.m_priceRangeSnapshot=null,this._invalidatedForRange={isValid:!0},this.onMarksChanged=new o,this.m_markBuilder=new r(this,100,new y(100)),this._properties.percentage.listeners().subscribe(this,a.prototype.updateFormatter);var s=this;this._properties.log.listeners().subscribe(null,function(t){var e,i,o,n;s.m_priceRange&&(e=s.m_priceRange,t.value()?(i=new w(s._toLog(e.minValue()),s._toLog(e.maxValue())),s.setPriceRange(i)):(o=s._fromLog(e.minValue()),n=s._fromLog(e.maxValue()),isFinite(o)&&isFinite(n)?(i=new w(o,n),s.setPriceRange(i)):s.properties().autoScale.setValue(!0)))}),this._properties.percentage.listeners().subscribe(null,function(){s._properties.autoScale.setValue(!0)}),this._properties.percentage.listeners().subscribe(null,function(){var t,e,i;s._properties.autoScaleDisabled.setValue(s._properties.percentage.value()),t=s.priceRange(),s.mainSource()&&!s.mainSource().model().timeScale().isEmpty()&&!s.mainSource().data().isEmpty()&&s.isLockScale()&&t&&(e=s.mainSource().model().timeScale().visibleBars(),i=s.mainSource().data().search(e.firstBar(),v.NearestRight).value[TradingView.CLOSE_PLOT],null!=t&&void 0!==i&&(s._properties.percentage.value()?s.setPriceRange(t.convertToPercents(i)):s.setPriceRange(t.convertFromPercents(i))))}),this._properties.lockScale.listeners().subscribe(null,function(t){var e=t.value();e&&(s._properties.autoScale.setValue(!1),s._properties.percentage.setValue(!1),s._properties.log.setValue(!1)),s._properties.percentageDisabled.setValue(e),s._properties.logDisabled.setValue(e)}),this._sourcesForAutoscale=null,this._sourcesToUpdateViews=null,this._hasSeries=!1,this._properties.percentage.listeners().subscribe(null,n),this._properties.log.listeners().subscribe(null,n),this._properties.listeners().subscribe(null,function(){s.mainSource()&&s.mainSource().model()&&s.mainSource().model().fullUpdate()})}var l,c=i(86),h=c.study_ESD$TV_EARNINGS,d=c.study_ESD$TV_SPLITS,u=c.study_ESD$TV_DIVIDENDS,p=i(36),f=i(284),_=i(1).LineDataSource,g=i(52).PriceDataSource,m=i(145),v=i(24).PlotRowSearchMode,y=i(16).PriceFormatter,b=i(73).PercentageFormatter,w=i(79);n.prototype.TICK_SPAN_EPSILON=1e-9,n.prototype.tickSpan=function(t,e,i){var o,n=0===this.m_base?0:1/this.m_base,r=this.TICK_SPAN_EPSILON,s=Math.pow(10,Math.max(0,Math.ceil(p.log10(t-e)))),a=0;for(a=0,o=this.m_integralDividers[0];s>n+r&&p.greaterOrEqual(s,n,r)&&p.greaterOrEqual(s,i*o,r)&&p.greaterOrEqual(s,1,r);++a,o=this.m_integralDividers[a%this.m_integralDividers.length])s/=o;if(s<=n+r&&(s=n),s=Math.max(1,s),this.m_fractionalDividers.length>0&&p.equal(s,1,r))for(a=0,o=this.m_fractionalDividers[0];s>n+r&&p.greaterOrEqual(s,i*o,r);++a,o=this.m_fractionalDividers[a%this.m_fractionalDividers.length])s/=o;return s},r.prototype.TICK_DENSITY=2.5,
r.prototype.base=function(){return this.m_base},r.prototype.setBase=function(t){if(t<0)throw new RangeError("base < 0");this.m_base=t},r.prototype.fontHeight=function(){return this.m_priceScale.fontSize()},r.prototype.tickSpan=function(t,e){var i,o,r,s,a,l,c;if(t<e)throw new RangeError("high < low");return i=this.m_priceScale.height(),o=this.tickMarkHeight(),r=(t-e)*o/i,s=new n(this.m_base,[2,2.5,2]),a=new n(this.m_base,[2,2,2.5]),l=new n(this.m_base,[2.5,2,2]),c=[],c.push(s.tickSpan(t,e,r)),c.push(a.tickSpan(t,e,r)),c.push(l.tickSpan(t,e,r)),p.min(c)},r.prototype.tickMarkHeight=function(){return Math.ceil(this.fontHeight()*this.TICK_DENSITY)},r.prototype.rebuildTickMarks=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p;if(null===this.m_priceScale)throw new TypeError("scale is null");if(this.m_priceScale.isEmpty())return void(this.m_marks=[]);if(t=this.m_priceScale.height(),e=this.m_priceScale.coordinateToPrice(t-1),i=this.m_priceScale.coordinateToPrice(0),o=i>=e?1:-1,n=Math.max(i,e),r=Math.min(i,e),i=n,e=r,i!==e)for(a=this.tickSpan(i,e),l=i%a,l+=l<0?a:0,this.m_marks=[],this._formatter||(c=s(a),this._cache&&this._currentFormatBase===c||(h=new y(c),this._cache=new f(function(t){return h.format(t)}))),d=null,u=i-l;u>e;u-=a)p=this.m_priceScale.priceToCoordinate(u),null!==d&&Math.abs(p-d)<this.tickMarkHeight()||(this.m_marks.push({coord:p,label:this._cache.format(u)}),d=p,this.m_priceScale.isLog()&&(a=this.tickSpan(u*o,e)))},r.prototype.marks=function(){return this.m_marks},l={autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0},a.prototype.isLog=function(){return this._properties.log.value()},a.prototype.isPercent=function(){return this._properties.percentage.value()},a.prototype.isPercentage=function(){return this._properties.percentage.value()},a.prototype.properties=function(){return this._properties},a.prototype.fontSize=function(){return this._scalesProperties.fontSize.value()},a.prototype.height=function(){return this.m_height},a.prototype.setHeight=function(t){this.m_height!==t&&(this.m_height=t,this._invalidateInternalHeightCache(),this._marksCache=null)},a.prototype.topMargin=function(){return Math.max(this.m_topMargin,this._studyTopMargin)},a.prototype.setTopMargin=function(t){if(!isNumber(t))throw new TypeError("invalid margin");if(t<0||t>30)throw new RangeError("invalid margin");this.m_topMargin!==t&&(this.m_topMargin=t,this._invalidateInternalHeightCache(),this._marksCache=null)},a.prototype.bottomMargin=function(){return Math.max(this.m_bottomMargin,this._studyBottomMargin)},a.prototype.setBottomMargin=function(t){if(!isNumber(t))throw new TypeError("invalid margin");if(t<0||t>30)throw new RangeError("invalid margin");this.m_bottomMargin!==t&&(this.m_bottomMargin=t,this._invalidateInternalHeightCache(),this._marksCache=null)},a.prototype.internalHeight=function(){if(this._internalHeightCache)return this._internalHeightCache;var t=this.height()*(1-this.topMargin()-this.bottomMargin());return this._internalHeightCache=t,t},
a.prototype._invalidateInternalHeightCache=function(){this._internalHeightCache=null,this._internalHeightChanged.fire()},a.prototype.internalHeightChanged=function(){return this._internalHeightChanged},a.prototype.priceRange=function(){return this.makeSureItIsValid(),this.m_priceRange},a.prototype.priceRangeChanged=function(){return this._priceRangeChanged},a.prototype.setPriceRange=function(t,e,i){var o,n,r;if(!(t instanceof w))throw new TypeError("incorrect price range");return o=this.m_priceRange,!!(e||null===o&&null!==t||null!==o&&!o.equals(t))&&(n=null!==this.m_maxPriceRange&&this.m_maxPriceRange.containsStrictly(t),r=null!==this.m_minPriceRange&&t.containsStrictly(this.m_minPriceRange),!(this.isLockScale()&&!e&&(n||r))&&(this._marksCache=null,this.m_priceRange=t,void(i||this._priceRangeChanged.fire(o,t))))},a.prototype.isEmpty=function(){return this.makeSureItIsValid(),0===this.m_height||!this.m_priceRange||this.m_priceRange.isEmpty()},a.prototype.invertedCoordinate=function(t){return this.height()-1-t},a._logicalOffset=4,a._coordOffset=1e-4,a.prototype.log10=function(t){return Math.log(t)/Math.log(10)},a.prototype._toLog=function(t){var e,i=Math.abs(t);return i<1e-8?0:(e=this.log10(i+a._coordOffset)+a._logicalOffset,t<0?-e:e)},a.prototype.priceToLogical=function(t){return this.isLog()&&t?this._toLog(t):t},a.prototype._fromLog=function(t){var e,i=Math.abs(t);return i<1e-8?0:(e=Math.pow(10,i-a._logicalOffset)-a._coordOffset,t<0?-e:e)},a.prototype.logicalToPrice=function(t){return this.isLog()?this._fromLog(t):t},a.prototype.priceToCoordinate=function(t,e){var i,o;return this.makeSureItIsValid(),this.isEmpty()?0:(t=this.priceToLogical(t),i=this.bottomMargin()*this.height()+(this.internalHeight()-1)*(t-this.priceRange().minValue())/(this.priceRange().maxValue()-this.priceRange().minValue()),o=this.invertedCoordinate(i),e?o:Math.round(o))},a.prototype.pricesToCoordinates=function(t){this.pricesToCoordinatesEx(t,function(t){return t.y},function(t,e){t.y=e})},a.prototype.pricesToCoordinatesEx=function(t,e,i){var o,n,r,s,a,l,c,h,d;if(this.makeSureItIsValid(),o=this.bottomMargin()*this.height(),n=this.priceRange().minValue(),r=this.priceRange().maxValue(),s=this.internalHeight()-1,a=s/(r-n),this.isLog())for(l=0;l<t.length;l++)c=e(t[l]),i(t[l],this.priceToLogical(c));for(l=0;l<t.length;l++)c=e(t[l]),TradingView.isNaN(c)||void 0===c||null===c||(h=o+a*(c-n),d=this.m_height-1-h,i(t[l],Math.round(d)))},a.prototype.pointsArrayToCoordinates=function(t){var e,i,o,n,r,s,a,l,c;if(this.makeSureItIsValid(),e=this.bottomMargin()*this.height(),i=this.priceRange().minValue(),o=this.priceRange().maxValue(),n=this.internalHeight()-1,r=n/(o-i),this.isLog())for(s=0;s<t.length;s++)t[s].y=this.priceToLogical(t[s].y);for(s=0;s<t.length;s++)a=t[s].y,TradingView.isNaN(a)||void 0===a||null===a||(l=e+r*(a-i),c=this.m_height-1-l,t[s].y=Math.round(c))},a.prototype.pricesArrayToCoordinates=function(t){var e,i,o,n,r,s,a,l,c;if(this.makeSureItIsValid(),e=this.bottomMargin()*this.height(),i=this.priceRange().minValue(),o=this.priceRange().maxValue(),
n=this.internalHeight()-1,r=n/(o-i),this.isLog())for(s=0;s<t.length;s++)t[s]=this.priceToLogical(t[s]);for(s=0;s<t.length;s++)void 0!==(a=t[s])&&null!==a&&(l=e+r*(a-i),c=this.m_height-1-l,t[s]=Math.round(c))},a.prototype.barPricesToCoordinates=function(t){var e,i,o,n,r,s,a,l,c,h,d;if(this.makeSureItIsValid(),e=t,i=this.bottomMargin()*this.height(),o=this.priceRange().minValue(),n=this.priceRange().maxValue(),r=this.internalHeight()-1,s=r/(n-o),this.isLog())for(a=0;a<e.length;a++)e[a]&&(e[a].open=this.priceToLogical(e[a].open),e[a].high=this.priceToLogical(e[a].high),e[a].low=this.priceToLogical(e[a].low),e[a].close=this.priceToLogical(e[a].close),e[a].additionalPrice&&(e[a].additionalPrice=this.priceToLogical(e[a].additionalPrice)));for(a=0;a<e.length;a++)(l=e[a])&&(c=l.open,h=i+s*(c-o),d=this.m_height-1-h,l.open=Math.round(d),c=l.high,h=i+s*(c-o),d=this.m_height-1-h,l.high=Math.round(d),c=l.low,h=i+s*(c-o),d=this.m_height-1-h,l.low=Math.round(d),c=l.close,h=i+s*(c-o),d=this.m_height-1-h,l.close=Math.round(d),l.additionalPrice&&(c=l.additionalPrice,h=i+s*(c-o),d=this.m_height-1-h,l.additionalPrice=Math.round(d)))},a.prototype.coordinateToPrice=function(t){var e,i;return this.makeSureItIsValid(),this.isEmpty()?0:(e=this.invertedCoordinate(t),i=this.priceRange().minValue()+(this.priceRange().maxValue()-this.priceRange().minValue())*((e-this.bottomMargin()*this.height())/(this.internalHeight()-1)),this.logicalToPrice(i))},a.prototype.dataSources=function(){return this.m_dataSources},a.prototype.orderedSources=function(){var t,e,o,n;if(this._cachedOrderedSoruces)return this._cachedOrderedSoruces;for(t=[],e=0;e<this.m_dataSources.length;e++)o=this.m_dataSources[e],null==o.zorder()&&o.setZorder(e+1),t.push(o);return n=i(286),t=n.sortSources(t),this._cachedOrderedSoruces=t,this._cachedOrderedSoruces},a.prototype.invalidateSourcesCache=function(){this._cachedOrderedSoruces=null},a.prototype.hasSeries=function(){return this._hasSeries},a.prototype.addDataSource=function(t,e){var i,o;(e||-1===this.m_dataSources.indexOf(t))&&(TradingView.isInherited(t.constructor,m)&&(i=t.properties(),!0!==this._hasSeries&&(i.lockScale&&(this._properties.lockScale.setValue(i.lockScale.value()),i.removeProperty("lockScale")),i.pnfStyle.lockScale&&i.pnfStyle.removeProperty("lockScale")),this._hasSeries=!0),o=this,t.properties().visible.listeners().subscribe(null,function(){o._sourcesForAutoscale=null}),this.m_dataSources.push(t),this._mainSource=void 0,this._sourcesForAutoscale=null,this._sourcesToUpdateViews=null,this.updateFormatter(),this.initScaleProperties(),this.invalidateSourcesCache())},a.prototype.initScaleProperties=function(){var t=this.isLockScale();t&&(this.properties().percentage.setValue(!1),this.properties().log.setValue(!1),this.properties().autoScale.setValue(!1)),this.properties().percentageDisabled.setValue(t),this.properties().logDisabled.setValue(t),this.properties().autoScaleDisabled.setValue(this.properties().percentage.value()),this.properties().percentage.value()&&this.properties().log.setValue(!1)},
a.prototype.removeDataSource=function(t){var e=this.m_dataSources.indexOf(t);if(-1===e)throw Error("source is not attached to scale");this.m_dataSources.splice(e,1),TradingView.isInherited(t.constructor,m)&&(this._hasSeries=!1),this.mainSource()||this.setAutoScale(!0),this._mainSource=void 0,this._sourcesForAutoscale=null,this._sourcesToUpdateViews=null,this.updateFormatter(),this.invalidateSourcesCache()},a.prototype.isAutoScale=function(){return this._properties.autoScale.value()&&!this.isLockScale()},a.prototype.isLockScale=function(){return this._properties.lockScale.value()},a.prototype.setAutoScale=function(t){this._properties.autoScale.setValue(t)},a.prototype.isScaled=function(){return"number"==typeof this.m_scaleStartPoint},a.prototype.startScale=function(t){this.isPercentage()||null===this.m_scaleStartPoint&&null===this.m_priceRangeSnapshot&&(this.isEmpty()||(this.m_scaleStartPoint=this.m_height-t,this.m_priceRangeSnapshot=this.priceRange().clone()))},a.prototype.marks=function(){return this._marksCache?this._marksCache:(this.m_markBuilder.rebuildTickMarks(),this._marksCache=this.m_markBuilder.marks(),this.onMarksChanged.fire(),this._marksCache)},a.prototype.setMaxPriceRange=function(t){this.m_maxPriceRange=t},a.prototype.setMinPriceRange=function(t){this.m_minPriceRange=t},a.prototype.scaleTo=function(t){var e,i;this.isPercentage()||null!==this.m_scaleStartPoint&&(this.setAutoScale(!1),t=this.m_height-t,t<0&&(t=0),e=(this.m_scaleStartPoint+.2*(this.m_height-1))/(t+.2*(this.m_height-1)),i=this.m_priceRangeSnapshot.clone(),e=Math.max(e,.1),i.scaleAroundCenter(e),this.setPriceRange(i))},a.prototype.endScale=function(){this.isPercentage()||null!==this.m_scaleStartPoint&&(this.m_scaleStartPoint=null,this.m_priceRangeSnapshot=null)},a.prototype.startScroll=function(t){this.isAutoScale()||null===this.m_scrollStartPoint&&null===this.m_priceRangeSnapshot&&(this.isEmpty()||(this.m_scrollStartPoint=t,this.m_priceRangeSnapshot=this.priceRange().clone()))},a.prototype.scrollTo=function(t){var e,i,o,n;this.isAutoScale()||null!==this.m_scrollStartPoint&&(e=this.priceRange().length()/(this.height()-1),i=t-this.m_scrollStartPoint,o=i*e,n=this.m_priceRangeSnapshot.clone(),n.shift(o),this.setPriceRange(n,!0),this._marksCache=null)},a.prototype.endScroll=function(){this.isAutoScale()||null!==this.m_scrollStartPoint&&(this.m_scrollStartPoint=null,this.m_priceRangeSnapshot=null)},a.prototype.state=function(){var t={};return t.m_priceRange=this.priceRange()?this.priceRange().serialize():null,t.m_isAutoScale=this.isAutoScale(),t.m_isPercentage=this._properties.percentage.value(),t.m_isLog=this._properties.log.value(),t.m_isLockScale=this.isLockScale(),t.m_height=this.m_height,t.m_topMargin=this.m_topMargin,t.m_bottomMargin=this.m_bottomMargin,t},a.prototype.restoreState=function(t){var e=t.m_priceRange;if(void 0===e)throw new TypeError("invalid state");if(void 0===t.m_isAutoScale)throw new TypeError("invalid state");void 0!==t.m_isPercentage&&this._properties.percentage.setValue(t.m_isPercentage),
void 0!==t.m_isLog&&this._properties.log.setValue(t.m_isLog),void 0!==t.m_isLockScale&&this._properties.lockScale.setValue(t.m_isLockScale),e?this.setPriceRange(new w(e),!0):this.m_priceRange=null,void 0!==t.m_height&&(this.m_height=Math.max(0,t.m_height)),this.setAutoScale(t.m_isAutoScale),void 0!==t.m_topMargin&&(this.m_topMargin=t.m_topMargin),void 0!==t.m_bottomMargin&&(this.m_bottomMargin=t.m_bottomMargin),this._mainSource=void 0,this._scaleSeriesOnly=!1},a.prototype.mainSource=function(){var t,e;if(void 0!==this._mainSource)return this._mainSource;for(t=void 0,e=0;e<this.m_dataSources.length;e++){if(TradingView.isInherited(this.m_dataSources[e].constructor,m)){t=this.m_dataSources[e];break}!t&&TradingView.isInherited(this.m_dataSources[e].constructor,g)&&(t=this.m_dataSources[e])}return this._mainSource=t,this._mainSource||null},a.prototype.formatter=function(){return this._formatter||this.updateFormatter(),this._formatter},a.prototype.updateFormatter=function(){var t,e;this._marksCache=null,t=this.mainSource(),e=100,t&&(e=t.base()),this._formatter=null,this.properties().percentage.value()?this._formatter=new b:this._formatter=t?t.formatter():new y(100,1),this.m_markBuilder=new r(this,e,this._formatter),this.m_markBuilder.rebuildTickMarks()},a.prototype._recalculateSourcesForAutoscale=function(){var t,e;this._mainSource&&(this._scaleSeriesOnly=this._scalesProperties.scaleSeriesOnly.value()),t=this._scaleSeriesOnly&&this._hasSeries,e=function(e){return!!(e.properties().visible.value()||e instanceof m)&&(!(e instanceof u||e instanceof d||e instanceof h)&&(t?TradingView.isInherited(e.constructor,m):TradingView.isInherited(e.constructor,g)))},this._sourcesForAutoscale=this.m_dataSources.filter(e)},a.prototype.sourcesForAutoscale=function(){return this._mainSource&&this._scaleSeriesOnly!==this._scalesProperties.scaleSeriesOnly.value()&&(this._sourcesForAutoscale=null),this._sourcesForAutoscale||this._recalculateSourcesForAutoscale(),this._sourcesForAutoscale},a.prototype.recalculatePriceRange=function(t){this._invalidatedForRange={visibleBars:t,isValid:!1}},a.prototype.makeSureItIsValid=function(){this._invalidatedForRange.isValid||(this._invalidatedForRange.isValid=!0,this.recalculatePriceRangeImpl())},a.prototype.recalculatePriceRangeImpl=function(){var t,e,i,o,n,r,s,a,l,c,h=this._invalidatedForRange.visibleBars;if(null!==h){for(t=null,e=this.sourcesForAutoscale(),i=0,o=0,n=0;n<e.length;n++)r=e[n],r.properties().visible.value()&&(s=h.firstBar(),a=h.lastBar(),l=r.priceRange(s,a),null===t&&l?t=l:l&&(t=t.merge(l)),r.margins&&(c=r.margins(),i=Math.max(c[0],i),o=Math.max(c[1],o)));(Math.abs(o-this._studyBottomMargin)>.01||Math.abs(i-this._studyTopMargin)>.01)&&(this._studyBottomMargin=o,this._studyTopMargin=i,this._marksCache=null,this._invalidateInternalHeightCache()),t?(t.minValue()===t.maxValue()&&(t=new w(t.minValue()-.5,t.maxValue()+.5)),this.setPriceRange(t)):this.m_priceRange||this.setPriceRange(new w(-.5,.5)),this._invalidatedForRange.isValid=!0}},a.prototype.sourcesToUpdateViews=function(){var t,e
;if(!this._sourcesToUpdateViews)for(this._sourcesToUpdateViews=[],t=0;t<this.m_dataSources.length;t++)e=this.m_dataSources[t],TradingView.isInherited(e.constructor,_)&&!e.isActualSymbol()||this._sourcesToUpdateViews.push(e);return this._sourcesToUpdateViews},a.prototype.updatePaneViews=function(){var t,e=this.sourcesToUpdateViews();for(t=0;t<e.length;t++)e[t].updateAllViews()},a.prototype.priceRangeInPrice=function(){var t,e,i,o,n,r;return this.isEmpty()?null:this.isPercent()?(t=this.mainSource().model().timeScale().visibleBars(),e=this.mainSource().data().search(t.firstBar(),v.NearestRight).value[TradingView.CLOSE_PLOT],i=this.priceRange().convertFromPercents(e),{from:i.minValue(),to:i.maxValue()}):(o=this.height(),n=this.coordinateToPrice(o-1),r=this.coordinateToPrice(0),{from:n,to:r})},t.exports=a}).call(e,i(37),i(4))},,function(t,e,i){"use strict";var o,n,r,s,a,l,c,h;Object.defineProperty(e,"__esModule",{value:!0}),o=i(9),n=i(22),r=i(4),s=i(17),a=i(0),l=a.getLogger("ChartApi.AbstractSession"),c="",h=function(){function t(t,e,i){this._isConnected=new n(!1),this._state=0,this._isConnectForbidden=!1,this._sessionId=c,this._sessionIdChanged=new r,this._chartApi=t,this._sessionPrefix=e,this._shouldReconnectAfterCriticalError=i}return t.prototype.destroy=function(){this._logNormal("Destroying session"),this._isConnected.unsubscribe(),this.disconnect(),this._sessionIdChanged.destroy(),delete this._chartApi,this._logNormal("Session has been destroyed")},t.prototype.isConnected=function(){return this._isConnected},t.prototype.sessionId=function(){return this._sessionId},t.prototype.onSessionIdChanged=function(){return this._sessionIdChanged},t.prototype.connect=function(){0===this._state&&(o.assert(!this._isConnectForbidden,"Cannot call connect because it is forbidden at this moment"),this._setSessionId(this._sessionPrefix+"_"+s.randomHash()),this._logNormal("Connecting session - wait until transport stay connected"),this._state=1,this._chartApi.createSession(this._sessionId,this))},t.prototype.disconnect=function(){var t=this;0!==this._state&&(o.assert(this._sessionId!==c,"sessionId must not be invalid"),this._logNormal("Disconnecting session..."),this._forbidConnectWhile(function(){t._chartApi.connected()&&t._sendRemoveSession(),t._processDestroyingOnServer()}))},t.prototype.onMessage=function(t){var e,i;switch(t.method){case"connected":return void this._onChartApiConnected();case"disconnected":return void this._onChartApiDisconnected();case"critical_error":return e=t.params[0]+"",i=t.params[1]+"",void this._onCriticalError(e,i)}this._onMessage(t)},t.prototype._getChartApi=function(){return this._chartApi},t.prototype._generateLogMessage=function(t){return"["+this._sessionId+"] "+t},t.prototype._onCriticalError=function(t,e){var i=this;this._logError("Critical error. Reason="+t+", info="+e+"."),this._forbidConnectWhile(function(){i._processDestroyingOnServer()}),this._shouldReconnectAfterCriticalError?(this._logNormal("Reconnecting after critical error..."),
this.connect()):this._logNormal("Reconnecting after critical error skipped")},t.prototype._onChartApiConnected=function(){o.assert(1===this._state,"Session is not registered"),this._logNormal("Transport is connected. Creating session on the server"),this._sendCreateSession(),this._state=2,this._isConnected.setValue(!0)},t.prototype._onChartApiDisconnected=function(){var t=this;this._logNormal("Transport is disconnected. Reconnecting..."),this._forbidConnectWhile(function(){t._processDestroyingOnServer()}),this.connect()},t.prototype._setSessionId=function(t){var e=this._sessionId;this._logNormal("Changing sessionId: old="+e+", new="+t),this._sessionId=t,this._sessionIdChanged.fire(t,e)},t.prototype._logNormal=function(t){l.logNormal(this._generateLogMessage(t))},t.prototype._logError=function(t){l.logError(this._generateLogMessage(t))},t.prototype._processDestroyingOnServer=function(){this._state=0,this._isConnected.setValue(!1),this._chartApi.removeSession(this._sessionId),this._setSessionId(c)},t.prototype._forbidConnectWhile=function(t){this._isConnectForbidden=!0,t(),this._isConnectForbidden=!1},t}(),e.Session=h},,,,,function(t,e){},function(t,e,i){function o(t){return i(n(t))}function n(t){var e=r[t];if(!(e+1))throw Error("Cannot find module '"+t+"'.");return e}var r={"./flag-square-ae.svg":296,"./flag-square-al.svg":297,"./flag-square-am.svg":298,"./flag-square-ao.svg":299,"./flag-square-ar.svg":300,"./flag-square-at.svg":301,"./flag-square-au.svg":302,"./flag-square-az.svg":303,"./flag-square-ba.svg":304,"./flag-square-be.svg":305,"./flag-square-bg.svg":306,"./flag-square-bh.svg":307,"./flag-square-bi.svg":308,"./flag-square-br.svg":309,"./flag-square-btc.svg":310,"./flag-square-bw.svg":311,"./flag-square-by.svg":312,"./flag-square-ca.svg":313,"./flag-square-ch.svg":314,"./flag-square-ci.svg":315,"./flag-square-cl.svg":316,"./flag-square-cn.svg":317,"./flag-square-co.svg":318,"./flag-square-copper.svg":319,"./flag-square-cy.svg":320,"./flag-square-cz.svg":321,"./flag-square-de.svg":322,"./flag-square-dk.svg":323,"./flag-square-ee.svg":324,"./flag-square-eg.svg":325,"./flag-square-es.svg":326,"./flag-square-et.svg":327,"./flag-square-eu.svg":328,"./flag-square-eurgbp.svg":329,"./flag-square-eurjpy.svg":330,"./flag-square-eurrub.svg":331,"./flag-square-eurusd.svg":332,"./flag-square-fi.svg":333,"./flag-square-forex.svg":334,"./flag-square-fr.svg":335,"./flag-square-gas.svg":336,"./flag-square-gb.svg":337,"./flag-square-gbpeur.svg":338,"./flag-square-gbpjpy.svg":339,"./flag-square-gbpusd.svg":340,"./flag-square-ge.svg":341,"./flag-square-gh.svg":342,"./flag-square-gold.svg":343,"./flag-square-gr.svg":344,"./flag-square-gs.svg":345,"./flag-square-hk.svg":346,"./flag-square-hr.svg":347,"./flag-square-hu.svg":348,"./flag-square-id.svg":349,"./flag-square-ie.svg":350,"./flag-square-ik.svg":351,"./flag-square-il.svg":352,"./flag-square-in.svg":353,"./flag-square-ir.svg":354,"./flag-square-is.svg":355,"./flag-square-it.svg":356,"./flag-square-jo.svg":357,"./flag-square-jp.svg":358,"./flag-square-ke.svg":359,
"./flag-square-kh.svg":360,"./flag-square-kn.svg":361,"./flag-square-kp.svg":362,"./flag-square-kr.svg":363,"./flag-square-kw.svg":364,"./flag-square-kz.svg":365,"./flag-square-lk.svg":366,"./flag-square-lt.svg":367,"./flag-square-lu.svg":368,"./flag-square-lv.svg":369,"./flag-square-ma.svg":370,"./flag-square-md.svg":371,"./flag-square-mk.svg":372,"./flag-square-mock.svg":189,"./flag-square-mt.svg":373,"./flag-square-mu.svg":374,"./flag-square-mv.svg":375,"./flag-square-mw.svg":376,"./flag-square-mx.svg":377,"./flag-square-my.svg":378,"./flag-square-mz.svg":379,"./flag-square-na.svg":380,"./flag-square-ng.svg":381,"./flag-square-ni.svg":382,"./flag-square-nl.svg":383,"./flag-square-no.svg":384,"./flag-square-np.svg":385,"./flag-square-nz.svg":386,"./flag-square-oildrop.svg":387,"./flag-square-om.svg":388,"./flag-square-pe.svg":389,"./flag-square-ph.svg":390,"./flag-square-pk.svg":391,"./flag-square-pl.svg":392,"./flag-square-pt.svg":393,"./flag-square-py.svg":394,"./flag-square-qa.svg":395,"./flag-square-ro.svg":396,"./flag-square-rs.svg":397,"./flag-square-ru.svg":398,"./flag-square-rw.svg":399,"./flag-square-sa.svg":400,"./flag-square-sc.svg":401,"./flag-square-se.svg":402,"./flag-square-sg.svg":403,"./flag-square-si.svg":404,"./flag-square-silver.svg":405,"./flag-square-sj.svg":406,"./flag-square-sk.svg":407,"./flag-square-sn.svg":408,"./flag-square-tg.svg":409,"./flag-square-th.svg":410,"./flag-square-tn.svg":411,"./flag-square-tr.svg":412,"./flag-square-tw.svg":413,"./flag-square-tz.svg":414,"./flag-square-ua.svg":415,"./flag-square-ug.svg":416,"./flag-square-uk.svg":417,"./flag-square-us.svg":418,"./flag-square-usd.svg":419,"./flag-square-usdcny.svg":420,"./flag-square-usdinr.svg":421,"./flag-square-usdjpy.svg":422,"./flag-square-usdrub.svg":423,"./flag-square-usdusd.svg":424,"./flag-square-uy.svg":425,"./flag-square-ve.svg":426,"./flag-square-vn.svg":427,"./flag-square-ww.svg":428,"./flag-square-za.svg":429,"./flag-square-zm.svg":430,"./flag-square-zw.svg":431};o.keys=function(){return Object.keys(r)},o.resolve=n,t.exports=o,o.id=295},function(t,e,i){t.exports=i.p+"flag-square-ae.042ec21ea57ec386282b5e437ced14a0.svg"},function(t,e,i){t.exports=i.p+"flag-square-al.cd8614eed2c9ecd0111030d6ae43b07c.svg"},function(t,e,i){t.exports=i.p+"flag-square-am.ab0aa08606b4a9db4f1d6115cbff1246.svg"},function(t,e,i){t.exports=i.p+"flag-square-ao.2dab12e8a6c93cdc361b475dcd7b3074.svg"},function(t,e,i){t.exports=i.p+"flag-square-ar.8e74262607de7641e1443e206ecf02d8.svg"},function(t,e,i){t.exports=i.p+"flag-square-at.de7f5bc35af05c24d9640b6fd0910bdf.svg"},function(t,e,i){t.exports=i.p+"flag-square-au.f5ed10ec1625eb393ada7073b9afd17e.svg"},function(t,e,i){t.exports=i.p+"flag-square-az.cc72d282b465b57676eca56e46cf1e8c.svg"},function(t,e,i){t.exports=i.p+"flag-square-ba.8c3b568f1adc6a626342305c8f60b203.svg"},function(t,e,i){t.exports=i.p+"flag-square-be.e7b7ff011682d59763997a75104c9979.svg"},function(t,e,i){t.exports=i.p+"flag-square-bg.e7ed49ce872797c8630fd5f8446ffbee.svg"},function(t,e,i){
t.exports=i.p+"flag-square-bh.86e22a99d9d9ee81924e0b438e204dd7.svg"},function(t,e,i){t.exports=i.p+"flag-square-bi.d369378aefaaed47363bffaedb308143.svg"},function(t,e,i){t.exports=i.p+"flag-square-br.0788cb238b1a4b247dc64b6520a1de87.svg"},function(t,e,i){t.exports=i.p+"flag-square-btc.b76c5d46e4a16d15dc5671be3cff5946.svg"},function(t,e,i){t.exports=i.p+"flag-square-bw.6cc5af4752574eb61f0c8075ca1b7881.svg"},function(t,e,i){t.exports=i.p+"flag-square-by.6b4a6bb049ac33e322b700e50fc5b926.svg"},function(t,e,i){t.exports=i.p+"flag-square-ca.a6b73d85f90f4b55b4d8560f175fb635.svg"},function(t,e,i){t.exports=i.p+"flag-square-ch.2d9e49752791b82092387b7ffd7e427f.svg"},function(t,e,i){t.exports=i.p+"flag-square-ci.81f2326cf9c77d248b96f6bc5f80c13d.svg"},function(t,e,i){t.exports=i.p+"flag-square-cl.a54eae35e396c3f9ec2c154c8389933e.svg"},function(t,e,i){t.exports=i.p+"flag-square-cn.ab02a73c827877d701e4dd32eb729ed9.svg"},function(t,e,i){t.exports=i.p+"flag-square-co.ed080993df791efad30f99a0e698601e.svg"},function(t,e,i){t.exports=i.p+"flag-square-copper.e74044c9dde2c6e92798022e5e87112b.svg"},function(t,e,i){t.exports=i.p+"flag-square-cy.52d1261e628f634b5e62c0d6071d82c1.svg"},function(t,e,i){t.exports=i.p+"flag-square-cz.27419b53618cdc6022ec621a38a2e27e.svg"},function(t,e,i){t.exports=i.p+"flag-square-de.c3bf6a8b432dba36fcdb79e0e7b892e4.svg"},function(t,e,i){t.exports=i.p+"flag-square-dk.883627aca446035b3986466acc71a69b.svg"},function(t,e,i){t.exports=i.p+"flag-square-ee.386646a0d8b2c0e75d201d07083beb35.svg"},function(t,e,i){t.exports=i.p+"flag-square-eg.c416c4db2f76c13e5cfb1cd73b057264.svg"},function(t,e,i){t.exports=i.p+"flag-square-es.062c248cf8d2c525bd9526653ab95657.svg"},function(t,e,i){t.exports=i.p+"flag-square-et.e62b523f0ed069cf4e2afa903fece44f.svg"},function(t,e,i){t.exports=i.p+"flag-square-eu.1d3eecfc50933a84c28985cffe2fbb4e.svg"},function(t,e,i){t.exports=i.p+"flag-square-eurgbp.5e2c3dfd39063b2047a1635b230f2434.svg"},function(t,e,i){t.exports=i.p+"flag-square-eurjpy.5ead25a58509746a3d6660ac68dddcfe.svg"},function(t,e,i){t.exports=i.p+"flag-square-eurrub.2a2fcc3be65ec55e8ce5d7016f9b62eb.svg"},function(t,e,i){t.exports=i.p+"flag-square-eurusd.775f2895f1062d74972c3e33d59f1a59.svg"},function(t,e,i){t.exports=i.p+"flag-square-fi.fe924d5d871ef07299ad5e11db2c8a70.svg"},function(t,e,i){t.exports=i.p+"flag-square-forex.6c45a28c69aad8a75655bdd555d86f68.svg"},function(t,e,i){t.exports=i.p+"flag-square-fr.dddac09a7572568f517e22700f4c8474.svg"},function(t,e,i){t.exports=i.p+"flag-square-gas.7e65fbae12fc0bc19e642ebb9faf0752.svg"},function(t,e,i){t.exports=i.p+"flag-square-gb.9e8a00c2e2b16d8ece1e344906002df9.svg"},function(t,e,i){t.exports=i.p+"flag-square-gbpeur.9960e31d5d71ac3e8c03115aed46a0fd.svg"},function(t,e,i){t.exports=i.p+"flag-square-gbpjpy.1904a84b24b5acc388ebaf3f72f6e7a5.svg"},function(t,e,i){t.exports=i.p+"flag-square-gbpusd.01cc78268dc2b93f8ef65ea3fc6c06a7.svg"},function(t,e,i){t.exports=i.p+"flag-square-ge.4bc8348594c9430c735366fc72d9f36b.svg"},function(t,e,i){
t.exports=i.p+"flag-square-gh.44239307acfe2269d7827563273f2bfa.svg"},function(t,e,i){t.exports=i.p+"flag-square-gold.bf05b1d431c9ad8e08aa6bf739532544.svg"},function(t,e,i){t.exports=i.p+"flag-square-gr.f8f54d8b574077d60ffb81a4bc19ed57.svg"},function(t,e,i){t.exports=i.p+"flag-square-gs.dea459c5c4ebb211e652e99cd6ba6354.svg"},function(t,e,i){t.exports=i.p+"flag-square-hk.8b5301ac782c0b3c5144e7aae810127a.svg"},function(t,e,i){t.exports=i.p+"flag-square-hr.a6ccd18373271b1e45b1ca35f8825c8d.svg"},function(t,e,i){t.exports=i.p+"flag-square-hu.c4ba5e799038b2fac1d8a5cee58aac2d.svg"},function(t,e,i){t.exports=i.p+"flag-square-id.e97d7f751ade192748c3e05a54ead255.svg"},function(t,e,i){t.exports=i.p+"flag-square-ie.d9da6caea5ca1cd55417f1978b047b13.svg"},function(t,e,i){t.exports=i.p+"flag-square-ik.5d3d4aed003648fc6f4e14f6a04785f4.svg"},function(t,e,i){t.exports=i.p+"flag-square-il.2aecc106c5eb83ecada117376a8c8f2a.svg"},function(t,e,i){t.exports=i.p+"flag-square-in.6ca6e081b7d7a80d94f38bf6ef9db3fa.svg"},function(t,e,i){t.exports=i.p+"flag-square-ir.b6a66bf5808bbb5de2d3bf45a5971fbd.svg"},function(t,e,i){t.exports=i.p+"flag-square-is.9d67227cfad5ec4cdbe9f0cd169856c5.svg"},function(t,e,i){t.exports=i.p+"flag-square-it.6d9fd8899d084d7f9698d9b2d5862c00.svg"},function(t,e,i){t.exports=i.p+"flag-square-jo.c8d5bc45cecd625d597da5bc33011da7.svg"},function(t,e,i){t.exports=i.p+"flag-square-jp.52d36f2ef75daabe5d00dc144cc9d4d6.svg"},function(t,e,i){t.exports=i.p+"flag-square-ke.6ae825abf83e791f0247b4143d5a85ad.svg"},function(t,e,i){t.exports=i.p+"flag-square-kh.b1cad18bd8a6be021c3177353bda5345.svg"},function(t,e,i){t.exports=i.p+"flag-square-kn.8c6b45f07db2a25f33f279d2da19dc3b.svg"},function(t,e,i){t.exports=i.p+"flag-square-kp.46eec22a6748063a64a9d7fdce4efc95.svg"},function(t,e,i){t.exports=i.p+"flag-square-kr.e129b4d2d79d07ecf5b6b7c4d10b83fb.svg"},function(t,e,i){t.exports=i.p+"flag-square-kw.f15ab85cea9ea5749e2befe786e1c9d3.svg"},function(t,e,i){t.exports=i.p+"flag-square-kz.428cfc463b541dfa1321f35af861fada.svg"},function(t,e,i){t.exports=i.p+"flag-square-lk.5824a756d7227972e0d24375246ee236.svg"},function(t,e,i){t.exports=i.p+"flag-square-lt.2c22bc38345265a3c18504acca3e0d56.svg"},function(t,e,i){t.exports=i.p+"flag-square-lu.66b0098c00f242056c72b05aa3796de9.svg"},function(t,e,i){t.exports=i.p+"flag-square-lv.7ef32ae8f080d2d6c6f0784e334e30e1.svg"},function(t,e,i){t.exports=i.p+"flag-square-ma.ec31494f78cee41a02dbfbafba232515.svg"},function(t,e,i){t.exports=i.p+"flag-square-md.efef6421ade56c03ee355809562ecbc0.svg"},function(t,e,i){t.exports=i.p+"flag-square-mk.7231b99c7054c64e47372a672c441a6d.svg"},function(t,e,i){t.exports=i.p+"flag-square-mt.61da80123bd4db4b54f857a53d7718da.svg"},function(t,e,i){t.exports=i.p+"flag-square-mu.f4d0c0597f2db7dcd7cd774b822de366.svg"},function(t,e,i){t.exports=i.p+"flag-square-mv.c229767ec3f6e517744b027e36b24831.svg"},function(t,e,i){t.exports=i.p+"flag-square-mw.53f95b864ea8104267dc566bfb803a23.svg"},function(t,e,i){t.exports=i.p+"flag-square-mx.c26643f969ec665d63ddfe7dbcf16871.svg"},function(t,e,i){
t.exports=i.p+"flag-square-my.5980ed8829231afb216d42cd14dfc746.svg"},function(t,e,i){t.exports=i.p+"flag-square-mz.33ead7196e74520279899683905fa945.svg"},function(t,e,i){t.exports=i.p+"flag-square-na.e9a1bd918b9924de48740078fc49f7c8.svg"},function(t,e,i){t.exports=i.p+"flag-square-ng.0bfbdf5c0e06948136651805ba740256.svg"},function(t,e,i){t.exports=i.p+"flag-square-ni.3952276d502a2b3659f3cb3c163e9541.svg"},function(t,e,i){t.exports=i.p+"flag-square-nl.8cf9d19315d87fe9bb98469d22f78a72.svg"},function(t,e,i){t.exports=i.p+"flag-square-no.4f21dea2767b186965157eba97f085b2.svg"},function(t,e,i){t.exports=i.p+"flag-square-np.7fc3c4075dd1ab62905126ce5623a7b5.svg"},function(t,e,i){t.exports=i.p+"flag-square-nz.a86b168bc533484e6274628d63888308.svg"},function(t,e,i){t.exports=i.p+"flag-square-oildrop.b79b5b4df54344f022ddc25d1b226d6a.svg"},function(t,e,i){t.exports=i.p+"flag-square-om.ea2822078cff5228899c74ce3525125c.svg"},function(t,e,i){t.exports=i.p+"flag-square-pe.fd1f2a821ac21b8c757f95ba0b5032e0.svg"},function(t,e,i){t.exports=i.p+"flag-square-ph.e097b411b3e34f5a4a979cc428c289b1.svg"},function(t,e,i){t.exports=i.p+"flag-square-pk.9b10f00f014bc0f9d1a452e07a0d161a.svg"},function(t,e,i){t.exports=i.p+"flag-square-pl.b755b85a9536ead06ef26ecd24724e0c.svg"},function(t,e,i){t.exports=i.p+"flag-square-pt.1bf2c1b06e7ab37b765dd3f5b891a241.svg"},function(t,e,i){t.exports=i.p+"flag-square-py.107e8251a0eb3758b47077295437a81e.svg"},function(t,e,i){t.exports=i.p+"flag-square-qa.1e2e718c683b1d6325a427dff2d6c78f.svg"},function(t,e,i){t.exports=i.p+"flag-square-ro.36a36b038ee2b086d99f0dff97512fec.svg"},function(t,e,i){t.exports=i.p+"flag-square-rs.e40ab9cc58df416f4b384648a7af369c.svg"},function(t,e,i){t.exports=i.p+"flag-square-ru.d17555267bdf6ed9e01a7f4d525ef080.svg"},function(t,e,i){t.exports=i.p+"flag-square-rw.3daf0fa39e9e67bfc0f12166dd01adfd.svg"},function(t,e,i){t.exports=i.p+"flag-square-sa.62bf57b352114c25f178d892fef2c1d8.svg"},function(t,e,i){t.exports=i.p+"flag-square-sc.60542233074e88f72cb7738cd671069f.svg"},function(t,e,i){t.exports=i.p+"flag-square-se.6ce4af2df856e7fd43f8786a3c3a2e5d.svg"},function(t,e,i){t.exports=i.p+"flag-square-sg.bbd4456a4e25c099b7f49fe4f00e032f.svg"},function(t,e,i){t.exports=i.p+"flag-square-si.f071c28bf387d220afe4bd2c6f60323a.svg"},function(t,e,i){t.exports=i.p+"flag-square-silver.418d9f49f4fe5e671c896c0a19567146.svg"},function(t,e,i){t.exports=i.p+"flag-square-sj.bf89688b20c1bf96847619b6059daaf5.svg"},function(t,e,i){t.exports=i.p+"flag-square-sk.c5bcb60600a07405427fb25b45bc6e53.svg"},function(t,e,i){t.exports=i.p+"flag-square-sn.cab55de6e22849402b5982a8e390c8fb.svg"},function(t,e,i){t.exports=i.p+"flag-square-tg.c7232e3bcddb5cf2fedab803b86d4e88.svg"},function(t,e,i){t.exports=i.p+"flag-square-th.8dd843123d511ff5adee498714213548.svg"},function(t,e,i){t.exports=i.p+"flag-square-tn.f89dbcaf40a5563735910a76243dc1b3.svg"},function(t,e,i){t.exports=i.p+"flag-square-tr.70717ad43398a435ef78d38d226c6c37.svg"},function(t,e,i){t.exports=i.p+"flag-square-tw.cbd8834b7f336d8d6aa529e87ea89c5d.svg"},function(t,e,i){
t.exports=i.p+"flag-square-tz.3bceb8e8c9086be15f6d9034fbb8ab90.svg"},function(t,e,i){t.exports=i.p+"flag-square-ua.3f0b266c14a3e0a41685729a6dd63515.svg"},function(t,e,i){t.exports=i.p+"flag-square-ug.6dfaf2afda613a97ef15734acea4f691.svg"},function(t,e,i){t.exports=i.p+"flag-square-uk.9e8a00c2e2b16d8ece1e344906002df9.svg"},function(t,e,i){t.exports=i.p+"flag-square-us.b51b73c5dc965960d789d4616c9372e5.svg"},function(t,e,i){t.exports=i.p+"flag-square-usd.e3aafb5c9bad35158ad66d80c3fa9f6e.svg"},function(t,e,i){t.exports=i.p+"flag-square-usdcny.f516b26ed3859b1321e6fbae4ee5d8d3.svg"},function(t,e,i){t.exports=i.p+"flag-square-usdinr.9135f765547fc902c10ea67619e15fdf.svg"},function(t,e,i){t.exports=i.p+"flag-square-usdjpy.04db667d5deea67b374ea365cb9b5123.svg"},function(t,e,i){t.exports=i.p+"flag-square-usdrub.a5b6f33ade9e802e15de18056428239e.svg"},function(t,e,i){t.exports=i.p+"flag-square-usdusd.517c80ad43511b9384fbe1e8025c25b3.svg"},function(t,e,i){t.exports=i.p+"flag-square-uy.752c67ea7ac85fb0cd2f01623bd213bc.svg"},function(t,e,i){t.exports=i.p+"flag-square-ve.743d0db623f41a2597c1e441233e4a78.svg"},function(t,e,i){t.exports=i.p+"flag-square-vn.f8385849a7dacc12bc2195528ceb1085.svg"},function(t,e,i){t.exports=i.p+"flag-square-ww.7c6cebff4b691939a725decd0bd7cdf5.svg"},function(t,e,i){t.exports=i.p+"flag-square-za.07958991e829b26257b34748fe61b908.svg"},function(t,e,i){t.exports=i.p+"flag-square-zm.ba8de9bab341fb25cc068a78171500ba.svg"},function(t,e,i){t.exports=i.p+"flag-square-zw.7eb7a15aebedb479210436be19e02f7f.svg"},,,,,,,,,,,function(t,e,i){"use strict";function o(t){var e=6e4;return e-t%e}function n(t){var e=36e5;return e-t%e}function r(t){var e=864e5;return e-t%e}function s(t){var e=200;if((t=Math.floor(t/6e4))<60)e+=o(t);else if(t<1440)e+=n(t);else{if(!(t<43200))return 0;e+=r(t)}return e}function a(t,e,i,o,n){var r,l,c,u,p,f,_,g;h.relativeTimeThreshold("h",24),"number"==typeof e&&(e=new Date(e)),r=36e5,l=h(new Date).diff(e),c=s(l),u=d.customLocaleDateFormat[window.language],p="",f=0,_={L:"L",LL:"LL",LLL:"LLL"},u&&(_=u),p=i||Math.round(l/r)<24?h(e).fromNow():n?h(e).format(n):e.getFullYear()===(new Date).getFullYear()?h(e).format(_.L):h(e).format(_.LL),t.parent().toggleClass("just-now",l<45e3),t.attr("title",h(e).format(_.LLL)).text(p),c&&(g=t.data("ago-date-timer"),g&&clearTimeout(+g),f=setTimeout(function(){a(t,e)},c)),o&&t.closest(".js-visible-after-ago-formatter-inited").removeClass("i-invisible js-visible-after-ago-formatter-inited"),t.data("ago-date-timer",f)}function l(t){$(t).find("*").andSelf().filter("[data-ago-date-timer]").each(function(t,e){clearTimeout(+$(e).attr("data-ago-date-timer"))})}function c(t){var e=Math.floor(t/6e4),i="",s=0;return e<60?(i=(e<1?0:e)+$.t("m",{context:"date_diff_short"}),s=o(t)):e<1440?(e=Math.floor(e/60),i=e+$.t("h",{context:"date_diff_short"}),s=n(t)):e<43200?(e=Math.floor(e/1440),i=e+$.t("d",{context:"date_diff_short"}),s=r(t)):e<15768e3?(e=Math.floor(e/43200),i=e+$.t("mn",{context:"date_diff_short"})):(e=Math.floor(e/15768e3),i=e+$.t("y",{context:"date_diff_short"})),s&&(s+=200),
{text:i,timeout:s}}var h,d;Object.defineProperty(e,"__esModule",{value:!0}),i(13),i(5),h=i(54),d=i(523),e.agoDateFormatter=a,e.destroy=l,e.shortFormat=c},,function(t,e,i){"use strict";var o,n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),o=i(9),n=i(24),function(t){t[t.FromLeft=-1]="FromLeft",t[t.FromRight=1]="FromRight"}(r=e.TimePointIndexSearchMode||(e.TimePointIndexSearchMode={})),s=function(){function t(t){this.m_bars=new n.PlotList(t),this.m_nsBars=new n.PlotList(t)}return t.prototype.bars=function(){return this.m_bars},t.prototype.nsBars=function(){return this.m_nsBars},t.prototype.size=function(){return this.m_bars.size()+this.m_nsBars.size()},t.prototype.each=function(t){this.m_bars.each(t),this.m_nsBars.each(t)},t.prototype.clear=function(){this.m_bars.clear(),this.m_nsBars.clear(),this.lastProjectionPrice=void 0},t.prototype.isEmpty=function(){return this.m_bars.isEmpty()&&this.m_nsBars.isEmpty()},t.prototype.first=function(){return this.m_bars.isEmpty()?this.m_nsBars.first():this.m_bars.first()},t.prototype.last=function(){return this.m_nsBars.isEmpty()?this.m_bars.last():this.m_nsBars.last()},t.prototype.search=function(t,e){return this.nsBars().isEmpty()?this.bars().search(t,e):this.bars().isEmpty()?this.nsBars().search(t,e):o.ensureNotNull(this.nsBars().firstIndex())<=t?this.nsBars().search(t,e):this.bars().search(t,e)},t.prototype.valueAt=function(t){var e=this.search(t);return null!==e?e.value:null},t.prototype.plotValueToTimePointIndex=function(t,e,i){var o,n,s,a;if(i===r.FromRight)return o=function(i,o){var n=o[e];return void 0!==n&&null!==n&&t>=n},null!==(n=this.m_bars.findLast(o))?n.index:(s=this.m_nsBars.findLast(o),null!==s?s.index:this.m_bars.firstIndex());if(i===r.FromLeft)return a=function(i,o){var n=o[e];return void 0!==n&&null!==n&&t<=n},null!==(n=this.m_bars.findFirst(a))?n.index:(s=this.m_nsBars.findFirst(a),null!==s?s.index:this.m_bars.lastIndex());throw Error("plotValueToTimePointIndex: unsupported search mode")},t}(),e.SeriesData=s},function(t,e,i){"use strict";function o(){}var n=i(9).assert,r=i(87),s=i(834);o.isValid=function(t){return!(!r[t]&&!s[t])},o.create=function(t,e,i,a,l){var c;return n(o.isValid(t),"Unknown line tool: "+t),c=r[t]||s[t],"LineToolVbPFixed"===t?new c(e,i,a,l):"LineToolRegressionTrend"===t?new c(e,i,a):["LineStudyMtpAnalysis","LineStudyMtpDecisionPoint","LineStudyMtpRiskReward","LineStudyMtpElliotWaveMain","LineStudyMtpElliotWaveMajor","LineStudyMtpElliotWaveMinor","LineStudyMtpDownWave1OrA","LineStudyMtpDownWave2OrB","LineStudyMtpDownWave3","LineStudyMtpDownWave4","LineStudyMtpDownWave5","LineStudyMtpDownWaveC","LineStudyMtpUpWave1OrA","LineStudyMtpUpWave2OrB","LineStudyMtpUpWave3","LineStudyMtpUpWave4","LineStudyMtpUpWave5","LineStudyMtpUpWaveC"].indexOf(t)>=0?new c(e,i,a):new c(e,i)},t.exports=o},,function(t,e,i){"use strict";function o(t,e){var i,o;return void 0===e&&(e=!1),i=window.pro,o=(t||"").toLowerCase(),i.getIDCExchanges(e).includes(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.isIDCExchange=o},,,,,,function(t,e){},function(t,e,i){
"use strict";(function(e){function o(t,i){var n,s,a=TVSettings.getValue("PublishedChartsTimeline.filter","all");is_authenticated||(a=o.FILTER_NONE),n=new e({filter:a}),r.call(this,t,n),this._currentRange=null,this._properties.visible.listeners().subscribe(this,function(t){this._getData(this._currentRange)}),this._properties.filter.listeners().subscribe(this,function(t){TVSettings.setValue("PublishedChartsTimeline.filter",t.value()),this.clearMarks(),this._getData(this._currentRange)}),s=t._undoModel._chartWidget,this._containsData=s._containsData,this._containsData&&this._properties.visible.setValue(!0),this.setUserEditEnabled(!1),this._onIdeaClickedHandler=i}function n(t){a.call(this)}var r=i(187).BarsMarksContainer,s=i(193).BarsMarksContainerRenderer,a=i(193).BarMarkTooltip,l=i(49),c=i(120),h=i(20).trackEvent,d=i(0).getLogger("Chart.PublishedChartsTimeLine"),u=i(64).fetch;o.FILTER_NONE="all",o.FILTER_FOLLOWING="following",o.FILTER_PRIVATE="private",inherit(o,r),o.prototype._initialize=function(t){l&&(this._boundOnMessage=this._onMessage.bind(this),l.on("ideas",this._boundOnMessage),l.on("ideas.post",this._boundOnMessage))},o.prototype._constructor="PublishedChartsTimeline",o.prototype._plateViewData=function(t){return{title:t.title,user_id:t.user__id,username:t.username,suggested:t.is_hot,mine:null!=window.user&&t.user__id===window.user.id,public:t.is_public}},o.prototype.paneViews=function(t){return this._model.isInReplay()?[]:r.prototype.paneViews.call(this,t)},o.prototype.showIdea=function(t,e){var i,o=this._marks[t];return o?(h("GUI","View published idea"),e&&h("GUI","Ideas navigation arrow"),TradingView.onWidget()||this._containsData?(i=o.published_chart_url||"/v/"+o.image_url+"/",i=this._getBaseUrl()+i,void window.open(i)):void this._onIdeaClickedHandler({chartId:o.image_url,chartName:o.name,publishedUrl:o.published_chart_url,shortSymbol:o.short_name})):void d.logDebug("PublishedChartsTimeline.showIdea: unexpected published chart id")},o.prototype._getBaseUrl=function(){var t,e;return TradingView.onWidget()&&window.locale_domains?(t=window.locale||"en",e=window.locale_domains[t]?window.locale_domains[t]:window.locale_domains.en,e?document.location.protocol+"//"+e:""):""},o.prototype.onClicked=function(){this.showIdea(this._model.lastHittestData().id)},o.prototype.state=function(t){var e={type:"BarsMarksContainer",id:this.id(),zorder:this._zOrder,pinnedTooltips:this.pinnedTooltips};return t&&(e.marks=this.getPublishedPlates()),e},o.prototype.asyncState=function(t){var e=$.Deferred(),i=this;return!this._properties.visible.value()&&t?this._getData(this._currentRange,!0).then(function(){e.resolve(i.state(t))}):e.resolve(i.state(t)),e.promise()},o.prototype.restoreData=function(t,e){null!=this.pinnedTooltips&&(this.pinnedTooltips=t.pinnedTooltips),e&&null!=t.marks&&(this._marks=t.marks)},o.prototype._getData=function(t,e){var i,o,n,r,s=this._model.mainSeries().properties(),a=this._model.mainSeries().symbolInfo();if(this._currentRange=t,
a&&(this._properties.visible.value()||e))return i=a.base_name.length>1?a.base_name:[a.pro_name],o=this.roundRange(this._rangeDifference(t)),i=c(i),i=i.sort(function(t,e){return t-e}),n={interval:s.interval.value(),legs:JSON.stringify(i),startTickmark:o.start,endTickmark:o.end,filter:this._properties.filter.value()},r=$.ajax("/charttimeline/",{type:"POST",data:n,dataType:"json"}).done(function(e){e.forEach(function(t){this._marks[t.id]=t},this),this._loadedRange=this._rangeUnion(t,this._loadedRange);var i=this._requests.indexOf(r);~i&&this._requests.splice(i,1),this.onNeedRepaint.fire()}.bind(this)),this._requests.push(r),r},o.prototype._onMessage=function(t){var e,i,o,n;this._containsData||(e=this._model.mainSeries(),i=e.symbolInfo(),(o=i&&i.base_name)&&(n=e.properties(),t.interval===n.interval.value()&&~o.indexOf(t.pro_symbol)&&(this._marks[t.id]=t,this.onNeedRepaint.fire())))},o.prototype._createTooltip=function(){return new n},o.prototype.updateDotData=function(t,e){return e.mine=t.mine,e.public=t.public,e.direction=t.direction,e},o.prototype.updatePlateData=function(t,e){return e.title=t.title,e.user_id=t.user_id,e.username=t.username,e.barWidth=this.barWidth(),e},o.prototype.destroy=function(){this._onIdeaClickedHandler=null,this._boundOnMessage&&(l.off("ideas",this._boundOnMessage),l.off("ideas.post",this._boundOnMessage),this._boundOnMessage=void 0),r.prototype.destroy.call(this)},inherit(n,a),n.prototype._createLayout=function(){this._layout=$('<div class="published-charts-tooltip"></div>'),this._layout_avatar=$('<div class="avatar"><img></div>').appendTo(this._layout),this._layout_text=$('<div class="text"></div>').appendTo(this._layout),this._layout_username=$('<div class="username">'+$.t("by __username__",{username:"<b></b>"})+"</div>").appendTo(this._layout),this._layout_pin=$('<div class="pin"></div>').appendTo(this._layout),this._picture_fetched=!1;var t=this;this._layout_pin.click(function(){t.plateData.pinned=!t.plateData.pinned,t.source.pinTooltip(t.plateData.id,t.plateData.pinned),t._layout_pin.toggleClass("pinned",t.plateData.pinned)}),this._layout_text.click(function(){t.source.showIdea(t.plateData.id)})},n.prototype._updatePlate=function(t){this.plateData=t,this._layout.removeClass(s.THEMES.join(" ")).addClass(t.themeName),this._layout_text.text(t.title),this._layout_username.find("b").text(t.username),this._layout_pin.toggleClass("pinned",t.pinned),this._picture_fetched||(this._picture_fetched=!0,u("/user-info-json/{0}/".format(t.user_id)).then(function(t){return t.json()}).then(function(e){this._layout_avatar.find("img").attr("alt",t.username),this._layout_avatar.find("img").attr("src",e.user_data.mid_picture_url)}.bind(this)))},t.exports=o}).call(e,i(37))},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(10),n=function(){function t(t){void 0===t&&(t=1),this._precision=t}return t.prototype.format=function(t){var e,i;return o.isNumber(t)||(t=parseFloat(t)),e=t.toFixed(this._precision),i=Math.pow(10,-this._precision),Math.max(parseFloat(e),i)+""},t}(),
e.LimitedPrecisionNumericFormatter=n},,,,,function(t,e,i){"use strict";(function(e,o,n){function r(t){var e,i;if(t&&t.__esModule)return t;if(e={},null!=t)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}function a(t,i){var o,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._options=(0,g.deepExtend)(this.defaults(),r),this._elContainer=i,this._elCanvas=null,this._ctx=null,this._onResizeThrottled=null,this._isResizeScheduled=!1,this._plots=(t||[]).map(function(t){return r=(0,g.deepExtend)({},n._options.plot,t.options||{}),new l(t.data,r)}),this._initCanvas(),o=function(){return n._plots},this._xScale=new u(o,this._ctx,this._options.xScale),this._yScale=new p(o,this._ctx,this._options.yScale),this._plotArea=new h(o,this._ctx,this._xScale,this._yScale,{canvas:this._elCanvas,grid:this._options.grid,plot:this._options.plot,loading:this._options.loading,overlayLines:this._options.overlayLines}),this.height=new e(0),this.width=new e(0),this._initSizeHandling(),this._onPlotsChanged(),!0!==r.noAutoResize&&this.bindOnResize()}function l(t,e){this.id=(0,S.guid)(),this._options=(0,b.clone)(e),this._x=null,this._y=null,t&&this.setData(t,!0),this.dataChanged=new o}function c(t,i,o,n){this.originX=new e(t||0),this.originY=new e(i||0),this.width=new e(o||0),this.height=new e(n||0)}function h(t,e,i,o,n){c.call(this),this.getWidgetPlots=t,this._ctx=e,this._xScale=i,this._yScale=o,this._elCanvas=n.canvas||this._ctx.canvas,this._options=n,this._elLoadingIndicator=null;var r=this._xScale._options.visible&&"top"===this._xScale._options.position&&!this._xScale._options.drawOverPlotArea?this._xScale.height.value():0;this.originY.setValue(r),this.originY.setValue=function(){C.logWarn("updating originY forbidden")}}function d(t,e,i){c.call(this),this._ctx=e,this._options=i,this._min=null,this._max=null,this._tickMarks=[],this.getWidgetPlots=t}function u(t,e,i){d.apply(this,arguments),this._series=[];var o="number"==typeof this._options.height&&this._options.height||this._options.paddingBottom+this._options.font.size+this._options.paddingTop;this.height.setValue(o),this.height.setValue=function(){C.logWarn("updating height forbidden")},this.width.subscribe(this._updateSize.bind(this))}function p(t,e,i){d.apply(this,arguments),this._min=null,this._max=null,this.height.subscribe(this._updateSize.bind(this))}var f=i(69),_=s(f),g=i(75),m=i(62),v=i(14),y=r(v),b=i(10),w=i(0),S=i(17),T=i(36),x=i(153),P=i(527),C=(0,w.getLogger)("Chart.MiniChartWidget");a.prototype.defaults=function(){return{showMessage:!0,minWidth:100,minHeight:75,bgColor:null,grid:{xIsVisible:!0,yIsVisible:!0,line:{width:1,style:_.default.LINESTYLE_DASHED,color:"#e9e9ea"}},xScale:{visible:!0,position:"bottom",isTimeScale:!0,height:null,paddingTop:4,paddingBottom:4,font:{size:10,family:"Trebuchet MS",color:"#83888d"},drawOverPlotArea:!0,ingnoreFloats:!1,bgColor:"transparent",borderColor:"transparent",drawTickMarkLine:!1,maxTickMarkAmount:10,paddingHorz:10,fade:!1},yScale:{
visible:!0,position:"right",isPercentage:!1,paddingLeft:4,paddingRight:4,marginInPercents:10,font:{size:10,family:"Trebuchet MS",color:"#83888d"},drawOverPlotArea:!0,ingnoreFloats:!1,bgColor:"transparent",borderColor:"transparent",drawTickMarkLine:!1,fade:!1},plot:{line:{width:2,color:y.color.success,colorGrowing:null,colorFalling:null},belowLineFillStyle:"rgba(60, 188, 152, 0.05)",belowLineFillStyleGrowing:null,belowLineFillStyleFalling:null,aboveLineFillStyle:null,aboveLineFillStyleGrowing:null,aboveLineFillStyleFalling:null,last:{visible:!1,style:_.default.LINESTYLE_DASHED,color:null,colorGrowing:null,colorFalling:null}},loading:{scale:.6,length:0,radius:20,width:4,lines:14,corners:1,color:y.color.spinner,speed:1.5}}},a.prototype._initCanvas=function(){var t=this;this._elCanvas=document.createElement("canvas"),(0,x.resizeCanvas)(this._elCanvas,{w:this._options.minWidth,h:this._options.minHeight}),this._elCanvas.style.display="block",this._elContainer.appendChild(this._elCanvas),this._ctx=this._elCanvas.getContext("2d"),this._ctx._fillText=function(e,i,o){i=Math.round(i),o=Math.round(o),t._ctx.fillText(e,i,o)}},a.prototype._initSizeHandling=function(){function t(t){return!t._options.drawOverPlotArea&&t._options.visible}function e(){var e=t(l)?a.height.value()-l.height.value():a.height.value();h.height.setValue(e)}function i(){var e=t(c)?a.width.value()-c.width.value():a.width.value();h.width.setValue(e)}function o(){var e=0;"left"===c._options.position&&t(c)&&(e=c.width.value()),h.originX.setValue(e)}function n(){var e=0;"right"===c._options.position&&(e=t(c)?h.width.value():h.width.value()-c.width.value()),c.originX.setValue(e)}function r(){var e=0;"left"===c._options.position&&t(c)&&(e=c.width.value()),l.originX.setValue(e)}function s(){var e=0;"bottom"===l._options.position&&(e=t(l)?h.height.value():h.height.value()-l.height.value()),l.originY.setValue(e)}var a=this,l=this._xScale,c=this._yScale,h=this._plotArea;a.height.subscribe(e),l.height.subscribe(e),h.height.subscribe(function(t){c.height.setValue(t),s()}),a.width.subscribe(i),c.width.subscribe(i),c.width.subscribe(o),c.width.subscribe(n),c.width.subscribe(r),h.width.subscribe(function(t){l.width.setValue(t),n()})},a.prototype.resetSize=function(){var t=this._elContainer.clientHeight||this._options.minHeight,e=this._elContainer.clientWidth||this._options.minWidth,i="left"===this._yScale._options.position?this._yScale.width.value():0,o="top"===this._xScale._options.position?this._xScale.height.value():0;this._xScale.originX.setValue(i),this._yScale.originY.setValue(o),(0,x.resizeCanvas)(this._elCanvas,{w:e,h:t}),this.height.setValue(t),this.width.setValue(e)},a.prototype.onResize=function(){this._isResizeScheduled=!1,this.resetSize(),this.draw()},a.prototype.bindOnResize=function(){var t=this;this._onResizeThrottled||(this._onResizeThrottled=function(){t._isResizeScheduled||(t._isResizeScheduled=!0,window.requestAnimationFrame(t.onResize.bind(t)))},window.addEventListener("resize",this._onResizeThrottled))},a.prototype.unbindOnResize=function(){
this._onResizeThrottled&&(window.removeEventListener("resize",this._onResizeThrottled),delete this._onResizeThrottled)},a.prototype.destroy=function(){this.unbindOnResize()},a.prototype.addPlot=function(t){var e,i=t,o=this;if(!(i instanceof l)){if(!i.data)return void C.logError("wrong plot format");e=(0,b.clone)(this._options.plot),e=(0,g.deepExtend)(e,i.options||{}),i=new l(i.data,e)}if(!!!o._plots.filter(function(t){return t.id===i.id}).length)return o._plots.push(i),i.dataChanged.subscribe(o,o._onPlotsChanged),o._onPlotsChanged(),i},a.prototype._onPlotsChanged=function(){this.resetSize(),this._yScale.onPlotsChanged(),this._xScale.onPlotsChanged(),this.draw()},a.prototype.removePlot=function(t){this._plots=this._plots.filter(function(e){return e.id!==t.id}),this._yScale.onPlotsChanged.call(this._yScale),this._xScale.onPlotsChanged.call(this._xScale),this.draw()},a.prototype.removeAllPlots=function(){this._plots=[],this._yScale.onPlotsChanged.call(this._yScale),this._xScale.onPlotsChanged.call(this._xScale),this.draw()},a.prototype.draw=function(){this._messageShown?this.showMessage(this._messageShown):(this._plotArea.draw(),this._yScale.draw(),this._xScale.draw())},a.prototype.showMessage=function(t){this._options.showMessage&&(this._showMessage(t),this._messageShown=t)},a.prototype.hideMessage=function(t){delete this._messageShown,this.draw()},a.prototype._showMessage=function(t){this._plotArea._hideLoading(),this._options.bgColor&&"transparent"!==this._options.bgColor?(this._ctx.fillStyle=this._options.bgColor,this._ctx.fillRect(0,0,this.width.value(),this.height.value())):this._ctx.clearRect(0,0,this.width.value(),this.height.value());var e=this._ctx.measureText(t).width;this._ctx.fillStyle=this._options.xScale.font.color,this._ctx.font=this._options.xScale.font.size+"px "+this._options.xScale.font.family,this._ctx._fillText(t,(this.width.value()-e)/2,(this.height.value()-this._options.xScale.font.size)/2)},a.prototype.xScale=function(){return this._xScale},a.prototype.yScale=function(){return this._yScale},a.prototype.getContainer=function(){return this._elContainer},l.prototype.setData=function(t,e){t.x&&t.y||C.logError("wrong data format"),this._x=t.x,this._y=t.y,e||this.dataChanged.fire()},l.prototype.setOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];this._options=(0,g.deepExtend)(this._options,t),e||this.dataChanged.fire()},l.prototype.x=function(){return this._x},l.prototype.y=function(t){var e,i,o,n,r,s=this._y;if(!t)return s;for(e=function(){for(var t=0,e=s.length;t<e;t++)if(isNumber(s[t]))return s[t]}(),i=e/100,o=[],r=0;r<s.length;r++)n=s[r],o.push(isNumber(n)?n/i-100:void 0);return o},c.prototype.left=function(){return this.originX.value()},c.prototype.right=function(){return this.originX.value()+this.width.value()},c.prototype.top=function(){return this.originY.value()},c.prototype.bottom=function(){return this.originY.value()+this.height.value()},c.prototype.clearBack=function(){
var t=this._ctx,e=this.left()-.5,i=this.top()-.5,o=this.right()+.5,n=this.bottom()+.5;this._options.bgColor&&"transparent"!==this._options.bgColor?(t.fillStyle=this._options.bgColor,t.fillRect(e,i,o,n)):t.clearRect(e,i,o,n)},(0,b.inherit)(h,c),h.prototype.draw=function(){this.clearBack(),this._drawGrid(),this.getWidgetPlots().length?(this._drawPlots(),this._drawOverlayLines(),this._hideLoading()):this._options.loading.showWhileNoPlots&&this._showLoading()},h.prototype._drawGrid=function(t){var e,i,o,n,r,s,a,l=this._ctx,c=this.left(),h=this.right(),d=this.top(),u=this.bottom();if(l.lineWidth=this._options.grid.line.width,l.strokeStyle=this._options.grid.line.color,l.lineStyle=this._options.grid.line.style,r=this._xScale.tickMarks(),r.length&&this._options.grid.xIsVisible)for(s=0;s<r.length;s++)e=r[s].coordinate,i=d,o=r[s].coordinate,n=u,_.default.drawLine(l,e,i,o,n);if(a=this._yScale.tickMarks(),a.length&&this._options.grid.yIsVisible)for(s=0;s<a.length;s++)e=c,i=a[s].coordinate,o=h,n=a[s].coordinate,_.default.drawLine(l,e,i,o,n)},h.prototype._drawOverlayLine=function(t){function e(t,e){var o=Math.round(t.valueToCoord(e));return i%2==0&&(o-=.5),o}var i,o,n,r,s,a,l;"number"!=typeof t.x&&"number"!=typeof t.y||(i=isNumber(t.width)&&t.width||1,o=t.color||"#000",n=t.style||_.default.LINESTYLE_SOLID,isNumber(t.x)?r=s=e(this._xScale,t.x):(r=this.left(),s=this.right()),isNumber(t.y)&&!isNumber(t.x)?a=l=e(this._yScale,t.y):(a=this.top(),l=this.bottom()),this._ctx.lineWidth=i,this._ctx.strokeStyle=o,this._ctx.lineStyle=n,_.default.drawLine(this._ctx,r,a,s,l))},h.prototype._drawOverlayLines=function(){Array.isArray(this._options.overlayLines)&&this._options.overlayLines.length&&this._options.overlayLines.forEach(this._drawOverlayLine,this)},h.prototype._drawPlots=function(){var t,e,i,o,n,r,s,a,l,c,h,d=this.getWidgetPlots(),u=this._ctx,p=this._xScale.valueToCoord.bind(this._xScale),f=this._yScale.valueToCoord.bind(this._yScale),g=this.left(),m=this.right(),v=this.top(),y=this.bottom();for(c=0;c<d.length;c++)t=d[c],e=t.x(),i=t.y(this._yScale._options.isPercentage),o=i[0],n=i[i.length-1],e=e.map(function(t,e){return p(e)}),i=i.map(f),o<n?(r=t._options.line.colorGrowing||t._options.line.color,s=t._options.last.colorGrowing||r,a=t._options.belowLineFillStyleGrowing||t._options.belowLineFillStyle,l=t._options.aboveLineFillStyleGrowing||t._options.aboveLineFillStyle):o>n?(r=t._options.line.colorFalling||t._options.line.color,s=t._options.last.colorFalling||r,a=t._options.belowLineFillStyleFalling||t._options.belowLineFillStyle,l=t._options.aboveLineFillStyleFalling||t._options.aboveLineFillStyle):(r=t._options.line.color,s=t._options.last.color||r,a=t._options.belowLineFillStyle,l=t._options.aboveLineFillStyle),1!==e.length?(a&&"transparent"!==a&&this._drawNearAroundArea(u,e,i,y,a),l&&"transparent"!==l&&this._drawNearAroundArea(u,e,i,v,l),this._drawLine(u,e,i,t._options.line.width,r),t._options.last.visible&&(h=Math.round(f(n)),u.lineStyle=t._options.last.style,u.strokeStyle=s,u.lineWidth=t._options.line.width,
_.default.drawLine(u,g,h,m,h))):this._drawCircle(u,e[0],i[0],t._options.line.width,t._options.line.color)},h.prototype._drawNearAroundArea=function(t,e,i,o,n){var r,s=function(){for(var t=0,o=e.length;t<o;t++)if(isNumber(e[t])&&isNumber(i[t]))return t;return null}(),a=function(){for(var t=e.length-1;t>=0;t--)if(isNumber(e[t])&&isNumber(i[t]))return t;return null}();if(null!==s||null!==a){for(t.fillStyle=n,t.beginPath(),t.moveTo(e[s],o),r=s;r<=a;r++)isNumber(e[r])&&isNumber(i[r])&&t.lineTo(e[r],i[r]);t.lineTo(e[a],o),t.closePath(),t.fill()}},h.prototype._drawLine=function(t,e,i,o,n){var r,s=function(){for(var t=0,o=e.length;t<o;t++)if(isNumber(e[t])&&isNumber(i[t]))return t;return null}(),a=function(){for(var t=e.length-1;t>=0;t--)if(isNumber(e[t])&&isNumber(i[t]))return t;return null}();if(null!==s||null!==a){for(t.lineWidth=o,t.strokeStyle=n,t.lineJoin="round",t.moveTo(e[s],i[s]),t.beginPath(),r=s;r<=a;r++)isNumber(e[r])&&isNumber(i[r])&&t.lineTo(e[r],i[r]);t.stroke()}},h.prototype._drawCircle=function(t,e,i,o,n){isNumber(e)&&isNumber(i)&&(t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.fillStyle=n,t.fill())},h.prototype._showLoading=function(){this._elLoadingIndicatorVisible||(this._elLoadingIndicator||(this._elLoadingIndicator=document.createElement("div"),this._options.loading.noSpinner||(0,m.unifiedSpinner)("mini",{lines:this._options.loading.lines,scale:this._options.loading.scale,color:this._options.loading.color||this._options.grid.line.color,speed:this._options.loading.speed,length:this._options.loading.length,width:this._options.loading.width,radius:this._options.loading.radius,corners:this._options.loading.corners,zIndex:1}).spin(this._elLoadingIndicator),this._elCanvas.parentNode.appendChild(this._elLoadingIndicator)),(0,P.fadeOut)(this._elCanvas),(0,P.fadeIn)(this._elLoadingIndicator),this._elLoadingIndicatorVisible=!0)},h.prototype._hideLoading=function(){this._elLoadingIndicator&&this._elLoadingIndicatorVisible&&((0,P.fadeIn)(this._elCanvas),(0,P.fadeOut)(this._elLoadingIndicator),this._elLoadingIndicatorVisible=!1)},(0,b.inherit)(d,c),d.prototype._calculateTickMarks=function(t,e,i){function o(t){return Math.round(1e6*t)/1e6+(b._options.isPercentage?"%":"")}function n(t){var n=o(t),r=b.valueToCoord(t);return"vertical"!==i||h?"vertical"===i&&h?r+.5*e(n):"horizontal"!==i||h?"horizontal"===i&&h?r-.5*e(n):void 0:r:r}function r(t){var n=o(t),r=b.valueToCoord(t);return"vertical"!==i||h?"vertical"===i&&h?r-.5*e(n):"horizontal"!==i||h?"horizontal"===i&&h?r+.5*e(n):void 0:r+e(n):r-e(n)}function s(t,e){return"vertical"===i?r(t)-c>n(e):b.originX.value()+b._options.paddingHorz<=n(e)&&n(e)<=b.originX.value()+b.width.value()-b._options.paddingHorz&&r(t)+c<n(e)}function a(t,e){var i=Math.pow(10,e||0).toFixed(e<0?-e:0);return Math.round(t*i)/i}var l,c,h,d,u,p,f,_,g,m,v,y,b=this,w=b._min,S=b._max;if(!t||null===w||null===S||"function"!=typeof e)return[];if(i=i||"vertical",l=b._options.maxTickMarkAmount||10,c=t/(l||20),h=!b._options.drawOverPlotArea,d=[],w===S)d=[w];else for(;l>0;){for(u=(S-w)/l,
p=Math.pow(10,Math.ceil(Math.log(u)/Math.LN10)),p/5>=u&&(p/=5),p/2>=u&&(p/=2),f=Math.floor(w/p)*p,f<w&&(f=Math.ceil(w/p)*p),d=[f];(_=a(d[d.length-1]+p,12))<=S;)d.push(_);for(g=!1,m=f,y=1;y<d.length;y++){if(v=d[y],!s(m,v)){g=!0;break}m=v}if(!g)break;l--}return!0===b._options.ingnoreFloats&&(d=d.filter(function(t){return a(t,12)%1==0})),d.map(function(t){return{text:o(t),coordinate:Math.round(b.valueToCoord(t))}})},d.prototype.tickMarks=function(){return this._tickMarks},d.prototype.draw=function(){var t,e,i,o;if(this._options.visible){if(t=this._tickMarks,e=this._ctx,this._options.drawOverPlotArea&&this._options.fade&&this._drawFade(),this._options.drawOverPlotArea||this.clearBack(),!this._options.drawOverPlotArea&&this._options.borderColor&&"transparent"!==this._options.borderColor){switch(e.strokeStyle=this._options.borderColor,e.lineWidth=1,e.beginPath(),this._options.position){case"left":e.moveTo(this.right(),this.top()),e.lineTo(this.right(),this.bottom());break;case"right":e.moveTo(this.left(),this.top()),e.lineTo(this.left(),this.bottom());break;case"top":e.moveTo(this.left(),this.bottom()),e.lineTo(this.right(),this.bottom());break;case"bottom":e.moveTo(this.left(),this.top()),e.lineTo(this.right(),this.top())}e.stroke()}for(e.fillStyle=this._options.font.color,e.font=this._options.font.size+"px "+this._options.font.family,o=0;o<t.length;o++)i=t[o],this._drawLabel(i.coordinate,i.text)}},d.prototype._drawFade=function(t){var e,i,o;t=this._ctx,e=t.globalCompositeOperation,i=this._getFadeRectCoords(),o=this._getFadeGradient(t),o.addColorStop(0,"transparent"),o.addColorStop(1,"white"),t.globalCompositeOperation="destination-out",t.fillStyle=o,t.fillRect(Math.min(i.startX,i.endX),Math.min(i.startY,i.endY),Math.abs(i.endX-i.startX),Math.abs(i.endY-i.startY)),t.globalCompositeOperation=e},(0,b.inherit)(u,d),u.prototype.valueToCoord=function(t){return this._minIndex===this._maxIndex?(this.right()-this.left())/2:this.left()+this._pixelsPerValue*(t-this._minIndex)},u.prototype.onPlotsChanged=function(){this._updateSeries(),this._updateMinMax(),this._updateSize()},u.prototype._updateSize=function(){this._updatePixelsPerValue(),this._updateTickMarks()},u.prototype._updateSeries=function(){this._series=this.getWidgetPlots().length?this.getWidgetPlots()[0].x():[]},u.prototype._updateMinMax=function(){this._min=this._series.length?this._series[0]:null,this._max=this._series.length?this._series[this._series.length-1]:null,this._minIndex=0,this._maxIndex=this._series.length},u.prototype._updatePixelsPerValue=function(){this._pixelsPerValue=this._maxIndex-this._minIndex>1?this.width.value()/(this._maxIndex-this._minIndex-1):this.width.value()},u.prototype._updateTickMarks=function(){var t=this.width.value(),e=function(t){return this._ctx.measureText(t).width}.bind(this);this._options.isTimeScale?this._tickMarks=this._calculateTimeTickMarks(t,e):this._tickMarks=this._calculateTickMarks(t,e,"horizontal")},u.prototype._calculateTimeTickMarks=function(t,e){var i,o,n,r,s,a,l,c,h,d,u,p,f
;if(!t||null===this._min||null===this._max)return[];for(i=this._max-this._min,o=i/86400,n=[],r=[],s=this._ctx,s.font=this._options.fontSize+"px "+this._options.fontFamily,s.fillStyle=this._options.fontColor,s.textBaseline="bottom",o<2?n=this._timeSplit(t,e,this._trimToHour,this._formatHour):o<3?n=this._timeSplit(t,e,this._trimToHour,this._formatDayHour):o<6?n=this._timeSplit(t,e,this._trimToDay,this._formatDay):(a=i/604800,a<6?n=this._timeSplit(t,e,this._trimToWeek,this._formatDay):(l=i/2592e3,l<15?(c=new Date(1e3*this._max).getFullYear()===(new Date).getFullYear(),h=c?this._formatMonthOnly:this._formatMonthYear,n=this._timeSplit(t,e,this._trimToMonth,h)):(d=i/31104e3,n=d<6?this._timeSplit(t,e,this._trimToYear,this._formatYear):d<30?this._timeSplit(t,e,this._trimTo5Years,this._formatYear):d<50?this._timeSplit(t,e,this._trimTo10Years,this._formatYear):this._timeSplit(t,e,this._trimTo25Years,this._formatYear)))),u=0,p=n.length;u<p;u++)f=this.valueToCoord(n[u].index),r.push({text:""+n[u].text,coordinate:f});return r},u.prototype._timeSplit=function(t,e,i,o){function n(i,o){var n=0,r=i,s=i;return S&&(n=e(o),T?(r=i-n/2,s=i+n/2):(r=i,s=i+n)),v+m<r&&s<v+t-m}var r,s,a,l,c,h,d,u,p,f,_,g,m=this._options.paddingHorz,v=this.originX.value(),y=[],b=null,w=t/20,S=this._options.visible,T=!this._options.drawOverPlotArea;for(r=0,s=this._series.length;r<s;r++)a=new Date(1e3*this._series[r]),l=i.call(this,a),c=o.call(this,l),null!==b?(h=this.valueToCoord(r),d=n(h,c),y.length&&d&&(u=this.valueToCoord(y[y.length-1].index),p=e(y[y.length-1].text),d=u+p+w<=h),d&&b.valueOf()!==l.valueOf()&&(y.push({dt:a,index:r,text:c}),b=l)):b=l;for(f=y,_=1;f.length>this._options.maxTickMarkAmount;)for(_++,f=[],r=0;r<y.length;r++)r%_==0&&f.push(y[r]);return 1===f.length&&(g=Math.floor(y.length/2),f=[y[g]]),f},u.prototype._trimToHour=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},u.prototype._trimToDay=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},u.prototype._trimToMonth=function(t){return new Date(t.getFullYear(),t.getMonth(),1)},u.prototype._trimToYear=function(t){return new Date(t.getFullYear(),1,1)},u.prototype._trimToWeek=function(t){var e=this._trimToDay(t);return new Date(e.valueOf()-1e3*e.getDay()*3600*24)},u.prototype._trimTo5Years=function(t){var e=t.getFullYear();return e-=e%5,new Date(e,1,1)},u.prototype._trimTo10Years=function(t){var e=t.getFullYear();return e-=e%10,new Date(e,1,1)},u.prototype._trimTo25Years=function(t){var e=t.getFullYear();return e-=e%25,new Date(e,1,1)},u.prototype._formatHour=function(t){var e=""+t.getHours();return 1===e.length&&(e="0"+e),e+":00"},u.prototype._formatDayHour=function(t){return this._formatDay(t)+" "+this._formatHour(t)},u.prototype._formatDay=function(t){return n().month(t.getMonth()).format("MMM")+","+t.getDate()},u.prototype._formatMonthOnly=function(t){return n().month(t.getMonth()).format("MMM")},u.prototype._formatMonthYear=function(t){return n().month(t.getMonth()).format("MMM")+", "+t.getFullYear()},u.prototype._formatYear=function(t){
return t.getFullYear()},u.prototype._drawLabel=function(t,e){var i,o,n=this._ctx,r=n.measureText(e).width,s=!this._options.drawOverPlotArea,a=s?t-r/2:t;a=Math.min(this.right(),a),a=Math.max(this.left(),a),i="bottom"===this._options.position?this.bottom()-this._options.paddingBottom:this.top()+this._options.paddingTop+this._options.font.size,n.textBaseline="bottom",n._fillText(e,Math.round(a),Math.round(i)),this._options.drawTickMarkLine&&this._options.borderColor&&"transparent"!==this._options.borderColor&&(o=2,n.strokeStyle=this._options.borderColor,n.beginPath(),"bottom"===this._options.position?(n.moveTo(t,this.top()),n.lineTo(t,this.top()+o)):(n.moveTo(t,this.bottom()),n.lineTo(t,this.bottom()-o)),n.stroke())},u.prototype._getFadeGradient=function(t){var e=this._getFadeRectCoords();return t.createLinearGradient(e.startX,e.startY,e.startX,e.endY)},u.prototype._getFadeRectCoords=function(){var t=.5;switch(this._options.position){case"top":return{startX:this.originX.value()+this.width.value(),startY:this.originY.value()+(1+t)*this.height.value(),endX:this.originX.value(),endY:this.originY.value()};case"bottom":return{startX:this.originX.value(),startY:this.originY.value()-t*this.height.value(),endX:this.originX.value()+this.width.value(),endY:this.originY.value()+this.height.value()};default:C.logError("Unknown X scale position")}},(0,b.inherit)(p,d),p.prototype.onPlotsChanged=function(){this._updateMinMax(),this._updateSize()},p.prototype._updateMinMax=function(){var t,e,i,o,n,r,s=this.getWidgetPlots(),a=null,l=null;if("number"==typeof this._options.forceMin&&isFinite(this._options.forceMin)&&(a=this._options.forceMin,t=!0),"number"==typeof this._options.forceMax&&isFinite(this._options.forceMax)&&(l=this._options.forceMax,e=!0),!t||!e)for(r=0;r<s.length;r++)n=s[r].y(this._options.isPercentage).filter(isNumber),t||(i=(0,T.min)(n),(null===a||i<a)&&(a=i)),e||(o=(0,T.max)(n),(null===l||l<o)&&(l=o));this._min=a,this._max=l},p.prototype._updatePixelsPerValue=function(){this._pixelsPerValue=(this.height.value()-2*this._margin())/(this._max-this._min)},p.prototype._updateTickMarks=function(){var t=this.height.value(),e=function(){return this._options.font.size}.bind(this);this._tickMarks=this._calculateTickMarks(t,e,"vertical")},p.prototype._updateSize=function(){this._updatePixelsPerValue(),this._updateTickMarks();var t="number"==typeof this._options.width&&this._options.width||this._options.paddingLeft+this._maxLabelWidth()+this._options.paddingRight;this.width.setValue(t)},p.prototype._maxLabelWidth=function(){var t,e=0;for(t=0;t<this._tickMarks.length;t++)e=Math.max(e,this._ctx.measureText(this._tickMarks[t].text).width);return e},p.prototype._margin=function(){return this.height.value()*this._options.marginInPercents/100},p.prototype.valueToCoord=function(t){return this._min===this._max?(this.bottom()-this.top())/2:this.height.value()-this._margin()-this._pixelsPerValue*(t-this._min)},p.prototype._drawLabel=function(t,e){var i,o,n,r=this._ctx,s=!this._options.drawOverPlotArea,a=s?t+this._options.font.size/2:t
;a=Math.max(this.top()+this._options.font.size,a),a=Math.min(this.bottom(),a),i="number"==typeof this._options.width&&this._options.width||this._options.paddingLeft+this._maxLabelWidth()+this._options.paddingRight,o="left"===this._options.position?this.left()+i-this._ctx.measureText(e).width-this._options.paddingRight:this.right()-i+this._options.paddingLeft,r.textBaseline="bottom",r._fillText(e,o,a),this._options.drawTickMarkLine&&(n=2,this._options.borderColor&&"transparent"!==this._options.borderColor&&(r.strokeStyle=this._options.borderColor),r.beginPath(),"left"===this._options.position?(r.moveTo(this.right(),t),r.lineTo(this.right()-n,t)):(r.moveTo(this.left(),t),r.lineTo(this.left()+n,t)),r.stroke())},p.prototype._getFadeGradient=function(t){var e=this._getFadeRectCoords();return t.createLinearGradient(e.startX,e.startY,e.endX,e.startY)},p.prototype._getFadeRectCoords=function(){var t=.2;switch(this._options.position){case"left":return{startX:this.originX.value()+(1+t)*this.width.value(),startY:this.originY.value()+this.height.value(),endX:this.originX.value(),endY:this.originY.value()};case"right":return{startX:this.originX.value()-t*this.width.value(),startY:this.originY.value(),endX:this.originX.value()+this.width.value(),endY:this.originY.value()+this.height.value()};default:C.logError("Unknown Y scale position")}},t.exports=a}).call(e,i(22),i(4),i(54))},function(t,e,i){"use strict";var o,n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(8),r=i(35),s=i(11),a=i(155),l=function(){function t(t,e){this._invalidated=!0,this._middlePoint=null,this._points=[],this._floatPoints=[],this._source=t,this._model=e}return t.prototype.priceToCoordinate=function(t){var e,i,o,n=this._source.priceScale();return null===n?null:null===(e=n.priceRange())?null:(n.isPercent()&&null!==(i=this._source.ownerSource())&&null!==(o=i.firstValue())&&void 0!==o&&(t=e.convertToPercent(t,o)),n.priceToCoordinate(t))},t.prototype.currentPoint=function(){var t=this._model.crossHairSource();return new n.Point(t.x,t.y)},t.prototype.anchorColor=function(){return this._source.isBeingEdited()?"#D61AD3":this._model.isDark()?"#FFFFFF":"#606060"},t.prototype.isHoveredSource=function(){return this._source===this._model.hoveredSource()},t.prototype.isSelectedSource=function(){return this._source===this._model.selectedSource()},t.prototype.isAnchorsRequired=function(){return(this.isHoveredSource()||this.isSelectedSource())&&!this._model.isSnapshot()},t.prototype.update=function(){this._invalidated=!0},t.prototype.addAnchors=function(t){if(this.isAnchorsRequired()){var e=this._points;this._model.lineBeingCreated()===this._source&&(e=e.slice(0,-1)),t.append(this.createLineAnchor({points:e}))}},t.prototype.createLineAnchor=function(t){var e=r.CheckMobile.any();return new a.LineAnchor(o.__assign({},t,{color:this.anchorColor(),backgroundColor:this._model.backgroundColor(),currentPoint:this.currentPoint(),linePointBeingEdited:this._model.linePointBeingEdited(),hittestResult:s.CHANGEPOINT,radius:(e?15:7)+(this.isSelectedSource()?1:0),
strokeWidth:(e?3:1)+(this.isSelectedSource()?1:0)}))},t.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a;if(this._points=[],this._floatPoints=[],t=this._source.priceScale(),e=this._model.timeScale(),t&&!t.isEmpty()&&!e.isEmpty()){for(i=this._source.points(),o=0;o<i.length;o++){if(n=i[o],!(r=this._source.pointToScreenPoint(n)))return;s=r[0],s.data=o,a=r[1],a.data=o,this._floatPoints.push(s),this._points.push(a)}2===this._points.length&&(this._middlePoint=this._source.calcMiddlePoint(this._points[0],this._points[1]))}},t.prototype._getSource=function(){return this._source},t.prototype._getPoints=function(){return this._points},t.prototype._getModel=function(){return this._model},t}(),e.LineSourcePaneView=l},,function(t,e,i){"use strict";function o(t){var e,i=[],n=t.m_items;for(e=0;e<n.length;e++)n[e]._menu&&(i.push(n[e]._menu),i=i.concat(o(n[e]._menu)));return i}function n(t,e,i){var o,n;this.options={},this._parentMenuItem=i,$.extend(this.options,e),this.options.class&&(this.options.attributes.class=this.options.class),this.jqMenu=null,this.m_wrapper=null,this.m_items=[];for(o in t)n=t[o],this.addItem(n)}var r=i(464),s=i(74).ActionPlaceholder,a=i(568),l=a.Item,c=a.ItemPlaceholder,h=i(569),d=i(267);n.prototype.addItem=function(t){var e;return e=t instanceof s?new c(t,this):new l(t,this),this.m_items.push(e),e},n.renderItem=function(t,e){t.append(e.render(t))},n.prototype.closeOtherSubmenus=function(t){for(var e=0;e<this.m_items.length;++e)this.m_items[e].highlight(!1),this.m_items[e]._menu&&(this.m_items[e]._menu.destroy(),this.m_items[e]._menu=null)},n.prototype.isShown=function(){return null!==this.jqMenu},n.prototype.render=function(){var t,e,i,o=this.getAttributes();if(this._parentMenuItem){t=$("<table>"),this.jqMenu=t,t.attr("cellspacing","0"),t.attr("cellpadding","0"),t.addClass("context-menu"),t.addClass("submenu");for(e in this.m_items)i=this.m_items[e],n.renderItem(t,i)}else{t=d.create(r.MENU_TAG,o),this.jqMenu=t;for(e in this.m_items)i=this.m_items[e],n.renderItem(t,i)}return this.jqMenu},n.prototype.getAttributes=function(){var t={},e=["context-menu"];return this.options.attributes&&this.options.attributes.class&&e.push(this.options.attributes.class),t.cellspacing=0,t.cellpadding=0,t.class=e.join(),t},n.prototype.deploy=function(t,e){var i=this.wrapper();return this.jqMenu=i.append(this.render()),e?($(e).data("submenu",this.jqMenu),$(document.body).append(this.jqMenu),this.jqMenu.data("parent-menu",e),this.jqMenu.data("parent-item",t.currentTarget)):$(document.body).append(this.jqMenu),h.unbindContextMenu(this.jqMenu),this._setCoords(t),this.jqMenu},n.prototype.show=function(t,e){this.deploy(t,e).show()},n.prototype.hide=function(){this.isShown()&&this.destroy()},n.prototype.destroy=function(){$.each(this.m_items,function(t,e){e._menu&&e._menu.destroy()}),this.jqMenu&&(this.jqMenu.remove(),this.jqMenu=null),this.m_wrapper.empty()},n.prototype._setCoords=function(t){var e,i,o,n,r,s,a,l=5,c=this.jqMenu,h=$(this.jqMenu.data("parent-item")),d={width:$(window).width(),
height:Math.min($(window).height(),$("body").height())},u={top:$(document).scrollTop(),left:$(document).scrollLeft()};for(this.jqMenu.css({maxWidth:d.width-2*l,maxHeight:d.height-2*l}),e={width:c.outerWidth(),height:c.outerHeight()},h.size()?(o=h.offset(),i={top:o.top-1,left:o.left+h.outerWidth()}):i={top:t.pageY,left:t.pageX},this.jqMenu.offset(i),n=!1,r={},r.top=Math.min(i.top,d.height+u.top-e.height-l),i.left+e.width+l>d.width+u.left||this.options.reverse?(n=!0,r.left=i.left-e.width):r.left=i.left,s=t.target;s&&s!==document;s=s.parentNode)if("fixed"===$(s).css("position")){this.jqMenu.css("position","fixed");break}this.jqMenu.offset(r),n&&(a=e.width-this.jqMenu.outerWidth())&&(r.left+=a,this.jqMenu.offset(r))},n.prototype._wrapper=function(){var t=this,e=r.WRAPPER_ATTRIBUTES;return this._parentMenuItem?this.m_wrapper=d.create(r.WRAPPER_TAG,e):(this.m_wrapper=h.createPopup(e,void 0,{mouseDownOutsideEvent:function(e){var i=$();$.each(o(t),function(){i=i.add(this.m_wrapper)}),$(e.target).parents().andSelf().is(i)||t.hide()}}),this.m_wrapper.addClass("topmenu")),this.m_wrapper},n.prototype.wrapper=function(t){return this.m_wrapper||this._wrapper()},t.exports=n},function(t,e,i){"use strict";t.exports={INSERT_AT_END:0,INSERT_AT_START:1,INSERT_AT_POS:2,WRAPPER_TAG:"div",WRAPPER_ATTRIBUTES:{class:"context-menu-wrapper"},MENU_TAG:"table",ITEM_ROW_TAG:"tr",ICON_CELL_TAG:"td",TEXT_CELL_TAG:"td",RIGHT_CELL_TAG:"td",SUBMENU_CELL_TAG:"td"}},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){r.default.trackGoPro("Gopro Features",t,e)},n=i(949),r=o(n),t.exports=e.default},function(t,e,i){"use strict";function o(t,e,i){c=i||c,l=t,e=e||"aggressive",a.enable("referral_program_for_widget_owners"),a.enable("referral_program_policy_"+e),r.trackEvent("Referral program enabled",e)}function n(){return l?"http://tradingview.go2cloud.org/aff_c?offer_id=2&url_id="+c+"&aff_id="+l+"&"+s.buildUtmQueryStringFromUrlParams(!1):"https://tradingview.com"+s.buildUtmQueryStringFromUrlParams(!0)}var r,s,a,l,c;Object.defineProperty(e,"__esModule",{value:!0}),r=i(20),s=i(60),a=i(3),c="11",e.enable=o,e.referenceToTradingView=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,i=0,o=void 0;if(0===t.length)return i;for(e=0;e<t.length;e++)o=t.charCodeAt(e),i=(i<<5)-i+o,i&=i;return i},t.exports=e.default},,,function(t,e,i){"use strict";(function(e){function o(t){this._band=t||{}}function n(){o.apply(this,arguments)}function r(){o.apply(this,arguments)}function s(){o.apply(this,arguments)}function a(){o.apply(this,arguments)}var l,c=i(92).PlotTypes,h=i(281).generateTitleForGui,d=i(0).getLogger("Alerts.Band"),u=i(268);TradingView="object"==typeof e?e.TradingView:TradingView||{},l={create:function(t){var e,i=t||{},o=i.type;if("MainSeries"===o)e=n;else if("Study"===o||/^study_\w+/.test(o))e=r;else if("Value"===o)e=s;else{if(!/^LineTool.*/i.test(o))return d.logError("Unknown alert band type "+o),null
;e=a}return new e(i)}},o.prototype.id=function(){return this._band.id},o.prototype.type=function(){return this._band.type},o.prototype.title=function(){return this._band.title},o.prototype.hasPlots=function(){return this._band.plots&&this._band.plots.length},o.prototype.getActualSymbol=function(){return this._band.actualSymbol},o.prototype.getSymbolString=function(){return this._band.symbolString},o.prototype.getPlotTitle=function(t){return t.title?t.title:t.type===c.OHLC_OPEN?t.ohlcTitle+" "+$.t("Open"):t.type===c.OHLC_HIGH?t.ohlcTitle+" "+$.t("High"):t.type===c.OHLC_LOW?t.ohlcTitle+" "+$.t("Low"):t.type===c.OHLC_CLOSE?t.ohlcTitle+" "+$.t("Close"):"vol"===t.id?$.t("Volume"):"vol_ma"===t.id?$.t("Volume MA"):"open"===t.id?$.t("Open"):"high"===t.id?$.t("High"):"low"===t.id?$.t("Low"):"close"===t.id?$.t("Close"):t.id},o.prototype.getPlots=function(t){var e,i=t||{},o=this;return this._band.plots&&this._band.plots.length&&"inputSelect"===i.format?(e=-1,this._band.plots.map(function(t){return e++,{value:e,title:o.getPlotTitle(t)}})):this._band.plots},inherit(n,o),n.prototype.title=function(t){var e=i(95),o=t||{},n=!!o.withInterval,r=this._band.actualSymbol;return e&&(r=e.shortName(r)),h({symbol:r,interval:n?this._band.interval:null,style:this._band.style,inputs:this._band.styleInputs||{},boxSize:this._band.boxSize,reversalAmount:this._band.reversalAmount,extended:o.extended})},n.prototype.getStyle=function(){return this._band.style},n.prototype.getStyleInputs=function(){return this._band.styleInputs},n.prototype.isJapaneseStyle=function(){return u.isJapaneseStyle(this._band.style)},n.prototype.isSpread=function(){return this._band.isSpread},n.prototype.isExtended=function(){return this._band.extendedHours},inherit(r,o),r.prototype.title=function(t){var e,i,o,n=t||{},r=n.withPlotTitle,s=this._band;return n.short&&s.shortTitle?e=s.shortTitle:s.title?e=s.title:(e=s.shortDescription||"Study",i=[],Object.keys(s.inputs).forEach(function(t){var e=s.inputs[t]&&s.inputs[t].id;e&&!s.inputs[t].isHidden&&void 0!==s.inputs[e]&&i.push(s.inputs[e])}),i.length&&(e+=" ("+i.join(", ")+")")),r&&(o=this.selectedPlot())&&(e+=" "+(o.title||$.t("Untitled Plot"))),e},r.prototype.selectedPlot=function(){var t=this._band;return void 0===t.plotIndex?null:this.getPlots().filter(function(e){return e.value===t.plotIndex})[0]||null},inherit(s,o),s.prototype.title=function(t){var e=this._band.value||0;return t.formatter?t.formatter.format(parseFloat(e)):""+parseFloat(e)},inherit(a,o),t.exports.AlertBandAbstract=o,t.exports.AlertBandValue=s,t.exports.alertBandFactory=l}).call(e,i(58))},function(t,e,i){"use strict";function o(t){this._data=t,this.bars=t.bars,this._barWidth=n.optimalBarWidth(t.barSpacing),this._barBorderWidth=1}var n=i(42),r=i(11);o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h,d,u,p,f,_=this.bars,g=this._data.barSpacing,m=this._data.drawWick,v=this._data.drawBorder,y=this._data.wickColor,b=this._barBorderWidth,w=this._barWidth;if(t.lineCap="square",t.lineStyle=this._data.lineStyle,g<1){if(m){for(t.strokeStyle=y,t.lineWidth=1,
t.beginPath(),h=_.length;h-- >0;)d=_[h],t.moveTo(d.time,d.low),t.lineTo(d.time,d.high);t.stroke()}for(t.lineWidth=1,u="",p=!1,t.beginPath(),h=_.length;h-- >0;)d=_[h],c=d.time,u!==d.color&&(p&&(t.stroke(),t.beginPath(),p=!1),t.strokeStyle=d.color,u=d.color),t.moveTo(d.time,d.open),t.lineTo(d.time,d.close),p=!0;p&&t.stroke()}else{if(_=_.slice().sort(function(t,e){return t.color>e.color?-1:t.color<e.color?1:0}),t.translate(-.5,-.5),t.lineWidth=b,m)for(f=y,t.fillStyle=y,h=_.length;h--;)d=_[h],c=d.time,e=d.open,i=d.high,o=d.low,n=d.close,d.wickColor&&d.wickColor!==f&&(t.fillStyle=d.wickColor,f=d.wickColor),a=Math.min(e,n),l=Math.max(e,n),d.hollow?(t.fillRect(c,i,1,a-i),t.fillRect(c,l,1,o-l)):t.fillRect(c,i,1,o-i);if(v)for(h=_.length;h--;)d=_[h],_[h+1]&&d.borderColor===_[h+1].borderColor||(t.fillStyle=d.borderColor),d.hollow||(c=d.time,e=d.open,n=d.close,r=Math.round(c-w),s=Math.round(c+w),a=Math.min(e,n),l=Math.max(e,n),t.fillRect(r,a,s-r+1,l-a+1));for(h=_.length;h--;)d=_[h],c=d.time,e=d.open,i=d.high,o=d.low,n=d.close,r=Math.round(c-w),s=Math.round(c+w),a=Math.min(e,n),l=Math.max(e,n),_[h+1]&&d.color===_[h+1].color||(t.strokeStyle=d.color),t.fillStyle=d.color,Math.abs(a-l)<=1&&(t.fillStyle=d.borderColor),d.hollow?(t.translate(-.5,-.5),t.strokeRect(r+1,a+1,s-r,l-a),t.translate(.5,.5)):(v&&(r+=1,a+=1,s-=1,l-=1),t.fillRect(r,a,s-r+1,l-a+1))}},o.prototype.hitTest=function(t){var e,i,o,s,a=this.bars,l=.5*this._data.barSpacing;if(0===a.length)return null;if(t.x<a[0].time-l)return null;if(t.x>a[a.length-1].time+l)return null;for(e=null,i=0;i<a.length;++i)if(o=a[i],t.x<=o.time+l){e=o;break}return s=n.selectionTolerance(this._barBorderWidth),e&&e.high-s<=t.y&&t.y<=e.low+s?this._data.hittest||new r(r.REGULAR):null},e.PaneRendererCandles=TradingView.PaneRendererCandles=o},,,,function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(80),r=function(t){function e(e,i){var o=t.call(this)||this;return o._source=e,o._data=i,o}return o.__extends(e,t),e.prototype._updateRendererData=function(t){t.visible=!1;var e=this._source.lastValueData(this._data.plotIndex,!1);e.noData||(t.background=e.color,t.color=this.generateTextColor(e.color),t.coordinate=e.coordinate,t.floatCoordinate=e.floatCoordinate,t.text=e.text,t.visible=!0)},e}(n.PriceAxisView),e.StudyPriceAxisView=r},function(t,e,i){"use strict";function o(t){this.bars=t.bars,this.barSpacing=t.barSpacing,this.barWidth=n.optimalBarWidth(t.barSpacing),this.barLineWidth=Math.max(1,Math.round(this.barWidth)),this.dontDrawOpen=t.dontDrawOpen}var n=i(42),r=i(11);o.prototype.draw=function(t){var e,i,o;for(t.save(),t.translate(.5,.5),i=0;i<this.bars.length;++i)o=this.bars[i],e!==o.color&&(t.fillStyle=o.color,e=o.color),t.fillRect(Math.round(o.time-this.barLineWidth/2),Math.round(o.high-this.barWidth/2),Math.round(this.barLineWidth),Math.round(o.low-o.high+this.barWidth)),
this.barLineWidth<this.barSpacing-1&&(this.dontDrawOpen||t.fillRect(Math.round(o.time-1.5*this.barWidth),Math.round(o.open-this.barWidth/2),Math.round(1.5*this.barWidth),Math.round(this.barWidth)),t.fillRect(Math.round(o.time),Math.round(o.close-this.barWidth/2),Math.round(1.5*this.barWidth),Math.round(this.barWidth)));t.restore()},o.prototype.hitTest=function(t){var e,i,o,s,a=this.bars,l=.5*this.barSpacing;if(0===a.length)return null;if(t.x<a[0].time-l)return null;if(t.x>a[a.length-1].time+l)return null;for(e=null,i=0;i<a.length;++i)if(o=a[i],t.x<=o.time+l){e=o;break}return s=n.selectionTolerance(this.barLineWidth),e&&e.high-s<=t.y&&t.y<=e.low+s?new r(r.REGULAR):null},e.PaneRendererBars=TradingView.PaneRendererBars=o},function(t,e,i){"use strict";function o(t){t.forceLineColor=!1,r.call(this,t),this.color1=t.color1,this.color2=t.color2,this.bottom=t.bottom,this.isSeries=!!t.isSeries,this._simpleMode=t.simpleMode}var n=i(42).coordinateIsValid,r=i(271).PaneRendererLine;inherit(o,r),o.prototype.draw=function(t){var e,i,o,s,a,l,c,h,d,u,p,f;if(0!==this.items.length){for(t.lineCap="square",t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,t.lineStyle=this.lineStyle,t.lineWidth=1,e=0;e<this.items.length&&!n(this.items[e].y);)e++;for(i=this.items.length-1;i>=0&&!n(this.items[i].y);)i--;if(!(e>=i)){for(t.translate(.5,.5),o={},s=this.items,a=e;a<=i;a++)l=s[a],c=l.style?l.style.color:this.lineColor,a<i&&s[a+1].style&&(h=s[a+1].style.color,c!==h&&(d=o[h]||[],d.push(l),o[h]=d)),u=o[c]||[],u.push(l),o[c]=u;for(c in o){for(u=o[c],t.beginPath(),p=0,a=0;a<u.length;a++)u[a].style&&u[a].style.color!==c&&(t.moveTo(u[p].x,this.bottom),this.walkLine(t,u.slice(p,a),!0,this.bottom),p=a);t.moveTo(u[p].x,this.bottom),this.walkLine(t,u.slice(p,u.length),!0,this.bottom),t.closePath(),this.isSeries?(f=t.createLinearGradient(0,0,0,this.bottom),f.addColorStop(0,this.color1),f.addColorStop(1,this.color2),t.fillStyle=f,this._simpleMode=!0):t.fillStyle=c,t.fill()}t.lineWidth=this.lineWidth,r.prototype.draw.call(this,t)}}},e.PaneRendererArea=TradingView.PaneRendererArea=o},function(t,e,i){"use strict";function o(t,e,i,o,n){var r,s,a,l,c;for(this._canvasesMap={},this._lines=t.split(/[^\S\r\n]*(?:\r\n|\r|\n)/),this._font=this._fontStyle(e,i,o,n),this._fontSize=n,r=$("<canvas>"),s=r.get(0).getContext("2d"),s.font=this._font,a=0,l=0;l<this._lines.length;l++)c=s.measureText(this._lines[l]).width,a=Math.max(a,c);this.textImageWidth=a+1,this.textImageHeight=this._lines.length*n}o.prototype.paintTo=function(t,e,i,o,n,r){var s=this._getTextImage(e),a=this._x(i,n,this.textImageWidth),l=this._y(o,r,this.textImageHeight);t.drawImage(s,a-.5,l-.5)},o.prototype._getTextImage=function(t){var e,i,o,n,r;if(this._canvasesMap[t])return this._canvasesMap[t].get(0);for(e=$("<canvas>").attr("width",this.textImageWidth).attr("height",this.textImageHeight),i=e.get(0).getContext("2d"),i.textBaseline="top",i.font=this._font,i.textAlign="center",i.fillStyle=t,o=Math.round(this.textImageWidth/2),n=0,r=0;r<this._lines.length;r++)i.fillText(this._lines[r],o,n),
n+=this._fontSize;return this._canvasesMap[t]=e,e.get(0)},o.prototype._x=function(t,e,i){var o=t;switch(e){case"left":break;case"right":o-=i;break;case"center":o-=i/2}return Math.round(o)},o.prototype._y=function(t,e,i){var o=t;switch(e){case"top":break;case"bottom":o-=i;break;case"middle":o-=i/2}return Math.round(o)},o.prototype._fontStyle=function(t,e,i,o){return(t?"bold ":"")+(e?"italic ":"")+o+"px "+i},t.exports=o},function(t,e,i){"use strict";function o(t){s.call(this,t)}function n(t){s.call(this,t)}function r(t){s.call(this,t)}var s=i(68).PaneRendererAbstractShape;inherit(o,s),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=this.width,h=this.height,d=Math.round(h/3),u=this._vertOffset-2*d,p=!1;for(i=0,o=this.items.length;i<o;i++)n=this.items[i],n.style&&null!=n.style.color?(r=n.style.color,s=n.style.borderColor):(r=this._color,s=this._borderColor),r!==e&&(e=r,p&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=r,t.strokeStyle=s),a=n.x,l=n.y+u,t.moveTo(a,l),t.lineTo(a+c/2,l+h),t.lineTo(a-c/2,l+h),t.lineTo(a,l),p=!0;p&&(t.fill(),t.stroke())},inherit(n,s),n.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=this.width,h=this.height,d=Math.round(h/3),u=this._vertOffset-d,p=!1;for(i=0,o=this.items.length;i<o;i++)n=this.items[i],n.style&&null!=n.style.color?(r=n.style.color,s=n.style.borderColor):(r=this._color,s=this._borderColor),r!==e&&(e=r,p&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=r,t.strokeStyle=s),a=n.x-c/2,l=n.y+u,t.moveTo(a,l),t.lineTo(a+c,l),t.lineTo(a+c/2,l+h),t.lineTo(a,l),p=!0;p&&(t.fill(),t.stroke())},inherit(r,s),r.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l=this.width,c=this.height,h=this._vertOffset,d=!1;for(i=0,o=this.items.length;i<o;i++)n=this.items[i],r=n.style&&null!=n.style.color?n.style.color:this._color,r!==e&&(e=r,d&&t.fill(),t.beginPath(),t.fillStyle=r),s=n.x+l/2,a=n.y-c/2+h,t.moveTo(s,a),t.lineTo(s,a+c),t.lineTo(s-l,a+c/2),t.lineTo(s,a),d=!0;d&&t.fill()},e.PaneRendererTriangleApexUp=TradingView.PaneRendererTriangleApexUp=o,e.PaneRendererTriangleApexDown=TradingView.PaneRendererTriangleApexDown=n,e.PaneRendererTriangleApexLeft=TradingView.PaneRendererTriangleApexLeft=r},function(t,e,i){"use strict";function o(t){this._props=t,this._text="",this._size="12px",this._bold=!1}o.prototype.text=function(){return this._text},o.prototype.setText=function(t){this._text=t},o.prototype.color=function(){if(this._props)return this._props.scalesProperties.textColor.value();i.e(16).then(function(t){return(0,i(236).setThemedColor)("color-text-regular")}.bind(null,i)).catch(i.oe)},o.prototype.bold=function(){return this._bold},o.prototype.size=function(){return this._size},t.exports=o},function(t,e,i){"use strict";function o(t,e,o){var n,r,l="RegressionTrend@tv-basicstudies",u=h.lineToolNameForPointsBasedStudy(l);o=o||d.findStudyMetaInfo(t.studiesMetaData(),l),n=t.studyVersioning(),r=e||c(o,null,null,n),r.merge({blockCopying:!0}),s.call(this,t,r,u),this._turnaroundCounter=1,this._turnaround="linreg_"+this._turnaroundCounter,this._metaInfo=o,this._graphics=new a(o),
i.e(11).then(function(t){var e=i(1188).RegressionTrendPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function n(t){return void 0!==t.startPrice&&void 0!==t.endPrice}var r=i(1).LineDataSource,s=i(132).StudyLineDataSource,a=i(183),l=i(34),c=l.prepareStudyProperties,h=l.Study,d=i(39),u=i(2).propertyPages;inherit(o,s),o.prototype.version=2,o.prototype.pointsCount=function(){return 2},o.prototype.recalcStudyIfNeeded=function(){this._studyId||2!==this._points.length||this._requestStudy()},o.prototype._requestStudy=function(){var t,e,i,o,n,r,s,a,l,c,d=this.points();if(!(d.length<2)){if(t=d[0],e=d[1],i=Math.min(t.index,e.index),o=Math.max(t.index,e.index),i===o)return void this.clearData();n=this._model.mainSeries().bars().valueAt(i),r=this._model.mainSeries().bars().valueAt(o),null!==n&&null!==r&&(s=1e3*n[TradingView.TIME_PLOT],a=1e3*r[TradingView.TIME_PLOT],l={"upper diviation":this.properties().inputs["upper diviation"].value(),"lower diviation":this.properties().inputs["lower diviation"].value(),"use upper diviation":this.properties().inputs["use upper diviation"].value(),"use lower diviation":this.properties().inputs["use lower diviation"].value(),"first bar time":s,"last bar time":a,source:this.properties().inputs.source.value()},c=this,this._studyId?(this._turnaround="linreg_"+ ++this._turnaroundCounter,this._model.chartApi().modifyStudy(this._studyId,this._turnaround,l,function(t){c.onData(t)})):(this._studyId=h.makeNextStudyId(),this._model.chartApi().createStudy(this._studyId,this._turnaround,this._model.mainSeries()._seriesId,this._metaInfo.fullId+"!",l,function(t){c.onData(t)})))}},o.prototype.onData=function(t){var e=this;if("data_update"===t.method&&t.params.customId==="pointset_"+this._currentPointsetId&&(r.prototype.onData.call(this,t),2===this._points.length&&this._requestStudy()),"data_update"===t.method&&t.params.customId===this._studyId){if(!this._checkTurnaround(t.params.turnaround))return;h.prototype._makeJSONForNSData.call(this,t,{}).then(function(i){i.data&&(i.indexes_replace?e._indexes=t.params.nonseries.indexes:(e._nonseriesdata=i.data,TradingView.isNaN(i.data.baseLine.startPrice)||TradingView.isNaN(i.data.baseLine.endPrice)||(e._points[0].price=e._nonseriesdata.baseLine.startPrice,e._points[1].price=e._nonseriesdata.baseLine.endPrice),e._indexes=t.params.nonseries.indexes),e.updateAllViews(),e._model.updateSource(e))})}},o.patchSourceState=function(t){var e={palettes:{},inputs:[{defval:2,id:"upper diviation",max:500,min:-500,name:$.t("Upper Deviation"),type:"integer"},{defval:-2,id:"lower diviation",max:500,min:-500,name:$.t("Lower Deviation"),type:"integer"},{defval:!0,id:"use upper diviation",name:$.t("Use Upper Deviation"),type:"bool"},{defval:!0,id:"use lower diviation",name:$.t("Use Lower Deviation"),type:"bool"},{defval:0,id:"first bar time",max:253370764800,min:0,name:$.t("First bar time"),type:"time"},{defval:0,id:"last bar time",max:253370764800,min:0,name:$.t("Last bar time"),type:"time"},{defval:"close",id:"source",name:$.t("Source"),
options:["open","high","low","close","hl2","hlc3","ohlc4"],type:"text"}],plots:[],graphics:{},defaults:{inputs:{"first bar time":0,"last bar time":0,"lower diviation":-2,source:"close","upper diviation":2,"use lower diviation":!0,"use upper diviation":!0}},_metainfoVersion:6,description:"Regression Trend",id:"RegressionTrend@tv-basicstudies",is_price_study:!0,shortDescription:"Reg Trend",shortId:"RegressionTrend",version:"2",fullId:"RegressionTrend@tv-basicstudies-2",name:"RegressionTrend@tv-basicstudies"};return t.metaInfo||(t.metaInfo=e),t},o.prototype.getInputsPropertyPage=function(){return u.LineToolRegressionTrendInputsPropertyPage},o.prototype.getStylesPropertyPage=function(){return u.StudyLinearRegressionStylesPropertyPage},o.prototype._isReady=function(){return this._nonseriesdata&&void 0!==this._nonseriesdata.startIndex&&void 0!==this._nonseriesdata.endIndex&&n(this._nonseriesdata.upLine)&&n(this._nonseriesdata.baseLine)&&n(this._nonseriesdata.downLine)},e.LineToolRegressionTrend=o},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M22.5 4v-1h-19.5v19.5h1v-18.5z"/><path d="M5.493 24v1h19.507v-19.5h-1v18.5z"/><path d="M5.275 23.432l18.213-18.213-.707-.707-18.213 18.213z"/><path d="M5.568 24.383l19.079-5.906-.296-.955-19.079 5.906z" id="Line-Copy-18"/><path d="M4.587 22.68l5.891-19.032-.955-.296-5.891 19.032z"/><path d="M3.5 11h21v-1h-21z"/><path d="M3.5 18h21v-1h-21z"/><path d="M10 3.5v21h1v-21z"/><path d="M17 3.5v21h1v-21z"/><path d="M23.975 23.475l1.025 1.025c0-11.874-9.626-21.5-21.5-21.5l1.025 1.025c10.506.517 18.932 8.944 19.45 19.45z"/><path d="M3.5 26c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e,i){"use strict";function o(t){this._studyId=t,this._maxToVers=n.ZERO,this._maxFromVers=n.ZERO,this._migrs=[]}var n=i(230).Version,r=i(0).getLogger("Chart.StudyMigration");o.prototype.addMigration=function(t,e,i){var o=n.parse(t),r=n.parse(e);o.isGreater(this._maxFromVers)&&(this._maxFromVers=o),r.isGreater(this._maxToVers)&&(this._maxToVers=r),this._migrs.push({fromVers:o,toVers:r,rules:i})},o.prototype.updateInputs=function(t,e,i){var o,n,s;if(!i)return i;for(o=TradingView.clone(i),n=t;n.isLess(e)&&null!=(s=this._findMigration(n));){if(r.logNormal("Migrating study inputs from "+s.fromVers+" to "+s.toVers+" version, studyId: "+this._studyId+", migration: "+JSON.stringify(s)+", inputs: "+JSON.stringify(i)),o=this._applyMigration(o,s),!n.isLess(s.toVers))throw Error("Problems in study migration process... Possible infinite cycle has been detected and stopped.");n=s.toVers}return n>t&&r.logNormal("Study inputs migration is done, studyId: "+this._studyId+", inputs: "+JSON.stringify(o)),o},
o.prototype._findMigration=function(t){var e,i,o=-1,n=this._maxFromVers;for(e=0;e<this._migrs.length;e++)i=this._migrs[e],i.fromVers.isLess(t)||i.fromVers.isLessOrEqual(n)&&(n=i.fromVers,o=e);return o<0?null:this._migrs[o]},o.prototype._applyMigration=function(t,e){var i,o,n,r=t;for(i=0;i<e.rules.length;i++)o=e.rules[i],n=this._getApplyRuleFun(o.type),r=n(r,o);return r},o.prototype._getApplyRuleFun=function(t){if("inputRemoved"===t)return o._applyInputRemovedRule;if("inputChangedType"===t)return o._applyInputChangedTypeRule;if("inputChangedMinMax"===t)return o._applyInputChangedMinMaxRule;if("inputChangedOptions"===t)return o._applyInputChangedOptionsRule;throw Error("Unknown migration rule type: "+t)},o._applyInputRemovedRule=function(t,e){if(!(e.inputId in t))return t;if("removeVal"!==e.action)throw Error("Unexpected rule.action="+e.action+" in rule.type="+e.type);var i=t[e.inputId];return delete t[e.inputId],r.logNormal("Input "+e.inputId+"="+i+" removed"),t},o._applyInputChangedTypeRule=function(t,e){var i=t[e.inputId];if("resetToDefVal"===e.action)return t[e.inputId]=e.defVal,r.logNormal("Input "+e.inputId+"="+i+" reset to default value "+e.defVal),t;if("convertVal"===e.action){if(null==i)return t;if("float"===e.inputTypeFrom&&"integer"===e.inputType)return t[e.inputId]=Math.round(t[e.inputId]),r.logNormal("Input "+e.inputId+"="+i+" converted to value "+t[e.inputId]),t;if("integer"===e.inputTypeFrom&&"float"===e.inputType)return t;if("text"===e.inputTypeFrom&&"source"===e.inputType)return o._isValidSource(i,e.options)?t:(t[e.inputId]=e.defVal,t);throw Error("Cannot convertVal from "+e.inputTypeFrom+" to "+e.inputType)}throw Error("Unknown action "+e.action+" for rule with type "+e.type)},o._isValidSource=function(t,e){return t.indexOf("$")>=0||e.indexOf(t)>=0},o._applyInputChangedMinMaxRule=function(t,e){if("adjustValIfNeeded"!==e.action)throw Error("Unknown action "+e.action+" for rule with type "+e.type);var i=t[e.inputId];return i<e.minVal?t[e.inputId]=e.minVal:i>e.maxVal&&(t[e.inputId]=e.maxVal),r.logNormal("Input "+e.inputId+"="+i+" adjusted to value "+t[e.inputId]),t},o._applyInputChangedOptionsRule=function(t,e){if(!(["text"].indexOf(e.inputType)>=0&&"resetToDefValIfNeeded"===e.action))throw Error("Unexpected rule.inputType="+e.inputType+" in rule.action="+e.action);var i=t[e.inputId];return e.options.indexOf(i)<0&&(t[e.inputId]=e.defVal,r.logNormal("Input "+e.inputId+"="+i+" reset to default value "+e.defVal)),t},t.exports=o},function(t,e,i){"use strict";function o(){a.call(this)}function n(t,e){this._constructor="LineToolFibSpeedResistanceArcs";var n=e||this.createPropertiesObject("linetoolfibwedge");r.call(this,t,n),t._fibWedgeLabelsCache||(t._fibWedgeLabelsCache=new o),i.e(11).then(function(t){var e=i(1119).FibWedgePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(1).LineDataSource,s=i(31),a=i(133),l=i(2).propertyPages;inherit(o,a),o.prototype.levelsCount=function(){return n.LevelsCount},inherit(n,r),n.LevelsCount=11,n.prototype.getCache=function(){
return this._model._fibWedgeLabelsCache||(this._model._fibWedgeLabelsCache=new o),this._model._fibWedgeLabelsCache},n.prototype.pointsCount=function(){return 3},n.prototype.title=function(){return"Fib Wedge"},n.prototype.setPoint=function(t,e){var i,o,n,s,a,l,c;r.prototype.setPoint.call(this,t,e),this._recursiveGuard||(this._recursiveGuard=!0,2===t?(i=this.pointToScreenPoint(this._points[0])[0],o=this.pointToScreenPoint(this._points[1])[0],n=this.pointToScreenPoint(this._points[2])[0],s=n.subtract(i).length(),a=o.subtract(i).normalized(),o=i.add(a.scaled(s)),l=this.screenPointToPoint(o),this._properties.points[1].price.setValue(l.price),this._properties.points[1].bar.setValue(l.index)):(i=this.pointToScreenPoint(this._points[0])[0],o=this.pointToScreenPoint(this._points[1])[0],n=this.pointToScreenPoint(this._points[2])[0],c=o.subtract(i).length(),a=n.subtract(i).normalized(),n=i.add(a.scaled(c)),l=this.screenPointToPoint(n),this._properties.points[2].price.setValue(l.price),this._properties.points[2].bar.setValue(l.index)),this._recursiveGuard=!1)},n.prototype.addPoint=function(t){var e,i,o,n,s,a,l,c;return 2===this._points.length&&(e=this.pointToScreenPoint(this._points[0])[0],i=this.pointToScreenPoint(this._points[1])[0],this.priceScale().isPercent()&&(o=this.ownerSource().firstValue(),t.price=this.priceScale().priceRange().convertFromPercent(t.price,o)),n=this.pointToScreenPoint(t)[0],s=i.subtract(e).length(),a=n.subtract(e).normalized(),n=e.add(a.scaled(s)),l=this.priceScale().coordinateToPrice(n.y),c=Math.round(this._model.timeScale().coordinateToIndex(n.x)),t={index:c,price:l}),r.prototype.addPoint.call(this,t)},n.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},n.prototype.createPropertiesObject=function(t,e,i){return new s(t,e,i,{range:[1,11]})},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return l.LineToolFibWedgeStylesPropertyPage},e.LineToolFibWedge=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Bars=0]="Bars",t[t.Line=1]="Line",t[t.OpenClose=2]="OpenClose",t[t.LineOpen=3]="LineOpen",t[t.LineHigh=4]="LineHigh",t[t.LineLow=5]="LineLow",t[t.LineHL2=6]="LineHL2"}(e.LineToolBarsPatternMode||(e.LineToolBarsPatternMode={}))},function(t,e,i){"use strict";(function(t){function o(t,e){this._pane=t,this._timeScale=e}function n(t){this._line=t}function r(t,e){this._adapter=new n(this),this._constructor="LineToolExecution";var o=e||new l("linetoolexecution");this.customization={forcePriceAxisLabel:!1,disableSelection:!0,disableErasing:!0},s.call(this,t,o),i.e(11).then(function(t){var e=i(1206).ExecutionPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var s=i(1).LineDataSource,a=i(269),l=i(7).DefaultProperty,c=i(24).PlotRowSearchMode;o.prototype._cachedByBarIndexOrderedExecutions={},o.recreateOrderedByBarsSourcesCache=function(t){var e,i,n,r,s;for(o.clearOrderedByBarsSourcesCache(),
e=o.prototype,i=t.orderedSources(),n=0;n<i.length;++n)r=i[n],r._adapter&&void 0!==r._adapter._index&&(s=e._cachedByBarIndexOrderedExecutions[r._adapter._index],e._cachedByBarIndexOrderedExecutions[r._adapter._index]=s||[],e._cachedByBarIndexOrderedExecutions[r._adapter._index].push(r))},o.clearOrderedByBarsSourcesCache=function(){o.prototype._cachedByBarIndexOrderedExecutions={}},o.prototype.getXYCoordinate=function(t,e,i){var o,n,s,a,l,h,d,u,p,f,_=0,g=t.getDirection(),m="buy"===g,v=this._pane.model().mainSeries();if(v.bars&&(o=m?10:-10,null!==(n=v.bars().search(i,c.NearestLeft))&&(i=n.index,s=m?n.value[TradingView.LOW_PLOT]:n.value[TradingView.HIGH_PLOT],a=v.priceScale(),a.isPercent()&&(l=v.firstValue(),s=a.priceRange().convertToPercent(s,l)),_=a.priceToCoordinate(s)+o)),t._index=i,h=e.visibleBars(),!isFinite(i)||null===h||i>h.lastBar()||i<h.firstBar())return{x:-1,y:-1};for(d=this._cachedByBarIndexOrderedExecutions[i]||this._pane.orderedSources(),u=d.length-1;u>=0;--u)if((p=d[u])instanceof r&&p._adapter._index===i&&p._adapter.getDirection()===g){if(p===t._line)break;f=p._adapter._height(),_=m?_+f:_-f}return{x:e.indexToCoordinate(i),y:_}},n.prototype._height=function(){var t,e=this.getArrowHeight(),i=this.getArrowSpacing();return this.getText()&&a.fontHeight(this.getFont()),t=10,e+i+0+t},n.prototype.getIndex=function(){return this._line._model.timeScale().baseIndex()-this._line.points()[0].index},n.prototype.setIndex=function(t){var e,i=this._line._model.timeScale(),o=i.baseIndex(),n=o-Math.abs(t);return this._line.startMoving(this._line.points()[0]),e=TradingView.merge({},this._line.points()[0]),e.index=n,this._line.move(e),this._line.endMoving(),this},n.prototype.getTime=function(){return this._unixtime},n.prototype.setTime=function(t){var e=this._line._model.mainSeries();return this._unixtime=ChartApiInstance.alignTimePoint?ChartApiInstance.alignTimePoint(t,e.interval(),e.symbolInfo()):t,this._line.restorePoints([{offset:0,price:this.getPrice(),time_t:this._unixtime}],[]),this._line.createServerPoints(),this},n.prototype.getPrice=function(){return this._line.points().length>0?this._line.points()[0].price:this._line._timePoint.length>0?this._line._timePoint[0].price:void 0},n.prototype.setPrice=function(t){return this._line.points().length>0&&(this._line.points()[0].price=t),this._line._timePoint.length>0&&(this._line._timePoint[0].price=t),this},n.prototype.getText=function(){return this._line.properties().text.value()},n.prototype.setText=function(t){return this._line.properties().text.setValue(t||""),this._line.updateAllViewsAndRedraw(),this},n.prototype.getArrowHeight=function(){return this._line.properties().arrowHeight.value()},n.prototype.setArrowHeight=function(t){return this._line.properties().arrowHeight.setValue(t||5),this},n.prototype.getArrowSpacing=function(){return this._line.properties().arrowSpacing.value()},n.prototype.setArrowSpacing=function(t){return this._line.properties().arrowSpacing.setValue(t||1),this},n.prototype.getDirection=function(){return this._line.properties().direction.value()},
n.prototype.setDirection=function(t){return this._line.properties().direction.setValue(t||"buy"),this},n.prototype.getArrowColor=function(){return a.getColorFromProperties(this._line.properties().arrowColor,this._line.properties().arrowTransparency)},n.prototype.setArrowColor=function(t){return a.setColorToProperties(t,this._line.properties().arrowColor,this._line.properties().arrowTransparency),this},n.prototype.getTextColor=function(){return a.getColorFromProperties(this._line.properties().textColor,this._line.properties().textTransparency)},n.prototype.setTextColor=function(t){return a.setColorToProperties(t,this._line.properties().textColor,this._line.properties().textTransparency),this},n.prototype.getFont=function(){return a.getFontFromProperties(this._line.properties().fontFamily,this._line.properties().fontSize,this._line.properties().fontBold,this._line.properties().fontItalic)},n.prototype.setFont=function(t){return a.setFontToProperties(t,this._line.properties().fontFamily,this._line.properties().fontSize,this._line.properties().fontBold,this._line.properties().fontItalic),this},n.prototype.setTooltip=function(t){return null==t?t="":t+="",this._line.properties().tooltip.setValue(t),this},n.prototype.getTooltip=function(){return this._line.properties().tooltip.value()},n.prototype.remove=function(){this._line._model.removeSource(this._line),delete this._line},inherit(r,s),r.POINTS_COUNT=1,r.skipMagnetting=!0,r.prototype.pointsCount=function(){return r.POINTS_COUNT},r.prototype.title=function(){return"Execution"},r.prototype.hasContextMenu=function(){return!1},r.prototype.state=function(){return null},r.prototype.updateAllViews=function(){return this._isVisible()?s.prototype.updateAllViews.call(this):null},r.prototype.priceAxisViews=function(t,e){return this._isVisible()?s.prototype.priceAxisViews.call(this,t,e):null},r.prototype._isVisible=function(){var t=this._model.properties().tradingProperties.showExecutions.value();return t=t&&!this._model.isInReplay()},r.prototype.paneViews=function(e){return TradingView.printing&&!t.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showExecutions.value()?s.prototype.paneViews.call(this,e):null},r.prototype.userEditEnabled=function(){return!1},r.prototype.showInObjectTree=function(){return!1},r.prototype.getInputsPropertyPage=function(){return null},e.ExecutionsPositionController=o,e.LineToolExecution=r}).call(e,i(3))},function(t,e,i){"use strict";function o(t,e,i){return new a(t,e,i)}var n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(6),r=i(10),s=i(31),a=function(t){function e(e,i,o){return t.call(this,e,i,o,{names:["width","color","visible"]})||this}return n.__extends(e,t),e.prototype._iterateLevels=function(t,e){var i,o,n;for(i in t.levels)if(t.levels[i]&&r.isSameType(t.levels[i],e.typecheck())){o=e.tpl();for(n in this._map.names)this._map.names.hasOwnProperty(n)&&(o=e.fill(n,this._map.names[n],t.levels[i],o));t.levels[i]=o}return t},e}(s),e.LineToolGannComplexProperty=a,e.createPropertiesObject=o},function(t,e,i){
"use strict";function o(t,e){this._constructor="LineTool5PointsPattern";var o=e||new r("linetool5pointspattern");n.call(this,t,o),i.e(11).then(function(t){var e=i(1120).Pattern5PaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(184).DateTimeFormatter,a=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 5},o.prototype.title=function(){return"XABCD Pattern"},o.prototype._tooltipFieldsHash={time0:{title:"Date 1",value:null},price0:{title:"Price 1",value:null},time1:{title:"Date 2",value:null},price1:{title:"Price 2",value:null},time2:{title:"Date 3",value:null},price2:{title:"Price 3",value:null},time3:{title:"Date 4",value:null},price3:{title:"Price 4",value:null},time4:{title:"Date 5",value:null},price4:{title:"Price 5",value:null}},o.prototype._updateTooltip=function(){var t,e,i,o,n,r=this._tooltipFieldsHash,a=this.points().m_values;a[0]&&(e=this._model.timeScale().indexToUserTime(a[0].index),r.time0.value=e?new s(this._model.mainSeries().isDWM()).format(e):0,r.price0.value=this._model.mainSeries()._formatter.format(a[0].price)),a[1]&&(t=this._model.timeScale().indexToUserTime(a[1].index),r.time1.value=t?new s(this._model.mainSeries().isDWM()).format(t):0,r.price1.value=this._model.mainSeries()._formatter.format(a[1].price)),a[2]&&(i=this._model.timeScale().indexToUserTime(a[2].index),r.time2.value=i?new s(this._model.mainSeries().isDWM()).format(i):0,r.price2.value=this._model.mainSeries()._formatter.format(a[2].price)),a[3]&&(o=this._model.timeScale().indexToUserTime(a[3].index),r.time3.value=o?new s(this._model.mainSeries().isDWM()).format(o):0,r.price3.value=this._model.mainSeries()._formatter.format(a[3].price)),a[4]&&(n=this._model.timeScale().indexToUserTime(a[4].index),r.time4.value=t?new s(this._model.mainSeries().isDWM()).format(n):0,r.price4.value=this._model.mainSeries()._formatter.format(a[4].price))},o.prototype.tooltip=function(){return this._updateTooltip(),this._formatTooltip()},o.prototype.getStylesPropertyPage=function(){return a.LineToolLineTool5PointsPatternStylesPropertyPage},e.LineTool5PointsPattern=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolNote";var n=e||new s("linetoolnote");r.call(this,t,n),this.version=o.version,i.e(11).then(function(t){var e=i(1228).NotePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function n(t,e){var i=e||new s("linetoolnoteabsolute");i.locked.value()||i.locked.setValue(!0),o.call(this,t,i)}var r=i(1).LineDataSource,s=i(7).DefaultProperty,a=i(2).propertyPages;inherit(o,r),o.TOOLTIP_WIDTH=300,o.TOOLTIP_PADDING=10,o.TOOLTIP_LINESPACING=5,o.version=1,o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return $.t("Note")},o.prototype.applyTemplate=function(t){delete t.locked,delete t.text,r.prototype.applyTemplate.call(this,t)},o.prototype.getTooltipWidth=function(){return o.TOOLTIP_WIDTH},o.prototype.getTooltipPadding=function(){return o.TOOLTIP_PADDING},
o.prototype.getTooltipLineSpacing=function(){return o.TOOLTIP_LINESPACING},inherit(n,o),n.prototype.title=function(){return $.t("Anchored Note")},o.prototype.state=function(t){var e=r.prototype.state.call(this,t);return t&&(e.state.fixedSize=!1),e},o.prototype.getStylesPropertyPage=function(){return a.LineToolNotePropertyPage},e.LineToolNote=o,e.LineToolNoteAbsolute=n},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolText";var o=e||new a("linetooltext");r.call(this,t,o),this._timeScale=t.timeScale(),this._barSpacing=t.timeScale().barSpacing(),i.e(11).then(function(t){var e=i(650).TextPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function n(t,e){var i=e||new a("linetooltextabsolute");i.locked.value()||i.locked.setValue(!0),o.call(this,t,i)}var r=i(1).LineDataSource,s=i(52).DataSource,a=i(7).DefaultProperty,l=i(2).propertyPages;inherit(o,r),o.MIN_WIDTH=100,o.prototype.setPoint=function(t,e){var i,n,r=this.properties();if(0===t&&r.wordWrapWidth&&r.wordWrapWidth.value()){if(i=r.locked&&r.locked.value()?this.fixedPoints()[0].x:this._timeScale.indexToCoordinate(this.points()[0].index),n=this._timeScale.indexToCoordinate(e.index)-i-~~(r.fontsize.value()/6),!isFinite(n))return;r.wordWrapWidth.setValue(Math.max(o.MIN_WIDTH,n))}},o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return $.t("Text")},o.prototype.setPriceScale=function(t){s.prototype.setPriceScale.call(this,t),t&&t.priceRange()&&(this._priceDencity=t.height()/t.priceRange().length(),this._isPriceDencityLog=t.isLog())},o.prototype.restoreSize=function(){this._barSpacing=this._model.timeScale().barSpacing(),this._priceDencity=this.priceScale().height()/this.priceScale().priceRange().length(),this.updateAllViews(),this._model.updateSource(this)},o.prototype.applyTemplate=function(t){delete t.locked,delete t.text,r.prototype.applyTemplate.call(this,t)},inherit(n,o),n.prototype.title=function(){return $.t("Anchored Text")},o.prototype.state=function(t){var e=r.prototype.state.call(this,t);return t&&(e.state.fixedSize=!1),e},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return l.LineToolTextStylesPropertyPage},e.LineToolText=o,e.LineToolTextAbsolute=n},function(t,e,i){"use strict";var o,n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(9),r=i(80),s=i(10),a=function(t){function e(e){var i=t.call(this)||this;return i._source=e,i}return o.__extends(e,t),e.prototype._updateRendererData=function(t){var e,i,o,r,a,l;if(t.visible=!1,e=this._source.points(),i=this._source.priceScale(),0!==e.length&&null!==i&&!i.isEmpty()&&(o=e[0],isFinite(o.price))){if(i.isPercent()){if(!(r=this._source.ownerSource()))return;if(a=r.firstValue(),!s.isNumber(a))return;o.price=n.ensureNotNull(i.priceRange()).convertToPercent(o.price,a)}l=this._source.properties().linecolor.value(),t.background=l,t.color=this.generateTextColor(l),t.coordinate=i.priceToCoordinate(o.price),t.text=i.formatter().format(o.price),t.visible=!0}},e
}(r.PriceAxisView),e.LineToolHorzLinePriceAxisView=a},function(t,e,i){"use strict";function o(t,e,i){this._study=t,this._series=e,this._model=i,this._invalidated=!0,this._orderArrow={vMargin:o.DEFAULT_ORDER_ARROW_VMARGIN,width:o.DEFAULT_ORDER_ARROW_WIDTH,height:o.DEFAULT_ORDER_ARROW_HEIGHT},this._exitLineWidth=o.DEFAULT_ORDER_ARROW_EXIT_LINE_WIDTH,this._priceArrow={width:o.DEFAULT_PRICE_ARROW_WIDTH,height:o.DEFAULT_PRICE_ARROW_HEIGHT},this._text={vMargin:o.DEFAULT_TEXT_VMARGIN,font:o.DEFAULT_FONT,fontSize:o.DEFAULT_FONT_SIZE},this._checkHideTextIfBarSpacingLT=o.DEFAULT_CHECK_HIDE_TEXT_IF_BARSPACING_LT,this._textIsVisible=!0,this._colors={entryBuy:o.DEFAULT_ENTRY_BUY_COLOR,entrySell:o.DEFAULT_ENTRY_SELL_COLOR,exit:o.DEFAULT_EXIT_COLOR},this._items={entryBuy:[],entrySell:[],exit:[]},this._textWidths={},this._study.properties().strategy.orders.subscribe(this,this.update)}var n=i(8).Point,r=i(835).PaneRendererStudyStrategyOrders,s=i(41).CompositeRenderer,a=i(24).PlotRowSearchMode;o.DEFAULT_ORDER_ARROW_VMARGIN=7,o.DEFAULT_ORDER_ARROW_WIDTH=9,o.DEFAULT_ORDER_ARROW_HEIGHT=11,o.DEFAULT_ORDER_ARROW_EXIT_LINE_WIDTH=2,o.DEFAULT_PRICE_ARROW_WIDTH=5,o.DEFAULT_PRICE_ARROW_HEIGHT=9,o.DEFAULT_TEXT_VMARGIN=2,o.DEFAULT_FONT="Arial",o.DEFAULT_FONT_SIZE=10,o.DEFAULT_CHECK_HIDE_TEXT_IF_BARSPACING_LT=10,o.DEFAULT_ENTRY_BUY_COLOR="#008fff",o.DEFAULT_ENTRY_SELL_COLOR="#f00",o.DEFAULT_EXIT_COLOR="#cc47ed",o.prototype._updateImpl=function(){var t,e,i,o,r,s,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M;if(this.clearItems(),(t=this._study.ordersData())&&t.length&&(e=this._model.timeScale(),i=this._series.priceScale(),!(!e||!i||e&&e.isEmpty()||i&&i.isEmpty())&&null!==(o=e.visibleBars()))){for(r=this._study.barsIndexes(),s=this._series.nearestIndex(o.firstBar(),a.NearestRight),l=this._series.nearestIndex(o.lastBar(),a.NearestLeft),c=s,h=[],d=[];c<=l;c++)for(u=-1;-1!==(u=r.indexOf(c,u+1));)(p=t[u])&&(h.push(p),d.push(c));for(f=this._study.properties(),_=f.strategy.orders.showLabels.value(),g=f.strategy.orders.showQty.value(),m=_||g,m&&e.barSpacing()<this._checkHideTextIfBarSpacingLT&&this._orderArrow.width*h.length*2>e.width()&&(m=!1),v=m&&this._text.fontSize+this._text.vMargin||0,y=v&&v*(_+g),b=0,w={upper:[],lower:[]};b<h.length;b++)p=h[b],u=d[b],S=e.indexToCoordinate(u,!0),T=i.priceToCoordinate(this._series[p.b?"low":"high"](u),!0),x=p.b?"lower":"upper",P="number"==typeof w[x][u]&&w[x][u]||0,T+=p.b?P:-P,"number"!=typeof w[x][u]&&(w[x][u]=0),w[x][u]+=(p.e?0:this._exitLineWidth)+this._orderArrow.vMargin+this._orderArrow.height+y,C=i.priceToCoordinate(p.p,!0),M=p.e?!p.b&&p.e?"entrySell":"entryBuy":"exit",this._items[M].push({orderPoint:new n(S,T),pricePoint:new n(S,C),label:_&&(p.c||p.id||"Untitled")||null,qty:g&&(p.b?"+":"-")+~~p.q||null,pos:x});this._textLabelIsVisible=_,this._textQtyIsVisible=g,this._textIsVisible=m}},o.prototype.update=function(){this._invalidated=!0},o.prototype.clearItems=function(){this._items.entryBuy.length=this._items.entrySell.length=this._items.exit.length=0},o.prototype.renderer=function(){
var t,e,i,o=this._study.properties();if(o.visible.value()&&o.strategy.orders.visible.value()&&(t=this._series.priceScale(),(this._invalidated||t&&t.isScaled())&&(this._updateImpl(),this._invalidated=!1),this._items.entryBuy.length||this._items.entrySell.length||this._items.exit.length)){e=new s;for(i in this._items)this._items[i].length&&e.append(new r({items:this._items[i],color:this._colors[i],orderArrow:this._orderArrow,exitLineWidth:"exit"===i&&this._exitLineWidth||0,priceArrow:this._priceArrow,text:this._textIsVisible&&this._text||null},this._textWidths));return e}},t.exports=o},function(t,e,i){"use strict";var o,n,r,s,a,l,c,h,d,u;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(9),r=i(130),s=i(80),a=i(3),l=i(32),c=a.enabled("countdown"),h=a.enabled("price_scale_always_last_bar_value"),d=[l.STYLE_BARS,l.STYLE_CANDLES,l.STYLE_LINE,l.STYLE_AREA,l.STYLE_HOLLOW_CANDLES,l.STYLE_HEIKEN_ASHI],u=function(t){function e(e,i){var o=t.call(this)||this;return o._source=e,o._data=i,o}return o.__extends(e,t),e.prototype._getSource=function(){return this._source},e.prototype._getData=function(){return this._data},e.prototype._isCountdownEnabled=function(){return c},e.prototype._countdownText=function(){var t,e,i,o,s,a,l,c,h,d,u;return this._source.isDWM()?"":(t=1e3*n.ensure(n.ensureNotNull(this._source.data().bars().last()).value[0]),e=1e3*this._source.serverTimeOffset(),i=r.Interval.parse(this._source.interval()),o=i.multiplier()||0,s=i.kind()===r.Interval.SECONDS?o:60*o,a=t.valueOf()+1e3*s,l=(new Date).valueOf()+e,(c=Math.round((a-l)/1e3))<=0?"":(c=Math.min(c,s),h=null,c>=3600&&(h=this._addLeadingZero(Math.floor(c/3600))),c%=3600,d=this._addLeadingZero(Math.floor(c/60)),c%=60,u=this._addLeadingZero(Math.floor(c)),null!==h?h+":"+d+":"+u:d+":"+u))},e.prototype._updateRendererData=function(t){var e,i,o,n,r;t.visible=!1,this._data.model.properties().scalesProperties.showSeriesLastValue.value()&&(e=this._source.lastValueData(TradingView.CLOSE_PLOT,h),e.noData||(i=this._source.properties(),i.style.value()===l.STYLE_HEIKEN_ASHI&&i.haStyle.showRealLastPrice.value()&&(o=this._source.lastValueData(TradingView.CLOSE_PLOT,!1),n=this._source.lastValueData(TradingView.CLOSE_PLOT,!0),!o.noData&&!n.noData&&o.index===n.index)||(r="",c&&i.showCountdown.value()&&-1!==d.indexOf(i.style.value())&&(r=this._countdownText()),t.secondLine=r,t.background=this._source.priceLineColor(e.color),t.color=this.generateTextColor(t.background),t.coordinate=e.coordinate,t.floatCoordinate=e.floatCoordinate,t.text=e.text,t.visible=!0)))},e.prototype._addLeadingZero=function(t){return("0"+t).slice(-2)},e}(s.PriceAxisView),e.SeriesPriceAxisView=u},function(t,e,i){"use strict";function o(t,e){this.m_series=t,this.m_model=e,this.m_bars=[],this._invalidated=!0,this._isMarkersEnabled=C.enabled("source_selection_markers")}function n(t,e){o.call(this,t,e)}function r(t,e){o.call(this,t,e)}function s(t,e){o.call(this,t,e)}function a(t,e){o.call(this,t,e)}function l(t,e,i){this.m_series=t,this.m_priceSource=e,this.m_model=i,this.m_items=[],this._barGetter={
open:function(t){return t[TradingView.OPEN_PLOT]},high:function(t){return t[TradingView.HIGH_PLOT]},low:function(t){return t[TradingView.LOW_PLOT]},close:function(t){return t[TradingView.CLOSE_PLOT]},hl2:function(t){return(t[TradingView.HIGH_PLOT]+t[TradingView.LOW_PLOT])/2},hlc3:function(t){return(t[TradingView.HIGH_PLOT]+t[TradingView.LOW_PLOT]+t[TradingView.CLOSE_PLOT])/3},ohlc4:function(t){return(t[TradingView.OPEN_PLOT]+t[TradingView.HIGH_PLOT]+t[TradingView.LOW_PLOT]+t[TradingView.CLOSE_PLOT])/4}}[this.m_priceSource]}function c(t,e,i){l.call(this,t,e,i),this._invaidated=!0}function h(t,e,i){l.call(this,t,e,i),this._invaidated=!0}function d(t,e,i){l.call(this,t,e,i),this._invaidated=!0,this._renderer=new b}function u(t,e){this._source=t,this._model=e,this._points=[new p(0,0)],this._invalidated=!0,this._renderer=new w;var i={cursorType:M.VerticalResize,pressedMouseMoveHandler:function(t){var e,i,o,n,r=this._source.priceScale();null!==r&&(e=this._source.properties().baselineStyle,i=r.height(),o=100-t.y/i*100,n=o<0?0:Math.round(10*o)/10,e.baseLevelPercentage.setValue(Math.max(Math.min(n,100),0)))}.bind(this)};this._renderer.setHitTest(new _(_.CUSTOM_MOVE,i))}var p=i(8).Point,f=i(155).SelectionRenderer,_=i(11),g=i(476).PaneRendererBars,m=i(271).PaneRendererLine,v=i(477).PaneRendererArea,y=i(471).PaneRendererCandles,b=i(849).PaneRendererBaseline,w=i(156).HorizontalLineRenderer,S=i(41).CompositeRenderer,T=i(275),x=i(33),P=i(24).PlotRowSearchMode,C=i(3),M=i(509).PaneCursorType;o.prototype.update=function(){this._invalidated=!0},o.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,f,g,m=this;if(this.m_bars=[],!this.m_model.timeScale().isEmpty()&&!this.m_series.priceScale().isEmpty()&&null!==(t=this.m_model.timeScale().visibleBars())&&0!==this.m_series.bars().size()){for(e=this.m_series.nearestIndex(t.firstBar(),P.NearestRight),i=this.m_series.nearestIndex(t.lastBar(),P.NearestLeft);e<=i&&null===this.m_series.bars().valueAt(e);e++);if(!(e>i)&&(t=this.m_series.bars().range(e,i),n=this.m_series.priceScale(),r=n.properties().percentage.value(),s=this.m_series.barColorer(),a={},t.each(function(t,e){var i,n;void 0!==e[TradingView.OPEN_PLOT]&&void 0!==e[TradingView.HIGH_PLOT]&&void 0!==e[TradingView.LOW_PLOT]&&void 0!==e[TradingView.CLOSE_PLOT]&&(void 0===o&&(o=e[TradingView.CLOSE_PLOT]),i={},i.time=Math.round(t),r?(i.open=100*(e[TradingView.OPEN_PLOT]-o)/o,i.high=100*(e[TradingView.HIGH_PLOT]-o)/o,i.low=100*(e[TradingView.LOW_PLOT]-o)/o,i.close=100*(e[TradingView.CLOSE_PLOT]-o)/o):(i.open=e[TradingView.OPEN_PLOT],i.high=e[TradingView.HIGH_PLOT],i.low=e[TradingView.LOW_PLOT],i.close=e[TradingView.CLOSE_PLOT]),a.value=e,n=e[TradingView.STYLE_PLOT]?e[TradingView.STYLE_PLOT]:s.barStyle(t,!1,a),e[TradingView.STYLE_PLOT]=n,a.previousValue=e,i.color=n.barColor,i.borderColor=n.barBorderColor,i.wickColor=n.barWickColor,i.hollow=n.isBarHollow,m.m_bars.push(i))},this),n.barPricesToCoordinates(this.m_bars),this.m_model.timeScale().barIndexesToCoordinates(this.m_bars),
this.m_series===this.m_model.selectedSource()))for(l=T(e,i),this._selectionData={points:[]},this._selectionData.hittestResult=_.REGULAR,c=0;c<l.length;c++)h=l[c],null!==(d=this.m_series.bars().valueAt(h))&&(u=.5*(d[TradingView.OPEN_PLOT]+d[TradingView.CLOSE_PLOT]),n.isPercentage()&&(u=100*(u-o)/o),f=this.m_model.timeScale().indexToCoordinate(h),g=this.m_series.priceScale().priceToCoordinate(u),this._selectionData.points.push(new p(f,g)))}},o.prototype.items=function(){return this.m_bars},o.prototype.dump=function(){var t={};return t.bars=this.m_bars,t},inherit(n,o),n.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barSpacing=this.m_model.timeScale().barSpacing(),t.dontDrawOpen=this.m_series.properties().barStyle.dontDrawOpen.value(),e=new S,e.append(new g(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new f(this._selectionData)),e},inherit(r,o),r.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barSpacing=this.m_model.timeScale().barSpacing(),t.drawWick=this.m_series.properties().candleStyle.drawWick.value(),t.drawBorder=this.m_series.properties().candleStyle.drawBorder.value(),t.borderColor=this.m_series.properties().candleStyle.borderColor.value(),t.wickColor=this.m_series.properties().candleStyle.wickColor.value(),e=new S,e.append(new y(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new f(this._selectionData)),e},inherit(s,o),s.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barSpacing=this.m_model.timeScale().barSpacing(),t.drawWick=this.m_series.properties().haStyle.drawWick.value(),t.drawBorder=this.m_series.properties().haStyle.drawBorder.value(),t.borderColor=this.m_series.properties().haStyle.borderColor.value(),t.wickColor=this.m_series.properties().haStyle.wickColor.value(),e=new S,e.append(new y(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new f(this._selectionData)),e},inherit(a,o),a.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barSpacing=this.m_model.timeScale().barSpacing(),t.drawWick=this.m_series.properties().hollowCandleStyle.drawWick.value(),t.drawBorder=this.m_series.properties().hollowCandleStyle.drawBorder.value(),t.borderColor=this.m_series.properties().hollowCandleStyle.borderColor.value(),t.wickColor=this.m_series.properties().hollowCandleStyle.wickColor.value(),e=new S,e.append(new y(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new f(this._selectionData)),e},l.prototype.update=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,f;if(this.m_items=[],
!this.m_model.timeScale().isEmpty()&&this.m_series.priceScale()&&!this.m_series.priceScale().isEmpty()&&null!==(t=this.m_model.timeScale().visibleBars())&&0!==this.m_series.bars().size()&&(e=this.m_series.nearestIndex(t.firstBar(),P.NearestRight),i=this.m_series.nearestIndex(t.lastBar(),P.NearestLeft),t=this.m_series.bars().range(e,i),n=this.m_series.priceScale(),r={color:this.m_series.properties().lineStyle.color.value()},s=n.properties().percentage.value(),t.each(function(t,e){var i,n=this._barGetter(e);return void 0!==n&&null!==n&&(void 0===o&&(o=n),s&&(n=100*(n-o)/o),i=new p(t,n),i.style=r,this.m_items.push(i),!1)}.bind(this)),n.pointsArrayToCoordinates(this.m_items),this.m_model.timeScale().indexesToCoordinates(this.m_items),this.m_series===this.m_model.selectedSource()))for(a=T(e,i),this._selectionData={points:[]},this._selectionData.hittestResult=_.REGULAR,l=0;l<a.length;l++)c=a[l],h=this.m_series.data().valueAt(c),d=this._barGetter(h),n.isPercentage()&&(d=100*(d-o)/o),u=this.m_model.timeScale().indexToCoordinate(c),f=this.m_series.priceScale().priceToCoordinate(d),this._selectionData.points.push(new p(u,f))},inherit(c,l),c.prototype.update=function(){this._invalidated=!0},c.prototype.renderer=function(){var t,e,i,o;return this._invalidated&&(l.prototype.update.call(this),this._invalidated=!1),t=this.m_series.properties().lineStyle,e={barSpacing:this.m_model.timeScale().barSpacing(),items:this.m_items,lineColor:t.color.value(),lineStyle:t.linestyle.value(),withMarkers:t.styleType.value()===TradingView.Series.STYLE_LINE_TYPE_MARKERS,withSteps:t.styleType.value()===TradingView.Series.STYLE_LINE_TYPE_STEP,lineWidth:t.linewidth.value(),simpleMode:!0},i=new m(e),this.m_series===this.m_model.selectedSource()?(o=new S,o.append(i),this._isMarkersEnabled&&o.append(new f(this._selectionData))):o=i,o},inherit(h,l),h.prototype.update=function(){this._invalidated=!0},h.prototype.renderer=function(){var t,e,i;return this._invalidated&&(l.prototype.update.call(this),this._invalidated=!1),t={},t.simpleMode=!1,t.barSpacing=this.m_model.timeScale().barSpacing(),t.items=this.m_items,t.lineColor=this.m_series.properties().areaStyle.linecolor.value(),t.lineStyle=this.m_series.properties().areaStyle.linestyle.value(),t.lineWidth=this.m_series.properties().areaStyle.linewidth.value(),e=this.m_series.properties().areaStyle.transparency.value(),t.isSeries=!0,t.color1=x.generateColor(this.m_series.properties().areaStyle.color1.value(),e),t.color2=x.generateColor(this.m_series.properties().areaStyle.color2.value(),e),t.bottom=this.m_series.priceScale().height(),i=new S,i.append(new v(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&i.append(new f(this._selectionData)),i},inherit(d,l),d.prototype.update=function(){this._invalidated=!0},d.prototype._updateImpl=function(){var t,e;l.prototype.update.call(this),t=this.m_series.properties().baselineStyle,e=t.transparency.value(),this._topFillColor1=x.generateColor(t.topFillColor1.value(),e),this._topFillColor2=x.generateColor(t.topFillColor2.value(),e),
this._bottomFillColor1=x.generateColor(t.bottomFillColor1.value(),e),this._bottomFillColor2=x.generateColor(t.bottomFillColor2.value(),e),this._topLineColor=t.topLineColor.value(),this._bottomLineColor=t.bottomLineColor.value(),this._topLineWidth=t.topLineWidth.value(),this._bottomLineWidth=t.bottomLineWidth.value(),this._barSpacing=this.m_model.timeScale().barSpacing(),this._bottom=this.m_series.priceScale().height(),this._baseLevelCoordinate=Math.round(this._bottom*(Math.abs(100-t.baseLevelPercentage.value())/100))},d.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer.setData({items:this.m_items,topFillColor1:this._topFillColor1,topFillColor2:this._topFillColor2,bottomFillColor1:this._bottomFillColor1,bottomFillColor2:this._bottomFillColor2,topLineColor:this._topLineColor,bottomLineColor:this._bottomLineColor,topLineWidth:this._topLineWidth,bottomLineWidth:this._bottomLineWidth,lineStyle:CanvasEx.LINESTYLE_SOLID,barSpacing:this._barSpacing,baseLevelCoordinate:this._baseLevelCoordinate,bottom:this._bottom});var t=new S;return t.append(this._renderer),this.m_series===this.m_model.selectedSource()&&t.append(new f(this._selectionData)),t},u.prototype.update=function(){this._invalidated=!0},u.prototype._updateImpl=function(t){var e=this._source.properties().baselineStyle,i=Math.abs(100-e.baseLevelPercentage.value());this._visible=!0,this._points=[new p(0,Math.round(t*(i/100)))],this._color=e.baselineColor.value()},u.prototype.renderer=function(t){return this._invalidated&&(this._updateImpl(t),this._invalidated=!1),this._renderer.setData({visible:this._visible,width:this._model.timeScale().width(),height:t,points:this._points,color:this._color,linewidth:1,linestyle:CanvasEx.LINESTYLE_SPARSE_DOTTED}),this._renderer},e.SeriesBarsPaneView=n,e.SeriesCandlesPaneView=r,e.SeriesHollowCandlesPaneView=a,e.SeriesLinePaneView=c,e.SeriesAreaPaneView=h,e.SeriesHeikenAshiPaneView=s,e.SeriesBaselinePaneView=d,e.SeriesBaselineLinePaneView=u},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(9),n=function(){function t(t,e){o.assert(t<=e,"The last bar in the bars range should be greater than or equal to the first bar"),this._firstBar=t,this._lastBar=e}return t.prototype.firstBar=function(){return this._firstBar},t.prototype.lastBar=function(){return this._lastBar},t.prototype.count=function(){return this._lastBar-this._firstBar+1},t.prototype.contains=function(t){return this._firstBar<=t&&t<=this._lastBar},t}(),e.BarsRange=n},function(t,e,i){"use strict";function o(t){return t+"("+new Date(1e3*t).toUTCString()+")"}function n(t){var e,i,o,n;return t+="",e=t.slice(0),i=!1,o=e[e.length-1],-1==="DWM".indexOf(o)&&"S"!==o&&(i=!0,o=""),n=parseInt(i?e:e.length>1?e.slice(0,e.length-1):1),{resolution:o,interval:n}}var r,s=i(855),a=i(94),l=i(130).Interval,c=!1,h=null,d=0,u=function(t,e){this._session=new s.Session,this._session.init(t.timezone,t.session),this._symbolInfo=t,this._resolution=e,this._extrapolatedData=[],this._modelId=d++,
this._valid=!!t.timezone&&!!t.session,c&&console.log('Created model "{0}", interval "{1}", session "{2}", tz "{3}"'.format(this._modelId,this._resolution,t.session,t.timezone))};u.prototype.uniqueId=function(){return this._modelId},u.prototype.isValid=function(){return this._valid},u.prototype._barBuilder=function(){if(!this._builderCache){var t=n(this._resolution);this._builderCache=s.newBarBuilder(t.resolution,t.interval,this._session,this._session)}return this._builderCache},u.prototype.distance=function(t,e){var i,n,r,a,l;return isNumber(t)&&isNumber(e)&&this.isValid()?(i=this._extrapolatedData.length>0?this._extrapolatedData[0]:null,n=i&&this._extrapolatedData[this._extrapolatedData.length-1],1e3*t!==i&&(this._extrapolatedData=[1e3*t],i=null,n=null),(null===i||1e3*e>n)&&(r=500,a=s.extrapolateBarsFrontToTime(this._barBuilder(),n||1e3*t,1e3*e,r),this._extrapolatedData=this._extrapolatedData.concat(a)),(n=this._extrapolatedData[this._extrapolatedData.length-1])<1e3*e?{success:!1}:(l=this._extrapolatedData.indexOf(1e3*e),-1!==l?(c&&console.log('Model "{0}" "{1}", distance between "{2}" and "{3}" is "{4}"'.format(this._modelId,this._resolution,o(t),o(e),l)),{success:!0,result:l}):{success:!1})):{success:!1}},u.prototype.projectTime=function(t,e){var i,n,r,a;return isNumber(t)&&isNumber(e)&&this.isValid()?(i=this._extrapolatedData.length>0?this._extrapolatedData[0]:null,n=i&&this._extrapolatedData[this._extrapolatedData.length-1],1e3*t!==i&&(this._extrapolatedData=[1e3*t],i=null,n=null),(null===i||e>=this._extrapolatedData.length)&&(r=s.extrapolateBarsFrontByCount(this._barBuilder(),n||1e3*t,e-this._extrapolatedData.length+1),this._extrapolatedData=this._extrapolatedData.concat(r)),e<this._extrapolatedData.length?(a=this._extrapolatedData[e]/1e3,c&&console.log('Model "{0}" "{1}", proj.time from "{2}" offset "{3}" is "{4}"'.format(this._modelId,this._resolution,o(t),e,o(a))),a):t):t},r=function(t,e){this._source=t,this._target=e,this._isSessionTheSame=t._symbolInfo.timezone===e._symbolInfo.timezone&&t._symbolInfo.session===e._symbolInfo.session,this._isResolutionTheSame=t._resolution===e._resolution,this._shouldCorrectTradingDay=l.isDWM(t._resolution)&&!this._isSessionTheSame,this._cache={},null===h&&(h=new s.Session,h.init("UTC","24x7"))},r.prototype._sourceTargetBuilder=function(){var t,e;return this._sourceTargetBuilderCache||(t=n(this._target._resolution),e=this._isSessionTheSame?this._target._session:h,this._sourceTargetBuilderCache=s.newBarBuilder(t.resolution,t.interval,this._target._session,e)),this._sourceTargetBuilderCache},r.prototype.sourceTimeToTargetTime=function(t){var e,i,n,r,s,l;return this._isSessionTheSame&&this._isResolutionTheSame?t:isNumber(t)&&this._source.isValid()&&this._target.isValid()?(e=this._cache[t],e||(i=1e3*t,this._shouldCorrectTradingDay&&(n=a.utc_to_cal(this._source._session.timezone,i),n=this._source._session.spec.correctTradingDay(n,this._source._session.timezone),r=new Date(n),a.set_hms(r,0,0,0,0),i=r.valueOf()),s=this._sourceTargetBuilder(),s.moveTo(i),l=s.indexOfBar(i),
e=s.startOfBar(Math.max(0,l))/1e3,this._cache[t]=e),c&&console.log('Model "{0}" "{1}" sourceTime "{2}" => model "{3}" "{4}" targetTime "{5}"'.format(this._source.uniqueId(),this._source._resolution,o(t),this._target.uniqueId(),this._target._resolution,o(e))),e):t},t.exports.SyncPoint=r,t.exports.SyncModel=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Original=0]="Original",t[t.Schiff=1]="Schiff",t[t.Inside=2]="Inside",t[t.Schiff2=3]="Schiff2"}(e.LineToolPitchforkStyle||(e.LineToolPitchforkStyle={}))},,,,,,,,function(t,e,i){"use strict";function o(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o="";return i.feature&&(o=a.features[i.feature],(0,s.trackEvent)("Referral program enabled","feature "+i.feature)),t=[o?o+"<br/><br/>":"",$.t('You can become PRO to use this and many other features with the full version of <a href="{0}" target="_blank">TradingView</a>.').format((0,r.referenceToTradingView)())].join("\n"),e={title:$.t("This feature is available only on TradingView"),width:500,destroyOnClose:!0,addClass:"tv-referral-dialog",contentWrapTemplate:'\n\t\t\t<div class="tv-dialog__section tv-dialog__section--no-border">\n\t\t\t\t<div class="tv-text"></div>\n\t\t\t</div>',actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',content:'<p class="tv-referral-dialog__content">'+t+"</p>",actions:[{name:"yes",type:"primary",text:$.t("Lets go!")}]},new n.TVModal(e).on("action:yes",function(t){window.open((0,r.referenceToTradingView)(),"_blank"),t.destroy()})}var n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),e.showGoToTradingViewReferralDialog=o,i(565),n=i(38),r=i(466),s=i(20),a={features:{alerts:$.t("Stay on top of market moves! Alerts are immediate notifications when markets meet your custom criteria. Pick from visual popups, audio signals & email alerts."),pinescript:$.t("Create your own indicators and strategies! Pine Script is a flexible and efficient language for doing just that."),saveload:$.t("Save the analysis you do! Your custom settings, indicator setups and so on are saved onsite as individual charts for later access from anywhere."),customIntervals:$.t("Customize how you look at the markets! View charts in custom timeframes, such as 7 minutes, 12 minutes, or even 8 hours per bar."),kagiRenko:$.t("Get a new look at the markets with advanced chart types! Use Kagi and Renko charts with intraday resolutions for a complete picture."),plusMenu:$.t("Stay on top of market moves. Set alerts and place orders in one click!"),indicators:$.t("Maximum number of indicators on TradingView widget is 3.")}}},function(t,e,i){"use strict";function o(t,e,i){if(!t||!/[0-9a-zA-Z]{8}/.test(t))return"";if(t&&e){return"/chart/"+e+"/"+t+(i?"-"+i:"")+"/"}return"/v/"+t+"/"}function n(t){var e;return c.test(t)?(e=t.match(c)||[],{image_url:e[1]}):h.test(t)?(e=t.match(h)||[],{image_url:e[2],symbol:e[1],title:e[3]}):d.test(t)?(e=t.match(d)||[],{image_url:e[1],title:e[2]}):u.test(t)?{image_url:t}:{}}
function r(t){var e,i;return t&&/[0-9a-zA-Z]{8}/.test(t)?(e=l.environment(),"battle"===e||"staging"===e?(i=t.charAt(0).toLowerCase(),"https://s3.amazonaws.com/"+("battle"===e?"tradingview":"tradingview_staging")+"/"+i+"/"+t+".png"):"/i/"+t+"/"):""}function s(t){var e,i,o,n;return t&&/[0-9a-zA-Z]{8}/.test(t)?(e=l.environment(),"battle"===e||"staging"===e?(i=t.charAt(0).toLowerCase(),o="battle"===e?"tradingview":"tradingview_staging",n="https://s3.amazonaws.com/"+o+"/snapshots/"+i,{preview:n+"/"+t+"_thumb.png",url:n+"/"+t+".png"}):(n=window.location.protocol+"//"+window.location.host,{preview:n+"/x/"+t+"/s/",url:n+"/x/"+t+"/"})):null}var a,l,c,h,d,u;Object.defineProperty(e,"__esModule",{value:!0}),a=i(567),l=i(50),c=RegExp(a.urlsRegExp.publishedChartOld),h=RegExp(a.urlsRegExp.publishedChart),d=RegExp(a.urlsRegExp.publishedScript),u=RegExp(a.urlsRegExp.imageUrl),e.createPublishedChartUrl=o,e.parsePublishedChartUrl=n,e.createPublishedChartImageUrl=r,e.createSnapshotImageUrls=s},,function(t,e,i){"use strict";(function(t){function o(t,e){this._lastClickedId=null,this._model=t,this._study=e,this._metaInfo=e.metaInfo(),this._lollipops={},this._textCache={},this.templatesCache={},this._invalidated=!0,this.templatesCache.hovered=this.createTemplate(this.hoveredStyle),this.templatesCache.default=this.createTemplate(this.defaultStyle),t.properties().paneProperties.background.subscribe(this,this.onPaneBgChange)}function n(t){this.data=t}function r(t){this.data=t,this._hittest=new u(u.CUSTOM,t)}function s(t,e){this._data=t,this._paneView=e,this.textRenderer=new s.TextRenderer(t.style.lollipop.importance)}function a(t,e){this.defaultStyle={strokeStyle:"#eb4d5c",lineWidth:1,fillStyle:"white",barLine:{lineStyle:CanvasEx.LINESTYLE_DASHED},lollipop:{width:32,height:96,circleHeight:16,radius:12,lineWidth:2,importance:"earnings",strokeStyle:"#eb4d5c",fillStyle:t.properties().paneProperties.background.value(),fillCircle:!0,text:{label:"E",strokeStyle:"#eb4d5c",font:"normal 12px Verdana, Arial, sans-serif"}}};var i={strokeStyle:"#e8304f",lollipop:{fillCircle:!0,fillStyle:"#eb4d5c",text:{strokeStyle:"white"}}};this.hoveredStyle=$.extend(!0,{},this.defaultStyle,i),o.call(this,t,e)}function l(t,e){this.defaultStyle={strokeStyle:"#53b987",lineWidth:1,fillStyle:"white",barLine:{lineStyle:CanvasEx.LINESTYLE_DASHED},lollipop:{width:32,height:96,circleHeight:16,radius:12,lineWidth:2,importance:"splits",strokeStyle:"#53b987",fillStyle:t.properties().paneProperties.background.value(),fillCircle:!0,text:{label:"S",strokeStyle:"#53b987",font:"normal 12px Verdana, Arial, sans-serif"}}};var i={strokeStyle:"#53b987",lollipop:{fillCircle:!0,fillStyle:"#53b987",text:{strokeStyle:"white"}}};this.hoveredStyle=$.extend(!0,{},this.defaultStyle,i),o.call(this,t,e)}function c(t,e){this.defaultStyle={strokeStyle:"#0496ff",lineWidth:1,fillStyle:"white",barLine:{lineStyle:CanvasEx.LINESTYLE_DASHED},lollipop:{width:32,height:96,circleHeight:16,radius:12,lineWidth:2,importance:"dividends",strokeStyle:"#0496ff",
fillStyle:t.properties().paneProperties.background.value(),fillCircle:!0,text:{label:"D",strokeStyle:"#0496ff",font:"normal 12px Verdana, Arial, sans-serif"}}};var i={strokeStyle:"#0496ff",lollipop:{fillCircle:!0,fillStyle:"#0496ff",text:{strokeStyle:"white"}}};this.hoveredStyle=$.extend(!0,{},this.defaultStyle,i),o.call(this,t,e)}var h=i(8).Point,d=i(70).pointInCircle,u=i(11),p=i(41).CompositeRenderer,f=i(260).Tooltip,_=i(86);o.prototype.onPaneBgChange=function(){this.defaultStyle.lollipop.fillStyle=this._model.properties().paneProperties.background.value(),this._stylesCache=null,Object.keys(this.templatesCache).forEach(function(t){0===t.indexOf("default")&&(this.templatesCache[t]=null)},this)},o.prototype.onClickOutside=function(){this._lastClickedId=null},o.prototype.closeTooltips=function(){var t,e;for(t in this._lollipops)this._lollipops.hasOwnProperty(t)&&(e=this._lollipops[t],e.visible&&(e.tooltip.isOpened()&&e.tooltip.hide(),e.visible=!1))},o.prototype.getLastClickedLollipopId=function(){return this._lastClickedId},o.prototype._setStackStudies=function(){var t,e,i;if(this._stackStudies=[],!(this._study instanceof _.study_ESD$TV_EARNINGS))for(t=this._model.dataSources(),e=0;e<t.length;++e)((i=t[e])instanceof _.study_ESD$TV_EARNINGS||i instanceof _.study_ESD$TV_SPLITS&&this._study instanceof _.study_ESD$TV_DIVIDENDS)&&this._stackStudies.push(i)},o.prototype._getY=function(){var t,e,i=0,o=this._model.panes();for(t=o.length;t--;)e=o[t],e.containsMainSeries()&&(i+=e.height());return i},o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d;this._setStackStudies(),t=this,e=this._study.data(),i=this._model.timeScale(),o=i.visibleBars(),n=this._model.mainSeries().bars(),r=this._study.priceScale(),s=this._model.mainSeries(),a=s.firstBar(),r&&!r.isEmpty()&&!i.isEmpty()&&a&&e&&(this.closeTooltips(),l=this._getY(),c=o.firstBar(),h=o.lastBar(),d=e.range(c,h),d.each(function(e,o){var s,a=0;for(s=0;s<t._stackStudies.length;++s)t._stackStudies[s].data().contains(e)&&++a;e>c&&e<h&&t.addLollipop(l,n,i,r,e,o,a)}),this.afterUpdate(l,n,i,r))},o.prototype.addLollipop=function(t,e,i,o,n,r,s){var a,l,c,d,u,p,_,g,m=r[0],v=this._model.mainSeries().symbolInfo();v&&(a=v.name,l=null,c=this._study.metaInfo().id+"_"+m+"_"+a,d=this._model.lastHittestData(),u=d&&d.id===c,u&&null!==(p=e.valueAt(n))&&(_=p[TradingView.LOW_PLOT],o.isPercent()&&(g=this._model.mainSeries().firstValue(),_=o.priceRange().convertToPercent(_,g)),l=o.priceToCoordinate(_)),this._lollipops[c]=$.extend({id:c,visible:!0,basePoint:new h(i.indexToCoordinate(n)+1,t),hovered:u||c===this.getLastClickedLollipopId(),barY:l,stack:s,tooltip:this._lollipops.hasOwnProperty(c)?this._lollipops[c].tooltip:new f},this.extraData(r)))},o.prototype.afterUpdate=function(t,e,i){},o.prototype.extraData=function(t){throw Error("Not Implemented")},o.prototype.createText=function(t,e){throw Error("Not Implemented")},o.prototype.showBarLine=function(){return!0},o.prototype.getStyle=function(t,e){var i,o=t
;return e.stack&&(o+="_stack:"+e.stack),"hovered"===o?this.hoveredStyle:"default"===o?this.defaultStyle:(this._stylesCache||(this._stylesCache={}),this._stylesCache[o]||(i=TradingView.clone("hovered"===t?this.hoveredStyle:this.defaultStyle),e.stack&&(i.lollipop.incHeight=24*e.stack),this._stylesCache[o]=i),this._stylesCache[o])},o.prototype.hasTooltip=function(t){return!0},o.prototype.renderer=function(){var t,e,i,o,a,l,c,d,u;this._invalidated&&(this.updateImpl(),this._invalidated=!1),t=new p;for(e in this._lollipops)this._lollipops.hasOwnProperty(e)&&(i=this._lollipops[e],o=15,a=this.getStyle(i.hovered?"hovered":"default",i),i.visible&&(l=$.extend({tooltipPoint:new h(i.basePoint.x,i.basePoint.y-a.lollipop.circleHeight-o-(a.lollipop.incHeight||0)),style:a,createText:this.createText.bind(this)},i),c=this.getTemplate(i.hovered?"hovered":"default",i),d={circlePoint:new h(i.basePoint.x,i.basePoint.y-a.lollipop.circleHeight-(a.lollipop.incHeight||0)),style:a,template:c,basePoint:i.basePoint,id:i.id,mouseClickHandler:this._lollipopMouseClickHandler.bind(this,i.id)},t.append(new r(d)),i.hovered&&this.hasTooltip(i)&&i.barY&&this.showBarLine()&&(u={style:{lineStyle:a.barLine.lineStyle,strokeStyle:a.strokeStyle,lineWidth:a.lineWidth},startPoint:new h(i.basePoint.x,i.basePoint.y-a.lollipop.circleHeight),endPoint:new h(i.basePoint.x,i.barY)},t.append(new n(u))),t.append(new s(l,this))));return t},o.prototype.getTemplate=function(t,e){var i=t;return e.stack&&(i+="_stack:"+e.stack),this.templatesCache[i]||(this.templatesCache[i]=this.createTemplate(this.getStyle(t,e))),this.templatesCache[i]},o.prototype.createTemplate=function(t){var e=document.createElement("canvas"),i=e.getContext("2d"),o=new h(t.lollipop.width/2,t.lollipop.height-t.lollipop.circleHeight-(t.lollipop.incHeight||0));return this.drawCircle(i,t,o),this.drawLabel(i,t,o),e},o.prototype.drawCircle=function(t,e,i){t.strokeStyle=e.strokeStyle,t.fillStyle=e.lollipop.fillStyle,t.lineWidth=e.lollipop.lineWidth,CanvasEx.setLineStyle(t,CanvasEx.LINESTYLE_SOLID),t.beginPath(),t.arc(i.x,i.y,e.lollipop.radius,0,2*Math.PI,!1),t.closePath(),t.stroke(),e.lollipop.fillCircle&&t.fill()},o.prototype.drawLabel=function(t,e,i){t.textAlign="center",t.textBaseline="middle",t.fillStyle=e.lollipop.text.strokeStyle,t.font=e.lollipop.text.font,t.fillText(e.lollipop.text.label,i.x,i.y)},o.prototype._lollipopMouseClickHandler=function(t){this._lastClickedId=this._lastClickedId===t?null:t},n.prototype.draw=function(t){t.strokeStyle=this.data.style.strokeStyle,t.lineWidth=this.data.style.lineWidth,CanvasEx.setLineStyle(t,this.data.style.lineStyle),CanvasEx.drawLine(t,this.data.startPoint.x,this.data.startPoint.y,this.data.endPoint.x,this.data.endPoint.y)},n.prototype.hitTest=function(t){return null},r.prototype.hitTest=function(t){return d(t,this.data.circlePoint,this.data.style.lollipop.radius)?this._hittest:null},r.prototype.draw=function(t){var e=this.data.template
;t.drawImage(e,this.data.basePoint.x-(.5+this.data.style.lollipop.width/2<<0)+.5,this.data.basePoint.y-this.data.style.lollipop.height+.5)},s.prototype.draw=function(t){this._data.createText(this._data,this.textRenderer),this._paneView.getLastClickedLollipopId()===this._data.id?this._data.tooltip.show({items:[this.textRenderer],x:this._data.basePoint.x,y:this._data.basePoint.y-this._data.style.lollipop.circleHeight-10-2*this._data.style.lollipop.radius*(this._data.stack?this._data.stack:0),wrapElement:t.canvas.parentNode,leftBorderColor:this._data.color}):this._data.tooltip.hide()},s.prototype.hitTest=function(t){return null},s.TextRenderer=function(t){this.lines=[],this.fontHeight=12,this.font=this.fontHeight+"px Arial, sans-serif",this.lineSpacing=8,this.fillStyle="black",t&&(this.importance=t)},s.TextRenderer.prototype.draw=function(t,e){var i,o,n=e.y;for(i=0;i<this.lines.length;i++)o=this.lines[i],t.font=this.font,o.options.fontWeight&&(t.font=o.options.fontWeight+" "+this.font),t.fillStyle=this.fillStyle,o.renderer(t,o.line,{x:e.x,y:n}),n+=this.lineSpacing+this.fontHeight},s.TextRenderer.prototype.measure=function(){return this.lines.length*(this.fontHeight+this.lineSpacing)-this.lineSpacing},s.TextRenderer.prototype.basicRenderer=function(t,e,i){t.fillText(e,i.x,i.y)},s.TextRenderer.prototype.addMulticolorTextLine=function(t,e){this.addTextLine(t,e,this.multicolorRenderer)},s.TextRenderer.prototype.addTextLine=function(t,e,i){i||(i=this.basicRenderer),e||(e={}),this.lines.push({line:t,renderer:i,options:e})},s.TextRenderer.prototype.multicolorRenderer=function(t,e,i){var o,n,r=i.x;for(o=0;o<e.length;++o)n=e[o],t.fillStyle=n.color,t.fillText(n.text,r,i.y),r+=t.measureText(n.text).width},inherit(a,o),a.prototype.extraData=function(t){return{reported:t[1],estimate:t[2],period:t[3],date:t[4]}},a.prototype.afterUpdate=function(t,e,i,o){var n,r=this._study.getEstimate();r&&(n=r.value.slice(),n[4]*=1e3,this.addLollipop(t,e,i,o,r.index,n))},a.prototype.createText=function(e,i){var o,n,r,s,a,l,c,h,d,u=e.reported,p=e.estimate,f=null!==u&&void 0!==u,_=null!==p&&void 0!==p;f&&i.addTextLine($.t("Earnings")+": "+u,{fontWeight:"bold"}),_&&(f?i.addTextLine($.t("Estimate")+": "+p):i.addTextLine($.t("Estimate")+": "+p,{fontWeight:"bold"})),f&&_&&(o=(""+u).split("."),n=o[1]?o[1].length:0,r=(""+p).split("."),s=r[1]?r[1].length:0,a=Math.max(n,s),null!==(l=+(u-p).toFixed(a))&&void 0!==l&&(c=l>0?"#238853":"#DD5538",h=100*Math.abs(l/p),d=l,isFinite(h)&&(d+=" ("+h.toFixed(2)+"%)"),i.addMulticolorTextLine([{text:$.t("Surprise")+": ",color:"black"},{text:d,color:c}]))),i.addTextLine($.t("Date")+": "+t(e.date).format("l")),i.addTextLine($.t("Period Ending")+": "+t.unix(e.period).format("M/YYYY"))},a.prototype.showBarLine=function(){return!this._model.mainSeries().properties().esdShowBreaks.value()},a.prototype.renderer=function(){var t,e,i,r,s,a,l,c=o.prototype.renderer.call(this),d=this._model.mainSeries().properties();if(d.esdShowBreaks.value()){t=d.esdBreaksStyle.color.value(),e=d.esdBreaksStyle.style.value(),
i=d.esdBreaksStyle.width.value();for(r in this._lollipops)this._lollipops.hasOwnProperty(r)&&(s=this._lollipops[r],s.visible&&(a=this.defaultStyle,s.hovered&&(a=this.hoveredStyle),l=$.extend({startPoint:new h(s.basePoint.x,s.basePoint.y-a.lollipop.circleHeight-a.lollipop.radius),endPoint:new h(s.basePoint.x,0),style:{strokeStyle:t,lineWidth:i,lineStyle:e}},s),c.insert(new n(l),0)))}return c},inherit(l,o),l.prototype.extraData=function(t){var e=t[1];return{numerator:t[2],denominator:e,date:t[3]}},l.prototype.createText=function(e,i){$.isNumeric(e.numerator)&&$.isNumeric(e.denominator)&&i.addTextLine($.t("Split")+": "+e.numerator+"/"+e.denominator,{fontWeight:"bold"}),i.addTextLine($.t("Date")+": "+t(e.date).format("l"))},inherit(c,o),c.prototype.extraData=function(t){return{value:t[1],date:t[2]}},c.prototype.createText=function(e,i){var o=+e.value;isFinite(o)&&i.addTextLine($.t("Dividends")+": "+o,{fontWeight:"bold"}),i.addTextLine($.t("Date")+": "+t(e.date).format("l"))},e.ESDPaneView=o,e.EarningsPaneView=a,e.DividendsPaneView=c,e.SplitsPaneView=l}).call(e,i(54))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Default=0]="Default",t[t.Pointer=1]="Pointer",t[t.Eraser=2]="Eraser",t[t.Dot=3]="Dot",t[t.Grabbing=4]="Grabbing",t[t.ZoomIn=5]="ZoomIn",t[t.VerticalResize=6]="VerticalResize"}(e.PaneCursorType||(e.PaneCursorType={}))},function(t,e,i){"use strict";function o(t,e,i,o){n.call(this,t,e,i,o)}var n=i(34).Study;inherit(o,n),o.prototype.hasContextMenu=function(){return!1},o.prototype.showInObjectTree=function(){return!1},o.prototype.isSavedInStudyTemplates=function(){return!1},o.prototype.isRemovedByStudyTemplates=function(){return!1},o.prototype.removeByRemoveAllStudies=function(){return!1},o.prototype.isUserDeletable=function(){return!1},o.prototype.statusView=function(){return!1},o.prototype.isDraggable=function(){return!1},t.exports=o},function(t,e,i){"use strict";function o(t,e){return r.__awaiter(this,void 0,void 0,function(){var i,o,a,l,c,h,d,u,p;return r.__generator(this,function(r){switch(r.label){case 0:return i=NaN,(o=NaN,a="",l=t.proSymbol(),c=(t.symbolInfo()||{name:null}).name||l,h=t.priceScale(),e)?(i=h.coordinateToPrice(e),h.isPercentage()&&(d=t.firstValue(),i=void 0!==d&&null!==d?s.ensure(h.priceRange()).convertFromPercent(i,d):null),[4,n(l,i)]):[3,2];case 1:i=r.sent(),a=t.formatter().format(i),r.label=2;case 2:return u=t.bars().last(),null!==u&&(o=s.ensure(u.value[TradingView.CLOSE_PLOT])),p=!!(t.symbolInfo()||{is_tradable:!1}).is_tradable,[2,{symbol:l,displaySymbol:c,value:i,formattedValue:a,last:o,symbolInfoTradable:p}]}})})}function n(t,e){return r.__awaiter(this,void 0,void 0,function(){var i,o,n,l,h,d;return r.__generator(this,function(r){switch(r.label){case 0:return null===e?[2,null]:null===(i=s.ensureNotNull(a.tradingService()).activeBroker())||1!==i.connectionStatus()?[2,e]:(n=i,n?[4,i.isTradable(t)]:[3,2]);case 1:n=r.sent(),r.label=2;case 2:if(!(o=n))return[2,e];r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.symbolInfo(t)];case 4:
return l=r.sent(),h=l.minTick,[2,Math.round(e/h)*h];case 5:return d=r.sent(),c.logError("Unable to resolve symbol: "+t),[2,e];case 6:return[2]}})})}var r,s,a,l,c;Object.defineProperty(e,"__esModule",{value:!0}),r=i(6),s=i(9),a=i(191),l=i(0),c=l.getLogger("Chart.TradeContext"),e.createTradeContext=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MINUTE_SPAN=20,e.HOUR_SPAN=30,e.DAY_SPAN=40,e.WEEK_SPAN=50,e.MONTH_SPAN=60,e.YEAR_SPAN=70},,function(t,e,i){"use strict";(function(e,o){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._chartApi=ChartApiInstance,this._options=(0,h.deepExtend)({},r.defaultOptions,o),this._widget=new g([],i,this._options.chartOptions),this._container=i,this.onAllData=new e,this.setTimeframe(this._options.timeframe.value,{updateData:!1,updateView:!1}),this._initTimefrmeSelector(),this._initPlots(t),this.connect()}function s(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.id=r.random(),this._miniChart=t,this._viewOptions=n||{},this._view=null,this.symbol=i,this.symbolInfo=null,this.seriesId=null,this.studyId=null,this.availableResolutions=[],this.minBarIndex=null,this.maxBarIndex=null,this._bars=new f.PlotList(["time","open","high","low","close"]),this._turnaround_cnt="1",this.error=new o(!1),this.complete=new o(!1),this.symbolResolved=new e}var a=i(9),l=i(120),c=n(l),h=i(75),d=i(237),u=i(0),p=i(10),f=i(24),_=i(222),g=i(460),m=i(94),v=(0,u.getLogger)("Chart.MiniChart");r.prototype.studyOverlayMetaInfo=null,r.random=function(){return(1048576*(1+Math.random())|0).toString(16).substring(1)},r.defaultOptions={onFirstData:null,description:"",showDescription:!0,onlyLastBars:null,timeframe:{visible:!1,container:null,value:"5y"},chartOptions:{grid:{xIsVisible:!1,yIsVisible:!0},xScale:{visible:!0,position:"bottom",isTimeScale:!0,font:{size:10,family:"Trebuchet MS",color:"#83888D"},drawOverPlotArea:!0,maxTickMarkAmount:10},yScale:{visible:!0,position:"right",font:{size:10,family:"Trebuchet MS",color:"#83888D"},drawOverPlotArea:!0}}},r.prototype.setTimeframe=function(t,e){var i,o,n=e.updateData,s=void 0===n||n,a=e.updateView,l=void 0===a||a,c=this,h=c._timeframe,d=t||c._options.timeframe.value;c._timeframe=c._timeframeIsValid(d)?d:r.defaultOptions.timeframe.value,l&&c._tabs&&(i=c._elTimeframeSelector.querySelector('[data-timeframe="'+c._timeframe+'"]'),o=c._tabs.indexOfTab(i),o=-1===o?0:o,c._tabs.setActivePage(o)),s&&h!==c._timeframe&&(c.disconnect(),c.plots().forEach(function(t){t.deleteView()}),c.connect())},r.prototype._initTimefrmeSelector=function(){var t,e,i,o,n,r=this;if(this._options.timeframe.visible){for(this._options.timeframe.container?this._elTimeframeSelector=this._options.timeframe.container:(this._elTimeframeSelector=document.createElement("div"),this._elTimeframeSelector.classList.add("tv-tabs","tv-tabs--compact","tv-tabs--no-border"),this._container.appendChild(this._elTimeframeSelector)),t=Object.keys(this.timeframes),e=0;e<t.length;++e)i=t[e],
o=this.timeframes[i].title,this._timeframeIsValid(i)&&(n=document.createElement("div"),n.classList.add("tv-tabs__tab"),n.classList.add("i-hidden"),n.classList.add("js-timeframe-tab"),i===this._timeframe&&n.classList.add("i-active"),n.setAttribute("data-timeframe",i),n.innerText=o,this._elTimeframeSelector.appendChild(n));this._tabs=new d.Tabs(this._elTimeframeSelector,void 0,{activeTab:-1,onTabClick:function(t){r.setTimeframe(t.currentTarget.getAttribute("data-timeframe"),{updateView:!1})}})}},r.prototype.timeframes=function(){function t(t){return parseInt(t.getTime()/1e3)}return{"1d":{title:$.t("1d"),resolution:"1,1",_realResolution:"1"},"1m":{title:$.t("1m"),resolution:"D",from:function(){var e=new Date;return e.setMonth(e.getMonth()-1),t(e)}()},"3m":{title:$.t("3m"),resolution:"D",from:function(){var e=new Date;return e.setMonth(e.getMonth()-3),t(e)}()},"1y":{title:$.t("1y"),resolution:"D",from:function(){var e=new Date;return e.setFullYear(e.getFullYear()-1),t(e)}()},"5y":{title:$.t("5y"),resolution:"M",from:function(){var e=new Date;return e.setFullYear(e.getFullYear()-5),t(e)}()},max:{title:$.t("max"),resolution:"M,ALL",_realResolution:"M"}}}(),r.prototype._initPlots=function(t){function e(t){var e,i;if(t){for(e=o.plots(),i=e.length-1;i>=0;i--)if(!e[i].error.value())return;v.logError("Errors in all plots"),o.showMessage($.t("Error"))}}function i(t){var e,i;if(t){for(o.hideMessage(),o._loadErrorTimeout&&(clearTimeout(o._loadErrorTimeout),delete o._loadErrorTimeout),e=o.plots(),i=e.length-1;i>=0;i--)if(!e[i].complete.value())return;o.disconnect()}}var o=this,n=[];(0,p.isArray)(t)?n=t:t.hasOwnProperty("symbol")?n=[t]:"string"==typeof t?n=[{symbol:t}]:v.logError("Wrong 'plots' format"),n=n.map(function(t){var n=new s(o,t.symbol,t.options||{});return n.error.subscribe(e),n.complete.subscribe(i),n}),o._plots=n},r.prototype.connect=function(t){var e=this;"function"==typeof t&&(this._connectCallback=t),e.connected()||(e._allSymbolsResolved=!1,e.plots().forEach(function(t){t.flush()}),e._chartSession||(e._chartSession=new _.ChartSession(e._chartApi,!0)),e._boundOnChartSessionIsConnectedChanged=e._onChartSessionIsConnectedChanged.bind(e),e._chartSession.isConnected().subscribe(e._boundOnChartSessionIsConnectedChanged),e._chartSession.criticalError().subscribe(e,e._onChartSessionCriticalError),e._chartSession.connect(e.onMessage.bind(e)),e._chartSession.stopped=!1,e._loadErrorTimeout=setTimeout(function(){e.showMessage($.t("No data")),"function"==typeof e._options.onFirstData&&(e._options.onFirstData(),e._options.onFirstData=null)},15e3))},r.prototype.disconnect=function(){var t=this;t.connected()&&(t._chartSession.criticalError().unsubscribe(t,t._onChartSessionCriticalError),t._chartSession.isConnected().unsubscribe(t._boundOnChartSessionIsConnectedChanged),this.plots().forEach(function(t){t.disconnect()}),t._chartSession&&t._chartSession.connected()&&!t._chartSession.stopped&&(t._chartSession.disconnect(),t._chartSession.stopped=!0),this._allSymbolsResolved=!1,t._connected=!1,clearTimeout(this._loadErrorTimeout))},
r.prototype.connected=function(){return this._connected&&this._chartSession&&this._chartSession.connected()},r.prototype._onChartSessionIsConnectedChanged=function(t){t?(this._connected=!0,"function"==typeof this._connectCallback&&this._connectCallback(),this._requestData()):(this._connected=!1,this._allSymbolsResolved=!1,this.plots().forEach(function(t){t.disconnect()}))},r.prototype._onChartSessionCriticalError=function(t,e){this._connected=!1},r.prototype.onMessage=function(t){var e,i,o=this;switch(t.method){case"studies_metadata":if(!t.params[1]||!t.params[1].metainfo)return;e=t.params[1].metainfo;t:for(i=e.length-1;i>=0;i--)if(-1!==e[i].id.indexOf("Overlay@tv-basicstudies")){r.prototype.studyOverlayMetaInfo=e[i];break t}"function"==typeof o._onStudiesMetadata&&(o._onStudiesMetadata(),delete o._onStudiesMetadata)}},r.prototype.changeSymbol=function(t){this.disconnect(),this.widget().removeAllPlots(),this._initPlots(t),this.connect()},r.prototype.changeSymbolPlotOptions=function(t,e){var i=this._plots.filter(function(e){return e.symbol===t})[0];i&&i.updateViewOptions(e)},r.prototype.showMessage=function(t){this.widget().showMessage(t)},r.prototype.hideMessage=function(){this.widget().hideMessage()},r.prototype._requestData=function(){var t,e,i,o=this;if(!o.studyOverlayMetaInfo&&o.plots().length>1)return void o._requestMetadata(o._requestData.bind(o));if(!o._allSymbolsResolved)return void o._resolveSymbols(function(){o._allSymbolsResolved=!0,o.updateAvailableTimeframes(!1),o._requestData()});for(t=o.plots()[0],t.createSeries(),this.seriesPlot=t,e=1,i=o.plots().length;e<i;e++)o.plots()[e].createStudy(t.seriesId)},r.prototype.updateAvailableTimeframes=function(t){var e,i,o,n,r,s=this,a=[];if(s.plots().forEach(function(t){if(a=a.concat(t.availableResolutions||[]),!t.symbolInfo)return void v.logWarn("Updating available resolutions without full symbol info");a=a.concat(t.symbolInfo.resolutions||[])}),s._availableResolutions=(0,c.default)(a),s._elTimeframeSelector&&s._options.timeframe.visible){for(e=s._elTimeframeSelector.querySelectorAll(".tv-tabs__tab"),i=0;i<e.length;i++)o=e[i],n=o.getAttribute("data-timeframe"),o.classList.remove("i-hidden"),s._timeframeIsValid(n)||o.classList.add("i-hidden");this._tabs&&(r=this._tabs.index(),this._tabs.updateSlider(r,r,!t),this._tabs.checkScrollArrows(!0))}s.setTimeframe(s._timeframe,{updateData:!!t})},r.prototype._requestMetadata=function(t){"function"==typeof t&&(this._onStudiesMetadata=t),this._chartSession.requestMetadata("metadata_"+r.random(),this.onMessage.bind(this))},r.prototype._resolveSymbols=function(t){function e(){for(var e=o.length-1;e>=0;e--)if(!o[e].symbolInfo)return;"function"==typeof t&&t()}var i=this,o=i.plots();o.forEach(function(t){t.symbolResolved.subscribe(null,e,!0),t.resolveSymbol()})},r.prototype.chartSession=function(){return this._chartSession},r.prototype.plots=function(t){return this._plots},r.prototype.widget=function(){return this._widget},r.prototype._timeframeIsValid=function(t){
var e=!!this.timeframes[t],i=this._availableResolutions&&this._availableResolutions.length,o=e&&i&&-1!==this._availableResolutions.indexOf(this.timeframes[t]._realResolution||this.timeframes[t].resolution);return e&&(!i||o)},r.prototype.timeframe=function(){return this._timeframe},r.prototype.isIntraday=function(){return"1d"===this.timeframe()},r.prototype.resolution=function(){return this.timeframes[this.timeframe()].resolution},r.prototype.realResolution=function(){return this.timeframes[this.timeframe()]._realResolution||this.timeframes[this.timeframe()].resolution},r.prototype.from=function(){return[this.timeframes[this.timeframe()].from]},r.prototype.enable=function(t){this._widget.bindOnResize(),this.connect(t)},r.prototype.disable=function(){this.disconnect(),this._widget.unbindOnResize()},r.prototype.destroy=function(){this.disconnect(),this._widget.destroy();for(var t=this._plots.length-1;t>=0;t--)this._plots[t].symbolResolved.unsubscribeAll(null),this._plots[t].destroy()},s.prototype._resolution=function(){return this._miniChart.resolution()},s.prototype._barsNum=function(){return/,/.test(this._resolution())?2:["from_to"].concat(this._miniChart.from())},s.prototype._makeNextSymbolId=function(){return this._nextSymbolId||(this._nextSymbolId=1),"symbol_"+this.id+"_"+this._nextSymbolId++},s.prototype._makeNextSeriesId=function(){return this._nextSeriesId||(this._nextSeriesId=1),"ser_"+this.id+"_"+this._nextSeriesId++},s.prototype._turnaround=function(){return"turn"+this._turnaround_cnt},s.prototype.chartSession=function(){return this._miniChart.chartSession()},s.prototype.resolveSymbol=function(){this.symbolId=this._makeNextSymbolId(),this.chartSession().resolveSymbol(this.symbolId,this.symbol,this.onMessage.bind(this))},s.prototype.onMessage=function(t){var e,i;switch(t.method){case"symbol_resolved":t.params[0]===this.symbolId&&(this.symbolInfo=t.params[1],this.setTradingHours(this.symbolInfo.session,this.symbolInfo.timezone),this.symbolResolved.fire(this.symbolInfo));break;case"data_update":"function"==typeof this._miniChart._options.onFirstData&&(this._miniChart._options.onFirstData(),this._miniChart._options.onFirstData=null),t.params.customId===(this.seriesId||this.studyId)&&this.updateData(t.params.plots);break;case"series_timeframe":t.params[0]===this.seriesId&&t.params[1]===this._turnaround()&&this.updateBarIndexes(t.params[2],t.params[3]);break;case"symbol_error":t.params[0]===this.symbolId&&v.logWarn(this.symbol+" symbol error: "+t.params[1]);case"series_error":case"study_error":t.params[0]===this._id&&t.params[1]===this._turnaround()&&(this.updateData(null),v.logError(this.symbol+" plot error"),this.error.setValue(!0)),e=t.params[2],"resolution_not_entitled"!==e&&"custom_resolution"!==e||(this._miniChart.showMessage($.t("No data for this resolution")),this.availableResolutions=["D","W","M"],i=this,setTimeout(function(){i._miniChart.updateAvailableTimeframes(!0)},1e3));break;case"study_completed":case"series_completed":this.complete.setValue(!0)}},s.prototype.createSeries=function(){var t=this
;t.seriesId?(t._turnaround_cnt++,t.chartSession().modifySeries(t.seriesId,t._turnaround(),t.symbolId,t._resolution(),t.onMessage.bind(t))):(t.seriesId=t._makeNextSeriesId(),t.chartSession().createSeries(t.seriesId,t._turnaround(),t.symbolId,t._resolution(),t._barsNum(),t.onMessage.bind(t)))},s.prototype.createStudy=function(t){var e=this;if(e.studyId="st_"+this.id,!e.symbolInfo)return void v.logWarn("Can't create study without symbolInfo");e.chartSession().createStudy(e.studyId,e._turnaround(),t,e._miniChart.studyOverlayMetaInfo.id,[e.symbolInfo.full_name],e.onMessage.bind(e)),e._turnaround_cnt++},s.prototype.updateData=function(t){var e,i,o,n,r,s,l,c,h=this._miniChart,d=void 0===(window.TradingView||{}).TIME_PLOT?0:window.TradingView.TIME_PLOT,u=(window.TradingView||{}).CLOSE_PLOT||4,f=h.isIntraday();if(arguments.length&&!t&&this._bars.clear(),t&&this._bars.merge(t),0===this._bars.size())return void(t&&0===t.length&&h.showMessage($.t("No data for this conditions")));o=h.seriesPlot,n=o&&(0,p.isInteger)(o.minBarIndex)?o.minBarIndex:null,r=o&&(0,p.isInteger)(o.maxBarIndex)?o.maxBarIndex:null,s=(0,p.isInteger)(n)?n:(0,p.isInteger)(this.minBarIndex)?this.minBarIndex:this._bars.firstIndex(),l=(0,p.isInteger)(r)?r:(0,p.isInteger)(this.maxBarIndex)?this.maxBarIndex:this._bars.lastIndex(),f&&(e=(0,a.ensureNotNull)(this._bars.last()).value[d],i=this.getTradingHours(e)),c={x:[],y:[]},this._bars.range(s,l).each(function(t,e){var o=e[d],n=e[u];f&&i&&(o<i.start||i.end<o)||(c.x.push(o),c.y.push(n))}),c.x.length&&(this._view?this._view.setData(c):this._view=h.widget().addPlot({data:c,options:this._viewOptions||{}}))},s.prototype.deleteView=function(){this._view&&(this._miniChart.widget().removePlot(this._view),this._view=null)},s.prototype.disconnect=function(){this.seriesId?this.chartSession().removeSeries(this.seriesId):this.studyId&&this.chartSession().removeStudy(this.studyId),this.seriesId=null,this.studyId=null},s.prototype.flush=function(){this.symbolInfo=null,this.seriesId=null,this.studyId=null,this._bars.clear(),this.minBarIndex=null,this.maxBarIndex=null,this.complete.setValue(!1),this.error.setValue(!1)},s.prototype.updateBarIndexes=function(t,e){this.minBarIndex=t,this.maxBarIndex=e,this.updateData()},s.prototype.updateViewOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._viewOptions=(0,h.deepExtend)(this._viewOptions,t),this._view&&this._view.setOptions(this._viewOptions)},s.prototype.setTradingHours=function(t,e){var i,o,n,r,s,a;if(!/\d{4}-\d{4}/.test(t))return void(this._tradingHours=null);i=m.get_timezone(e).offset_utc(new Date),o=t.split("-")[0],n=t.split("-")[1],r=new Date,r.setHours(o.slice(0,2)),r.setMinutes(o.slice(2)),s=new Date(r.getTime()-i),r.setHours(n.slice(0,2)),r.setMinutes(n.slice(2)),a=new Date(r.getTime()-i),this._tradingHours={start:{hours:s.getHours(),minutes:s.getMinutes()},end:{hours:a.getHours(),minutes:a.getMinutes()}}},s.prototype.getTradingHours=function(t){var e,i;if(this._tradingHours)return e=new Date(1e3*t),
e.setUTCHours(this._tradingHours.start.hours),e.setUTCMinutes(this._tradingHours.start.minutes),i=new Date(1e3*t),i.setUTCHours(this._tradingHours.end.hours),i.setUTCMinutes(this._tradingHours.end.minutes),i<=e&&e.setUTCDate(e.getUTCDate()-1),{start:e.getTime()/1e3,end:i.getTime()/1e3}},s.prototype.destroy=function(){this.error.unsubscribe(),this.complete.unsubscribe()},t.exports.MiniChart=r}).call(e,i(4),i(22))},,,,,function(t,e,i){"use strict";var o,n=function(t,e,o){var r,s,a,l,c,h;t=$(t),o=o||{},o.activeClass=o.activeClass||"",r=(o.event||"click")+".popup-menu",o.hideEvent&&(s=o.hideEvent+".popup-menu"),a=function(){},l=a,c={},h=function(r,s,h){function d(e){var i=$(e.target).parents().andSelf();i.is(_)||i.is(t)||i.is(".charts-popup-tab-headers, .charts-popup-itemheader")||l()}function u(t){var e=$(t.target).parents().andSelf();e.is(".charts-popup-tab-headers, .charts-popup-itemheader")||o.notCloseOnButtons&&e.is(".icon-delete")||l()}function p(e,r,s){var a,l,c,h,d,u,f,g,m,v,y,b,w,S,T,x,P;if(e instanceof n.TabGroup){if(!e.tabs||!e.tabs.length)return;return 1!==e.tabs.length||e.tabs[0].title?(a=$('<div class="charts-popup-tab-group"></div>').appendTo(s),l=$('<div class="charts-popup-tab-headers"></div>').appendTo(a),c=null,void $.each(e.tabs||[],function(t,i){var o,n;i.items&&i.items.length&&(o=$('<div class="charts-popup-tab"></div>').hide().appendTo(a),$.each(i.items,function(){p(this,void 0,o)}),n=$('<span class="charts-popup-tab-header">').append($('<a href="javascript://" class="charts-popup-tab-header-label">').text(i.name)).appendTo(l),n.on("click",function(t){n.is(".active")||(l.find(".charts-popup-tab-header.active").removeClass("active"),n.addClass("active"),a.find(".charts-popup-tab").hide(),o.show(),t&&t.preventDefault(),"function"==typeof e.onChange&&e.onChange.call(e,i.name))}),c&&!i.active||(c=n,l.find(".charts-popup-tab-header.active").removeClass("active"),n.addClass("active"),a.find(".charts-popup-tab").hide(),o.show()))})):void $.each(e.tabs[0].items,function(){p(this,void 0,s)})}return e instanceof n.Group?(h=$('<div class="charts-popup-group"></div>').appendTo(s),e.title&&(d=$('<div class="charts-popup-itemheader"></div>').text(e.title).prepend($('<span class="charts-popup-itemheader-icon"></span>')),e.collapsible&&(h.addClass("charts-popup-group-collapsible"),h.toggleClass("collapsed",e.collapsed),d.on("click",function(){h.toggleClass("collapsed"),"function"==typeof e.onChange&&e.onChange(h.hasClass("collapsed")),_.height()===parseInt(_.css("max-height"))?_.addClass("popup-menu-scroll-y"):_.height()<parseInt(_.css("max-height"))&&_.removeClass("popup-menu-scroll-y")})),h.append(d)),void $.each(e.items,function(t){p(this,1,h)})):e instanceof n.Header?void s.append($('<div class="charts-popup-itemheader"></div>').text(e.title)):e.separator?(u=$('<span class="separator"></span>'),void s.append(u)):(u=$('<a class="item" href="#">'),e.url&&u.attr("href",e.url),e.target&&u.attr("target",e.target),r||u.addClass("first"),
"function"==typeof e.active?e.active(e)&&u.addClass("active"):e.active&&u.addClass("active"),e.addClass&&u.addClass(e.addClass),e.addData&&u.data(e.addData),e.disabled&&u.addClass("disabled"),"function"==typeof e.action&&(f=e.action,g=function(t){$(t.target).parents().andSelf().is(S)||(f.apply(u,arguments),!e.url&&t&&"function"==typeof t.preventDefault&&t.preventDefault())},o.upAction?u.bind("mouseup",g):u.bind("click",g)),e.date?(m=$('<span class="title"></span>').appendTo(u),$('<span class="date"></span>').text(e.date||"").appendTo(u)):e.icon&&!o.svg?(v=$('<span class="icon"></span>').appendTo(u),v.css("background-image",e.icon.image||""),e.icon.offset&&v.css("background-position","string"==typeof e.icon.offset?e.icon.offset:e.icon.offset.x+"px "+e.icon.offset.y+"px"),m=$('<span class="title"></span>').appendTo(u)):!0===o.svg&&e.svg?(o.wrapIcon?u.append($('<span class="icon-wrap">').addClass(e.iconClass).append(e.svg)):u.append(e.svg),m=$('<span class="title"></span>').appendTo(u)):e.iconClass?(u.append($('<span class="icon"></span>').addClass(e.iconClass)),m=$('<span class="title"></span>').appendTo(u)):m=$('<span class="title-expanded"></span>').appendTo(u),e.html?m.html(e.html):m.text(TradingView.clean(e.title,!0)||""),y=$('<span class="shortcut"></span>').appendTo(u),e.shortcut&&y.text(e.shortcut.keys),"function"==typeof e.deleteAction&&(b=e.deleteAction,w=e.deleteAction.title||$.t("Delete"),S=$('<span class="icon-delete">'),S.html(i(152)),S.attr("title",w),S.on("click",function(t){b.apply(u,arguments),t.preventDefault()}),u.append(S)),e.externalLink&&(T=$('<span class="icon-external">'),T.html(i(976)),u.append(T)),e.buttons instanceof Array&&e.buttons.length&&e.buttons.forEach(function(t){t.el instanceof $||(t.el=$(t.el)),t.el.appendTo(u),t.handler&&t.el.on("click",function(e){t.handler.apply(u,arguments)})}),void 0!==e.counter&&("function"==typeof e.counter?(x=$('<span class="counter"></span>').html(e.counter()),x.appendTo(u)):(P=e.counterBlue?"blue":"",$('<span class="counter"></span>').text(e.counter+"").addClass(P).appendTo(u))),s.append(u),void t.data("popup-menu",s))}var f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R,D,E,O,V,B,z,F,N=s||e;if("function"==typeof N&&(N=N()),$(this).hasClass("open")||$(this).hasClass("active"))return r.preventDefault(),l(),void(f=c.scrollTop);switch(l=function(){c.scrollTop=_.scrollTop(),_.remove(),t.removeClass("active open "+o.activeClass),t.data("popup-menu",null),$(document).off("click",u),$(document).off("mousedown",d),Modernizr.touch&&$(document).off("touchstart.chartgui",d),$(document).off("selectstart.popup-menu"),l=a,o.onRemove&&o.onRemove()},t.addClass("active open "+o.activeClass),_=$('<div class="charts-popup-list">'),o.addClass&&_.addClass(o.addClass),o.zIndex&&_.css("z-index",o.zIndex),g=_,o.listInner&&(g=$('<div class="list-inner">').appendTo(g)),o.listTable&&(g=$('<div class="list-table">').appendTo(g)),$.each(N,function(t){p(this,t,g)}),setTimeout(function(){$(document).on("click",u),$(document).on("mousedown",d),
Modernizr.touch&&$(document).on("touchstart.chartgui",d)},0),o.upAction&&$(document).on("selectstart.popup-menu",function(){return!1}),_.appendTo(document.body),m=$(window).width(),v=Math.min($(window).height(),$("body").height()),y=t.outerWidth(),b=t.outerHeight(),w=t.offset(),f=$(window).scrollTop()||0,w.top-=f,w.top=Math.round(w.top),w.left=Math.round(w.left),S=_.outerWidth(),T=_.outerHeight(),x=void 0!==o.viewportSpacing?o.viewportSpacing:10,P=o.popupSpacing?~~o.popupSpacing:1,C=o.popupDrift?~~o.popupDrift:0,M=T-_.height(),k="down",o.direction&&(k="function"==typeof o.direction?o.direction():o.direction),L=!!o.reverse,"down"===k?(I=v-w.top-b-P-x-M,A=w.top-P-x-M,I<Math.max(T||0,100)&&A>I&&(k="up")):"right"===k&&(R=m-w.left-y-P-x-M,D=w.left-P-x-M,R<Math.max(S||0,100)&&D>R&&(k="left")),k){case"down":case"up":"down"===k?_.css("top",w.top+b+P+"px"):_.css("bottom",v-w.top+P+"px").css("top","auto"),L?_.css("left",Math.max(w.left+C+y-S,x)+"px").css("right","auto"):_.css("left",w.left+C+"px").css("right","auto");break;case"right":case"left":P=Math.max(P,4),"right"===k?_.css("left",Math.floor(w.left+y+P)+"px").css("right","auto"):_.css("left",Math.floor(Math.max(w.left-S-P,x))+"px").css("right","auto"),L?_.css("top",Math.floor(Math.max(w.top+C+b-T,x))+"px"):_.css("top",Math.floor(w.top+C)+"px")}for(_.show(),E=w.top,"up"===k||{left:1,right:1}[k]&&L?"up"!==k?E+=b:E-=b+P+M+x:E=v-E-b-2*P-M,_.height()>E&&_.addClass("popup-menu-scroll-y"),_.css("max-height",E+"px"),o.careRightBorder&&(O=m+$(window).scrollLeft(),parseInt(_.css("left"))+_.width()+x>O&&_.css("left",O-_.width()-x+"px").css("right","auto")),o.careBottomBorder&&parseInt(_.css("top"))+_.height()+x>v+f&&_.css("top",v-_.height()-x+f+"px"),B=t.parents().andSelf(),z=B.size();z--;)if("fixed"===B.eq(z).css("position")){V=B.eq(z);break}V&&(F=_.offset(),_.css({position:"fixed",left:F.left-$(document).scrollLeft(),right:"auto"})),_[0].scrollHeight>_.height()&&_.addClass("popup-with-scroll"),r&&r.preventDefault()},r&&t.bind(r,h),s&&t.bind(s,function(){l()}),o.runOpened&&h()};n.TabGroup=function t(e){if(!(this instanceof t))return new t(e);e=e||{},this.tabs=[],"function"==typeof e.onChange&&(this.onChange=e.onChange)},n.TabGroup.prototype.appendTab=function(t,e,i){if(null==t?t="":t+="",e||(e=[]),i||(i={}),!Array.isArray(e))throw new TypeError("items must be an array");return this.tabs.push({name:t,items:e,active:!!i.active}),e},n.Header=function t(e){if(!(this instanceof t))return new t(e);this.title=e},n.Group=function t(e){if(!(this instanceof t))return new t(e);e=e||{},this.items=[],this.title=null==e.title?"":e.title+"",this.collapsible=!!e.collapsible,this.collapsed=!!e.collapsed,"function"==typeof e.onChange&&(this.onChange=e.onChange)},n.Group.prototype.push=function(){this.items.push.apply(this.items,arguments)},e.bindPopupMenu=n,o=function(t){t=$(t),t.unbind(".popup-menu"),t.removeData("popup-menu")},e.unbindPopupMenu=o},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={L:"MMM D",LL:"YYYY MMM D",LLL:"HH:mm - YYYY MMM D"}
;e.customLocaleDateFormat={ja:o,ko:o}},,function(t,e,i){"use strict";function o(t,e,i){var o,n,r,s,a,l,c,h=t.allLineTools(),d=h.length,u=t.timeScale();for(o=0;o<d;++o){for(n=h[o],r=0,s=n.points(),a=s.length,l=0;l<a;++l)c=s[l],c.time>e&&c.time<=i&&(c.index=u.m_points.indexOf(c.time),++r);r>0&&n.updateAllViews()}}function n(t,e){function i(i){t._currentRequest.requestFirstBarTime(i,m,function(o){if(o.p[1]>y)return t._currentRequest.isConnected().unsubscribe(r),t._currentRequest.destroy(),delete t._currentRequest,_.disconnect(),t._haveNoMoreData=!0,void e(!0);n(i)})}function n(i){var o,n,s,l,c,h,u,v,b,w,S="series_id",T=1;for(t._haveNoMoreData=!0,o=!1,t._currentRequest.createSeries(S,"turnaround",i,m,["bar_count",y-1,-p],function(i){var n,s;switch(i.method){case"data_update":if(!i.params.plots.length)return;n=i.params.plots[0].value[TradingView.TIME_PLOT],s=i.params.plots,t._haveNoMoreData=s.length<p,o=0===s.length,f=n===y,g.mainSeries().fixLastBar(t._chartDirection),g.mainSeries().bars().addTail(s,f),g.mainSeries().parseJapProjBars(i.params.nonseries).then(function(t){g.mainSeries().m_data.m_nsBars=t.nsBars,g.mainSeries().m_data.lastProjectionPrice=t.lastPrice,g.model().recalculateAllPanes(),g.model().updateSource(g.mainSeries()),g.model().updateLineTools(),g.model().updateTimeScaleBaseIndex(),g.timeScale().scrollToOffsetAnimated(d)});break;case"series_completed":T--,0===T&&(t._currentRequest.isConnected().unsubscribe(r),t._currentRequest.destroy(),delete t._currentRequest,_.disconnect(),e())}}),n=g.dataSources(),s={},l=a(g.mainSeries().bars().lastIndex()),c=function(i){var n,a,c=i.method;"study_completed"===c||"study_error"===c?0===--T&&(t._currentRequest.isConnected().unsubscribe(r),t._currentRequest.destroy(),delete t._currentRequest,_.disconnect(),e()):"data_update"!==c||o||(n=i.params.customId,a=s[n],a.replaceData(l,f,i.params.plots),g.model().recalculateAllPanes(),g.model().updateSource(g.mainSeries()))},h=0;h<n.length;h++)u=n[h],TradingView.isInherited(u.constructor,TradingView.Study)&&-1!==["Volume","Compare","Overlay","Sessions"].indexOf(u.metaInfo().shortId)&&(v="study_"+h,b=u.metaInfo().fullId+"!",s[v]=u,T++,w=u.inputs(),t._currentRequest.createStudy(v,"turnaround",S,b,w,c))}function r(){var e,o,n=g.model().timezone();n||(n=defaults("chartproperties").mainSeriesProperties.timezone),t._currentRequest.switchTimezone(n),e="symbol_id",o=function(n){switch(n.method){case"symbol_error":if(n.params[1]===TradingView.Series.PERMISSION_DENIED){var r;switch(n.params[2]){case TradingView.Series.PD_REASON_EXTENDED_HOURS:g.mainSeries().properties().extendedHours.setValue(!1),r=g.mainSeries().getSymbolString();break;case TradingView.Series.PD_REASON_SYMBOL:r=n.params[3];break;default:r=n.params[2]}r&&(e+="_re",t._currentRequest.resolveSymbol(e,r,o))}break;default:i(e)}},t._currentRequest.resolveSymbol(e,u,o)}var s,d,u,p,f,_,g=t.model(),m=g.mainSeries().interval(),v=a(g.mainSeries().bars().last()),y=v.value[TradingView.TIME_PLOT];if("function"!=typeof e&&(e=function(){}),s=100,
null!=t._currentRequest)return void h.logDebug("requestSnapshotBars: unexpected requestSnapshotBars");(d=g.timeScale().rightOffset())<0||t._haveNoMoreData||(u=g.mainSeries().getSymbolString(),p=Math.max(Math.ceil(d),s),f=!1,_=new l(new window.WSBackendConnectionCtor(window.WEBSOCKET_HOST,window.WEBSOCKET_PORT,{pingRequired:window.WS_HOST_PING_REQUIRED,proHost:window.WEBSOCKET_PRO_HOST,reconnectHost:window.WEBSOCKET_HOST_FOR_RECONNECT})),_.setLoadNew(!0),t._currentRequest=new c(_),t._currentRequest.isConnected().subscribe(r),t._currentRequest.connect(function(t){var e,i,n,r,s,l,c;"timescale_update"===t.method&&(e=a(g.mainSeries().bars().lastIndex()),i=a(g.timeScale().indexToUserTime(e)).valueOf()/1e3,n=g.timeScale().points(),r=n.valueAt(e),t.params.changes.length>0&&(s=t.params.changes[0]===r,s||(i+=1),g.timeScale().points().remove(e+1),g.timeScale().addTail(t,i,s),l=n.lastIndex(),c=n.valueAt(l),o(g.model(),r,c)))}))}function r(){this._data=null,this._colors=null}function s(t,e,i){this._series=t,this._lastBar=e,this._direction=i,this._renderer=new r}var a=i(9).ensureNotNull,l=i(96),c=i(222).ChartSession,h=i(0).getLogger("Chart.Snapshot");r.prototype.setData=function(t){this._data=t},r.prototype.setPredictCode=function(t){this._colors=this.getBackgroundColor(t)},r.prototype.hitTest=function(){return null},r.prototype.getBackgroundColor=function(t){return[{background:"rgba(255, 158, 171, 0.3)",line:"#7E202F"},{background:"rgba(244, 255, 158, 0.3)",line:"#EBFF3F"},{background:"rgba(195, 255, 160, 0.3)",line:"#308020"}][t+1]},r.prototype.draw=function(t){if(null!==this._data&&null!==this._colors){t.fillStyle=this._colors.background,t.fillRect(Math.max(0,this._data.x),0,this._data.width,this._data.height),t.strokeStyle=this._colors.line,t.beginPath(),t.lineWidth=1;var e=Math.round(this._data.x);t.moveTo(e,0),t.lineTo(e,this._data.height),t.stroke()}},s.prototype.update=function(){this._x=this._series.m_model.timeScale().indexToCoordinate(this._lastBar)+.5*this._series.m_model.timeScale().barSpacing()+1},s.prototype.renderer=function(){var t={x:this._x,height:this._series.priceScale().height(),width:this._series.m_model.timeScale().width()},e=this._series.data().bars(),i=a(e.last()).value[TradingView.CLOSE_PLOT]>a(e.valueAt(this._lastBar))[TradingView.CLOSE_PLOT]?1:-1,o=0;return 1===this._direction?o=i:2===this._direction&&(o=-1*i),this._renderer.setData(t),this._renderer.setPredictCode(o),this._renderer},e.FutureBarsPaneView=s,e.requestChartSnapshotBars=n},function(t,e,i){(function(t){var e;"undefined"!=typeof window&&(e=window.TVScript=window.TVScript||{}),e=e||{},e.Access={},e.Access.ACCESS_OPEN_NO_AUTH="open_no_auth",e.Access.ACCESS_CLOSED_NO_AUTH="closed_no_auth",e.Access.ACCESS_CLOSED_NEEDS_AUTH="closed_needs_auth",e.Access.MAP_ID_TO_NAME={1:e.Access.ACCESS_OPEN_NO_AUTH,2:e.Access.ACCESS_CLOSED_NO_AUTH,3:e.Access.ACCESS_CLOSED_NEEDS_AUTH},e.Access.MAP_NAME_TO_ID={},Object.keys(e.Access.MAP_ID_TO_NAME).forEach(function(t){e.Access.MAP_NAME_TO_ID[e.Access.MAP_ID_TO_NAME[t]]=t}),e.Kinds={},e.Kinds.STUDY="study",
e.Kinds.STRATEGY="strategy",e.createScriptStudyId=function(t,e,i,o){if("string"!=typeof t)throw new TypeError("scriptIdPart must be a string");if("string"!=typeof e)throw new TypeError("scriptingPkgVers must be a string");return(null==o||null==o.classNameOverride?i?"StrategyScript":"Script":o.classNameOverride)+(t.length>0?"$"+t:"")+"@tv-scripting-"+e},e.PinePrefix={},e.PinePrefix.USER="USER;",e.PinePrefix.PUB="PUB;",e.PinePrefix.STD="STD;",e.PinePrefix.TV="TV_",e.PinePrefix.EDGR="EDGR_",e.PineType={},e.PineType.UserSaved="PineType_UserSaved",e.PineType.UserPublished="PineType_UserPublished",e.PineType.BuiltIn="PineType_BuiltIn",e.PineType.Addon="PineType_Addon",e.Type=e.Type||function(){},e.Type.VOID="void",e.Type.INTEGER="integer",e.Type.FLOAT="float",e.Type.STRING="string",e.Type.BOOL="bool",e.Type.COLOR="color",e.Type.SERIES="series",e.Type.PLOT="plot",e.Type.HLINE="hline",e.Type.BARCOLOR="barcolor",e.Type.BGCOLOR="bgcolor",e.Type.PLOTSHAPES="plotshape",e.Type.PLOTCHARS="plotchar",e.Type.PLOTARROWS="plotarrow",e.Type.NA="na",e.Type.ARRAY="array",e.TranslatorDefaultVersion=1,e.TranslatorMinSupportedVersion=3,e.TranslatorLastVersion=3,e.pineType=function(t){return t.startsWith(e.PinePrefix.USER)?e.PineType.UserSaved:t.startsWith(e.PinePrefix.PUB)?e.PineType.UserPublished:t.startsWith(e.PinePrefix.STD)||t.startsWith(e.PinePrefix.TV)||t.startsWith(e.PinePrefix.EDGR)?e.PineType.BuiltIn:e.PineType.Addon},e.patchILTemplate=function(t,i,o){var n=o||{},r=/<(in_\d+)>/g;return e._patchTemplate(r,t,i,n)},e.decorateQuotes=function(t){var e,i,o;return t?(e=/([^\\']+?)(')[^']*?/g,i="$1\\$2",o=t,"'"==o.charAt(0)&&"'"==o.charAt(o.length-1)?(o=o.substr(1,o.length-2),"'"+o.replace(e,i)+"'"):o.replace(e,i)):t},e.patchInputs=function(t,e){var i,o,n,r={};for(i in t)t.hasOwnProperty(i)&&(o=t[i],n=o.isFake?{v:e[o.id],f:!0,t:o.type}:e[o.id],r[o.id]=n);return r},e._patchTemplate=function(t,i,o,n){var r=n||{};return i.replace(t,function(t,i){var n,s,a=i in r?r[i]:o.defaults.inputs[i];for(n=0;n<o.inputs.length;++n)o.inputs[n].id===i&&("bool"===o.inputs[n].type?a=a?"1.0":"0.0":["text","symbol","resolution","session"].indexOf(o.inputs[n].type)>=0?a="'"+e.decorateQuotes(a)+"'":"source"===o.inputs[n].type&&(s=a.split("$"),s[0]="'"+s[0]+"'",a="source("+s.join(",")+")"));return a})},e.isStrategy=function(t){return/^\s*strategy\s*\(/m.test(t)},void 0!==t&&t&&t.exports&&(t.exports=e)}).call(e,i(15)(t))},function(t,e,i){"use strict";function o(t,e,i){return new Promise(function(o){i&&t.classList.remove(i),t.classList.add(e);var n=function(i){i.target===t&&i.animationName===e&&(t.removeEventListener(i.type,n),o(i))};t.addEventListener("animationend",n,!1),t.addEventListener("webkitAnimationEnd",n,!1),t.addEventListener("MSAnimationEnd",n,!1)})}function n(t){return o(t,"tv-transition--fade-in","tv-transition--fade-out")}function r(t){return o(t,"tv-transition--fade-out","tv-transition--fade-in")}function s(t){return o(t,"tv-transition--slide-out")}Object.defineProperty(e,"__esModule",{value:!0}),e.fadeIn=n,e.fadeOut=r,e.slideOut=s
},function(t,e){},,,,,,function(t,e,i){"use strict";(function(e){function o(){this.history=window.history,this._activePage=null,window.addEventListener("popstate",function(){var t=this.history.state||{},e=this.pageList[t.pageIndex];e!==this._activePage&&(this._activePage&&this.closePage(this._activePage,!0),e&&this.openPage(e))}.bind(this));var t=new o.BasePage;this.push(t,!0),window.addEventListener("hashchange",function(){var t=this._activePage||this.pageList[0];t instanceof o.BasePage&&t.replaceUrl(location.href)}.bind(this))}var n=i(38).TVModal,r=i(506);o.prototype.pageList=[],o.prototype.pushBasePage=function(){this.pushHistoryState(this.pageList[0])},o.prototype.push=function(t,e){this.pageList.push(t),t.index=this.pageList.length-1,e?this.replaceHistoryState(t):this.pushHistoryState(t)},o.prototype.closePage=function(t,e){this._activePage=null,t.pageVisible&&t.close(!!e),e||this.pushBasePage()},o.prototype.openPage=function(t){this._activePage=t,t.onHistoryData().subscribe(this,this.replaceHistoryState.bind(this)),t.show(),t.onClose().subscribe(this,function(){this._activePage===t&&this.closePage(t)}.bind(this))},o.prototype.pushHistoryState=function(t){var e,i=t.getHistoryData();try{e=Object.assign({},i.data,{pageIndex:t.index}),this.history.pushState(Object.assign({},i.data,{pageIndex:t.index}),i.title,i.url),dispatchEvent(this.createPopStateEvent({state:e}))}catch(t){console.info("History.pushState failed")}},o.prototype.replaceHistoryState=function(t){var e,i=t.getHistoryData();try{if(this.history.state&&this.history.state.url===location.href)return;e=Object.assign({},i.data,{pageIndex:t.index}),this.history.replaceState(e,i.title,i.url),dispatchEvent(this.createPopStateEvent({state:e}))}catch(t){console.info("History.replaceState failed")}},o.prototype.createPopStateEvent=function(t){try{return new PopStateEvent("popstate",t)}catch(i){var e=document.createEvent("PopStateEvent");return e.initPopStateEvent("popstate",!0,!1,t),e}},o.Page=function(){this._onClose=new e,this._onOpen=new e,this._afterOpen=new e,this._onHistoryData=new e},o.Page.prototype.show=function(t){this.pageVisible=!0;var e=this;this.modal=new n($.extend({destroyOnClose:!0,focusFirstControl:!1,addClass:"tv-chart-view__dialog",contentWrapTemplate:"<div>",closeButtonTemplate:'<div class="tv-chart-view__dialog-close tv-dialog__close tv-dialog__close--new-style js-dialog__close">'+i(656)+"</div>"},t)).on("beforeOpen",function(){e._onOpen.fire()}).on("afterOpen",function(){e._afterOpen.fire()}).on("afterClose",function(){e.pageVisible=!1,e._onClose.fire()}).on("destroy",function(){delete e.modal}).open()},o.Page.prototype.close=function(t){"function"==typeof $.fancybox&&$.fancybox.close(t)},o.Page.prototype.onClose=function(t){return this._onClose},o.Page.prototype.onOpen=function(t){return this._onOpen},o.Page.prototype.afterOpen=function(t){return this._afterOpen},o.Page.prototype.getHistoryData=function(t){if(!this.historyData)throw Error("History data not implemented");return this.historyData},o.Page.prototype.onHistoryData=function(){
return this._onHistoryData},o.Page.prototype.callSuper=function(t){this.superclass.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))},o.Page.prototype.replaceUrl=function(t){this.historyData.url=t},o.BasePage=function(){this.superclass.call(this),this.historyData={title:document.title,url:window.location.href+"",data:{}}},inherit(o.BasePage,o.Page),o.BasePage.prototype.show=function(){this.pageVisible=!0},o.BasePage.prototype.close=function(){this.pageVisible=!1},o.ChartPage=function(t){var e,o,n,s,a,l,c,h,d;this.superclass.call(this),this._publicationView=null,e=t.chartId,o=t.chartName,n=t.publishedUrl,s=t.shortSymbol,a=t.socialStatsModel,l=t.chartWidgetCollection,l&&l.setActive(!1),this.data={chart:e,publishedUrl:n},c=s||r.parsePublishedChartUrl(n).symbol,this.historyData={data:{},url:n||"/v/"+e+"/",title:o+" - "+(c?c+" ":"")+"TradingView"},h=a?{socialStatsModel:a}:{},d=this,this._afterOpen.subscribe(this,function(){i.e(27).then(function(t){if(d.pageVisible){var e=i(513).createPublicationView;d._publicationView=e({containerSelector:".js-chart-view",viewerOptions:Object.assign({},h,{dialog:d.modal})})}}.bind(null,i)).catch(i.oe)},!0),this._onClose.subscribe(this,function(){null!==this._publicationView&&(this._publicationView.destroy(),this._publicationView=null),l&&l.setActive(!0)},!0)},inherit(o.ChartPage,o.Page),o.ChartPage.prototype.show=function(){var t=document.querySelector("html").classList.contains("theme-dark");this.callSuper("show",{ajax:{url:(this.data.published_chart_url||"/v/"+this.data.chart+"/")+"?popup=true&dark="+t}}),i.e(27).then(function(t){}.bind(null,i)).catch(i.oe)},TradingView.historyManager=new o,t.exports=o}).call(e,i(4))},,,function(t,e,i){"use strict";(function(e){function o(t,i,o,r){n.call(this,t,i,o,r),this._barsIndexes=[],this._reportDataBuffer=null,this._reportData=null,this.watchedData=new e,this.model().addStrategySource(this)}var n=i(34).Study,r=i(492),s=i(2).propertyPages;inherit(o,n),o.prototype.stop=function(){if(n.prototype.stop.call(this),this._avoidRemoveStrategySource)return void delete this._avoidRemoveStrategySource;this.model().removeStrategySource(this)},o.prototype.start=function(){this.model().addStrategySource(this),n.prototype.start.call(this)},o.prototype.processHibernate=function(){this._studyId&&!this.isVisible()&&(this._avoidRemoveStrategySource=!0),n.prototype.processHibernate.call(this)},o.prototype.onData=function(t){var e=this;n.prototype.onData.call(this,t).then(function(){var i,o,n,r;t.method&&"data_update"===t.method&&(i=t.params&&t.params.nonseries&&t.params.nonseries.d,o=i&&i.data&&i.data.report,o?(i.isUpdate&&e._reportDataBuffer&&(o=$.extend(e._reportDataBuffer,o)),e._reportDataBuffer=e._reportData=$.extend(e._reportDataBuffer||{},o)):(n=$.extend({},t),n.params.nonseries.d.data={report:e._reportDataBuffer},t=n),"nochange"!==(r=t.params&&t.params.nonseries&&t.params.nonseries.indexes)&&r instanceof Array&&r.length&&e._collateBarsIndexes(r)),e.watchedData.setValue(t)})},o.prototype._collateBarsIndexes=function(t){var e,i
;if(Array.isArray(t)&&(e=this._reportData&&this._reportData.filledOrders)&&e.length)for(this._barsIndexes.length=0,i=0;i<e.length;i++)this._barsIndexes[i]=t[e[i].tm]},o.prototype.reportData=function(){return this._reportData},o.prototype.ordersData=function(){return this._reportData&&this._reportData.filledOrders},o.prototype.barsIndexes=function(){return this._barsIndexes},o.prototype.clearData=function(){n.prototype.clearData.call(this),this._strategyOrdersPaneView&&this._strategyOrdersPaneView.clearItems()},o.prototype.restoreData=function(t){n.prototype.restoreData.apply(this,arguments),this.model().addStrategySource(this),t.reportData&&t.barsIndexes&&(this._reportData=t.reportData,this._barsIndexes=t.barsIndexes,this.watchedData.setValue({method:"data_update",params:{nonseries:{d:{data:{report:this._reportData}}}}})),t.activeState&&(this._activeState=!0)},o.prototype.activeState=function(){return this._activeState},o.prototype.updateAllViews=function(){n.prototype.updateAllViews.call(this),this._strategyOrdersPaneView&&this._strategyOrdersPaneView.update()},o.prototype.createViews=function(){n.prototype.createViews.call(this),this._strategyOrdersPaneView=new r(this,this._series,this._model)},o.prototype.state=function(t){var e=n.prototype.state.apply(this,arguments);return t&&this._reportData&&this._barsIndexes&&(e.data||(e.data={}),e.data.reportData=this._reportData,e.data.barsIndexes=this._barsIndexes,e.data.activeState=this.model().activeStrategySource().value()===this),e},o.prototype.getStrategyPropertyPage=function(){return s.StudyStrategyPropertyPage},t.exports=o}).call(e,i(22))},,,,,,,,,,,,,function(t,e,i){"use strict";function o(){T||(T=!0,b[2]=$.t("Market"),b[1]=$.t("Limit"),b[3]=$.t("Stop"),b[4]=$.t("StopLimit"),w[1]=$.t("Buy",{context:"trading"}),w[-1]=$.t("Sell",{context:"trading"}),S[2]=$.t("filled"),S[1]=$.t("cancelled"),S[6]=$.t("working"),S[3]=$.t("inactive"),S[4]=$.t("placing"),S[5]=$.t("rejected"))}function n(t){return t?t.map(function(t){if("-"===t.text||t.separator)return new v.ActionSeparator;var e=new v.Action({checkable:t.checkable,checked:t.checked,enabled:t.enabled,shortcut:t.shortcut,text:t.text,toolTip:t.tooltip,statName:t.statName});return e.callbacks().subscribe(null,function(e){t.action({checkable:e.checkable,checked:e.checked,enabled:e.enabled,text:e.text})}),e}):[]}function r(t){return t?t.map(function(t){if("-"===t.text||t.separator)return{separator:!0};var e={};return t.checkable&&(e.icon={image:"url('"+TradingView.wrapUrl("/static/images/dialogs/checkbox.png")+"')",offset:t.checked?"0 -16px":""}),e.title=t.text,e.action=t.action,t.url&&(e.url=t.url),t.target&&(e.target=t.target),t.externalLink&&(e.externalLink=t.externalLink),e}):[]}function s(t){if(!t||!t.done)return t;var e=t;return new Promise(function(t,i){e.done(function(e){t(e)}).fail(function(t){i(t)})})}function a(t,e){o();var i=w[t];return e?i.toUpperCase():i}function l(t,e){return o(),e?b[t].toUpperCase():b[t]}function c(t){return o(),S[t]}function h(t){switch(t){case 2:return"orderstatus-filled";case 1:
return"orderstatus-cancelled";case 6:return"orderstatus-working";case 3:return"orderstatus-inactive";case 4:return"orderstatus-placing";case 5:return"orderstatus-rejected";default:return"orderstatus-unknown"}}function d(t){return 6===t||3===t}function u(t){return t.indexOf("JPY")===t.length-3?.01:1e-4}function p(t,e,i,o){var n={added:[],modified:[],removed:[]},r=t.slice(0);return e.forEach(function(e){var s,a,l,c,h=t.findIndex(function(t){return t[i]===e[i]});if(-1===h)return void n.added.push(e);for(r[h]=null,s=t[h],a=0,l=o;a<l.length;a++)if(c=l[a],(null===s[c]||"object"!=typeof s[c])&&s[c]!==e[c])return void n.modified.push(e)}),r.forEach(function(t){t&&n.removed.push(t)}),n}function f(t,e,i){var o,n,r;for(o=0,n=i;o<n.length;o++)if(r=n[o],(null===t[r]||"object"!=typeof t[r])&&t[r]!==e[r])return!0;return!1}function _(t,e){return t.reduce(function(t,i){return t[i[e]]=i,t},{})}function g(t){return Math.abs(t||0)<.001?"0.00":y.splitThousands((t||0).toFixed(2))}function m(t){return-1!==[2,1,5].indexOf(t)}var v,y,b,w,S,T;Object.defineProperty(e,"__esModule",{value:!0}),i(5),v=i(74),y=i(552),b={},w={},S={},T=!1,e.convertActionDescriptionsToActions=n,e.convertActionDescriptionsToPopupMenuDescriptions=r,e.wrapDeferredWithPromise=s,e.sideToText=a,e.orderTypeToText=l,e.orderStatusToText=c,e.orderStatusId=h,e.isOrderActive=d,e.pipSizeForForex=u,e.findArraysDifferences=p,e.isObjectDifferent=f,e.objectsArrayToMap=_,e.formatNumber=g,e.isFinalOrderStatus=m},function(t,e,i){"use strict";var o,n,r,s,a,l,c,h;Object.defineProperty(e,"__esModule",{value:!0}),o=i(11),n=i(51),r=i(70),s=i(8),a=i(33),l=i(9),c=i(69),h=function(){function t(t,e,i){this._data=null,this._hitTestResult=t||new o(o.MOVEPOINT),this._backHitTestResult=e||new o(o.MOVEPOINT_BACKGROUND),this._forceOverrideTransparency=!!i}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){var e,i,o,n;null===this._data||this._data.points.length<2||(t.lineCap="butt",t.strokeStyle=this._data.color,t.lineWidth=this._data.linewidth,void 0!==this._data.linestyle&&c.setLineStyle(t,this._data.linestyle),e=this._data.points,i=e[0],o=e[1],n=o.subtract(i),t.beginPath(),t.rect(i.x,i.y,n.x,n.y),this._data.linewidth>0&&t.stroke(),this._data.fillBackground&&(t.fillStyle=this.getColor(),t.fill()))},t.prototype.hitTest=function(t){var e,i,o,a,l,c,h,d,u,p;return null===this._data||this._data.points.length<2||this._data.nohittest?null:(e=this._data.points,i=e[0],o=e[1],a=new s.Point(o.x,i.y),l=new s.Point(i.x,o.y),c=n.distanceToSegment(i,a,t),c.distance<=3?this._hitTestResult:(c=n.distanceToSegment(a,o,t),c.distance<=3?this._hitTestResult:(c=n.distanceToSegment(o,l,t),c.distance<=3?this._hitTestResult:(c=n.distanceToSegment(l,i,t),c.distance<=3?this._hitTestResult:this._data.fillBackground&&(h=Math.min(i.x,o.x),d=Math.max(i.x,o.x),u=Math.min(i.y,o.y),p=Math.max(i.y,o.y),i=new s.Point(h,u),o=new s.Point(d,p),r.pointInRectangle(t,i,o))?this._backHitTestResult:null))))},t.prototype.getColor=function(){var t=l.ensure(this._data)
;return a.generateColor(t.backcolor,t.transparency,this._forceOverrideTransparency)},t}(),e.RectangleRenderer=h},function(t,e,i){"use strict";function o(t,e){void 0===e&&(e="&nbsp;");var i=(t+"").split(".");return i[0].replace(/\B(?=(\d{3})+(?!\d))/g,e)+(i[1]?"."+i[1]:"")}Object.defineProperty(e,"__esModule",{value:!0}),e.splitThousands=o},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(13),i(5),e.lineToolsInfo={LineTool5PointsPattern:{icon:i(678),localizedName:$.t("XABCD Pattern")},LineToolABCD:{icon:i(679),localizedName:$.t("ABCD Pattern")},LineToolArc:{icon:i(680),localizedName:$.t("Arc")},LineToolArrow:{icon:i(681),localizedName:$.t("Arrow")},LineToolArrowMarkDown:{icon:i(682),localizedName:$.t("Arrow Mark Down")},LineToolArrowMarkLeft:{icon:i(683),localizedName:$.t("Arrow Mark Left")},LineToolArrowMarkRight:{icon:i(684),localizedName:$.t("Arrow Mark Right")},LineToolArrowMarkUp:{icon:i(685),localizedName:$.t("Arrow Mark Up")},LineToolBalloon:{icon:i(686),localizedName:$.t("Balloon")},LineToolBarsPattern:{icon:i(687),localizedName:$.t("Bars Pattern")},LineToolBezierCubic:{icon:i(688),localizedName:$.t("Double Curve")},LineToolBezierQuadro:{icon:i(689),localizedName:$.t("Curve")},LineToolBrush:{icon:i(690),localizedName:$.t("Brush")},LineToolCallout:{icon:i(691),localizedName:$.t("Callout")},LineToolCircleLines:{icon:i(692),localizedName:$.t("Cyclic Lines")},LineToolCypherPattern:{icon:i(693),localizedName:$.t("Cypher Pattern")},LineToolDateAndPriceRange:{icon:i(694),localizedName:$.t("Date and Price Range")},LineToolDateRange:{icon:i(695),localizedName:$.t("Date Range")},LineToolDisjointAngle:{icon:i(696),localizedName:$.t("Disjoint Angle")},LineToolElliottCorrection:{icon:i(697),localizedName:$.t("Elliott Correction Wave (ABC)")},LineToolElliottDoubleCombo:{icon:i(698),localizedName:$.t("Elliott Double Combo Wave (WXY)")},LineToolElliottImpulse:{icon:i(699),localizedName:$.t("Elliott Impulse Wave (12345)")},LineToolElliottTriangle:{icon:i(700),localizedName:$.t("Elliott Triangle Wave (ABCDE)")},LineToolElliottTripleCombo:{icon:i(701),localizedName:$.t("Elliott Triple Combo Wave (WXYXZ)")},LineToolEllipse:{icon:i(702),localizedName:$.t("Ellipse")},LineToolExtended:{icon:i(703),localizedName:$.t("Extended")},LineToolFibChannel:{icon:i(704),localizedName:$.t("Fib Channel")},LineToolFibCircles:{icon:i(705),localizedName:$.t("Fib Circles")},LineToolFibRetracement:{icon:i(706),localizedName:$.t("Fib Retracement")},LineToolFibSpeedResistanceArcs:{icon:i(707),localizedName:$.t("Fib Speed Resistance Arcs")},LineToolFibSpeedResistanceFan:{icon:i(708),localizedName:$.t("Fib Speed Resistance Fan")},LineToolFibSpiral:{icon:i(709),localizedName:$.t("Fib Spiral")},LineToolFibTimeZone:{icon:i(710),localizedName:$.t("Fib Time Zone")},LineToolFibWedge:{icon:i(711),localizedName:$.t("Fib Wedge")},LineToolFlagMark:{icon:i(712),localizedName:$.t("Flag Mark")},LineToolFlatBottom:{icon:i(713),localizedName:$.t("Flat Top/Bottom")},LineToolGannComplex:{icon:i(482),localizedName:$.t("Gann Square")},
LineToolGannFixed:{icon:i(482),localizedName:$.t("Gann Square Fixed")},LineToolGannFan:{icon:i(714),localizedName:$.t("Gann Fan")},LineToolGannSquare:{icon:i(715),localizedName:$.t("Gann Box")},LineToolGhostFeed:{icon:i(716),localizedName:$.t("Ghost Feed")},LineToolHeadAndShoulders:{icon:i(717),localizedName:$.t("Head and Shoulders")},LineToolHorzLine:{icon:i(718),localizedName:$.t("Horizontal Line")},LineToolHorzRay:{icon:i(719),localizedName:$.t("Horizontal Ray")},LineToolIcon:{icon:"icon",localizedName:$.t("Font Icons")},LineToolInsidePitchfork:{icon:i(720),localizedName:$.t("Inside Pitchfork")},LineToolNote:{icon:i(721),localizedName:$.t("Note")},LineToolNoteAbsolute:{icon:i(722),localizedName:$.t("Anchored Note")},LineToolParallelChannel:{icon:i(723),localizedName:$.t("Parallel Channel")},LineToolPitchfan:{icon:i(724),localizedName:$.t("Pitchfan")},LineToolPitchfork:{icon:i(725),localizedName:$.t("Pitchfork")},LineToolPolyline:{icon:i(726),localizedName:$.t("Polyline")},LineToolPrediction:{icon:i(727),localizedName:$.t("Forecast")},LineToolPriceLabel:{icon:i(728),localizedName:$.t("Price Label")},LineToolPriceRange:{icon:i(729),localizedName:$.t("Price Range")},LineToolProjection:{icon:i(730),localizedName:$.t("Projection")},LineToolRay:{icon:i(731),localizedName:$.t("Ray")},LineToolRectangle:{icon:i(732),localizedName:$.t("Rectangle")},LineToolRegressionTrend:{icon:i(733),localizedName:$.t("Regression Trend")},LineToolRiskRewardLong:{icon:i(734),localizedName:$.t("Long Position")},LineToolRiskRewardShort:{icon:i(735),localizedName:$.t("Short Position")},LineToolRotatedRectangle:{icon:i(736),localizedName:$.t("Rotated Rectangle")},LineToolSchiffPitchfork:{icon:i(737),localizedName:$.t("Modified Schiff Pitchfork")},LineToolSchiffPitchfork2:{icon:i(738),localizedName:$.t("Schiff Pitchfork")},LineToolSineLine:{icon:i(739),localizedName:$.t("Sine Line")},LineToolText:{icon:i(740),localizedName:$.t("Text")},LineToolTextAbsolute:{icon:i(741),localizedName:$.t("Anchored Text")},LineToolThreeDrivers:{icon:i(742),localizedName:$.t("Three Drives Pattern")},LineToolTimeCycles:{icon:i(743),localizedName:$.t("Time Cycles")},LineToolTrendAngle:{icon:i(744),localizedName:$.t("Trend Angle")},LineToolTrendBasedFibExtension:{icon:i(745),localizedName:$.t("Trend-Based Fib Extension")},LineToolTrendBasedFibTime:{icon:i(746),localizedName:$.t("Trend-Based Fib Time")},LineToolTrendLine:{icon:i(747),localizedName:$.t("Trend Line")},LineToolTriangle:{icon:i(748),localizedName:$.t("Triangle")},LineToolTrianglePattern:{icon:i(749),localizedName:$.t("Triangle Pattern")},LineToolVertLine:{icon:i(750),localizedName:$.t("Vertical Line")},SyncDrawing:{icon:i(751),iconActive:i(752),localizedName:$.t("Sync drawings to all charts")},arrow:{icon:i(753),localizedName:$.t("Arrow")},cursor:{icon:i(754),localizedName:$.t("Cross")},dot:{icon:i(755),localizedName:$.t("Dot")},drawginmode:{icon:i(756),iconActive:i(757),localizedName:$.t("Stay in Drawing Mode")},eraser:{icon:i(758),localizedName:$.t("Eraser")},group:{icon:i(759),
localizedName:$.t("Show Hidden Tools")},hideAllDrawings:{icon:i(645),iconActive:i(760),localizedName:$.t("Hide All Drawing Tools")},lockAllDrawings:{icon:i(761),iconActive:i(762),localizedName:$.t("Lock All Drawing Tools")},magnet:{icon:i(763),localizedName:$.t("Magnet Mode pulls the points of drawings to symbol values")},measure:{icon:i(764),localizedName:$.t("Measure (Shift + Click on the chart)")},removeAllDrawingTools:{icon:i(765),localizedName:$.t("Remove All Drawing Tools")},showObjectsTree:{icon:i(766),localizedName:$.t("Show Objects Tree")},zoom:{icon:i(767),localizedName:$.t("Zoom In")},"zoom-out":{icon:i(768),localizedName:$.t("Zoom Out")}}},function(t,e,i){"use strict";function o(t,e,i){this._cache=t,this._cacheRect=e,this._targetRect=i}var n=i(8).Point,r=i(70).pointInRectangle,s=i(11);o.prototype.draw=function(t){t.translate(.5,.5),t.drawImage(this._cache,this._cacheRect.left,this._cacheRect.top,this._cacheRect.width,this._cacheRect.height,this._targetRect.left,this._targetRect.top,this._targetRect.width,this._targetRect.height),t.translate(-.5,-.5)},o.prototype.hitTest=function(t){var e=new n(this._targetRect.left,this._targetRect.top),i=e.add(new n(this._targetRect.width,this._targetRect.height));return r(t,e,i)?new s(s.REGULAR):null},t.exports=o},function(t,e,i){"use strict";function o(t){var e=t.split(":");return{name:e[0],type:2===e.length?e[1]:null}}function n(t,e,i,n){var r,s,a,l,c,p,f,_,g,m,v,y,b,w,S,T=i.split(".");if(0!==T.length&&0!==T[0].length){if(r=o(T[0]),s=r.name,a=r.type,l=null!==a,c=!l||"plot"===a,p=!l||"band"===a,f=!l||"area"===a,_=!l||"input"===a,g=c?u.getPlotIdByTitle(t,s):null,m=p?u.getBandIndexByName(t,s):null,v=f?u.getFilledAreaIdByTitle(t,s):null,y=_?u.getInputByName(t,s):null,b=e.hasOwnProperty(s),(null!==g?1:0)+(null!==m?1:0)+(null!==v?1:0)+(null!==y?1:0)+(b?1:0)>1)return void h.logWarn("Study '"+t.description+"' has ambiguous identifier '"+s+"'");if(w=T[1],null!==g){if(1===T.length)return void h.logWarn("Path of sub-property of '"+s+"' plot for study '"+t.description+"' must be not empty");S=T.slice(1),d.applyPlotProperty(t,e,g,S,n)}else if(null!==y)d.applyInputValue(e,y,n);else if(null!==m){if(void 0===w)return void h.logWarn("Property name of '"+s+"' band for study '"+t.description+"' must be set");d.applyBandProperty(e,m,w,n)}else if(null!==v){if(void 0===w)return void h.logWarn("Property name of '"+s+"' area for study '"+t.description+"' must be set");d.applyFilledAreaProperty(e,v,w,n)}else b?d.setRootProperty(e,T,n):h.logWarn("Study '"+t.description+"' has no plot or input '"+s+"'")}}function r(t,e){var i,o,r=t.properties(),s=r.state();for(i in e)e.hasOwnProperty(i)&&n(t.metaInfo(),s,i,e[i]);r.merge(s),o=r.precision,void 0!==o?o.listeners().fire(o):r.listeners().fire(r)}function s(t,e,i){var o,r,s,a,l;for(o in t)t.hasOwnProperty(o)&&-1!==(r=o.indexOf("."))&&(s=o.substr(0,r),a=u.getMetaInfoByDescription(e,s),null!==a?(l=i(a.id),null!==l?n(a,l,o.substr(r+1),t[o]):h.logWarn("Cannot apply overrides for study "+s)):h.logWarn("There is no such study "+s))}var a,l,c,h,d,u
;Object.defineProperty(e,"__esModule",{value:!0}),a=i(92),l=i(9),c=i(0),h=c.getLogger("Chart.Model.StudyPropertiesOverrider"),function(t){function e(t){return"colorer"===t.type}function i(t,i,o){var n,r,s,a;if(void 0===t.plots)return null;for(n=0,r=t.plots;n<r.length;n++)if(s=r[n],e(s)&&void 0!==i.palettes&&(a=i.palettes[s.palette],s.target===o&&void 0!==a))return a;return null}function o(t,e,i,o,n){return void 0===t.styles?void h.logWarn("Study does not have styles"):null===e&&!isNaN(o)&&o>0?void h.logWarn("Study plot does not have color #"+o):((0===o||isNaN(o))&&(l.ensureDefined(t.styles[i]).color=n+"",o=0),void(null!==e&&(l.ensureDefined(e.colors[o]).color=n+"")))}function n(t,e,n,r,s){var a,l,c,d,p;if(void 0===e.styles)return void h.logWarn("Study does not have styles");if("color"===(a=r[0]))return l=i(t,e,n),c=r.length>1?parseInt(r[1]):NaN,void o(e,l,n,c,s);if(void 0===(d=e.styles[n])||!d.hasOwnProperty(a))return void h.logWarn("Study plot does not have property '"+a+"'");if("plottype"===a){if(void 0===(p=u[s+""]))return void h.logWarn("Unsupported plot type for plot: "+s);s=p}d[a]=s}function r(t,e,i,o){var n,r;if(void 0===t.bands)return void h.logWarn("Study does not have bands");if(void 0===(n=t.bands[e])||!n.hasOwnProperty(i))return void h.logWarn("Study band does not have property '"+i+"'");if("plottype"===i){if(void 0===(r=u[o+""]))return void h.logWarn("Unsupported plot type for band: "+o);o=r}n[i]=o}function s(t,e,i,o){if(void 0===t.filledAreasStyle)return void h.logWarn("Study does not have areas");var n=t.filledAreasStyle[e];if(void 0===n||!n.hasOwnProperty(i))return void h.logWarn("Study area does not have property '"+i+"'");n[i]=o}function c(t,e,i){if(void 0===t.inputs||!t.inputs.hasOwnProperty(e))return void h.logWarn("Study does not have input '"+e+"'");t.inputs[e]=i}function d(t,e,i){var o,n,r,s,a;if(0!==e.length){for(o=t,n=0,r=e.slice(0,-1);n<r.length&&(s=r[n],null!=o&&t.hasOwnProperty(s));n++)o=t[s];if(a=e[e.length-1],null==o||!o.hasOwnProperty(a))return void h.logWarn("Study does not have property "+e.join("."));o[a]=i}}var u={line:a.PlotType.Line,histogram:a.PlotType.Histogram,cross:a.PlotType.Cross,area:a.PlotType.Area,columns:a.PlotType.Columns,circles:a.PlotType.Circles,line_with_breaks:a.PlotType.LineWithBreaks,area_with_breaks:a.PlotType.AreaWithBreaks};t.applyPlotProperty=n,t.applyBandProperty=r,t.applyFilledAreaProperty=s,t.applyInputValue=c,t.setRootProperty=d}(d||(d={})),function(t){function e(t,e){var i,o,n;if(void 0===t.inputs)return null;for(e=e.toLowerCase(),i=0,o=t.inputs;i<o.length;i++)if(n=o[i],n.name.toLowerCase()===e)return n.id;return null}function i(t,e){var i,o,n;if(void 0===t.styles)return null;e=e.toLowerCase();for(i in t.styles)if(o=t.styles[i],n=void 0!==o&&void 0!==o.title?o.title:i,n.toLowerCase()===e)return i;return null}function o(t,e){var i,o,n;if(void 0===t.filledAreas)return null;for(e=e.toLowerCase(),i=0,o=t.filledAreas;i<o.length;i++)if(n=o[i],n.title.toLowerCase()===e)return n.id;return null}function n(t,e){if(void 0===t.bands)return null;e=e.toLowerCase()
;for(var i=0;i<t.bands.length;++i)if(t.bands[i].name.toLowerCase()===e)return i;return null}function r(t,e){var i,o,n;for(e=e.toLowerCase(),i=0,o=t;i<o.length;i++)if(n=o[i],n.description.toLowerCase()===e||n.shortDescription.toLowerCase()===e)return n;return null}t.getInputByName=e,t.getPlotIdByTitle=i,t.getFilledAreaIdByTitle=o,t.getBandIndexByName=n,t.getMetaInfoByDescription=r}(u||(u={})),e.applyOverridesToStudy=r,e.applyOverridesToStudyDefaults=s},function(t,e,i){"use strict";(function(t,o,n){function r(e){this.options=e,this.maxItems=e.maxItems||10;var i=this.options.style||{};this.$list=$('<div class="tv-username-hint-list js-hidden">').css(i).appendTo(e.$container),this.options.fullBorder&&this.$list.addClass("tv-username-hint-list--full-border"),this._reverse=e.reverse,this.visible=new t(!1),this.emptyMatch=new o,this.applyHandlers(),this.itemCount=0,this.listPosition=0,this.listItemIsActive=!1}var s=i(85),a=i(126).regExpEscape;r.prototype.applyHandlers=function(){var t=this,e=function(){t.hideList(),t.options.onMouseDownOutside&&t.options.onMouseDownOutside()};this.visible.subscribe(function(i){t.$list&&(i?t.$list.one("mousedownoutside",e):t.$list.off("mousedownoutside",e))}),t.$list.on("click","a.js-user",function(e){e.preventDefault(),t.selectUser($(this).data())}),t.$list.on("mousedown","a.js-user",function(t){t.preventDefault()}),t.$list.on("mouseenter","a.js-user",function(e){var i=$(this);t.$activeListItem.data("id")!==i.data("id")&&(t.$activeListItem.removeClass("i-active"),t.listPosition=i.data("_index"),t.$activeListItem=i,t.$activeListItem.addClass("i-active"))}),t.options.simpleMode?(t.$input=t.options.$input,t.$input.on("keydown",t.inputOnKeyDown.bind(t)).on("keyup",t.inputOnKeyUp.bind(t)),t.getInput=function(){return t.$input.val().trim()}):t.options.textareaMode?(t.$input=t.options.$input,t.$input.on("keydown",t.inputOnKeyDown.bind(t)).on("keyup",t.inputOnKeyUp.bind(t)).on("focus click",function(e){s(function(){t.$input.trigger("keyup")},10)}),t.getInput=t.getQueryFromTextarea):t.getInput=function(){return t._query||""},t.suggestLimit=t.options.suggestLimit||10,t.resultHandler=t.options.onItemSelected,this.options.chatSuggestHandler?t.chatSuggestHandler=this.options.chatSuggestHandler:t.suggestLastUsed=$.noop},r.prototype.inputOnKeyDown=function(t){if(this.visible.value()){switch(t.which||t){case 38:this.$activeListItem.removeClass("i-active"),this.listPosition>1?(this.listPosition--,this.$activeListItem=this.$activeListItem.prev(),this.$activeListItem.addClass("i-active")):this.markLastItemAsActive();break;case 40:this.$activeListItem.removeClass("i-active"),this.listPosition<this.itemCount?(this.listPosition++,this.$activeListItem=this.$activeListItem.next(),this.$activeListItem.addClass("i-active")):this.markFirstItemAsActive()}13!==t.which&&38!==t.which&&40!==t.which||t.preventDefault()}},r.prototype.inputOnKeyUp=function(t){switch(t.which||t){case 38:case 40:break;case 13:
this.visible.value()&&(this.listPosition?this.selectUser(this.$activeListItem.data()):this.itemCount&&this.selectUser(this.firstUserData));break;case 27:this.hideList();break;default:this.getSuggestions(this.getInput())}},r.prototype.onInput=function(t,e){"hide"===t&&(t=27),[13,27,38,40].indexOf(t)<0&&(this._query=e),this.inputOnKeyUp(t)},r.prototype.showSuggestions=function(t,e){this._request&&this._request.abort();var i=this;this._request=$.get("/username_hint/",{s:t},e).always(function(){delete i._request})},r.prototype.getSuggestions=function(t){var e,i,o;if(t.length)if(this.chatSuggestHandler){if("@"===t)return void this.suggestLastUsed();e=t.split("").map(a).join(".*"),i=RegExp(e,"i"),o=this,this.chatSuggestHandler.getList(function(t){return i.test(t.username)},function(e){e.length>=o.suggestLimit?o.showList(e):o.showSuggestions(t,function(t){var i=e.map(function(t){return t.id});e=e.concat(t.filter(function(t){return i.indexOf(t.id)<0})),o.showList(e)})})}else this.showSuggestions(t,this.showList.bind(this))},r.prototype.suggestLastUsed=function(){this.chatSuggestHandler.getList(null,function(t){"@"===this._query&&this.showList(t)}.bind(this))},r.prototype.showList=function(t){if(this.itemCount=Math.min(t.length,this.maxItems),this.itemCount){this.$list.empty(),this.firstUserData=t[0];var e={};this.options.onShow&&(this.options.onShow(this.$list,e),e.reverse&&(this._reverse=!this._reverse)),t=t.slice(0,this.maxItems),this._reverse&&t.reverse(),t.forEach(function(t,e){var i=$(n.render('<a href="/u/{{username}}/" class="js-user tv-username-hint-list__user{{#online}} tv-username-hint-list__user--online{{/online}}"><img src="{{userpic}}"/><span>{{username}}</span></a>',t));i.data(t),i.data("_index",e+1),this.$list.append(i)},this),this.$list.removeClass("js-hidden"),this.visible.setValue(!0),this._reverse?this.markLastItemAsActive():this.markFirstItemAsActive(),e.reverse&&(this._reverse=!this._reverse)}else this.hideList(),this.emptyMatch.fire()},r.prototype.markFirstItemAsActive=function(){this.$activeListItem=this.$list.children().first(),this.$activeListItem.addClass("i-active"),this.listPosition=1},r.prototype.markLastItemAsActive=function(){this.$activeListItem=this.$list.children().last(),this.$activeListItem.addClass("i-active"),this.listPosition=this.itemCount},r.prototype.hideList=function(){this._request&&this._request.abort(),this.visible.value()&&(this.visible.setValue(!1),this.$activeListItem=null,this.listPosition=0,this.$list.addClass("js-hidden"))},r.prototype.selectUser=function(t){this.hideList(),this.resultHandler(t)},r.prototype.destroy=function(){this.$list.remove(),delete this.$list},r.prototype.getQueryFromTextarea=function(){var t=this.$input.val(),e=this.$input.prop("selectionStart"),i=t.slice(0,e).lastIndexOf("@",e),o=t.slice(i,e);return"@"===o&&(this._query=o),i<0||i>0&&t[i-1].match(/[\S]+/)||o.search(/\s/)>=0?(this.hideList(),""):o},e.UsernameHintList=r}).call(e,i(22),i(4),i(21))},function(t,e,i){"use strict";function o(t){this._bridge=t,this._container=t.$body,this._rooms_obj={},
this._visible=!1,this._notificationCount=0,this.SORT_ROOMS_INTERVAL=5e3,this._model=u.makePublicModel(),this._model.roomAdded().subscribe(this,this._onRoomAdded),this._model.roomChanged().subscribe(this,this._onRoomChanged),this._model.roomDeleted().subscribe(this,this._onRoomDeleted),this._model.roomsChanged().subscribe(this,this._onRoomsChanged),this._model.messageReceivedInOtherRoom().subscribe(this,this._onEventInOtherRooms),this._standalone=!!t.standalone,this._layoutWithSelect=!!t.layoutWithSelect||!!(t.options||{}).layoutWithSelect,this._bridge.chatNotificationControl=this._chatNotificationControl=new r.ChatNotificationControl(!1),t.visible&&(this._visible=t.visible.value(),t.visible.subscribe(this.onVisibilityChange.bind(this))),t.height&&t.height.subscribe(this.resize.bind(this)),t.width&&t.width.subscribe(this.resize.bind(this)),this._bridge.onMessage(function(t,e){switch(t){case"toggle_favorite_room":this.toggleFavoriteForRoom(e);break;case"toggle_room_notifications":this.toggleNotificationsForRoom(e)}}.bind(this)),this.layoutWithSelect()?this.prepareLayoutWithSelect():this.prepareLayout(),this.layoutWithSelect()&&this._createChatWidget(),this.setSortRoomsInterval(),loginStateChange.subscribe(this,function(){this._sortRoomsIntervalID&&clearInterval(this._sortRoomsIntervalID)}.bind(this)),0!==this._model.getRooms().length&&this._onRoomsChanged(this._model.getRooms(),[]),this.connect(),this.resize()}var n=i(911),r=i(1066),s=i(74).Action,a=i(154),l=i(1094),c=i(909),h=i(83).SidebarCustomScroll,d=i(519).bindPopupMenu,u=i(1067),p=i(1644).showDialog,f=i(1315),_=i(442),g=i(1068),m=i(3),v=i(27).ProductFeatures,y=i(43);i(1645),o.prototype._onRoomAddedBySelf=function(t){return!!this._model.getRoomById(t)&&(this.scrollToRoom(t),this.openChat(t),!0)},o.prototype._onRoomAdded=function(t){this.sortRooms(),t.user_id===window.user.id&&this._needScrollToAddedRoom&&(this._onRoomAddedBySelf(t.room_id),this._needScrollToAddedRoom=!1)},o.prototype._onRoomChanged=function(t){this.updateRoomCounter(t.room_id);var e=$("#pc-item-"+t.room_id);e.find(".title-text").text(t.title),e.find(".desc span").text(t.description)},o.prototype._onRoomDeleted=function(t){var e=$("#pc-item-"+t.room_id);_.destroy(e),e.remove(),this.resize(),this._bridge._room===t.room_id&&this.openChat(this.getDefaultRoom())},o.prototype._onRoomsChanged=function(t,e){var i,o=0===e.length&&0!==t.length;this._notificationCount=0,o&&(this._$data.empty(),this._rooms_obj={}),this.initNotificationsSettings(),i=this.layoutWithSelect()&&this._bridge.activeRoom?this._bridge.activeRoom:this.getActiveRoom(),this.sortRooms(o,i),this.toggleFavoritesVisibility(),o&&i&&(this.layoutWithSelect()&&this._rooms_obj[i]&&this._$select.html("<strong>"+this._rooms_obj[i].title+"</strong>"+(this._rooms_obj[i].description?": "+this._rooms_obj[i].description:"")),!this.isStandAlone()&&this._model.getRoomById(i)&&setTimeout(function(){this.openChat(i)}.bind(this),0))},o.prototype._onEventInOtherRooms=function(t,e,i){var o,n,s,a,h,d=this,u=this._rooms_obj[t.room_id]
;u&&(o=$("#pc-item-"+u.room_id),this.updateRoomCounter(t.room_id),t.type||this.updateRoomDescMsg(u.room_id,t.username,t.text),t.user_id!==window.user.id&&this.roomNotificationsOn(u)&&(n=TVSettings.getJSON("chat.sound",r.ChatSoundControl.prototype._default_state,!0),t.text&&(a=g.removeBBCodes(t.text),s=a.indexOf("@"+user.username)>-1),!i&&(!0===n||n.onMessage||s&&n.onMessageForUser)&&l.play("chat/message"),h=new f,h.ready.then(function(){var e,n,r=h.data.notification_popup;s&&!i&&!d._standalone&&!d.layoutWithSelect()&&r&&document.hidden&&c.show(u.title,t.username+": "+a,t.user_pic),d.isCurrentRoom(u.room_id)&&d._visible||(e=d._$data.find('a[data-room="'+u.room_id+'"] .counter'),n=parseInt(e.text(),10),e.addClass("active").text(n+1),d._notificationCount++,o.highlight(1)),d.updateNotifications()})))},o.prototype.settingsKey=function(t){return"en"!==window.language&&(t+="."+window.locale),t},o.prototype.getLocalizedSetting=function(t,e){return TVSettings.getValue(this.settingsKey(t),e)},o.prototype.getLocalizedJsonSetting=function(t,e){return TVSettings.getJSON(this.settingsKey(t),e)},o.prototype.setTVSettings=function(t,e){return"en"!==window.language&&(t+="."+window.locale),TVSettings.setValue(t,e)},o.prototype.setJsonSetting=function(t,e){return TVSettings.setJSON(this.settingsKey(t),e)},o.prototype.onVisibilityChange=function(t){this._visible=t,t&&this._bridge._room&&$("#pc-item-"+this._bridge._room+" .counter").text("0").removeClass("active"),this.updateNotifications()},o.prototype.initNotificationsSettings=function(){this.notificationsSettings=this.getLocalizedJsonSetting("publiccharts.notifications"),this.notificationsSettings||(this.notificationsSettings=this._model.getRooms().reduce(function(t,e){return e.pinned&&(t[e.room_id]=1),t},{}))},o.prototype.setupDataEvents=function(){var t=this;this._$data.on("click touchend",".pc-item, .msg-item",function(e){t._touch_scroll||(t._searchFilter&&t._searchFilter.isOpen()&&t._searchFilter.setNewRoom($("#pc-item-"+$(this).data("room"))),t.openChat($(this).data("room")),e.preventDefault())}).on("touchstart",function(){t._touch_scroll=!1}).on("touchmove",function(e){t._touch_scroll=!0}).on("contextmenu",".pc-item",function(e){e.preventDefault(),t.showRoomContextMenu(e,$(this).data("room"))}),this.isStandAlone&&!this.isStandAlone()&&this._$data.on("click touchend",".pc-item .fav",function(e){t.toggleFavoriteForRoom($(this).data("room")),e.stopPropagation(),e.preventDefault()}).on("click touchend",".pc-item .notifications-toggle",function(e){t.toggleNotificationsForRoom($(this).data("room")),e.stopPropagation(),e.preventDefault()})},o.prototype.showRoomContextMenu=function(t,e){var i=o.publicMenuItems(e,this._bridge,this);i.push(n.getLaunchInSeparateWindowAction(e,function(){return!1})),a.createMenu(i.map(function(t){var e=new s({text:t.title});return e.callbacks().subscribe(this,t.action),e})).show(t)},o.prototype.prepareLayout=function(){var t=this;this._$widget=$('<div class="tv-publicchats">').appendTo(this._container),t._touch_scroll=!1,
this._searchFilter=new r.ChatRoomListSearchFilter(this,!1),this._searchFilter.appendInput(this._$widget),this._$dataWrap=$('<div class="pc-data-wrap">').appendTo(this._$widget),this._$data=$('<div class="pc-data">').appendTo(this._$dataWrap),this._$noFavoritesMessage=$("<div>"),this._$noFavoritesMessage.addClass("tv-widget-empty-message js-hidden"),this._$noFavoritesMessage.text($.t("You haven't added a chat room to favorites.")),this._$noFavoritesMessage.appendTo(this._$dataWrap),this._searchFilter.setRoomList(this._$data),this.setupDataEvents(),this._$addButton=$('<a class="button apply-common-tooltip" title="'+$.t("Create new public chat")+'">').append($(i(1461)).attr({width:17,height:17})).appendTo(this._bridge.$headerspace),this._$addButton.on("click",function(e){e.preventDefault(),t.showEditRoomDialog()}),this._searchFilter.appendButton(this._bridge.$headerspace),this._$settingsButton=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'">').append($(i(1313)).attr({width:17,height:17})).appendTo(this._bridge.$headerspace),this._$settingsButton.on("click",n.prototype._showSettingsDialog.bind(this)),d(this._$settingsButton,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"ch-popup ch-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0}),this._scroll=new h(this._$dataWrap,this._$data)},o.prototype.prepareLayoutWithSelect=function(t,e){function r(t){var e=$(t.target).parents().andSelf();e.is(s._$select)||e.is(s._$data)||s._toggleList()}var s=this,a=!1;if(t&&!is_authenticated)return this._bridge.$header.hide(),void(this._$data=this._bridge.$body.append(e instanceof $?e:'<div>Please <a href="#signin" onclick="runOrSignIn(function(){}, { source: "Public chat widget" }); return false;">'+$.t("sign in or register")+"</a></div>"));this._bridge.$header.show(),this._bridge.$body.empty(),this._bridge.$header.addClass("chat-select-container"),this._$select=$('<div class="standalone-chat-select">').appendTo(this._bridge.$header),this._toggleList=function(){if(a)s._$data.stop().height("auto").removeClass("sliding open");else{s._$data.height("auto").addClass("sliding");var t=Math.min($(window).height()-s._$data.offset().top-5,s._$data.height());s._$data.height(0).animate({height:t},{duration:200,height:t,complete:function(){s._$data.addClass("open").removeClass("sliding")}})}s._$select[a?"removeClass":"addClass"]("active"),$(document)[a?"off":"on"]("mousedown touchstart",r),a=!a},this._$select.click(function(t){t.preventDefault(),t.stopPropagation(),s._toggleList()}),this._$settingsButton=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'"></a>').append($(i(1445)).attr({width:17,height:17})).appendTo(this._bridge.$header).click(function(t){s instanceof i(1078).Widget&&s._chatWidget?s._chatWidget._showSettingsDialog(t):s instanceof o&&n.prototype._showSettingsDialog.call(s,t)}),d(this._$settingsButton,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"ch-popup ch-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0}),
this._$data=$('<div class="standalone-chat-list msg-data pc-data">').appendTo(this._bridge.$header).on("click touchend",function(t){s._touch_scroll||s._toggleList()}),o.prototype.setupDataEvents.call(this)},o.prototype.connect=function(){this._bridge.onMessage(function(t,e){"toggle_show_only_favorites"===t&&(this._model.toggleShownOnlyFavorites(),this.toggleFavoritesVisibility(),this.resize())}.bind(this))},o.prototype.destroy=function(){clearInterval(this._roomUpdateInterval),clearInterval(this._roomStatusInterval),this._model.roomAdded().unsubscribe(this,this._onRoomAdded),this._model.roomChanged().unsubscribe(this,this._onRoomChanged),this._model.roomDeleted().unsubscribe(this,this._onRoomDeleted),this._model.roomsChanged().unsubscribe(this,this._onRoomsChanged),this._model.messageReceivedInOtherRoom().unsubscribe(this,this._onEventInOtherRooms),this._model.destroy(),this._model=null},o.prototype.getDefaultRoom=function(){var t,e,i=this._model.getRooms();for(e=i.length-1;e>=0;e--)i[e].is_default&&(t=i[e].room_id);return t=t||("en"!==window.language?"general_"+window.locale:"general")},o.prototype.getActiveRoom=function(){var t=this.getLocalizedSetting("publicchats.activechat");return t||(t=this.getDefaultRoom()),t},o.prototype.updateRoomCounter=function(t,e){var i,o,n=this._rooms_obj[t],r=(new Date).getDate();n&&(!0!==e?(n.msgs_total++,n.msgs_date!==r?(n.msgs_date=r,n.msgs_days++,n.msgs_today=1,n.msgs_average=Math.round((n.msgs_total-1)/n.msgs_days)):n.msgs_today++):n.msgs_date=r,i=function(t){if(t<1e3)return t+"";var e=Math.floor(Math.log(t)/Math.log(1e3));return Math.round(t/Math.pow(1e3,e)*Math.pow(10,1))/Math.pow(10,1)+"KMGTPE".charAt(e-1)}(~~n.msgs_total),o=this._$data.find("#pc-item-"+t),o.find(".title-total").text(i),this.layoutWithSelect()||o.find(".title-text, .title-total").addClass("apply-common-tooltip common-tooltip-html").attr("title",TradingView.clean(n.description)+"<br><small>"+$.t("__messages__ all time messages",{messages:n.msgs_total})+"<br>"+$.t("__messages__ messages today",{messages:n.msgs_today})+"<br>"+(0===n.msgs_average?$.t("__messages__ average per day",{messages:"< 1  message"}):$.t("__messages__ average per day",{messages:n.msgs_average}))+"</small>"))},o.prototype.addRoom=function(t,e){var o;$('<a href="#" data-room="'+t.room_id+'" id="pc-item-'+t.room_id+'" class="pc-item'+(e?" active":"")+(t.pinned?" pinned":"")+(this._model.isRoomFavorite(t.room_id)?" favorite":"")+'"><div class="title"><span class="title-text">'+TradingView.clean(t.title)+'</span> <span class="title-total">0</span></div><div class="desc"><span>'+TradingView.clean(t.description)+'</span></div><div class="counter">0</div>'+(this.isStandAlone()?"":'<div class="notifications-toggle'+(this.roomNotificationsOn(t)?" active":"")+'" data-room="'+t.room_id+'" title="'+$.t("Toggle notifications for this room")+'">'+i(1646)+'</div><i class="fav'+(this._model.isRoomFavorite(t.room_id)?" active":"")+'" data-room="'+t.room_id+'" title="'+$.t("Toggle favorite")+'">'+i(910)+"</i>")+"</div></a>").appendTo(this._$data),
this.updateRoomCounter(t.room_id,!0),t.msgs_last_ts&&(t.last_message_time=1e3*+t.msgs_last_ts),t.msgs_last_text&&(o=t.msgs_last_text.split(": "),this.updateRoomDescMsg(t.room_id,o[0],o[1]))},o.prototype.updateRoom=function(t){$("#pc-item-"+t.room_id).appendTo(this._$data)},o.prototype.updateRoomDescMsg=function(t,e,i){var o,n,r,s=this._rooms_obj[t];s&&(o=$("#pc-item-"+t),n=o.find(".desc"),_.destroy(n),r=n.find("time"),r.length||(r=$("<time>").appendTo(n)),n.find("span").text(e+": "+g.removeBBCodes(i)),_.agoDateFormatter(r,new Date(s.last_message_time||Date.now())))},o.prototype.updateNotifications=function(){var t=this._$data.find(".counter.active").length;this._bridge.notify(1,{notificationValue:t,clear:!t,force:!0,room:this._model.getRoomById(this._bridge._room)})},o.prototype.openChat=function(t,e){var i,o,n;this._bridge._room&&t===this._bridge._room||(this._$data.find("a").removeClass("active"),$("#pc-item-"+t).addClass("active"),i=$("#pc-item-"+t+" .counter"),o=parseInt(i.text(),10),i.text("0").removeClass("active"),this._bridge.postMessage("chat_select_channel",{room_id:t,new_msgs:o}),o&&(this._notificationCount=Math.max(0,this._notificationCount-o)),this._bridge._room=t,this.isStandAlone()||this.setTVSettings("publicchats.activechat",t),this.layoutWithSelect()&&(n=this._model.getRoomById(t),this._$select.html("<strong>"+n.title+"</strong>"+(n.description?": "+n.description:""))),this.updateNotifications())},o.prototype.resize=function(){this.layoutWithSelect()?this.chatWidget.resize():this._scroll.resize()},o.prototype.isCurrentRoom=function(t){return this._bridge._room===t},o.prototype.scrollToRoom=function(t){this._scroll.animateTo($("#pc-item-"+t).position().top-10)},o.prototype.toggleFavoritesVisibility=function(){if(!this.isStandAlone()){this._$data.toggleClass("js-only-favorites",this._model.isShownOnlyFavorites());var t=this._model.isShownOnlyFavorites()&&0===this._$data.find(".favorite").length;this.layoutWithSelect()||this._$noFavoritesMessage.toggleClass("js-hidden",!t)}},o.prototype.toggleFavoriteForRoom=function(t){var e,i=!1;this._model.isRoomFavorite(t)?(this._model.removeFavoriteRoom(t),i=!1):(this._model.addFavoriteRoom(t),i=!0),e=$("#pc-item-"+t),e.toggleClass("favorite",i),e.find(".fav").toggleClass("active",i),this.toggleFavoritesVisibility()},o.prototype.setSortRoomsInterval=function(){if(!this._sortRoomsIntervalID){var t=this;(this._$dataWrap||this._$data).on("mouseenter",function(){t._pointerInsideData=!0}).on("mouseleave",function(){t._pointerInsideData=!1}),this._sortRoomsIntervalID=setInterval(function(){t._pointerInsideData||t._bridge&&t._bridge.visible&&!t._bridge.visible.value()||t.sortRooms()},this.SORT_ROOMS_INTERVAL)}},o.prototype.sortRooms=function(t,e){e||(e=this.getActiveRoom()),this._model.getRooms().sort(this.sortRoomsFilter.bind(this)).forEach(function(i){!t&&i.room_id in this._rooms_obj?this.updateRoom(i):(this._rooms_obj[i.room_id]=i,this.addRoom(i,e===i.room_id))},this)},o.prototype.sortRoomsFilter=function(t,e){
return t.pinned&&!e.pinned?-1:!t.pinned&&e.pinned?1:t.pinned&&e.pinned?t.title.toLowerCase()>e.title.toLowerCase()?1:-1:this._model.isRoomFavorite(t.room_id)&&!this._model.isRoomFavorite(e.room_id)?-1:!this._model.isRoomFavorite(t.room_id)&&this._model.isRoomFavorite(e.room_id)?1:"number"==typeof t.last_message_time&&"number"!=typeof e.last_message_time?-1:"number"!=typeof t.last_message_time&&"number"==typeof e.last_message_time?1:"number"==typeof t.last_message_time&&"number"==typeof e.last_message_time&&t.last_message_time>e.last_message_time?-1:"number"==typeof t.last_message_time&&"number"==typeof e.last_message_time&&t.last_message_time<e.last_message_time?1:t.title.toLowerCase()>e.title.toLowerCase()?1:-1},o.prototype.toggleNotificationsForRoom=function(t){t in this.notificationsSettings?delete this.notificationsSettings[t]:this.notificationsSettings[t]=1,this.setJsonSetting("publiccharts.notifications",this.notificationsSettings),$("#pc-item-"+t+" .notifications-toggle").toggleClass("active",t in this.notificationsSettings)},o.prototype.roomNotificationsOn=function(t){return t.room_id in this.notificationsSettings},o.prototype.showEditRoomDialog=function(t){var e=this;runOrSignIn(function(){window.user.is_staff||m.enabled(v.CAN_EDIT_PUBLIC_CHATS)&&!window.user.is_trial?p(t,e._model.createRoom.bind(e._model),e._model.editRoom.bind(e._model),function(i){t||e._onRoomAddedBySelf(i.room.room_id)||(e._needScrollToAddedRoom=!0)}):y.createGoProDialog({feature:"editCreatePublicChat",isTrialAvailable:!0,upgradeMessage:$.t("Upgrade now")}).then(function(t){t.open()})},{source:"Public chat widget",verifiedPhoneRequired:!0})},o.prototype.isStandAlone=function(){return this._standalone},o.prototype.layoutWithSelect=function(){return this._layoutWithSelect},o.prototype._createChatWidget=function(){var t=$.extend(!0,{},this._bridge,{$header:null,publicMenuItems:this.publicMenuItems,hideMaximize:(this._bridge.options||{}).hideMaximize||this._layoutWithSelect,standalone:this.isStandAlone()||this.layoutWithSelect()});this.chatWidget=new n(t)},o.publicMenuItems=function(t,e,i){var o=[];return o.push({title:$.t("Toggle notifications for this room"),action:function(){e.postMessage("toggle_room_notifications",t)}}),o.push({title:$.t("Link to this room..."),action:function(){e.postMessage("chat_show_link",t)}}),o.push({title:$.t("Room archives..."),action:function(){var e=new Date,i=e.getMonth()+1,o=e.getDate(),n=e.getFullYear()+"-"+(i<10?"0":"")+i+"-"+(o<10?"0":"")+o;window.open("/chat/history/?room="+t+"&date="+n+"&tzoffset="+e.getTimezoneOffset())}}),o},t.exports=o},function(t,e,i){"use strict";var o=function(){function t(t,e){return e.id||(e.id=t),e}function e(t,e){var o;return o=e?i(e)[t]:a[t],o&&!o.id&&(o.id=t),o}function i(e){var i,o,n,r,s,l,c={},h=e&&e.drawing(),d=e&&e.alertSeriesAlerts();for(h?(s="LineToolVertLine"===h.type?function(t){return"cross"===t.id}:1===h.plots.length?function(t){return!t.isChannel}:2===h.plots.length?function(t){return!!t.isChannel}:function(t){return"comparsion"===t.type},
o=a):d&&d.conditions?(o=$.extend(!0,{},a),$.each(d.conditions,function(t,e){e.type="pine_script",o[t]=e})):o=a,i=Object.keys(o),l=0;l<i.length;l++)r=i[l],n=o[r],t(r,n),s&&!s(n)||(c[r]=n);return c}function o(t){return void 0!==t?a[t]:a}function n(t,e){var o,n,r,s=i(t),a=["cross","crosses_from_below","crosses_from_above","above","below","enters_channel","leaves_channel","inside_channel","outside_channel","moving_up","moving_down","moving_up_percents","moving_down_percents"],l=[],c=Object.keys(s);for(e=e||{},n=c.length-1;n>=0;n--)o=c[n],"pine_script"===s[o].type&&l.push(s[o]);if(l.sort(function(t,e){return t.title.localeCompare(e.title)}),(r=t&&t.alertSeries&&t.alertSeries())&&r.plots&&0===r.plots.length)return l;for(e.needSeparator&&l.push({separator:!0}),n=0;n<a.length;n++)o=a[n],s.hasOwnProperty(o)&&l.push(s[o]);return l}var r,s,a={cross:{title:$.t("Crossing"),type:"comparison"},crosses_from_below:{title:$.t("Crossing Up"),type:"comparison"},crosses_from_above:{title:$.t("Crossing Down"),type:"comparison"},above:{title:$.t("Greater Than"),type:"comparison"},below:{title:$.t("Less Than"),type:"comparison"},enters_channel:{title:$.t("Entering Channel"),isChannel:!0,type:"comparison"},leaves_channel:{title:$.t("Exiting Channel"),isChannel:!0,type:"comparison"},inside_channel:{title:$.t("Inside Channel"),isChannel:!0,type:"comparison"},outside_channel:{title:$.t("Outside Channel"),isChannel:!0,type:"comparison"},moving_up:{title:$.t("Moving Up"),type:"moving"},moving_down:{title:$.t("Moving Down"),type:"moving"},moving_up_percents:{title:$.t("Moving Up %"),descriptionTitle:$.t("Moving Up"),type:"moving",percents:!0},moving_down_percents:{title:$.t("Moving Down %"),descriptionTitle:$.t("Moving Down"),type:"moving",percents:!0}},l=Object.keys(a);for(s=l.length-1;s>=0;s--)r=l[s],t(r,a[r]);return r=null,{get:i,getData:e,defaults:o,ordered:n}}();TradingView.AlertConditions=o,t.exports=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(13),jQuery.fn.putCursorAtEnd=function(){return this.each(function(){if($(this).focus(),this.setSelectionRange){var t=2*$(this).val().length;this.setSelectionRange(t,t)}else $(this).val($(this).val());this.scrollTop=999999})},jQuery.fn.putCursorAtPosition=function(t){return this.each(function(){$(this).focus(),this.setSelectionRange&&this.setSelectionRange(t,t)})}},function(t,e,i){"use strict";(function(e,o){function n(t){var t=parseInt(t);return"chartproperties.alertsProperties."+t}var r=i(572),s=i(562),a=i(281).generateTitleForGui,l=i(646).parseSymbolString,c=i(277).FormattersSerializer,h=i(770).AlertFrequency,d=r.extend({constructor:function(t,i){var o={};["autoDeactivation","frequency","extra","crossInterval"].forEach(function(e){t.hasOwnProperty(e)&&(o[e]=t[e],delete t[e])}),e.isEmpty(o)||(this.__delayedInitAttrs=o),t.version=t.version||this.VERSION,r.call(this,t,i),this.frequency=new h(this)},initialize:function(){function t(t){e.set("crossInterval",!!t)}var e=this;this.on("change:extra",function(e,i,o){i&&(i.crossInterval.unsubscribe(t),
i.crossInterval.subscribe(t),e.set("crossInterval",i.crossInterval.value()))}).on("change:crossInterval",function(t,e,i){var o=t.get("extra");e?t.set("resolution","1"):o&&o.mainSeries()&&t.set("resolution",o.mainSeries().interval)}).on("destroy",function(){TVSettings.remove(e.TVSettingsPropertiesKey(e.id))}),this.id===parseInt(TVSettings.getValue("alerts.widget.selected_alert_id",0))&&this.set("selected",!0),this.__delayedInitAttrs&&(this.set(this.__delayedInitAttrs),delete this.__delayedInitAttrs)},set:function(t,e,i){var o;return i=i||{},null==t?this:i.noPrepare?r.prototype.set.call(this,t,e,i):("object"==typeof t?(o=t,i=e):(o={})[t]=e,o=this._prepareToSet(o),r.prototype.set.call(this,o,i))},_prepareToSet_soundDuration:function(t){var t=parseInt(t);return isNaN(t)&&(t=0),t},_prepareToSet_expired:function(t){return t instanceof Date?t:new Date(1e3*t)},_prepareToSet_extra:function(t){var e=this.get("extra"),i=e&&t,o=t&&!(t instanceof s);return i?t=e.update(t):o?(t=new s(t),this.set("scriptDeps",t.getDependencies())):t||(t=null),t},_prepareToSet_symbolInternal:function(t){if(t)return t},isPrice:function(){return null!==(this.get("extra")?this.get("extra").price():null)},isDrawing:function(){return!(!this.get("extra")||!this.get("extra").drawing())},isMoving:function(){return this.get("extra")&&"moving"===(this.get("extra").conditionData()||{}).type},isOHLC:function(){var t=this.get("extra");if(t&&t.alertSeries())return"MainSeries"===t.alertSeries().type},isJapaneseStyle:function(){var t=this.get("extra"),e=t&&t.getMainSeries();return!(!e||"MainSeries"!==e.type()||!e.isJapaneseStyle())},isComplexSymbol:function(){var t=this.get("symbolInternal");return t!==this.get("symbol")&&t},isPine:function(){var t=this.get("extra"),e=t&&t.alertSeries();return e&&e.alerts},expiredReadable:function(){return this._formatDate(this.get("expired"))},expiredUnix:function(){return Math.round(this.get("expired").getTime()/1e3)},defaultDescription:function(){function t(t){return t.getPlots()&&t.getPlots().length>1}var e,i,n,r,s,l,c,h,d,u="",p=this.get("extra"),f=p.conditionData(),_=p.getAlertSeries();switch(f.type){case"pine_script":return f.message;case"comparison":f.isChannel?(s=p.getUpperBand(),l=p.getLowerBand(),n="("+$.t("Upper Bound: __alertChannelUpperBoundaryTitle__ , Lower Bound: __alertChannelLowerBoundaryTitle__",{alertChannelUpperBoundaryTitle:s.title({withPlotTitle:t(s),formatter:this.getFormatter()}),alertChannelLowerBoundaryTitle:l.title({withPlotTitle:t(l),formatter:this.getFormatter()})})+")"):(c=p.getBand(),n=c.title({withPlotTitle:t(c),formatter:this.getFormatter()}));break;case"moving":f.percents?n=p.movingValue()+"% "+$.t("in __period__ bars",{period:p.movingPeriod()}):(h=this.getFormatter(),d=h?h.format(p.movingValue()):p.movingValue(),n=d+" "+$.t("in __period__ bars",{period:p.movingPeriod()}))}switch(i=f.descriptionTitle||f.title,_.type()){case"MainSeries":u=o.render("{{{series}}} {{condition}} {{{conditionOptions}}}",{series:_.title({withInterval:!this.get("crossInterval")}),condition:i,conditionOptions:n});break
;default:e=this.getSeriesProperties(),r=e?a({symbol:this.shortSymbol(),interval:this.get("crossInterval")?null:this.resolutionReadable(),style:e.style,inputs:e.inputs,boxSize:(e.inputs||{}).boxSize,reversalAmount:(e.inputs||{}).reversalAmount}):this.shortSymbol(),u=$.t("__alertSeries__ __alertCondition__ __alertConditionOptions__ on __chartSeries__",{alertSeries:_.title(),chartSeries:r,alertCondition:i,alertConditionOptions:n})}return u},setDefaultDescription:function(){this.set("description",this.defaultDescription())},statusTitle:function(){var t="",e=this.get("stopReason")||"",i=this.get("error"),o={drawing_is_expired:$.t("Drawing Outdated")};return this.get("active")?t=$.t("Active"):"error"===e&&o[i]?t=o[i]:(t={manual:$.t("Stopped Manually"),expired:$.t("Expired"),auto:$.t("Triggered and Not Active"),error:$.t("Error"),default:$.t("Stopped")}[e||"default"],"error"===e&&i&&(t+=i)),t},state:function(){return this.toJSON()},toJSON:function(){var t,e,i={};for(t in this.attributes)this.attributes.hasOwnProperty(t)&&(e=this.attributes[t],i[t]=e&&"function"==typeof e.toJSON?e.toJSON():e);return i.expired&&(i.expired=this.expiredUnix()),i},prepareToSend:function(){var t,e,i,o,n=this.toJSON(),r=["id","crossInterval","autoDeactivation","description","sendEmail","expired","extra","showPopup","resolution","script","scriptDeps","sendSms","sendTrueSms","playSound","soundDuration","soundFile","symbol"];for(r.push("symbolInternal"),t={},o=r.length-1;o>=0;o--)e=r[o],void 0!==(i=n[e])&&(t[e]=i);return t.playSound||(delete t.soundDuration,delete t.soundFile),t.extra&&(t.extra=JSON.stringify(t.extra)),t},saveState:function(){this._oldState=this.state()},restoreState:function(t){var t=t||this._oldState||{};!t.extra||t.extra instanceof s||(t.extra=new s(t.extra),t.scriptDeps=t.extra.getDependencies()),this.set(t),delete this._oldState},getSavedState:function(){var t;return this._oldState&&(t=$.extend({},this._oldState),t.extra&&(t.extra=new s(t.extra),t.scriptDeps=t.extra.getDependencies())),t},TVSettingsPropertiesKey:function(){return n(this.id)},getSeriesProperties:function(){var t=this.get("symbolInternal");return t||this.get("extra")&&this.get("extra").getMainSeries()&&(t=this.get("extra").getMainSeries().getSymbolString()),l(t)},getFormatter:function(){var t,e=this.get("extra");return e&&(t=e.alertSeries(),t.formatter)?c.deserialize(t.formatter):null}});t.exports=d}).call(e,i(29),i(21))},function(t,e,i){"use strict";(function(e){function o(t){this._data={},this.crossInterval=new s,this.update(t)}var n,r,s,a=i(0).getLogger("Alerts.Extra"),l=i(769).deepCopy;TradingView="object"==typeof e?e.TradingView:TradingView||{},"function"!=typeof TradingView.merge&&(TradingView.merge=function(t,e){for(var i in e)"object"==typeof e[i]&&t.hasOwnProperty(i)?TradingView.merge(t[i],e[i]):t[i]=e[i];return t}),n=i(559),r=i(470).alertBandFactory,s=i(22),o.VERSION=19,o.prototype.update=function(t){return t=this._prepareExtraObject(t),o._isValidExtra(t)?(this._data=t||{},this._updateCrossInterval()):a.logError("Wrong alert extra"),this},
o.prototype.addDatasourse=function(t,e){this._addDatasourseToJson(this._data,t,e)},o.prototype._addDatasourseToJson=function(t,e,i){(i||t.condition[e])&&(t.condition[e]={id:i.id,plotIndex:i.plotIndex},t.statesForAlert[i.id]=i,i.plotIndex&&delete t.statesForAlert[i.id].plotIndex)},o.prototype.getDependencies=function(){var t,e,i,o={};for(t in this._data.statesForAlert)this._data.statesForAlert.hasOwnProperty(t)&&(e=this._data.statesForAlert[t],("Study"===e.type||/^study_\w+/.test(e.type))&&null!=e.studyDependencies&&e.studyDependencies.forEach(function(t){o[t.id]=t}));return i=Object.keys(o).map(function(t){return o[t]}),i.map(function(t){return t.study=t.study.replace(/(\d)$/,"$1!"),t})},o.prototype.updateDataSourseStates=function(){var t=this,e=this.getAvailableBands().map(function(e){return t._data.condition[e]}).filter(function(t){return!!t}).map(function(t){return t.id});Object.keys(t._data.statesForAlert).filter(function(t){return e.indexOf(t)<0}).forEach(function(e){delete t._data.statesForAlert[e]})},o.prototype._prepareExtraObject=function(t){var e,i;return"string"==typeof t?t=JSON.parse(t):t instanceof o&&(t=t.toJSON()),o._isValidExtra(t)?t:(e=function(e){var i=n.defaults(t.conditionId||"cross");this._addDatasourseToJson(e,"mainSeries",t.mainSeries),this._addDatasourseToJson(e,"alertSeries",t.alertSeries),"moving"===i.type?(e.condition.movValue=+t.value,e.condition.movPeriod=+t.period):"comparison"===i.type&&i.isChannel?(this._addDatasourseToJson(e,"upperBand",t.upperBand),this._addDatasourseToJson(e,"lowerBand",t.lowerBand)):"comparison"!==i.type||i.isChannel?"pine_script"===i.type||a.logError("[Alerts] Unknown condition type: "+i.type):this._addDatasourseToJson(e,"band",t.band)}.bind(this),i={version:o.VERSION,condition:{id:t.conditionId,fireInfo:t.fireInfo},statesForAlert:{}},e(i),i)},o.prototype.isValid=function(){return o._isValidExtra(this._data)},o._isValidExtra=function(t){var e,i,r=!!("object"==typeof t&&null!==t&&t.version>=o.VERSION&&t.statesForAlert&&t.condition&&t.condition.id&&t.condition.alertSeries&&t.condition.fireInfo&&(t.condition.fireInfo.type||t.condition.fireInfo.frequency));return r?(e=Object.keys(t.statesForAlert),r=r&&e.indexOf(t.condition.alertSeries.id)>=0,r=r&&(!t.condition.mainSeries||e.indexOf(t.condition.mainSeries.id)>=0),i=n.defaults(t.condition.id),i&&"comparison"===i.type&&!i.isChannel?(r=r&&!!t.condition.band,r=r&&e.indexOf(t.condition.band.id)>=0):i&&"comparison"===i.type&&i.isChannel?(r=r&&!!t.condition.upperBand,r=r&&!!t.condition.lowerBand,r=r&&e.indexOf(t.condition.upperBand.id)>=0,r=r&&e.indexOf(t.condition.lowerBand.id)>=0):i&&"moving"===i.type&&(r=r&&!!t.condition.movPeriod,r=r&&!!t.condition.movValue),r):r},o.prototype._prepareToJSON=function(){var t,e,i=this.bandsObject(),o=Object.keys(i);for(t=0;t<o.length;t++)e=i[o[t]],TradingView.isExistent(e.value)&&(e.value=e.value+"")},o.prototype.toJSON=function(){return this._prepareToJSON(),l(this._data)},o.prototype.state=o.prototype.toJSON,o.prototype.conditionData=function(){
var t=this._data&&this._data.condition&&this._data.condition.id;if(t)return n.getData(t,this)},o.prototype.bandsObject=function(t){return this._data.statesForAlert},o.prototype.bandsArray=function(t){var e=this;return t=t||"object",this.getAvailableBands().map(function(i){return e._getSomeBand(i,t)}).filter(function(t){return!!t})},o.prototype.price=function(t){function e(t,e){var i=r._getSomeBand(t,"object");i&&"Value"===i.type&&void 0!==e&&(i.value=parseFloat(e),r[t](i))}function i(t){var e=r._getSomeBand(t,"object");return e&&!isNaN(e.value)&&void 0!==e.value&&null!==e.value?parseFloat(e.value):null}var o,n,r=this,s=r.conditionData();return s&&"comparison"===s.type?(void 0!==t&&(r.conditionData().isChannel?(e("upperBand",t.upperBand||t.upper),e("lowerBand",t.lowerBand||t.lower)):e("band",t.band||t),this._updateCrossInterval()),r.conditionData().isChannel?(o=i("upperBand"),n=i("lowerBand"),null===o||null===n?null:{upper:o,lower:n}):i("band")):null},o.prototype.conditionId=function(t,e){return void 0!==t&&(this._data.condition.id=t,e||this._updateCrossInterval()),this._data.condition.id},o.prototype.getAvailableConditionParams=function(t){return["movPeriod","movValue"]},o.prototype.getAvailableOptionalBands=function(t){return["band","lowerBand","upperBand"]},o.prototype.getAvailableBands=function(t){return["band","lowerBand","upperBand","alertSeries","mainSeries"]},o.prototype.getAvailableOptionalConditions=function(t){return this.getAvailableOptionalBands().concat(this.getAvailableOptionalBands())},o.prototype.clearOptionalConditions=function(t){var e=this;this.getAvailableOptionalConditions().forEach(function(t){delete e._data.condition[t]}),this.updateDataSourseStates(),t||this._updateCrossInterval()},o.prototype.alertSeries=function(t,e){return void 0!==t&&(this.addDatasourse("alertSeries",t),this.updateDataSourseStates(),e||this._updateCrossInterval(),this.setValidConditionId()),this._getSomeBand("alertSeries","object")},o.prototype.getAlertSeries=function(t){return this._getSomeBand("alertSeries",t)},o.prototype.mainSeries=function(t,e){return void 0!==t&&(this.addDatasourse("mainSeries",t),this.updateDataSourseStates(),e||this._updateCrossInterval()),this._getSomeBand("mainSeries","object")},o.prototype.getMainSeries=function(t){return this._getSomeBand("mainSeries",t)},o.prototype._getSomeBand=function(t,e){var i,o=e||"model",n=this._data.condition[t];if(n)return i=TradingView.merge(this._data.statesForAlert[n.id],n),"object"===o?TradingView.merge({},i):r.create(i)},o.prototype.upperBand=function(t,e){return void 0!==t&&(this.addDatasourse("upperBand",t),delete this._data.condition.band,this.updateDataSourseStates(),e||this._updateCrossInterval()),this._getSomeBand("upperBand","object")},o.prototype.getUpperBand=function(t){return this._getSomeBand("upperBand",t)},o.prototype.lowerBand=function(t,e){return void 0!==t&&(this.addDatasourse("lowerBand",t),delete this._data.condition.band,this.updateDataSourseStates(),e||this._updateCrossInterval()),this._getSomeBand("lowerBand","object")},
o.prototype.getLowerBand=function(t){return this._getSomeBand("lowerBand",t)},o.prototype.band=function(t,e){return void 0!==t&&(this.addDatasourse("band",t),delete this._data.condition.upperBand,delete this._data.condition.lowerBand,this.updateDataSourseStates(),e||this._updateCrossInterval()),this._getSomeBand("band","object")},o.prototype.getBand=function(t){return this._getSomeBand("band",t)},o.prototype.value=function(t,e){return void 0!==t&&(this._data.condition.movValue=+t,e||this._updateCrossInterval()),this._data.condition.movValue},o.prototype.movingValue=o.prototype.value,o.prototype.period=function(t,e){return void 0!==t&&(this._data.condition.movPeriod=+t,e||this._updateCrossInterval()),this._data.condition.movPeriod},o.prototype.movingPeriod=o.prototype.period,o.prototype._updateCrossInterval=function(){var t=this.getAlertSeries(),e=null!==this.price()&&t&&"MainSeries"===t.type()&&!t.isJapaneseStyle()&&!t.isSpread();this.crossInterval.setValue(e)},o.prototype.frequency=function(t){return-1!==["once","on_first_fire","on_bar_close","60"].indexOf(t)&&(this._data.condition.fireInfo.frequency=t),this._data.condition.fireInfo.frequency},o.prototype.alertSeriesAlerts=function(){return this.alertSeries()&&this.alertSeries().alerts},o.prototype.drawing=function(t){var e,i,o,n,r,s,l,c,h,d=this;for(t&&t.canHasAlert()&&(e=t.stateForAlert(),i=e.plots,o=!!d.conditionData().isChannel,n=(1===i.length?!o:o)&&"comparison"===d.conditionData().type,n?1===i.length?(r={},r=TradingView.merge(r,e),r.plotIndex=0,d.band(r)):(s={},l={},s=TradingView.merge(s,e),s.plotIndex=0,d.upperBand(s),l=TradingView.merge(l,e),l.plotIndex=1,d.lowerBand(l)):a.logError("[Alerts] Can't set drawing to alert with current condition")),c=this.bandsArray(),h=0;h<c.length;h++)if(/^LineTool.*/i.test(c[h].type))return c[h];return null},o.prototype.setValidConditionId=function(){var t=this.conditionId(),e=n.get(this);e[t]||this.conditionId(Object.keys(e)[0])},o.prototype.verticalLine=function(){var t=this.drawing();return t&&1===t.plots.length&&t.plots[0].offset1&&t.plots[0].offset1===t.plots[0].offset2?t:null},TradingView.AlertExtra=o,t.exports=o}).call(e,i(58))},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(11),n=i(69),r=function(){function t(){this._data=null,this._hitTest=null}return t.prototype.setData=function(t){this._data=t},t.prototype.setHitTest=function(t){this._hitTest=t},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.points.length&&!(this._data.linewidth<=0)){var e=this._data.points[0].x;e<0||e>this._data.width||(t.translate(1,0),t.lineCap="square",t.strokeStyle=this._data.color,t.lineWidth=this._data.linewidth,void 0!==this._data.linestyle&&n.setLineStyle(t,this._data.linestyle),n.drawLine(t,e,0,e,this._data.height))}},t.prototype.hitTest=function(t){if(null===this._data||0===this._data.points.length)return null;var e=this._hitTest||new o(o.MOVEPOINT);return Math.abs(t.x-this._data.points[0].x)<=3?e:null},t}(),e.VerticalLineRenderer=r},function(t,e,i){"use strict";var o,n,r
;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(16),r=function(t){function e(e,i,o,n){var r=this;return i||(i=1),"forex"!==o&&"cfd"!==o||!n?(r=t.call(this,1)||this,r._isForex=!1):(r=t.call(this,n)||this,r._isForex=!0),r._pipPriceScale=e,r._pipMinMove=i,r._pipMinMove2=n,r}return o.__extends(e,t),e.prototype.format=function(e,i,o){var n=this._isForex?this._pipMinMove2:this._pipMinMove;return void 0===n&&(n=NaN),t.prototype.format.call(this,e*this._pipPriceScale/n,i,o)},e}(n.PriceFormatter),e.PipFormatter=r},function(t,e){},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.urlsRegExp={amazonawsLinks:"(?:https://|http://)(s3\\.amazonaws\\.com\\/tradingview?(\\w*?)\\/snapshots)\\/(?:\\S*?)\\.(png|bmp|jpg|jpeg)",imageUrl:"^[0-9a-zA-Z]{8}$",publishedChart:"/chart/([0-9a-zA-Z!_:+*()-]+?)/([0-9a-zA-Z]{8})(?:-([^/]+))?/?",publishedChartOld:"/v/([0-9a-zA-Z]{8})/?",publishedImage:"/(?:i|x)/([0-9a-zA-Z]{8})/?",publishedScript:"/script/([0-9a-zA-Z]{8})(?:-([^/]+))?/?"}},function(t,e,i){"use strict";function o(t){return null==t._parentMenu?null:n(t._parentMenu)}function n(t){return null==t._parentMenuItem?t:o(t._parentMenuItem)}function r(t,e){this.action=t,this._parentMenu=e}function s(t,e){this.action=t,this._parentMenu=e}var a=i(464),l=i(267),c=i(20).trackEvent;r.prototype._createIconTag=function(){var t=this._iconTagAttributes();return this.jqIcon=l.create(a.ICON_CELL_TAG,t),this.jqIcon.addClass("context-menu"),this.jqIcon},r.prototype._createDeleteButton=function(){var t,e,i;if(!this.action.deleteButton)return null;t=this,e=this.action.deleteButton.action,i=l.create("span",{class:"context-menu-delete-button"}),e&&i.click(function(){return e.call(t),!1}),this.jqSubmenu.addClass("delete-spacer"),this.jqSubmenu.append(i)},r.prototype._createTextTag=function(){var t=this._textTagAttributes();return this.jqText=l.create(a.TEXT_CELL_TAG,t),this.jqIcon.addClass("context-menu"),this.jqText},r.prototype._createRightTag=function(){var t=this._rightTagAttributes();return this.jqRight=l.create(a.RIGHT_CELL_TAG,t),this.jqIcon.addClass("context-menu"),this.jqRight},r.prototype._createSubmenuTag=function(){var t=this._submenuTagAttributes();return this.jqSubmenu=l.create(a.SUBMENU_CELL_TAG,t),this.jqIcon.addClass("context-menu"),this.jqSubmenu},r.prototype._iconTagAttributes=function(){var t={},e=[];return this.action&&(this.action.icon?(e.push("icon"),e.push(this.action.icon.replace(/\./,"_"))):this.action.checkable?(e.push("icon"),this.action.checked?(e.push("checked-icon"),t.html=i(72)):e.push("unchecked-icon")):e.push("spacer")),t.class=e.join(" "),t},r.prototype._textTagAttributes=function(){return{class:"text",html:this.action?this.action.text:""}},r.prototype.highlight=function(t){t?(this.jqRow.addClass("context-menu-hover"),this.jqIcon.addClass("context-menu-hover")):(this.jqRow.removeClass("context-menu-hover"),this.jqIcon.removeClass("context-menu-hover")),this.action&&this.action.hasSubActions()&&(t?this.jqSubmenu.addClass("expanded"):this.jqSubmenu.removeClass("expanded"))},
r.prototype._rightTagAttributes=function(){var t={},e=["right"];return this.action&&this.action.shortcut&&(e.push("shortcut"),t.class=e.join(" "),t.html=this.action.shortcut),t},r.prototype._submenuTagAttributes=function(){var t={};return this.action&&this.action.hasSubActions()?t.class="submenu-arrow":t.class="context-menu spacer",t},r.prototype.render=function(){this._createRow(),this.jqRow.append(this._createIconTag()),this.jqRow.append(this._createTextTag()),this.jqRow.append(this._createRightTag()),this.jqRow.append(this._createSubmenuTag()),this._createDeleteButton(),this.appendCallback();var t=this;return this.jqRow.mouseenter(function(e){t.showSubmenu(e),t.highlight(!0),t._parentMenu&&t._parentMenu._parentMenuItem&&t._parentMenu._parentMenuItem.highlight(!0)}),this.jqRow.mouseleave(function(){t.highlight(!1)}),this.jqRow},r.prototype._createRow=function(){var t,e,i=this._rowTagAttributes();this.jqRow=l.create(a.ITEM_ROW_TAG,i),this.jqRow.addClass("context-menu"),t=this,this.action&&!this.action.hasSubActions()&&(e=function(t){t.destroy(),t._parentMenuItem&&e(t._parentMenuItem._parentMenu)},this.jqRow.click(function(i){e(t._parentMenu)}))},r.prototype.showSubmenu=function(t){var e,o;this._parentMenu.closeOtherSubmenus(this),this.action&&!this.action.hasSubActions()||(this._menu||(e=i(154),o={},this._parentMenu.options&&this._parentMenu.options.statName&&(o.statName=this._parentMenu.options.statName),this._menu=e.createMenu(this.action.subActions,o,this)),t.pageX=this._parentMenu.jqMenu.width()-2,t.pageY=this.jqSubmenu.offset().top-this._parentMenu.jqMenu.offset().top-1,this._menu.show(t,this._parentMenu.jqMenu))},r.prototype._rowTagAttributes=function(){var t=[];return this.action&&(!1===this.action.enabled&&t.push("disabled"),!1===this.action.visible&&t.push("hidden"),this.action.font&&t.push("font_"+this.action.font),this.action.hasSubActions()&&t.push("has_submenu"),this.action.htmlclass&&t.push(this.action.htmlclass)),{class:t.join(" ")}},r.prototype.appendCallback=function(){var t=this;this.jqRow.click(function(e){if(t.action.enabled){var i=t.getStatName();""!==i&&c("ContextMenuClick",t._parentMenu.options.statName,i),t.action.executeCallback(e)}})},r.prototype.getTopLevelMenu=function(){return o(this)},r.prototype.getStatName=function(){var t="";return this._parentMenu&&this._parentMenu._parentMenuItem&&(t=this._parentMenu._parentMenuItem.getStatName()),[t,this.action.statName||""].filter(function(t){return""!==t}).join(".")||""},s.prototype.render=function(t){this._createRow();var e=this;return this.action.deferred.then(function(o){var n,r,s,a=i(463);for(n in o)r=o[n],s=e._parentMenu.addItem(r),a.renderItem(t,s)}).always(function(){e.jqRow.hide()}),this.jqRow},s.prototype._createIconTag=function(){var t=this._iconTagAttributes();return this.jqIcon=l.create(a.ICON_CELL_TAG,t),this.jqIcon.addClass("context-menu"),this.jqIcon},s.prototype._createRow=function(){var t=this._rowTagAttributes();this.jqRow=l.create(a.ITEM_ROW_TAG,t),this.jqRow.append(this._createIconTag()),this.jqRow.addClass("context-menu")},
s.prototype._rowTagAttributes=function(){var t=[];return this.action&&t.push("spinner"),{class:t.join(" ")}},s.prototype.highlight=function(t){},s.prototype._iconTagAttributes=function(){var t={},e=[];return e.push("spacer"),t.class=e.join(" "),t.colspan="10",t},e.Item=r,e.ItemPlaceholder=s},function(t,e,i){"use strict";var o=i(267),n=i(192).setMouseEventHandler,r={};r.createLabel=function(t,e,i){return o.create("label",$.extend(i,{html:e,for:t}))},r.unbindContextMenu=function(t){t.contextMenu(function(t){return!1})},r.offsetX=function(t,e){return t.width()+e.pageX},r.offsetY=function(t,e){return t.height()+e.pageY},r.isElementInViewport=function(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},r.isVisible=function(t,e,i){var o,n,r;for("function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]),o=.01,e||(e=1),i||(i=1),n=t.getBoundingClientRect(),r=[];t.parentElement;)r.push(t.parentElement.getBoundingClientRect()),t=t.parentElement;return r.every(function(t){var r=Math.min(n.right,t.right)-Math.max(n.left,t.left),s=Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top),a=r/n.width*100,l=s/n.height*100;return a+o>e&&l+o>i})},r.checkObjIsOutOfWindowX=function(t,e){var i,o=$(window).width()-r.offsetX(t,e);return o<0?(i=e.pageX+o,i>0?i:0):e.pageX},r.checkObjIsOutOfWindowY=function(t,e){var i,o=$(window).height()-r.offsetY(t,e);return o<0?(i=e.pageY+o,i>0?i:0):e.pageY},r.checkObjIsOutOfWindow=function(t,e){return{left:r.checkObjIsOutOfWindowX(t,e),top:r.checkObjIsOutOfWindowY(t,e)}},r.setAttr=function(t,e,i){return t.attr?t.attr(e,i):t[e]=i,t},r.removeAttr=function(t,e){return t.removeAttr?t.removeAttr(e):t.removeAttribute(e),t},r.notNull=function(t){return-1===$.inArray(t,[null,void 0,"false","null","undefined",0])},r.hideControl=function(t){return t.css({position:"absolute",top:-1e3,left:-1e3})},r.createPopup=function(t,e,i){return new r.Popup(t,e,i).render()},r.Popup=function(t,e,i){if(void 0!==t.selector?this.jqDiv=t:t.nodeType?this.jqDiv=$(t):this.jqDiv=o.create("div",t),i){var r=this;$.each(i,function(t,e){r[t]=e})}n(this.jqDiv,this),this._callback=e},r.Popup.prototype.render=function(){return this.jqDiv},r.Popup.prototype.show=function(){this.jqDiv.show()},r.Popup.prototype.hide=function(){this.jqDiv.hide()},r.Popup.prototype.setVisible=function(t){t?this.show():this.hide()},r.Popup.prototype.isVisible=function(){return this.jqDiv.is(":visible")},r.Popup.prototype.contextMenuEvent=function(t){return!1},r.Popup.prototype.mouseDownOutsideEvent=function(t){if(this.isVisible()){if(this._callback&&!this._callback())return;this.hide()}},t.exports=r},function(t,e,i){"use strict";function o(t){var e=JSON.stringify(t);return e=e.replace(/'/g,"\\'")}function n(t,e){var i,n,s,a,l,c={};if(e.isTVScript)i=e.defaults.inputs.text,c.text=r.patchILTemplate(i,e,t);else for(n=Object.keys(t),s=n.length-1;s>=0;s--)a=n[s],
(l=t[a]?t[a].id:null)&&t[l]&&(c[l]=t[l]);return o(c)}var r=i(526);t.exports={formatCallstudyArg:o,prepareCallStudyArgs:n}},function(t,e,i){"use strict";function o(t,e,i){void 0!==e&&void 0!==i&&i.forEach(function(i){var o,n=t[i];"string"==typeof n?(o=n.split("$")[1],t[i]=e+(void 0===o?"":"$"+o)):"source"===n.t?(o=n.v.split("$")[1],n.v=e+(void 0===o?"":"$"+o)):l.logError("Cannot patch source input, its type is not source: "+JSON.stringify(n))})}function n(t,e){return""+s(t+a.sortedStringify(e))}var r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),r=i(0),s=i(467),a=i(675),l=r.getLogger("Chart.Study"),e.patchChildIdInInputs=o,e.idForAlert=n},function(t,e,i){"use strict";(function(e,o){var n=i(0).getLogger("Alerts.Price.Abstract"),r=i(457),s=i(95),a=e.Model.extend({constructor:function(t,i){t=this._prepareToSet(t,!0),e.Model.call(this,t,i)},_prepareToSet:function(t,e){var i,o,n;if(t)for(i in t)t.hasOwnProperty(i)&&(o=t[i],n="_prepareToSet_"+i,"function"==typeof this[n]&&(t[i]=this[n](o,t,e)));return t},destroy:function(){this.stopListening(),this.trigger("destroy",this)},save:function(){n.logError("[Alerts] Use disaptcher to save")},shortSymbol:function(t){return s?s.shortName(t||this.get("symbol")||""):(n.logWarn("[Alerts] can't get short symbol"),t)},resolutionReadable:function(t){if(!r)return n.logWarn("[Alerts] can't get resolution readable"),t;var t=t||this.get("resolution");return t?r.getTranslated(t):""},title:function(t){var e;return e=t?this.get("symbol"):this.shortSymbol(),this.get("crossInterval")||(e=e+", "+this.resolutionReadable()),e},_formatDate:function(t){return o(t||new Date).format("ll")}});t.exports=a}).call(e,i(178),i(54))},function(t,e,i){"use strict";function o(t,e,i,o){return null!==t?a.intersectPolygonAndHalfplane(t,r.halfplaneThroughPoint(r.lineThroughPoints(e,i),o)):null}var n,r,s,a,l,c,h,d,u;Object.defineProperty(e,"__esModule",{value:!0}),n=i(9),r=i(8),s=i(51),a=i(170),l=i(69),c=i(11),h=i(42),d=i(33),u=function(){function t(t,e){this._data=null,this._hittestResult=t||new c(c.MOVEPOINT),this._backHittestResult=e||new c(c.MOVEPOINT_BACKGROUND)}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){var e,i,o,n,r,s,a,c;null===this._data||this._data.points.length<2||(t.lineCap="butt",t.strokeStyle=this._data.color,t.lineWidth=this._data.linewidth,l.setLineStyle(t,this._data.linestyle),e=this._data.points,i=e[0],o=e[1],this._data.skipLines||this._extendAndDrawLineSegment(t,i,o),4===this._data.points.length&&(n=this._data.points,r=n[2],s=n[3],this._data.skipLines||this._data.skipTopLine||this._extendAndDrawLineSegment(t,r,s),this._data.fillBackground&&this._drawBackground(t,this._data.points),this._data.showMidline&&!this._data.skipLines&&(t.strokeStyle=this._data.midcolor,t.lineWidth=this._data.midlinewidth,l.setLineStyle(t,this._data.midlinestyle),a=i.add(r).scaled(.5),c=o.add(s).scaled(.5),this._extendAndDrawLineSegment(t,a,c))))},t.prototype.hitTest=function(t){var e,i,o,n,r,s,a,l,c,h,d;if(null===this._data||this._data.points.length<2)return null
;if(e=this._data.points,i=e[0],o=e[1],null!==(n=this._extendAndHitTestLineSegment(t,i,o)))return n;if(4===this._data.points.length&&!this._data.skipTopLine){if(r=this._data.points,s=r[2],a=r[3],null!==(l=this._extendAndHitTestLineSegment(t,s,a)))return l;if(this._data.showMidline&&!this._data.skipLines&&(c=i.add(s).scaled(.5),h=o.add(a).scaled(.5),null!==(d=this._extendAndHitTestLineSegment(t,c,h))))return d}return this._data.hittestOnBackground&&this._data.fillBackground?this._hitTestBackground(t):null},t.prototype._getColor=function(){var t=n.ensureNotNull(this._data);return d.generateColor(t.backcolor,t.transparency)},t.prototype._extendAndDrawLineSegment=function(t,e,i){var o=this._extendAndClipLineSegment(e,i);null!==o&&l.drawLine(t,o[0].x,o[0].y,o[1].x,o[1].y)},t.prototype._extendAndHitTestLineSegment=function(t,e,i){var o,n=this._extendAndClipLineSegment(e,i);return null!==n&&(o=s.distanceToSegment(n[0],n[1],t),o.distance<=3)?this._hittestResult:null},t.prototype._extendAndClipLineSegment=function(t,e){var i=n.ensureNotNull(this._data);return h.extendAndClipLineSegment(t,e,i.width,i.height,i.extendleft,i.extendright)},t.prototype._drawBackground=function(t,e){var i,a,l,c=n.ensureNotNull(this._data),h=e[0],d=e[1],u=e[2],p=e[3];if(!(r.equalPoints(h,d)||r.equalPoints(u,p)||s.distanceToLine(h,d,u).distance<1e-6||s.distanceToLine(h,d,p).distance<1e-6||c.width<=0||c.height<=0||(i=[new r.Point(0,0),new r.Point(c.width,0),new r.Point(c.width,c.height),new r.Point(0,c.height)],a=i,a=o(a,h,d,p),c.extendright||(a=o(a,d,p,u)),a=o(a,p,u,h),c.extendleft||(a=o(a,u,h,d)),null===a))){for(t.beginPath(),t.moveTo(a[0].x,a[0].y),l=1;l<a.length;l++)t.lineTo(a[l].x,a[l].y);t.fillStyle=this._getColor(),t.fill()}},t.prototype._hitTestBackground=function(t){var e,i,o,r,s,a,l,c,h,d,u,p=n.ensureNotNull(this._data);return 4!==p.points.length?null:(e=p.points,i=e[0],o=e[1],r=e[2],s=(o.y-i.y)/(o.x-i.x),a=i.y+s*(t.x-i.x),l=r.y+s*(t.x-r.x),c=Math.max(a,l),h=Math.min(a,l),d=Math.min(i.x,o.x),u=Math.max(i.x,o.x),!p.extendleft&&t.x<d?null:!p.extendright&&t.x>u?null:t.y>=h&&t.y<=c?this._backHittestResult:null)},t}(),e.ParallelChannelRenderer=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(5);var o=function(){function t(){}return t.prototype.format=function(t){var e,i,o,n,r=t<0;return t=Math.abs(t),e=Math.floor(t/86400),t-=86400*e,i=Math.floor(t/3600),t-=3600*i,o=Math.floor(t/60),t-=60*o,n="",e&&(n+=e+$.t("d",{context:"dates"})+" "),i&&(n+=i+$.t("h",{context:"dates"})+" "),o&&(n+=o+$.t("m",{context:"dates"})+" "),t&&(n+=t+$.t("s",{context:"dates"})+" "),r&&(n="-"+n),n.trim()},t}();e.TimeSpanFormatter=o},function(t,e,i){"use strict";function o(t){this._data=null,this._hittest=t||new a(a.MOVEPOINT),this._backHittest=new a(a.MOVEPOINT_BACKGROUND),this._points=[]}var n=i(70).pointInPolygon,r=i(51).distanceToSegment,s=i(114).TrendLineRenderer,a=i(11),l=i(33),c=i(91).LineEnd;o.prototype.setData=function(t){this._data=t,this._points=t.points},o.prototype.draw=function(t){var e,i,o
;if(null!==this._data&&0!==this._points.length){for(t.beginPath(),t.lineCap="butt",t.strokeStyle=this._data.color,t.lineWidth=this._data.linewidth,t.lineStyle=this._data.linestyle,e=this._points[0],t.moveTo(e.x,e.y),i=0;i<this._points.length;i++)o=this._points[i],t.lineTo(o.x,o.y);this._data.filled&&this._data.fillBackground&&(t.fillStyle=l.generateColor(this._data.backcolor,this._data.transparency),t.fill()),this._data.filled&&!this._data.skipClosePath&&t.closePath(),this._data.linewidth>0&&t.stroke(),this._points.length>1&&(this._data.leftend===c.Arrow&&s.prototype.drawArrow(this._points[1],this._points[0],t,t.lineWidth),this._data.rightend===c.Arrow&&s.prototype.drawArrow(this._points[this._points.length-2],this._points[this._points.length-1],t,t.lineWidth))}},o.prototype.hitTest=function(t){var e,i,o,s,a;if(null===this._data||void 0!==this._data.mouseTouchable&&!this._data.mouseTouchable)return null;for(e=TradingView.isMobile.any()?24:3,i=1;i<this._points.length;i++)if(o=this._points[i-1],s=this._points[i],a=r(o,s,t),a.distance<=e)return this._hittest;return this._data.filled&&this._data.fillBackground&&this._points.length>0&&(o=this._points[0],s=this._points[this._points.length-1],a=r(o,s,t),a.distance<=e)?this._hittest:this._data.filled&&this._data.fillBackground&&n(t,this._data.points)?this._backHittest:null},t.exports=o},,,,,function(t,e,i){"use strict";function o(){return[[1,0,0],[0,1,0],[0,0,1]]}function n(t,e){var i,o,n,r=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<3;i++)for(o=0;o<3;o++)for(n=0;n<3;n++)r[i][o]+=t[i][n]*e[n][o];return r}function r(t){var e=Math.cos(t),i=Math.sin(t);return[[e,-i,0],[i,e,0],[0,0,1]]}function s(t,e){return[[t,0,0],[0,e,0],[0,0,1]]}function a(t,e){return[[1,0,t],[0,1,e],[0,0,1]]}function l(t,e){var i,o,n=[e.x,e.y,1],r=[0,0,0];for(i=0;i<3;i++)for(o=0;o<3;o++)r[i]+=n[o]*t[i][o];return new c.Point(r[0],r[1])}Object.defineProperty(e,"__esModule",{value:!0});var c=i(8);e.identityMatrix=o,e.multiplyMatrices=n,e.rotationMatrix=r,e.scalingMatrix=s,e.translationMatrix=a,e.transformPoint=l},function(t,e,i){"use strict";(function(e,o){var n=i(0).getLogger("Common.CollectionObserver"),r=e.Collection.extend({initialize:function(t){if(this._observableCollection=t.observableCollection,this._validator=t.validator,this._syncEvents=o.isArray(t.syncEvents)?t.syncEvents:[],this._syncEvents.push("reset"),this._syncEvents=o.uniq(this._syncEvents),!this._observableCollection)return void n.logError("'observableCollection' option required");if(!(this._observableCollection instanceof e.Collection))return void n.logError("'observableCollection' need to be Backbone.Collection");this.comparator||"function"!=typeof this._observableCollection.comparator||(this.comparator=this._observableCollection.comparator),this._observableCollection.on("add",this.onAdd,this),this._observableCollection.on("remove",this.remove,this);for(var i=this._syncEvents.length-1;i>=0;i--)this._observableCollection.on(this._syncEvents[i],this.syncCollections,this)},syncCollections:function(){var t=this._validator
;t&&this.reset(o.filter(this._observableCollection.models,t))},onAdd:function(t,e){var i=this._validator;i&&!i(t)||this.add.apply(this,arguments)},destroy:function(){this._observableCollection.off("add",this.onAdd,this),this._observableCollection.off("remove",this.remove,this);for(var t=this._syncEvents.length-1;t>=0;t--)this._observableCollection.off(this._syncEvents[t],this.syncCollections,this)}});t.exports=r}).call(e,i(178),i(29))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(16),n=function(){function t(t){this.type="quoteSessionPrice",this.reset(t)}return t.prototype.state=function(){return this._priceFormatter.state()},t.prototype.reset=function(t){this._priceFormatter=t||new o.PriceFormatter(100,1,0)},t.prototype.update=function(t,e){var i=null!=e.pricescale||null!=e.minmov||null!=e.fractional||null!=e.minmove2,n=null!=t.pricescale&&null!=t.minmov&&null!=t.fractional&&null!=t.minmove2;i&&n&&(this._priceFormatter=new o.PriceFormatter(t.pricescale,t.minmov,t.fractional,t.minmove2))},t.prototype.format=function(t,e,i){return this._priceFormatter.format(t,e,i)},t.prototype.hasForexAdditionalPrecision=function(){return this._priceFormatter.hasForexAdditionalPrecision()},t.serialize=function(t){return t.state()},t.deserialize=function(e){return new t(new o.PriceFormatter(e.priceScale,e.minMove,e.fractional,e.minMove2))},t}(),e.QuoteSessionPriceFormater=n},function(t,e,i){"use strict";function o(t){var e="create_alert"===t?window.t("Cannot create alert when offline"):window.t("Cannot edit alert when offline");s.createNoticeDialog({content:e,title:window.t("Oops!")}).open()}function n(t){var e,i;return!(t=t||TradingView.alertsDispatcher&&TradingView.alertsDispatcher.chartWidget())||(e=t.model(),i=e?e.mainSeries().status():a.STATUS_OFFLINE,!l.includes(i))}function r(t){return t.alert?t.type||"edit_alert":"create_alert"}var s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),i(5),s=i(67),a=i(32),l=[a.STATUS_OFFLINE,a.STATUS_RESOLVING,a.STATUS_LOADING],e.openOfflineDialog=o,e.isAlertsOnline=n,e.getAlertDialogType=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t.offset=8,t.font="Arial",t.fontSize=12,t.lineSpacing=10,t.bgColor="rgba(255,255,255,.8)",t.borderColor="#e3e3e3",t.padding=8}(e.LabelSettings||(e.LabelSettings={}))},function(t,e,i){"use strict";var o,n=i(32),r=i(856),s=i(857),a=i(858),l=i(859),c=i(860),h=i(861),d=i(862),u=i(863),p=i(864),f=i(865),_=i(866),g=(o={},o[n.STYLE_AREA]=r,o[n.STYLE_BARS]=s,o[n.STYLE_CANDLES]=a,o[n.STYLE_HEIKEN_ASHI]=l,o[n.STYLE_HOLLOW_CANDLES]=c,o[n.STYLE_LINE]=h,o[n.STYLE_BASELINE]=d,o[n.STYLE_RENKO]=u,o[n.STYLE_PNF]=p,o[n.STYLE_PB]=f,o[n.STYLE_KAGI]=_,o);t.exports=g},,function(t,e,i){"use strict";function o(){this.cache={}}function n(t){this.cache=t}function r(t){this.currentSymbol=null,this.cache=t,this.onDataHandler=this.onData.bind(this),this.onExpiredHandler=this.onExpired.bind(this),this.cache.on("data",this.onDataHandler),
this.cache.on("expired",this.onExpiredHandler)}var s,a=i(65);o.prototype.now=function(){return(new Date).getTime()},o.prototype.put=function(t,e,i,o){var n,r,s,a=this.cache[t];a&&clearTimeout(a.timeout),n=i+this.now(),r={value:e,expire:n},isNaN(n)||(s=setTimeout(function(){var e=this.cache[t];this.del(t),"function"==typeof o&&e&&o(t,e.value)}.bind(this),i),r.timeout=s),this.cache[t]=r},o.prototype.del=function(t){delete this.cache[t]},o.prototype.get=function(t){var e=this.cache[t];if(void 0!==e){if(isNaN(e.expire)||e.expire>=this.now())return e.value;this.del(t)}return null},inherit(n,a),n.prototype.maxRetryCount=1,n.prototype.retryDelay=5e3,n.prototype.itemExpired=function(t,e){this.emit("expired",e)},n.prototype.getKey=function(t,e){return t+"_"+e},n.prototype.requestSymbol=function(t,e,i,o){var n,r,s,a,l,c=36e5;return o=o||0,n=this.getKey(t,e),(r=this.cache.get(n))?void(r.pending||this.emit("data",r,i)):(s={exchange:t,symbol:e,pending:!0},this.cache.put(n,s,c),a=this,l=window.ESD_ESTIMATES_URL||"/estimates",$.ajax({url:l,type:"GET",data:{symbol:e,exchange:t},timeout:6e4}).then(function(r){if(r.error&&o<a.maxRetryCount)return void setTimeout(function(){a.cache.del(n),a.requestSymbol(t,e,i,o+1)},a.retryDelay);a.cache.put(n,$.extend(r,{exchange:t,symbol:e}),c,a.itemExpired.bind(a)),a.emit("data",r)}).fail(function(i,o,r){a.cache.put(n,{exchange:t,symbol:e,error:r},36e5,a.itemExpired.bind(a))}))},s=new n(new o),inherit(r,a),r.prototype.supportedExchange=function(t){return t=t.toLowerCase(),$.inArray(t,["nasdaq","bats","nyse","otc","amex"])>-1},r.prototype.onData=function(t,e){e&&e!==this||this.isCurrentSymbol(t)&&this.emit("data",t)},r.prototype.onExpired=function(t){this.isCurrentSymbol(t)&&this.setSymbol(t.exchange,t.symbol)},r.prototype.isCurrentSymbol=function(t){return!(!this.currentSymbol||!t)&&(this.currentSymbol.exchange===t.exchange&&this.currentSymbol.symbol===t.symbol)},r.prototype.resetSymbol=function(){this.currentSymbol=null},r.prototype.setSymbol=function(t,e){t=t.toLowerCase(),e=e.toLowerCase(),this.currentSymbol={exchange:t,symbol:e},this.supportedExchange(t)&&this.cache.requestSymbol(this.currentSymbol.exchange,this.currentSymbol.symbol,this)},r.prototype.destroy=function(){this.cache.off("data",this.onDataHandler),this.cache.off("expired",this.onExpiredHandler)},t.exports.createEstimatesProvider=function(){return new r(s)}},function(t,e,i){"use strict";function o(t){l.call(this,t),this.ch=t.char[0]||" ",this.fontFamily=t.fontFamily||"Arial",this._charCache=new a(this.ch,!1,!1,this.fontFamily,this.height)}var n=i(8).Point,r=i(42).selectionTolerance,s=i(11),a=i(478),l=i(68).PaneRendererAbstractShape;inherit(o,l),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a=this._vertOffset>0?1:-1;for(e=0,i=this.items.length;e<i;e++)o=this.items[e],n=o.x,r=o.y+this._vertOffset-a*Math.round(this.height/2),s=o.style&&null!=o.style.color?o.style.color:this._color,this._charCache.paintTo(t,s,n,r,"center",this._vertOffset>0?"middle":"bottom")},o.prototype.hitTest=function(t){
var e,i,o,a=this._vertOffset,l=r(this.height);for(e=0;e<this.items.length;++e)if((i=this.items[e])&&(o=new n(i.x,i.y+a),o.subtract(t).length()<=l))return new s(s.REGULAR);return null},e.PaneRendererUnicodeChar=TradingView.PaneRendererUnicodeChar=o},,,,,,,function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M4.034 14.18l-.07-.18.07-.18c1.535-3.975 5.645-6.82 9.966-6.82 4.32 0 8.431 2.845 9.966 6.82l.07.18-.07.18c-1.535 3.975-5.646 6.82-9.966 6.82-4.321 0-8.431-2.845-9.966-6.82zm9.966 5.82c3.84 0 7.521-2.503 8.962-6-1.441-3.497-5.122-6-8.962-6-3.841 0-7.521 2.503-8.962 6 1.441 3.497 5.121 6 8.962 6z"/><path d="M11 14.001c0 1.66 1.341 2.999 3.001 2.999s2.999-1.339 2.999-2.999c0-1.66-1.339-3.001-2.999-3.001-1.66 0-3.001 1.341-3.001 3.001z"/></g></svg>'},function(t,e,i){"use strict";function o(t){var e,i,o,s,a,l=Object.keys(n.SYMBOL_STRING_DATA),c={symbol:null,style:null,extendedHours:null,inputs:null};if(t&&0===t.indexOf("=")){if(e=t.slice(1),e=JSON.parse(e),c.symbol=e.symbol,c.inputs=e.inputs,e.type)for(s=0;s<l.length;s++)if(o=l[s],i=n.SYMBOL_STRING_DATA[o],a=r.cutFullId(e.type),i.type===a){c.style=parseInt(o);break}"extended"===e.session&&(c.extendedHours=!0),"extended"===c.symbol.session&&(c.extendedHours=!0,c.symbol=c.symbol.symbol)}else c.symbol=t;return c}var n=i(32),r=i(39);t.exports={parseSymbolString:o}},,function(t,e,i){"use strict";function o(t,e){this._model=t,this._source=e,this._lines=[],this._pearsons=null,this._invalidated=!0,this._pearsonsTextRenderer=new l({})}function n(t,e,i,n){c.call(this,t,e,i,n,new o(t,this))}var r=i(8).Point,s=i(461).LineSourcePaneView,a=i(573).ParallelChannelRenderer,l=i(177).TextRenderer,c=i(185),h=i(114).TrendLineRenderer,d=i(11),u=i(41).CompositeRenderer,p=i(33),f=i(2).propertyPages,_=i(91).LineEnd;inherit(o,s),o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){var t,e,i,o,n,s,a,l,c,h,d,u,p,f,g,m,v,y,b,w,S,T,x,P,C,M,k;if(this._lines=[],this._pearsons=null,this._source._nonseriesdata&&void 0!==this._source._nonseriesdata.startIndex&&void 0!==this._source._nonseriesdata.endIndex&&this._source.properties().visible.value()&&(t=this._source._nonseriesdata,e=this._source._indexes,i=this._model.timeScale(),o=this._source.priceScale(),n=this._model.mainSeries(),s=n.firstBar(),o&&!o.isEmpty()&&!i.isEmpty()&&s)){for(a=e[t.startIndex],l=e[t.endIndex],c=[t.baseLine,t.downLine,t.upLine],h=Math.round(i.indexToCoordinate(a)),d=Math.round(i.indexToCoordinate(l)),u=this._source.properties(),p=[u.styles.baseLine,u.styles.downLine,u.styles.upLine],f=0;f<c.length;f++)p[f].visible.value()&&(g=c[f].startPrice,m=c[f].endPrice,o.isPercent()&&(g=o.priceRange().convertToPercent(g,s[TradingView.CLOSE_PLOT]),m=o.priceRange().convertToPercent(m,s[TradingView.CLOSE_PLOT])),v=o.priceToCoordinate(g,!0),y=o.priceToCoordinate(m,!0),b=new r(h,v),w=new r(d,y),S=p[f].color.value(),T=p[f].linewidth.value(),x=p[f].linestyle.value(),P={floatPoints:[b,w],width:this._model.timeScale().width(),
height:this._source.priceScale().height(),color:S,linewidth:T,linestyle:x,extendleft:!1,extendright:u.styles.extendLines.value(),leftend:_.Normal,rightend:_.Normal},this._lines.push(P));u.styles.showPearsons.value()&&(C=t.downLine.startPrice,o.isPercent()&&(C=o.priceRange().convertToPercent(C,s[TradingView.CLOSE_PLOT])),M=o.priceToCoordinate(C),k=new r(h,M),this._pearsons={points:[k],text:""+t.pearsons,color:u.styles.downLine.color.value(),vertAlign:"top",horzAlign:"center",font:"Arial",offsetX:0,offsetY:4,fontsize:12})}},o.prototype.getTransparencyResetLines=function(){return this._lines.map(function(t){var e=$.extend({},t);return e.color=p.resetTransparency(e.color),e})},o.prototype.renderer=function(){var t,e,i,o,n,r,s;for(this._invalidated&&(this.updateImpl(),this._invalidated=!1),t=new u,e=[this._lines[1],this._lines[0],this._lines[2]],i=[],o=0;o<e.length;o++)e[o]&&i.push(e[o]);for(o=1;o<i.length;o++)n={},n.points=[e[o].floatPoints[0],e[o].floatPoints[1],e[o-1].floatPoints[0],e[o-1].floatPoints[1]],n.color=e[o].color,n.width=this._model.timeScale().width(),n.height=this._source.priceScale().height(),n.linewidth=e[o].linewidth,n.linestyle=e[o].linestyle,n.extendleft=!1,n.extendright=e[o].extendright,n.backcolor=n.color,n.transparency=this._source.properties().styles.transparency.value(),n.skipLines=!0,n.fillBackground=!0,r=new a(new d(d.REGULAR),new d(d.REGULAR)),r.setData(n),t.append(r);for(s=this.getTransparencyResetLines(),o=0;o<this._lines.length;o++)r=new h,r.setData(s[o]),r.setHitTest(new d(d.REGULAR)),t.append(r);return this._pearsons&&(this._pearsons.color=p.resetTransparency(this._pearsons.color),this._pearsonsTextRenderer.setData(this._pearsons),t.append(this._pearsonsTextRenderer)),t},inherit(n,c),n.prototype.isVisible=function(){if(!this.properties().visible.value())return!1;var t=this.properties().styles;return t.upLine.visible.value()||t.downLine.visible.value()||t.baseLine.visible.value()},n.prototype.getStylesPropertyPage=function(){return f.StudyLinearRegressionStylesPropertyPage},e.LinearRegressionPaneView=o,e.study_LinearRegression=n},function(t,e,i){"use strict";function o(t,e,i){this._textSizeCache=e,this._data=t,this._fontSize=t.fontsize?t.fontsize:t.fontSize?t.fontSize:12,this._lineSpacing="number"==typeof this._data.lineSpacing&&this._data.lineSpacing?this._data.lineSpacing:0,t.lines=this._lines=l.prototype.wordWrap.call(this,t.text,t.wordWrapWidth),this._hittest=i||new c(c.MOVEPOINT)}function n(){var t=document.createElement("canvas");t.width=0,t.height=0,r=t.getContext("2d"),t=null}var r,s=i(8).Point,a=i(70).pointInRectangle,l=i(177).TextRenderer,c=i(11),h={priceRange:{width:15,height:14,
data:[134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255]},barsRange:{width:16,height:15,
data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,136,136,136,56,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,136,136,136,56,134,134,138,255,134,134,138,255,136,136,136,56,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,136,136,136,56,134,134,138,255,134,134,138,255,136,136,136,56,134,134,138,255,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,134,134,138,255,136,136,136,56,134,134,138,255,134,134,138,255,136,136,136,56,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,136,136,136,56,134,134,138,255,134,134,138,255,137,137,137,74,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,137,137,137,74,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},angle:{width:14,height:12,
data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,130,130,134,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255,134,134,138,255]}};o.prototype._preRender=function(){var t,e,i,o,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P;if(!this._preRendered){if(r||n(),t=this._data.points[0].x+(this._data.offsetX||0),e=t,i=this._data.points[0].y+(this._data.offsetY||0),o=i,a=this._fontSize,l=this._lineSpacing,c=a+l,h=c*this._lines.length-l,r.textBaseline="top",r.font=this.fontStyle(),d=[],this._data.wordWrapWidth)for(u=this._data.wordWrapWidth,p=0;p<this._lines.length;p++)d.push(this._data.wordWrapWidth);else for(u=0,p=0;p<this._lines.length;p++)f=r.measureText(this._lines[p]).width,d.push(f),u=Math.max(u,f);if(this._data.backgroundColor||this._data.borderColor||this._data.highlightBorder&&this._data.wordWrapWidth){_={top:this._data.paddingTop||0,right:this._data.paddingRight||0,bottom:this._data.paddingBottom||0,left:this._data.paddingLeft||0},g={x:0,y:0},this._data.backgroundHorzInflate&&(m=this._data.backgroundHorzInflate/2,_.left+=m,_.right+=m,g.x=-m),this._data.backgroundVertInflate&&(v=this._data.backgroundVertInflate/2,_.top+=v,_.bottom+=v,g.y=-v),y="number"==typeof this._data.padding?this._data.padding:~~(a/6);for(p in _)_[p]||(_[p]=y);b={x:Math.floor(t+g.x),y:Math.floor(i+g.y),w:Math.ceil(u+_.left+_.right),h:Math.ceil(h+_.top+_.bottom)},e+=_.left+g.x,o+=_.top+g.y,"bottom"!==this._data.vertAlign&&"middle"!==this._data.vertAlign||(w="middle"===this._data.vertAlign?i-b.h/2:i-b.h-(b.y-i),S=w-b.y,o+=S,b.y=w),
"right"!==this._data.horzAlign&&"center"!==this._data.horzAlign||(T="center"===this._data.horzAlign?t-b.w/2:t-b.w-(b.x-t),x=T-b.x,e+=x,b.x=T,!0!==this._data.doNotAlignText&&("right"===this._data.horzAlign?(r.textAlign="end",e+=u):(r.textAlign="center",e+=u/2))),b.w%2!=0&&b.w++,b.x+=.5,b.y+=.5,this._boundingRect=[new s(b.x,b.y),new s(b.x+b.w,b.y+b.h)],this._rect=b,this._padding=_,this._defaultPadding=y}else"bottom"!==this._data.vertAlign&&"middle"!==this._data.vertAlign||(o-=Math.round(h*("middle"===this._data.vertAlign?.5:1))),P=e,"right"!==this._data.horzAlign&&"center"!==this._data.horzAlign||(P-=Math.round(u*("center"===this._data.horzAlign?.5:1))),this._boundingRect=[new s(P,o),new s(P+u,o+h)];this._textPoint={x:e,y:o},this._textSizeCache&&(this._textSizeCache.widths=d),this._preRendered=!0,this._maxWidth=u}},o.prototype._drawIcon=function(t,e,i,o){var n,r,s,a;if(h.hasOwnProperty(o)){if(n=h[o],!n.src){for(n.src=document.createElement("canvas"),n.src.width=n.width,n.src.height=n.height,r=n.src.getContext("2d"),s=r.createImageData(n.width,n.height),a=0;a<n.data.length;a++)s.data[a]=n.data[a];r.putImageData(s,0,0)}t.drawImage(n.src,e,i)}},o.prototype.fontStyle=function(){return(this._data.bold?"bold ":"")+(this._data.italic?"italic ":"")+this._fontSize+"px "+this._data.font},o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h,d;if(0!==this._data.points.length){for(this._preRender(),e=this._fontSize,i=this._lineSpacing,o=e+i,t.textBaseline="top",t.font=this.fontStyle(),n=this._rect,(this._data.backgroundColor||this._data.borderColor||this._data.highlightBorder&&this._data.wordWrapWidth)&&this._rect?("right"!==this._data.horzAlign&&"center"!==this._data.horzAlign||!0!==this._data.doNotAlignText&&(t.textAlign="right"===this._data.horzAlign?"end":"center"),this._data.backgroundRoundRect?(t.roundRect(n.x,n.y,n.w,n.h,this._data.backgroundRoundRect),this._data.backgroundColor&&(t.fillStyle=this._data.backgroundColor,t.globalAlpha=this._data.backgroundTransparency,t.fill(),t.globalAlpha=1),this._data.borderColor&&(r="number"==typeof this._data.borderWidth?this._data.borderWidth:~~Math.max(e/12,1),t.strokeStyle=this._data.borderColor,t.lineWidth=r,t.stroke())):(this._data.backgroundColor&&(t.fillStyle=this._data.backgroundColor,t.globalAlpha=this._data.backgroundTransparency,t.fillRect(n.x,n.y,n.w,n.h),t.globalAlpha=1),this._data.borderColor?(r="number"==typeof this._data.borderWidth?this._data.borderWidth:~~Math.max(e/12,1),t.strokeStyle=this._data.borderColor,t.lineWidth=r,t.strokeRect(n.x-r/2,n.y-r/2,n.w+r,n.h+r)):this._data.highlightBorder&&(t.strokeStyle=this._data.color,t.lineWidth=1,t.beginPath(),l=[3,1],t.dashedLineTo(n.x-.5,a=n.y-.5,s=n.x+n.w+.5,a,l),t.dashedLineTo(s,a,s,a=n.y+n.h+.5,l),t.dashedLineTo(s=n.x-.5,a,n.x+n.w+.5,a,l),t.dashedLineTo(s,n.y-.5,s,a,l),t.globalAlpha=.5,t.stroke(),t.globalAlpha=1)),this._data.icons&&this._data.icons.forEach(function(e,i){var r=n.x+this._defaultPadding,s=n.y+this._padding.top+o*i;this._drawIcon(t,r,s,e)
},this)):"right"===this._data.horzAlign?t.textAlign="end":"center"===this._data.horzAlign&&(t.textAlign="center"),c=this._textPoint.x,h=this._textPoint.y,t.fillStyle=this._data.color,d=0;d<this._lines.length;d++)t.fillText(this._lines[d],c,h),h+=o;return{width:n.w+2}}},o.prototype.hitTest=function(t){return 0===this._data.points.length?null:(this._preRender(),this._boundingRect&&a(t,this._boundingRect[0],this._boundingRect[1])?this._hittest:null)},e.TrendLineStatsRenderer=o},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Entry=0]="Entry",t[t.Close=1]="Close",t[t.ActualEntry=2]="ActualEntry",t[t.ActualClose=3]="ActualClose"}(e.RiskRewardPointIndex||(e.RiskRewardPointIndex={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Waiting=0]="Waiting",t[t.Success=1]="Success",t[t.Failure=2]="Failure"}(e.AlertStatus||(e.AlertStatus={})),function(t){t[t.Up=1]="Up",t[t.Down=2]="Down"}(e.Direction||(e.Direction={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.RoundRadius=8]="RoundRadius",t[t.TextMargins=2]="TextMargins",t[t.MinWidth=100]="MinWidth"}(e.CalloutConsts||(e.CalloutConsts={}))},function(t,e,i){"use strict";function o(t,e){return t.compareTo(e)}function n(t){return Array.from(t).reduce(function(t,e){var i=+e;return-1===t.indexOf(i)&&t.push(i),t},[])}function r(t,e,i){var o=6e4,n=new Date(e.valueOf()+t*o);return t+(i.offset_loc(e)/o-i.offset_loc(n)/o)}var s,a,l,c,h,d,u,p;Object.defineProperty(e,"__esModule",{value:!0}),s=i(94),a=i(134),l=i(0),c=l.getLogger("Chart.Model.ExchangeSession"),h=[s.MONDAY,s.TUESDAY,s.WEDNESDAY,s.THURSDAY,s.FRIDAY],d=[s.SUNDAY,s.MONDAY,s.TUESDAY,s.WEDNESDAY,s.THURSDAY,s.FRIDAY,s.SATURDAY],u=function(){function t(t,e,i){this._dayOfWeek=t,this._start=e,this._length=i}return t.prototype.start=function(){return this._start},t.prototype.alignedStart=function(){return this._start<0?this._start+s.minutesPerDay:this._start},t.prototype.isOvernight=function(){return this._start<0},t.prototype.dayOfWeek=function(){return this._dayOfWeek},t.prototype.length=function(){return this._length},t.prototype.weight=function(){return this._dayOfWeek*s.minutesPerDay+this._start},t.prototype.compareTo=function(t){var e=this.weight(),i=e+this._length,o=t.weight();return e<=o&&o<i?0:e>o?1:-1},t}(),e.SessionEntry=u,p=function(){function t(t){void 0===t&&(t="0000-0000");var e=this;this._entries=[],this._firstDayOfWeek=s.MONDAY,this._weekEndsCount=null,"24x7"===t.toLowerCase()?d.forEach(function(t){e.addSessionEntry(t,0,0)}):this._parseSpec(t),this._entries.sort(o)}return t.prototype.entries=function(){return this._entries},t.prototype.firstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.addSessionEntry=function(t,e,i){i<=e&&0!==e&&(e-=s.minutesPerDay);var o=i===e?s.minutesPerDay:i-e;this._entries.push(new u(t,e,o))},t.prototype.isWeekEnd=function(t){var e=a.lowerbound(this._entries,new u(t,0,0),function(t,e){return t.dayOfWeek()<e.dayOfWeek()})
;return e>this._entries.length-1||this._entries[e].dayOfWeek()!==t},t.prototype.weekEndsCount=function(){if(null===this._weekEndsCount){var t={};this._entries.forEach(function(e){t[e.dayOfWeek()]=1}),this._weekEndsCount=7-Object.keys(t).reduce(function(e,i){return e+(t[+i]||0)},0)}return this._weekEndsCount},t.prototype.hasWeekEnds=function(){return this.weekEndsCount()>0},t.prototype.indexOfSessionEntry=function(t,e){var i=a.lowerbound(this._entries,new u(t,e,0),function(t,e){return t.compareTo(e)<0});return i>this._entries.length-1?0:i},t.prototype.findSessionEntry=function(t,e){return this._entries[this.indexOfSessionEntry(t,e)]},t.prototype.correctTradingDay=function(t,e){var i=s.get_day_of_week(t),o=60*s.get_hours(t)+s.get_minutes(t),n=this.findSessionEntry(i,o),r=n.dayOfWeek(),a=(r-i+7)%7;return 0!==a?s.add_days_considering_dst(e,t,a):t},t.prototype.alignToSessionStart=function(t,e){var i=s.get_day_of_week(t),o=s.get_minutes_from_midnight(t),n=this.findSessionEntry(i,o),a=n.alignedStart(),l=n.dayOfWeek(),c=n.isOvernight(),h=(l-i+7)%7-(c?1:0);return 0!==h&&s.add_date(t,h),s.set_hms(t,a/60|0,a%60,0,0),r(n.length(),t,e)},t.prototype._parseSpec=function(t){var e=this,i={},o=!1;t=this._parseFirstDayOfWeek(t),t.split("|").forEach(function(t){var e,r,s=t.split(":");if(1!==s.length&&2!==s.length)return void c.logError("Bad session section: "+t);if(e=1===s.length){if(o)return void c.logError("Duplicated default section: "+t);o=!0}r=e?h:n(s[1]),r.forEach(function(t){e&&i[t]||(i[t]=s[0])})}),d.forEach(function(o){var n=i[o];void 0!==n&&n.split(",").forEach(function(i){var n,r,a=i.split("-");2!==a.length&&(c.logError("Bad sessions spec: "+t),a=["0000","0000"]),n=a[0],r=a[1],e.addSessionEntry(o,s.get_minutes_from_hhmm(n),s.get_minutes_from_hhmm(r))})})},t.prototype._parseFirstDayOfWeek=function(t){var e,i,o,n=t.split(";");return n.length>2?(c.logError("Only one `first day` specification expected @ session "+t),t):1===n.length?t:(e=n[0].indexOf("-")>=0,i=e?NaN:parseInt(n[0]),o=1,isNaN(i)&&(o=0,i=parseInt(n[1])),i<s.SUNDAY||i>s.SATURDAY?(c.logError("Unexpected day index @ session: "+t+"; day index "+i),t):(this._firstDayOfWeek=i,n[o]))},t}(),e.ExchangeSession=p},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 12" width="14" height="12"><g fill="none" fill-rule="evenodd" stroke="#9DB2BD"><path d="M1 0l12 12M13 0L1 12"/></g></svg>'},function(t,e,i){"use strict";function o(t,e){this._source=e,this._properties=t,this._points=[new l(-1,-1)],this._invalidated=!0,this._lineRenderer=new h}function n(){this._data=null}function r(t){this._source=t,this._points=[],this._bandBgRenderer=new n}function s(t,e,i){this._source=t,this._points=[],a(e.type===d.FilledArea.TYPE_HLINES,"Wrong filledArea type: "+e.type),this._initBandIndexes(e.objAId,e.objBId),this._fillStyleProps=i,this._bandBgRenderer=new n}var a=i(9).assert,l=i(8).Point,c=i(36).clamp,h=i(156).HorizontalLineRenderer,d=i(39),u=i(33);o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){
var t,e=this._source.priceScale();if(!e||e.isEmpty())return void(this._points[0]=new l(-1,-1));t=this._properties.value.value(),isNumber(t)?this._points[0]=new l(-1,e.priceToCoordinate(t)):this._points[0]=new l(-1,NaN)},o.prototype.renderer=function(){this._invalidated&&(this.updateImpl(),this._invalidated=!1);var t={};return t.width=this._source.model().timeScale().width(),t.height=this._source.priceScale().height(),t.points=this._points,t.color=this._properties.color.value(),t.linewidth=this._properties.linewidth.value(),t.linestyle=this._properties.linestyle.value(),this._lineRenderer.setData(t),this._lineRenderer},n.prototype.setData=function(t){this._data=t},n.prototype.draw=function(t){var e,i,o;null!==this._data&&0!==this._data.points.length&&(e=t.canvas.width,t.fillStyle=u.generateColor(this._data.backcolor,this._data.transparency),i=Math.min(this._data.points[0],this._data.points[1]),o=Math.max(this._data.points[0],this._data.points[1]),t.fillRect(0,i,e,o-i))},n.prototype.hitTest=function(t){return null},r.prototype.update=function(){var t,e,i,o;this._points=[],t=this._source.properties().bandsBackground,t.fillBackground.value()&&(e=this._source.properties().bands[0],i=this._source.properties().bands[1],(o=this._source.priceScale())&&!o.isEmpty()&&(this._points.push(o.priceToCoordinate(e.value.value())),this._points.push(o.priceToCoordinate(i.value.value()))))},r.prototype.renderer=function(){var t={};return t.points=this._points,t.backcolor=this._source.properties().bandsBackground.backgroundColor.value(),t.transparency=this._source.properties().bandsBackground.transparency.value(),this._bandBgRenderer.setData(t),this._bandBgRenderer},s.prototype._initBandIndexes=function(t,e){var i,o;for(this._bandAKey=null,this._bandBKey=null,i=0;i<this._source.metaInfo().bands.length;++i)o=this._source.metaInfo().bands[i],null!==this._bandAKey||o.id!==t?null!==this._bandBKey||o.id!==e||(this._bandBKey=i):this._bandAKey=i},s.prototype.update=function(){var t,e,i;this._points=[],this._fillStyleProps.visible.value()&&(t=this._source.properties().bands[this._bandAKey],e=this._source.properties().bands[this._bandBKey],(i=this._source.priceScale())&&!i.isEmpty()&&(this._points.push(i.priceToCoordinate(t.value.value())),this._points.push(i.priceToCoordinate(e.value.value()))))},s.prototype.renderer=function(){var t,e=this._fillStyleProps.transparency.value();return e=c(e,0,100),t={},t.points=this._points,t.backcolor=u.generateColor(this._fillStyleProps.color.value(),e),t.transparency=this._fillStyleProps.transparency.value(),this._bandBgRenderer.setData(t),this._bandBgRenderer},e.BandPaneView=o,e.BandBackgroundPaneView=r,e.HlineFillPaneView=s},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(33),r=function(){function t(t){this.setData(t)}return t.prototype.setData=function(t){this._data=o.__assign({},t)},t.prototype.draw=function(t,e){var i,o,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S;this._data.visible&&(i=e.fontSize,t.font=e.font,o=e.tickLength,r=e.borderSize,s=e.paddingTop,
a=e.paddingBottom,l=e.paddingInner,c=e.paddingOuter,h=Math.ceil(e.widthCache.measureText(t,this._data.text)),d=e.baselineOffset,u=e.fontSize+s+a,p=r+h+l+c+o,f=this._data.coordinate,this._data.fixedCoordinate&&(f=this._data.fixedCoordinate),_=f-Math.floor(i/2)-s-.5,g=_+u,m=e.isLeft?e.width-r-.5:.5,v=m,t.fillStyle=n.resetTransparency(this._data.background),t.lineWidth=1,this._data.text&&(e.isLeft?(v=m-p,y=m-o,b=v+c):(v=m+p,y=m+o,b=m+r+o+l),t.beginPath(),t.moveTo(m,_),t.lineTo(v,_),t.lineTo(v,g),t.lineTo(m,g),t.fill(),t.beginPath(),t.strokeStyle=this._data.color,t.moveTo(m,f),t.lineTo(y,f),t.stroke(),t.textAlign="left",t.fillStyle=this._data.color,t.fillText(this._data.text,b,g-a-d)),this._data.secondLine&&(w=Math.ceil(e.widthCache.measureText(t,this._data.secondLine)),S=w+l+c,t.fillStyle=n.resetTransparency(this._data.background),this._data.text&&(_+=u+1,g+=u+1),e.isLeft?(v=Math.min(v,e.width-o),m=v+S,b=v+c):(m=Math.max(v-S,r),v=m+S,b=m+l),t.beginPath(),t.moveTo(m,_),t.lineTo(v,_),t.lineTo(v,g),t.lineTo(m,g),t.fill(),t.textAlign="left",t.fillStyle=this._data.color,t.fillText(this._data.secondLine,b,g-a-d)))},t.prototype.height=function(t,e){var i=t.fontSize+t.paddingTop+t.paddingBottom;return this._data.secondLine&&e?2*i+1:i},t}(),e.PriceAxisViewRenderer=r},function(t,e,i){"use strict";function o(t){this.items=t.items,this.barSpacing=t.barSpacing,this.histogramBase=t.histogramBase,this.lineColor=t.lineColor,this.lineWidth=t.lineWidth}var n=i(8).Point,r=i(51).distanceToSegment,s=i(42).selectionTolerance,a=i(11);o.prototype.draw=function(t){var e,i,o,n,r;for(t.translate(.5,.5),t.fillStyle=this.lineColor,e=this.lineWidth,i=0;i<this.items.length;++i)o=this.items[i],n=o.x,r=o.y,o.style&&(t.fillStyle=o.style.color,e=o.style.width),t.fillRect(Math.round(n-.5*e),r,e,this.histogramBase-r)},o.prototype.hitTest=function(t){var e,i,o,l,c,h=s(this.lineWidth);for(c=0;c<this.items.length;++c)if(e=this.items[c],i=e.x,o=e.y,l=r(new n(i,o),new n(i,this.histogramBase),new n(t.x,t.y)),l.distance<=h)return new a(a.REGULAR);return null},e.PaneRendererHistogram=TradingView.PaneRendererHistogram=o},function(t,e,i){"use strict";function o(t){this.items=t.items,this.barSpacing=t.barSpacing,this.histogramBase=t.histogramBase,this.lineColor=t.lineColor,this.lineWidth=t.lineWidth}var n=i(11);o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h,d,u,p;if(0!==this.items.length){for(e=this.barSpacing,i=this.lineColor,o=this.histogramBase,t.translate(.5,.5),n={},r=this.items,s=0;s<r.length;++s)a=r[s],l=0===s?null:r[s-1],c=a.style?a.style.color:i,h=n[c]||[],h.push({item:a,prev:l}),n[c]=h;for(c in n){for(h=n[c],t.fillStyle=c,t.strokeStyle=c,t.lineWidth=1,t.beginPath(),s=0;s<h.length;s++)a=h[s].item,d=Math.ceil(a.x-.5*e),u=Math.ceil(d+e),p=a.y,t.rect(d,p,u-d,o-p);for(t.fill(),t.beginPath(),s=0;s<h.length;s++)a=h[s].item,d=Math.ceil(a.x-.5*e),u=Math.ceil(d+e),p=a.y,l=h[s].prev,t.moveTo(u-.5,o),t.lineTo(u-.5,p+.5),t.lineTo(d+.5,p+.5),l&&l.y>p&&t.lineTo(d+.5,l.y);t.stroke()}}},o.prototype.hitTest=function(t){
var e,i,o,r=.5*this.barSpacing+this.lineWidth,s=t.x-r,a=t.x+r,l=this.items;for(e=l.length;e--;)if((i=l[e].x)>=s&&i<=a&&(o=l[e].y,t.y>=Math.min(o,this.histogramBase)&&t.y<=Math.max(o,this.histogramBase)))return new n(n.REGULAR);return null},e.PaneRendererColumns=TradingView.PaneRendererColumns=o},function(t,e,i){"use strict";function o(t){this.items=t.items,this.barSpacing=t.barSpacing,this.lineColor=t.lineColor,this.lineWidth=t.lineWidth,this.lineStyle=t.lineStyle}var n=i(8).Point,r=i(51).distanceToSegment,s=i(42).selectionTolerance,a=i(11);o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c=!1;for(o=0;o<this.items.length;++o)n=this.items[o],r=n.x,s=n.y,TradingView.isNaN(r)||TradingView.isNaN(s)||(null!=n.style?(a=n.style.color,e=n.style.width):(a=this.lineColor,e=this.lineWidth),a!==i&&(i=a,c&&t.fill(),t.beginPath(),t.fillStyle=a),l=3*e,t.rect(r-l/2,s-e/2,l,e),t.rect(r-e/2,s-l/2,e,l),c=!0);c&&t.fill()},o.prototype.hitTest=function(t){var e,i,o,l,c,h,d=s(this.lineWidth);for(h=1;h<this.items.length;++h)if(e=this.items[h-1],i=this.items[h],o=e.x,l=i.x,c=r(new n(o,e.y),new n(l,i.y),new n(t.x,t.y)),c.distance<=d)return new a(a.REGULAR);return null},e.PaneRendererCross=TradingView.PaneRendererCross=o},function(t,e,i){"use strict";function o(t){this.items=t.items,this.barSpacing=t.barSpacing,this.lineColor=t.lineColor||t.color,this.radius=t.lineWidth||t.height/2,this.vertOffset=t.vertOffset||0}var n=i(8).Point,r=i(42).selectionTolerance,s=i(11);o.prototype.draw=function(t){var e,i,o,n,r,s,a,l=2*Math.PI,c=!1;for(o=0;o<this.items.length;++o)n=this.items[o],r=n.x,s=n.y+this.vertOffset,TradingView.isNaN(r)||TradingView.isNaN(s)||(null!=n.style?(a=n.style.color,e=n.style.width):(a=this.lineColor,e=this.radius),a!==i&&(i=a,c&&t.fill(),t.beginPath(),t.fillStyle=a),t.moveTo(r+e,s),t.arc(r,s,e,0,l,!1),c=!0);c&&t.fill()},o.prototype.hitTest=function(t){var e,i,o,a=2*this.radius,l=this.vertOffset,c=r(a);for(e=0;e<this.items.length;++e)if((i=this.items[e])&&(o=new n(i.x,i.y+l),o.subtract(t).length()+this.radius<=c))return new s(s.REGULAR);return null},e.PaneRendererCircles=TradingView.PaneRendererCircles=o},function(t,e,i){"use strict";function o(t){this._items=t.items,this._y=t.y,this._h=t.h,this._w=t.w}o.prototype.draw=function(t){},o.prototype.drawBackground=function(t){var e,i,o;for(t.save(),t.translate(-.5,-.5),e=0;e<this._items.length;++e)i=this._items[e],null!=i.color&&(t.fillStyle=i.color,o=e===this._items.length-1?this._w:this._items[e+1].x-i.x,t.fillRect(i.x,this._y,o,this._h));t.restore()},o.prototype.hitTest=function(t){return null},e.PaneRendererBackground=TradingView.PaneRendererBackground=o},function(t,e,i){"use strict";var o,n,r,s,a,l,c;Object.defineProperty(e,"__esModule",{value:!0}),o=i(11),n=i(8),r=i(69),s=i(134),a=i(51),l=i(42),c=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){var e,i,o,n,s,a,l,c,h,d;if(null!==this._data&&0!==this._data.items.length){for(e=this._data,i=e.lineWidth,o=e.lineStyle,n=e.lineColor,s=e.items,t.save(),
t.lineCap="square",t.strokeStyle=n,t.lineWidth=i,i%2==0&&t.translate(-.5,-.5),void 0!==o&&r.setLineStyle(t,o),t.beginPath(),t.moveTo(s[0].x,s[0].y),a=s.length,l=0;l<a;l++)c=s[l],t.lineTo(c.x,c.y),(h=s[l+1])&&(d=Math.round((c.x+h.x)/2),t.lineTo(d,c.y),t.lineTo(d,h.y));t.stroke(),t.restore()}},t.prototype.hitTest=function(t){var e,i,r,c,h,d,u,p,f,_,g,m,v;if(null===this._data||0===this._data.items.length)return null;for(e=this._data,i=e.items,r=e.lineWidth,c=l.selectionTolerance(r),h=s.lowerbound(i,t,function(t,e){return t.x<=e.x}),d=Math.max(0,h-1),u=Math.min(i.length-1,h+1),p=d;p<u;p++)if(f=i[p],(_=i[p+1])&&(g=Math.round((f.x+_.x)/2),m=new n.Point(g,f.y),v=new n.Point(g,_.y),Math.min(a.distanceToSegment(f,m,t).distance,a.distanceToSegment(m,v,t).distance,a.distanceToSegment(v,_,t).distance)<=c))return new o(o.REGULAR);return null},t}(),e.PaneRendererStepLine=c},function(t,e,i){"use strict";function o(t,e){var i=function i(o){var n=i.cache,r=""+(e?e.apply(this,arguments):o);return n.hasOwnProperty(r)||(n[r]=t.apply(this,arguments)),n[r]};return i.cache={},i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,t.exports=e.default},function(t,e,i){"use strict";function o(t){s.call(this,t),this.width=this._calculateWidth(t.barSpacing),this._isUp=!1}function n(t){o.call(this,t),this._isUp=!0}function r(t){o.call(this,t),this._isUp=!1}var s=i(68).PaneRendererAbstractShape;inherit(o,s),o.prototype._calculateWidth=function(t){return t=t||this.barSpacing,Math.round(t/4)},o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=!1,h=this.width,d=Math.abs(this.height),u=h<4,p=Math.max(parseInt(h/2),1),f=Math.round(this.width/2),_=Math.round(this.width),g=this._isUp?-1:1;for(i=0,o=this.items.length;i<o;i++)n=this.items[i],r=n.x,s=n.y+this._vertOffset+g*Math.round(d/2),n.style&&null!=n.style.color?(a=n.style.color,l=n.style.borderColor):(a=this._color,l=this._borderColor),a!==e&&(e=a,c&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=a,t.strokeStyle=l),t.translate(r,s),u?(t.moveTo(0,0),t.lineTo(-f,-f*g),t.moveTo(0,0),t.lineTo(f,-f*g),t.moveTo(0,0),t.lineTo(0,-d*g),t.moveTo(-f,-d*g),t.lineTo(f,-d*g),t.lineWidth=p):(t.moveTo(0,0),d<_?(t.lineTo(h,-d*g),t.lineTo(-h,-d*g)):(t.lineTo(h,-_*g),t.lineTo(f,-_*g),t.lineTo(f,-d*g),t.lineTo(-f,-d*g),t.lineTo(-f,-_*g),t.lineTo(-h,-_*g)),t.lineTo(0,0)),t.translate(-r,-s),c=!0;c&&(t.fill(),t.stroke())},inherit(n,o),inherit(r,o),e.PaneRendererArrowBase=TradingView.PaneRendererArrowBase=o,e.PaneRendererArrowUp=TradingView.PaneRendererArrowUp=n,e.PaneRendererArrowDown=TradingView.PaneRendererArrowDown=r},function(t,e,i){"use strict";function o(t){n.call(this,t)}var n=i(68).PaneRendererAbstractShape;inherit(o,n),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=Math.max(this.width,this.height)/2,h=this._vertOffset,d=2*Math.PI,u=!1;for(i=0,o=this.items.length;i<o;i++)n=this.items[i],n.style&&null!=n.style.color?(r=n.style.color,s=n.style.borderColor):(r=this._color,s=this._borderColor),r!==e&&(e=r,u&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=r,t.strokeStyle=s),a=n.x,l=n.y+h,
t.moveTo(a+c,l),t.arc(a,l,c,0,d,!1),u=!0;u&&(t.fill(),t.stroke())},e.PaneRendererCircleShape=TradingView.PaneRendererCircleShape=o},function(t,e,i){"use strict";function o(t){n.call(this,t)}var n=i(68).PaneRendererAbstractShape;inherit(o,n),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c,h,d;for(t.lineWidth=2,e=this.width,i=this.height,o=this._vertOffset,r=!1,s=0,a=this.items.length;s<a;s++)l=this.items[s],c=l.style&&null!=l.style.color?l.style.color:this._color,c!==n&&(n=c,r&&t.stroke(),t.beginPath(),t.strokeStyle=c),h=l.x-e/2,d=l.y-i/2+o,t.moveTo(h+e/2,d),t.lineTo(h+e/2,d+i),t.moveTo(h,d+i/2),t.lineTo(h+e,d+i/2),r=!0;r&&t.stroke()},e.PaneRendererCrossShape=TradingView.PaneRendererCrossShape=o},function(t,e,i){"use strict";function o(t){n.call(this,t)}var n=i(68).PaneRendererAbstractShape;inherit(o,n),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=!1,h=Math.round(this.height/2);for(i=0,o=this.items.length;i<o;i++)n=this.items[i],n.style&&null!=n.style.color?(r=n.style.color,s=n.style.borderColor):(r=this._color,s=this._borderColor),r!==e&&(e=r,c&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=r,t.strokeStyle=s),a=n.x,l=n.y+this._vertOffset,t.moveTo(a,l-h),t.lineTo(a+h,l),t.lineTo(a,l+h),t.lineTo(a-h,l),t.lineTo(a,l-h),c=!0;c&&(t.fill(),t.stroke())},e.PaneRendererDiamond=TradingView.PaneRendererDiamond=o},function(t,e,i){"use strict";function o(t){n.call(this,t)}var n=i(68).PaneRendererAbstractShape;inherit(o,n),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=this.width,h=this.height,d=h/2,u=this._vertOffset,p=3,f=(c-p)/3,_=!1;for(i=0,o=this.items.length;i<o;i++)n=this.items[i],n.style&&null!=n.style.color?(r=n.style.color,s=n.style.borderColor):(r=this._color,s=this._borderColor),r!==e&&(e=r,_&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=r,t.strokeStyle=s),a=n.x-c/2,l=n.y-d+u,t.moveTo(a,l),t.lineTo(a+p,l),t.bezierCurveTo(a+f,l-f,a+2*f,l+f,a+c,l),t.lineTo(a+c,l+d),t.bezierCurveTo(a+c-f,l+d+f,a+c-2*f,l+d-f,a+p,l+d),t.lineTo(a+p,l+h),t.lineTo(a,l+h),t.lineTo(a,l),_=!0;_&&(t.fill(),t.stroke())},e.PaneRendererFlagShape=TradingView.PaneRendererFlagShape=o},function(t,e,i){"use strict";function o(t,e){l.call(this,t),this._isUp=e,this._stepX=Math.round(this.height/2*.65)+.5,this._stepY=Math.round(this.height/2)+.5,this._textCache?(this._padding=this._stepX/2,this._shapeWidth=this._textImageWidth+2*this._stepX,this._shapeHeight=this._textImageHeight+2*this._padding+this._stepY,0===this._vertOffset?this._isUp?this._textVertOffset=this._stepY+this._padding+this._textImageHeight:this._textVertOffset=-this._stepY-this._padding:this._textVertOffset=this._vertOffset>0?this._stepY+this._padding:-this._stepY-this._padding):(this._padding=0,this._shapeWidth=2*this._stepX,this._shapeHeight=2.5*this._stepY)}function n(t){o.call(this,t,!0)}function r(t){o.call(this,t,!1)}var s=i(8).Point,a=i(11),l=i(68).PaneRendererAbstractShape;inherit(o,l),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=!1,h=this._isUp?1:-1,d=Math.round(this._shapeWidth/2)-.5,u=Math.round(this._shapeHeight)-.5,p=0
;for(0!==this._vertOffset&&this._vertOffset<0===this._isUp&&(p=-h*Math.round(u+this._stepY)),i=0,o=this.items.length;i<o;i++)n=this.items[i],r=n.x+.5,s=n.y+this._vertOffset+p+.5,n.style&&null!=n.style.color?(a=n.style.color,l=n.style.borderColor):(a=this._color,l=this._borderColor),a!==e&&(e=a,c&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=a,t.strokeStyle=l),t.translate(r,s),t.moveTo(0,0),t.lineTo(this._stepX,this._stepY*h),t.lineTo(d,this._stepY*h),t.lineTo(d,u*h),t.lineTo(-d,u*h),t.lineTo(-d,this._stepY*h),t.lineTo(-this._stepX,this._stepY*h),t.lineTo(0,0),t.translate(-r,-s),c=!0;c&&(t.fill(),t.stroke())},o.prototype.hitTest=function(t,e){var i,o,n,r,l,c,h,d,u,p,f,_,g,m,v=this._stepY/2,y=this._vertOffset,b=this._isUp?1:-1;for(o=0;o<this.items.length;++o)if(n=this.items[o]){if(r=b*v,0!==this._vertOffset&&this._vertOffset<0===this._isUp&&(r=-b*(this._shapeHeight+v)),i=new s(n.x,n.y+y+r),i.subtract(t).length()<=v)return new a(a.REGULAR);if(l=this._shapeWidth/2,r=0,0!==this._vertOffset&&this._vertOffset<0===this._isUp&&(r=-b*(this._shapeHeight+this._stepY)),c=n.y+y+r,h=this._isUp?this._stepY:-this._shapeHeight,d=this._isUp?this._shapeHeight:-this._stepY,u=t.x,p=t.y,f=n.x-l,_=c+h,g=n.x+l,m=c+d,u>f&&u<g&&p>_&&p<m)return new a(a.REGULAR)}return null},inherit(n,o),inherit(r,o),e.PaneRendererLabelBase=TradingView.PaneRendererLabelBase=o,e.PaneRendererLabelUp=TradingView.PaneRendererLabelUp=n,e.PaneRendererLabelDown=TradingView.PaneRendererLabelDown=r},function(t,e,i){"use strict";function o(t){n.call(this,t)}var n=i(68).PaneRendererAbstractShape;inherit(o,n),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c=!1,h=Math.round(this.height/2);for(i=0,o=this.items.length;i<o;i++)n=this.items[i],n.style&&null!=n.style.color?(r=n.style.color,s=n.style.borderColor):(r=this._color,s=this._borderColor),r!==e&&(e=r,c&&(t.fill(),t.stroke()),t.beginPath(),t.fillStyle=r,t.strokeStyle=s),a=n.x-h,l=n.y+this._vertOffset-h,t.rect(a,l,this.height,this.height),c=!0;c&&(t.fill(),t.stroke())},e.PaneRendererSquare=TradingView.PaneRendererSquare=o},function(t,e,i){"use strict";function o(t){n.call(this,t)}var n=i(68).PaneRendererAbstractShape;inherit(o,n),o.prototype.drawShape=function(t){var e,i,o,n,r,s,a,l,c,h,d;for(t.lineWidth=2,e=this.width,i=this.height,o=this._vertOffset,r=!1,s=0,a=this.items.length;s<a;s++)l=this.items[s],c=l.style&&null!=l.style.color?l.style.color:this._color,c!==n&&(n=c,r&&t.stroke(),t.beginPath(),t.strokeStyle=c),h=l.x-e/2,d=l.y-i/2+o,t.moveTo(h,d),t.lineTo(h+e,d+i),t.moveTo(h,d+i),t.lineTo(h+e,d),r=!0;r&&t.stroke()},e.PaneRendererXCross=TradingView.PaneRendererXCross=o},function(t,e,i){"use strict";function o(){this._data=null}function n(t){this._source=t,this._points1=[],this._points2=[],this._timePoints=[],this._getBarSpacing=t.model().timeScale().barSpacing.bind(t.model().timeScale()),this._invalidated=!0,this._areaRenderer=new o}function r(t){n.call(this,t)}function s(t,e,i){var o,r;if(n.call(this,t),this._isHlineFill=e.type===h.FilledArea.TYPE_HLINES,
a(this._isHlineFill||e.type===h.FilledArea.TYPE_PLOTS,"Wrong filledArea type: "+e.type),this._isHlineFill&&this._initBandIndexes(e.objAId,e.objBId),this._fillMetaInfo=e,this._fillStyleProps=i,o=t._metaInfo,e.palette)for(r in o.plots)if(o.plots[r].palette===e.palette){this._colorPlotOffset=parseInt(r),this._colorsMap=o.palettes[e.palette].valToIndex,this._colorValues=t.properties().palettes[e.palette].colors;break}}var a=i(9).assert,l=i(11),c=i(42).coordinateIsValid,h=i(39),d=i(33),u=i(36).clamp,p=i(24).PlotRowSearchMode;o.prototype.setData=function(t){this._data=t},o.prototype.hitTest=function(t){var e,i,o;if(null===this._data)return null;for(o=1;o<this._data.points1.length;++o)if(e=this._data.points1[o],i=this._data.points2[o],this._data.timePoints[o]===t.x&&(t.y>=e&&t.y<=i||t.y<=e&&t.y>=i))return new l(l.REGULAR);return null},o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,h,u,p,f,_,g,m,v,y,b;if(null!==this._data&&((e=this._data.isHlineFill)||0!==this._data.points1.length&&0!==this._data.points2.length)){for(i=this._data.timePoints,o=this._data.points1,n=this._data.points2,r=this._data.colors,s=isNumber(this._data.transparency)?this._data.transparency:50,s=Math.min(s,100),s=Math.max(s,0),a={},l=[],u=0;u<this._data.timePoints.length;u++)p={point1:e?this._data.level1:o[u],point2:e?this._data.level2:n[u],timePoint:i[u]},f=c(p.point1)&&c(p.point2),f&&(h=r&&r[u]?r[u]:this._data.backcolor,l.push(p)),(u===this._data.timePoints.length-1||r&&h!==r[u+1]||!f)&&(l.length>0&&(_=a[h]||[],_.push(l),a[h]=_),l=f?[p]:[]);for(g in a){for(m=a[g],t.beginPath(),v=0;v<m.length;v++){for(y=m[v],t.moveTo(y[0].timePoint,y[0].point1),b=1;b<y.length;b++)t.lineTo(y[b].timePoint,y[b].point1);for(b=y.length-1;b>=0;b--)t.lineTo(y[b].timePoint,y[b].point2)}t.closePath(),t.fillStyle=d.generateColor(g,s),t.fill()}}},n.prototype.update=function(){this._invalidated=!0},n.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k;if(this._points1=[],this._points2=[],this._colorsMap&&(this._colors=[]),this._timePoints=[],this._visible()&&(t=this._source.priceScale(),e=this._source._model.timeScale(),t&&!t.isEmpty()&&!this._source._model.timeScale().isEmpty()&&!(this._source._series.bars().isEmpty()||(this._isHlineFill&&(i=this._source.properties().bands[this._bandAKey],o=this._source.properties().bands[this._bandBKey],this._level1=t.priceToCoordinate(i.value.value()),this._level2=t.priceToCoordinate(o.value.value())),n=this._source.data().plotNames().indexOf(this._plotAId())+1,r=this._source.data().plotNames().indexOf(this._plotBId())+1,null===(s=this._source._model.timeScale().visibleBars())||(a=this._source._series.nearestIndex(s.firstBar(),p.NearestRight),l=this._source._series.nearestIndex(s.lastBar(),p.NearestLeft),(a=this._correctStartBarIndex(a))>l))))){if(c=this._source.data().range(a,l),c.size()>0)for(h=this._source.firstValue(),d=c.firstIndex(),u=c.lastIndex(),f=this._source.offset(this._plotAId()),_=this._source.offset(this._plotBId()),g=Math.max(f,_),m=Math.min(f,_),v=d+g,y=this._source.data().firstIndex(),
d>y&&(v=d<g+y?g+y:d),b=u+m,w=this._source.data().lastIndex(),u>w+m&&u<w&&(b=w+m),m<0&&u<=w+m&&(b=u),S=v<d?d+g:v>u?d+g:v,T=v;T<=b;++T)this._timePoints.push(e.indexToCoordinate(S++)),this._colors&&null!=(x=this._source.data().valueAt(T-m)[this._colorPlotOffset+1])&&this._colors.push(this._colorValues[this._colorsMap[x]].color.value()),this._isHlineFill||(P=this._source.data().valueAt(T-f),C=this._source.data().valueAt(T-_),M=P[n],k=C[r],t.isPercentage()&&(M=100*(M-h)/h,k=100*(k-h)/h),this._points1.push(M),this._points2.push(k));t.pricesArrayToCoordinates(this._points1),t.pricesArrayToCoordinates(this._points2)}},n.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var t={};return t.points1=this._points1,t.points2=this._points2,t.timePoints=this._timePoints,t.getBarSpacing=this._getBarSpacing,t.backcolor=this._color(),t.transparency=this._transparency(),t.isHlineFill=this._isHlineFill,t.level1=this._level1,t.level2=this._level2,this._colors&&(t.colors=this._colors),this._areaRenderer.setData(t),this._areaRenderer},n.prototype._plotAId=function(){a(!1,"Pure virtual call!")},n.prototype._plotBId=function(){a(!1,"Pure virtual call!")},n.prototype._color=function(){a(!1,"Pure virtual call!")},n.prototype._transparency=function(){a(!1,"Pure virtual call!")},n.prototype._visible=function(){a(!1,"Pure virtual call!")},n.prototype._correctStartBarIndex=function(t){return t},inherit(r,n),r.prototype._plotAId=function(){return this._source.properties().area[0].name.value()},r.prototype._plotBId=function(){return this._source.properties().area[1].name.value()},r.prototype._color=function(){return this._source.properties().areaBackground.backgroundColor.value()},r.prototype._transparency=function(){var t=this._source.properties().areaBackground.transparency.value();return u(t,0,100)},r.prototype._visible=function(){return this._source.properties().areaBackground.fillBackground.value()},inherit(s,n),s.prototype._initBandIndexes=function(t,e){var i,o;for(this._bandAKey=null,this._bandBKey=null,i=0;i<this._source.metaInfo().bands.length;++i)o=this._source.metaInfo().bands[i],null!==this._bandAKey||o.id!==t?null!==this._bandBKey||o.id!==e||(this._bandBKey=i):this._bandAKey=i},s.prototype._plotAId=function(){return this._fillMetaInfo.objAId},s.prototype._plotBId=function(){return this._fillMetaInfo.objBId},s.prototype._color=function(){return this._fillStyleProps.color.value()},s.prototype._transparency=function(){return this._fillStyleProps.transparency.value()},s.prototype._visible=function(){return this._fillStyleProps.visible.value()},s.prototype._correctStartBarIndex=function(t){var e=this._source.getMinFirstBarIndexForPlot(this._fillMetaInfo.id);return Math.max(e,t)},e.PlotFillPaneView=s,e.AreaBackgroundPaneView=r},function(t,e,i){"use strict";function o(t,e){var i,o,a,l,c;return e||(e={}),"function"==typeof e&&(e={cmp:e}),i=e.space||"","number"==typeof i&&(i=Array(i+1).join(" ")),o="boolean"==typeof e.cycles&&e.cycles,a=e.replacer||function(t,e){return e},l=e.cmp&&function(t){
return function(e){return function(i,o){var n={key:i,value:e[i]},r={key:o,value:e[o]};return t(n,r)}}}(e.cmp),c=[],function t(e,h,d,u){var p,f,_,g,m,v,y=i?"\n"+Array(u+1).join(i):"",b=i?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=a.call(e,h,d))){if("object"!==(void 0===d?"undefined":n(d))||null===d)return JSON.stringify(d);if(r(d)){for(p=[],f=0;f<d.length;f++)_=t(d,f,d[f],u+1)||JSON.stringify(null),p.push(y+i+_);return"["+p.join(",")+y+"]"}if(-1!==c.indexOf(d)){if(o)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(c.push(d),g=s(d).sort(l&&l(d)),p=[],f=0;f<g.length;f++)h=g[f],(m=t(d,h,d[h],u+1))&&(v=JSON.stringify(h)+b+m,p.push(y+i+v));return c.splice(c.indexOf(d),1),"{"+p.join(",")+y+"}"}}({"":t},"",t,0)}var n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.sortedStringify=o,r=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},s=Object.keys||function(t){var e,i=Object.prototype.hasOwnProperty||function(){return!0},o=[];for(e in t)i.call(t,e)&&o.push(e);return o}},function(t,e){},function(t,e,i){"use strict";function o(t,e){this.array=[];for(var i in t)t[i].key=i,this.array.push(t[i]);this.rearrange(e)}o.prototype.rearrange=function(t){if("function"!=typeof t)throw Error("sort param is not a function");return this.array.sort(t)},o.byValue=function(t){return function(t,e){return t-e}},o.byField=function(t){return function(e,i){return e[t]>i[t]?1:e[t]<i[t]?-1:e[t]===i[t]?0:void 0}},o.byOrder=function(t){return function(e,i){return t.indexOf(e.key)-t.indexOf(i.key)}},t.exports=o},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M20.449 8.505l2.103 9.112.974-.225-2.103-9.112zM13.943 14.011l7.631 4.856.537-.844-7.631-4.856zM14.379 11.716l4.812-3.609-.6-.8-4.812 3.609zM10.96 13.828l-4.721 6.744.819.573 4.721-6.744zM6.331 20.67l2.31-13.088-.985-.174-2.31 13.088zM9.041 7.454l1.995 3.492.868-.496-1.995-3.492z"/><path d="M8.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM12.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM20.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M21.487 5.248l-12.019 1.502.124.992 12.019-1.502zM6.619 9.355l-2.217 11.083.981.196 2.217-11.083zM6.534 22.75l12.071-1.509-.124-.992-12.071 1.509zM21.387 18.612l2.21-11.048-.981-.196-2.21 11.048zM8.507 9.214l10.255 10.255.707-.707-10.255-10.255z"/><path d="M7.5 9c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM4.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM20.5 22c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M8.013 23.846c4.923 2.247 9.792 2.626 13.448-.517l-.652-.758c-3.277 2.817-7.775 2.467-12.381.365l-.415.91z"/><path d="M24.035 20.056c2.262-4.176 1.814-8.73-.13-12.98l-.909.416c1.826 3.993 2.244 8.24.16 12.088l.879.476z"/><path d="M8.221 21.401l13.249-14.077-.728-.685-13.249 14.077z"/><path d="M6.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 23c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M7.354 21.354l14-14-.707-.707-14 14z"/><path d="M21 7l-8 3 5 5z"/><path fill-rule="nonzero" d="M22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M17 12v-6h-6v6h-4.865l7.865 9.438 7.865-9.438h-4.865zm-7-7h8v6h6l-10 12-10-12h6v-6z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M16 17h6v-6h-6v-4.865l-9.438 7.865 9.438 7.865v-4.865zm7 1h-6v6l-12-10 12-10v6h6v8z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M12 11h-6v6h6v4.865l9.438-7.865-9.438-7.865v4.865zm-7 7v-8h6v-6l12 10-12 10v-6h-6z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M11 16v6h6v-6h4.865l-7.865-9.438-7.865 9.438h4.865zm7 7h-8v-6h-6l10-12 10 12h-6v6z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M9.586 18h7.414c3.309 0 6-2.689 6-6 0-3.309-2.687-6-5.994-6h-5.012c-3.306 0-5.994 2.686-5.994 5.994v9.592l3.586-3.586zm-4.586 6v-12.006c0-3.863 3.137-6.994 6.994-6.994h5.012c3.863 0 6.994 3.142 6.994 7 0 3.866-3.142 7-7 7h-7l-5 5z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M6 6v6.5h1v-6.5zM7 22v-2.5h-1v2.5zM11 11v2.5h1v-2.5zM12 24v-7.5h-1v7.5zM16 5v5.5h1v-5.5zM17 21v-2.5h-1v2.5zM21 7v4.5h1v-4.5zM22 19v-2.5h-1v2.5z"/><path d="M6 13v6h1v-6h-1zm-1-1h3v8h-3v-8z"/><path d="M11 16h1v-2h-1v2zm-1-3h3v4h-3v-4z"/><path d="M16 18h1v-7h-1v7zm-1-8h3v9h-3v-9z"/><path d="M21 16h1v-4h-1v4zm-1-5h3v6h-3v-6z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M17.605 19.584c.295-2.304-.584-3.586-3.274-5.959-2.462-2.172-3.191-3.241-2.94-5.111l-.991-.133c-.312 2.322.567 3.61 3.269 5.994 2.452 2.163 3.181 3.227 2.943 5.083l.992.127z"/><path d="M6.053 24.868c3.772 1.644 7.307 1.643 9.712-1.249l-.769-.64c-2.045 2.458-5.133 2.459-8.544.972l-.4.917z"/><path d="M12.949 5.087c2.044-2.525 5.157-2.54 8.602-1.036l.4-.917c-3.81-1.663-7.376-1.646-9.779 1.324l.777.629z"/><path d="M4.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM16.5 23c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM11.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 6c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M6.256 20.652c.548-3.024 1.607-5.962 3.329-8.312l-.807-.591c-1.825 2.493-2.933 5.565-3.506 8.725l.984.178z"/><path d="M12.243 9.657c2.365-1.764 5.345-2.846 8.416-3.402l-.178-.984c-3.21.581-6.326 1.712-8.836 3.584l.598.802z"/><path d="M10.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M1.789 23l.859-.854.221-.228c.18-.19.38-.409.597-.655.619-.704 1.238-1.478 1.815-2.298.982-1.396 1.738-2.776 2.177-4.081 1.234-3.667 5.957-4.716 8.923-1.263 3.251 3.785-.037 9.38-5.379 9.38h-9.211zm9.211-1c4.544 0 7.272-4.642 4.621-7.728-2.45-2.853-6.225-2.015-7.216.931-.474 1.408-1.273 2.869-2.307 4.337-.599.852-1.241 1.653-1.882 2.383l-.068.078h6.853z"/><path d="M18.182 6.002l-1.419 1.286c-1.031.935-1.075 2.501-.096 3.48l1.877 1.877c.976.976 2.553.954 3.513-.045l5.65-5.874-.721-.693-5.65 5.874c-.574.596-1.507.609-2.086.031l-1.877-1.877c-.574-.574-.548-1.48.061-2.032l1.419-1.286-.672-.741z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M6 21.586l3.586-3.586h13.407c.004 0 .007-11.993.007-11.993 0-.007-17-.007-17-.007v15.586zm-1 2.414v-18.005c0-.549.451-.995.995-.995h17.01c.549 0 .995.45.995 1.007v11.986c0 .556-.45 1.007-1.007 1.007h-12.993l-5 5z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M23 4v21h1v-21z"/><path d="M17 4v21h1v-21z"/><path d="M5 16.5v8.5h1v-8.5z"/><path d="M5 4v8.5h1v-8.5z"/><path d="M5.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path d="M11 16.5v8.5h1v-8.5z"/><path d="M11 4v8.5h1v-8.5z"/><path d="M11.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path d="M15.246 21.895l1.121.355c-.172.625-.458 1.089-.857 1.393-.4.303-.907.455-1.521.455-.76 0-1.385-.26-1.875-.779-.49-.52-.734-1.23-.734-2.131 0-.953.246-1.693.738-2.221.492-.527 1.139-.791 1.941-.791.701 0 1.27.207 1.707.621.26.245.456.596.586 1.055l-1.145.273c-.068-.297-.209-.531-.424-.703-.215-.172-.476-.258-.783-.258-.424 0-.769.152-1.033.457-.264.305-.396.798-.396 1.48 0 .724.13 1.24.391 1.547.26.307.599.461 1.016.461.307 0 .572-.098.793-.293.221-.195.38-.503.477-.922z"/><path fill-rule="nonzero" d="M20.449 8.505l2.103 9.112.974-.225-2.103-9.112zM13.943 14.011l7.631 4.856.537-.844-7.631-4.856zM14.379 11.716l4.812-3.609-.6-.8-4.812 3.609zM10.96 13.828l-4.721 6.744.819.573 4.721-6.744zM6.331 20.67l2.31-13.088-.985-.174-2.31 13.088zM9.041 7.454l1.995 3.492.868-.496-1.995-3.492z"/><path fill-rule="nonzero" d="M8.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM12.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM20.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M6.5 23v1h17.5v-17.5h-1v16.5z"/><path fill-rule="nonzero" d="M21.5 5v-1h-17.5v17.5h1v-16.5z"/><path fill-rule="nonzero" d="M4.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 6c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path fill-rule="nonzero" d="M13 9v13h1v-13z" id="Line"/><path d="M13.5 6l2.5 3h-5z"/><path fill-rule="nonzero" d="M19 14h-13v1h13z"/><path d="M19 17v-5l3 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M20 14h-14v1h14z" id="Line"/><path d="M20 17v-5l3 2.5z"/><path fill-rule="nonzero" d="M24 8.5v16.5h1v-16.5zM4 4v16.5h1v-16.5z"/><path fill-rule="nonzero" d="M4.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M20.534 4.664l-13.318 4.701.333.943 13.318-4.701zM20.802 22.371l-13.285-4.689-.333.943 13.285 4.689z"/><path d="M5.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 6c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 19c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M5.238 18.469l4.17-4.17-.707-.707-4.17 4.17zM16.47 17.763l-.707.707-4.265-4.265.707-.707zM22.747 13.546l-4.192 4.192.707.707 4.192-4.192z"/><path fill-rule="nonzero" d="M10.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path d="M13.746 7h-1.258l-.5-1.301h-2.289l-.473 1.301h-1.227l2.23-5.727h1.223l2.293 5.727zm-2.129-2.266l-.789-2.125-.773 2.125h1.563z"/><path d="M26.246 4.895l1.121.355c-.172.625-.458 1.089-.857 1.393-.4.303-.907.455-1.521.455-.76 0-1.385-.26-1.875-.779-.49-.52-.734-1.23-.734-2.131 0-.953.246-1.693.738-2.221.492-.527 1.139-.791 1.941-.791.701 0 1.27.207 1.707.621.26.245.456.596.586 1.055l-1.145.273c-.068-.297-.209-.531-.424-.703-.215-.172-.476-.258-.783-.258-.424 0-.769.152-1.033.457-.264.305-.396.798-.396 1.48 0 .724.13 1.24.391 1.547.26.307.599.461 1.016.461.307 0 .572-.098.793-.293.221-.195.38-.503.477-.922z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M5.238 18.469l4.17-4.17-.707-.707-4.17 4.17zM16.47 17.763l-.707.707-4.265-4.265.707-.707zM22.747 13.546l-4.192 4.192.707.707 4.192-4.192z"/><path fill-rule="nonzero" d="M10.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path d="M8.395 7l-1.367-5.727h1.184l.863 3.934 1.047-3.934h1.375l1.004 4 .879-4h1.164l-1.391 5.727h-1.227l-1.141-4.281-1.137 4.281z"/><path d="M24.086 7v-2.41l-2.098-3.316h1.355l1.348 2.266 1.32-2.266h1.332l-2.105 3.324v2.402z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M5.238 18.469l4.17-4.17-.707-.707-4.17 4.17zM16.47 17.763l-.707.707-4.265-4.265.707-.707zM22.747 13.546l-4.192 4.192.707.707 4.192-4.192z"/><path fill-rule="nonzero" d="M10.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path d="M11.148 7h-1.098v-4.137c-.401.375-.874.652-1.418.832v-.996c.286-.094.598-.271.934-.533.336-.262.566-.567.691-.916h.891v5.75z"/><path d="M23.355 5.527l1.094-.113c.031.247.124.443.277.588.154.145.331.217.531.217.229 0 .423-.093.582-.279.159-.186.238-.467.238-.842 0-.352-.079-.615-.236-.791-.158-.176-.363-.264-.615-.264-.315 0-.598.139-.848.418l-.891-.129.563-2.98h2.902v1.027h-2.07l-.172.973c.245-.122.495-.184.75-.184.487 0 .9.177 1.238.531.339.354.508.814.508 1.379 0 .471-.137.892-.41 1.262-.372.505-.889.758-1.551.758-.529 0-.96-.142-1.293-.426-.333-.284-.533-.665-.598-1.145z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M5.238 18.469l4.17-4.17-.707-.707-4.17 4.17zM16.47 17.763l-.707.707-4.265-4.265.707-.707zM22.747 13.546l-4.192 4.192.707.707 4.192-4.192z"/><path fill-rule="nonzero" d="M10.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path d="M13.746 7h-1.258l-.5-1.301h-2.289l-.473 1.301h-1.227l2.23-5.727h1.223l2.293 5.727zm-2.129-2.266l-.789-2.125-.773 2.125h1.563z"/><path d="M22.582 7v-5.727h4.246v.969h-3.09v1.27h2.875v.965h-2.875v1.559h3.199v.965z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M5.238 18.469l4.17-4.17-.707-.707-4.17 4.17zM16.47 17.763l-.707.707-4.265-4.265.707-.707zM22.747 13.546l-4.192 4.192.707.707 4.192-4.192z"/><path fill-rule="nonzero" d="M10.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path d="M8.395 7l-1.367-5.727h1.184l.863 3.934 1.047-3.934h1.375l1.004 4 .879-4h1.164l-1.391 5.727h-1.227l-1.141-4.281-1.137 4.281z"/><path d="M22.086 7v-1.043l3.008-3.715h-2.668v-.969h4.191v.898l-3.137 3.863h3.258v.965z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M12.435 6.136c-4.411.589-7.983 3.039-9.085 6.27l.946.323c.967-2.836 4.209-5.059 8.271-5.602l-.132-.991zM3.347 16.584c1.101 3.243 4.689 5.701 9.117 6.283l.13-.991c-4.079-.537-7.335-2.767-8.301-5.613l-.947.321zM16.554 22.865c4.381-.582 7.94-3 9.071-6.2l-.943-.333c-.994 2.811-4.224 5.006-8.26 5.542l.132.991zM25.646 12.394c-1.107-3.225-4.675-5.668-9.078-6.257l-.133.991c4.056.542 7.293 2.76 8.265 5.591l.946-.325z"/><path d="M14.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM14.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM25.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M4.354 25.354l5-5-.707-.707-5 5z"/><path d="M12.354 17.354l5-5-.707-.707-5 5z"/><path d="M20.354 9.354l5-5-.707-.707-5 5z"/><path d="M18.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM10.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.463 12.026l13.537-7.167-.468-.884-13.537 7.167z"/><path d="M22.708 16.824l-17.884 9.468.468.884 17.884-9.468z"/><path d="M22.708 9.824l-15.839 8.386.468.884 15.839-8.386z"/><path d="M5.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M23.868 7.825c2.791 3.916 2.918 9.33-.065 13.435-3.733 5.138-10.925 6.277-16.063 2.544l.721-.714c4.682 3.294 11.157 2.229 14.534-2.418 2.641-3.635 2.657-8.502.153-12.133l.721-.714z"/><path d="M8.477 5.899c3.584-2.509 8.298-2.514 11.865-.127l.718-.721c-3.845-2.669-9.099-2.813-13.157.028-5.203 3.643-6.467 10.814-2.824 16.016l.718-.721c-3.201-4.737-2.022-11.185 2.68-14.476z"/><path d="M14.5 22c4.142 0 7.5-3.358 7.5-7.5 0-4.142-3.358-7.5-7.5-7.5-4.142 0-7.5 3.358-7.5 7.5 0 4.142 3.358 7.5 7.5 7.5zm0 1c-4.694 0-8.5-3.806-8.5-8.5s3.806-8.5 8.5-8.5 8.5 3.806 8.5 8.5-3.806 8.5-8.5 8.5z"/><path d="M14.5 19c2.485 0 4.5-2.015 4.5-4.5s-2.015-4.5-4.5-4.5-4.5 2.015-4.5 4.5 2.015 4.5 4.5 4.5zm0 1c-3.038 0-5.5-2.462-5.5-5.5s2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5-2.462 5.5-5.5 5.5z"/><path d="M22.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM6.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M3 5h22v-1h-22z"/><path d="M3 17h22v-1h-22z"/><path d="M3 11h19.5v-1h-19.5z"/><path d="M5.5 23h19.5v-1h-19.5z"/><path d="M3.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M8 9.5c0 3.038 2.462 5.5 5.5 5.5s5.5-2.462 5.5-5.5v-.5h-1v.5c0 2.485-2.015 4.5-4.5 4.5s-4.5-2.015-4.5-4.5v-.5h-1v.5z"/><path d="M0 9.5c0 7.456 6.044 13.5 13.5 13.5s13.5-6.044 13.5-13.5v-.5h-1v.5c0 6.904-5.596 12.5-12.5 12.5s-12.5-5.596-12.5-12.5v-.5h-1v.5z"/><path d="M4 9.5c0 4.259 2.828 7.964 6.86 9.128l.48.139.277-.961-.48-.139c-3.607-1.041-6.137-4.356-6.137-8.167v-.5h-1v.5z"/><path d="M16.141 18.628c4.032-1.165 6.859-4.869 6.859-9.128v-.5h-1v.5c0 3.811-2.53 7.125-6.136 8.167l-.48.139.278.961.48-.139z"/><path d="M13.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM13.5 11c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M4 2v19.5h1v-19.5zM15.5 10h-11v1h11zM17 12.5v11h1v-11zM6.29 22.417l10.162-10.162-.707-.707-10.162 10.162z" id="Line"/><path d="M19.264 9.443l6.589-6.589-.707-.707-6.589 6.589z"/><path d="M6.577 23.381l19.071-5.903-.296-.955-19.071 5.903z"/><path d="M5.573 21.724l5.905-19.076-.955-.296-5.905 19.076z"/><path d="M6.5 24h19.5v-1h-19.5z"/><path d="M4.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M4.395 10.18c3.432-4.412 10.065-4.998 13.675-.973l.745-.668c-4.044-4.509-11.409-3.858-15.209 1.027l.789.614z"/><path d="M19.991 12.494c.877 2.718.231 5.487-1.897 7.543-2.646 2.556-6.752 2.83-9.188.477-1.992-1.924-2.027-5.38-.059-7.281 1.582-1.528 3.78-1.587 5.305-.115 1.024.99 1.386 2.424.876 3.491l.902.431c.709-1.482.232-3.37-1.084-4.641-1.921-1.855-4.734-1.78-6.695.115-2.378 2.297-2.337 6.405.059 8.719 2.846 2.749 7.563 2.435 10.577-.477 2.407-2.325 3.147-5.493 2.154-8.569l-.952.307z"/><path d="M21.01 9.697l3.197-3.197-.707-.707-3.197 3.197z"/><path d="M14.989 15.719l3.674-3.674-.707-.707-3.674 3.674z"/><path d="M13.5 18c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM19.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M17 4v21h1v-21z"/><path d="M23 4v21h1v-21z"/><path d="M5 16.5v8.5h1v-8.5z"/><path d="M5 4v8.5h1v-8.5z"/><path d="M11 16.5v8.5h1v-8.5z"/><path d="M11 4v8.5h1v-8.5z"/><path d="M5.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM11.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M21.5 23h-14v1h14zM5 7.5v14h1v-14z"/><path d="M12 23c0-3.314-2.686-6-6-6h-.5v1h.5c2.761 0 5 2.239 5 5v.5h1v-.5z"/><path d="M20 23c0-7.732-6.268-14-14-14h-.5v1h.5c7.18 0 13 5.82 13 13v.5h1v-.5z"/><path d="M16 23c0-5.523-4.477-10-10-10h-.5v1h.5c4.971 0 9 4.029 9 9v.5h1v-.5z"/><path d="M5.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M7.382 16h14.483l-4.167-5 4.167-5h-15.865v12.764l1.382-2.764zm-2.382 7v-18h19l-5 6 5 6h-16l-3 6z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.5 23h13v-1h-13z"/><path d="M7.55 13.088l13.29-6.254-.426-.905-13.29 6.254z"/><path d="M5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 15c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.354 21.354l7.097-7.097-.707-.707-7.097 7.097z"/><path d="M17.249 11.458l7.105-7.105-.707-.707-7.105 7.105z"/><path d="M7.542 22.683l17.296-2.739-.156-.988-17.296 2.739z" id="Line"/><path d="M7.538 22.062l15.708-7.661-.438-.899-15.708 7.661z"/><path d="M6.802 20.97l7.695-15.777-.899-.438-7.695 15.777z"/><path d="M6.285 20.741l2.76-17.423-.988-.156-2.76 17.423z"/><path d="M5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM15.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M3.5 11h21v-1h-21z"/><path d="M3.5 18h21v-1h-21z"/><path d="M10 3.5v21h1v-21z"/><path d="M17 3.5v21h1v-21z"/><path d="M22.5 4v-1h-19.5v19.5h1v-18.5z"/><path d="M24 24h-18.507v1h19.507v-19.5h-1z"/><path d="M3.5 26c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M4.529 18.21l3.157-1.292-.379-.926-3.157 1.292z"/><path fill-rule="nonzero" d="M9.734 16.081l2.97-1.215-.379-.926-2.97 1.215z"/><path fill-rule="nonzero" d="M14.725 14.039l2.957-1.21-.379-.926-2.957 1.21z"/><path fill-rule="nonzero" d="M19.708 12.001l3.114-1.274-.379-.926-3.114 1.274z"/><path d="M8 18h1v3h-1z" id="Path"/><path d="M8 9h1v5h-1z"/><path fill-rule="nonzero" d="M8 18h1v-4h-1v4zm-1-5h3v6h-3v-6z" id="Rectangle-44"/><path d="M18 16h1v3h-1z" id="Path"/><path d="M18 3h1v6h-1z"/><path fill-rule="nonzero" d="M18 16h1v-7h-1v7zm-1-8h3v9h-3v-9z" id="Rectangle-44"/><path d="M13 6h1v5h-1z"/><path d="M13 15h1v5h-1z"/><path fill-rule="nonzero" d="M13 15h1v-4h-1v4zm-1-5h3v6h-3v-6z"/><path fill-rule="nonzero" d="M2.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 11c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M4.436 21.667l2.083-9.027-.974-.225-2.083 9.027zM10.046 16.474l-2.231-4.463-.894.447 2.231 4.463zM13.461 6.318l-2.88 10.079.962.275 2.88-10.079zM18.434 16.451l-2.921-10.224-.962.275 2.921 10.224zM21.147 12.089l-2.203 4.405.894.447 2.203-4.405zM25.524 21.383l-2.09-9.055-.974.225 2.09 9.055z"/><path d="M1 19h7.5v-1h-7.5z"/><path d="M12.5 19h4v-1h-4z"/><path d="M20.5 19h6.5v-1h-6.5z"/><path d="M6.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM10.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM18.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 12c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM25.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM14.5 6c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M4 15h8.5v-1h-8.5zM16.5 15h8.5v-1h-8.5z"/><path d="M14.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M8.5 15h16.5v-1h-16.5z"/><path d="M6.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M6.5 23h12v-1h-12z" id="Line"/><path d="M21.596 20.715l3.091-9.66-.952-.305-3.091 9.66z"/><path d="M8.413 22.664l1.95-6.094-.952-.305-1.95 6.094z"/><path d="M11.602 12.695l3.085-9.641-.952-.305-3.085 9.641z"/><path d="M11.783 16.167l6.817 5.454.625-.781-6.817-5.454z"/><path d="M15.976 18.652l3.711-11.598-.952-.305-3.711 11.598z"/><path d="M4.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM10.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM20.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M20 11c0-3.314-2.686-6-6-6s-6 2.686-6 6c0 2.913 2.872 8.112 6 11.551 3.128-3.438 6-8.638 6-11.551zm-6 13c-3-3-7-9.134-7-13 0-3.866 3.134-7 7-7s7 3.134 7 7-4 10-7 13z"/><ellipse cx="14" cy="11" rx="2" ry="2"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M16 11c0-3.314-2.686-6-6-6s-6 2.686-6 6c0 2.913 2.872 8.112 6 11.551 3.128-3.438 6-8.638 6-11.551zm-6 13c-3-3-7-9.134-7-13 0-3.866 3.134-7 7-7s7 3.134 7 7-4 10-7 13z"/><ellipse cx="10" cy="11" rx="2" ry="2"/><path fill-rule="nonzero" d="M25 20c0 2.485-2.015 4-4.5 4s-4.5-1.515-4.5-4h1c0 1.797 1.421 3 3.5 3 2.079 0 3.5-1.203 3.5-3h1zm-1 0h1c0 2.485-2.015 4-4.5 4s-4.5-1.515-4.5-4h1c0 1.797 1.421 3 3.5 3 2.079 0 3.5-1.203 3.5-3z"/><path fill-rule="nonzero" d="M18 19h5v-1h-5zM20 15.5v8h1v-8z"/><ellipse cx="20.5" cy="14.5" rx="1.5" ry="1.5"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M8.354 18.354l10-10-.707-.707-10 10zM12.354 25.354l5-5-.707-.707-5 5z"/><path d="M20.354 17.354l5-5-.707-.707-5 5z"/><path d="M19.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM6.5 21c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM18.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M20.349 20.654l4.489-.711-.156-.988-4.489.711z"/><path d="M7.254 22.728l9.627-1.525-.156-.988-9.627 1.525z"/><path d="M7.284 22.118l15.669-8.331-.469-.883-15.669 8.331z"/><path d="M6.732 21.248l8.364-15.731-.883-.469-8.364 15.731z"/><path d="M17.465 18.758l-8.188-8.188-.707.707 8.188 8.188z"/><path d="M6.273 20.818l1.499-9.467-.988-.156-1.499 9.467z"/><path d="M8.329 7.834l.715-4.516-.988-.156-.715 4.516z"/><path d="M7.354 21.354l17-17-.707-.707-17 17z"/><path d="M5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM7.5 11c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM18.5 22c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.275 21.432l12.579-12.579-.707-.707-12.579 12.579z"/><path d="M6.69 13.397l7.913 7.913.707-.707-7.913-7.913zM7.149 10.558l7.058-7.058-.707-.707-7.058 7.058z"/><path d="M18.149 21.558l7.058-7.058-.707-.707-7.058 7.058z"/><path d="M5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 13c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM16.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M16.5 6h4v-1h-4z" id="Line"/><path d="M16.5 15h4v-1h-4z"/><path d="M8.5 23h4v-1h-4z"/><path d="M8.298 11.591l5.097-4.46-.659-.753-5.097 4.46zM22 7.5v5h1v-5z"/><path d="M14 16.5v4h1v-4z"/><path d="M6 14.5v6h1v-6z"/><path d="M6.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM14.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM14.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM6.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM14.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path d="M19 11h5l-2.5 3z"/><circle cx="21.5" cy="16.5" r="1.5"/><path fill-rule="nonzero" d="M22 11v-6h-1v6z"/><path d="M14 18h1v3h-1z" id="Path"/><path d="M14 5h1v6h-1z"/><path d="M7 19h1v3h-1z"/><path d="M7 6h1v7h-1z"/><path fill-rule="nonzero" d="M7 13v6h1v-6h-1zm-1-1h3v8h-3v-8zM14 18h1v-7h-1v7zm-1-8h3v9h-3v-9z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M6.995 5c.008 0 .005 15.5.005 15.5h-1v-15.493c0-.556.451-1.007.995-1.007h17.01c.549 0 .995.45.995 1.007v11.986c0 .556-.45 1.007-1.007 1.007h-12.993l-3.104 3.104-.707-.707 3.397-3.397h13.407c.004 0 .007-11.993.007-11.993 0-.007-17.005-.007-17.005-.007z"/><path d="M6.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M4 5h16.5v-1h-16.5zM25 24h-16.5v1h16.5z" id="Line"/><path fill-rule="nonzero" d="M6.5 26c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 6c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/><path fill-rule="nonzero" d="M14 9v14h1v-14z"/><path d="M14.5 6l2.5 3h-5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M23.886 21.431c-.953-8.558-7.742-15.354-16.299-16.315l-.112.994c8.093.909 14.516 7.338 15.417 15.432l.994-.111z"/><path d="M5 7.5v14h1v-14zM21.5 23h-14v1h14z"/><path d="M5.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM23.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M8.354 20.354l5-5-.707-.707-5 5z"/><path d="M16.354 12.354l8-8-.707-.707-8 8z"/><path d="M14.5 15c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM6.5 23c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.5 6h13v-1h-13z" id="Line"/><path d="M7.5 23h13v-1h-13z"/><path d="M5 7.5v13h1v-13z"/><path d="M22 7.5v13h1v-13z"/><path d="M5.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.551 17.98l13.284-7.033-.468-.884-13.284 7.033z"/><path d="M6 11.801l16-8.471v4.17h1v-5.83l-18 9.529v5.301h1z"/><path d="M6 24.67v-4.17h-1v5.83l18-9.529v-5.301h-1v4.699z"/><path d="M5.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM22.5 11c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M6 6h19v-1h-19z" id="Line"/><path fill-rule="nonzero" d="M6 24h19v-1h-19z"/><path fill-rule="nonzero" d="M6 17h17v-1h-17z"/><path d="M14.5 7l2.5 3h-5z"/><path d="M14.5 22l2.5-3h-5z"/><path fill-rule="nonzero" d="M14 10v10h1v-10z"/><path fill-rule="nonzero" d="M4.5 18c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM4.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM4.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 18c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M6 6h19v-1h-19z" id="Line"/><path fill-rule="nonzero" d="M6 24h19v-1h-19z"/><path fill-rule="nonzero" d="M6 13h17v-1h-17z"/><path d="M14.5 7l2.5 3h-5z"/><path d="M14.5 22l2.5-3h-5z"/><path fill-rule="nonzero" d="M14 10v10h1v-10z"/><path fill-rule="nonzero" d="M4.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM4.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM4.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM24.5 14c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M14.743 3.55l-4.208 4.208.707.707 4.208-4.208zM7.71 10.583l-4.187 4.187.707.707 4.187-4.187zM3.536 18.244l6.171 6.171.707-.707-6.171-6.171zM13.232 24.475l4.22-4.22-.707-.707-4.22 4.22zM20.214 17.494l4.217-4.217-.707-.707-4.217 4.217zM24.423 9.716l-6.218-6.218-.707.707 6.218 6.218z"/><path d="M2.5 18c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM9.5 11c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM16.5 4c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM11.5 27c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM18.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM25.5 13c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.854 22.854l14-14-.707-.707-14 14z"/><path d="M8.336 13.043l8.621 8.621.707-.707-8.621-8.621zM9.149 10.558l7.058-7.058-.707-.707-7.058 7.058z" id="Line"/><path d="M20.149 21.558l7.058-7.058-.707-.707-7.058 7.058z"/><path d="M5.5 23h11v-1h-11z"/><path d="M7.5 13c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM18.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M10.275 20.432l11.579-11.579-.707-.707-11.579 11.579z"/><path d="M8.336 13.043l8.621 8.621.707-.707-8.621-8.621zM9.149 10.558l7.058-7.058-.707-.707-7.058 7.058z" id="Line"/><path d="M20.149 21.558l7.058-7.058-.707-.707-7.058 7.058z"/><path d="M6.5 23h10v-1h-10z"/><path d="M4.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM7.5 13c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM18.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M5.205 14.111l-.013-.172c-.054-.906.022-1.966.327-2.961.395-1.289 1.111-2.215 2.221-2.666l-.377-.926c-1.42.578-2.324 1.746-2.8 3.3-.346 1.128-.429 2.299-.369 3.313l.017.219.994-.106z"/><path d="M11.051 8.554c1.12.893 1.766 2.343 2.973 6.099 1.274 3.963 1.947 5.48 3.28 6.557l.629-.778c-1.112-.899-1.754-2.345-2.956-6.085-1.28-3.982-1.957-5.503-3.302-6.575l-.623.782z"/><path d="M21.722 21.558c1.439-.634 2.428-1.886 3.046-3.551.311-.836.509-1.726.618-2.616.066-.539.088-.967.088-1.227l-1 .002-.01.304c-.012.241-.035.51-.071.798-.101.818-.282 1.634-.563 2.39-.533 1.434-1.354 2.474-2.512 2.985l.403.915z"/><path d="M9.5 9c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM19.5 23c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M14 5.5v17h1v-17z" id="Line"/><path d="M9 8.5v-2.001c0-.272.229-.499.502-.499h9.995c.28 0 .502.221.502.499v2.001h1v-2.001c0-.832-.672-1.499-1.502-1.499h-9.995c-.824 0-1.502.673-1.502 1.499v2.001h1z"/><path d="M12 23h5v-1h-5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M25 19c0 2.485-2.015 4-4.5 4s-4.5-1.515-4.5-4h1c0 1.797 1.421 3 3.5 3 2.079 0 3.5-1.203 3.5-3h1zm-1 0h1c0 2.485-2.015 4-4.5 4s-4.5-1.515-4.5-4h1c0 1.797 1.421 3 3.5 3 2.079 0 3.5-1.203 3.5-3z"/><path fill-rule="nonzero" d="M18 18h5v-1h-5zM20 14.5v8h1v-8z" id="Line"/><ellipse cx="20.5" cy="13.5" rx="1.5" ry="1.5"/><path fill-rule="nonzero" d="M11 5.5v17h1v-17z" id="Line"/><path fill-rule="nonzero" d="M6 8.5v-2.001c0-.272.229-.499.502-.499h9.995c.28 0 .502.221.502.499v2.001h1v-2.001c0-.832-.672-1.499-1.502-1.499h-9.995c-.824 0-1.502.673-1.502 1.499v2.001h1z"/><path fill-rule="nonzero" d="M9 23h5v-1h-5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M.303 17.674l1.104.473.394-.919-1.104-.473z"/><path d="M5.133 19.744l3.335 1.429.394-.919-3.335-1.429z"/><path d="M12.134 22.744l3.352 1.436.394-.919-3.352-1.436z"/><path d="M19.203 25.774l1.6.686.394-.919-1.6-.686z"/><path d="M.3 4.673l1.13.484.394-.919-1.13-.484-.394.919zm.394-.919l1.13.484-.394.919-1.13-.484.394-.919z"/><path d="M5.141 6.747l3.325 1.425.394-.919-3.325-1.425z"/><path d="M12.133 9.744l3.353 1.437.394-.919-3.353-1.437z"/><path d="M19.221 12.782l5.838 2.502.394-.919-5.838-2.502z"/><path d="M3 7.473v8.969h1v-8.969zM8.93 9.871l-4.616 6.594.819.573 4.616-6.594zM11 19.5v-9h-1v9zM15.898 12.916l-4.616 6.594.819.573 4.616-6.594zM18 22.5v-9h-1v9zM24.313 5.212l-6.57 17.247.934.356 6.57-17.247z"/><path d="M3.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM3.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM10.5 23c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 13c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM25.5 5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM17.5 26c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM10.5 10c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M27.186 9.411c-.691-.27-1.429-.411-2.186-.411-3.314 0-6 2.686-6 6h1c0-2.761 2.239-5 5-5 .632 0 1.246.117 1.821.342l.364-.931z"/><path fill-rule="nonzero" d="M9 15c0-3.314-2.686-6-6-6-.754 0-1.489.139-2.177.407l.363.932c.573-.223 1.185-.339 1.814-.339 2.761 0 5 2.239 5 5h1z"/><path d="M8 15h1v1h-1v-1zm11 0h1v1h-1v-1zm1 0h-1c0-2.761-2.239-5-5-5s-5 2.239-5 5h-1c0-3.314 2.686-6 6-6s6 2.686 6 6z"/><path fill-rule="nonzero" d="M8.5 19c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM19.5 19c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M15.5 22.5c0-2.697-1.073-5.225-2.947-7.089l-.705.709c1.687 1.679 2.652 3.952 2.652 6.38h1z"/><path d="M7.354 21.354l14-14-.707-.707-14 14z"/><path d="M7.5 23h16.5v-1h-16.5z"/><path d="M22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M4 25h22v-1h-22z" id="Line"/><path d="M4 21h22v-1h-22z"/><path d="M6.5 17h19.5v-1h-19.5z"/><path d="M5 14.5v-3h-1v3zM6.617 9.275l10.158-3.628-.336-.942-10.158 3.628z"/><path d="M18.5 6c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM4.5 11c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM4.5 18c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M20 2v22h1v-22z"/><path d="M24 2v22h1v-22z"/><path d="M4.673 11.471l3.69 10.333.942-.336-3.69-10.333z"/><path d="M17 21.535v-19.535h-1v19.535z"/><path d="M11.5 24h3v-1h-3z"/><path d="M4.5 11c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM9.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM16.5 25c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M7.354 21.354l14-14-.707-.707-14 14z"/><path d="M22.5 7c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM5.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M8.5 23h11v-1h-11zM6 8.5v12h1v-12zM7.483 8.28l12.293 13.112.73-.684-12.293-13.112z"/><path d="M6.5 8c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM6.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM21.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M9.457 18.844l-5.371 2.4.408.913 5.371-2.4z"/><path d="M13.13 17.203l.408.913 13.688-6.116-6.736-3.01-.408.913 4.692 2.097z"/><path d="M11.077 5.88l5.34 2.386.408-.913-5.34-2.386z"/><path d="M7.401 4.237l.408-.913-5.809-2.595v19.771h1v-18.229z"/><path d="M3.708 20.772l5.51-14.169-.932-.362-5.51 14.169zM9.265 6.39l1.46 10.218.99-.141-1.46-10.218zM13.059 17.145l4.743-6.775-.819-.573-4.743 6.775z"/><path d="M9.5 6c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM11.5 20c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM18.5 10c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM2.5 24c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="nonzero"><path d="M15 12.5v-8.5h-1v8.5zM14 16.5v8.5h1v-8.5z"/><path d="M14.5 16c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0 1c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M15.039 5.969l-.019-.019-2.828 2.828.707.707 2.474-2.474c1.367-1.367 3.582-1.367 4.949 0s1.367 3.582 0 4.949l-2.474 2.474.707.707 2.828-2.828-.019-.019c1.415-1.767 1.304-4.352-.334-5.99-1.638-1.638-4.224-1.749-5.99-.334zM5.97 15.038l-.019-.019 2.828-2.828.707.707-2.475 2.475c-1.367 1.367-1.367 3.582 0 4.949s3.582 1.367 4.949 0l2.474-2.474.707.707-2.828 2.828-.019-.019c-1.767 1.415-4.352 1.304-5.99-.334-1.638-1.638-1.749-4.224-.334-5.99z"/><path d="M10.485 16.141l5.656-5.656.707.707-5.656 5.656z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M14.039 6.969l-.019-.019-2.828 2.828.707.707 2.474-2.474c1.367-1.367 3.582-1.367 4.949 0s1.367 3.582 0 4.949l-2.474 2.474.707.707 2.828-2.828-.019-.019c1.415-1.767 1.304-4.352-.334-5.99-1.638-1.638-4.224-1.749-5.99-.334zM6.968 14.039l-.019-.019 2.828-2.828.707.707-2.475 2.475c-1.367 1.367-1.367 3.582 0 4.949s3.582 1.367 4.949 0l2.474-2.474.707.707-2.828 2.828-.019-.019c-1.767 1.415-4.352 1.304-5.99-.334-1.638-1.638-1.749-4.224-.334-5.99z"/><path d="M10.485 16.141l5.656-5.656.707.707-5.656 5.656z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M11.682 16.09l3.504 6.068 1.732-1-3.497-6.057 3.595-2.1L8 7.74v10.512l3.682-2.163zm-.362 1.372L7 20V6l12 7-4.216 2.462 3.5 6.062-3.464 2-3.5-6.062z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path d="M18 15h8v-1h-8z"/><path d="M14 18v8h1v-8zM14 3v8h1v-8zM3 15h8v-1h-8z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><circle cx="14" cy="14" r="3"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M23.002 23C23 23 23 18.003 23 18.003L15.998 18C16 18 16 22.997 16 22.997l7.002.003zM15 18.003A1 1 0 0 1 15.998 17h7.004c.551 0 .998.438.998 1.003v4.994A1 1 0 0 1 23.002 24h-7.004A.993.993 0 0 1 15 22.997v-4.994z"/><path d="M19 20h1v2h-1z"/><path fill-rule="nonzero" d="M22 14.5a2.5 2.5 0 0 0-5 0v3h1v-3a1.5 1.5 0 0 1 3 0v.5h1v-.5z"/><g fill-rule="nonzero"><path d="M3 14.707A1 1 0 0 1 3.293 14L14.439 2.854a1.5 1.5 0 0 1 2.122 0l2.585 2.585a1.5 1.5 0 0 1 0 2.122L8 18.707a1 1 0 0 1-.707.293H4a1 1 0 0 1-1-1v-3.293zm1 0V18h3.293L18.439 6.854a.5.5 0 0 0 0-.708l-2.585-2.585a.5.5 0 0 0-.708 0L4 14.707z"/><path d="M13.146 4.854l4 4 .708-.708-4-4zm-9 9l4 4 .708-.708-4-4z"/><path d="M15.146 6.146l-9 9 .708.708 9-9z"/></g></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M23.002 23C23 23 23 18.003 23 18.003L15.998 18C16 18 16 22.997 16 22.997l7.002.003zM15 18.003A1 1 0 0 1 15.998 17h7.004c.551 0 .998.438.998 1.003v4.994A1 1 0 0 1 23.002 24h-7.004A.993.993 0 0 1 15 22.997v-4.994z"/><path d="M19 20h1v2h-1z"/><path fill-rule="nonzero" d="M22 17.5v-2a2.5 2.5 0 0 0-5 0v2h1v-2a1.5 1.5 0 0 1 3 0v2h1z"/><g fill-rule="nonzero"><path d="M3 14.707A1 1 0 0 1 3.293 14L14.439 2.854a1.5 1.5 0 0 1 2.122 0l2.585 2.585a1.5 1.5 0 0 1 0 2.122L8 18.707a1 1 0 0 1-.707.293H4a1 1 0 0 1-1-1v-3.293zm1 0V18h3.293L18.439 6.854a.5.5 0 0 0 0-.708l-2.585-2.585a.5.5 0 0 0-.708 0L4 14.707z"/><path d="M13.146 4.854l4 4 .708-.708-4-4zm-9 9l4 4 .708-.708-4-4z"/><path d="M15.146 6.146l-9 9 .708.708 9-9z"/></g></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 31" width="29" height="31"><g fill-rule="nonzero"><path d="M15.3 22l8.187-8.187c.394-.394.395-1.028.004-1.418l-4.243-4.243c-.394-.394-1.019-.395-1.407-.006l-11.325 11.325c-.383.383-.383 1.018.007 1.407l1.121 1.121h7.656zm-9.484-.414c-.781-.781-.779-2.049-.007-2.821l11.325-11.325c.777-.777 2.035-.78 2.821.006l4.243 4.243c.781.781.78 2.048-.004 2.832l-8.48 8.48h-8.484l-1.414-1.414z"/><path d="M13.011 22.999h7.999v-1h-7.999zM13.501 11.294l6.717 6.717.707-.707-6.717-6.717z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.000001 29.999999" width="30" height="30" enable-background="new 0 0 595.3 841.9"><path d="M5.5 13A2.5 2.5 0 0 0 3 15.5 2.5 2.5 0 0 0 5.5 18 2.5 2.5 0 0 0 8 15.5 2.5 2.5 0 0 0 5.5 13zm9.5 0a2.5 2.5 0 0 0-2.5 2.5A2.5 2.5 0 0 0 15 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 15 13zm9.5 0a2.5 2.5 0 0 0-2.5 2.5 2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M17.537 7.635l-.789.789c-.886-.275-1.812-.424-2.748-.424-3.841 0-7.521 2.503-8.962 6 .562 1.364 1.465 2.577 2.585 3.549l-.709.709c-1.265-1.112-2.274-2.506-2.881-4.077l-.07-.18.07-.18c1.535-3.975 5.645-6.82 9.966-6.82 1.213 0 2.409.224 3.537.635zm3.549 2.108c1.265 1.112 2.274 2.506 2.881 4.077l.07.18-.07.18c-1.535 3.975-5.646 6.82-9.966 6.82-1.213 0-2.409-.224-3.537-.635l.789-.789c.886.275 1.812.424 2.748.424 3.84 0 7.521-2.503 8.962-6-.562-1.364-1.465-2.577-2.585-3.549l.709-.709zm-6.049.392l-4.902 4.902c-.088-.33-.135-.677-.135-1.036 0-2.213 1.788-4.001 4.001-4.001.358 0 .705.047 1.036.135zm2.828 2.829c.088.331.135.679.135 1.038 0 2.213-1.786 3.999-3.999 3.999-.359 0-.707-.047-1.038-.135l4.901-4.901zm-12.365 10.243l-.707-.707 17.707-17.707.707.707-17.707 17.707z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M7 13.003v8.994c0 .557.445 1.003.994 1.003h12.012c.547 0 .994-.449.994-1.003v-8.994c0-.557-.445-1.003-.994-1.003h-12.012c-.547 0-.994.449-.994 1.003zm-1 0c0-1.106.895-2.003 1.994-2.003h12.012c1.101 0 1.994.894 1.994 2.003v8.994c0 1.106-.895 2.003-1.994 2.003h-12.012c-1.101 0-1.994-.894-1.994-2.003v-8.994z"/><path fill-rule="nonzero" d="M11 11v-4h-1v4z"/><path fill-rule="nonzero" d="M10 7c0-2.209 1.791-4 4-4s4 1.791 4 4h-1c0-1.657-1.343-3-3-3s-3 1.343-3 3h-1zm1 0h-1c0-2.209 1.791-4 4-4s4 1.791 4 4h-1c0-1.657-1.343-3-3-3s-3 1.343-3 3z"/><rect width="2" height="4" rx="1" x="13" y="17"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M7 13.003v8.994c0 .557.445 1.003.994 1.003h12.012c.547 0 .994-.449.994-1.003v-8.994c0-.557-.445-1.003-.994-1.003h-12.012c-.547 0-.994.449-.994 1.003zm-1 0c0-1.106.895-2.003 1.994-2.003h12.012c1.101 0 1.994.894 1.994 2.003v8.994c0 1.106-.895 2.003-1.994 2.003h-12.012c-1.101 0-1.994-.894-1.994-2.003v-8.994z"/><path fill-rule="nonzero" d="M11 11v-3h-1v3z"/><path fill-rule="nonzero" d="M18 11v-3h-1v3z"/><path fill-rule="nonzero" d="M10 8c0-2.209 1.791-4 4-4s4 1.791 4 4h-1c0-1.657-1.343-3-3-3s-3 1.343-3 3h-1zm1 0h-1c0-2.209 1.791-4 4-4s4 1.791 4 4h-1c0-1.657-1.343-3-3-3s-3 1.343-3 3z"/><rect width="2" height="4" rx="1" x="13" y="17"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M14 10a2 2 0 0 0-2 2v11H6V12c0-4.416 3.584-8 8-8s8 3.584 8 8v11h-6V12a2 2 0 0 0-2-2zm-3 2a3 3 0 0 1 6 0v10h4V12c0-3.864-3.136-7-7-7s-7 3.136-7 7v10h4V12z"/><path d="M6.5 18h5v1h-5zm10 0h5v1h-5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="none" stroke="currentColor" d="M3.207 19.793L19.793 3.207a1 1 0 0 1 1.414 0l3.586 3.586a1 1 0 0 1 0 1.414L8.207 24.793a1 1 0 0 1-1.414 0l-3.586-3.586a1 1 0 0 1 0-1.414zM5.5 17.5l2 2m1-5l3 3m0-6l2 2m1-5l3 3m0-6l2 2"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M8 21c0 1.1.825 2 1.833 2h7.333c1.008 0 1.833-.9 1.833-2v-12h-11v12zm-1 0v-13h13v13c0 1.634-1.252 3-2.833 3h-7.333c-1.581 0-2.833-1.366-2.833-3z"/><path d="M17 6l-1-1h-5l-1 1h-3v1h13v-1z"/><path fill-rule="nonzero" d="M10 11v9.062h1v-9.062z"/><path fill-rule="nonzero" d="M13 11v9.062h1v-9.062z"/><path fill-rule="nonzero" d="M16 11v9.062h1v-9.062z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M14 18.634l-.307-.239-7.37-5.73-2.137-1.665 9.814-7.633 9.816 7.634-.509.394-1.639 1.269-7.667 5.969zm7.054-6.759l1.131-.876-8.184-6.366-8.186 6.367 1.123.875 7.063 5.491 7.054-5.492z"/><path d="M7 14.5l-1 .57 8 6.43 8-6.5-1-.5-7 5.5z"/><path d="M7 17.5l-1 .57 8 6.43 8-6.5-1-.5-7 5.5z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M17.646 18.354l4 4 .708-.708-4-4z"/><path d="M12.5 21a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17zm0-1a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15z"/><path d="M9 13h7v-1H9z"/><path d="M13 16V9h-1v7z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M17.646 18.354l4 4 .708-.708-4-4z"/><path d="M12.5 21a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17zm0-1a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15z"/><path d="M9 13h7v-1H9z"/></svg>'},function(t,e,i){"use strict";function o(t){var e,i,n,r;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if(Array.isArray(t))for(e=[],i=0,n=t.length;i<n;i++)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=o(t[i]));else{e={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=o(t[r]))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=o},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(268),n=function(){function t(t){var e=this;this._alert=t,t.on("change:autoDeactivation",function(t,i){var o=e.getAvailableFrequencies();i&&-1!==o.indexOf("once")&&t.set("frequency","once")}),t.on("change:frequency",function(t,i){var o=e.getAvailableFrequencies();if(e._putFrequencyToExtra(),-1===o.indexOf(i))return t.set("frequency",o[0]),
void e._putFrequencyToExtra();"once"===i&&t.set("autoDeactivation",!0),"on_first_fire"!==i&&"on_bar_close"!==i&&!/^\d+$/.test(i)||-1===o.indexOf("once")||t.set("autoDeactivation",!1)})}return t.prototype.getAvailableFrequencies=function(){var t=this._alert.get("extra"),e=this._alert.isDrawing()&&"LineToolVertLine"===t.drawing().type,i=t&&t.alertSeries().style,n=t&&t.mainSeries().style,r=o.hasProjection(i)||o.hasProjection(n),s=this._alert.get("crossInterval"),a=[];return e?a.push("once"):(s||r||(a.push("once"),a.push("60"),a.push("on_bar_close")),r?a.push("on_bar_close"):a.push("on_first_fire")),a},t.prototype.switchFrequencies=function(){var t=this._alert,e=t.get("frequency"),i=this.getAvailableFrequencies();!1===t.get("autoDeactivation")&&(1===i.length?t.set("frequency",i[0]):("on_first_fire"===e&&-1!==i.indexOf("60")&&t.set("frequency","60"),"on_bar_close"===e&&-1!==i.indexOf("on_bar_close")&&t.set("frequency","on_bar_close")))},t.prototype._putFrequencyToExtra=function(){var t=this._alert.get("extra");t&&t.frequency(this._alert.get("frequency"))},t}(),e.AlertFrequency=n},function(t,e,i){"use strict";(function(e,o,n,r,s){function a(t){return t instanceof R}function l(t){return TradingView.isInherited(t.constructor,g)}function c(t,i,r,s,a,l,h,d,u,p){var f,_,g;for(this._version=c.version,this._readOnly=s,this._undoModel=d,this._properties=r,this._modelIntervals=[],this._isSnapshot=u,this.setStudiesMetaData(l,h),this.m_timeScale=new S(this),H.init(),f=this,this.m_panes=[],this.m_gridSource=new b,this.m_crossHairSource=new m(this,H.properties()),this.m_crossHairSource.selectBarMode().subscribe(function(t){if(t&&f.lineBeingCreated()){var e=H.tool.value();f.cancelCreatingLine(),H.tool.setValue(e)}}),this.m_width=0,this._tagsChanged=new e,this._lineCancelled=new e,this._magnet=new w(H.properties().magnet,this.m_timeScale,r.paneProperties.magnetSensivity),_=new W("chartproperties.mainSeriesProperties"),_.addExclusion("minTick"),_.addExclusion("priceAxisProperties.lockScale"),_.addExclusion("priceAxisProperties.percentage"),_.addExclusion("priceAxisProperties.log"),this.createPane(void 0,{rightAxisProperties:_.priceAxisProperties.state(["autoScale"])}),this.m_panes[0]._stretchFactor=2*v.DEFAULT_STRETCH_FACTOR,this.m_panes[0]._isMainPane=!0,this.m_selectedSource=null,this._selectedSourceChanged=new e,this._chartApi=t,this._invalidateHandler=i,this.m_hoveredSource=null,this._properties.listeners().subscribe(this,c.prototype.propertyChangeHandler),this._properties.timezone.listeners().subscribe(null,function(){f._chartApi&&f._chartApi.connected()&&f._chartApi.switchTimezone(f.timezone())}),this.m_timeScale.defaultRightOffsetProperty().listeners().subscribe(null,function(){f.recalculateAllPanes()}),_.merge(r.mainSeriesProperties.state()),this.m_mainSeries=new N(this,_,a),this.m_panes[0].addDataSource(this.m_mainSeries,this.m_panes[0].rightPriceScale()),this._mainSeriesScaleRatioProperty=new Y(this),this.m_mainSeries.onCompleted().subscribe(this,function(){f.clearCurrentPosition(),f._scrollingState&&f.gotoTime()}),
this.m_mainSeries.onIntervalChanged().subscribe(this,function(){this._oldStartVisibleIndex=-1,this._oldEndVisibleIndex=-1}),this.m_mainSeries.onBarReceived().subscribe(this,c.prototype.updateTimeScaleBaseIndex),s||(_.addChild("priceAxisProperties",this.m_mainSeries.m_priceScale.properties()),this._properties.paneProperties.legendProperties.showStudyTitles.listeners().subscribe(this,function(t){t.value()||f._properties.paneProperties.legendProperties.showStudyArguments.setValue(!1)})),this._barsMarksSources=p(this),g=0;g<this._barsMarksSources.length;g++)this._barsMarksSources[g].setOwnerSource(this.m_mainSeries);this._syncPointCache={},this.m_watermarkSource=new y(this.m_mainSeries),this._brandingSource=null,o.enabled("alerts")&&!this.readOnly()&&(this._alertsList=null,this._initAlertsList()),this.strategySources=[],this.strategySources.change=new e,this._activeStrategySource=new n(null),this._oldStartVisibleIndex=-1,this._oldEndVisibleIndex=-1,this._currentTool="",H.hideAllDrawings().subscribe(this,this.visibilityChangeHandler),this._properties.scalesProperties.listeners().subscribe(this,c.prototype.fullUpdate),this._id=q.guid(),this._studyInserted=new e,this._chartThemeLoaded=new e,this._resetScales=new e,this._studyShiftColorStartOffset=void 0}var h=i(9).ensureNotNull,d=i(8).Point,u=i(55),p=u.parseRgb,f=u.rgbToBlackWhiteString,_=i(445),g=i(1).LineDataSource,m=i(875),v=i(286),y=i(882),b=i(883),w=i(884),S=i(885),T=i(287),x=i(187).BarsMarksContainer,P=i(889).Branding,C=i(52).PriceDataSource,M=i(454),k=i(197),L=i(581),I=i(40),A=i(34),R=A.Study,D=A.createStudy,E=A.prepareStudyProperties,O=i(144),V=i(231),B=i(132).StudyLineDataSource,z=i(92).ScaleType,F=i(24).PlotRowSearchMode,N=i(145),H=i(110),W=i(7).DefaultProperty,U=i(496).SyncPoint,j=i(20).trackEvent,q=i(17),G=i(0).getLogger("Chart.ChartModel"),Y=i(890).MainSeriesScaleRatioProperty,X=i(86),K=X.study_ESD$TV_EARNINGS,J=X.study_ESD$TV_SPLITS,Z=X.study_ESD$TV_DIVIDENDS,Q=i(444).SeriesData,tt=i(24).PlotList,et=i(470).alertBandFactory;c.prototype.setStudiesMetaData=function(t,e){this._studiesMetaData=t,this._studyVersioning=new O(this._studiesMetaData,e)},c.prototype.isSnapshot=function(){return this._isSnapshot},c.prototype.currentTool=function(){return this._currentTool},c.prototype.setCurrentTool=function(t){this._currentTool=t},c.prototype.timezone=function(){return this._properties.timezone.value()},c.prototype.version=function(){return this._version},c.prototype.initConnection=function(){this._chartApi.switchTimezone(this.timezone())},c.prototype.dumpViews=function(){var t,e,i,o,n={};for(n.panes=[],t=0;t<this.m_panes.length;t++)n.panes.push(this.m_panes[t].dumpViews());for(n.dataWindow=[],e=this.dataSources(),t=0;t<e.length;t++)i=e[t],(o=i.dataWindowView())&&n.dataWindow.push(o.dump());return n},c.prototype._paneInvalidationMask=function(t,e){var i=new I,o=this.m_panes.indexOf(t);return void 0===e&&(e=I.LIGHT_UPDATE),i.invalidatePane(o,e),i},c.prototype.updatePane=function(t){var e=this._paneInvalidationMask(t);this.invalidate(e)},c.prototype.fullUpdate=function(){
this.invalidate(new I(I.FULL_UPDATE))},c.prototype.updateSource=function(t){var e=this.paneForSource(t),i=this._paneInvalidationMask(e);this.invalidate(i)},c.prototype.studiesMetaData=function(){return this._studiesMetaData},c.prototype.studyVersioning=function(){return this._studyVersioning},c.prototype.disconnect=function(){var t,e,i=this.dataSources();for(e=0;e<i.length;e++)t=i[e],t.disconnect&&t.disconnect()},c.prototype.restart=function(){var t,e,i;for(this.initConnection(),this.m_timeScale.reset(),this.m_mainSeries.restart(),t=this.dataSources(),e=0;e<t.length;e++)i=t[e],i.restart&&i!==this.m_mainSeries&&i.restart()},c.prototype.startNotStartedStudies=function(){var t,e;if(!this.m_mainSeries.isStarted())throw Error("Cannot start studies: main series is not started");for(t=this.dataSources(),e=0;e<t.length;e++)a(t[e])&&!t[e].isStarted()&&t[e].restart&&t[e]!==this.m_mainSeries&&t[e].restart()},c.prototype.updateLineTools=function(){var t,e,i=this.dataSources();for(t=0;t<i.length;t++)l(i[t])&&(e=i[t],e.tryCreateServerPoints(),e.checkAlert&&e.checkAlert())},c.prototype.realignLineTools=function(){var t,e,i=this.dataSources();for(t=0;t<i.length;t++)l(i[t])&&(e=i[t],e.calcIsActualSymbol());for(t=0;t<this.m_panes.length;t++)this.m_panes[t].invalidateSourcesCache()},c.prototype.readOnly=function(){return this._readOnly},c.prototype.properties=function(){return this._properties},c.prototype.lineCancelled=function(){return this._lineCancelled},c.prototype.crossHairMoved=function(){return this.m_crossHairSource.moved()},c.prototype.chartApi=function(){return this._chartApi},c.prototype.propertyChangeHandler=function(){this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.visibilityChangeHandler=function(){this.setSelectedSource(),this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.updateAllPaneViews=function(){var t,e;for(t=0;t<this.m_panes.length;t++)e=this.m_panes[t],e.updateAllViews()},c.prototype.mainSeries=function(){return this.m_mainSeries},c.prototype.timeScale=function(){return this.m_timeScale},c.prototype.panes=function(){return this.m_panes},c.prototype.gridSource=function(){return this.m_gridSource},c.prototype.watermarkSource=function(){return this.m_watermarkSource},c.prototype.brandingSource=function(){return this._brandingSource},c.prototype.crossHairSource=function(){return this.m_crossHairSource},c.prototype.publishedChartsTimelineSource=function(){for(var t=0;t<this._barsMarksSources.length;++t)if(this._barsMarksSources[t]instanceof M)return this._barsMarksSources[t]},c.prototype.barsMarksSources=function(){return this._barsMarksSources},c.prototype.width=function(){return this.m_width},c.prototype.setPaneHeight=function(t,e){t.setHeight(e),this.recalculateAllPanes(),this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.setWidth=function(t){var e,i;for(this.m_width=t,this.m_timeScale.setWidth(this.m_width),e=0;e<this.m_panes.length;++e)i=this.m_panes[e],i.setWidth(t);this.recalculateAllPanes(),this.recalcVisibleRangeStudy(this.dataSources())},c.prototype.createPane=function(t,e){var i,o
;if(this._undoModel._chartWidget.isMaximizedPane()&&this._undoModel._chartWidget.toggleMaximizePane(),i=this._properties.paneProperties,e&&i.merge(e),o=new v(this.m_timeScale,i,this),"number"==typeof t&&isFinite(t)){if(t<0||t>this.m_panes.length)return void G.logDebug("ChartModel.createPane: invalid index: "+t);this.m_panes.splice(t,0,o)}else this.m_panes.push(o);return o.onTagsChanged().subscribe(this,c.prototype.onPaneTagsChanged),o},c.prototype.removePane=function(t){this._undoModel._chartWidget.isMaximizedPane()&&this._undoModel._chartWidget.toggleMaximizePane(),t.destroy();var e=this.m_panes.indexOf(t);-1!==e&&this.m_panes.splice(e,1),this.invalidate(new I(I.FULL_UPDATE))},c.prototype.startScalePrice=function(t,e,i){t.startScalePrice(e,i)},c.prototype.scalePriceTo=function(t,e,i){t.scalePriceTo(e,i),this.mainSeries().priceScale().isLockScale()?this.invalidate(new I(I.LIGHT_UPDATE)):this.invalidate(this._paneInvalidationMask(t,I.LIGHT_UPDATE))},c.prototype.endScalePrice=function(t,e){t.endScalePrice(e),this.invalidate(this._paneInvalidationMask(t,I.LIGHT_UPDATE))},c.prototype.startScrollPrice=function(t,e,i){t.startScrollPrice(e,i)},c.prototype.scrollPriceTo=function(t,e,i){t.scrollPriceTo(e,i),this.invalidate(this._paneInvalidationMask(t,I.LIGHT_UPDATE))},c.prototype.endScrollPrice=function(t,e){t.endScrollPrice(e),this.invalidate(this._paneInvalidationMask(t,I.LIGHT_UPDATE))},c.prototype.setPriceAutoScale=function(t,e,i){t.setPriceAutoScale(e,i),this.invalidate(this._paneInvalidationMask(t,I.LIGHT_UPDATE))},c.prototype.restorePriceScaleState=function(t,e,i){t.restorePriceScaleState(e,i),this.invalidate(this._paneInvalidationMask(t,I.LIGHT_UPDATE))},c.prototype.resetPriceScale=function(t,e){t.resetPriceScale(e),this.invalidate(this._paneInvalidationMask(t,I.LIGHT_UPDATE))},c.prototype.updateScales=function(t,e){this._undoModel._chartWidget._updateScalesActions()},c.prototype.startScaleTime=function(t){this.m_timeScale.startScale(t)},c.prototype.mainSeriesScaleRatioProperty=function(){return this._mainSeriesScaleRatioProperty},c.prototype.mainSeriesScaleRatioPropertyOnChanged=function(){this._mainSeriesScaleRatioProperty.listeners().fire(this._mainSeriesScaleRatioProperty)},c.prototype._mainSeriesPriceScaleName=function(){var t=this.paneForSource(this.m_mainSeries);return t.priceScaleName(t.priceScaleForSource(this.m_mainSeries))},c.prototype.mainSeriesScaleRatio=function(){var t=this.paneForSource(this.m_mainSeries);return"left"===this._mainSeriesPriceScaleName()?t.leftPriceScaleRatio():t.rightPriceScaleRatio()},c.prototype.setMainSeriesScaleRatio=function(t){var e=this.paneForSource(this.m_mainSeries);"left"===this._mainSeriesPriceScaleName()?e.applyLeftPriceScaleRatio(t):e.applyRightPriceScaleRatio(t)},c.prototype.scaleTimeTo=function(t){this.m_timeScale.scaleTo(t),this.recalculateAllPanes(),this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.endScaleTime=function(){this.m_timeScale.endScale(),this.invalidate(new I(I.LIGHT_UPDATE)),this.mainSeries().requestMoreData(),
this.recalcVisibleRangeStudy(this.dataSources())},c.prototype.startScrollTime=function(t){this.m_timeScale.startScroll(t),this._isTimeScrolling=!0},c.prototype.scrollTimeTo=function(t){this.m_timeScale.scrollTo(t),this.recalculateAllPanes(),this.updateCrossHair(),this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.endScrollTime=function(){this.m_timeScale.endScroll(),this.invalidate(new I(I.LIGHT_UPDATE)),this.mainSeries().requestMoreData(),this.recalcVisibleRangeStudy(this.dataSources()),this._isTimeScrolling=!1},c.prototype.recalcStudyBasedLineTools=function(){this.dataSources().forEach(function(t){t instanceof B&&t.recalcStudyIfNeeded&&t.recalcStudyIfNeeded()})},c.prototype.recalcVisibleRangeStudy=function(t,e){void 0!==this._recalcVRTimerId&&clearTimeout(this._recalcVRTimerId);var i=this;this._recalcVRTimerId=setTimeout(function(){i._recalcVisibleRangeStudy(t,e)},1e3)},c.prototype._recalcVisibleRangeStudy=function(t,e){var i,o,n,r,s,l,c,h,d,u,p,f,_,g,m,v;if(!this.timeScale().isEmpty()&&(i=this.timeScale().visibleBars(),o=this.mainSeries().nearestData(i.firstBar(),F.NearestRight),n=this.mainSeries().nearestData(i.lastBar(),F.NearestLeft),r=this.mainSeries().bars().lastIndex(),s=o?o.index:void 0,l=n?n.index:void 0,c=s===this._oldStartVisibleIndex,h=l===this._oldEndVisibleIndex,!c||!h||e))for(this._oldStartVisibleIndex=s,this._oldEndVisibleIndex=l,d={first_visible_bar_time:1e3*Math.floor(o&&o.value?o.value[TradingView.TIME_PLOT]:0),last_visible_bar_time:1e3*Math.floor(n&&n.value?n.value[TradingView.TIME_PLOT]:0),subscribeRealtime:n&&n.index===r},u=0;u<t.length;u++)if(a(t[u])){for(p=t[u],f=p.metaInfo().inputs,_=[],g=0;g<f.length;g++)d.hasOwnProperty(f[g].id)&&_.push(f[g].id);for(m=p.properties().inputs,g=0;g<_.length;g++)v=_[g],m[v].setValueSilently(d[v]);_.length>0&&m.listeners().fire(m)}},c.prototype.onResetScales=function(){return this._resetScales},c.prototype.resetTimeScale=function(){this.m_timeScale.restoreDefault(),this.recalculateAllPanes(),this.mainSeries().requestMoreData(),this.recalcVisibleRangeStudy(this.dataSources()),this.updateCrossHair(),this.invalidate(new I(I.LIGHT_UPDATE)),this._resetScales.fire()},c.prototype.restoreTimeScaleState=function(t){this.m_timeScale.restoreState(t),this.recalculateAllPanes(),this.updateCrossHair(),this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.restoreFactoryDefaults=function(t){t.restoreFactoryDefaults(),this.recalcVisibleRangeStudy(this.dataSources(),!0),this.mainSeries().onChartStyleChanged()},c.prototype.restoreDefaults=function(t){t.restoreDefaults(),this.recalcVisibleRangeStudy(this.dataSources(),!0),this.mainSeries().onChartStyleChanged()},c.prototype.setSelectedSource=function(t,e){if(!(this.m_selectedSource===t&&this._lastHittestData===e||t&&t.customization&&t.customization.disableSelection)){this._lastHittestData=e;var i=new I;this.m_selectedSource&&(this.m_selectedSource.updateAllViews(),TradingView.alertsDispatcher&&this.m_selectedSource.hasAlert.value()&&this.m_selectedSource.getAlert({fromCache:!0}).done(function(t){t&&t.set("selected",!1)})),
this.m_selectedSource=t,this._selectedSourceChanged.fire(t),t&&(t.updateAllViews(),TradingView.alertsDispatcher&&t.hasAlert.value()&&t.getAlert({fromCache:!0}).done(function(t){t&&t.set("selected",!0)})),i.force=!0,this.invalidate(new I(I.LIGHT_UPDATE)),this.setHoveredSource(t,e)}},c.prototype.checkLineToolSelection=function(){this.m_selectedSource&&this.m_selectedSource instanceof g&&(this.m_selectedSource.calcIsActualSymbol(),this.m_selectedSource.isActualSymbol()||this.setSelectedSource(null))},c.prototype.onSelectedSourceChanged=function(){return this._selectedSourceChanged},c.prototype.setHoveredSource=function(t,e){if(this.m_hoveredSource!==t||this._lastHittestData!==e){this._lastHittestData=e;var i=null;this.m_hoveredSource&&(this.m_hoveredSource.updateAllViews(),i||(i=new I),TradingView.alertsDispatcher&&this.m_hoveredSource.hasAlert.value()&&this.m_hoveredSource.getAlert({fromCache:!0}).done(function(t){t&&t.set("hovered",!1)}),i.merge(this._paneInvalidationMask(this.paneForSource(this.m_hoveredSource),I.LIGHT_UPDATE))),this.m_hoveredSource=t,t&&(t.updateAllViews(),i||(i=new I),i.merge(this._paneInvalidationMask(this.paneForSource(t),I.LIGHT_UPDATE)),TradingView.alertsDispatcher&&t.hasAlert.value()&&t.getAlert({fromCache:!0}).done(function(t){t&&t.set("hovered",!0)})),i&&this.invalidate(i)}},c.prototype.selectedSource=function(){return this.m_selectedSource},c.prototype.hoveredSource=function(){return this.m_hoveredSource},c.prototype.lastHittestData=function(){return this._lastHittestData},c.prototype.invalidate=function(t){this._invalidateHandler&&this._invalidateHandler(t)},c.prototype.dataSources=function(){var t,e,i,o=[];for(o.push(this.m_crossHairSource),t=0;t<this.m_panes.length;++t)for(e=this.m_panes[t].dataSources(),i=0;i<e.length;i++)o.push(e[i]);return o},c.prototype.orderedDataSources=function(t){var e,i,o=[];for(o.push(this.m_crossHairSource),e=0;e<this.m_panes.length;e++)i=this.m_panes[e].orderedSources().slice(),t&&i.reverse(),o=o.concat(i);return o},c.prototype.dataSourceForId=function(t){var e,i;for(i=0;i<this.m_panes.length;++i)if(e=this.m_panes[i].dataSourceForId(t))return e;return null},c.prototype.children=function(t,e){return this.dataSources().filter(function(i){return(!0!==e||!a(i)||!i.isChildStudy())&&i.ownerSource()===t})},c.prototype.setAndSaveCurrentPosition=function(t,e,i,o){this.m_crossHairSource.saveOriginCoord(t,e),this.setCurrentPosition(t,e,i,o)},c.prototype.setCurrentPosition=function(t,e,i,o){var n,r,s,a,l,c,h,d,u,p,f,_,m,v=NaN,y=Math.round(this.m_timeScale.coordinateToIndex(t));if(i&&(n=i.defaultPriceScale(),n.isEmpty()||(v=n.coordinateToPrice(e))),(this._lineBeingCreated||g.isLineTool(this.currentTool()))&&(v=this._magnet.align(v,y,i)),this._isTimeScrolling)return void this.m_crossHairSource.setPosition(this.m_crossHairSource.index,v,i);for(this.m_crossHairSource.setOnHoveredChartWidget(!0),this.m_crossHairSource.setPosition(y,v,i),this.m_crossHairSource.dataWindowView().update(),r=this.m_panes,s=r.length;s--;)for(a=r[s].dataSources(),
l=a.length;l--;)(c=a[l].dataWindowView())&&c.update();this._lineBeingCreated?(this._lineBeingCreated.setLastPoint({index:y,price:v},o),this._lineBeingCreated.updateAllViews(),this.invalidate(new I(I.LIGHT_UPDATE))):this.crossHairSource().startMeasurePoint()?this.invalidate(new I(I.LIGHT_UPDATE)):this.invalidate(new I(I.UPDATE_CURSOR_ONLY)),this._isSettingsExternalPosition||(h=this._undoModel._chartWidget,h._chartWidgetCollection&&(d=this.mainSeries(),(u=d.syncModel())&&(p=this.m_timeScale.points().roughTime(y,u.projectTime.bind(u)),f={timeStamp:p},_=i.mainDataSource(),_ instanceof N&&(f.price=v,f.symbol=_.symbol()),f.syncModel=u,m=this._lineBeingCreated||this._linePointBeingEdited||this._sourceBeingMoved,m=m&&H.drawOnAllCharts().value(),h._chartWidgetCollection.syncCrosshair(f,h,m,o))))},c.prototype.clearCurrentPosition=function(){var t,e,i,o,n,r,s=this.crossHairSource();for(s.clearPosition(),s.dataWindowView().update(),t=this.m_panes,e=t.length;e--;)for(i=t[e].dataSources(),o=i.length;o--;)(n=i[o].dataWindowView())&&n.update();this.invalidate(new I(I.UPDATE_CURSOR_ONLY)),r=this._undoModel._chartWidget,r._chartWidgetCollection&&r._chartWidgetCollection.syncCrosshair(NaN,r)},c.prototype.onSyncScrollNeeded=function(t){var e,i,o,n=this._undoModel._chartWidget;n._chartWidgetCollection&&(e=this.mainSeries(),(i=e.syncModel())&&(o=1e3*this.m_timeScale.points().roughTime(t,i.projectTime.bind(i)),n._chartWidgetCollection.syncScroll(o,this)))},c.prototype.gotoTime=function(t,e){function i(){return p.tickMarks().indexToTime(p.tickMarks().minIndex).valueOf()-t}function o(e){var o,n,r,s,a;if(i()<0){for(o=p.tickMarks().nearestIndex(t),n=h(f.bars().lastIndex()),o=Math.min(o,n),r=p.tickMarks().indexToTime(o).valueOf();r<t&&o<n;)o++,r=p.tickMarks().indexToTime(o).valueOf();return s=p.visibleBars(),a=s.lastBar()-s.firstBar(),!e&&s.contains(o)||(p.zoomToBarsRange(o-a/2,o+a/2),f.requestMoreData()),{timestamp:p.indexToTimePoint(o)}}}var n,r,s,a,l,c,d,u,p=this.timeScale(),f=this.mainSeries();if(e&&e.model&&(n=f.syncModel())&&(r=this._createSyncPoint(e.model.mainSeries().syncModel(),n),t=1e3*r.sourceTimeToTargetTime(t/1e3)),e=e||{centerIfVisible:!0},t)this._scrollingState&&this._scrollingState.deferred.reject(),s=$.Deferred(),this._scrollingState={targetDate:t,deferred:s,centerIfVisible:e.centerIfVisible};else{if(!this._scrollingState)return G.logError("scrollTo called without an argument"),$.Deferred().reject().promise();t=this._scrollingState.targetDate,s=this._scrollingState.deferred}return a=o(this._scrollingState.centerIfVisible),a||(l=p.tickMarks().minIndex,c=p.visibleBars(),d=c.lastBar()-c.firstBar(),f.endOfData()?(p.zoomToBarsRange(l-d/2,l+d/2),a={timestamp:p.indexToTimePoint(l),eod:!0}):(u=this.timeScale().tickMarks().estimateLeft(t),f.requestMoreData(Math.ceil(u+d/2)))),a&&(this.fullUpdate(),this._scrollingState=null,s.resolve(a)),s.promise()},c.prototype._createSyncPoint=function(t,e){var i,o,n=this._syncPointCache[t.uniqueId()];if(n){if(i=n[e.uniqueId()])return i}else this._syncPointCache[t.uniqueId()]={};return o=new U(t,e),
this._syncPointCache[t.uniqueId()][e.uniqueId()]=o,o},c.prototype.setExternalPosition=function(t,e){var i,o,n,r,s,a,l,c,h,d,u,p=this.crossHairSource();if(p.setOnHoveredChartWidget(!1),!Number.isNaN(t)&&isNumber(t.timeStamp)&&(o=this.mainSeries(),(n=o.syncModel())&&(r=this._createSyncPoint(t.syncModel,n),s=r.sourceTimeToTargetTime(t.timeStamp),i=this.m_timeScale.points().roughIndex(s,n.distance.bind(n)))),this.mainSeries().symbol()===t.symbol)return this._isSettingsExternalPosition=!0,a=this.paneForSource(this.mainSeries()),l=this.m_timeScale.indexToCoordinate(i),c=this.mainSeries().priceScale().priceToCoordinate(t.price,!0),this.setCurrentPosition(l,c,a,e||{}),p.setOnHoveredChartWidget(!1),void delete this._isSettingsExternalPosition;for(isFinite(i)?p.setPosition(i,NaN,null):(p.clearPosition(),p.dataWindowView().update()),h=this.dataSources(),d=h.length;d--;)(u=h[d].dataWindowView())&&u.update();this.invalidate(new I(I.UPDATE_CURSOR_ONLY))},c.prototype.updateCrossHair=function(){this.m_crossHairSource.update()},c.prototype.updateTimeScale=function(t,e,i,o,n,r){var s,a,l;if(r)for(this.m_timeScale.reset(),s=this.dataSources(),a=0;a<s.length;a++)s[a].clearData&&s[a].clearData();if(o.length>0)for(s=this.dataSources(),a=0;a<s.length;a++)s[a].moveData&&s[a].moveData(o);this.m_timeScale.update(t,e,i,n),l="ChartModel.prototype.updateTimeScale("+t+","+e+","+i.length+","+o.length+","+n.length+","+r+")",l+="TimeScale: {first:"+this.m_timeScale.m_points.firstIndex()+",last:"+this.m_timeScale.m_points.lastIndex()+"}",G.logDebug(l),this.recalculateAllPanes(),this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.updateTimeScaleBaseIndex=function(t){var e,i,o,n,r,s=this.mainSeries().bars();s.isEmpty()||(e=this.timeScale(),i=e.baseIndex(),o=h(s.lastIndex()),n=e.visibleBars().contains(i),t&&t.earliestRow.index>0&&!n&&(r=o-i,e.setRightOffset(e.rightOffset()-r)),e.setBaseIndex(o))},c.prototype.recalculatePane=function(t){t&&t.recalculate()},c.prototype.paneForSource=function(t){for(var e=this.m_panes.length-1;e>=0;e--)if(-1!==this.m_panes[e].dataSources().indexOf(t))return this.m_panes[e];return t instanceof x?this.paneForSource(this.m_mainSeries):null},c.prototype.recalculateAllPanes=function(){for(var t=0;t<this.m_panes.length;++t)this.m_panes[t].recalculate();this.updateAllPaneViews()},c.prototype._invalidateBarColorerCaches=function(){var t,e,i=this.dataSources();for(t=0;t<i.length;++t)(e=i[t])instanceof N&&e.invalidateBarColorerCache()},c.prototype.addStrategySource=function(t){~this.strategySources.indexOf(t)||(this.strategySources.push(t),this.strategySources.change.fire())},c.prototype.removeStrategySource=function(t){var e=this.strategySources.indexOf(t);~e&&(this.strategySources.splice(e,1),this.strategySources.change.fire())},c.prototype.setActiveStrategySource=function(t){~this.strategySources.indexOf(t)&&this._activeStrategySource.setValue(t)},c.prototype.unsetActiveStrategySource=function(){this._activeStrategySource.setValue(null)},c.prototype.activeStrategySource=function(){return this._activeStrategySource},
c.prototype.insertStudy=function(t,e,i,o){var n,r,s,l,c,h=null;return-1===["Study_ESD$TV_SPLITS@tv-scripting","Study_ESD$TV_DIVIDENDS@tv-scripting","Study_ESD$TV_SPLITS@tv-scripting","Volume@tv-basicstudies","Sessions@tv-basicstudies"].indexOf(t.id)&&j("studies","Study_"+t.id),n=!1,i||t.is_price_study?h=this.paneForSource(o||this.mainSeries()):(h=this.createPane(),e&&e.paneSize&&h.setPaneSize(e.paneSize),n=!0),"Compare@tv-basicstudies"===t.id&&(j("compare","symbol:"+e.inputs.symbol),this.m_mainSeries.priceScale().properties().log.setValue(!1),this.m_mainSeries.priceScale().properties().percentage.setValue(!0)),r=E(t,e,h,this.studyVersioning(),o),s=D(this,r,o||this.mainSeries(),t),this._recalcVisibleRangeStudy([s],!0),s.start(),s.childStudyByRebind().subscribe(null,function(){j("SOS","Apply SOS","Rebind SOS")}),l=s.metaInfo().priceScale||z.Right,!n&&a(o)&&(c=o.isNoScale()?null:o.priceScale()),c||(l===z.Right?c=h.rightPriceScale():l===z.Left?c=h.leftPriceScale():t.is_price_study?c=null:(G.logWarn("Cannot add study "+s.metaInfo().id+" with 'No Scale' setting, because study is not a price study. Using right price scale."),c=h.rightPriceScale())),i?h.addDataSource(s,null):h.addDataSource(s,c),s.properties().linkedToSeries&&s.properties().linkedToSeries.value()&&s.setOwnerSource(this.mainSeries()),this.recalculatePane(h),this.invalidate(new I(I.FULL_UPDATE)),this._invalidateBarColorerCaches(),this.recalcVisibleRangeStudy(this.dataSources(),!0),this._studyInserted.fire(s),h.updateAlertLabelsSources(),s},c.prototype.studyInserted=function(){return this._studyInserted},c.prototype.replaceStudyStub=function(t,e){var i,o,n,r=this.paneForSource(t);return null!==r&&(i=t.isNoScale()?null:t.priceScale(),o=t.zorder(),n=t.ownerSource(),r.insertDataSource(e,i,o),e.setOwnerSource(n),this.panes().forEach(function(i){i.dataSources().forEach(function(i){i._ownerSource===t&&i.setOwnerSource(e)})}),this.removeSource(t),e.start(),this.recalculatePane(r),this.invalidate(new I(I.FULL_UPDATE)),!0)},c.prototype.insertStudyStub=function(t){var e=this.mainSeries(),i=this.paneForSource(e),o=new V(this,null,t);return i.addDataSource(o,null),this.recalculatePane(i),this.invalidate(new I(I.FULL_UPDATE)),o},c.prototype.removeStudyStub=function(t){var e=this.dataSourceForId(t);return void 0===e?(G.logNormal("StudyStub id="+t+" is not found in chart model"),!1):(this.removeSource(e),!0)},c.prototype.detachSource=function(t,e){var i=this.paneForSource(t);if(i)return i.removeDataSource(t),i.isEmpty()?(this._lineBeingCreated&&i===this._paneBeingCreatedLineOn&&this.cancelCreatingLine(),this.removePane(i,e),!0):(this.invalidate(new I(I.FULL_UPDATE)),this._alertsList&&this._alertsList.trigger("reset"),!1)},c.prototype.removeSource=function(t,e){var i,o,n,r;if(t===this.m_selectedSource&&this.setSelectedSource(null),t===this._sourceBeingMoved&&(this._sourceBeingMoved=null,this._linePointBeingMoved=null),t.stop&&t.stop(),i=this.detachSource(t,e),t.metaInfo&&t.metaInfo()&&"Compare@tv-basicstudies"===t.metaInfo().id){for(o=this.paneForSource(this.m_mainSeries),
n=o.dataSources(),r=0;r<n.length;r++)if(n[r].metaInfo&&"Compare@tv-basicstudies"===n[r].metaInfo().id)return;this.m_mainSeries.priceScale().properties().percentage.setValue(!1)}return this.invalidate(new I(I.FULL_UPDATE)),this._invalidateBarColorerCaches(),t.linkKey&&H.removeLineTool({model:this,linkKey:t.linkKey}),a(t)&&t.isChildStudy()&&t.source().unsetChild(t),t.destroy&&t.destroy(),i},c.prototype._isStudyOrMainSeries=function(t){return TradingView.isInherited(t.constructor,R)||t===this.m_mainSeries},c.prototype.isMergeUpAvailableForSource=function(t){return!!this._isStudyOrMainSeries(t)&&this.paneForSource(t)!==this.panes()[0]},c.prototype.mergeSourceUp=function(t){var e,i,o,n;this.isMergeUpAvailableForSource(t)&&(e=this.paneForSource(t),i=this.panes().indexOf(e),o=this.panes()[i-1],n=o.findSuitableScale(t),this.move(t,o,n))},c.prototype.isMergeDownAvailableForSource=function(t){var e,i;return!!this._isStudyOrMainSeries(t)&&(e=this.paneForSource(t),i=this.panes(),e!==i[i.length-1])},c.prototype.mergeSourceDown=function(t){var e,i,o,n;this.isMergeDownAvailableForSource(t)&&(e=this.paneForSource(t),i=this.panes().indexOf(e),o=this.panes()[i+1],n=o.findSuitableScale(t),this.move(t,o,n))},c.prototype.isUnmergeAvailableForSource=function(t){var e,i;return!!this._isStudyOrMainSeries(t)&&(e=this.paneForSource(t),i=e.dataSources().filter(function(t){return TradingView.isInherited(t.constructor,C)&&t.showInObjectTree()}),i.length>1)},c.prototype.unmergeSourceUp=function(t){var e,i,o,n;this.isUnmergeAvailableForSource(t)&&(e=this.paneForSource(t),i=this.panes().indexOf(e),o=this.createPane(i),n=o.findSuitableScale(t),this.move(t,o,n))},c.prototype.unmergeSourceDown=function(t){var e,i,o,n;this.isUnmergeAvailableForSource(t)&&(e=this.paneForSource(t),i=this.panes().indexOf(e),o=this.createPane(i+1),n=o.findSuitableScale(t),this.move(t,o,n))},c.prototype.move=function(t,e,i){var o,n,r,s,a=this.children(t,!0),l=this.paneForSource(t),c=e?e.priceScaleName(i):"right";if(l===e){for(o=e.priceScaleByName(c),n=0;n<a.length;n++)e.move(a[n],o);e.move(t,o)}else{for(r=e||this.createPane(),s=r.priceScaleByName(c),n=0;n<a.length;n++)this.detachSource(a[n]);for(n=0;n<a.length;n++)r.addDataSource(a[n],s);this.detachSource(t),r.addDataSource(t,s)}this._alertsList&&this._alertsList.trigger("reset"),this.invalidate(new I(I.FULL_UPDATE))},c.prototype.isSingleInstanceLineTool=function(t){return"LineStudyMtpRiskReward"===t||"LineStudyMtpAnalysis"===t},c.prototype._externalTimeStamp=function(t){var e=this.mainSeries().syncModel();return this.m_timeScale.points().roughTime(t,e&&e.projectTime.bind(e))},c.prototype.createLineTool=function(t,e,i,o,n){var r,s,a,l,c,h,u,p,f,g,m;return _.isValid(i)?(this.isSingleInstanceLineTool(i)&&this._undoModel.removeAllDrawingTools(i),"LineToolExecution"!==i&&j("drawings","Study_Drawing_"+i),o&&(r=o.state(),s=TradingView.factoryDefaults("linetool"),a=i.toLowerCase(),TradingView.merge(s,TradingView.factoryDefaults(a)),o=TradingView[i].prototype.createPropertiesObject(a,s),o.merge(r)),
l=_.create(i,this,o,null,t.mainDataSource()),o||(o=l.properties()),c=!l.linkKey&&!n,H.drawOnAllCharts().value()?l.linkKey=n||q.randomHash():l.linkKey=n,l.toolname=i,l.setOwnerSource(t.mainDataSource()),h=t.defaultPriceScale(),t.addDataSource(l,h),p=this.m_timeScale.indexToCoordinate(e.index),f=h.priceToCoordinate(e.price),l.isFixed()?u=l.addFixedPoint(new d(p,f)):(g=l.constructor,g.skipMagnetting||(e.price=this._magnet.align(e.price,e.index,t)),u=l.addPoint(e)),u||(this._lineBeingCreated=l,this._paneBeingCreatedLineOn=t),c&&l.enableCurrentIntervalVisibility(),this.invalidate(new I(I.FULL_UPDATE)),n||!H.drawOnAllCharts().value()||l.properties().singleChartOnly||(m=this._externalTimeStamp(e.index),H.createLineTool({point:{price:e.price,timeStamp:m},linetool:i,properties:o,symbol:this.mainSeries().symbol(),model:this,linkKey:l.linkKey})),l):null},c.prototype.lineBeingCreated=function(){return this._lineBeingCreated},c.prototype.paneBeingCreatedLineOn=function(){return this._paneBeingCreatedLineOn},c.prototype.coninueCreatingLine=function(t,e,i,o){var n,r,s,a,l,c=this.paneForSource(this._lineBeingCreated);return t.price=this._magnet.align(t.price,t.index,c),n=this._lineBeingCreated.addPoint(t,e,i),r=this._lineBeingCreated,this._lineBeingCreated.updateAllViews(),s=new I(I.LIGHT_UPDATE),a=null,n&&(a={points:this._lineBeingCreated._timePoint,interval:this.mainSeries().interval()},this._paneBeingCreatedLineOn=null,this._lineBeingCreated=null,s.force=!0),this.invalidate(s),o||!H.drawOnAllCharts().value()||r.properties().singleChartOnly||(l=this._externalTimeStamp(t.index),H.continueLineTool({point:{price:t.price,timeStamp:l},envState:e,finalState:a,model:this})),n},c.prototype.cancelCreatingLine=function(){if(this._lineBeingCreated){var t=this._lineBeingCreated;this.removeSource(this._lineBeingCreated),this._lineBeingCreated=null,this._lineCancelled.fire(),H.drawOnAllCharts().value()&&!t.properties().singleChartOnly&&H.cancelLineTool({model:this})}},c.prototype.startChangingLinetool=function(t,e,i,o){var n,r,s;this._lineBeingEdited=t,this._linePointBeingEdited=i,this._lineBeingEdited.startChanging(i,e),n=this.paneForSource(t),e.price=this._magnet.align(e.price,e.index,n),this._lineBeingEdited.startDragPoint&&this._lineBeingEdited.startDragPoint(i,e),this._lineBeingEdited.setPoint(i,e,o),this._lineBeingEdited.updateAllViews(),r=this._paneInvalidationMask(n,I.LIGHT_UPDATE),r.force=!0,this.invalidate(r),t.linkKey&&!t.properties().singleChartOnly&&(s=this._externalTimeStamp(e.index),H.startChangingLineTool({linkKey:t.linkKey,model:this,symbol:this.mainSeries().symbol(),point:{price:e.price,timeStamp:s},pointIndex:i,envState:o}))},c.prototype.lineBeingEdited=function(){return this._lineBeingEdited},c.prototype.linePointBeingEdited=function(){return this._linePointBeingEdited},c.prototype.changeLinePoint=function(t,e){var i,o,n,r,s=this.paneForSource(this._lineBeingEdited);void 0!==t.x&&void 0!==t.y?(n=this._lineBeingEdited.priceScale(),i=n.coordinateToPrice(t.y),o=Math.round(this.timeScale().coordinateToIndex(t.x)),
i=this._magnet.align(i,o,s),this._lineBeingEdited.setPoint(this._linePointBeingEdited,{price:i,index:o},e)):this._lineBeingEdited.setPoint(this._linePointBeingEdited,t,e),this._lineBeingEdited.updateAllViews(),this.invalidate(new I(I.LIGHT_UPDATE)),this._lineBeingEdited.linkKey&&!this._lineBeingEdited.properties().singleChartOnly&&(r=this._externalTimeStamp(o),H.changeLineTool({linkKey:this._lineBeingEdited.linkKey,model:this,symbol:this.mainSeries().symbol(),point:{price:i,timeStamp:r},envState:e}))},c.prototype.endChangingLinetool=function(t){var e,i,o=this._lineBeingEdited;this._lineBeingEdited.endChanging(!1,t),this._lineBeingEdited=null,this._linePointBeingEdited=null,e=new I(I.LIGHT_UPDATE),e.force=!0,this.invalidate(e),i={points:o._timePoint,interval:this.mainSeries().interval()},o.linkKey&&!o.properties().singleChartOnly&&H.finishChangingLineTool({model:this,linkKey:o.linkKey,symbol:this.mainSeries().symbol(),finalState:i})},c.prototype.startMovingSource=function(t,e,i){var o,n,r;this._sourceBeingMoved=t,this._linePointBeingMoved=i,this._sourceBeingMoved.startMoving(e,i),o=this.paneForSource(this._sourceBeingMoved),n=this._paneInvalidationMask(o,I.LIGHT_UPDATE),n.force=!0,this.invalidate(n),t.linkKey&&!t.properties().singleChartOnly&&(r=this._externalTimeStamp(e.index),H.startMovingLineTool({linkKey:t.linkKey,model:this,symbol:this.mainSeries().symbol(),point:{price:e.price,timeStamp:r}}))},c.prototype.sourceBeingMoved=function(){return this._sourceBeingMoved},c.prototype.moveSource=function(t){if(this._sourceBeingMoved.move(t,this._linePointBeingMoved),this.invalidate(new I(I.LIGHT_UPDATE)),this._sourceBeingMoved.linkKey&&!this._sourceBeingMoved.properties().singleChartOnly){var e=this._externalTimeStamp(t.index);H.moveLineTool({linkKey:this._sourceBeingMoved.linkKey,model:this,point:{price:t.price,timeStamp:e}})}},c.prototype.endMovingSource=function(t){var e,i,o=this._sourceBeingMoved,n=this.paneForSource(this._sourceBeingMoved);this._sourceBeingMoved.endMoving(t),this._sourceBeingMoved=null,this._linePointBeingMoved=null,e=this._paneInvalidationMask(n,I.LIGHT_UPDATE),e.invalidateAll(I.LIGHT_UPDATE),e.force=!0,this.invalidate(e),o instanceof g&&(i={points:o._timePoint,interval:this.mainSeries().interval()},o.linkKey&&!o.properties().singleChartOnly&&H.finishMovingLineTool({linkKey:o.linkKey,model:this,finalState:i}))},c.prototype.finishLineTool=function(t){var e=this.lineBeingCreated();e&&(e.finish&&e.finish(),!t&&H.drawOnAllCharts().value()&&e.linkKey&&!e.properties().singleChartOnly&&H.finishLineTool({linkKey:e.linkKey,model:this}))},c.prototype.calculateDefaultTags=function(){var t,e,i=[],o=this.dataSources();for(t=0;t<o.length;t++)e=o[t],e.tags&&(i=i.concat(e.tags()));return i},c.prototype.changeZOrder=function(t,e){this.paneForSource(t).changeZOrder(t,e),this.invalidate(new I(I.FULL_UPDATE))},c.prototype.sendToBack=function(t){this.paneForSource(t).sendToBack(t),this.invalidate(new I(I.FULL_UPDATE))},c.prototype.bringToFront=function(t){this.paneForSource(t).bringToFront(t),
this.invalidate(new I(I.FULL_UPDATE))},c.prototype.onTagsChanged=function(){return this._tagsChanged},c.prototype.onPaneTagsChanged=function(){this._tagsChanged.fire()},c.prototype.setTimeViewport=function(t,e){this.timeScale().zoomToBarsRange(t,e),this.recalculateAllPanes(),this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.zoomToViewport=function(t,e,i,o,n){var s,a,l;this.setTimeViewport(t,e),s=Math.min(i,o),a=Math.max(i,o),l=n.defaultPriceScale(),l.setAutoScale(!1),l.isLog()&&(s=l.priceToLogical(s),a=l.priceToLogical(a)),l.setPriceRange(new r(s,a)),this.recalculateAllPanes(),this.invalidate(this._paneInvalidationMask(n,I.LIGHT_UPDATE))},c.prototype.clearAllStudies=function(){var t,e=this.dataSources();for(t=0;t<e.length;t++)e[t].clearData&&e[t].clearData()},c.prototype.allStudies=function(){return this._getAllSources(a)},c.prototype.allLineTools=function(){return this._getAllSources(l)},c.prototype.getStudyById=function(t){var e=this.dataSourceForId(t);return null!==e&&a(e)?e:null},c.prototype.getLineToolById=function(t){var e=this.dataSourceForId(t);return null!==e&&l(e)?e:null},c.prototype._getAllSources=function(t){var e,i,o,n,r,s,a=[],l=this.m_panes,c=l.length;for(e=0;e<c;++e)for(i=l[e],o=i.dataSources(),n=o.length,r=0;r<n;++r)s=o[r],t(s)&&a.push(s);return a},c.prototype.getStudyById=function(t){var e=this.dataSourceForId(t);return e instanceof R?e:null},c.prototype.backgroundColor=function(){return this._properties.paneProperties.background._value},c.prototype.backgroundCounterColor=function(){return"black"===f(p(this.backgroundColor()),150)?"white":"black"},c.prototype.isDark=function(){return"white"===this.backgroundCounterColor()},c.prototype.canZoomIn=function(){return this.m_timeScale.canZoomIn()&&o.enabled("chart_zoom")},c.prototype.canZoomOut=function(){return this.m_timeScale.canZoomOut()&&o.enabled("chart_zoom")},c.prototype.updateAllVolumeStudies=function(){var t,e,i,o,n,r,s=this.m_panes;for(t=s.length;t--;)for(e=!1,i=s[t],o=i.dataSources(),n=o.length;n--;)r=o[n],a(r)&&"Volume"===r.metaInfo().shortId&&(r.updateAllViews(),e||(this.updatePane(i),e=!0))},c.prototype._initAlertsList=function(){function t(){TradingView.alertsDispatcher.requestList({symbol:i.mainSeries().actualSymbol(),resolution:i.mainSeries().interval(),active:!0,success:function(){i._alertsList.syncCollections()},error:function(){i._alertsList.reset()}})}function e(e){i.mainSeries().onSymbolResolved()[e](i,t),i.mainSeries().onSymbolError()[e](i,i._removeAllAlertLabelsFromChart),i.mainSeries().properties().interval[e](i,t)}var i=this;i._alertsList=new L({observableCollection:TradingView.alertsDispatcher.alerts,syncEvents:["change:active","change:crossInterval","change:resolution","change:symbol"],validator:function(t){return(t.get("active")||t.isNew())&&(t.get("crossInterval")||t.get("resolution")===i.mainSeries().interval())&&t.get("symbol")===i.mainSeries().actualSymbol()}}),i._alertsList.on("add",function(t){i._addAlertLabelToChart(t)}),i._alertsList.on("remove",function(t){i._removeAlertLabelFromChart(t)}),
i._alertsList.on("reset",function(){var t,e=i._alertsList.models;for(i._removeAllAlertLabelsFromChart(),t=e.length-1;t>=0;t--)i._addAlertLabelToChart(e[t])}),i._alertsList.on("change:alertSeries",function(t){i._removeAlertLabelFromChart(t),i._addAlertLabelToChart(t)}),i._alertsList.syncCollections(),loginStateChange.subscribe(i,function(){e(is_authenticated?"subscribe":"unsubscribe")}),is_authenticated&&(e("subscribe"),t())},c.prototype._addAlertLabelToChart=function(t){function e(t,e){var i,o;e&&(i=e.mainDataSource(),(o=e.priceScaleForSource(i)||e.rightPriceScale()||e.leftPriceScale())&&e.addDataSource(new k(s,t),o))}function i(t){var e,i,o,n,r,a=[];for(e=0;e<s.m_panes.length;e++)for(i=s.m_panes[e],o=i.dataSources(),n=0;n<o.length;n++)r=o[n],r.idForAlert()===t&&a.push(i);return a}var o,n,r,s=this;if(t.get("extra")){if(o=t.get("extra").alertSeries().id,n=i(o),n.length)for(r=0;r<n.length;r++)e(t,n[r]);else t.isOHLC()&&e(t,this.paneForSource(this.m_mainSeries));this.invalidate(new I(I.LIGHT_UPDATE))}},c.prototype._removeAlertLabelFromChart=function(t){function e(e){return e.alert&&e.alert()&&e.alert().id===t.id}var i,o,n,r=this.m_panes;for(i=r.length-1;i>=0;i--)o=r[i],(n=s.find(o.dataSources(),e))&&o.removeDataSource&&o.removeDataSource(n);this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype._removeAllAlertLabelsFromChart=function(){var t,e,i,o=this.m_panes;for(t=o.length-1;t>=0;t--)for(e=o[t].dataSources(),i=e.length-1;i>=0;i--)e[i]instanceof k&&o[t].removeDataSource(e[i]);this.invalidate(new I(I.LIGHT_UPDATE))},c.prototype.alertsList=function(){return this._alertsList},c.prototype.setAlertsStudiesList=function(t){this._alertsStudiesList=$.map($.grep(t,function(t){var e,i=t.plots||[];for(e=0;e<i.length;e++)if("line"===i[e].type)return!0;return!1}),function(t){return t.id})},c.prototype.canCreateAlertForDataSource=function(t){function e(t){var e,i,o,n;if(t=t,t instanceof Q&&(t=t.bars()),t instanceof tt&&(t=t.state().data),!$.isArray(t))return!0;for(e=t.length-1;e>=0;e--){if(i=t[e],!$.isArray(i.value))return!0;for(o=i.value.length-1;o>0;o--)if(null!==(n=i.value[o])&&void 0!==n&&!TradingView.isNaN(n))return!0}return!1}var i,n,r,s,a,l,c,h,d,u,p;return!!o.enabled("alerts")&&(i=function(){return t.data()&&!t.data().isEmpty()&&e(t.data())},n="function"==typeof t.idForAlert,r=t===this.mainSeries(),s=t instanceof R,a=t instanceof Z||t instanceof J||t instanceof K,l=t.metaInfo?t.metaInfo():null,c=!!l&&l.isTVScript,h=!!l&&l.isTVScriptStrategy,d=function(){var e,i=t.stateForAlert&&t.stateForAlert();return!!i&&((e=et.create(i).getPlots())&&e.length)},u=function(){var e=t.stateForAlert&&t.stateForAlert();return!!e&&!(!e.alerts||!e.alerts.conditions)},p=!!l&&-1!==$.inArray(l.fullId,this._alertsStudiesList),!!r||!h&&!a&&n&&s&&(c?u()||d()&&i():p&&i()))},c.prototype.setInterval=function(t,e){var i=setInterval(t,e);return this._modelIntervals.push(i),i},c.prototype.clearInterval=function(t){clearInterval(t);var e=this._modelIntervals.indexOf(t);e>-1&&this._modelIntervals.splice(e,1)},c.prototype.clearIntervals=function(){
for(var t=0;t<this._modelIntervals.length;t++)clearInterval(this._modelIntervals[t]);this._modelIntervals=[]},c.prototype.destroy=function(){var t;for(t=0;t<this._barsMarksSources.length;t++)this._barsMarksSources[t].destroy();for(this.clearIntervals(),H.hideAllDrawings().unsubscribe(this,this.visibilityChangeHandler),this.resetDeferredStudies(),this._brandingSource&&this._brandingSource.destroy(),t=0;t<this._barsMarksSources.length;t++)this._barsMarksSources[t].destroy();for(t=0;t<this.m_panes.length;t++)this.m_panes[t].destroy();this.m_panes.length=0},c.prototype.countUserStudies=function(t){var e,i,o,n,r,s,l=0;for(t=t||{},e=0;e<this.m_panes.length;e++)for(i=this.m_panes[e].dataSources(),o=0;o<i.length;o++)if(n=i[o],a(n)&&n.showInObjectTree()){if(r=n.metaInfo&&n.metaInfo()){if(s=r.id,t.dontCountVolume&&"Volume@tv-basicstudies"===s)continue;if(t.dontCountCompare&&"Compare@tv-basicstudies"===s)continue;if(t.dontCountOverlay&&"Overlay@tv-basicstudies"===s)continue}l++}return l},c.prototype.isJustClonedChart=function(){return this._undoModel.isJustClonedChart()},c.prototype.copyToOtherCharts=function(t){var e,i,o,n;t.linkKey=t.linkKey||q.randomHash(),e=this,i=t.state(),o=this.mainSeries(),(n=o.syncModel())&&(i.points=t._timePoint.map(function(t){var i=e.timeScale().timePointToIndex(t.time_t)+t.offset;return{price:t.price,timeStamp:e._externalTimeStamp(i)}}),i.linetool=t.getType(),i.model=this,i.symbol=this.mainSeries().symbol(),i.finalState={points:t._timePoint,interval:this.mainSeries().interval()},H.copyLineTool(i))},c.prototype.restoreSource=function(t,e,i,o,n){var r,s,a,l,c,h,d,u;return r=t?this.createPane(e):this.panes()[e],a=o.type,s=a.toLowerCase().startsWith("study")?r._restoreStudy(o):r._restoreLineTool(o),l=s.ownerSource()?s.ownerSource().priceScale():r.priceScaleByName(n),l?(s.setPriceScale(l),l.addDataSource(s)):(l=new T(this.properties().scalesProperties),l.setHeight(r.m_height),c=s.metaInfo&&"Volume@tv-basicstudies"===s.metaInfo().id,h=c?.75:r.m_rightPriceScale.topMargin(),d=c?0:r.m_rightPriceScale.bottomMargin(),l.setTopMargin(h),l.setBottomMargin(d),l.addDataSource(s),s.setPriceScale(l),s._isOverlay=!0),u=null,o.ownerSource&&(u=r.dataSourceForId(o.ownerSource)),s.setOwnerSource(u),s.setPriceScale(l),s.start(),s.restore&&s.restore(),t&&r.restoreState(i),this.recalculateAllPanes(),this.mainSeries().invalidateBarColorerCache(),this.invalidate(new I(I.FULL_UPDATE,!0)),s.linkKey&&H.restoreLineTool({model:this,linkKey:s.linkKey,state:{restorePane:t,paneIndex:e,paneState:i,sourceState:o,priceScaleName:n}}),s},c.prototype.restoreLineToolState=function(t,e){t.restorePoints(e.points,e.indexes||[]),t.properties().merge(e.state),t.restoreData&&t.restoreData(e),t.createServerPoints(),this.invalidate(new I(I.FULL_UPDATE)),t.linkKey&&H.restoreLineToolState({model:this,linkKey:t.linkKey,state:e})},c.prototype.createBrandingSource=function(){this._brandingSource=new P(this)},c.prototype.onChartThemeLoaded=function(){return this._chartThemeLoaded},c.prototype.chartThemeLoaded=function(){this._chartThemeLoaded.fire()},
c.prototype.selectBarMode=function(){return this.m_crossHairSource.selectBarMode()},c.prototype.toggleSelectBarMode=function(){this.m_crossHairSource.toggleSelectBarMode()},c.prototype.onBarSelected=function(){return this.m_crossHairSource.onBarSelected()},c.prototype.isSeriesStyleSupported=function(t){return this.m_mainSeries.isStyleSupported(t)},c.prototype.getStudyShiftColorStartOffset=function(){return this._studyShiftColorStartOffset},c.prototype.setStudyShiftColorStartOffset=function(t){this._studyShiftColorStartOffset=t},c.prototype.isInReplay=function(){return this.m_mainSeries.isInReplay()},c.prototype.switchToReplay=function(t){this.m_mainSeries.switchToReplay(t)},c.prototype.switchToRealtime=function(){this.m_mainSeries.switchToRealtime(),this.m_timeScale.resetRightOffset()},t.exports=c}).call(e,i(4),i(3),i(22),i(79),i(29))},function(t,e,i){"use strict";function o(){s.call(this)}function n(t,e){this._constructor="LineToolFibRetracement";var r=e||this.createPropertiesObject("linetoolfibretracement");a.call(this,t,r),this.version=n.version,this._properties._stateVersion=1,t._fibRetracementLabelsCache||(t._fibRetracementLabelsCache=new o),i.e(11).then(function(t){var e=i(1189).FibRetracementPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(31),s=i(133),a=i(1).LineDataSource,l=i(2).propertyPages;inherit(o,s),o.prototype.levelsCount=function(){return n.LevelsCount},inherit(n,a),n.version=2,n.LevelsCount=24,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.stop=function(){a.prototype.stop.call(this),this._model._fibRetracementLabelsCache.removeSource(this.id())},n.prototype.pointsCount=function(){return 2},n.prototype.title=function(){return"Fib Retracement"},n.prototype.migrateVersion=function(t,e,i){1===t&&this.properties().extendLines.setValue(!0)},n.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},n.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[1,24],names:["coeff","color","visible"]})},n.prototype.getStylesPropertyPage=function(){return l.LineToolFibRetracementStylesPropertyPage},e.LineToolFibRetracement=n},function(t,e,i){"use strict";(function(e){function i(t){e.call(this,""),this.subscribe(this,i.prototype.checkSelfColor),this.reloadProperties(t)}inherit(i,e),i.prototype.reloadProperties=function(t){for(;this._childs.length>0;)this.removeProperty(this._childs[0]);this._initValues=[];for(var e=0;e<t.length;++e)this._initValues.push(t[e].defaultValue),this.addChild(e,t[e].property);this.checkSelfColor()},i.prototype.setValue=function(t,i){if(this._value!==t||i){var o=this;this._childs.forEach(function(e){o[e].setValue(t||o._initValues[e])}),e.prototype.setValue.call(this,t,i)}},i.prototype.checkSelfColor=function(){var t,i=!0;for(t=0;t<this._initValues.length;++t)if(this[t].value()!==this[0].value()){i=!1;break}e.prototype.setValue.call(this,i?this[0].value():"")},t.exports=i}).call(e,i(37))},function(t,e,i){"use strict";function o(){
a.call(this)}function n(t,e){this._constructor="LineToolFibChannel";var s=e||this.createPropertiesObject("linetoolfibchannel");r.call(this,t,s),this.version=n.version,t._fibChannelLabelsCache||(t._fibChannelLabelsCache=new o),i.e(11).then(function(t){var e=i(1190).FibChannelPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(1).LineDataSource,s=i(31),a=i(133),l=i(2).propertyPages;inherit(o,a),o.prototype.levelsCount=function(){return n.LevelsCount},inherit(n,r),n.LevelsCount=24,n.version=2,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.migrateVersion=function(t,e,i){i.properties.removeProperty("reverse")},n.prototype.pointsCount=function(){return 3},n.prototype.title=function(){return"Fib Channel"},n.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},n.prototype.createPropertiesObject=function(t,e,i){return new s(t,e,i,{range:[1,24],names:["coeff","color","visible"]})},n.prototype.getStylesPropertyPage=function(){return l.LineToolFibChannelStylesPropertyPage},e.LineToolFibChannel=n},function(t,e,i){"use strict";function o(){a.call(this)}function n(t,e){this._constructor="LineToolFibSpeedResistanceArcs";var n=e||this.createPropertiesObject("linetoolfibspeedresistancearcs");r.call(this,t,n),t._fibSpeedResistanceArcsLabelsCache||(t._fibSpeedResistanceArcsLabelsCache=new o),i.e(11).then(function(t){var e=i(1191).FibSpeedResistanceArcsPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(1).LineDataSource,s=i(31),a=i(133),l=i(2).propertyPages;inherit(o,a),o.prototype.levelsCount=function(){return n.LevelsCount},inherit(n,r),n.LevelsCount=11,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.pointsCount=function(){return 2},n.prototype.title=function(){return"Fib Speed Resistance Arcs"},n.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},n.prototype.createPropertiesObject=function(t,e,i){return new s(t,e,i,{range:[1,11]})},n.prototype.getStylesPropertyPage=function(){return l.LineToolFibSpeedResistanceArcsStylesPropertyPage},e.LineToolFibSpeedResistanceArcs=n},function(t,e,i){"use strict";function o(){a.call(this)}function n(t,e){this._constructor="LineToolProjection";var o=e||this.createPropertiesObject("linetoolprojection");l.call(this,t,o),i.e(11).then(function(t){var e=i(1192).ProjectionLinePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(31),s=i(484).LineToolFibWedge,a=i(133),l=i(1).LineDataSource,c=i(2).propertyPages;inherit(o,a),o.prototype.levelsCount=function(){return 1},inherit(n,s),n.prototype.title=function(){return"Projection"},n.prototype.getCache=function(){return this._model._projectionLabelsCache||(this._model._projectionLabelsCache=new o),this._model._projectionLabelsCache},n.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[1,1]})},
n.prototype.getStylesPropertyPage=function(){return c.LineToolProjectionStylesPropertyPage},e.LineToolProjection=n},function(t,e,i){"use strict";function o(){a.call(this)}function n(t,e){this._constructor="LineToolTrendBasedFibExtension";var s=e||new this.createPropertiesObject("linetooltrendbasedfibextension");r.call(this,t,s),this.version=n.version,t._trendBasedFibExtensionLabelsCache||(t._trendBasedFibExtensionLabelsCache=new o),i.e(11).then(function(t){var e=i(1193).TrendBasedFibExtensionPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(1).LineDataSource,s=i(31),a=i(133),l=i(2).propertyPages;inherit(o,a),o.prototype.levelsCount=function(){return n.LevelsCount},o.prototype.points=function(t){return[t.points()[0],t.points()[1]]},o.prototype.startPoint=function(t,e){return t.points()[2]},o.prototype.priceRange=function(t,e){var i=this.points(t),o=i[0],n=i[1];return e?o.price-n.price:n.price-o.price},o.prototype.sourceIsReady=function(t){return t.points().length>=3},inherit(n,r),n.version=2,n.LevelsCount=24,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.stop=function(){r.prototype.stop.call(this),this._model._trendBasedFibExtensionLabelsCache.removeSource(this.id())},n.prototype.pointsCount=function(){return 3},n.prototype.title=function(){return"Trend-Based Fib Extension"},n.prototype.migrateVersion=function(t,e,i){1===t&&this.properties().extendLines.setValue(!0)},n.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},n.prototype.createPropertiesObject=function(t,e,i){return new s(t,e,i,{range:[0,8]})},n.prototype.getStylesPropertyPage=function(){return l.LineToolTrendBasedFibExtensionStylesPropertyPage},e.LineToolTrendBasedFibExtension=n},function(t,e,i){"use strict";function o(){a.call(this)}function n(t,e){this._constructor="LineToolFibCircles";var n=e||this.createPropertiesObject("linetoolfibcircles");r.call(this,t,n),t._fibCirclesLabelsCache||(t._fibCirclesLabelsCache=new o),i.e(11).then(function(t){var e=i(1194).FibCirclesPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(1).LineDataSource,s=i(31),a=i(133),l=i(2).propertyPages;inherit(o,a),o.prototype.levelsCount=function(){return n.LevelsCount},inherit(n,r),n.LevelsCount=11,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.pointsCount=function(){return 2},n.prototype.title=function(){return"Fib Circles"},n.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},n.prototype.createPropertiesObject=function(t,e,i){return new s(t,e,i,{range:[1,11]})},n.prototype.getStylesPropertyPage=function(){return l.LineToolFibCirclesStylesPropertyPage},e.LineToolFibCircles=n},function(t,e,i){"use strict";function o(t,e,i,o){var n,r,a,_,v,y,b,w,S,T,x,P,C,M,k,L,I="VbPFixed@tv-volumebyprice",A=l.lineToolNameForPointsBasedStudy(I);for(i=i||f.findStudyMetaInfo(t.studiesMetaData(),I),
n=t.studyVersioning(),r=e||c(i,null,null,n),this._metaInfo=i,this.m_data=new p,this._plotOffsets={},this._plotOffsetsMetaInfoOverride={},a=this,_=new l.StudyPaneView_hhists(a,t),v=new l.StudyPaneView_horizlines(a,t),y=new l.StudyPaneView_polygons(a,t),b=[_,v,y],o=t.mainSeries(),w=r.styles,S=0;S<m.length;S++)(T=w[m[S]])&&T.plottype&&T.plottype.setValue(g.StepLine);if(i.plots.length>0&&(x=new h(a,o,t,i.plots[0].id),b.push(x)),i.plots.length>1&&(P=new h(a,o,t,i.plots[1].id),b.push(P)),i.plots.length>2&&(C=new h(a,o,t,i.plots[2].id),b.push(C)),s.call(this,t,r,A),this._setPaneViews(b),this._turnaroundCounter=1,this._turnaround="vbpfixed_"+this._turnaroundCounter,this._metaInfo=i,this._graphics=new d(i),this._plotFields=[],M=this.metaInfo().plots)for(S=0,k=M.length;S<k;S++)L=M[S].id,this._plotFields.push(L);this.clearData(),this._studyAlreadyCreated=!1,this._formatter=new u}var n=i(132),r=i(1).LineDataSource,s=n.StudyLineDataSource,a=i(34),l=a.Study,c=a.prepareStudyProperties,h=i(115).StudyPaneView,d=i(183),u=i(71).VolumeFormatter,p=i(24).PlotList,f=i(39),_=i(2).propertyPages,g=i(92).PlotType,m=["developingPoc","developingVAHigh","developingVALow"];inherit(o,s),o.prototype.pointsCount=function(){return 2},o.prototype._requestStudy=function(){var t,e,i,o,n,r,s,a,c,h=this.points();if(!(h.length<2)){if(t=h[0],e=h[1],i=Math.min(t.index,e.index),o=Math.max(t.index,e.index),n=this._model.mainSeries().bars().lastIndex(),i===o)return void this.clearData();r=this._model.mainSeries().bars().valueAt(i),s=this._model.mainSeries().bars().valueAt(o),null!==r&&null!==s&&(a={rowsLayout:this.properties().inputs.rowsLayout.value(),rows:this.properties().inputs.rows.value(),volume:this.properties().inputs.volume.value(),vaVolume:this.properties().inputs.vaVolume.value(),first_bar_time:1e3*r[TradingView.TIME_PLOT],last_bar_time:1e3*s[TradingView.TIME_PLOT]},null!=this.properties().inputs.subscribeRealtime&&(a.subscribeRealtime=n===o),c=this,this._studyId?(this._turnaround="vbpfixed_"+ ++this._turnaroundCounter,this._model.chartApi().modifyStudy(this._studyId,this._turnaround,a,function(t){c.onData(t)})):(this._studyId=l.makeNextStudyId(),this._model.chartApi().createStudy(this._studyId,this._turnaround,this._model.mainSeries()._seriesId,this._metaInfo.fullId+"!",a,function(t){c.onData(t)})))}},o.prototype.onData=function(t){var e=this;if("data_update"===t.method&&t.params.customId==="pointset_"+this._currentPointsetId)r.prototype.onData.call(this,t),2===this._points.length&&this._requestStudy(),this._studyAlreadyCreated=!0;else if("data_update"===t.method&&t.params.customId===this._studyId){if(!this._checkTurnaround(t.params.turnaround))return;l.prototype._makeJSONForNSData.call(this,t).then(function(i){t.params.nonseries.d=i,e._studyAlreadyCreated&&(e.clearData(),e._studyAlreadyCreated=!1),e._processPlotOffsets(t.params),e._mergeData(t.params.plots),""!==t.params.nonseries.d&&(e._graphics.process(t.params.nonseries),e._correctPoints(e._graphics.graphics())),t.params.nonseries.indexes.length>0&&(e._indexes=t.params.nonseries.indexes),
e.updateAllViews(),e._model.updateSource(e)})}},o.prototype._correctPoints=function(t){var e,i,o,n,r,s;if(t&&(void 0===t.indexes||0!==t.indexes.length)&&t.hhists){for(e=t.hhists[0].data,i=null,o=null,n=0;n<e.length;++n)r=e[n].priceLow,s=e[n].priceHigh,(!i||r<i)&&(i=r),(!o||s>o)&&(o=s);this._points[0].price=o,this._points[1].price=i}},o.prototype.calcIsActualSymbol=function(){this._isActualSymbol=!0,this.calcIsActualInterval()},o.prototype.formatter=function(){return this._formatter},o.prototype.isSelfColorerPlot=function(t){return l.isSelfColorerPlot(this,t)},o.prototype.offset=function(t){return l.offset(this,t)},o.prototype.data=function(){return this.m_data},o.prototype._processPlotOffsets=function(t){l.processPlotOffsets(this,t)},o.prototype._mergeData=function(t){this.m_data.merge(t)},o.prototype.getStylesPropertyPage=function(){return _.LinetoolVolumeProfilePropertyPage},o.prototype._isReady=function(){return this._graphics&&!this._graphics.isEmpty()},e.LineToolVbPFixed=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolVertLine";var o=e||new r("linetoolvertline");this._timeAxisView=new a(this,t),n.call(this,t,o),i.e(11).then(function(t){var e=i(1195).VertLinePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages,a=i(781).LineToolVertLineTimeAxisView;inherit(o,n),o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Vertical Line"},o.prototype.timeAxisViews=function(){return this.isSourceHidden()?null:this.properties().showTime.value()?[this._timeAxisView]:null},o.prototype.updateAllViews=function(){n.prototype.updateAllViews.call(this),this._timeAxisView.update()},o.prototype.canHasAlert=function(){return!0},o.prototype._getAlertPlots=function(){var t=this._points[0],e={index:t.index,price:t.price+1};return[this._linePointsToAlertPlot([t,e],null,!0,!0)]},o.prototype.getInputsPropertyPage=function(){return s.LineToolVertLineInputsPropertyPage},o.prototype.getStylesPropertyPage=function(){return s.LineToolVertLineStylesPropertyPage},e.LineToolVertLine=o},function(t,e,i){"use strict";function o(t,e){n.call(this),this._source=t,this._model=e,this._invalidated=!0,this._renderer=new r}var n=i(279).TimeAxisView,r=i(280),s=i(184).DateTimeFormatter;inherit(o,n),o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){var t,e;this._model.timeScale().isEmpty()||0!==this._source.points().length&&(this._text="",this._background=this._source.properties().linecolor.value(),t=this._source.points()[0].index,this._coordinate=this._model.timeScale().indexToCoordinate(t),e=this._model.timeScale().indexToUserTime(t),e&&(this._text=new s(this._model.mainSeries().isDWM()).format(e)),this._invalidated=!1)},o.prototype.renderer=function(){this._invalidated&&this.updateImpl();var t={text:this._text,coordinate:this._coordinate,color:this.color(),background:this._background};return this._renderer.setData(t),this._renderer},
e.LineToolVertLineTimeAxisView=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolBarsPattern";var r=e||new s("linetoolbarspattern");n.call(this,t,r),r.mirrored.listeners().subscribe(this,o.prototype.mirror),r.flipped.listeners().subscribe(this,o.prototype.flip),r.addExclusion("mirrored"),r.addExclusion("flipped"),this._scaleCoeff=1,this.version=o.version,this._pattern=[],this._properties.mode.listeners().subscribe(this,o.prototype.onModeChanged),i.e(11).then(function(t){var e=i(1196).BarsPatternPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(74).Action,s=i(7).DefaultProperty,a=i(24).PlotRowSearchMode,l=i(2).propertyPages,c=i(485).LineToolBarsPatternMode;inherit(o,n),o.version=2,o.prototype.onModeChanged=function(){var t=this.patternPriceDiff();t*=this._pressCoeff,this._points[1].price=this._timePoint[1].price=this._points[0].price+t},o.prototype.additionalActions=function(t){var e,i,o=new r({checked:this.properties().mirrored.value(),checkable:!0,text:$.t("Mirrored"),callbackContext:{target:this}}),n=new r({checked:this.properties().flipped.value(),checkable:!0,text:$.t("Flipped"),callbackContext:{target:this}});return o.callbacks().subscribe(null,function(e){var i=e.callbackContext(),o=i.target;t.setProperty(o.properties().mirrored,!o.properties().mirrored.value(),"Bats Pattern Mirroring"),o.updateAllViews(),o._model.updateSource(o)}),n.callbacks().subscribe(null,function(e){var i=e.callbackContext(),o=i.target;t.setProperty(o.properties().flipped,!o.properties().flipped.value(),"Bats Pattern Flipping"),o.updateAllViews(),o._model.updateSource(o)}),e=new r({checkable:!0,text:$.t("Restore Size")}),i=this,e.callbacks().subscribe(null,function(e){var o=i.points()[0],n=i.patternPriceDiff(),r=o.price+n,s=o.index+i._pattern.length-1;t.startChangingLinetool(i,{price:r,index:s},1,{}),t.changeLinePoint({price:r,index:s},{}),t.endChangingLinetool()}),[o,n,e]},o.prototype.pointsCount=function(){return 2},o.prototype.state=function(t){var e=n.prototype.state.call(this,t);return e.pattern=this._pattern,e},o.prototype.restoreData=function(t){t.pattern&&(this._pattern=t.pattern)},o.prototype.title=function(){return"Bars Pattern"},o.prototype.cloneData=function(t){this._pattern=TradingView.clone(t._pattern)},o.prototype.mirror=function(){var t,e,i,o,n,r=this._pattern,s=r[0][TradingView.HIGH_PLOT],a=Math.min(r[0][TradingView.LOW_PLOT],r[0][TradingView.HIGH_PLOT]),l=Math.max(r[0][TradingView.LOW_PLOT],r[0][TradingView.HIGH_PLOT]);for(t=1;t<r.length;t++)a=Math.min(a,r[t][TradingView.LOW_PLOT]),l=Math.max(l,r[t][TradingView.HIGH_PLOT]);if(a<l)for(e=(a+l)/2,i=function(t){return e-(t-e)},t=0;t<r.length;t++)r[t][TradingView.HIGH_PLOT]=i(r[t][TradingView.HIGH_PLOT]),r[t][TradingView.LOW_PLOT]=i(r[t][TradingView.LOW_PLOT]),r[t][TradingView.OPEN_PLOT]=i(r[t][TradingView.OPEN_PLOT]),r[t][TradingView.CLOSE_PLOT]=i(r[t][TradingView.CLOSE_PLOT]);o=r[0][TradingView.HIGH_PLOT]-s,n=r[r.length-1][TradingView.LOW_PLOT]-r[0][TradingView.HIGH_PLOT],
this._points[0].price+=o,this._points[1].price=this._points[0].price+n,this.updateAllViews()},o.prototype.flip=function(){var t,e,i;for(this._points[0].price=this._points[1].price,t=0;t<this._pattern.length/2;t++)e=this._pattern[t],this._pattern[t]=this._pattern[this._pattern.length-t-1],this._pattern[this._pattern.length-t-1]=e;i=this._pattern[this._pattern.length-1][TradingView.LOW_PLOT]-this._pattern[0][TradingView.HIGH_PLOT],this._points[1].price=this._points[0].price+i,this.updateAllViews()},o.prototype.firstPatternPrice=function(){var t,e,i=parseInt(this.properties().mode.value(),10);return i===c.LineHL2?(this._pattern[0][TradingView.HIGH_PLOT]+this._pattern[0][TradingView.LOW_PLOT])/2:(t={0:TradingView.HIGH_PLOT,1:TradingView.CLOSE_PLOT,2:TradingView.OPEN_PLOT,3:TradingView.OPEN_PLOT,4:TradingView.HIGH_PLOT,5:TradingView.LOW_PLOT},e=t[i],this._pattern[0][e])},o.prototype.lastPatternPrice=function(){var t,e,i=parseInt(this.properties().mode.value(),10);return i===c.LineHL2?(this._pattern[this._pattern.length-1][TradingView.HIGH_PLOT]+this._pattern[this._pattern.length-1][TradingView.LOW_PLOT])/2:(t={0:TradingView.LOW_PLOT,1:TradingView.CLOSE_PLOT,2:TradingView.CLOSE_PLOT,3:TradingView.OPEN_PLOT,4:TradingView.HIGH_PLOT,5:TradingView.LOW_PLOT},e=t[i],this._pattern[this._pattern.length-1][e])},o.prototype.patternPriceDiff=function(){return this.lastPatternPrice()-this.firstPatternPrice()},o.prototype.pressCoeff=function(){var t=this.patternPriceDiff(),e=this.points()[0].price,i=this.points()[1].price,o=i-e,n=o/t;return this._pressCoeff=n,n},o.prototype.addPoint=function(t,e){var i,o,r,s,l,h,d,u,p,f,_=this._model.mainSeries(),g=_.nearestIndex(t.index,a.NearestRight);if(this.properties().mode.value()===c.Bars?t.price=_.bars().valueAt(g)[TradingView.HIGH_PLOT]:t.price=_.bars().valueAt(g)[TradingView.CLOSE_PLOT],i=this.priceScale().priceRange().length(),t.price+=.05*i,o=_.priceScale(),o.isPercent()&&(r=_.firstValue(),t.price=o.priceRange().convertToPercent(t.price,r)),s=n.prototype.addPoint.call(this,t,e,!0)){for(l=Math.min(this.points()[0].index,this.points()[1].index),h=Math.max(this.points()[0].index,this.points()[1].index),g=this._model.mainSeries().nearestIndex(l,a.NearestRight),d=this._model.mainSeries().nearestIndex(h,a.NearestLeft),this.points()[0].index>this.points()[1].index&&(this._points[0].price=this._points[1].price),this._pattern=[],u=g;u<=d;u++)p=this._model.mainSeries().data().valueAt(u),this._pattern.push(TradingView.clone(p));this._pattern.length>0&&(f=this.patternPriceDiff(),this._points[1].price=this._points[0].price+f,this._points[1].index=this._points[0].index+(d-g),this.normalizePoints(),this.createServerPoints())}return s},o.prototype.setPoint=function(t,e,i){1===t&&e.index<=this._points[0].index&&(e.index=this._points[0].index+1),0===t&&e.index>=this._points[1].index&&(e.index=this._points[1].index-1),n.prototype.setPoint.call(this,t,e,i)},o.prototype.migrateVersion=function(t,e,i){if(1===t&&this._pattern.length>0){var o=this.patternPriceDiff()
;2===this._timePoint.length&&(this._timePoint[1].price=this._timePoint[0].price+o),2===this._points.length&&(this._points[1].price=this._points[0].price+o)}},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return l.LineToolBarsPatternStylesPropertyPage},e.LineToolBarsPattern=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolTrendBasedFibTime";var r=e||new this.createPropertiesObject("linetooltrendbasedfibtime");n.call(this,t,r),this.version=o.version,i.e(11).then(function(t){var e=i(1197).TrendBasedFibTimePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(31),s=i(2).propertyPages;inherit(o,n),o.version=1,o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Trend-Based Fib Time"},o.prototype.migrateVersion=function(t,e,i){},o.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},o.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[1,11]})},o.prototype.getStylesPropertyPage=function(){return s.LineToolTrendBasedFibTimeStylesPropertyPage},e.LineToolTrendBasedFibTime=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolFibTimeZone";var r=e||this.createPropertiesObject("linetoolfibtimezone");n.call(this,t,r),this.version=o.version,i.e(11).then(function(t){var e=i(1198).FibTimeZonePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(31),s=i(2).propertyPages;inherit(o,n),o.version=2,o.prototype.migrateVersion=function(t,e,i){var o;if(1===t){for(i.properties.level1.color.setValue(i.properties.baselinecolor.value()),o=2;o<=11;o++)i.properties["level"+o].color.setValue(i.properties.linecolor.value());for(o=1;o<=11;o++)i.properties["level"+o].linewidth.setValue(i.properties.linewidth.value()),i.properties["level"+o].linestyle.setValue(i.properties.linestyle.value())}},o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Fib Time Zone"},o.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},o.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[1,11]})},o.prototype.getStylesPropertyPage=function(){return s.LineToolFibTimeZoneStylesPropertyPage},e.LineToolFibTimeZone=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolCircleLines";var o=e||new r("linetoolcirclelines");n.call(this,t,o),i.e(11).then(function(t){var e=i(1199).LineToolCircleLinesPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Cyclic Lines"},o.prototype.getStylesPropertyPage=function(){return s.LineToolCircleLinesStylesPropertyPage},e.LineToolCircleLines=o
},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolDateRange";var o=e||new r("linetooldaterange");n.call(this,t,o),i.e(11).then(function(t){var e=i(1200).DateRangePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Date Range"},o.prototype.getStylesPropertyPage=function(){return s.LineToolDateRangeStylesPropertyPage},e.LineToolDateRange=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolPriceRange";var o=e||new r("linetoolpricerange");n.call(this,t,o),i.e(11).then(function(t){var e=i(1201).PriceRangePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Price Range"},o.prototype.getStylesPropertyPage=function(){return s.LineToolDateRangeStylesPropertyPage},e.LineToolPriceRange=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolDateAndPriceRange";var o=e||new r("linetooldateandpricerange");n.call(this,t,o),i.e(11).then(function(t){var e=i(1202).DateAndPriceRangePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Date and Price Range"},o.prototype.getStylesPropertyPage=function(){return s.LineToolDateAndPriceRangeStylesPropertyPage},e.LineToolDateAndPriceRange=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolParallelChannel";var o=e||new r("linetoolparallelchannel");n.call(this,t,o),i.e(11).then(function(t){var e=i(1203).ParallelChannelPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.addPoint=function(t){var e,i=n.prototype.addPoint.call(this,t);return i&&(e=this.points()[0],this._points[2].index=e.index,this._points[2].price=e.price+this._priceOffset),i},o.prototype.calculatePriceDiff=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v;if(3===this.points().length){if(t=this.points()[0],e=this.points()[1],i=this.points()[2],t.index===e.index)return;if(null===(o=this.priceScale()))return;if(o.isLog()){if(n=this._model.timeScale(),n.isEmpty())return;r=n.indexToCoordinate(t.index),s=n.indexToCoordinate(e.index),a=o.priceToCoordinate(t.price),l=o.priceToCoordinate(e.price),c=n.indexToCoordinate(i.index),h=(l-a)/(s-r),d=a+h*(c-r),u=o.priceToCoordinate(i.price),p=u-d,f=.5*(a+l),_=o.coordinateToPrice(f),g=f+p,m=o.coordinateToPrice(g),this._priceOffset=m-_}else h=(e.price-t.price)/(e.index-t.index),v=t.price+h*(i.index-t.index),this._priceOffset=i.price-v}},
o.prototype.setLastPoint=function(t,e){e&&e.shift&&2===this.points().length&&this._snapPoint45Degree(t,this.points()[0]),n.prototype.setLastPoint.call(this,t),this.calculatePriceDiff()},o.prototype.restorePoints=function(t,e,i){n.prototype.restorePoints.call(this,t,e,i),t&&t.length>=3&&(this._priceOffset=t[2].price-t[0].price)},o.prototype.setPoint=function(t,e,i){i&&i.shift&&t<2&&this._snapPoint45Degree(e,this.points()[1-t]),n.prototype.setPoint.call(this,t,e,i),2===t&&this.calculatePriceDiff();var o=this.points()[0];this._points[2].index=o.index,this._points[2].price=o.price+this._priceOffset},o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Parallel Channel"},o.prototype.addPoint=function(t,e){return e&&e.shift&&2===this.points().length&&this._snapPoint45Degree(t,this.points()[0]),n.prototype.addPoint.call(this,t,e)},o.prototype.fixAfterRestorePriceAxis=function(){this.priceScale().isLog()||delete this._priceOffset},o.prototype.cloneData=function(t){this._priceOffset=t._priceOffset},o.prototype.restoreData=function(t){t.priceOffset&&(this._priceOffset=t.priceOffset)},o.prototype.state=function(t){var e=n.prototype.state.call(this,t);return e.priceOffset=this._priceOffset,e},o.prototype.canHasAlert=function(){return!0},o.prototype._getAlertPlots=function(){function t(t,e){return t.index<=e.index?[t,e]:[e,t]}var e,i,o,n,r,s,a,l,c=[].concat(this._points).splice(0,2);return c=c.concat([{price:c[0].price+this._priceOffset,time:c[0].time,index:c[0].index},{price:c[1].price+this._priceOffset,time:c[1].time,index:c[1].index}]),e=t(c[0],c[1]),i=t(c[2],c[3]),this._priceOffset<0?(n=i,o=e):(n=e,o=i),a=this.properties().extendLeft.value(),l=this.properties().extendRight.value(),c[0].index<=c[1].index?(r=a,s=l):(r=l,s=a),[this._linePointsToAlertPlot(o,"Upper",r,s),this._linePointsToAlertPlot(n,"Lower",r,s)]},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return s.LineToolParallelChannelStylesPropertyPage},e.LineToolParallelChannel=o},function(t,e,i){"use strict";(function(t){function o(t,e){this._constructor="LineToolTrendAngleLine";var n=e||new s("linetooltrendangle");r.call(this,t,n),this._properties.addProperty("angle"),this._properties.angle=new o.AngleProperty(this),i.e(11).then(function(t){var e=i(1204).TrendAnglePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(8).Point,r=i(1).LineDataSource,s=i(7).DefaultProperty,a=i(2).propertyPages;inherit(o,r),o.AngleProperty=function(e){t.call(this),this._lineSource=e},inherit(o.AngleProperty,t),o.AngleProperty.prototype.value=function(){var t=this._lineSource._angle,e=180*t/Math.PI;return Math.round(e)},o.AngleProperty.prototype.setValue=function(t){var e,i,o,r,s,a,l=t*Math.PI/180;this._lineSource._angle=l,e=this._lineSource.pointToScreenPoint(this._lineSource.points()[0])[0],i=Math.cos(this._lineSource._angle),o=-Math.sin(this._lineSource._angle),r=new n(i,o),s=e.addScaled(r,this._lineSource._distance),a=this._lineSource.screenPointToPoint(s),
this._lineSource._points[1]=a,this._lineSource._model.updateSource(this._lineSource),this._lineSource.updateAllViews(),this._lineSource._model.updateSource(this._lineSource)},o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Trend Angle"},o.prototype._calculateAngle=function(){var t,e=this.pointToScreenPoint(this.points()[0])[0],i=this.pointToScreenPoint(this.points()[1])[0],o=i.subtract(e);o.length()>0?(o=o.normalized(),this._angle=Math.acos(o.x),o.y>0&&(this._angle=-this._angle),this._distance=i.subtract(e).length()):delete this._angle,t=this.properties(),t.hasOwnProperty("angle")&&this.properties().angle.listeners().fire(this.properties().angle)},o.prototype.addPoint=function(t,e){var i=r.prototype.addPoint.call(this,t,e);return i&&this._calculateAngle(),i},o.prototype.setLastPoint=function(t,e){r.prototype.setLastPoint.call(this,t,e),this.points().length>1&&this._calculateAngle()},o.prototype.axisPoints=function(){var t,e,i,o,r,s;return this.points().length<2?[]:(t=[this.points()[0]],e=this.pointToScreenPoint(this.points()[0])[1],i=Math.cos(this._angle)*this._distance,o=-Math.sin(this._angle)*this._distance,r=e.add(new n(i,o)),s=this.screenPointToPoint(r),t.push(s),t)},o.prototype.setPoint=function(t,e,i){r.prototype.setPoint.call(this,t,e,i),this.points().length>1&&1===t&&this._calculateAngle()},o.prototype.restoreData=function(t){this._angle=t.angle,this._distance=t.distance},o.prototype.state=function(t){var e=r.prototype.state.call(this,t);return e.angle=this._angle,e.distance=this._distance,e},o.prototype.cloneData=function(t){this._angle=t._angle,this._distance=t._distance},o.prototype.canHasAlert=function(){return!0},o.prototype._getAlertPlots=function(){return[this._linePointsToAlertPlot(this._points,null,this.properties().extendLeft.value(),this.properties().extendRight.value())]},o.prototype.getInputsPropertyPage=function(){return a.LineToolTrendAngleInputsPropertyPage},o.prototype.getStylesPropertyPage=function(){return a.LineToolTrendAngleStylesPropertyPage},e.LineToolTrendAngle=o}).call(e,i(37))},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolPitchfan";var o=e||this.createPropertiesObject("linetoolpitchfan");n.call(this,t,o),i.e(11).then(function(t){var e=i(1207).PitchfanLinePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(31),s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Pitchfan"},o.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},o.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[0,8]})},o.prototype.getStylesPropertyPage=function(){return s.LineToolPitchfanStylesPropertyPage},e.LineToolPitchfan=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolGannSquare";var o=e||this.createPropertiesObject("linetoolgannsquare");s.call(this,t,o),i.e(11).then(function(t){
var e=i(1208).GannSquarePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n,r,s=i(1).LineDataSource,a=i(31),l=i(2).propertyPages;inherit(o,s),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Gann Box"},n=[4.5,9,11.25,18,22.5,36,45],r=function(){for(var t=[],e=1e10,i=n.length-1,o=1,r=0,s=0;s<e;)s=n[r]*o,t.push(Math.round(s)),t.push(Math.ceil(-s)),r===i-1&&(o*=10),r=(r+1)%i;return t.sort(function(t,e){return t<e?-1:t>e?1:0}),t}(),o.prototype._alignPriceOnPattern=function(t,e){var i,o,r,s,a,l,c=Math.round(1e6*(t.price-e.price))/1e6;if(0===c)return e.price;for(i=n[0],o=n[n.length-1],r=1,s=Math.abs(c);s<i*r||o*r<s;)s<i*r?r*=.1:o*r<s&&(r*=10);for(a=o*r,l=n.length-2;l>=0&&!(n[l]*r<s);--l)a=n[l]*r;return t.price=e.price+(c>=0?a:-a),t},o.prototype._alignTimeOnPattern=function(t,e){var i,o=t.index-e.index;if(0===o)return 0;for(i=r.length-2;i>=0&&!(r[i]<o);--i);return i+=o>0?1:0,t.index=e.index+r[i],t},o.prototype._alignPointsFixedIncrement=function(t,e){return this._alignTimeOnPattern(t,e),this._alignPriceOnPattern(t,e),t},o.prototype._preparePoint=function(t,e){return e&&e.shift&&0!==this._points.length&&this._alignPointsFixedIncrement(t,this._points[0]),s.prototype._preparePoint.call(this,t,e)},o.prototype.setPoint=function(t,e,i){if(i&&i.shift){var o=0===t?this._points[1]:this._points[0];this._alignPointsFixedIncrement(e,o)}s.prototype.setPoint.call(this,t,e,i)},o.prototype.createPropertiesObject=function(t,e,i){return new a(t,e,i,{range:[1,7],prefixes:["h","v"],names:["coeff","color","visible"]})},o.prototype.getStylesPropertyPage=function(){return l.LineToolGannSquareStylesPropertyPage},e.LineToolGannSquare=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolFibSpeedResistanceFan";var o=e||this.createPropertiesObject("linetoolfibspeedresistancefan");n.call(this,t,o),i.e(11).then(function(t){var e=i(1209).FibSpeedResistanceFanPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(31),s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Fib Speed Resistance Fan"},o.prototype.processErase=function(t,e){var i="h"===e.type?"hlevel"+e.index:"vlevel"+e.index,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},o.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[1,7],prefixes:["h","v"],names:["coeff","color","visible"]})},o.prototype.getStylesPropertyPage=function(){return s.LineToolFibSpeedResistanceFanStylesPropertyPage},e.LineToolFibSpeedResistanceFan=o},function(t,e,i){"use strict";var o,n,r,s,a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(8),r=i(9),s=i(455),a=i(1),l=i(219),c=i(2),h=i(487),d=function(t){function e(e,o){var n,r=t.call(this,e,null==o?h.createPropertiesObject("linetoolganncomplex"):o)||this;return r.version=2,r._constructor="LineToolGannComplex",r._scaleRatioFormatter=new s.LimitedPrecisionNumericFormatter(7),
i.e(11).then(function(t){var e=i(1210).GannComplexPaneView;r._setPaneViews([new e(r,r.model())])}.bind(null,i)).catch(i.oe),n=r.properties(),r._adjustScaleRatio(n),n.subscribe(r,r._adjustScaleRatio),n.scaleRatio.subscribe(r,r._correctFirstPoint),r._syncStateExclusions=["scaleRatio"],n.addExclusion("scaleRatio"),r._onRestoringFactoryDefaults.subscribe(r,r._handleRestoringFactoryDefaults),r._onTemplateApplying.subscribe(r,r._handleTemplateApplying),r._onTemplateApplied.subscribe(r,r._correctFirstPoint),r}return o.__extends(e,t),e.prototype.migrateVersion=function(t,e,i){var o=this;1===t&&(this._points.length>=this.pointsCount()?setTimeout(function(){return o._migratePoint()}):this._timePoint.length>=this.pointsCount()&&this._pointAdded.subscribe(this,this._migratePoint))},e.prototype.destroy=function(){var t=this.properties();t.unsubscribe(this,this._adjustScaleRatio),t.scaleRatio.unsubscribe(this,this._correctFirstPoint),this._onRestoringFactoryDefaults.unsubscribe(this,this._handleRestoringFactoryDefaults),this._onTemplateApplying.unsubscribe(this,this._handleTemplateApplying),this._onTemplateApplied.unsubscribe(this,this._correctFirstPoint)},e.prototype.pointsCount=function(){return 2},e.prototype.title=function(){return"Gann Square"},e.prototype.addPoint=function(e,i,o){var n,s,a;return this._points.length>1&&this._points.pop(),n=t.prototype.addPoint.call(this,e,i,o),s=this.priceScale(),a=r.ensureNotNull(s).isLog(),!a&&n&&this._correctFirstPoint(),n},e.prototype.setPoint=function(e,i,o){t.prototype.setPoint.call(this,e,i,o),void 0!==o&&o.shift?this._correctPoint(e):this._correctScaleRatio()},e.prototype.setLastPoint=function(e,i){var o=this.priceScale();r.ensureNotNull(o).isLog()||(this._convertPriceFromPercentIfNeeded(e),this._points[1]=e,this._correctPoint(1),this._convertPriceToPercentIfNeeded(e)),t.prototype.setLastPoint.call(this,e,i)},e.prototype.createPropertiesObject=function(t,e,i){return h.createPropertiesObject(t,e,i)},e.prototype.getStylesPropertyPage=function(){return c.propertyPages.LineToolGannComplexStylesPropertyPage},e.prototype.isReversed=function(){return this.properties().reverse.value()},e.prototype.levelsCount=function(){return this.properties().levels.childCount()},e.prototype.levels=function(){var t,e,i=[],o=this.properties(),n=o.levels.childCount();for(t=0;t<n;t++)e=o.levels[t],i.push({index:t,visible:e.visible.value(),color:e.color.value(),width:e.width.value()});return i},e.prototype.fanLinesCount=function(){return this.properties().fanlines.childCount()},e.prototype.fanLines=function(){var t,e,i=[],o=this.properties(),n=o.fanlines.childCount();for(t=0;t<n;t++)e=o.fanlines[t],i.push({index:t,visible:e.visible.value(),x:e.x.value(),y:e.y.value(),color:e.color.value(),width:e.width.value()});return i},e.prototype.arcsCount=function(){return this.properties().arcs.childCount()},e.prototype.arcs=function(){var t,e,i=[],o=this.properties(),n=o.arcs.childCount();for(t=0;t<n;t++)e=o.arcs[t],i.push({index:t,visible:e.visible.value(),x:e.x.value(),y:e.y.value(),color:e.color.value(),
width:e.width.value()});return i},e.prototype.arcsBackgroundTransparency=function(){return this.properties().arcsBackground.transparency.value()},e.prototype.isArcsBackgroundFilled=function(){return this.properties().arcsBackground.fillBackground.value()},e.prototype.isLabelsVisible=function(){return this.properties().showLabels.value()},e.prototype.getLabelsStyle=function(){var t=this.properties(),e=t.labelsStyle,i=e.font,o=e.fontSize,n=e.bold,r=e.italic,s=t.levels.childCount();return{textColor:t.levels[s-1].color.value(),font:i.value(),fontSize:o.value(),bold:n.value(),italic:r.value()}},e.prototype.getScaleRatioStep=function(){return 1e-7},e.prototype.getScaleRatioFormatter=function(){return this._scaleRatioFormatter},e.prototype.getPriceDiff=function(){var t,e,i=this.points();return i.length<2?null:(t=i[0],e=i[1],e.price-t.price)},e.prototype.getPercantageDiff=function(){var t,e,i,o,n,r,s,a=this.points();return a.length<2?null:(t=a[0],e=a[1],i=this.model(),o=i.mainSeries(),n=o.priceScale(),r=n.priceRange(),s=o.firstValue(),null===r||null==s?null:r.convertToPercent(e.price,s)-r.convertToPercent(t.price,s))},e.prototype.getIndexDiff=function(){var t,e,i=this.points();return i.length<2?null:(t=i[0],e=i[1],e.index-t.index)},e.prototype.getScaleRatio=function(){var t=this.getPriceDiff(),e=this.getIndexDiff();return null!==t&&null!==e&&0!==e?Math.abs(t/e):null},e.prototype._correctScaleRatio=function(){var t=this.properties(),e=this.getScaleRatio();t.scaleRatio.setValue(e)},e.prototype._getAdjustedScaleRatio=function(){var t=this.model().mainSeries().priceScale(),e=this.model().timeScale();return l.scaleRatio(e,t)},e.prototype._adjustScaleRatio=function(t){var e=t.scaleRatio.value();""!==e&&null!==e||t.scaleRatio.setValue(this._getAdjustedScaleRatio())},e.prototype._correctPoint=function(t){var e,i,o,n,r,s,a,l;this._points.length<2||null!==(e=this.getIndexDiff())&&(i=this.properties(),o=i.scaleRatio.value(),null!==o&&(n=this._points[t],r=0===t?this._points[1]:this._points[0],s=n.price-r.price>0,a=n.index-r.index>0,l=s&&!a||!s&&a?-1:1,0===t&&(l=-l),n.price=r.price+l*e*o,this._pointChanged.fire(t)),this.normalizePoints())},e.prototype._correctFirstPoint=function(){this._correctPoint(this.isReversed()?0:1)},e.prototype._handleRestoringFactoryDefaults=function(){this.properties().scaleRatio.setValue(this._getAdjustedScaleRatio())},e.prototype._handleTemplateApplying=function(t){""===t.scaleRatio&&(t.scaleRatio=this._getAdjustedScaleRatio())},e.prototype._migratePoint=function(){var t,e;this.points().length<this.pointsCount()||null!==(t=this._getScreenPoints())&&(e=this.screenPointToPoint(t[1]),this.setPoint(1,e),this._pointAdded.unsubscribe(this,this._migratePoint))},e.prototype._getScreenPoints=function(){var t,e,i,o,r,s,a,l,c,h,d,u=this._calcAngle();return null===u?null:(t=this.points(),e=t[0],i=t[1],this.isReversed()&&(d=[i,e],e=d[0],i=d[1]),o=this.pointToScreenPoint(e)[0],r=this.pointToScreenPoint(i)[0],s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),a=new n.Point(Math.cos(u),-Math.sin(u)),l=a.normalized(),
c=l.x<0?-1:1,h=l.y<0?-1:1,[o.addScaled(a,s),o.add(new n.Point(5*s*c,5*s*h))])},e.prototype._calcAngle=function(){var t,e=this.points(),i=e[0],o=e[1],n=this.pointToScreenPoint(i)[0],r=this.pointToScreenPoint(o)[0],s=r.subtract(n);return s.length()>0?(s=s.normalized(),t=Math.acos(s.x),s.y>0&&(t=-t),t):null},e}(a.LineDataSource),e.LineToolGannComplex=d,d.prototype.superclass=a.LineDataSource},function(t,e,i){"use strict";var o,n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(8),r=i(1),s=i(487),a=i(2),l=function(t){function e(e,o){var n=t.call(this,e,null==o?s.createPropertiesObject("linetoolgannfixed"):o)||this;return n._constructor="LineToolGannFixed",i.e(11).then(function(t){var e=i(1211).GannFixedPaneView;n._setPaneViews([new e(n,n.model())])}.bind(null,i)).catch(i.oe),n.properties().reverse.subscribe(n,n._reversePoints),n}return o.__extends(e,t),e.prototype.pointsCount=function(){return 2},e.prototype.title=function(){return"Gann Square Fixed"},e.prototype.createPropertiesObject=function(t,e,i){return s.createPropertiesObject(t,e,i)},e.prototype.getStylesPropertyPage=function(){return a.propertyPages.LineToolGannFixedStylesPropertyPage},e.prototype.axisPoints=function(){var t=this.points(),e=this.getScreenPoints();return t.length<2||e.length<2?[]:[t[0],this.screenPointToPoint(e[1])]},e.prototype.getScreenPoints=function(){var t,e,i,o,r,s,a,l,c,h,d=this.points();return d.length<2?[]:null===(t=this._calcAngle())?[]:(e=d[0],i=d[1],o=this.pointToScreenPoint(e)[0],r=this.pointToScreenPoint(i)[0],s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),a=new n.Point(Math.cos(t),-Math.sin(t)),l=a.normalized(),c=l.x<0?-1:1,h=l.y<0?-1:1,[o.addScaled(a,s),o.add(new n.Point(5*s*c,5*s*h))])},e.prototype.levelsCount=function(){return this.properties().levels.childCount()},e.prototype.levels=function(){var t,e,i=[],o=this.properties(),n=o.levels.childCount();for(t=0;t<n;t++)e=o.levels[t],i.push({index:t,visible:e.visible.value(),color:e.color.value(),width:e.width.value()});return i},e.prototype.fanLinesCount=function(){return this.properties().fanlines.childCount()},e.prototype.fanLines=function(){var t,e,i=[],o=this.properties(),n=o.fanlines.childCount();for(t=0;t<n;t++)e=o.fanlines[t],i.push({index:t,visible:e.visible.value(),x:e.x.value(),y:e.y.value(),color:e.color.value(),width:e.width.value()});return i},e.prototype.arcsCount=function(){return this.properties().arcs.childCount()},e.prototype.arcs=function(){var t,e,i=[],o=this.properties(),n=o.arcs.childCount();for(t=0;t<n;t++)e=o.arcs[t],i.push({index:t,visible:e.visible.value(),x:e.x.value(),y:e.y.value(),color:e.color.value(),width:e.width.value()});return i},e.prototype.arcsBackgroundTransparency=function(){return this.properties().arcsBackground.transparency.value()},e.prototype.isArcsBackgroundFilled=function(){return this.properties().arcsBackground.fillBackground.value()},e.prototype._calcAngle=function(){var t,e,i,o,n,r,s=this.points();return s.length<2?null:(t=s[0],e=s[1],i=this.pointToScreenPoint(t)[0],o=this.pointToScreenPoint(e)[0],
n=o.subtract(i),n.length()<=0?null:(n=n.normalized(),r=Math.acos(n.x),n.y>0&&(r=-r),r))},e.prototype._reversePoints=function(){var t=this._points,e=t[0],i=t[1];this._points[0]=i,this._points[1]=e,this.normalizePoints(),this.restart()},e}(r.LineDataSource),e.LineToolGannFixed=l,l.prototype.superclass=r.LineDataSource},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolGannFan";var o=e||this.createPropertiesObject("linetoolgannfan");n.call(this,t,o),i.e(11).then(function(t){var e=i(1212).GannFanPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(31),s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Gann Fan"},o.prototype.processErase=function(t,e){var i="level"+e,o=this.properties()[i].visible;t.setProperty(o,!1,"Erase level line")},o.prototype.createPropertiesObject=function(t,e,i){return new r(t,e,i,{range:[1,9]})},o.prototype.getStylesPropertyPage=function(){return s.LineToolGannFanStylesPropertyPage},e.LineToolGannFan=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolDisjointAngle";var s=e||new r("linetooldisjointangle");n.call(this,t,s),this.version=o.version,i.e(11).then(function(t){var e=i(1214).DisjointAnglePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.version=1,o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Disjoint Angle"},o.prototype.addPoint=function(t,e){return e&&e.shift&&2===this.points().length&&this._snapPoint45Degree(t,this.points()[this.points().length-2]),n.prototype.addPoint.call(this,t)},o.prototype.setLastPoint=function(t,e){return e&&e.shift&&2===this.points().length&&this._snapPoint45Degree(t,this.points()[this.points().length-2]),n.prototype.setLastPoint.call(this,t)},o.prototype.setPoint=function(t,e,i){var o,r,s,a,l,c=.5*(this._points[1].price+this._points[2].price);i&&i.shift&&1===t&&(o=0,this._snapPoint45Degree(e,this.points()[o])),t<3&&n.prototype.setPoint.call(this,t,e),0!==t&&2!==t&&(1===t?(r=this._points[1].price-c,this._points[2].price=this._points[1].price-2*r):3===t&&(s=this.priceScale(),a=e.price,s.isPercent()&&(l=this.ownerSource().firstValue(),a=s.priceRange().convertFromPercent(a,l)),r=a-this._points[2].price,this._points[0].price=this._points[1].price-r,this._points[0].index=e.index))},o.prototype.canHasAlert=function(){return!0},o.prototype._getAlertPlots=function(){var t,e,i,o,n,r,s,a,l,c=this._points[0],h=this._points[1],d=[];return c.index<=h.index?(d.push(c),d.push(h)):(d.push(h),d.push(c)),t=this._points[2],t.time=h.time,t.index=h.index,e={price:t.price+(h.price-c.price),time:c.time,index:c.index},i=[],t.index<=e.index?(i.push(t),i.push(e)):(i.push(e),i.push(t)),d[0].price>i[0].price?(o=d,n=i):i[0].price>d[0].price?(o=i,n=d):i[1].price>d[1].price?(o=i,n=d):(o=d,n=i),a=this.properties().extendLeft.value(),
l=this.properties().extendRight.value(),c.index<=h.index?(r=a,s=l):(r=l,s=a),[this._linePointsToAlertPlot(o,"Upper",r,s),this._linePointsToAlertPlot(n,"Lower",r,s)]},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return s.LineToolDisjointAngleStylesPropertyPage},e.LineToolDisjointAngle=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolFlatBottom";var s=e||new r("linetoolflatbottom");n.call(this,t,s),this.version=o.version,i.e(11).then(function(t){var e=i(1215).FlatBottomPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.version=1,o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Flat Bottom"},o.prototype.addPoint=function(t,e){return e&&e.shift&&2===this.points().length&&this._snapPoint45Degree(t,this.points()[this.points().length-2]),n.prototype.addPoint.call(this,t)},o.prototype.setLastPoint=function(t,e){return e&&e.shift&&2===this.points().length&&this._snapPoint45Degree(t,this.points()[this.points().length-2]),n.prototype.setLastPoint.call(this,t)},o.prototype.setPoint=function(t,e,i){if(i&&i.shift&&1===t){this._snapPoint45Degree(e,this.points()[0])}t<3?n.prototype.setPoint.call(this,t,e):this._points[0].index=e.index},o.prototype.canHasAlert=function(){return!0},o.prototype._getAlertPlots=function(){var t,e,i,o,n,r,s,a,l,c=this._points[0],h=this._points[1],d=[];return c.index<=h.index?(d.push(c),d.push(h)):(d.push(h),d.push(c)),t=this._points[2],t.time=h.time,t.index=h.index,e={price:t.price,time:c.time,index:c.index},i=[],t.index<=e.index?(i.push(t),i.push(e)):(i.push(e),i.push(t)),d[0].price>i[0].price?(o=d,n=i):i[0].price>d[0].price?(o=i,n=d):i[1].price>d[1].price?(o=i,n=d):(o=d,n=i),a=this.properties().extendLeft.value(),l=this.properties().extendRight.value(),c.index<=h.index?(r=a,s=l):(r=l,s=a),[this._linePointsToAlertPlot(o,"Upper",r,s),this._linePointsToAlertPlot(n,"Lower",a,s)]},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return s.LineToolFlatBottomStylesPropertyPage},e.LineToolFlatBottom=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolIcon";var s=e||new r("linetoolicon");s.addExclusion("angle"),s.addExclusion("scale"),n.call(this,t,s),this.version=o.version,i.e(11).then(function(t){var e=i(1216).IconPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.version=1,o.anchorLimit=80,o.prototype.getAnchorLimit=function(){return o.anchorLimit},o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Icon"},o.prototype.startChanging=function(t,e){var i,r;n.prototype.startChanging.call(this,t,e),i=this.properties(),r=65536*i.icon.value()+i.size.value(),this._startChangeWidth=this._paneViews[0]._cache[r],
i.size.value()<o.anchorLimit?this._sizeScale=i.size.value()/o.anchorLimit:this._sizeScale=1,this._origScale=i.scale.value(),this._startChangeWidth*this._origScale<o.anchorLimit?this._resizeRatio=this._startChangeWidth/o.anchorLimit:this._resizeRatio=1},o.prototype.endChanging=function(){n.prototype.endChanging.call(this),delete this._startChangeWidth,delete this._sizeScale,delete this._resizeRatio},o.prototype.setPoint=function(t,e,i){var n,r,s,a,l,c,h,d,u,p,f=$.extend({},e),_=this.priceScale();_.isPercent()&&(n=this.ownerSource().firstValue(),f.price=_.priceRange().convertFromPercent(f.price,n)),i&&i.shift&&this._properties.snapTo45Degrees&&this._snapPoint45Degree(f,this.points()[0]),r=this.pointToScreenPoint(this.points()[0])[1],s=this.pointToScreenPoint(f)[1],0===t||1===t?(a=s.subtract(r).normalized(),l=2*s.subtract(r).length(),l*=this._sizeScale,this._properties.size.setValue(l),c=-a.x,h=Math.acos(c),Math.asin(a.y)>0&&(h=2*Math.PI-h),0===t&&(h+=Math.PI),this._properties.angle.setValue(h)):(d=this._startChangeWidth,u=s.subtract(r).length(),this._origScale*d<o.anchorLimit?(p=o.anchorLimit/2,this._properties.scale.setValue(this._origScale*u/p)):(p=d/2,this._properties.scale.setValue(u/p)))},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return s.LineToolIconStylesPropertyPage},o.prototype.getSourceIcon=function(){return{type:"text",text:String.fromCharCode(this.properties().icon.value())}},e.LineToolIcon=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolRotatedRectangle";var o=e||new a("linetoolrotatedrectangle");s.call(this,t,o),i.e(11).then(function(t){var e=i(1217).RotatedRectanglePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(8).Point,r=i(51).distanceToLine,s=i(1).LineDataSource,a=i(7).DefaultProperty,l=i(2).propertyPages;inherit(o,s),o.prototype.startChanging=function(t,e){var i,o,n,a;s.prototype.startChanging.call(this,t,e),0!==t&&1!==t||(i=this._paneViews[0],o=i._points[0],n=i._points[1],a=i._points[2],this._distance=r(o,n,a).distance)},o.prototype.setPoint=function(t,e,i){var o,r,a,l,c,h,d;s.prototype.setPoint.call(this,t,e,i),0!==t&&1!==t||(o=this._paneViews[0],o.update(),r=o._points[0],a=o._points[1],l=a.subtract(r),c=new n(l.y,-l.x).normalized().scaled(this._distance),h=r.add(c),d=this.screenPointToPoint(h),this._points[2]=d)},o.prototype.endChanging=function(){delete this._distance},o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Rotated Rectangle"},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return l.LineToolRectangleStylesPropertyPage},e.LineToolRotatedRectangle=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolFibSpiral";var o=e||new r("linetoolfibspiral");n.call(this,t,o),i.e(11).then(function(t){var e=i(1218).FibSpiralPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}
var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Fib Spiral"},o.prototype.getStylesPropertyPage=function(){return s.LineToolFibSpiralStylesPropertyPage},e.LineToolFibSpiral=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolHeadAndShoulders";var o=e||new r("linetoolheadandshoulders");n.call(this,t,o),i.e(11).then(function(t){var e=i(1219).LineToolHeadAndShouldersPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 7},o.prototype.title=function(){return"Head and Shoulders"},o.prototype.getStylesPropertyPage=function(){return s.LineToolLineTool5PointsPatternStylesPropertyPage},e.LineToolHeadAndShoulders=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolTriangle";var o=e||new r("linetooltriangle");n.call(this,t,o),i.e(11).then(function(t){var e=i(1220).TrianglePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Triangle"},o.prototype.getStylesPropertyPage=function(){return s.LineToolTriangleStylesPropertyPage},e.LineToolTriangle=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolTrianglePattern";var o=e||new r("linetooltrianglepattern");n.call(this,t,o),i.e(11).then(function(t){var e=i(1221).LineToolTrianglePatternPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 4},o.prototype.title=function(){return"Triangle Pattern"},o.prototype.getStylesPropertyPage=function(){return s.LineToolTrianglePatternStylesPropertyPage},e.LineToolTrianglePattern=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolThreeDrivers";var o=e||new r("linetoolthreedrivers");n.call(this,t,o),i.e(11).then(function(t){var e=i(1222).LineToolThreeDrivesPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 7},o.prototype.title=function(){return"Three Drives Pattern"},o.prototype.getStylesPropertyPage=function(){return s.LineToolABCDPatternStylesPropertyPage},e.LineToolThreeDrivers=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolABCD";var o=e||new r("linetoolabcd");n.call(this,t,o),i.e(11).then(function(t){var e=i(1223).ABCDPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(184).DateTimeFormatter,a=i(2).propertyPages;inherit(o,n),
o.prototype.pointsCount=function(){return 4},o.prototype.title=function(){return"ABCD Pattern"},o.prototype._tooltipFieldsHash={time0:{title:"Date 1",value:null},price0:{title:"Price 1",value:null},time1:{title:"Date 2",value:null},price1:{title:"Price 2",value:null},time2:{title:"Date 3",value:null},price2:{title:"Price 3",value:null},time3:{title:"Date 4",value:null},price3:{title:"Price 4",value:null}},o.prototype._updateTooltip=function(){var t,e,i,o,n=this._tooltipFieldsHash,r=this.points().m_values;r[0]&&(t=this._model.timeScale().indexToUserTime(r[0].index),n.time0.value=t?new s(this._model.mainSeries().isDWM()).format(t):0,n.price0.value=this._model.mainSeries()._formatter.format(r[0].price)),r[1]&&(e=this._model.timeScale().indexToUserTime(r[1].index),n.time1.value=e?new s(this._model.mainSeries().isDWM()).format(e):0,n.price1.value=this._model.mainSeries()._formatter.format(r[1].price)),r[2]&&(i=this._model.timeScale().indexToUserTime(r[2].index),n.time2.value=i?new s(this._model.mainSeries().isDWM()).format(i):0,n.price2.value=this._model.mainSeries()._formatter.format(r[2].price)),r[3]&&(o=this._model.timeScale().indexToUserTime(r[3].index),n.time3.value=o?new s(this._model.mainSeries().isDWM()).format(o):0,n.price3.value=this._model.mainSeries()._formatter.format(r[3].price))},o.prototype.tooltip=function(){return this._updateTooltip(),this._formatTooltip()},o.prototype.getStylesPropertyPage=function(){return a.LineToolABCDPatternStylesPropertyPage},e.LineToolABCD=o},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(80),r=function(t){function e(e,i){var o=t.call(this)||this;return o._source=e,o._data=i,o}return o.__extends(e,t),e.prototype._updateRendererData=function(t){var e,i,o;t.visible=!1,e=this._source.priceScale(),0===this._source.points().length||null===e||e.isEmpty()||(i=this._data.priceProperty.value(),o=this._data.colorProperty.value(),t.background=o,t.color=this.generateTextColor(o),t.coordinate=e.priceToCoordinate(i),t.text=e.formatter().format(i),t.visible=!0)},e}(n.PriceAxisView),e.LineToolRiskRewardPriceAxisView=r},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolPolyline";var o;e?o=e:(o=new s("linetoolpolyline"),o.filled.setValue(!1)),r.call(this,t,o),o.addExclusion("filled"),i.e(11).then(function(t){var e=i(1225).PolylinePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(8).Point,r=i(1).LineDataSource,s=i(7).DefaultProperty,a=i(2).propertyPages;inherit(o,r),o.prototype.pointsCount=function(){return-1},o.prototype.title=function(){return"Polyline"},o.prototype.addPoint=function(t){var e,i,o,s,a,l,c,h,d,u,p=this._model.timeScale().indexToCoordinate(t.index),f=t.price,_=null;if(this.priceScale().isPercent()&&(_=this.ownerSource().firstValue()),e=this.priceScale().priceToCoordinate(f),i=5,this._points.length>0){if(o=this._points[this._points.length-1],s=this._model.timeScale().indexToCoordinate(o.index),a=o.price,
this.priceScale().isPercent()&&(a=this.priceScale().priceRange().convertToPercent(a,_)),l=this.priceScale().priceToCoordinate(a),new n(p,e).subtract(new n(s,l)).length()<i)return this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0;if(c=this._points[0],h=this._model.timeScale().indexToCoordinate(c.index),d=c.price,this.priceScale().isPercent()&&(d=this.priceScale().priceRange().convertToPercent(d,_)),u=this.priceScale().priceToCoordinate(d),new n(p,e).subtract(new n(h,u)).length()<i)return this._properties.filled.setValue(!0),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0}return r.prototype.addPoint.call(this,t)},o.prototype.setPoint=function(t,e){var i,o,s,a,l,c;r.prototype.setPoint.call(this,t,e),this._model.timeScale().isEmpty()||this.priceScale().isEmpty()||t!==this._points.length-1&&0!==t||(i=5,o=this._model.timeScale().indexToCoordinate(e.index),s=this.priceScale().priceToCoordinate(e.price),a=t===this._points.length-1?this._points[0]:this._points[this._points.length-1],l=this._model.timeScale().indexToCoordinate(a.index),c=this.priceScale().priceToCoordinate(a.price),new n(o,s).subtract(new n(l,c)).length()<i&&this._properties.filled.setValue(!0))},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return a.LineToolPolylineStylesPropertyPage},e.LineToolPolyline=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolPrediction";var o=e||new s("linetoolprediction");o.merge({status:l.AlertStatus.Waiting}),r.call(this,t,o),i.e(11).then(function(t){var e=i(1226).PredictionPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(9).ensureNotNull,r=i(1).LineDataSource,s=i(7).DefaultProperty,a=i(2).propertyPages,l=i(653);inherit(o,r),o.prototype.status=function(){return this._properties.status.value()},o.prototype.setStatus=function(t){return this._properties.status.setValue(t)},o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Forecast"},o.prototype.restorePoints=function(t,e,i){r.prototype.restorePoints.call(this,t,e,i),this.checkAlert()},o.prototype.checkAlert=function(){var t,e,i,o;if(!(this._points.length<2||this._model.mainSeries().bars().isEmpty())){if(t=this._points[1],this.status())return void(t.index>this._model.timeScale().baseIndex()&&this.setStatus(l.AlertStatus.Waiting));e=this._model.mainSeries().bars().valueAt(t.index),null!==e&&(i=this.direction(),i===l.Direction.Up&&e[TradingView.HIGH_PLOT]>=t.price?this.setStatus(l.AlertStatus.Success):i===l.Direction.Down&&e[TradingView.LOW_PLOT]<=t.price?this.setStatus(l.AlertStatus.Success):(o=n(this._model.mainSeries().bars().lastIndex()),t.index!==o&&this.setStatus(l.AlertStatus.Failure)))}},o.prototype.addPoint=function(t){var e=r.prototype.addPoint.call(this,t);return e&&this.checkAlert(),e},o.prototype.endChanging=function(){r.prototype.endChanging.call(this),this.setStatus(l.AlertStatus.Waiting),this.checkAlert()},o.prototype.onData=function(t){
r.prototype.onData.call(this,t),this.checkAlert()},o.prototype.endMoving=function(){r.prototype.endMoving.call(this),this.setStatus(l.AlertStatus.Waiting),this.checkAlert()},o.prototype.direction=function(){var t,e;return this.points().length<2?l.Direction.Up:(t=this.points()[0],e=this.points()[1],e.price>t.price?l.Direction.Up:l.Direction.Down)},o.prototype.getStylesPropertyPage=function(){return a.LineToolPredictionStylesPropertyPage},e.LineToolPrediction=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolPriceLabel";var o=e||new r("linetoolpricelabel");n.call(this,t,o),i.e(11).then(function(t){var e=i(1227).PriceLabelPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Price Label"},o.prototype.getStylesPropertyPage=function(){return s.LineToolPriceLabelStylesPropertyPage},e.LineToolPriceLabel=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolBrush";var o=e||new r("linetoolbrush");n.call(this,t,o),this._finished=!1,i.e(11).then(function(t){var e=i(1229).BrushPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return-1},o.prototype.finished=function(){return this._finished},o.prototype.finish=function(){this._finished=!0,this._lastPoint=null,this.normalizePoints(),this.createServerPoints()},o.prototype.title=function(){return"Brush"},o.prototype.percentDistance=function(t,e){return Math.abs((e-t)/t)},o.prototype.addPoint=function(t){var e,i,o;return!!this._finished||(this._lastPoint=null,this._points.length>0&&(e=this._points[this._points.length-1],i=this.pointToScreenPoint(e)[1],o=this.pointToScreenPoint(t)[1],o.subtract(i).length()<2)?this._finished:(n.prototype.addPoint.call(this,t),this._finished))},o.prototype.restorePoints=function(t,e,i){n.prototype.restorePoints.call(this,t,e,i),this._finished=!0},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return s.LineToolBrushStylesPropertyPage},e.LineToolBrush=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolArc";var n=e||new u("linetoolarc");d.call(this,t,n),this.version=o.version,i.e(11).then(function(t){var e=i(1230).ArcPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(8).Point,r=i(51).distanceToLine,s=i(580),a=s.rotationMatrix,l=s.scalingMatrix,c=s.translationMatrix,h=s.transformPoint,d=i(1).LineDataSource,u=i(7).DefaultProperty,p=i(2).propertyPages;inherit(o,d),o.prototype.startChanging=function(t,e){var i,o,s,a,l,c,h;d.prototype.startChanging.call(this,t,e),0!==t&&1!==t||(i=this.pointToScreenPoint(this._points[0])[0],o=this.pointToScreenPoint(this._points[1])[0],s=this.pointToScreenPoint(this._points[2])[0],
this._dist=r(i,o,s).distance,a=o.subtract(i),l=new n(-a.y,a.x),c=i.add(o).scaled(.5),h=s.subtract(c),h.dotProduct(l)<0&&(this._dist=-this._dist))},o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Arc"},o.prototype.setPoint=function(t,e){var i,o,s,d,u,p,f,_,g,m,v,y,b,w=$.extend({},e),S=this.pointToScreenPoint(this._points[0])[0],T=this.pointToScreenPoint(this._points[1])[0],x=this.pointToScreenPoint(this._points[2])[0],P=this.priceScale();switch(P.isPercent()&&(i=this.ownerSource().firstValue(),w.price=P.priceRange().convertFromPercent(w.price,i)),t){case 0:S=this.pointToScreenPoint(w)[0],o=T.subtract(S),s=S.add(T).scaled(.5),d=new n(-o.y,o.x),d=d.normalized(),x=s.add(d.scaled(this._dist)),x=this.screenPointToPoint(x),this._points[0]=w,this._points[2]=x;break;case 1:u=r(S,T,x).distance,T=this.pointToScreenPoint(w)[0],o=T.subtract(S),s=S.add(T).scaled(.5),d=new n(-o.y,o.x),d=d.normalized(),x=s.add(d.scaled(this._dist)),x=this.screenPointToPoint(x),this._points[1]=w,this._points[2]=x;break;case 2:w=this.pointToScreenPoint(w)[0],u=r(S,T,w).distance,o=T.subtract(S),s=S.add(T).scaled(.5),d=new n(-o.y,o.x),d=d.normalized(),x=s.add(d.scaled(u)),p=s.add(d.scaled(-u)),f=o.length(),_=o.x/f,g=o.y/f,m=Math.acos(_),g<0&&(m=-m),v=c(-s.x,-s.y),w=h(v,w),y=h(v,x),v=a(-m),w=h(v,w),y=h(v,y),v=l(1,f/(2*u)),w=h(v,w),y=h(v,y),b=w.y*y.y>=0?new n(x.x,x.y):new n(p.x,p.y),b=this.screenPointToPoint(b),this._points[2]=b}this.normalizePoints()},o.version=2,o.prototype.migrateVersion=function(t,e,i){var o,n;1===t&&2===this._points.length&&(o=(2*this._points[0].price+3*this._points[1].price)/5,this._points.append({price:o,index:this._points[1].index})),1===t&&2===this._timePoint.length&&(o=(2*this._timePoint[0].price+3*this._timePoint[1].price)/5,n={price:o,offset:this._timePoint[1].offset,time_t:this._timePoint[1].time_t},this._timePoint.append(n))},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return p.LineToolArcStylesPropertyPage},e.LineToolArc=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolCallout";var o=e||new s("linetoolcallout");n.call(this,t,o),this._barOffset=0,this._timeScale=t.timeScale(),i.e(11).then(function(t){var e=i(1231).CalloutPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(52).DataSource,s=i(7).DefaultProperty,a=i(2).propertyPages,l=i(654).CalloutConsts;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Callout"},o.prototype.correctPoints=function(t){var e=this._currentMovingPoint.index-this._startMovingPoint.index,i=this._currentMovingPoint.price-this._startMovingPoint.price,o=t[1];o.index+=e,o.price+=i,t[1]=o},o.prototype.addPoint=function(t){var e=n.prototype.addPoint.call(this,t);return e&&this._calculateBarOffset(),e},o.prototype._calculateBarOffset=function(){this.points().length>1&&(this._barOffset=this.points()[1].index-this.points()[0].index)},o.prototype.setLastPoint=function(t){
n.prototype.setLastPoint.call(this,t),2===this.points().length&&this._calculateBarOffset()},o.prototype.setPoint=function(t,e){var i,o,r,s,a;switch(t){case 0:n.prototype.setPoint.call(this,t,e),this._calculateBarOffset();break;case 1:if(i=this.properties(),!i.wordWrapWidth)return;if(o=this._points,r=this._dragStartLeftEdgeIndex,s=Math.round((e.index-r)/2),isFinite(r)&&isFinite(s)){if(o[1]={index:r+s,price:o[1].price},this._calculateBarOffset(),this.normalizePoints(),a=this._timeScale.indexToCoordinate(r+2*s)-this._timeScale.indexToCoordinate(r)-l.RoundRadius-l.TextMargins,!isFinite(a))return;i.wordWrapWidth.setValue(Math.max(l.MinWidth,a));break}o[1]=e,this._calculateBarOffset(),this.normalizePoints()}},o.prototype.startDragPoint=function(t,e){var i=this.properties();1===t&&i.wordWrap&&i.wordWrap.value()&&(this._dragStartLeftEdgeIndex=2*this.points()[1].index-e.index)},o.prototype.move=function(t){n.prototype.move.call(this,t),this._calculateBarOffset()},o.prototype.state=function(t){var e=n.prototype.state.call(this,t);return e.barOffset=this._barOffset,e},o.prototype.restoreData=function(t){t.barOffset?this._barOffset=t.barOffset:this._calculateBarOffset(),this._calculatePoint2()},o.prototype.setPriceScale=function(t){r.prototype.setPriceScale.call(this,t),t&&t.priceRange()&&this._calculatePoint2()},o.prototype._calculatePoint2=function(){var t,e;this._model.lineBeingEdited()!==this&&this._model.sourceBeingMoved()!==this&&(this._points.length<2||(t=this.points()[0],e=this.points()[1],this._points[1]={price:e.price,index:t.index+this._barOffset}))},o.prototype.getStylesPropertyPage=function(){return a.LineToolCalloutStylesPropertyPage},e.LineToolCallout=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolBalloon";var o=e||new r("linetoolballoon");n.call(this,t,o),i.e(11).then(function(t){var e=i(1232).BalloonPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Balloon"},o.prototype.getStylesPropertyPage=function(){return s.LineToolBalloonStylesPropertyPage},e.LineToolBalloon=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolHorzLine";var o=e||new s("linetoolhorzline");this._priceAxisView=new r(this),n.call(this,t,o),i.e(11).then(function(t){var e=i(1233).HorzLinePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(491).LineToolHorzLinePriceAxisView,s=i(7).DefaultProperty,a=i(2).propertyPages;inherit(o,n),o.prototype.state=function(t){var e=n.prototype.state.call(this,t);return e.points&&0!==e.points.length&&(e.points[0].offset=0),e},o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Horizontal Line"},o.prototype.priceAxisViews=function(t,e){
return this.isSourceHidden()?null:e===this.priceScale()&&this.properties().showPrice.value()&&this._model.paneForSource(this)===t?[this._priceAxisView]:null},o.prototype.updateAllViews=function(){n.prototype.updateAllViews.call(this),this._priceAxisView.update()},o.prototype.canHasAlert=function(){return!0},o.prototype._getAlertPlots=function(){return[this.points()[0].price]},o.prototype.getInputsPropertyPage=function(){return a.LineToolHorzLineInputsPropertyPage},o.prototype.getStylesPropertyPage=function(){return a.LineToolHorzLineStylesPropertyPage},e.LineToolHorzLine=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolHorzRay";var o=e||new s("linetoolhorzray");this._priceAxisView=new r(this),n.call(this,t,o),i.e(11).then(function(t){var e=i(1234).HorzRayPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(491).LineToolHorzLinePriceAxisView,s=i(7).DefaultProperty,a=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Horizontal Ray"},o.prototype.priceAxisViews=function(t,e){return this.isSourceHidden()?null:e===this.priceScale()&&this.properties().showPrice.value()&&this._model.paneForSource(this)===t?[this._priceAxisView]:null},o.prototype.updateAllViews=function(){n.prototype.updateAllViews.call(this),this._priceAxisView.update()},o.prototype.canHasAlert=function(){return!0},o.prototype._getAlertPlots=function(){var t=this._points[0],e={index:t.index+1,price:t.price};return[this._linePointsToAlertPlot([t,e],null,!1,!0)]},o.prototype.getStylesPropertyPage=function(){return a.LineToolHorzLineStylesPropertyPage},e.LineToolHorzRay=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolRectangle";var o=e||new r("linetoolrectangle");n.call(this,t,o),i.e(11).then(function(t){var e=i(1235).RectanglePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Rectangle"},o.prototype.setPoint=function(t,e,i){var o,r,s;if(t<2)return void n.prototype.setPoint.call(this,t,e,i);i&&i.shift&&this._properties.snapTo45Degrees&&(o=this.points()[0],r=this.points()[1],s={price:2===t?o.price:r.price,index:2===t?r.index:o.index},this._snapPoint45Degree(e,s)),this._convertPriceFromPercentIfNeeded(e),3===t?(this._points[0].price=e.price,this._points[1].index=e.index):(this._points[1].price=e.price,this._points[0].index=e.index),this.normalizePoints()},o.prototype.getStylesPropertyPage=function(){return s.LineToolRectangleStylesPropertyPage},e.LineToolRectangle=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolEllipse";var n=e||new a("linetoolellipse");s.call(this,t,n),this.version=o.version,i.e(11).then(function(t){var e=i(1236).EllipsePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}
var n=i(8).Point,r=i(51).distanceToLine,s=i(1).LineDataSource,a=i(7).DefaultProperty,l=i(2).propertyPages;inherit(o,s),o.prototype.startChanging=function(t,e){var i,o,n;s.prototype.startChanging.call(this,t,e),0!==t&&1!==t||(i=this.pointToScreenPoint(this._points[0])[0],o=this.pointToScreenPoint(this._points[1])[0],n=this.pointToScreenPoint(this._points[2])[0],this._dist=r(i,o,n).distance||0)},o.prototype._preparePoint=function(t,e){var i=this._preparePointInternal(t,e,!1);return e&&e.shift&&this._points[0].index===this._points[1].index&&this._fixVerticalDiameterPoints(this._points[1],this._points[0],i),i},o.prototype._preparePointInternal=function(t,e,i){var o,r,a,l,c,h,d,u,p,f,_;if(this._convertPriceFromPercentIfNeeded(t),o=$.extend({},t),e&&e.shift){if(r=this.points().length,!this._fakePointAdded&&3===r&&!i)return o;(this._fakePointAdded||2===r||i)&&(this._snapPoint45Degree(t,this._points[0]),this._fakePointAdded?this._points[1]=t:i||(this._fakePointAdded=!0,s.prototype._addPointIntenal.call(this,t)),a=this.pointToScreenPoint(this._points[0])[0],l=this.pointToScreenPoint(this._points[1])[0],c=l.x-a.x,h=l.y-a.y,d=Math.sqrt(c*c+h*h)/2,u=l.subtract(a),p=a.add(l).scaled(.5),f=new n(-u.y,u.x),f=f.normalized(),_=p.add(f.scaled(d)),o=this.screenPointToPoint(_),(TradingView.isNaN(o.price)||TradingView.isNaN(o.index))&&(o=this.screenPointToPoint(p)))}else this._fakePointAdded&&(this._points.splice(1,1),this._fakePointAdded=!1);return o},o.prototype._fixVerticalDiameterPoints=function(t,e,i){var o=this.pointToScreenPoint(t)[0],n=this.pointToScreenPoint(e)[0],r=this._model.timeScale(),s=r.indexToCoordinate(t.index),a=r.indexToCoordinate(i.index),l=2*Math.abs(s-a);l*=e.price>t.price?1:-1,t.price=this.screenPointToPoint({x:o.x,y:n.y+l}).price},o.prototype.addPoint=function(t,e,i){var o=s.prototype.addPoint.call(this,t,e,i);return o&&(this._fakePointAdded=!1),o},o.prototype.setPoint=function(t,e,i){var o,s,a,l,c=$.extend({},e),h=this.pointToScreenPoint(this._points[0])[0],d=this.pointToScreenPoint(this._points[1])[0],u=this.pointToScreenPoint(this._points[2])[0];switch(this._convertPriceFromPercentIfNeeded(c),t){case 0:if(i&&i.shift){this._snapPoint45Degree(c,this._points[1]),this._points[0]=c,this._points[2]=this._preparePointInternal(this._points[2],i,!0),this._points[0].index===this._points[1].index&&this._fixVerticalDiameterPoints(this._points[0],this._points[1],this._points[2]);break}h=this.pointToScreenPoint(c)[0],o=d.subtract(h),s=h.add(d).scaled(.5),a=new n(-o.y,o.x),a=a.normalized(),u=s.add(a.scaled(this._dist)),u=this.screenPointToPoint(u),this._points[0]=c,this._points[2]=u;break;case 1:if(i&&i.shift){this._snapPoint45Degree(c,this._points[0]),this._points[1]=c,this._points[2]=this._preparePointInternal(this._points[2],i,!0),this._points[0].index===this._points[1].index&&this._fixVerticalDiameterPoints(this._points[1],this._points[0],this._points[2]);break}d=this.pointToScreenPoint(c)[0],o=d.subtract(h),s=h.add(d).scaled(.5),a=new n(-o.y,o.x),a=a.normalized(),u=s.add(a.scaled(this._dist)),
u=this.screenPointToPoint(u),this._points[1]=c,this._points[2]=u;break;case 2:case 3:c=this.pointToScreenPoint(c)[0],l=r(h,d,c).distance,o=d.subtract(h),s=h.add(d).scaled(.5),a=new n(-o.y,o.x),a=a.normalized(),u=s.add(a.scaled(l)),u=this.screenPointToPoint(u),this._points[2]=u}this.normalizePoints()},o.prototype.pointsCount=function(){return 3},o.prototype.title=function(){return"Ellipse"},o.version=2,o.prototype.migrateVersion=function(t,e,i){var o,n,r;1===t&&2===this._points.length&&(o=this._points[0].price,n=.5*(this._points[0].price+this._points[1].price),this._points[0]={price:n,index:this._points[0].index},this._points[1]={price:n,index:this._points[1].index},this._points.push({price:o,index:this._points[0].index})),1===t&&2===this._timePoint.length&&(o=this._timePoint[0].price,n=.5*(this._timePoint[0].price+this._timePoint[1].price),this._timePoint[0].price=n,this._timePoint[1].price=n,r={price:o,offset:this._timePoint[0].offset,time_t:this._timePoint[0].time_t},this._timePoint.push(r))},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.getStylesPropertyPage=function(){return l.LineToolEllipseStylesPropertyPage},e.LineToolEllipse=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolTimeCycles";var o;o=e||new r("linetooltimecycles"),n.call(this,t,o),i.e(11).then(function(t){var e=i(1237).TimeCyclesPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Time Cycles"},o.prototype.setPoint=function(t,e,i){var o,n=$.extend({},e),r=this._points[0],s=this._points[1],a=this.priceScale();a.isPercent()&&(o=this.ownerSource().firstValue(),n.price=a.priceRange().convertFromPercent(n.price,o)),r.price=n.price,s.price=n.price,this._points[t]=n,this.normalizePoints()},o.prototype.addPoint=function(t,e,i){var o,r,s=n.prototype.addPoint.call(this,t,e,!0);return s&&(o=this._points[0],r=this._points[1],r.price=o.price,i||(this.normalizePoints(),this.createServerPoints())),s},o.prototype.getStylesPropertyPage=function(){return s.LineToolTimeCyclesPropertyPage},e.LineToolTimeCycles=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolSineLine";var o;o=e||new r("linetoolsineline"),n.call(this,t,o),i.e(11).then(function(t){var e=i(1238).SineLinePaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Sine Line"},o.prototype.getStylesPropertyPage=function(){return s.LineToolTimeCyclesPropertyPage},e.LineToolSineLine=o},function(t,e,i){"use strict";function o(t,e,i){this._source=t,this._index=e,this._bars=i||[]}function n(t,e,i){this._source=t,l.call(this,"linetoolghostfeed",e,i)}function r(t,e,o){var s,l;this._constructor="LineToolGhostFeed",e?(s=e,
s._source=this):s=new n(this),o||(l=Math.round(this.calculateATR(t)),s.averageHL.setValue(l)),a.call(this,t,s),this._segments=[],s.averageHL.listeners().subscribe(this,r.prototype.regenerate),s.variance.listeners().subscribe(this,r.prototype.regenerate),s.points||s.addProperty("points"),this._currentAverageHL=this._properties.averageHL.value(),this._currentVariance=this._properties.variance.value(),this._currentInterval=t.mainSeries().interval(),i.e(11).then(function(t){var e=i(1239).GhostFeedPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var s=i(36).sign,a=i(1).LineDataSource,l=i(7).DefaultProperty,c=i(2).propertyPages;o.prototype.setBars=function(t){this._bars=t||[]},o.prototype.clone=function(t){return new o(t,this._index,TradingView.clone(this._bars))},o.prototype.createBar=function(){var t,e,i,o,n,r=this._source.properties().averageHL.value(),s=this._source.properties().variance.value()/100,a=this._source._model.mainSeries().base(),l=Math.random(),c=r*(1-2*l)*s;return l=Math.random(),t=r*(1+(.5-l)*s),e=c-t/2,i=e+t,o=e+Math.random()*t,n=e+Math.random()*t,{o:o/a,h:i/a,l:e/a,c:n/a}},o.prototype.generate=function(){var t,e,i,o,n,r;if(this._bars=[],t=this._source.points(),e=t[this._index],i=t[this._index+1],e&&i&&e.index!==i.index)for(this._avgHL=this._source.properties().averageHL.value(),this._variance=this._source.properties().variance.value()/100,o=this._index?e.index+1:e.index,n=s(i.index-e.index),r=o;r!==i.index;r+=n)this._bars.push(this.createBar())},o.prototype.bars=function(){return this._bars},o.prototype.setSize=function(t){if(t<this._bars.length)this._bars.splice(t,this._bars.length-t);else for(;this._bars.length<t;)this._bars.push(this.createBar())},inherit(n,l),n.prototype.restoreFactoryDefaults=function(){l.prototype.restoreFactoryDefaults.call(this);var t=Math.round(this._source.calculateATR());this.averageHL.setValue(t)},inherit(r,a),r.prototype.createPropertiesObject=function(t,e,i){return new n(null,e,i)},r.prototype.regenerate=function(){this._currentAverageHL=this._properties.averageHL.value(),this._currentVariance=this._properties.variance.value(),this._segments.forEach(function(t){t.generate()}),this.updateAllViews(),this._model.updateSource(this)},r.prototype.propertiesChanged=function(){a.prototype.propertiesChanged.call(this),this._currentAverageHL===this._properties.averageHL.value()&&this._currentVariance===this._properties.variance.value()||this.regenerate()},r.prototype.pointsCount=function(){return-1},r.prototype.title=function(){return"Ghost Feed"},r.prototype.segmentBars=function(t){return this._segments[t].bars()},r.prototype.segments=function(){return this._segments},r.prototype.generateBars=function(t){this._segments.length<=t&&this._segments.push(new o(this,t)),this._segments[t].generate()},r.prototype.addPoint=function(t){var e,i,o;if(this._points.length>0&&(e=this._points[this._points.length-1],e.index===t.index)){for(this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),
i=0;i<this._points.length;i++)this._createPointProperty(i);return!0}return o=a.prototype.addPoint.call(this,t),this._finished&&(this._lastPoint=null),this._points.length>1&&this.generateBars(this._points.length-2),o||this._finished},r.prototype.finish=function(){this._finished=!0,this._lastPoint=null,this.normalizePoints(),this.createServerPoints()},r.prototype.setPoint=function(t,e,i){var o,n,r;a.prototype.setPoint.call(this,t,e,i),t>0&&(o=this.points()[t-1],n=e.index-o.index,this._segments[t-1].setSize(Math.abs(n))),t<this.points().length-1&&(r=this.points()[t+1],n=r.index-e.index,this._segments[t].setSize(Math.abs(n)))},r.prototype.state=function(t){var e=a.prototype.state.call(this,t);return e.segments=this._segments.map(function(t){return{bars:t.bars()}}),e},r.prototype.restoreData=function(t){var e=this;t.segments&&(this._segments=t.segments.map(function(t,i){return new o(e,i,[].concat(t.bars))})),this._currentAverageHL=this._properties.averageHL.value(),this._currentVariance=this._properties.variance.value()},r.prototype.onData=function(t){if(a.prototype.onData.call(this,t),0===this.properties().points._childs.length)for(var e=0;e<this._points.length;e++)this._createPointProperty(e);this._currentInterval!==this._model.mainSeries().interval()&&(this.regenerate(),this._currentInterval=this._model.mainSeries().interval())},r.prototype.cloneData=function(t){var e=this;this._segments=t._segments.map(function(t){return t.clone(e)})},r.prototype.calculateATR=function(t){var e,i=(void 0!==t?t:this._model).mainSeries(),o=[];return i.bars().each(function(t,e){o.push(e[TradingView.HIGH_PLOT]-e[TradingView.LOW_PLOT])}),e=0===o.length?0:o.reduce(function(t,e){return t+e},0)/o.length,e*=i.base()},r.prototype.getInputsPropertyPage=function(){return c.LineToolGhostFeedInputsPropertyPage},r.prototype.getStylesPropertyPage=function(){return c.LineToolGhostFeedStylesPropertyPage},e.LineToolGhostFeed=r},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolBezierQuadro";var o;o=e||new r("linetoolbezierquadro"),n.call(this,t,o),i.e(11).then(function(t){var e=i(1240).BezierQuadroPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Curve"},o.prototype.controlPoint=function(){var t=this.pointToScreenPoint(this.points()[0])[0],e=this.pointToScreenPoint(this.points()[1])[0],i=e.subtract(t).scaled(.5),o=i.transposed().scaled(.3),n=t.add(e).scaled(.5),r=n.add(o);return this.screenPointToPoint(r)},o.prototype.setLastPoint=function(t,e){n.prototype.setLastPoint.call(this,t,e),this._controlPoint=this.controlPoint()},o.prototype.addPoint=function(t,e,i){var o,r=n.prototype.addPoint.call(this,t,e,!0);return r&&(o=this.controlPoint(),this._points.push(o),delete this._controlPoint,i||(this.normalizePoints(),this.createServerPoints()),this._createPointProperty(2)),r},o.prototype.restorePoints=function(t,e,i){
n.prototype.restorePoints.call(this,t,e,i),this._createPointProperty(2)},o.prototype.getStylesPropertyPage=function(){return s.LineToolBezierStylesPropertyPage},e.LineToolBezierQuadro=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolBezierCubic";var o;o=e||new r("linetoolbeziercubic"),n.call(this,t,o),i.e(11).then(function(t){var e=i(1241).BezierCubicPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(2).propertyPages;inherit(o,n),o.prototype.pointsCount=function(){return 2},o.prototype.title=function(){return"Double Curve"},o.prototype.controlPoints=function(){var t=this.pointToScreenPoint(this.points()[0])[0],e=this.pointToScreenPoint(this.points()[1])[0],i=e.subtract(t).scaled(.5),o=i.transposed().scaled(.3),n=t.add(e).scaled(.33),r=t.add(e).scaled(.67),s=n.add(o),a=r.subtract(o);return[this.screenPointToPoint(s),this.screenPointToPoint(a)]},o.prototype.setLastPoint=function(t,e){n.prototype.setLastPoint.call(this,t,e),this._controlPoints=this.controlPoints()},o.prototype.addPoint=function(t,e,i){var o,r=n.prototype.addPoint.call(this,t,e,!0);return r&&(o=this.controlPoints(),delete this._controlPoints,this._points.push(o[0]),this._points.push(o[1]),i||(this.normalizePoints(),this.createServerPoints()),this._createPointProperty(2),this._createPointProperty(3)),r},o.prototype.restorePoints=function(t,e,i){n.prototype.restorePoints.call(this,t,e,i),this._createPointProperty(2),this._createPointProperty(3)},o.prototype.getStylesPropertyPage=function(){return s.LineToolBezierStylesPropertyPage},e.LineToolBezierCubic=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolArrow";var i=e||new r("linetoolarrow");n.call(this,t,i)}var n=i(218).LineToolTrendLine,r=i(7).DefaultProperty;inherit(o,n),o.prototype.title=function(){return"Arrow"},e.LineToolArrow=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolRay";var i=e||new r("linetoolray");n.call(this,t,i)}var n=i(218).LineToolTrendLine,r=i(7).DefaultProperty;inherit(o,n),o.prototype.title=function(){return"Ray"},e.LineToolRay=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolExtended";var i=e||new r("linetoolextended");n.call(this,t,i)}var n=i(218).LineToolTrendLine,r=i(7).DefaultProperty;inherit(o,n),o.prototype.title=function(){return"Extended Line"},e.LineToolExtended=o},function(t,e,i){"use strict";function o(t,e){var i=e||this.createPropertiesObject("linetoolschiffpitchfork");r.call(this,t,i),this._constructor="LineToolSchiffPitchfork"}var n=i(31),r=i(220).LineToolPitchfork;inherit(o,r),o.prototype.title=function(){return $.t("Modified Schiff Pitchfork")},o.prototype.createPropertiesObject=function(t,e,i){return new n(t,e,i,{range:[0,8]})},e.LineToolSchiffPitchfork=o},function(t,e,i){"use strict";function o(t,e){var i=e||this.createPropertiesObject("linetoolschiffpitchfork2");r.call(this,t,i),this._constructor="LineToolSchiffPitchfork2"}var n=i(31),r=i(220).LineToolPitchfork
;inherit(o,r),o.prototype.title=function(){return $.t("Schiff Pitchfork")},o.prototype.createPropertiesObject=function(t,e,i){return new n(t,e,i,{range:[0,8]})},e.LineToolSchiffPitchfork2=o},function(t,e,i){"use strict";function o(t,e){var i=e||this.createPropertiesObject("linetoolinsidepitchfork");r.call(this,t,i),this._constructor="LineToolInsidePitchfork"}var n=i(31),r=i(220).LineToolPitchfork;inherit(o,r),o.prototype.title=function(){return $.t("Inside Pitchfork")},o.prototype.createPropertiesObject=function(t,e,i){return new n(t,e,i,{range:[0,8]})},e.LineToolInsidePitchfork=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolFlagMark";var o=e||new s("linetoolflagmark");r.call(this,t,o),i.e(11).then(function(e){var o=i(651).MarkPaneView,r=new o(this,t,this.image,25,25,-8,-21);r.setAnchors(new n(0,0)),this._setPaneViews([r])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(8).Point,r=i(1).LineDataSource,s=i(7).DefaultProperty;inherit(o,r),o.prototype.image=new Image,o.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAsElEQVR4AWMYWcDExOS/YUd4hWF7+H90bNAePpO2liDwJTxyi2htyVXLvlBOWlry2bAtVIumwWXQERFF4zgJ20iPiP8JDCpLeqSuJ6ZdoRJ0SMIRx7QbQtmItgSXnGFbRCzMEnIzK8ISWgL6WzJqibGxsYaFhYUC7SxBWMQPNMjazMxMjebBZWhoKAq00NHc3FyL5nFiaWkpDTTYz8jISI/mEW9qaqoExGFgS+gFRgEAaE0hWxrw50oAAAAASUVORK5CYII=",o.prototype.pointsCount=function(){return 1},o.prototype.title=function(){return"Flag Mark"},o.prototype.version=2,e.LineToolFlagMark=o},function(t,e,i){"use strict";function o(t,e){this._constructor="LineToolCypherPattern";var o=e||new r("linetoolcypherpattern");n.call(this,t,o),i.e(11).then(function(t){var e=i(1242).CypherPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var n=i(1).LineDataSource,r=i(7).DefaultProperty,s=i(488).LineTool5PointsPattern;inherit(o,s),e.LineToolCypherPattern=o},function(t,e,i){"use strict";(function(t){function o(t){this._line=t,this._data={bodyText:"position",quantityText:"0"},this._closeEnabled=!0}function n(t,e){this._adapter=new o(this),this._constructor="LineToolPosition";var n=e||new c("linetoolposition");r.call(this,t,n),i.e(11).then(function(t){var e=i(1243).PositionPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(282),s=i(1).LineDataSource,a=i(278).LineToolPriceAxisView,l=i(269),c=i(7).DefaultProperty;o.prototype.getPrice=function(){return this._line.points().length>0?this._line.points()[0].price:this._line._timePoint.length>0?this._line._timePoint[0].price:void 0},o.prototype.setPrice=function(t){if(this._line.points().length>0){var e=this._line.points()[0];e.price=t,this._line._points[0]=e,this._line.normalizePoints(),this._line.updateAllViewsAndRedraw()}return this._line._timePoint.length>0&&(this._line._timePoint[0].price=t),this},o.prototype.getText=function(){return this._data.bodyText},o.prototype.setText=function(t){return this._data.bodyText=t||"",this._line.updateAllViewsAndRedraw(),this},o.prototype.setTooltip=function(t){
return null==t?t="":t+="",this._line.properties().tooltip.setValue(t),this},o.prototype.getTooltip=function(){return this._line.properties().tooltip.value()},o.prototype.getQuantity=function(){return this._data.quantityText},o.prototype.setQuantity=function(t){return this._data.quantityText=t||"",this._line.updateAllViewsAndRedraw(),this},o.prototype.getExtendLeft=function(){var t=this._line.properties().extendLeft.value();return"inherit"===t?this._line._model.properties().tradingProperties.extendLeft.value():t},o.prototype.setExtendLeft=function(t){return this._line.properties().extendLeft.setValue(t),this},o.prototype.getLineLength=function(){var t=this._line.properties().lineLength.value();return"inherit"===t?this._line._model.properties().tradingProperties.lineLength.value():t},o.prototype.setLineLength=function(t){return this._line.properties().lineLength.setValue(Math.max(0,Math.min(t,100))),this},o.prototype.getLineColor=function(){return l.getColorFromProperties(this._line.properties().lineColor,this._line.properties().lineTransparency)},o.prototype.setLineColor=function(t){return l.setColorToProperties(t,this._line.properties().lineColor,this._line.properties().lineTransparency),this},o.prototype.getLineStyle=function(){var t=this._line.properties().lineStyle.value();return"inherit"===t?this._line._model.properties().tradingProperties.lineStyle.value():t},o.prototype.setLineStyle=function(t){return this._line.properties().lineStyle.setValue(t),this},o.prototype.getLineWidth=function(){var t=this._line.properties().lineWidth.value();return"inherit"===t?this._line._model.properties().tradingProperties.lineWidth.value():t},o.prototype.setLineWidth=function(t){return this._line.properties().lineWidth.setValue(t),this},o.prototype.getBodyBorderColor=function(){return l.getColorFromProperties(this._line.properties().bodyBorderColor,this._line.properties().bodyBorderTransparency)},o.prototype.setBodyBorderColor=function(t){return l.setColorToProperties(t,this._line.properties().bodyBorderColor,this._line.properties().bodyBorderTransparency),this},o.prototype.getBodyBackgroundColor=function(){return l.getColorFromProperties(this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency)},o.prototype.setBodyBackgroundColor=function(t){return l.setColorToProperties(t,this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency),this},o.prototype.getBodyTextColor=function(){return l.getColorFromProperties(this._line.properties().bodyTextColor,this._line.properties().bodyTextTransparency)},o.prototype.setBodyTextColor=function(t){return l.setColorToProperties(t,this._line.properties().bodyTextColor,this._line.properties().bodyTextTransparency),this},o.prototype.getBodyFont=function(){return l.getFontFromProperties(this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic)},o.prototype.setBodyFont=function(t){
return l.setFontToProperties(t,this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic),this},o.prototype.getQuantityBorderColor=function(){return l.getColorFromProperties(this._line.properties().quantityBorderColor,this._line.properties().quantityBorderTransparency)},o.prototype.setQuantityBorderColor=function(t){return l.setColorToProperties(t,this._line.properties().quantityBorderColor,this._line.properties().quantityBorderTransparency),this},o.prototype.getQuantityBackgroundColor=function(){return l.getColorFromProperties(this._line.properties().quantityBackgroundColor,this._line.properties().quantityBackgroundTransparency)},o.prototype.setQuantityBackgroundColor=function(t){return l.setColorToProperties(t,this._line.properties().quantityBackgroundColor,this._line.properties().quantityBackgroundTransparency),this},o.prototype.getQuantityTextColor=function(){return l.getColorFromProperties(this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency)},o.prototype.setQuantityTextColor=function(t){return l.setColorToProperties(t,this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency),this},o.prototype.getQuantityFont=function(){return l.getFontFromProperties(this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic)},o.prototype.setQuantityFont=function(t){return l.setFontToProperties(t,this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic),this},o.prototype.getReverseButtonBorderColor=function(){return l.getColorFromProperties(this._line.properties().reverseButtonBorderColor,this._line.properties().reverseButtonBorderTransparency)},o.prototype.setReverseButtonBorderColor=function(t){return l.setColorToProperties(t,this._line.properties().reverseButtonBorderColor,this._line.properties().reverseButtonBorderTransparency),this},o.prototype.getReverseButtonBackgroundColor=function(){return l.getColorFromProperties(this._line.properties().reverseButtonBackgroundColor,this._line.properties().reverseButtonBackgroundTransparency)},o.prototype.setReverseButtonBackgroundColor=function(t){return l.setColorToProperties(t,this._line.properties().reverseButtonBackgroundColor,this._line.properties().reverseButtonBackgroundTransparency),this},o.prototype.getReverseButtonIconColor=function(){return l.getColorFromProperties(this._line.properties().reverseButtonIconColor,this._line.properties().reverseButtonIconTransparency)},o.prototype.setReverseButtonIconColor=function(t){return l.setColorToProperties(t,this._line.properties().reverseButtonIconColor,this._line.properties().reverseButtonIconTransparency),this},o.prototype.getCloseButtonBorderColor=function(){
return l.getColorFromProperties(this._line.properties().closeButtonBorderColor,this._line.properties().closeButtonBorderTransparency)},o.prototype.setCloseButtonBorderColor=function(t){return l.setColorToProperties(t,this._line.properties().closeButtonBorderColor,this._line.properties().closeButtonBorderTransparency),this},o.prototype.getCloseButtonBackgroundColor=function(){return l.getColorFromProperties(this._line.properties().closeButtonBackgroundColor,this._line.properties().closeButtonBackgroundTransparency)},o.prototype.setCloseButtonBackgroundColor=function(t){return l.setColorToProperties(t,this._line.properties().closeButtonBackgroundColor,this._line.properties().closeButtonBackgroundTransparency),this},o.prototype.getCloseButtonIconColor=function(){return l.getColorFromProperties(this._line.properties().closeButtonIconColor,this._line.properties().closeButtonIconTransparency)},o.prototype.setCloseButtonIconColor=function(t){return l.setColorToProperties(t,this._line.properties().closeButtonIconColor,this._line.properties().closeButtonIconTransparency),this},o.prototype.block=function(){this._blocked=!0,this._line.updateAllViewsAndRedraw()},o.prototype.unblock=function(){this._blocked=!1,this._line.updateAllViewsAndRedraw()},o.prototype.isFunction=function(t){return"function"==typeof t},o.prototype.onReverse=function(t,e){return e?this.isFunction(e)&&(this._onReverseData=t,this._onReverseCallback=e):this.isFunction(t)&&(this._onReverseCallback=t),this},o.prototype.callOnReverse=function(){this.isFunction(this._onReverseCallback)&&this._onReverseCallback.call(this,this._onReverseData)},o.prototype.isOnReverseCallbackPresent=function(){return this.isFunction(this._onReverseCallback)},o.prototype.onClose=function(t,e){return e?this.isFunction(e)&&(this._onCloseData=t,this._onCloseCallback=e):this.isFunction(t)&&(this._onCloseCallback=t),this},o.prototype.setCloseEnabled=function(t){return this._closeEnabled===t?this:(this._closeEnabled=t,this._onCloseCallback&&this._line.updateAllViewsAndRedraw(),this)},o.prototype.isCloseEnabled=function(){return this._closeEnabled},o.prototype.callOnClose=function(){this.isFunction(this._onCloseCallback)&&this._closeEnabled&&this._onCloseCallback.call(this,this._onCloseData)},o.prototype.isOnCloseCallbackPresent=function(){return this._closeEnabled&&this.isFunction(this._onCloseCallback)},o.prototype.onModify=function(t,e){return e?this.isFunction(e)&&(this._onModifyData=t,this._onModifyCallback=e):this.isFunction(t)&&(this._onModifyCallback=t),this},o.prototype.callOnModify=function(){this.isFunction(this._onModifyCallback)&&this._onModifyCallback.call(this,this._onModifyData)},o.prototype.onContextMenu=function(t,e){return e?this.isFunction(e)&&(this._onContextMenuData=t,this._onContextMenuCallback=e):this.isFunction(t)&&(this._onContextMenuCallback=t),this},o.prototype.callOnContextMenu=function(){if(this.isFunction(this._onContextMenuCallback))return this._onContextMenuCallback.call(this,this._onContextMenuData)},o.prototype.remove=function(){
this._line._model.removeSource(this._line),delete this._line},inherit(n,r),n.prototype.setPoint=function(t,e,i){this._points[t]=e,this.normalizePoints()},n.prototype.addPoint=function(t,e){return this._points.push(t),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0},n.skipMagnetting=!0,n.prototype.title=function(){return"Position"},n.prototype.createPriceAxisView=function(t){return this._priceAxisView=new a(this,{pointIndex:t,backgroundProperty:this.properties().lineColor}),this._priceAxisView},n.prototype.paneViews=function(e){return TradingView.printing&&!t.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showPositions.value()?s.prototype.paneViews.call(this,e):null},n.prototype.priceAxisViews=function(e,i){return TradingView.printing&&!t.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showPositions.value()?s.prototype.priceAxisViews.call(this,e,i):null},n.prototype.hasContextMenu=function(){return!0},n.prototype.contextMenuItems=function(){return this._adapter.callOnContextMenu()},e.LineToolPosition=n}).call(e,i(3))},function(t,e,i){"use strict";(function(t){function o(t){this._line=t,this._data={bodyText:"order",quantityText:"0"},this._editable=!0}function n(t,e){this._adapter=new o(this),this._constructor="LineToolOrder";var n=e||new c("linetoolorder");r.call(this,t,n),i.e(11).then(function(t){var e=i(1244).OrderPaneView;this._setPaneViews([new e(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i(282),s=i(278).LineToolPriceAxisView,a=i(269),l=i(1).LineDataSource,c=i(7).DefaultProperty;o.prototype.setEditable=function(t){return this._editable=t,this},o.prototype.getPrice=function(){return this._line.points().length>0?this._line.points()[0].price:this._line._timePoint.length>0?this._line._timePoint[0].price:void 0},o.prototype.setPrice=function(t){if(this._line.points().length>0){var e=this._line.points()[0];e.price=t,this._line._points[0]=e,this._line.normalizePoints(),this._line.updateAllViewsAndRedraw()}return this._line._timePoint.length>0&&(this._line._timePoint[0].price=t),this},o.prototype.getText=function(){return this._data.bodyText},o.prototype.setText=function(t){return this._data.bodyText=t||"",this._line.updateAllViewsAndRedraw(),this},o.prototype.setTooltip=function(t){return null==t?t="":t+="",this._line.properties().tooltip.setValue(t),this},o.prototype.getTooltip=function(){return this._line.properties().tooltip.value()},o.prototype.getQuantity=function(){return this._data.quantityText},o.prototype.setQuantity=function(t){return this._data.quantityText=t||"",this._line.updateAllViewsAndRedraw(),this},o.prototype.getExtendLeft=function(){var t=this._line.properties().extendLeft.value();return"inherit"===t?this._line._model.properties().tradingProperties.extendLeft.value():t},o.prototype.setExtendLeft=function(t){return this._line.properties().extendLeft.setValue(t),this},o.prototype.getLineLength=function(){var t=this._line.properties().lineLength.value()
;return"inherit"===t?this._line._model.properties().tradingProperties.lineLength.value():t},o.prototype.setLineLength=function(t){return this._line.properties().lineLength.setValue(Math.max(0,Math.min(t,100))),this},o.prototype.getLineColor=function(){return a.getColorFromProperties(this._line.properties().lineColor,this._line.properties().lineTransparency)},o.prototype.setLineColor=function(t){return a.setColorToProperties(t,this._line.properties().lineColor,this._line.properties().lineTransparency),this},o.prototype.getLineStyle=function(){var t=this._line.properties().lineStyle.value();return"inherit"===t?this._line._model.properties().tradingProperties.lineStyle.value():t},o.prototype.setLineStyle=function(t){return this._line.properties().lineStyle.setValue(t),this},o.prototype.getLineWidth=function(){var t=this._line.properties().lineWidth.value();return"inherit"===t?this._line._model.properties().tradingProperties.lineWidth.value():t},o.prototype.setLineWidth=function(t){return this._line.properties().lineWidth.setValue(t),this},o.prototype.getBodyBorderColor=function(){return a.getColorFromProperties(this._line.properties().bodyBorderColor,this._line.properties().bodyBorderTransparency)},o.prototype.setBodyBorderColor=function(t){return a.setColorToProperties(t,this._line.properties().bodyBorderColor,this._line.properties().bodyBorderTransparency),this},o.prototype.getBodyBackgroundColor=function(){return a.getColorFromProperties(this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency)},o.prototype.setBodyBackgroundColor=function(t){return a.setColorToProperties(t,this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency),this},o.prototype.getBodyTextColor=function(){return a.getColorFromProperties(this._line.properties().bodyTextColor,this._line.properties().bodyTextTransparency)},o.prototype.setBodyTextColor=function(t){return a.setColorToProperties(t,this._line.properties().bodyTextColor,this._line.properties().bodyTextTransparency),this},o.prototype.getBodyFont=function(){return a.getFontFromProperties(this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic)},o.prototype.setBodyFont=function(t){return a.setFontToProperties(t,this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic),this},o.prototype.getQuantityBorderColor=function(){return a.getColorFromProperties(this._line.properties().quantityBorderColor,this._line.properties().quantityBorderTransparency)},o.prototype.setQuantityBorderColor=function(t){return a.setColorToProperties(t,this._line.properties().quantityBorderColor,this._line.properties().quantityBorderTransparency),this},o.prototype.getQuantityBackgroundColor=function(){return a.getColorFromProperties(this._line.properties().quantityBackgroundColor,this._line.properties().quantityBackgroundTransparency)},
o.prototype.setQuantityBackgroundColor=function(t){return a.setColorToProperties(t,this._line.properties().quantityBackgroundColor,this._line.properties().quantityBackgroundTransparency),this},o.prototype.getQuantityTextColor=function(){return a.getColorFromProperties(this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency)},o.prototype.setQuantityTextColor=function(t){return a.setColorToProperties(t,this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency),this},o.prototype.getQuantityFont=function(){return a.getFontFromProperties(this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic)},o.prototype.setQuantityFont=function(t){return a.setFontToProperties(t,this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic),this},o.prototype.getCancelButtonBorderColor=function(){return a.getColorFromProperties(this._line.properties().cancelButtonBorderColor,this._line.properties().cancelButtonBorderTransparency)},o.prototype.setCancelButtonBorderColor=function(t){return a.setColorToProperties(t,this._line.properties().cancelButtonBorderColor,this._line.properties().cancelButtonBorderTransparency),this},o.prototype.getCancelButtonBackgroundColor=function(){return a.getColorFromProperties(this._line.properties().cancelButtonBackgroundColor,this._line.properties().cancelButtonBackgroundTransparency)},o.prototype.setCancelButtonBackgroundColor=function(t){return a.setColorToProperties(t,this._line.properties().cancelButtonBackgroundColor,this._line.properties().cancelButtonBackgroundTransparency),this},o.prototype.getCancelButtonIconColor=function(){return a.getColorFromProperties(this._line.properties().cancelButtonIconColor,this._line.properties().cancelButtonIconTransparency)},o.prototype.setCancelButtonIconColor=function(t){return a.setColorToProperties(t,this._line.properties().cancelButtonIconColor,this._line.properties().cancelButtonIconTransparency),this},o.prototype.block=function(){this._blocked=!0,this._line.updateAllViewsAndRedraw()},o.prototype.unblock=function(){this._blocked=!1,this._line.updateAllViewsAndRedraw()},o.prototype.isFunction=function(t){return"function"==typeof t},o.prototype.onCancel=function(t,e){return e?this.isFunction(e)&&(this._onCancelData=t,this._onCancelCallback=e):this.isFunction(t)&&(this._onCancelCallback=t),this},o.prototype.callOnCancel=function(){this.isFunction(this._onCancelCallback)&&this._onCancelCallback.call(this,this._onCancelData)},o.prototype.isOnCancelCallbackPresent=function(){return this.isFunction(this._onCancelCallback)},o.prototype.onModify=function(t,e){return e?this.isFunction(e)&&(this._onModifyData=t,this._onModifyCallback=e):this.isFunction(t)&&(this._onModifyCallback=t),this},o.prototype.callOnModify=function(){
this.isFunction(this._onModifyCallback)&&this._onModifyCallback.call(this,this._onModifyData)},o.prototype.onMove=function(t,e){return e?this.isFunction(e)&&(this._onMoveData=t,this._onMoveCallback=e):this.isFunction(t)&&(this._onMoveCallback=t),this},o.prototype.callOnMove=function(){this.isFunction(this._onMoveCallback)&&this._onMoveCallback.call(this,this._onMoveData)},o.prototype.onContextMenu=function(t,e){return e?this.isFunction(e)&&(this._onContextMenuData=t,this._onContextMenuCallback=e):this.isFunction(t)&&(this._onContextMenuCallback=t),this},o.prototype.callOnContextMenu=function(){if(this.isFunction(this._onContextMenuCallback))return this._onContextMenuCallback.call(this,this._onContextMenuData)},o.prototype.remove=function(){this._line._model.removeSource(this._line),delete this._line},inherit(n,r),n.skipMagnetting=!0,n.prototype.setPoint=function(t,e,i){this._points[t]=e,this.normalizePoints()},n.prototype.addPoint=function(t,e){return this._points.push(t),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0},n.prototype.title=function(){return"Order"},n.prototype.endMoving=function(t){var e=this._startMovingPoint&&this._currentMovingPoint&&this._startMovingPoint.price!==this._currentMovingPoint.price;r.prototype.endMoving.call(this),!t&&e&&this._adapter.callOnMove()},n.prototype.createPriceAxisView=function(t){return this._priceAxisView=new s(this,{pointIndex:t,backgroundProperty:this.properties().lineColor}),this._priceAxisView},n.prototype.paneViews=function(e){return TradingView.printing&&!t.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showOrders.value()?l.prototype.paneViews.call(this,e):null},n.prototype.priceAxisViews=function(e,i){return TradingView.printing&&!t.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showOrders.value()?l.prototype.priceAxisViews.call(this,e,i):null},n.prototype.hasContextMenu=function(){return!0},n.prototype.contextMenuItems=function(){return this._adapter.callOnContextMenu()},n.prototype.onlyYMoving=function(){return!0},e.LineToolOrder=n}).call(e,i(3))},function(t,e,i){"use strict";for(var o={StudyStrategy:i(537),StatusView:i(158),StudyLineDataSource:i(132).StudyLineDataSource,StudyVersioning:i(144),StudyMigration:i(483),StudyHHistsDataWindowView:i(836),ESDStudyBase:i(86).ESDStudyBase,study_ESD$TV_EARNINGS:i(86).study_ESD$TV_EARNINGS,study_ESD$TV_SPLITS:i(86).study_ESD$TV_SPLITS,study_ESD$TV_DIVIDENDS:i(86).study_ESD$TV_DIVIDENDS,study_ElliottWave:i(837),study_LinearRegression:i(648).study_LinearRegression,study_PivotPointsHighLow:i(838),study_PivotPointsStandard:i(839),study_VbPSessions:i(841),study_VbPVisible:i(842),study_ZigZag:i(843),study_Overlay:i(844).study_Overlay,study_Compare:i(869),study_Sessions:i(510),study_Volume:i(870).study_Volume,study_ScriptWithDataOffset:i(871),StudyPaneView:i(115).StudyPaneView,StudyBackgroundPaneView:i(115).StudyBackgroundPaneView,StudyPlotShapesPaneView:i(115).StudyPlotShapesPaneView,
StudyPlotCharsPaneView:i(115).StudyPlotCharsPaneView,StudyPlotArrowsPaneView:i(115).StudyPlotArrowsPaneView,StudyPlotCandlesPaneView:i(115).StudyPlotCandlesPaneView,StudyStrategyOrdersPaneView:i(492),StudyPriceAxisView:i(475).StudyPriceAxisView,StudyDataWindowView:i(182).StudyDataWindowView,DataVendorStudyDataWindowView:i(182).DataVendorStudyDataWindowView,LineStudyMtpAnalysis:i(872),LineStudyMtpDecisionPoint:i(873),LineStudyMtpRiskReward:i(874),LineStudyMtpElliotWaveMain:i(285).LineStudyMtpElliotWaveMain,LineStudyMtpElliotWaveMajor:i(285).LineStudyMtpElliotWaveMajor,LineStudyMtpElliotWaveMinor:i(285).LineStudyMtpElliotWaveMinor,LineStudyMtpDownWave1OrA:i(59).LineStudyMtpDownWave1OrA,LineStudyMtpDownWave2OrB:i(59).LineStudyMtpDownWave2OrB,LineStudyMtpDownWave3:i(59).LineStudyMtpDownWave3,LineStudyMtpDownWave4:i(59).LineStudyMtpDownWave4,LineStudyMtpDownWave5:i(59).LineStudyMtpDownWave5,LineStudyMtpDownWaveC:i(59).LineStudyMtpDownWaveC,LineStudyMtpUpWave1OrA:i(59).LineStudyMtpUpWave1OrA,LineStudyMtpUpWave2OrB:i(59).LineStudyMtpUpWave2OrB,LineStudyMtpUpWave3:i(59).LineStudyMtpUpWave3,LineStudyMtpUpWave4:i(59).LineStudyMtpUpWave4,LineStudyMtpUpWave5:i(59).LineStudyMtpUpWave5,LineStudyMtpUpWaveC:i(59).LineStudyMtpUpWaveC},n=Object.keys(o),r=n.length;r--;)TradingView[n[r]]=o[n[r]];t.exports=o},function(t,e,i){"use strict";function o(t,e){this._items=t.items,this._color=t.color,this._orderArrow=t.orderArrow,this._exitLineWidth=t.exitLineWidth,this._priceArrow=t.priceArrow,this._text=t.text,this._textWidths=e}var n=i(11);o.prototype._drawOrderArrow=function(t,e,i,o){var n,r=e.x,s=e.y;o?(t.rotate(Math.PI),r=-r-this._orderArrow.width/2,s=-s-this._orderArrow.height):(r-=this._orderArrow.width/2,s-=this._orderArrow.height),i&&(s-=i),n=o?"floor":"ceil",r=Math[n](r)+(o?-.5:.5),s=Math[n](s)+.5,t.translate(r,s),t.moveTo(.25*this._orderArrow.width,0),t.lineTo(.75*this._orderArrow.width,0),t.lineTo(.75*this._orderArrow.width,.45*this._orderArrow.height),t.lineTo(this._orderArrow.width,.45*this._orderArrow.height),t.lineTo(.5*this._orderArrow.width,this._orderArrow.height),i&&(t.lineTo(this._orderArrow.width,this._orderArrow.height),t.lineTo(this._orderArrow.width,this._orderArrow.height+i),t.lineTo(0,this._orderArrow.height+i),t.lineTo(0,this._orderArrow.height),t.lineTo(.5*this._orderArrow.width,this._orderArrow.height)),t.lineTo(0,.45*this._orderArrow.height),t.lineTo(.25*this._orderArrow.width,.45*this._orderArrow.height)},o.prototype._drawPriceArrow=function(t,e,i){var o=e.x,n=e.y;i?(t.rotate(Math.PI),o=-o-this._priceArrow.width,n=-n-this._priceArrow.height/2):(o-=this._priceArrow.width,n-=this._priceArrow.height/2),o=Math.round(o)+(i?-1.5:.5),n=Math.floor(n)+.5,t.translate(o,n),t.moveTo(0,0),t.lineTo(this._priceArrow.width,.5*this._priceArrow.height),t.lineTo(0,this._priceArrow.height)},o.prototype.draw=function(t){t.beginPath();for(var e,i,o=0;o<this._items.length;o++)e=this._items[o],i="lower"===e.pos,t.save(),t.translate(0,i?this._orderArrow.vMargin:-this._orderArrow.vMargin),
this._drawOrderArrow(t,e.orderPoint,this._exitLineWidth,i),t.restore(),t.save(),this._drawPriceArrow(t,e.pricePoint,!i),t.restore();if(t.closePath(),t.fillStyle=this._color,t.fill(),this._text)for(t.font=this._text.fontSize+"px "+this._text.font,t.textAlign="center",t.textBaseline="top",o=0;o<this._items.length;o++)e=this._items[o],i="lower"===e.pos,t.save(),t.translate(0,i?this._orderArrow.vMargin:-this._orderArrow.height-this._orderArrow.vMargin),e.label&&(t.translate(0,i?this._text.fontSize+this._text.vMargin+this._exitLineWidth:-this._text.fontSize-this._text.vMargin-this._exitLineWidth),t.fillText(e.label,Math.ceil(e.orderPoint.x),e.orderPoint.y),"number"!=typeof this._textWidths[e.label]&&(this._textWidths[e.label]=t.measureText(e.label).width)),e.qty&&(t.translate(0,i?this._text.fontSize+this._text.vMargin+this._exitLineWidth:-this._text.fontSize-this._text.vMargin-this._exitLineWidth),t.fillText(e.qty,Math.ceil(e.orderPoint.x),e.orderPoint.y),"number"!=typeof this._textWidths[e.qty]&&(this._textWidths[e.qty]=t.measureText(e.qty).width)),t.restore()},o.prototype._testOrderArrows=function(t){for(var e,i,o,n,r,s,a,l=0,c=this._orderArrow.width/2;l<this._items.length;l++)if(e=this._items[l].orderPoint,!(t.x<e.x-c||t.x>e.x+c||(i=this._items[l],o="lower"===i.pos,n=this._orderArrow.height+this._exitLineWidth,o||(n=-n),r=e.y+(o?this._orderArrow.vMargin:-this._orderArrow.vMargin),s=Math.min(r,r+n),a=Math.max(r,r+n),t.y<s||t.y>a)))return!0;return!1},o.prototype._testText=function(t){for(var e,i,o,n,r,s,a,l,c,h,d,u=0;u<this._items.length;u++)if(e=this._items[u],i=e.orderPoint,o="lower"===e.pos,n=this._orderArrow.vMargin+this._orderArrow.height+this._exitLineWidth,o||(n=-n),r=i.y+n,s=this._text.vMargin+this._text.fontSize*(!!e.label+!!e.qty),o||(s=-s),a=Math.min(r,r+s),l=Math.max(r,r+s),!(t.y<a||t.y>l||(c=e.label&&e.qty?o&&t.y<r+this._text.fontSize||!o&&t.y>r-this._text.fontSize?e.label:e.qty:e.label||e.qty,h=this._textWidths[c],d=h&&h/2,!h||t.x<i.x-d||t.x>i.x+d)))return!0;return!1},o.prototype.hitTest=function(t){var e=this._testOrderArrows(t),i=!e&&this._text&&this._testText(t);return e||i?new n(n.REGULAR):null},e.PaneRendererStudyStrategyOrders=TradingView.PaneRendererStudyStrategyOrders=o},function(t,e,i){"use strict";function o(t,e){var i,o,n,a,l,c;if(r.call(this),this._study=t,this._model=e,i=t.metaInfo().graphics.hhists){o=0;for(n in i){for(a=i[n],l=0;l<a.titles.length;l++)c=new s(this._study.title(),""),c.histElemIndex=l,c.histIndex=o,c.histId=n,this._items.push(c);o++}this.update(),this._invalidated=!0}}var n=i(157),r=n.DataWindowView,s=n.DataWindowItem;inherit(o,r),o.prototype.update=function(){this._invalidated=!0},o.prototype._updateImpl=function(){var t,e,i,n,r,s,a,l,c,h,d,u,p,f,_;for(this._header=this._study.title(),t=0;t<this._items.length;++t)this._items[t].setValue("n/a");if(e=this._study.priceScale(),i=this._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty())for(n=this._model.crossHairSource(),r=n.appliedIndex(),s=n.price,a=this._study.formatter(),t=0;t<this._items.length;++t){if(l=this._items[t].histId,
c=this._items[t].histIndex,h=this._items[t].histElemIndex,!(d=this._study.graphics().hhists))return;u=d[c].dataObj,u&&((p=o._findHistogramBar(u,r,s))&&(f=p.rate[h],this._items[t].setValue(isNumber(f)?a.format(f):""),_=this._study.properties().graphics.hhists[l].colors[h].value(),this._items[t].setColor(_)))}},o._findHistogramBar=function(t,e,i){var o,n,r;return 0===t.length?null:(o=this._findHistogramKey(t,e),(n=t[o])&&0!==n.length?(r=this._findBar(n,i),n[r]):null)},o._findHistogramKey=function(t,e){var i,o,n=Object.keys(t),r=[];for(i in n)n[i]<=e&&r.push(parseInt(n[i],10));if(0===r.length)return null;for(o=null,i=0;i<r.length;++i)(null===o||r[i]>o)&&(o=r[i]);return o},o._findBar=function(t,e){for(var i,o,n,r=0,s=t.length-1;r<=s;)if(i=r+s>>>1,o=t[i].priceHigh,n=t[i].priceLow,o<e)r=i+1;else{if(!(n>e))return i;s=i-1}return null},o.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},t.exports=o},function(t,e,i){"use strict";function o(t,e){this._model=t,this._source=e,this._waves=[],this._highlights=[],this._retracements=[],this._invalidated=!0}function n(t,e,i,n){l.call(this,t,e,i,n,new o(t,this))}var r=i(9).ensureNotNull,s=i(8).Point,a=i(177).TextRenderer,l=i(185),c=i(114).TrendLineRenderer,h=i(11),d=i(41).CompositeRenderer,u=i(33),p=i(2).propertyPages,f=i(91).LineEnd;o._wave5Labels=[["i","ii","iii","iv","v"],["(i)","(ii)","(iii)","(iv)","(v)"],["((i))","((ii))","((iii))","((iv))","((v))"],["1","2","3","4","5"],["(1)","(2)","(3)","(4)","(5)"],["((1))","((2))","((3))","((4))","((5))"],["I","II","III","IV","V"],["(I)","(II)","(III)","(IV)","(V)"],["((I))","((II))","((III))","((IV))","((V))"]],o._wave3Labels=[["a","b","c"],["A","B","C"]],o._fontSizes=[10,10,10,11,11,11,12,12,12],o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){var t,e,i,n,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R,D,E,O,V,$,B,z,F,N,H;if(this._waves=[],this._highlights=[],this._retracements=[],this._source._nonseriesdata&&this._source.properties().visible.value()&&(t=this._source._nonseriesdata.waves,e=this._source._indexes,i=this._model.timeScale(),n=this._source.priceScale(),a=this._model.mainSeries(),l=a.firstBar(),n&&!n.isEmpty()&&!i.isEmpty()&&l&&t)){for(c=i.visibleBars(),h=c.lastBar(),d=c.firstBar(),u=["m0StartIndex","startIndex","endIndex","m2EndIndex","m3EndIndex"],f=0;f<t.length;f++)if(t[f]){for(_=[],g=0;g<5&&(m=e[t[f][u[g]]],isFinite(m));g++)_.push(m);if(0!==_.length&&!(_[0]>h||_[_.length-1]<d)&&(v=+t[f].size,isFinite(v)&&(y="level"+v,b=this._source.properties()[y],b.visible.value()))){for(w=parseInt(t[f].direction,10),S=[],S.dir=w,S.prices=[],S.orig_prices=[],p=a.firstValue(),T=0;T<_.length;T++){if(void 0!==_[T]){if(x={},P=_[T],l=r(a.bars().first()),P<l.index)continue;if(x.x=i.indexToCoordinate(P),null===(C=a.bars().valueAt(P))){S.push(void 0),S.prices.push(void 0),S.orig_prices.push(void 0),w=-w;continue}M=1===w?C[TradingView.HIGH_PLOT]:C[TradingView.LOW_PLOT],S.orig_prices.push(M),n.isPercent()?(k=n.priceRange().convertToPercent(M,p),
x.y=n.priceToCoordinate(k),S.prices.push(k)):(S.prices.push(M),x.y=n.priceToCoordinate(M)),x.label=o._wave5Labels[v][T],x.align=-1===w?"top":"bottom",x.color=b.color.value(),delete x.backgroundColor,S.id="wave_"+f,this._source===this._model.hoveredSource()&&(L=this._model.lastHittestData())&&L.wave&&L.wave.id===S.id&&(x.color="#FFFFFF",x.backgroundColor=b.color.value()),x.fontsize=o._fontSizes[v],x._textCache={widths:[]},x.wave=S,S.push(x)}else S.push(void 0),S.prices.push(void 0);w=-w}S.inds=_,S.dir=w,S.color=b.color.value(),this._waves.push(S)}}if(this._source===this._model.hoveredSource()&&(L=this._model.lastHittestData())){for(_=L.wave.inds,w=-L.wave.dir,I=L.backgroundColor?L.backgroundColor:L.color,A=L.wave.orig_prices,R=null,T=0;T<_.length;T++){if(void 0!==_[T]){if(P=_[T],D=i.indexToCoordinate(P),null===(C=a.bars().valueAt(P))){w=-w;continue}M=A[T],n.isPercent()&&(M=n.priceRange().convertToPercent(M,p)),E=n.priceToCoordinate(M),O=new s(D,E),R&&this._highlights.push({points:[R,O],color:I}),R=O}w=-w}void 0!==A[1]&&void 0!==A[2]&&(V=A[1],$=A[2],B=A[3],z=A[0],n.isPercent()&&(V=n.priceRange().convertToPercent(V,p),$=n.priceRange().convertToPercent($,p),void 0!==z&&(z=n.priceRange().convertToPercent(z,p)),void 0!==B&&(B=n.priceRange().convertToPercent(B,p))),this._retracements.push({y:n.priceToCoordinate(V),x:0,extendLeft:!0,extendRight:!0,color:I,text:"",style:CanvasEx.LINESTYLE_SOLID}),this._retracements.push({y:n.priceToCoordinate(V),x:0,extendLeft:!0,extendRight:!0,color:I,text:"",style:CanvasEx.LINESTYLE_SOLID}),w=$-V,void 0!==A[0]&&(F=z-V,N=F/w,M=V+N*w,D=i.indexToCoordinate(_[0]),this._retracements.push({y:n.priceToCoordinate(M),x:D,extendLeft:!1,extendRight:!0,color:I,text:""+N.toFixed(3),style:CanvasEx.LINESTYLE_DASHED})),void 0!==B&&(H=$-B,N=H/w,M=$-N*w,D=i.indexToCoordinate(_[3]),this._retracements.push({y:n.priceToCoordinate(M),x:D,extendLeft:!0,extendRight:!1,color:I,text:""+N.toFixed(3),style:CanvasEx.LINESTYLE_DASHED})))}}},o.prototype.CIRCLE_SIZE=16,o.prototype.renderer=function(){var t,e,i,o,n,r,l,p,_,g,m,v,y,b,w,S;for(this._invalidated&&(this.updateImpl(),this._invalidated=!1),t=new d,e=this.CIRCLE_SIZE,i={},o=0;o<this._waves.length;o++)for(n=this._waves[o],r=0;r<n.length;r++)void 0!==(l=n[r])&&("top"===l.align?(p=l.y+4,i["top_"+l.x]?(p+=i["top_"+l.x]*e,i["top_"+l.x]=i["top_"+l.x]+1):i["top_"+l.x]=1,_=p+e):(p=l.y-e-4,i["bottom_"+l.x]?(p-=i["bottom_"+l.x]*e,i["bottom_"+l.x]=i["bottom_"+l.x]+1):i["bottom_"+l.x]=1,_=p+e),g={},g.points=[new s(l.x,(p+_)/2)],g.text=l.label,g.color=l.color,g.backgroundColor=l.backgroundColor,g.font="Verdana",g.bold=!0,g.offsetX=0,g.offsetY=0,g.vertAlign="middle",g.horzAlign="center",g.fontsize=l.fontsize,m=new h(h.REGULAR,l),t.append(new a(g,m)));for(o=0;o<this._highlights.length;o++)v=this._highlights[o],y={points:v.points,width:this._model.timeScale().width(),height:this._source.priceScale().height(),color:u.generateColor(v.color,50),linewidth:3,linestyle:CanvasEx.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:f.Circle,rightend:f.Circle},b=new c,b.setData(y),
t.append(b);for(o=0;o<this._retracements.length;o++)w=this._retracements[o],y={points:[new s(w.x+1,w.y),new s(w.x,w.y)],width:this._model.timeScale().width(),height:this._source.priceScale().height(),color:u.generateColor(w.color,50),linewidth:1,linestyle:w.style,extendleft:w.extendLeft,extendright:w.extendRight,leftend:f.Normal,rightend:f.Normal},b=new c,b.setData(y),t.append(b),S={points:[new s(w.x,w.y)],text:this._retracements[o].text,backgroundColor:"#606060",color:"#FFFFFF",vertAlign:"middle",horzAlign:"center",font:"Arial",offsetX:w.extendRight?-50:50,offsetY:-2,fontsize:12},t.append(new a(S));return t},inherit(n,l),n.prototype.margins=function(){return[.1,.1]},n.prototype.isVisible=function(){if(!this.properties().visible.value())return!1;for(var t=0;t<=8;t++)if(this.properties()["level"+t].visible.value())return!0;return!1},n.prototype.getInputsPropertyPage=function(){return p.StudyElliottInputsPropertyPage},t.exports=n},function(t,e,i){"use strict";function o(t,e){this._data=t,this._textCache=e}function n(t,e){this._model=t,this._source=e,this._pivots=[],this._textCache={},this._invalidated=!0}function r(t,e,i,o){s.call(this,t,e,i,o,new n(t,this))}var s=i(185),a=i(11),l=i(41).CompositeRenderer,c=i(2).propertyPages;o.prototype.draw=function(t){t.textBaseline="bottom",t.font=(this._data.bold?"bold ":"normal ")+this._data.fontsize+"px "+this._data.font;var e=Math.round(t.measureText(this._data.text).width+4);this._textCache.width=e,t.translate(this._data.x+.5,this._data.y),t.strokeStyle=this._data.borderColor,t.fillStyle=this._data.backColor,t.beginPath(),t.moveTo(0,0),1===this._data.type?(t.lineTo(5,-5),t.lineTo(e/2,-5),t.lineTo(e/2,-5-this._data.fontsize),t.lineTo(-e/2,-5-this._data.fontsize),t.lineTo(-e/2,-5),t.lineTo(-5,-5),t.lineTo(0,0)):(t.lineTo(5,5),t.lineTo(e/2,5),t.lineTo(e/2,5+this._data.fontsize),t.lineTo(-e/2,5+this._data.fontsize),t.lineTo(-e/2,5),t.lineTo(-5,5),t.lineTo(0,0)),t.fill(),t.stroke(),t.fillStyle=this._data.textColor,t.textAlign="center",1===this._data.type?t.fillText(this._data.text,0,-4):t.fillText(this._data.text,0,6+this._data.fontsize)},o.prototype.hitTest=function(t){var e=this._textCache.width,i=this._data.fontsize+12,o=this._data.x-e/2,n=this._data.y;return 1===this._data.type&&(n-=i),t.x>=o&&t.x<=o+e&&t.y>=n&&t.y<=n+i?new a(a.REGULAR):null},n.prototype.update=function(){this._invalidated=!0},n.prototype.updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_;if(this._pivots=[],this._source._nonseriesdata&&this._source._nonseriesdata.pivots&&this._source.properties().visible.value()&&(t=this._source._nonseriesdata.pivots,e=this._source._indexes,i=this._model.timeScale(),o=this._source.priceScale(),n=this._model.mainSeries(),r=n.firstValue(),o&&!o.isEmpty()&&!i.isEmpty()&&r))for(s=i.visibleBars(),a=s.firstBar(),l=s.lastBar(),c=0;c<t.length;c++)t[c]&&((h=e[t[c].index])<a||h>l||(d=t[c].type,null!==(u=n.bars().valueAt(h))&&(p=1===d?u[TradingView.HIGH_PLOT]:u[TradingView.LOW_PLOT],o.isPercent()&&(p=o.priceRange().convertToPercent(p,r)),f=Math.round(i.indexToCoordinate(h)),
_=o.priceToCoordinate(p),1===d?_-=i.barSpacing()/6:_+=i.barSpacing()/6+1,_=Math.round(_),this._pivots.push({x:f,y:_,price:o.formatter().format(p),type:d}))))},n.prototype.renderer=function(){var t,e,i,n,r,s,a,c,h,d;if(this._invalidated&&(this.updateImpl(),this._invalidated=!1),0!==this._pivots.length){for(t=this._source.properties().font.value(),e=this._source.properties().fontsize.value(),i=this._source.properties().borderColor.value(),n=this._source.properties().backColor.value(),r=this._source.properties().textColor.value(),s=new l,a=0;a<this._pivots.length;a++)c=this._pivots[a],h={x:c.x,y:c.y,type:c.type,text:c.price,font:t,fontsize:e,borderColor:i,backColor:n,textColor:r},d=a,this._textCache[d]||(this._textCache[d]={}),s.append(new o(h,this._textCache[d]));return s}},inherit(r,s),r.prototype.isVisible=function(){return this.properties().visible.value()},r.prototype.margins=function(){return[.1,.1]},r.prototype.getStylesPropertyPage=function(){return c.StudyPivotPointsHighLowStylesPropertyPage},t.exports=r},function(t,e,i){"use strict";(function(e){function o(t,e,i,o){this._prices=[],this._canvas=$("<canvas>"),this._cache=this._canvas.get(0).getContext("2d"),this.reset({font:t,fontSize:e,backColors:i,colors:o}),this._priceAxisFontSize=11}function n(t,e){this._model=t,this._source=e,this._pivots=[],this._textCache={}}function r(t,e){this._source=t,this._model=t._model,this._prices=[],this._invidated=!0,this._cache=e;var i=this;t.priceScale()&&(this._cachedFormatter=t.priceScale().formatter(),this._formatterCache=new p(function(t){return i._cachedFormatter.format(t)}))}function s(t,e,i,o){var r,s,a;for(f.call(this,t,e,i,o,new n(t,this)),r=["P","S1/R1","S2/R2","S3/R3","S4/R4","S5/R5"],s=this.properties().levelsStyle.visibility,a=0;a<r.length;a++)s[r[a]].listeners().subscribe(this,TradingView.Study.prototype.processHibernate)}var a=i(8).Point,l=i(55),c=l.parseRgb,h=l.rgbToBlackWhiteString,d=i(158),u=i(182).StudyDataWindowView,p=i(284),f=i(185),_=i(840).StandardPivotPointsPriceAxisView,g=i(114).TrendLineRenderer,m=i(181),v=i(555),y=i(11),b=i(41).CompositeRenderer,w=i(24).PlotRowSearchMode,S=i(2).propertyPages,T=i(91).LineEnd;o.prototype.remove=function(){this._canvas.remove()},o.prototype.reset=function(t){this._prices=[],this._params=t,this._cache.setFont(t.fontSize+"px "+t.font);var e=this;this._labelWidth=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5","/"].reduce(function(t,i){var o=e._cache.measureText(i).width;return Math.max(o,t)},0)},o.prototype.rowHeight=function(){return this._priceAxisFontSize+4},o.prototype._labelRectByIndex=function(t){return{left:0,top:Math.round(this._topByIndex(t)),width:Math.round(this._labelWidth+4),height:this._params.fontSize+8}},o.prototype.params=function(){return this._params},o.prototype._centerByIndex=function(t){return Math.round((t+.5)*(this._params.fontSize+8))},o.prototype._topByIndex=function(t){return Math.round(t*(this._params.fontSize+8))},o.prototype.setPrices=function(t){var e,i,o,n,r,s,a=8,l=!1,c=function(t,e){
return void 0===t&&void 0===e||t.formatted===e.formatted};if(t.length!==this._prices.length)l=!0;else for(e=0;e<this._prices.length;e++)if(!c(this._prices[e],t[e])){l=!0;break}if(l){for(i=this,i._cache.save(),i._cache.font=this._priceAxisFontSize+"px Arial",i._cache.restore(),o=this._labelWidth+6,n=window.hidpiCanvasRatio||1,o*=n,this._canvas.prop("width",o),r=Math.max(t.length,22)*(this._params.fontSize+a),r*=n,this._canvas.prop("height",r),this._canvas.css("width",o).css("height",r),this._prices=t,this._cache.clearRect(0,0,o,r),this._cache.save(),this._cache.translate(.5,.5),this._cache.font=this._params.fontSize+"px "+this._params.font,this._cache.textBaseline="middle",e=0;e<this._prices.length;e++)this._prices[e]&&(s=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"][e],this._cache.fillStyle=this._params.backColors[e],this._cache.fillText(s,0,this._centerByIndex(e)),this._cache.fillText("/",0,this._centerByIndex(e+11)));this._prices=t,this._cache.restore()}},n.prototype.setCache=function(t){this._cache=t},n.prototype.priceAxisViews=function(t,e){return this._priceAxisViews},n.prototype.mergeLabel=function(t,e,i){var o=""+e;void 0===t[o]?(t[o]={},t[o].text=i,t[o].ids=[this.complete(i)]):(t[o].text+="/"+i,t[o].ids.push(this.complete(i)))},n.prototype.complete=function(t){return"P"===t?t:"S"+t[1]+"/R"+t[1]},n.prototype.update=function(){this._invalidated=!0},n.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m;if(this._source.pricesView().prices(),this._pivots=[],this._source._nonseriesdata&&this._source._nonseriesdata.pivots&&this._source.properties().visible.value()&&(t=this._source._nonseriesdata.pivots,e=this._source._indexes,i=this._model.timeScale(),(o=this._source.priceScale())&&!o.isEmpty()&&!i.isEmpty()&&t)){if(n=i.visibleBars(),r=n.firstBar(),s=n.lastBar(),a=null,o.isPercent()){if(!this._source.ownerSource())return;a=this._source.ownerSource().firstValue()}for(l=0;l<t.length;l++)if(t[l]&&(c=e[t[l].startIndex],!((h=e[t[l].endIndex])<r||c>s))){d={},u=this._source.properties().levelsStyle.visibility,u.P.value()&&this.mergeLabel(d,t[l].p,"P"),u["S1/R1"].value()&&(this.mergeLabel(d,t[l].s1,"S1"),this.mergeLabel(d,t[l].r1,"R1")),u["S2/R2"].value()&&(this.mergeLabel(d,t[l].s2,"S2"),this.mergeLabel(d,t[l].r2,"R2")),u["S3/R3"].value()&&(this.mergeLabel(d,t[l].s3,"S3"),this.mergeLabel(d,t[l].r3,"R3")),u["S4/R4"].value()&&(this.mergeLabel(d,t[l].s4,"S4"),this.mergeLabel(d,t[l].r4,"R4")),u["S5/R5"].value()&&(this.mergeLabel(d,t[l].s5,"S5"),this.mergeLabel(d,t[l].r5,"R5")),p=i.indexToCoordinate(c),f=i.indexToCoordinate(h);for(_ in d)g=parseFloat(_),o.isPercent()&&(g=o.priceRange().convertToPercent(g,a)),m=o.priceToCoordinate(g),this._pivots.push({x1:p,x2:f,y:m,label:d[_].text,labelIds:d[_].ids})}}},n.prototype.renderer=function(){var t,e,i,o,n,r,s,l,c,h,d,u,p,f,_,m,w;for(this._invalidated&&(this._updateImpl(),this._invalidated=!1),t=new b,e=this._source.properties().levelsStyle.colors,i=this._source.properties().levelsStyle.widths,o=0;o<this._pivots.length;o++)if(n=this._pivots[o],
r=new a(n.x1,n.y),s=new a(n.x2,n.y),l={points:[r,s],width:this._model.timeScale().width(),height:this._source.priceScale().height(),color:e[n.labelIds[0]].value(),linewidth:i[n.labelIds[0]].value(),linestyle:CanvasEx.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:T.Normal,rightend:T.Normal},c=new g,c.setData(l),c.setHitTest(new y(y.REGULAR)),t.append(c),this._source.properties().levelsStyle.showLabels.value())for(h=n.label.split("/"),d=0,u=0;u<h.length;u++)p=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"].indexOf(h[u]),u>0&&(f=this._cache._labelRectByIndex(p+11),_={left:r.x-f.width+d,top:Math.round(r.y-f.height/2),width:f.width,height:f.height},d+=f.width/2,m=this._cache._canvas.get(0),w=new v(m,f,_),t.append(w)),f=this._cache._labelRectByIndex(p),_={left:r.x-f.width+d,top:Math.round(r.y-f.height/2),width:f.width,height:f.height},d+=f.width,m=this._cache._canvas.get(0),w=new v(m,f,_),t.append(w);return t},r.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,f,_,g,m,v,y,b,S;if(!this._model.timeScale().isEmpty()&&!this._source.priceScale().isEmpty()&&null!==(t=this._model.timeScale().visibleBars())&&this._source._nonseriesdata&&this._source._nonseriesdata.pivots&&(this._cachedFormatter!==this._source.priceScale().formatter()&&(this._cachedFormatter=this._source.priceScale().formatter(),e=this,this._formatterCache=new p(function(t){return e._cachedFormatter.format(t)})),e=this,i=this._model.mainSeries(),o=this._source.priceScale(),null!==(n=i.bars().search(t.lastBar(),w.NearestLeft)))){for(r=n.index,s=this._source._nonseriesdata.pivots,a=this._source._indexes,l=this._source.properties(),c=0;c<s.length;c++)if(s[c]&&(h=a[s[c].startIndex],d=a[s[c].endIndex],u=l.inputs.showHistoricalPivots.value(),d>r&&h<=r||!u))for(o.properties().percentage.value()&&(f=e._source.firstValue()),_=["p","s1","r1","s2","r2","s3","r3","s4","r4","s5","r5"],this._prices=[],g=0;g<_.length;g++)m=_[g],void 0!==(v=s[c][m])&&(o.properties().percentage.value()&&(v=100*(v-f)/f),y=o.priceToCoordinate(v),b={P:"P",S1:"S1/R1",S2:"S2/R2",S3:"S3/R3",S4:"S4/R4",S5:"S5/R5",R1:"S1/R1",R2:"S2/R2",R3:"S3/R3",R4:"S4/R4",R5:"S5/R5"},S=l.levelsStyle.colors[b[m.toUpperCase()]].value(),this._prices.push({formatted:e._formatterCache.format(v),price:v,coordinate:y,color:S}));this._cache.setPrices(this._prices)}},r.prototype.update=function(){this._invidated=!0},r.prototype.prices=function(){return this._invidated&&(this._updateImpl(),this._invidated=!1),this._prices},inherit(s,f),s.prototype.lastValueData=function(t,e,i){var o=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"].indexOf(t.toUpperCase()),n={noData:!0},r=this._pricesView.prices()[o];return null!==r&&void 0!==r?r:n},s.prototype.lastPriceLabelFixedCoordinate=function(t){var e=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"].indexOf(t.toUpperCase());return this._priceAxisViews[e]._fixedCoordinate},s.prototype.priceLabelText=function(t){return this._metaInfo.shortDescription+":"+t.toUpperCase()},s.prototype.pricesView=function(){return this._pricesView},
s.prototype._getActualCacheParams=function(){var t={};return t.font=this.properties().font.value(),t.fontSize=this.properties().fontsize.value(),t.backColors=[this.properties().levelsStyle.colors.P.value(),this.properties().levelsStyle.colors["S1/R1"].value(),this.properties().levelsStyle.colors["S1/R1"].value(),this.properties().levelsStyle.colors["S2/R2"].value(),this.properties().levelsStyle.colors["S2/R2"].value(),this.properties().levelsStyle.colors["S3/R3"].value(),this.properties().levelsStyle.colors["S3/R3"].value(),this.properties().levelsStyle.colors["S4/R4"].value(),this.properties().levelsStyle.colors["S4/R4"].value(),this.properties().levelsStyle.colors["S5/R5"].value(),this.properties().levelsStyle.colors["S5/R5"].value()],t.colors=t.backColors.map(function(t){return"black"===h(c(t),150)?"white":"black"}),t},s.prototype.updateAllViews=function(){var t;for(f.prototype.updateAllViews.call(this),this._pricesView.update(),t=0;t<this._priceAxisViews.length;t++)this._priceAxisViews[t].update();for(t=0;t<this._paneViews.length;t++)this._paneViews[t].update()},s.prototype.paneViews=function(t){var e=f.prototype.paneViews.call(this,t);return e?e.concat(this._paneViews):this._paneViews},s.prototype.createViews=function(){var t,e,i,n,s=this._getActualCacheParams();for(this._cache&&this._cache.remove(),this._cache=new o(s.font,s.fontSize,s.backColors,s.colors),this._priceAxisViews=[],t=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"],this._paneViews.length=0,e=this.properties().levelsStyle.visibility,i=0;i<t.length;i++)this._priceAxisViews.push(new _(this,{name:t[i],cache:this._cache})),n="P"===t[i].toUpperCase()?"P":"S"+t[i][1]+"/R"+t[i][1],e[n]&&e[n].value()&&this._paneViews.push(new m(this._model,this,t[i],"priceLabelText","showStudyPlotLabels"));this._dataWindowView||(this._dataWindowView=new u(this,this._model)),this._statusView||(this._statusView=new d(this,this._model.properties())),this._paneView.setCache(this._cache),this._pricesView=new r(this,this._cache)},s.prototype._postProcessGraphics=function(){},s.prototype.isVisible=function(){var t,e,i;if(!this.properties().visible.value())return!1;for(t=["P","S1/R1","S2/R2","S3/R3","S4/R4","S5/R5"],e=this.properties().levelsStyle.visibility,i=0;i<t.length;i++)if(e[t[i]].value())return!0;return!1},s.prototype.stop=function(){TradingView.Study.prototype.stop.call(this),this._cache&&this._cache.remove()},s.prototype.priceRange=function(t,i){var o,n,r,s,a,l,c,h,d;if(!this._nonseriesdata||!this._nonseriesdata.pivots||!this._indexes)return null;if(!this.priceScale())return null;for(o=this._nonseriesdata.pivots,n=this._indexes,r=null,s=0;s<o.length;s++)if(o[s]&&(a=n[o[s].startIndex],!(n[o[s].endIndex]<t||a>i)))for(l=[],c=this._properties.levelsStyle.visibility,c.P.value()&&l.push(o[s].p),c["S1/R1"].value()&&l.push(o[s].s1,o[s].r1),c["S2/R2"].value()&&l.push(o[s].s2,o[s].r2),c["S3/R3"].value()&&l.push(o[s].s3,o[s].r3),c["S4/R4"].value()&&l.push(o[s].s4,o[s].r4),c["S5/R5"].value()&&l.push(o[s].s5,o[s].r5),
h=0;h<l.length;h++)l[h]&&(null===r?r=new e(l[h],l[h]):r.apply(l[h],l[h]));return this.priceScale().isLog()&&r?new e(this.priceScale().priceToLogical(r.minValue()),this.priceScale().priceToLogical(r.maxValue())):this.priceScale().properties().percentage.value()&&r?(d=this.ownerSource().firstValue(),d?r.convertToPercents(d):null):r},s.prototype.getStylesPropertyPage=function(){return S.StudyPivotPointsStandardStylesPropertyPage},t.exports=s}).call(e,i(79))},function(t,e,i){"use strict";var o,n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(80),r=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"],s=function(t){function e(e,i){var o,n=t.call(this)||this;return n._source=e,n._data=i,o=i.name,n._completeName="P"===o.toUpperCase()?"P":"S"+o[1]+"/R"+o[1],n}return o.__extends(e,t),e.prototype._updateRendererData=function(t){var e,i,o,n,s,a,l,c,h,d;t.visible=!1,e=this._source.properties(),e.visible.value()&&(i=this._completeName,o=e.levelsStyle.visibility,o[i]&&o[i].value()&&(n=this._source.model(),s=n.timeScale(),a=this._source.priceScale(),s.isEmpty()||null===s.visibleBars()||null!==a&&a.isEmpty()||(l=this._source.nonSeriesData())&&l.pivots&&(c=this._source.pricesView().prices(),h=r.indexOf(this._data.name.toUpperCase()),(d=c[h])&&(t.background=d.color,t.color=this.generateTextColor(d.color),t.coordinate=d.coordinate,t.floatCoordinate=d.floatCoordinate,t.text=d.formatted,t.visible=!0))))},e}(n.PriceAxisView),e.StandardPivotPointsPriceAxisView=s},function(t,e,i){"use strict";(function(e){function o(t,e,i,o){var r,l,c;for(n.call(this,t,e,i,o),r=this.properties().styles,l=0;l<a.length;l++)(c=r[a[l]])&&c.plottype&&c.plottype.setValue(s.StepLine)}var n=i(34).Study,r=i(2).propertyPages,s=i(92).PlotType,a=["developingPoc","developingVAHigh","developingVALow"];inherit(o,n),o.prototype.priceRange=function(t,i){var o,n,r,s,a,l,c,h,d,u,p,f,_=this.graphics().hhists,g=this.graphics().indexes;if(!_||!_.length)return null;for(_=_[0].data,o=!1,n=null,r=null,s=null,a=0;a<_.length;a++)l=_[a],c=g[l.firstBarTime],h=g[l.lastBarTime],d=c>=t&&c<=i,u=h>=t&&h<=i,p=c<=t&&h>=i,(d||u||p)&&(o?(_[a].priceLow<n&&(n=_[a].priceLow,r=_[a].priceHigh),s=Math.max(s,_[a].priceHigh)):(n=_[a].priceLow,r=_[a].priceHigh,s=_[a].priceHigh,o=!0));return o?(f=null,f=this._properties.graphics.hhists.histBars.showValues.value()?new e(n-.8*(r-n),s):new e(n,s),this.priceScale().isLog()&&f?new e(this.priceScale().priceToLogical(f.minValue()),this.priceScale().priceToLogical(f.maxValue())):f):null},o.prototype.getStylesPropertyPage=function(){return r.StudyVolumeProfilePropertyPage},t.exports=o}).call(e,i(79))},function(t,e,i){"use strict";(function(e){function o(t,e,i,o){var r,l,c;for(n.call(this,t,e,i,o),r=this.properties().styles,l=0;l<a.length;l++)(c=r[a[l]])&&c.plottype&&c.plottype.setValue(s.StepLine)}var n=i(34).Study,r=i(2).propertyPages,s=i(92).PlotType,a=["developingPoc","developingVAHigh","developingVALow"];inherit(o,n),o.prototype.priceRange=function(t,i){var o,n,r=this.graphics().hhists;return r?(o=r[0].data[0],n=null,
n=this._properties.graphics.hhists.histBars.showValues.value()?new e(o.priceLow-.8*(o.priceHigh-o.priceLow),o.priceHigh):new e(o.priceLow,o.priceHigh),this.priceScale().isLog()&&n?new e(this.priceScale().priceToLogical(n.minValue()),this.priceScale().priceToLogical(n.maxValue())):n):null},o.prototype.getStylesPropertyPage=function(){return r.StudyVolumeProfilePropertyPage},t.exports=o}).call(e,i(79))},function(t,e,i){"use strict";function o(t,e){this._model=t,this._source=e,this._pivots=[],this._textCache={},this._invalidated=!0}function n(t,e,i,n){s.call(this,t,e,i,n,new o(t,this))}var r=i(8).Point,s=i(185),a=i(114).TrendLineRenderer,l=i(11),c=i(41).CompositeRenderer,h=i(2).propertyPages,d=i(91).LineEnd;o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u;if(this._pivots=[],this._source._nonseriesdata&&this._source._nonseriesdata.zigzag&&this._source.properties().visible.value()&&(t=this._source._nonseriesdata.zigzag,e=this._source._indexes,i=this._model.timeScale(),o=this._source.priceScale(),n=this._model.mainSeries(),r=n.firstValue(),o&&!o.isEmpty()&&!i.isEmpty()&&r))for(s=0;s<t.length;s++)t[s]&&(a=e[t[s].index],l=t[s].type,null!==(c=n.bars().valueAt(a))&&(h=1===l?c[TradingView.HIGH_PLOT]:c[TradingView.LOW_PLOT],o.isPercent()&&(h=o.priceRange().convertToPercent(h,r)),d=Math.round(i.indexToCoordinate(a)),u=o.priceToCoordinate(h),this._pivots.push({x:d,y:u})))},o.prototype.renderer=function(){var t,e,i,o,n,s,h,u,p,f;for(this._invalidated&&(this.updateImpl(),this._invalidated=!1),t=new c,e=this._source.properties().color.value(),i=this._source.properties().linewidth.value(),o=1;o<this._pivots.length;o++)n=this._pivots[o],s=this._pivots[o-1],h=new r(s.x,s.y),u=new r(n.x,n.y),p={points:[h,u],width:this._model.timeScale().width(),height:this._source.priceScale().height(),color:e,linewidth:i,linestyle:CanvasEx.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:d.Normal,rightend:d.Normal},f=new a,f.setData(p),f.setHitTest(new l(l.REGULAR)),t.append(f);return t},inherit(n,s),n.prototype.isVisible=function(){return this.properties().visible.value()},n.prototype.getStylesPropertyPage=function(){return h.StudyZigZagStylesPropertyPage},t.exports=n},function(t,e,i){"use strict";function o(t,e){this._source=t,this._model=e,this._points=[new a(0,0)],this._lineRenderer=new P}function n(t,e){S.call(this),this._additional=void 0,this._study=t,this._model=e,this._items.push(new T("Open","")),this._items.push(new T("High","")),this._items.push(new T("Low","")),this._items.push(new T("Close","")),this._invalidated=!0,this.update()}function r(t,e,i,o){this._symbolLabelView=new C(t,this,"close","symbol","showSymbolLabels"),this._baseLineView=null,c.call(this,t,e,i,o),this._formatter=null,this._paneView=null;var n=this;this.properties().minTick.listeners().subscribe(null,function(){n._createFormatter(),n.updateAllViews(),n._model.invalidate(new M(M.FULL_UPDATE))})}
var s=i(276),a=i(8).Point,l=i(145),c=i(34).Study,h=i(24).PlotRowSearchMode,d=i(868).OverlayPriceAxisView,u=i(494),p=u.SeriesAreaPaneView,f=u.SeriesLinePaneView,_=u.SeriesHollowCandlesPaneView,g=u.SeriesCandlesPaneView,m=u.SeriesBarsPaneView,v=u.SeriesBaselinePaneView,y=u.SeriesBaselineLinePaneView,b=i(158),w=i(157),S=w.DataWindowView,T=w.DataWindowItem,x=i(273).SeriesBarColorer,P=i(156).HorizontalLineRenderer,C=i(181),M=i(40),k=i(16).PriceFormatter,L=i(2).propertyPages;o.prototype.update=function(){if(this._visible=!1,this._source.properties().showPriceLine.value()){var t=this._source.lastValueData(TradingView.CLOSE_PLOT,!0);t.noData||(this._visible=!0,this._points=[new a(0,t.coordinate)],this._color=t.color)}},o.prototype.renderer=function(){var t={};return t.width=this._model.timeScale().width(),t.height=this._source.priceScale().height(),t.points=this._points,t.color=this._color,t.linewidth=1,t.linestyle=CanvasEx.LINESTYLE_DOTTED,t.visible=this._visible,this._lineRenderer.setData(t),this._lineRenderer},inherit(n,S),n.prototype._updateImpl=function(){var t,e,i,o,n,r,a,c,d,u,p,f,_,g,m;if(this._header=this._study.title(),!this._model.timeScale().isEmpty()&&0!==this._study.data().length){if(i=!1,o=this._study.properties().style.value(),o===l.STYLE_BARS?(t=this._study.properties().barStyle.upColor.value(),e=this._study.properties().barStyle.downColor.value(),i=this._study.properties().barStyle.barColorsOnPrevClose.value()):o===l.STYLE_CANDLES?(t=this._study.properties().candleStyle.upColor.value(),e=this._study.properties().candleStyle.downColor.value(),i=this._study.properties().candleStyle.barColorsOnPrevClose.value()):o===l.STYLE_HOLLOW_CANDLES?(t=this._study.properties().hollowCandleStyle.upColor.value(),e=this._study.properties().hollowCandleStyle.downColor.value(),i=!0):o===l.STYLE_LINE?t=e=this._study.properties().lineStyle.color.value():o===l.STYLE_AREA&&(t=e=this._study.properties().areaStyle.linecolor.value()),n=this._study.series(),r=this._model.crossHairSource().appliedIndex(),void 0!==(a=n.nearestIndex(r,h.NearestLeft))){if(!(null!==(c=this._study.data().valueAt(a))&&c[TradingView.OPEN_PLOT]&&c[TradingView.HIGH_PLOT]&&c[TradingView.LOW_PLOT]&&c[TradingView.CLOSE_PLOT]))return;for(d=this._study.formatter(),this._items[0].setValue(d.format(c[TradingView.OPEN_PLOT])),this._items[1].setValue(d.format(c[TradingView.HIGH_PLOT])),this._items[2].setValue(d.format(c[TradingView.LOW_PLOT])),this._items[3].setValue(d.format(c[TradingView.CLOSE_PLOT])),o===l.STYLE_BASELINE?(p=this._study.barColorer(),f=p.barStyle(a,!1),u=null!=f.barBorderColor?f.barBorderColor:f.barColor):i&&a>=1?(_=this._study.data().valueAt(a-1),u=_[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]?t:e):u=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT]?t:e,g=0;g<4;g++)this._items[g].setColor(u)}m=s(this._study.symbolInfo()),this._additional=m?"(Data Provided by "+m+")":void 0}},n.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},n.prototype.update=function(){this._invalidated=!0},
n.prototype.additional=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._additional},inherit(r,c),r.prototype.createPlotLabels=function(t){},r.prototype._showLastValueOnPriceScale=function(){return this._model.properties().scalesProperties.showSeriesLastValue.value()},r.prototype.symbol=function(){var t,e=this.properties().inputs.symbol.value(),i=this._resolvedSymbols?this._resolvedSymbols[e]:null;return t=i?i.name:e,t.toUpperCase()},r.prototype.lastValueData=function(t,e){var i,o,n,r,s,a=c.prototype.lastValueData.call(this,"close",e);if(a.noData)return a;switch(i=this.properties(),o=a.item,i.style.value()){case l.STYLE_BARS:a.color=o[TradingView.OPEN_PLOT]<=o[TradingView.CLOSE_PLOT]?i.barStyle.upColor.value():i.barStyle.downColor.value();break;case l.STYLE_CANDLES:case l.STYLE_HOLLOW_CANDLES:a.color=o[TradingView.OPEN_PLOT]<=o[TradingView.CLOSE_PLOT]?i.candleStyle.upColor.value():i.candleStyle.downColor.value();break;case l.STYLE_LINE:a.color=i.lineStyle.color.value();break;case l.STYLE_AREA:a.color=i.areaStyle.color1.value();break;case l.STYLE_BASELINE:n=i.baselineStyle,r=this.priceScale(),s=Math.round(r.height()*(Math.abs(100-n.baseLevelPercentage.value())/100)),a.color=a.coordinate<s?i.baselineStyle.topLineColor.value():i.baselineStyle.bottomLineColor.value()}return a},r.prototype.createViews=function(){this._priceAxisViews=[],this._priceAxisViewsBase=[new d(this)],this._paneViews=[];var t=null;switch(this._properties.style.value()){case l.STYLE_BARS:t=new m(this,this._model);break;case l.STYLE_CANDLES:t=new g(this,this._model);break;case l.STYLE_HOLLOW_CANDLES:t=new _(this,this._model);break;case l.STYLE_LINE:t=new f(this,this._properties.lineStyle.priceSource.value(),this._model);break;case l.STYLE_AREA:t=new p(this,this._properties.areaStyle.priceSource.value(),this._model);break;case l.STYLE_BASELINE:t=new v(this,this._properties.baselineStyle.priceSource.value(),this._model),this._baseLineView=new y(this,this._model)}t&&this._paneViews.push(t),null!==this._baseLineView&&this._paneViews.push(this._baseLineView),this._paneViews.push(new o(this,this._model)),this._paneViews.push(this._symbolLabelView),this._dataWindowView||(this._dataWindowView=new n(this,this._model)),this._statusView||(this._statusView=new b(this)),this._priceAxisViews=[].concat(this._priceAxisViewsBase,this._hlinesPriceAsisViews,this._horizlinesPriceAsisViews)},r.prototype.barColorer=function(){return new x(this)},r.prototype.start=function(t){this._formatter=null,c.prototype.start.apply(this,arguments),this.priceScale()&&this.priceScale().updateFormatter()},r.prototype._createFormatter=function(){var t,e,i,o,n,r,s;"default"===this.properties().minTick.value()?(t=this.properties().inputs.symbol.value(),e=this._resolvedSymbols[t],this._formatter=new k(e?e.pricescale:100,e?e.minmov:1,!!e&&e.fractional)):(i=this.properties().minTick.value(),o=isNumber(i)?["100","1","false"]:i.split(","),n=parseInt(o[0]),r=parseInt(o[1]),s="true"===o[2],this._formatter=new k(n,r,s)),
this.priceScale()&&this.priceScale().updateFormatter()},r.prototype.formatter=function(){return this._formatter||this._createFormatter(),this._formatter},r.prototype._changeInputs=function(){c.prototype._changeInputs.call(this,this.inputs()),this.m_formatter=null,this.priceScale().updateFormatter()},r.prototype.title=function(){var t,e=this.properties().inputs.symbol.value(),i=this._resolvedSymbols[e];return i?(t=i.name,i.exchange&&0!==i.exchange.length&&(t+=", "+i.exchange)):t=e,t.toUpperCase()},r.prototype.bars=function(){return this.m_data},r.prototype.open=function(t){return this.bars().valueAt(t)[TradingView.OPEN_PLOT]},r.prototype.high=function(t){return this.bars().valueAt(t)[TradingView.HIGH_PLOT]},r.prototype.low=function(t){return this.bars().valueAt(t)[TradingView.LOW_PLOT]},r.prototype.close=function(t){return this.bars().valueAt(t)[TradingView.CLOSE_PLOT]},r.prototype.hl2=function(t){return(this.high(t)+this.low(t))/2},r.prototype.hlc3=function(t){return(this.high(t)+this.low(t)+this.close(t))/3},r.prototype.ohlc4=function(t){return(this.open(t)+this.high(t)+this.low(t)+this.close(t))/4},r.prototype.symbolInfo=function(){if(!this._resolvedSymbols)return null;var t=this._properties.inputs.symbol.value();return t?this._resolvedSymbols[t]:null},r.prototype.lastPriceLabelFixedCoordinate=function(){return this._priceAxisViews[0]._fixedCoordinate},r.prototype.tags=function(){var t=[],e=this.symbolInfo();return e?t.push(e.name):this._properties.inputs.symbol.value()&&t.push(this._properties.inputs.symbol.value()),t},r.prototype.getStylesPropertyPage=function(){return L.StudyOverlayStylesPropertyPage},e.OverlayDataWindowView=n,e.study_Overlay=r},function(t,e,i){"use strict";function o(t,e){n.call(this,e),this._series=t,this._series.onRestarted().subscribe(this,o.prototype.invalidate),this._series.onSymbolResolved().subscribe(this,o.prototype.invalidate),this._series.onCompleted().subscribe(this,o.prototype.invalidate),this._series.onBoxSizeChanged().subscribe(this,o.prototype.invalidate)}var n=i(480),r=i(121).getTranslatedSymbolDescription,s=i(281).generateTitleForGui;inherit(o,n),o.prototype.invalidate=function(){delete this._text,this.update()},o.prototype.getSeriesPrecision=function(){var t=4;return this._series._symbolInfo&&this._series._symbolInfo.pricescale&&(t=Math.round(Math.log(this._series._symbolInfo.pricescale)/Math.log(10))),t},o.prototype.round=function(t){var e=this.getSeriesPrecision(),i=Math.round(t*Math.pow(10,e))/Math.pow(10,e);return i||""},o.prototype.update=function(){if(!("_text"in this)){var t=this._series.symbolInfo()||{};this._bold=!1,this._size=this._props.mainSeriesProperties.statusViewStyle.fontSize.value()+"px",this._text=s({description:this._props.mainSeriesProperties.statusViewStyle.showSymbolAsDescription.value()?t.name:r({pro_name:t.pro_name,description:t.description,local_description:t.local_description,language:t.language}),exchange:this._props.mainSeriesProperties.statusViewStyle.showExchange.value()?t.exchange:null,symbol:this._series.symbol(),
interval:this._props.mainSeriesProperties.statusViewStyle.showInterval.value()?this._series.interval():null,style:this._series._properties.style.value(),inputs:this._series.getInputsProperties().state(),boxSize:this._series.data().boxSize,reversalAmount:this._series.data().reversalAmount,precision:this.getSeriesPrecision()})}},t.exports=o},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(80),r=function(t){function e(e,i){var o=t.call(this)||this;return o._source=e,o._model=i,o}return o.__extends(e,t),e.prototype._updateRendererData=function(t){var e,i,o;t.visible=!1,e=this._source,this._model.properties().scalesProperties.showSeriesPrevCloseValue.value()&&(e.isDWM()||null!==(i=e.prevClose())&&(o=this._source.properties().prevClosePriceLineColor.value(),t.background=o,t.color=this.generateTextColor(o),t.coordinate=i.coordinate,t.text=i.text,t.visible=!0))},e}(n.PriceAxisView),e.PrevCloseSeriesPriceAxisView=r},function(t,e,i){"use strict";var o,n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(9),r=i(24),s=i(493),a=i(32),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.lastPrice=function(){return this._getSource().data().lastProjectionPrice},e.prototype._updateRendererData=function(t){var e,i,o,s,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P;t.visible=!1,e=this._getData().model,e.properties().scalesProperties.showSeriesLastValue.value()&&(i=this._getSource(),o=i.priceScale(),s=e.timeScale(),l=this.lastPrice(),s.isEmpty()||o.isEmpty()||void 0===l||null!==(c=s.visibleBars())&&(h=c.firstBar(),d=c.lastBar(),u=i.data(),null!==(p=u.search(d,r.PlotRowSearchMode.NearestLeft))&&void 0!==(f=i.nearestIndex(h,r.PlotRowSearchMode.NearestRight))&&(_=n.ensureNotNull(u.valueAt(f))[TradingView.CLOSE_PLOT],g=l,o.properties().percentage.value()&&(g=100*(g-_)/_),m=t.background,v="",y=!1,b=i.properties(),w=b.style.value()===a.STYLE_HEIKEN_ASHI,w&&b.haStyle.showRealLastPrice.value()?(this._isCountdownEnabled()&&b.showCountdown.value()&&(v=this._countdownText()),S=i.lastValueData(TradingView.CLOSE_PLOT,!0),S.noData||S.color===t.background||(m=S.color),T=i.lastValueData(TradingView.CLOSE_PLOT,!1),S.noData||T.noData||(y=S.index===T.index)):(x=i.barColorer(),P=x.barStyle(p.index,!0),m=P.barColor,y=!0),t.background=m,t.secondLine=v,t.visible=y,t.color=this.generateTextColor(m),t.coordinate=o.priceToCoordinate(g),t.text=o.formatter().format(g))))},e}(s.SeriesPriceAxisView),e.ProjectionSeriesPriceAxisView=l},function(t,e,i){"use strict";function o(t,e){h.call(this),this._series=t,this._model=e,this._items.push(new d($.t("O",{context:"in_legend"}),"")),this._items.push(new d($.t("H",{context:"in_legend"}),"")),this._items.push(new d($.t("L",{context:"in_legend"}),"")),this._items.push(new d($.t("C",{context:"in_legend"}),"")),this._invalidated=!0,this.update()}
var n=i(55),r=n.parseRgb,s=n.distanceRgb,a=n.invertRgb,l=n.rgbToHexString,c=i(157),h=c.DataWindowView,d=c.DataWindowItem,u=i(217).translatedIntervalString,p=i(24).PlotRowSearchMode;inherit(o,h),o.prototype.update=function(){this._invalidated=!0},o.prototype._updateImpl=function(){var t,e,i,o,n,c,h,d,f,_,g,m,v;if(this._series.symbolInfo()?(this._header=[this._series.symbolInfo().name,u(this._series.interval()),this._series.symbolInfo().exchange].join(", "),this._title=this._series.symbolInfo().description):this._header=this._series.symbol(),this._items[0].setValue($.t("n/a")),this._items[1].setValue($.t("n/a")),this._items[2].setValue($.t("n/a")),this._items[3].setValue($.t("n/a")),!this._model.timeScale().isEmpty()&&0!==this._series.bars().size()&&(t=this._series.data().size()-1,e=this._model.crossHairSource().appliedIndex(),void 0!==(i=isNumber(e)?this._series.nearestIndex(e,p.NearestLeft):this._series.nearestIndex(t,p.NearestLeft))))for(o=this._series.data().valueAt(i),n=this._series.formatter(),this._items[0].setValue(n.format(o[TradingView.OPEN_PLOT])),this._items[1].setValue(n.format(o[TradingView.HIGH_PLOT])),this._items[2].setValue(n.format(o[TradingView.LOW_PLOT])),this._items[3].setValue(n.format(o[TradingView.CLOSE_PLOT])),c=this._series.barColorer(),h=c.barStyle(i,!1),d=null!=h.barBorderColor?h.barBorderColor:h.barColor,f=this._series.model().paneForSource(this._series),_=f._properties.background.value(),g=r(d),m=r(_),s(g,m)<70&&(d=l(a(g))),v=0;v<4;v++)this._items[v].setColor(d)},o.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},o.prototype.dump=function(){return{header:this._header,items:this._items}},o.prototype.additional=function(){if(this._series.dataPoweredBy)return"(Data Provided by "+this._series.dataPoweredBy+")"},t.exports=o},function(t,e,i){"use strict";function o(t){var e,i;if(0===t.length)return!1;if(-1===(e=t.findIndex(function(t){return l.coordinateIsValid(t.y)})))return!1;for(i=t.length-1;i>e&&!l.coordinateIsValid(t[i].y);)i--;return!(e>=i)}function n(t,e){var i,o,n,a,c,h=[],d=[],u=null;for(i=0;i<t.length;i++){if(o=t[i],n=t[i+1]||{},l.coordinateIsValid(o.y))o.y<=e&&h.push(o),o.y>=e&&d.push(o),u=o;else{if(null===u)continue;o=u}l.coordinateIsValid(n.y)&&((o.y>e&&n.y<e||o.y<e&&n.y>e)&&(Math.abs(o.x-n.x)<1?(a=new r.Point(o.x,e),h.push(a),d.push(a)):null!==(c=s.intersectLineSegments(o,n,new r.Point(o.x,e),new r.Point(n.x,e)))&&(a=o.add(n.subtract(o).scaled(c)),h.push(a),d.push(a))))}return{topItems:h,bottomItems:d}}var r,s,a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),r=i(8),s=i(170),a=i(51),l=i(42),c=i(134),h=i(11),e.itemsRangeIsValid=o,e.splitItems=n,d=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){var e,i,r,s,a,l,c,h,d,u,p,f,_,g,m;null!==this._data&&(e=this._data,i=e.items,r=e.baseLevelCoordinate,s=e.bottom,a=e.bottomFillColor1,l=e.bottomFillColor2,c=e.topFillColor1,h=e.topFillColor2,d=e.topLineColor,u=e.bottomLineColor,p=e.topLineWidth,
f=e.bottomLineWidth,o(i)&&(_=n(i,r),g=_.topItems,m=_.bottomItems,t.lineCap="round",t.lineJoin="round",t.translate(.5,.5),0!==g.length&&(t.beginPath(),t.moveTo(g[0].x,r),this._makeLine(t,g,!0,0),t.closePath(),t.fillStyle=this._makeLinearGradient(t,c,h,r-s,r),t.fill(),t.beginPath(),this._makeLine(t,g,!1,0),t.lineWidth=p,t.strokeStyle=d,t.stroke()),0!==m.length&&(t.beginPath(),t.moveTo(m[0].x,r),this._makeLine(t,m,!0,1),t.closePath(),t.fillStyle=this._makeLinearGradient(t,a,l,r,r+s),t.fill(),t.beginPath(),this._makeLine(t,m,!1,1),t.lineWidth=f,t.strokeStyle=u,t.stroke())))},t.prototype.hitTest=function(t){var e,i,o,n,s,d,u,p,f,_,g;if(null===this._data)return null;for(e=this._data,i=e.items,o=e.topLineWidth,n=e.bottomLineWidth,s=l.selectionTolerance((o+n)/2),d=c.lowerbound(i,t,function(t,e){return t.x<=e.x}),u=Math.max(1,d-1),p=Math.min(i.length-1,d+1),f=u;f<=p;++f)if(_=i[f-1],g=i[f],a.distanceToSegment(new r.Point(_.x,_.y),new r.Point(g.x,g.y),new r.Point(t.x,t.y)).distance<=s)return new h(h.REGULAR);return null},t.prototype._makeLine=function(t,e,i,o){var n,r,s,a,c,h,d,u,p,f;if(null!==this._data&&-1!==(n=e.findIndex(function(t){return l.coordinateIsValid(t.y)})))for(r=this._data,s=r.barSpacing,a=r.baseLevelCoordinate,c=.25*s,d=e.length,u=n;u<d;u++)if(p=e[u],f=e[u+1]||{},l.coordinateIsValid(p.y)){if(0===o){if(h&&h.y>=a&&p.y>=a){t.moveTo(p.x,p.y);continue}}else if(h&&h.y<=a&&p.y<=a){t.moveTo(p.x,p.y);continue}if(h&&l.coordinateIsValid(h.y))t.lineTo(p.x,p.y),i&&!l.coordinateIsValid(f.y)&&t.lineTo(p.x,a);else if(f&&l.coordinateIsValid(f.y))i?(u!==n&&t.lineTo(p.x,a),t.lineTo(p.x,p.y)):t.moveTo(p.x,p.y);else if(i){if(0===u)continue;u!==n&&t.lineTo(p.x-c,a),t.lineTo(p.x-c,p.y),t.lineTo(p.x+c,p.y),t.lineTo(p.x+c,a)}else t.moveTo(p.x-c,p.y),t.lineTo(p.x+c,p.y);h=p}},t.prototype._makeLinearGradient=function(t,e,i,o,n){var r=t.createLinearGradient(0,o,0,n);return r.addColorStop(0,e),r.addColorStop(1,i),r},t}(),e.PaneRendererBaseline=d},function(t,e,i){"use strict";function o(t,e){this.m_series=t,this.m_model=e,this.m_bars=[],this._invalidated=!0,this._isMarkersEnabled=x.enabled("source_selection_markers")}function n(t,e){o.call(this,t,e)}function r(t,e){o.call(this,t,e)}function s(t,e){n.call(this,t,e)}function a(t,e){r.call(this,t,e)}function l(t,e){n.call(this,t,e)}function c(t,e){r.call(this,t,e)}function h(t,e){n.call(this,t,e)}function d(t,e){r.call(this,t,e)}function u(t,e){n.call(this,t,e)}function p(t,e){r.call(this,t,e)}var f=i(9).ensureNotNull,_=i(8).Point,g=i(155).SelectionRenderer,m=i(11),v=i(851).PaneRendererRenkoPB,y=i(852).PaneRendererKagi,b=i(853).PaneRendererPnF,w=i(41).CompositeRenderer,S=i(275),T=i(0).getLogger("Chart.JapaneseSeriesPaneView"),x=i(3);o.prototype.bars=function(){throw Error("unimplemented")},o.prototype.isProjection=function(){throw Error("unimplemented")},o.prototype.update=function(){this._invalidated=!0},o.prototype.nearestIndex=function(t,e){if(!TradingView.isInteger(t))return void T.logDebug("incorrect logicalPoint");var i=this.bars().search(t,e);return null!==i?i.index:void 0},
o.prototype._updateImpl=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,g,v,y,b,w,T,x=this;if(this.m_bars.length=0,(this.m_series.properties().style.value()!==TradingView.Series.STYLE_PNF||this.m_series.data().boxSize)&&!this.m_model.timeScale().isEmpty()&&!this.m_series.priceScale().isEmpty()&&null!==(t=this.m_series.getRealVisibleRange())&&0!==this.bars().size()){for(e=t.firstBar(),i=t.lastBar(),o=this.m_series.data().search(e).value[TradingView.CLOSE_PLOT];e<=i&&null===this.bars().valueAt(e);e++);if(!(e>i)&&(t=this.bars().range(e,i),n=this.m_series.priceScale(),r=this.m_series.barColorer(),s={},a=x.m_series.properties().style.value(),l=a===TradingView.Series.STYLE_KAGI||a===TradingView.Series.STYLE_PNF,c=x.isProjection(),h=f(x.m_series.data().bars().lastIndex()),t.each(function(t,e){var i,d,u,p;if(void 0!==e[TradingView.OPEN_PLOT]&&void 0!==e[TradingView.HIGH_PLOT]&&void 0!==e[TradingView.LOW_PLOT]&&void 0!==e[TradingView.CLOSE_PLOT]){if(i={},d={O:e[TradingView.OPEN_PLOT],H:e[TradingView.HIGH_PLOT],L:e[TradingView.LOW_PLOT],C:e[TradingView.CLOSE_PLOT],Adt:l?e[TradingView.ADT_PLOT]:void 0},n.properties().percentage.value())for(u in d)d[u]=100*(d[u]-o)/o;switch(i.time=Math.round(t),i.open=d.O,i.high=d.H,i.low=d.L,i.close=d.C,s.value=e,p=r.barStyle(t,c,s),s.previousValue=e,i.color=p.barColor,i.borderColor=p.barBorderColor,i.isUp=p.isBarUp,i.wickColor=p.barWickColor,a){case TradingView.Series.STYLE_PNF:i.low-=.5*x.m_series.data().boxSize,i.high+=.5*x.m_series.data().boxSize,i.additionalNum=Math.round(1+(e[TradingView.HIGH_PLOT]-e[TradingView.LOW_PLOT])/x.m_series.data().boxSize);break;case TradingView.Series.STYLE_KAGI:if(i.upColor=p.upColor,i.downColor=p.downColor,i.isTwoColorBar=p.isTwoColorBar,!isNumber(d.Adt))break;i.additionalPrice=d.Adt,c&&i.time===h&&(i.combinedWithProjection=!0)}x.m_bars.push(i)}},this),a===TradingView.Series.STYLE_PNF&&(n.properties().percentage.value()?(d=100*(500-o)/o,u=100*(0-o)/o,this.blockSize=(n.priceToCoordinate(u)-n.priceToCoordinate(d))/500*this.m_series.data().boxSize):this.blockSize=(n.priceToCoordinate(0)-n.priceToCoordinate(500))/500*this.m_series.data().boxSize),n.barPricesToCoordinates(this.m_bars),this.m_model.timeScale().barIndexesToCoordinates(this.m_bars),this.m_series===this.m_model.selectedSource()))for(p=S(e,i),this._selectionData={points:[]},this._selectionData.hittestResult=m.REGULAR,g=0;g<p.length;g++)v=p[g],null!==(y=this.m_series.bars().valueAt(v))&&(b=.5*(y[TradingView.OPEN_PLOT]+y[TradingView.CLOSE_PLOT]),n.properties().percentage.value()&&(b=100*(b-o)/o),w=this.m_model.timeScale().indexToCoordinate(v),T=this.m_series.priceScale().priceToCoordinate(b),this._selectionData.points.push(new _(w,T)))}},o.prototype.items=function(){return this.m_bars},o.prototype.dump=function(){var t={};return t.bars=this.m_bars,t},inherit(n,o),n.prototype.bars=function(){return this.m_series.bars()},n.prototype.isProjection=function(){return!1},inherit(r,o),r.prototype.bars=function(){return this.m_series.nsBars()},r.prototype.isProjection=function(){return!0},inherit(s,n),
s.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barWidth=this.m_model.timeScale().barSpacing(),e=new w,e.append(new v(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new g(this._selectionData)),e},inherit(a,r),a.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var t={};return t.bars=this.m_bars,t.barWidth=this.m_model.timeScale().barSpacing(),new v(t)},inherit(l,n),l.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barWidth=.9*this.m_model.timeScale().barSpacing(),e=new w,e.append(new v(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new g(this._selectionData)),e},inherit(c,r),c.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var t={};return t.bars=this.m_bars,t.barWidth=.9*this.m_model.timeScale().barSpacing(),new v(t)},inherit(h,n),h.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.barSpacing=this.m_model.timeScale().barSpacing(),e=new w,e.append(new y(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new g(this._selectionData)),e},inherit(d,r),d.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var t={};return t.bars=this.m_bars,t.upColor=this.upColor,t.downColor=this.downColor,t.barSpacing=this.m_model.timeScale().barSpacing(),new y(t)},inherit(u,n),u.prototype.renderer=function(){var t,e;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),t={},t.bars=this.m_bars,t.blockSize=this.blockSize,t.barSpacing=this.m_model.timeScale().barSpacing(),e=new w,e.append(new b(t)),this.m_series===this.m_model.selectedSource()&&this._isMarkersEnabled&&e.append(new g(this._selectionData)),e},inherit(p,r),p.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var t={};return t.bars=this.m_bars,t.blockSize=this.blockSize,t.barSpacing=this.m_model.timeScale().barSpacing(),new b(t)},e.SeriesRenkoPaneView=s,e.SeriesProjectionRenkoPaneView=a,e.SeriesPriceBreakPaneView=l,e.SeriesProjectionPriceBreakPaneView=c,e.SeriesKagiPaneView=h,e.SeriesProjectionKagiPaneView=d,e.SeriesPnFPaneView=u,e.SeriesProjectionPnFPaneView=p},function(t,e,i){"use strict";function o(t){this.bars=t.bars,this.barWidth=t.barWidth,this.barLineWidth=1}var n=i(42).selectionTolerance,r=i(11);o.prototype.draw=function(t){var e,i,o,n,r,s,a;for(t.save(),t.lineCap="butt",t.translate(.5,.5),t.lineWidth=this.barLineWidth,e=this.barWidth/2,i=0;i<this.bars.length;++i)o=this.bars[i],n=o.exactTime-e,r=o.exactTime+e-n,s=Math.round(Math.min(o.close,o.open)),a=Math.max(1,Math.round(Math.abs(o.close-o.open))),t.fillStyle=o.borderColor,t.fillRect(o.exactTime,Math.round(o.high),this.barLineWidth,Math.round(o.low-o.high)),t.fillRect(n,s,r,a),
t.fillStyle=o.color,t.fillRect(n+this.barLineWidth,s+this.barLineWidth,r-2*this.barLineWidth,a-2*this.barLineWidth);t.restore()},o.prototype.hitTest=function(t){var e,i,o,s,a=this.bars,l=.5*this.barWidth;if(0===a.length)return null;if(t.x<a[0].time-l)return null;if(t.x>a[a.length-1].time+l)return null;for(e=null,i=0;i<a.length;++i)if(o=a[i],t.x<=o.time+l){e=o;break}return s=n(this.barLineWidth),e&&e.high-s<=t.y&&t.y<=e.low+s?new r(r.REGULAR):null},e.PaneRendererRenkoPB=TradingView.PaneRendererRenkoPB=o},function(t,e,i){"use strict";function o(t){this.bars=t.bars,this.barSpacing=t.barSpacing,this.barLineWidth=Math.max(1,n.optimalBarWidth(t.barSpacing))}var n=i(42),r=i(11);o.prototype.draw=function(t){var e,i,o;for(t.save(),t.lineCap="square",t.translate(.5,.5),e=0;e<this.bars.length;++e)i=this.bars[e],o=Math.round(.5*this.barLineWidth),i.isTwoColorBar?(t.fillStyle=i.upColor,t.fillRect(Math.round(i.exactTime-o),Math.round(i.high-o),Math.round(2*o),Math.round(i.additionalPrice-i.high+o)),t.fillStyle=i.downColor,t.fillRect(Math.round(i.exactTime-o),Math.round(i.additionalPrice),Math.round(2*o),Math.round(i.low-i.additionalPrice+o))):(t.fillStyle=i.color,t.fillRect(Math.round(i.exactTime-o),Math.round(i.high-o),Math.round(2*o),Math.round(i.low-i.high)+2*o)),i.combinedWithProjection||(i.isTwoColorBar?t.fillStyle=i.isUp?i.downColor:i.upColor:t.fillStyle=i.color,t.fillRect(Math.round(i.exactTime-this.barSpacing+o),Math.round(i.open-o),Math.round(this.barSpacing-2*o+1),Math.round(2*o)));t.restore()},o.prototype.hitTest=function(t){var e,i,o,s,a=this.bars,l=.5*this.barLineWidth;if(0===a.length)return null;if(t.x<a[0].time-l)return null;if(t.x>a[a.length-1].time+l)return null;for(e=null,i=0;i<a.length;++i)if(o=a[i],t.x<=o.time+l){e=o;break}return s=n.selectionTolerance(.5*this.barLineWidth),e&&e.high-s<=t.y&&t.y<=e.low+s?new r(r.REGULAR):null},e.PaneRendererKagi=TradingView.PaneRendererKagi=o},function(t,e,i){"use strict";function o(t){this.bars=t.bars,this.barSpacing=t.barSpacing,this.blockSize=t.blockSize,this.barWidth=t.barSpacing}var n=i(42).selectionTolerance,r=i(11);o.prototype.draw=function(t){var e,i,o,n;for(t.save(),t.lineCap="butt",t.translate(.5,.5),e=0;e<this.bars.length;++e){for(i=this.bars[e],o=(i.low-i.high)/i.additionalNum,t.beginPath(),n=0;n<i.additionalNum;n++)i.isUp?(t.moveTo(Math.round(i.time-.5*this.barWidth)+.5,i.high+n*o),t.lineTo(Math.round(i.time+.5*this.barWidth)-.5,i.high+(n+1)*o),t.moveTo(Math.round(i.time+.5*this.barWidth)-.5,i.high+n*o),t.lineTo(Math.round(i.time-.5*this.barWidth)+.5,i.high+(n+1)*o)):this.drawEllipse(t,i.time-.45*this.barWidth+.5,i.high+n*o,Math.round(.9*this.barWidth),Math.round(o));t.strokeStyle=i.color,t.lineWidth=1,t.stroke()}t.restore()},o.prototype.drawEllipse=function(t,e,i,o,n){t.save(),t.translate(e+o/2,i+n/2),t.scale(o/2,n/2),t.moveTo(1,0),t.arc(0,0,.95,0,2*Math.PI,!1),t.restore()},o.prototype.hitTest=function(t){var e,i,o,s,a=this.bars,l=.5*this.barSpacing;if(0===a.length)return null;if(t.x<a[0].time-l)return null;if(t.x>a[a.length-1].time+l)return null;for(e=null,
i=0;i<a.length;++i)if(o=a[i],t.x<=o.time+l){e=o;break}return s=n(this.barWidth),e&&e.high-s<=t.y&&t.y<=e.low+s?new r(r.REGULAR):null},e.PaneRendererPnF=TradingView.PaneRendererPnF=o},function(t,e,i){"use strict";function o(){this._data=null}function n(t){this._series=t,this._invalidated=!0,this._renderer=new o}var r=i(8).Point,s=i(41).CompositeRenderer,a=i(272).DateFormatter,l=i(229).TimeFormatter;o.prototype.setData=function(t){this._data=t},o.prototype.hitTest=function(){return null},o.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g;null!==this._data&&(e=5,i=12,o=5,n=8,r=13,s=0,t.save(),t.setFont(r+"px Arial"),c=$.t("Last available bar"),this._data.eod?s=t.measureText(c).width:(a=t.measureText(this._data.dateString||"").width,l=t.measureText(this._data.timeString||"").width,s=Math.max(a,l)),h=this._data.timeString?2:1,t.fillStyle=this._data.eod?"#FF4040":"#58A3CD",t.translate(this._data.point.x+.5,this._data.point.y+.5),d=Math.round(-s/2)-n,u=-(r+e)*h-e-i-o,p=Math.round(d+s+2*n),f=-i-o,t.beginPath(),t.moveTo(d,u),t.lineTo(p,u),t.lineTo(p,f),t.lineTo(i,f),t.lineTo(0,f+i),t.lineTo(-i,f),t.lineTo(d,f),t.fill(),t.fillStyle="#FFFFFF",t.textBaseline="top",this._data.eod?t.fillText(c,d+n,u+e):(_=d+n+(s-a)/2,t.fillText(this._data.dateString,_,u+e),this._data.timeString&&(g=d+n+(s-l)/2,t.fillText(this._data.timeString,g,u+2*e+r))),t.restore())},n.prototype.update=function(){this._invalidated=!0},n.prototype.updateImpl=function(){var t,e,i,o,n,s,c;delete this._point,delete this._dateString,delete this._timeString,delete this._eod,void 0!==(t=this._series.gotoDateResult())&&(e=this._series.model().timeScale().timePointToIndex(t.timestamp),i=this._series.bars(),o=null,e<i.firstIndex()&&null!==i.first()?(e=i.firstIndex(),o=i.first().value):e>i.lastIndex()&&null!==i.last()?(e=i.lastIndex(),o=i.last().value):o=i.valueAt(e),null!==o&&(n=this._series.priceScale().priceToCoordinate(o[TradingView.HIGH_PLOT]),s=this._series.model().timeScale().indexToCoordinate(e),this._point=new r(s,n),t.eod?this._eod=!0:(c=this._series.model().timeScale().indexToUserTime(e),this._dateString=(new a).format(c),this._series.isDWM()||(this._timeString=(new l).format(c)))))},n.prototype.renderer=function(){return this._invalidated&&(this.updateImpl(),this._invalidated=!1),this._point?(this._renderer.setData({point:this._point,dateString:this._dateString,timeString:this._timeString,eod:this._eod}),this._renderer):new s},t.exports=n},function(t,e,i){"use strict";(function(e){var o=i(655).ExchangeSession,n=function(){function t(t,e,i,o){return""===t?new h(60*e,i):"S"===t?new h(e,i):new d(i,o,e,n(t,i))}function n(t,e){switch(t){case"D":return new w(e);case"W":return new S(e);case"M":return new T(e)}return console.error("unknown dwm resolution: "+t),null}function r(t,e,i,o,n){var r,s,a,l,c,h,d,u=(new P).init("UTC",t),p=""!==e;return p?(s=i*R[e],r=R.D):(s=60*i*1e3,r=60*u.spec.findSessionEntry(0,0).length()*1e3),a=r/s,l=p?7:7-u.spec.weekEndsCount(),c=l*a,o<c?(h=o/a,n-h*R.D):(d=o/c,n-d*R.W)}function s(t,e,i,o){
if("number"!=typeof i||"number"!=typeof e||isNaN(i)||isNaN(e))throw Error("Cannot extrapolate from "+e+" to "+i);return l(t,e,function(t,e){return e>i||o&&t.length>o})}function a(t,e,i){return l(t,e,function(t,e){return t.length>=i})}function l(t,e,i){var o,n,r,s,a,l=e;for(t.moveTo(l),o=[],n=0,r=0;!i(o,l);){if(n>5)throw console.trace(["0x10",new Date(e),"->",new Date(l)]),Error("Internal error 0x10 while extrapolating.");if((s=t.indexOfBar(l))===k)l=t.startOfBar(0);else if(s===L)l=t.startOfBar(L);else{if((a=t.startOfBar(s))!==e){if(r&&r===a)throw console.trace(["0x11",new Date(e),"->",new Date(a)]),Error("Internal error 0x11 while extrapolating.");r=a,n=0,o.push(a)}l=t.startOfBar(s+1)}t.moveTo(l),n++}return o}function c(t){if(isNaN(t))return NaN;var e=this.indexOfBar(t);return e===L&&(this.moveTo(t),e=this.indexOfBar(t)),e<0?NaN:this.startOfBar(e)}function h(t,e){this.period=t,this.session=e,this.sessionStart=Number.MIN_VALUE,this.sessionEnd=Number.MIN_VALUE}function d(t,e,i,o){this.period=i,this.sessionTgt=t,this.sessionSrc=e||t,this.builder=o,this.periodStart=-Number.MAX_VALUE,this.periodEnd=-Number.MAX_VALUE,this.periodLastBarStart=-Number.MAX_VALUE}function u(t,e,i){var o=A.clone(i);return e.alignToSessionStart(o,t),A.cal_to_utc(t,o)}function p(t,e){var i=A.get_day_of_week(e)-t.firstDayOfWeek();return i<0?i+7:i}function f(t,e){var i=e+t.firstDayOfWeek();return i>A.SATURDAY?i-A.SATURDAY:i}function _(t,e){var i=A.get_day_of_year(e)-1,o=p(t,e)-i%7;return 0===o?x(i/7):(o>=0&&(o-=7),x((o+i)/7))}function g(t,e,i){var o,n=0;for(o=e;o<i;++o)n+=t.isWeekEnd(f(t,o))?1:0;return n}function m(t,e){var i=new Date(Date.UTC(e,11,31,23,59)),o=A.days_per_year(e)-v(t,i);return A.get_day_of_week(i)!==A.SUNDAY&&A.get_day_of_week(i)!==A.SATURDAY||o--,o}function v(t,e){var i,o,n=A.get_day_of_year(e)-1,r=p(t,e),s=r-n%7;return s<0&&(s+=7),i=0,n<7-s?i+=g(t,s,r):(o=0===s?0:g(t,s,7),i+=g(t,0,r)+o),i+_(t,e)*t.weekEndsCount()}function y(){}function b(t){this.sessionsSpec=t}function w(t){this.session=t}function S(t){this.session=t}function T(t){this.session=t}function x(t){return 0|t}function P(){}function C(t,e,i){var o,n,r,s,a=t.length;if(0===a)return-1;for(o=0,n=a-1,r=x((o+n)/2);;){if(0===(s=i(t[r],e))||s>0){if((n=r-1)<o)return r}else if(o=r+1,n<o)return r<a-1?r+1:-1;r=x((o+n)/2)}}function M(t,e){var i=A.utc_to_cal(e.timezone,+t),o=A.get_day_of_week(i),n=A.get_minutes_from_midnight(i),r=e.spec.findSessionEntry(o,n);return r.isOvernight()&&n>r.start()+r.length()&&o===r.dayOfWeek()-1&&(o++,n-=1440),o===r.dayOfWeek()&&n>=r.start()&&n<r.start()+r.length()}var k=-1,L=-2,I="undefined"!=typeof window?window:e,A=I.PineJsCalendar?I.PineJsCalendar:i(94),R={S:1e3,D:864e5,W:6048e5,M:2592e6};return h.prototype.alignTime=c,h.prototype.alignTimeIfPossible=function(t){var e=this.alignTime(t);return isNaN(e)?t:e},h.prototype.indexOfBar=function(t){return t<this.sessionStart?k:t>=this.sessionEnd?L:x(A.time_seconds_diff(t,this.sessionStart)/this.period)},h.prototype.startOfBar=function(t){if(t===L)return this.sessionEnd
;if(t<0)throw Error("Negative offset is not supported");return this.sessionStart+A.time_seconds(this.period*t)},h.prototype.isLastBar=function(t,e){return e>=this.sessionStart+A.time_seconds(this.period*(t+1)-1)},h.prototype.moveTo=function(t){var e=this.session.timezone,i=A.utc_to_cal(e,t),o=this.session.spec,n=o.alignToSessionStart(i,this.session.timezone);this.sessionStart=A.cal_to_utc(e,i),this.sessionEnd=this.sessionStart+A.time_minutes(n)},d.prototype.alignTime=c,d.prototype.alignTimeIfPossible=function(t){return this.tradingDayToSessionStart(t)},d.prototype.tradingDayToSessionStart=function(t){return this.moveTo(t),this.startOfBar(0)},d.prototype.indexOfBar=function(t){return t<this.periodStart?k:t>=this.periodEnd?L:0},d.prototype.startOfBar=function(t){if(t===L||t>0)return this.periodEnd;if(t===k)throw Error("PRE_SESSION is not supported");return this.periodStart},d.prototype.isLastBar=function(t,e){return e>=this.periodLastBarStart},d.prototype.moveTo=function(t){var e,i,o,n,r,s,a,l,c=A.utc_to_cal(this.sessionSrc.timezone,t);c=this.sessionSrc.spec.correctTradingDay(c,this.sessionSrc.timezone),e=this.sessionTgt.timezone,i=this.builder.indexOfPeriod(c,e),o=x(i/this.period)*this.period,n=A.get_year(c),r=this.sessionTgt.spec,s=this.builder.startOfPeriod(e,o,n),this.periodStart=u(e,r,s),a=o+this.period,l=this.builder.startOfPeriod(e,a,n),this.periodEnd=u(e,r,l),A.add_date(l,-1),this.moveToPrevWorkDay(r,l),this.periodLastBarStart=u(e,r,l),(this.periodLastBarStart<this.periodStart||this.periodLastBarStart===this.periodEnd)&&(this.periodLastBarStart=this.periodStart)},d.prototype.moveToPrevWorkDay=function(t,e){for(;t.isWeekEnd(A.get_day_of_week(e));)A.add_date(e,-1)},y.prototype.indexOfPeriod=function(t){return A.get_day_of_year(t)-1},y.prototype.startOfPeriod=function(t,e,i){var o=A.get_cal(t,i,A.JANUARY,1),n=A.add_days_considering_dst(t,o,e);return A.utc_to_cal(t,+n)},b.prototype.uber=new y,b.prototype.indexOfPeriod=function(t){return this.uber.indexOfPeriod(t)-v(this.sessionsSpec,t)},b.prototype.startOfPeriod=function(t,e,i){function o(t,e){this.weekEnds=g(t,e,7),this.calendarDays=7-e,this.businessDays=this.calendarDays-this.weekEnds}function n(t,e){var i,o=0;for(i=t;i<7&&(s.sessionsSpec.isWeekEnd(f(s.sessionsSpec,i))||!(--e<0));++i)o++;return o}function r(t,e,i){var o,n,r,a,l,c,h=0,d=i%(7-s.sessionsSpec.weekEndsCount());for(o=0,n=d-(0===t?0:e.businessDays);o<7&&n>0;++o)r=s.sessionsSpec.isWeekEnd(f(s.sessionsSpec,o)),h+=r?1:0,n-=r?0:1;return a=e.weekEnds+h,l=x((i-e.businessDays)/(7-s.sessionsSpec.weekEndsCount())),c=a+s.sessionsSpec.weekEndsCount()*l,i+c}var s,a,l,c,h;return e>=m(this.sessionsSpec,i)&&(i++,e=0),s=this,a=new Date(Date.UTC(i,A.JANUARY,1)),l=p(this.sessionsSpec,a),c=new o(this.sessionsSpec,l),h=e<c.businessDays?n(l,e):r(l,c,e),this.uber.startOfPeriod(t,h,i)},w.prototype.indexOfPeriod=function(t){return this.builder().indexOfPeriod(t)},w.prototype.startOfPeriod=function(t,e,i){return this.builder().startOfPeriod(t,e,i)},w.prototype.builder=function(){
return this._builder||(this._builder=this.session.spec.hasWeekEnds()?new b(this.session.spec):new y),this._builder},S.prototype.indexOfPeriod=function(t,e){var i=_(this.session.spec,t);return 0===i&&t<this.startOfPeriod(e,0,A.get_year(t))&&(i=-1),i},S.prototype.startOfPeriod=function(t,e,i){var o,n,r=new Date(Date.UTC(i,A.JANUARY,1)),s=p(this.session.spec,r),a=0===s?7*e:7*(e+1)-s,l=A.get_days_per_year(r);return a>l?this.startOfPeriod(t,0,i+x(a/l)):(o=A.get_cal(t,i,A.JANUARY,1),n=A.add_days_considering_dst(t,o,a),A.utc_to_cal(t,+n))},T.prototype.indexOfPeriod=function(t){return A.get_month(t)},T.prototype.startOfPeriod=function(t,e,i){var o,n,r,s;return e<0?(o=x((11-e)/12),i-=o,e+=12*o):e>A.DECEMBER&&(i++,e=A.JANUARY),n=A.get_cal_utc(i,e,1),r=p(this.session.spec,n),r>4&&(s=7-r,A.add_date(n,s)),n},P.prototype.init=function(t,e){return this.timezone="string"==typeof t?A.get_timezone(t):t,this.spec=new o(e),this},{PRE_SESSION:k,POST_SESSION:L,LASTBAR_SESSION:-3,newBarBuilder:t,Session:P,alignPeriodsBack:r,extrapolateBarsFrontByCount:a,extrapolateBarsFrontToTime:s,lower_bound:C,isTradingNow:M,numberOfFullWeeks:_,numberOfWeekEndsSinceYearStart:v,BusinessDaysBuilder:b,alignExchangeTimeToSessionStartAndReturnUTC:u}}();t.exports=n}).call(e,i(58))},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M12.5 17.207L18.707 11h2l3.647-3.646-.708-.708L20.293 10h-2L12.5 15.793l-3-3-4.854 4.853.708.708L9.5 14.207z"/><path d="M9 16h1v1H9zm1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-3-3h1v1H8zm-1 1h1v1H7zm-1 1h1v1H6zm2 0h1v1H8zm-1 1h1v1H7zm-2 0h1v1H5zm17-9h1v1h-1zm1-1h1v1h-1zm0 2h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-5-7h1v1h-1zm2 0h1v1h-1zm1-1h1v1h-1zm-2 2h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-2-6h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-3-3h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M18 6h1v16h-1z"/><path d="M18.5 18H22v1h-3.5zM15 13h3.5v1H15zm-5-6h1v16h-1z"/><path d="M10.5 9H14v1h-3.5zM7 20h3.5v1H7z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"/><path d="M18 7h1v3.5h-1zm0 10.5h1V21h-1z"/><path d="M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z"/><path d="M10 4h1v3.5h-1zm0 16.5h1V24h-1z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M9 8v12h3V8H9zm-1-.502C8 7.223 8.215 7 8.498 7h4.004c.275 0 .498.22.498.498v13.004a.493.493 0 0 1-.498.498H8.498A.496.496 0 0 1 8 20.502V7.498z"/><path d="M10 4h1v3.5h-1z"/><path d="M17 6v6h3V6h-3zm-1-.5c0-.276.215-.5.498-.5h4.004c.275 0 .498.23.498.5v7c0 .276-.215.5-.498.5h-4.004a.503.503 0 0 1-.498-.5v-7z"/><path d="M18 2h1v3.5h-1z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"/><path d="M18 7h1v3.5h-1zm0 10.5h1V21h-1z"/><path d="M9 8v11h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-12a.5.5 0 0 1 .5-.5z"/><path d="M10 4h1v5h-1zm0 14h1v5h-1zM8.5 9H10v1H8.5zM11 9h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M11.982 16.689L17.192 12h3.033l4.149-4.668-.748-.664L19.776 11h-2.968l-4.79 4.311L9 12.293l-4.354 4.353.708.708L9 13.707z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" stroke="currentColor"><path stroke-dasharray="1,1" d="M4 14.5h22"/><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 12.5l2-4 1 2 2-4 3 6"/><path stroke-linecap="round" d="M5.5 16.5l-1 2"/><path stroke-linecap="round" stroke-linejoin="round" d="M17.5 16.5l2 4 2-4m2-4l1-2-1 2z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M18 5v5h3V5h-3zm-1-1h5v7h-5V4zm-4 13h3v-5h-3v5zm-1-6h5v7h-5v-7zM8 24h3v-5H8v5zm-1-6h5v7H7v-7z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M14.5 16a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm0 7a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm3.293-15.5l4.707 4.707.707-.707L18.5 4.793z"/><path d="M18.5 10.207L23.207 5.5l-.707-.707L17.793 9.5zm-.707 1.293l4.707 4.707.707-.707-4.707-4.707z"/><path d="M18.5 16.207l4.707-4.707-.707-.707-4.707 4.707zM5.793 17.5l4.707 4.707.707-.707L6.5 16.793z"/><path d="M6.5 22.207l4.707-4.707-.707-.707L5.793 21.5zM5.793 5.5l4.707 4.707.707-.707L6.5 4.793z"/><path d="M6.5 10.207L11.207 5.5l-.707-.707L5.793 9.5zM5.793 11.5l4.707 4.707.707-.707L6.5 10.793z"/><path d="M6.5 16.207l4.707-4.707-.707-.707L5.793 15.5z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M18 24h3V12h-3v12zm-1-13h5v14h-5V11zm-4-8v7h3V3h-3zm-1-1h5v9h-5V2zM8 19h3v-7H8v7zm-1-8h5v9H7v-9z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M11 5h3v12h5V8h3v13h1V7h-5v9h-3V4h-5v18H7v-5H6v6h5z"/></svg>'},function(t,e){t.exports=function(t,e,i,o,n){_gaq.push(["_trackTiming",t,e,i,o,n])}},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(80),r=function(t){function e(e){var i=t.call(this)||this;return i._source=e,i}return o.__extends(e,t),e.prototype._updateRendererData=function(t){t.visible=!1;var e=this._source.lastValueData("close",!1);e.noData||(t.background=e.color,t.color=this.generateTextColor(e.color),t.coordinate=e.coordinate,t.floatCoordinate=e.floatCoordinate,t.text=e.text,t.visible=!0)},e}(n.PriceAxisView),e.OverlayPriceAxisView=r},function(t,e,i){"use strict";function o(t,e,i,o){this._symbolLabelView=new r(t,this,"compare","symbol","showSymbolLabels"),TradingView.Study.call(this,t,e,i,o);var n=this;this._properties.minTick.listeners().subscribe(null,function(){n._createFormatter()}),this.properties().minTick.listeners().subscribe(null,function(){n._model.invalidate(new s(s.FULL_UPDATE))}),this._properties.merge({skipHistogramBaseOnAutoScale:!0})}var n=i(182).DataVendorStudyDataWindowView,r=i(181),s=i(40),a=i(16).PriceFormatter,l=i(2).propertyPages;inherit(o,TradingView.Study),o.prototype.createPlotLabels=function(t){},o.prototype._showLastValueOnPriceScale=function(){return this._model.properties().scalesProperties.showSeriesLastValue.value()},o.prototype.createViews=function(){this._dataWindowView||(this._dataWindowView=new n(this,this._model)),TradingView.Study.prototype.createViews.call(this),this._paneViews.push(this._symbolLabelView)},o.prototype._createFormatter=function(){var t,e,i,o,n,r=this.properties().inputs.symbol.value(),s=this._resolvedSymbols?this._resolvedSymbols[r]:null;"default"===this.properties().minTick.value()?this._formatter=new a(s?s.pricescale:100,s?s.minmov:1,!!s&&s.fractional):(t=this.properties().minTick.value(),e=isNumber(t)?["100","1","false"]:t.split(","),i=parseInt(e[0]),o=parseInt(e[1]),n="true"===e[2],this._formatter=new a(i,o,n)),this.priceScale()&&this.priceScale().updateFormatter()},o.prototype.symbol=function(){var t,e=this.properties().inputs.symbol.value(),i=this._resolvedSymbols?this._resolvedSymbols[e]:null;return t=i?i.name:e,t.toUpperCase()},o.prototype.title=function(t){var e,i=this.properties().inputs.symbol.value(),o=this._resolvedSymbols?this._resolvedSymbols[i]:null;return o?(e=o.name,o.exchange&&0!==o.exchange.length&&(e+=", "+o.exchange)):e=i,e.toUpperCase()},o.prototype.symbolInfo=function(){if(!this._resolvedSymbols)return null;var t=this._properties.inputs.symbol.value();return t?this._resolvedSymbols[t]:null},o.prototype.lastPriceLabelFixedCoordinate=function(){return this._priceAxisViews[0]._fixedCoordinate},o.prototype.tags=function(){var t=this.symbol();return t?[t]:[]},o.prototype.getInputsPropertyPage=function(){return l.StudyCompareInputsPropertyPage},t.exports=o},function(t,e,i){"use strict";function o(t,e,i,o){n.call(this,t,e,i,o)}
var n=i(34).Study,r=i(2).propertyPages;inherit(o,n),o.prototype.getStylesPropertyPage=function(){return r.VolumePropertyPage},e.study_Volume=o},function(t,e,i){"use strict";function o(t,e,i,o){s.call(this,t,e,i,o)}var n=i(9).assert,r=i(10).clone,s=i(34).Study,a=i(24).PlotList;inherit(o,s),o.prototype.clearData=function(){s.prototype.clearData.call(this),this._underlyingData=new a(this._plotFields)},o.prototype._mergeData=function(t){var e,i;return this._invalidateLastNonEmptyPlotRowCache(),e=this._underlyingData.firstIndex(),this._underlyingData.merge(t),e!==this._underlyingData.firstIndex()&&(this.m_data=new a(this._underlyingData.plotNames())),i=this.m_data.lastIndex(),this._underlyingData.range(i,this._underlyingData.lastIndex()).each(function(t,e){return this.m_data.add(t,r(e)),!1}.bind(this)),this._plotsForStrategyProcessing().forEach(function(t){this._createStrategy(t.strategy,t.strategyIndex,t.targetIndex,i).rebuildData(this.m_data)},this),this.m_data},o.prototype._plotsForStrategyProcessing=function(){var t=["dataoffset"],e=[];return this._metaInfo.plots.forEach(function(i,o){var r,s;t.indexOf(i.type)>-1&&(r=null,this._metaInfo.plots.forEach(function(t,e){t.id===i.target&&(r=e)}),n(r>=0,"target plot not found for strategy plot "+i.id),s={strategy:i.type,strategyIndex:o,targetIndex:r},e.push(s))},this),e},o.prototype._createStrategy=function(t,e,i,n){return new o["Strategy_"+t](e,i,n)},o.Strategy_dataoffset=function(t,e,i){this._strategyPlotIndex=t,this._targetPlotIndex=e,this._startIndex=i},o.Strategy_dataoffset.prototype.rebuildData=function(t){var e=this._targetPlotIndex+1,i=this._strategyPlotIndex+1,o=null,n=null;t.range(this._startIndex||t.firstIndex(),t.lastIndex()).each(function(r,s){var a,l,c,h=s[e],d=s[i]?Math.round(s[i]):null;return s[e]=null,s[i]=null,!(!d||d>0)&&(a=r+d,l={pointIndex:a,value:h},n?n.pointIndex!==l.pointIndex&&(a>=0&&(t.valueAt(a)[e]=h),c=!1,o&&(c=o.value<=n.value&&n.value<=h||o.value>=n.value&&n.value>=h),c?n.pointIndex>=0&&(t.valueAt(n.pointIndex)[e]=null):o=n,n=l):n=l,!1)})},t.exports=o},function(t,e,i){"use strict";function o(t,e,i){n.call(this,t,e,i)}var n=i(160).LineStudyMtp;inherit(o,n),o.prototype._mtpStudyId=function(){return"mtp_tsanalysis"},o.prototype.pointsCount=function(){return 1},o.prototype._studyInputs=function(){var t,e,i=this.points();return i.length<this.pointsCount()?null:(t=i[0].index,e=this._model.mainSeries().bars().valueAt(t),null===e?null:[this.properties().inputs.displayZoneLabels.value(),1e3*e[TradingView.TIME_PLOT],this.properties().inputs.account_size.value(),this.properties().inputs.percent_risk.value(),this.properties().inputs.tickEntryOffset.value(),this.properties().inputs.tickStopOffset.value(),this.properties().inputs.minRRRatio.value(),this.properties().inputs.shouldFilterWPTZones.value(),this.properties().inputs.shouldFilterSTFTrends.value()])},t.exports=o},function(t,e,i){"use strict";function o(t,e,i){n.call(this,t,e,i),this._symbolIntervalChanged=!1,this._model.mainSeries().onSymbolIntervalChanged().subscribe(this,this.onSymbolIntervalChanged)
}var n=i(160).LineStudyMtp;inherit(o,n),o.prototype._mtpStudyId=function(){return"mtp_decisionpoint"},o.prototype.onSymbolIntervalChanged=function(){this._symbolIntervalChanged=!0},o.prototype.pointsCount=function(){return 1},o.prototype._studyInputs=function(){var t,e,i=this.points();return i.length<this.pointsCount()?null:(t=i[0].index,e=this._model.mainSeries().bars().valueAt(t),null===e?null:[this.properties().inputs.displayZoneLabels.value(),this._symbolIntervalChanged,1e3*e[TradingView.TIME_PLOT]])},o.prototype.onData=function(t){n.prototype.onData.call(this,t),this._symbolIntervalChanged=!1},t.exports=o},function(t,e,i){"use strict";function o(t,e,i){n.call(this,t,e,i)}var n=i(160).LineStudyMtp;inherit(o,n),o.prototype._mtpStudyId=function(){return"mtp_riskreward"},o.prototype.pointsCount=function(){return 3},o.getTooltipText=function(t){return t&&0!==t._points.length?1===t._points.length?"Select Stop Bar":2===t._points.length?"Select Target Point":null:"Select Entry Setup Bar"},o.prototype._studyInputs=function(){var t,e,i,o,n,r,s=this.points();return s.length<this.pointsCount()?null:(t=s[0].index,e=s[1].index,i=s[2].index,o=this._model.mainSeries().bars().valueAt(t),n=this._model.mainSeries().bars().valueAt(e),r=this._model.mainSeries().bars().valueAt(i),null===o||null===n||null===r?null:[1e3*o[TradingView.TIME_PLOT],1e3*n[TradingView.TIME_PLOT],1e3*r[TradingView.TIME_PLOT],s[2].price,this.properties().inputs.account_size.value(),this.properties().inputs.percent_risk.value(),this.properties().inputs.tickEntryOffset.value(),this.properties().inputs.tickStopOffset.value()])},t.exports=o},function(t,e,i){"use strict";(function(e,o){function n(t,i){var o=this;g.call(this),this._properties=i,this._model=t,this._dataWindowView=new d(this,t),this._priceAxisView=new h(this),this._menuView=new k(this,t),this._startMeasurePriceAxisView=new h(this),this._endMeasurePriceAxisView=new h(this),this._timeAxisView=new u(this,t),this._startMeasureTimeAxisView=new u(this,t,"measureStartX"),this._endMeasureTimeAxisView=new u(this,t,"measureEndX"),this.visible=!0,t.readOnly()?this.areLinesVisible=!0:m.cursorTool.subscribe(function(t){o.areLinesVisible="arrow"!==t},{callWithLast:!0}),this._movedDelegate=new e,this._subscribed=!1,this._model.readOnly()&&(this.visibleTrap=!0),this._selectBarMode=new L(!1),this._barSelectedDelegate=new e,this._mouseClickBoundedHandler=this._mouseClickHandler.bind(this),this._isOnHoveredChartWidget=!1}function r(t,e){this._source=t,this._pane=e,this._pipFormatter=null,this._lastSymbolInfo=null,this._horzTrenRenderer=new p,this._vertTrenRenderer=new p,this._bgRenderer=new _,this._labelRenderer=new f({})}function s(t,e,i,o){this.source=t,this.pane=e,this._horzVisible=i,this._mouseClickHandler=o}function a(t,e,i){this.source=t,this.pane=e,this._axis=i||"x"}
var l=i(8).Point,c=i(1).LineDataSource,h=i(876).CrossHairPriceAxisView,d=i(877),u=i(878),p=i(114).TrendLineRenderer,f=i(177).TextRenderer,_=i(551).RectangleRenderer,g=i(52).DataSource,m=i(110),v=i(879).PaneRendererCrossHair,y=i(880).PaneRendererCrossHairLock,b=i(41).CompositeRenderer,w=i(40),S=i(73).PercentageFormatter,T=i(574).TimeSpanFormatter,x=i(564).PipFormatter,P=i(33),C=i(91).LineEnd,M=i(172),k=i(881),L=i(22);inherit(n,g),n.prototype.index=0,n.prototype.price=NaN,n.prototype.pane=null,n.prototype.color="white",n.prototype.style="",n.prototype.customization={disableSelection:!0},n.prototype.properties=function(){return this._properties},n.prototype.moved=function(){return this._movedDelegate},n.prototype.saveOriginCoord=function(t,e){this._originX=t,this._originY=e},n.prototype.clearOriginCoord=function(){this._originX=NaN,this._originY=NaN},n.prototype.setPosition=function(t,e,i){this._subscribed||(this._model.mainSeries().onRestarted().subscribe(this,n.prototype.clearMeasure),this._subscribed=!0),this.setLockedPosition(i),this.visible=!0,this._tryToUpdateViews(t,e,i)},n.prototype.update=function(){var t,e,i,o,n;this.visible&&(t=this._priceScaleByPane(this.pane),e=this._originX||this.x,i=this._originY||this.y,o=this._model.timeScale().coordinateToIndex(e),n=NaN,null!==t&&(n=t.coordinateToPrice(i)),this._tryToUpdateViews(o,n,this.pane))},n.prototype._priceScaleByPane=function(t){return t&&!t.defaultPriceScale().isEmpty()?t.defaultPriceScale():null},n.prototype._tryToUpdateViews=function(t,e,i){this._tryToUpdateData(t,e,i)&&(this.updateAllViews(),this._movedDelegate.fire({time:this._model.timeScale().points().roughTime(this.index),price:this.price}))},n.prototype._tryToUpdateData=function(t,e,i){var o=this.x,n=this.y,r=this.price,s=this.index,a=this.pane,l=this._priceScaleByPane(i);return this.index=t,this.x=this._model.timeScale().indexToCoordinate(t),null!==l?(this.pane=i,this.price=e,this.y=l.priceToCoordinate(e)):(this.pane=null,this.price=NaN,this.y=NaN),o!==this.x||n!==this.y||s!==this.index||r!==this.price||a!==this.pane},n.prototype.setLockedPosition=function(t){delete this.lockedIndex,delete this.lockedX,t!==this._measurePane&&m.lockTimeAxis().value()&&(this.lockedIndex=this._model.timeScale().points().roughIndex(m.lockTimeAxisTime.value()),this.lockedX=this._model.timeScale().indexToCoordinate(this.lockedIndex))},n.prototype.clearPosition=function(){this.visible=!1;var t=this._model.mainSeries().bars().lastIndex();this.index=null!==t?t:NaN,this.price=NaN,this.x=NaN,this.y=NaN,this.clearOriginCoord()},n.prototype.measureStartY=function(){var t,e=this._startMeasurePoint.price,i=this._measurePane;return i.defaultPriceScale().isPercent()&&(t=i.mainDataSource().firstValue(),e=i.defaultPriceScale().priceRange().convertToPercent(e,t)),i.defaultPriceScale().priceToCoordinate(e)},n.prototype.measureStartX=function(){return this._model.timeScale().indexToCoordinate(this._startMeasurePoint.index)},n.prototype.measureEndY=function(){var t,e=this._endMeasurePoint.price,i=this._measurePane
;return i.defaultPriceScale().isPercent()&&(t=i.mainDataSource().firstValue(),e=i.defaultPriceScale().priceRange().convertToPercent(e,t)),i.defaultPriceScale().priceToCoordinate(e)},n.prototype.measureEndX=function(){return this._model.timeScale().indexToCoordinate(this._endMeasurePoint.index)},n.prototype.menuView=function(){return this._model.readOnly()?null:this._menuView},n.prototype.paneViews=function(t){var e,i,n=this._selectBarMode.value()&&this._isOnHoveredChartWidget,l=t===this.pane&&!n,c=[new s(this,t,l,this._mouseClickBoundedHandler)];return t===this._measurePane&&(this._measurePaneView||(this._measurePaneView=new r(this,t)),this._measurePaneView.update(),c.push(this._measurePaneView)),e=t===this.pane,i=!TradingView.isMobile.any()||window.screen.width>=500,e&&this._isOnHoveredChartWidget&&!this._model.readOnly()&&!n&&i&&o.enabled("chart_crosshair_menu")&&c.push(this._menuView),m.lockTimeAxis().value()&&c.push(this._timeLockPaneView=this._timeLockPaneView||new a(this,t)),c},n.prototype.dataWindowView=function(){return this._dataWindowView},n.prototype.priceAxisViews=function(t,e){var i,o;return this.visibleTrap&&this.visible&&this.pane===t&&e===t.defaultPriceScale()?(i=[],o=this._selectBarMode.value()&&this._isOnHoveredChartWidget,o||i.push(this._priceAxisView),this._startMeasurePoint&&i.push(this._startMeasurePriceAxisView),this._endMeasurePoint&&i.push(this._endMeasurePriceAxisView),i):null},n.prototype.timeAxisView=function(){if(!this.visibleTrap||!this.visible&&!m.lockTimeAxis().value())return null;var t=[this._timeAxisView];return this._startMeasurePoint&&t.push(this._startMeasureTimeAxisView),this._endMeasurePoint&&t.push(this._endMeasureTimeAxisView),t},n.prototype.updateAllViews=function(){this._priceAxisView.update(),this._startMeasurePoint&&(this._startMeasurePriceAxisView.update(),this._startMeasureTimeAxisView.update()),this._endMeasurePoint&&(this._endMeasurePriceAxisView.update(),this._endMeasureTimeAxisView.update()),this._timeAxisView.update()},n.prototype.startMeasurePoint=function(){return this._startMeasurePoint},n.prototype.startMeasuring=function(t,e){if(e.defaultPriceScale().isPercent()){var i=e.mainDataSource().firstValue();t.price=e.defaultPriceScale().priceRange().convertFromPercent(t.price,i)}this._startMeasurePoint=t,this._measurePane=e},n.prototype.finishMeasure=function(t){var e,i=this._measurePane;i.defaultPriceScale().isPercent()&&(e=i.mainDataSource().firstValue(),t.price=i.defaultPriceScale().priceRange().convertFromPercent(t.price,e)),this._endMeasurePoint=t},n.prototype.endMeasurePoint=function(){return this._endMeasurePoint},n.prototype.clearMeasure=function(t){delete this._measurePane,delete this._startMeasurePoint,delete this._endMeasurePoint,delete this._lastValidMeasurePoint,this._model.invalidate(new w(w.LIGHT_UPDATE))},n.prototype.measurePoints=function(){var t,e,i,o,n;return this.updateAllViews(),t=[this._startMeasurePoint],this._endMeasurePoint?t.push(this._endMeasurePoint):(this._measurePane===this.pane&&(this._lastValidMeasurePoint={x:this.x,y:this.y,
rawPrice:this.price,price:this.price,index:this.index}),e=this._lastValidMeasurePoint.rawPrice,i=this._measurePane,o=i.defaultPriceScale(),o.isPercent()&&!o.isEmpty()&&(n=i.mainDataSource().firstValue(),this._lastValidMeasurePoint.price=o.priceRange().convertFromPercent(e,n)),t.push(this._lastValidMeasurePoint)),t},n.prototype.currentPoint=function(){return new l(this.x,this.y)},n.prototype.appliedIndex=function(){return isFinite(this.lockedIndex)&&this.lockedIndex||this.index},n.prototype.appliedX=function(){return isFinite(this.lockedX)&&this.lockedX||this.x},n.prototype.selectBarMode=function(){return this._selectBarMode},n.prototype.toggleSelectBarMode=function(){this._setSelectBarModeState(!this._selectBarMode.value())},n.prototype.onBarSelected=function(){return this._barSelectedDelegate},n.prototype._setSelectBarModeState=function(t){this._selectBarMode.setValue(t),this._model.invalidate(new w(w.LIGHT_UPDATE))},n.prototype._mouseClickHandler=function(){var t;this._model.mainSeries().bars().contains(this.index)&&null!==(t=this._model.timeScale().indexToTimePoint(this.index))&&(this._setSelectBarModeState(!1),this._barSelectedDelegate.fire(t))},n.prototype.handleContextMenuEvent=function(){this._selectBarMode.value()&&this._setSelectBarModeState(!1)},n.prototype.setOnHoveredChartWidget=function(t){this._isOnHoveredChartWidget=t},n.prototype.isOnHoveredChartWidget=function(){return this._isOnHoveredChartWidget},r.prototype.update=function(){var t,e,i,o,n,r,s,a,c,h,d,u,p,f,_,g,m,v;if(this._source._endMeasurePoint)t=this._source._endMeasurePoint.price,e=this._source._endMeasurePoint.index;else if(this._source._measurePane===this._source.pane)t=this._source.price,e=this._source.index;else{if(!this._source._lastValidMeasurePoint)return;t=this._source._lastValidMeasurePoint.rawPrice,e=this._source._lastValidMeasurePoint.index}i=t-this._source._startMeasurePoint.price,o=e-this._source._startMeasurePoint.index,n=this._source._startMeasurePoint.price,r=this._source._measurePane,r.defaultPriceScale().isPercent()&&(s=r.mainDataSource().firstValue(),this._source._endMeasurePoint&&(t=r.defaultPriceScale().priceRange().convertToPercent(t,s)),n=r.defaultPriceScale().priceRange().convertToPercent(n,s)),a=this._source._measurePane.defaultPriceScale().formatter().format(i),this._source._startMeasurePoint.price&&(c=i/this._source._startMeasurePoint.price,a+=" ("+(new S).format(100*c)+")"),this._label=a+"\n"+$.t("{0} bars").format(o),n=this._source._model._magnet.align(n,this._source._startMeasurePoint.index,this._source._measurePane),t=this._source._model._magnet.align(t,e,this._source._measurePane),h=this._source._model.timeScale().indexToCoordinate(this._source._startMeasurePoint.index),d=this._source._model.timeScale().indexToCoordinate(e),u=this._source._measurePane.defaultPriceScale().priceToCoordinate(n),p=this._source._measurePane.defaultPriceScale().priceToCoordinate(t),this._p1=new l(h,u),this._p2=new l(d,p),f=this._source._model.timeScale().indexToUserTime(this._source._startMeasurePoint.index),
_=this._source._model.timeScale().indexToUserTime(e),g=this._pane.model().mainSeries().symbolInfo(),g&&g!==this._lastSymbolInfo&&(this._pipFormatter=new x(g.pricescale,g.minmov,g.type,g.minmove2),this._lastSymbolInfo=g),f&&_&&(m=(_.valueOf()-f.valueOf())/1e3,v=this._pipFormatter?" , "+this._pipFormatter.format(i):"",this._label=""+a+v+"\n"+$.t("{0} bars").format(o)+", "+(new T).format(m))},r.prototype.renderer=function(){var t,e,i,o,n,r,s,a,c,h,d,u,p=new b,f={};return f.points=[this._p1,this._p2],f.width=this._source._model.timeScale().width(),f.height=this._source._measurePane.defaultPriceScale().height(),f.color="#D3E7FF",f.linewidth=0,f.fillBackground=!0,f.transparency=60,f.backcolor="#BADAFF",this._bgRenderer.setData(f),p.append(this._bgRenderer),t=this._p1.add(this._p2).scaled(.5),e=new l(this._p1.x,t.y),i=new l(this._p2.x,t.y),o={points:[e,i],width:f.width,height:f.height,color:"#363c4e",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED,extendleft:!1,extendright:!1,leftend:C.Normal,rightend:C.Arrow},this._horzTrenRenderer.setData(o),p.append(this._horzTrenRenderer),e=new l(t.x,this._p1.y),i=new l(t.x,this._p2.y),o={points:[e,i],width:f.width,height:f.height,color:"#363c4e",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED,extendleft:!1,extendright:!1,leftend:C.Normal,rightend:C.Arrow},this._vertTrenRenderer.setData(o),p.append(this._vertTrenRenderer),n={x:0,y:10},r=function(t,e){return{points:[e],text:t,color:"#FFFFFF",horzAlign:"left",vertAlign:"middle",font:"Arial",offsetX:n.x,offsetY:n.y,bold:!1,italic:!1,fontsize:12,padding:5,highlightBorder:!1,backgroundColor:P.generateColor("#5b85bf",10),backgroundTransparency:10,backgroundVertInflate:5,backgroundHorzInflate:5,backgroundRoundRect:4}},s=.5*(this._p1.x+this._p2.x),a=this._p2.y,c=new l(s,a),h=r(this._label,c),this._labelRenderer.setData(h),d=this._labelRenderer.measure(),u={x:s+h.backgroundHorzInflate+d.textBgPadding-d.width/d.textBgPadding,y:this._p1.y>this._p2.y?c.y-d.height-2*d.textBgPadding-n.y>0?a-d.height-n.y+d.textBgPadding:n.y-2*d.textBgPadding:c.y+d.height+d.textBgPadding+n.y>f.height?f.height-d.height-n.y:a+d.textBgPadding},this._labelRenderer.setPoints([new l(u.x,u.y)]),p.append(this._labelRenderer),p},s.prototype.update=function(){},s.prototype.renderer=function(){var t,e,i,o,n,r,s={},a=this.source.visible&&this.source.areLinesVisible,l=m.lockTimeAxis().value();return s.horzLinesVisible=a&&this._horzVisible,s.vertLinesVisible=a||l,t=this.pane._model.readOnly(),e=t?defaults("chartproperties.paneProperties.crossHairProperties"):null,i=this.source.selectBarMode().value()&&this.source.isOnHoveredChartWidget(),o=TradingView.isMobile.any()&&c.isLineTool(this.source._model.currentTool())&&!i,n=o?"#a000a0":t?e.color:this.pane._model.properties().paneProperties.crossHairProperties.color.value(),r=t?e.transparency:this.pane._model.properties().paneProperties.crossHairProperties.transparency.value(),!o&&r>0&&(n=P.generateColor(n,r)),s.color=n,s.lineWidth=t?e.width:this.pane._model.properties().paneProperties.crossHairProperties.width.value(),
s.lineStyle=t?e.style:this.pane._model.properties().paneProperties.crossHairProperties.style.value(),s.drawCenter=o&&this.pane===this.source.pane,s.w=this.pane.width(),s.h=this.pane.height(),s.x=isFinite(this.source.lockedX)&&this.source.lockedX||this.source.x,s.y=this.source.y,i&&(s.x=Math.max(0,this.source.x-1),s.vertLinesVisible=!0,s.lineStyle=M.LINESTYLE_SOLID,s.mouseClickHandler=this._mouseClickHandler,s.lineWidth=2,s.color="#ff0000"),new v(s)},a.prototype.update=function(){},a.prototype.renderer=function(){var t,e,i,o,n=this.source.visible&&this.source.areLinesVisible,r=m.lockTimeAxis().value(),s=n&&this._horzVisible,a=n||r;if(("y"!==this._axis||s)&&a)return t=9,e=11,i="y"===this._axis?this.pane.width()-t/2:this.source.lockedX+1,o="y"===this._axis?this.source.y:this.pane.height()-e/2-1,new y({x:i,y:o,width:t,height:e,bodyHeight:7})},t.exports=n}).call(e,i(4),i(3))},function(t,e,i){"use strict";var o,n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(80),r=i(16),s=function(t){function e(e){var i=t.call(this)||this;return i._defaultFormatter=new r.PriceFormatter(100),i._background="#585858",i._source=e,i}return o.__extends(e,t),e.prototype._updateRendererData=function(t){var e,i,o,n;t.visible=!1,null!==(e=this._source.pane)&&(i=e.defaultPriceScale(),this._source.visible&&!i.isEmpty()&&(n=i.mainSource(),o=n?n.formatter():this._defaultFormatter,t.background=this._background,t.color=this.generateTextColor(this._background),t.coordinate=this._source.y,t.text=o.format(this._source.price),t.visible=!0))},e}(n.PriceAxisView),e.CrossHairPriceAxisView=s},function(t,e,i){"use strict";function o(t,e){r.call(this),this._header=null,this._crossHair=t,this._model=e,this._items.push(new s("Date","")),this._items.push(new s("Time","")),this._items.push(new s("Price","")),this._defaultFormatter=new a(100)}var n=i(157),r=n.DataWindowView,s=n.DataWindowItem,a=i(16).PriceFormatter,l=i(272).DateFormatter,c=i(229).TimeFormatter;inherit(o,r),o.prototype.update=function(){var t,e,i,o,n,r,s=this._model.mainSeries().isDWM();this._items[1].setVisible(!s),this._items[0].setValue("n/a"),this._items[1].setValue("n/a"),this._items[2].setValue("n/a"),this._model.timeScale().isEmpty()||(t=this._crossHair.appliedIndex(),e=this._model.timeScale().indexToUserTime(t),null===e?(this._items[0].setValue("n/a"),s||this._items[1].setValue("n/a")):(this._items[0].setValue((new l).format(e)),s||this._items[1].setValue((new c).format(e))),(i=this._crossHair.pane)&&(o=i.defaultPriceScale(),o.isEmpty()||(n=o.mainSource(),r=n?n.formatter():this._defaultFormatter,this._items[2].setValue(r.format(this._crossHair.price)))))},t.exports=o},function(t,e,i){"use strict";function o(t,e){n.call(this),this._invalidated=!0,this._crosshair=t,this._model=e,this._renderer=new r,this._rendererData={visible:!1,background:"#585858",color:"white",text:"",width:0}}var n=i(279).TimeAxisView,r=i(280),s=i(184).DateTimeFormatter;inherit(o,n),o.prototype.update=function(){this._invalidated=!0},o.prototype._updateImpl=function(){var t,e,i=this._rendererData
;i.visible=!1,t=this._model.timeScale(),t.isEmpty()||(i.width=t.width(),i.coordinate=this._crosshair.appliedX(),(e=t.indexToUserTime(this._crosshair.appliedIndex()))&&(i.text=new s(this._model.mainSeries().isDWM()).format(e),i.visible=!0))},o.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer.setData(this._rendererData),this._renderer},t.exports=o},function(t,e,i){"use strict";function o(t){this.data=t}var n=i(11);o.prototype.draw=function(t){var e,i,o,n,r,s=this.data.vertLinesVisible,a=this.data.horzLinesVisible;(s||a)&&this.data&&(t.lineStyle=this.data.lineStyle,t.lineWidth=this.data.lineWidth,t.strokeStyle=this.data.color,e=this.data.lineWidth%2==0?.5:0,i=this.data.x+1+e,o=this.data.y+e,n=this.data.w,r=this.data.h,s&&i>=0&&CanvasEx.drawLine(t,i,0,i,r),a&&o>=0&&CanvasEx.drawLine(t,0,o,n,o),this.data.drawCenter&&(t.beginPath(),t.arc(i,o,3,0,2*Math.PI,!0),t.fillStyle=this.data.color,t.fill()))},o.prototype.hitTest=function(t){return this.data.mouseClickHandler?new n(n.CUSTOM,{mouseClickHandler:this.data.mouseClickHandler}):null},e.PaneRendererCrossHair=TradingView.PaneRendererCrossHair=o},function(t,e,i){"use strict";function o(t){this._data=t}o.prototype._drawShackle=function(t){var e=this._data.width-3,i=e/2,o=this._data.height-this._data.bodyHeight;t.moveTo(1.5,i),t.arc(this._data.width/2,i,i,Math.PI,2*Math.PI),o>i&&(t.moveTo(1.5,i),t.lineTo(1.5,o),t.moveTo(this._data.width-1.5,i),t.lineTo(this._data.width-1.5,o))},o.prototype.draw=function(t){var e,i,o,n;t.translate(this._data.x-this._data.width/2,this._data.y-this._data.height/2),e="rgba(153,153,153,.3)",i="rgba(153,153,153,.7)",o="#777",n="rgba(255,255,255,.7)",t.strokeStyle=e,t.lineWidth=2,t.beginPath(),this._drawShackle(t),t.stroke(),t.closePath(),t.strokeStyle=i,t.lineWidth=1,t.beginPath(),t.rect(0,this._data.height-this._data.bodyHeight+.5,this._data.width,this._data.bodyHeight),t.closePath(),t.stroke(),t.translate(0,-1),t.strokeStyle=o,t.beginPath(),this._drawShackle(t),t.stroke(),t.closePath(),t.fillStyle=n,t.beginPath(),t.rect(1,this._data.height-this._data.bodyHeight+1.5,this._data.width-2,this._data.bodyHeight-2),t.fill(),t.beginPath(),t.rect(.5,this._data.height-this._data.bodyHeight+1,this._data.width-1,this._data.bodyHeight-1),t.stroke(),t.closePath(),t.fillStyle=o,t.fillRect(this._data.width/2-.5,this._data.height-this._data.bodyHeight/2,1,2)},e.PaneRendererCrossHairLock=TradingView.PaneRendererCrossHairLock=o},function(t,e,i){"use strict";(function(o){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w;Object.defineProperty(e,"__esModule",{value:!0}),s=Object.assign||function(t){var e,i,o;for(e=1;e<arguments.length;e++){i=arguments[e];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),
Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=i(8),c=i(70),h=i(11),d=n(h),u=i(550),p=i(511),f=i(154),_=n(f),g=i(20),m=i(191),v=i(256),y=i(505),b=function(){function t(e){r(this,t),Object.assign(this,e)}return a(t,[{key:"hitTest",value:function(t){if(this.left&&(0,c.pointInRectangle)(t,new l.Point(this.xl,this.y),new l.Point(this.xl+this.containerWidth,this.y+this.containerHeight))||this.right&&(0,c.pointInRectangle)(t,new l.Point(this.xr,this.y),new l.Point(this.xr+this.containerWidth,this.y+this.containerHeight)))return new d.default(d.default.CUSTOM,{mouseDownHandler:this.mouseDownHandler.bind(this,t),tooltip:this.tooltip})}},{key:"drawPlus",value:function(t,e,i,o,n,r,s,a){t.fillStyle=this.background,t.fillRect(e,i,o,n),t.strokeStyle=this.color,t.beginPath(),t.moveTo(e+a,this.crossHeirY),t.lineTo(e+r,this.crossHeirY),t.moveTo(e+a+s,this.crossHeirY-s),t.lineTo(e+a+s,this.crossHeirY+s),t.stroke()}},{key:"draw",value:function(t){this.right&&this.drawPlus(t,this.xr,this.y,this.containerWidth,this.containerHeight,this.fontSize,this.plusSize,this.horzPadding),this.left&&this.drawPlus(t,this.xl,this.y,this.containerWidth,this.containerHeight,this.fontSize,this.plusSize,this.horzPadding)}}]),t}(),w=function(){function t(e,i){r(this,t),this._ch=e,this._model=i,this._data={background:"#585858",color:"white"},this._currMainDataSourceId=null,this._hasActions=!1,this._tooltipText=null,this._gaOrigin="CH menu"}return a(t,[{key:"update",value:function(){var t,e,i,o,n=this._ch.y,r=this._model.properties().scalesProperties.fontSize.value(),a=this._model.timeScale().width(),l=Math.floor(r/4.5),c=Math.ceil(r/4.5),h=Math.ceil(r/3),d=(r-h)/2,u=r+l+c,p=r+h,f=n-Math.floor(r/2)-l-.5,_=a-p-.5,g=this._ch.pane;g&&g.mainDataSource()&&g.mainDataSource().idForAlert()!==this._currMainDataSourceId&&(this._currMainDataSourceId=g.mainDataSource().idForAlert(),this._hasActions=this._hasAvailableActions(g.mainDataSource()),this._tooltipText=this._getTooltipText(g.mainDataSource())),t=g&&null!==g.m_leftPriceScale.mainSource()&&this._hasActions,e=g&&null!==g.m_rightPriceScale.mainSource()&&this._hasActions,i=a-p/2,o=this._tooltipText?{text:this._tooltipText,rect:{x:i,y:f,w:0,h:0}}:null,this._data=s({},this._data,{left:t,right:e,xl:-.5,xr:_,y:f,containerWidth:p,containerHeight:u,crossHeirY:n,fontSize:r,plusSize:d,horzPadding:h,mouseDownHandler:this._handleMouseDown.bind(this),tooltip:o})}},{key:"renderer",value:function(){return this.update(),new b(this._data)}},{key:"_hasAvailableActions",value:function(t){return this._canCreateAlert(t)||this._canTrade(t)}},{key:"_getTooltipText",value:function(t){return this._canCreateAlert(t)&&!this._canTrade(t)?$.t("Add Alert"):null}},{key:"_canCreateAlert",value:function(t){return this._model.canCreateAlertForDataSource(t)}},{key:"_canTrade",value:function(t){return t===this._model.mainSeries()&&(0,m.tradingService)()}},{key:"_handleMouseDown",value:function(t,e){var i,n,r,s,a,l,c,h=this
;return o.enabled("widget")&&o.enabled("referral_program_for_widget_owners")?void(0,y.showGoToTradingViewReferralDialog)({feature:"plusMenu"}).open():((0,g.trackEvent)(this._gaOrigin,"click"),i=e.localY,n=this._ch.pane.mainDataSource(),r=(0,m.tradingService)(),s=n===this._model.mainSeries()&&r,a=[],(l=this._model.canCreateAlertForDataSource(n))&&!s?(c=this._getValue(n,i),void this._addAlert(c,n)):(l&&a.push(this._getActionAddAlert(n,i)),void(s&&(a.length&&a.push({separator:!0}),(0,p.createTradeContext)(n,i).then(function(t){return r.chartContextMenuActions(t,{onlyMainActions:!0,gaOrigin:h._gaOrigin,moreEvents:!0})}).then(function(i){r.trackEvent(h._gaOrigin,"click");var o=(0,u.convertActionDescriptionsToActions)(a);o=o.concat(i),h._showContextMenu(o,t,e)})))))}},{key:"_getActionAddAlert",value:function(t,e){var i=this,o=this._getValue(t,e),n=this._formatValue(o,t);return{text:$.t("Add Alert")+" ("+n+")",action:function(){i._addAlert(o,t)}}}},{key:"_getValue",value:function(t,e){var i,o=t.priceScale(),n=o.coordinateToPrice(e);return o.isPercentage()&&(i=t.firstValue(),n=void 0!==i&&null!==i?o.priceRange().convertFromPercent(n,i):null),n}},{key:"_formatValue",value:function(t,e){return e.formatter().format(t)}},{key:"_addAlert",value:function(t,e){var i=this;runOrSignIn(function(){new v.MakeAlertDialog({series:e,value:t,conditionId:"cross",silent:!0}),(0,g.trackEvent)(i._gaOrigin,"alert")},{source:this._gaOrigin})}},{key:"_showContextMenu",value:function(t,e,i){var o=this;_.default.hideAll(),setTimeout(function(){_.default.createMenu(t,{reverse:o._data.xr&&Math.abs(e.x-o._data.xr)<o._data.containerWidth}).show(i)})}}]),t}(),e.default=w,t.exports=e.default}).call(e,i(3))},function(t,e,i){"use strict";(function(e){function o(t){function i(t,e){var i=t.font;return a.hasOwnProperty(i)||(a[i]={}),a[i].hasOwnProperty(e)||(a[i][e]=t.measureText(e).width),a[i][e]}function o(){var o=s.width(),a=s.height();return{draw:function(s){var c,h,d,u,p,f,_,g=t.symbolInfo();if(g&&!e.enabled("fundamental_widget")){for(s.fillStyle=n.generateColor(l.color.value(),l.transparency.value()),c=g.name,/QUANDL/.test(g.exchange)&&(h=c.split(/\//),h.length&&(c=h[h.length-1])),d=[{text:c?c+", "+r(t.interval()):"",font:"96px Verdana, Arial, sans-serif",lineHeight:114,baselineOffset:87},{text:g.description||"",font:"48px Verdana, Arial, sans-serif",lineHeight:57,baselineOffset:43.5}],u=0,p=0;p<d.length;p++)f=d[p],f.text&&(s.font=f.font,_=i(s,f.text),_>o?(f.zoom=o/_,_=o):f.zoom=1,f.offsetLeft=(o-_)/2,u+=f.lineHeight*f.zoom);for(u=Math.max((a-u)/2,0),p=0;p<d.length;p++)f=d[p],f.text&&(s.save(),s.font=f.font,s.translate(f.offsetLeft,u),s.scale(f.zoom,f.zoom),s.fillText(f.text,0,f.baselineOffset),s.restore(),u+=f.lineHeight*f.zoom)}}}}var s=null,a={},l=t.model().properties().symbolWatermarkProperties,c={renderer:o,update:function(){}};this.paneViews=function(t){return t.containsMainSeries()?(s=t,[c]):[]}}var n=i(33),r=i(217).translatedIntervalString;t.exports=o}).call(e,i(3))},function(t,e,i){"use strict";function o(){this.visible=!0,
this.horzLinesVisible=!0,this.horzLinesColor="white",this.horzLinesStyle="",this.vertLinesVisible=!0,this.vertLinesColor="white",this.vertLinesStyle=""}function n(t,e){this.source=t,this.pane=e,this._renderer=new r}function r(){this.data=null}o.prototype.paneViews=function(t){return[new n(this,t)]},n.prototype.update=function(){},n.prototype.renderer=function(){var t={};return this.pane.defaultPriceScale().isEmpty()||this.pane.timeScale().isEmpty()?null:(t.horzLinesVisible=!0,t.vertLinesVisible=!0,t.horzLinesColor=this.pane._model.properties().paneProperties.horzGridProperties.color.value(),t.vertLinesColor=this.pane._model.properties().paneProperties.vertGridProperties.color.value(),t.horzLineStyle=this.pane._model.properties().paneProperties.horzGridProperties.style.value(),t.vertLineStyle=this.pane._model.properties().paneProperties.vertGridProperties.style.value(),t.priceMarks=this.pane.defaultPriceScale().marks(),t.timeMarks=this.pane.timeScale().marks(),t.w=this.pane.width(),t.h=this.pane.height(),this._renderer.setData(t),this._renderer)},r.prototype.setData=function(t){this.data=t},r.prototype.draw=function(t){var e;if(null!==this.data){if(t.lineWidth=1,this.data.vertLinesVisible){for(t.strokeStyle=this.data.vertLinesColor,CanvasEx.setLineStyle(t,this.data.vertLineStyle),t.beginPath(),e=0;e<this.data.timeMarks.length;e++)t.moveTo(this.data.timeMarks[e].coord+1,0),t.lineTo(this.data.timeMarks[e].coord+1,this.data.h);t.stroke()}if(this.data.horzLinesVisible){for(t.strokeStyle=this.data.horzLinesColor,CanvasEx.setLineStyle(t,this.data.horzLineStyle),t.beginPath(),e=0;e<this.data.priceMarks.length;e++)t.moveTo(0,this.data.priceMarks[e].coord),t.lineTo(this.data.w,this.data.priceMarks[e].coord);t.stroke()}}},t.exports=o},function(t,e,i){"use strict";function o(t,e,i){this._magnetProperty=t,this._timeScale=e}var n=i(145);o.prototype.align=function(t,e,i){var o,r,s,a,l,c,h,d,u,p=50,f=i.defaultPriceScale(),_=f.priceToCoordinate(t),g=t;if(!this._magnetProperty.value())return g;for(o=f.dataSources(),r=null,s=0;s<o.length;s++)if(o[s]instanceof n){r=o[s];break}if(r&&(a=r.bars(),a.contains(e)&&(l=a.valueAt(e),c=[l[TradingView.OPEN_PLOT],l[TradingView.HIGH_PLOT],l[TradingView.LOW_PLOT],l[TradingView.CLOSE_PLOT]],f=r.priceScale(),!f.isEmpty()))){if(h=[],f.isPercent())for(d=r.firstValue(),s=0;s<c.length;s++)c[s]=f.priceRange().convertToPercent(c[s],d);for(s=0;s<c.length;s++)h.push({y:f.priceToCoordinate(c[s]),price:c[s]});h.sort(function(t,e){return Math.abs(t.y-_)-Math.abs(e.y-_)}),u=h[0],Math.abs(u.y-_)<p&&(g=u.price)}return g},t.exports=o},function(t,e,i){"use strict";(function(e){function o(){return[$.t("Jan"),$.t("Feb"),$.t("Mar"),$.t("Apr"),$.t("May"),$.t("Jun"),$.t("Jul"),$.t("Aug"),$.t("Sep"),$.t("Oct"),$.t("Nov"),$.t("Dec")]}function n(t){this._model=t,this._scalesProperties=t.properties().scalesProperties,this.m_width=0,this._baseIndex=null,this._defaultRightOffsetProperty=new _(w),this.m_rightOffset=w,this._defaultRightOffsetProperty.listeners().subscribe(this,function(t){this.setRightOffset(t.value())}),
this.m_points=new d,this._barSpacingChanged=new e,this.m_barSpacing=b,this.m_scrollStartPoint=null,this.m_scaleStartPoint=null,this._commonTransitionStartState=null,this.m_tickmarks=new l,this._locked=!1,this._formattedBySpan={},this._onScroll=new e}var r=i(36).clamp,s=i(495).BarsRange,a=i(284),l=i(886),c=i(40),h=i(16).numberToStringWithLeadingZero,d=i(887).TimePoints,u=i(512),p=i(0).getLogger("Chart.TimeScale"),f=i(3),_=i(37),g=null,m=50,v=f.enabled("high_density_bars")?.025:.5,y=5,b=6,w=5;n.prototype.tickMarks=function(){return this.m_tickmarks},n.prototype.reset=function(){this._visibleBarsCache=null,this.m_points=new d,this.m_scrollStartPoint=null,this.m_scaleStartPoint=null,this._clearCommonTransitionsStartState(),this.m_tickmarks.reset()},n.prototype.restoreDefault=function(){this._visibleBarsCache=null,this.setBarSpacing(b),this.resetRightOffset()},n.prototype.restoreRightOffsetPropertyToDefault=function(){this._defaultRightOffsetProperty.setValue(w)},n.prototype.baseIndex=function(){return this._baseIndex||0},n.prototype.rightOffset=function(){return this.m_rightOffset},n.prototype.defaultRightOffsetProperty=function(){return this._defaultRightOffsetProperty},n.prototype.rightOffsetForTimePoint=function(t){var e=this.timeToCoordinate(t);return null===e?null:this._rightOffsetForCoordinate(e)},n.prototype._rightOffsetForCoordinate=function(t){return(this.m_width+1-t)/this.m_barSpacing},n.prototype.scrollToRealtime=function(t,e){var i,o,n,r,s=this._defaultRightOffsetProperty.value();if(s<0&&(s=w),t)return i=this,o=this.m_rightOffset,n=this.maxRightOffset(),n>0&&s>n&&(s=n),r=this._model,void $({offset:o}).animate({offset:s},{duration:1e3,easing:"easeInOutQuint",complete:e,step:function(t){i._visibleBarsCache=null,i.m_rightOffset=t,r.recalculateAllPanes(),r.invalidate(new c(c.LIGHT_UPDATE)),r.recalcVisibleRangeStudy(r.dataSources())}});this._visibleBarsCache=null,this.m_rightOffset=s,this._correctOffset(),void 0!==e&&e()},n.prototype.points=function(){return this.m_points},n.prototype.width=function(){return this.m_width},n.prototype.setWidth=function(t){if(isFinite(t)&&!(t<=0)&&this.m_width!==t){if(this._visibleBarsCache=null,this._locked&&this.m_width){var e=this.m_barSpacing*t/this.m_width;this._tryToUpdateBarSpacing(this.m_barSpacing,e)}this.m_width=t,this._correctOffset()}},n.prototype.barSpacing=function(){return this.m_barSpacing},n.prototype.setBarSpacing=function(t){if(void 0===t)return void p.logDebug("setBarSpacing: invalid argument");this._tryToUpdateBarSpacing(this.m_barSpacing,t)&&this._correctOffset()},n.prototype._tryToUpdateBarSpacing=function(t,e){return t!==e&&(this._visibleBarsCache=null,this.m_barSpacing=e,this._barSpacingChanged.fire(t,e),!0)},n.prototype.barSpacingChanged=function(){return this._barSpacingChanged},n.prototype.correctBarSpacing=function(){this.isEmpty()||this.points().size()<this.width()/this.barSpacing()&&(this.setRightOffset(w),this.setBarSpacing(Math.min(this.width()/(this.points().size()+this.rightOffset()),m)))},n.prototype.visibleBars=function(){var t,e,i,o,n
;return this._visibleBarsCache?this._visibleBarsCache:this.isEmpty()?null:(t=this.baseIndex(),e=Math.ceil(this.m_width/this.m_barSpacing)-1,i=Math.round(this.m_rightOffset+t),o=i-e,n=new s(o,i),this._visibleBarsCache=n,n)},n.prototype.isEmpty=function(){return 0===this.m_width||0===this.m_points.size()},n.prototype.indexToCoordinate=function(t,e){var i,o,n;return this.isEmpty()?0:TradingView.isInteger(t)?(i=this.baseIndex(),o=i+this.m_rightOffset-t,n=this.m_width-(o+.5)*this.m_barSpacing,e?n:Math.round(n)):0},n.prototype.barIndexesToCoordinates=function(t){var e,i,o,n,r=this.baseIndex();for(e=0;e<t.length;e++)i=t[e].time,o=r+this.m_rightOffset-i,n=this.m_width-(o+.5)*this.m_barSpacing,t[e].time=Math.round(n),t[e].exactTime=n},n.prototype.indexesToCoordinates=function(t){var e,i,o,n=this.baseIndex(),r=n+this.m_rightOffset,s=this.m_width-r*this.m_barSpacing-.5*this.m_barSpacing;for(e=0;e<t.length;e++)i=t[e].x,o=s+i*this.m_barSpacing,t[e].x=Math.round(o)},n.prototype.coordinateToIndex=function(t){var e=this._rightOffsetForCoordinate(t),i=this.baseIndex(),o=i+this.m_rightOffset-e,n=Math.round(1e6*o)/1e6;return Math.ceil(n)},n.prototype.timeToCoordinate=function(t){function e(t){return t<=0||t>=l.m_width}var i,o,n,r=this.m_points.closestIndexLeft(t),s=this.m_points.valueAt(r),a=this.indexToCoordinate(r,!0),l=this;return e(a)?null:(i=this.barSpacing(),o=function(){var t=this.baseIndex();return this.m_points.valueAt(t)-this.m_points.valueAt(t-1)}.bind(this)(),n=Math.round(a+(t-s)/o*i)+1,e(n)?null:n)},n.prototype.alignCoordinate=function(t){if(this.isEmpty())return t;var e=this.coordinateToIndex(t);return this.indexToCoordinate(e)},n.prototype.timePointToIndex=function(t){return this.m_points.indexOf(t,!0)},n.prototype.indexToTimePoint=function(t){return this.m_points.valueAt(t)},n.prototype.indexToUserTime=function(t){return this.m_tickmarks.indexToTime(t)},n.prototype.marks=function(){var t,e,i,o,n,r,s,a,l,c,h,d;if(this.isEmpty())return null;for(t=this.m_barSpacing,e=this._scalesProperties.fontSize.value()||0,i=5*(e+4),o=Math.round(i/t),n=this.visibleBars(),r=Math.max(n.firstBar(),n.firstBar()-o),s=Math.max(n.lastBar(),n.lastBar()-o),a=this.m_tickmarks.build(t,i),l=[],c=0;c<a.length;++c)h=a[c],r<=h.index&&h.index<=s&&null!==(d=this.m_tickmarks.indexToTime(h.index))&&l.push({coord:this.indexToCoordinate(h.index),label:this.formatLabel(d,h.span),span:h.span,major:h.label>=u.DAY_SPAN?1:0});return l},n.prototype.state=function(t){var e={};return e.m_barSpacing=this.barSpacing(),e.m_rightOffset=t?this.m_rightOffset:this._defaultRightOffsetProperty.value(),t&&(e.points=this.m_points.state(),e.tickmarks=this.m_tickmarks.state(),e.width=this.m_width),e},n.prototype.restoreState=function(t,e){var i,o,n;return void 0===t.m_barSpacing?void p.logDebug("restoreState: invalid state"):void 0===t.m_rightOffset?void p.logDebug("restoreState: invalid state"):(i=t.m_barSpacing,o=t.m_rightOffset<0&&!e?w:t.m_rightOffset,n=o<0?w:Math.round(o),this._defaultRightOffsetProperty.setValue(n),this.m_rightOffset=o,
e&&(this.m_points.restoreState(t.points),this.m_tickmarks.restoreState(t.tickmarks),t.width&&(this._locked=!0,this.m_width>0&&(i*=this.m_width/t.width))),this._tryToUpdateBarSpacing(this.m_barSpacing,i),void this._correctOffset())},n.prototype.setBaseIndex=function(t){if("number"!=typeof t)return void p.logDebug("setBaseIndex: invalid argument");this._visibleBarsCache=null,this._baseIndex=t,this._correctOffset()},n.prototype.setRightOffset=function(t){if(void 0===t)return void p.logDebug("setRightOffset: invalid argument");this._visibleBarsCache=null,this.m_rightOffset=t,this._correctOffset()},n.prototype.resetRightOffset=function(){this.setRightOffset(this._defaultRightOffsetProperty.value())},n.prototype._correctOffset=function(){var t,e=this.maxRightOffset();this.m_rightOffset>e&&(this.m_rightOffset=e,this._visibleBarsCache=null),null!==(t=this.minRightOffset())&&this.m_rightOffset<t&&(this.m_rightOffset=t,this._visibleBarsCache=null)},n.prototype.minRightOffset=function(){var t=this.m_points.firstIndex(),e=this._baseIndex;return null===t||null===e?null:t-e-1+y},n.prototype.maxRightOffset=function(){return this.m_width/this.m_barSpacing-y},n.prototype.startScale=function(t){this.m_scrollStartPoint&&this.endScroll(),null===this.m_scaleStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this.m_scaleStartPoint=t,this._saveCommonTransitionsStartState()))},n.prototype._saveCommonTransitionsStartState=function(){this._commonTransitionStartState={barSpacing:this.barSpacing(),rightOffset:this.rightOffset()}},n.prototype._clearCommonTransitionsStartState=function(){this._commonTransitionStartState=null},n.prototype.scaleTo=function(t){var e,i;null!==this._commonTransitionStartState&&(e=r(this.m_width-t,0,this.m_width),i=r(this.m_width-this.m_scaleStartPoint,0,this.m_width),0!==e&&0!==i&&this.setBarSpacing(this.getValidBarSpacing(this._commonTransitionStartState.barSpacing*e/i)))},n.prototype.getValidBarSpacing=function(t){return void 0===t&&(t=this.barSpacing()),t<v?v:t>m?m:t},n.prototype.isValidBarSpacing=function(t){return t>=v&&t<=m},n.prototype.endScale=function(){null!==this.m_scaleStartPoint&&(this.m_scaleStartPoint=null,this._clearCommonTransitionsStartState())},n.prototype.startScroll=function(t){null===this.m_scrollStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this.m_scrollStartPoint=t,this._saveCommonTransitionsStartState()))},n.prototype.scrollTo=function(t){if(this._visibleBarsCache=null,null!==this.m_scrollStartPoint){var e=(this.m_scrollStartPoint-t)/this.barSpacing();this.m_rightOffset=this._commonTransitionStartState.rightOffset+e,this._correctOffset(),this._onScroll.fire()}},n.prototype.scrollToOffsetAnimated=function(t,e){var i,o,n,r;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(void 0===e&&(e=400),!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");i=this,o=this.m_rightOffset,n=+new Date,r=this._model,function s(){i._visibleBarsCache=null;var a=(new Date-n)/e
;if(a>=1)return i.m_rightOffset=t,i._visibleBarsCache=null,r.recalculateAllPanes(),void r.invalidate(new c(c.LIGHT_UPDATE));i.m_rightOffset=o+(t-o)*a,r.recalculateAllPanes(),setTimeout(s,20)}()},n.prototype.endScroll=function(){null!==this.m_scrollStartPoint&&(this.m_scrollStartPoint=null,this._clearCommonTransitionsStartState())},n.prototype.update=function(t,e,i,o){this._visibleBarsCache=null,i.length>0&&this.m_points.merge(t,e,i),this.m_tickmarks.merge(o),this._correctOffset()},n.prototype.addTail=function(t,e,i){var o,n,r;for(this.m_tickmarks.removeTail(e),o=t.params,n=this.m_tickmarks.maxIndex+(i?0:1),r=0;r<o.marks.length;r++)o.marks[r].index=n+r;this.m_tickmarks.addTail(o.marks),this.m_points.addTail(o.changes,i),this.m_rightOffset-=o.changes.length},n.prototype.formatLabel=function(t,e){if(this._formattedBySpan[e])return this._formattedBySpan[e].format(t.valueOf());var i=this;return this._formattedBySpan[e]=new a(function(t){return i.formatLabelImpl(new Date(t),e)}),this._formattedBySpan[e].format(t)},n.prototype.formatLabelImpl=function(t,e){if(!(t&&t instanceof Date))return"incorrect time";var i=this._model.mainSeries().isDWM();return e<u.MINUTE_SPAN&&!i?h(t.getUTCHours(),2)+":"+h(t.getUTCMinutes(),2)+":"+h(t.getUTCSeconds(),2):e<u.DAY_SPAN&&!i?h(t.getUTCHours(),2)+":"+h(t.getUTCMinutes(),2):e<u.WEEK_SPAN?t.getUTCDate():e<u.MONTH_SPAN?t.getUTCDate():e<u.YEAR_SPAN?(g||(g=o()),g[t.getUTCMonth()]):t.getUTCFullYear()},n.prototype.normalizeBarIndex=function(t){var e=0,i=0,o=this.baseIndex();return t<this.m_points.firstIndex()?(e=this.m_points.valueAt(this.m_points.firstIndex()),i=t-this.m_points.firstIndex()):t>o?(e=this.m_points.valueAt(o),i=t-o):(e=this.m_points.valueAt(t),i=0),{time_t:e,offset:i}},n.prototype.denormalizeTimePoint=function(t){var e=this.m_points.indexOf(t.time_t);if(null!==e)return e+t.offset},n.prototype.zoomToBarsRange=function(t,e){if(!(e<=t)){var i=this.baseIndex();this.m_rightOffset=e-i,this.setBarSpacing(this.width()/(e-t+1)),this._visibleBarsCache=null}},n.prototype.canZoomIn=function(){return this.m_barSpacing<m},n.prototype.canZoomOut=function(){return this.m_barSpacing>v},n.prototype.minBarSpacing=function(){return v},n.prototype.maxBarSpacing=function(){return m},n.prototype.onScroll=function(){return this._onScroll},t.exports=n}).call(e,i(4))},function(t,e,i){"use strict";(function(e){function i(){this._marksByIndex={},this._marksBySpan=[],this.changed=new e}i.prototype.reset=function(){this._marksByIndex={},this._marksBySpan=[],delete this.minIndex,delete this.maxIndex,delete this._cache,this.changed.fire()},i.prototype.minIndex=void 0,i.prototype.maxIndex=void 0,i.prototype.merge=function(t){var e,i,o,n,r,s=this._marksBySpan,a={};for(e=0;e<t.length;e++){if(i=t[e],o=i.index,n=i.span,r=this._marksByIndex[i.index]){if(r.index===i.index&&r.span===i.span){r.time=i.time;continue}this._removeTickmark(r)}this._marksByIndex[o]=i,this.minIndex<=o||(this.minIndex=o),this.maxIndex>=o||(this.maxIndex=o),s[n]||(s[n]=[]),s[n].push(i),a[n]=!0}for(n=s.length;n--;)s[n]&&(s[n].length||delete s[n],
a[n]&&s[n].sort(this._sortByIndexAsc));delete this._cache,this.changed.fire()},i.prototype._removeTickmark=function(t){var e,i,o=t.index;this._marksByIndex[o]===t&&(delete this._marksByIndex[o],o<=this.minIndex&&this.minIndex++,o>=this.maxIndex&&this.maxIndex--,this.maxIndex<this.minIndex&&(delete this.minIndex,delete this.maxIndex),e=this._marksBySpan[t.span],-1!==(i=e.indexOf(t))&&e.splice(i,1))},i.prototype._sortByIndexAsc=function(t,e){return t.index-e.index},i.prototype.removeTail=function(t){var e,i={};this.maxIndex=0;for(e in this._marksByIndex)this._marksByIndex[e].time<t&&(i[e]=this._marksByIndex[e],this.maxIndex=Math.max(this.maxIndex,e));this._marksByIndex=i},i.prototype.addTail=function(t){for(var e=0;e<t.length;e++)t[e].index=this.maxIndex+e+1;this.merge(t)},i.prototype.indexToTime=function(t){var e=this._marksByIndex[t];return e?new Date(1e3*e.time):null},i.prototype.density=function(){var t,e=this.maxIndex-this.minIndex;if(0!==e)return t=this._marksByIndex[this.maxIndex].time-this._marksByIndex[this.minIndex].time,1e3*t/e},i.prototype.estimateLeft=function(t){var e,i=this.density();if(i)return e=1e3*this._marksByIndex[this.minIndex].time-t,e/i},i.prototype.nearestIndex=function(t){for(var e,i=this.minIndex,o=this.maxIndex;o-i>2;){if(1e3*this._marksByIndex[i].time===t)return i;if(1e3*this._marksByIndex[o].time===t)return o;e=Math.round((i+o)/2),1e3*this._marksByIndex[e].time>t?o=e:i=e}return i},i.prototype.build=function(t,e){var i,o,n,r,s,a,l,c,h,d,u,p,f,_,g=Math.ceil(e/t);if(this._maxbar===g&&this._cache)return this._cache;for(this._maxbar=g,i=[],o=this._marksBySpan.length;o--;)if(this._marksBySpan[o]){for(n=i,i=[],r=n.length,s=0,a=this._marksBySpan[o],l=a.length,c=1/0,h=-1/0,d=0;d<l;d++){for(u=a[d],p=u.index;s<r;){if(f=n[s],!((_=f.index)<p)){c=_;break}s++,i.push(f),h=_,c=1/0}c-p>=g&&p-h>=g&&(i.push(u),h=p)}for(;s<r;s++)i.push(n[s])}return this._cache=i,this._cache},i.prototype.state=function(){var t,e=[];for(t=this._marksBySpan.length;t--;)this._marksBySpan[t]&&(e=e.concat(this._marksBySpan[t]));return e=e.map(function(t){return[t.span,t.time,t.index]}),{marks:e,version:2}},i.prototype.restoreState=function(t){if(this._marksByIndex={},this._marksBySpan=[],delete this.maxIndex,delete this.minIndex,t&&t.marks&&t.marks.length)if(2===t.version){var e=t.marks.map(function(t){return{span:t[0],time:t[1],index:t[2]}});this.merge(e)}else this.merge(t.marks)},t.exports=i}).call(e,i(4))},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(0),n=o.getLogger("Chart.TimePoints"),r=function(){function t(){this._zoffset=0,this._items=[]}return t.prototype.clear=function(){this._zoffset=0,this._items=[]},t.prototype.size=function(){return this._items.length},t.prototype.firstIndex=function(){return this._offsetToIndex(0)},t.prototype.lastIndex=function(){return this._offsetToIndex(this._items.length-1)},t.prototype.merge=function(t,e,i){var o,r,s,a,l,c,h,d;if(0===i.length)return n.logError("merge: 'values' does not contain any time points"),[]
;if(e>this._zoffset&&t+e>0)return n.logError("merge: when the first time point index is updated, we should fill the time points starting from the first one"),[];if(0===this._items.length)return this._items=i,this._zoffset=e,[{change:"rebuild",index:this._validOffsetToIndex(0)}];if((o=t+this._zoffset)<0){if(r=Math.abs(o),i.length<r)return n.logError("merge: 'values' does not contain enough time points to fill in the new items. 'index': "+t+", previous 'zoffset': "+this._zoffset+", new 'zoffset': "+e+", 'values.length': "+i.length),[];for(this._items=Array(r).concat(this._items),this._zoffset=e,s=0;s<i.length;++s)this._items[t+s+e]=i[s];return[{change:"rebuild",index:this._validOffsetToIndex(0)}]}for(a=[],l=o;l<this._items.length&&l-o<i.length;++l)this._items[l]=i[l-o],a.push({change:"update",index:this._validOffsetToIndex(l),value:i[l-o]});if((c=o+i.length)>this._items.length)for(r=c-this._items.length,h=l;h<l+r;++h)d=this._items.length,this._items.push(i[h-o]),a.push({change:"append",index:this._validOffsetToIndex(d),value:i[h-o]});return this._zoffset=e,a},t.prototype.addTail=function(t,e){for(var i=e?1:0;i<t.length;i++)this._items.push(t[i])},t.prototype.remove=function(t){var e,i,o,n=this._indexToOffset(t);if(null===n)return[];for(e=this._items.splice(n),i=[],o=0;o<e.length;o++)i.push({change:"remove",index:t+o,value:e[o]});return i},t.prototype.valueAt=function(t){var e=this._indexToOffset(t);return null!==e?this._items[e]:null},t.prototype.indexOf=function(t,e){if(this._items.length<1)return null;if(t>this._items[this._items.length-1])return e?this._validOffsetToIndex(this._items.length-1):null;for(var i=0;i<this._items.length;++i){if(t===this._items[i])return this._validOffsetToIndex(i);if(t<this._items[i])return e?this._validOffsetToIndex(i):null}return null},t.prototype.state=function(){return{items:this._items,zoffset:this._zoffset}},t.prototype.restoreState=function(t){null!==t&&(this._items=t.items,this._zoffset=t.zoffset)},t.prototype.roughTime=function(t,e){var i,o,n,r,s,a,l,c,h,d,u,p;return void 0===e&&(e=null),null!==(i=this.valueAt(t))?i:(o=this._items,!o.length||o.length<2?null:(n=0,r=o.length-1,s=this._validOffsetToIndex(n),a=this._validOffsetToIndex(r),l=o[n],c=o[r],h=(c-l)/(a-s),t<s?(d=s-t,u=d*h,l-u):(p=500,t>a?(d=t-a)<p&&null!=e?e(c,d):(u=d*h,c+u):null)))},t.prototype.roughIndex=function(t,e){var i,o,n,r,s,a,l,c,h,d,u,p;return void 0===e&&(e=null),i=this._items,!i.length||i.length<2?null:(o=0,n=i.length-1,r=this._validOffsetToIndex(o),s=this._validOffsetToIndex(n),a=i[o],l=i[n],t>=a&&t<=l?this.closestIndexLeft(t):(c=(l-a)/(s-r),t<a?(h=a-t,d=Math.round(h/c),r-d):(u=500,t>l?(h=t-l,d=Math.trunc(h/c),d<u&&null!==e&&(p=e(l,t),p.success&&(d=p.result)),s+d):null)))},t.prototype.closestIndexLeft=function(t){var e,i,o,n,r,s,a=this._items;if(!a.length)return null;if(t!==t)return null;if(e=a.length-1,i=a[e],t>=i)return this._validOffsetToIndex(e);if(o=0,n=a[o],t<n)return null;if(t===n)return this._validOffsetToIndex(o);for(;e>o+1;)if(r=o+e>>1,(s=a[r])>t)e=r;else{
if(!(s<t))return s===t?this._validOffsetToIndex(r):null;o=r}return this._validOffsetToIndex(o)},t.prototype._validOffsetToIndex=function(t){return t-this._zoffset},t.prototype._offsetToIndex=function(t){return 0<=t&&t<this.size()?this._validOffsetToIndex(t):null},t.prototype._indexToOffset=function(t){var e=t+this._zoffset;return 0<=e&&e<this.size()?e:null},t}(),e.TimePoints=r},function(t,e,i){"use strict";function o(t,e){this.tooltips={},this.tooltipFactory=t,this.source=e}function n(t,e){this.renderer=t,this._tooltip=e,this.visible=!1}o.prototype.findOrCreateTooltip=function(t){var e=this.tooltips[t.id];return null==e&&(t.hovered||t.pinned)&&(e=this._createTooltip(),this.tooltips[t.id]=e),e},o.prototype.showPlate=function(t,e){var i=this.findOrCreateTooltip(t);null!=i&&(i._drawPlate(t,e),i.plateData=t)},o.prototype.draw=function(t,e){this.hoveredId=null;for(var i=0;i<t.length;i++)t[i].hovered&&(this.hoveredId=t[i].id);t.forEach(function(t){this.showPlate(t,e)}.bind(this))},o.prototype.endDraw=function(){var t,e,i=this;for(t in this.tooltips)this.tooltips.hasOwnProperty(t)&&(e=this.tooltips[t],e.toggleVisibility(),i.hoveredId&&e.plateData.id!==i.hoveredId&&!e.plateData.pinned&&(e.remove(),delete this.tooltips[t]))},o.prototype.removeAll=function(){var t,e;for(t in this.tooltips)this.tooltips.hasOwnProperty(t)&&(e=this.tooltips[t],e.remove());this.tooltips={}},o.prototype.removeTooltip=function(t){delete this.tooltips[t]},o.prototype._createTooltip=function(){return new n(this,this.tooltipFactory())},n.prototype._drawPlate=function(t,e){var i=this;this.visible=!0,this._tooltip.setSource(this.renderer.source),this._tooltip.showPlate(t,e),t.hovered||t.pinned||this._tooltip.hide(function(){i.renderer.removeTooltip(t.id)})},n.prototype.remove=function(){this._tooltip._removeLayout()},n.prototype.toggleVisibility=function(){this._tooltip._toggleLayout(this.visible),this.visible=!1},e.TooltipRenderer=o},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t){var e,i;if(t&&t.__esModule)return t;if(e={},null!=t)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e,i){var o,n=2*z,r=document.createElement("canvas");return r.width=e*n,r.height=i*n,r.style.width=e+"px",r.style.height=i+"px",o=r.getContext("2d"),o.setTransform(n,0,0,n,0,0),o.drawImage(t,0,0,e,i),r}function a(t,e){return function(){i.e(15).then(function(){F=i(1245),t.call(e)}.bind(null,i)).catch(i.oe)}}function l(t){return!0}var c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R,D,E,O,V,B,z,F,N,H;Object.defineProperty(e,"__esModule",{value:!0}),e.Branding=void 0,c=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(8),d=i(70),u=i(3),p=n(u),f=i(11),_=o(f),g=i(14),m=i(33),v=i(466),y=i(165),b=i(85),
w="/static/images/widget-embed-logo/",S="site_branding",T="widget_branding",x="widget_referral_branding",P="widget_custom_branding",C="widget_custom_no_powered_branding",M="fundamental_branding",k="fundamental_custom_branding",L="fundamental_custom_no_powered_branding",I="library_branding",A="library_custom_branding",R="library_custom_no_powered_branding",D=.2,E=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,O=function(){var t,e=window.navigator.userAgent,i=e.indexOf("MSIE ");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):e.indexOf("Trident/")>0&&(t=e.indexOf("rv:"),parseInt(e.substring(t+3,e.indexOf(".",t)),10))}(),V=window.urlParams||{},B=window.initData||{},z=window.hidpiCanvasRatio||1,F=null,(V.referral_id||V.no_referral_id)&&(0,v.enable)(V.referral_id||"","aggressive",V.ref_landing_page),N=function(){function t(e){var i=e.layout,o=void 0===i?S:i,n=e.symbol,s=void 0===n?"":n,l=e.model,c=e.onReadyCallback;r(this,t),this._model=l,this._logo=null,this._logoReady=!1,this._showLogo=!1,this._logoWidth=28,this._logoHeight=19,this.show=!0,this.width=100,this.height=20,this._layout=o,this._symbol=s,this._strokeColor=g.color.black255,this._fillolor=g.color.brand,this._colorOldBlue=g.color.brandDown,this._colorOldGray=g.color.black30,this._strokeOpacity=.6,this._strokeWidth=2,this._fontSize=14,this._font='px "Trebuchet MS", Tahoma, Arial, sans-serif',this._txt="TradingView",this._onReadyCallback=c,this._upscaleRatio=2,this._strokeCanv=null,this._fillCanv=null,O&&(this._init=a(this._init,this)),this._init()}return c(t,[{key:"_init",value:function(){this._checkLayout(),this.show&&(this._updateStrokeColor(),this._model.properties().paneProperties.background.subscribe(this,this._updateStrokeColor),this._model.onChartThemeLoaded().subscribe(this,this._updateStrokeColor))}},{key:"_updateStrokeColor",value:function(){var t=(0,m.getLuminance)(this._model.properties().paneProperties.background.value());this._strokeCanv=null,this._fillCanv=null,t>D?(this._strokeColor=g.color.black255,this._strokeWidth=2.5):(this._strokeColor=g.color.black0,this._strokeWidth=3)}},{key:"_checkLayout",value:function(){switch(this._layout){case T:case x:case P:case M:case k:case A:case I:this.show=!0;break;case S:case C:case L:case R:this.show=!1}switch(this._layout){case T:this._txt=$.t("{0} chart by TradingView").format(this._symbol);break;case M:this._txt=$.t("{0} financials by TradingView").format(this._symbol);break;case x:this._txt=$.t("More features on tradingview.com");break;case P:case k:this._txt=$.t("powered by ");break;case I:this._showLogo=!0,this._txt=$.t("charts by TradingView");break;case A:this._txt=$.t("powered by TradingView")}}},{key:"_drawTextStroke",value:function(t){var e,i;this._strokeCanv||(this._strokeCanv=document.createElement("canvas"),e=this._strokeCanv.getContext("2d"),i=Math.round(this._strokeWidth*this._upscaleRatio),e.font=this._fontSize*this._upscaleRatio+this._font,this._textWidth=e.measureText(this._txt).width,this._strokeCanv.width=(this._textWidth+2*i)*z,e.textBaseline="top",e.textAlign="start",
e.font=this._fontSize*this._upscaleRatio+this._font,e.strokeStyle=this._strokeColor,e.lineWidth=this._strokeWidth*this._upscaleRatio*z,e.lineJoin="round",e.strokeText(this._txt,i,i),E&&(e.lineWidth=this._strokeWidth*this._upscaleRatio*z/2,e.strokeText(this._txt,i+1.5,i),e.strokeText(this._txt,i-1.5,i))),t.save(),t.globalAlpha=this._strokeOpacity,t.scale(1/z,1/z),t.drawImage(this._strokeCanv,0,0,this._strokeCanv.width,this._strokeCanv.height,0,0,this._strokeCanv.width/this._upscaleRatio,this._strokeCanv.height/this._upscaleRatio),t.restore()}},{key:"_drawTextFill",value:function(t){var e,i;this._fillCanv||(this._fillCanv=document.createElement("canvas"),e=this._fillCanv.getContext("2d"),i=Math.round(this._strokeWidth*this._upscaleRatio),this._fillCanv.width=(this._textWidth+2*i)*z,e.textBaseline="top",e.textAlign="start",e.font=this._fontSize*this._upscaleRatio+this._font,e.fillStyle=this._fillolor,e.fillText(this._txt,i,i)),t.save(),t.scale(1/z,1/z),t.drawImage(this._fillCanv,0,0,this._fillCanv.width,this._fillCanv.height,0,0,this._fillCanv.width/this._upscaleRatio,this._fillCanv.height/this._upscaleRatio),t.restore()}},{key:"draw",value:function(t,e){var i,o;this._layout===P||this._layout===k?(i='12px "Trebuchet MS", Tahoma, Arial, sans-serif',t.font=i,o=t.measureText(this._txt).width,this.width=o+t.measureText("TradingView").width,t.save(),t.globalAlpha=.7,t.fillStyle=this._colorOldGray,t.fillText(this._txt,0,12),t.fillStyle=this._colorOldBlue,t.fillText("TradingView",o,12),t.restore()):this._showLogo&&this._logoReady?(t.drawImage(this._logo,-2,E?-2:-.5,this._logoWidth,this._logoHeight),t.save(),t.translate(this._logoWidth,0),l(e)&&(this._drawTextStroke(t),this._drawTextFill(t)),t.restore(),null!==this._strokeCanv?this.width=this._logoWidth+this._strokeCanv.width/this._upscaleRatio/z:this.width=this._logoWidth):(t.save(),t.translate(0,E?4:0),l(e)&&(this._drawTextStroke(t),this._drawTextFill(t)),t.restore(),null!==this._strokeCanv&&(this.width=this._strokeCanv.width/this._upscaleRatio/z))}}]),t}(),H=function(){function t(e){var i=e.layout,o=void 0===i?S:i,n=e.src,s=e.onReadyCallback;r(this,t),this._img=new Image,this._ready=!1,this.show=!1,this.width=0,this.height=0,this._layout=o,this._src=n,this._onReadyCallback=s,O&&(this._init=a(this._init,this)),this._init()}return c(t,[{key:"_init",value:function(){var t,e,i=this;this._checkLayout(),this.show&&(t=this._src.match(/(\w+)\.svg/),O&&t&&2===t.length?(e=t[1],this._img.src=F.fallbackImages[e],this._img.addEventListener("load",function(){var t=F.logoSizes;e in t?(i.width=t[e].width,i.height=t[e].height):(i.width=135,i.height=25),i._ready=!0,"function"==typeof i._onReadyCallback&&i._onReadyCallback()})):(this._img.src=this._src,this._img.addEventListener("load",function(){i.width=Math.round(i._img.width),i.height=Math.round(i._img.height),E&&(i._img=s(i._img,i.width,i.height)),i._ready=!0,"function"==typeof i._onReadyCallback&&i._onReadyCallback()})))}},{key:"_checkLayout",value:function(){switch(this._layout){case P:case C:case k:case L:case A:case R:this.show=!0
;break;case S:case T:case x:case M:case I:this.show=!1}}},{key:"draw",value:function(t){this._ready&&t.drawImage(this._img,0,0,this.width,this.height)}}]),t}(),e.Branding=function(){function t(e){var i,o=this;r(this,t),this._model=e,this._mainSeries=this._model.mainSeries(),this._canvasWidth=0,this._paneHeight=0,this._left=13,this._bottom=12,this._layout=S,this._needToShow=!0,this._customLogoSrc="",this._customLogoLink="",this._checkLayout(),this._layout!==P&&this._layout!==k||(this._left=8,this._bottom=5),i=function(){o._needToShow?o._layout===S?o._showBranding=window.innerWidth>=768:o._showBranding=!0:o._showBranding=!1},this._resizeHandlerDelayed=b(i,200),i(),window.addEventListener("resize",this._resizeHandlerDelayed),this._model.isSnapshot()?this._init():this._mainSeries.onSymbolResolved().subscribe(this,this._init)}return c(t,[{key:"destroy",value:function(){window.removeEventListener("resize",this._resizeHandlerDelayed)}},{key:"_init",value:function(){var t=this,e=this._mainSeries.symbolInfo()||{};this._poweredBy=new N({layout:this._layout,symbol:e.name,model:this._model,onReadyCallback:function(){return t._model.fullUpdate()}}),this._customLogo=new H({layout:this._layout,src:this._customLogoSrc,onReadyCallback:function(){return t._model.fullUpdate()}})}},{key:"_checkLayout",value:function(){var t,e,i;p.enabled("widget")?(t=B.logo||{},e=p.enabled("fundamental_widget"),this._needToShow=!(B.whitelabel||V.whitelabel||t.whitelabel),t.image?(this._customLogoSrc=w+t.image,t.no_powered_by?this._layout=e?L:C:this._layout=e?k:P):V.referral_id||V.no_referral_id?this._layout=x:this._layout=e?M:T):p.enabled("charting_library")||p.enabled("amp_terminal")||p.enabled("cqg_terminal")||p.enabled("trading_terminal")?(i=JSON.parse(V.logo)||{},i.image?(this._customLogoSrc=i.image,this._customLogoLink=i.link,this._needToShow=p.enabled("widget_logo"),p.enabled("link_to_tradingview")?this._layout=A:this._layout=R):(this._layout=I,this._needToShow=p.enabled("widget_logo"))):this._layout=S}},{key:"updateAllViews",value:function(){}},{key:"priceScale",value:function(){}},{key:"priceAxisViews",value:function(){}},{key:"onClickOutside",value:function(){}},{key:"hasContextMenu",value:function(){return!1}},{key:"hitTest",value:function(t){var e=this;return!this._showBranding||p.enabled("logo_without_link")?null:this._poweredBy&&this._layout!==S&&this._layout!==C&&this._layout!==L&&(0,d.pointInRectangle)(t,new h.Point(this._left,this._paneHeight-Math.max(this._poweredBy.height,void 0!==this._customLogo?this._customLogo.height:0)-this._bottom),new h.Point(this._left+Math.max(this._poweredBy.width,void 0!==this._customLogo?this._customLogo.width:0),this._paneHeight-this._bottom))?new _.default(_.default.CUSTOM,{mouseUpHandler:function(){window.open(e.tvUrl(),"_blank").opener=null}}):null}},{key:"tvUrl",value:function(){var t,e,i,o,n="https://www.tradingview.com/",r=this._mainSeries.symbolInfo().pro_name||"";return p.enabled("referral_program_for_widget_owners")?(t=(0,v.referenceToTradingView)(),
-1===t.indexOf("utm_source")?(n+="/"===n[n.length-1]?"?":"&",n+="utm_source="+(V.utm_source||"")+"&utm_medium="+(V.utm_medium||"")+"&utm_campaign="+(V.utm_campaign||"")+"&utm_term="+r):(t=t.slice(0,t.indexOf("utm_source")),t+="utm_source="+(V.utm_source||"")+"&utm_medium="+(V.utm_medium||"")+"&utm_campaign="+(V.utm_campaign||"")+"&utm_term="+r)):(e=this._mainSeries.symbolInfo().name||"APPL",i=this._mainSeries.symbolInfo().listed_exchange||"",o=B.customer,o||e&&(n=n.replace(/\/$/,""),n+=(0,y.getSymbolPagePath)({shortName:e,exchange:i})),n+="/"===n[n.length-1]?"?":"&",n+="utm_source="+(V.utm_source||"")+"&utm_medium="+(V.utm_medium||"")+"&utm_campaign="+(V.utm_campaign||"")+"&utm_term="+r)}},{key:"draw",value:function(t){if(this._showBranding){var e=0;this._poweredBy&&this._poweredBy.show&&(e=this._poweredBy.height,t.save(),t.translate(this._left,this._paneHeight-this._bottom-this._poweredBy.height),this._poweredBy.draw(t,this._canvasWidth),t.restore()),this._customLogo&&this._customLogo.show&&(t.save(),t.translate(this._left,this._paneHeight-this._bottom-e-this._customLogo.height),this._customLogo.draw(t),t.restore())}}},{key:"renderer",value:function(t,e){return this._paneHeight=this._pane.height(),this._canvasWidth=e,{draw:this.draw.bind(this)}}},{key:"paneViews",value:function(t){var e=p.enabled("move_logo_to_main_pane");return e&&t.isMainPane()||!e&&t.isLast()||t.isMaximized()?(this._pane=t,[{renderer:this.renderer.bind(this)}]):[]}}]),t}()},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(4),n=function(){function t(t){this._changed=new o,this._model=t}return t.prototype.getStepChangeValue=function(){return.1},t.prototype.getMinValue=function(){return 1e-7},t.prototype.getMaxValue=function(){return 9999},t.prototype.value=function(){return this._model.mainSeriesScaleRatio()},t.prototype.setValue=function(t,e){(t!==this.value()||e)&&(this._model.setMainSeriesScaleRatio(t),this._onChanged())},t.prototype.state=function(){return null},t.prototype.clone=function(){return new t(this._model)},t.prototype.listeners=function(){return this._changed},t.prototype.subscribe=function(t,e){this._changed.subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._changed.unsubscribe(t,e)},t.prototype.unsubscribeAll=function(t){this._changed.unsubscribeAll(t)},t.prototype._onChanged=function(){this._changed.fire(this)},t}(),e.MainSeriesScaleRatioProperty=n},function(t,e,i){"use strict";function o(t){"LineToolGannComplex"!==t.type||void 0!==t.version&&1!==t.version||(t.type="LineToolGannFixed")}Object.defineProperty(e,"__esModule",{value:!0}),e.migrateState=o},function(t,e,i){"use strict";function o(t){this._data=t}function n(t,e,i){if(i===CanvasEx.HHISTDIR_LEFTTORIGHT)return t+e;if(i===CanvasEx.HHISTDIR_RIGHTTOLEFT)return e+t;throw Error("Unknown direction value: "+i)}
var r=i(8),s=r.Point,a=r.equalPoints,l=i(70),c=l.pointInRectangle,h=l.pointInTriangle,d=i(170).intersectRayAndRectangle,u=i(177).TextRenderer,p=i(156).HorizontalLineRenderer,f=i(114).TrendLineRenderer,_=i(893).HorizHistogramRenderer,g=i(894).HLinesPriceAxisView,m=i(575),v=TradingView.Study,y=i(895),b=i(11),w=i(41).CompositeRenderer,S=i(153).clearRect,T=i(33),x=i(55).shiftColor,P=i(0).getLogger("Chart.StudyGraphicsPaneViews");v.graphicsZOrderPriority=function(t){switch(t){case"polygons":return-100;case"trendchannels":return-90;default:return 0}},v.StudyPaneView_horizlines=function(t,e){this._study=t,this._model=e,this._data=[]},v.StudyPaneView_horizlines.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_horizlines.prototype.renderer=function(){var t,e,i;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)i=new f,i.setData(this._data[e]),i.setHitTest(new b(b.REGULAR)),t.append(i);return t},v.StudyPaneView_horizlines.prototype._updateViewInternal=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S;if(this._data=[],(t=this._study.graphics().horizlines)&&(e=this._study.priceScale(),i=this._study._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),a=n.lastBar(),l=0;l<t.length;l++)if(c=t[l],c.data&&(h=this._study.properties().graphics.horizlines[c.styleId],h.visible.value()))for(d=0;d<c.data.length;d++)u=c.data[d],p=o[u.startIndex],f=o[u.endIndex],!u.extendRight&&Math.max(p,f)<r||!u.extendLeft&&Math.min(p,f)>a||(_={},g=i.indexToCoordinate(p),m=i.indexToCoordinate(f),v=u.level,e.isPercent()&&(y=this._study.firstValue(),v=e.priceRange().convertToPercent(v,y)),b=e.priceToCoordinate(v),w=new s(g,b),S=new s(m,b),_.points=[w,S],_.extendleft=u.extendLeft,_.extendright=u.extendRight,_.width=i.width(),_.height=e.height(),_.color=h.color.value(),_.linewidth=h.width.value(),_.linestyle=h.style.value(),this._data.push(_))},v.StudyPaneView_vertlines=function(t,e){this._study=t,this._model=e,this._data=[]},v.StudyPaneView_vertlines.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_vertlines.prototype.renderer=function(){var t,e,i;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)i=new f,i.setData(this._data[e]),i.setHitTest(new b(b.REGULAR)),t.append(i);return t},v.StudyPaneView_vertlines.prototype._updateViewInternal=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w;if(this._data=[],(t=this._study.graphics().vertlines)&&(e=this._study.priceScale(),i=this._study._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),a=n.lastBar(),l=0;l<t.length;l++)if(c=t[l],c.data&&(h=this._study.properties().graphics.vertlines[c.styleId],h.visible.value()))for(d=0;d<c.data.length;d++)u=c.data[d],p={},o[u.index]<r||o[u.index]>a||(f=i.indexToCoordinate(o[u.index])+1,_=null,
u.extendBottom?g=e.height():(v=u.startPrice,e.isPercent()&&(_=_||this._study.firstValue(),v=e.priceRange().convertToPercent(v,_)),g=e.priceToCoordinate(v)),u.extendTop?m=0:(y=u.endPrice,e.isPercent()&&(_=_||this._study.firstValue(),y=e.priceRange().convertToPercent(y,_)),m=e.priceToCoordinate(y)),b=new s(f,g),w=new s(f,m),p.points=[b,w],p.extendleft=u.extendBottom,p.extendright=u.extendTop,p.width=i.width(),p.height=e.height(),p.color=h.color.value(),p.linewidth=h.width.value(),p.linestyle=h.style.value(),this._data.push(p))},v.StudyPaneView_lines=function(t,e){this._study=t,this._model=e,this._data=[]},v.StudyPaneView_lines.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_lines.prototype.renderer=function(){var t,e,i;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)i=new f,i.setData(this._data[e]),i.setHitTest(new b(b.REGULAR)),t.append(i);return t},v.StudyPaneView_lines.prototype._updateViewInternal=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C;if(this._data=[],(t=this._study.graphics().lines)&&(e=this._study.priceScale(),i=this._study._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),a=n.lastBar(),l=this._study.priceScale().height(),c=i.width(),h=0;h<t.length;h++)if(d=t[h],d.data&&(u=this._study.properties().graphics.lines[d.styleId],u.visible.value()))for(p=0;p<d.data.length;p++)f=d.data[p],_=o[f.startIndex]+(f.startOffset||0),g=o[f.endIndex]+(f.endOffset||0),!f.extendRight&&Math.max(_,g)<r||!f.extendLeft&&Math.min(_,g)>a||(m={},v=i.indexToCoordinate(_),y=i.indexToCoordinate(g),b=f.startPrice,w=f.endPrice,e.isPercent()&&(S=this._study.firstValue(),b=e.priceRange().convertToPercent(b,S),w=e.priceRange().convertToPercent(w,S)),T=e.priceToCoordinate(b),x=e.priceToCoordinate(w),P=new s(v,T),C=new s(y,x),m.points=[P,C],m.width=c,m.height=l,m.color=u.color.value(),m.linewidth=u.width.value(),m.linestyle=u.style.value(),this._data.push(m))},v.StudyPaneView_hlines=function(t,e){this._study=t,this._model=e,this._data=[],this._textData=[]},v.StudyPaneView_hlines.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_hlines.prototype.renderer=function(){var t,e,i;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)i=new p,i.setData(this._data[e]),t.append(i);for(e=0;e<this._textData.length;e++)t.append(new u(this._textData[e],new b(b.REGULAR)));return t},v.StudyPaneView_hlines.prototype._updateViewInternal=function(){this._calcHorzLinesData(),this._calcTextData()},v.StudyPaneView_hlines.prototype._calcTextData=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p,f,_;if(this._textData=[],(t=this._study.graphics().hlines)&&(e=this._study.priceScale(),i=this._study._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=0;o<t.length;o++)if(n=t[o],n.data&&(r=this._study.properties().graphics.hlines[n.styleId],
r.enableText.value()&&r.showText.value()))for(a=0;a<n.data.length;a++)l=n.data[a],c={},c.text=void 0===l.text?"":l.text,c.color=r.color.value(),c.font="arial",c.fontsize=r.fontSize.value(),h=l.level,e.isPercent()&&(d=this._study.firstValue(),h=e.priceRange().convertToPercent(h,d)),u=e.priceToCoordinate(h),p=r.textPos.value(),p===CanvasEx.TEXTPOS_TOPLEFT||p===CanvasEx.TEXTPOS_MIDDLELEFT||p===CanvasEx.TEXTPOS_BOTTOMLEFT?(f=4,c.horzAlign="left"):p===CanvasEx.TEXTPOS_TOPCENTER||p===CanvasEx.TEXTPOS_MIDDLECENTER||p===CanvasEx.TEXTPOS_BOTTOMCENTER?(f=i.width()/2,c.horzAlign="center"):p!==CanvasEx.TEXTPOS_TOPRIGHT&&p!==CanvasEx.TEXTPOS_MIDDLERIGHT&&p!==CanvasEx.TEXTPOS_BOTTOMRIGHT||(f=i.width(),c.horzAlign="right"),p===CanvasEx.TEXTPOS_TOPLEFT||p===CanvasEx.TEXTPOS_TOPCENTER||p===CanvasEx.TEXTPOS_TOPRIGHT?(c.vertAlign="bottom",u-=4):p===CanvasEx.TEXTPOS_MIDDLELEFT||p===CanvasEx.TEXTPOS_MIDDLECENTER||p===CanvasEx.TEXTPOS_MIDDLERIGHT?(c.vertAlign="middle",u-=2):p!==CanvasEx.TEXTPOS_BOTTOMLEFT&&p!==CanvasEx.TEXTPOS_BOTTOMCENTER&&p!==CanvasEx.TEXTPOS_BOTTOMRIGHT||(c.vertAlign="top"),_=new s(f,u),c.points=[_],c.offsetX=0,c.offsetY=0,this._textData.push(c)},v.StudyPaneView_hlines.prototype._calcHorzLinesData=function(){var t,e,i,o,n,r,a,l,c,h,d,u;if(this._data=[],(t=this._study.graphics().hlines)&&(e=this._study.priceScale())&&!e.isEmpty())for(i=0;i<t.length;i++)if(o=t[i],o.data&&(n=this._study.properties().graphics.hlines[o.styleId],n.visible.value()))for(r=0;r<o.data.length;r++)a=o.data[r],l={},c=0,h=a.level,e.isPercent()&&(d=this._study.firstValue(),h=e.priceRange().convertToPercent(h,d)),u=e.priceToCoordinate(h),l.points=[new s(c,u)],l.color=n.color.value(),l.linewidth=n.width.value(),l.linestyle=n.style.value(),l.hitTestResult=b.REGULAR,this._data.push(l)},v.StudyPriceAxisView_hlines=g,TradingView.TriangleTextMarkRenderer=function(t,e){this._data=t,this._textCache=e},TradingView.TriangleTextMarkRenderer.prototype.fontStyle=function(){return(this._data.bold?"bold ":"")+(this._data.italic?"italic ":"")+this._data.fontSize+"px "+this._data.font},TradingView.TriangleTextMarkRenderer.prototype.draw=function(t){var e,i,o,n,r,s,a;if(this._data){switch(e="up"===this._data.direction?1:-1,i=this._data.point.x,"left"===this._data.halign?i-=this._data.size:"right"===this._data.halign&&(i+=this._data.size),o=this._data.point.y,t.font=this.fontStyle(),n=t.measureText(this._data.text).width,this._textCache.textWidth=n,r=this._data.fontSize,s=.65*r,a=1*r,t.save(),t.translate(i+.5,o+.5),t.beginPath(),t.moveTo(0,0),this._data.direction){case"up":case"down":t.lineTo(s,a*e),t.lineTo(.5*n+s,a*e),t.lineTo(.5*n+s,(a+1.75*r)*e),t.lineTo(.5*-n-s,(a+1.75*r)*e),t.lineTo(.5*-n-s,a*e),t.lineTo(-s,a*e),t.lineTo(0,0),t.strokeStyle=this._data.borderColor,t.stroke(),t.fillStyle=this._data.color,t.fill(),t.fillStyle=this._data.fontColor,t.fillText(this._data.text,.5*-n,e<0?e*a-.5*r:a+1.25*r);break;default:throw Error(this._data.direction+" doesn't supported by TradingView.TriangleTextMarkRenderer")}t.restore()}},
TradingView.TriangleTextMarkRenderer.prototype.hitTest=function(t){var e,i,o,n,r,a,l,h,d,u,p,f=this._textCache.textWidth,_=this._data.fontSize;switch(this._data.direction){case"up":case"down":if(e="up"===this._data.direction?1:-1,i=.65*_,o=1*_,n=this._data.point.x,"left"===this._data.halign?n-=this._data.size:"right"===this._data.halign&&(n+=this._data.size),r=this._data.point.y,a=n-.5*f-i,l=n+.5*f+i,h=r+o*e,d=r+(o+1.75*_)*e,d<h&&(r=h,h=d,d=r),c(t,new s(a,h),new s(l,d)))return new b(b.REGULAR);if(u=[],u[0]={},u[0].x=this._data.point.x,u[0].y=this._data.point.y,u[1]={},u[1].x=this._data.point.x+.65*_,u[1].y=this._data.point.y+_*e,u[2]={},u[2].x=this._data.point.x-.65*_,u[2].y=this._data.point.y+_*e,p=(t.x-u[0].x)*(u[1].y-u[0].y)-(t.y-u[0].y)*(u[1].x-u[0].x),((t.x-u[1].x)*(u[2].y-u[1].y)-(t.y-u[1].y)*(u[2].x-u[1].x))*p>0&&((t.x-u[2].x)*(u[0].y-u[2].y)-(t.y-u[2].y)*(u[0].x-u[2].x))*p>0)return new b(b.REGULAR);break;default:throw Error(this._data.direction+" doesn't supported by TradingView.TriangleTextMarkRenderer")}return null},TradingView.RectangleTextMarkRenderer=function(t,e){this._data=t,this._textCache=e},TradingView.RectangleTextMarkRenderer.prototype.fontStyle=function(){return(this._data.bold?"bold ":"")+(this._data.italic?"italic ":"")+this._data.fontSize+"px "+this._data.font},TradingView.RectangleTextMarkRenderer.prototype.draw=function(t){var e,i,o,n,r;if(this._data){switch(e=this._data.point.x,i=this._data.point.y,t.font=this.fontStyle(),o=t.measureText(this._data.text).width,this._textCache.textWidth=o,t.save(),t.translate(e+.5,i+.5),t.beginPath(),t.moveTo(0,0),n=this._data.halign,r=this._data.valign,t.textAlign=n,r){case"middle":t.textBaseline="middle";break;case"top":t.textBaseline="bottom";break;case"bottom":t.textBaseline="hanging"}t.fillStyle=this._data.fontColor,t.fillText(this._data.text,0,0),t.restore()}},TradingView.RectangleTextMarkRenderer.prototype.hitTest=function(t){var e,i,o=this._data.point.x+.5,n=this._data.point.y+.5,r=this._textCache.textWidth,a=this._data.fontSize,l=this._data.halign;switch(this._data.valign){case"middle":n-=a/2;break;case"bottom":n-=a}switch(l){case"right":o-=r;break;case"center":o-=r/2}return e=new s(o,n),i=new s(o+r,n+a),c(t,e,i)?new b(b.REGULAR):null},TradingView.CircleShapeMarkRenderer=function(t,e){this._data=t,this._textCache=e},TradingView.CircleShapeMarkRenderer.prototype.draw=function(t){var e,i,o;this._data&&(e="down"===this._data.direction?1:"up"===this._data.direction?-1:0,i=this._data.point.x,o=this._data.point.y,t.save(),t.fillStyle=this._data.color,t.beginPath(),t.arc(i+1,o+2*this._data.size*e+.5,this._data.size,0,2*Math.PI),t.closePath(),t.fill(),t.stroke(),t.restore())},TradingView.CircleShapeMarkRenderer.prototype.hitTest=function(t){var e="down"===this._data.direction?1:"up"===this._data.direction?-1:0;return Math.pow(this._data.point.x+.5-t.x,2)+Math.pow(this._data.point.y+.5+2*this._data.size*e-t.y,2)<=Math.pow(this._data.size,2)?new b(b.REGULAR):null},TradingView.SquareShapeMarkRenderer=function(t,e){this._data=t,this._textCache=e},
TradingView.SquareShapeMarkRenderer.prototype.draw=function(t){var e,i,o,n,r;this._data&&(e="down"===this._data.direction?1:"up"===this._data.direction?-1:0,i=parseInt(this._data.size),o=new s(this._data.point.x-i/2,this._data.point.y-i/2+e*i),n=new s(this._data.point.x+i/2,this._data.point.y+i/2+e*i),r=n.subtract(o),t.beginPath(),t.fillStyle=this._data.color,t.rect(o.x,o.y,r.x,r.y),t.stroke(),t.fill())},TradingView.SquareShapeMarkRenderer.prototype.hitTest=function(t){var e="down"===this._data.direction?1:"up"===this._data.direction?-1:0,i=parseInt(this._data.size),o=new s(this._data.point.x-i/2,this._data.point.y-i/2+e*i),n=new s(this._data.point.x+i/2,this._data.point.y+i/2+e*i),r=new s(Math.min(o.x,n.x),Math.min(o.y,n.y)),a=new s(Math.max(o.x,n.x),Math.max(o.y,n.y));return c(t,r,a)?new b(b.REGULAR):null},TradingView.ArrowShapeMarkRenderer=function(t,e,i){this._data=t,this._textCache=e,this._arrowDirection=i},TradingView.ArrowShapeMarkRenderer.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h,d;if(this._data){switch(e=this._arrowDirection,i=1*this._data.size,o=this._data.color,n=this._data.point.x+1,r=this._data.point.y,s=1.1*i,e){case"up":r-=s;break;case"down":r+=s}switch(a=i/6,l=i/4,c=i/3,h=i/2,d=.6666666*i,t.save(),t.fillStyle=o,t.beginPath(),e){case"up":t.moveTo(n,r),t.lineTo(n-h,r+d),t.lineTo(n-l,r+d),t.lineTo(n,r+c),t.lineTo(n+l,r+d),t.lineTo(n+h,r+d),t.lineTo(n,r);break;case"down":t.moveTo(n,r+i),t.lineTo(n-h,r+c),t.lineTo(n-l,r+c),t.lineTo(n,r+d),t.lineTo(n+l,r+c),t.lineTo(n+h,r+c),t.lineTo(n,r+i);break;case"right":t.moveTo(n+a,r),t.lineTo(n-a,r-l),t.lineTo(n-a,r+l),t.lineTo(n+a,r);break;case"left":t.moveTo(n-a,r),t.lineTo(n+a,r-l),t.lineTo(n+a,r+l),t.lineTo(n-a,r)}t.closePath(),t.fill(),t.stroke(),t.restore()}},TradingView.ArrowShapeMarkRenderer.prototype.hitTest=function(t){var e,i,o,n,r,a,l,c=this._data.point.x,d=this._data.point.y,u=this._arrowDirection,p=1*this._data.size,f=p/2,_=1.1*p;switch(u){case"up":d-=_;break;case"down":d+=_}switch(e=p/6,i=p/4,o=p/3,f=p/2,n=.6666666*p,u){case"up":r=new s(c,d),a=new s(c+f,d+n),l=new s(c-f,d+n);break;case"down":r=new s(c,d+p),a=new s(c+f,d+o),l=new s(c-f,d+o);break;case"right":r=new s(c+e,d),a=new s(c-e,d-i),l=new s(c-e,d+i);break;case"left":r=new s(c-e,d),a=new s(c+e,d-i),l=new s(c+e,d+i)}return h(t,r,a,l)?new b(b.REGULAR):null},v.StudyPaneView_textmarks=function(t,e){this._study=t,this._model=e,this._data=[],this._textCache=[]},inherit(v.StudyPaneView_textmarks,y),v.StudyPaneView_textmarks.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_textmarks.prototype.renderer=function(){var t,e;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)switch(this._data[e].shape){case"triangle":t.append(new TradingView.TriangleTextMarkRenderer(this._data[e],this._textCache[e]));break;case"rectangle":t.append(new TradingView.RectangleTextMarkRenderer(this._data[e],this._textCache[e]))}return t},v.StudyPaneView_textmarks.prototype._updateViewInternal=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w
;if(this._data=[],(t=this._study.graphics().textmarks)&&(e=this._study.priceScale(),i=this._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),a=n.lastBar(),l=0;l<t.length;l++)if(c=t[l],c.data&&(h=this._study.properties().graphics.textmarks[c.styleId],h.visible.value()))for(d=c.data,u=0;u<d.length;u++)if(p=d[u],f={},_=h.location.value(),g=h.shape.value(),!((m=o[p.time])<r||m>a)&&null!==this._study.series().bars().valueAt(m)){switch(m=o[p.time]+(p.offset||0),f.font=h.fontFamily.value(),f.color=T.generateColor(h.color.value(),h.transparency.value()),f.bold=h.fontBold.value(),f.fontColor=T.generateColor(h.fontColor.value(),h.transparency.value()),f.italic=h.fontItalic.value(),f.fontSize=h.fontSize.value(),f.text=p.text?p.text:"",f.halign=h.halign.value(),f.valign=void 0!==h.valign?h.valign.value():"middle",f.shape=h.shape.value(),f.size=.5*i.barSpacing(),f.borderColor="rgb(0, 0, 0)",v=50,g){case"triangle":w=this._calcCoordsForTriangleShape(_,m,v,p.price,e),f.direction=w.direction,y=Math.round(i.indexToCoordinate(m)),b=w.y;break;case"rectangle":w=this._calcCoordsForRectangleShape(_,m,p.price,e,i),y=w.x,b=w.y}f.point=new s(y,b),this._data.push(f),this._textCache.push({})}},v.StudyPaneView_textmarks.prototype._calcCoordsForTriangleShape=function(t,e,i,o,n){var r,s,a;switch(t){case CanvasEx.MARKLOC_TOP:r=n.height()-i,s="down";break;case CanvasEx.MARKLOC_BOTTOM:r=i,s="up";break;case CanvasEx.MARKLOC_ABSOLUTEDOWN:n.isPercent()&&(a=this._study.firstValue(),o=n.priceRange().convertToPercent(o,a)),r=n.priceToCoordinate(o),s="down";break;case CanvasEx.MARKLOC_ABSOLUTEUP:n.isPercent()&&(a=this._study.firstValue(),o=n.priceRange().convertToPercent(o,a)),r=n.priceToCoordinate(o),s="up";break;case CanvasEx.MARKLOC_ABOVEBAR:r=this._locationToY(t,e),s="down";break;case CanvasEx.MARKLOC_BELOWBAR:default:r=this._locationToY(t,e),s="up"}return{y:r,direction:s}},v.StudyPaneView_textmarks.prototype._calcCoordsForRectangleShape=function(t,e,i,o,n){var r,s,a=Math.round(n.indexToCoordinate(e));switch(t){case CanvasEx.MARKLOC_ABSOLUTEDOWN:case CanvasEx.MARKLOC_ABSOLUTEUP:case CanvasEx.MARKLOC_ABSOLUTE:o.isPercent()&&(s=this._study.firstValue(),i=o.priceRange().convertToPercent(i,s)),r=o.priceToCoordinate(i);break;case CanvasEx.MARKLOC_ABOVEBAR:case CanvasEx.MARKLOC_BELOWBAR:r=this._locationToY(t,e);break;case CanvasEx.MARKLOC_RIGHT:case CanvasEx.MARKLOC_LEFT:a=n.width(),o.isPercent()&&(s=this._study.firstValue(),i=o.priceRange().convertToPercent(i,s)),r=o.priceToCoordinate(i);break;default:r=this._locationToY(t,e)}return{x:a,y:r}},v.StudyPaneView_shapemarks=function(t,e){this._study=t,this._model=e,this._data=[],this._textCache=[]},inherit(v.StudyPaneView_shapemarks,y),v.StudyPaneView_shapemarks.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_shapemarks.prototype.renderer=function(){var t,e;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)switch(this._data[e].shape){
case"circle":t.append(new TradingView.CircleShapeMarkRenderer(this._data[e],this._textCache[e]));break;case"square":t.append(new TradingView.SquareShapeMarkRenderer(this._data[e],this._textCache[e]));break;case"arrowUp":t.append(new TradingView.ArrowShapeMarkRenderer(this._data[e],this._textCache[e],"up"));break;case"arrowDown":t.append(new TradingView.ArrowShapeMarkRenderer(this._data[e],this._textCache[e],"down"));break;case"arrowRight":t.append(new TradingView.ArrowShapeMarkRenderer(this._data[e],this._textCache[e],"right"));break;case"arrowLeft":t.append(new TradingView.ArrowShapeMarkRenderer(this._data[e],this._textCache[e],"left"))}return t},v.StudyPaneView_shapemarks.prototype._updateViewInternal=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w;if(this._data=[],(t=this._study.graphics().shapemarks)&&(e=this._study.priceScale(),i=this._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),a=n.lastBar(),l=0;l<t.length;l++)if(c=t[l],c.data&&(h=this._study.properties().graphics.shapemarks[c.styleId],h.visible.value()))for(d=c.data,u=0;u<d.length;u++)if(p=d[u],!((f=o[p.time])<r||f>a)&&(_={},null!=p.time&&null!==this._study.series().bars().valueAt(f))){switch(_.color=T.generateColor(h.color.value(),h.transparency.value()),g=0,"left"===h.halign.value()?g-=i.barSpacing()/2+1:"right"===h.halign.value()&&(g+=i.barSpacing()/2+1),_.size=h.size.value(),_.shape=h.shape.value(),m=Math.round(i.indexToCoordinate(f))+g,v=p.price,e.isPercent()&&(y=this._study.firstValue(),v=e.priceRange().convertToPercent(v,y)),b=e.priceToCoordinate(v),w=h.location.value()){case CanvasEx.MARKLOC_ABSOLUTE:_.direction="";break;case CanvasEx.MARKLOC_ABSOLUTEDOWN:_.direction="down";break;case CanvasEx.MARKLOC_ABSOLUTEUP:_.direction="up";break;case CanvasEx.MARKLOC_ABOVEBAR:b=this._locationToY(w,f,Math.floor(2*_.size/i.barSpacing())+1),_.direction="up";break;case CanvasEx.MARKLOC_BELOWBAR:b=this._locationToY(w,f,Math.floor(2*_.size/i.barSpacing())+1),_.direction="down";break;default:P.logWarn("Bad location value: "+w),b=this._locationToY(CanvasEx.MARKLOC_ABSOLUTEUP,f),_.direction="up"}_.point=new s(m,b),this._data.push(_),this._textCache.push({})}},o.prototype.draw=function(t){},o.prototype.drawBackground=function(t){var e=this._data;S(t,e.x1,e.y1,e.x2-e.x1,e.y2-e.y1,T.generateColor(this._data.color,this._data.transparency))},o.prototype.hitTest=function(t){return null},v.StudyPaneView_backgrounds=function(t,e){this._study=t,this._model=e,this._data=[]},v.StudyPaneView_backgrounds.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_backgrounds.prototype.renderer=function(){var t,e;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)t.append(new o(this._data[e]));return t},v.StudyPaneView_backgrounds.prototype._hideExtendedHours=function(t){return("inSession"===t||"outOfSession"===t)&&!this._study._series.properties().extendedHours.value()},
v.StudyPaneView_backgrounds.prototype._updateViewInternal=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b;if(this._data=[],(t=this._study.graphics().backgrounds)&&(e=this._model.timeScale(),(i=this._study.priceScale())&&!i.isEmpty()&&e&&!e.isEmpty()))for(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),s=n.lastBar(),a=0;a<t.length;a++)if(l=t[a],c=l.styleId,h=l.data,d=this._study.properties().graphics.backgrounds[c],!this._hideExtendedHours(c)&&d.visible.value())for(f=0;f<h.length;f++)_=h[f],g={},m=o[_.start],(v=o[_.stop])<r||m>s||null!=_.start&&null!=_.stop&&(y=Math.ceil(e.indexToCoordinate(m,!0)-.5*e.barSpacing()),b=Math.ceil(e.indexToCoordinate(v,!0)+.5*e.barSpacing()),p===m-1&&(y=u),u=b,p=v,y<0&&b<0||y>e.width()&&b>e.width()||(g.x1=y,g.x2=b,g.y1=0,g.y2=i.height(),g.color=d.color.value(),g.transparency=d.transparency.value(),this._data.push(g)))},v.StudyPaneView_polygons=function(t,e){this._study=t,this._model=e,this._data=[]},v.StudyPaneView_polygons.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_polygons.prototype.renderer=function(){var t,e,i;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)i=new m(new b(b.REGULAR)),i.setData(this._data[e]),t.append(i);return t},v.StudyPaneView_polygons.prototype._updateViewInternal=function(){var t,e,i,o,n,r,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T;if(this._data=[],(t=this._study.graphics().polygons)&&(e=this._study.priceScale(),i=this._study._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),a=n.lastBar(),l=0;l<t.length;l++)if(c=t[l],c.data&&(h=this._study.properties().graphics.polygons[c.styleId],100!==h.transparency.value()))for(d=0;d<c.data.length;d++){for(u=c.data[d],p=1/0,f=-1/0,_=0;u.points&&_<u.points.length;_++)g=o[u.points[_].index]+(u.points[_].offset||0),p=Math.min(p,g),f=Math.max(f,g);if(!(f<r||p>a)){for(m={},m.points=[],_=0;u.points&&_<u.points.length;_++)v=u.points[_],y=i.indexToCoordinate(o[v.index]+(v.offset||0)),b=v.level,e.isPercent()&&(w=this._study.firstValue(),b=e.priceRange().convertToPercent(b,w)),S=e.priceToCoordinate(b),T=new s(y,S),T.data=_,m.points.push(T);m.color=h.color.value(),m.backcolor=h.color.value(),m.linewidth=void 0!==h.showBorder&&h.showBorder.value()?1:0,m.linestyle=CanvasEx.LINESTYLE_SOLID,m.filled=!0,m.fillBackground=!0,m.transparency=h.transparency.value(),m.mouseTouchable=h.mouseTouchable.value(),this._data.push(m)}}},v.StudyPaneView_trendchannels=function(t,e){this._study=t,this._model=e,this._data=[]},v.StudyPaneView_trendchannels.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_trendchannels.prototype.renderer=function(){var t,e,i;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,e=0;e<this._data.length;e++)i=new m(new b(b.REGULAR)),i.setData(this._data[e]),t.append(i);return t},v.StudyPaneView_trendchannels.prototype._convertToYCoord=function(t){
var e=this._study.priceScale(),i=this._study.firstValue();return e.isPercent()&&(t=e.priceRange().convertToPercent(t,i)),e.priceToCoordinate(t)},v.StudyPaneView_trendchannels.prototype._updateViewInternal=function(){var t,e,i,o,n,r,l,c,h,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R;if(this._data=[],(t=this._study.graphics().trendchannels)&&(e=this._study.priceScale(),i=this._study._model.timeScale(),e&&!e.isEmpty()&&i&&!i.isEmpty()))for(o=function(t,e,i,o,n,r){var l,c,h,u;return a(t,e)?[t,e]:(l=new s(0,0),c=new s(i,o),n&&(h=t.subtract(e),u=d(t,t.add(h),l,c),u?t=u:e.x=i),r&&(h=e.subtract(t),u=d(e,e.add(h),l,c),u?e=u:e.x=i),[t,e])},n=this._study.graphics().indexes,r=this._model.timeScale().visibleBars(),l=r.firstBar(),c=r.lastBar(),h=0;h<t.length;h++)if(u=t[h],u.data)for(p=this._study.properties().graphics.trendchannels[u.styleId],f=0;f<u.data.length;f++)_=u.data[f],g=n[_.startIndex],m=n[_.endIndex],Math.max(g,m)<l&&!_.extendRight||Math.min(g,m)>c&&!_.extendLeft||(v=this._convertToYCoord(_.startHighPrice),y=this._convertToYCoord(_.startLowPrice),b=this._convertToYCoord(_.endHighPrice),w=v-y,S=b-w,T=i.indexToCoordinate(g),x=i.indexToCoordinate(m),P=new s(T,v),C=new s(T,y),M=new s(x,b),k=new s(x,S),L=o(P,M,i.width(),e.height(),_.extendLeft,_.extendRight),I=o(C,k,i.width(),e.height(),_.extendLeft,_.extendRight),P=L[0],M=L[1],C=I[0],k=I[1],A={},A.points=[P,C,k,M],A.color=p.color.value(),A.backcolor=p.color.value(),A.linewidth=void 0!==p.borderWidth?p.borderWidth.value():0,A.linestyle=CanvasEx.LINESTYLE_SOLID,A.filled=!0,A.fillBackground=!0,_.transparency?(R=_.transparency+p.transparency.value(),A.transparency=Math.min(R,100)):A.transparency=p.transparency.value(),A.mouseTouchable=!0,this._data.push(A))},v.StudyPaneView_hhists=function(t,e){this._study=t,this._model=e,this._rendererData={histsByLineWidth:{},histsBySession:{}},this._textData=[],this._textRendererCache={},this._horizHistogramRenderer=new _(this._rendererData)},v.StudyPaneView_hhists.prototype.update=function(){this._invalidated=!0},v.StudyPaneView_hhists.prototype.renderer=function(){var t,e;for(this._invalidated&&(this._updateViewInternal(),this._invalidated=!1),t=new w,t.append(this._horizHistogramRenderer),e=0;e<this._textData.length;e++)t.append(new u(this._textData[e],new b(b.REGULAR)));return t},v.StudyPaneView_hhists.prototype._resetRenderersData=function(){this._rendererData.histsByLineWidth={},this._rendererData.histsBySession={},this._textData=[],this._maxHistWidth=null},v.StudyPaneView_hhists.prototype._updateColors=function(){var t=this._study.properties().graphics.hhists.histBars,e=this._study.properties().graphics.hhists.vaBars,i=T.generateColor(t.colors[0].value(),t.transparencies[0].value()),o=T.generateColor(t.colors[1].value(),t.transparencies[1].value()),n=e?T.generateColor(e.colors[0].value(),e.transparencies[0].value()):"rgba(255, 0, 0, 1)",r=e&&e.colors[1]?T.generateColor(e.colors[1].value(),e.transparencies[1].value()):n;this._colors={histBars:[i,o],vaBars:[T.blendColors(i,n),T.blendColors(o,r)]}},
v.StudyPaneView_hhists.prototype._updateViewInternal=function(){var t,e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v;if(this._resetRenderersData(),t=this._study.priceScale(),e=this._model.timeScale(),t&&!t.isEmpty()&&e&&!e.isEmpty()&&(i=this._study.graphics().hhists)&&(o=this._study.graphics().indexes,n=this._model.timeScale().visibleBars(),r=n.firstBar(),s=n.lastBar(),a=i[0],l=this._study.properties().graphics.hhists[a.styleId],l.visible.value())){this._updateColors(),c=a.shortDataObj,h=a.dataObj,d=c||h;for(u in d){for(p=d[u],f=1/0,_=-1/0,g=p.length;g--;)m=p[g],f=Math.min(f,o[m.firstBarTime]),_=Math.max(_,o[m.lastBarTime]);_<r||f>s||(v=this._findMaxRate(p),this._updateDataForRenderers(p,l,t,e,o,v,u))}}},v.StudyPaneView_hhists.prototype._updateDataForRenderers=function(t,e,i,o,r,a,l){var c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,P,C,M,k,L,I,A,R=null,D=null,E={},O={},V={},$={},B=i.height(),z=i.isPercent(),F=e.percentWidth.value(),N=e.showValues.value(),H=e.location.value(),W=e.direction.value(),U=H===CanvasEx.HHISTLOC_ABSOLUTE,j=H===CanvasEx.HHISTLOC_RELATIVE,q=W===CanvasEx.HHISTDIR_LEFTTORIGHT,G=W===CanvasEx.HHISTDIR_RIGHTTOLEFT,Y=this._rendererData.histsByLineWidth,X=this._rendererData.histsBySession,K={};for(X[l]=K,f=0;f<t.length;f++){if(_=t[f],null==R&&(R=this._findActualRateLength(_.rate)),null==this._maxHistWidth&&(g=Math.abs(o.indexToCoordinate(r[_.firstBarTime])-o.indexToCoordinate(r[_.lastBarTime])),this._maxHistWidth=Math.max(F*g/100-R,0)),U&&q)u=o.indexToCoordinate(r[_.firstBarTime]),d=1,p="left";else if(U&&G)u=o.indexToCoordinate(r[_.lastBarTime]),d=-1,p="right";else if(j&&q)u=0,d=1,p="left";else{if(!j||!G)throw Error("Unknown location/direction values: "+H+"/"+W);u=o.width(),d=-1,p="right"}for(z?(m=this._study.firstValue(),c=i.priceRange().convertToPercent(_.priceHigh,m),h=i.priceRange().convertToPercent(_.priceLow,m)):(c=_.priceHigh,h=_.priceLow),y=0;y<R;y++)if(b={},b.y1=i.priceToCoordinate(c)+1,!(b.y1<0||(b.y2=i.priceToCoordinate(h)-1,b.y2>B))){if(D||(D=.6*(b.y2-b.y1)),N&&(void 0===E[y]?E[y]=_.rate[y]:E[y]+=_.rate[y]),N&&y===R-1&&D>=7.5){for(w={},S=this._study.formatter(),w.text="",T=0;T<R;T++)w.text=n(w.text,S.format(_.rate[T]),W),T!==R-1&&(w.text=n(w.text,"x",W));if(w.color=e.valuesColor.value(),w.font="arial",w.fontsize=D,w.horzAlign=p,w.vertAlign="middle",P=new s(u+3*d,b.y2-.61*(b.y2-b.y1)),w.points=[P],w.offsetX=0,w.offsetY=0,this._textData.push(w),0===f&&(v=b.y2),f===t.length-1){for(C=u+3*d,M=v+.39*(b.y2-b.y1),k={text:"",color:x(e.valuesColor.value(),1.5),font:"arial",fontsize:D,horzAlign:p,vertAlign:"middle",points:[new s(C,M)],offsetX:0,offsetY:0},T=0;T<R;T++)k.text=n(k.text,S.format(E[T]),W),T!==R-1&&(k.text=n(k.text,"x",W));this._textData.push(k)}}b.x1=0===y?u:u+d*(this._maxHistWidth*_.rate[y-1]/a),b.x2=b.x1+d*(this._maxHistWidth*_.rate[y]/a),Math.abs(b.y1-O[y])<1?(V[y]?V[y].push(b.x1):V[y]=[b.x1],$[y]?$[y].push(b.x2):$[y]=[b.x2]):((V[y]||$[y])&&(V[y].push(b.x1),$[y].push(b.x2),b.x1=Math.max.apply(null,V[y]),b.x2=Math.max.apply(null,$[y]),delete V[y],delete $[y]),O[y]=b.y1,Math.abs(b.x2-b.x1)<.5||(b.x0=u,
L=_.va?this._colors.vaBars[y]:this._colors.histBars[y],I=Math.round(b.y2-b.y1),Y[I]||(Y[I]={}),A=Y[I],A[L]?A[L].push(b):A[L]=[b],K[f]?K[f].x2<b.x2&&(K[f].x2=b.x2):K[f]={x1:u,x2:b.x2,y1:b.y1,y2:b.y2}))}}},v.StudyPaneView_hhists.prototype._findMaxRate=function(t){var e,i,o=0,n=0;for(e=0;e<t.length;e++){for(n=0,i=0;i<t[e].rate.length;i++)n+=t[e].rate[i];o=Math.max(o,n)}return o},v.StudyPaneView_hhists.prototype._findActualRateLength=function(t){var e,i,o=0;for(e=0;e<t.length&&(null!==(i=t[e])&&void 0!==i);++e)o++;return o},t.exports=v},function(t,e,i){"use strict";function o(t,e){return t.y1-1>e?1:t.y2+1<e?-1:0}var n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),n=i(134),r=i(11),s=function(){function t(t){this._data=null,this._data=t}return t.prototype.hitTest=function(t){var e,i,s,a,l,c,h,d,u,p=this._data;if(null===p)return null;if(e=Object.keys(p.histsBySession),0===e.length)return null;for(i=e.length-1;i>=0;i--){s=p.histsBySession[parseInt(e[i],10)],a=[];for(l in s)s.hasOwnProperty(l)&&a.push(s[l]);if(-1!==(c=n.bSearch(a,t.y,o))&&(h=a[c],d=Math.min(h.x1,h.x2),u=Math.max(h.x1,h.x2),t.x>=d&&t.x<=u))return new r(r.REGULAR)}return null},t.prototype.draw=function(t){var e,i,o,n,r,s,a,l,c,h,d=this._data;if(null!==d){t.save();for(e in d.histsByLineWidth)if(d.histsByLineWidth.hasOwnProperty(e)){i=parseInt(e,10),o=d.histsByLineWidth[e],n=i%2==0?.5:0,r=Math.round(i/2);for(s in o)if(o.hasOwnProperty(s)){for(t.strokeStyle=s,t.lineWidth=i*(window.hidpiCanvasRatio||1),t.beginPath(),a=o[s],l=0,c=a;l<c.length;l++)h=c[l],t.moveTo(h.x1+n,h.y1+r+n),t.lineTo(h.x2+n,h.y1+r+n);t.stroke()}}t.restore()}},t}(),e.HorizHistogramRenderer=s},function(t,e,i){"use strict";var o,n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(9),r=i(80),s=i(10),a=function(t){function e(e,i){var o=t.call(this)||this;return o._source=e,o._data=i,o}return o.__extends(e,t),e.prototype._updateRendererData=function(t){var e,i,o,r,a,l;if(t.visible=!1,e=this._source.priceScale(),i=this._source.properties().visible.value(),e&&!e.isEmpty()&&i&&(o=this._source.properties().graphics[this._data.lineType][this._data.styleId],o.visible&&o.visible.value()&&o.showPrice&&o.showPrice.value())){if(r=this._data.line.level,e.isPercent()){if(a=this._source.firstValue(),!s.isNumber(a))return;r=n.ensureNotNull(e.priceRange()).convertToPercent(r,a)}l=o.color.value(),t.background=l,t.color=this.generateTextColor(l),t.coordinate=e.priceToCoordinate(r),t.text=e.formatter().format(r),t.visible=!0}},e}(r.PriceAxisView),e.HLinesPriceAxisView=a},function(t,e,i){"use strict";function o(){}var n=i(36),r=n.min,s=n.max;o.prototype._locationToY=function(t,e,i){var o,n,a,l,c,h,d;switch(i||(i=0),o=[],n=this._study.priceScale(),t){case CanvasEx.MARKLOC_ABOVEBAR:a=TradingView.HIGH_PLOT;break;case CanvasEx.MARKLOC_BELOWBAR:a=TradingView.LOW_PLOT}for(l=this._study.firstValue(),i>=1&&(i-=1),c=-i;c<=i;c++)null!==(h=this._study.series().bars().valueAt(e+c))&&(d=h[a],n.isPercent()&&(d=n.priceRange().convertToPercent(d,l)),o.push(n.priceToCoordinate(d)));switch(t){
case CanvasEx.MARKLOC_ABOVEBAR:return r(o)-15;case CanvasEx.MARKLOC_BELOWBAR:return s(o)+15}},t.exports=o},,function(t,e,i){"use strict";function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stock";return"forex"===e?g:"crypto"===e?m:v[t]||_}function n(t){return"stock"===t?u:"forex"===t?p:"crypto"===t?f:u}function r(t){switch(t){case"stock":case"futures":return y;case"forex":return b;case"crypto":case"crypto_mkt":return w;case"cfd":return S}return y}var s=i(10),a=i(1248),l=i(1249),c=i(1081),h=i(1082),d={america:{title:$.t("USA")},colombia:{title:$.t("Colombia")},uae:{title:$.t("United Arab Emirates")},uk:{title:$.t("United Kingdom")},india:{title:$.t("India")},spain:{title:$.t("Spain")},russia:{title:$.t("Russia")},australia:{title:$.t("Australia")},brazil:{title:$.t("Brazil")},japan:{title:$.t("Japan")},newzealand:{title:$.t("New Zealand")},nigeria:{title:$.t("Nigeria")},turkey:{title:$.t("Turkey")},switzerland:{title:$.t("Switzerland")},hongkong:{title:$.t("Hong Kong")},taiwan:{title:$.t("Taiwan")},singapore:{title:$.t("Singapore")},euronext:{title:$.t("European Union")},mexico:{title:$.t("Mexico")},canada:{title:$.t("Canada")},germany:{title:$.t("Germany")},israel:{title:$.t("Israel")},peru:{title:$.t("Peru")},poland:{title:$.t("Poland")},italy:{title:$.t("Italy")},argentina:{title:$.t("Argentina")},egypt:{title:$.t("Egypt")},serbia:{title:$.t("Serbia")},chile:{title:$.t("Chile")},china:{title:$.t("China")},malaysia:{title:$.t("Malaysia")},ksa:{title:$.t("Saudi Arabia")},bahrain:{title:$.t("Bahrain")}},u=(0,s.merge)(a,d),p={forex:{icon:'<span class="tv-screener-market-select__item-forex">'+h+"</span>",title:$.t("Forex"),stocks:[]}},f={crypto:{icon:c,title:$.t("Cryptocurrencies"),stocks:[]}},_="america",g="forex",m="crypto",v={au:"australia",br:"brazil",de_DE:"germany",es:"spain",ja:"japan",in:"india",it:"italy",ms_MY:"malaysia",pl:"poland",ru:"russia",tr:"turkey",uk:"uk",zh_TW:"taiwan",zh_CN:"china"},y={america:{market_cap_basic:[5e7,3e8,2e9,1e10,5e10,1e11,2e11],volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7],average_volume_10d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7],average_volume_30d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7],average_volume_60d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7],average_volume_90d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7],relative_volume_10d_calc:[0,5,10,15,20,50,75,100],change_abs:[-100,-50,-20,-10,0,10,20,50,100],change:[-50,-20,-10,0,10,20,50],pre_change:[-50,-20,-10,0,10,20,50],open:[10,20,50,100],close:[10,20,50,100],rtc:[10,20,50,100],high:[10,20,50,100],low:[10,20,50,100],gap:[-50,-20,-10,0,10,20,50],price_earnings_ttm:[0,5,10,15,20,25,30,35,40,45,50],price_earnings_to_growth_ttm:[0,1,2,3],price_sales_ratio:[0,5,10,15,20,25,30,35,40,45,50],return_on_assets:[-50,-30,-20,-15,-10,-5,0,5,10,15,20,30,50],return_on_equity:[-50,-30,-20,-15,-10,-5,0,5,10,15,20,30,50],debt_to_equity:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1],current_ratio:[0,5,10,15,20,25,30,35,40,45,50],quick_ratio:[0,5,10,15,20,25,30,35,40,45,50],price_book_fq:[0,1,2,3,4,5,6,7,8,9,10],
price_book_ratio:[0,1,2,3,4,5,6,7,8,9,10],price_free_cash_flow_ttm:[0,5,10,15,20,25,30,35,40,45,50,60,70,80,90,100],beta_1_year:[-2,-1.5,-1,-.5,0,.5,1,1.5,2],operating_margin:[-50,-20,-10,0,10,20,50],earnings_per_share_basic_ttm:[-100,-50,-20,-10,0,10,20,50,100],ebitda:[5e5,1e6,5e6,1e7,5e7,1e8,5e8,1e9,2e9,5e9,1e10,25e9,5e10],change_from_open:[-50,-20,-10,0,10,20,50],"Perf.W":[-50,-20,-10,0,10,20,50],"Perf.1M":[-50,-20,-10,0,10,20,50],"Perf.3M":[-50,-20,-10,0,10,20,50],"Perf.6M":[-50,-20,-10,0,10,20,50],"Perf.Y":[-50,-20,-10,0,10,20,50],"Perf.YTD":[-50,-20,-10,0,10,20,50],"Volatility.W":[0,5,10,15,20,30,50,70],"Volatility.M":[0,5,10,15,20,30,50,70],"Volatility.D":[0,5,10,15,20,30,50,70],ADX:[10,20,30,40,50,60,70,80,90],ATR:[.25,.5,.75,1,1.5,2,2.5,3,3.5,4,4.5,5],Mom:[-30,-20,-15,-10,-5,0,5,10,15,20,30],goodwill:[5e7,3e8,2e9,1e10,2e11],cash_ratio:[-100,-50,-20,-10,0,10,20,50,100],net_debt:[-2e11,-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11],total_debt:[5e7,3e8,2e9,1e10,2e11],revenue_per_employee:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7],return_on_invested_capital:[-100,-50,-20,-10,0,10,20,50,100],after_tax_margin:[-100,-50,-20,-10,0,10,20,50,100],pre_tax_margin:[-100,-50,-20,-10,0,10,20,50,100],gross_margin:[-100,-50,-20,-10,0,10,20,50,100],dividends_paid:[-2e11,-1e10,-2e9,-3e8,-5e7,0],dividends_yield:[0,5,10,15,20,25,50,100],basic_eps_net_income:[-100,-50,-20,-10,0,10,20,50,100],net_income:[-5e10,-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11],gross_profit:[-2e11,-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11],gross_profit_fq:[-2e11,-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11],number_of_shareholders:[100,500,1e3,1e4,1e5,1e6],float_shares_outstanding:[5e7,3e8,2e9,1e10,2e11],total_shares_outstanding_fundamental:[5e7,3e8,2e9,1e10,2e11],total_assets:[5e7,3e8,2e9,1e10,2e11],total_current_assets:[5e7,3e8,2e9,1e10,2e11],total_revenue:[0,5e7,3e8,2e9,1e10,2e11,5e11],expected_annual_dividends:[5,10,15,20],dividends_per_share_fq:[0,10,20,50],earnings_per_share_diluted_ttm:[-100,-50,-20,-10,0,10,20,50,100],earnings_per_share_forecast_next_fq:[-100,-50,-20,-10,0,10,20,50,100],earnings_per_share_fq:[-100,-50,-20,-10,0,10,20,50,100],enterprise_value_ebitda_ttm:[-5e3,-1e3,0,1e3,5e3],enterprise_value_fq:[-2e11,-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11],eps_surprise_fq:[-100,-50,-20,-10,0,10,20,50,100],eps_surprise_percent_fq:[-30,-20,-15,-10,-5,0,5,10,15,20,30],price_revenue_ttm:[0,5,10,50,100,1e3,5e3,1e4],number_of_employees:[100,500,1e3,1e4,1e5,1e6],last_annual_eps:[-100,-50,-20,-10,0,10,20,50,100],last_annual_revenue:[5e7,3e8,2e9,1e10,2e11],CCI20:[-100,-50,-20,-10,0,10,20,50,100],ChaikinMoneyFlow:[-1,-.9,-.8,-.7,-.6,-.5,-.4,-.3,-.2,-.1,0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],MoneyFlow:[0,5,10,15,25,50,100],"Value.Traded":[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,1e8,5e8,75e7]},uk:{average_volume_10d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,1e8],open:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],close:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],high:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],low:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],
current_ratio:[0,5,10,15,20,25,30,35,40,45,50,75,100],total_shares_outstanding_fundamental:[5e6,1e7,5e7,3e8,2e9,1e10,5e10,1e11],dividends_paid:[-2e11,-15e10,-5e10,-1e10,-2e9,-3e8,-1e8,-5e7,0],gross_profit:[-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11]},india:{market_cap_basic:[1e7,5e7,3e8,2e9,1e10,2e11,5e11,1e12,2e12],open:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],close:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],high:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],low:[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4],quick_ratio:[0,5,10,15,20,25,30,35,40,45,50,100,500],change_from_open:[-20,-10,0,10,20,50],revenue_per_employee:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,1e8,3e8,5e8],dividends_paid:[-5e10,-1e10,-2e9,-3e8,-1e8,-5e7,0],gross_profit:[-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11],total_shares_outstanding_fundamental:[5e7,3e8,2e9,5e9,1e10],number_of_employees:[100,500,1e3,1e4,1e5,2e5]},spain:{market_cap_basic:[1e7,3e7,5e7,1e8,3e8,5e8,1e9,1e10,5e10],volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7],relative_volume_10d_calc:[0,1,2,3,4,5,10],change:[-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10],pre_change:[-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10],gap:[-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10],quick_ratio:[0,1,2,3,4,5,10],ebitda:[5e5,1e6,5e6,1e7,5e7,1e8,5e8,1e9,2e9,5e9,1e10,15e9],"Volatility.W":[0,5,10,15,20],"Volatility.M":[0,5,10,15,20],"Volatility.D":[0,5,10,15,20],Mom:[-15,-10,-5,0,5,10,15],goodwill:[5e7,3e8,2e9,1e10,25e9],revenue_per_employee:[1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7],dividends_paid:[-5e9,-2e9,-3e8,-1e8,-5e7,0],gross_profit:[-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e10],price_revenue_ttm:[0,5,10,50,100]},russia:{market_cap_basic:[1e7,5e7,3e8,2e9,1e10,2e11,5e11,1e12,2e12],volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,1e8,25e7,5e8,1e9],average_volume_10d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,1e8,25e7,5e8,1e9],relative_volume_10d_calc:[0,1,2,3,4,5,10,15,20,50],change:[-30,-20,-15,-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10,15,20,30],pre_change:[-30,-20,-15,-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10,15,20,30],open:[10,20,50,100,200,500,1e3,2e3,5e3],close:[10,20,50,100,200,500,1e3,2e3,5e3],high:[10,20,50,100,200,500,1e3,2e3,5e3],low:[10,20,50,100,200,500,1e3,2e3,5e3],gap:[-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10],quick_ratio:[0,1,2,3,4,5,10,15,20],price_free_cash_flow_ttm:[0,5,10,15,20,25,30,35,40,45,50],change_from_open:[-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10],"Volatility.W":[0,5,10,15,20,30,50],"Volatility.M":[0,5,10,15,20,30,50],"Volatility.D":[0,5,10,15,20,30,50],goodwill:[1e7,5e7,3e8,2e9,1e10,1e11],revenue_per_employee:[1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,3e7],dividends_paid:[-15e10,-5e10,-1e10,-2e9,-3e8,-1e8,-5e7,0],gross_profit:[-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e11],price_revenue_ttm:[0,5,10,50,100],number_of_employees:[100,500,1e3,1e4,1e5,5e5],last_annual_eps:[-100,-50,-20,-10,0,10,20,50,100,500,1e3]},australia:{market_cap_basic:[5e7,3e8,2e9,1e10,5e10,1e11,15e10],earnings_per_share_basic_ttm:[-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10],ebitda:[5e5,1e6,5e6,1e7,5e7,1e8,5e8,1e9,2e9,5e9,1e10,2e10],dividends_paid:[-5e9,-2e9,-3e8,-5e7,0]},brazil:{
market_cap_basic:[1e7,5e7,3e8,2e9,1e10,2e11,5e11,1e12],volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7],average_volume_10d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7],relative_volume_10d_calc:[0,1,2,3,4,5,10,15,20,50],open:[10,20,50,100,200,500,1e3],close:[10,20,50,100,200,500,1e3],high:[10,20,50,100,200,500,1e3],low:[10,20,50,100,200,500,1e3],earnings_per_share_basic_ttm:[-50,-20,-10,0,10,20,50],change_from_open:[-20,-10,0,10,20],"Volatility.W":[0,5,10,15,20],"Volatility.M":[0,5,10,15,20],goodwill:[5e7,3e8,2e9,1e10],cash_ratio:[-50,-20,-10,0,10,20,50],revenue_per_employee:[5e4,1e5,5e5,75e4,1e6,2e6,5e6],dividends_paid:[-1e10,-2e9,-3e8,-1e8,-5e7,0],net_income:[-2e10,-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,1e10,2e10],gross_profit:[-1e8,-5e7,5e7,3e8,2e9,1e10,1e11],total_shares_outstanding_fundamental:[5e7,3e8,2e9,5e9,1e10],total_current_assets:[5e7,3e8,2e9,1e10,1e11],total_revenue:[0,5e7,3e8,2e9,1e10,2e11],price_revenue_ttm:[0,5,10,50,100,1e3],number_of_employees:[100,500,1e3,1e4,1e5],last_annual_eps:[-100,-50,-20,-10,0,10,20]},japan:{market_cap_basic:[1e7,5e7,3e8,2e9,1e10,2e11,5e11,1e12,2e12,5e12],price_revenue_ttm:[0,5,10,50,100],relative_volume_10d_calc:[0,5,10,15,20,50],change:[-30,-20,-10,0,10,20,30],pre_change:[-30,-20,-10,0,10,20,30],open:[10,20,50,100,200,500,1e3,1e4,1e5],close:[10,20,50,100,200,500,1e3,1e4,1e5],high:[10,20,50,100,200,500,1e3,1e4,1e5],low:[10,20,50,100,200,500,1e3,1e4,1e5],gap:[-20,-10,0,10,20],ebitda:[5e5,1e6,5e6,1e7,5e7,1e8,5e8,1e9,2e9,5e9,1e10,25e9,5e10,1e11,2e11,5e11],change_from_open:[-20,-10,-5,0,5,10,20],"Volatility.W":[0,5,10,15,20,30],"Volatility.M":[0,5,10,15,20,30],"Volatility.D":[0,5,10,15,20,30],revenue_per_employee:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,5e7]},newzealand:{market_cap_basic:[5e7,3e8,2e9,1e10,5e10,1e11],volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7],average_volume_10d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7],relative_volume_10d_calc:[0,1,2,3,4,5,10,15],open:[5,10,20,50],close:[5,10,20,50],high:[5,10,20,50],low:[5,10,20,50],current_ratio:[0,5,10,15,20,25],quick_ratio:[0,5,10,15,20,25],earnings_per_share_basic_ttm:[-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10],ebitda:[5e5,1e6,5e6,1e7,5e7,1e8,5e8,1e9,2e9,5e9,1e10,2e10],change_from_open:[-20,-15,-10,-5,0,5,10,15,20],"Volatility.W":[0,1,2,3,4,5,10,15,20,30],"Volatility.M":[0,1,2,3,4,5,10,15,20,30],"Volatility.D":[0,1,2,3,4,5,10,15,20,30],ATR:[.25,.5,.75,1,1.5,2],Mom:[-5,-4,-3,-2,-1,0,1,2,3,4,5],goodwill:[25e6,5e7,1e8,25e7,5e8,2e9],cash_ratio:[-5,-4,-3,-2,-1,0,1,2,3,4,5],revenue_per_employee:[5e4,1e5,5e5,75e4,1e6,2e6,5e6],dividends_paid:[-5e9,-2e9,-3e8,-5e7,0],basic_eps_net_income:[-5,-4,-3,-2,-1,0,1,2,3,4,5],net_income:[-5e10,-1e10,-2e9,-3e8,-5e7,5e7,3e8,2e9,5e9],gross_profit:[0,25e6,5e7,25e7,5e8,2e9,1e10],total_shares_outstanding_fundamental:[5e7,3e8,2e9,1e10],total_current_assets:[5e7,3e8,2e9,1e10],total_revenue:[0,5e7,3e8,2e9,1e10,25e9],earnings_per_share_diluted_ttm:[-5,-4,-3,-2,-1,0,1,2,3,4,5],earnings_per_share_forecast_next_fq:[-5,-4,-3,-2,-1,0,1,2,3,4,5],earnings_per_share_fq:[-5,-4,-3,-2,-1,0,1,2,3,4,5],price_revenue_ttm:[0,5,10,50,100],
number_of_employees:[100,500,1e3,1e4,5e4],last_annual_eps:[-5,-4,-3,-2,-1,0,1,2,3,4,5],"Value.Traded":[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7]},turkey:{market_cap_basic:[5e6,1e7,5e7,3e8,2e9,1e10,3e10,5e10],relative_volume_10d_calc:[0,1,2,3,4,5,10,15],change:[-20,-15,-10,-5,0,5,10,15,20],pre_change:[-20,-15,-10,-5,0,5,10,15,20],gap:[-20,-10,-5,0,5,10,20],"Volatility.W":[0,1,2,3,4,5,10,15,20,30],"Volatility.M":[0,1,2,3,4,5,10,15,20,30],"Volatility.D":[0,1,2,3,4,5,10,15,20,30],"Value.Traded":[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7]},switzerland:{volume:[5e4,1e5,25e4,5e5,75e4,1e6,2e6,5e6],average_volume_10d_calc:[5e4,1e5,25e4,5e5,75e4,1e6,2e6,5e6],change:[-20,-15,-10,-5,0,5,10,15,20],pre_change:[-20,-15,-10,-5,0,5,10,15,20]},hongkong:{market_cap_basic:[5e7,3e8,2e9,1e10,5e10,1e11,2e11,25e10,5e11,75e10,1e12],volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,1e8,25e7],average_volume_10d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,1e8,25e7]},taiwan:{change:[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10],pre_change:[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10],"Volatility.W":[0,1,2,3,4,5,10,15,20,30],"Volatility.M":[0,1,2,3,4,5,10,15,20,30],"Volatility.D":[0,1,2,3,4,5,10,15,20,30]},euronext:{},mexico:{market_cap_basic:[1e7,5e7,3e8,2e9,1e10,2e11,5e11,1e12,2e12],change:[-30,-20,-15,-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10,15,20,30],pre_change:[-30,-20,-15,-10,-5,-4,-3,-2,-1,0,1,2,3,4,5,10,15,20,30],open:[10,20,50,100,200,500,1e3,2e3,5e3],close:[10,20,50,100,200,500,1e3,2e3,5e3],high:[10,20,50,100,200,500,1e3,2e3,5e3],low:[10,20,50,100,200,500,1e3,2e3,5e3]},canada:{volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7]},colombia:{},uae:{},nigeria:{},singapore:{},germany:{volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,25e6]},peru:{},poland:{volume:[5e4,1e5,2e5,5e5,75e4,1e6,2e6]},italy:{},argentina:{volume:[5e4,1e5,2e5,5e5,75e4,1e6,2e6,5e6,1e7]},israel:{},egypt:{},serbia:{},chile:{},china:{},malaysia:{},ksa:{},bahrain:{}},b={forex:{change_abs:[-50,-20,-10,0,10,20,50],change:[-5,-1,-.5,-.4,-.3,-.2,-.1,0,-.1,.2,.3,.4,.5,1,5],bid:[5,10,20,50,100,500,1e3,5e3],ask:[5,10,20,50,100,500,1e3,5e3],open:[5,10,20,50,100,500,1e3,5e3],close:[5,10,20,50,100,500,1e3,5e3],high:[5,10,20,50,100,500,1e3,5e3],low:[5,10,20,50,100,500,1e3,5e3],change_from_open:[-5,-2.5,-1,-.5,-.4,-.3,-.2,-.1,0,-.1,.2,.3,.4,.5,1,2.5,5],"Perf.W":[-50,-20,-10,0,10,20,50],"Perf.1M":[-50,-20,-10,0,10,20,50],"Perf.3M":[-50,-20,-10,0,10,20,50],"Perf.6M":[-50,-20,-10,0,10,20,50],"Perf.Y":[-50,-20,-10,0,10,20,50],"Perf.YTD":[-50,-20,-10,0,10,20,50],"Volatility.W":[0,5,10,15,20,30,50,70],"Volatility.M":[0,5,10,15,20,30,50,70],"Volatility.D":[0,5,10,15,20,30,50,70],ADX:[10,20,30,40,50,60,70,80,90],ATR:[.25,.5,.75,1,1.5,2,2.5,3,3.5,4,4.5,5],Mom:[-30,-20,-15,-10,-5,0,5,10,15,20,30],CCI20:[-100,-50,-20,-10,0,10,20,50,100]}},w={crypto:{market_cap_calc:[1e4,1e5,5e5,1e6,1e7,3e8,2e9,1e10,5e10,1e11],market_cap_diluted_calc:[1e4,1e5,5e5,1e6,1e7,3e8,2e9,1e10,5e10,1e11],total_shares_outstanding:[1e6,5e6,1e7,5e7,1e8,5e8,1e9,5e9,1e10,5e10,1e11],
total_shares_diluted:[1e6,5e6,1e7,5e7,1e8,5e8,1e9,5e9,1e10,5e10,1e11],total_value_traded:[1e4,1e5,5e5,1e6,1e7,3e8,2e9,1e10,5e10],volume:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7],average_volume_10d_calc:[5e4,1e5,5e5,75e4,1e6,2e6,5e6,1e7,2e7,5e7,3e8,5e8,2e9],relative_volume_10d_calc:[0,.5,1,1.5,2,2.5,5],change_abs:[-100,-50,-20,-10,0,10,20,50,100],change:[-50,-20,-10,0,10,20,50],bid:[5,10,20,50,100,500,1e3,5e3],ask:[5,10,20,50,100,500,1e3,5e3],open:[5,10,20,50,100,500,1e3,5e3],close:[5,10,20,50,100,500,1e3,5e3],high:[5,10,20,50,100,500,1e3,5e3],low:[5,10,20,50,100,500,1e3,5e3],change_from_open:[-10,-5,-4,-3,-2,-1,-.5,0,.5,1,2,3,4,5,10],"Perf.W":[-50,-20,-10,0,10,20,50],"Perf.1M":[-50,-20,-10,0,10,20,50],"Perf.3M":[-50,-20,-10,0,10,20,50],"Perf.6M":[-50,-20,-10,0,10,20,50],"Perf.Y":[-50,-20,-10,0,10,20,50],"Perf.YTD":[-50,-20,-10,0,10,20,50],"Volatility.W":[0,5,10,15,20,30,50,70],"Volatility.M":[0,5,10,15,20,30,50,70],"Volatility.D":[0,5,10,15,20,30,50,70],ADX:[10,20,30,40,50,60,70,80,90],ATR:[.25,.5,.75,1,1.5,2,2.5,3,3.5,4,4.5,5],Mom:[-30,-20,-15,-10,-5,0,5,10,15,20,30],CCI20:[-100,-50,-20,-10,0,10,20,50,100]}},S={cfd:{volume:[1e3,5e3,1e4,5e4,1e5],average_volume_10d_calc:[5e3,1e4,5e4,1e5,1e6,1e7,1e8,1e9],relative_volume_10d_calc:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],change_abs:[-50,-20,-10,0,10,20,50],change:[-5,-1,-.5,-.4,-.3,-.2,-.1,0,-.1,.2,.3,.4,.5,1,5],bid:[5,10,20,50,100,500,1e3,5e3],ask:[5,10,20,50,100,500,1e3,5e3],open:[5,10,20,50,100,500,1e3,5e3],close:[5,10,20,50,100,500,1e3,5e3],high:[5,10,20,50,100,500,1e3,5e3],low:[5,10,20,50,100,500,1e3,5e3],change_from_open:[-5,-4,-3,-2,-1,-.5,0,.5,1,2,3,4,5],"Perf.W":[-50,-20,-10,0,10,20,50],"Perf.1M":[-50,-20,-10,0,10,20,50],"Perf.3M":[-50,-20,-10,0,10,20,50],"Perf.6M":[-50,-20,-10,0,10,20,50],"Perf.Y":[-50,-20,-10,0,10,20,50],"Perf.YTD":[-50,-20,-10,0,10,20,50],"Volatility.W":[0,5,10,15,20,30,50,70],"Volatility.M":[0,5,10,15,20,30,50,70],"Volatility.D":[0,5,10,15,20,30,50,70],ADX:[10,20,30,40,50,60,70,80,90],ATR:[.25,.5,.75,1,1.5,2,2.5,3,3.5,4,4.5,5],Mom:[-30,-20,-15,-10,-5,0,5,10,15,20,30],CCI20:[-100,-50,-20,-10,0,10,20,50,100]}},T={america:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]},unusual_volume:{relative_volume_10d_calc:[1,1e100]},earnings_this_week:{earnings_release_next_date:$.t("This Week")}},uk:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},india:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]},unusual_volume:{relative_volume_10d_calc:[2,1e100]}},spain:{top_gainers:{close:[1,1e4]},top_losers:{close:[1,1e4]},unusual_volume:{relative_volume_10d_calc:[.1,1e100]}},russia:{top_gainers:{close:null},top_losers:{close:null},unusual_volume:{relative_volume_10d_calc:[.5,1e100]}},australia:{top_gainers:{close:null},top_losers:{close:null}},brazil:{top_gainers:{close:null},top_losers:{close:null},unusual_volume:{relative_volume_10d_calc:[.5,1e100]}},japan:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},newzealand:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]},unusual_volume:{relative_volume_10d_calc:[.2,1e100]}},turkey:{
top_gainers:{close:null},top_losers:{close:null},unusual_volume:{relative_volume_10d_calc:[.2,1e100]}},switzerland:{top_gainers:{close:[.1,1e4]},top_losers:{close:[.1,1e4]}},hongkong:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},taiwan:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},euronext:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},mexico:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]},unusual_volume:{relative_volume_10d_calc:[.5,1e100]}},canada:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},singapore:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},germany:{top_gainers:{close:[1,1e4]},top_losers:{close:[1,1e4]}},poland:{top_gainers:{close:[1,1e4]},top_losers:{close:[1,1e4]},unusual_volume:{relative_volume_10d_calc:[.5,1e100]}},israel:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]},unusual_volume:{relative_volume_10d_calc:[.5,1e100]}},italy:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]},unusual_volume:{relative_volume_10d_calc:[.5,1e100]}},argentina:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]},unusual_volume:{relative_volume_10d_calc:[.2,1e100]}},forex:{top_gainers:{close:null},top_losers:{close:null},most_capitalized:null,earnings_this_week:null,volume_leaders:null,most_volatile:{"Volatility.D":[1,1e100]},unusual_volume:null},crypto:{top_gainers:{close:null},top_losers:{close:null},most_capitalized:null,earnings_this_week:null,volume_leaders:null,most_volatile:{"Volatility.D":[1,1e100]},unusual_volume:null},china:{top_gainers:{close:[2,1e4]},top_losers:{close:[2,1e4]}},chile:{top_gainers:{close:[1,1e4]},top_losers:{close:[1,1e4]}},bahrain:{top_gainers:{close:[.01,1e4]},top_losers:{close:[.01,1e4]}},malaysia:{top_gainers:{close:[.01,1e4]},top_losers:{close:[.01,1e4]}},serbia:{top_gainers:{close:[.1,1e4]},top_losers:{close:[.1,1e4]}},ksa:{top_gainers:{close:[1,1e4]},top_losers:{close:[1,1e4]}},egypt:{top_gainers:{close:[1,1e4]},top_losers:{close:[1,1e4]}}},x="us",P=function(t){var e,i=x;for(e in l)l[e]===t&&(i=e);return i},C=function(t){var e,i=x;for(e in a)a[e].stocks.includes(t)&&(i=P(e));return i},M=function(t,e){var i,o="";return"stock"===e||"index"===e||"futures"===e?(i=C(t),o=l[i]):o="bitcoin"===e?"crypto":e,o};t.exports={getMarketsByScreenerType:n,getMarketFieldValuesByScreenerType:r,marketFilterValues:T,getDefaultMarketForLocale:o,getMarketFromSymbol:M}},function(t,e,i){"use strict";(function(e){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(49),a=o(s),l=i(57),c=i(0),h=(0,c.getLogger)("ReutersCalendar"),d=function(){function t(i){if(n(this,t),!(this instanceof t))throw Error("ChartEvents is a constructor");this.changed=new e,this.reset(i),this.pendingDfd=null,
this._boundPushstreamHandler=this._pushstreamHandler.bind(this),a.default.on("chartevents-reuters",this._boundPushstreamHandler)}return r(t,[{key:"items",value:function(){return this._items}},{key:"reset",value:function(t){this.pendingDfd&&this.pendingDfd.reject(),this._items=[],this.itemsById={},this.minObtainedTimestamp=1/0,this.noResults=!1,t&&null!=t.from?this.from=+t.from:this.from=Date.now()-864e5,this._historyLimit=t&&t.historyLimit,t&&null!=t.to?this.to=t.to:this.to=this.from+this.defaultSelectionTimeAmount,this.from=this.cacheFriendlyTimestamp(this.from),this.to=this.cacheFriendlyTimestamp(this.to),this.currencyFilter=t&&t.currencyFilter?t.currencyFilter:[],t&&null!=t.minImportance&&isFinite(+t.minImportance)?this.minImportance=Math.max(-1,Math.min(1,Math.floor(t.minImportance))):this.minImportance=-1}},{key:"cacheFriendlyTimestamp",value:function(t){return t-t%36e5}},{key:"formatTimestampForRequest",value:function(t){return new Date(t).toISOString()}},{key:"requestMore",value:function(t){var e,i,o,n,r,s,a=this;return this.pendingDfd?this.pendingDfd.promise():(isFinite(this.minObtainedTimestamp)&&null!=this._historyLimit&&+new Date(this.from)<this._historyLimit&&(this.noResults=!0),this.noResults?$.Deferred().resolve({added:[],changed:[],noResults:!0}).promise():(e=$.Deferred(),this.pendingDfd=e,e.always(function(){a.pendingDfd=null}),i={},-1!==this.minImportance&&(i.minImportance=this.minImportance),isFinite(this.minObtainedTimestamp)&&(this.to=this.from,this.from=this.from-this.defaultSelectionTimeAmount),t&&t.from&&t.from<this.minObtainedTimestamp&&(this.from=this.cacheFriendlyTimestamp(t.from)),i.from=this.formatTimestampForRequest(this.from),i.to=this.formatTimestampForRequest(this.to),this.currencyFilter.length&&(i.currencies=""+this.currencyFilter),o=Object.keys(i).map(function(t){return t+"="+i[t]}).join("&"),n=this.eventsUrl+(o?"?"+o:""),r=Date.now(),s=$.ajax({method:"GET",url:n,dataType:"json"}).done(function(t,i,o){var n,s,c=Date.now()-r;if(l.Telemetry.sendReport("calendars","chartevents_http_status",{v:o.status}),l.Telemetry.sendReport("calendars","chartevents_response_time_frame",{v:c}),e===a.pendingDfd){if(!t||!t.status||"error"===t.status)return l.Telemetry.sendReport("calendars","chartevents_error"),n=t&&t.errmsg||"invalid response",h.logError(n),void e.reject(Error(n));l.Telemetry.sendReport("calendars","chartevents_ok"),a.minObtainedTimestamp=a.from,"no_data"===t.status&&(a.noResults=!0,a.minObtainedTimestamp=-1/0),s=a._mergeItems(t.result||[]),e.resolve(s),a.changed.fire(s)}}).fail(function(t){if(e===a.pendingDfd){h.logError("ChartEvents error on request {0}".format(n),t);var i=Date.now()-r;l.Telemetry.sendReport("calendars","chartevents_error"),l.Telemetry.sendReport("calendars","chartevents_http_status",{v:t.status||400}),l.Telemetry.sendReport("calendars","chartevents_response_time_frame",{v:i})}e.reject(t)}),e.fail(function(){s.abort()}),e.promise()))}},{key:"destroy",value:function(){a.default.off("chartevents-reuters",this._boundPushstreamHandler),this._items=[],this.reset()}},{
key:"_mergeItems",value:function(t){var e,i,o,n,r,s,a,l=this,c={added:[],changed:[],noResults:l.noResults},h=[];for(e=t.length;e--;)i=t[e],-1!==this.minImportance&&this.minImportance>i.importance||(i.timestamp=Date.parse(i.date),null!=this._historyLimit&&i.timestamp<this._historyLimit||h.push(i));for(o=0;o<h.length;o++)if(n=h[o],this.itemsById[n.id]){r=!1,s=this.itemsById[n.id];for(a in n)s[a]!==n[a]&&(s[a]=n[a],r=!0);r&&c.changed.push(s)}else this.itemsById[n.id]=n,this._items.push(n),c.added.push(n);return c}},{key:"_pushstreamHandler",value:function(t){var e=this._mergeItems([].concat(t));(e.changed.length||e.added.length)&&this.changed.fire(e)}},{key:"defaultSelectionTimeAmount",get:function(){return 6048e5}},{key:"eventsUrl",get:function(){return window.CHARTEVENTS_URL+"events"||"/chartevents/"}}]),t}();t.exports=d}).call(e,i(4))},,,,,,,,function(t,e,i){"use strict";function o(t){return n.createDialog(Object.assign({},a,t))}var n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),i(5),n=i(56),r={key:13,name:"yes",text:$.t("Yes"),type:"success"},s={method:"close",name:"no",text:$.t("No"),type:"default"},a={actions:[r,s],actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',content:$.t("Are you sure?"),contentWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-text"><p></p></div></div>',destroyOnClose:!0,title:$.t("Confirmation"),width:400},e.createConfirmDialog=o},,,function(t,e,i){"use strict";var o=i(49),n=i(53).TVXWindowEvents,r=function(){function t(){TVLocalStorage.setItem(l+c,document.hidden),n.emit("desktop-notification-tab-visibility-request")}function e(t){var e=t.split("\n");return e.length>1&&(t=e[0]),t=t.trim(),(t.length>h||e.length>1)&&(t=t.substring(0,h)+"..."),t}function i(){return window.Notification.permission}function r(t){var e=i();"granted"===e&&"function"==typeof t?t():"default"===e&&window.Notification.requestPermission(function(e){"granted"===e&&"function"==typeof t&&t()})}function s(t,i,o){var n=new window.Notification(t,{body:e(i),icon:o||"/static/images/desktop-notification.png"});return n.onclick=function(){window.focus()},setTimeout(n.close.bind(n),5e3),n}function a(e,n,a){o.ownPushStream()&&"denied"!==i()&&r(function(){t(),setTimeout(function(){"false"!==TVLocalStorage.getItem(l+c)&&document.hidden&&s(e,n,a)},100)})}var l,c,h;return TVLocalStorage.setItem(l+c,document.hidden),l="tvdesktopnotifications.",c="tabs-hidden",n.on("desktop-notification-tab-visibility-request",function(){"true"===TVLocalStorage.getItem(l+c)&&TVLocalStorage.setItem(l+c,document.hidden)}),h=30,window.Notification?{show:a,askPermission:r}:{show:function(){},askPermission:function(){}}}();t.exports=r},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill-rule="evenodd" d="M10.893 9.512l.458 3.624c.014.105-.006.16-.02.176-.028.03-.109.005-.182-.03L7.812 11.73a1.973 1.973 0 0 0-.811-.16c-.302 0-.59.057-.81.16l-3.338 1.552c-.118.056-.164.051-.182.03-.014-.016-.034-.07-.02-.178L3.11 9.51c.06-.503-.162-1.18-.505-1.54L.087 5.302c-.085-.091-.09-.148-.086-.158.003-.01.04-.053.16-.077l3.621-.689c.491-.09 1.069-.506 1.315-.948L7.004 0l1.902 3.43c.246.442.824.859 1.312.947l3.617.69c.123.024.162.068.164.077.003.01-.003.066-.089.157L11.4 7.97c-.348.367-.57 1.045-.506 1.543z"/></svg>'},function(t,e,i){"use strict";(function(e,o){function n(t){var e,i,o=function(){window.user._chatInputs||(window.user._chatInputs={}),window.user.chatSuggestHandler||(window.user.chatSuggestHandler=new f.UserChatSuggestListHandler)};o(),loginStateChange.subscribe(this,o),this._bridge=t,e=t.$body,this._model=null,this.isPrivate()?this._model=z.makePrivateModel():this._model=z.makePublicModel(),this._model.messageReceived().subscribe(this,this._onMessageWrapper),this._model.messageDeleted().subscribe(this,this._onMessageDeleted),this._model.roomChanged().subscribe(this,this._onRoomChanged),this._model.setActive(this._bridge.visible.value()),this._isHistoryEnded=!1,this._markNewMessagesAsUnread=!1,this._invisibleMessagesNumber=0,this._inputDisabled=!1,this.MESSAGES_CONCATENATION_TIMEOUT=12e4,this.MAX_MESSAGES=100,this.MAX_HIGHLIGHTED_MESSAGES=10,this.DEFAULT_AVATAR="/static/images/avatar.png",this.USERLINK_POPUP_TIMEOUT=1e3,this.META_VERSION="0.2",this._init_history_loading=!0,this._init_history_loaded=!1,this._onBridgeVisibleChange=null,this._onSymbolChanged=null,this._onIntervalChanged=null,this._onResize=null,this._onMaximized=null,this._standalone=!t||!!t.standalone,this._embedded=!t||!!t.embedded,this._noAutoFocus=!!t.noAutoFocus,this.utm=X(!0),this.isPrivate()||(this._updateMessageBatches(),this.updateLikesHandlers(),this.canHandleLikes=!0),this.prepareLayout(e),this.toggleSnaphotPreview(TVSettings.getBool("chat.show_snapshot_preview",!0)),i=null,this._standalone&&t.activeRoom?i=t.activeRoom:t&&t.properties&&(i=(t.properties.value()||{}).room||i),this.likeButtonTemplate=K,this.messageContext=this.getMessageContext(),(this.isPrivate()||this._standalone&&this._model.getRoomById(i))&&this.selectChannel(i),t&&(t.symbol&&(this._onSymbolChanged=this.update.bind(this),t.symbol.subscribe(this._onSymbolChanged,{callWithLast:!0})),t.interval&&(this._onIntervalChanged=this.update.bind(this),t.interval.subscribe(this._onIntervalChanged,{callWithLast:!0})),this._onResize=this.resize.bind(this),t.height&&t.height.subscribe(this._onResize),t.width&&t.width.subscribe(this._onResize),t.onMessage&&t.onMessage(this.onBridgeMessage.bind(this)))}function r(t){var e={messages:{},count:0,visibilityCallbacksFired:!1,fireAlt:!1};return t===d&&(e.clearAfterTriggering=!0),e}function s(t){return"create_room"===t.type||"edit_room"===t.type}function a(t){return JSON.parse(t).id}function l(t,e){return t.lastIndexOf("@",e)}
function c(t){var e,i;return!!(""+window.getSelection())||(e=$(t),!!e.is("img, a, path")||(i=e.closest("div"),i.hasClass("js-snapshot-like")||i.hasClass("js-chart-like")))}var h,d,u,p,f=i(1066),_=i(557).UsernameHintList,g=i(1540),m=i(534),v=i(74),y=v.Action,b=v.ActionSeparator,w=i(154),S=i(1062).takeSnapshot,T=i(1094),x=i(1544),P=i(1545),C=i(1116),M=C.BanUserDialog,k=C.UnbanUserDialog,L=i(1075),I=i(1112).showReportModal,A=L.openPMDialog,R=i(83).SidebarCustomScroll,D=i(519).bindPopupMenu,E=i(1103).emoji,O=i(1634),V=i(67).createNoticeDialog,B=i(255).createConfirmDialog,z=i(1067),F=i(1095),N=i(62).unifiedSpinner,H=i(20).trackEvent,W=i(1327).trackChatEvent,U=i(270).userBadge,j=i(270).templates.userBadgeChat,q=i(442),G=i(506),Y=i(1068),X=i(60).buildUtmQueryStringFromUrlParams,K=i(1464),J=i(1127).lazyFancybox;i(560),h=0,d=1,n.prototype._onMessageWrapper=function(t,e,i){this.onMessage(t,i)},n.prototype.currentRoom=function(){return this._model.room()},n.prototype.enablePosting=function(){this._postingDisabled&&(this._hiddenElements&&this._hiddenElements.forEach(function(t){t.css("display","")}),this._$inputNoPostingMessage&&this._$inputNoPostingMessage.remove(),this.resizeHeader(),this._postingDisabled=!1)},n.prototype.onBridgeMessage=function(t,e){if("chat_set_sound_state"===t?e.isPrivate===this.isPrivate()&&this.sound.set(e.state):"toggle_snaphot_preview"===t&&this.toggleSnaphotPreview(),this.isPrivate())return void("private_chat_hidden"===t?this._markMessagesAsUnread(!0):"private_chat_visible"===t?(this._scroll.checkContentVisibility(),this._markMessagesAsUnread(!1)):"private_chat_msgs_read"===t&&this._markAsRead(e.idString));"chat_select_channel"===t?(this._newMessagesToHighlight=e.new_msgs,this.selectChannel(e.room_id)):"chat_edit_room"===t?this.editRoom(this._model.getRoomById(e)):"chat_delete_room"===t?this.deleteRoom(this._model.getRoomById(e)):"chat_show_link"===t&&this.showLinkToChat(this._model.getRoomById(e))},n.prototype.playSound=function(t){this.sound.state[t]&&(this.isPrivate()?T.play("chat/popup"):T.play("chat/message"))},n.prototype._clearExcessiveMessages=function(){var t=this._$data.find(".ch-item");return t.length>this.MAX_MESSAGES&&(t=t.slice(0,t.length-this.MAX_MESSAGES),t.add(".ch-item-empty"),q.destroy(t),t.remove()),this._history_hide_timeout&&(clearTimeout(this._history_hide_timeout),this._history_hide_timeout=null),!!t.length},n.prototype._markAsRead=function(t){var e=t.split(":");this._scroll.triggerVisibilityCallbacks(function(t){var i=e.indexOf(t.id);return i>=0&&(e.splice(i,1),!0)})},n.prototype._markMessagesAsUnread=function(t){t&&this._markNewMessagesAsUnread!==t&&(this._prepareUnreadMarker=!0),this._markNewMessagesAsUnread=t},n.prototype._shouldPlaceUnreadMarkerNow=function(){var t=this._prepareUnreadMarker;return this._prepareUnreadMarker=!1,this._markNewMessagesAsUnread&&t},n.prototype.onMessage=function(t,e){var i,o,n,r;t.user_id in this._model.ignoredUsers()||t.id&&this._lastMessageId===t.id||(this._lastMessageId=t.id,i=t.user_id!==window.user.id,
o=i&&this._shouldPlaceUnreadMarkerNow(),o&&this._$data.append(this._getNewUnreadMarker()),this.isPrivate()&&this._bridge.visible.value()&&this._bridge.postMessage("private_message_read",{id:"marker"}),(this._isMessageFromIgnoredUser(t)||s(t))&&this._invisibleMessagesNumber++,n=this.createMessage(t,{markAsUnread:this._markNewMessagesAsUnread,forceFullMessage:o,batch:d}),n.data("short")?(r=this.getLastMessages(1),n.insertAfter(r.find(".ch-item-text:last"))):(this._$data.removeClass("no-messages"),n.appendTo(this._$data)),this._scroll.atEnd(2*n.height())&&this._clearExcessiveMessages.apply(this),i&&this._bridge&&(t.meta.service_msg||(!this.isStandalone()&&!this.isPrivate()||e||this.playSound(n.data("is_reply")?"onMessageForUser":"onMessage"),this.highlightMessage(n,t.id))),this._scroll.atEnd(2*n.height())&&this._scroll.scrollToEnd())},n.prototype.highlightMessage=function(t,e){var i=this;if(this._bridge.visible.value())return void(this.isPrivate()&&this._bridge.postMessage("private_message_read",{id:e}));if(!this.isPrivate()){if(this._messagesToHighlight)return void(this._messagesToHighlight=this._messagesToHighlight.concat(t.attr("id")).slice(-this.MAX_HIGHLIGHTED_MESSAGES));this._messagesToHighlight=[t.attr("id")],this._bridge.visible.when(function(){var t=i._messagesToHighlight;delete i._messagesToHighlight,i._$data.find("#"+t.join(", #")).highlight(5)}),t=null}},n.prototype._onMessageDeletedBySelf=function(t){this._slidingUp||(this._slidingUp=[]),this._slidingUp.length||this._scroll.fixBottom(),this._slidingUp.push(t),t.slideUp({queue:!1,complete:function(){this._slidingUp.splice(this._slidingUp.indexOf(t),1),this._slidingUp.length||(delete this._slidingUp,this._scroll.releaseBottom()),this.removeMessage(t)}.bind(this)})},n.prototype._onMessageDeleted=function(t){var e=$("#ch-item-"+t.id);if(e.hasClass("ch-item-text")&&(e=e.closest(".ch-item")),e.length>0&&this._messagesIdsToBeDeletedBySelf&&this.getMessagesData(e)[0]===this._messagesIdsToBeDeletedBySelf[0])return this._messagesIdsToBeDeletedBySelf=null,this._onMessageDeletedBySelf(e);e.length>0&&(window.is_authenticated&&window.user.id===t.user_id?this.highlightAsModerated(e):this.removeMessage(e),this._scroll.resize())},n.prototype._onRoomChanged=function(){this.isPrivate()&&this._$addButton.find(".msg-window-members-count").text(this._bridge.membersCount())},n.prototype.removeMessage=function(t){q.destroy(t),t.remove()},n.prototype.highlightAsModerated=function(t){t.prepend('<div class="ch-message-moderated-layout"><div class="ch-overlap">'+$.t("MODERATED")+"</div></div>").addClass("ch-message-moderated")},n.prototype.getLastMessages=function(t,e){var i=e instanceof DocumentFragment?$(e.childNodes).filter(".ch-item"):(e||this._$data).find(".ch-item");return i.slice(i.length-t)},n.prototype.getFirstMessages=function(t,e){return(e instanceof DocumentFragment?$(e.childNodes).filter(".ch-item"):(e||this._$data).find(".ch-item")).slice(0,t)},n.prototype.update=function(){this._bridge&&this._bridge.symbol&&this._model.setStatSymbol(this._bridge.symbol.value()||void 0),
this._bridge&&this._bridge.interval&&this._model.setStatInterval(this._bridge.interval.value()||void 0)},n.prototype._clearMessageBatch=function(t){this._messageBatches[t].count>0&&(this._messageBatches[t]=r(t))},n.prototype._putMessageInBatch=function(t,e){this._messageBatches[t].clearAfterTriggering&&this._messageBatches[t].visibilityCallbacksFired&&this._clearMessageBatch(t),this._messageBatches[t].messages[e]=!0,this._messageBatches[t].count++},n.prototype._checkMessageBatchQuantity=function(t){return this._messageBatches[t].visibilityCallbacksFired?this._messageBatches[t].fireAlt:(this._onMessagesVisibility(t),this._messageBatches[t].fireAlt)},u=5,n.prototype._onMessagesVisibility=function(t){this._messageBatches[t].visibilityCallbacksFired=!0,this._messageBatches[t].count<=u&&(this._messageBatches[t].fireAlt=!0)},n.prototype._updateMessageBatches=function(){this._messageBatches&&delete this._messageBatches,this._messageBatches=[r(h),r(d)]},n.prototype._canLoadHistoryMessages=function(){return this._scroll.isContentShort()&&!this._isHistoryEnded&&this._bridge.visible.value()},n.prototype._loadChatHistory=function(){this._history_loading=!0,this._$data.addClass("loading");var t=this;this._model.loadHistory(this._$data.find(".ch-item-text").length+this._invisibleMessagesNumber,function(e,i){t._scroll.save(),t.prependMessages(e.messages,!0),t._scroll.restore(),t._history_loading=!1,t._isHistoryEnded=i,t._$data.removeClass("loading"),t._history_hide_timeout&&clearTimeout(t._history_hide_timeout),t._history_hide_timeout=setTimeout(function(){t._clearExcessiveMessages.apply(t)&&(t._scroll.scrollToEnd(),t._isHistoryEnded=!1)},24e5),t._canLoadHistoryMessages()&&t._loadChatHistory()})},n.prototype.updateRoom=function(t){this._invisibleMessagesNumber=0,this._isHistoryEnded=!1,this._$data.addClass("loading"),this._spinner||(this._spinner=N("mini").spin(this._$scrollContainer.get(0))),this._init_history_loading=!0,this.isPrivate()&&(this.updateLikesHandlers(),this._updateMessageBatches()),this._$inputDisabledMessage.hide();var e=function(t,e,i){if(this.isPrivate()&&this._bridge.xWindowDataSync&&"function"==typeof this._bridge.xWindowDataSync&&this._bridge.xWindowDataSync(t),q.destroy(this._$data),this._$data.empty(),this.resizeHeader(),this.isPrivate()&&!i&&(this._lastVisited=1e3*t.last_visited),this._isHistoryEnded=e,t.messages.length&&(this._lastMessageId=t.messages[0].id),this.prependMessages(t.messages),this.updateTitle(),this._$data.removeClass("loading"),this._spinner&&(this._spinner.stop(),delete this._spinner),this._scroll.scrollToEnd(),this._newMessagesToHighlight&&t.messages.length>0){var o=Math.min(this._newMessagesToHighlight,this.MAX_HIGHLIGHTED_MESSAGES);g.highlightNewMessages(this._$data,o,5),this._newMessagesToHighlight=0}this._init_history_loading=!1,this.isPrivate()&&this.restoreInputText(),this._init_history_loaded&&this.inputEditFocus(),this._init_history_loaded=!0,this._canLoadHistoryMessages()&&this._loadChatHistory()};this._model.setRoom(t,e.bind(this))},n.prototype.getRoomTitle=function(t){
var e=this._model.getRoomById(t);return e?e.title:""},n.prototype.isStandalone=function(){return!!this._standalone},n.prototype.isEmbedded=function(){return!!this._embedded},n.prototype.isPrivate=function(){return this._bridge&&!!this._bridge.private_chat},n.prototype.getMessageContext=function(){var t=this;return{join:function(t){return{text:"<i>"+$.t("__username__ has entered the chat",{username:t.username})+"</i>",isService:!0}},leave:function(t){return{text:"<i>"+$.t("__username__ has left the chat",{username:t.username})+"</i>",isService:!0}},delete_room:function(t){return{text:"<i>"+$.t("Room __title__ was deleted",{title:t.meta.room_title})+"</i>",isService:!0}},warning:function(t){return $.extend(this.normal(t),{isService:!0,isWarning:!0})},normal:function(i){var o,n=i.meta&&"snapshot"===i.meta.type,r=t.META_VERSION===i.meta.version,s=i.meta.temp;return o=r?t.renderText(i).replace(/\n/g,"<br/>"):P.urlizeAndParseQuotesAndClean(i.text||"",P.smilies).replace(/\n/g,"<br/>"),n&&(o&&(o+="<br/>"),o+=e.render('<div class="ch-item-preview-wrap"><div class="ch-item-snapshot-link"><i class="icon icon-snapshot-small" title="{{title}}"></i> <a href="{{url}}" target="_blank">{{metaText}}</a></div><div class="ch-item-snapshot-preview"><a href="{{url}}" target="_blank"><img src="{{previewURL}}" class = "snapshot-preview" alt="" /></a></div>{{#chartId}}{{> ideaLikesButton }}{{/chartId}}</div>',{title:$.t("Chart Snapshot"),url:TradingView.clean(i.meta.url),metaText:$.t("Chart Snapshot"),previewURL:TradingView.clean(i.meta.preview_url?i.meta.preview_url:i.meta.url),chartId:!(t.isPrivate()||!s)&&i.id,typeClass:"js-snapshot-like",titleTooltip:$.t("Interesting, thanks!",{context:"like-button"})},{ideaLikesButton:t.likeButtonTemplate})),{text:o,showAuthor:!i.meta.service_msg,isAuthor:user.id===i.user_id,isReport:i.meta.report_type,isModNotification:i.meta.mod_notification,isBanNotification:i.meta.ban_notification,newMeta:r,tempMeta:s,snapshotAttached:n}},get:function(t){return t.type&&this[t.type]?this[t.type](t):this.normal(t)}}},n.prototype.renderText=function(t){var o,n,r,s;return t.utm=this.utm,o=new P.UrlizeBuffer(TradingView.clean(t.text),t.utm),o=P.obsceneWords(o),t.meta.links.charts&&(n=t.meta.links.charts.occurences,r=t.meta.links.charts.data,n.forEach(function(t){var n=r[t.id];o.text.indexOf(t.match)>=0&&(o.text=o.text.replace(t.match,"<"+o.count+++">"),
o.values.push(e.render('{{#showLikesButton}}<div class="ch-item-preview-wrap">{{/showLikesButton}}<div class="ch-item-chart-link"><i class="icon icon-snapshot-small" title="{{publishedIdea}}"></i> <a href="{{href}}" target="_blank" data-id="{{chartId}}" data-symbol="{{symbol}}" data-title="{{title}}" data-url="{{href}}">{{publishedIdea}}</a></div><div class="ch-item-chart-preview"><a  href="{{href}}" target="_blank" data-id="{{chartId}}" data-symbol="{{symbol}}" data-title="{{title}}" data-url="{{href}}"><img src="{{imageUrl}}" alt="" class="idea-preview"/>{{#isVideo}}<div class="tv-notifications-widget-item__play-icon">'+i(1073)+"</div>{{/isVideo}}</a></div>{{#showLikesButton}}{{> ideaLikesButton }}{{/showLikesButton}}{{#showLikesButton}}</div>{{/showLikesButton}}",{href:n.published_chart_url+(this.utm||""),publishedIdea:$.t("Published Idea"),title:n.name,symbol:n.symbol.split(":")[1],imageUrl:G.createPublishedChartImageUrl(n.image_url),showLikesButton:!this.isPrivate(),chartId:n.image_url,typeClass:"js-chart-like",titleTooltip:$.t("Interesting, thanks!",{context:"like-button"}),isVideo:n.is_video},{ideaLikesButton:this.likeButtonTemplate})))},this)),o.text=Y.parseQuotes(o.text),s=P.chainedUrlize(o,P.commonFunctors),s=E.parseNativeEmoji(s)},n.prototype._isMessageFromIgnoredUser=function(t){return t.user_id in this._model.ignoredUsers()},n.prototype.createMessage=function(t,o,n){function r(t){return t?t.indexOf(user.id)>=0:0}function a(t){return t?t.length:0}var l,h,d,u,p,f,_,g,v,S,T,x,P,C;if(this._isMessageFromIgnoredUser(t)||s(t))return $();if(l=this.messageContext.get(t),t.userBadgeTmpl=j,h=t.meta.interval?" "+t.meta.interval:"",d=$(e.render('<div class="ch-item ch-item-user-{{userID}}" id="ch-item-{{messageID}}"><a class="ch-item-userpic ch-item-userpic-{{userID}}" href="/u/{{username}}/{{utm}}" data-username="{{username}}" data-userlinkpopup-timeout="{{userlinkPopupTimeout}}" target="_blank"><img src="{{userPic}}" alt="Avatar" onerror="this.src=\'{{defaultAvatar}}\'"/></a><div class="ch-item-content">{{#showHeader}}<div class="ch-item-header">{{#showAuthor}}<span class="ch-item-author"><a href="/u/{{username}}/{{utm}}" target="_blank" class="ch-userlink selectable" data-username="{{username}}" data-userlinkpopup-timeout="{{userlinkPopupTimeout}}">{{username}}</a> {{{userBadge}}}</span>{{/showAuthor}}<span class="ch-item-info">{{{symbolInterval}}}<span class="ch-item-time"><time></time></span></span>{{#showActions}}<div class="ch-item-actions js-actions"></div>{{/showActions}}</div>{{/showHeader}}<div class="ch-item-text selectable {{^showHeader}}ch-item-text-no-header{{/showHeader}} js-text">{{{text}}}</div></div></div>',{userID:t.user_id,messageID:t.id,username:t.username,userPic:t.user_pic,userlinkPopupTimeout:this.USERLINK_POPUP_TIMEOUT,defaultAvatar:this.DEFAULT_AVATAR,showHeader:!("join"===t.type),showAuthor:l.showAuthor,userBadge:U(t),symbolInterval:""!==t.symbol?'<span class="ch-item-symbol">'+t.symbol.substring(t.symbol.indexOf(":")+1)+h+",</span>":"",showActions:!l.isService,text:l.text,utm:this.utm})),
d.find("a.user-badge").attr("target","_blank"),u=this,o.markAsUnread&&!l.isAuthor&&(this._putMessageInBatch(o.batch,t.id),d.addClass("js-unread-message"),this._scroll.subscribeToContentVisible(t.id,d,function(e){if(e||u._bridge.postMessage("private_message_read",{id:t.id}),u._checkMessageBatchQuantity(o.batch))return d.removeClass("js-unread-message"),void d.highlight(5);d.addClass("js-read-message"),d.removeClass("js-unread-message"),setTimeout(function(){d.removeClass("js-read-message")},2500)})),l.isService)return d.addClass("ch-message-service"),l.isWarning&&d.addClass("ch-message-type-warning"),d;if(p=d.find(".js-text"),0===p.text().length&&1===p.children().length&&(p.children().hasClass("emoji")||p.children().hasClass("tv-emoji-wrapper"))&&p.addClass("ch-item-text-emoji"),this.canHandleLikes&&l.tempMeta&&(l.snapshotAttached&&(f=t.meta.temp.message_likes,_=l.isAuthor?-1:r(f),this._snapshotMessagesLikesHandler.addIdea(d.find(".js-snapshot-like")[0],t.id,a(f),_)),l.newMeta&&t.meta.links.charts&&t.meta.temp.chart_likes&&(g=0,v=t.meta.temp.chart_likes,d.find(".js-chart-like").each(function(){var e,i,o=$(this).data("id");o===t.meta.links.charts.occurences[g++].id&&(e=v[o].likes,i=v[o].author===user.id?-1:r(e),u._chartLikesHandler.addIdea(this,o,a(e),i))}))),S=d.find(".js-actions"),S.append($('<a class="ch-item-action" title="'+$.t("Quote this message")+'">')).children().last().append($(i(1636)).attr({width:12,height:12})).on("click",function(e){e.stopPropagation(),u.insertQuote(d,t)}),l.isAuthor||S.append($('<a class="ch-item-action ch-item-action-report" title="'+$.t("Report this message")+'">')).children().last().append($(i(1637)).attr({width:12,height:12})).on("click",function(e){e.preventDefault(),u.showReportDialog(d,t)}),S.append($('<a class="ch-item-action js-settings" title="'+$.t("Message settings")+'">')).children().last().append($(i(1466)).attr({width:12,height:12})),this.bindMessageMenu(d,t),this.isEmbedded()||d.find('.ch-item-author a[href^="/u/"]').on("click",function(e){e.preventDefault(),e.stopPropagation(),window.user.chatSuggestHandler.onUserSelect(t.user_id,t.username),this.insertAtCursorPosition("@"+t.username.replace(/\s/g,"")+" ")}.bind(this)),this.isStandalone()||(T=d.find(".ch-item-snapshot-link a, .ch-item-snapshot-preview a"),J({$elem:T,type:"image",live:!1}),d.find(".ch-item-chart-link a, .ch-item-chart-preview a").click(function(){var t,e,i,o=$(this).data("url"),n=$(this).data("id"),r=$(this).data("symbol"),s=u._bridge.getChartWidgetCollection();return o?t=new m.ChartPage({chartId:n,chartName:$.t("Published Idea"),publishedUrl:o,shortSymbol:r,chartWidgetCollection:s}):r?(e=$(this).data("title"),i=G.createPublishedChartUrl(n,r,e),t=new m.ChartPage({chartId:n,chartName:$.t("Published Idea"),publishedUrl:i,shortSymbol:r,chartWidgetCollection:s})):t=new m.ChartPage({chartId:n,chartName:$.t("Published Idea"),chartWidgetCollection:s}),TradingView.historyManager.push(t),!1})),this.isStandalone()||this.isEmbedded()||d.on("contextmenu",function(e){c(e.target)||(e.preventDefault(),
u._model.getBanStatus(t,function(i,o){t.is_banned=i&&o;var n=u.prepareMessageMenu(d,t).map(function(t){if(t.separator)return new b;var e=new y({text:t.title});return e.callbacks().subscribe(this,t.action),e}).filter(function(t){return t});w.createMenu(n).show(e)}))}),q.agoDateFormatter(d.find(".ch-item-time time"),this._parseMessageTime(t.time)),d.data("message",JSON.stringify(t)).data("alive",!0),this.isStandalone()&&d.data("ch-is-standalone",!0),is_authenticated&&(!u.isEmbedded()&&l.isAuthor?d.addClass("ch-is-author"):l.isReport?(d.addClass("ch-is-report"),o.forceFullMessage=!0):l.isModNotification?(d.addClass("ch-mod-notification"),o.forceFullMessage=!0,l.isBanNotification&&d.addClass("ch-ban-notification")):t.text&&d.text().indexOf("@"+user.username.replace(/\s/g,""))>-1&&(d.addClass("ch-is-reply").data("is_reply",!0),x=!0)),P=this.getLastMessages(1,n),C=P&&!P.hasClass("ch-message-moderated")&&P.data("message"))try{C=JSON.parse(C)}catch(t){C=null}return!o.forceFullMessage&&C&&t.username===C.username&&!C.type&&t.symbol===C.symbol&&t.interval===C.interval&&x===P.data("is_reply")&&new Date(t.time)-new Date(C.time)<this.MESSAGES_CONCATENATION_TIMEOUT?(P.find(".ch-item-symbol").replaceWith(d.find(".ch-item-symbol")),P.find(".ch-item-time time").replaceWith(d.find(".ch-item-time time")),d.find(".ch-item-text").data(d.data()).data("short",!0).addClass("js-message-concatenated").attr("id",d.attr("id"))):d},n.prototype.getMessagesData=function(t){var e=[a(t.data("message"))];return t.find(".ch-item-text[id]").each(function(t,i){var o=$(i).data("message");o&&e.push(a(o))}),e},n.prototype.insertQuote=function(t,e){var i=this._$inputEdit.val().trim();this._$inputEdit.focus(),this._$inputEdit.val(i+(i.length?"\n":"")+'[quote="'+e.username.replace(/\s/g,"")+'"]'+this.getFullMessage(t,e)+"[/quote]\n"),this._$inputEdit.trigger("autosize.resize")},n.prototype.getFullMessage=function(t,e,i){var o=[],n=i?Y.removeBBCodes:Y.removeQuotes;return o.push(n(e.text)),"snapshot"===e.meta.type&&o.push(e.meta.url),t.find(".js-message-concatenated").each(function(){var t=JSON.parse($(this).data("message"));o.push(n(t.text)),"snapshot"===t.meta.type&&o.push(t.meta.url)}),o.filter(function(t){return t}).join("\n")},n.prototype.bindMessageMenu=function(t,e){var i=this,o=t.find(".js-settings");o.on("click",function(n){if(n.stopPropagation(),o.hasClass("open"))return void o.trigger("hide-popup");i.createMessageMenu(t,e,function(t){o.trigger("show-popup",[t,!0])})}),D(o,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"ch-popup ch-item-settings-popup",careBottomBorder:!0,careRightBorder:!0})},n.prototype.showReportDialog=function(t,e){var i=this.getFullMessage(t,e,!0),o={};this.isPrivate()||(o.additionalText=$.t("Posted in {0}.").format(this._roomTitle)),runOrSignIn(I.bind(null,e.username,"message",e.id.replace(/-/g,""),i,null,o),{source:"Chat report message",verifiedPhoneRequired:!0})},n.prototype.prepareMessageMenu=function(t,e){var i,o,n,r,s,a,l,c=[],h=this;return c.push({title:$.t("Quote this message"),action:function(){
h.insertQuote(t,e)}}),c.push({title:$.t("Permanent link to this message"),action:function(){window.open("/chat/m/"+e.id.replace(/-/g,"")+"/")}}),user.id===e.user_id||this.isPrivate()||h.isStandalone()||c.push({title:$.t("Report this message"),action:this.showReportDialog.bind(this,t,e)}),(user.is_staff||user.id===e.user_id)&&c.push({title:$.t("Delete message"),action:function(){var e=h.getMessagesData(t);h._messagesIdsToBeDeletedBySelf=e,h._model.deleteMessage(e,null,function(){h._messagesIdsToBeDeletedBySelf=null})}}),c.push({separator:!0}),user.is_staff&&user.id!==e.user_id&&!e.is_staff&&(i=!!e.is_banned,o={unban:$.t("Unban __username__",{username:e.username}),ban:$.t("Ban __username__",{username:e.username})},n={title:i?o.unban:o.ban,action:function(){var r,s;i?(r=new k(e.user_id,e.username,function(){n.title=o.ban,i=!1}),r.show()):(s=new M(h.getFullMessage(t,e,!0),e,{modal:!0},function(){n.title=o.unban,i=!0}),s.show())}},c.push(n),t.find(".ch-userlink, ch-item-userpic").on("userbanchange",function(t,e){i=e,n.title=i?o.unban:o.ban})),window.user.id===e.user_id||e.is_staff||(r=!!this._model.ignoredUsers()[e.user_id],s={ignore:$.t("Ignore __username__",{username:e.username}),unignore:$.t("Unignore __username__",{username:e.username})},a={title:r?s.unignore:s.ignore,action:function(){r?h._model.ignoreUser(e,!1,function(t){if(t.error)return void V({title:$.t("Error"),content:t.error}).open();a.title=s.ignore,r=!1}):B({type:"modal",content:$.t("Are you sure you want to ignore messages from __username__?",{username:e.username})}).actionLoader("yes").on("action:yes",function(t){t.actionLoader("yes","start"),h._model.ignoreUser(e,!0,function(e){if(t.actionLoader("yes","stop").close(),e.error)return void V({title:$.t("Error"),content:e.error}).open();a.title=s.unignore,r=!0})}).open()}},c.push(a),t.find(".ch-userlink, ch-item-userpic").on("userignorechange",function(t,e){r=e,a.title=r?s.unignore:s.ignore})),h.isStandalone()||h.isPrivate()||user.id===e.user_id||c.push({title:$.t("Send private message to __username__",{username:e.username}),action:function(){runOrSignIn(A.bind(this,e.user_id,e.username),{source:"Chat send private message",verifiedPhoneRequired:!0,doNotCheckSuspicious:!0})}}),h.isPrivate()||(l=user.id===e.user_id?$.t("Show all my messages"):$.t("Show all messages from __username__",{username:e.username}),c.push({title:l,action:function(){var t=new Date,i=t.getMonth()+1,o=t.getDate(),n=t.getFullYear()+"-"+(i<10?"0":"")+i+"-"+(o<10?"0":"")+o;window.open("/chat/history/?room="+h._model.room()+"&date="+n+"&tzoffset="+t.getTimezoneOffset()+"&usernames="+e.username)}})),c[c.length-1].separator&&c.pop(),c},n.prototype.createMessageMenu=function(t,e,i){var o=this;this._model.getBanStatus(e,function(n,r){e.type||(e.is_banned=n&&r,i(o.prepareMessageMenu(t,e)))})},n.prototype._messageUnread=function(t){return new Date(t)>new Date(this._lastVisited)},n.prototype.prependMessages=function(t){var e,i,o,n,r,a,l,c,d,u,p,f;if(t.length){if(e=this.getFirstMessages(1),i=e&&e.data("message"))try{i=JSON.parse(i),o=i.username
}catch(t){}if(n=document.createDocumentFragment(),c=!1,d=!!this._lastVisited,u=t.reverse(),u.forEach(function(t){var e,i,o,a,l=d&&this._messageUnread(t.time);l&&(e=this._updateUnreadMarker(h),n.appendChild(e.get(0)),c=!0,d=!1),(this._isMessageFromIgnoredUser(t)||s(t))&&this._invisibleMessagesNumber++,i=this.createMessage(t,{markAsUnread:c,forceFullMessage:l,batch:h},n),i.length&&(i.data("short")?(o=this.getLastMessages(1,n),a=o.find(".ch-item-text:last"),i.insertAfter(a)):(n.appendChild(i.get(0)),r=i))},this),this._messageUnread(u[0].time)||delete this._lastVisited,o&&r&&(a=r.data("message"))){try{a=JSON.parse(a),l=a.username}catch(t){}l&&l===o&&new Date(i.time)-new Date(a.time)<this.MESSAGES_CONCATENATION_TIMEOUT&&(p=e.find(".ch-item-text"),p.eq(0).attr("id",e.attr("id")),p.eq(0).data(e.data()),p.insertAfter(r.find(".ch-item-text:last")),e.remove())}f=this._$data.get(0),f.insertBefore(n,f.firstChild)}},n.prototype._getNewUnreadMarker=function(){return this._$unreadMarker?$():this._updateUnreadMarker(d)},n.prototype._resetUnreadMarker=function(){this._$unreadMarker&&(this._$unreadMarker.remove(),delete this._$unreadMarker)},n.prototype._updateUnreadMarker=function(t){return this._resetUnreadMarker(),this._$unreadMarker=$('<div class="js-unread-marker ch-unread-marker">'),this._scroll.subscribeToContentVisible("__marker__",this._$unreadMarker,function(e){if(e||this._bridge.postMessage("private_message_read",{id:"__marker__"}),this._checkMessageBatchQuantity(t))this._$unreadMarker.remove();else{this._$unreadMarker.addClass("js-vanish");var i=this._$unreadMarker;setTimeout(function(){i.remove()},2500)}delete this._$unreadMarker}.bind(this)),this._$unreadMarker},n.prototype._parseMessageTime=function(t){return o.utc(t,"ddd MMM DD hh:mm:ss YYYY","en").toDate()},n.prototype.insertAtCursorPosition=function(t){var e=this._$inputEdit.val(),i=this._$inputEdit.prop("selectionStart");this._$inputEdit.val(e.slice(0,i)+t+e.slice(i)),this._$inputEdit.putCursorAtPosition(i+t.length).focus().trigger("autosize.resize")},n.prototype._stopSuggesting=function(){this._suggesting&&(this._suggesting=!1,this._usernameHintList.onInput("hide"))},n.prototype._trySuggest=function(t,e,i){var o,n,r,s,a;return t.length<=0?void this._stopSuggesting():(o=l(t,e)+1,0===o||e<o||o>1&&!/\s/.test(t[o-2])?void this._stopSuggesting():(n=e===o,r=t.substring(o),r&&(e-=o,s=/\s/.exec(r),s&&s.index<e?r="":s&&(r=r.substring(0,s.index))),!r&&n&&(r="@"),a=!!r,void(this._suggesting?a?(r===this._previousSuggestCandidate?r="":this._previousSuggestCandidate=r,this._usernameHintList.onInput(i.which,r)):this._stopSuggesting():a&&!i.isDefaultPrevented()&&(this._suggesting=!0,this._usernameHintList.onInput(0,r)))))},n.prototype._insertSuggestedUsername=function(t){var e,i=this._$inputEdit.val(),o=this._$inputEdit.prop("selectionStart"),n=l(i,o),r=/\s/.exec(i.substring(n)),s="@"+t,a=s.length+1;r&&"\n"!==r||(s+=" "),e="",r&&(e=i.slice(n+r.index)),this._$inputEdit.val(i.slice(0,n)+s+e).putCursorAtPosition(n+a).trigger("autosize.resize")},p=400,
n.prototype.prepareLayout=function(t){var e,o,r,s,a,l=this;this._$container=t,this._$widget=$('<div class="tv-chat">').appendTo(t),this._$scrollContainer=$('<div class="tv-chat-scroll-container">').appendTo(this._$widget),this._$data=$('<div class="ch-data no-messages">').appendTo(this._$scrollContainer),this._$data.on("click",".ch-item",function(t){c(t.target)||l.toggleHighlightUserMessages($(t.currentTarget))}).on("mouseenter",".ch-item",function(){var t=$(this),e=t.find(".ch-item-info");t.find(".ch-item-header").width()-(t.find(".ch-item-author").width()+e.width())<t.find(".js-actions").width()&&e.addClass("js-hidden")}).on("mouseleave",".ch-item",function(){$(this).find(".ch-item-info").removeClass("js-hidden")}),this._$input=$(),this.isEmbedded()||(this._bridge&&this._bridge.$headerspace&&(this.isPrivate()||this.isStandalone()||(this._$mentionsButton=$('<a class="button apply-common-tooltip" title="'+$.t("Show only my sent and received messages")+'"></a>').append($(i(1638)).attr({width:17,height:17})).appendTo(this._bridge.$headerspace),this._$mentionsButton.on("click",function(t){return l.toggleMentionsOnly(),!1})),e=this._bridge.hideMaximize||(this._bridge.options||{}).hideMaximize,e||"function"!=typeof this._bridge.toggleMaximize||(this._$maximizeButton=$('<a class="button apply-common-tooltip" title="'+$.t("Maximize Chat")+'"></a>').append($(i(1639)).attr({width:8,height:18})).appendTo(this._bridge.$headerspace),this._$maximizeButton.on("click",function(t){l._bridge.toggleMaximize(),t.preventDefault()}),this._bridge.hideDetach||this._$maximizeButton.addClass("button-half"),this._bridge.maximized&&(this._onMaximized=function(t){l._$maximizeButton.toggleClass("active",!!t),l.resizeHeader(),l.resize()},this._bridge.maximized.subscribe(this._onMaximized),this._bridge.maximized.value()&&this._$maximizeButton.addClass("active"))),this._bridge.hideDetach||(this._$detachButton=$('<a class="button apply-common-tooltip svg-detach" title="'+$.t("Detach Chat")+'"></a>').append($(i(1640)).attr({width:10,height:10})).appendTo(this._bridge.$headerspace),this._$detachButton.on("click touchend",function(t){t.preventDefault(),n.openBoundWindow({roomId:l.currentRoom(),isPrivate:function(){return l.isPrivate()}})}),this._$maximizeButton&&this._$detachButton.addClass("button-half button-nomarginleft")),this.isPrivate()&&(o=this._bridge.isAuthor?$.t("Add/Remove people to this chat"):$.t("See the members of this chat"),this._$addButton=$('<a class="button apply-common-tooltip" id="add-people" title="'+o+'">').append($(i(1641)).attr({width:17,height:17})).append($('<span class="msg-window-members-count">').text(l._bridge.membersCount())).prependTo(this._bridge.$headerspace),this._$addButton.on("click",function(t){t.preventDefault(),l._bridge.addPeople()}))),this._$inputWrap=$('<div class="ch-input">').appendTo(this._$widget),this._$progressBarWrap=$('<div class="progress-bar-wrap">').appendTo(this._$inputWrap),this._$progressBar=$('<div class="progress-bar">').appendTo(this._$progressBarWrap),
this._$input=$('<div class="wrap">').appendTo(this._$inputWrap),this._$inputDisabledMessage=$('<div class="ch-disabled-message">'+$.t("Please use English for chatting. Check local versions to see if your language is supported.")+".</div>").prependTo(this._$inputWrap),this._$inputSnapshotLink=$('<div class="ch-snapshot-link"><a><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Screenshot preview"></a><i class="icon icon-snapshot-small" title="Chart Snapshot"></i> <a target="_blank">'+$.t("Chart snapshot")+'</a><i class="icon icon-snapshot-delete" title="'+$.t("Delete")+'"></i> </div>').prependTo(this._$inputWrap),this._$inputSnapshotLink.find(".icon-snapshot-delete").on("click",this.attachSnapshot.bind(this)),r={fullBorder:!0,chatSuggestHandler:window.user.chatSuggestHandler,onMouseDownOutside:function(){l._suggesting=!1},onItemSelected:function(t){window.user.chatSuggestHandler.onUserSelect(t.id,t.username,t),l._insertSuggestedUsername(t.username),l._suggesting=!1}},this.isStandalone()?$.extend(r,{$container:this._$inputWrap,reverse:!0,maxItems:5,onShow:function(t){var e=O(l._$inputEdit.get(0),l._$inputEdit.prop("selectionEnd"));t.css("bottom",l._$inputEdit.outerHeight()-e.top+5)}}):(s=l._$widget.width()+2,$.extend(r,{$container:$(document.body),style:{marginTop:8,right:45+s-Math.min(269,s),width:s,maxWidth:269,position:"fixed","z-index":9999},onShow:function(t,e){var i,o,n,r,a;s=l._$widget.width()+2,t.width(l._$widget.width()+2),t.css("right",45+s-Math.min(269,s)+"px"),i=l._$widget.height()+l._bridge.$header.height(),o=l._$inputEditSizer.outerHeight(),n=O(l._$inputEdit.get(0),l._$inputEdit.prop("selectionEnd")),r=i-o+n.top+22,a=$(window).height()-r<p,a&&(r=$(window).height()-r+18,e.reverse=!0),t.css(a?"top":"bottom",""),t.css(a?"bottom":"top",r)}})),this._usernameHintList=new _(r),this._usernameHintList.visible.subscribe(function(t){t&&(l._suggesting=t)}),this._usernameHintList.emptyMatch.subscribe(null,function(){l._suggesting=!1}),this._$inputEditSizer=$('<div class="ch-textarea-sizer"></div>').appendTo(this._$input),a=this.isPrivate()?$.t("Type your message here"):$.t("Have something to say?"),this._$inputEdit=$('<textarea class="message-input" autocomplete="off"></textarea>').keydown(function(t){var e,i;if(l._suggesting)return void l._usernameHintList.inputOnKeyDown(t);13!==t.which||l._suggesting||(t.preventDefault(),t.ctrlKey||t.shiftKey?(e=l._$inputEdit.val(),i=l._$inputEdit.prop("selectionStart"),l._$inputEdit.val(e.slice(0,i)+"\n"+e.slice(i)).putCursorAtPosition(i+1).trigger("autosize.resize")):l.post())}),this._$inputEdit.mouseup(function(t){l._trySuggest(l._$inputEdit.val(),l._$inputEdit.prop("selectionStart"),t)}),this._$inputEdit.keyup(function(t){var e=l._$inputEdit.val(),i=l._$inputEdit.prop("selectionStart");l._trySuggest(e,i,t),l.checkInput()}).bind("paste",function(){setTimeout(function(){l.checkInput()},0)}).appendTo(this._$inputEditSizer).autosize({append:""}),this._$inputEdit.on("autosize.resized",function(){var t,e=l._$inputEdit.height()
;e!==l._header_height&&(t=l._$inputEdit.outerHeight(),l._header_height=e,l._$input.height(t),l.resizeHeader())}),this._$inputEdit.attr("placeholder",a),this._$snapshotButton=$('<span class="ch-snapshot-button" title="'+$.t("Attach chart snapshot")+'"></span>').append($(i(1642)).attr({width:16,height:13})).on("click",this.attachSnapshot.bind(this)).appendTo(this._$inputEditSizer),this._$smilesButton=$('<span class="ch-smiles-button" title="'+$.t("Insert emoticon")+'"></span>').append($(i(1643)).attr({width:15,height:14})).on("click",this.showSmilesPopup.bind(this)).appendTo(this._$inputEditSizer),this._bridge&&this._bridge.getChartWidget&&this._bridge.getChartWidget()||(this._$snapshotButton.hide(),this._$smilesButton.addClass("off-chart")),this._scroll=new R(this._$scrollContainer,this._$data,{vAlignBottom:!0,headerHeight:0}),this._onBridgeVisibleChange=function(t){if(t){setTimeout(function(){l._model&&l._model.setActive(t)},1e3);var e=l._model.room();l._model.setRoom(""),l.updateRoom(e)}else l._model.setActive(t);t&&l.isPrivate()&&l._model.setMessagesRead(),t&&(l._$inputEdit&&l._$inputEdit.trigger("autosize.resize"),l.resizeHeader(),l._notInitialVisible||(l._scroll.scrollToEnd(),l._notInitialVisible=!0),l.inputEditFocus())},this._bridge.visible.subscribe(this._onBridgeVisibleChange),$(window).on("visibilitychange",function(t,e){e&&l.inputEditBlur()}),this._bridge.visible.value()&&(this._notInitialVisible=!0),this._scroll.scrolltostart.subscribe(this,function(){l._model.isHistoryLoading()||l._isHistoryEnded||l._init_history_loading||l._loadChatHistory()}),is_authenticated&&user&&user.is_staff&&this.prepareModeratorLayout(),this.sound=new f.ChatSoundControl(this.isPrivate()?"privatemessages.sound":"chat.sound"),this.progressBar=new f.ChatProgressBar(this._$progressBar,200,90,5,[200,200,400]))},n.prototype.prepareModeratorLayout=function(){this._$warningTemplates=$('<a class="ch-button ch-warning-templates-button" title="'+$.t("Moderators Warning Messages")+'"><i></i></a>').on("click",this.warningTemplatesPopup.bind(this)).insertBefore(this._$inputEditSizer),this._$widget.addClass("moderator-layout"),this._$inputEdit.on("autosize.resized",function(){this._$inputEdit&&this._$warningTemplates.height(this._$inputEdit.height()+2)}.bind(this)),D(this._$warningTemplates,null,{event:"show-popup",addClass:"ch-popup ch-warning-templates-popup",careRightBorder:!0,viewportSpacing:2,reverse:!0,popupDrift:68})},n.getWarningTemplates=M.getViolations,n.prototype.warningTemplatesPopup=function(t){var e=n.getWarningTemplates().map(function(t){return{title:t.name,action:this.initMessageTypeWarning.bind(this,t.text,t.id)}}.bind(this));e.push({title:$.t("Custom..."),action:this.initMessageTypeWarning.bind(this,"",null)}),e.push({separator:!0}),e.push({title:$.t("Cancel"),action:this.resetMessageType.bind(this)}),$(t.target).trigger("show-popup",[e]),t.stopPropagation()},n.prototype.initMessageTypeWarning=function(t,e){var t=(this._$inputEdit.val()?this._$inputEdit.val()+" ":"")+t
;t&&this._$inputEdit.val(t).trigger("autosize.resize").putCursorAtEnd(),this._$inputWrap.addClass("custom-message-warning"),setTimeout(function(){this._$warningTemplates.addClass("active")}.bind(this),0),this._messageType="warning",this._warningType=e},n.prototype.resetMessageType=function(t){this._$inputWrap[0].className=this._$inputWrap[0].className.replace(/\bcustom-message-.*?\b/g,""),this._$warningTemplates.removeClass("active"),delete this._messageType,delete this._warningType},n.prototype._showSettingsDialog=function(t,e){return $(t.delegateTarget).hasClass("open")?($(t.delegateTarget).trigger("hide-popup"),!1):(new f.ChatSettingsDialog(this._bridge,function(e,i){$(t.delegateTarget).trigger("show-popup",[e,i])},e||this._model.getRooms()),t.preventDefault(),!1)},n.prototype.editRoom=function(t){i(558).prototype.showEditRoomDialog.call(this,t)},n.prototype.deleteRoom=function(t){var e=$.t("Are you sure you want to delete room '{0}' ?").format(t.title),i=B({type:"modal",content:e});i.actionLoader("yes"),i.on("action:yes",function(e){e.actionLoader("yes","start"),this._model.deleteRoom(t.room_id,function(t){e.actionLoader("yes","stop").close(),t.error&&V({title:$.t("Error"),content:t.error}).open()})}.bind(this)),i.open()},n.prototype.saveInputText=function(){var t=this._$inputEdit.val().trim();t&&(window.user._chatInputs[this.currentRoom()]=t)},n.prototype.restoreInputText=function(){this.currentRoom()in window.user._chatInputs&&(this._$inputEdit.val(window.user._chatInputs[this.currentRoom()]),this._$inputEdit.trigger("autosize.resize"),delete window.user._chatInputs[this.currentRoom()])},n.prototype.selectChannel=function(t){if(!this._checkRoom(t))throw Error("Chat room not found");if(this._roomTitle=this.getRoomTitle(t),this._bridge&&this._bridge.properties&&this._bridge.properties.setValue){var e=this._bridge.properties.value()||{};e.room=t,this._bridge.properties.setValue(e)}this.updateRoom(t)},n.prototype._checkRoom=function(t){return!!(this._model.getRoomById(t)||t.match(/pm_*/)||t.match(/live_*/))},n.prototype.post=function(t){var e,i,o=this,n=o._postMeta||{text:""};if(this.checkInput(),!this._inputDisabled)return e=this.currentRoom(),i=this._model.getRoomById(e),o._sheduledSending=function(){var r,s,a=t||o._$inputEdit.val();if(!a&&!n.text)return!1;o._$inputEdit.val("").trigger("autosize.resize"),"snapshot"!==n.type&&a&&o.inputEditFocus(),r={},o._messageType&&(r.messageType=o._messageType,o._warningType&&(r.warningType=o._warningType),o.resetMessageType()),s=(new Date).getTime(),o.progressBar.start(s),o._model.sendMessageToRoom(e,a,n,r,function(t){var e,r=!(!t.error&&!t.warning),l=t.error||t.warning;r?(e=V({title:t.error?$.t("Error"):$.t("Warning"),content:l}),e.open(),e.on("destroy",o.inputEditFocus.bind(o)),o.inputEditBlur(),o._$inputEdit.val(a).trigger("autosize.resize"),o.progressBar.finishOnError(s)):(o.progressBar.finish(s),W(i,a,n))},function(){o.progressBar.finishOnError(s),V({title:$.t("Error"),content:$.t("There was an error posting your message.")}).open(),
o._$inputEdit.val(a).trigger("autosize.resize")}),o._postMeta=null,o._$snapshotButton.removeClass("active"),o._$inputSnapshotLink.hide(),o.resizeHeader()},runOrSignIn(function(){o._sheduledSending&&o._sheduledSending(),o._sheduledSending=null},{source:"Chat post message",sourceMeta:this.getChartWidgetCollection()?"Chart":null,verifiedPhoneRequired:!0,doNotCheckSuspicious:!0}),!1},n.prototype.resize=function(t){this._scroll.resize(),this._$inputEdit&&this._$inputEdit.trigger("autosize.resize")},n.prototype.updateTitle=function(t){this._bridge&&this._bridge.setTitle&&this._bridge.setTitle(this._roomTitle)},n.prototype.checkInput=function(){var t,e=this._$inputEdit.val(),i=!1;"en"===window.language&&(t=this._model.getRoomById(this.currentRoom()),i=!!t&&!!t.pinned&&!F(e)),this._$inputEdit.toggleClass("disabled",i),this._$inputDisabledMessage.toggle(i),i!==this._inputDisabled&&this.resizeHeader(),this._inputDisabled=i},n.prototype.resizeHeader=function(){this._$scrollContainer.css("bottom",this._$inputWrap.outerHeight()),this._scroll.resize()},n.prototype.getChartWidgetCollection=function(){return this._bridge&&this._bridge.getChartWidgetCollection&&this._bridge.getChartWidgetCollection()},n.prototype.attachSnapshot=function(){var t,e,i=this;if(S&&(t=this.getChartWidgetCollection()))return i._postMeta?(i._postMeta=null,i._$snapshotButton.removeClass("active"),i._$inputSnapshotLink.hide(),i.resizeHeader()):(e={previews:["thumb"]},i._$snapshotButton.addClass("loading"),S(t,function(t){var e,o=G.createSnapshotImageUrls(t);i._postMeta={text:$.t("Chart Snapshot"),url:o.url,preview_url:o.preview,type:"snapshot"},i._$snapshotButton.removeClass("loading").addClass("active"),e=i._$inputSnapshotLink.show().find("a"),e.attr("href",o.url),J({$elem:e,type:"image",live:!1}),i._$inputSnapshotLink.find("img").attr("src",o.url).on("load",i.resizeHeader.bind(i)),i.inputEditFocus()},function(){i._$snapshotButton.removeClass("loading")},e)),!1},n.prototype.toggleSnaphotPreview=function(t){this._showSnapshotPreview=void 0!==t?t:!this._showSnapshotPreview,TVSettings.setValue("chat.show_snapshot_preview",this._showSnapshotPreview),this._$widget.toggleClass("show-snapshot-preview",this._showSnapshotPreview),this.resize()},n.prototype.toggleHighlightUserMessages=function(t){var e=t.attr("class").match(/ch-item-user-(\d+)/)[1],i=!t.hasClass("ch-highlight-user");$(".ch-item").removeClass("ch-highlight-user"),e&&i&&this._$data.find(".ch-item-user-"+e).addClass("ch-highlight-user")},n.prototype.destroy=function(){this._isHistoryEnded=!0,this.isPrivate()&&this.saveInputText(),this._sheduledSending&&(this._sheduledSending(),this._sheduledSending=null),this._model.messageReceived().unsubscribe(this,this._onMessageWrapper),this._model.messageDeleted().unsubscribe(this,this._onMessageDeleted),this._model.roomChanged().unsubscribe(this,this._onRoomChanged),this._model.destroy(),this._model=null,window.loginStateChange.unsubscribeAll(this),this._scroll.scrolltostart.unsubscribeAll(this),this._bridge.visible.unsubscribe(this._onBridgeVisibleChange),
this._bridge.symbol&&this._onSymbolChanged&&this._bridge.symbol.unsubscribe(this._onSymbolChanged),this._bridge.interval&&this._onIntervalChanged&&this._bridge.interval.unsubscribe(this._onIntervalChanged),this._bridge.height&&this._onResize&&this._bridge.height.unsubscribe(this._onResize),this._bridge.width&&this._onResize&&this._bridge.width.unsubscribe(this._onResize),this._bridge.maximized&&this._onMaximized&&this._bridge.maximized.unsubscribe(this._onMaximized),this.destroyLikesHandlers(),q.destroy(this._$data),this.sound.destroy(),this._bridge&&this._bridge.$headerspace&&this._bridge.$headerspace.empty(),this._usernameHintList.destroy()},n.prototype.showLinkToChat=function(t){var e=window.location.protocol+"//"+window.location.host+"/chat/#"+t.room_id;TVDialogs.showCustomDialog({width:300,noButtons:!0,title:$.t("Link to __room__ chat",{room:t.title}),html:'<form><input type="text" value="'+e+'"/></form>',action:function(t){return TVDialogs.destroy(),!1}})},n.openBoundWindow=function(t){var e="";e=t.isPrivate()?"/chat/"+t.roomId+"/":"/chat/#"+t.roomId,x.open({url:e,parameters:{menubar:!1,location:!1,status:!1,directories:!1,width:470,height:600}}),H("GUI","Chat Detached")},n.prototype.toggleMentionsOnly=function(){this._mentionsOnly=!this._mentionsOnly,this._$data.toggleClass("mentions-only"),this._scroll.scrollToEnd(),this._$mentionsButton.toggleClass("active")},n.prototype.showSmilesPopup=function(t){var e,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y=this,b=$('<div class="ch-smiles-popup">').appendTo(document.body);E.each(function(t){if(t.showInPopUp){var e=$('<div class="emoji-container js-emoji" title="'+t.code+'">');e.data("code",t.code),e.append(E.getElement(t)),e.appendTo(b)}}),b.on("click",".js-emoji",function(t){var e=y._$inputEdit.val(),i=y._$inputEdit.prop("selectionStart"),o=i>0&&" "!==e.charAt(i-1)?" ":"",n=i<e.length&&" "!==e.charAt(i)?" ":"";y.insertAtCursorPosition(o+$(t.target).closest(".js-emoji").data("code")+n),b.remove()}),e=this._$smilesButton.offset(),i=this._$smilesButton.outerWidth(),o=this._$smilesButton.outerHeight(),n=e.top+o/2,r=e.left+i/2,s=10,a=15,l=b.outerHeight(),c=b.outerWidth(),h="top",d=!0,u=r-c/2,p=$(document).width(),f=$(window).width(),u+c+s>f&&(u=f-(c+s),p-r<s+10&&(d=!1,a=10)),_=n+a,g=$(window).height(),m=$(window).scrollTop(),v=$(window).scrollLeft(),_-m+l+a>g&&(_=n-l-a,h="bottom"),d&&$('<div class="ch-smiles-caret ch-smiles-caret-'+h+'">').css("left",r-u-v).prependTo(b),b.css({left:u+v,top:_}).on("mousedownoutside",function(){b.remove()})},n.prototype.inputEditFocus=function(){Modernizr.touch||this._noAutoFocus||this._$inputEdit&&this._$inputEdit.focus()},n.prototype.inputEditBlur=function(){this._$inputEdit&&this._$inputEdit.blur()},n.getLaunchInSeparateWindowAction=function(t,e){return{title:$.t("Launch chat in a separate window"),action:function(){n.openBoundWindow({roomId:t,isPrivate:e})}}},n.prototype.destroyLikesHandlers=function(){this._chartLikesHandler&&this._chartLikesHandler.destroy(),this._snapshotMessagesLikesHandler&&this._snapshotMessagesLikesHandler.destroy()},
n.prototype.updateLikesHandlers=function(){this.destroyLikesHandlers(),this._chartLikesHandler=f.ChatLikesHandler.getChartsHandler(),this._snapshotMessagesLikesHandler=f.ChatLikesHandler.getMessagesSnapshotsHandler()},t.exports=n}).call(e,i(21),i(54))},,,,,,,,,,,function(t,e,i){"use strict";(function(t){function o(e){var i,o,c,h,d,u,p,f,_,g,m;if(e=$.extend({},l,e),i=$(t.render(s,{tabs:e.tabs,customControls:e.customControls,customControlsAddClass:e.customControlsContainerAddClass},{additionalHeaderContent:e.additionalHeaderContent})),o=$(a),c=o,e.contentAddClass&&o.addClass(e.contentAddClass),!1!==e.withScroll&&(o=$('<div class="js-dialog__scroll-wrap tv-dialog__scroll-wrap">').append(c.addClass("tv-dialog__scroll-wrap-inner"))),h=$('<div class="tv-tabbed-dialog">').append(i).append(o),e.customControls&&i.find(".js-custom-controls").append(e.customControls),!0!==e.doNotCreatePages)for(d=0;d<e.tabs.length;++d)c.append($('<div class="tv-tabbed-dialog__tab-page">').append(e.tabs[d].page));return u=e.tabStateSaveKey,p=e.activeTab,f=e.tabsScrollBoxAddClass,_=e.tabAddClass,delete e.tabs,delete e.activeTab,delete e.customControls,delete e.tabStateSaveKey,delete e.customControlsContainerAddClass,delete e.tabsScrollBoxAddClass,delete e.tabAddClass,e.closeButtonAddClass="tv-tabbed-dialog__close",e.contentWrapTemplate=h,g=(0,r.createDialog)(e),m=new n.Tabs(i.find(".tv-tabs").get(0),c.get(0),{addLeftArrowsClass:"tv-tabbed-dialog__tabs-arrow-left",addRightArrowsClass:"tv-tabbed-dialog__tabs-arrow-right",addScrollBoxClass:f,tabClass:_,saveTab:u,activeTab:p}),g.on("afterOpen",function(){m.setActivePage(m.index(),!0,!0)}),{dialog:g,tabs:m}}var n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),e.createTabbedDialog=o,n=i(237),r=i(56),i(981),s='<div class="tv-dialog__section tv-dialog__section--title tv-tabbed-dialog__header js-dialog__drag js-close-button-place"><div class="tv-tabs tv-tabbed-dialog__tabs js-dialog__drag">{{#tabs}}<div class="tv-tabs__tab">{{name}}</div>{{/tabs}}</div>{{#customControls}}<div class="js-custom-controls tv-tabbed-dialog__custom-controls {{#customControlsAddClass}}{{customControlsAddClass}}{{/customControlsAddClass}}"></div>{{/customControls}}<div class="tv-tabbed-dialog__bottom-border"></div></div>{{>additionalHeaderContent}}',a='<div class="tv-tabbed-dialog__pages-container"></div>',l={tabs:[]}}).call(e,i(21))},,,function(t,e,i){"use strict";function o(t){var e,i,o,r,s=(e=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=e?void 0:arguments[e]);if(s.searchValue){for(i=(0,w.parseHtml)(t).childNodes,o="",r=0;r<i.length;r++)i[r].classList&&(i[r].classList.contains("tv-screener__symbol")&&(i[r].innerHTML=n(i[r].textContent.trim(),s.searchValue)),o+=i[r].outerHTML);return o+" "}return $.t(t)}function n(t,e){e=e.replace(/(\s+)/,"(<[^>]+>)*$1(<[^>]+>)*");var i=RegExp("("+e+")","gi");return t.replace(i,"<mark>$1</mark>")}function r(t,e,i,o){var n,r,s,a,l,c,h;if(Array.isArray(e)&&0===e.length)throw Error("Empty value");if(n=i&&i[t]?i[t]:e,
"function"==typeof nt[t].customFilterCondition&&(r=nt[t].customFilterCondition(n))){if(Array.isArray(r))for(s in r)a=r[s],a.left&&nt[a.left]&&(a.left=k(a.left,o));else r.left&&nt[r.left]&&(r.left=k(r.left,o));return r}return"function"==typeof nt[t].mutateFilterConditionValue&&(l=nt[t].mutateFilterConditionValue(n))&&(n=l),c=Array.isArray(n),n&&"object"===(void 0===n?"undefined":v(n))&&!c?(h={left:t,operation:n.operator},n.value&&(h.right=n.value),h):{left:k(t,o),operation:c?"in_range":"equal",right:c?n.slice():n}}function s(t,e,i,o){var n,s,a;if(W(e)&&W(i))throw Error("Empty value");switch(n={},s=void 0,nt[t].control){case"range":if(e&&"object"===(void 0===e?"undefined":v(e))&&!Array.isArray(e)){n={left:t,operation:e.operator},e.value&&(n.right=e.value);break}a=i?Array.isArray(i[t])&&i[t].slice()||[]:e.slice(),n={left:k(t,o),operation:"in_range",right:a},2===a.length&&isNumber(a[0])&&isNumber(a[1])&&(-1e100==+a[0]?n={left:k(t,o),operation:"eless",right:a[1]}:1e100==+a[1]&&(n={left:k(t,o),operation:"egreater",right:a[0]}));break;case"condition":if(W(e.operator))throw Error("Empty value operator");if(W(e.value))throw Error("Empty value");s=i&&i[t].value?i[t].value:e.value,nt[s]&&(s=k(s,o)),n={left:k(t,o),operation:i&&i[t].operator?i[t].operator:e.operator,right:s};break;case"toggle":n={left:k(t,o),operation:i&&i[t].operator?i[t].operator:nt[t].filter.operator,right:i&&i[t].value?i[t].value:nt[t].filter.value};break;case"select":n=r(t,e,i,o);break;default:"select"===nt[t].filterCondition&&(n=r(t,e,i,o))}return n}function a(t,e){for(var i in t)t[i].disabled=t[i].category===B||e.includes(i)}function l(t,e){a(t,(e||[]).concat("type","industry","market_cap_basic","rtc","pre_change","beta_1_year","Value.Traded","MoneyFlow","ChaikinMoneyFlow","gap","elements","basic_elements"))}function c(t,e){switch(t){case"forex":l(e,["exchange","volume","relative_volume_10d_calc","average_volume_10d_calc","average_volume_30d_calc","average_volume_60d_calc","average_volume_90d_calc"]);break;case"futures":case"cfd":l(e,["bid","ask"]);break;case"crypto":l(e,["country","sector"])}}function h(t,e){var i,n,r,s,a;delete nt.name.control;for(i in S.quoteFieldTitles)i in nt&&(nt[i].title=S.quoteFieldTitles[i][0],nt[i].shortTitle=S.quoteFieldTitles[i][1]);if("forex"===t&&(nt.country.title=$.t("Region"),nt.country.shortTitle=$.t("Region"),delete nt.sector.control,nt.sector.title=$.t("Group"),nt.sector.shortTitle=$.t("Group"),nt.sector.resettableFilter=!1,nt.sector.mutateFilterConditionValue=function(t){return!!t&&(Array.isArray(t)?t.map(function(t){return q(t,F)}):q(t,F))}),"stock"===t){nt.name.control="select",nt.sector.control="select",nt.sector.resettableFilter=!0,delete nt.sector.mutateFilterConditionValue,n=["bid","ask"];for(r in nt)nt[r].disabled=n.includes(r)}"crypto"===t&&(nt.sector.title=$.t("Coin"),nt.sector.shortTitle=$.t("Coin"),nt.sector.control="select",nt.sector.resettableFilter=!0,delete nt.sector.mutateFilterConditionValue),"crypto_mkt"===t&&(nt.sector.title=$.t("Name"),nt.sector.shortTitle=$.t("Name")),
["crypto","crypto_mkt"].includes(t)&&(nt.total_shares_outstanding.title=$.t("Available Coins"),nt.total_shares_outstanding.shortTitle=$.t("Avail Coins")),"sector"===t&&(nt.description.hiddenColumn=!1,nt.description.title=$.t("Sector"),nt.description.shortTitle=$.t("Sector"),nt.description.mutateDisplayValue=o),"industry"===t&&(nt.description.hiddenColumn=!1,nt.description.title=$.t("Industry"),nt.description.shortTitle=$.t("Industry"),nt.description.mutateDisplayValue=o,nt.elements.title=$.t("Stocks"),nt.elements.shortTitle=$.t("Stocks"),nt.sector.control="select",nt.sector.resettableFilter=!0),["sector","industry"].includes(e)&&(nt.sector.hiddenColumn=!0),c(t,nt),s=["market_cap_calc","market_cap_diluted_calc","total_shares_outstanding","total_shares_diluted","total_value_traded"],s.forEach(function(e){nt[e].disabled=!["crypto","crypto_mkt"].includes(t)}),a=["elements","basic_elements"],a.forEach(function(e){nt[e].disabled=!["sector","industry"].includes(t)})}function d(t){return Y(""+t,st)||t}function u(t){return Y(""+t,at)||t}function p(){var t=function(t,e,i){var o=X(t,H)||null,n=o?K(o):null;return n&&n[0]<=1e3*t&&1e3*t<=n[1]?e:i};nt.earnings_release_next_time={isSingle:!0,title:$.t("Time"),tooltip:function(e,i,o){var n=o.value,r=t(e,n,i);return r?d(r):void 0},shortTitle:$.t("Time"),disableHeaderControl:!0,align:"center",additionalColumns:["earnings_release_next_date","earnings_release_time"],mutateDisplayValue:function(e,i,o,n){var r=n.value,s=t(i,r,o);return s?u(s):""},category:B},nt.close.title=$.t("Last"),nt.close.shortTitle=$.t("Last"),nt.earnings_release_next_date.title=$.t("Date"),nt.earnings_release_next_date.shortTitle=$.t("Date"),delete nt.earnings_per_share_forecast_next_fq.control,nt.earnings_per_share_forecast_next_fq.title=$.t("EPS Estimate"),nt.earnings_per_share_forecast_next_fq.shortTitle=$.t("EPS Estimate"),nt.earnings_per_share_forecast_next_fq.disableHeaderControl=!0,nt.earnings_per_share_forecast_next_fq.align="right",nt.earnings_per_share_forecast_next_fq.additionalColumns=["earnings_release_next_date","earnings_per_share_forecast_fq"],nt.earnings_per_share_forecast_next_fq.mutateDisplayValue=function(t,e,i){var o,n=X(nt.earnings_release_next_date.value,H);return n&&(o=K(n))&&o[0]<=1e3*e&&1e3*e<=o[1]?t:i?I.format(i):""},nt.earnings_per_share_fq.title=$.t("Reported EPS"),nt.earnings_per_share_fq.shortTitle=$.t("Reported EPS"),nt.eps_surprise_fq={control:"condition",hiddenOperators:ot,conditionFields:[],title:S.quoteFieldTitles.eps_surprise_fq[0],shortTitle:S.quoteFieldTitles.eps_surprise_fq[1],formatter:I,filterFormatter:A,category:B,highlightChange:!0},nt.eps_surprise_percent_fq={control:"condition",hiddenOperators:ot,conditionFields:[],title:S.quoteFieldTitles.eps_surprise_percent_fq[0],shortTitle:S.quoteFieldTitles.eps_surprise_percent_fq[1],formatter:D,filterFormatter:E,category:B,highlightChange:!0},_()}function f(){nt.earnings_per_share_fq.mutateDisplayValue=function(){return lt},nt.eps_surprise_fq.mutateDisplayValue=function(){return lt},
nt.eps_surprise_percent_fq.mutateDisplayValue=function(){return lt}}function _(){ct(nt.earnings_per_share_fq),ct(nt.eps_surprise_fq),ct(nt.eps_surprise_percent_fq)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stock",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return null;if(["crypto_mkt"].includes(e)&&t.cryptoFormatter)return t.cryptoFormatter;if(["forex","crypto","crypto_mkt","cfd","futures"].includes(e)){if(t.forexFilterFormatter)return t.forexFilterFormatter;if(t.forexFormatter)return t.forexFormatter}return i&&t.filterFormatter?t.filterFormatter:t.formatter?t.formatter:null}function m(t,e,i,o){var n=t+";"+e+";"+i+";"+o;return ht[n]||(ht[n]=new T(t,e,i,o)),ht[n]}var v,y,b,w,S,T,x,P,C,M,k,L,I,A,R,D,E,O,V,B,z,F,N,H,W,U,j,q,G,Y,X,K,J,Z,Q,tt,et,it,ot,nt,rt,st,at,lt,ct,ht;Object.defineProperty(e,"__esModule",{value:!0}),e.earningsCalendarHeaderFields=e.fields=e.getFieldByFilterLeftOp=e.isValueAbsent=e.translatedMetaFieldNames=void 0,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.conditionByField=s,e.applyScreenerTypeToFields=h,e.applyEarningsCalendarToFields=p,e.applyEarningsCalendarNextReleaseDate=f,e.applyEarningsCalendarReleaseDate=_,e.getFieldFormatter=g,e.getPriceFieldFormatter=m,y=i(121),i(5),b=i(1655),w=i(1128),S=i(1535),T=i(16).PriceFormatter,x=i(71).VolumeFormatter,P=i(73).PercentageFormatter,C=i(1656).TimeSpanDateFormatter,M=i(1657).TrailingZerosPriceFormatter,k=i(1079).getFieldNameWithResolution,L=new M(1e8,1,!1),I=new T(100,1,!1),A=new T(1,1,!1),R=new x,D=new P,E=new P(1),O=new C,V=1,B=2,z=3,F=e.translatedMetaFieldNames={Any:$.t("Any"),Exotic:$.t("Exotic"),Major:$.t("Major"),Minor:$.t("Minor",{context:"currency"}),Africa:$.t("Africa"),Americas:$.t("Americas"),Asia:$.t("Asia"),Europe:$.t("Europe"),Pacific:$.t("Pacific"),"Middle East":$.t("Middle East")},N=[{key:"Candle.3BlackCrows",name:$.t("Three Black Crows"),svg:i(1658)},{key:"Candle.3WhiteSoldiers",name:$.t("Three White Soldiers"),svg:i(1659)},{key:"Candle.AbandonedBaby.Bearish",name:$.t("Abandoned Baby Bearish"),svg:i(1660)},{key:"Candle.AbandonedBaby.Bullish",name:$.t("Abandoned Baby Bullish"),svg:i(1661)},{key:"Candle.Doji",name:$.t("Doji"),svg:i(1662)},{key:"Candle.Doji.Dragonfly",name:$.t("Dragonfly Doji"),svg:i(1663)},{key:"Candle.Doji.Gravestone",name:$.t("Gravestone Doji"),svg:i(1664)},{key:"Candle.Engulfing.Bearish",name:$.t("Bearish Engulfing"),svg:i(1665)},{key:"Candle.Engulfing.Bullish",name:$.t("Bullish Engulfing"),svg:i(1666)},{key:"Candle.EveningStar",name:$.t("Evening Star"),svg:i(1667)},{key:"Candle.Hammer",name:$.t("Hammer"),svg:i(1668)},{key:"Candle.HangingMan",name:$.t("Hanging Man"),svg:i(1669)},{key:"Candle.Harami.Bearish",name:$.t("Bearish Harami"),svg:i(1670)},{key:"Candle.Harami.Bullish",name:$.t("Bullish Harami"),svg:i(1671)},{key:"Candle.InvertedHammer",name:$.t("Inverted Hammer"),svg:i(1672)},{
key:"Candle.Kicking.Bearish",name:$.t("Kicking Bearish"),svg:i(1673)},{key:"Candle.Kicking.Bullish",name:$.t("Kicking Bullish"),svg:i(1674)},{key:"Candle.LongShadow.Lower",name:$.t("Long Lower Shadow"),svg:i(1675)},{key:"Candle.LongShadow.Upper",name:$.t("Long Upper Shadow"),svg:i(1676)},{key:"Candle.Marubozu.Black",name:$.t("Marubozu Black"),svg:i(1677)},{key:"Candle.Marubozu.White",name:$.t("Marubozu White"),svg:i(1678)},{key:"Candle.MorningStar",name:$.t("Morning Star"),svg:i(1679)},{key:"Candle.ShootingStar",name:$.t("Shooting Star"),svg:i(1680)},{key:"Candle.SpinningTop.Black",name:$.t("Spinning Top Black"),svg:i(1681)},{key:"Candle.SpinningTop.White",name:$.t("Spinning Top White"),svg:i(1682)},{key:"Candle.TriStar.Bearish",name:$.t("Tri Star Bearish"),svg:i(1683)},{key:"Candle.TriStar.Bullish",name:$.t("Tri Star Bullish"),svg:i(1684)}].sort(function(t,e){return t.name>e.name?1:-1}),H=[{key:"today",name:$.t("Today")},{key:"tomorrow",name:$.t("Tomorrow")},{key:"yesterday",name:$.t("Yesterday")},{key:"next_five",name:$.t("Next 5 Days")},{key:"prev_five",name:$.t("Previous 5 Days")},{key:"this_week",name:$.t("This Week")},{key:"next_week",name:$.t("Next Week")},{key:"prev_week",name:$.t("Previous Week")},{key:"this_month",name:$.t("This Month")}],W=e.isValueAbsent=function(t){return null===t||void 0===t||""===(""+t).trim()},e.getFieldByFilterLeftOp=function(t){return nt.hasOwnProperty(t)?nt[t]:N.find(function(e){return e.key===t})?nt.candlestick:H.find(function(e){return e.key===t})?nt.earnings_release_next_date:void 0},U=function(t,e){return{left:"earnings_release_date,earnings_release_next_date",operation:"in_range",right:[t/1e3,e/1e3]}},j=function(t){return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},q=function(t,e){return Object.keys(e).find(function(i){return e[i]===t})||t},G=function(t,e,i,o){var n=o.filter(function(e){return e[t]===i});return n.length>0?n[0][e]:""},Y=function(t,e){return G("key","name",t,e)},X=function(t,e){return G("name","key",t,e)},K=function(t){var e,i,o,n=j(new Date),r=void 0,s=void 0;return"today"===t&&(r=n.getTime(),n.setUTCDate(n.getUTCDate()+1),s=n.getTime()),"tomorrow"===t&&(n.setUTCDate(n.getUTCDate()+1),r=n.getTime(),n.setUTCDate(n.getUTCDate()+1),s=n.getTime()),"yesterday"===t&&(s=n.getTime(),n.setUTCDate(n.getUTCDate()-1),r=n.getTime()),"next_five"===t&&(n.setUTCDate(n.getUTCDate()+1),r=n.getTime(),n.setUTCDate(n.getUTCDate()+5),s=n.getTime()),"prev_five"===t&&(s=n.getTime(),n.setUTCDate(n.getUTCDate()-5),r=n.getTime()),"this_week"===t&&(e=(n.getUTCDay()+6)%7,n.setUTCDate(n.getUTCDate()-e),r=n.getTime(),n.setUTCDate(n.getUTCDate()+7),s=n.getTime()),"next_week"===t&&(i=(n.getUTCDay()+6)%7-7,n.setUTCDate(n.getUTCDate()-i),r=n.getTime(),n.setUTCDate(n.getUTCDate()+7),s=n.getTime()),"prev_week"===t&&(o=(n.getUTCDay()+6)%7+7,n.setUTCDate(n.getUTCDate()-o),r=n.getTime(),n.setUTCDate(n.getUTCDate()+7),s=n.getTime()),"this_month"===t&&(n.setUTCDate(1),r=n.getTime(),n.setMonth(n.getMonth()+1),s=n.getTime()),!(!r||!s)&&[r,s]},J={
dr:[$.t("Depositary Receipt"),$.t("DR"),{nowrap:!0}],fund:[$.t("ETF"),$.t("ETF")],common:[$.t("Common Stock"),""],preferred:[$.t("Preferred Stock"),$.t("P")]},Z=function(t,e){return nt.type.disabled||!nt.type.checked?"":'<span class="tv-screener__type" title="'+nt.type.mutateDisplayValue(t,e)+'"><sup>'+nt.type.mutateDisplayValue(t,e,!0)+"</sup></span>"},Q=function(t,e,i){var o,r;return nt.description.disabled||!nt.description.checked?"":(o={description:t,pro_name:"",short_name:i},r=t?(""+(0,y.getTranslatedSymbolDescription)(o)).toUpperCase():"",nt.name.searchValue&&(r=n(r,nt.name.searchValue)),t.includes("(calculated by TradingView)")&&(r=window.t("{symbol} (calculated by TradingView)").format({symbol:r})),'<span class="tv-screener__description">'+r+" "+e+"</span>")},tt=function(t){return["open","high","low","close"].filter(function(e){return e!==t})},et=function(t){return["SMA10","SMA20","SMA30","SMA50","SMA100","SMA200","EMA10","EMA20","EMA30","EMA50","EMA100","EMA200"].filter(function(e){return e!==t})},it=function(t){return["Ichimoku.BLine","Ichimoku.CLine","Ichimoku.Lead1","Ichimoku.Lead2"].filter(function(e){return e!==t})},ot=["crosses","crosses_above","crosses_below"],nt=e.fields={name:{fixed:!0,control:"select",category:V,inplaceEditorLeftOffset:10,filterTitle:S.quoteFieldTitles.type[0],rangeTitles:J,additionalColumns:["description","name","type","subtype"],additionalFormatter:function(t,e,i,o){var n=Z(i,o);return Q(t,n,e)},mutateDisplayValue:o,tooltip:function(t,e){return nt.description.disabled||!nt.description.checked?e:t},useDefaultRange:!0,defaultRange:["dr","fund","common","preferred"],customFilterCondition:function(t){return nt.type.customFilterCondition(t)},search:!0},description:{title:$.t("description"),hiddenColumn:!0},country_code:{hiddenColumn:!1,hideSetupColumn:!0,skipField:!0},crypto_code:{hiddenColumn:!1,hideSetupColumn:!0,skipField:!0},exchange:{control:"select",category:V},sector:{category:V,filterCondition:"select",sourceRange:["Major","Minor","Exotic"],mutateDisplayValue:o},index:{control:"select",isSingle:!0,category:V,hideSetupColumn:!0,groupFilter:!0,customFilterCondition:function(t){var e=nt.index.sourceRange.find(function(e){return e.name===t});return!!e&&{type:"index",values:[e.id]}}},industry:{control:"select",category:V},country:{control:"select",category:V},type:{hiddenColumn:!0,filterCondition:"select",category:V,rangeTitles:J,sortableColumn:!1,resettableFilter:!1,useDefaultRange:!0,defaultRange:["dr","fund","common","preferred"],additionalColumns:["subtype"],mutateDisplayValue:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"stock"!==t||"common"!==e&&"preferred"!==e?J[t]?J[t][i?1:0]:"":J[e][i?1:0]},customFilterCondition:function(t){var e,i,o,n,r,s={dr:[""],fund:["","etf","unit"],common:["common"],preferred:["preferred"]};if(Array.isArray(t)){e=!1;for(i in t)"common"!==t[i]&&"preferred"!==t[i]||(e=!0);if(e){o=[],n=[];for(r in t)"common"===t[r]||"preferred"===t[r]?o.push("stock"):o.push(t[r]),n=n.concat(s[t[r]]);return[{left:"type",
operation:"in_range",right:o.filter(function(t,e,i){return i.indexOf(t)===e})},{left:"subtype",operation:"in_range",right:n.filter(function(t,e,i){return i.indexOf(t)===e})}]}return[{left:"type",operation:"in_range",right:t}]}return"common"===t||"preferred"===t?[{left:"type",operation:"equal",right:"stock"},{left:"subtype",operation:"equal",right:t}]:[{left:"type",operation:"equal",right:t}]}},market_cap_basic:{control:"range",formatter:R,category:V},market_cap_calc:{control:"range",formatter:R,category:V},market_cap_diluted_calc:{control:"range",formatter:R,category:V},volume:{control:"range",formatter:R,category:V},average_volume_10d_calc:{title:S.quoteFieldTitles.average_volume[0],shortTitle:S.quoteFieldTitles.average_volume[1],control:"range",formatter:R,category:V,useDefaultTimeInterval:!0},average_volume_30d_calc:{control:"range",formatter:R,category:V,useDefaultTimeInterval:!0},average_volume_60d_calc:{control:"range",formatter:R,category:V,useDefaultTimeInterval:!0},average_volume_90d_calc:{control:"range",formatter:R,category:V,useDefaultTimeInterval:!0},relative_volume_10d_calc:{title:S.quoteFieldTitles.relative_volume[0],shortTitle:S.quoteFieldTitles.relative_volume[1],control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:V},change:{control:"condition",hiddenOperators:ot,conditionFields:{stock:["pre_change"],default:[]},formatter:D,category:z,highlightChange:!0},change_abs:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:L,forexFormatter:L,category:z,highlightChange:!0},pre_change:{control:"condition",hiddenOperators:ot,conditionFields:["change"],formatter:D,filterFormatter:E,category:z,highlightChange:!0},bid:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,forexFormatter:L,category:V,mutateDisplayValue:function(t){return"<span>"+t+"</span>"}},ask:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,forexFormatter:L,category:V,mutateDisplayValue:function(t){return"<span>"+t+"</span>"}},open:{control:"condition",conditionFields:tt("open").concat(et(),"HullMA9"),formatter:L,forexFormatter:L,category:V},close:{control:"condition",conditionFields:{stock:tt("close").concat("rtc",et(),"HullMA9","BB.upper","BB.lower",it()),forex:tt("close").concat("bid","ask",et(),"HullMA9","BB.upper","BB.lower",it()),default:tt("close").concat(et(),"BB.upper","BB.lower","HullMA9",it())},formatter:L,forexFormatter:L,category:V,mutateDisplayValue:function(t){return"<span>"+t+"</span>"}},high:{control:"condition",conditionFields:tt("high").concat(et(),"HullMA9"),formatter:L,forexFormatter:L,category:V},low:{control:"condition",conditionFields:tt("low").concat(et(),"HullMA9"),formatter:L,forexFormatter:L,category:V},gap:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},price_earnings_ttm:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},price_sales_ratio:{control:"condition",
hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},return_on_assets:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},return_on_equity:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},debt_to_equity:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,category:B},current_ratio:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},quick_ratio:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},price_book_fq:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},price_book_ratio:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},price_free_cash_flow_ttm:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},beta_1_year:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,category:z},operating_margin:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:B,highlightChange:!0},earnings_per_share_basic_ttm:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},ebitda:{control:"range",formatter:R,category:B},change_from_open:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},"Perf.W":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},"Perf.1M":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},"Perf.3M":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},"Perf.6M":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},"Perf.Y":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},"Perf.YTD":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z,highlightChange:!0},"Volatility.W":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z},"Volatility.M":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z},"Volatility.D":{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:z},RSI:{control:"condition",conditionFields:[],formatter:I,filterFormatter:A,category:z,displaySignal:!0,additionalColumns:["RSI","RSI[1]"],mutateDisplayValue:b.signalDisplayFunctions.processRSISignal,signalComputation:b.signalComputationFunctions.computeRSISignal},RSI7:{control:"condition",conditionFields:[],formatter:I,filterFormatter:A,category:z,displaySignal:!0,
additionalColumns:["RSI7","RSI7[1]"],mutateDisplayValue:b.signalDisplayFunctions.processRSISignal},ADX:{control:"condition",conditionFields:[],formatter:I,filterFormatter:A,category:z,displaySignal:!0,additionalColumns:["ADX","ADX+DI","ADX-DI","ADX+DI[1]","ADX-DI[1]"],mutateDisplayValue:b.signalDisplayFunctions.processADXSignal,signalComputation:b.signalComputationFunctions.computeADXSignal},"ADX+DI":{control:"condition",conditionFields:["ADX-DI"],formatter:I,filterFormatter:A,category:z},"ADX-DI":{control:"condition",conditionFields:["ADX+DI"],formatter:I,filterFormatter:A,category:z},ATR:{control:"condition",conditionFields:[],formatter:L,category:z},Mom:{control:"condition",conditionFields:[],formatter:L,filterFormatter:A,category:z,displaySignal:!0,additionalColumns:["Mom","Mom[1]"],mutateDisplayValue:b.signalDisplayFunctions.processMomSignal,signalComputation:b.signalComputationFunctions.computeMomSignal},"High.All":{control:"toggle",filter:{operator:"eless",value:"high"},formatter:I,forexFormatter:L,category:z},"Low.All":{control:"toggle",filter:{operator:"egreater",value:"low"},formatter:I,forexFormatter:L,category:z},price_52_week_high:{control:"toggle",filter:{operator:"eless",value:"high"},formatter:I,forexFormatter:L,category:z},price_52_week_low:{control:"toggle",filter:{operator:"egreater",value:"low"},formatter:I,forexFormatter:L,category:z},"High.6M":{control:"toggle",filter:{operator:"eless",value:"high"},formatter:I,forexFormatter:L,category:z},"Low.6M":{control:"toggle",filter:{operator:"egreater",value:"low"},formatter:I,forexFormatter:L,category:z},"High.3M":{control:"toggle",filter:{operator:"eless",value:"high"},formatter:I,forexFormatter:L,category:z},"Low.3M":{control:"toggle",filter:{operator:"egreater",value:"low"},formatter:I,forexFormatter:L,category:z},"High.1M":{control:"toggle",filter:{operator:"eless",value:"high"},formatter:I,forexFormatter:L,category:z},"Low.1M":{control:"toggle",filter:{operator:"egreater",value:"low"},formatter:I,forexFormatter:L,category:z},EMA10:{control:"condition",conditionFields:tt().concat(et("EMA10")),formatter:L,category:z,displaySignal:!0,additionalColumns:["EMA10","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},EMA20:{control:"condition",conditionFields:tt().concat(et("EMA20")),formatter:L,category:z,displaySignal:!0,additionalColumns:["EMA20","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},EMA30:{control:"condition",conditionFields:tt().concat(et("EMA30")),formatter:L,category:z,displaySignal:!0,additionalColumns:["EMA30","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},EMA50:{control:"condition",conditionFields:tt().concat(et("EMA50")),formatter:L,category:z,displaySignal:!0,additionalColumns:["EMA50","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,
signalComputation:b.signalComputationFunctions.computeMASignal},EMA100:{control:"condition",conditionFields:tt().concat(et("EMA100")),formatter:L,category:z,displaySignal:!0,additionalColumns:["EMA100","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},EMA200:{control:"condition",conditionFields:tt().concat(et("EMA200")),formatter:L,category:z,displaySignal:!0,additionalColumns:["EMA200","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},SMA10:{control:"condition",conditionFields:tt().concat(et("SMA10")),formatter:L,category:z,displaySignal:!0,additionalColumns:["SMA10","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},SMA20:{control:"condition",conditionFields:tt().concat(et("SMA20")),formatter:L,category:z,displaySignal:!0,additionalColumns:["SMA20","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},SMA30:{control:"condition",conditionFields:tt().concat(et("SMA30")),formatter:L,category:z,displaySignal:!0,additionalColumns:["SMA30","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},SMA50:{control:"condition",conditionFields:tt().concat(et("SMA50")),formatter:L,category:z,displaySignal:!0,additionalColumns:["SMA50","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},SMA100:{control:"condition",conditionFields:tt().concat(et("SMA100")),formatter:L,category:z,displaySignal:!0,additionalColumns:["SMA100","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},SMA200:{control:"condition",conditionFields:tt().concat(et("SMA200")),formatter:L,category:z,displaySignal:!0,additionalColumns:["SMA200","close"],mutateDisplayValue:b.signalDisplayFunctions.processMASignal,signalComputation:b.signalComputationFunctions.computeMASignal},"Stoch.K":{control:"condition",conditionFields:tt().concat(["Stoch.D"]),formatter:I,category:z,displaySignal:!0,additionalColumns:["Stoch.K","Stoch.D","Stoch.K[1]","Stoch.D[1]"],mutateDisplayValue:b.signalDisplayFunctions.processStochSignal,signalComputation:b.signalComputationFunctions.computeStochSignal},"Stoch.D":{control:"condition",conditionFields:tt().concat(["Stoch.K"]),formatter:I,category:z},"MACD.macd":{control:"condition",conditionFields:tt().concat(["MACD.signal"]),formatter:L,category:z,displaySignal:!0,additionalColumns:["MACD.macd","MACD.signal"],mutateDisplayValue:b.signalDisplayFunctions.processMACDSignal,signalComputation:b.signalComputationFunctions.computeMACDSignal},"MACD.signal":{control:"condition",conditionFields:tt().concat(["MACD.macd"]),formatter:L,category:z},"Aroon.Up":{control:"condition",
conditionFields:["Aroon.Down"],formatter:I,category:z},"Aroon.Down":{control:"condition",conditionFields:["Aroon.Up"],formatter:I,category:z},"BB.upper":{control:"condition",conditionFields:tt().concat(["BB.lower"]),formatter:L,category:z,displaySignal:!0,additionalColumns:["close","BB.upper"],mutateDisplayValue:b.signalDisplayFunctions.processBBSellSignal,signalComputation:b.signalComputationFunctions.computeBBSellSignal},"BB.lower":{control:"condition",conditionFields:tt().concat(["BB.upper"]),formatter:L,category:z,displaySignal:!0,additionalColumns:["close","BB.lower"],mutateDisplayValue:b.signalDisplayFunctions.processBBBuySignal,signalComputation:b.signalComputationFunctions.computeBBBuySignal},"KltChnl.upper":{control:"condition",conditionFields:tt().concat(["KltChnl.lower"]),formatter:L,category:z},"KltChnl.lower":{control:"condition",conditionFields:tt().concat(["KltChnl.upper"]),formatter:L,category:z},"P.SAR":{control:"condition",conditionFields:tt(),formatter:L,category:z,displaySignal:!0,additionalColumns:["P.SAR","open"],mutateDisplayValue:b.signalDisplayFunctions.processPSARSignal,signalComputation:b.signalComputationFunctions.computePSARSignal},"Value.Traded":{control:"range",formatter:R,category:V},MoneyFlow:{control:"condition",conditionFields:[],formatter:I,category:z},ChaikinMoneyFlow:{control:"condition",conditionFields:[],formatter:I,category:z},goodwill:{control:"range",formatter:R,category:B},cash_ratio:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},net_debt:{control:"range",formatter:R,category:B},total_debt:{control:"range",formatter:R,category:B},revenue_per_employee:{control:"range",formatter:R,category:B},return_on_invested_capital:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:B,highlightChange:!0},after_tax_margin:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:B,highlightChange:!0},pre_tax_margin:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:B,highlightChange:!0},gross_margin:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:B,highlightChange:!0},dividends_paid:{control:"range",formatter:R,category:B},dividends_yield:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:D,filterFormatter:E,category:B,highlightChange:!0},basic_eps_net_income:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},net_income:{control:"range",formatter:R,category:B},gross_profit:{control:"range",formatter:R,category:B},gross_profit_fq:{control:"range",formatter:R,category:B},number_of_shareholders:{control:"range",formatter:R,category:B},float_shares_outstanding:{control:"range",formatter:R,category:B},total_shares_outstanding_fundamental:{control:"range",formatter:R,category:B},total_shares_outstanding:{control:"range",formatter:R,category:B},total_shares_diluted:{control:"range",formatter:R,
category:B},total_value_traded:{control:"range",formatter:R,category:B},total_assets:{control:"range",formatter:R,category:B},total_current_assets:{control:"range",formatter:R,category:B},total_revenue:{control:"range",formatter:R,category:B},expected_annual_dividends:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},dividends_per_share_fq:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},earnings_per_share_diluted_ttm:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},enterprise_value_ebitda_ttm:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},enterprise_value_fq:{control:"range",formatter:R,category:B},price_revenue_ttm:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},number_of_employees:{control:"range",formatter:R,category:B},last_annual_eps:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},last_annual_revenue:{control:"range",formatter:R,category:B},CCI20:{control:"condition",conditionFields:[],formatter:I,category:z,displaySignal:!0,additionalColumns:["CCI20","CCI20[1]"],mutateDisplayValue:b.signalDisplayFunctions.processCCI20Signal,signalComputation:b.signalComputationFunctions.computeCCI20Signal},"DonchCh20.Upper":{control:"condition",conditionFields:tt().concat(["DonchCh20.Lower"]),formatter:L,category:z},"DonchCh20.Lower":{control:"condition",conditionFields:tt().concat(["DonchCh20.Upper"]),formatter:L,category:z},HullMA9:{control:"condition",conditionFields:tt(),formatter:L,category:z,displaySignal:!0,additionalColumns:["Rec.HullMA9"],mutateDisplayValue:b.signalDisplayFunctions.processSimpleSignal,signalComputation:b.signalComputationFunctions.computeSimpleSignal},AO:{control:"condition",conditionFields:[],formatter:L,category:z,displaySignal:!0,additionalColumns:["AO","AO[1]"],mutateDisplayValue:b.signalDisplayFunctions.processAOSignal,signalComputation:b.signalComputationFunctions.computeAOSignal},"Pivot.M.Classic.Middle":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Classic.R1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Classic.R2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Classic.R3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Classic.S1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Classic.S2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Classic.S3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Fibonacci.Middle":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Fibonacci.R1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Fibonacci.R2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Fibonacci.R3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Fibonacci.S1":{formatter:I,forexFormatter:L,
category:z,align:"right"},"Pivot.M.Fibonacci.S2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Fibonacci.S3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Camarilla.Middle":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Camarilla.R1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Camarilla.R2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Camarilla.R3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Camarilla.S1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Camarilla.S2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Camarilla.S3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Woodie.Middle":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Woodie.R1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Woodie.R2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Woodie.R3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Woodie.S1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Woodie.S2":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Woodie.S3":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Demark.Middle":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Demark.R1":{formatter:I,forexFormatter:L,category:z,align:"right"},"Pivot.M.Demark.S1":{formatter:I,forexFormatter:L,category:z,align:"right"},candlestick:{alias:"name",control:"select",category:z,sortableColumn:!1,additionalColumns:N.map(function(t){return t.key}),mutateDisplayValue:function(t){var e,i,o,n,r;for(e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];for(n=[],r=0;r<N.length;++r)i[r]&&n.push(N[r]);return n.length?n.map(function(t){return'<span class="tv-screener-table__pattern_icon apply-common-tooltip common-tooltip-fixed common-tooltip-below common-tooltip-html" data-color-theme="round-shadow" title=\'<div class="tv-screener-table__pattern_tooltip_container">'+t.svg+"<div>"+t.name+"</div></div>'>"+t.svg+"</span>"}).join(" "):'<span class="tv-screener-table__pattern_empty"></span>'},range:N.map(function(t){return t.name}),sourceRange:N,customFilterCondition:function(t){return Array.isArray(t)||(t=[t]),{left:t.map(function(t){return X(t,N)}).join(","),operation:"equal",right:1}}},rtc:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:V,additionalColumns:["current_session"],mutateDisplayValue:function(t,e){return"pre_market"===e?t:""}},earnings_per_share_forecast_next_fq:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},earnings_per_share_fq:{control:"condition",hiddenOperators:ot,conditionFields:[],formatter:I,filterFormatter:A,category:B},earnings_release_next_date:{control:"select",isSingle:!0,category:B,sortable:!1,useDefaultRange:!0,additionalColumns:["earnings_release_date","earnings_release_next_date"],mutateDisplayValue:function(t,e,i,o){
var n,r;if(!i&&e)return O.format(e);if(o.value&&(n=X(o.value,H))&&(r=K(n))){if(e&&r[0]<=1e3*e&&1e3*e<=r[1])return O.format(e);if(i&&r[0]<=1e3*i&&1e3*i<=r[1])return O.format(i)}return t},defaultRange:H.map(function(t){return t.name}),sourceRange:H,customFilterCondition:function(t){var e,i=X(t,H);return!(!i||!(e=K(i)))&&U(e[0],e[1])},formatter:O},"Recommend.All":{control:"select",category:z,mutateDisplayValue:b.signalDisplayFunctions.processRecommendSignal,signalComputation:b.signalComputationFunctions.computeRecommendSignal,isSingle:!0,useDefaultRange:!0,sortable:!1,defaultRange:b.recommendsRange,customFilterCondition:function(t){return(0,b.generateRecommendsRequest)(t,"Recommend.All")}},"Recommend.MA":{control:"select",category:z,mutateDisplayValue:b.signalDisplayFunctions.processRecommendSignal,signalComputation:b.signalComputationFunctions.computeRecommendSignal,isSingle:!0,useDefaultRange:!0,sortable:!1,defaultRange:b.recommendsRange,customFilterCondition:function(t){return(0,b.generateRecommendsRequest)(t,"Recommend.MA")}},"Recommend.Other":{control:"select",category:z,mutateDisplayValue:b.signalDisplayFunctions.processRecommendSignal,signalComputation:b.signalComputationFunctions.computeRecommendSignal,isSingle:!0,useDefaultRange:!0,sortable:!1,defaultRange:b.recommendsRange,customFilterCondition:function(t){return(0,b.generateRecommendsRequest)(t,"Recommend.Other")}},"Stoch.RSI.K":{control:"condition",conditionFields:["Stoch.RSI.D"],formatter:I,category:z,displaySignal:!0,additionalColumns:["Rec.Stoch.RSI"],mutateDisplayValue:b.signalDisplayFunctions.processSimpleSignal,signalComputation:b.signalComputationFunctions.computeSimpleSignal},"Stoch.RSI.D":{control:"condition",conditionFields:["Stoch.RSI.K"],formatter:I,category:z},"W.R":{control:"condition",conditionFields:[],formatter:I,category:z,displaySignal:!0,additionalColumns:["Rec.WR"],mutateDisplayValue:b.signalDisplayFunctions.processSimpleSignal,signalComputation:b.signalComputationFunctions.computeSimpleSignal},ROC:{control:"condition",conditionFields:[],formatter:I,category:z},BBPower:{control:"condition",conditionFields:[],formatter:L,category:z,displaySignal:!0,additionalColumns:["Rec.BBPower"],mutateDisplayValue:b.signalDisplayFunctions.processSimpleSignal,signalComputation:b.signalComputationFunctions.computeSimpleSignal},UO:{control:"condition",conditionFields:[],formatter:I,category:z,displaySignal:!0,additionalColumns:["Rec.UO"],mutateDisplayValue:b.signalDisplayFunctions.processSimpleSignal,signalComputation:b.signalComputationFunctions.computeSimpleSignal},VWMA:{control:"condition",conditionFields:tt(),formatter:L,category:z,displaySignal:!0,additionalColumns:["Rec.VWMA"],mutateDisplayValue:b.signalDisplayFunctions.processSimpleSignal,signalComputation:b.signalComputationFunctions.computeSimpleSignal},ADR:{control:"condition",conditionFields:tt(),formatter:L,category:z},"Ichimoku.CLine":{control:"condition",conditionFields:tt().concat(it("Ichimoku.CLine")),formatter:L,category:z},"Ichimoku.BLine":{control:"condition",
conditionFields:tt().concat(it("Ichimoku.BLine")),formatter:L,category:z,displaySignal:!0,additionalColumns:["Rec.Ichimoku"],mutateDisplayValue:b.signalDisplayFunctions.processSimpleSignal,signalComputation:b.signalComputationFunctions.computeSimpleSignal},"Ichimoku.Lead1":{control:"condition",conditionFields:tt().concat(it("Ichimoku.Lead1")),formatter:L,category:z},"Ichimoku.Lead2":{control:"condition",conditionFields:tt().concat(it("Ichimoku.Lead2")),formatter:L,category:z},elements:{hiddenOperators:ot,title:$.t("Industries"),shortTitle:$.t("Industries"),control:"condition",conditionFields:[],formatter:A,category:V},basic_elements:{hiddenOperators:ot,title:$.t("Stocks"),shortTitle:$.t("Stocks"),control:"condition",conditionFields:[],formatter:A,category:V}};for(rt in S.quoteFieldTitles)rt in nt&&(nt[rt].title=S.quoteFieldTitles[rt][0],nt[rt].shortTitle=S.quoteFieldTitles[rt][1]);st=[{key:"-1",name:$.t("Before Open")},{key:"1",name:$.t("After Close")}],at=[{key:"-1",name:'<div class="tv-screener-table__market-icon">'+i(1685)+"</div>"},{key:"1",name:'<div class="tv-screener-table__market-icon">'+i(1686)+"</div>"}],lt='<span class="tv-screener-table__cell--color-normal"></span>',ct=function(t){t.additionalColumns=["earnings_release_next_date"],t.mutateDisplayValue=function(t,e){var i,o=X(nt.earnings_release_next_date.value,H);return o&&(i=K(o))&&i[0]<=1e3*e&&1e3*e<=i[1]?lt:t}},e.earningsCalendarHeaderFields=["name","market_cap_basic","earnings_per_share_forecast_next_fq","earnings_per_share_fq","eps_surprise_fq","eps_surprise_percent_fq","earnings_release_next_date","earnings_release_next_time","description","type"],ht={}},,function(t,e,i){"use strict";function o(){var t=$(".publish-chart-button");0!==t.length&&(t.addClass("process"),d=setTimeout(n,3e4))}function n(){clearTimeout(d),$(".publish-chart-button").removeClass("process")}function r(t,e){!0!==e&&h.getBool("publish.showIntroText",!0)?c.createPublishIntroDialog().open().on("destroy",window.saver.publishChart.bind(window.saver,t)):window.saver.publishChart(t)}function s(t,e){window.runOrSignIn(function(){o(),l.whenVerified({showDialog:!0,source:"Publish chart"}).done(r.bind(null,t,e)).always(n)},{source:"Publish chart",sourceMeta:"Chart"})}function a(t){s(t,!0)}var l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),i(13),l=i(194),c=i(1050),h=i(48),d=0,e.publishChart=s,e.publishChartWidget=a},,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t,e){return window.is_authenticated?$.ajax({data:{pine_id:e,username_recip:t},dataType:"json",type:"POST",url:"/pine_perm/add/"}):$.Deferred().reject()}function i(t,e){return window.is_authenticated?$.ajax({data:{pine_id:e,username_recip:t},dataType:"json",type:"POST",url:"/pine_perm/remove/"}):$.Deferred().reject()}function o(t){return window.is_authenticated?$.ajax({data:{pine_id:t},dataType:"json",type:"POST",url:"/pine_perm/list_users/"}):$.Deferred().reject()}function n(){return window.is_authenticated?$.ajax({dataType:"json",type:"POST",
url:"/pine_perm/list_scripts/"}):$.Deferred().reject()}t.add=e,t.remove=i,t.listUsers=o,t.listScripts=n}(e.PinePerm||(e.PinePerm={}))},function(t,e,i){"use strict";var o=i(53).TVXWindowEvents,n=function(){function t(){_=TVSettings.getJSON(v,[]),g=TVSettings.getJSON(y,{})}function e(){_&&(TVSettings.setJSON(v,_),TVSettings.setJSON(y,g))}function i(e){_||t();var i="Script$"+e+"@tv-scripting";return-1!==_.indexOf(i)}function r(i,r){var s,a;_||t(),s="Script$"+i+"@tv-scripting",-1===(a=_.indexOf(s))&&(_.push(s),null!=r&&(g[s]=r),e(),o.emit("StudyFavoritesChanged",JSON.stringify({favorites:_,favoritesExtra:g})),window.is_authenticated&&n.info([i]).done(function(t){var e,i;t&&t[0]&&t[0].imageUrl&&(e=t[0].imageUrl,i=!1,$(".agree").each(function(){var t,o=$(this);o.data("image_url")===e&&(t=o.data("controller"))&&(t.setAgree(),i=!0)}),i||$.ajax({url:"/vote-for-chart/",type:"POST",dataType:"json",data:{image_url:t[0].imageUrl,vote:1}}))}))}function s(i){var n,r;_||t(),n="Script$"+i+"@tv-scripting",-1!==(r=_.indexOf(n))&&(_.splice(r,1),delete g[n],e(),o.emit("StudyFavoritesChanged",JSON.stringify({favorites:_,favoritesExtra:g})))}function a(){b||($(document.body).on("click",".pubscript-button",function(t){var e,o,n;t.preventDefault(),e=$(this),(o=e.data("script-id-part"))&&(n=i(o),n?s(o):r(o,e.data()),c())}),o.on("StudyFavoritesChanged",function(t){var e=JSON.parse(t);_=e.favorites||e,g=e.favoritesExtra||{},c()}),loginStateChange.subscribe(null,l),b=!0),_||t(),c()}function l(){t(),c()}function c(){$(".pubscript-button").each(function(){var t=this,e=$(t).data("script-id-part");e&&h(t,!!i(e))})}function h(t,e){var i=$(t),o=i.hasClass("active");(e=1 in arguments?!!e:!o)!==o&&i.toggleClass("active",e)}function d(t){var e=$.ajax({url:"/pubscripts-suggest-json/",type:"GET",data:{search:t},dataType:"json"});return e.done(function(t){if(t&&t.results)for(var e=0;e<t.results.length;e++)m[t.results[e].scriptIdPart]=TradingView.clone(t.results[e])}),e}function u(t){var e,i,o,n=$.Deferred(),r=[],s=[];for(e=0;e<t.length;e++)i=t[e],m[i]?r.push(TradingView.clone(m[i])):s.push(i);return s.length?(o=$.ajax({url:"/pubscripts-get/",type:"POST",data:{scriptIdPart:s.join(",")},dataType:"json"}),o.done(function(t){var e,i;t=t||[];for(e in t)i=t[e],m[i.scriptIdPart]=TradingView.clone(i),r.push(i);n.resolve(r)}).fail(function(){n.reject()}),n):n.resolve(r).promise()}function p(t){t.forEach(function(t){delete m[t]})}function f(){m=[]}var _=null,g={},m={},v="studyMarket.favorites",y="studyMarket.favorites.extra",b=!1;return{initButtons:a,suggest:d,info:u,invalidateCache:p,cleanCache:f}}();t.exports=n},,,,,function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(20),n={filterNamesMap:{script_type:"Indicators and Strategies","script_type-indicators":"Indicators","script_type-strategies":"Strategies",stream:"All Markets","stream-stocks":"Stocks","stream-indices":"Indices","stream-commodities":"Commodities","stream-currencies":"Currencies","stream-bitcoin":"Bitcoin","interval-all":"All Intervals","interval-m":"Short Term",
"interval-h":"Medium Term","interval-dwm":"Long Term","sort-unmoderated":"Unmoderated","sort-trending":"Trending","sort-discussed":"Most Discussed","sort-viewed":"Most Viewed","sort-agreed":"Most Agreed","sort-suggested":"Suggested","sort-recent":"All Ideas","time-day":"Today","time-week":"This Week","time-month":"This Month","time-all":"All Time","by-everyone":"Everyone","by-following":"Following","by-me":"My Ideas"},goProFeaturesMap:{customIntervals:"Add Custom Interval",intradaySpread:"Inraday Spread",kagiRenko:"Japanese Intraday Chart",extendedHours:"Timezones Extended Hours",alerts:{prefix:"New Alerts Limit",widget:"Widget",chart:"Chart Header"},multipleCharts:"Multiple Charts Layout",savedChartsLimit:"Save Chart Limit",studyLimit:"Studies Limit",multipleWatchLists:{prefix:"Watchlists",new:"Create New List",rename:"Rename List",saveAs:"Save List As"},importWatchlist:"Watchlists Import Watchlist",exportWatchlist:"Watchlists Export Watchlist",BATSExchangePopup:"BATS Exchange Popup",DataQualityPopup:"Data Quality Popup",CHXEURExchangePopup:"CHXEUR Exchange Popup",FreeDelayPopup:"Free Delay Popup",proRTProduct:"Volume Profile",studyOnStudy:"Unlimited Study on Study"},trackFeature:{savedChartsLimit:!0,BATSExchangePopup:!0,CHXEURExchangePopup:!0,FreeDelayPopup:!0,DataQualityPopup:!0,intradaySpread:!0,studyOnStudy:!0},trackGoPro:function(t,e,i){i&&!e&&(e=i,i=null);var r=n.goProFeaturesMap[e];if(r){if(i){if("string"==typeof r)return;r="{0} {1}".format(r.prefix,r[i])}(0,o.trackEvent)(t,r)}}},e.default=n,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){var t=(0,h.createDialog)({width:550,destroyOnClose:!0,focusFirstControl:!1,actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--actions-adaptive i-align_center tv-dialog__section--no-border">',content:$(A),actions:[{name:"open-support",type:"primary",text:window.t("Open the support tab"),template:'<a href="/u/'+window.user.username+'/#support" target="_blank" data-name="{{ name }}" class="js-open-support-tab js-dialog__no-drag {{ class }}">{{ text }}</a>'},{name:"close",type:"default",text:window.t("Close",{context:"input"}),method:"close"}]});return t.$el.on("click touchend",".js-open-support-tab",function(e){t.close()}),t}var l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R,D;switch(Object.defineProperty(e,"__esModule",{value:!0}),l=Object.assign||function(t){var e,i,o;for(e=1;e<arguments.length;e++){i=arguments[e];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},c=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),
Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),i(206),i(164),i(1308),i(2313),i(2314),i(2315),i(2316),h=i(56),d=i(2254),u=o(d),p=i(62),f=i(2317),_=i(25),g=i(2318),m=[{name:f.issueTypes.DATA,displayName:f.issueDisplayNames.DATA,subTypes:[{name:f.issueTypes.CHART_DOES_NOT_LOAD,displayName:f.issueDisplayNames.CHART_DOES_NOT_LOAD,hint:window.t("Indicate the symbol and the timeframe you are using when the problem occurs.")},{name:f.issueTypes.NO_REAL_TIME_DATA,displayName:f.issueDisplayNames.NO_REAL_TIME_DATA,hint:window.t("Indicate the symbol and the timeframe you are using when the problem occurs.")},{name:f.issueTypes.GAP_IN_THE_DATA,displayName:f.issueDisplayNames.GAP_IN_THE_DATA,hint:window.t("Indicate the symbol and the timeframe you are using, where exactly you can see the gap on your chart, provide a link to the source you are comparing our data to.")},{name:f.issueTypes.PRICE_INCORRECT,displayName:f.issueDisplayNames.PRICE_INCORRECT,hint:window.t("Indicate the symbol and the timeframe you are using, candles showing an incorrect price, and the price which is supposed to be correct in your opinion, provide a link to the source you are comparing our data to.")}],placeholder:window.t("Select type")},{name:f.issueTypes.SLOW_CHART,displayName:f.issueDisplayNames.SLOW_CHART,hint:window.t("Describe what exactly is slow: the website interface or data on your chart.")},{name:f.issueTypes.DRAWING_ISSUE,displayName:f.issueDisplayNames.DRAWING_ISSUE,hint:window.t("Provide the name of the drawing you are experiencing the issue with, and describe the problem in detail.")},{name:f.issueTypes.STUDY_NOT_LOADING,displayName:f.issueDisplayNames.STUDY_NOT_LOADING,hint:window.t("Provide the name of the indicator/strategy you are experiencing the issue with, and describe the problem in detail.")},{name:f.issueTypes.PINE_SCRIPT,displayName:f.issueDisplayNames.PINE_SCRIPT,hint:window.t("Describe the problem in detail.")},{name:f.issueTypes.ALERT,displayName:f.issueDisplayNames.ALERT,hint:window.t("Select the alert which is working incorrectly and describe the problem in detail. Dont stop or delete this alert until you get a reply.")},{name:f.issueTypes.TRADING,displayName:f.issueDisplayNames.TRADING,hint:window.t("Describe the problem in detail. Its important to stay connected to your broker when reporting a trading issue. Dont stop or delete the order and dont reset your trading account until you get a reply."),subTypes:function(){return i(2319),i(2282).brokersList().map(function(t){return{name:t.id,displayName:t.title,data:t}})},defaultSubType:function(){if(u.default.getTrading()&&u.default.getTrading().activeBroker())return u.default.getTrading().activeBroker().metainfo().id},placeholder:window.t("Select broker")},{name:f.issueTypes.SCREENER,displayName:f.issueDisplayNames.SCREENER,hint:window.t("Describe the problem in detail.")},{name:f.issueTypes.BILLING,displayName:f.issueDisplayNames.BILLING,
hint:window.t("Describe your billing issue in detail. Add any information you can provide (such as transaction ID or any other data).")},{name:f.issueTypes.OTHER,displayName:f.issueDisplayNames.OTHER,hint:window.t("Choose this category if your issue isnt listed above and describe the problem in detail.")}],v="",y="",b=null,w=window.t("We cant answer questions from free users, as much as wed love to. Theres just too many! All tickets from free plans are analyzed and we fix any glitches that you may find. {0}Get a paid plan & fast support!{1}").format('<a className="_tv-dialog__link" target="_blank" href="/gopro/">',"</a>"),S=window.t("Your support is fast and efficient! We usually reply within 1 business day. Want it faster? Premium plan average response time is 1 hour  {0}get yours here{1}!").format('<a className="_tv-dialog__link" target="_blank" href="/gopro/">',"</a>"),T=window.t("All of your questions & issues are addressed with highest priority."),x=window.t("Typical response time is less than 1 hour during business hours."),P=window.t("{0}Oh no! It's an avalanche!{1} Due to extraordinary high traffic on our site, there are delays in answering tickets. We apologize for the inconvenience.").format('<span class="_tv-dialog__subTitle">','</span><span class="_tv-dialog__highlightedText">')+"</span>",C=window.user.pro_plan,M=null,k="",C){case"pro_premium":case"pro_premium_trial":case"limitless":k=(0,_.isFeatureEnabled)("support-avalanche")?P:"",M=T+((0,_.isFeatureEnabled)("support-avalanche")?"":" "+x),b=window.t("Our best support is yours!");break;case"pro":case"pro_realtime":case"pro_realtime_trial":case"pro_trial":k=(0,_.isFeatureEnabled)("support-avalanche")?P:"",M=S,b=window.t("Help is here!");break;default:case void 0:M=w,b=window.t("We do more listening than talking")}L=window.t("Please check the {0}status page{1} for similar issues before reporting. All feature requests should be posted on {2}GetSatisfaction{1}.").format('<a className="_tv-dialog__link" target="_blank" href="https://status.tradingview.com/">',"</a>",'<a className="_tv-dialog__link" target="_blank" href="https://getsatisfaction.com/tradingview/ideas/popular">',"</a>"),y="<p>"+M+" "+L+" "+k+"</p>",
I='<div class="tv-report-bug-dialog"><div class="tv-text">'+y+"</div>"+v+'<div><fieldset class="tv-control-fieldset tv-control-fieldset--block tv-control-fieldset--spacing_small"><label class="tv-control-fieldset__label">'+window.t("Issue type")+'</label><span class="tv-control-fieldset__value"><div class="tv-grid tv-grid--spacing_big"><div class="tv-grid__col tv-grid__col_md--5"><div class="tv-report-bug-dialog__issue-type-control"><span class="tv-control-fieldset__value-control"><select name="issue-type" class="tv-control-select"><option disabled selected>'+window.t("Select type")+'</option></select></span></div></div><div class="tv-grid__col tv-grid__col_md--4 js-second-column"><div class="tv-report-bug-dialog__issue-type-control"><span class="tv-control-fieldset__value-control js-sub-type-placeholder"></span></div></div><div class="tv-grid__col tv-grid__col_md--3 js-third-column"><div class="tv-report-bug-dialog__issue-type-control"><span class="tv-control-fieldset__value-control"><input placeholder="'+window.t("Order ID")+'" type="text" name="order-id" class="tv-control-input"></span></div></div></div></span></fieldset></div><fieldset name="trading-agree-set" class="tv-control-fieldset tv-control-fieldset--block tv-control-fieldset--spacing_small"><span class="tv-control-fieldset__value"><input type="checkbox" name="trading-agree" class="tv-control-fieldset__value-control" checked/></span></fieldset><fieldset name="pine-script-set" class="tv-control-fieldset tv-control-fieldset--block tv-control-fieldset--spacing_small"><label class="tv-control-fieldset__label">'+window.t("Pine script")+'</label><span class="tv-control-fieldset__value"><span class="tv-control-fieldset__value-control"><textarea name="pine-script" class="tv-control-textarea" rows="4" placeholder="'+window.t("Provide the script you have an issue with.")+'"></textarea></span></span></fieldset><fieldset class="tv-control-fieldset tv-control-fieldset--block tv-control-fieldset--spacing_small"><label class="tv-control-fieldset__label">'+window.t("Description")+'</label><span class="tv-control-fieldset__value"><span class="tv-control-fieldset__value-control"><textarea name="description" class="tv-control-textarea" rows="4" required></textarea></span></span></fieldset></div>',A='\n\t<div class="tv-report-bug-dialog--success">\n\t\t<div class="tv-report-bug-dialog--success__icon">'+g+'</div>\n\t\t<div class="tv-text">\n\t\t\t<h2 class="tv-report-bug-dialog--success__primary-text">'+window.t("Thanks for contacting our support team")+'!</h2>\n\t\t\t<p class="tv-report-bug-dialog--success__secondary-text">'+window.t("You will receive response in your profile on the Support tab")+".</p>\n\t\t</div>\n\t</div>\n",R={width:550,destroyOnClose:!0,focusFirstControl:!1,title:b,actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions i-align_right tv-dialog__section--no-border">',actions:[{name:"submit",type:"primary",text:window.t("Send")},{name:"cancel",type:"default",text:window.t("Cancel"),method:"close"}]},D=function(){function t(){
var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,t),this._handleIssueTypeChange=this._handleIssueTypeChange.bind(this),this._handleSubTypeChange=this._handleSubTypeChange.bind(this),this._handleAlertChange=this._handleAlertChange.bind(this),this._handleSubmit=this._handleSubmit.bind(this),this._handlePineScriptValidation=this._handlePineScriptValidation.bind(this),this._handleOrderIDValidation=this._handleOrderIDValidation.bind(this),this._handleSubmitSuccess=this._handleSubmitSuccess.bind(this),this._handleSubmitFailure=this._handleSubmitFailure.bind(this),this.$content=$(I),this.$content.tvFormValidate({submitValidate:!1,rules:{"pine-script":{"custom-change":this._handlePineScriptValidation},"order-id":{"custom-change":this._handleOrderIDValidation}}}),this.tvValidator=this.$content.tvFormValidate("getInstance"),this.$description=$('textarea[name="description"]',this.$content),this.$pineScriptBlock=$('fieldset[name="pine-script-set"]',this.$content),this.$pineScript=$('textarea[name="pine-script"]',this.$content),this.$orderIdBlock=$(".js-third-column",this.$content),this.$orderId=$('input[name="order-id"]',this.$content),this.$subTypeBlock=$(".js-second-column",this.$content),this.$subTypePlaceholder=$(".js-sub-type-placeholder",this.$content),this.$tradingAgreeBlock=$('fieldset[name="trading-agree-set"]',this.$content),this.$tradingAgree=$('input[name="trading-agree"]',this.$content),this.$tradingAgree.tvControlCheckbox({name:"trading-agree",labelRight:window.t("I agree to send my trading logs to TradingView for analysis")}),this.$issueTypeSelect=this._createIssueTypeWidget(i.initialIssueType),this.$issueTypeSelect.on("change",this._handleIssueTypeChange),this.$issueTypeSelect.trigger("change"),e=l({},R,i,{content:this.$content}),this._successDialog=null,this.dialog=(0,h.createDialog)(e),this.$submit=this.dialog.actions.submit,this.$submit.tvButtonLoader(),this.dialog.on("action:submit",this._handleSubmit),this.dialog}return c(t,[{key:"_handleSubmit",value:function(){var t,e,i,o;this.isSubmiting||(t=this.tvValidator.validate(),e=this._validateSelects(),t&&e&&(this.isSubmiting=!0,this._disableControls(),this.$submit.tvButtonLoader("start"),i=this._collectReportData(),o=new u.default({eventName:"data_issue"}),o.setInfo(i).send().then(this._handleSubmitSuccess,this._handleSubmitFailure)))}},{key:"_handleSubmitSuccess",value:function(){var t,e=this;this.dialog.setDestroyOnClose(!1),t=a().on("destroy",function(){e.dialog.destroy()}),this.dialog.on("afterClose",function(){t.open()}),this.isSubmiting=!1,this.dialog.close()}},{key:"_handleSubmitFailure",value:function(){this.isSubmiting=!1,this.$submit.tvButtonLoader("stop"),this.dialog.error(window.t("Report could not be sent due to a local problem. Please, press F5 to reload the page and try sending another report.")),this._disableControls(!1)}},{key:"_handlePineScriptValidation",value:function(t){if(!this.$pineScriptBlock.hasClass("js-hidden")&&""===t.trim())return window.t("This field is required ")}},{key:"_handleOrderIDValidation",
value:function(t){if(!this.$orderIdBlock.hasClass("js-hidden")&&""===t.trim())return window.t("This field is required ")}},{key:"_collectReportData",value:function(){var t,e,i=this._getSelectedOption(this.$issueTypeSelect),o={email:window.user&&user.email?user.email:"",description:this.$description.val().trim(),issueType:i.name};return i.subTypes?(t=this._getSelectedOption(this.$subTypeSelect),i.name===f.issueTypes.TRADING?(o.tradingOrderIds=r({},this.$subTypeSelect.val(),this.$orderId.val().split(/,|;/g).map(function(t){return t.trim()})),o.tradingLogsAgree=this.$tradingAgree.is(":checked")):o.issueType=t.name):(i.name===f.issueTypes.ALERT&&(e=this._getSelectedOption(this.$alertSelect),o.alertId={id:e.data.id,description:e.data.get("description")}),i.name===f.issueTypes.PINE_SCRIPT&&(o.pine_script=this.$pineScript.val())),o}},{key:"_validateSelects",value:function(){var t=!0,e=this._getSelectedOption(this.$issueTypeSelect);return e?(e.subTypes&&(this._getSelectedOption(this.$subTypeSelect)||(this._getTvSelectControl(this.$subTypeSelect).addClass("i-error"),t=!1)),e.name===f.issueTypes.ALERT&&(this.$alertSelect?this._getSelectedOption(this.$alertSelect)||(this._getTvSelectControl(this.$alertSelect).addClass("i-error"),t=!1):(t=!1,this._getTvSelectControl(this.$issueTypeSelect).addClass("i-error"),this.dialog.error(window.t("You have no alerts. Please choose another type of issue"))))):(this._getTvSelectControl(this.$issueTypeSelect).addClass("i-error"),t=!1),t}},{key:"_disableControls",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$content.find("input, textarea, select").attr("disabled",e),t=e?"disable":"enable",this.$issueTypeSelect&&this.$issueTypeSelect.tvControlSelect(t),this.$subTypeSelect&&this.$subTypeSelect.tvControlSelect(t),this.$alertSelect&&this.$alertSelect.tvControlSelect(t)}},{key:"_createIssueTypeOption",value:function(t){var e=$('<option value="'+t.name+'">'+t.displayName+"</option>");return e.data("option-data",t),e}},{key:"_getTvSelectControl",value:function(t){return t.tvControlSelect("getInstance").$control}},{key:"_handleIssueTypeChange",value:function(){var t,e,i,o=this;this._cleanSubControls(),this._getTvSelectControl(this.$issueTypeSelect).removeClass("i-error"),t=this._getSelectedOption(this.$issueTypeSelect),t?(t.hint&&this.$description.attr("placeholder",t.hint),e=null,i=!!t.subTypes,i?(this.$subTypeSelect=this._createSubTypeWidget(t.subTypes,t.defaultSubType,t.placeholder),this.$subTypeSelect.on("change",this._handleSubTypeChange),this.$subTypeSelect.trigger("change"),e=this.$subTypeSelect):e=this.$description,this.$subTypeBlock.toggleClass("js-hidden",!i),this.$pineScriptBlock.toggleClass("js-hidden",t.name!==f.issueTypes.PINE_SCRIPT),t.name===f.issueTypes.PINE_SCRIPT&&(e=this.$pineScript),t.name===f.issueTypes.TRADING&&u.default.getTrading()&&u.default.getTrading().activeBroker()&&u.default.getTrading().activeBroker().isConnected()&&this.$tradingAgreeBlock.toggleClass("js-hidden",!1),e&&setTimeout(function(){return e.focus()},0),
t.name===f.issueTypes.ALERT&&(this._initAlertsSelect(),this.$subTypeBlock.toggleClass("js-hidden",!1))):setTimeout(function(){return o.$issueTypeSelect.focus()},0),this.dialog&&(this.dialog.calcHeight(),this.dialog.fixPos())}},{key:"_cleanSubControls",value:function(){this.tvValidator.clear(),this.$description.attr("placeholder",""),this.$subTypePlaceholder.empty(),this.$spinner&&(this.$spinner.stop(),delete this.$spinner),delete this.$subTypeSelect,delete this.$alertSelect,this.$subTypeBlock.toggleClass("js-hidden",!0),this.$subTypeBlock.toggleClass("tv-grid__col_md--4",!0),this.$subTypeBlock.toggleClass("tv-grid__col_md--7",!1),this.$tradingAgreeBlock.toggleClass("js-hidden",!0),this.$pineScriptBlock.toggleClass("js-hidden",!0),this.$orderIdBlock.toggleClass("js-hidden",!0)}},{key:"_handleSubTypeChange",value:function(){var t,e,i,o=this._getTvSelectControl(this.$subTypeSelect);o.removeClass("i-error"),t=o,e=this._getSelectedOption(this.$subTypeSelect),i=this._getSelectedOption(this.$issueTypeSelect),e&&(t=this.$description,e.hint&&this.$description.attr("placeholder",e.hint),i.name===f.issueTypes.TRADING&&(t=this.$orderId),this.$orderIdBlock.toggleClass("js-hidden","Trading issue"!==i.name)),t&&setTimeout(function(){return t.focus()},0),this.dialog.fixPos(),this.dialog.calcHeight()}},{key:"_initAlertsSelect",value:function(){var t,e,i=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$subTypePlaceholder.empty(),this.$subTypeBlock.toggleClass("tv-grid__col_md--7",!0),this.$subTypeBlock.toggleClass("tv-grid__col_md--4",!1),t=$('<div class="tv-control-fieldset__value-control tv-control-input" style="position: relative">').appendTo(this.$subTypePlaceholder),this.$spinner=(0,p.unifiedSpinner)("mini").spin(t.get(0)),e=TradingView.alertsDispatcher.alerts.models.slice(),e.length&&!o?this._createAlertWidget(e):TradingView.alertsDispatcher.requestList({success:function(t){return i._createAlertWidget(t,!0)},error:function(){i.$spinner&&(i.$spinner.stop(),delete i.$spinner),i.$subTypePlaceholder.empty()}})}},{key:"_createAlertWidget",value:function(t){var e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._alertsFullListLoaded=!0),this.$spinner&&(this.$spinner.stop(),delete this.$spinner,this.$subTypePlaceholder.empty(),t.length&&(e=t.map(function(t){return{name:t.id,displayName:t.get("description"),data:t}}),this._alertsFullListLoaded||e.push({name:"_reset_",displayName:window.t("Load all alerts...")}),this.$alertSelect=this._createSubTypeWidget(e,null,window.t("Select alert")),this.$alertSelect.on("change",this._handleAlertChange),this.$alertSelect.trigger("change")))}},{key:"_handleAlertChange",value:function(){var t,e,i=this._getTvSelectControl(this.$alertSelect);i.removeClass("i-error"),t=i,e=this._getSelectedOption(this.$alertSelect),e&&(t=this.$description,"_reset_"===e.name&&this._initAlertsSelect(!0)),t&&setTimeout(function(){return t.focus()}),this.dialog.fixPos(),this.dialog.calcHeight()}},{key:"_getSelectedOption",value:function(t){var e,i=t.prop("selectedIndex")
;if(-1!==i)return e=t.prop("options")[i],$.data(e,"option-data")}},{key:"_createSubTypeWidget",value:function(t,e,i){var o,r;return"function"==typeof t&&(t=t()),o=$('<select name="sub-type" class="tv-control-fieldset__value-control tv-control-select"></select>'),i&&(r=$("<option selected disabled>"+i+"</option>"),o.append(r)),o.append.apply(o,n(t.map(this._createIssueTypeOption))),e&&("function"==typeof e&&(e=e()),e&&o.val(e).trigger("change")),o.appendTo(this.$subTypePlaceholder),o.tvControlSelect()}},{key:"_createIssueTypeWidget",value:function(t){var e=$('select[name="issue-type"]',this.$content);return e.append.apply(e,n(m.map(this._createIssueTypeOption))),e.tvControlSelect({initialValue:t})}}]),t}(),e.default=D,t.exports=e.default},,function(t,e,i){"use strict";function o(t,e,i){return void 0===i&&(i="promise rejected by time-out"),new Promise(function(o,n){var r=setTimeout(function(){return n(i)},e);t.then(function(t){clearTimeout(r),o(t)}),t.catch(function(t){clearTimeout(r),n(t)})})}Object.defineProperty(e,"__esModule",{value:!0}),e.makeTimeLimited=o},,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" width="11" height="11"><path fill="none" fill-rule="evenodd" stroke="#9DB2BD" d="M10.5 6v3.5a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1H5m5.5 0L6 5M7 .5h3.5V4"/></svg>'},,,,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function o(){var t=TVSettings.getBool("publish.showIntroText",!0),e={width:510,closeOnOutsideClick:!1,destroyOnClose:!0,closeButton:!1,type:"modal",contentWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-text tv-text--position-outside"></div></div>',actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--actions-adaptive tv-dialog__section--no-border">',content:r,actions:[{name:"publish-intro-continue",type:"primary",text:$.t("Continue Publishing"),method:"close",key:[13,32]},{name:"donotshow",type:"checkbox",text:$.t("Do not show this message again"),checked:!t,addClass:"tv-control-checkbox tv-control-checkbox--in-actions i-align_left i-float_left"}]};return(0,n.createDialog)(e)}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.createPublishIntroDialog=o,n=i(56),
r='<div class="tv-dialog__header tv-dialog__header--adaptive"><div class="tv-dialog__header-logo">'+i(1051)+'</div><div class="tv-dialog__header-title"><h2>'+$.t("Read Before Publishing")+"</h2></div></div><div><p>"+$.t("TradingView celebrates open communication and creative ideas. We want you to express yourself freely and use TradingView to share insights, learn from others, make friends and share the love for finance.")+"</p><p>"+$.t("Make sure you read our {0}House Rules{1} to avoid your ideas getting moderated, to see examples of good ideas and to get practical suggestions for different kinds of analyses.").format('<a href="/house-rules/" target="_blank">',"</a>")+"</p><p>"+$.t("Make sure you read {0}this article{1} for comprehensive tips on how to build reputation by engaging the community with awesome ideas.").format('<a href="http://blog.tradingview.com/?p=2328" target="_blank">',"</a>")+"</p></div>"},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 86 109" width="86" height="109"><g fill="none"><path fill="#5EC8F4" d="M50.28 80.252c-.966-.544-2.524-.548-3.496 0l-3.5 1.973c-.966.544-2.314.296-3.023-.568l-2.555-3.112c-.705-.858-2.156-1.427-3.26-1.27l-3.972.568c-1.095.157-2.263-.564-2.608-1.608l-1.28-3.87c-.344-1.044-1.49-2.094-2.575-2.347l-3.91-.914c-1.076-.252-1.906-1.35-1.853-2.447l.198-4.073c.053-1.1-.638-2.494-1.56-3.125l-3.316-2.273c-.915-.627-1.295-1.95-.85-2.956l1.647-3.725c.445-1.006.3-2.557-.325-3.47l-2.29-3.342c-.623-.912-.5-2.28.29-3.07l2.846-2.847c.784-.785 1.214-2.29.96-3.36l-.937-3.967c-.253-1.072.356-2.3 1.376-2.75l3.676-1.62c1.013-.447 1.955-1.694 2.103-2.784l.55-4.04c.148-1.09 1.156-2.014 2.27-2.063l4.01-.175c1.104-.05 2.43-.87 2.96-1.832l1.964-3.568c.53-.963 1.8-1.457 2.856-1.1l3.802 1.294c1.048.356 2.58.072 3.435-.646l3.08-2.586c.85-.713 2.22-.718 3.076 0l3.08 2.586c.85.713 2.38 1.005 3.435.646l3.802-1.293c1.048-.357 2.328.136 2.858 1.098l1.963 3.568c.53.963 1.848 1.783 2.96 1.832l4.01.175c1.106.05 2.122.974 2.27 2.063l.55 4.04c.15 1.09 1.083 2.334 2.103 2.784l3.677 1.62c1.013.447 1.63 1.68 1.376 2.75l-.94 3.966c-.252 1.07.172 2.57.962 3.36l2.845 2.846c.784.785.916 2.157.29 3.07l-2.29 3.342c-.623.91-.768 2.467-.323 3.47l1.647 3.727c.445 1.007.07 2.326-.85 2.957l-3.317 2.272c-.914.625-1.612 2.026-1.56 3.124l.2 4.073c.053 1.1-.77 2.193-1.855 2.447l-3.91.914c-1.076.252-2.23 1.304-2.575 2.348l-1.28 3.87c-.344 1.044-1.504 1.765-2.607 1.607l-3.973-.568c-1.095-.156-2.55.406-3.258 1.27l-2.557 3.112c-.705.857-2.05 1.116-3.023.568l-3.5-1.973zm4.26-42.087a6.98 6.98 0 0 1 3.476-.923c3.936 0 7.126 3.257 7.126 7.276 0 .686-.093 1.35-.266 1.978 2.07.736 3.555 2.747 3.555 5.11 0 2.99-2.37 5.41-5.298 5.41-.06 0-.122 0-.182-.002v.003H36.64v-.002c-3.852-.1-6.945-3.318-6.945-7.274 0-3.97 3.115-7.197 6.986-7.273.46-5.024 4.602-8.956 9.643-8.956 3.466 0 6.506 1.86 8.217 4.655z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M43.416 74.333l13.07 32.498 10.09-14.385 17.204 3.307-12.65-31.454-5.028 1.176-2.53 7.653-7.938-1.135-5.107 6.218-6.995-3.943-.116.066zm-.289.162L30.123 106.83l-10.09-14.385L2.83 95.752l12.69-31.55 5.443 1.272 2.53 7.653 7.94-1.135 5.106 6.218 6.59-3.715z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M43.532 74.267l-6.996 3.943-5.107-6.218-7.94 1.135-2.53-7.653-7.81-1.826.39-8.055-6.626-4.54 3.258-7.37-4.55-6.64 5.686-5.688-1.856-7.845 7.344-3.24 1.087-7.99 8.012-.35 3.884-7.056 7.596 2.583 6.156-5.168 6.156 5.167 7.596-2.583 3.884 7.056 8.012.35 1.087 7.99 7.344 3.24-1.855 7.845 5.685 5.688-4.55 6.64 3.26 7.37-6.628 4.54.39 8.055-7.81 1.826-2.53 7.653-7.938-1.135-5.107 6.218z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M49.54 33.165a6.98 6.98 0 0 1 3.476-.923c3.936 0 7.126 3.257 7.126 7.276 0 .686-.093 1.35-.266 1.978 2.07.736 3.555 2.747 3.555 5.11 0 2.99-2.37 5.41-5.298 5.41-.06 0-.122 0-.182-.002v.003H31.64v-.002c-3.852-.1-6.945-3.318-6.945-7.274 0-3.97 3.115-7.197 6.986-7.273.46-5.024 4.602-8.956 9.643-8.956 3.466 0 6.506 1.86 8.217 4.655z"/></g></svg>'
},,,,,,,,,,,function(t,e,i){"use strict";(function(t,o,n){function r(e){this._chartWidgetCollection=e,this._chartAboutToBeSavedDelegate=new t,this._chartSavedDelegate=new t,this._chartSizeLimitExceededDelegate=new t}function s(t,e,i,o){var r,s,a;o=o||{},r={wl:o.wl,images:JSON.stringify(t.images()),previews:o.previews,onWidget:o.onWidget},s=t.activeChartWidget.value().widgetCustomer(),s&&(r.customer=s),r.timezone=t.activeChartWidget.value()._properties.timezone.value(),window.urlParams&&window.urlParams.locale&&(r.language=d.locale),a=n.enabled("charting_library_base")?o.snapshotUrl||"https://www.tradingview.com/snapshot/":"/snapshot/",$.post(a,r,function(t){t?e(t):i()}).fail(function(){i()})}var a=i(112),l=i(943).PinePerm,c=i(266).record,h=i(20).trackEvent,d=i(81),u=i(43),p=i(944),f=i(907);r.prototype.chartAboutToBeSaved=function(){return this._chartAboutToBeSavedDelegate},r.prototype.chartSaved=function(){return this._chartSavedDelegate},r.prototype.chartSizeLimitExceeded=function(){return this._chartSizeLimitExceededDelegate},r.prototype.whenReadyToSave=function(t){var e,i,o=this._chartWidgetCollection,n=o.activeChartWidget.value(),r=n.model().mainSeries();r.symbolInfo()&&!r.hasDelayedSymbolIntervalChange()?t():(e=null,i=null,e=function(){r.onSymbolError().unsubscribe(null,i,!0),t()},i=function(){r.onSymbolResolved().unsubscribe(null,e,!0)},r.onSymbolResolved().subscribe(null,e,!0),r.onSymbolError().subscribe(null,i,!0))},r.prototype.saveToJSON=function(){return this._fillSavingInfo(!1,!0)},r.prototype._fillAsyncInfo=function(t,e,i){function o(e){t.content=JSON.stringify($.extend(!0,r,e)),n.resolve(t)}var n,r=JSON.parse(t.content),s=this._chartWidgetCollection;return e||(i=!0),n=$.Deferred(),i?s.asyncState(!!e).then(o):s.activeChartWidget.value().asyncState(!!e).then(o),n.promise()},r.prototype._fillSavingInfo=function(t,e,i){var o,n,r,s,a,l,c,h,d,u,p,f;if(t||(e=!0),o={publish_request_id:Math.random().toString(36).substring(2)},n=this._chartWidgetCollection,r=n.activeChartWidget.value(),s=n.metaInfo,a=r.model().mainSeries(),l=a.properties(),c=a.symbolInfo(),s.id.value()&&(o.id=s.id.value()),o.name=s.name.value()||"",o.description=s.description.value()||"",o.resolution=a.properties().interval.value(),o.symbol_type=null!==c&&c.type||"",o.exchange=null!==c&&c.exchange||"",o.listed_exchange=null!==c&&c.listed_exchange||"",null!==c&&a.isSpread()?(h=c.legs[0],d=c.base_name[0],d=d.split(":")[1],o.symbol=h,o.short_name=d,o.expression=c.full_name):(o.symbol=null!==c&&c.ticker||l.symbol.value(),o.short_name=l.shortName.value()),null!==c){for(u=[],p=0,f=c.legs.length;p<f;p++)u.push({symbol:c.legs[p],pro_symbol:c.base_name[p]});o.legs=JSON.stringify(u)}else o.legs=JSON.stringify([]);return o.content=e?JSON.stringify(n.state(!!t,i)):JSON.stringify(r.state(!!t,i)),t&&(o.image=JSON.stringify(n.images({onlyActiveChart:!e}))),o.is_realtime=t?"0":"1",o},r.prototype.publishChart=function(t){var e,o,n,r,s,a;h("GUI","Publish Chart"),c("Chart","Publish Chart Start"),e=this,t=t||{},
o=t.isPrivate||TVSettings.getBool("publishchart.private",!1),n={accessType:o?0:1,publishSource:t.publishSource,videoFilename:t.videoFilename,videoDuration:t.videoDuration},r=$(".publish-dropdown-container"),s=$(".publish-chart-button"),a={savePrivacySetting:!t.doNotSavePrivacySetting,onWidget:t.onWidget,ideaUrl:t.ideaUrl},e._ideaPublisher?e._ideaPublisher.openPublication(n,a):i.e(28).then(function(t){var o=i(1096).IdeaPublisher,l=i(941).IdeasProvider,c=i(1097).ChartInfoProvider,h=i(908).CategoriesProvider,d=new c({chartWidgetCollection:e._chartWidgetCollection}),u=new l({publish:function(t,i){return new Promise(function(o,n){var r={closeForm:function(){o()},showError:function(t){n(t)}};e.onPublish(t,$.extend({},i,r))})}}),p=new h;e._ideaPublisher=new o({chartInfoProvider:d,ideasProvider:u,categoriesProvider:p,onOpenEditor:function(){r.addClass("disabled")},onMinimizeEditor:function(){r.removeClass("disabled"),s.addClass("inprogress")},onCloseEditor:function(){r.removeClass("disabled"),s.removeClass("inprogress")}}),e._ideaPublisher.openPublication(n,a)}.bind(null,i)).catch(i.oe)},r.prototype.publishScript=function(t,e,i){var o,n,r,s,a=this;a._scriptPublisher?a._scriptPublisher.openPublication(t,e):(o=i.ScriptPublisher,n=i.ScriptsProvider,r=i.CategoriesProvider,s=new n({publish:function(t){return new Promise(function(e,i){var o={closeForm:function(){if(t&&t.scriptPublication&&t.scriptPublication.updateScriptIdPart){var i=t.scriptPublication.updateScriptIdPart;p.invalidateCache([i]),window.studyMarket&&(window.studyMarket.resetAllPages(),window.studyMarket.updateFavorites())}e()},showError:function(t){i(t)}};a.onPublish(t,o)})}}),a._scriptPublisher=new o({scriptsProvider:s,categoriesProvider:new r}),a._scriptPublisher.openPublication(t,e))},r.prototype.onPublish=function(t,e){function i(i){var n,r,s,a,l,h;u.publishInProgress=!1,n=i.responseText||i,"ok:"===n.substr(0,3)?(r=!1,e.savePrivacySetting&&(r=!t.is_public,TVSettings.setValue("publishchart.private",r)),c("Chart","{0} Published".format(void 0===t.script_type?"Chart":"Script"),{is_private:r}),s=n.substr(3),a=JSON.parse(s),u._chartWidgetCollection.metaInfo.id.value()||u._chartWidgetCollection.metaInfo.id.setValue(a.id),e.closeForm&&e.closeForm(),u._lastPublishUrl=a.publishUrl,u.hWnd&&(l=a.publishUrl,e.ideaUrl&&(l=o.render(e.ideaUrl,{idea:a.idea})),u.hWnd.location=l)):(e.showError&&((413===i.status||/^[\d\s]*request.+large/i.test(n.trim()))&&(n=window.t("This chart layout has a lot of objects and can't be published! Please remove some drawings and/or studies from this chart layout and try to publish it again.")),h={html:!0},e.showError(n||$.t("Error occured while publishing"),h)),u.hWnd&&(u.hWnd.close(),u.hWnd=null))}var n,r,s,u=this;u.publishInProgress||(n=u._fillSavingInfo(!0,e&&e.publishAllLayout,!0),u._fillAsyncInfo(n,!0,e&&e.publishAllLayout).then(function(e){var o=t.scriptPublication,n=!(!o||!o.updateScriptIdPart),r=new Promise(function(t,e){if(o){var i;i=n?a.publishNext(o.scriptSource,o.updateScriptIdPart):a.publishNew(o.scriptSource,o.scriptProtection),
i.done(function(e){n||o.scriptProtection!==TVScript.Access.ACCESS_CLOSED_NEEDS_AUTH||l.add(window.user.username,e.pineId),t(e.publishedstudyscript_id)}).fail(e)}else t()});n?r.then(function(o){var n={publishedstudyscript_id:o,description:t.description,tags:t.tags};$.ajax({url:"/script-update/",type:"post",dataType:"text",data:$.extend({},e,n),complete:i})},i):r.then(function(o){var n,r,s,a,l,c,d,u;for(o&&(t.publishedstudyscript_id=o),n=t.tags.split(","),r=t.scriptPublication?"Script":"Idea",s=0;s<n.length;s++)h(r+" Publication",r+" Tag",n[s]);t.scriptPublication?(a={open_no_auth:"Open",closed_no_auth:"Protected",closed_needs_auth:"Invite Only"},l=t.scriptPublication.scriptProtection,h("Script Publication","Script Visibility",a[l])):(c=t.is_education?"Education":"Analysis",d=["Neutral","Long","Short"],u=t.is_public?"Public":"Private",h("Idea Publication","Idea Type",c),h("Idea Publication","Idea Strategy",d[t.direction]),h("Idea Publication","Idea Privacy",u)),$.ajax({url:"/publishchart/",type:"post",dataType:"text",data:$.extend({},e,t),complete:i})},i)}),u.publishInProgress=!0,e.onWidget&&!e.ideaUrl||""!==t.name&&""!==t.description&&t.description.length<=4e3&&t.name.length<=64&&($.cookie("publish_request_id",n.publish_request_id,{path:"/"}),r="/loading/",e.ideaUrl&&(s=d.createUrlParams({ideaUrl:e.ideaUrl}),r="/loading?"+s),u.hWnd=window.open(r,"_blank")))},r.prototype._saveChart=function(t,e,i,o,n){var r=i,s=o;return r=function(t){var r,s;if("ok:"===t.substr(0,3))r=t.substr(3),s=JSON.parse(r),e.id.value()||(e.id.setValue(s.id),e.uid.setValue(s.uid)),"function"==typeof i&&i({uid:e.uid.value()},s.count||0);else if("saved_chart_limit_reached"===t||""===t){if("function"==typeof o&&o(),n.noDefaultOnFail)return;u.createGoProDialog({feature:"savedChartsLimit"}).then(function(t){t.open()})}else"function"==typeof o&&o(),$("#error").html(t);$(window).off("beforeunload.savechart")},s=function(r){if(r&&413===r.status)return this._chartSizeLimitExceededDelegate.fire(),void("function"==typeof o&&o.apply(null,arguments));n.retry?"function"==typeof o&&o.apply(null,arguments):(n.retry=!0,this._saveChart(t,e,i,o,n))},f.saveChart(t.name,t.short_name,t.resolution,t,e,r,s.bind(this))},r.prototype.saveChartSilently=function(t,e,i,o){var n=this._chartWidgetCollection.metaInfo,r=this._fillSavingInfo(e);if(o=o||{},o.chartName&&(r.name=o.chartName),r.name&&0!==r.name.length||!o.defaultChartName||(r.name=o.defaultChartName),!r.name)return void console.warn("Saving chart with empty name is not allowed");$(window).on("beforeunload.savechart",function(){return $.t("Your chart is being saved, please wait a moment before you leave this page.")}),this._chartAboutToBeSavedDelegate.fire(),this._saveChart(r,n,function(){this._chartWidgetCollection.metaInfo.name.setValue(r.name),this._chartSavedDelegate.fire(!0),t&&t(n)}.bind(this),function(){this._chartSavedDelegate.fire(!1),i&&i.apply(null,arguments)}.bind(this),o),$(window).off("beforeunload.savechart")},e.ChartSaver=r,e.takeSnapshot=s}).call(e,i(4),i(21),i(3))},,,,function(t,e,i){"use strict"
;function o(t,e,i,o,n){this._$bar=t,this._value=0,this._state="off",this._halt=i,this._tick=o,this._step=this._halt*this._tick/e,this._animations=n}function n(t,e,o){var n=i(558);this._bridge=t,this._handler=e,this._rooms=o,this.favoritesSettings=n.prototype.getLocalizedJsonSetting("publiccharts.favorites",{}),this._handler(this.getMenu())}function r(t){this._title=$.t("Onsite notifications"),this._settingsKey="messages.show_onsite_notifications",this._eventKey="messages.toggleonsitenotifications",t?(this._emailKey="privatemessages.send_email_notifications",this._emailTitle=$.t("Email notifications")):(this._emailKey="publicchats.send_email_notifications",this._emailTitle=$.t("Email notifications when I'm mentioned")),this._isOn=TVSettings.getBool(this._settingsKey,!0),this._isOnEmail=TVSettings.getBool(this._emailKey,!0),g.on(this._eventKey,this._toggle.bind(this))}function s(t){this._settingsKey=t,this.state=this._getState(),this._updateSettingsListener=this._setFromAnother.bind(this),g.on("chat-sound-control-changed",this._updateSettingsListener),loginStateChange.subscribe(null,this._updateSettingsListener)}function a(t,e){this.parentWidget=t,this.isParentDependent=e,this.isOn=!1}function l(){loginStateChange.subscribe(this,function(){is_authenticated||(this._list=null)}.bind(this)),this._list=TVSettings.getJSON("chat.suggest_list")||[],this._cache={}}function c(t){this.voteSender=t,this.ideas=[]}var h,d,u=i(67).createNoticeDialog,p=i(194).whenVerified,f=i(1067),_=i(126).regExpEscape,g=i(53).TVXWindowEvents;o.prototype.start=function(t){"running"===this._state&&this.stop(),this._transaction=t,this._$bar.css("opacity","1"),this._$bar.css("background-color","#18BE8A"),this._state="running",this._intervalID=setInterval(this.update.bind(this),this._tick)},o.prototype.stop=function(){clearInterval(this._intervalID),this._value=0},o.prototype.update=function(){this._value>=this._halt?this.stop():"running"===this._state&&(this._value+=this._step,this._$bar.width(this._value+"%"))},o.prototype.finish=function(t,e){"off"!==this._state&&this._transaction===t&&(this.stop(),this.transaction=-1,e&&this._$bar.css("background-color","red"),this._state="off",this._$bar.animate({width:"100%"},this._animations[0]),this._$bar.animate({opacity:"0"},e?this._animations[2]:this._animations[1],function(){this._$bar.width(0)}.bind(this)))},o.prototype.finishOnError=function(t){this.finish(t,!0)},n.prototype.soundSettings=[{title:$.t("Sound on every message"),state:{onMessage:!0,onMessageForUser:!0}},{title:$.t("Sound on addressed to me messages"),state:{onMessage:!1,onMessageForUser:!0}},{title:$.t("No Sound notifications"),state:{onMessage:!1,onMessageForUser:!1}}],n.prototype.getMenu=function(){var t,e,o,n,r=[],a=this,l=i(911),c=i(558);if(this._bridge.private_chat&&!this._bridge.standalone&&(r=r.concat(this._bridge.privateMenuItems().multiUserActions),r.length&&r.push({separator:!0})),
r=r.concat(this.soundMenuItems(this.soundSettings,TVSettings.getJSON(this._bridge.private_chat?"privatemessages.sound":"chat.sound",s.prototype._default_state))),r.push({separator:!0}),this._bridge.standalone||this._bridge.options&&this._bridge.options.layoutWithSelect||(this._bridge.private_chat||r.push(this._bridge.chatNotificationControl.onsiteMenuItem()),r.push(this._bridge.chatNotificationControl.emailMenuItem()),r.push({separator:!0})),r.push({title:$.t("Show chart snapshot preview"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool("chat.show_snapshot_preview")?"0 -16px":void 0},action:function(t){this._bridge.postMessage("toggle_snaphot_preview")}.bind(this)}),this._bridge.private_chat||this._bridge.standalone||r.push({title:$.t("Show only favorite rooms"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool("chat.show_only_favorites")?"0 -16px":void 0},action:function(t){this._bridge.postMessage("toggle_show_only_favorites")}.bind(this)}),r.push({separator:!0}),this._bridge.private_chat&&!this._bridge.standalone&&r.push(this._bridge.privateMenuItems().hideConversation),r.push({title:$.t("Ignored users..."),action:function(t){this.showIgnoreList()}.bind(this)}),!this._bridge.standalone){t=!this._bridge.private_chat&&this._bridge._room in this.favoritesSettings;for(o=0;o<this._rooms.length;o++)if(this._rooms[o].room_id===this._bridge._room){e=this._rooms[o];break}e&&(r.push({separator:!0}),n=l.getLaunchInSeparateWindowAction(a._bridge._room,function(){return!!a._bridge.private_chat}),this._bridge.private_chat?r.push(n):(e.pinned||r.push({title:t?$.t("Remove this room from favorites"):$.t("Add this room to favorites"),action:function(t){this._bridge.postMessage("toggle_favorite_room",t)}.bind(this,this._bridge._room)}),r=r.concat(c.publicMenuItems(this._bridge._room,this._bridge,this)),r.push(n),e.pinned||((e.user_id===user.id||window.user.is_staff)&&r.push({title:$.t("Edit room..."),action:function(t){this._bridge.postMessage("chat_edit_room",this._bridge._room)}.bind(this)}),window.user.is_superuser&&r.push({title:$.t("Delete room"),action:function(t){this._bridge.postMessage("chat_delete_room",this._bridge._room)}.bind(this)}))))}return r},n.prototype.update=function(){this._handler(this.getMenu(),!0)},n.prototype._radioIcon="data:image/gif;base64,R0lGODlhBgAGAMIGAIuMjo+QkpOUlrS1tra2uLe4uf///////yH5BAEKAAcALAAAAAAGAAYAAAMQeCVSRyACEiQIVYZhx2NOAgA7",n.prototype.soundMenuItems=function(t,e){return"boolean"==typeof e&&(e=$.extend(s.prototype._default_state,{onMessage:e})),t.map(function(t){var i,o=!0;for(i in e)if((i in t.state||!e[i])&&t.state[i]!==e[i]){o=!1;break}return t.icon={image:"url("+this._radioIcon+")"},t.icon.offset=o?{x:5,y:5}:{x:-30,y:-30},t.action=function(e){this._bridge.postMessage("chat_set_sound_state",{isPrivate:!!this._bridge.private_chat,state:t.state})}.bind(this),t}.bind(this))},n.prototype.showIgnoreList=function(){
var t,e,i,o="",n=400,r=$('<span class="tv-text__font--italic i-align_center"></span>').html($.t("You have no ignored users")+".").css("display","block");for(t in user.ignore_list)o+='<div class="ch-ignore-list-item"><span>'+user.ignore_list[t]+'</span><a href="#" class="delete" data-id="'+t+'">'+$.t("Delete")+"</a></div>";o||(o=r,n=""),e=u({title:$.t("Ignored users list"),content:o,actionsWrapTemplate:"",actions:"",height:n}),e.open(),i=e.$content,i.on("click",".delete",function(t){var e=$(this).data("id");return delete user.ignore_list[e],window.crossTabSyncUserAttr("ignore_list"),$.post("/conversation-ignore/",{user_id:e,action:"remove"}),$(this).parent().remove(),Object.keys(user.ignore_list).length||i.html(r),!1})},r.prototype.destroy=function(){g.off(this._eventKey,this._toggle.bind(this))},r.prototype._toggle=function(t){this._isOn="true"===t},r.prototype.onsiteMenuItem=function(){var t=TVSettings.getBool(this._settingsKey);return t=void 0!==t?t:this._isOn,{title:this._title,icon:{image:TradingView.wrapUrl("url('/static/images/dialogs/checkbox.png')"),offset:t?"0 -16px":void 0},action:function(e){this._isOn=!t,TradingView.profile&&TradingView.profile.$settings.find('input[name="notification_mention_in_chat_onsite"]').prop("checked",this._isOn),TVSettings.setValue(this._settingsKey,this._isOn,{forceFlush:!0})}.bind(this)}},r.prototype.emailMenuItem=function(){var t=TVSettings.getBool(this._emailKey);return t=void 0!==t?t:this._isOnEmail,{title:this._emailTitle,icon:{image:TradingView.wrapUrl("url('/static/images/dialogs/checkbox.png')"),offset:t?"0 -16px":void 0},action:function(e){this._isOnEmail=!t,TradingView.profile&&"privatemessages.send_email_notifications"!==this._emailKey&&TradingView.profile.$settings.find('input[name="notification_mention_in_chat_email"]').prop("checked",this._isOnEmail),TVSettings.setValue(this._emailKey,this._isOnEmail,{forceFlush:!0})}.bind(this)}},s.prototype._default_state={onMessage:!1,onMessageForUser:!0},s.prototype._getState=function(t){var e=$.extend({},this._default_state),i=TVSettings.getJSON(this._settingsKey,null,t);return null!==i&&("boolean"==typeof i?$.extend(e,{onMessage:i}):$.extend(e,i)),e},s.prototype.set=function(t){this._set(t),TVSettings.setJSON(this._settingsKey,this.state),g.emit("chat-sound-control-changed")},s.prototype._setFromAnother=function(){this._set(this._getState(!0))},s.prototype._set=function(t){this.state=$.extend({},this._default_state,t)},s.prototype.destroy=function(){this._updateSettingsListener&&(g.off("chat-sound-control-changed",this._updateSettingsListener),loginStateChange.unsubscribe(null,this._updateSettingsListener))},a.prototype.appendInput=function(t){this._$searchInputWrap=$('<div class="msg-input-wrap js-hidden">').appendTo(t),this._$searchInput=$('<div class="msg-input">').appendTo(this._$searchInputWrap),this._$searchInputText=$('<input type="text" placeholder="'+$.t("Find existing chat")+'"></textarea>').appendTo(this._$searchInput),this._$searchInputReset=$('<a class="input-reset js-hidden">').appendTo(this._$searchInput)
;var e=this;this._$searchInputText.on("keydown",function(t){if(13===t.which||38===t.which||40===t.which)return!1}).on("keyup",function(t){var i=e._$searchInputText.val(),o=RegExp(i.split("").map(_).join(".*"),"i");if(27===t.which)""===e._$searchInputText.val()&&(e.isOn=!1,e._$searchInputWrap.addClass("js-hidden"),e.parentWidget.resize(),e._$searchButton.removeClass("active"),e.newRoom?(e.parentWidget._scroll.animateTo(e.newRoom.position().top),delete e.newRoom):e.parentWidget._scroll.restore()),e._$searchInputText.val(""),e.showRooms(),e._$searchInputReset.addClass("js-hidden");else{if(e.hideRooms(),0===e._$searchInputText.val().length)return e._$searchInputReset.addClass("js-hidden"),void e.showRooms();e._$searchInputReset.removeClass("js-hidden"),e.parentWidget._scroll.scrollToStart(),e._$data.find(".title").each(function(){o.test($(this).text())&&e.canShowRoom($(this).parent())&&$(this).parent().removeClass("js-hidden")})}}),this._$searchInputReset.on("click",function(t){e._$searchInputText.val(""),e._$searchInputReset.addClass("js-hidden"),e.showRooms(),e._$searchInputText.focus()})},a.prototype.appendButton=function(t){var e=this;this._$searchButton=$('<a class="button apply-common-tooltip" title="'+$.t("Find existing chat")+'">').append($(i(234)).attr({width:17,height:17})).appendTo(t),this._$searchButton.on("click",function(t){e.isOn?(e.isOn=!1,e._$searchButton.removeClass("active"),e._$searchInputWrap.addClass("js-hidden"),e._$searchInputText.val(""),e._$searchInputReset.addClass("js-hidden"),e.showRooms(),e.parentWidget.resize(),e.newRoom?(e.parentWidget._scroll.animateTo(e.newRoom.position().top),e.newRoom=""):e.parentWidget._scroll.restore()):(e.isOn=!0,e._$searchButton.addClass("active"),e.parentWidget._scroll.save(),e._$searchInputWrap.removeClass("js-hidden"),e.parentWidget.resize(),e._$searchInputText.focus())})},a.prototype.setRoomList=function(t){this._$data=t},a.prototype.hideRooms=function(){this._$data.children().addClass("js-hidden")},a.prototype.showRooms=function(){var t=this;this._$data.children().each(function(){t.canShowRoom($(this))&&$(this).removeClass("js-hidden")})},a.prototype.canShowRoom=function(t){return!t.data("hidden-conversation")},a.prototype.getButton=function(){return this._$searchButton},a.prototype.hideInput=function(){this._$searchButton.removeClass("active"),this._$searchInputWrap.addClass("js-hidden"),this._$searchInputText.val(""),this._$searchInputReset.removeClass("js-hidden"),this.showRooms(),this.parentWidget.resize()},a.prototype.getInputHeight=function(){return this._$searchInputWrap.hasClass("js-hidden")?0:this._$searchInputWrap.outerHeight()},a.prototype.isOpen=function(){return this.isOn},a.prototype.setNewRoom=function(t){this.newRoom=t},h=20,d=12e4,l.prototype._mapCacheToIds=function(t){return t.map(function(t){return this._cache[t]}.bind(this))},l.prototype._getFromCache=function(t,e){var i,o=this;t.every(function(t){return t in o._cache})?e(o._mapCacheToIds(t)):(i=o._list.map(function(t){return t.id}),$.get("/username_hint/",{ids:i},function(i){
i.forEach(function(t){o._cache[t.id]=t}),setTimeout(function(){o._cache={}},d),e(o._mapCacheToIds(t))}))},l.prototype.getList=function(t,e){var i,o="function"==typeof t?this._list.filter(t):this._list;o.length?(i=o.map(function(t){return t.id}),this._getFromCache(i,e)):e([])},l.prototype._addUser=function(t,e,i){this._list.length>=h&&(this._list.shift(),delete this._cache[t]),this._list.unshift({id:t,username:e}),i&&(this._cache[t]=i)},l.prototype.onUserSelect=function(t,e,i){if(window.user.id!==t&&window.user.username!==e){var o=this._list.map(function(t){return t.id}).indexOf(t);o>=0?(this._list.splice(o,1),this._list.unshift({id:t,username:e})):this._addUser(t,e,i),TVSettings.setJSON("chat.suggest_list",this._list)}},c._likesMonitoringModel=null,c._createLikesMonitoringModelIfNeeded=function(){null===c._likesMonitoringModel&&(c._likesMonitoringModel=f.makePublicModel())},c.getChartsHandler=function(){c._createLikesMonitoringModelIfNeeded();var t=c._likesMonitoringModel;return new c(t.voteForChart.bind(t))},c.getMessagesSnapshotsHandler=function(){c._createLikesMonitoringModelIfNeeded();var t=c._likesMonitoringModel;return new c(t.voteForMessageWithSnapshot.bind(t))},c.prototype.getIdeaByID=function(t,e){for(var i=0;i<this.ideas.length;i++)if(this.ideas[i].id===t)return e?i:this.ideas[i];return!1},c.prototype.addIdea=function(t,e,i,o,n){var r=this.getIdeaByID(e);r?r.elements.push(t):(r=new c.Idea(e,i,o,t,n),this.ideas.push(r)),$(t).on("click",this.onClickUpdateVote.bind(this,r)),r.updateView()},c.prototype.onClickUpdateVote=function(t){if(!window.user.id)return void runOrSignIn(function(){this.voteSender(t,1)}.bind(this),{source:"Widgetbar vote",verifiedPhoneRequired:!0});var e=this;p({showDialog:!0,source:"Widgetbar vote"}).done(function(){if(!(t.blocked||t.voteStatus<0)){t.blocked=!0;var i=1-t.voteStatus;e.voteSender(t,i,function(i){i.error&&(u({title:$.t("Error"),content:i.error}).open(),t.blocked=!1),e.onData(i)})}})},c.prototype.onData=function(t){var e,i=this.getIdeaByID(t.id);i&&(i.likes=t.score,e=window.user.id===t.user_id,i.voteStatus>=0&&e&&(i.voteStatus=t.vote,i.blocked=!1),i.updateView(!e))},c.prototype.destroy=function(){},c.Idea=function(t,e,i,o){this.id=t,this.likes=e,this.voteStatus=i,this.elements=[o]},c.Idea.prototype.updateView=function(t){var e=$(this.elements);e.toggleClass("js-has-likes",!!this.likes),setTimeout(function(){e.find(".js-likes-counter").text(this.likes?this.likes:"")}.bind(this),75),e.toggleClass("active",!!this.voteStatus),t&&(e.removeClass("js-like-highlight"),setTimeout(function(){e.addClass("js-like-highlight")},10))},e.UserChatSuggestListHandler=l,e.ChatProgressBar=o,e.ChatSettingsDialog=n,e.ChatNotificationControl=r,e.ChatSoundControl=s,e.ChatRoomListSearchFilter=a,e.ChatLikesHandler=c},function(t,e,i){"use strict";function o(){_||(_=new h.PrivateChatRooms)}function n(){g||(g=new d.PublicChatRooms(f))}function r(){if(o(),!_)throw Error("Unable to create private chat model");return new l.PrivateChatModel(_)}function s(){if(n(),
!g)throw Error("Unable to create public chat model");return new c.PublicChatModel(g)}function a(t){if(g)return void p.logError("Trying set initial rooms after creating");f=t}var l,c,h,d,u,p,f,_,g;Object.defineProperty(e,"__esModule",{value:!0}),l=i(1536),c=i(1537),h=i(1538),d=i(1539),u=i(0),p=u.getLogger("Chat.ChatModelsFactory"),f=null,_=null,g=null,e.makePrivateModel=r,e.makePublicModel=s,e.setPublicInitialRooms=a},function(t,e,i){"use strict";function o(t){return t.replace(RegExp(l,"gi"),$.t("@$1 wrote")+":\n").replace(RegExp(a,"gi"),"")}function n(t){return t.replace(RegExp(c,"ig"),"").trim()}function r(t){var e,i=RegExp(l,"ig"),o=RegExp(a,"ig"),r=i.exec(t),s=o.exec(t);return!r||!s||s.index<r.index?null:(e='<div class="ch-item-quote">'+$.t("@__username__ wrote",{username:r[1]})+":<br/>"+n(t.substring(i.lastIndex,s.index))+"</div>",{converted:e,end:o.lastIndex,start:r.index})}function s(t){var e=r(t);return e?t.substring(0,e.start)+e.converted+s(t.substring(e.end).trim()):t}var a,l,c;Object.defineProperty(e,"__esModule",{value:!0}),i(5),a="\\[\\/quote\\]",l='\\[quote=(?:"|&quot;)([a-z0-9\\._\\-\\u00A0]+)(?:"|&quot;)\\]',c=l+"([^]*)"+a,e.removeBBCodes=o,e.removeQuotes=n,e.parseQuotes=s},,function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M9.901 9.639c-.102-.797.218-1.775.77-2.356l1.438-1.527-2.07-.395c-.784-.142-1.615-.742-2.008-1.446L7.003 2.06 5.97 3.917c-.391.702-1.222 1.301-2 1.443l-2.08.396 1.44 1.526c.547.577.866 1.549.77 2.353l-.262 2.086 1.93-.897a2.95 2.95 0 0 1 1.233-.254c.44 0 .87.085 1.233.254l1.93.897-.263-2.082zm.992-.127l.458 3.624c.014.105-.006.16-.02.176-.028.03-.109.005-.182-.03L7.812 11.73a1.973 1.973 0 0 0-.811-.16c-.302 0-.59.057-.81.16l-3.338 1.552c-.118.056-.164.051-.182.03-.014-.016-.034-.07-.02-.178L3.11 9.51c.06-.503-.162-1.18-.505-1.54L.087 5.302c-.085-.091-.09-.148-.086-.158.003-.01.04-.053.16-.077l3.621-.689c.491-.09 1.069-.506 1.315-.948L7.004 0l1.902 3.43c.246.442.824.859 1.312.947l3.617.69c.123.024.162.068.164.077.003.01-.003.066-.089.157L11.4 7.97c-.348.367-.57 1.045-.506 1.543z"/></svg>'},,function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50" height="50"><path d="M20 17.995c0-1.102.753-1.51 1.69-.91l10.62 6.83c.934.6.937 1.57 0 2.17l-10.62 6.83c-.934.6-1.69.192-1.69-.91v-14.01z"/></svg>'},function(t,e,i){"use strict";function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.createDialog)(n({},s,t)).on("action:submit",function(t){return t.trigger("submit",[t,t.$el.find("input").val()])})}var n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),n=Object.assign||function(t){var e,i,o;for(e=1;e<arguments.length;e++){i=arguments[e];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},e.createPromptDialog=o,r=i(56),s={width:400,destroyOnClose:!0,title:$.t("Enter the value"),content:'<input class="tv-control-input" name="value">',
actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',actions:[{name:"submit",type:"success",text:$.t("Ok"),key:13},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close"}]}},function(t,e,i){"use strict";function o(t,e){this.data=t,this.options=e}function n(t,e){this.data=t,this.options=e}function r(){c(new n,{customTitle:!0,customFocus:!0})}function s(t,e,i){c(new o({userID:t,username:e},{defaultMessage:!0,template:"not_suggested",templateParams:{chart:window.location.protocol+"//"+window.location.host+i}}))}function a(t,e,i,n){c(new o({userID:t,username:e}))}var l=i(557).UsernameHintList,c=i(1077).showMessagePopup;i(560),o.prototype.send=function(t){TradingView.messagesWidget.sendMessageToUser(t,this.data.userID)},o.prototype.getTitle=function(){return $.t("To: <strong>__username__</strong>",{username:this.data.username})},o.prototype.getText=function(){return this.options&&this.options.defaultMessage?this.getDefaultMessage(this.options.template,this.options.templateParams):""},o.prototype.validate=function(t){return t.length>0},o.prototype.getDefaultMessage=function(t,e){switch(t){case"not_suggested":return $.t("Hi,\n\nI'm a moderator for TradingView. I reviewed your idea at __chart__ and had to mark it as \"Not Suggested\" because it doesn't comply with our House Rules https://www.tradingview.com/house-rules/.\n\nPay attention to these rules to get into the Suggested stream more often, or even become a Suggested Author. Please let me know if you have any questions, will be happy to help.",e)}},n.prototype.send=function(t){TradingView.messagesWidget.sendMessageToUser(t,this.userID)},n.prototype.getTitle=function(){return'<span class="tv-dialog__username-pretext">'+$.t("To:")+'</span><input type="text" class="tv-dialog__chat-username-input js-new-chat__username-input"/><span class="js-new-chat__username"></span>'},n.prototype.getText=function(){return""},n.prototype.applyCustomTitleHandlers=function(t){this.$usernameInput=t.find(".js-new-chat__username-input"),this.$username=t.find(".js-new-chat__username"),this.$textInput=t.find(".message textarea");var e=t.find(".js-custom-title");this.usernameHintList=new l({$container:e,simpleMode:!0,fullBorder:!0,$input:this.$usernameInput,maxItems:20,onItemSelected:this.onUsernameSelected.bind(this),style:{left:0,top:"100%",zIndex:100}})},n.prototype.onUsernameSelected=function(t){this.$usernameInput.hide(),this.userID=t.id,this.$username.html("<strong>"+t.username+"</strong>"),this.$username.show(),this.$textInput.putCursorAtEnd()},n.prototype.getInvalidInputHandlers=function(t){return{invalidMessage:t.default,invalidTitle:function(){var t=document.getElementsByClassName(" js-new-chat__username-input")[0];t.classList.add("tv-dialog__chat-username-input--error"),setTimeout(function(){t.classList.remove("tv-dialog__chat-username-input--error")},400)}}},n.prototype.customValidate=function(t){var e=[];return t.length||e.push("invalidMessage"),this.userID||e.push("invalidTitle"),e},
n.prototype.customFocus=function(t){this.$usernameInput.focus()},n.prototype.validate=function(t){return this.userID&&t.length>0},e.PMSendingAgent=o,e.openPMDialog=a,TradingView.noteForAuthor=s,e.noteForAuthor=s,e.newPrivateChatDialog=r,e.NewPrivateChatAgent=n},,function(t,e,i){"use strict";(function(t){function o(e){function i(t){var i,o;return l?(i=e.customValidate(t),i.length&&r(i),!i.length):(o=e.validate(t),o||r(),o)}function o(){var t=s.val().trim();s.tvControlError("clear").tvControlError("render"),i(t)&&(e.send(t),h.close())}function r(t){if(t)for(var e=0;e<t.length;e++)c[t[e]]();else c.default()}var s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a&&a.customTitle,c={default:function(){s.tvControlError("add",{id:1,message:!1}).tvControlError("render")}},h=new n.TVPopup({draggable:!Modernizr.touch,title:e.getTitle(),width:480,destroyOnClose:!0,titleTemplate:'<div class="tv-dialog__section tv-dialog__section--no-border js-dialog__drag"><div class="tv-dialog__title tv-dialog__title--relative js-custom-title">{{{ title }}}</div></div>',contentWrapTemplate:"<div>",actionsWrapTemplate:'<div class="tv-dialog__section i-align_right tv-dialog__section--no-border">',content:t.render('<textarea class="tv-dialog__widetextarea" rows="8">{{ text }}</textarea>',{text:e.getText()}),actions:[{name:"send",type:"success",text:$.t("Send")},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close"}]}).on("beforeOpen",function(t){s=t.$el.find("textarea").tvControlError(),l&&(e.applyCustomTitleHandlers(t.$el),c=e.getInvalidInputHandlers(c)),s.on("keydown",function(t){(t.metaKey||t.ctrlKey)&&13===t.keyCode&&o()})}).on("afterOpen",function(t){a&&a.customFocus?e.customFocus(t):s.putCursorAtEnd()}).on("action:send",o).open()}Object.defineProperty(e,"__esModule",{value:!0}),e.showMessagePopup=o,i(204);var n=i(196);i(560)}).call(e,i(21))},function(t,e,i){"use strict";(function(e,o,n,r){function s(t){this._bridge=t,this._container=t.$body,this._visible=!1,this._notificationCount=0,this._init_history_loaded=!1,this._unreadFlag=!1,this._model=v.makePrivateModel(),this._model.roomAdded().subscribe(this,this._onRoomAdded),this._model.roomChanged().subscribe(this,this._onRoomChanged),this._model.roomDeleted().subscribe(this,this._onRoomDeleted),this._model.roomsChanged().subscribe(this,this._onRoomsChanged),this._model.otherRoomMessagesRead().subscribe(this,this._onRoomMessagesRead),this._model.messageReceivedInOtherRoom().subscribe(this,this._onChatMessage),this._chatMaximized=new e,this.layoutWithSelect()||this._chatMaximized.subscribe(function(t){TVSettings.setValue("privatemessages.chatmaximized",t)}),this._standalone=!!t.standalone||!!(t.options||{}).standalone,this._layoutWithSelect=!!t.layoutWithSelect||!!(t.options||{}).layoutWithSelect,this._chatNotificationControl=new c.ChatNotificationControl(!0),this.layoutWithSelect()?(a.prototype.prepareLayoutWithSelect.call(this,!0,this._$notAuthMessage()),this.roomChange=new o):this.prepareLayout(),
0!==this._model.getRooms().length&&this._onRoomsChanged(this._model.getRooms(),[]),this.connect(),this.resize(),t.onMessage&&t.onMessage(this.onBridgeMessage.bind(this)),t.visible.subscribe(function(e){if(this._visible=e,!e)return void this._bridge.postMessage("private_chat_hidden");this._bridge.postMessage("private_chat_visible"),this.resize();var i=TVSettings.getValue("privatemessages.activechat","");this._visibilityToggled?this._visibilityToggled=!1:i&&this.getRoomById(i)&&this.openChat(i),this._model.getRooms().forEach(function(t){t._notifyFired&&($("#msg-item-"+t.room_id).highlight(1),this.isCurrentRoom(t.room_id)&&$("#msg-item-"+t.room_id+" .counter").text("0").removeClass("active")),t._notifyFired=!1}.bind(this)),t.notify(null,{stopHighlightTab:!0,force:!0}),this.updateNotifications()}.bind(this),{callWithLast:!0}),t.height&&t.height.subscribe(this.onWindowResize.bind(this)),t.width&&t.width.subscribe(this.resizeChat.bind(this)),TradingView.messagesWidget=this,setInterval(this.checkUnreadRooms.bind(this),1e3)}var a=i(558),l=i(911),c=i(1066),h=i(557).UsernameHintList,d=i(74).Action,u=i(154),p=i(1094),f=i(909),_=i(1075).newPrivateChatDialog,g=i(83).SidebarCustomScroll,m=i(519).bindPopupMenu,v=i(1067),y=i(67).createNoticeDialog,b=i(255).createConfirmDialog,w=i(1074).createPromptDialog,S=i(1647),T=i(1315),x=i(442),P=i(1068),C=i(53).TVXWindowEvents,M=i(1327).trackChatEvent,k=i(93);s.prototype._emitXWindowOnNewMessagesRead=function(t){this._xWindowNewMessagesReadBuffer?this._xWindowNewMessagesReadBuffer.push(t):(this._xWindowNewMessagesReadBuffer=[t],setTimeout(function(){var t=this._xWindowNewMessagesReadBuffer.join(":");C.emit("messages.newmessagesread",t),delete this._xWindowNewMessagesReadBuffer}.bind(this),500))},s.prototype.onBridgeMessage=function(t,e){"private_message_read"===t&&this._emitXWindowOnNewMessagesRead(e.id)},s.prototype.updateNotifications=function(){var t=this._$data.find(".counter.active").length;0===t&&(this._notificationCount=0),this._bridge.notify(1,{notificationValue:t,clear:!t,force:!0,highlightTab:!1})},s.prototype.checkUnreadRooms=function(){this._$data.find(".counter.active").length?this._unreadFlag||(this._unreadFlag=!0,S.setTabIcon(S.TAB_ICON_URLS.UNREAD_MESSAGES)):this._unreadFlag&&(this._unreadFlag=!1,S.setTabIcon(S.TAB_ICON_URLS.DEFAULT))},s.prototype.prepareLayout=function(){var t=this;this._$widget=$('<div class="tv-messages">').appendTo(this._container),this._$addChatButton=$('<a class="button apply-common-tooltip" title="'+$.t("Select user to start new chat with")+'">').append($(i(1648)).attr({width:17,height:17})).click(function(t){runOrSignIn(_,{source:"Private message dialog",verifiedPhoneRequired:!0})}).appendTo(this._bridge.$headerspace),this._searchFilter=new c.ChatRoomListSearchFilter(this,!0),this._searchFilter.appendButton(this._bridge.$headerspace),this._searchFilter.appendInput(this._$widget),this._$dataWrap=$('<div class="msg-data-wrap">').appendTo(this._$widget),this._$data=$('<div class="msg-data">').appendTo(this._$dataWrap),
this._$data.on("click",".msg-item",function(e){t._searchFilter&&t._searchFilter.isOpen()&&t._searchFilter.setNewRoom($("#msg-item-"+$(this).data("room"))),t.openChat($(this).data("room")),e.preventDefault()}).on("contextmenu",".msg-item",function(e){e.preventDefault(),t.showRoomContextMenu(e,$(this).data("room"))}),this._searchFilter.setRoomList(this._$data),is_authenticated||this._$notAuthMessage().appendTo(this._$data),this._scroll=new g(this._$dataWrap,this._$data),this._scroll.scrolltoend.subscribe(this,function(){this._model.loadMoreRooms()})},s.prototype._onRoomAdded=function(t){if(!(t.user_id in this._model.ignoredUsers())){this.addRoom(t,!0);var e=t.room_id;this._roomToBeOpenedWhenAdded&&this._roomToBeOpenedWhenAdded===e&&(this._roomToBeOpenedWhenAdded=null,this._scroll.animateTo($("#msg-item-"+e).position().top),this.openChat(e)),this.isStandalone()&&this._bridge.notify(null,{roomsCount:this._model.getRooms().length})}},s.prototype._onRoomChanged=function(t){t.user_id in this._model.ignoredUsers()||this.setRoomTitleById(t.room_id,this.roomTitle(t))},s.prototype._onRoomDeleted=function(t){$("#msg-item-"+t.room_id).remove()},s.prototype._onRoomsChanged=function(t,e){var i,o,n;return window.is_authenticated?(this._$data.empty(),t.length?(this.isStandalone()&&this._bridge.notify(null,{roomsCount:t.length}),i=0===e.length&&0!==t.length,o=0,t.forEach(function(t){o+=this.addRoom(t,!1,i)},this),o?(n=this.layoutWithSelect()&&this._bridge.activeRoom?this._bridge.activeRoom:TVSettings.getValue("privatemessages.activechat",""),i&&this._visible&&n&&this.getRoomById(n)&&this.openChat(n),void(i||!n||this.getRoomById(n)||this.closeChat())):void this.appendPlaceholder("hidden")):void(this.isStandalone()?this._bridge.notify(null,{roomsCount:0}):this.appendPlaceholder("empty"))):void(this.isStandalone()&&this._bridge.notify(null,{roomsCount:0}))},s.prototype._onChatMessage=function(t,e,i){var o,n,r,s,a,l,c=this;t.user_id in this._model.ignoredUsers()||(o=$("#msg-item-"+e),o.prependTo(this._$data),!t.type&&this._model.isRoomHidden(e)&&o.hasClass("js-hidden")&&this._showRoom(e,o),n=o.find(".desc"),n.find(".last-message").text(t.username+": "+P.removeBBCodes(t.text)),r=n.find("time"),r.length?x.destroy(r):(r=$("<time>"),r.insertAfter(o.find(".js-last-message"))),x.agoDateFormatter(r,new Date(t.time)),s=t.user_id!==window.user.id,a=this._model.getRoomById(e),l=new T,l.ready.then(function(){var n,r,h,d,u,_,g=l.data.notification_popup;!s||c.isCurrentRoom(e)&&c._visible||(!s||i||t.type||c.isStandalone()||c.layoutWithSelect()||!g||!document.hidden||(a.members_info.length>2?(r=c.roomTitle(a),n=t.username+": "+P.removeBBCodes(t.text)):(r=t.username,n=P.removeBBCodes(t.text)),f.show(r,n,t.user_pic)),h=c._$data.find('a[data-room="'+e+'"] .counter'),d=parseInt(h.text(),10),h.addClass("active").text(d+1),c._notificationCount++,o.highlight(1),c.updateNotifications(),u=TVSettings.getJSON("privatemessages.sound",null),_=t.text&&P.removeBBCodes(t.text).indexOf("@"+window.user.username)>-1,
s&&!i&&(!u||u.onMessage||_&&u.onMessageForUser)&&p.play("chat/popup")),a._notifyFired||c._visible||(c.updateNotifications(),a._notifyFired=!0)}))},s.prototype.connect=function(){this._onXWindowChatOpen=this.onXWindowChatOpen.bind(this),this._onXWindowChatStatus=this.onXWindowChatStatus.bind(this),this._onXWindowChatVisibility=this.onXWindowChatVisibility.bind(this),this._onXWindowNewMessagesRead=this.onXWindowNewMessagesRead.bind(this),C.on("messages.newmessagesread",this._onXWindowNewMessagesRead),this.isStandalone()||(C.on("messages.openchat",this._onXWindowChatOpen),C.on("messages.chatstatus",this._onXWindowChatStatus),C.on("messages.chatvisibility",this._onXWindowChatVisibility))},s.prototype.onXWindowNewMessagesRead=function(t){this._bridge.postMessage("private_chat_msgs_read",{idString:t})},s.prototype.onXWindowChatOpen=function(t){var e,i,o;this._model.getRooms().length&&(e=t.indexOf(":"),i=t.indexOf("@"),o=t.substr(e+1,i-e-1),this.openChat(o,!0))},s.prototype.onXWindowChatStatus=function(t){if(this._model.getRooms().length){var e=t.split(":")[1];$("#msg-item-"+e+" .counter").text("0").removeClass("active"),this.updateNotifications()}},s.prototype.onXWindowChatVisibility=function(t){var e,i;this._model.getRooms().length&&(e=t.split(":")[0],i=t.split(":")[1],this.getRoomById(e)&&"hide"===i&&this._hideRoom(e,!0))},s.prototype.destroy=function(){this._chatWidget&&(this._chatWidget.destroy(),this._chatWidget=null),this._model.roomAdded().unsubscribe(this,this._onRoomAdded),this._model.roomChanged().unsubscribe(this,this._onRoomChanged),this._model.roomDeleted().unsubscribe(this,this._onRoomDeleted),this._model.roomsChanged().unsubscribe(this,this._onRoomsChanged),this._model.otherRoomMessagesRead().unsubscribe(this,this._onRoomMessagesRead),this._model.messageReceivedInOtherRoom().unsubscribe(this,this._onChatMessage),this._model.destroy(),this._model=null,C.off("messages.openchat",this._onXWindowChatOpen),C.off("messages.chatstatus",this._onXWindowChatStatus),C.off("messages.chatvisibility",this._onXWindowChatVisibility),C.off("messages.newmessagesread",this._onXWindowNewMessagesRead)},s.prototype.removePlaceholder=function(t){t&&t.find(".js-placeholder-message").remove(),this.isStandalone()?(this._bridge.$header.show(),this._bridge.$body.find(".js-placeholder-message").remove()):this._$data.find(".js-placeholder-message").remove()},s.prototype.appendPlaceholder=function(t,e){var i,o;e?o=e:this.isStandalone()?(this._bridge.$header.hide(),o=this._bridge.$body):o=this._$data,"empty"===t?i=$.t("You have no private messages yet"):"hidden"===t&&(o.is(".chat-body")&&$(document.body).addClass("no-chats"),i=$.t("You have no new messages!")),o.append('<div class="msg-empty tv-widget-empty-message js-placeholder-message">'+i+"</div>")},s.prototype.getRoomById=function(t){return this._model.getRoomById(t)},s.prototype.roomTitle=function(t,e){var i,o,n,r;return t?t.title?e?"<strong>"+t.title+"</strong>":t.title:(i=[],o=4,t.members_info.forEach(function(t){t.username!==window.user.username&&i.push(t.username)}),
r=i.slice(0,o),e&&(r=r.map(function(t){return"<strong>"+t+"</strong>"})),n=r.join(", "),i.length>o&&(n+=", +"+(i.length-o)),n):""},s.prototype.getRoomTitleById=function(t,e){return this.roomTitle(this.getRoomById(t),e)},s.prototype.setRoomTitleById=function(t,e){e=TradingView.clean(e),this._bridge.setTitle(e),$("#msg-item-"+t+" .title").text(e)},s.prototype.addRoom=function(t,e,i){var o,r,s,a,l,c,h,d,u,p=this._model.isRoomHidden(t.room_id);for(p&&t.new_msgs&&(this._model.removeHiddenRoom(t.room_id),p=!1),o='<a href="#" data-room="{{roomId}}"{{#isHidden}} data-hidden-conversation="true"{{/isHidden}} id="msg-item-{{roomId}}" class="msg-item{{#isHidden}} js-hidden{{/isHidden}}"><div class="title">{{title}}</div><div class="desc"><span class="last-message js-last-message">{{lastMessage}}</span></div><div class="counter">0</div></a>',r=t.last_message?P.removeBBCodes(TradingView.clean(t.last_message)):"",s={roomId:t.room_id,isHidden:p,title:TradingView.clean(this.roomTitle(t)),lastMessage:r},a=$(n.render(o,s)),r.length&&(l=$("<time>"),l.insertAfter(a.find(".js-last-message")),x.agoDateFormatter(l,new Date(1e3*t.updated||Date.now()))),this.isCurrentRoom(t.room_id)&&a.addClass("active"),c=$('<div class="userpics"></div>').prependTo(a),h=0,u=0;u<t.members_info.length;u++)d=t.members_info[u],d.username!==window.user.username&&h<4&&(h++,$('<i class="userpic userpic-'+h+(d.online?" online":"")+'"><img src="'+d.user_pic+'"/></i>').appendTo(c));return c.addClass("layout-"+h),e?a.prependTo(this._$data).highlight(1):a.appendTo(this._$data),t.new_msgs&&!this.isCurrentRoom(t.room_id)&&(a.find(".counter").addClass("active").text(t.new_msgs),this._notificationCount+=t.new_msgs,i&&(t._notifyFired=!0),this.updateNotifications()),this._$data.find(".js-placeholder-message").remove(),p?0:1},s.prototype._onRoomMessagesRead=function(t){this.markChatAsRead(t.room_id),this.updateNotifications()},s.prototype.markChatAsRead=function(t){var e=$("#msg-item-"+t+" .counter"),i=parseInt(e.text(),10);return e.text("0").removeClass("active"),i&&(this._notificationCount=Math.max(0,this._notificationCount-i)),i},s.prototype.openChat=function(t,e){this._$data.find("a").removeClass("active"),$("#msg-item-"+t).addClass("active"),this.markChatAsRead(t),(this._visible||e)&&this.updateNotifications(),this.isCurrentRoom(t)||(this.layoutWithSelect()||this.flipWidgets(),this.isStandalone()&&C.emit("messages.chatstatus",+new Date+":"+t),this._bridge.setTitle(this.getRoomTitleById(t)),this.layoutWithSelect()&&this._$select&&this._$select.html(this.getRoomTitleById(t,!0)),this.removePlaceholder(this._$chat),this.closeChat(),this._createChatWidget(t,e),this._chatWidget.resize(),this.resize(),this.isStandalone()||TVSettings.setValue("privatemessages.activechat",t),this.layoutWithSelect()||this.toggleMaximize(TVSettings.getBool("privatemessages.chatmaximized")),this.layoutWithSelect()&&this.roomChange.fire(t))},s.prototype.membersFilter=function(t){return t.username!==window.user.username},s.prototype._membersCount=function(t){var e=this._model.getRoomById(t)
;return e?e.members_info.length>2?e.members_info.filter(this.membersFilter).length:"":0},s.prototype._createChatWidget=function(t,e){var i,o,n=this.layoutWithSelect()&&this._bridge.$body?this._bridge.$body:this._$chat;this._$chatWidgetContainer=$('<div class="msg-window" id="msg-window-'+t+'" data-room="'+t+'"></div>').appendTo(n),this._$chatBody=$('<div class="msg-window-body chat-page"></div>').appendTo(this._$chatWidgetContainer),this.layoutWithSelect()&&this._$chatBody.css("height","100%"),this._createUsernameHint(t),this.symbolLinking=k.symbol.spawn(),this.intervalLinking=k.interval.spawn(),i=this._model.getRoomById(t),o=$.extend(!0,{},this._bridge.options),o.hideMaximize=o.hideMaximize||this.layoutWithSelect(),this._chatBridge={$body:this._$chatBody,_room:t,properties:{value:function(){return{room:t}}},options:o,visible:this._bridge.visible,$headerspace:this._bridge.$headerspace,$header:this._bridge.$header,private_chat:!0,privateMenuItems:function(){return this.getPrivateRoomActions(i)}.bind(this),getChartWidget:this._bridge.getChartWidget,postMessage:this._bridge.postMessage,onMessage:this._bridge.onMessage,chatNotificationControl:this._chatNotificationControl,getChartWidgetCollection:this._bridge.getChartWidgetCollection,addPeople:this.addPeople.bind(this),membersCount:this._membersCount.bind(this,t),hideDetach:this._standalone||r.enabled("browser_extension"),standalone:this._standalone||this.layoutWithSelect(),toggleMaximize:this.toggleMaximize.bind(this),maximized:this._chatMaximized.readonly(),symbol:this.symbolLinking,interval:this.intervalLinking,isAuthor:i.is_author},this.isStandalone()||e||(this._chatBridge.xWindowDataSync=function(e){C.emit("messages.openchat",+new Date+":"+t+"@"+JSON.stringify(e))}),this._chatWidget=new l(this._chatBridge),Modernizr.touch||this.layoutWithSelect()||this._$chat.find(".message-input").focus()},s.prototype.toggleMaximize=function(t){if("boolean"!=typeof t)t=!this._chatMaximized.value();else if(t===this._chatMaximized.value())return;this._$chat.toggleClass("msg-chat-maximized",t),this._chatMaximized.setValue(t),this._chatWidget.resize()},s.prototype._isCurrentUserAuthor=function(t){var e=this.getRoomById(t||this._currentRoom());return window.is_authenticated&&e&&e.is_author},s.prototype._createUsernameHint=function(t){var e,i=this._isCurrentUserAuthor(t)||window.user.is_staff;this._$chatMembers=$(n.render('<div class="msg-members">{{#canEditMembers}}<div class="msg-input-wrap js-hidden"><div class="msg-input"><textarea placeholder="{{ placeholderText }}"></textarea></div></div>{{/canEditMembers}}<div class="msg-chat-members{{#canEditMembers}} msg-chat-members--height_decreased{{/canEditMembers}}"></div><div class="msg-username-hint-actions{{^canEditMembers}} msg-username-hint-actions--one-button{{/canEditMembers}}">{{#canEditMembers}}<a class="_tv-button cancel">'+$.t("Cancel")+'</a><a class="_tv-button ok">'+$.t("OK")+'</a>{{/canEditMembers}}{{^canEditMembers}}<a class="_tv-button cancel">'+$.t("Close",{context:"input"})+"</a>{{/canEditMembers}}</div></div>",{
canEditMembers:i,placeholderText:$.t("Add people to this chat...")})),this._$chatMembers.appendTo(this._$chatBody),this._$inputWrap=this._$chatMembers.find(".msg-input-wrap"),this._$input=this._$chatMembers.find(".msg-input"),this._$inputText=this._$chatMembers.find("textarea"),this._$chatMembersContent=this._$chatMembers.find(".msg-chat-members"),this._$membersActions=this._$chatMembers.find(".msg-username-hint-actions"),this._$chatHeadingHeaderspace=this._bridge.$headerspace,i&&(this._usernameHintList=new h({$container:this._$chatMembers,simpleMode:!0,fullBorder:!0,$input:this._$inputText,style:{top:35,"z-index":11},onShow:function(t){t.css({"max-height":this._$chatMembers.height()-60,width:this._$chatMembers.width()})}.bind(this),onMouseDownOutside:function(){this._$inputText.val("")}.bind(this),onItemSelected:function(t){this.addNewRecipient(t)}.bind(this)})),i&&(e=this,this._$chatMembersContent.on("click",".remove",function(t){return t.stopPropagation(),t.preventDefault(),e.removeNewRecipient($(this).parent().data("id")),e.syncDeleteButtonVisibility(),!1})),this._$membersActions.on("click",".ok",function(){var t=this._$membersActions.find(".ok");t.hasClass("i-disabled")||(t.addClass("i-disabled"),this.saveRecipients(this.getCurrentRecipients()).then(function(){t.removeClass("i-disabled")}))}.bind(this)),this._$membersActions.on("click",".cancel",function(){this._$chatHeadingHeaderspace.find("#add-people").removeClass("active"),this._$inputWrap.addClass("js-hidden"),this._$chatMembers.hide()}.bind(this))},s.prototype.addPeople=function(){var t=this._$chatHeadingHeaderspace.find("#add-people");t.hasClass("active")?(t.removeClass("active"),this._$inputWrap.addClass("js-hidden"),this._$chatMembers.hide()):(t.addClass("active"),this._$inputWrap.removeClass("js-hidden"),this._$chatMembers.show(),this._$inputText.val("").focus(),this._showMembersList())},s.prototype._showMembersList=function(){var t=this;this._$chatMembersContent.empty().css("height",""),this._model.updateRoomInfo(this._currentRoom(),function(){var e=this._model.getRoomById(this._currentRoom()),i=e.members_info.sort(function(t,e){return t.online?-1:1}).filter(this.membersFilter),o=i.map(function(t){return{username:t.username,online:t.online,userpic:t.user_pic,id:t.user_id}}),n=t.renderRecipients(o);this._$chatMembersContent.append(n),t.syncDeleteButtonVisibility()}.bind(this))},s.prototype.syncDeleteButtonVisibility=function(){var t=this._$chatMembersContent.find(".recipient").length,e=this._$chatMembersContent.find(".remove");t>1?e.show():e.hide()},s.prototype.addNewRecipient=function(t){var e,i,o;if(this._$inputText.val("").focus(),e=this.getCurrentRecipients(),-1!==e.indexOf(t.id))return void y({title:$.t("Notice"),content:$.t("{0} is already in this chat.").format(t.username)}).open();i=$.extend({},t),o=this.renderRecipients([i]),o.prependTo(this._$chatMembersContent),this.syncDeleteButtonVisibility()},s.prototype.renderRecipients=function(t){var e=this._isCurrentUserAuthor()
;return $(n.render('{{#recipients}}<a href="/u/{{ username }}/" target="_blank" class="recipient{{#online}} online{{/online}}" data-id="{{ id }}"><img src="{{ userpic }}"/><span class="recipient-username">{{ username }}</span>{{#showDeleteButton}}<i class="remove"></i>{{/showDeleteButton}}</a>{{/recipients}}',{recipients:t,showDeleteButton:e||window.user.is_staff}))},s.prototype.removeNewRecipient=function(t){$('.recipient[data-id="'+t+'"]').remove(),this._$inputText.focus()},s.prototype.saveRecipients=function(t){return new Promise(function(e,i){if(!t.length)return void e();this._model.updateRoomUsers(this._currentRoom(),t,function(t){if(t.error)return y({title:$.t("Error"),content:t.error}).open(),void e();this._$inputWrap.addClass("js-hidden"),this._$chatHeadingHeaderspace.find("#add-people").removeClass("active"),this._$chatMembers.hide();var i=t.room;if(i.existing)return this.openChat(i.room_id),void e();this.isCurrentRoom(i.room_id)||this.isStandalone()||(this._roomToBeOpenedWhenAdded=i.room_id),e()}.bind(this))}.bind(this))},s.prototype.flipWidgets=function(){var t,e,o,n,r;this._flipped||(t=this._container.height(),e=parseFloat(TVSettings.getValue("privatemessages.paneratio","0.5")),o=Math.round(e*t),this._bridge.visible.value()||this._bridge.visible.subscribe(function(i){t=this._container.height(),o=Math.round(e*t),this._$chat.height(o),this._$widget.height(t-o),this.resize()}.bind(this),{once:!0}),this._$headerWrap=$('<div class="tv-messages-header">').prependTo(this._$widget),n=$('<div class="widgetbar-widgetheader"><div class="widgetbar-widgettitle">'+$.t("Recent Chats")+"</div></div>").appendTo(this._$headerWrap),r=$('<div class="widgetbar-headerspace">').append(this._$addChatButton).append(this._searchFilter.getButton()).prependTo(n),this._$settingsButton=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'">').append($(i(1313)).attr({width:17,height:17})).appendTo(r),this._$settingsButton.on("click",function(t){this._chatWidget&&this._chatWidget._showSettingsDialog(t,this._model.getRooms())}.bind(this)),m(this._$settingsButton,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"ch-popup ch-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0}),this._$chat=$('<div class="msg-chat-wrap">').insertBefore(this._$widget),this._$chat.height(o),this._$widget.height(t-o),this._$chat.data("heightRatio",e),this._$resizeHandle=$('<div class="msg-window-handle"></div>').on("mousedown touchstart",this.onWidgetResizeHandleMousedown.bind(this)).appendTo(this._$widget),this._flipped=!0)},s.prototype.onWidgetResizeHandleMousedown=function(t){var e,i,o,n,r,s,a,l,c;t.isDefaultPrevented()||(t.preventDefault(),e=this,i=this._$chat,o=this._$widget,n=t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY,r=i.height(),s=this._container.height(),l=function(t){var l,c,h;l=t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY,c=l-n,h=Math.max(0,Math.min(r+c,s-e._$headerWrap.outerHeight())),a!==h&&(a=h,i.data("heightRatio",(h/s).toFixed(2)),i.height(h),
o.height(s-h),e.resize())},c=function(t){$(document.documentElement).off("mousemove touchmove",l).off("mouseup touchend",c),a!==r&&TVSettings.setValue("privatemessages.paneratio",i.data("heightRatio"))},$(document.documentElement).on("mousemove touchmove",l).one("mouseup touchend",c))},s.prototype.resize=function(){if(!this.layoutWithSelect()){var t=this._$widget.height();t-=this._searchFilter.getInputHeight(),this._$headerWrap&&(t-=this._$headerWrap.outerHeight()),this._$dataWrap.height(t),this._scroll.resize()}this.resizeChat()},s.prototype.resizeChat=function(){this._chatWidget&&this._chatWidget.resize()},s.prototype.onWindowResize=function(){var t,e;this._chatWidget&&(this.layoutWithSelect()?this._chatWidget.resize():(t=this._$chat.data("heightRatio"),e=this._container.height(),this._$chat.height(e*t),this._$widget.height(e*(1-t)),this.resize()))},s.prototype.closeChat=function(t){this._chatWidget&&(this._chatWidget.destroy(),this._chatWidget=null,this._$chatWidgetContainer.remove(),this._$chatWidgetContainer=null,this._$chatHeadingHeaderspace&&this._$chatHeadingHeaderspace.empty(),t&&(this._bridge.setTitle($.t("Select conversation...")),this.appendPlaceholder("hidden",this._$chat)),this.isStandalone()||TVSettings.setValue("privatemessages.activechat",""))},s.prototype.sendMessageToUser=function(t,e){var i,o;e!==window.user.id&&(i=this.getFaceToFaceChat(e),o=function(e){this._model.getRoomInfo(e,function(i){M(i,t),this._model.sendMessageToRoom(e,t,{},null,function(t){t.error&&y({title:$.t("Error"),content:t.error}).open(),this.openChat(e),window.widgetbar&&window.widgetbar.setPage("pm_chats"),this._scroll&&this._scroll.scrollToStart()}.bind(this),function(){y({title:$.t("Error"),content:$.t("Unexpected error")}).open()})}.bind(this))}.bind(this),this._visibilityToggled=!0,i?o(i.room_id):this._model.createRoom("","",[e],function(t){if(t.error)return void y({title:$.t("Error"),content:t.error}).open();o(t.room.room_id)}))},s.prototype._currentRoom=function(){return this._chatWidget&&this._chatWidget.currentRoom()||""},s.prototype.isCurrentRoom=function(t){return this._currentRoom()===t},s.prototype.isStandalone=function(){return this._standalone},s.prototype.layoutWithSelect=function(){return this._layoutWithSelect},s.prototype._$notAuthMessage=function(){var t=$('<div class="ch-item-empty">'+$.t("If you want to use private messages - please __signInLink__!",{signInLink:'<a href="#signin">'+$.t("sign in or register")+"</a>"})+"</div>");return t.on("click",function(){return runOrSignIn(function(){},{source:"Private messages widget placeholder",sourceMeta:"Chart"}),!1}),t},s.prototype.setRoomTitle=function(t){var e=this;w({title:$.t("Set Chat Title"),content:n.render('<input class="tv-control-input" name="value" value="{{ oldTitle }}">',{oldTitle:this.getRoomTitleById(t)})}).actionLoader("submit").on("submit",function(i,o){o&&(i.actionLoader("submit","start"),e._model.editRoom(t,o,"",function(t){if(i.actionLoader("submit","stop"),t.error)return void i.error(t.error);i.close()}))}).open()},
s.prototype._showRoom=function(t,e){e.removeClass("js-hidden"),e.data("hidden-conversation",!1),this.removePlaceholder(),this._model.removeHiddenRoom(t)},s.prototype._hideRoom=function(t,e){var i,o,n;this._model.isRoomHidden(t)||(i=this._$data.find("#msg-item-"+t),o=this.isCurrentRoom(t),n=this._$data.find(".msg-item").not(".js-hidden"),i.addClass("js-hidden"),i.removeClass("active"),i.data("hidden-conversation",!0),1===n.length&&this.appendPlaceholder("hidden"),o&&(this.closeChat(!0),this._scroll.scrollToStart()),this._model.addHiddenRoom(t),e||C.emit("messages.chatvisibility",t+":hide"))},s.prototype.showRoomContextMenu=function(t,e){var i=this.getRoomById(e),o=this.getPrivateRoomActions(i),n=[o.hideConversation];n=n.concat(o.multiUserActions),n.push(l.getLaunchInSeparateWindowAction(e,function(){return!0})),u.createMenu(n.map(function(t){var e=new d({text:t.title});return e.callbacks().subscribe(this,t.action),e})).show(t)},s.prototype.getPrivateRoomActions=function(t){var e={},i=t.room_id;return e.hideConversation={title:$.t("Hide conversation"),action:function(){this._hideRoom(i)}.bind(this)},e.multiUserActions=[],t.members_info.length>2&&e.multiUserActions.push({title:$.t("Set chat title..."),action:function(){this.setRoomTitle(i)}.bind(this)},{title:$.t("Leave this chat"),action:function(){b({content:$.t("Are you sure you want to leave this chat?")}).actionLoader("yes").on("action:yes",function(t){t.actionLoader("yes","start"),this._model.leaveFromRoom(i,function(e){if(t.actionLoader("yes","stop"),e.error)return void t.error(e.error);this.isCurrentRoom(i)&&this.closeChat(!0),this.resize(),t.close()}.bind(this))}.bind(this)).open()}.bind(this)}),e},s.prototype.getFaceToFaceChat=function(t){var e,i,o=this._model.getRooms();for(e in o)if(i=o[e].members_info,2===i.length&&(i[0].user_id===t||i[1].user_id===t))return o[e];return null},s.prototype.getCurrentRecipients=function(){var t=this._$chatMembersContent.find(".recipient").toArray().map(function(t){return+t.getAttribute("data-id")});return t.push(window.user.id),t},t.exports={Widget:s}}).call(e,i(22),i(4),i(21),i(3))},function(t,e,i){"use strict";function o(t){return a.find(function(e){return e.id===t})}function n(t){if(t!==l){var e=o(t);return e?e.title:void 0}}function r(t,e){var i,n,r;return!e||e===l||s.fields[t]&&s.fields[t].useDefaultTimeInterval?t:(i=o(e),i&&(n=i.value||"",s.fields[t]&&s.fields[t].customResolutions&&(r=s.fields[t].customResolutions,n&&-1!==r.indexOf(""+n)))?t+"|"+n:t)}var s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_INTERVAL_ID=e.INTERVALS=void 0,e.getIntervalById=o,e.getAlertsMessageText=n,e.getFieldNameWithResolution=r,s=i(925),i(5),a=e.INTERVALS=[{id:"15m",title:window.t("{0} minutes").format(15),shortTitle:'15<sup class="tv-screener-toolbar__interval-sup">'+window.t("m",{context:"interval_short"})+"</sup>",value:15},{id:"1h",title:window.t("{0} hour").format(1),shortTitle:'1<sup class="tv-screener-toolbar__interval-sup">'+window.t("h",{context:"interval_short"})+"</sup>",value:60},{id:"1D",
title:window.t("{0} day").format(1),shortTitle:'1<sup class="tv-screener-toolbar__interval-sup">'+window.t("D",{context:"interval_short"})+"</sup>",value:null},{id:"1W",title:window.t("{0} week").format(1),shortTitle:'1<sup class="tv-screener-toolbar__interval-sup">'+window.t("W",{context:"interval_short"})+"</sup>",value:"1W"},{id:"1M",title:window.t("{0} month").format(1),shortTitle:'1<sup class="tv-screener-toolbar__interval-sup">'+window.t("M",{context:"interval_short"})+"</sup>",value:"1M"}],l=e.DEFAULT_INTERVAL_ID="1D"},function(t,e,i){"use strict";(function(t){function e(t){var e,i;if(t&&t.__esModule)return t;if(e={},null!=t)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(14),s=e(r),a=i(30),l=i(443),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.opened=!1,this.animated=!1,this.$el=e.$el,this.delegateEvents(),this.$el.addClass("i-inited")}return n(t,[{key:"delegateEvents",value:function(){var t=this;this.$body=this.$el.find(".js-expand__body").first(),this.$el.find(".js-expand__title").first().off("click.js-expand").on("click.js-expand",function(e){e.isDefaultPrevented()||t.toggle()})}},{key:"setOpened",value:function(t){this.opened=t}},{key:"setPause",value:function(t){this.paused=t}},{key:"toggle",value:function(){this[this.opened?"close":"open"]()}},{key:"open",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this.animated||this.opened||this.paused)){if(this.opened=!0,this.animated=!0,this.$el.addClass("i-dropped").trigger("beforeOpen"),e)return this.$body.removeClass("i-hidden"),this.$el.trigger("afterOpen"),void(this.animated=!1);(0,l.lazyVelocity)().then(function(){t.$body.css("opacity",0).velocity("slideDown",{queue:!1,easing:"easeOutCubic",duration:.75*s.dur,complete:function(){t.$body.removeClass("i-hidden")}}).velocity({opacity:1},{queue:!1,easing:"easeOutCubic",duration:.5*s.dur,delay:.75*s.dur,complete:function(){t.$body.attr("style",""),t.$el.trigger("afterOpen"),t.animated=!1}})})}}},{key:"close",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.animated&&this.opened&&!this.paused){if(this.opened=!1,this.animated=!0,this.$el.removeClass("i-dropped").trigger("beforeClose"),e)return this.$body.addClass("i-hidden"),this.$el.trigger("beforeClose"),void(this.animated=!1);(0,l.lazyVelocity)().then(function(){t.$body.velocity({opacity:0},{queue:!1,easing:"easeOutCubic",duration:.5*s.dur}).velocity("slideUp",{queue:!1,easing:"easeOutCubic",duration:.75*s.dur,delay:.5*s.dur,complete:function(){t.$body.attr("style","").addClass("i-hidden"),t.$el.trigger("afterClose"),t.animated=!1}})})}}
}]),t}();$.fn.tvExpand=(0,a.createTvBlockWithInstance)("tv-expand",function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new c(t.extend(i,{$el:e}))})}).call(e,i(29))},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><g fill="none" fill-rule="evenodd" stroke="#FF9850"><path d="M9.5 8.5c1.105 0 2-.395 2-1.5s-.895-1.5-2-1.5h-3v3h3zm.5 4c1.38 0 2.5-.62 2.5-2s-1.12-2-2.5-2H6.5v4H10z"/><path stroke-linecap="square" d="M9.5 3.5V5m0 8v1.5m-2-1.5v1.5m-2-2H6m-.5-7H6m1.5-2V5"/><circle cx="9" cy="9" r="8.5"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><g fill="none" fill-rule="evenodd"><circle cx="9" cy="9" r="8.5"/><path stroke-linecap="square" d="M5.5 13.5v-9h4m-2 4H6m3.5 1l3 4m0-4l-3 4"/></g></svg>'},,function(t,e,i){"use strict";(function(o,n){function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,l,c,h,d,u,p,f,_,g,m,v,y,b,w;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),i(1080),i(1687),i(168),i(223),l=i(62),c=i(83),h=i(1651),d=i(898),u=r(d),p=i(247),f=i(1250),i(5),_=i(1688),g=i(0).getLogger("ReutersCalendar"),m=i(1689),v=i(1690),y=i(213),b=function(t,e,i,o){return null==t?"":(e&&(t+=e),i&&i!==o&&("%"===i?t+=i:"USD"===i?t="$"+t:t+=" "+i),t)},w=function(){function t(e){s(this,t),this._bridge=e,this._bridge.options=e.options||{},this._$container=e.$body,this._chartEvents=new u.default,this._dateBlocks=[],this._templates=this._createTemplates(),this._collapsedDateBlocksDict={},this.onLayoutUpdated=new o,this._init()}return a(t,[{key:"_init",value:function(){var t,e=this;this._addUtmInfoToHeader(),this._updateFilter(!0),this._refDate=new Date,this._$container.addClass("tv-reuters-calendar").empty(),this._bridge.options.hideImportanceIndicator&&this._$container.addClass("tv-reuters-calendar--hide-importance-indicator"),t=$(n.render(this._templates.calendarContent,{isEmbedWidget:this._bridge.options.isEmbedWidget,iconInTableHeader:this._bridge.options.isEmbedWidget||"full_page"===this._bridge.options.widgetType,getWidgetInTableHeader:!this._bridge.options.isEmbedWidget&&"full_page"===this._bridge.options.widgetType})),t.appendTo(this._$container),(0,f.addGetWidgetButton)(t.find(".js-get-widget-button"),"/widget/economic-calendar/"),this._$header=t.filter(".js-calendar-header"),this._$widget=t.filter(".js-calendar-widget"),this._$data=t.find(".js-calendar-data"),this._bridge.options.noScroll||this.initScroll(),this._bridge.width.subscribe(this.resize.bind(this)),this._bridge.height.subscribe(this.resize.bind(this)),this.resize(),this._initialRequest(),this._chartEvents.changed.subscribe(null,function(t){
e._pendingRequestPromise||e._updateLayout(t)}),this._createHeaderButtons()}},{key:"_initialRequest",value:function(){var t,e=this,i=void 0;if(this.currencyFilterState.length){if(this._bridge.options.rewind&&null==this._bridge.options.maxHistoryInHours)return g.logError("cannot rewind events history: maxHistoryInHours is not set"),Promise.reject();this._historyEnd=!1,i=new Promise(function(t,i){!function o(n){var r=e._chartEvents.items();if(n)return void t({added:r});e._chartEvents.requestMore().done(o).fail(function(t){i(t)})}(null)})}else this._historyEnd=!0,i=Promise.resolve({noResults:!0});return e._pendingRequestPromise=i,i.catch(function(){return null}).then(function(t){e._pendingRequestPromise===i&&(e._pendingRequestPromise=void 0,t&&(e._updateLayout(t),e._scrollToUpcoming()||e._scroll&&e._scroll.scrollToEnd(),e._bridge.firstDataDeferred&&e._bridge.firstDataDeferred.resolve(t)))}),t=(0,l.unifiedSpinner)("mini",{zIndex:0}).spin(e._$container.get(0)),i.catch(function(){}).then(function(){t.stop()}),i}},{key:"_onSettingsChanged",value:function(){this._updateFilter(!1),this._$data.empty(),this._dateBlocks.length=0,this._initialRequest(),this._scroll&&this._scroll.resize()}},{key:"_updateFilter",value:function(t){var e,i,o,n=this.currencyFilterState,r=this.importanceFilterState;t&&(e=!1,n.length||(n=_(window.locale),e=!0),r=-1!==this.importanceFilterState.indexOf(-1)?h.importanceSwitcherValues.false:h.importanceSwitcherValues.true,(e=e||JSON.stringify(this.importanceFilterState)!==JSON.stringify(r))&&this._bridge.properties.setValue({currencyFilter:n,importanceFilter:r})),i=r[0],o={minImportance:i,currencyFilter:this.currencyFilterState,to:Date.now()+12096e5},null!=this._bridge.options.maxHistoryInHours&&(o.historyLimit=o.from=Date.now()-36e5*this._bridge.options.maxHistoryInHours),this._chartEvents.reset(o),this._minImportance=i}},{key:"_getProperty",value:function(t){return(this._bridge.properties.value()||{})[t]}},{key:"_addUtmInfoToHeader",value:function(){if(this._bridge.options.isEmbedWidget&&this._bridge.options.utmInfo){$(".js-embed-widget-head a").prop("search",$.param(this._bridge.options.utmInfo))}}},{key:"_createHeaderButtons",value:function(){var t,e,i,o=this,r=function(t){return t===o._bridge.options.widgetType};r("widgetbar")&&(t=$(n.render(this._templates.closestEventButton,{})),t.appendTo(this._bridge.$headerspace).on("click",function(t){t.preventDefault(),o._scrollToUpcoming(),o._highlightUpcoming()}).find("svg").attr({width:18,height:18})),this._bridge.readonly||(r("widgetbar")?(i="fixed",e=this._templates.configButton_widgetbar):e=r("full_page")?this._templates.configButton_page:this._templates.configButton_widget,r("external_widget")||r("full_page")?(this._$configButton=this._$header.find(".js-embed-widget-calendar-config"),this._$configButton.removeClass("i-hidden")):(this._$configButton=$(n.render(e,{})),this._$configButton.appendTo(this._bridge.$headerspace)),this._$configButton.on("click",function(t){t.preventDefault(),o._popup?o._closeConfigPopup():o._createConfigPopup(i||"absolute")}))}},{
key:"_createConfigPopup",value:function(t){var e,o,n,r=this;this._popup||(e=this.getAnchorPoint(t),o=this,n={left:e.left,top:e.top,onCurrencyFilterChange:o.saveFilter.bind(o,"currencyFilter"),onImportanceFilterChange:o.saveFilter.bind(o,"importanceFilter"),chartEventsInstance:o._chartEvents,positioning:t,state:{currencyFilter:o.currencyFilterState,importanceFilter:o.importanceFilterState},defaultCurrencyFilterState:o._bridge.options.defaultCurrencyFilterState||_(window.locale)},i.e(41).then(function(){if(!r._popup){var t=i(2256).CalendarConfig;r._popup=new t(n),r._$configButton.addClass("active"),$(r._popup.el).on("mousedownoutside",function(t){$(t.target).parents().andSelf().is(this._$configButton)||this._closeConfigPopup()}.bind(r))}}.bind(null,i)).catch(i.oe))}},{key:"_closeConfigPopup",value:function(){this._popup&&(this._popup.destroy(),this._popup=null,this._$configButton.removeClass("active"))}},{key:"saveFilter",value:function(t,e){var i,o=this;if(!Array.isArray(e))return void g.logError("Wow! {0} state you've tried to set isn't an array for some reason".format(t));i=Object.assign({},this._bridge.properties.value()),0===e.length?delete i[t]:i[t]=e,this._bridge.properties.setValue(i),setTimeout(function(){return o._onSettingsChanged()},0)}},{key:"getAnchorPoint",value:function(t){var e=0,i=0,o=this._$configButton.offset();return o.width=this._$configButton.outerWidth(),o.height=this._$configButton.outerHeight(),this._$configButton.parents().each(function(){var t=$(this);o.left-=t.scrollLeft()||0,o.top-=t.scrollTop()||0}),i=o.top+o.height+1,e=o.left+o.width,"fixed"!==t&&(i+=$(document).scrollTop()),{left:e,top:i}}},{key:"initScroll",value:function(){if(!this._scroll){var t=this;this._$data.addClass("tv-reuters-calendar__dcnt--scroll-inited"),this._scroll=new c.SidebarCustomScroll(this._$widget,this._$data,{vAlignBottom:!0,showBottomShadow:!1,bubbleScrollEvent:function(){return!!t._scroll&&(!!t._scroll.atEnd()||t._historyEnd&&t._scroll.atStart())}}),this._initInfiniteScroll()}}},{key:"destroyScroll",value:function(){this._$data.removeClass("tv-reuters-calendar__dcnt--scroll-inited"),this._scroll&&(this._scroll.destroy(),delete this._scroll,this.resize())}},{key:"updateScroll",value:function(){this._scroll&&(this._scroll.updateScrollBar(),this._scroll.atEnd()&&this._scroll.scrollToEnd(),this._scroll.updateScrollBar())}},{key:"_scrollToUpcoming",value:function(){var t,e;return!!this._scroll&&(t=this._$data.find(".tv-reuters-calendar__item--upcoming").eq(0),!!t.length&&(e=t.closest(".tv-reuters-calendar__day-content").position().top+t.position().top,this._scroll.scrollTo(e,{position:"top"}),this._scroll.atStart()&&this._scroll.scrollToEnd(),!0))}},{key:"scrollToLastVisibleItem",value:function(){var t,e,i;this._scroll&&(t=this,e=t._$widget.outerHeight(),t._$data.children().each(function(){i||$(this).position().top+$(this).height()>e&&(i=$(this).position().top)}),t._scroll.animateTo(i-15))}},{key:"_initInfiniteScroll",value:function(){this._scroll.scrolltostart.subscribe(this,this._onScrollToStart),
this._onScrollToStart()}},{key:"_onScrollToStart",value:function(){var t=this;this._scroll&&this.currencyFilterState.length&&(t._historyLoading||t._historyEnd||t._bridge.visible.value()&&this._scroll.atStart()&&(t._historyLoading=!0,t._$data.addClass("tv-reuters-calendar__scnt--loading"),t._chartEvents.requestMore().always(function(e){t._historyLoading=!1,t._$data.removeClass("tv-reuters-calendar__scnt--loading")})))}},{key:"getScrollElements",value:function(){return{$scrollWrapper:this._$widget,$scrollInner:this._$data}}},{key:"_updateHighlight",value:function(){var t,e,i,o,n,r,s,a,l,c;this._updateHighlightTimeoutId&&(clearTimeout(this._updateHighlightTimeoutId),delete this._updateHighlightTimeoutId),t=this._dateBlocks,e=+new Date,this._$data.find(".tv-reuters-calendar__item--future").removeClass("tv-reuters-calendar__item--future"),this._$data.find(".tv-reuters-calendar__item--upcoming").removeClass("tv-reuters-calendar__item--upcoming"),o=null;t:for(n=t.length;n--;)for(r=t[n].items,s=r.length;s--;){if(a=r[s],l=a.$element,!(a.timestamp>e))break t;i=s,o=t[n],l.addClass("tv-reuters-calendar__item--future")}if(o){for(c=o.items[i].timestamp,n=i;n<o.items.length&&(a=o.items[n],a.timestamp===c);n++)a.$element.addClass("tv-reuters-calendar__item--upcoming");this._updateHighlightTimeoutId=setTimeout(this._updateHighlight.bind(this),c-e)}}},{key:"_highlightUpcoming",value:function(){this._$data.find(".tv-reuters-calendar__item--upcoming").highlight(4)}},{key:"_markToday",value:function(){var t,e,i,o=new Date,n=this._localDateHash(o),r=new Date;for(r.setHours(0,0,0,0),r.setDate(r.getDate()+1),this._markTodayTimeoutId&&clearTimeout(this._markTodayTimeoutId),this._markTodayTimeoutId=setTimeout(this._markToday.bind(this),r-o),t=null,e=this._dateBlocks.length;e-- >0;)if(this._dateBlocks[e].localDateHash===n){t=this._dateBlocks[e].$element;break}i=this._$data.find(".tv-reuters-calendar__date-block--today"),1===i.size()&&i.is(t)||(i.removeClass("tv-reuters-calendar__date-block--today"),t&&t.addClass("tv-reuters-calendar__date-block--today"))}},{key:"resize",value:function(){var t,e,i,o,n=this._bridge.options.layout;t="wide"===n||"narrow"!==n&&this._bridge.width.value()>500,e=this._$container.hasClass("tv-reuters-calendar--wide-layout"),t!==e&&(i=this._topmostVisibleItem(),this._$container.toggleClass("tv-reuters-calendar--wide-layout",t),this._scroll&&i&&(this._scroll.resize(),this._scroll.scrollTo(i.$element.position().top+i.offsetDelta,{position:"top"}))),this._scroll?(o=Math.max(0,this._bridge.height.value()-this._$header.outerHeight()),this._$widget.height(o),this._scroll.resize()):this._$widget.attr("style","")}},{key:"setLayout",value:function(t){this._bridge.options.layout!==t&&(this._bridge.options.layout=t,this.resize())}},{key:"_addNoContentStub",value:function(){this._$noContentStub||(this._$noContentStub=$(this._templates.noContent));var t=$.t("There are no events in the next 7 days");this.currencyFilterState.length||(t=$.t("No country has been selected. Please select at least 1 country to view the events")),
this._$noContentStub.text(t).insertBefore(this._$data),this._scroll&&this._scroll.updateScroll()}},{key:"_updateLayout",value:function(t){var e,i;t.noResults&&(this._historyEnd=!0),this._chartEvents.items().length?$(this._$noContentStub).detach():this._addNoContentStub(),e=t.added||[],i=t.changed||[],(e.length||i.length)&&(this._scroll&&this._scroll.save(),this._$data.css("display","none"),this._createItems(e),this._changeItems(i),this._updateHighlight(),this._markToday(),this._$data.css("display","block"),this._scroll&&(this._scroll.restore(),this._scroll.atEnd()&&this._scroll.scrollToEnd()),this.onLayoutUpdated.fire()),this._scroll&&this._onScrollToStart(!0)}},{key:"_topmostVisibleItem",value:function(){var t,e,i,o,n,r,s,a,l;if(!this._scroll)return null;if(t=-this._scroll.currentPosition(),e=this._dateBlocks,!e.length)return null;if(i=null,1===e.length)i=e[0];else if(t>=e[e.length-1].$element.position().top)i=e[e.length-1];else if(t<=0)i=e[0];else{for(o=0,n=e.length-1;n-o>1;)r=o+n>>1,t>=e[r].$element.position().top?o=r:n=r;i=e[o]}if(s=i.items,o=0,a=s[o].$element.position().top,t>a)for(n=s.length-1;n-o>1;)r=o+n>>1,l=s[r].$element.position().top,t>=l?(a=l,o=r):n=r;return{$element:s[o].$element,offsetDelta:t-a}}},{key:"_createDateBlock",value:function(t,e,i){var o,r,s=this,a=$(n.render(this._templates.dateBlock,{dateBlocks:[{localDateHash:t,collapsed:this._collapsedDateBlocksDict[t],localDateStr:e}]},this._templates)),l={localDateHash:t,items:[],$element:a,$contents:a.find(".js-expand__body.js-calendar-day")};return a.tvExpand().tvExpand("setOpened",!this._collapsedDateBlocksDict[t]).on("beforeOpen",function(){s._collapsedDateBlocksDict[t]=!0}).on("afterOpen",function(){s.updateScroll()}).on("afterClose",function(){delete s._collapsedDateBlocksDict[t],s.updateScroll()}),o=this._dateBlocks,r=o[i],r?(o.splice(i,0,l),a.insertBefore(r.$element)):(o.push(l),a.appendTo(this._$data)),l}},{key:"_localDateHash",value:function(t){return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}},{key:"_createItems",value:function(t){var e,i,o,r,s,a,l,c,h,d,u,p,f=this;if(t.length){if(e={},i={},o=this._dateBlocks.map(function(t){return t.localDateHash}),s=this._dateBlocks[0]?this._dateBlocks[0].items[0]:void 0,a=this._dateBlocks[this._dateBlocks.length-1],l=a?a.items[a.items.length-1]:void 0,!s||t[0].timestamp>=l.timestamp)r="future";else{if(!(t[t.length-1].timestamp<=s.timestamp))return void g.logError("Don't know where to put events");r="past"}for(c=t.length-1;c>=0;c--)h=t[c],h.title=window.t(h.title),this._addDataToItem(h),-1!==o.indexOf(h.localDateHash)?(d=e[h.localDateHash],d?d.items.push(h):e[h.localDateHash]={items:[h]}):i[h.localDateHash]?i[h.localDateHash].items.push(h):i[h.localDateHash]={localDateHash:h.localDateHash,localDateStr:h.localDateStr,items:[h]};Object.keys(e).forEach(function(t){var i=o.indexOf(t),s=$(n.render(f._templates.items,{items:e[t].items},f._templates));"past"===r?s.prependTo(f._dateBlocks[i].$contents):s.appendTo(f._dateBlocks[i].$contents),
e[t].items=e[t].items.map(function(t){return f._prependItemToStorage(t,f._dateBlocks[i].$contents)}),f._dateBlocks[i].items="past"===r?e[t].items.concat(f._dateBlocks[i].items):f._dateBlocks[i].items.concat(e[t].items)}),u=[],Object.keys(i).sort().forEach(function(t){u.push(i[t])}),p=$(n.render(this._templates.dateBlock,{dateBlocks:u},this._templates)),"past"===r?p.prependTo(this._$data):p.appendTo(this._$data),u.forEach(function(t){t.$element=f._$data.find('[data-hash="'+t.localDateHash+'"]'),t.$contents=t.$element.find(".js-expand__body.js-calendar-day"),t.$element.tvExpand().tvExpand("setOpened",!f._collapsedDateBlocksDict[t.localDateHash]).on("beforeOpen",function(){f._collapsedDateBlocksDict[t.localDateHash]=!0}).on("afterOpen",function(){f.updateScroll()}).on("afterClose",function(){delete f._collapsedDateBlocksDict[t.localDateHash],f.updateScroll()}),t.items=t.items.map(function(e){return f._prependItemToStorage(e,t.$contents)})}),this._dateBlocks="past"===r?u.concat(this._dateBlocks):this._dateBlocks.concat(u)}}},{key:"_prependItemToStorage",value:function(t,e){var i=this;return t.$element=e.find('[data-item-id="'+t.id+'"]'),t.comment&&t.$element.tvExpand().on("beforeOpen",function(){t.$element.addClass("tv-reuters-calendar__item--expanded"),setTimeout(function(){i._scroll&&i._scroll.animateTo(t.$element.position().top+t.$element.parent().position().top-4)},20)}).on("afterOpen",function(){return i.updateScroll()}).on("afterClose",function(){t.$element.removeClass("tv-reuters-calendar__item--expanded"),i.updateScroll()}),{timestamp:t.timestamp,id:t.id,$element:t.$element}}},{key:"_addDataToItem",value:function(t){var e,i,o,n,r,s;t.formattedActual=b(t.actual,t.scale,t.unit,t.currency),t.formattedForecast=b(t.forecast,t.scale,t.unit,t.currency),t.formattedPrevious=b(t.previous,t.scale,t.unit,t.currency),e=new Date(t.timestamp),i="",e.getTimezoneOffset&&(o=-e.getTimezoneOffset()/60,i="UTC",i+=o<0?o:"+"+o),t.localTimeStr=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2),t.localDateStr=$.t(this.months[e.getMonth()])+" "+e.getDate(),n=e.getFullYear(),r=t.localDateStr+", "+n,t.fullLocalDateTimeStr=r+" "+t.localTimeStr+" "+i,n!==this._refDate.getFullYear()&&(t.localDateStr=r),t.localDateHash=this._localDateHash(e),s="",t.importance>0?s="tv-reuters-calendar__importance-indicator--high":0===t.importance&&(s="tv-reuters-calendar__importance-indicator--normal"),t.importanceModifier=s,t.flagSrc=(0,p.flagUrl)(t.country&&t.country.toLowerCase())}},{key:"_changeItems",value:function(t){var e=this;t.forEach(function(t){e._addDataToItem(t);var i=e._$data.find('[data-item-id="'+t.id+'"]');i.toggleClass("tv-reuters-calendar__item--expandable",!!t.comment),i.html(n.render(e._templates.itemContent,t)),i.tvExpand("delegateEvents")})}},{key:"_createTemplates",value:function(){var t,e=$("<a>").html(y);return e.find("svg").attr("class","tv-reuters-calendar__drop-arrow"),t=e.html(),{
calendarContent:'<div class="tv-reuters-calendar__header js-calendar-header"><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--time js-calendar-header-time">'+$.t("Time")+'</span>{{#iconInTableHeader}}<span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--flag tv-reuters-calendar__config-button js-embed-widget-calendar-config i-hidden">'+v+'</span>{{/iconInTableHeader}}{{#getWidgetInTableHeader}}<span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--flag tv-reuters-calendar__get-widget-button js-get-widget-button"></span>{{/getWidgetInTableHeader}}<span class="tv-reuters-calendar__header-column-group tv-reuters-calendar__header-column-group"><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--actual">'+$.t("Actual")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--forecast">'+$.t("Forecast")+'</span><span class="tv-reuters-calendar__header-column tv-reuters-calendar__header-column--prior">'+$.t("Prior")+'</span></span></div><div class="tv-reuters-calendar__scnt js-calendar-widget"><div class="tv-reuters-calendar__dcnt js-calendar-data"></div></div>',closestEventButton:'<a class="button apply-common-tooltip" title="'+$.t("Closest Event")+'">'+m+"</a>",configButton_widgetbar:'<a class="button apply-common-tooltip" title="'+$.t("Settings")+'">'+v+"</a>",configButton_widget:'<div class="tv-site-widget__control-icon tv-site-widget__control-icon--calendar-config js-feed__item-minimizable-area apply-common-tooltip" title="'+$.t("Filter")+'">'+v+"</div>",configButton_page:'<div class="tv-site-widget__calendar-filter-icon apply-common-tooltip" title="'+$.t("Filter")+'">'+v+"</div>",dateBlock:'{{#dateBlocks}}<div data-hash="{{ localDateHash }}" class="tv-reuters-calendar__date-block{{#collapsed}} i-hidden{{/collapsed}}"><div data-type="day" class="tv-reuters-calendar__day js-expand__title">{{ localDateStr }}</div><div class="tv-reuters-calendar__day-content js-expand__body js-calendar-day">{{>items}}</div></div>{{/dateBlocks}}',items:'{{#items}}<div class="tv-reuters-calendar__item{{#comment}} tv-reuters-calendar__item--expandable{{/comment}}"{{#id}} data-item-id="{{ id }}{{/id}}">{{>itemContent}}</div>{{/items}}',
itemContent:'<div class="tv-reuters-calendar__heading-block {{#comment}}tv-reuters-calendar__heading-block--expandable js-expand__title{{/comment}}" data-type="event"><div class="tv-reuters-calendar__time-block"><span class="tv-reuters-calendar__time"><span class="tv-reuters-calendar__timebadge apply-common-tooltip" title="{{ fullLocalDateTimeStr }}">{{ localTimeStr }}</span></span><img class="tv-reuters-calendar__flag" src="{{flagSrc}}">'+(this._bridge.options.hideImportanceIndicator?"":'<span class="tv-reuters-calendar__importance-indicator {{&importanceModifier}}"></span>')+'</div><span class="tv-reuters-calendar__value-group {{^actual}}tv-reuters-calendar__value-group--no-actual{{/actual}}"><span class="tv-reuters-calendar__value tv-reuters-calendar__value--actual">{{ formattedActual }}</span><span class="tv-reuters-calendar__value">{{ formattedForecast }}</span><span class="tv-reuters-calendar__value">{{ formattedPrevious }}</span></span><div class="tv-reuters-calendar__heading"><span class="tv-reuters-calendar__heading-title apply-common-tooltip" title="{{ title }}">{{ indicator }}</span>{{#comment}}'+t+'{{/comment}}</div></div>{{#comment}}<div class="tv-reuters-calendar__comment js-expand__body js-calendar-comment i-hidden">{{ comment }}</div>{{/comment}}',noContent:'<div class="tv-widget-empty-message"></div>'}}},{key:"importanceFilterState",get:function(){return[].concat(this._getProperty("importanceFilter")||[])}},{key:"currencyFilterState",get:function(){return[].concat(this._getProperty("currencyFilter")||[])}},{key:"months",get:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}}]),t}(),e.default=w,t.exports=e.default}).call(e,i(4),i(21))},,,,,,,,,,function(t,e,i){"use strict";(function(e){var i={_sounds:{},alertSounds:function(){return $.grep(this.availableSounds(),function(t){return!!t.soundForAlerts})},defaults:function(){return{sound:"notification/notification",alert:"alert/fired"}},soundIsAvailable:function(t){return!!$.grep(this.availableSounds(),function(e){return e.path===t}).length},availableSounds:function(){return[{path:this.defaults().sound,title:$.t("Default"),common:!0},{title:$.t("Chat Message"),path:"chat/message",common:!0},{title:$.t("Chat Popup"),path:"chat/popup",common:!0},{title:$.t("Chat Call"),path:"chat/call"},{title:$.t("Chat Calling"),path:"chat/calling"},{title:$.t("Chat Hangup"),path:"chat/hangup"},{title:$.t("Thin"),path:"alert/fired",soundForAlerts:!0},{title:$.t("3 Notes Reverb"),path:"alert/3_notes_reverb",soundForAlerts:!0},{title:$.t("Alarm Clock"),path:"alert/alarm_clock",soundForAlerts:!0},{title:$.t("Beep-beep"),path:"alert/beep_beep",soundForAlerts:!0},{title:$.t("Calling"),path:"alert/calling",soundForAlerts:!0},{title:$.t("Chirpy"),path:"alert/chirpy",soundForAlerts:!0},{title:$.t("Fault"),path:"alert/fault",soundForAlerts:!0},{title:$.t("Hand Bell"),path:"alert/hand_bell",soundForAlerts:!0}]},_get:function(t){return t in this._sounds||(this._sounds[t]={
el:$(('<audio><source src="'+TradingView.wrapUrl("/static/sounds/%s.mp3")+'" type="audio/mp3"></audio>').replace(/%s/g,t)).get(0),playing:new e(!1),_onended:null,play:function(){try{var t=this.el.play();return t&&t.then?t:Promise.resolve()}catch(t){return Promise.reject(t)}}}),this._sounds[t]},load:function(){$.map(this.availableSounds(),function(t){return t.path}).forEach(function(t){this._get(t)},this)},play:function(t,e,i){var o,n;return e&&i&&(console.warn("Can't use 'loop' and 'duration' params at the same time, choosing 'loop'"),i=null),t=this._get(t||this.defaults().sound),i*=1e3,o=i>0,t._onended=function(){o?t.el.play():(t.playing.setValue(!1),t.el.removeEventListener("ended",t._onended),t._onended=null)},t.el.load(),t.playing.setValue(!0),e?t.el.loop=!0:t.el.addEventListener("ended",t._onended),n=t.play(),o&&setTimeout(function(){o=!1},i),n},stop:function(t){function e(t){t=i._get(t),t.el.pause(),t.playing.setValue(!1),t.el.removeEventListener("ended",t._onended),t._onended=null}var i=this;t?e(t):$.each(Object.keys(this._sounds),function(t,i){e(i)})},onStopped:function(t,e){"function"==typeof e&&this._get(t).playing.subscribe(function(t){t||e()},{once:!0})},isPlaying:function(t){return this._get(t).playing.value()},enableForMobile:function(t){function e(n){var r=[];t.forEach(function(t){var e,o=i._get(t);o.el.load(),e=o.play().catch(function(t){if("AbortError"!==t.name)throw t}),o.el.pause(),r.push(e)}),Promise.all(r).then(function(){o.forEach(function(t){document.removeEventListener(t,e,!0)})})}var o;/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(window.navigator.userAgent)&&(t&&!Array.isArray(t)&&(t=[t]),t=t.filter(function(t){var e=i._get(t);return!(!e||!e.el.load||e._mobilePreloadActive||(e._mobilePreloadActive=!0,0))}),0!==t.length&&(o=["click","touchend","keydown"],o.forEach(function(t){document.addEventListener(t,e,!0)})))},enableAlertSoundsForMobile:function(){this.enableForMobile(this.alertSounds().map(function(t){return t.path}))}};i.enableForMobile(i.availableSounds().filter(function(t){return!!t.common}).map(function(t){return t.path})),t.exports=i}).call(e,i(22))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return!/[^\u0000-\u00FF\u00A0\u2013-\u2122\u2200-\u23FF]/g.test(t)},t.exports=e.default},,,,,,,,function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,s,a,l,c,h,d,u,p;Object.defineProperty(e,"__esModule",{value:!0}),e.emoji=void 0,r=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1546),a=o(s),l={":agree:":i(1547),":disagree:":i(1548),":okay:":i(1549),":peace:":i(1550),":wait:":i(1551),":wave:":i(1552),":raised_hands:":i(1553),":pray:":i(1554),":\\)":i(1555),":D":i(1556),":joy:":i(1557),";\\)":i(1558),
":love:":i(1559),":P":i(1560),":flushed:":i(1561),":\\|":i(1562),":thinking_face:":i(1563),":\\(":i(1564),":weary:":i(1565),":'\\(":i(1566),":cry:":i(1567),":panic:":i(1568),":rage:":i(1569),":triumph:":i(1570),":mask:":i(1571),":shades:":i(1572),":sleepy:":i(1573),o_O:i(1574),":halo:":i(1575),":sarcasm:":i(1576),"\\]:-\\)":i(1577),":money_mouth:":i(1578),":zzz:":i(1579),":buy:":i(1580),":sell:":i(1581),":profit:":i(1582),":loss:":i(1583),":uptrend:":i(1584),":downtrend:":i(1585),":bear:":i(1586),":bull:":i(1587),":dollar:":i(1588),":euro:":i(1589),":pound:":i(1590),":yen:":i(1591),":bitcoin:":i(1592),":ethereum:":i(1593),":moneybag:":i(1594),":cookie:":i(1595),":coffee:":i(1596),":popcorn:":i(1597),":cocktail:":i(1598),":hot:":i(1599),":poop:":i(1600),":heart:":i(1601),":heartbroken:":i(1602),":sun:":i(1603),":moon:":i(1604),":sunflower:":i(1605),":star:":i(1606),":sunny:":i(1607),":partly_sunny:":i(1608),":cloud:":i(1609),":zap:":i(1610),":hammer:":i(1611),":idea:":i(1612),":slot_machine:":i(1613),":bullseye:":i(1614),":rocket:":i(1615),":inverted_rocket:":i(1616),":checkered_flag:":i(1617),":alarm_clock:":i(1618),":rip:":i(1619),":ghost:":i(1620),":up:":i(1621),":cool:":i(1622),":free:":i(1623),":sos:":i(1624),":100:":i(1625),":stop:":i(1626),":credit_card:":i(1627),":new:":i(1628),":ok:":i(1629),":tip:":i(1630)},c=[":credit_card:",":new:",":ok:",":tip:"],h=/\\/g,function(){var t,e;for(t in l)e=!~c.indexOf(t),l[t]={re:RegExp(t,"g"),svgCode:l[t],code:t.replace(h,""),showInPopUp:e};l[":'\\("].re=RegExp(":(?:'|&#039;)\\(","g")}(),d="tv-emoji-wrapper",u=null,p=function(){function t(){if(n(this,t),null!==u)return u;u=this}return r(t,[{key:"parseNativeEmoji",value:function(t){return a.default.parse(t,{folder:"svg",ext:".svg"})}},{key:"each",value:function(t){for(var e in l)t(l[e])}},{key:"get",value:function(t){return l[t]}},{key:"heart",value:function(){return l[":heart:"]}},{key:"getElement",value:function(t){return $(t.svgCode)}},{key:"getElementHTML",value:function(t){return'<div class="'+d+'" title="'+t.code+'">'+t.svgCode+"</div>"}}]),t}(),e.emoji=new p},,,,,,function(t,e){},function(t,e,i){"use strict";(function(t){function o(e,i,o){var s="",a="";return e.top_user_info&&(s+=e.top_user_info.badge?e.top_user_info.badge.title:"",a=e.top_user_info.badge?" tv-user-badge--top_"+e.top_user_info.period:""),e.is_pro&&(s+=s.length>0?" | ":"",r.isTrialProduct(e.pro_plan)?s+=$.t("{0} Trial").format(r.humanizeProPlan(r.getProductForTrial(e.pro_plan))):"pro_premium"===e.pro_plan?s+=$.t("Premium"):"pro_realtime"===e.pro_plan?s+=$.t("Pro Plus"):s+=$.t("Pro")),e.is_moderator&&(s+=(s.length>0?" | ":"")+$.t("Moderator")),t.render(e.userBadgeTmpl||n.userBadge,{badge_class:a,badge_tag:o,badge_title:s,is_ad:e.is_ad,is_moderator:e.is_moderator,is_pro:e.is_pro,is_promo:e.is_promo,is_pro_plan:"pro"===e.pro_plan,is_realtime:"pro_realtime"===e.pro_plan,is_premium:"pro_premium"===e.pro_plan||"limitless"===e.pro_plan,is_trial:r.isTrialProduct(e.pro_plan),is_top:!!e.top_user_info,large_badge:!!i,utm:e.utm},n)}var n,r
;Object.defineProperty(e,"__esModule",{value:!0}),i(21),i(5),i(28),n=i(1111),e.templates=n,r=i(205),e.userBadge=o}).call(e,i(21))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(5),e.userBadge="{{#is_promo}}{{> promoBadge}}{{/is_promo}}{{^is_promo}}{{#is_ad}}{{> adBadge}}{{/is_ad}}{{^is_ad}}{{#is_top}}{{> topBadge}}{{/is_top}}{{^is_top}}{{#is_moderator}}{{> modBadge}}{{/is_moderator}}{{^is_moderator}}{{#is_pro}}{{> proBadge}}{{/is_pro}}{{/is_moderator}}{{/is_top}}{{/is_ad}}{{/is_promo}}",e.userBadgeChat="{{#is_top}}{{#is_moderator}}{{> modBadge}}{{/is_moderator}}{{^is_moderator}}{{> topBadge}}{{/is_moderator}}{{/is_top}}{{^is_top}}{{#is_moderator}}{{> modBadge}}{{/is_moderator}}{{^is_moderator}}{{#is_pro}}{{> proBadge}}{{/is_pro}}{{/is_moderator}}{{/is_top}}",e.proBadge='<{{badge_tag}}{{^badge_tag}}a href="/gopro/{{ utm }}" target="_blank"{{/badge_tag}} class="apply-common-tooltip tv-user-badge{{#is_pro_plan}} tv-user-badge--pro{{/is_pro_plan}}{{#is_realtime}} tv-user-badge--pro_realtime{{/is_realtime}}{{#is_premium}} tv-user-badge--pro_premium{{/is_premium}}{{#is_trial}} tv-user-badge--trial{{/is_trial}}{{#large_badge}} tv-user-badge--size_large{{/large_badge}}" title="{{badge_title}}">pro</{{badge_tag}}{{^badge_tag}}a{{/badge_tag}}>',e.modBadge='<{{badge_tag}}{{^badge_tag}}a href="/house-rules/{{ utm }}" target="_blank"{{/badge_tag}} class="tv-user-badge apply-common-tooltip tv-user-badge--mod{{#large_badge}} tv-user-badge--size_large{{/large_badge}}" title="{{badge_title}}">mod</{{badge_tag}}{{^badge_tag}}a{{/badge_tag}}>',e.topBadge='<{{badge_tag}}{{^badge_tag}}a href="/people/{{ utm }}" target="_blank"{{/badge_tag}} class="tv-user-badge apply-common-tooltip tv-user-badge--top{{badge_class}}{{#large_badge}} tv-user-badge--size_large{{/large_badge}} "title="{{badge_title}}">top</{{badge_tag}}{{^badge_tag}}a{{/badge_tag}}>',e.promoBadge='<{{badge_tag}}{{^badge_tag}}a href="/advertising-info/{{ utm }}" target="_blank"{{/badge_tag}} class="tv-user-badge apply-common-tooltip tv-user-badge--promo{{badge_class}}{{#large_badge}} tv-user-badge--size_large{{/large_badge}} "title="{{badge_title}}">promo</{{badge_tag}}{{^badge_tag}}a{{/badge_tag}}>',e.adBadge='<{{badge_tag}}{{^badge_tag}}a href="/advertising-info/{{ utm }}" target="_blank"{{/badge_tag}} class="tv-user-badge apply-common-tooltip tv-user-badge--ad{{badge_class}}{{#large_badge}} tv-user-badge--size_large{{/large_badge}} "title="{{badge_title}}">ad</{{badge_tag}}{{^badge_tag}}a{{/badge_tag}}>'},function(t,e,i){"use strict";(function(t){function o(e,i,o,s,a,l){var c=new r.ReportSendingAgent({username:e,entityType:i,entityURL:o,entityText:s,entityID:a},l);return new n.TVModal({title:c.getTitle(),width:600,destroyOnClose:!0,content:t.render('<div class="tv-text"><p>{{{ warningText }}}</p><textarea readonly rows="7" class="tv-control-textarea">{{ text }}</textarea></div>',{
warningText:$.t("You can send report to moderators. The __entity__ from __user__ will be checked. If the __entity__ contains anything that violates our __rulesLink__, the __entity__ will be __action__ and its author will be penalized. Please note that if you send false report to moderators, we may apply similar measures to you. Thank you for your help!",{user:"<strong>"+e+"</strong>",rulesLink:'<a href="/house-rules/" target="_blank">'+$.t("House Rules")+"</a>",entity:c.getEntity(),action:c.getAction()}),text:c.getText()}),actions:[{name:"report",type:"danger",text:$.t("Report"),key:13},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close"}]}).on("action:report",function(t){c.send(),t.close()}).open()}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.showReportModal=o,n=i(38),r=i(1324)}).call(e,i(21))},,,,function(t,e,i){"use strict";(function(t,o){function n(t,e,i,o){this._message=t,this._data=e,this._options=i,this._banType=i&&i.banType,this._callback=o,this._dialogTitle=$.t("Ban __username__",{username:this._data.username}),this._violations=n.getViolations().map(function(t){return{id:t.id,name:t.name}}),this._banDurations=[{value:0,text:$.t("Warning")},{value:5,text:$.t("{0} minutes").format(5)},{value:10,text:$.t("{0} minutes").format(10)},{value:30,text:$.t("{0} minutes").format(30)},{value:60,text:$.t("{0} hour").format(1)},{value:180,text:$.t("{0} hours").format(3)},{value:720,text:$.t("{0} hours").format(12)},{value:1440,text:$.t("{0} day").format(1)},{value:4320,text:$.t("{0} days").format(3)},{value:10080,text:$.t("1 week")},{value:43200,text:$.t("1 month")},{value:-1,text:$.t("Permanently")}],this._banTypes={ideas:$.t("Ideas publishing"),chat:$.t("Public chats"),comments:$.t("Social activities"),status:$.t("Status updates"),pm:$.t("Private messages")}}function r(t,e,i){this._id=t,this._username=e,this._callback=i}var s,a;i(1117),i(206),s=i(56),a=i(67),n.getViolations=function(){if(!n._violations){var t=window.location.protocol+"//"+window.location.host+"/house-rules/";n._violations=[{name:$.t("Multiple accounts"),text:$.t("Use only one account - registering with multiple accounts is not allowed."),id:"multi_acc"},{name:$.t("Suspicious links"),text:$.t("No posting links or reference to content / sites that contain viruses or malware."),id:"links"},{name:$.t("Hate speech"),text:$.t("No defamatory, threatening or discriminatory remarks, hate speech or personal attacks."),id:"hate_speech"},{name:$.t("English only"),text:$.t("English only for main public chatrooms and public ideas - so that everyone can understand. Any language can be spoken in the custom chat rooms. Later we may introduce main public chatrooms for other languages."),id:"language"},{name:$.t("Personal information"),text:$.t("Do not post offline personal contact information."),id:"personal_info"},{name:$.t("Illicit content"),text:$.t("No links / posts with illegal content, pornography, or nudity."),id:"illicit_content"},{name:$.t("Rights infringement"),
text:$.t("Do not publish content that is not your original work, or infringes the copyright of any third party."),id:"copyright"},{name:$.t("Unsolicited advertising"),text:$.t("No advertising, direct marketing, or solicitation! To engage our audience, drop us a line at __email__",{email:"founders@tradingview.com"}),id:"ads"},{name:$.t("Violation of chat & comment etiquette"),text:$.t("Violation of chat etiquette. For more information on this etiquette please go to __link__",{link:t}),id:"recidive"}]}return n._violations},n.prototype.getDurationText=function(t){var e=$.grep(this._banDurations,function(e){return e.value===t});return e.length?e[0].text:$.t("Error")},n.prototype.getBanType=function(t){var e=t.map(function(t){return"comments"===t?$.t("commenting"):"ideas"===t?$.t("ideas and updates publishing"):this._banTypes[t].toLowerCase()}.bind(this));switch(e.length){case 1:return e[0];case 2:return $.t("__firstEnumerationItem__ and __secondEnumerationItem__",{firstEnumerationItem:e[0],secondEnumerationItem:e[1]});case 3:return $.t("__firstEnumerationItem__, __secondEnumerationItem__ and __thirdEnumerationItem__",{firstEnumerationItem:e[0],secondEnumerationItem:e[1],thirdEnumerationItem:e[2]});case 4:return $.t("__firstEnumerationItem__, __secondEnumerationItem__, __thirdEnumerationItem__ and __fourthEnumerationItem__",{firstEnumerationItem:e[0],secondEnumerationItem:e[1],thirdEnumerationItem:e[2],fourthEnumerationItem:e[3]});case 5:return $.t("__firstEnumerationItem__, __secondEnumerationItem__, __thirdEnumerationItem__, __fourthEnumerationItem__ and __fifthEnumerationItem__",{firstEnumerationItem:e[0],secondEnumerationItem:e[1],thirdEnumerationItem:e[2],fourthEnumerationItem:e[3],fifthEnumerationItem:e[4]})}},n.prototype.getCheckboxesValue=function(){return this._getBanTypeCheckboxes().toArray().filter(function(t){return $(t).prop("checked")}).map(function(t){return $(t).val()})},n.prototype.sendMessage=function(t,e,i,o,n){var r,s=void 0,a=$.t("More info - __link__",{link:"https://"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/house-rules/"});s=0===e?$.t("You have received a warning for violating our House Rules. You are not banned, you may be if you violate the rules again."):e>0?$.t("You are banned from __banType__ for __duration__ for violating our House Rules.",{duration:this.getDurationText(e),banType:this.getBanType(n)}):$.t("You are permanently banned from __banType__ for violating our House Rules.",{banType:this.getBanType(n)}),r=s+" "+a+"\n"+$.t("Violated house rule: __violation__.",{violation:o.toLowerCase()})+"\n"+(i?$.t("Content that caused the ban:")+"\n"+i+"\n\n":"\n")+$.t("If you have questions or suggestions, reply to this message."),TradingView.messagesWidget.sendMessageToUser(r,this._data.user_id)},n.prototype.show=function(){var e=this;this.dialog=(0,s.createDialog)({type:this._options.modal?"modal":"popup",width:600,title:this._dialogTitle,
content:t.render('\n\t\t\t<div class="tv-text">\n\t\t\t\t<p class="i-not-last">'+$.t("Read this every time before banning someone! Our goal is to keep a healthy, constructive and useful dialog open in the chatrooms. Sending a private message with a&nbsp;warning is enough to solve 99% of the issues. If that doesnt help, <strong>start with a&nbsp;<nobr>five-minute</nobr> ban</strong>.")+'</p>\n\t\t\t</div>\n\n\t\t\t<fieldset class="tv-control-fieldset tv-control-fieldset--block">\n\t\t\t\t<label class="tv-control-fieldset__label" for="violation-type-{{ seed }}">'+$.t("Violated house rule:")+'</label>\n\t\t\t\t<span class="tv-control-fieldset__value">\n\t\t\t\t\t<select class="tv-control-select" id="violation-type-{{ seed }}" name="violation-type">\n\t\t\t\t\t\t{{# violations }}\n\t\t\t\t\t\t\t<option value="{{ id }}">{{ name }}</option>\n\t\t\t\t\t\t{{/ violations }}\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t</fieldset>\n\n\t\t\t<fieldset class="tv-control-fieldset tv-control-fieldset--block">\n\t\t\t\t<label class="tv-control-fieldset__label" for="ban-duration-{{ seed }}">'+$.t("Ban duration:")+'</label>\n\t\t\t\t<span class="tv-control-fieldset__value">\n\t\t\t\t\t<select class="tv-control-select" id="ban-duration-{{ seed }}" name="ban-duration">\n\t\t\t\t\t\t{{# banDurations }}\n\t\t\t\t\t\t\t<option value="{{ value }}">{{ text }}</option>\n\t\t\t\t\t\t{{/ banDurations }}\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t</fieldset>\n\n\t\t\t<div style="margin-top: -20px; padding-top: 20px;" class="js-checkboxes-wrap i-hidden tv-grid tv-grid--padding_0">\n\t\t\t\t{{# banTypes }}\n\t\t\t\t\t<div style="padding: 0 0 20px" class="tv-grid__col tv-grid__col_sm--6 tv-grid__col_xs--12">\n\t\t\t\t\t\t<label style="cursor: pointer" for="{{ type }}">\n\t\t\t\t\t\t\t<span class="tv-control-checkbox">\n\t\t\t\t\t\t\t\t<input class="tv-control-checkbox__input" type="checkbox" id="{{ type }}" value="{{ type }}" {{# checked }}checked{{/ checked }}>\n\t\t\t\t\t\t\t\t<span class="tv-control-checkbox__box">'+i(72)+'</span>\n\t\t\t\t\t\t\t\t<span class="tv-control-checkbox__ripple js-ripple"></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class="tv-control-checkbox__label">{{ label }}</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t{{/ banTypes }}\n\t\t\t\t<div style="padding: 0 0 20px" class="tv-grid__col tv-grid__col_sm--6 tv-grid__col_xs--12">\n\t\t\t\t\t<label style="cursor: pointer">\n\t\t\t\t\t\t<span class="tv-control-checkbox">\n\t\t\t\t\t\t\t<input class="tv-control-checkbox__input" id="all-ban-types" type="checkbox" value="all-ban-types" {{# checked }}checked{{/ checked }}>\n\t\t\t\t\t\t\t<span class="tv-control-checkbox__box">'+i(72)+'</span>\n\t\t\t\t\t\t\t<span class="tv-control-checkbox__ripple js-ripple"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span for="all-ban-types" class="tv-control-checkbox__label">'+$.t("Select all")+'</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<fieldset class="tv-control-fieldset tv-control-fieldset--block">\n\t\t\t\t<label class="tv-control-fieldset__label" for="description-{{ seed }}">'+$.t("Quote the message which caused the ban along with additional comments if any (a private message with this information will be sent to the user from your account):")+'</label>\n\t\t\t\t<span class="tv-control-fieldset__value">\n\t\t\t\t\t<textarea class="tv-control-textarea" id="description-{{ seed }}" rows="5" name="description">'+this._message+"</textarea>\n\t\t\t\t</span>\n\t\t\t</fieldset>\n\t\t",{
seed:Date.now().toString(36),violations:this._violations,banDurations:this._banDurations,banTypes:o.map(this._banTypes,function(t,i){return{type:i,label:t,checked:i===e._banType}})}),destroyOnClose:!0,actions:[{name:"ok",type:"success",text:$.t("Ok"),key:"13+17"},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close"}]}).on("beforeOpen",function(t){e._$dialogContent=t.$content,e._$violationTypeInput=t.$content.find("select[name=violation-type]"),e._$banDurationInput=t.$content.find("select[name=ban-duration]"),e._$descriptionInput=t.$content.find("textarea[name=description]"),e._$banTypesCheckboxes=t.$content.find(".js-checkboxes-wrap"),e._$violationTypeInput.tvControlSelect(),e._$banDurationInput.tvControlSelect().on("change",function(){return e._$banTypesCheckboxes.toggleClass("i-hidden","0"===e._$banDurationInput.val())}),e._bindAllBanTypeCheckbox()}).actionLoader("ok").on("action:ok",function(t){var i,o,n=e._data.username,r=parseInt(e._$banDurationInput.val()),s=e._$descriptionInput.val().trim(),l=e._$violationTypeInput.val(),c=e.getCheckboxesValue(),h=!1;c.length||0===r||(e._$dialogContent.find(".js-checkboxes-wrap").animate({"background-color":"#f7e4e6"},"fast").animate({"background-color":"#fff"}),h=!0),h||(t.actionLoader("ok","start"),i=e._violations.filter(function(t){return t.id===l})[0].name||l,o={user_id:e._data.user_id,duration:r,"ban[]":c,violation:l,cause:s},$.post("/ban-user/",o,function(o){var l,h,d,u,p;if(t.actionLoader("ok","stop"),o.error)return void(0,a.createNoticeDialog)({title:$.t("Error"),content:o.error}).open();e.sendMessage(n,r,s,i,c),t.close(),0!==r&&(l=r>=0?$.t("User __username__ was banned for __duration__.",{username:n,duration:e.getDurationText(r)}):$.t("User __username__ was banned permanently.",{username:n}),h=l+" "+$.t("Violation that caused the ban: __violation__.",{violation:i}),(0,a.createNoticeDialog)({content:h}).open(),e._callback&&e._callback(r,e.getDurationText(r))),d=$(".js-profile-ban"),d.addClass("i-checked").html(o.ban_title),u=function(){d.hasClass("i-checked")&&d.css("min-width",d.outerWidth()+"px").text($.t("Unban"))},p=function(){d.hasClass("i-checked")&&d.html(o.ban_title)},!0!==d.attr("data-handlerAdded")&&(d.hover(u,p),d.attr("data-handlerAdded",!0))}))}).on("destroy",function(){return delete e.dialog}).open()},n.prototype._getBanTypeCheckboxes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.checkboxOneAllTypes,i=void 0!==e&&e,o=t.checkboxesAll,n=void 0!==o&&o;return i?this._$banTypesCheckboxes.find("#all-ban-types:checkbox"):n?this._$banTypesCheckboxes.find(":checkbox"):this._$banTypesCheckboxes.find(":checkbox").not("#all-ban-types")},n.prototype._bindAllBanTypeCheckbox=function(){var t=this._getBanTypeCheckboxes({checkboxOneAllTypes:!0}),e=this._getBanTypeCheckboxes();t.tvSelectAllCheckbox(e)},r.prototype.show=function(){var t=this;$.get("/ban-status/",{user_id:this._id},function(e){if(e.error)return void(0,a.createNoticeDialog)({title:$.t("Error"),content:e.error}).open();(0,s.createDialog)({width:500,type:"modal",
title:$.t("Unban __username__",{username:t._username}),content:'\n\t\t\t\t\t<div class="tv-text">\n\t\t\t\t\t\t<p class="i-not-last">'+(e.duration<0?$.t("__username__ is <strong>permanently</strong> banned. Do you want to unban __username__?",{username:t._username}):$.t("__username__'s ban expires in <strong>__duration__</strong>. Do you want to unban __username__?",{username:t._username,duration:e.expires_in.trim()}))+'</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<fieldset class="tv-control-fieldset tv-control-fieldset--block">\n\t\t\t\t\t\t<label class="tv-control-fieldset__label">'+$.t("Specify why the ban was lifted")+'</label>\n\t\t\t\t\t\t<span class="tv-control-fieldset__value">\n\t\t\t\t\t\t\t<textarea class="tv-control-textarea" id="unban-reason" name="unban-reason" rows="3"></textarea>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</fieldset>\n\t\t\t\t',destroyOnClose:!0,actions:[{name:"ok",type:"success",text:$.t("Ok"),key:"13+17"},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close"}]}).actionLoader("ok").on("action:ok",function(e){e.actionLoader("ok","start"),$.post("/ban-user/",{user_id:t._id,action:"unban",reason:e.$content.find("#unban-reason").val().trim()},function(i){var o=e.$content.find("#unban-reason").val().trim(),n=$.t("Ban has been removed. __reason__",{reason:o});if(TradingView.messagesWidget.sendMessageToUser(n,t._id),e.actionLoader("ok","stop"),i.error)return void(0,a.createNoticeDialog)({title:$.t("Error"),content:i.error}).open();e.close(),t._callback.call(),(0,a.createNoticeDialog)({content:$.t("User __username__ was unbanned.",{username:t._username})}).open(),$(".js-profile-ban").removeClass("i-checked").text($.t("Ban")).css("min-width","auto")})}).open()})},e.BanUserDialog=n,e.UnbanUserDialog=r}).call(e,i(21),i(29))},function(t,e,i){"use strict";function o(t,e){function i(){e.prop("checked",t.is(":checked"))}function o(){var i=e.length===e.filter(":checked").length;t.prop("checked",i)}t.change(function(t){setTimeout(i,0)}),e.change(function(t){setTimeout(o,0)})}$.fn.tvSelectAllCheckbox=function(t){o($(this),t)}},,,,,,,,,,function(t,e,i){"use strict";function o(t){var e=function(i){var o=$(i.currentTarget);i.preventDefault(),i.stopPropagation(),n(function(){void 0!==t.$elem&&(t.$elem.off({click:e}),t.$elem.fancybox(t)),o.click()})};"function"!=typeof $.fancybox?void 0!==t.$elem?t.$elem.one({click:e}):n(function(){$.fancybox(t)}):void 0!==t.$elem?t.$elem.fancybox(t):$.fancybox(t)}function n(t){i.e(30).then(function(e){i(1115),t()}.bind(null,i)).catch(i.oe)}Object.defineProperty(e,"__esModule",{value:!0}),e.lazyFancybox=o},function(t,e,i){"use strict";function o(t,e){var i,o;return i=null==e?document:9===e.nodeType?e:e.ownerDocument,r&&(o=r.get(i)),o||(o=i.createRange(),o.selectNodeContents(i.documentElement),r&&r.set(i,o)),o.createContextualFragment(t)}function n(t,e){var i,n,r=o(t,e);for(i=0;i<r.childNodes.length;i++)if(n=r.childNodes[i],1===n.nodeType)return r.removeChild(n),n;return null}Object.defineProperty(e,"__esModule",{value:!0});var r;"WeakMap"in window&&(r=new WeakMap),e.parseHtml=o,
e.parseHtmlElement=n},function(t,e,i){"use strict";function o(){return window.is_authenticated?window.t("Data is not available for basic account holders"):window.t("Login or register to get data")}Object.defineProperty(e,"__esModule",{value:!0}),i(5),e.getSFWarningTextForFreeUsers=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={};e.default=o,t.exports=e.default},function(t,e){t.exports={america:{flag:"us",stocks:["NASDAQ","NYSE","NYSE ARCA","OTC"]},uk:{flag:"gb",stocks:["LSE","LSIN"]},india:{flag:"in",stocks:["BSE","NSE"]},spain:{flag:"es",stocks:["BME"]},russia:{flag:"ru",stocks:["MOEX"]},australia:{flag:"au",stocks:["ASX"]},brazil:{flag:"br",stocks:["BMFBOVESPA"]},japan:{flag:"jp",stocks:["FSE","NAG","SSE","TSE"]},newzealand:{flag:"nz",stocks:["NZX"]},turkey:{flag:"tr",stocks:["BIST"]},switzerland:{flag:"ch",stocks:["SIX"]},hongkong:{flag:"hk",stocks:["HKEX"]},taiwan:{flag:"tw",stocks:["TWSE"]},singapore:{flag:"sg",stocks:["SGX"]},euronext:{flag:"eu",stocks:["EURONEXT"]},mexico:{flag:"mx",stocks:["BMV"]},canada:{flag:"ca",stocks:["TSX","TSXV"]},germany:{flag:"de",stocks:["FWB","SWB","XETR"]},peru:{flag:"pe",stocks:["BVL"]},poland:{flag:"pl",stocks:["GPW"]},israel:{flag:"il",stocks:["TASE"]},italy:{flag:"it",stocks:["MIL"]},argentina:{flag:"ar",stocks:["BCBA"]},chile:{flag:"cl",stocks:["BCS"]},china:{flag:"cn",stocks:["SZSE"]},colombia:{flag:"co",stocks:["BVC"]},uae:{flag:"ae",stocks:["DFM"]},nigeria:{flag:"ng",stocks:["NSENG"]},malaysia:{flag:"my",stocks:["MYX"]},egypt:{flag:"eg",stocks:["EGX"]},serbia:{flag:"rs",stocks:["BELEX"]},ksa:{flag:"sa",stocks:["TADAWUL"]},bahrain:{flag:"bh",stocks:["BAHRAIN"]}}},function(t,e){t.exports={us:"america",ae:"uae",ar:"argentina",at:"austria",au:"australia",bh:"bahrain",br:"brazil",ca:"canada",ch:"switzerland",cl:"chile",co:"colombia",de_DE:"germany",eg:"egypt",es:"spain",eu:"euronext",hk:"hongkong",il:"israel",in:"india",it:"italy",ja:"japan",mx:"mexico",ms_MY:"malaysia",ng:"nigeria",nz:"newzealand",pe:"peru",pl:"poland",rs:"serbia",ru:"russia",sa:"ksa",sg:"singapore",tr:"turkey",tw:"taiwan",uk:"uk",zh_CN:"china",forex:"forex",cfd:"cfd",crypto:"crypto"}},function(t,e,i){"use strict";function o(t,e,i){var o=$(t),n=$('<span class="tv-site-widget__get-widget-button-wrap"></span>'),a=$(s),l=$(r);i&&l.addClass(i),l.one("click",function(){var t,i,o;$(document.body).append(n),t=a.find(".js-get-widget-link"),t.attr("href",e),a.tvDropdown({noAnimation:!0}),n.append(a),i=a.tvDropdown("getInstance").$body,o=function(){a.tvDropdown("close")},n.on("afterOpenMenu",function(){var t=l.offset().left+i.outerWidth()>$(window).width();i.toggleClass("tv-dropdown__body--position_right",t),t&&n.css({left:n.offset().left+l.width()}),$(window).off("resize",o).one("resize",o)}),t.on("click",function(){a.tvDropdown("close"),$(window).off("resize",o)})}),l.on("click",function(){n.css(l.offset()),a.tvDropdown("open")}),o.append(l)}var n,r,s
;Object.defineProperty(e,"__esModule",{value:!0}),i(5),i(13),i(146),n=i(1251),r='\n\t<div class="tv-site-widget__control-icon tv-site-widget__control-icon--get-widget apply-common-tooltip" title="'+window.t("Get Widget")+'">\n\t\t'+n+"\n\t</div>",s='\n\t<div class="tv-dropdown tv-dropdown-behavior">\n\t\t<div class="tv-dropdown__body tv-search-bar__dropdown-body tv-dropdown-behavior__body tv-site-widget__get-widget-dropdown-body i-hidden">\n\t\t\t<div class="tv-dropdown-behavior__item">\n\t\t\t\t<a href="#" target="_blank" class="tv-dropdown__item js-get-widget-link">\n\t\t\t\t\t'+window.t("Get Widget")+"\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>",e.addGetWidgetButton=o},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 15" width="18" height="15"><g fill="none" stroke="currentColor"><path d="M12.5 2.5l5 5-5 5M10.5.5l-3 14M5.5 2.5l-5 5 5 5"/></g></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={SELECT:"select"};e.events=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={SELECT:"select",SELECT_CUSTOM:"selectCustom",AFTER_CLOSE_MENU:"afterCloseMenu",BEFORE_OPEN_MENU:"beforeOpenMenu"};e.events=o},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,s,a,l,c,h,d,u,p,f=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),_=i(30);i(204),r=i(1095),s=o(r),a=i(1427),l=o(a),c=i(0).getLogger("CommonUI.TVFormValidate"),h={required:$.t("This field is required "),number:$.t("Please enter a valid number"),digit:$.t("Please enter only digits"),email:$.t("Please enter a valid email address"),pattern:$.t("Please match the requested format"),url:$.t("Please enter a valid URL"),minlength:$.t("Please enter at least {0} characters"),maxlength:$.t("Please enter no more than {0} characters"),min:$.t("Please enter a value greater than or equal to {0}"),max:$.t("Please enter a value less than or equal to {0}"),latin:$.t("Only English language is allowed"),"latin-for-en-local":$.t("Only English language is allowed"),maxfilesize:$.t("Max file size is {0}"),fileextensions:function(t){return $.isArray(t)||(t=[t]),$.t("Allowed extension is {0}").format(t.join(", "))}},d=function(t,e,i){if("function"==typeof t)return t(e,i)},u={required:function(t,e,i){if("function"!=typeof t||t(e,i))switch(i.attr("type")){case"checkbox":if(!i.is(":checked"))return h.required;break;default:if(""===e)return h.required}},type:function(t,e){if(""!==e)switch(t){case"number":if(isNaN(e))return h.number;break;case"digits":if(isNaN(e))return h.digit;break;case"email":
if(!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e))return h.email;break;case"url":if(!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}	){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e))return h.url}},pattern:function(t,e){if(""!==e){if(!RegExp(t).test(e))return h.pattern}},minlength:function(t,e){if(""!==e&&e.length<parseInt(t))return h.minlength.format(t)},maxlength:function(t,e){if(""!==e&&e.length>parseInt(t))return h.maxlength.format(t)},min:function(t,e){if(""!==e&&parseFloat(e)<parseFloat(t))return h.min.format(t)},max:function(t,e){if(""!==e&&parseFloat(e)>parseFloat(t))return h.max.format(t)},latin:function(t,e){if(""!==e&&!(0,s.default)(e))return h.latin},"latin-for-en-local":function(t,e){if(""!==e&&"en"===window.locale&&!(0,s.default)(e))return h.latin},maxfilesize:function(t,e,i){function o(t){var e,i=[$.t("Bytes"),$.t("KB"),$.t("MB"),$.t("GB"),$.t("TB")];return t?(e=parseInt(Math.floor(Math.log(t)/Math.log(1024))),Math.round(t/Math.pow(1024,e),2)+" "+i[e]):$.t("0 Byte")}var n,r,s;if(""!==e)return n=i.get(0),r=n.files[0].size,s=parseInt(t),n.files||c.logWarn("This browser doesn't seem to support the `files` property of file inputs."),s<r?h.maxfilesize.format(o(s)):void 0},fileextensions:function(t,e,i){var o,n,r,s;if(""!==e)return o=i.get(0),n=o.files[0].name,r=/(?:\.([^.]+))?$/.exec(n)[1].toLowerCase(),s=t.split(",").map(function(t){return t.toLowerCase()}),-1===s.indexOf(r)?h.fileextensions(s):void 0},custom:d,"custom-change":d,"custom-blur":d},p=function(){function t(e){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.$form=e,this.$controls=e.find("input, textarea").not(':submit, :reset, :image, :disabled, [type="hidden"], .js-validate-ignore').tvControlError(),this.rules={},this.fields={},this.valid=!0,this.$controls.each(function(t,e){var o=$(e),n=o.attr("name"),r=o.tvControlError("getInstance");i.fields[n]={$el:o,view:r},i.rules[n]={},i.rules[n].required=o.attr("required"),i.rules[n].type=o.attr("type"),i.rules[n].pattern=o.attr("pattern"),i.rules[n].maxlength=o.attr("maxlength"),i.rules[n].minlength=o.attr("minlength"),i.rules[n].min=o.attr("min"),i.rules[n].max=o.attr("max"),i.rules[n].maxfilesize=o.attr("maxfilesize"),i.rules[n].fileextensions=o.attr("fileextensions"),i.rules[n].latin=o.data("rule-latin"),i.rules[n]["latin-for-en-local"]=o.data("rule-latin-for-en-local"),i.rules[n].latin&&o.on("keypress",function(t){i.testChar(n,(0,l.default)(t),"latin")}),i.rules[n]["latin-for-en-local"]&&o.on("keypress",function(t){i.testChar(n,(0,l.default)(t),"latin-for-en-local")}),o.on("blur",function(){
i.validateField(n,["required","custom-change"])}),o.on("change",function(){r.clear(),i.validateField(n,["custom-blur"])})}),o.onError&&"function"==typeof o.onError&&(this.onError=o.onError),o.rules&&$.extend(!0,this.rules,o.rules),e.attr("novalidate","novalidate"),!1!==o.submitValidate&&e.on("submit",function(t){i.validate()||t.preventDefault()}),e.on("reset",function(t){i.clear()})}return f(t,[{key:"validateField",value:function(t){var e,i,o,n,r,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0!==this.rules[t]){for(e=this.fields[t].$el,i=this.rules[t],o=Object.keys(i),n=0;n<o.length;n++)-1===a.indexOf(o[n])&&(r=i[o[n]])&&(s=u[o[n]](r,e.val(),e),s?this.setError({name:t,error:s,id:o[n],noRender:!0}):this.removeError({name:t,id:o[n],noRender:!0}));return!this.fields[t].view.render().hasErrors()}}},{key:"validate",value:function(){var t,e;for(this.valid=!0,t=Object.keys(this.rules),e=0;e<t.length;e++)this.valid=this.validateField(t[e])&&this.valid;return!this.valid&&this.onError&&this.onError(),this.valid}},{key:"clear",value:function(){var t,e=Object.keys(this.fields);for(t=0;t<e.length;t++)this.fields[e[t]].view.clear().render()}},{key:"setError",value:function(t){var e=t.name,i=t.error,o=t.id,n=t.noRender;return o=void 0===o?Date.now():o,this.fields[e].view.add({id:o,message:i}),n||this.fields[e].view.render(),this}},{key:"removeError",value:function(t){var e=t.name,i=t.id,o=t.noRender;return this.fields[e].view.remove({id:i}),o||this.fields[e].view.render(),this}},{key:"testChar",value:function(t,e,i){u[i](!1,e)?(event.preventDefault(),this.setError({name:t,error:h.latin,id:i,noRender:!1})):this.removeError({name:t,id:i,noRender:!1})}}]),t}(),$.fn.tvFormValidate=(0,_.createTvBlockWithInstance)("tv-form-validate",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new p(t,e)})},,,,,function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 16"><path d="M15.09 6.857s-.571 0-.724-.533c-.114-.457-.305-.876-.533-1.295-.229-.495.152-.876.152-.876l.571-.571c.229-.229.229-.61 0-.876l-.762-.762c-.229-.229-.61-.229-.876 0l-.571.571s-.381.381-.876.152c-.419-.229-.838-.419-1.295-.533-.533-.152-.533-.724-.533-.724v-.8a.602.602 0 0 0-.61-.61H7.966a.602.602 0 0 0-.61.61v.8s0 .571-.533.724c-.457.114-.876.305-1.295.533-.495.229-.876-.152-.876-.152l-.571-.571c-.229-.229-.61-.229-.876 0l-.762.762c-.229.229-.229.61 0 .876l.571.571s.381.381.152.876c-.229.419-.419.838-.533 1.295-.152.495-.724.533-.724.533h-.8a.602.602 0 0 0-.61.61v1.067c0 .343.267.61.61.61h.8s.571 0 .724.533c.114.457.305.876.533 1.295.229.495-.152.876-.152.876l-.571.571c-.229.229-.229.61 0 .876l.762.762c.229.229.61.229.876 0l.571-.571s.381-.381.876-.152c.419.229.838.419 1.295.533.495.152.533.724.533.724v.8c0 .343.267.61.61.61h1.067c.343 0 .61-.267.61-.61v-.8s0-.571.533-.724c.457-.114.876-.305 1.295-.533.495-.229.876.152.876.152l.571.571c.229.229.61.229.876 0l.762-.762c.229-.229.229-.61 0-.876l-.571-.571s-.381-.381-.152-.876c.229-.419.419-.838.533-1.295.152-.495.724-.533.724-.533h.8c.343 0 .61-.267.61-.61V7.467a.602.602 0 0 0-.61-.61h-.8zM8.5 11.555a3.541 3.541 0 0 1-3.556-3.556A3.541 3.541 0 0 1 8.5 4.443a3.541 3.541 0 0 1 3.556 3.556A3.561 3.561 0 0 1 8.5 11.555z"/></svg>'},,function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),n=i(64),r=!1,s={data:{},ready:null},a=function(){return(0,n.fetch)("/notifications-data/?widget_type=user",{credentials:"same-origin"}).then(function(t){t.json().then(function(t){s.data=t.settings})})},l=function t(){return o(this,t),window.is_authenticated?!1===r&&(r=!0,s.ready=a()):(r=!1,s.ready=Promise.resolve()),s},e.default=l,t.exports=e.default},,,,,,,,function(t,e,i){"use strict";var o,n,r,s,a,l,c,h,d,u;Object.defineProperty(e,"__esModule",{value:!0}),o=i(49),n=i(4),r=i(13),s=i(1324),a="/conversation-status/",l="/conversation-delete/",c="/conversation-post/",h="/conversation-ignore/",d="/ban-status/",u=function(){function t(t){this._statInterval="",this._statSymbol="",this._historyRequest=null,this._room="",this._isActive=!0,this._messageReceivedDelegate=new n,this._messageDeletedDelegate=new n,this._messageReceivedInOtherRoomDelegate=new n,this._messageDeletedInOtherRoomDelegate=new n,this._unknownEventDelegate=new n,this._pendingMessages={},this._newRoomInfoRequests={},this._onRoomDataHandler=this._pushStreamRoomDataHandler.bind(this),this._chatRooms=t,this._getChatRooms().startListenPushstream(),this._getChatRooms().roomsChanged().subscribe(this,this._flushPendingMessages),this._getChatRooms().otherEventReceived().subscribe(this,this._onOtherRoomEventReceived)}return t.prototype.destroy=function(){this.setRoom(""),this._getChatRooms().roomsChanged().unsubscribe(this,this._flushPendingMessages),
this._getChatRooms().otherEventReceived().unsubscribe(this,this._onOtherRoomEventReceived),this._getChatRooms().stopListenPushstream(),this._historyRequest&&this._historyRequest.abort()},t.prototype.roomAdded=function(){return this._getChatRooms().roomAdded()},t.prototype.roomChanged=function(){return this._getChatRooms().roomChanged()},t.prototype.roomDeleted=function(){return this._getChatRooms().roomDeleted()},t.prototype.roomsChanged=function(){return this._getChatRooms().roomsChanged()},t.prototype.messageReceived=function(){return this._messageReceivedDelegate},t.prototype.messageDeleted=function(){return this._messageDeletedDelegate},t.prototype.messageReceivedInOtherRoom=function(){return this._messageReceivedInOtherRoomDelegate},t.prototype.messageDeletedInOtherRoom=function(){return this._messageDeletedInOtherRoomDelegate},t.prototype.otherEventReceived=function(){return this._unknownEventDelegate},t.prototype.createRoom=function(t,e,i,o){this._getChatRooms().createRoom(t,e,i,o)},t.prototype.editRoom=function(t,e,i,o){return this._getChatRooms().editRoom(t,e,i,o)},t.prototype.getRooms=function(){return this._getChatRooms().rooms()},t.prototype.getRoomById=function(t){return this._getChatRooms().getRoomById(t)},t.prototype.getRoomInfo=function(t,e,i,o){return this._getChatRooms().getRoomInfo(t,e,i,o)},t.prototype.setActive=function(t){this._isActive=t},t.prototype.isActive=function(){return this._isActive},t.prototype.room=function(){return this._room},t.prototype.isHistoryLoading=function(){return null!==this._historyRequest},t.prototype.setStatSymbol=function(t){this._statSymbol=t},t.prototype.setStatInterval=function(t){this._statInterval=t},t.prototype.loadHistory=function(t,e){this._loadHistoryInternal(t,e)},t.prototype.setRoom=function(t,e){var i=this;this._room!==t&&(this._historyRequest&&(this._historyRequest.abort(),this._historyRequest=null),this._room&&o.off(this._getChannel(),this._onRoomDataHandler),this._room=t,this._room&&(this._historyRequest=this._loadHistoryInternal(0,function(t,n,r){e&&e(t,n,r),o.on(i._getChannel(),i._onRoomDataHandler)}),this._historyRequest.always(function(){i._historyRequest=null})))},t.prototype.getBanStatus=function(t,e){window.user.is_staff&&window.user.id!==t.user_id&&!t.is_staff?r.get(d,{user_id:t.user_id},function(t){e(!0,!t.error)}):e(!1)},t.prototype.ignoredUsers=function(){return window.user.ignore_list},t.prototype.ignoreUser=function(t,e,i,o){var n={action:e?"add":"remove",user_id:t.user_id,username:t.username};r.post(h,n,function(o){o.error||(e?window.user.ignore_list[t.user_id]=t.username:delete window.user.ignore_list[t.user_id],window.crossTabSyncUserAttr&&window.crossTabSyncUserAttr("ignore_list")),i&&i(o)}).fail(o)},t.prototype.sendMessageToRoom=function(t,e,i,o,n,s){var a,l;return i=i||{},i.interval=this._statInterval,!(!(e=e.trim())&&!i.text)&&(a=window.TradingView.onChartPage?this._statSymbol:"",l={meta:JSON.stringify(i),room_id:t,symbol:a,text:e},o&&o.messageType&&(l.type=o.messageType,o.warningType&&(i.warning_type=o.warningType)),
this._extendCommonRequestData(l),r.post(c,l).done(n).fail(s),!0)},t.prototype.sendMessage=function(t,e,i,o,n){return""!==this._room&&this.sendMessageToRoom(this._room,t,e,i,o,n)},t.prototype.reportMessage=function(t){new s.ReportSendingAgent({entityText:t.text,entityType:"message",entityURL:t.id.replace(/-/g,""),username:t.username},this._reportMessageOptions()).send()},t.prototype.deleteMessage=function(t,e,i){r.post(l,{ids:t}).done(e).fail(i)},t.prototype._getChatRooms=function(){return this._chatRooms},t.prototype._reportMessageOptions=function(){return{}},t.prototype._pushStreamRoomDataHandler=function(t,e,i,o){switch(t.action){case"message":this._messageReceivedDelegate.fire(t.data,t.data.room_id,o);break;case"message-delete":this._messageDeletedDelegate.fire(t.data,t.data.room_id,o);break;default:throw Error("AbstractChatModel._pushStreamRoomDataHandler: unknown action "+t.action)}},t.prototype._onOtherRoomEventReceived=function(t,e,i,o){var n=this,r=t.data.room_id;if(r!==this.room()){if("message"!==t.action&&"message-delete"!==t.action)return void this._unknownEventDelegate.fire(t,e,i,o);if(this.getRoomById(r))return void("message"===t.action?this._messageReceivedInOtherRoomDelegate.fire(t.data,r,o):this._messageDeletedInOtherRoomDelegate.fire(t.data,r,o));this._pendingMessages[r]=this._pendingMessages[r]||[],this._pendingMessages[r].push({external:o,message:t}),this._newRoomInfoRequests[r]||(this._newRoomInfoRequests[r]=!0,this._getChatRooms().getRoomInfo(r,function(){delete n._newRoomInfoRequests[r],n._flushPendingMessages()},function(){delete n._newRoomInfoRequests[r],n._getChatRooms().updateRooms()}))}},t.prototype._flushPendingMessages=function(){var t=this;Object.keys(this._pendingMessages).forEach(function(e){if(t._pendingMessages[e]&&t.getRoomById(e)){var i;i=e===t.room()?{message:t._messageReceivedDelegate,"message-delete":t._messageDeletedDelegate}:{message:t._messageReceivedInOtherRoomDelegate,"message-delete":t._messageDeletedInOtherRoomDelegate},t._pendingMessages[e].forEach(function(t){i[t.message.action].fire(t.message.data,e,t.external)}),delete t._pendingMessages[e]}})},t.prototype._loadHistoryInternal=function(t,e){var i={_rand:Math.random(),offset:t,room_id:this._room,stat_interval:this._statInterval,stat_symbol:this._statSymbol};return this._extendCommonRequestData(i),r.get(a,i,function(t){e&&e(t,0===t.messages.length,!1)})},t}(),e.AbstractChatModel=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(5),i(28);var o=function(){function t(t,e){switch(void 0===e&&(e={}),this._fullURL=window.location.protocol+"//"+window.location.host,this._data=t,this._options=e,t.entityType){case"message":this._entityString=$.t("message"),this._actionString=$.t("removed"),this._fullURL+="/chat/m/"+t.entityURL+"/";break;case"comment":this._entityString=$.t("comment"),this._actionString=$.t("removed"),this._fullURL+=t.entityURL+"#tc"+t.entityID;break;case"idea":this._entityString=$.t("idea"),this._actionString=$.t("hidden"),this._fullURL+=t.entityURL;break;case"script":
this._entityString=$.t("script"),this._actionString=$.t("hidden"),this._fullURL+=t.entityURL}}return t.prototype.send=function(){var t,e={report_type:this._data.entityType,text:""};this._options.chartId&&(e.chart_id=this._options.chartId),t={is_report:!0,meta:JSON.stringify(e),text:this.getText()},$.post("/conversation-post/",t).done(function(t){t&&t.error&&i.e(51).then(function(e){(0,i(1458).createErrorDialog)({title:"Error",content:t.error,actions:[{key:13,method:"close",name:"cancel",text:window.t("OK"),type:"danger"}]}).open()}.bind(null,i)).catch(i.oe)})},t.prototype.getTitle=function(){return $.t("Report {0} from {1} to moderators").format(this._entityString,"<strong>"+this._data.username+"</strong>")},t.prototype.getText=function(){var t=$.t("Reported {0} from @{1}, {2}").format(this._entityString,this._data.username,this._fullURL);return this._options.additionalText&&(t+="\n"+this._options.additionalText),this._data.entityText&&(t+="\n\n"+this._data.entityText),t},t.prototype.getEntity=function(){return this._entityString},t.prototype.getAction=function(){return this._actionString},t}();e.ReportSendingAgent=o},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(4),n=i(49),r=function(){function t(t){var e=this;this._roomAddedDelegate=new o,this._roomChangedDelegate=new o,this._roomDeletedDelegate=new o,this._roomsChangedDelegate=new o,this._otherEventReceivedDelegate=new o,this._subscribersCount=0,this._rooms=t||[],setTimeout(function(){0===e._rooms.length&&e.updateRooms()},0)}return t.prototype.getRoomInfo=function(t,e,i,o){var n=this.getRoomById(t);e&&n&&e(n)},t.prototype.startListenPushstream=function(){1===++this._subscribersCount&&(this._multiplexerCallback=this._pushStreamBroadcastHandler.bind(this),n.on(this._multiplexerEvent(),this._multiplexerCallback))},t.prototype.stopListenPushstream=function(){0===--this._subscribersCount&&n.off(this._multiplexerEvent(),this._multiplexerCallback)},t.prototype.rooms=function(){return this._rooms},t.prototype.getRoomById=function(t){var e=this._getRoomIndex(t);return-1===e?null:this._rooms[e]},t.prototype.roomAdded=function(){return this._roomAddedDelegate},t.prototype.roomChanged=function(){return this._roomChangedDelegate},t.prototype.roomDeleted=function(){return this._roomDeletedDelegate},t.prototype.roomsChanged=function(){return this._roomsChangedDelegate},t.prototype.otherEventReceived=function(){return this._otherEventReceivedDelegate},t.prototype._onRoomAdded=function(t){t&&(this._rooms.push(t),this._roomAddedDelegate.fire(t))},t.prototype._onRoomChanged=function(t){if(t){var e=this._getRoomIndex(t.room_id);-1!==e&&(this._rooms[e]=t,this._roomChangedDelegate.fire(t))}},t.prototype._onRoomDeleted=function(t){if(t){var e=this._getRoomIndex(t.room_id);-1!==e&&(this._rooms.splice(e,1),this._roomDeletedDelegate.fire(t))}},t.prototype._onRoomsChanged=function(t){var e=this._rooms;this._rooms=t,this._roomsChangedDelegate.fire(t,e)},t.prototype._pushStreamBroadcastHandler=function(t,e,i,o){
this._otherEventReceivedDelegate.fire(t,e,i,o)},t.prototype._getRoomIndex=function(t){for(var e=this._rooms.length-1;e>=0;--e)if(this._rooms[e].room_id===t)return e;return-1},t}(),e.AbstractChatRooms=r},,function(t,e,i){"use strict";function o(t){var e={snapshot:0,chart:0,internal:0,external:0},i=t.match(l);return null!==i&&i.forEach(function(t){c.test(t)?u.test(t)||d.test(t)?e.snapshot++:h.test(t)?e.chart++:e.internal++:e.external++}),e}function n(t){var e=[];return a.emoji.each(function(i){t.search(i.re)>=0&&e.push(i.code)}),e}function r(t,e,i){var r=p.test(t.room_id),a=r?"pm":"public chat",l=n(e),c=l.length>0,h=o(e);e&&r?s.trackEvent("Chat","Send message to "+a):e&&!r&&s.trackEvent("Chat","Send message to "+a,t.title+""),(i&&"snapshot"===i.type||h.snapshot>0)&&s.trackEvent("Chat","Send chart snapshot",a),h.chart>0&&s.trackEvent("Chat","Send chart link",a),h.internal>0&&s.trackEvent("Chat","Send internal link",a),h.external>0&&s.trackEvent("Chat","Send external link",a),c&&l.forEach(function(t){s.trackEvent("Chat","Send emoji",t)})}var s,a,l,c,h,d,u,p;Object.defineProperty(e,"__esModule",{value:!0}),s=i(20),a=i(1103),l=/((https?:\/\/)|(www\.))(-\.)?([^\s\/?\.#]+\.)+([^\s<>]*)?/g,c=/^(https?:\/\/).*tradingview.com/,h=/tradingview.com\/(chart|script)\//,d=/(image|i)\/([0-9a-zA-Z]{8})\/$/,u=/x\/([0-9a-zA-Z]{8})\/(.+?)?\/?$/,p=/^pm_.{16}/,e.trackChatEvent=r},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";(function(e,o){function n(t){this._properties=t.properties,this._onActiveListChanged=new o,this.options=$.extend({},this.defaults),this.options.hideTitleButton=!(!t.data||!t.data.hideTitleButton),t.readonly&&$.extend(this.options,{readonly:!0,deletable:!1,sortable:!1,contextMenu:!1,hideTitleButton:!0}),a.call(this,t),this._initSaveLoad(),this._initImportForm(),this._initContextMenu(),this._initSymbolEdit(),this._initList(),this._initAlertHighlighter()}var r,s,a=i(2573),l=i(74),c=l.Action,h=l.ActionSeparator,d=i(179),u=i(50),p=i(519).bindPopupMenu,f=i(120),_=i(2265),g=_.SaveRenameDialog,m=_.InputField,v=i(255).createConfirmDialog,y=i(2576).WatchListManager,b=i(17),w=i(1426).htmlEscape,S=function(){},T={},x=i(2577);S=i(465),T=i(27).ProductFeatures,r=e.enabled("multiple_watchlists"),s=!1,s=!0,window.inherit(n,a),n.prototype.defaults=$.extend({},a.prototype.defaults,{sortable:!0,deletable:!0,hotkeys:!0,autoDelete:!0}),n.prototype.getActiveListId=function(){return this._listId},n.prototype.onActiveListChanged=function(){return this._onActiveListChanged},n.prototype._initSorter=function(){Object.getPrototypeOf(Object.getPrototypeOf(this))._initSorter.call(this),this.$sorter.addClass("sortable"),this.$sortByName.addClass("sorter").attr("title",$.t("Sort by symbol")).on("click",this._sorter("name")),this.$sortByLast.addClass("sorter").attr("title",$.t("Sort by last price")).on("click",this._sorter("last")),this.$sortByChange.addClass("sorter").attr("title",$.t("Sort by price change")).on("click",this._sorter("change")),
this.$sortByChangePt.addClass("sorter").attr("title",$.t("Sort by price change percent")).on("click",this._sorter("change_percent"))},n.prototype._sorter=function(t){var e=!1;return function(){this.list.sort(t,e),e=!e}.bind(this)},n.prototype._initSaveLoad=function(){this._watchlistManager=new y({onchange:this.onSyncSavedList.bind(this),canDelete:function(t){return this._listId!==t}.bind(this)}),this.onListChanged().subscribe(this,this.save)},n.prototype.getWatchListManager=function(){return this._watchlistManager},n.prototype._isImportDataValid=function(t){return"string"==typeof t&&!/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/.test(t)&&!/^[\r\n\t,]*$/.test(t)},n.prototype.processImportFile=function(t,e){if(!this._isImportDataValid(e.result))return void TVDialogs.showInvalidFileFormatDialog();this.contextMenuActions.importWatchlistHandler.call(this,{name:t.name.replace(/^(.+)\..+$/,"$1"),symbols:e.result.toUpperCase().split(/[\t\r\n,]+/).filter(Boolean)})},n.prototype._initImportForm=function(){var t=$("<form>"),e=$('<input accept="text/plain" id="id_watchlist_import_file" style="display:none;" type="file"/>'),i=this;this.$inputFile=e,e.on("change",function(t){var e=t.target.files[0],o=new FileReader;e&&($(this).val(""),o.onload=i.processImportFile.bind(i,e,o),o.readAsText(e))}),t.append(e).appendTo(this._$container)},n.prototype.save=function(t){var e,i,o;this.options.readonly||(e=this._properties.value()||{},i=t||this.list.getSaveSymbols(!0),o=null,r&&(!s||window.user&&window.user.is_pro)&&this._listId&&(o=this._watchlistManager.getList(this._listId)),o?(o.symbols=i,this._watchlistManager.saveList(o),delete e.list,e.listId=this._listId):(delete e.listId,e.list=i),this._properties.setValue(e,{forceFlush:!0}))},n.prototype._getAnyExistList=function(){var t=this._watchlistManager.getAllLists(!0),e=Object.keys(t);return 0===e.length?null:t[e[0]]},n.prototype._initList=function(){var t,e,i,o,n=this._properties.value()||{};if(this.options.readonly&&n.list)return t=f(n.list),void this.addList(t);n.listId&&(e=this._watchlistManager.getList(n.listId)),e||(e=this._getAnyExistList()),e||(i=n.list?n.list:ChartApiInstance.defaultWatchlistSymbols(),o=b.randomHash(),e={id:o,symbols:i,title:n.title||y.pickTitle(),auto:!0},this._watchlistManager.saveList(e),delete n.list,n.listId=o),e&&(t=e.symbols,this._listId=e.id,this._bridge.setTitle(e.title||"")),!t&&n.list&&(t=n.list),t||window.user.is_pro||n.list||!n.listId||(t=(this._watchlistManager.getList(n.listId)||{}).symbols),t||(t=ChartApiInstance.defaultWatchlistSymbols()),t=f(t),this.addList(t)},n.prototype._initSymbolEdit=function(){var t,e;this.options.readonly||(t=this._bridge.$headerspace,e=$('<input type="text" class="wl-symbol-edit" placeholder="'+$.t("Add Symbol",{context:"watchlist_dialog"})+'" maxlength="1000" style="text-transform: none; font-weight: normal;" autocomplete="off">').appendTo(t),d.bindToInput(e,{callback:this.addHighlight.bind(this),clearAfterAccept:!0,keepFocus:!0,allowMultipleSymbols:!0,ignoreInterval:!0})),
this.options.hideTitleButton||(this._listPopup=$('<a class="button"></a>').append($(i(2367)).attr({width:17,height:17})).on("click",function(t){this._listPopup.hasClass("active")||(this._listPopup.trigger("button-popup",[this.popupMenuActions(),!0]),t.preventDefault())}.bind(this)).appendTo(t),p(this._listPopup,null,{direction:"down",event:"button-popup",reverse:!0,notCloseOnButtons:!0}))},n.prototype.addHighlight=function(t){var e=this.list.get(t);e?(this.list.scrollTo(e.eq(0)),this.list._highlight(e)):this.list.getFullSymbolName(t,function(t){this.add(t,{highlight:!0,scroll:!0})}.bind(this.list))},n.prototype.getActionFunc=function(t,e){return function(){var i=new c({text:t});return e&&i.callbacks().subscribe(this,e),i}},n.prototype.contextMenuActions={createNewListHandler:function(){function t(){o.show().then(function(t){e.createNewList(t[i])})}var e,i,o;S("multipleWatchLists","new"),e=this,i="text",o=new g({fields:[new m({name:i,label:$.t("Symbol list name")+":",maxLength:128,error:$.t("Please enter list name")})],title:$.t("Create New List")}),TradingView.runOrGoPro(t,T.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists",featureLocation:"new"})},saveListAsHandler:function(){S("multipleWatchLists","saveAs"),TradingView.runOrGoPro(this.saveAs.bind(this),T.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists",featureLocation:"saveAs"})},renameListHandler:function(){function t(){var t=e._watchlistManager.getList(e._listId).title;o.setField(i,t),o.show().then(function(t){e.renameList(t[i])})}var e,i,o;S("multipleWatchLists","rename"),e=this,i="text",o=new g({fields:[new m({name:i,label:$.t("Symbol list name")+":",maxLength:128,error:$.t("Please enter list name")})],title:$.t("Rename List")}),TradingView.runOrGoPro(t,T.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists",featureLocation:"rename"})},clearSymbolsHandler:function(){var t,e;this.list.getSymbols().length&&(t=$.t("Do you really want to clear all symbols?"),e=v({type:"modal",content:t}),e.on("action:yes",function(t){this.clearList(),t.close()}.bind(this)),e.open())},importWatchlistHandler:function(t){S("importWatchlist"),this.createNewList(t.name,t.symbols)},exportWatchlistHandler:function(){S("exportWatchlist"),TradingView.runOrGoPro(function(){var t;t=u.isProd()?"https://www.tradingview.com/exportwatchlist/{0}".format(this._listId):"{0}//{1}/exportwatchlist/{2}/".format(window.location.protocol,window.location.host,this._listId),window.open(t,"Export")}.bind(this),T.EXPORT_WATCHLISTS,{featureLocation:"exportWatchlist"})},getWatchListActionArray:function(){var t=[new h],e=this._watchlistManager.getAllLists(),i=this;return Object.keys(e).forEach(function(o){var n=new c({text:e[o].title,htmlclass:i.returnClassIfListActive(o,"backlight")});n.callbacks().subscribe(i,function(){TradingView.runOrGoPro(function(){i.loadSavedList(o)},T.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists"})}),t.push(n)}),t}},n.prototype.returnClassIfListActive=function(t,e){return this._watchlistManager.isActive(t)?e:null},n.prototype.getOrderedList=function(){
var t,e,i=this._watchlistManager.getAllLists(),o=[];for(t in i)e=i[t].title||"",o.push({id:t,list:i[t],sortHash:e.toLowerCase()+"\0"+e+"\0"+t,toString:function(){return this.sortHash}}),o.sort();return o},n.prototype.getDeleteActionFunc=function(t,e){var i=this;return function(o,n){function r(){var o,n=$.t("Do you really want to delete Watchlist '{0}' ?").format(t.title);n=w(n),o=v({type:"modal",content:n}),o.on("action:yes",function(t){s instanceof $&&s.remove(),i.deleteSavedList(e),t.close()}),o.open()}var s=this;TradingView.runOrGoPro(r,T.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists"})}},n.prototype.getImportFileTitle=function(){var t=$('<div><span style="height:100%;width:100%;"></span></div>');return t.find("span").text($.t("Import Watchlist...")).attr("onclick","("+function(){TradingView.runOrGoPro(function(){return document.getElementById("id_watchlist_import_file").click(),!1},"IMPORT_WATCHLISTS",{featureLocation:"importWatchlist"})}+")()"),t.html()},n.prototype.popupMenuActions=function(){var t,i,o,n=this,a=[];return!r||s&&!e.enabled("show_pro_features")||(a.push({title:$.t("Create New List..."),action:n.contextMenuActions.createNewListHandler.bind(n),addClass:"special"}),a.push({title:$.t("Save List As..."),action:n.contextMenuActions.saveListAsHandler.bind(n),addClass:"special"}),a.push({title:$.t("Rename List..."),action:n.contextMenuActions.renameListHandler.bind(n),addClass:"special"})),r&&(!s||e.enabled("show_pro_features")&&e.enabled("watchlists_from_to_file"))&&(a.push({html:n.getImportFileTitle(),action:n.contextMenuActions.importWatchlistHandler.bind(n),addClass:"special"}),a.push({title:$.t("Export Watchlist"),action:n.contextMenuActions.exportWatchlistHandler.bind(n),addClass:"special"})),a.push({title:$.t("Clear Symbols"),action:n.contextMenuActions.clearSymbolsHandler.bind(n),addClass:"special",disabled:this.list.count()<=0}),r&&(!s||window.user&&e.enabled("show_saved_watchlists"))&&(a.push({separator:!0}),t=p.TabGroup({onChange:function(t){t&&TVSettings.setValue("watchlist.active_tab",t)}}),i=t.appendTab($.t("My Lists")),o=this.getOrderedList(),o.forEach(function(t){var e={title:t.list.title||$.t("Watchlist"),action:function(){t.id!==n._listId&&n.loadSavedList(t.id)},addClass:n.returnClassIfListActive.call(n,t.id,"active-item-backlight")};n._watchlistManager.canDelete(t.id)&&(e.deleteAction=n.getDeleteActionFunc(t.list,t.id)),i.push(e)}),a.push(t)),a},n.prototype._popupMenuItem=function(t){var e=this;return{title:t.title,action:function(){TradingView.runOrGoPro(function(){e.load(t.list)},T.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists"})}}},n.prototype.syncSavedList=function(t){var e=this._watchlistManager.getList(t);if(!e)return void this.deleteSavedList(t);this.load(e.symbols,{silent:!0}),this._listId!==t&&(this._listId=t,this.list.resize(),this._onActiveListChanged.fire()),this._bridge.setTitle(e.title||"")},n.prototype.loadSavedList=function(t){this.syncSavedList(t),this.save()},n.prototype.deleteSavedList=function(t){this._watchlistManager.deleteList(t),
t===this._listId&&(delete this._listId,this.save(),this._bridge.setTitle(""))},n.prototype.onSyncSavedList=function(t){t&&this._listId===t&&this.syncSavedList(t)},n.prototype.createNewList=function(t,e){function i(){var i=o._watchlistManager.createList(t,e);i&&(o._bridge.setTitle(i.title||""),o._listId=i.id,o.list.clearSymbols(),o.save(e||[]),o.loadSavedList(i.id))}var o=this;if(r&&(!s||window.user&&window.user.is_pro)){if(!o.isListName(t))return;o._watchlistManager||(o._watchlistManager=new y),TradingView.runOrGoPro(i,T.MULTIPLE_WATCHLISTS)}},n.prototype.renameList=function(t){if(r&&(!s||window.user&&window.user.is_pro)){if(!this.isListName(t))return;this._watchlistManager.renameList(this._listId,t),this._bridge.setTitle(t)}},n.prototype.saveAs=function(t){if(r&&(!s||window.user&&window.user.is_pro)){var e=this;return a.prototype.saveAs.call(this,t).done(function(t){e._bridge.setTitle(t.title||""),e._listId=t.id,e.save(),e._onActiveListChanged.fire()})}},n.prototype._initAlertHighlighter=function(){this._bridge.onMessage(function(t,e){if("alert_event"===t){var i=this.list.get(e.symbol);i&&i.length&&i.highlight(1)}}.bind(this))},n.prototype._initContextMenu=function(){var t=[];TradingView.onWidget()||(!r||s&&!e.enabled("show_pro_features")||(t=t.concat([this.getActionFunc($.t("Create New List..."),this.contextMenuActions.createNewListHandler.bind(this)),this.getActionFunc($.t("Save List As..."),this.contextMenuActions.saveListAsHandler.bind(this)),this.getActionFunc($.t("Rename List..."),this.contextMenuActions.renameListHandler.bind(this))])),r&&(!s||e.enabled("show_pro_features")&&e.enabled("watchlists_from_to_file"))&&(t=t.concat([this.getActionFunc(this.getImportFileTitle()),this.getActionFunc($.t("Export Watchlist"),this.contextMenuActions.exportWatchlistHandler.bind(this))])),t.push(this.getActionFunc($.t("Clear Symbols"),this.contextMenuActions.clearSymbolsHandler.bind(this))),r&&(!s||window.user&&window.user.is_pro&&e.enabled("show_saved_watchlists"))&&(t=t.concat(this.contextMenuActions.getWatchListActionArray.bind(this)))),x({list:this.list,commonActionsFunctions:t.length?t:null})},t.exports.Widget=n}).call(e,i(3),i(4))},function(t,e,i){"use strict";(function(e){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=i(95),c=o(l),h=i(83),d=i(519),u=i(2780),p=o(u),f=i(467),_=o(f),g=i(442),m=i(151);i(2797),r=function(){function t(i){var o,r,s;n(this,t),this._bridge=i,this._properties=i.properties,this.widgetName="widgetbar",
this.$delayedIconContainer=this._bridge.$header.find(".widgetbar-widgettitle"),o=e.enabled("charting_library_base")?"libraryProvider":"stocktwits",this._$container=i.$body,s=this.normalizeProvider((this._properties.value()||{}).provider),r=s||(i.options&&i.options.provider&&i.options.provider[window.locale]||o),this._prepareLayout(this._$container),this.setProvider(r,!0),this.lastDigest=null,this._onSymbolChange=this.onSymbolChange.bind(this),i.symbol.subscribe(this._onSymbolChange,{callWithLast:!0}),window.djangoLogoutFinished.subscribe(this,this.update)}return a(t,[{key:"normalizeProvider",value:function(t){var e="object"===(void 0===t?"undefined":s(t));if(e?t=t[window.locale]||t.base:e||"ru"!==window.locale||(t="djforex"),t in p.default)return t}},{key:"setProvider",value:function(t,e){if(this._provider=t,this._dataProvider&&this._dataProvider.destroy(),this._dataProvider=new p.default[t],this._dataProvider.init({newsWidget:this,onData:this.updateData.bind(this)}),this._readonlyProvider=!this._dataProvider.options(),this.lastDigest=null,this._$categoriesSelector.toggleClass("js-hidden",this._readonlyProvider),!e){this.updateProperties(this._properties.value());var i=-1!==this._bridge.symbol.listeners().map(function(t){return t.cb}).indexOf(this._onSymbolChange);i&&this._dataProvider.noUpdateOnSymbolChange&&this._bridge.symbol.unsubscribe(this._onSymbolChange),i||this._dataProvider.noUpdateOnSymbolChange||this._bridge.symbol.subscribe(this._onSymbolChange)}}},{key:"updateProperties",value:function(t){var e={provider:{}};e.provider[window.locale]=this._provider,this._properties.setValue($.extend(!0,t||{},e))}},{key:"_prepareLayout",value:function(t){var o=this;this._$container=t,this._$widget=$('<div class="tv-news">').appendTo(t),this._$data=$('<div class="ns-data">').appendTo(this._$widget),this._scroll=new h.SidebarCustomScroll(this._$widget,this._$data),this._bridge.height.subscribe(this.resize.bind(this)),this._bridge.visible.subscribe(this.resize.bind(this)),this._bridge.visible.subscribe(function(t){t&&o._update_skipped&&(o._update_skipped=!1,o.update())}),this._$categoriesSelector=$('<a class="button"></a>').append($(i(1445)).attr({width:17,height:17})).appendTo(this._bridge.$headerspace),this._$categoriesSelector.on("click",this._showCategoriesMenu.bind(this)),(0,d.bindPopupMenu)(this._$categoriesSelector,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"ch-popup ch-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0}),this._bridge.options&&this._bridge.options.permanentProvider||e.enabled("charting_library_base")||(this._$providerSelector=$('<a class="button"></a>').append($(i(2367)).attr({width:17,height:17})).appendTo(this._bridge.$headerspace),this._$providerSelector.on("click",this._showProviderMenu.bind(this)),(0,d.bindPopupMenu)(this._$providerSelector,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"ch-popup ch-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0}))}},{key:"_showProviderMenu",value:function(t){
var e=this,i=this,o=[];this.providers.forEach(function(t){t in p.default&&o.push({title:p.default[t].title,action:function(){i.setProvider(t),i.update()},active:t===e._provider})}),$(t.target).trigger("show-popup",[o]),t.stopPropagation()}},{key:"_showCategoriesMenu",value:function(t){var e=this._dataProvider.options();$(t.target).trigger("show-popup",[e]),t.stopPropagation()}},{key:"getUpdateTimeout",value:function(){return p.default[this._provider].timeout}},{key:"update",value:function(){var t,e,i,o,n,r=this;return this._bridge.visible.value()?(t=this._quoteMetaInfo)?(e=t.name,this._need_show_screen=e!==this._symbol||this._provider!==this._prevProvider,this._symbol=e,this._prevProvider=this._provider,this._need_show_screen&&(this._$data.addClass("loading"),this.lastDigest=null,clearInterval(this._update_interval),(i=this.getUpdateTimeout())&&(this._update_interval=setInterval(this.update.bind(this),i))),o="spread"===t.type?t.legs:c.default.shortName(t.pro_name),n=this.symbolTypeToCategory(t.type),this._dataProvider.updateTitle(o),void this._dataProvider.getNews("widgetbar",o,t.type,t.exchange,n).then(function(t){return r.updateData(t)})):(this._$data.empty(),void this._$data.removeClass("loading")):void(this._update_skipped=!0)}},{key:"symbolTypeToCategory",value:function(t){var e={stock:"stocks",forex:"currencies",futures:"futures",bitcoin:"bitcoin",index:"indices"};return e[t]?e[t]:"all"}},{key:"updateData",value:function(t,e){e=e||{},this._$data.removeClass("loading"),e.incremental||((0,g.destroy)(this._$data),this._$data.empty()),t&&t.length&&(this._need_scroll_top=this._need_show_screen||t[0].published>this._last_news_time||e.incremental,this._last_news_time=t[0].published,this._need_scroll_top&&(this._$data.css("top",0),this._scroll.resize()),e.incremental&&t.reverse(),t.forEach(this.renderItem.bind(this,e)),this.lastDigest=this._getDigest(e.incremental?t[t.length-1]:t[0]))}},{key:"_getDigest",value:function(t){return(0,_.default)(t.title+t.published)}},{key:"resize",value:function(t){this._scroll.resize()}},{key:"renderItem",value:function(t,e){var i,o;t=t||{},i=this._getDigest(e),o=this._dataProvider.renderItem(e),o.data("digest",i),(0,g.agoDateFormatter)(o.find(".ns-item-date time"),e.published),this.lastDigest&&(this.lastDigest===this._getDigest(e)?this.lastDigest=null:this.newItem(o)),t.incremental?o.prependTo(this._$data):o.appendTo(this._$data)}},{key:"highlight",value:function(t){var e=void 0;new Promise(function(t){t()}).then(function(t){var o=i(236).setThemedColor;e=o("color-news-highlight")}.bind(null,i)).catch(i.oe),t.css("background-color",e),t.highlight(5)}},{key:"newItem",value:function(t){var e,i=this;if(this._bridge.visible.value())return void this.highlight(t);e=!!this._digestsToHighlight,this._digestsToHighlight=(this._digestsToHighlight||[]).concat(t.data("digest")).slice(-20),e||this._bridge.visible.when(function(){var t=i._digestsToHighlight;delete i._digestsToHighlight,t&&i._$data.children().each(function(e,o){var n=$(o);-1!==t.indexOf(n.data("digest"))&&i.highlight(n)})})}},{
key:"onSymbolChange",value:function(t){var e,i;if(t!==this._symbol&&t!==this._altSymbol){if(e=this,e._quoteSymbol&&quoteSessionMultiplexerInstance.full.unsubscribe(e._bridge.id,e._quoteSymbol),e._quoteMetaInfo=null,!t)return void(e._quoteSymbol=void 0);e._quoteSymbol=t,e._altSymbol=void 0,e.update(),this._bridge.clearNotifications(),i=!1,quoteSessionMultiplexerInstance.full.subscribe(e._bridge.id,t,function(o){var n,r,s;if(!i&&!(0,m.isSfQuoteData)(o))return"permission_denied"===o.status&&o.values&&o.values.alternative?void e.onSymbolChange(o.values.alternative):void(o.values&&o.values.short_name&&("CHXEUR"===o.values.listed_exchange&&o.values.pro_name===o.values.original_name?(s=o.values.pro_name[o.values.pro_name.length-1],n=e.lastCharacterToExchange[s],r=o.values.pro_name.substring(0,o.values.pro_name.length-1)):(n=o.values.listed_exchange,r=o.values.pro_name||o.values.original_name||o.values.short_name),e._altSymbol=r,e._quoteMetaInfo={name:c.default.shortName(r),exchange:n,type:o.values.type,legs:o.values.base_name,pro_name:r,original_name:o.values.original_name},"spread"===o.values.type&&Array.isArray(o.values.base_name)&&(e._quoteMetaInfo.legs=o.values.base_name.map(function(t){return c.default.shortName(t)}),e._quoteMetaInfo.exchange=o.values.base_name.map(function(t){return c.default.getExchange(t)})),e.update(),i=!0,setTimeout(function(){quoteSessionMultiplexerInstance.full.unsubscribe(e._bridge.id,t),e._dataProvider.noUpdateOnSymbolChange&&e._bridge.symbol.unsubscribe(e._onSymbolChange)},0)))})}}},{key:"destroy",value:function(){this._quoteSymbol&&quoteSessionMultiplexerInstance.full.unsubscribe(this._bridge.id,this._quoteSymbol),(0,g.destroy)(this._$data),this._update_interval&&clearInterval(this._update_interval)}},{key:"lastCharacterToExchange",get:function(){return{A:"EURONEXT",B:"EURONEXT",P:"EURONEXT",U:"EURONEXT",C:"OMX",H:"OMX",S:"OMX",D:"FRA",E:"MAC",I:"DUB",L:"LSE",M:"MIL",O:"OSL",V:"VIE",Y:"IST",Z:"SWX"}}},{key:"providers",get:function(){var t={base:["yahoo","stocktwits","futuresmag","dailyfx"],en:["yahoo","dailyfx","futuresmag","fxstreet","kiplinger","stocktwits"],ru:["djforex","yahoo","fxstreet","stocktwits","futuresmag","dailyfx"],pl:["yahoo","moneypl","stocktwits","futuresmag","dailyfx"],tr:["bloomberght","fxstreet","yahoo","stocktwits","futuresmag","dailyfx"],kr:["edali","yahoo","stocktwits","futuresmag","dailyfx"],es:["yahoo","fxstreet","stocktwits","futuresmag","dailyfx"]};return window.locale in t?t[window.locale]:t.base}}]),t}(),t.exports=r}).call(e,i(3))},function(t,e,i){"use strict";(function(t){function o(t){this._bridge=t,this._symbol="",this._data={},this._quoteMultiplexer=new a(quoteSessionMultiplexerInstance.full),this._updateAvailable=!0,this._prev_price=0,this._prev_extended_price=0,this._invalidate=!0,this._noDepthSymbols=[],this._volumeFormatter=new T,this._defaultPriceFormatter=new b(100,1,!1),this._priceFormatter=new w(this._defaultPriceFormatter),this._percentageFormatter=new y,this.prepareLayout(t.$body),this._$dl.on("contextmenu",function(t){t.preventDefault()}),
this._depthScale=+(t.properties.value()||{}).depthScale,this._depthScale>=1&&this._depthScale<=100||delete this._depthScale,this._estimateWidget=new h(this._$headerEstimate.get(0)),this._estimateWidget.hide(),t.symbol.subscribe(this.setSymbol.bind(this),{callWithLast:!0}),t.height.subscribe(this.resize.bind(this)),t.width.subscribe(this.resize.bind(this)),t.visible.subscribe(this.resize.bind(this))}var n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M;i(2578),i(2798),i(5),n=i(2799).create52WkRange,r=i(2804),s=i(2805).DetailsTableWidget,a=i(2807).QuoteSessionScreenerMultiplexer,l=i(925).fields,c=i(165).getSymbolPagePath,h=i(2809).TinyEstimateWidget,d=i(2811).renderFundamentalsWidget,u=i(1535).quoteFieldTitles,p=i(1129).getSFWarningTextForFreeUsers,f=i(128).isSfFlag,_=i(122).DataModeIndicator,g=i(2812).createDaysRange,m=i(2814),v=i(208).monthsShort,y=i(73).PercentageFormatter,b=i(16).PriceFormatter,w=i(632).QuoteSessionPriceFormater,S=i(83).SidebarCustomScroll,T=i(71).VolumeFormatter,x=i(121).getTranslatedSymbolDescription,P=i(20).trackEvent,i(2815),C=["volume","average_volume","open_price","prev_close_price","market_cap_basic","earnings_per_share_basic_ttm","price_earnings_ttm","total_shares_outstanding_fundamental","number_of_employees","dividends_yield"],M=["open_price","Perf.W","prev_close_price","Perf.1M","Low.1M","Perf.3M","High.1M","Perf.6M","price_52_week_low","Perf.Y","price_52_week_high","Perf.YTD"],o.prototype.DEPTH_CHART_MIN_HEIGHT=50,o.prototype._depthScale=50,o.prototype._width=267,o.prototype._depthChartIsVisible=!0,o.prototype.depthScale=function(t){var e,i;if(arguments.length<1)return this._depthScale;if("number"!=typeof t)throw new TypeError("value must be a number");if(!isFinite(t)&&t<=0)throw new RangeError("value must be positive finite number");this._depthScale=t,this._depthSession&&this._depthSession.depthSetScale(t),e=this._bridge.properties,i=e.value()||{},i.depthScale=this._depthScale,e.setValue(i)},o.prototype.sessionStatusText=function(){var t,e,i,o={forex:1,index:1,cfd:1,bitcoin:1};return this._data.values&&(this._data.values.type in o||"pulsed"===this._data.values.update_mode)?"":(t={market:'<i class="market-status-marker open"></i>'+window.t("market open"),out_of_session:'<i class="market-status-marker closed"></i>'+window.t("market closed")},this._data.values&&this._data.values.current_session in t?t[this._data.values.current_session]:(e=window.t("previous close"),this._data.values&&this._data.values.open_time&&(i=new Date(1e3*this._data.values.open_time),e+=" ("+i.getDate()+" "+v[i.getMonth()]+")"),e))},o.prototype.extendedSessionStatusText=function(){switch(this._data.values&&this._data.values.current_session){case"pre_market":return'<i class="market-status-marker pre-market"></i>'+window.t("pre-market");case"post_market":return'<i class="market-status-marker post-market"></i>'+window.t("post-market");default:return""}},o.prototype.onData=function(t,e){var i,o,n,r,s,a,l,h,d,u,_,g,m,v,y,b,w,S,T,P,C,M,k
;if("permission_denied"===t.status&&t.values&&t.values.alternative&&!f(t.values.alternative))return void this.setSymbol(t.values.alternative);if(i=!1,o=!1,this._data.values||(i=!0,this._tableShown=!1,this._spreadBlockShown=!1,this._$headerSymbolWrap.attr("href",""),this._$headerSymbolDesc.empty(),this._$headerIndustry.empty(),this._$headerPrice.empty(),this._$headerPriceExtended.empty(),this._$headerChange.empty(),this._$headerChangeExtended.empty(),this._$dlMoreLink.hide(),this._$headerSessionStatus.empty(),this._daysRange.hide(),this._$headerDataModeContainer.hide(),this._52wkRange.hide()),"ok"!==t.status)i&&(n=window.t("Invalid symbol"),r="permission_denied"===t.status&&t.values&&t.values.alternative&&f(t.values.alternative),r&&(n=p()),this._$headerSymbolDesc.text(this._symbol),this._$headerIndustry.text(n));else{if(this._data=t,s=t.values,a=e.values,i&&(this._estimateWidget.hide(),this._estimateWidget.resetSymbol()),"stock"!==s.type||this._estimateRequested||s.listed_exchange&&s.short_name&&this._estimateWidget.setSymbol(s.listed_exchange,s.short_name),this._dataModeIndicator.update(t),this._priceFormatter.update(s,a),l=null!=a.bid||null!=a.ask,h=s.bid&&s.ask,d=null!=a.last_price,u=null!=a.rtc,_=null!=a.current_session,g=("pre_market"===s.current_session||"post_market"===s.current_session)&&!!s.rtc,m=this._priceFormatter.hasForexAdditionalPrecision(),v=this._daysRange.render(s,a),o=v||o,y=this._52wkRange.render(s,a),o=y||o,a.fundamental_data&&s.type&&"bitcoin"!==s.type)this._tableShown||(this._detailsTable.show(),this._tableShown=!0,o=!0),this._$dlMoreLink.show(),this._$headerIndustry.empty().append($(document.createElement("span")).attr("title",window.t("Industry")).text(a.industry),document.createTextNode(": "),$(document.createElement("span")).attr("title",window.t("Sector")).text(a.sector));else if(a.type&&!s.fundamental_data){switch(b=function(t){return t?t[0].toUpperCase()+t.slice(1):""},a.type){case"spread":this._$headerIndustry.text("Composite Symbols");break;case"bitcoin":this._$headerIndustry.text(b($.t("crypto")));break;case"index":case"futures":case"equity":this._$headerIndustry.text(b($.t(a.type)));break;case"forex":w=s.sector,S=s.country,w&&this._$headerIndustry.text(window.t("Forex {sector}: {country}").replace("{sector}",w).replace("{country}",S||""));break;default:this._$headerIndustry.empty(),this._$data.css("top",0)}"forex"===a.type?this._tableShown||(this._detailsForexTable.show(),this._tableShown=!0,o=!0):(this._detailsForexTable.hide(),this._52wkRange.hide())}this._detailsTable.updateTable(a),this._detailsForexTable.updateTable(a),d&&(this._$headerDataMode.is(":hidden")&&this._$headerDataModeContainer.show(),this._$headerPrice.html(this.highlightPrice(a.last_price,this._prev_price)),m&&this._$headerPrice.lastCharSup(),this._prev_price=a.last_price),(_||u)&&this._toggleExtendedData(g,s.exchange),u&&(this._$headerPriceExtended.html(this.highlightPrice(a.rtc,this._prev_extended_price)),this._prev_extended_price=a.rtc),
null==a.change&&null==a.change_percent||(null==s.change?this._$headerChange.empty():(T=this._priceFormatter.format(s.change),null!=s.change_percent&&(T+=" ("+this._percentageFormatter.format(s.change_percent)+")"),P=this._$headerChange.text(T),s.change>0?P.removeClass("minus").addClass("plus"):s.change<0?P.removeClass("plus").addClass("minus"):P.removeClass("plus").removeClass("minus"))),null==a.rch&&null==a.rchp||(null==s.rch?this._$headerChangeExtended.empty():(C=this._priceFormatter.format(s.rch),null!=s.rchp&&(C+=" ("+s.rchp+"%)"),M=this._$headerChangeExtended.text(C),s.rch>0?M.removeClass("minus").addClass("plus"):s.rch<0?M.removeClass("plus").addClass("minus"):M.removeClass("plus").removeClass("minus"))),k=x(a),k&&this._$headerSymbolDesc.text(k.replace(/[+*\(\/]/g,"$&")),null!=a.type&&"spread"!==a.type&&this._$headerSymbolWrap.attr("href",c({exchange:s.exchange,proName:s.pro_name,shortName:s.short_name,type:s.type})),null!=a.update_mode&&this._$headerDelayed.toggle("pulsed"===a.update_mode),h&&l&&(this._spreadBlockShown||(this._$spreadBlock.show(),this._spreadBlockShown=!0,o=!0),this._$bid.text(this._priceFormatter.format(s.bid)),this._$ask.text(this._priceFormatter.format(s.ask)),m&&(this._$bid.lastCharSup(),this._$ask.lastCharSup()),s.bid_size&&this._$bid.append(document.createTextNode(""+s.bid_size)),s.ask_size&&this._$ask.append(document.createTextNode(""+s.ask_size)))}i&&(o=!0,this._tableShown||(this._detailsTable.hide(),this._detailsForexTable.hide(),this._$headerDelayed.hide()),this._spreadBlockShown||this._$spreadBlock.hide()),o&&this.resize()},o.prototype.showDialog=function(){function t(t){return t?'<a href="'+(-1===t.indexOf("http")?"http://":"")+t+'" target="_blank">'+t.replace("http://","").replace(/\/$/g,"")+"</a>":""}var e,i,o,n,r;this._data.values&&this._data.values.fundamental_data&&(e=TVDialogs.createDialog($.t("Financials",{company:this._data.values.description})),e.css("width","600px"),i=$('<div class="main dl-dialog tv-text">').css("height",Math.min(500,$(window).height()-50)+"px").appendTo(e.find("._tv-dialog-content")),$('<div class="dl-dialog-header">').html("<strong>"+this._data.values.description+"</strong> "+t(this._data.values.web_site_url)).appendTo(i),o=this._data.values.business_description,o&&(n=$('<div class="dl-company-desc">'+o+"</div>").appendTo(i).ellipsis(),$('<a class="dl-dialog-more">'+window.t("Show More")+"</a>").click(function(){var t=!1;return function(){var e=$(this);t?(n.css("max-height","46px").ellipsis(),e.text(window.t("Show More"))):(n.text(o),e.text(window.t("Show Less"))),t=!t}}()).appendTo(i)),r=this._data&&this._data.values?this._data.values:null,i.append(d({data:r,percentageFormatter:this._percentageFormatter,volumeFormatter:this._volumeFormatter})),TVDialogs.positionDialog(e,{left:$(window).width()/2-e.width()/2,top:$(window).height()/2-e.height()/2}),TVDialogs.applyHandlers(e))},o.prototype.prepareLayout=function(e){var o,r=this;this._$dl=$('<div class="tv-detail">').appendTo(e),
this._$dlMoreLink=$('<a class="button apply-common-tooltip">').hide().attr("title",window.t("Show More")).append($(i(2816))).click(function(){r.showDialog(),P("GUI","Detail Show More")}).appendTo(this._bridge.$headerspace),this._$data=$('<div class="dl-data">').appendTo(this._$dl),this._$header=$('<div class="dl-header"></div>').appendTo(this._$data),o=$("<div>").appendTo(this._$header),this._$headerEstimate=$('<div class="dl-header-earning"></div>').appendTo(o),this._$headerSymbolWrap=(t.enabled("charting_library_base")?$("<span>"):$('<a target="_blank">')).appendTo(this._$header),this._$headerSymbolDesc=$('<span class="dl-header-symbol-desc"></span>').appendTo(this._$headerSymbolWrap),this._$headerDelayed=$('<span class="dl-delayed" title="Quotes are delayed by 10 min and updated every 30 seconds">D</span>').appendTo(this._$headerSymbolWrap).hide(),this._$headerSymbolWrap.appendTo(o),this._$headerIndustry=$('<div class="dl-header-industry"></div>').appendTo(this._$header),this._$headerFigures=$('<div class="dl-header-figures">').appendTo(this._$header),this._$headerPrice=$('<span class="dl-header-price"></span>').appendTo(this._$headerFigures),this._$headerDataModeContainer=$("<span/>").appendTo(this._$headerFigures),this._$headerDataMode=$('<span class="tv-data-mode--symbol-info"></span>').appendTo(this._$headerDataModeContainer),this._$headerChange=$('<span class="dl-header-change"></span>').appendTo(this._$headerFigures),this._$headerSessionStatus=$('<div class="dl-header-session-status"></div>').appendTo(this._$headerFigures),this._$headerExtendedSessionData=$('<div class="dl-header-extended-data"></div>').appendTo(this._$header),this._$headerPriceExtended=$('<span class="dl-header-price-extended"></span>').appendTo(this._$headerExtendedSessionData),this._$headerChangeExtended=$('<span class="dl-header-change-extended"></span>').appendTo(this._$headerExtendedSessionData),this._$headerSessionStatusExtended=$('<div class="dl-header-session-status"></div>').appendTo(this._$headerExtendedSessionData),this._$spreadBlock=$('<div class="dl-bidoffer-spread">').hide().appendTo(this._$header),this._$bid=$('<span class="dl-bid" title="'+window.t("Bid")+'"></span>').appendTo(this._$spreadBlock),this._$ask=$('<span class="dl-ask" title="'+window.t("Ask")+'"></span>').appendTo(this._$spreadBlock),this._$headerTime=$('<div class="dl-header-time"></div>').appendTo(this._$header),this._$daysRange=$('<div class="first-child">').appendTo(this._$data),this._daysRange=g(this._$daysRange.get(0),{title:window.t("Day's Range")}),this._daysRange.hide(),this._$52wkRange=$("<div>").appendTo(this._$data),this._52wkRange=n(this._$52wkRange.get(0),{title:window.t("52wk Range")}),this._52wkRange.hide(),this._detailsTable=new s(this._$data,C,u,this.format.bind(this),this.fieldType.bind(this)),this._detailsForexTable=new s(this._$data,M,u,this.format.bind(this),this.fieldType.bind(this)),this._dataModeIndicator=new _({classSuffix:"--for-symbol-info",el:this._$headerDataMode[0],short:!0,manualUpdate:!0}),
this._$depthChart=$(document.createElement("div")).addClass("dl-depthchart").appendTo(this._$dl),this._scroll=new S(this._$dl,this._$data),this._$headerExtendedSessionData.hide()},o.prototype.resetLayout=function(){this._detailsTable.hide(),this._detailsForexTable.hide(),this._$headerDelayed.hide(),this._tableShown=!1,this._$headerSymbolWrap.attr("href",""),this._$headerSymbolDesc.empty(),this._$headerIndustry.empty(),this._$headerPrice.empty(),this._$headerPriceExtended.empty(),this._$headerChange.empty(),this._$headerChangeExtended.empty(),this._daysRange.hide(),this._$headerDataModeContainer.hide(),this._52wkRange.hide(),this._$52wkRange.hide(),this._52wkRangeShown=!1,this._$spreadBlock.hide(),this._spreadBlockShown=!1,this._$dlMoreLink.hide(),this.resize()},o.prototype.resize=function(){var t,e;this._bridge.visible.value()&&(this._scroll.resize(),t=this._$dl.height()-this._$data.outerHeight(),e=this._depthChartIsVisible,this._depthChartIsVisible=t>=this.DEPTH_CHART_MIN_HEIGHT,this._depthChartIsVisible?(this._$depthChart.height(t),e||this._$depthChart.show()):e&&(this._$depthChart.hide(),this._depthChart&&(this._depthChart.destroy(),delete this._depthChart))),this.updateDepthSymbol(),this._depthChart&&this._depthChart.resize()},o.prototype.setSymbol=function(t){t!==this._symbol&&(t&&this._data&&(this._data.original_name===t||this._data.pro_name===t)||(this._symbol&&this._quoteMultiplexer.unsubscribe(this._bridge.id,this._symbol),this._toggleExtendedDataTimeout&&(clearTimeout(this._toggleExtendedDataTimeout),this._toggleExtendedDataTimeout=null),this._symbol=t,this._prev_price=0,this._prev_extended_price=0,this._data={},this._priceFormatter.reset(this._defaultPriceFormatter),this.onData({}),this._depthChart?(this._depthChart.destroy(),delete this._depthChart):this._$depthChart.empty(),t&&this._quoteMultiplexer.subscribe(this._bridge.id,this._symbol,this.onData.bind(this)),this.updateDepthSymbol()))},o.prototype.updateDepthSymbol=function(){var t=this._symbol;t&&this._depthChartIsVisible&&this._bridge.visible.value()&&-1===this._noDepthSymbols.indexOf(t)||(t=void 0),t!==this._depthSymbol&&(this._depthSymbol=t,!this._depthSession&&t?(this._depthSession=new m(ChartApiInstance,this._depthScale,this._width),this._depthSession.connect(this.onDepthData.bind(this))):t?this._depthSession.depthSetSymbol(t):this._depthSession.depthClearSymbol())},o.prototype.onDepthData=function(t){if(this._depthSymbol)switch(t.method){case"connected":this._depthSymbol&&this._depthSession.depthSetSymbol(this._depthSymbol);break;case"depth_symbol_error":this._depthSymbol=void 0,-1===this._noDepthSymbols.indexOf(this._symbol)&&(this._noDepthSymbols.push(this._symbol),this._noDepthSymbols.length>16&&this._noDepthSymbols.shift()),delete this._depthLast;break;case"depth_symbol_success":this._depthChart||this._$depthChart.html('<div class="depth-widget-notice"><p>'+window.t("Loading market depth data&hellip;")+"</p></div>"),delete this._depthLast;break;case"dd":this._depthChart||(this._depthChart=new r({wrap:this._$depthChart,
xAxisFormatter:this._priceFormatter,scaleFn:this.depthScale.bind(this)})),this._depthChart.update(t.params[0]),"_depthLast"in this&&(this._depthChart.updateLast(this._depthLast),delete this._depthLast);break;case"dpu":this._depthChart&&this._depthChart.updateDelta(t.params[0]);break;case"depth_bar_last_value":this._depthChart?this._depthChart.updateLast(t.params[1]):this._depthLast=t.params[1]}},o.prototype.format=function(t,e,i){var o,n;return"forex"===e?(o=l[i].forexFormatter?l[i].forexFormatter:l[i].formatter,o.format(t)):(n=parseFloat(t),TradingView.isNaN(n)?t:"percent"===e?this._percentageFormatter.format(100*n):TradingView.isInteger(n)?this._volumeFormatter.format(n):n)},o.prototype.highlightPrice=function(t,e){var i,o,n,r,s,a;if(!e)return this._priceFormatter.format(t);for(i=t-e>0?"plus":"minus",o=this._priceFormatter.format(t),n=""+e,r="",s=!1,a=0;a<o.length;a++)o[a]===n[a]||s||(r+='<span class="'+i+'">',s=!0),r+=o[a];return s&&(r+="</span>"),r},o.prototype.fieldType=function(t){return!(!window.quoteSessionMultiplexerInstance||!quoteSessionMultiplexerInstance.full._fields)&&quoteSessionMultiplexerInstance.full._fields[t]},o.prototype.destroy=function(){this._depthChart&&this._depthChart.destroy(),this._depthSession&&this._depthSession.stopSession(),this._quoteMultiplexer.unsubscribe(this._bridge.id,this._symbol)},o.prototype._toggleExtendedData=function(t,e){var i,o;this._toggleExtendedDataTimeout&&clearTimeout(this._toggleExtendedDataTimeout),i=e&&this._toggleExtendedDataExhcange!==e,o=t||i?0:1e3,this._toggleExtendedDataTimeout=setTimeout(function(){this._$headerExtendedSessionData.toggle(t),this._$headerSessionStatus.html(this.sessionStatusText()),this._$headerSessionStatusExtended.html(this.extendedSessionStatusText())}.bind(this),o),e&&(this._toggleExtendedDataExhcange=e)},e.Widget=o,e.DefaultFields=C}).call(e,i(3))},function(t,e,i){"use strict";(function(e){function o(t){return t&&t.__esModule?t:{default:t}}function n(t){this._bridge=t,this._properties=t.properties,this.settingsKey="ecalendar.market",this._defaultMarket=(0,a.getDefaultMarketForLocale)(window.locale||"en"),this._market=h.default.getValue(this.settingsKey)||this._defaultMarket,this._$container=t.$body,this._bridgeSymbol=t.symbol,this._initMe(),this._initFeed(!0),this._createHeaderButtons()}var r,s,a,l,c,h,d;i(2817),r=i(83),s=i(62),a=i(897),l=i(247),c=i(48),h=o(c),d=i(57),n.prototype.lastData=null,n.prototype.resize=function(){var t=Math.max(0,this._$container.height()-this.$headerContent.outerHeight());this._$widget.height(t),this._scroll&&this._scroll.resize()},n.prototype._initMe=function(){this.$headerContent=$("<div>").addClass("calendar-widget header").appendTo(this._$container),$("<div title = "+$.t("Symbol")+">"+$.t("Symbol")+"</div>").addClass("calendar-widget-w-20").appendTo(this.$headerContent),$("<div title = "+$.t("Company")+">"+$.t("Company")+"</div>").addClass("calendar-widget-w-60").appendTo(this.$headerContent),
$("<div title = "+$.t("Estimate")+">"+$.t("Estimate")+"</div>").addClass("calendar-widget-w-20 i-align_right").appendTo(this.$headerContent),this._$widget=$('<div class="calendar-widget-scnt">').appendTo(this._$container),this._$data=$('<div class="calendar-widget-dcnt">').appendTo(this._$widget),this._bridgeSymbol.subscribe(function(t){var e,i;t&&(e=t.split(":"),e[1]&&this._activeSymbol!==t&&(this._activeSymbol=t,null!==this.lastData&&(this._dropActive(),(i=this._currentSymbols[e[1]]||this._currentSymbols[t])&&i[0].addClass("active"))))}.bind(this),{callWithLast:!0}),this._scroll=new r.SidebarCustomScroll(this._$widget,this._$data),this._bridge.height.subscribe(this.resize.bind(this),{callWithLast:!0})},n.prototype._closeConfigPopup=function(){this._$popup&&(this._$popup.remove(),this._$popup=null)},n.prototype._createConfigPopup=function(){var t,e,i,o,n,r,s;this._$popup||(t=1,e=this._$configButton,i=$("<div>").addClass("tv-e-calendar-popup"),this._$popup=i,i.on("mousedownoutside",function(t){$(t.target).parents().andSelf().is(e)||this._closeConfigPopup()}.bind(this)),e.addClass("active"),o=$("<div>").addClass("tv-e-calendar-config").appendTo(i),this._createConfigPopupMarkets().appendTo(o),n=e.offset(),n.width=e.outerWidth(),n.height=e.outerHeight(),e.parents().each(function(){var t=$(this);n.left-=t.scrollLeft()||0,n.top-=t.scrollTop()||0}),i.css({position:"fixed",left:0,top:n.top+n.height+t}),i.appendTo(document.body),r=i.get(0).getBoundingClientRect(),s=20,i.css({left:n.left+n.width-r.width,height:r.height-Math.abs(window.innerHeight-(r.top+r.height))-s}))},n.prototype._getMarketTitle=function(t){return t.title+" ("+t.stocks.join(", ")+")"},n.prototype._createConfigPopupMarkets=function(){var t=this,e=(0,a.getMarketsByScreenerType)("stocks"),i=$("<div>").addClass("tv-e-calendar-config__markets"),o=void 0,n=Object.keys(e).sort(function(t,e){return t<e?-1:t>e?1:0}),r=n.indexOf(this._defaultMarket);return~r&&n.splice(r,1),n.unshift(this._defaultMarket),n.forEach(function(n){o=e[n],$("<div>").addClass("tv-e-calendar-config__market-button js-e-calendar-choose-market").data("market",n).toggleClass("tv-e-calendar-config__market-button--active",n===t._market).append($((0,l.flagHtml)(o.flag))).append('<span class="tv-e-calendar-config__market-button-title">'+t._getMarketTitle(o)+"</span>").appendTo(i)}),i.on("click",".js-e-calendar-choose-market",function(e){var i=t._market=$(e.currentTarget).data("market");i&&(h.default.setValue(t.settingsKey,i,{forceFlush:!0}),t._closeConfigPopup(),t._initFeed(!0),t._createHeaderButtons())}),i},n.prototype._createHeaderButtons=function(){var t=(0,a.getMarketsByScreenerType)("stocks"),e=t[this._market];this._$configButton&&this._$configButton.remove(),this._$configButton=$("<a>").addClass("apply-common-tooltip tv-flag-country tv-flag-country--"+e.flag+" tv-e-calendarwidget-inline-select-wrapper").attr("title",this._getMarketTitle(e)).html((0,l.flagHtml)(e.flag)).appendTo(this._bridge.$headerspace).on("click",function(t){t.preventDefault(),
this._$popup?this._closeConfigPopup():this._createConfigPopup()}.bind(this))},n.prototype.toggleDay=function(t){$(t.data.hider).toggleClass("hidden"),t.data.me.resize()},n.prototype._setSymbol=function(t,e){this._bridgeSymbol.setValue&&this._bridgeSymbol.setValue(t)},n.prototype._activeSymbol=null,n.prototype._dropActive=function(){this._$data.find("div.calendar-widget.active").removeClass("active")},n.prototype._currentSymbols={},n.prototype._renderMe=function(){var t,i,o,n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S=this;if(S._currentSymbols={},t=this.lastData){for(i=e().startOf("day").valueOf(),o=e().startOf("day").add(5,"days").valueOf(),n=0,r=t.length;n<r;n++)i<=1e3*t[n].d[3]&&1e3*t[n].d[3]<=o&&(t[n].d[1]=t[n].d[3],t[n].d[2]=t[n].d[4]);for(t=t.sort(function(t,e){var i=t.d[1],o=e.d[1];return i<o?-1:i>o?1:0}),this._$data.empty(),s=[$.t("January"),$.t("February"),$.t("March"),$.t("April"),$.t("May"),$.t("June"),$.t("July"),$.t("August"),$.t("September"),$.t("October"),$.t("November"),$.t("December")],a=S._activeSymbol,a&&(a=""+a.split(":")[1]),n=0,r=t.length;n<r;n++)l=t[n],c=l.d,h=c[0],c&&h&&(d=e(),u=s[d.month()]+" "+d.date(),p=e(1e3*c[1]),f=s[p.month()]+" "+p.date(),_=p.format("L").replace(" ",""),this._currentDayname!==f&&(this._currentDayname=f,g=$("<div>").addClass("calendar-widget day hand "+_),f===u&&g.addClass("today"),g.html(f).appendTo(this._$data),g.on("click",{hider:".erc"+_,me:S},S.toggleDay)),(m=l.s)&&(v=m.split(":")[1],y=v===a?"active":"",b=c[2]?c[2].toFixed(2):"&nbsp;",S._currentSymbols[m]||(S._currentSymbols[m]=[]),w=$("<div>").addClass("calendar-widget erc"+_+" "+y).appendTo(this._$data),w.addClass("regular").on("click",{symbol:m,container:w,me:S},function(t){var e=t.data;e.me._dropActive(),e.me._setSymbol(e.symbol,e.container)}),w.symbol=$('<div title="'+m+'">'+v+"</div>").addClass("calendar-widget-w-20 symbol").appendTo(w),w.title=$('<div title="'+h+'">'+h+"</div>").addClass("calendar-widget-w-60").appendTo(w),w.est=$('<div title="'+b+'">'+b+"</div>").addClass("calendar-widget-w-20 i-align_right").appendTo(w),S._currentSymbols[m].push(w)));delete this._currentDayname}},n.prototype.backendUrl=function(){return(window.EARNINGS_CALENDAR_URL||"")+"/"+this._market+"/"},n.prototype._initFeed=function(t){var i,o;t&&(this._spinner=(0,s.unifiedSpinner)("mini").spin(this._$widget.get(0))),i=Date.now(),o=36e5,$.ajax(this.backendUrl()+"scan",{type:"POST",data:JSON.stringify({filter:[{left:"earnings_release_date,earnings_release_next_date",operation:"in_range",right:[e().startOf("day").valueOf()/1e3,e().startOf("day").add(5,"days").valueOf()/1e3]}],columns:["description","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_release_date","earnings_per_share_forecast_fq"]}),dataType:"json"}).done(function(e,n,r){var s=Date.now()-i;d.Telemetry.sendReport("calendars","earnings_http_status",{v:r.status}),d.Telemetry.sendReport("calendars","earnings_response_time_frame",{v:s}),e&&!e.error&&e.data?(t&&(this._spinner.stop(),delete this._spinner),o=e.expiration||o,this.lastData=e.data||this.lastData,
this._renderMe.call(this),d.Telemetry.sendReport("calendars","earnings_ok")):d.Telemetry.sendReport("calendars","earnings_error"),window.setTimeout(function(){this._initFeed.call(this)}.bind(this),o)}.bind(this)).fail(function(t){var e=Date.now()-i;d.Telemetry.sendReport("calendars","earnings_http_status",{v:t.status}),d.Telemetry.sendReport("calendars","earnings_response_time_frame",{v:e}),window.setTimeout(function(){this._initFeed.call(this)}.bind(this),o)}.bind(this))},t.exports={Earnings:n}}).call(e,i(54))},function(t,e,i){"use strict";function o(t){this._properties=t.properties,n.call(this,t),this._hotlist=null,this._timer=null,this._state=null,this._setHotlists(h.availableExchanges),this._initControl()}var n=i(2573),r=i(2577),s=i(519).bindPopupMenu,a=i(1652).HotlistsManager,l=i(1652).hotlistsDefaults,c=i(27).ProductFeatures,h=new a;inherit(o,n),o.prototype._initControl=function(){this._$hlButton=$('<a class="button"></a>').append($(i(2367)).attr({width:17,height:17})).appendTo(this._bridge.$headerspace),this._$hlButton.on("click",function(t){var e=$(t.currentTarget);e.hasClass("active")||(e.trigger("button-popup",[this.popupMenuActions()]),t.preventDefault())}.bind(this)),s(this._$hlButton,null,{direction:"down",event:"button-popup",reverse:!0,notCloseOnButtons:!0})},o.prototype._initContextMenu=function(){r({list:this.list})},o.prototype.popupMenuActions=function(){var t,e,i=[];return i.push({title:$.t("Save As Watchlist..."),action:function(){TradingView.runOrGoPro(this.saveAs.bind(this),c.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists"})}.bind(this),addClass:"special"}),i.push({separator:!0}),t=s.TabGroup({onChange:function(t){t&&TVSettings.setValue("hotlist.active_tab",t)}}),e=this.prependHotlistsListToPopup(),this.popupMenuAppendPredefined(t,e,{expandedGroupSettingsName:"hotlist.expanded_groups",activeTabSettingsName:"hotlist.active_tab"}),i.push(t),i},o.prototype.prependHotlistsListToPopup=function(){var t=[{groups:[]}];return h.sortExchanges(Object.keys(this._hotlists)).forEach(function(e){t[0].groups.push({list:this._hotlists[e].hotlists,title:this._hotlists[e].exchangeName})}.bind(this)),t},o.prototype._popupMenuItem=function(t){var e=this,i=t.group,o=t.exchange;return{title:t.title,active:e._hotlist&&e._hotlist.group===i&&e._hotlist.exchange===o,action:function(t){e.recieve(o,i,!0)}}},o.prototype._initList=function(){var t,e,i=this._properties.value()||{};if(i.exchangeByLocale&&i.groupByLocale&&(t=i.exchangeByLocale[window.locale]||i.exchangeByLocale.default,e=i.groupByLocale[window.locale]||i.groupByLocale.default,t&&e&&t in this._hotlists))return void this.recieve(t,e,!1);this.recieveDefaultHotlist()},o.prototype.compilations={US:$.t("US Exchanges")},o.prototype._setHotlists=function(t){var e={};t.forEach(function(t){var i,o=[];for(i in h.groupsTitlesMap)o.push({exchange:t,title:h.groupsTitlesMap[i],longTitle:h.getExchangeName(t)+", "+h.groupsTitlesMap[i],group:i});e[t]={isCompilation:t in h.compilations,hotlists:o,exchangeName:h.getExchangeFullName(t)}}),this._hotlists=e,this._initList()},
o.prototype.save=function(){var t=this._properties.value()||{};t.groupByLocale[window.locale]=this._hotlist.group,t.exchangeByLocale[window.locale]=this._hotlist.exchange,this._properties.setValue(t)},o.prototype.startUpdate=function t(){clearInterval(this._timer),this._timer=setInterval(function(){this.recieve(this._hotlist.exchange,this._hotlist.group,!1)}.bind(this),t.INTERVAL)},o.prototype.startUpdate.INTERVAL=3e5,o.prototype.recieve=function(t,e,i){h.getOneHotlist(t,e).then(function(o){this._recieved(o,t,e),i&&this.save()}.bind(this))},o.prototype.recieveDefaultHotlist=function(){var t=this._properties.exchange?this._properties.exchange:l.exchange,e=this._properties.group?this._properties.group:l.group;this.recieve(t,e,!1)},o.prototype._recieved=function(t,e,i){var o=h.getExchangeName(e);this._bridge.setTitle(o+", "+h.groupsTitlesMap[i]),this._hotlist={group:i,exchange:e},this._state=null,t=t.map(function(t){return t.s}),this.load(t)},o.prototype.load=function(t){this._state?t.forEach(function(t){this.list.add(t,{highlight:-1===this._state.indexOf(t)})}.bind(this)):(this.clearList(),this.startUpdate(),this.setSortTimeout(),this.addList(t)),this._state=t.slice()},o.prototype.setSortTimeout=function(){var t,e;this._sortTimeoutId&&clearTimeout(this._sortTimeoutId),t=1e4,e=h.sortOptions[this._hotlist.group],this._hotlist&&e&&(this._sortTimeoutId=setTimeout(function(){this.list.sort(e.field,"decrease"===e.rule)}.bind(this),t))},t.exports=o},function(t,e,i){"use strict";(function(e,o){function n(t){this._bridge=t;var i=(t.options||{}).type;if(i!==b&&i!==w)throw Error("NotificationsWidgets: invalid widget type");this._widgetType=i,this._pushStreamChannel="notification:"+i,this._xEventsChannel="notifications-read:"+i,this._markNotificationsSettingsKey="notifications-mark:"+i,this._onMessage=new e,this._$container=t.$body,this._prepareLayout(this._$container),this._getTemplate(),window.is_authenticated?(this.init(),this._state=S.WAITING,this._bridge.visible.value()&&this.load()):(this._state=S.OFF,this.showSignInMessage()),TradingView.notificationsChanged.subscribe(null,function(){this.updateSettings()}.bind(this))}function r(t,e){var i,o,n,r;if(t.length<e)return t.trim();for(t+=" ",i=/\s+/g,n="",r=0;null!=(o=i.exec(t));){if(o.index>=e){n=t.substring(0,r).trim()+"...";break}r=o.index}return n||t.substring(0,e)+"..."}var s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x;i(2926),s=i(1094),a=i(49),l=i(83).SidebarCustomScroll,c=i(534),h=i(519).bindPopupMenu,d=i(909),u=i(1066).ChatLikesHandler,p=i(1315),f=i(62).unifiedSpinner,_=i(270).userBadge,g=i(442),m=i(53).TVXWindowEvents,v=i(165).getSymbolPagePath,y=i(1464),b="following",w="user",S={OFF:0,WAITING:1,LOADING:2,WORKING:3},T=36e5,x=256,n.prototype.updateSettings=function(){this.getWidgetData().done(function(t){if(this._settings=t.settings,"user"===this._widgetType){var e=new p;e.ready.then(function(){e.data.notification_popup=t.settings.notification_popup,e.data.notification_sound=t.settings.notification_sound}),
TVSettings.setValue("messages.show_onsite_notifications",0!=(5&t.settings.notification_mention_in_chat)),TVSettings.setValue("publicchats.send_email_notifications",0!=(2&t.settings.notification_mention_in_chat))}}.bind(this))},n.prototype._getTemplate=function(){this._itemTemplate='<div class="js-notifications-event-block tv-notifications-widget-item" data-id="{{id}}"><div class="tv-notifications-widget-item__wrap"><div class="tv-notifications-widget-item__icon-time-wrap tv-notifications-widget-item__icon-time-wrap--event-type_{{eventType}}"><div class="js-icon-place"></div></div><div class="tv-notifications-widget-item__header"><a class="js-userlink-popup tv-notifications-widget-item__user-avatar" href="/u/{{username}}/" target="_blank" data-username="{{username}}"><img src="{{avatar}}" alt=""/></a><div class="tv-notifications-widget-item__user-info"><div class="tv-notifications-widget-item__user-name"><a class="js-userlink-popup tv-notifications-widget-item__user-name-link" href="/u/{{username}}/" target="_blank" data-username="{{username}}">{{username}}</a>&nbsp;{{{userBadge}}}</div><time class="js-ago-timer"></time><div>{{event}}</div></div></div>{{^templateOptions.noBody}}<div class="tv-notifications-widget-item__body">{{#templateOptions.title}}<span class="tv-notifications-widget-item__chart-title"><span>{{chartTitle}}</span> {{^templateOptions.noSymbol}}<a href="{{ symbolPageUrl }}" target="_blank" class="tv-notifications-widget-item__chart-symbol">{{chartSymbol}}</a>{{/templateOptions.noSymbol}}</span>{{/templateOptions.title}}{{#templateOptions.chartPreview}}<div class="tv-notifications-widget-item__chart-preview-wrap">{{^templateOptions.noLikes}}'+y+'{{/templateOptions.noLikes}}<a class="js-chart-preview tv-notifications-widget-item__chart-preview" href="{{chartURL}}"><img src="{{chartPreview}}"/>{{#isVideo}}<div class="tv-notifications-widget-item__play-icon">'+i(1073)+'</div>{{/isVideo}}</a></div>{{/templateOptions.chartPreview}}{{#templateOptions.description}}<div class="tv-notifications-widget-item__description {{#shortDescription}}tv-notifications-widget-item__description--short {{/shortDescription}} tv-notifications__description--ellipsis">{{description}}</div>{{/templateOptions.description}}{{#templateOptions.descriptionLink}}<div class="tv-notifications-widget-item__entity-link"><a href="{{descriptionLink}}" target="_blank">'+$.t("Link")+"</a></div>{{/templateOptions.descriptionLink}}</div>{{/templateOptions.noBody}}</div></div>"},n.prototype.showSignInMessage=function(){this._$data.append('<div class="ch-item-empty">'+$.t("If you want to use this service - please __signInLink__!",{signInLink:'<a class="js-notifications-widgets-sign-in" href="#signin">'+$.t("sign in or register")+"</a>"})+"</div>"),this._$data.find("a.js-notifications-widgets-sign-in").on("click",function(){return runOrSignIn(function(){},{source:"Notifications widget placeholder",sourceMeta:"Chart"}),!1})},n.prototype.showEmptyMessage=function(){
this._$data.append('<div class="ch-item-empty js-empty-message">'+$.t("You have no notifications yet.")+"</div>"),this._onMessage.subscribe(this,function(){this._$data.find(".js-empty-message").remove()}.bind(this),!0)},n.prototype.load=function(t){var e=f("mini").spin(this._$widget.get(0));this._state=S.LOADING,this.getWidgetData().done(function(i){e.stop(),this.onData(i),this.highlightUnread(),this.read(),t&&t()}.bind(this))},n.prototype.onData=function(t){var e=this,i=$.map(this._events,function(t,e){return"notification_"+e});this._settings=t.settings,i.forEach(function(t){if(!(t in e._settings))throw Error("NotificationsWidgets: missing notification settings")}),t.notifications.length?this.renderItems(t.notifications):this.showEmptyMessage(),t.notifications.length<20&&(this._history_loaded=!0),this.initLoadMore(),this._state=S.WORKING},n.prototype.init=function(){var t,e=this;a.on(this._pushStreamChannel,$.proxy(this,"onMessage")),m.on(this._xEventsChannel,this.onRead.bind(this)),this._likesHandler=u.getChartsHandler(),this._$container.parent().on("click",this.onFocus.bind(this)),this._getEvents(),this._count=window.user.notification_count?window.user.notification_count[this._widgetType]:0,this._count&&this._bridge.notify(this._count),this._settings={},t=new p,t.ready.then(function(){for(var i in t.data)t.data.hasOwnProperty(i)&&(e._settings[i]=t.data[i])}),this._bridge.visible.subscribe(this.visibilityChange.bind(this)),this._bridge.active.subscribe(this.activeStateChange.bind(this))},n.prototype.destroy=function(){this._likesHandler&&this._likesHandler.destroy(),a.off(this._pushStreamChannel),m.off(this._xEventsChannel)},n.prototype.getWidgetData=function(){return $.get("/notifications-data/",{widget_type:this._widgetType},"json")},n.prototype.visibilityChange=function(t){if(t&&this._state===S.WAITING)return void this.load(this.visibilityChange.bind(this,t));t&&this.updateLayout(),t||this.read()},n.prototype.activeStateChange=function(t){t&&this._state!==S.LOADING&&(this.highlightUnread(),this.read())},n.prototype.onFocus=function(){this.stopHighlight(),this.read()},n.prototype.markAsRead=function(){var t,e,i=this._$data.find(".js-notifications-event-block.js-notifications-unread").removeClass("js-notifications-unread").addClass("js-notifications-new");i.length&&(setTimeout(function(){i.removeClass(".js-notifications-new")},T),t=i.map(function(){return $(this).data("id")}),e=TVSettings.getJSON(this._markNotificationsSettingsKey,{},!0),e[(new Date).getTime()]=[Math.min.apply(null,t),Math.max.apply(null,t)],TVSettings.setJSON(this._markNotificationsSettingsKey,e))},n.prototype.markNew=function(){var t,e=(new Date).getTime(),i=TVSettings.getJSON(this._markNotificationsSettingsKey,{},!0),o=!1;for(t in i)e-parseInt(t,10)>T&&(delete i[t],o=!0);o&&TVSettings.setJSON(this._markNotificationsSettingsKey,i),this._$data.find(".js-notifications-event-block:not(.js-notifications-new)").each(function(){function o(){s.removeClass("js-notifications-new")}var n,r,s=$(this),a=s.data("id");for(t in i)n=i[t],
a>=n[0]&&a<=n[1]&&(s.addClass("js-notifications-new"),r=parseInt(t,10)+T-e,setTimeout(o,r))}).slice(0,this._count||0).addClass("js-notifications-unread")},n.prototype.highlightUnread=function(){this._$data.find(".js-notifications-event-block.js-notifications-unread").highlight(3)},n.prototype.stopHighlight=function(){this._$data.find(".js-notifications-event-block.js-notifications-unread").filter(":animated").stop(!0,!1).highlight(!1)},n.prototype.read=function(){this._count&&($.post("/notifications-reset-counter/",{widget_type:this._widgetType},function(){}),this.onRead(),m.emit(this._xEventsChannel))},n.prototype.onRead=function(){this.markAsRead(),this._count=0,setTimeout(function(){this._bridge.clearNotifications()}.bind(this),0)},n.prototype.onMessage=function(t){!t||this._widgetType!==w&&t.lang!==window.locale||(this._state!==S.WAITING&&(this.addNewNotification(t),this._onMessage.fire()),this.incrementCounter(),this._bridge.visible.value()||this.showDesktopNotification(t),this.playSound())},n.prototype.incrementCounter=function(){this._count++,this._bridge.notify(1)},n.prototype.addNewNotification=function(t){var e=this.renderItem(t);this._$data.prepend(e),e.addClass("js-notifications-unread"),this._bridge.active.value()&&this.updateLayout(),this._bridge.visible.value()&&e.highlight(3)},n.prototype.showDesktopNotification=function(t){var e=this,i=new p;i.ready.then(function(){var o,n,r,s;i.data.notification_popup&&a.ownPushStream()&&(o=e._events[t.type],n=o.desktopNotification.messageTitle,r="function"==typeof n?n.call(e,t):n.format(t.user.username,t.chart_title||"",t.chart_symbol||""),s="",s=o.desktopNotification.noDescription?$.t("Click here to open widget..."):o.desktopNotification.useChartTitle?t.chart_title:o.desktopNotification.description?"function"==typeof o.desktopNotification.description?o.desktopNotification.description.call(e,t):o.desktopNotification.description:t.description.trim(),s=s.slice(0,x),d.show(r,s,t.user.mid_picture_url))})},n.prototype._prepareLayout=function(t){if(this._$widget=$('<div class="tv-notifications">').appendTo(t),this._$data=$('<div class="nf-data">').appendTo(this._$widget),this._scroll=new l(this._$widget,this._$data),this._bridge.height.subscribe(this.resize.bind(this)),this._bridge.visible.subscribe(this.resize.bind(this)),window.is_authenticated){this._$settings=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'"></a>').append($(i(2367)).attr({width:17,height:17})).appendTo(this._bridge.$headerspace);var e=this;this._$settings.on("click",function(t){if($(this).hasClass("open"))return void $(this).trigger("hide-popup");e._settingsMenu(t)}),h(this._$settings,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"nf-popup nf-settings-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0})}},n.prototype._getEvents=function(){this._widgetType===b&&(this._events={publish:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:$.t("Published new idea"),iconSvgCode:i(2446),settingName:$.t("Ideas"),desktopNotification:{
messageTitle:$.t("New idea by {0}"),useChartTitle:!0}},chart_updates:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:$.t("Updated idea"),iconSvgCode:i(2927),settingName:$.t("Idea updates"),desktopNotification:{messageTitle:$.t("{0} updated the {1} idea")}},change_status:{templateOptions:{description:!0},eventName:$.t("Updated status"),iconSvgCode:i(2928),settingName:$.t("Status"),desktopNotification:{messageTitle:$.t("{0} has a new status")}},follow_symbol:{templateOptions:{title:!0,description:!0,chartPreview:!0},eventName:$.t("Published new idea"),iconSvgCode:i(2446),settingName:$.t("Ideas"),desktopNotification:{messageTitle:$.t("New idea by {0} on symbol {2}"),useChartTitle:!0}}},this._settingsGroups=[{title:$.t("People you follow"),items:["publish","chart_updates","change_status"]},{title:$.t("Symbol you follow"),items:["follow_symbol"]}]),this._widgetType===w&&(this._events={follow_user:{templateOptions:{noBody:!0},eventName:$.t("Follows you"),iconSvgCode:i(2929),settingName:$.t("New follower"),desktopNotification:{messageTitle:$.t("User {0} now follows you"),noDescription:!0}},comment:{templateOptions:{title:!0,description:!0,descriptionLink:!0,chartPreview:!0},eventName:$.t("Commented on your idea"),iconSvgCode:i(1534),settingName:$.t("Comments"),desktopNotification:{messageTitle:$.t("{0} commented on your idea {1}")}},vote:{templateOptions:{title:!0,chartPreview:!0},eventName:$.t("Agreed with your idea"),iconSvgCode:i(2930),settingName:$.t("Likes"),desktopNotification:{messageTitle:$.t("{0} agreed with your idea"),useChartTitle:!0}},mention_in_ideas_comment:{templateOptions:{description:!0,descriptionLink:!0},eventName:$.t("Mentioned you in idea comment"),iconSvgCode:i(1534),settingName:$.t("Mentions in idea comment"),desktopNotification:{messageTitle:$.t("{0} mentioned you in idea comment")}},mention_in_chat:{templateOptions:{description:!0,descriptionLink:!0},eventName:$.t("Mentioned you in{0}chat"),iconSvgCode:i(1534),settingName:$.t("Mentions in chat"),desktopNotification:{messageTitle:$.t("{0} mentioned you in chat")}},access_to_script:{templateOptions:{title:!0,description:!0,chartPreview:!0,noSymbol:!0,noLikes:!0},eventName:$.t("Granted you access to a script"),iconSvgCode:i(2446),desktopNotification:{messageTitle:$.t("Granted access to a script"),description:function(t){return t.script_name}},processViewData:function(t,e){t.chartTitle=e.script_name,t.description=$.t("Refresh your page to see it in the Indicators window.")}}},this._settingsGroups=[{title:$.t("You"),items:["follow_user","mention_in_ideas_comment","mention_in_chat"]},{title:$.t("Your Ideas"),items:["comment","vote"]}])},n.prototype._settingsMenu=function(t){var e,i=this;this._settings&&(e=[],i._settingsGroups.forEach(function(o){var n=h.Group({title:o.title.toUpperCase()});o.items.forEach(function(e){var o=i._settings,r="notification_"+e;n.push({title:i._events[e].settingName,action:function(){var e,n;o[r]^=1,e={widget_type:i._widgetType},e[r]=o[r],n=$('input[name="'+r+'_onsite"]'),
$.post("/notifications-settings/",e,function(t){if(t&&t.success){if(n[0]){var e=1===o[r].toString(2).length?+o[r].toString(2)[0]:+o[r].toString(2)[1];e?n.attr("checked","checked"):n.removeAttr("checked")}}else o[r]^=1},"json"),setTimeout(function(){i._settingsMenu(t)},0)},icon:{image:TradingView.wrapUrl("url('/static/images/dialogs/checkbox.png')"),offset:1&o[r]?"0 -16px":void 0}})}),e.push(n)}),e.push({separator:!0}),e.push({title:$.t("Additional Notifications Settings..."),action:function(){window.open("/u/"+window.user.username+"/#notifications","_blank")},addClass:"with-indent"}),$(t.target).trigger("show-popup",[e])),t.stopPropagation()},n.prototype.updateLayout=function(t){this.resize()},n.prototype.resize=function(t){this._scroll.resize()},n.prototype.renderItems=function(t){for(var e=0;e<t.length;e++)this._$data.append(this.renderItem(t[e]));this.markNew(),this.updateLayout()},n.prototype.openChartPopup=function(t,e,i,o){var n=new c.ChartPage({chartId:t,chartName:e,publishedUrl:i,shortSymbol:o,chartWidgetCollection:this._bridge.getChartWidgetCollection()});return TradingView.historyManager.push(n),!1},n.prototype.renderItem=function(t){var e,i=this._events[t.type],n={eventType:t.type.replace("_","-"),templateOptions:i.templateOptions,id:t.id,username:t.user.username,userBadge:_(t.user),avatar:t.user.picture_url,event:i.eventName.format(t.chat_room?" "+t.chat_room+" ":" "),chartURL:t.published_chart_url,chartTitle:t.chart_title,chartSymbol:t.chart_symbol,symbolPageUrl:t.chart_pro_symbol?v({proName:t.chart_pro_symbol}):"",chartPreview:t.chart_preview,description:t.description&&r(t.description,254),shortDescription:i.templateOptions.description&&!(i.templateOptions.chartPreview&&i.templateOptions.title),descriptionLink:t.entity_url,isVideo:t.is_video,typeClass:"js-chart-like",titleTooltip:$.t("Interesting, thanks!",{context:"like-button"})};return i.processViewData&&i.processViewData.call(this,n,t),e=$(o.render(this._itemTemplate,n)),e.find(".js-icon-place").append($(i.iconSvgCode)),i.templateOptions.chartPreview&&!i.templateOptions.noLikes&&(this._likesHandler.addIdea(e.find(".js-chart-like")[0],t.image_url,t.chart_likes,this._widgetType===w?-1:t.chart_voted),e.find(".js-chart-preview").on("click",this.openChartPopup.bind(this,t.image_url,t.chart_title,t.published_chart_url,t.chart_symbol))),g.agoDateFormatter(e.find(".js-ago-timer"),new Date(1e3*t.timestamp)),e},n.prototype.playSound=function(){this._settings.notification_sound&&a.ownPushStream()&&s.play(s.defaults().sound)},n.prototype.initLoadMore=function(){this._history_loaded||this._scroll.scrolltoend.subscribe(this,this.loadMore.bind(this))},n.prototype.loadMore=function(t){var e,i;this._history_loading||this._history_loaded||(this._history_loading=!0,this._$data.addClass("js-notifications-loading"),e=this._$data.find(".js-notifications-event-block:last").data("id"),i=20,$.get("/notifications-history/",{widget_type:this._widgetType,last:e,limit:i},function(t){t.length<i&&(this._history_loaded=!0),t.length&&this.renderItems(t)
}.bind(this),"json").always(function(){t||this._scroll.updateScrollBar(),this._history_loading=!1,this._$data.removeClass("js-notifications-loading")}.bind(this)))},t.exports=n}).call(e,i(4),i(21))},function(t,e,i){"use strict";(function(e,o){function n(t){this.bridge=t,this.properties=t.properties,this.settings={},this.$container=t.$body,this.prepareLayout(this.$container),this.updateData(),t.onMessage&&t.onMessage(this.onBridgeMessage.bind(this)),t.symbol&&t.symbol.subscribe(this.update.bind(this)),t.interval&&t.interval.subscribe(this.updateInterval.bind(this)),c.on("ideas.channel",this.messageHandler.bind(this)),this.favorites=new n.Favorites(n.FAV_KEY)}function r(t){this.requestData=t,this.offset=0,this.itemsInRequest=5,this.requestsRunning=0}function s(t,e,i){return t.filter(function(){return $(this).data(e)===i})}function a(t,e,i){this._bridge=t,this._handler=e,this._handler(this.getMenu(i))}var l,c,h,d,u,p,f,_;i(2931),l=i(534),c=i(49),h=i(83).SidebarCustomScroll,d=i(519).bindPopupMenu,u=i(255).createConfirmDialog,p=i(62).unifiedSpinner,f=i(927),_=i(67).createNoticeDialog,n.SHOW_ONLY_PRIVATE_IDEAS="notes.show_only_private_ideas",n.SHOW_IDEAS_FOR_CURRENT_SYMBOL="notes.show_ideas_for_current_symbol",n.SHOW_IDEAS_FOR_CURRENT_RESOLUTION="notes.show_ideas_for_current_resolution",n.SHOW_ONLY_FAVORITE_IDEAS="notes_widget.show_only_favorite_ideas",n.FAV_KEY="notesAndIdeas.favorites",n.prototype.onChart=function(){return null!=this.bridge.getChartWidget()},n.prototype.filterData=function(t){return(!this.showOnlyPrivateIdeas()||!t.is_public)&&((!this.showIdeasForCurrentSymbol()||t.symbol===this.bridge.symbol.value())&&((!this.showIdeasForCurrentResolution()||t.interval===this.bridge.interval.value())&&(!(this.showOnlyFavoriteIdeas()&&!this.favorites.isFavorite(t.id))&&!(this.listView.find(t.id).length>0&&"delete"!==t.action))))},n.prototype.messageHandler=function(t){if("delete"===t.action)this.listView.find(t.idea.id).remove(),this.notesCache.removeNote();else if(this.filterData(t.idea)){var e=new n.Idea(t.idea);this.listView.prepend(e),this.notesCache.addNote(),this.addListeners(e)}},n.prototype.update=function(){this.bridge&&this.bridge.symbol&&this.updateData()},n.prototype.updateInterval=function(){this.bridge&&this.bridge.interval&&this.updateData()},n.prototype.updateData=function(){if(is_authenticated){var t=this;this.notesCache=new r(this.getRequestData()),this.notesCache.requestNext().then(function(e){t.onData(e.charts)})}},n.prototype.appendData=function(){var t=this;this.listView.loading(!0),this.notesCache.requestNext().then(function(e){t.onData(e.charts,!0)}).always(function(){t.listView.loading(!1)})},n.prototype.addListeners=function(t){var e=this;t.onClick(function(t,i){var o=new l.ChartPage({chartId:i.getImageUrl(),chartName:i.getName(),publishedUrl:i.getPublishedChartUrl(),chartWidgetCollection:e.bridge.getChartWidgetCollection()});o&&TradingView.historyManager.push(o)}),t.onDelete(function(t,i){e.deletePublishedChart(i,{trigger:!0})}),t.onFavorite(function(t,i){e.favorites.toggleFavorite(i.getId()),
i.setFavorite(e.favorites.isFavorite(i.getId()))}),t.setFavorite(e.favorites.isFavorite(t.getId()))},n.prototype.deletePublishedChart=function(t,e){var i=t.getImageUrl();u({type:"modal",content:e.isScript?$.t("Do you really want to delete Script '{0}' ?").format(t.getName()):$.t("Do you really want to delete Idea '{0}' ?").format(t.getName())}).actionLoader("yes").on("action:yes",function(t){t.actionLoader("yes","start"),$.ajax({type:"POST",url:"/idea-delete/",data:{image_url:i},success:function(e){if(t.actionLoader("yes","stop"),e.error)return void t.error(e.error);t.close()}})}).open()},n.prototype.onData=function(t,e){var i,o;for(e||(this._scroll.scrollTo(0),this.listView.empty()),i=0;i<t.length;i++)o=new n.Idea(t[i]),this.listView.add(o),this.addListeners(o);this._scroll.atEnd()&&this._scroll.scrolltoend.fire()},n.prototype.showOnlyFavoriteIdeas=function(){return TVSettings.getBool(n.SHOW_ONLY_FAVORITE_IDEAS,!1)},n.prototype.showOnlyPrivateIdeas=function(){return TVSettings.getBool(n.SHOW_ONLY_PRIVATE_IDEAS,!1)},n.prototype.showIdeasForCurrentSymbol=function(){return TVSettings.getBool(n.SHOW_IDEAS_FOR_CURRENT_SYMBOL,!1)},n.prototype.showIdeasForCurrentResolution=function(){return TVSettings.getBool(n.SHOW_IDEAS_FOR_CURRENT_RESOLUTION,!1)},n.prototype.toggleShowOnlyPrivateIdeas=function(){TVSettings.setValue(n.SHOW_ONLY_PRIVATE_IDEAS,!this.showOnlyPrivateIdeas()),this.updateData()},n.prototype.toggleShowOnlyFavoriteIdeas=function(){TVSettings.setValue(n.SHOW_ONLY_FAVORITE_IDEAS,!this.showOnlyFavoriteIdeas()),this.updateData()},n.prototype.toggleIdeasForCurrentSymbol=function(){TVSettings.setValue(n.SHOW_IDEAS_FOR_CURRENT_SYMBOL,!this.showIdeasForCurrentSymbol()),this.updateData()},n.prototype.toggleIdeasForCurrentResolution=function(){TVSettings.setValue(n.SHOW_IDEAS_FOR_CURRENT_RESOLUTION,!this.showIdeasForCurrentResolution()),this.updateData()},n.prototype.onBridgeMessage=function(t,e){t===n.SHOW_ONLY_PRIVATE_IDEAS?this.toggleShowOnlyPrivateIdeas():t===n.SHOW_IDEAS_FOR_CURRENT_SYMBOL?this.toggleIdeasForCurrentSymbol():t===n.SHOW_IDEAS_FOR_CURRENT_RESOLUTION?this.toggleIdeasForCurrentResolution():t===n.SHOW_ONLY_FAVORITE_IDEAS&&this.toggleShowOnlyFavoriteIdeas()},n.prototype.prepareLayout=function(t){this._$widget=$('<div class="tv-notes-widget">').appendTo(t),this.$data=$('<div class="tv-notes-widget__data">').appendTo(this._$widget),this.listView=new n.ListView(this.$data),this._scroll=new h(this._$widget,this.$data);var e=this;this._scroll.scrolltoend.subscribe(this,function(t){this.notesCache.requestRunning()||this.notesCache.requestedAll()||e.appendData()}),this.$addButton=$(document.createElement("a")).addClass("button apply-common-tooltip").attr("title",$.t("Publish Private Idea")).append($(i(1461)).attr({width:17,height:17})).appendTo(this.bridge.$headerspace),this.onChart()?this.$addButton.on("click",function(){$(".publish-dropdown-container").children().removeClass("inprogress"),f.publishChart({isPrivate:!0,doNotSavePrivacySetting:!0})}):this.$addButton.on("click",function(){
var t=$.t('Publishing is possible only from the chart page. Please <a target="_blank" href="/chart/">open a chart</a> and then try again.');_({title:$.t("Oops!"),content:t}).open()}),this.$settingsButton=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'"></a>').append($(i(2367)).attr({width:17,height:17})).on("click",function(t){this._showSettingsDialog(t)}.bind(this)).appendTo(this.bridge.$headerspace),d(this.$settingsButton,null,{event:"show-popup",hideEvent:"hide-popup",careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0})},n.prototype._showSettingsDialog=function(t){return $(t.delegateTarget).hasClass("open")?($(t.delegateTarget).trigger("hide-popup"),!1):(new a(this.bridge,function(e,i){$(t.delegateTarget).trigger("show-popup",[e,i])},this.onChart()),t.preventDefault(),!1)},r.prototype.requestRunning=function(){return this.requestsRunning>0},r.prototype.requestedAll=function(){return this.offset>=this.chartsCount},r.prototype.addNote=function(){this.offset++},r.prototype.removeNote=function(){this.offset--},r.prototype.requestNext=function(){var t=this;return this.requestData.offset=this.offset,this.requestData.count=this.itemsInRequest,this.requestsRunning++,$.get("/my-ideas/",this.requestData,function(e){e&&(t.offset+=e.charts.length,t.chartsCount=e.count)}).always(function(){t.requestsRunning--})},n.prototype.getRequestData=function(t){var e,i,o={start:t||0,onlyPrivate:this.showOnlyPrivateIdeas(),onlyFavorite:this.showOnlyFavoriteIdeas()};return this.bridge.getChartWidget()&&(e=this.bridge.symbol.value(),i=this.bridge.interval.value(),e&&this.showIdeasForCurrentSymbol()&&(o.symbol=e),i&&this.showIdeasForCurrentResolution()&&(o.interval=i)),o},n.Favorites=function(t){this.key=t,this._favs=TVSettings.getJSON(t,[])},n.Favorites.prototype.addFavorite=function(t){return!this.isFavorite(t)&&(this._favs.push(t),this.save(),!0)},n.Favorites.prototype.toggleFavorite=function(t){this.isFavorite(t)?this.removeFavorite(t):this.addFavorite(t)},n.Favorites.prototype.isFavorite=function(t){return-1!==this._favs.indexOf(t)},n.Favorites.prototype.save=function(){TVSettings.setJSON(this.key,this._favs)},n.Favorites.prototype.removeFavorite=function(t){return!!this.isFavorite(t)&&(this._favs.splice(this._favs.indexOf(t),1),this.save(),!0)},n.Idea=function(t){var e=new n.IdeaViewRenderer;this.$view=e.render(t),this.$view.data("id",t.id),this.$view.data("imageUrl",t.image_url),this.$view.data("publishedChartUrl",t.published_chart_url)},n.Idea.prototype.jqueryObject=function(){return this.$view},n.Idea.prototype.getName=function(){return this.$view.find(".name").text()},n.Idea.prototype.getImageUrl=function(){return this.$view.data("imageUrl")},n.Idea.prototype.getId=function(){return this.$view.data("id")},n.Idea.prototype.getPublishedChartUrl=function(){return this.$view.data("publishedChartUrl")},n.Idea.prototype.setFavorite=function(t){this.$view.find(".favorite").toggleClass("active",t).html(i(t?910:1070))},n.Idea.prototype.onClick=function(t){this.$view.on("click",function(e){
e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},n.Idea.prototype.onDelete=function(t){this.$view.find(".delete").on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},n.Idea.prototype.onFavorite=function(t){this.$view.find(".favorite").on("click",function(e){e.stopPropagation(),e.preventDefault(),t(e,this)}.bind(this))},n.IdeaViewRenderer=function(){},n.IdeaViewRenderer.prototype.render=function(t){var n={date:e.unix(t.date_timestamp).format("lll"),name:t.name,desc:t.desc,interval:t.interval,symbolStr:t.short_symbol+", "+$.t(t.interval),imageUrl:t.image_small,is_public:t.is_public,is_video:t.is_video,likes:t.likes,comments:t.comments,views:t.views},r=$(o.render('<div class="tv-notes-widget__note-block"><div class="header">{{^is_public}}<div class="private-icon">'+i(2932)+'</div>{{/is_public}}<div class="date">{{date}}</div><div class="separator"></div><div class="symbol">{{symbolStr}}</div><div class="separator"></div><div class="favorite"></div></div>{{^is_public}}<span class="delete">'+i(152)+'</span>{{/is_public}}<div class="name">{{name}}</div><div class="desc">{{desc}}</div><div class="container clearfix"><img class="preview" src="{{imageUrl}}">{{#is_video}}<div class="play-icon">'+i(1073)+'</div>{{/is_video}}{{#is_public}}<div class="stats"><div class="likes"><span>{{likes}}</span></div><div class="comments"><span>{{comments}}</span></div><div class="views"><span>{{views}}</span></div></div>{{/is_public}}</div></div>',n));return r.find(".likes").prepend($(i(1465)).attr({width:12,height:12})),r.find(".comments").prepend($(i(2933)).attr({width:12,height:12})),r.find(".views").prepend($(i(2934)).attr({width:12,height:12})),r},n.ListView=function(t){this.$list=t,this.showEmptyLabel()},n.ListView.prototype.empty=function(){this.$list.empty(),this.showEmptyLabel()},n.ListView.prototype.loading=function(t){if(this._spinner||(this._spinner=p("mini")),t){var e=$('<div class="spinner-container"></div>');this._spinner.spin(e.get(0)),this.$list.append(e)}else this._spinner.stop(),this.$list.find(".spinner-container").remove();this.showEmptyLabel()},n.ListView.prototype.showEmptyLabel=function(){var t;is_authenticated?0===this.$list.children().length?(t=$('<div class="no-ideas">'+$.t("No ideas matched your criteria")+"</div>"),this.$list.append(t)):this.$list.find(".no-ideas").remove():(t=$('<div class="ch-item-empty">'+$.t("No ideas.")+" <br/>"+$.t("If you want to use this service - please __signInLink__!",{signInLink:'<a href="#signin">'+$.t("sign in or register")+"</a>"})+"</div>"),t.find("a").on("click",function(){return runOrSignIn(function(){},{source:"My ideas widget placeholder",sourceMeta:"Chart"}),!1}),this.$list.append(t))},n.ListView.prototype.prepend=function(t){this.$list.prepend(t.jqueryObject()),this.showEmptyLabel()},n.ListView.prototype.add=function(t){this.$list.append(t.jqueryObject()),this.showEmptyLabel()},n.ListView.prototype.remove=function(t){s(this.$list.children(),"id",t.getId()).remove(),this.showEmptyLabel()},n.ListView.prototype.find=function(t){
return s(this.$list.children(),"id",t)},a.prototype.getMenu=function(t){var e=[];return e.push({title:$.t("Favorite ideas"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(n.SHOW_ONLY_FAVORITE_IDEAS)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(n.SHOW_ONLY_FAVORITE_IDEAS)}.bind(this)}),e.push({title:$.t("Only private ideas"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(n.SHOW_ONLY_PRIVATE_IDEAS)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(n.SHOW_ONLY_PRIVATE_IDEAS)}.bind(this)}),t&&(e.push({title:$.t("Ideas for the current symbol only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(n.SHOW_IDEAS_FOR_CURRENT_SYMBOL)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(n.SHOW_IDEAS_FOR_CURRENT_SYMBOL)}.bind(this)}),e.push({title:$.t("Ideas for the current resolution only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:TVSettings.getBool(n.SHOW_IDEAS_FOR_CURRENT_RESOLUTION)?"0 -16px":void 0},action:function(t){this._bridge.postMessage(n.SHOW_IDEAS_FOR_CURRENT_RESOLUTION)}.bind(this)})),e},t.exports=n}).call(e,i(54),i(21))},function(t,e,i){"use strict";function o(t){n.call(this,t),this._ALERT_LIST_LIMIT=30,this._itemViewCtor=r,this.list=new a({model:TradingView.alertsDispatcher.alerts.model,observableCollection:TradingView.alertsDispatcher.alerts,syncEvents:["change:id","change:active","change:crossInterval","change:resolution","change:symbol"],validator:function(t){return!t.isNew()&&(!(!t.get("symbol")||!t.get("resolution"))&&(!(this.hideInactiveAlerts.value()&&!t.get("active"))&&((!this.currenSymbolOnly.value()||t.get("symbol")===this.symbol())&&!(!t.get("crossInterval")&&this.currenResolutionOnly.value()&&t.get("resolution")!==this.resolution()))))}.bind(this),comparator:function(t){return-1*parseInt(t.id)}}),this._tableTemplate='<table class="alert-list"><thead><th class="status"></th><th class="symbol">'+$.t("Symbol")+"</th><th>"+$.t("Description")+"</th></thead><tbody></tbody></table>",this._$container.addClass("alerts-manage-widget"),this._prepareButtons(),this._attachHandlers(),this._bridge.active.when(this.reloadList.bind(this))}var n=i(2609),r=i(2936),s=i(256).MakeAlertDialog,a=i(581),l=i(519).bindPopupMenu,c=i(131);inherit(o,n),o.prototype._prepareButtons=function(){function t(){runOrSignIn(function(){new s({trackEvent:"widget"})},{source:"Alerts manage widget",sourceMeta:"Chart"})}var e,o=this;o._bridge.getChartWidget()&&($(document.createElement("a")).addClass("button apply-common-tooltip").attr("title",$.t("Set Alert")+"\nAlt+A").append($(i(1461)).attr({width:17,height:17})).appendTo(o._bridge.$headerspace).click(t),c.bind("Alt+A",function(e){return e.preventDefault(),t(),!1})),e=$('<a class="button apply-common-tooltip" title="'+$.t("Settings")+'"></a>').append($(i(2367)).attr({width:17,height:17})),e.appendTo(o._bridge.$headerspace),l(e,null,{event:"show-popup",hideEvent:"hide-popup",addClass:"ch-popup ch-settings-popup",
careBottomBorder:!0,careRightBorder:!0,viewportSpacing:2,reverse:!0}),e.click(function(t){$(t.target).trigger("show-popup",[o._getMenu()]),t.stopPropagation()})},o.prototype._attachHandlers=function(){var t=this;t.list.on("add",t._addViewItem.bind(t)),t.list.on("reset",t._renderTable.bind(t)),t.list.on("remove",t._removeViewItem.bind(t)),t.currenSymbolOnly.subscribe(function(e){TVSettings.setValue("alerts.widget.show_for_curren_symbol_only",!!e),t._bridge.postMessage("alert_current_symbol_only",{value:e}),t.reloadList()}),t.currenResolutionOnly.subscribe(function(e){TVSettings.setValue("alerts.widget.show_for_curren_resolution_only",!!e),t._bridge.postMessage("alert_current_resolution_only",{value:e}),t.reloadList()}),t.hideInactiveAlerts.subscribe(function(e){TVSettings.setValue("alerts.widget.hide_inactive",!!e),t._bridge.postMessage("alert_hide_inactive_alerts",{value:e}),t.reloadList()})},o.prototype._highlightNewEvents=function(){var t,e,i,o=this,n=o._eventsToHighlight;if(n&&n.length)for(i=0;i<n.length;i++)t=TradingView.alertsDispatcher.events.get(n[i]),(e=t?o._getViewItem(t.get("alert")):null)&&e.highlight();o._eventsToHighlight=[]},o.prototype._getMenu=function(){var t=this,e=[],o=i(25);return e.push({title:$.t("For the current symbol only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:t.currenSymbolOnly.value()?"0 -16px":void 0},action:function(e){var i=!t.currenSymbolOnly.value();t.currenSymbolOnly.setValue(i),TVSettings.setValue("alerts.show_for_curren_symbol_only",i)}}),e.push({title:$.t("For the current resolution only"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:t.currenResolutionOnly.value()?"0 -16px":void 0},action:function(e){var i=!t.currenResolutionOnly.value();t.currenResolutionOnly.setValue(i),TVSettings.setValue("alerts.show_for_curren_resolution_only",i)}}),e.push({separator:!0}),e.push({title:$.t("Hide inactive"),icon:{image:"url('/static/images/dialogs/checkbox.png')",offset:t.hideInactiveAlerts.value()?"0 -16px":void 0},action:function(e){var i=!t.hideInactiveAlerts.value();t.hideInactiveAlerts.setValue(i),TVSettings.setValue("alerts.hide_inactive",i)}}),e.push({separator:!0}),o.isFeatureEnabled("restart_all_inactive_alerts")&&e.push({title:$.t("Restart all inactive"),action:function(e){var i={active:!1,showConfirm:!0,symbol:t.currenSymbolOnly.value()?t.symbol():"",resolution:t.currenResolutionOnly.value()?t.resolution():""};TradingView.alertsDispatcher.restartAllAlerts(i)}}),e.push({title:$.t("Stop all"),action:function(e){TradingView.alertsDispatcher.stopAllAlerts({showConfirm:!0,symbol:t.currenSymbolOnly.value()?t.symbol():"",resolution:t.currenResolutionOnly.value()?t.resolution():""})}}),e.push({title:$.t("Delete all inactive"),action:function(t){TradingView.alertsDispatcher.deleteAllAlerts({active:!1,showConfirm:!0})}}),e.push({title:$.t("Delete all"),action:function(e){var i={showConfirm:!0,symbol:t.currenSymbolOnly.value()?t.symbol():"",resolution:t.currenResolutionOnly.value()?t.resolution():""};t.hideInactiveAlerts.value()&&(i.active=!0),
TradingView.alertsDispatcher.deleteAllAlerts(i)}}),e},o.prototype._requestList=function(t){TradingView.alertsDispatcher.requestList(t)},o.prototype._requestListOptions=function(){return{limit:this._ALERT_LIST_LIMIT,symbol:this.currenSymbolOnly.value()?this.symbol():void 0,resolution:this.currenResolutionOnly.value()?this.resolution():void 0,active:!!this.hideInactiveAlerts.value()||void 0}},o.prototype._messagesHtml=function(t){var e=this._bridge.getChartWidget()?$.t("Click <a href='#' class='create-alert'>here</a> to create new alert"):$.t("Click <a href='/chart/'>here</a> to go to chart and create one");return{empty_list:$.t("No alerts")+".<br>"+e,not_auth:$.t('To get alerts list - please <a class="js-run-or-sign-in" href="#signin">sign in or register!</a>'),maintenance:$.t("We are doing some brief daily maintenance. Alerts will be back really soon, thanks for your patience!")}[t]},t.exports=o},function(t,e,i){"use strict";function o(t){n.call(this,t),this._ALERT_EVENT_LIST_LIMIT=50,this._itemViewCtor=r,this.list=new s({events:TradingView.alertsDispatcher.events.model,observableCollection:TradingView.alertsDispatcher.events,syncEvents:["change:crossInterval","change:resolution","change:symbol"],validator:function(t){return!(!t.get("symbol")||!t.get("resolution"))&&((!this.currenSymbolOnly.value()||t.get("symbol")===this.symbol())&&!(!t.get("crossInterval")&&this.currenResolutionOnly.value()&&t.get("resolution")!==this.resolution()))}.bind(this),comparator:function(t){return-1*parseInt(t.id)}}),this._tableTemplate='<table class="alert-list"><thead><th class="symbol">'+$.t("Symbol")+"</th><th>"+$.t("Description")+'</th><th class="date">'+$.t("Date/Time")+"</th></thead><tbody></tbody></table>",this._$container.addClass("alerts-log-widget"),this._attachHandlers(),this._bridge.active.when(this.reloadList.bind(this))}var n=i(2609),r=i(2939),s=i(581),a=i(53).TVXWindowEvents;inherit(o,n),o.prototype._attachHandlers=function(t){var e=this;e.list.on("add",e._prependViewItem.bind(e)),e.list.on("reset",e._renderTable.bind(e)),e.list.on("remove",e._removeViewItem.bind(e)),e.currenSymbolOnly.subscribe(e.reloadList.bind(e)),e.currenResolutionOnly.subscribe(e.reloadList.bind(e)),e.hideInactiveAlerts.subscribe(e.reloadList.bind(e)),e.list.on("fired",function(t){e._bridge.postMessage("alert_event",{symbol:t.get("symbol")})}),e._bridge.onMessage(function(t,i){switch(t){case"alert_current_symbol_only":e.currenSymbolOnly.setValue(i.value);break;case"alert_current_resolution_only":e.currenResolutionOnly.setValue(i.value);break;case"alert_hide_inactive_alerts":e.hideInactiveAlerts.setValue(!!i.value)}}),a.on("alertevents-markread",function(){setTimeout(function(){e._bridge.clearNotifications()},0)})},o.prototype._highlightNewEvents=function(){var t,e,i,o=this,n=o._eventsToHighlight;if(n&&n.length)for(i=0;i<n.length;i++)t=o.list.get(n[i]),(e=t?o._getViewItem(t):null)&&e.highlight();o._eventsToHighlight=[],a.emit("alertevents-markread")},o.prototype._requestList=function(t){TradingView.alertsDispatcher.requestEventList(t)},
o.prototype._requestListOptions=function(){return{limit:this._ALERT_EVENT_LIST_LIMIT,symbol:this.currenSymbolOnly.value()?this.symbol():void 0,resolution:this.currenResolutionOnly.value()?this.resolution():void 0}},o.prototype._messagesHtml=function(t){return{empty_list:$.t("No alerts triggered"),not_auth:$.t('To get alerts log - please <a class="js-run-or-sign-in" href="#signin">sign in or register!</a>'),maintenance:$.t("We are doing some brief daily maintenance. Alerts will be back really soon, thanks for your patience!")}[t]},t.exports=o},function(t,e,i){"use strict";(function(e,o){function n(t){this._bridge=t,this._properties=t.properties||{},this._properties.symbols=this._properties.symbols||this.defaults().symbols,this._initLayout(),this._bridge.visible.subscribe(this._visibilityChanged.bind(this)),this._bridge.height.subscribe(this._onHeightChange.bind(this))}var r=i(514).MiniChart,s=i(89).QuoteTicker;n.prototype.defaults=function(){return{symbols:[{symbol:"S&P 500",symbol_full:"INDEX:SPX",short_name:"SPX",color:"#e0725e"},{symbol:"Nikkei 225",symbol_full:"INDEX:NKY",short_name:"NI225",color:"#64a81e"},{symbol:"Nasdaq",symbol_full:"INDEX:IUXX",short_name:"NDX",color:"#fdaf48"}],minHeight:150}},n.prototype._initLayout=function(){var t,i,n=this._bridge.$body;n.addClass("market-summary"),t=$.map(this._properties.symbols,function(t){return{symbol:t.symbol_full,options:{line:{color:t.color}}}}),this.$chart=$('<div class="mini-chart" style="position: relative;"></div>'),this.$timeframes=$('<div class="timeframe"></div>'),this._chart=new r(t,this.$chart.get(0),{showMessage:!1,timeframe:{container:this.$timeframes.get(0),value:"1m",visible:!0},showTimeframes:!0,chartOptions:{minHeight:this.defaults().minHeight,minWidth:e.enabled("browser_extension")?330:null,grid:{xIsVisible:!1,yIsVisible:!0,line:{width:1,style:CanvasEx.LINESTYLE_DASHED,color:"#ebedf0"}},yScale:{visible:!0,position:"right",isPercentage:!0,paddingLeft:10,paddingRight:4,marginInPercents:0,font:{size:10,family:"Helvetica",color:"#c8cacd"},drawOverPlotArea:!1,drawTickMarkLine:!1,maxTickMarkAmount:5},xScale:{visible:!0,font:{size:10,family:"Helvetica",color:"#c8cacd"}},plot:{line:{width:2},belowLineFillStyle:"transparent",aboveLineFillStyle:"transparent"},loading:{showWhileNoPlots:!0}}}),this.$quotes=$(o.render('<table class="quote-tickers"><tr>{{#symbols}}<td><div class="market-summary-quote-ticker chart-legend" data-symbol="{{symbol_full}}"><a href="/chart/?symbol={{symbol_full}}" target="_blank" class="chart-link" data-symbol="{{symbol_full}}" style="border-color: {{color}}"><div class="symbol-name symbol-short-name">{{symbol}}</div><div class="symbol-tiker symbol-change-direction symbol-last">&nbsp;</div></a></div></td>{{/symbols}}</tr></table>',{symbols:this._properties.symbols})),this._quotes=[],i=this,this.$quotes.find(".market-summary-quote-ticker").each(function(){var t=this,e=$(t);i._quotes.push(new s(e.data("symbol"),t))}),n.append(this.$timeframes,this.$chart,this.$quotes),this._onHeightChange()},n.prototype._onHeightChange=function(t){
var e=this._bridge.$body.height()-this.$quotes.outerHeight(!0)-this.$timeframes.outerHeight(!0);e=Math.max(e,this.defaults().minHeight),this.$chart.height(e)},n.prototype._visibilityChanged=function(t){t||this.$chart.css("visibility","hidden"),this._quotes.forEach(function(e){e.enabled=!!t}),t?this._chart.enable(function(){this.$chart.css("visibility","visible"),this._onHeightChange()}.bind(this)):this._chart.disable()},t.exports=n}).call(e,i(3),i(21))},function(t,e,i){"use strict";(function(e,o,n){function r(t,e){e=e||s.widgetConfig;var i=(e[t]||0).title;return!i&&t&&(i=(""+t).match(/[A-Z]{2,}|\d+(?:\.\d+)?|[A-Z]?[a-z]+/g).join(" ").replace(/^.|\s./g,function(t){return t.toUpperCase()})),i||void 0}function s(t,e){if(!(this instanceof s))return new s(t,e);switch(t||(t={}),this.options=t,this.resizerBridge=t.resizerBridge,this.adaptive=!!t.adaptive,this.domPanel=t.domPanel,this.widgetConfig=$.extend(!0,{},s.widgetConfig),e&&(this.widgetConfig=$.extend(!0,this.widgetConfig,e)),this.layout=new a({widgetBar:this}),this._customization=t.customization,isFinite(t.overlayThreshold)&&(this.layout.OVERLAY_THRESHOLD=+t.overlayThreshold),t.chartWidgetCollection&&(this.chartWidgetCollection=t.chartWidgetCollection),t.state?this.layout.demarshal(t.state):t.settingsPrefix&&(this._settingsPrefix=t.settingsPrefix+"",this.loadFromTVSettings()),t.readonly&&(this.readonly=!0),t.fixedMode&&(this.fixedMode=!0),t.layoutPosition){case"horizontal":this.layoutPosition=t.layoutPosition;break;default:this.layoutPosition="vertical"}t.showCloseButton&&(this.showCloseButton=!0),this.$container=$(this.resizerBridge.body.value()),this.createHTML(),this.initLayout(),TradingView.onWidget()||"vertical"!==this.layoutPosition||(this.createBugReportButton(),this.createHelpButton(),this.layout.createDomButton()),loginStateChange.subscribe(this,this.onLoginStateChange),this.resizerBridge.width.subscribe(function(){this.layout.syncWidth()}.bind(this)),this.resizerBridge.height.subscribe(function(){this.layout.syncHeight()}.bind(this)),this.resizerBridge.fullscreen.subscribe(function(){this.layout.syncFullscreen()}.bind(this)),this.resizerBridge.visible.subscribe(function(t){this.layout.onVisibilityChange(t)}.bind(this)),this.resizerBridge.availWidth.subscribe(function(){this.layout.requestOptimalWidth(),this.layout.updateResponsiveness()}.bind(this))}function a(t){this.widgetBar=t.widgetBar,this.pages=[],t&&t.widgetBar&&Object.defineProperty(this,"widgetBar",{value:t.widgetBar,configurable:!0})}function l(t){this.widgets=[],t&&t.widgetBarLayout&&Object.defineProperty(this,"widgetBarLayout",{value:t.widgetBarLayout,configurable:!0})}function c(t){t&&t.widgetBarPage&&Object.defineProperty(this,"widgetBarPage",{value:t.widgetBarPage,configurable:!0}),this._internalState={alive:new o(!0),body:new o,width:new o,height:new o,detachable:new o(!1)},this._rdState=new b.ResizerDetacherState(this._internalState),this._rdState.owner.subscribe(function(t){t!==this._internalState&&this._internalState.body.value().empty()}.bind(this)),this.widgetActive=new o,
this.widgetMaximized=new o,this._widgetStarted=new n}function h(t){t&&t.settingsKey&&(this._settingsKey=t.settingsKey,this._value=TVSettings.getJSON(this._settingsKey,null)),t&&t.widgetBarWidget&&Object.defineProperty(this,"widgetBarWidget",{value:t.widgetBarWidget,configurable:!0})}var d,u="widgetbar",p=i(896),f=i(1247),_=i(93),g=i(88),m=i(20).trackEvent,v=i(25).isFeatureEnabled,y=i(17),b=i(456);i(1756),i(1757),d=i(43),s.widgetConfig={reuters_calendar:{title:$.t("Economic Calendar"),ctor:null,lazyLoad:!0,icon:"economic-calendar",options:{widgetType:"widgetbar"}},earnings_calendar:{title:$.t("Earnings Calendar"),ctor:null,lazyLoad:!0,icon:"earnings-calendar"},watchlist:{title:$.t("Watchlist"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0},hotlist:{title:$.t("Hotlist"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0},detail:{title:$.t("Details"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0},news:{title:$.t("News"),ctor:null},chat:{title:$.t("Talks"),ctor:null,chartWidgetAllowed:!0,lazyLoad:!0,doNotClearNotifications:!0},messages:{title:$.t("Recent Chats"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0},messages_with_select:{title:$.t("Recent Chats"),ctor:null,chartWidgetAllowed:!0,doNotClearNotifications:!0,options:{layoutWithSelect:!0},emptyHeader:!0},notifications_user:{title:$.t("Notifications"),ctor:null,options:{type:"user"},chartWidgetAllowed:!0},notifications_following:{title:$.t("Ideas Stream"),ctor:null,options:{type:"following"},chartWidgetAllowed:!0},datawindow:{title:$.t("Data Window"),ctor:null,chartWidgetAllowed:!0,chartWidgetRequired:!0},publicchats:{title:$.t("All Talks"),ctor:null,lazyLoad:!0,doNotClearNotifications:!0},publicchats_with_select:{title:$.t("All Talks"),ctor:null,doNotClearNotifications:!0,options:{layoutWithSelect:!0},emptyHeader:!0},notes:{title:$.t("My Ideas"),ctor:null,lazyLoad:!0,chartWidgetAllowed:!0},alerts_manage:{title:$.t("Manage Alerts"),ctor:null,chartWidgetAllowed:!0},alerts_log:{title:$.t("Alerts Log"),ctor:null,chartWidgetAllowed:!0},market_summary:{title:$.t("Market Summary"),ctor:null}},s.svgIcons={base:i(1758),"economic-calendar":i(1759),"earnings-calendar":i(1760),"alarm-clock":i(899),datawindow:i(1761),hotlists:i(1762),calendar:i(1763),notes:i(1764),chat:i(1765),messages:i(1766),"ideas-stream":i(1767),notifications:i(1768)},s._messageHandlers=[],s.postMessage=function(t,e){s._messageHandlers.forEach(function(i){i.handler(t,e)})},s.onMessage=function(t){"function"==typeof t&&s._messageHandlers.push({handler:t,widget:this})},s.prototype.layoutKeyName="layout-settings",s.prototype.initLayout=function(){var t=this;p.load(u,function(){var e=$.Deferred();return f.loadWidgetBarModules(function(i){var o=t.widgetConfig;o.reuters_calendar.ctor=i.ReutersCalendarWidget,o.earnings_calendar.ctor=i.CalendarWidget&&i.CalendarWidget.Earnings,o.watchlist.ctor=i.Watchlist&&i.Watchlist.Widget,o.hotlist.ctor=i.HotlistWidget,o.detail.ctor=i.Detail&&i.Detail.Widget,o.news.ctor=i.NewsWidget,o.chat.ctor=i.ChatWidget,o.messages.ctor=i.Messages&&i.Messages.Widget,
o.messages_with_select.ctor=i.Messages&&i.Messages.Widget,o.notifications_following.ctor=i.NotificationsWidgets,o.notifications_user.ctor=i.NotificationsWidgets,o.publicchats.ctor=i.PublicChatsWidget,o.publicchats_with_select.ctor=i.PublicChatsWidget,o.notes.ctor=i.NotesWidget,o.alerts_manage.ctor=i.AlertsManageWidget,o.alerts_log.ctor=i.AlertsLogWidget,o.market_summary.ctor=i.MarketSummaryWidget,e.resolve(i)}),e.promise()},this.options.instantLoad),p.onReady(u,function(){t.layout.startWidgets()}),t.layout.requestOptimalWidth(),this.layout.syncWidth(),this.layout.syncHeight(),this.layout.syncFullscreen(),t.layout.onVisibilityChange(),t.layout.updateResponsiveness()},s.prototype.loadWidgets=function(){this._widgetsLoadRequested||(this._widgetsLoadRequested=!0,p.load(u,null,!0))},s.prototype.onLoginStateChange=function(t){t||window.is_authenticated&&(this.dropWidgetData(),this.refreshFromTVSettings(),TradingView.onWidget()||"vertical"!==this.layoutPosition||(this.createBugReportButton(),this.createHelpButton(),this.layout.createDomButton()))},s.prototype.dropWidgetData=function(){for(var t in this.widgetConfig)delete this.widgetConfig[t].data},s.prototype.refreshFromTVSettings=function(){this._settingsPrefix&&(this.layout&&this.layout.destroy(),this.layout=new a({widgetBar:this}),this.loadFromTVSettings(),this.layout.createHTML(),this.layout.$pages.appendTo(this.$wrap),this.layout.$tabs.appendTo(this.$wrap),this.initLayout())},s.prototype.getWidgets=function(t){var e,i=[];for(e=0;e<this.layout.pages.length;++e)i=i.concat(this.layout.pages[e].getWidgets(t));return i},s.prototype.loadFromTVSettings=function(){var t,e,i,o,n;if(this._settingsPrefix){try{this.migrateFromOld()}catch(t){console.error&&console.error(t)}if(t=this.getLayoutState(),t=this.mergeProperties(t),this.layout.demarshal(t,{settingsPrefix:this._settingsPrefix}),this.saveToTVSettings(),e=TVSettings.getJSON(this._settingsPrefix+"."+this.layoutKeyName,null)){i=[];for(o in e.widgets)i=i.concat(e.widgets[o].map(function(t){return t.id}));n=TVSettings.keysMask(this._settingsPrefix+".widget.*.*"),n&&n.forEach(function(t){var e=t.replace(this._settingsPrefix+".widget.","");-1===i.indexOf(e)&&0===t.indexOf(this._settingsPrefix+".widget.")&&(m("Settings debug","loadFromTVSettings: "+t,user.username),TVSettings.remove(t))}.bind(this))}}},s.prototype.mergeProperties=function(t){var i,o,n,r,s,a,l=TVSettings.getJSON(this._settingsPrefix+"."+this.layoutKeyName,null);if(!l)return t;for(e.enabled("browser_extension")&&(i=TVSettings.getJSON(this._settingsPrefix+".extension."+this.layoutKeyName,{}).settings,i?l.settings=i:delete l.settings),l.settings&&$.extend(t,l.settings),o={},n=0;n<t.pages.length;n++)for(r=0;r<t.pages[n].widgets.length;r++)s=t.pages[n].widgets[r],a=o[s.type]||0,l.widgets[s.type]&&l.widgets[s.type][a]&&$.extend(s,l.widgets[s.type][a]),o[s.type]=++a;return t},s.prototype.migrateFromOld=function(t){var e,i,o,n,r,s,a,l=TVSettings.getJSON(this._settingsPrefix+".layout-fixed",null);if(l){e={settings:{}},"minimized"in l&&(e.settings.minimized=l.minimized),
"width"in l&&(e.settings.width=l.width),"activeIndex"in l&&(e.settings.activeIndex=l.activeIndex),e.widgets={};for(i=0;i<l.pages.length;i++)for(o=l.pages[i].widgets||l.pages[i],r=0;r<o.length;r++)s=o[r],s.id?(n=s.id.replace(/\..*/,""),/^news_.+/.test(n)&&(n=s.type="news",TVSettings.setJSON(this._settingsPrefix+".widget."+s.id.replace(/news_[^.]*/,"news"),TVSettings.getValue(this._settingsPrefix+".widget."+s.id)),s.id=s.id.replace(/news_[^.]*/,"news"))):(n=s.type,/^news_.+/.test(n)&&(s.properties=s.properties||{},s.properties.provider=s.type.replace(/news_([^.]*).*/,"$1"),n=s.type="news")),e.widgets[n]?e.widgets[n].push(s):e.widgets[n]=[s];TVSettings.setJSON(this._settingsPrefix+"."+this.layoutKeyName,e)}else TVSettings.getJSON(this._settingsPrefix+".layout",null)&&(a=this.getWidgetProperties("watchlist"))&&(e={settings:{},widgets:{watchlist:[a]}},TVSettings.setJSON(this._settingsPrefix+"."+this.layoutKeyName,e));l&&TVSettings.remove(this._settingsPrefix+".layout-fixed"),TVSettings.getJSON(this._settingsPrefix+".layout",null)&&TVSettings.remove(this._settingsPrefix+".layout")},s.prototype.saveToTVSettings=function(){var t,i;this._settingsPrefix&&(t=this.layout.marshal(),e.enabled("browser_extension")?(TVSettings.setJSON(this._settingsPrefix+".extension."+this.layoutKeyName,t),(i=TVSettings.getJSON(this._settingsPrefix+"."+this.layoutKeyName,null))&&i.widgets&&(i.widgets=$.extend(!0,i.widgets,t.widgets),TVSettings.setJSON(this._settingsPrefix+"."+this.layoutKeyName,i))):TVSettings.setJSON(this._settingsPrefix+"."+this.layoutKeyName,t))},s.prototype.getWidgetPropertiesLS=function(t){},s.prototype.getWidgetProperties=function(t,e){var i,o;return e=e||0,i=this._settingsPrefix.replace(/\W/g,"\\$&")+".widget.",!!((o=TVSettings.keysMask(i+t+".*"))&&o.length&&(o=o.sort(),o[e]))&&{id:o[e].replace(i,"")}},s.prototype.getGenericLayoutState=function(t){var i,o,n={version:2,width:267,pages:[]},r=window.DEFAULT_EXCHANGES;for(r.default=r.en,i=[{_gaEvent:"General Widget",title:$.t("Watchlist, details and news"),name:"base",icon:"base",widgets:[{type:"watchlist",properties:t&&t.length?{list:t}:void 0},{type:"detail"},{type:"news",properties:{provider:{base:"yahoo",ru:"djforex",en:"yahoo",tr:"bloomberght",pl:"yahoo",kr:"edali",id:"keuangan"}}}]},e.enabled("alerts")?{_gaEvent:"Alerts",title:$.t("Alerts"),name:"alerts",icon:"alarm-clock",widgets:[{type:"alerts_manage",properties:{}},{type:"alerts_log",properties:{}}]}:null,{_gaEvent:"Data Window",title:$.t("Data Window"),name:"data-window",icon:"datawindow",widgets:[{type:"datawindow",isEnabled:v("datawindow")}]},{_gaEvent:"Hotlists",title:$.t("Hotlists"),name:"hotlist",icon:"hotlists",widgets:[{type:"hotlist",properties:{exchangeByLocale:r,groupByLocale:{default:"volume_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:r,groupByLocale:{default:"percent_change_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:r,groupByLocale:{default:"percent_change_loosers"}}}]},{_gaEvent:"Calendar",title:$.t("Calendar"),name:"calendar",icon:"calendar",widgets:[{type:"reuters_calendar",
properties:{}},{type:"earnings_calendar",properties:{},isEnabled:v("earnings_calendar")}]},{_gaEvent:"My Ideas",title:$.t("My Ideas"),name:"notes",icon:"notes",spaceBottom:!0,spaceBottomText:$.t("Social"),widgets:[{type:"notes"}]},{_gaEvent:"Public Chats",title:$.t("Public Chats"),name:"chats",icon:"chat",widgets:[{type:"chat"},{type:"publicchats"}]},{_gaEvent:"Private Chats",title:$.t("Private Chats"),name:"pm_chats",icon:"messages",widgets:[{type:"messages"}]},{_gaEvent:"Ideas Stream",title:$.t("Ideas Stream"),name:"ideas_stream",icon:"ideas-stream",widgets:[{type:"notifications_following"}]},{_gaEvent:"Notifications",title:$.t("Notifications"),name:"notifications",icon:"notifications",spaceBottom:!!this.domPanel,spaceBottomText:$.t("Trade"),widgets:[{type:"notifications_user"}]}],o=0;o<i.length;o++)i[o]&&n.pages.push(i[o]);return n},s.prototype.getChartingPlatformLayoutState=function(t,e){var i,o,n={version:2,width:267,pages:[]};return(this._customization.watchlist||this._customization.details||this._customization.news)&&(i="",o=[],this._customization.watchlist&&(i=$.t("Watchlist"),o.push({type:"watchlist",id:"watchlist."+e,properties:t&&t.length?{list:t}:void 0})),this._customization.details&&(this._customization.watchlist?i+=" "+$.t("and details"):i=$.t("Details"),o.push({type:"detail"})),this._customization.news&&(this._customization.watchlist||this._customization.details?i+=" and news":i="News",o.push({type:"news",id:"news."+e})),n.pages.push({title:i,icon:"base",widgets:o})),n},s.prototype.getBrowserExtensionLayoutState=function(t){return{version:1,width:null,pages:[{title:$.t("Market Summary"),name:"market_summary",icon:"hotlists",widgets:[{type:"market_summary",properties:[{symbol:"S&P 500",symbol_full:"FX:SPX500",short_name:"SPX500",color:"#e0725e"},{symbol:"Nikkei 225",symbol_full:"FX:JPN225",short_name:"JPN225",color:"#64a81e"},{symbol:"Nasdaq",symbol_full:"FX:NAS100",short_name:"NAS100",color:"#fdaf48"}]}]},{title:$.t("Watchlist"),name:"watchlist",icon:"base",widgets:[{type:"watchlist",properties:t&&t.length?{list:t}:void 0}]},{title:$.t("Chats"),name:"chats",icon:"chat",widgets:[{type:"publicchats_with_select"}]},{title:$.t("Recent chats"),name:"pm_chats",icon:"messages",widgets:[{type:"messages_with_select"}]}]}},s.prototype.getLayoutState=function(){function t(t){return!(void 0!==t.isEnabled&&!t.isEnabled)&&(r.chartWidgetCollection||!s.widgetConfig[t.type].chartWidgetRequired)}var i,o,n,r=this,a=TVSettings.getJSON("watchlist.list",[]);for(i=e.enabled("cqg_terminal")?this.getChartingPlatformLayoutState(a,"cqg"):e.enabled("trading_terminal")?this.getChartingPlatformLayoutState(a,"terminal"):e.enabled("browser_extension")?this.getBrowserExtensionLayoutState(a):this.getGenericLayoutState(a),o=i.pages.length-1;o>=0;o--)n=i.pages[o],n.widgets=$.grep(n.widgets,t);return i.pages=$.grep(i.pages,function(t){return t.widgets&&t.widgets.length}),i},s.prototype.createWidgetId=function(t){return t+"."+y.randomHash()},s.prototype.setPage=function(t){this.layout.setMinimizedState(!1);var e=this.layout.activeIndex
;return this.layout.pages.forEach(function(i,o){i.name===t&&(e=o)}),this.layout.switchPage(e),this.layout.getActivePage()},a.prototype.startWidgets=function(){this.pages.forEach(function(t){t.widgets.forEach(function(t){t.widgetObject||t.widgetStartDelayed||setTimeout(function(){t.startWidget()},0)})});var t=this.getActivePage();t&&t.onActiveStateChange(!0)},a.prototype.syncHeight=function(){var t,e=this.widgetBar.resizerBridge.height.value();"horizontal"===this.widgetBar.layoutPosition&&(e-=45),this.$pages.css("height",e+"px"),this.minimized||(t=this.getActivePage())&&t.updateWidgetsHeight()},a.prototype.syncFullscreen=function(){var t=this.widgetBar.resizerBridge.fullscreen.value();this.$devicesCloseButton&&this.$devicesCloseButton.toggleClass("js-hidden",!t),this.$devicesCloseButtonPlaceholder&&this.$devicesCloseButtonPlaceholder.toggleClass("js-hidden",!t)},a.prototype.tabsWidth=function(){return"horizontal"!==this.widgetBar.layoutPosition&&e.enabled("widgetbar_tabs")?46:0},a.prototype.borderWidth=function(){return"horizontal"!==this.widgetBar.layoutPosition?1:0},a.prototype.canOpen=function(){return this.MIN_WIDTH+this.tabsWidth()+this.borderWidth()<=this.widgetBar.resizerBridge.availWidth.value()},a.prototype.requestWidth=function(t){var e,i,o=this.widgetBar.resizerBridge;if("horizontal"===this.widgetBar.layoutPosition)return void o.negotiateWidth({min:0,max:t});t>0&&(t+=this.borderWidth()),e=this.tabsWidth(),i=t+e,this.canOpen()?o.width.value()!==i&&o.negotiateWidth([{min:e,max:e},{min:this.MIN_WIDTH+e,max:i}]):o.negotiateWidth(0)},a.prototype.requestOptimalWidth=function(){this.changeWidgetsButtonTitle(),this.minimized?this.requestWidth(0):this.requestWidth(this.width)},a.prototype.updateResponsiveness=function(){var t=!this.canOpen();this.$tabs.toggleClass("js-hidden",t),this.$pages.toggleClass("js-hidden",t)},a.prototype.syncWidth=function(){var t,e,i=this.widgetBar.resizerBridge,o=this.tabsWidth(),n=this.borderWidth(),r=i.width.value(),s=Math.max(r-o-n,0)||0;s<this.MINIMIZE_THRESHOLD?this.setMinimizedState(!0):this.setMinimizedState(!1),this.$pages.css("width",s+"px").toggleClass("hidden",!!this.minimized),this.minimized||(t=this.getActivePage(),t&&t.widgets.forEach(function(t){t.onWidthChange(s)}),this.widgetBar&&this.widgetBar.loadWidgets()),e=!this.canOpen(),this.$deviceButton&&this.$deviceButton.toggleClass("js-hidden",!e||!this.minimized)},a.prototype.setMinimizedState=function(t){t=!!t,!!this.minimized!==t&&(this.minimized=t,t&&this.widgetBar.resizerBridge.exitFullscreen(),this.requestOptimalWidth(),this.pages[this.activeIndex].onActiveStateChange(!this.minimized))},a.prototype.getWidgetsButtonTitle=function(){return this.minimized?window.t("Show Widgets"):window.t("Hide Widgets")},a.prototype.changeWidgetsButtonTitle=function(){this.widgetBar.$widgetBarBtn&&this.widgetBar.$widgetBarBtn.attr("title",this.getWidgetsButtonTitle())},a.prototype.switchPage=function(t){var e,i,o;if(-1===t||0===this.pages.length)return void(this.activeIndex=-1);if(t instanceof l){if(-1===(e=this.pages.indexOf(t)))return
}else e=+t;i=this.pages[this.activeIndex],this.activeIndex=Math.min(this.pages.length-1,Math.max(0,e)),o=this.pages[this.activeIndex],this.activeName=o.name,this.minimized||i&&i===o||(i&&i.onActiveStateChange(!1),o&&o.onActiveStateChange(!0))},a.prototype.getActivePage=function(){return this.minimized?null:this.pages[this.activeIndex]||null},a.prototype.onTabClick=function(t,e){if(!t.isDefaultPrevented()){var i=this.pages.indexOf(e);-1!==i&&(t.preventDefault(),i!==this.activeIndex||this.minimized?(e._gaEvent&&m("Platform Widgets",e._gaEvent),this.switchPage(i),this.minimized&&this.setMinimizedState(!1)):this.setMinimizedState(!0),this.widgetBar&&this.widgetBar.saveToTVSettings())}},a.prototype.setHelpButton=function(){return this.$charthelpbutton||(this.$charthelpbutton=$(document.createElement("div")).attr("class","widgetbar-chart-helpbutton apply-common-tooltip").attr("title",$.t("Help")).append($(i(1769)).attr({width:30,height:30,class:"widgetbar-icon"})),this.$charthelpbutton.appendTo(this.$tabscontrols)),this.$charthelpbutton},a.prototype.createDomButton=function(){var t,e,o;!this.$chartdombutton&&this.widgetBar.domPanel&&(t=i(1770).DomeToolbarButton,this.$chartdombutton=new t(this.widgetBar.domPanel).element(),e=$(document.createElement("div")).attr("class","widgetbar-tab").appendTo(this.$tabscontent),o=$(document.createElement("div")).attr("class","widgetbar-tabcontent").appendTo(e),this.$chartdombutton=new t(this.widgetBar.domPanel).element().appendTo(o),e.toggleClass("active",!this.widgetBar.domPanel.minimized.value()),this.widgetBar.domPanel.minimized.subscribe(function(t){e.toggleClass("active",!t)}))},a.prototype.setBugReportButton=function(){return this.$bugreportbutton||(this.$bugreportbutton=$(document.createElement("div")).attr("class","widgetbar-bug-report-button apply-common-tooltip").attr("title",$.t("Contact Support")).append($(i(1773)).attr({width:30,height:30,class:"widgetbar-icon"})),this.$bugreportbutton.appendTo(this.$tabscontrols)),this.$bugreportbutton},s.prototype.createHelpButton=function(){var t,e,i=this.layout.setHelpButton(),o=this.options.withWizard;o&&this.chartWidgetCollection&&(t=this.chartWidgetCollection.activeChartWidget.value()),e=function(){i.off("click",e),p.onReady(u,function(){i.trigger("click")}),p.load(u,null,0)},p.onReady(u,function(n){i.off("click",e);var r=n.ChartHelpMenu;r&&new r(i,!!o,t)}),p.isLoaded(u)||i.on("click",e)},s.prototype.createBugReportButton=function(){var t=this.layout.setBugReportButton();t.on("click",function(e){runOrSignIn(function(){t.addClass("active"),p.onReady(u,function(e){var i,o,n=e.ReportBugDialog;n&&(i=(new n).open(),i.on("destroy",function(){t.removeClass("active")}),o=i.$el,g.width<g.widgetbarBreakpoint&&o.css("position","fixed"))}),p.load(u,null,0)},{source:"Bug report dialog",sourceMeta:"Chart"})})},a.prototype.onLayoutResizeHandleMousedown=function(t){function e(t){var e,i,s;e=t.originalEvent.touches?t.originalEvent.touches[0].clientX:t.pageX,i=e-r,s=n-i,s<o.MINIMIZE_THRESHOLD?s=0:s<o.MIN_WIDTH&&(s=o.MIN_WIDTH),s>0&&(o.width=s),
o.requestWidth(s)}function i(t){$(document.documentElement).off("mousemove touchmove",e).off("mouseup touchend",i),o.widgetBar&&o.widgetBar.saveToTVSettings(),o.changeWidgetsButtonTitle()}var o,n,r;t.isDefaultPrevented()||(t.preventDefault(),o=this,n=Math.max(this.widgetBar.resizerBridge.width.value()-this.tabsWidth()-this.borderWidth(),0),r=t.originalEvent.touches?t.originalEvent.touches[0].clientX:t.pageX,$(document.documentElement).on("mousemove touchmove",e).on("mouseup touchend",i))},a.prototype.removePage=function(t){var e=this.pages.indexOf(t);-1!==e&&(delete t.widgetBarLayout,this.pages.splice(e,1),t.$page.detach(),t.$page.detach(),t.$tab.detach(),this.activeIndex===e&&this.switchPage(e-1))},a.prototype.createPage=function(){var t=new l({widgetBarLayout:this});return this.pages.push(t),t.createHTML(),this.$tabscontent.append(t.$tab),this.$pagescontent.append(t.$page),t},a.prototype.createWidget=function(t,e){if(e){if(-1===this.pages.indexOf(e))return null}else e=this.createPage();var i=new c({widgetBarPage:e});return i.demarshal({type:t}),i.createHTML(),e.attachWidget(i),i},a.prototype.widgetInsertionDisallowed=function(t){return"watchlist"===t&&((!window.user||!user.is_pro)&&(this.pages.some(function(e){return e.widgets.some(function(e){return e.type===t})})?(d.createGoProDialog({feature:"multipleWatchLists"}).then(function(t){t.open()}),!0):void 0))},a.prototype.onVisibilityChange=function(){var t=!(!this.widgetBar||!this.widgetBar.resizerBridge.visible.value());this.visible=t,this.pages.forEach(function(e){e.onVisibilityChange(t)})},a.prototype.destroy=function(){var t,e,i,o;for(this.widgetBar&&this.widgetBar.layout===this&&delete this.widgetBar.layout,t=this.pages.length;t--;)for(e=this.pages[t],i=e.widgets.length;i--;)e.widgets[i].destroy();for(o in this)this[o]instanceof $&&this[o].remove(),delete this[o]},a.prototype.getWidgetBarOption=function(){if(this.widgetBar&&name in this.widgetBar)return this.widgetBar[name]},a.prototype.MIN_WIDTH=200,a.prototype.MINIMIZE_THRESHOLD=50,a.prototype.OVERLAY_THRESHOLD=1e3,a.prototype.width=290,a.prototype.minimized=!1,a.prototype.activeIndex=0,a.prototype.activeName="",a.prototype.visible=!0,l.prototype.onActiveStateChange=function(t){t=!!t,$([this.$tab,this.$page]).toggleClass("active",!!t),t&&this.updateWidgetsHeight({skipIfHeightUnchanged:!0}),this.widgets.forEach(function(e){e.onActiveStateChange(t)})},l.prototype.updateWidgetsHeight=function(t){var e,i,o,n,r,s,a,l,c,h,d;if(this.$page&&this.widgetBarLayout&&this.widgetBarLayout.widgetBar){if(this.widgetBarLayout.getActivePage()!==this)return void(this._invalidated=!0);if(t=t||{},e=this.widgetBarLayout.widgetBar.resizerBridge.height.value(),"horizontal"===this.widgetBarLayout.widgetBar.layoutPosition&&(e=Math.max(e-45,0)),this._pageHeight===e&&t.skipIfHeightUnchanged||(this._invalidated=!0,this._pageHeight=e),this._invalidated){for(i=e,n=0,r=this.widgets,s=null,a=this.widgets.length;a--;)if(this.widgets[a].widgetMaximized.value()){s=this.widgets[a];break}if(s){
for(a=this.widgets.length;a--;)(l=r[a])!==s&&l.setHeight(0);r=[s]}for(i-=this.widgets.length-1,a=r.length;a--;)l=r[a],l.$widget&&(void 0===o&&(o=l.$header.outerHeight(!0)),i-=o,n+=l.heightRatio);for(c=i/n,h=r.length-1,a=0;a<=h;a++)l=r[a],d=a===h?i:Math.round(c*l.heightRatio),l.setHeight(d),i-=d}}},l.prototype.onWidgetResizeHandleMousedown=function(t,e){var i,o,n,r,s,a,l,c,h,d,u,p;if(!t.isDefaultPrevented()){for(i=this,t.preventDefault(),r=this.widgets.length-1;r>0;r--)this.widgets[r]===e&&(o=this.widgets[r],n=this.widgets[r-1]);s=t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY,a=n._rdState.bridge().height.value(),l=n.heightRatio+o.heightRatio,c=a+o._rdState.bridge().height.value(),0!==c&&(d=!1,u=function(t){var e,r,u;d||i.$page.addClass("widget-resize-mode"),e=t.originalEvent.touches?t.originalEvent.touches[0].clientY:t.pageY,r=e-s,u=Math.max(0,Math.min(a+r,c)),h!==u&&(h=u,n.heightRatio=u/c*l,o.heightRatio=l-n.heightRatio,n.setHeight(u),o.setHeight(c-u))},p=function(t){$(document.documentElement).off("mousemove touchmove",u).off("mouseup touchend",p),i.$page.removeClass("widget-resize-mode"),h!==a&&(i.normalizeRatios(),i.widgetBarLayout&&i.widgetBarLayout.widgetBar&&i.widgetBarLayout.widgetBar.saveToTVSettings())},$(document.documentElement).on("mousemove touchmove",u).one("mouseup touchend",p))}},l.prototype.normalizeRatios=function(){var t,e,i,o=1/0;for(t=this.widgets.length;t--;)(e=this.widgets[t].heightRatio)<=0||!isFinite(e)||e<o&&(o=e);if(isFinite(o)){for(i=1;o<1;)o*=2,i*=2;for(;o>=2;)o/=2,i/=2;for(t=this.widgets.length;t--;)this.widgets[t].heightRatio*=i}},l.prototype.attachWidget=function(t,e){var i,o;e=+e,i=this.widgets.indexOf(t),-1!==i?this.widgets.splice(i,1):t.widgetBarPage&&t.widgetBarPage!==this&&t.widgetBarPage.removeWidget(t),e<this.widgets.length?e<0&&(e=0):e=this.widgets.length,delete t.widgetBarPage,Object.defineProperty(t,"widgetBarPage",{value:this,configurable:!0}),this.widgets.splice(e,0,t),o=this.widgets[e+1],o?t.$widget.insertBefore(o.$widget):t.$widget.appendTo(this.$page),this.widgetBarLayout&&this.widgetBarLayout.getActivePage()===this?t.$icon.addClass("active"):t.$icon.removeClass("active"),this.updateWidgetsHeight(),t.updateVisibleWatchedValue()},l.prototype.removeWidget=function(t){var e=this.widgets.indexOf(t);-1!==e&&(delete t.widgetBarPage,this.widgets.splice(e,1),t.$widget&&t.$widget.detach(),this.updateWidgetsHeight())},l.prototype.remove=function(){this.widgetBarLayout&&this.widgetBarLayout.removePage(this)},l.prototype.destroy=function(){this.remove();for(var t in this)this[t]instanceof $&&this[t].remove(),delete this[t]},l.prototype.isActiveAndVisible=function(){var t=this.widgetBarLayout;return!(!t||!t.visible)&&t.getActivePage()===this},l.prototype.onVisibilityChange=function(t){var e=t&&this.widgetBarLayout&&this.widgetBarLayout.getActivePage()===this;this.widgets.forEach(function(i){e&&i.clearNotifications(),i.onVisibilityChange(t)})},l.prototype.notify=function(t,e){return e=e||{},
!0===e.clear?void this.clearNotifications():e.stopHighlightTab?void this.$tab.highlight(!1):(this.notificationCounter=this.notificationCounter+(~~t||1),this.updateNotifications(e.notificationValue),void(e.highlightTab&&(this.$tab.highlight(),TradingView.onChartPage&&i.e(48).then(function(t){i(236).watchedTheme.subscribe(function(){this.$tab.highlight(!1).highlight()}.bind(this))}.bind(this).bind(null,i)).catch(i.oe))))},l.prototype.clearNotifications=function(){0!==this.notificationCounter&&(this.notificationCounter=0,this.$notificationwrap.fadeOut(400),this.$tab.highlight(!1))},l.prototype.updateNotifications=function(t){this.$notification.text("number"==typeof t?t:this.notificationCounter),this.$notificationwrap.stop(!0,!0).show()},l.prototype.notificationCounter=0,l.prototype.getWidgets=function(t){var e,i,o=[];for(e=0;e<this.widgets.length;++e)i=this.widgets[e],i.type===t&&o.push(i);return o},c.prototype.setHeight=function(t){this._internalState.body.value()&&this._internalState.body.value().height(t),this._internalState.height.setValue(t)},c.prototype.onWidthChange=function(t){this._internalState.width.setValue(t)},c.prototype.remove=function(){this.widgetBarPage&&this.widgetBarPage.removeWidget(this)},c.prototype.destroy=function(){this.widgetObject&&"function"==typeof this.widgetObject.destroy&&this.widgetObject.destroy(),this.remove(),this.symbolLinking&&(this.symbolLinking.destroy(),this.symbolLinking=null),this.intervalLinking&&(this.intervalLinking.destroy(),this.intervalLinking=null),this.widgetVisible&&(this.widgetVisible.unsubscribe(),this.widgetVisible=null),this.widgetActive&&(this.widgetActive.unsubscribe(),this.widgetActive=null),this.watchedHeight&&(this.watchedHeight.unsubscribe(),this.watchedHeight=null),this.watchedWidth&&(this.watchedWidth.unsubscribe(),this.watchedWidth=null),this.widgetMaximized&&(this.widgetMaximized.unsubscribe(),this.widgetMaximized=null);for(var t in this)this[t]instanceof $&&this[t].remove(),delete this[t];s._messageHandlers=s._messageHandlers.filter(function(t){return t.widget!==this},this)},c.prototype.onActiveStateChange=function(t){var e=this.getWidgetBarOption("widgetConfig")||s.widgetConfig,i=e[this.type];this.$icon&&this.$icon.toggleClass("active",!!t),t&&!i.doNotClearNotifications&&this.clearNotifications(),this.updateVisibleWatchedValue(),this.widgetActive.setValue(!!t)},c.prototype.toggleMaximize=function(t){if("boolean"!=typeof t)t=!this.widgetMaximized.value();else if(t===this.widgetMaximized.value())return;this.widgetMaximized.setValue(t),this.widgetBarPage&&this.widgetBarPage.widgetBarLayout&&this.widgetBarPage.widgetBarLayout.widgetBar&&this.widgetBarPage.widgetBarLayout.widgetBar.saveToTVSettings(),this.widgetBarPage&&this.widgetBarPage.updateWidgetsHeight()},c.prototype.startWidget=function(){var t,i,n,r,a,l,c;if(!this.widgetObject&&!this.widgetStartDelayed&&(t=this.getWidgetBarOption("widgetConfig")||s.widgetConfig,(i=t[this.type])&&(n=i.ctor))){if(r=this,this.widgetVisible=this.widgetVisible||new o,this.updateVisibleWatchedValue(),
i.lazyLoad&&!this.widgetVisible.value())return this.widgetStartDelayed=!0,void this.widgetVisible.when(function(){delete r.widgetStartDelayed,r.startWidget()});this.symbolLinking=_.symbol.spawn(),this.intervalLinking=_.interval.spawn(),a=this._rdState.bridge(),l={$widget:this.$widget,$header:this.$header,$headerspace:this.$headerspace,$body:$(a.body.value()),body:a.body,properties:this.properties,notify:this.notify.bind(this),clearNotifications:this.clearNotifications.bind(this),visible:this.widgetVisible.readonly(),active:this.widgetActive.readonly(),symbol:this.symbolLinking,interval:this.intervalLinking,height:a.height,width:a.width,setTitle:this.setTitle.bind(this),id:this.id,toggleMaximize:this.toggleMaximize.bind(this),maximized:this.widgetMaximized.readonly(),postMessage:s.postMessage.bind(this),onMessage:s.onMessage.bind(this),hideDetach:!!e.enabled("browser_extension")},i.chartWidgetAllowed&&(c=function(){return r.widgetBarPage&&r.widgetBarPage.widgetBarLayout&&r.widgetBarPage.widgetBarLayout.widgetBar&&r.widgetBarPage.widgetBarLayout.widgetBar.chartWidgetCollection},l.getChartWidget=function(){var t=c();return t?t.activeChartWidget.value():null},l.getChartWidgetCollection=function(){return c()||null}),null!=this.readonly?this.readonly&&(l.readonly=!0):this.getWidgetBarOption("readonly")&&(l.readonly=!0),null!=i.options&&(l.options=i.options),null!=this.stateData?l.data=this.stateData:null!=i.data&&(l.data=i.data),this.widgetObject=new n(l),this._widgetStarted.fire(this)}},c.prototype.widgetStarted=function(){return this._widgetStarted},c.prototype.notify=function(t,e){if(e=e||{},this.widgetBarPage&&(!this.widgetBarPage.isActiveAndVisible()||e.force))return this.widgetBarPage.notify(t,e)},c.prototype.clearNotifications=function(){if(this.widgetBarPage)return this.widgetBarPage.clearNotifications()},l.prototype.isActiveAndVisible=function(){var t=this.widgetBarLayout;return!(!t||!t.visible)&&t.getActivePage()===this},c.prototype.onVisibilityChange=function(t){this.updateVisibleWatchedValue()},c.prototype.updateVisibleWatchedValue=function(){this.widgetVisible&&this.widgetVisible.setValue(!!this.widgetBarPage&&this.widgetBarPage.isActiveAndVisible())},c.prototype.setTitle=function(t){this.customTitle=t+"",this.$title&&this.$title.text(this.getTitle())},c.prototype.heightRatio=1,c.prototype.getWidgetBarOption=function(t){if(this.widgetBarPage&&this.widgetBarPage.widgetBarLayout&&this.widgetBarPage.widgetBarLayout.widgetBar&&t in this.widgetBarPage.widgetBarLayout.widgetBar)return this.widgetBarPage.widgetBarLayout.widgetBar[t]},h.prototype.value=function(t){return this._value},h.prototype.setValue=function(t,e){return this._value=t,this._settingsKey&&(null==t?(m("Settings debug","WigdetProperties.setValue: "+this._settingsKey,user.username),TVSettings.remove(this._settingsKey)):TVSettings.setJSON(this._settingsKey,t,e)),this._value},s.prototype.createHTML=function(){var t=this.$container;!t||t.size()<1||(t.empty(),this.layout.createHTML(),
this.$wrap=$(document.createElement("div")).attr("class","widgetbar-wrap unselectable js-right-boundary").appendTo(t),this.$wrap.toggleClass("fullscreen",this.fullscreen),this.$wrap.toggleClass("horizontal","horizontal"===this.layoutPosition),"horizontal"===this.layoutPosition?(e.enabled("widgetbar_tabs")&&this.layout.$tabs.appendTo(this.$wrap),this.layout.$pages.appendTo(this.$wrap)):(this.layout.$pages.appendTo(this.$wrap),e.enabled("widgetbar_tabs")&&this.layout.$tabs.appendTo(this.$wrap)),this.layout.$deviceButton&&this.$wrap.append(this.layout.$deviceButton))},a.prototype.createHTML=function(){var t=this;e.enabled("widgetbar_tabs")?(t.$tabs=$('<div class="widgetbar-tabs">'),t.$tabscontentwrap=$('<div class="widgetbar-tabscontent-wrap">').appendTo(t.$tabs),t.$tabscontent=$('<div class="widgetbar-tabscontent">').appendTo(t.$tabscontentwrap),t.$tabscontrols=$('<div class="widgetbar-tabscontrols">').appendTo(t.$tabscontentwrap),this.widgetBar.adaptive&&(t.$devicesCloseButton=$('<div class="widgetbar-tab widgetbar-devices-close-btn js-hidden">'+i(152)+"</div>").on("click",t.setMinimizedState.bind(t,!0,{force:!0})).appendTo(t.$tabs),t.$devicesCloseButtonPlaceholder=$('<div class="widgetbar-devices-close-btn-placeholder js-hidden">').appendTo(t.$tabscontent),t.$deviceButton=$('<div class="tv-device-widgetbar-button js-hidden"><div class="tv-device-widgetbar-button__ripple js-ripple"></div>'+i(1774)+"</div>").on("click",function(e){t.widgetBar.resizerBridge.requestFullscreen()}))):t.$tabs=t.$tabscontent=$(),t.$pages=$(document.createElement("div")).attr("class","widgetbar-pages"),t.$pagescontent=$(document.createElement("div")).attr("class","widgetbar-pagescontent").appendTo(t.$pages),e.enabled("widgetbar_tabs")||t.$pages.css("right","-1px"),this.widgetBar.fullscreen||(t.$handle=$(document.createElement("div")).attr("class","widgetbar-handle").appendTo(t.$pages),t.$handle.on("mousedown touchstart",t.onLayoutResizeHandleMousedown.bind(t))),$(document.createElement("div")).attr("class","widgetbar-tab-spacer apply-overflow-tooltip").text($.t("Tools")).appendTo(t.$tabscontent),t.pages.forEach(function(e){e.createHTML(),e.$tab.appendTo(t.$tabscontent),e.spaceBottom&&$(document.createElement("div")).attr("class","widgetbar-tab-spacer apply-overflow-tooltip").text(e.spaceBottomText).appendTo(t.$tabscontent),e.$page.appendTo(t.$pagescontent)}),this.widgetBar.showCloseButton&&(this.widgetBar.$widgetBarBtn=$(document.createElement("a")).addClass("tv-close-panel right apply-common-tooltip common-tooltip-vertical").attr({href:"#",title:this.getWidgetsButtonTitle()}).on("click",function(t){this.setMinimizedState(!this.minimized),$(this.widgetBar.$widgetBarBtn).attr("title",this.getWidgetsButtonTitle()),t.preventDefault()}.bind(this)).appendTo(t.$pages))},l.prototype.createHTML=function(){var t=this;t.$page=$(document.createElement("div")).attr("class","widgetbar-page"),t.$tab=$(document.createElement("div")).attr("class","widgetbar-tab"),t.$tab.on("click",function(e){t.widgetBarLayout&&t.widgetBarLayout.onTabClick(e,t)}),
t.$tabcontent=$(document.createElement("div")).attr("class","widgetbar-tabcontent").appendTo(t.$tab),t.$iconplace=$(document.createElement("div")).attr("class","widgetbar-iconplace apply-common-tooltip").attr("title",t.title),t.$iconplace.addClass("horizontal"===this.widgetBarLayout.widgetBar.layoutPosition?"common-tooltip-horizontal":"common-tooltip-vertical"),t.$icon=$(s.svgIcons[t.icon]).attr({class:"widgetbar-icon"}).appendTo(t.$iconplace),t.$notificationwrap=$(document.createElement("div")).attr("class","widgetbar-notification-wrap").appendTo(t.$iconplace),t.$notification=$(document.createElement("div")).attr("class","widgetbar-notification").appendTo(t.$notificationwrap),t.$tabcontent.append(t.$iconplace),t.widgets.forEach(function(e){e.createHTML(),e.$widget.appendTo(t.$page)})},c.prototype.getTitle=function(t){var e=r(this.type,this.getWidgetBarOption("widgetConfig"));return t&&this.customTitle&&e?this.customTitle.substr(0,e.length)===e?this.customTitle:e+": "+this.customTitle:this.customTitle||e||$.t("Widget")},c.prototype.createHTML=function(){var t,e=this,i=!!e.widgetConfig&&(!!e.widgetConfig.icon&&e.widgetConfig.icon),o=e.widgetConfig&&e.widgetConfig.emptyHeader;e.$widget=$(document.createElement("div")).attr("class","widgetbar-widget widgetbar-widget-"+e.type),e.$header=$(document.createElement("div")).attr("class","widgetbar-widgetheader").appendTo(e.$widget),i&&(e.$headericon=$(document.createElement("div")).attr("class","widgetbar-widgetheader-icon widgetbar-widgetheader-icon-"+i).append($(s.svgIcons[i])).appendTo(e.$header)),e.$headerspace=$(document.createElement("div")).attr("class","widgetbar-headerspace").appendTo(e.$header),e.$headerspace.on("click",function(t){t.preventDefault()}),o||(e.$title=$(document.createElement("div")).attr("class","widgetbar-widgettitle").appendTo(e.$header),e.$title.text(this.getTitle())),t=$(document.createElement("div")).attr("class","widgetbar-widgetbody").appendTo(e.$widget),e._internalState.body.setValue(t),e.$resizehandle=$(document.createElement("div")).attr("class","widgetbar-widgethandle").appendTo(e.$widget),e.$resizehandle.on("mousedown touchstart",function(t){e.widgetBarPage&&e.widgetBarPage.onWidgetResizeHandleMousedown(t,e)}),!0===this.maximized&&(this.toggleMaximize(!0),delete this.maximized)},a.demarshal=function(t,e){return(new a).demarshal(t,e)},l.demarshal=function(t,e){return(new l).demarshal(t,e)},c.demarshal=function(t,e){return(new c).demarshal(t,e)},a.prototype.demarshal=function(t,e){var i,o,n,r;if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t&&"object"==typeof t?(this.width=+t.width,!isFinite(this.width)||this.width<=0?delete this.width:this.width<this.MIN_WIDTH&&(this.width=this.MIN_WIDTH),"minimized"in t?this.minimized=!!t.minimized:delete this.minimized,"version"in t&&(this.version=t.version),i=+t.activeIndex,o=t.activeName,n=!1,r=this.pages,r.splice(0,this.pages.length),Array.isArray(t.pages)&&t.pages.forEach(function(t,s){var a=new l({widgetBarLayout:this}).demarshal(t,e);o?t.name===o&&a&&(i=s,n=!0):a||s!==i||i--,a&&r.push(a)
},this),o&&!n&&(i=0),0===r.length?this.activeIndex=-1:i>=0&&i<r.length&&(this.activeIndex=i),this):null},l.prototype.demarshal=function(t,e){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}if(!t||!t.widgets||!Array.isArray(t.widgets))return null;var i=this.widgets;return i.splice(0,i.length),this._gaEvent=t._gaEvent,this.title=t.title,this.name=t.name,this.icon=t.icon,this.spaceBottom=t.spaceBottom,this.spaceBottomText=t.spaceBottomText,t.widgets.forEach(function(t){var o=new c({widgetBarPage:this}).demarshal(t,e);o&&i.push(o)},this),0===i.length?null:this},c.prototype.demarshal=function(t,e){var i,o,n;if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t&&"object"==typeof t?("id"in t?(this.id=t.id+"",this.type=this.id.replace(/\..*/,"")):"type"in t?(this.type=t.type+"",this.id=s.prototype.createWidgetId(this.type)):(delete this.type,delete this.id),null!=t.readonly?this.readonly=!!t.readonly:delete this.readonly,this.stateData=t.data,isFinite(+t.heightRatio)&&+t.heightRatio>=0?this.heightRatio=+t.heightRatio:delete this.heightRatio,!0===t.maximized&&(this.maximized=!0),t.settingsKey?i=t.settingsKey:this.id&&(o=this.getWidgetBarOption("_settingsPrefix"))&&(i=o+".widget."+this.id),this.properties=new h({widgetBarWidget:this,settingsKey:i}),null==t.properties||i&&null!==this.properties.value()||this.properties.setValue(t.properties),"news"!==this.type&&"hotlist"!==this.type||!i||this.properties.setValue($.extend(!0,{},t.properties,this.properties.value())),"hotlist"===this.type&&!i&&t.properties&&this.properties.setValue(t.properties),this.widgetConfig=null,n=this.getWidgetBarOption("widgetConfig"),n[this.type]&&(this.widgetConfig=n[this.type]),this):null},a.prototype.marshal=function(t){var e,i,o,n,r=[];for(this.pages.forEach(function(e){var i=e.marshal(t);i&&(r=r.concat(i))}),e={},i=0;i<r.length;i++)r[i].type&&(o=r[i].type,r[i].id&&delete r[i].type,e[o]?e[o].push(r[i]):e[o]=[r[i]]);return n={widgets:e,settings:{}},["minimized","width","activeIndex","version","activeName"].forEach(function(t){this[t]!==a.prototype[t]&&(n.settings[t]=this[t])},this),n},l.prototype.marshal=function(t){var e=[];return this.widgets.forEach(function(i){var o=i.marshal(t);o&&e.push(o)}),0===e.length?null:e},c.prototype.marshal=function(t){var e={};return this.id&&(e.id=this.id),this.type&&(e.type=this.type),["heightRatio"].forEach(function(t){this[t]!==c.prototype[t]&&(e[t]=this[t])},this),this.widgetMaximized.value()&&(e.maximized=!0),t&&t.includeWidgetProperties&&this.properties&&(e.properties=TradingView.clone(this.properties.value())),e},t.exports=s}).call(e,i(3),i(22),i(4))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function o(t){return t.replace(r,s)}function n(t){return void 0===t&&(t=""),t.replace(/(<([^>]+)>)/gi,"")}var r,s;Object.defineProperty(e,"__esModule",{value:!0}),r=/[<"'&>]/g,s=function(t){return"&#"+t.charCodeAt(0)+";"},e.htmlEscape=o,e.removeTags=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){
return null==t.which?t.keyCode<32?null:String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode?t.which<32?null:String.fromCharCode(t.which):null},t.exports=e.default},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(1429),e.Autocomplete=o.Autocomplete,e.ArraySource=o.ArraySource,n=i(1307),e.events=n.events},function(t,e,i){"use strict";(function(t){function o(t){var e,i;if(t&&t.__esModule)return t;if(e={},null!=t)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,l,c,h,d,u,p,f,_,g;Object.defineProperty(e,"__esModule",{value:!0}),e.ArraySource=e.Autocomplete=void 0,a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),i(1430),l=i(65),c=n(l),h=i(146),d=i(1431),u=i(1434),p=i(129),f=o(p),_=i(1307),g=i(1436),e.Autocomplete=function(){function e(i){var o=i.el,n=i.source,r=i.textField,a=void 0===r?"text":r,l=i.userpicField,c=void 0===l?"userpic":l,h=i.maxLength;s(this,e),this._el=o,this._$el=$(o),this._source=n,this._tmpl=t.render(g,{maxLength:h}),this._textField=a,this._userpicField=c,this._init()}return a(e,[{key:"_init",value:function(){this.stream=new c.default;var t=this._el.querySelector("input");this._el.innerHTML=this._tmpl,this.input=this._el.querySelector("input"),t&&(this.input.parentNode.replaceChild(t,this.input),this.input=t),this.input.addEventListener("input",this._onInput.bind(this)),this.input.addEventListener("focus",this._onInput.bind(this)),this.input.addEventListener("blur",this._onBlur.bind(this)),this._$el.on("beforeOpenMenu",this._onBeforeOpenMenu.bind(this)),this._$el.on("afterCloseMenu",this._onAfterCloseMenu.bind(this)),this._dropdown=new h.DropdownView(this._$el),this._initMenu(),this._regHandlers()}},{key:"_initMenu",value:function(t){var e=this;this._menu=new d.Menu({el:this._el.querySelector("tv-menu"),itemClass:"tv-autocomplete__dropdown-item tv-dropdown__item",textField:this._textField,userpicClass:"tv-autocomplete__userpic",userpicField:this._userpicField}),this._menu.stream.addListener(d.events.SELECT,function(t){if(!t[e._textField])return void e.stream.emitEvent(_.events.SELECT_CUSTOM,[t]);e.input.value=t[e._textField],e._dropdown.close(),e.stream.emitEvent(_.events.SELECT,[t])})}},{key:"_regHandlers",value:function(){var t,e,i=this;this._closeStateKeyboardListener=new u.KeyboardListener,this._closeStateKeyboardListener.regHandlers((t={},r(t,f.UP_ARROW,function(){i._dropdown.open()}),r(t,f.DOWN_ARROW,function(){i._dropdown.open()}),r(t,f.ENTER,function(){i._menu.select()}),t)),this._openStateKeyboardListener=new u.KeyboardListener,
this._openStateKeyboardListener.regHandlers((e={},r(e,f.UP_ARROW,function(){i._menu.prev()}),r(e,f.DOWN_ARROW,function(){i._menu.next()}),r(e,f.ENTER,function(){i._menu.select()}),r(e,f.ESC,function(){i._dropdown.close()}),e)),this._closeStateKeyboardListener.watchOn(this.input)}},{key:"_onBlur",value:function(){this._dropdown.close()}},{key:"_onInput",value:function(){var t=this;this._menu.highlight(this.input.value),this._source.find(this.input.value,this._textField).then(function(e){t._menu.updateItems(e),e.length?t._dropdown.open():t._dropdown.close()})}},{key:"_onAfterCloseMenu",value:function(){this._openStateKeyboardListener.stopWatching(),this._closeStateKeyboardListener.watchOn(this.input),this._menu.reset(),this.stream.emitEvent(_.events.AFTER_CLOSE_MENU)}},{key:"_onBeforeOpenMenu",value:function(){this._closeStateKeyboardListener.stopWatching(),this._openStateKeyboardListener.watchOn(this.input),this.stream.emitEvent(_.events.BEFORE_OPEN_MENU)}},{key:"value",get:function(){return this.input.value!==this._menu.value[this._textField]?r({},this._textField,this.input.value):this._menu.value}}]),e}(),e.ArraySource=function(){function t(e){s(this,t),this._array=e}return a(t,[{key:"find",value:function(t,e){var i=this._array.filter(function(i){return i[e].toLowerCase().includes(t.toLowerCase())});return Promise.resolve(i)}},{key:"getItems",value:function(){return Promise.resolve(this._array)}}]),t}()}).call(e,i(21))},function(t,e){},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(1432),Object.defineProperty(e,"Menu",{enumerable:!0,get:function(){return o.Menu}}),n=i(1306),Object.defineProperty(e,"events",{enumerable:!0,get:function(){return n.events}})},function(t,e,i){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,s,a,l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=void 0,r=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),i(1433),s=i(65),a=o(s),l=i(1306),c=i(1426),h="tv-menu-item",d='<tv-menu-item class="{{itemClass}} {{activeClass}}" data-item="{{item}}">{{#userpic}}<img class="{{userpicClass}}" src="{{userpic}}">{{/userpic}}{{{html}}}</tv-menu-item>',u="prev",p="next",f=function(t,e){var i=Math.min(t.length,e.length),o=void 0;for(o=0;o<i&&t.charAt(o).toLowerCase()===e.charAt(o).toLowerCase();o++);return o>0?"<strong>"+(0,c.htmlEscape)(t.slice(0,o))+"</strong>"+(0,c.htmlEscape)(t.slice(o)):(0,c.htmlEscape)(t)},e.Menu=function(){function e(t){var i=t.el,o=t.items,r=t.itemClass,s=t.textField,a=void 0===s?"text":s,l=t.userpicField,c=void 0===l?"userpic":l,h=t.userpicClass;n(this,e),this._el=i,this._items=o,this._itemClass=r,this._textField=a,this._userpicField=c,this._userpicClass=h,this._hightlighted="",this._init()}return r(e,[{
key:"_init",value:function(){this._el.setAttribute("tabindex","1"),this.stream=new a.default,this.updateItems(this._items),this._el.addEventListener("mousedown",function(t){t.preventDefault()}),this._el.addEventListener("click",this._onClick.bind(this))}},{key:"updateItems",value:function(t){this._items=t,t&&this._renderItems(t),this._menuItems=this._el.querySelectorAll(h),this._selectedItem=this._el.querySelector(h+".i-active"),this._setFocusOnItem(this._selectedItem)}},{key:"next",value:function(){this._moveFocusTo(p)}},{key:"prev",value:function(){this._moveFocusTo(u)}},{key:"reset",value:function(){return this._selectedItem?void this._setFocusOnItem(this._selectedItem):this._focusedItem?void this._blur():void 0}},{key:"select",value:function(){this._selectedItem=this._focusedItem,this.stream.emitEvent(l.events.SELECT,[this.value])}},{key:"highlight",value:function(t){null==t?t="":t+="",this._hightlighted!==t&&(this._hightlighted=t,this.updateItems(this._items))}},{key:"_moveFocusTo",value:function(t){var e=this._getFocusedItemIdx(),i=this._menuItems.length-1,o=void 0;switch(t){case p:o=this._findActiveItem(t,++e)||this._findActiveItem(t,0);break;case u:o=this._findActiveItem(t,--e)||this._findActiveItem(t,i)}this._setFocusOnItem(o)}},{key:"_getFocusedItemIdx",value:function(){var t=this;return Array.prototype.findIndex.call(this._menuItems,function(e){return Object.is(e,t._focusedItem)})}},{key:"_findActiveItem",value:function(t,e){for(var i=this._menuItems[e];i&&i.classList.contains("i-disabled");)switch(t){case"next":i=this._menuItems[e++];break;case"prev":i=this._menuItems[e--]}return i}},{key:"_setFocusOnItem",value:function(t){t&&!t.classList.contains("i-disabled")?(this._blur(),this._focusedItem=t,this._focus()):this._focusedItem=null}},{key:"_focus",value:function(){this._focusedItem&&this._focusedItem.classList.add("i-active")}},{key:"_blur",value:function(){this._focusedItem&&this._focusedItem.classList.remove("i-active")}},{key:"_onClick",value:function(t){var e=!t.target.classList.contains("i-disabled");t.target.tagName===h.toUpperCase()&&e&&(this._setFocusOnItem(t.target),this.select())}},{key:"_renderItems",value:function(e){var i=this,o={items:e,itemClass:this._itemClass,userpicClass:this._userpicClass,activeClass:function(){var t=i._hightlighted,e=this[i._textField];if(t&&e&&t.toLowerCase()===e.toLowerCase())return"i-active"},text:function(){return this[i._textField]},html:function(){return f(this[i._textField],i._hightlighted)},userpic:function(){return this[i._userpicField]},item:function(){return JSON.stringify(this)}},n="{{#items}}"+d+"{{/items}}";this._el.innerHTML=t.render(n,o)}},{key:"value",get:function(){var t=void 0;try{t=JSON.parse(this._selectedItem.dataset.item)}catch(e){t={}}return t}}]),e}()}).call(e,i(21))},function(t,e){},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),o=i(129),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),n=i(1435),
Object.defineProperty(e,"KeyboardListener",{enumerable:!0,get:function(){return n.KeyboardListener}})},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n;Object.defineProperty(e,"__esModule",{value:!0}),n=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),e.KeyboardListener=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keydown";o(this,t),this._event=e}return n(t,[{key:"regHandlers",value:function(t){this._handlers=t}},{key:"watchOn",value:function(t){this._listener=this._regListener(),this._watchingEl=t,t.addEventListener(this._event,this._listener)}},{key:"stopWatching",value:function(){this._watchingEl.removeEventListener(this._event,this._listener)}},{key:"_regListener",value:function(){var t=this;return function(e){var i=e.which,o=t._getHandler(i);e.stopPropagation(),o(e)}}},{key:"_getHandler",value:function(t){var e=this._handlers[t],i=function(){},o=function(t){t.preventDefault(),e(t)};return e?o:i}}]),t}()},function(t,e){t.exports='<div class="tv-dropdown-behavior tv-autocomplete__wrapper">\n\t<input class="tv-control-input tv-dropdown-behavior__button" type="text" {{#maxLength}}maxlength="{{ maxLength }}"{{/maxLength}}>\n\t<tv-menu class="tv-dropdown-behavior__body tv-dropdown__body tv-dropdown__body--under-trigger tv-autocomplete__dropdown i-hidden">\n\t</tv-menu>\n</div>\n'},,,,,function(t,e){t.exports={"color-active-hover-text":"color-gull-gray","color-alert-bg":"color-mirage-1","color-alert-text":"color-loblolly","color-border":"color-bright-gray","color-border-chat-fields":"color-bright-gray","color-border-hover":"color-trout-1","color-border-table":"color-bright-gray","color-brand":"color-picton-blue-1","color-brand-active":"color-curious-blue","color-brand-hover":"color-scooter","color-button-hover-bg":"color-mirage-3","color-chart-page-bg":"color-charade","color-depthrenderer-fill-style":"color-catskill-white","color-depthrenderer-stroke-style":"color-trout-1","color-disabled-border-and-color":"color-ebony-clay","color-disabled-input":"color-bright-gray","color-empty-container-message":"color-slate-gray","color-footer-chart-panel-bg":"color-mirage-3","color-highlight-new":"color-dark-slate-blue","color-icons":"color-slate-gray","color-input-bg":"color-charade","color-input-textarea-readonly":"color-trout-1","color-input-publish-bg":"color-mirage-1","color-item-active-blue":"color-blue-dianne","color-item-hover-active-bg":"color-charade","color-item-hover-bg":"color-ebony-clay","color-item-hover-blue":"color-blue-dianne","color-item-selected-blue":"color-blue-dianne","color-link":"color-curious-blue","color-list-item":"color-slate-gray","color-list-nth-child-bg":"color-mirage-3","color-news-highlight":"color-charade","color-pane-bg":"color-mirage-1","color-placeholder":"color-trout-2",
"color-popup-bg":"color-mirage-3","color-popup-menu-separator":"color-bright-gray","color-row-hover-active-bg":"color-ebony-clay","color-sb-scrollbar-body-bg":"color-trout-2","color-screener-header-bg":"color-mirage-3","color-screener-header-bg-hover":"color-ebony-clay","color-section-separator-border":"color-bright-gray","color-separator-table-chat":"color-bright-gray","color-tag-active-bg":"color-bright-gray","color-tag-hover-bg":"color-charade","color-text-regular":"color-loblolly","color-text-secondary":"color-trout-1","color-toolbar-button-text-active":"color-picton-blue-1","color-toolbar-interactive-element-text-normal":"color-slate-gray","color-toolbar-interactive-element-text-hover":"color-gull-gray","color-toolbar-opened-element-bg":"color-mirage-3","color-tooltip-bg":"color-bright-gray","color-tv-button-checked":"color-slate-gray","color-tv-dialog-caption":"color-athens-gray-2","color-tv-dropdown-item-hover-bg":"color-charade","color-underlined-text":"color-gull-gray","color-widget-pages-bg":"color-mirage-2"}},function(t,e){t.exports={"color-toolbar-button-text-active":"color-seeking-alpha-brand"}},function(t,e,i){"use strict";function o(t,e){var i,r;return void 0===e&&(e=[]),(i=n[t])?l.test(i)?i:(r=i,e.push(t),-1!==e.indexOf(r)?(console.warn("Colors definitions cycled"),i):e.length>a?(console.warn("Too many variables-link in HEX-color search: "+e[0]),null):o(r,e)):null}var n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),n=i(1444),r=i(9),s={},a=Object.keys(n).length,l=/^#[0-9A-F]{6}$/i,Object.keys(n).forEach(function(t){var e=o(t);s[t]=r.ensureNotNull(e)}),e.colorsPalette=s},function(t,e){t.exports={"color-aqua-spring":"#ebf9f5","color-army-green":"#3d2c12","color-army-green-2":"#31230d","color-athens-gray-1":"#f2f3f5","color-athens-gray-2":"#f7f8fa","color-athens-gray-3":"#eceff2","color-black":"#000000","color-blue-dianne":"#21384d","color-bright-gray":"#363c4e","color-carnation":"#f04561","color-catskill-white":"#e1ecf2","color-charade":"#2f3241","color-charcoal-grey":"#323337","color-curious-blue":"#299dcd","color-dark-blue-grey":"#123440","color-dark-grey":"#292a2d","color-dark-grey-blue":"#28415a","color-dark-sky-blue":"#37a6ef","color-dark-slate-blue":"#194453","color-deep-sea-blue":"#016087","color-ebony-clay":"#262b3e","color-foam":"#d7f0fb","color-gull-gray":"#9db2bd","color-humming-bird":"#d3eef9","color-keppel-1":"#37bc9b","color-keppel-2":"#34b293","color-lavender-blush":"#ffedf0","color-loblolly":"#c5cbce","color-manatee":"#878ca8","color-mandy":"#eb4d5c","color-milk-chocolate":"#6f2626","color-mirage-1":"#131722","color-mirage-2":"#171b29","color-mirage-3":"#1c2030","color-mischka":"#d6d8e0","color-morning-glory":"#9addcc","color-oslo-gray":"#8b8e95","color-pale":"#fff2cf","color-pale-sky":"#6b7988","color-picton-blue-1":"#3bb3e4","color-picton-blue-2":"#41bef1","color-puerto-rico":"#3bc2a1","color-purple-brown":"#4e2934","color-purple-brown-2":"#3d2028","color-radical-red":"#ff4a68","color-regent-gray":"#8797a5","color-scooter":"#38acdb","color-silver-tree":"#53b987",
"color-slate-gray":"#758696","color-sundown":"#ffa4b3","color-sunglow":"#ffca3b","color-tan-hide":"#ff9850","color-trout-1":"#4c525e","color-trout-2":"#4f5966","color-violet-1":"#332738","color-violet-2":"#271d2b","color-water-blue":"#1592e6","color-white":"#ffffff","color-white-ice":"#ebf7fc","color-wild-watermelon":"#ff5773","color-active-hover-text":"color-black","color-alert-bg":"color-white","color-alert-text":"color-black","color-border-table":"color-athens-gray-3","color-brand":"color-picton-blue-1","color-brand-active":"color-curious-blue","color-brand-hover":"color-scooter","color-brand-light":"color-picton-blue-2","color-chart-page-bg":"color-athens-gray-3","color-danger":"color-radical-red","color-depthrenderer-stroke-style":"color-athens-gray-1","color-highlight-new":"color-pale","color-input-bg":"color-white","color-input-publish-bg":"color-white","color-link":"color-brand","color-list-nth-child-bg":"color-athens-gray-2","color-pane-bg":"color-white","color-popup-bg":"color-white","color-popup-menu-separator":"color-catskill-white","color-replay-data-mode":"color-radical-red","color-screener-header-bg":"color-athens-gray-2","color-success":"color-keppel-1","color-toolbar-button-text-active":"color-water-blue","color-toolbar-interactive-element-text-normal":"color-trout-1","color-toolbar-interactive-element-text-hover":"color-mirage-1","color-toolbar-opened-element-bg":"color-athens-gray-2","color-tooltip-bg":"color-ebony-clay","color-tv-dialog-caption":"color-trout-2","color-tv-dropdown-item-hover-bg":"color-athens-gray-1","color-underlined-text":"color-slate-gray","color-widget-pages-bg":"color-white","color-growing":"color-keppel-1","color-falling":"color-radical-red","color-label-long":"color-success","color-label-short":"color-danger","color-label-education":"color-sunglow","color-label-neutral":"color-gull-gray","color-collapse-tabs-border":"color-athens-gray-3","color-border":"#dadde0","color-border-chat-fields":"#c9cbcd","color-border-hover":"#c8c8c8","color-button-hover-bg":"#f2f2f2","color-depthrenderer-fill-style":"#555555","color-disabled-border-and-color":"#ececec","color-disabled-input":"#ececec","color-empty-container-message":"#8a8a8a","color-footer-chart-panel-bg":"#f1f3f6","color-icons":"#7d7d7d","color-input-textarea-readonly":"#555555","color-item-active-blue":"#eff9ff","color-item-hover-active-bg":"#f1f3f6","color-item-hover-bg":"#edf1f2","color-item-hover-blue":"#c6e9f8","color-item-selected-blue":"#eafafe","color-list-item":"#888989","color-news-highlight":"#f2f5f8","color-placeholder":"#adaeb0","color-row-hover-active-bg":"#f1f3f6","color-sb-scrollbar-body-bg":"#d8d8d8","color-screener-header-bg-hover":"#f1f3f6","color-section-separator-border":"#b5b7b9","color-separator-table-chat":"#eaecef","color-tag-active-bg":"#cfdce3","color-tag-hover-bg":"#dce6ea","color-text-regular":"#4a4a4a","color-text-secondary":"#b4b4b4","color-tv-button-checked":"#757575","color-seeking-alpha-brand":"#ff7200"}},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M14 17a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/><path d="M5.005 16A1.003 1.003 0 0 1 4 14.992v-1.984A.998.998 0 0 1 5 12h1.252a7.87 7.87 0 0 1 .853-2.06l-.919-.925c-.356-.397-.348-1 .03-1.379l1.42-1.42a1 1 0 0 1 1.416.007l.889.882A7.96 7.96 0 0 1 12 6.253V5c0-.514.46-1 1-1h2c.557 0 1 .44 1 1v1.253a7.96 7.96 0 0 1 2.06.852l.888-.882a1 1 0 0 1 1.416-.006l1.42 1.42a.999.999 0 0 1 .029 1.377s-.4.406-.918.926a7.87 7.87 0 0 1 .853 2.06H23c.557 0 1 .447 1 1.008v1.984A.998.998 0 0 1 23 16h-1.252a7.87 7.87 0 0 1-.853 2.06l.882.888a1 1 0 0 1 .006 1.416l-1.42 1.42a1 1 0 0 1-1.415-.007l-.889-.882a7.96 7.96 0 0 1-2.059.852v1.248c0 .56-.45 1.005-1.008 1.005h-1.984A1.004 1.004 0 0 1 12 22.995v-1.248a7.96 7.96 0 0 1-2.06-.852l-.888.882a1 1 0 0 1-1.416.006l-1.42-1.42a1 1 0 0 1 .007-1.415l.882-.888A7.87 7.87 0 0 1 6.252 16H5.005zm3.378-6.193l-.227.34A6.884 6.884 0 0 0 7.14 12.6l-.082.4H5.005C5.002 13 5 13.664 5 14.992c0 .005.686.008 2.058.008l.082.4c.18.883.52 1.71 1.016 2.453l.227.34-1.45 1.46c-.004.003.466.477 1.41 1.422l1.464-1.458.34.227a6.959 6.959 0 0 0 2.454 1.016l.399.083v2.052c0 .003.664.005 1.992.005.005 0 .008-.686.008-2.057l.399-.083a6.959 6.959 0 0 0 2.454-1.016l.34-.227 1.46 1.45c.003.004.477-.466 1.422-1.41l-1.458-1.464.227-.34A6.884 6.884 0 0 0 20.86 15.4l.082-.4h2.053c.003 0 .005-.664.005-1.992 0-.005-.686-.008-2.058-.008l-.082-.4a6.884 6.884 0 0 0-1.016-2.453l-.227-.34 1.376-1.384.081-.082-1.416-1.416-1.465 1.458-.34-.227a6.959 6.959 0 0 0-2.454-1.016L15 7.057V5c0-.003-.664-.003-1.992 0-.005 0-.008.686-.008 2.057l-.399.083a6.959 6.959 0 0 0-2.454 1.016l-.34.227-1.46-1.45c-.003-.004-.477.466-1.421 1.408l1.457 1.466z"/></g></svg>'},function(t,e,i){"use strict";(function(e,o){function n(){function t(t,e){var i=t.get("createTime"),o=e.get("createTime");return i&&o?o-i:i?o?void 0:1:-1}function i(t,e){var i=t.get("fireTime"),o=e.get("fireTime");return i&&o?o-i:i?o?void 0:1:-1}this._loading={},this._alertVersioning=new a,this._lastGenIds={},this._notifier=new w;var o=this;this._notifier.editAlert.subscribe(null,function(t,e){"price"===e&&o.openEditDialog(t)}),this.alerts=new(e.Collection.extend({comparator:t,model:l})),this.events=new(e.Collection.extend({comparator:i,model:s})),this._attachHandlers()}var r=i(256).MakeAlertDialog,s=i(2355),a=i(2356).AlertVersioning,l=i(561),c=i(112),h=i(32),d=i(74).Action,u=i(1094),p=i(49),f=i(20).trackEvent,_=i(25).isFeatureEnabled,g=i(3),m=i(27).ProductFeatures,v=i(255).createConfirmDialog,y=i(0).getLogger("Alerts.Price.Dispatcher"),b=i(2285).sendRequest,w=i(2308).AlertEventNotifier,S=i(2286).server2clientParams,T=i(2286).client2serverParams,x=i(57).Telemetry,P=i(43),C="cancelled: new alert already generating",M=i(10).isInteger;n.prototype._onLoginStateChange=function(){is_authenticated?(setTimeout(this.showPredefinedEvents.bind(this),1),this._refreshPushStream()):this.alerts.reset()},
n.prototype._attachHandlers=function(){function t(){r.events.each(function(t){var e=r.alerts.get(t.get("alertId"));t.set("alert",e||null)})}function e(t){var e=r.events.findWhere({alertId:t.id});e&&e.set("alert",t)}function i(t){var e=r.alerts.get(t.get("alertId"));e&&t.set("alert",e)}function o(t){var e,i,o=r.chartWidget(),n=o?o.model():null;n&&(e=n.hoveredSource(),t.set("hovered",e&&e.hasAlert.value()&&e.alertId()===t.id),i=n.selectedSource(),t.set("selected",i&&i.hasAlert.value()&&i.alertId()===t.id))}function n(t){var e,i,o=r.chartWidget()&&r.chartWidget().model();o&&(e=t.get("extra").drawing(),(i=o.dataSourceForId(e.id))&&!i.hasAlert.value()&&i.setAlert(t))}var r=this;loginStateChange.subscribe(this,this._onLoginStateChange.bind(this)),this._onLoginStateChange(),r.alerts.on("reset",t).on("add",function(t){e(t),o(t),t.isDrawing()&&n(t)}).on("change:id",o).on("change:selected",function(t,e,i){var o,n=r.alerts.models;if(e)for(t.id&&M(t.id)&&TVSettings.setValue("alerts.widget.selected_alert_id",t.id),o=n.length-1;o>=0;o--)n[o]!==t&&n[o].set("selected",!1)}).on("change:hovered",function(t,e,i){var o,n=r.alerts.models;if(e)for(o=n.length-1;o>=0;o--)n[o].set("hovered",n[o]===t)}).on("destroy",function(t){t.isNew()||r.events.where({alertId:t.id}).forEach(function(t){t.destroy()})}),r.events.on("reset",t).on("add",i)},n.prototype.showPredefinedEvents=function(){if(user&&!o.isEmpty(user.alerts_triggering_data)){var t=this;Object.keys(user.alerts_triggering_data).forEach(function(e){var i,n=user.alerts_triggering_data[e].event;o.isEmpty(n)||(n.alertId||(n.alertId=e),n.hasOwnProperty("eventId")||(n.eventId=n.id),n=new s(S(n)),i=t._getNotificationFromEvent(n),t._notifier.addNotification(i,!0),t.events.add(n),n.trigger("fired",n))}),delete user.alerts_triggering_data}},n.prototype._refreshPushStream=function(){p.off("alert"),is_authenticated&&p.on("alert",this._onMessage.bind(this))},n.prototype._onMessage=function(t){var e,i,o,n,r,a=this,l={};if(t)switch(y.logNormal(t),e=JSON.parse(t),i=e.m,l=S(e.p),i){case"alert_running":o=a.alerts.get(l.id),o?o.set(l):a.alerts.add(l);break;case"alert_stopped":o=a.alerts.get(l.id),o&&o.set({active:!1,stopReason:l.stopReason,error:l.error});break;case"alert_deleted":o=a.alerts.get(l.id),o&&o.destroy();break;case"event":l.hasOwnProperty("eventId")||(l.eventId=l.id),n=new s(l),a.events.add(n),r=this._getNotificationFromEvent(n),this._notifier.addNotification(r),n.trigger("fired",n),this.sendRequest({method:"clear_shown_events",preventMaintenanceDialog:!0,params:{alerts_ids:[l.alertId]}})}},n.prototype.createLocalAlert=function(t,e){var i,o=this;return e&&function(t){var e,i,o,n;if(!t)throw Error("Can't create alert. 'params' is required");for(e=["symbol","resolution","expired","autoDeactivation","sendEmail","sendSms","sendTrueSms","showPopup","playSound","description","script"],i=[],o=e.length-1;o>=0;o--)(n=e[o])in t||i.push(n);i.length&&y.logError("[Alerts] Can't create alert. "+i.join(" ,")+(1===i.length?" is":" are")+" required")}(t),i=new l(t),o.alerts.add(i),i},
n.prototype.createAlert=function(t,e){var i,o,n=this;return e=e||{},t instanceof l?(o=Date.now(),n._generateScriptWithCancellation(t).then(function(){return n.sendRequest({trackEvent:e.trackEvent,method:"create_alert",params:t.prepareToSend(),success:function(i){var i=S(i||{});i.active=!0,t.set(i),n._gaTrackEvent("create",t),window.widgetbar&&window.widgetbar.setPage("alerts"),"function"==typeof e.success&&e.success(t)},complete:function(){var i=Date.now()-o;x.sendReport("alerts","full_time_frame",{v:i}),"function"==typeof e.complete&&e.complete(t)},error:e.error})}).catch(function(t){if(t===C)return y.logNormal("Alert generation is cancelled because next alert generation is started"),C;"function"==typeof e.error&&e.error("Can't generate source code: "+t),"function"==typeof e.complete&&e.complete()})):(i="'alert' should be instance of Alert",y.logError(i),"function"==typeof e.complete&&e.complete(),void("function"==typeof e.error&&e.error(i)))},n.prototype.stopAlert=function(t,e){var i,o,n,r=this;if(e=e||{},t instanceof l?(o=t,n=o.get("id")):(n=t,o=r.alerts.get(n)),!n)return void y.logError("Alert id is required to stop alert");e.showConfirm&&(i=$.t("Do you really want to stop Alert '{0}' ?").format(o?o.title():n)),r.sendRequest({method:"stop_alert",params:{id:n},success:function(){r._gaTrackEvent("stop"),o&&o.set("active",!1),"function"==typeof e.success&&e.success()},error:e.error,complete:e.complete,confirmation:i})},n.prototype.stopAllAlerts=function(t){var e,i,o=this;t=t||{},e={cross_int:!0},t.symbol&&(e.symbol=t.symbol),t.resolution&&(e.resolution=t.resolution),t.showConfirm&&(i=t.symbol||t.resolution?$.t("Do you really want to stop filtered Alerts?"):$.t("Do you really want to stop all Alerts?")),o.sendRequest({method:"stop_all",params:e,success:function(){o._gaTrackEvent("stop_all"),o.alerts.each(function(t){e.symbol&&e.symbol!==t.get("symbol")||e.resolution&&e.resolution!==t.get("resolution")||t.set("active",!1)})},confirmation:i})},n.prototype.deleteAlert=function(t,e){var i,o,n,r=this;return e=e||{},t instanceof l?(o=t,n=o.get("id")):(n=t,o=r.alerts.get(n)),o&&o.isNew()?(o.destroy(),void("function"==typeof e.complete&&e.complete())):n?(e.showConfirm&&(i=$.t("Do you really want to delete Alert '{0}' ?").format(o?o.title():n)),void r.sendRequest({method:"delete_alert",params:{id:n},success:function(){r._gaTrackEvent("delete"),"function"==typeof e.success&&e.success(),o&&o.destroy()},error:e.error,cancel:e.cancel,complete:e.complete,confirmation:i})):void y.logError("Alert id is required to delete alert")},n.prototype.deleteAllAlerts=function(t){var e,i,o=this;t=t||{},e={crossInterval:!0},t.symbol&&(e.symbol=t.symbol),t.resolution&&(e.resolution=t.resolution),"boolean"==typeof t.active&&(e.active=t.active),t.showConfirm&&(i=!1!==e.active||e.symbol||e.resolution?e.symbol||e.resolution||e.active?$.t("Do you really want to delete filtered Alerts?"):$.t("Do you really want to delete all Alerts?"):$.t("Do you really want to delete all inactive Alerts?")),o.sendRequest({method:"delete_all",params:e,
success:function(){var t,i={};for(o._gaTrackEvent("delete_all"),e.symbol&&(i.symbol=e.symbol),e.resolution&&(i.resolution=e.resolution),"boolean"==typeof e.active&&(i.active=e.active),t=o.alerts.findWhere(i);t;)t.destroy(),t=o.alerts.findWhere(i)},error:t.error,complete:t.complete,confirmation:i})},n.prototype.restartAlert=function(t,e){var i,o,r,s,a,c,h=this;return e=e||{},t instanceof l?i=t:(o=t,i=h.alerts.get(o)),i?(r=i.get("expired")<new Date,r&&(s=new Date,s.setMonth(s.getMonth()+1),i.set("expired",s)),a=Date.now(),c=i.prepareToSend(),h._generateScriptWithCancellation(i).then(function(t){if(!i.get("sendTrueSms")||g.enabled(m.ALERTS_TRUE_SMS)&&!user.is_trial)return c.script=t,h.sendRequest({method:"restart_alert",params:c,success:function(){h._gaTrackEvent("restart",i),i.set("active",!0),"function"==typeof e.success&&e.success(i)},complete:function(){var t=Date.now()-a;x.sendReport("alerts","full_time_frame",{v:t}),"function"==typeof e.complete&&e.complete(i)},error:e.error});n.showTrueSmsGoProDialog(),e.complete()}).catch(function(t){if(t===C)return y.logNormal("Alert generation is cancelled because next alert generation is started"),C;"function"==typeof e.error&&e.error("Can't generate alert source code for alert #"+o)})):void h.requestAlert(o,{success:function(t){t?h.restartAlert(t,e):("function"==typeof e.error&&e.error("Can't find alert "+o),"function"==typeof e.complete&&e.complete())}})},n.prototype._generateScriptWithCancellation=function(t){var e,i,o=this;return null==o._lastGenIds[t.cid]&&(o._lastGenIds[t.cid]=0),o._lastGenIds[t.cid]++,e=o._lastGenIds[t.cid],i=function(){return o._lastGenIds[t.cid]!==e},new Promise(function(e,i){var o,n=t.get("extra");if(!n.isValid())return o="Can't generate alert on invalid AlertExtra",y.logError(o),void i(o);c.generateAlert(JSON.stringify(n.toJSON())).then(function(t,i){e(i)},i)}).then(function(e){return i()?Promise.reject(C):(t.set("script",e),e)})},n.prototype.restartAllAlerts=function(t){var e,i,o,r=this;t=t||{},e={crossInterval:!0},t.symbol&&(e.symbol=t.symbol),t.resolution&&(e.resolution=t.resolution),"boolean"==typeof t.active&&(e.active=t.active),t.showConfirm&&(i=t.symbol||t.resolution?$.t("Do you really want to restart filtered alerts?"):$.t("Do you really want to restart all inactive alerts?")),o=!0,r.alerts.each(function(t){!t.get("sendTrueSms")||g.enabled(m.ALERTS_TRUE_SMS)&&!user.is_trial||(o=!1)}),o?r.sendRequest({method:"restart_all",params:e,success:function(){r._gaTrackEvent("restart_all"),r.alerts.each(function(t){e.symbol&&e.symbol!==t.get("symbol")||e.resolution&&e.resolution!==t.get("resolution")||t.set("active",!0)})},error:t.error,complete:t.complete,confirmation:i}):n.showTrueSmsGoProDialog()},n.prototype.requestAlert=function(t,e){function i(t){var i=r.alerts.get(n)||null;return(i||t)&&("function"==typeof e.success&&e.success(i),"function"==typeof e.complete&&e.complete()),!!i}function o(){r.sendRequest({method:"get_alert",preventMaintenanceDialog:!0,params:{id:n},success:function(t){var i,o,n=t.alert;n=S(n),o=r._alertVersioning.migrate(n),
o.then(function(t){i=new l(t),r.alerts.add(i),"function"==typeof e.success&&e.success(i)}).catch(function(t){"function"==typeof e.error&&e.error(t)})},complete:e.complete,error:function(i){"function"==typeof e.error?e.error(i):y.logError("Error in getting alert "+t+(i?": "+i:""))}})}var n,r=this;e=e||{},n=parseInt(t),!0===e.fromCache?i(!0):!1===e.fromCache?o():i()||o()},n.prototype.requestList=function(t){var e,i;t=t||{},e=this,i={symbol:t.symbol,resolution:t.resolution,limit:t.limit,before:t.before,active:t.active,includeCrossInterval:void 0===t.includeCrossInterval||t.includeCrossInterval},e.sendRequest({method:"list_alerts",preventMaintenanceDialog:!0,params:i,success:function(i){var o=$.map(i.alerts,function(t){var i;return t=S(t),i=e._alertVersioning.migrate(t),i.then(function(t){return new l(t)})});if(!o||!$.isArray(o))return void y.logError("Not valid params in alert list response");Promise.all(o).then(function(i){e.alerts.set(i,{remove:!1}),"function"==typeof t.success&&t.success(i)}).catch(function(e){"function"==typeof t.error&&t.error(e)})},error:t.error,complete:t.complete})},n.prototype.requestEventList=function(t){var e,i,o=this;t=t||{},e=function(e){var i=e.events;if(!i||!$.isArray(i))return void console.warn("[Alerts] Not valid params in event list response");i=$.map(i,function(t){var e;return t.hasOwnProperty("eventId")||(t.eventId=t.id),t=S(t),e=new s(t),o.events.add(e),e}),"function"==typeof t.success&&t.success(i)},i={sym:t.symbol,res:t.resolution&&t.resolution.toString?""+t.resolution:void 0,limit:t.limit,before:t.before,inc_del:void 0===t.includeRemoved||t.includeRemoved,inc_cross_int:void 0===t.includeCrossInterval||t.includeCrossInterval},t.aid&&(i.aid=t.aid),this.sendRequest({method:"list_events",preventMaintenanceDialog:!0,params:i,success:e,error:t.error,complete:t.complete})},n.prototype.deleteAllEvents=function(t){var e=this;t=t||{},e.sendRequest({method:"delete_events",success:function(){for(var i=e.events.first();i;)i.destroy(),i=e.events.first();"function"==typeof t.success&&t.success()},error:t.error,complete:t.complete})},n.prototype.sendRequest=function(t){function e(){return b({method:a,params:l,noCache:t.noCache}).then(i).catch(o)}function i(e){if("function"==typeof t.success){var i=S(e);t.success(i)}return n(),i}function o(e){var i=!1;return"max_alerts_count_exceeded"===e?(P.createGoProDialog({feature:"alerts"}).then(function(t){t.open()}),i=!0):"maintenance"===e&&(t.preventMaintenanceDialog||(setTimeout(TVDialogs.showAlertMaintenanceDialog,0),i=!0)),"function"==typeof t.error?t.error(e,i):"maintenance"===e?y.logNormal("Alerts maintenance"):e&&y.logError("Reason: "+e),n(),e}function n(){"function"==typeof t.complete&&t.complete()}function r(){"function"==typeof t.cancel&&t.cancel()}var s,a=t.method,l=T(t.params);return _("alerts-maintenance")?(o("maintenance"),n(),Promise.reject("maintenance")):t.confirmation?(s=!0,new Promise(function(i,o){var a=v({content:t.confirmation,title:$.t("Alert"),type:"modal"});a.actionLoader("yes"),a.on("action:yes",function(t){
t.actionLoader("yes","start");var o=e();o.then(function(e){return t.actionLoader("yes","stop"),t.close(),e}).catch(function(e){return t.actionLoader("yes","stop"),e}),i(o),s=!1}),a.on("action:no",function(){r(),n(),s=!1}),a.on("afterClose",function(){s&&r()}),a.open()})):e()},n.prototype.setChartWidgetCollection=function(t){this._chartWidgetCollection=t},n.prototype.chartWidget=function(){var t=null;return this._chartWidgetCollection&&(t=this._chartWidgetCollection.activeChartWidget.value()),t},n.prototype._gaTrackEvent=function(t,e){function i(t){var e=t.conditionId(),i=t.alertSeriesAlerts();return i&&i.conditions&&i.conditions[e]&&(e="pine_condition"),e||"unknown"}function o(t){var e=t&&t.getMainSeries(),i=e&&e.getStyle&&e.getStyle();return i&&h.STYLE_SHORT_NAMES.hasOwnProperty(i)?h.STYLE_SHORT_NAMES[i]:"unknown"}var n;f("alert",t),"create"===t&&e instanceof l&&(n=e.get("extra"),f("alert","create__style",o(n)),f("alert","create__condition",i(n)),f("alert","create__frequency",e.get("frequency")||"unknown"),e.isPrice()?f("alert","create__on","price"):e.isDrawing()?f("alert","create__on","drawing"):e.isMoving()?f("alert","create__on","moving"):n.band()||n.upperBand()||n.lowerBand()?f("alert","create__on","study"):f("alert","create__on","unknown"))},n.prototype.openEditDialog=function(t,e){var i,o,n=this;if(e=e||{},!r)return void y.logError("MakeAlertDialog is required for edit alert");t instanceof l?i=t:(o=t,i=n.alerts.get(o)),i?(e=$.extend(e,{alert:i,type:"edit_alert"}),new r(e)):o?n.requestAlert(o,{success:function(t){n.openEditDialog(t,e)},error:function(t){"function"==typeof e.error&&e.error(t)}}):console.error("[Alerts] alert id is required to edit alert")},n.prototype._getNotificationFromEvent=function(t){var e={email:!!t.get("sendEmail"),popup:!!t.get("showPopup"),sms:!!t.get("sendSms"),sound:!!t.get("playSound")},i={duration:1e3*(t.get("soundDuration")||0),name:t.get("soundFile")||u.defaults().alert},o=t.shortSymbol();return{alertId:+t.get("alertId"),fired:new Date(t.get("fireTime")),description:t.get("description"),desktopNotificationTitle:$.t("Alert on __title__",{title:o}),id:+t.get("eventId"),notifyWith:e,soundParams:i,title:o,type:"price"}},n.prototype.actionsCreators={stopAlert:function(t){var e=new d({text:$.t("Stop")});return e.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.stopAlert(t,{showConfirm:!0})}),e},restartAlert:function(t){var e=new d({text:$.t("Restart")});return e.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.restartAlert(t)}),e},restartAllAlerts:function(t,e){var i=t||e?$.t("Restart as per filter"):$.t("Restart all inactive"),o=new d({text:i});return o.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.restartAllAlerts({showConfirm:!0,symbol:t,resolution:e})}),o},editAlert:function(t){var e=new d({text:$.t("Edit...")});return e.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.openEditDialog(t)}),e},deleteAlert:function(t){var e=new d({text:$.t("Delete")});return e.callbacks().subscribe(null,function(){
TradingView.alertsDispatcher.deleteAlert(t,{showConfirm:!0})}),e},deleteAllEvents:function(){var t=new d({text:$.t("Clear Log")});return t.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.deleteAllEvents()}),t},stopAllAlerts:function(t,e){var i=t||e?$.t("Stop as per filter"):$.t("Stop all"),o=new d({text:i});return o.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.stopAllAlerts({showConfirm:!0,symbol:t,resolution:e})}),o},deleteAllInactiveAlerts:function(t,e){var i=new d({text:$.t("Delete all inactive")});return i.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.deleteAllAlerts({active:!1,showConfirm:!0})}),i},deleteAllAlerts:function(t,e,i){var o=t||e||i?$.t("Delete as per filter"):$.t("Delete all"),n=new d({text:o});return n.callbacks().subscribe(null,function(){TradingView.alertsDispatcher.deleteAllAlerts({showConfirm:!0,symbol:t,resolution:e,active:!!i||void 0})}),n}},n.showTrueSmsGoProDialog=function(){var t={feature:"alertsTrueSms",goOnMarkets:!1,isTrialAvailable:!0,upgradeMessage:$.t("Upgrade now"),visitPaymentPage:{product_name:"pro_premium",billing_cycle:"2y",options:{newWindow:!0}}};return P.createGoProDialog(t).then(function(t){return t.open(),t})},t.exports=n}).call(e,i(178),i(29))},,,,,,,,,,,,,,,function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><path d="M7 2h3v13H7M2 7h13v3H2z"/></svg>'},,,function(t,e,i){"use strict";var o=i(1465);t.exports='<div data-id="{{chartId}}" class="tv-widget-chart-like-button apply-common-tooltip {{typeClass}}" title="{{titleTooltip}}"><span class="tv-widget-chart-like-button__icon-place">'+o+'</span><span class="js-likes-counter"></span></div>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 670 745"><path d="M417.91 738.04c-118.64-22.82-190.57-47.072-218.92-73.807-22.734-21.44-24.27-32.633-24.27-176.81 0-88.1 1.86-140.31 5.373-150.86 11.138-33.44 36.66-57.735 133.93-127.5 67.296-48.267 90.59-69.93 140.55-130.72C509.177 11.903 521.965.078 539.24.046c16.013-.03 25.43 13.07 32.622 45.373 7.83 35.164-3.512 82.774-30.952 129.93-40.764 70.052-39.008 75.19 31.705 92.733 49.08 12.178 81.767 30 91.884 50.097 8.98 17.844 7.335 39.84-7.633 102.04-7.523 31.264-15.156 66.454-16.962 78.203-1.806 11.748-11.588 46.504-21.738 77.236s-18.454 58.25-18.454 61.152c0 8.677-33.212 71.96-44.153 84.13-22.217 24.715-68.287 30.435-137.65 17.093zm-345.68-25.9c-5.722-2.5-22.273-14.2-36.78-26.03-14.506-11.88-28.418-21.59-30.914-21.59-2.82 0-4.538-65.6-4.538-173.26 0-95.29 1.752-173.25 3.893-173.25 2.144 0 17.104-11.498 33.248-25.552 30.614-26.65 49.608-34.114 68.466-26.907 16.703 6.386 18.065 16.296 7.704 56.06-8.34 32-9.423 51.51-9.423 169.55 0 131.23.62 138.49 16.636 194.72 5.75 20.178-24.144 36.41-48.29 26.22z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42" width="42px" height="42px"><path d="M38.626 17.554h-2.81c-.354-1.755-1.055-3.157-1.756-4.566l1.756-1.755c1.4-1.4 1.4-3.51 0-4.912s-3.51-1.4-4.912 0l-1.756 1.76c-1.4-.7-2.81-1.4-4.565-1.752V3.51c0-2.11-1.402-3.51-3.51-3.51s-3.52 1.41-3.52 3.51v2.81c-1.754.355-3.156 1.056-4.565 1.756L11.233 6.32c-1.4-1.4-3.51-1.4-4.912 0s-1.4 3.512 0 4.913l1.76 1.755c-.7 1.402-1.4 2.81-1.753 4.566H3.51c-2.1 0-3.51 1.41-3.51 3.51s1.4 3.512 3.51 3.512h2.81c.355 1.755 1.056 3.156 1.756 4.565L6.32 30.9c-1.4 1.402-1.4 3.51 0 4.913s3.512 1.4 4.913 0l1.755-1.756c1.402.7 2.81 1.402 4.566 1.756v2.815c0 2.11 1.4 3.51 3.51 3.51s3.51-1.4 3.51-3.51v-2.81c1.757-.354 3.158-1.055 4.567-1.756l1.76 1.754c1.4 1.4 3.51 1.4 4.915 0s1.4-3.51 0-4.912l-1.756-1.756c.7-1.4 1.4-2.81 1.755-4.565h2.81c2.107 0 3.51-1.4 3.51-3.51.006-2.11-1.403-3.52-3.505-3.52zm-17.56 14.05c-5.968 0-10.534-4.565-10.534-10.532s4.566-10.54 10.533-10.54 10.532 4.566 10.532 10.533-4.558 10.54-10.532 10.54zm0-14.05c-2.11 0-3.512 1.4-3.512 3.51s1.4 3.512 3.51 3.512 3.51-1.402 3.51-3.51-1.4-3.512-3.51-3.512z"/></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" width="16px" height="15px"><path fill-rule="evenodd" d="M1.6 0C.72 0 .008.675.008 1.5L0 15l3.2-3h11.2c.88 0 1.6-.675 1.6-1.5v-9c0-.825-.72-1.5-1.6-1.5H1.6zm4.823 6.36L8.73 8.37c.38.332 1.004.265 1.286-.138l2.856-4.082c.245-.35.128-.814-.26-1.035-.39-.22-.905-.115-1.15.235L9.15 6.648 6.907 4.693c-.362-.315-.95-.272-1.25.09l-2.492 3.02c-.275.332-.198.802.17 1.05.37.246.892.177 1.167-.156l1.92-2.338z"/></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(5),e.quoteFieldTitles={name:[window.t("Ticker"),window.t("Ticker")],description:[window.t("Description"),window.t("Description")],country:[window.t("Country"),window.t("Country")],type:[window.t("Symbol Type"),window.t("Symbol Type")],after_tax_margin:[window.t("Net Margin (TTM)"),window.t("Net Margin")],average_volume:[window.t("Average Volume (10 day)"),window.t("Avg Vol (10)")],average_volume_30d_calc:[window.t("Average Volume (30 day)"),window.t("Avg Vol (30)")],average_volume_60d_calc:[window.t("Average Volume (60 day)"),window.t("Avg Vol (60)")],average_volume_90d_calc:[window.t("Average Volume (90 day)"),window.t("Avg Vol (90)")],basic_eps_net_income:[window.t("EPS Basic (FY)"),window.t("EPS (FY)")],beta_1_year:[window.t("Beta - 1 Year"),window.t("Beta 1Y")],beta_3_year:[window.t("Beta - 3 Year"),window.t("Beta 3Y")],beta_5_year:[window.t("Beta - 5 Year"),window.t("Beta 5Y")],candlestick:[window.t("Pattern",{context:"candlestick_pattern"}),window.t("Pattern",{context:"candlestick_pattern"})],cash_ratio:[window.t("Cash Ratio (FY)"),window.t("Cash Ratio")],current_ratio:[window.t("Current Ratio (MRQ)"),window.t("Current Ratio")],debt_to_assets:[window.t("Debt to Assets"),window.t("Debt to Assets")],
debt_to_equity:[window.t("Debt to Equity (MRQ)"),window.t("Debt to Equity")],dividends_paid:[window.t("Dividends Paid (FY)"),window.t("Div Paid")],dividends_per_share_fq:[window.t("Dividends per Share (MRQ)"),window.t("Div per Share")],dividends_yield:[window.t("Dividends Yield (FY)"),window.t("Div Yield")],earnings_per_share_basic_ttm:[window.t("EPS Basic (TTM)"),window.t("EPS (TTM)")],earnings_per_share_diluted_ttm:[window.t("EPS Diluted (TTM)"),window.t("EPS Diluted (TTM)")],earnings_per_share_forecast_next_fq:[window.t("EPS Forecast (FQ)"),window.t("EPS Forecast")],earnings_per_share_fq:[window.t("EPS Diluted (MRQ)"),window.t("EPS Diluted (MRQ)")],earnings_release_next_date:[window.t("Earnings Date"),window.t("Earnings Date")],ebitda:[window.t("EBITDA (TTM)"),window.t("EBITDA")],enterprise_value_ebitda_ttm:[window.t("Enterprise Value/EBITDA (TTM)"),window.t("EV/EBITDA")],enterprise_value_fq:[window.t("Enterprise Value (MRQ)"),window.t("EV")],exchange:[window.t("Exchange"),window.t("Exchange")],expected_annual_dividends:[window.t("Dividends Expected Annual"),window.t("Div Expected")],gross_margin:[window.t("Gross Margin (TTM)"),window.t("Gross Margin")],gross_profit:[window.t("Gross Profit (FY)"),window.t("Gross Profit (FY)")],gross_profit_fq:[window.t("Gross Profit (MRQ)"),window.t("Gross Profit (MRQ)")],index:[window.t("Index"),window.t("Index")],industry:[window.t("Industry"),window.t("Industry")],last_annual_eps:[window.t("EPS Diluted (FY)"),window.t("EPS Diluted (FY)")],last_annual_revenue:[window.t("Revenue Last Annual (FY)"),window.t("Rev Annual")],long_term_capital:[window.t("Capital Long Term"),window.t("Capital Long Term")],market_cap_basic:[window.t("Market Cap"),window.t("Mkt Cap")],market_cap_calc:[window.t("Market Cap"),window.t("Mkt Cap")],market_cap_diluted_calc:[window.t("Fully Diluted Market Cap"),window.t("FD Mkt Cap")],net_debt:[window.t("Net Debt (MRQ)"),window.t("Net Debt")],net_income:[window.t("Net Income (FY)"),window.t("Income")],number_of_employees:[window.t("Number of Employees"),window.t("Emp")],number_of_shareholders:[window.t("Number of Shareholders"),window.t("Shareholders")],open_price:[window.t("Open Price"),window.t("Open")],operating_margin:[window.t("Operating Margin (TTM)"),window.t("Operating Margin")],pre_tax_margin:[window.t("Pretax Margin (TTM)"),window.t("Pretax Margin")],preferred_dividends:[window.t("Dividends Preferred "),window.t("Div Pref")],prev_close_price:[window.t("Previous Close Price"),window.t("Prev")],price_52_week_high:[window.t("52 Week High"),window.t("High 52W")],price_52_week_low:[window.t("52 Week Low"),window.t("Low 52W")],price_book_ratio:[window.t("Price to Book (FY)"),window.t("P/B (FY)")],price_earnings_ttm:[window.t("Price to Earnings (TTM)"),window.t("P/E")],price_percent_change_1_week:[window.t("Price % Change 1 Week"),window.t("Chng 1W")],price_percent_change_4_week:[window.t("Price % Change 4 Week"),window.t("Chng 4W")],price_percent_change_52_week:[window.t("Price % Change 52 Week"),window.t("Chng 52W")],
price_revenue_ttm:[window.t("Price to Revenue (TTM)"),window.t("P/R")],price_sales_ratio:[window.t("Price to Sales (FY)"),window.t("P/S")],quick_ratio:[window.t("Quick Ratio (MRQ)"),window.t("Quick Ratio")],return_of_invested_capital_percent_ttm:[window.t("Return on Invested Capital % (TTM)"),window.t("ROI %")],return_on_assets:[window.t("Return on Assets (TTM)"),window.t("ROA")],return_on_equity:[window.t("Return on Equity (TTM)"),window.t("ROE")],return_on_invested_capital:[window.t("Return on Invested Capital (TTM)"),window.t("ROI %")],revenue_per_employee:[window.t("Revenue per Employee (TTM)"),window.t("Revenue per Employee")],sector:[window.t("Sector"),window.t("Sector")],eps_surprise_fq:[window.t("Surprise"),window.t("Surprise")],eps_surprise_percent_fq:[window.t("Surprise %"),window.t("Surprise %")],total_assets:[window.t("Total Assets (MRQ)"),window.t("Assets")],total_capital:[window.t("Total Capital"),window.t("Capital")],total_current_assets:[window.t("Total Current Assets (MRQ)"),window.t("Current Assets")],total_debt:[window.t("Total Debt (MRQ)"),window.t("Debt")],total_revenue:[window.t("Total Revenue (FY)"),window.t("Revenue")],total_shares_outstanding_fundamental:[window.t("Total Shares Outstanding (MRQ)"),window.t("Shares")],volume:[window.t("Volume"),window.t("Vol")],relative_volume:[window.t("Relative Volume"),window.t("Relative Vol")],change_abs:[window.t("Change"),window.t("Chg")],change:[window.t("Change %"),window.t("Chg %")],pre_change:[window.t("Pre-market Change %"),window.t("Pre-market chg %")],bid:[window.t("Bid"),window.t("Bid")],ask:[window.t("Ask"),window.t("Ask")],close:[window.t("Close"),window.t("Close")],open:[window.t("Open"),window.t("Open")],high:[window.t("High"),window.t("High")],low:[window.t("Low"),window.t("Low")],gap:[window.t("Gap %"),window.t("Gap %")],price_earnings_to_growth_ttm:[window.t("Price/Earnings/Growth (TTM)"),window.t("PEG")],price_sales:[window.t("Price/Sales"),window.t("Price/Sales")],price_book_fq:[window.t("Price to Book (MRQ)"),window.t("P/B (MRQ)")],price_free_cash_flow_ttm:[window.t("Price to Free Cash Flow (TTM)"),window.t("Price/Free Cash Flow")],float_shares_outstanding:[window.t("Shares Float"),window.t("Float")],free_cash_flow:[window.t("Free Cash Flow (TTM)"),window.t("Free Cash Flow")],total_shares_outstanding:[window.t("Shares Outstanding"),window.t("Shares Outstanding")],total_shares_diluted:[window.t("Total Coins"),window.t("Total Coins")],total_value_traded:[window.t("Traded Volume"),window.t("Traded Vol")],change_from_open:[window.t("Change from Open %"),window.t("Chng from Open")],"Perf.W":[window.t("Performance Week"),window.t("Perf Week")],"Perf.1M":[window.t("Performance Month"),window.t("Perf Month")],"Perf.3M":[window.t("Performance 3-Month"),window.t("Perf 3")],"Perf.6M":[window.t("Performance 6-Month"),window.t("Perf 6")],"Perf.Y":[window.t("Performance Year"),window.t("Perf Year")],"Perf.YTD":[window.t("Performance YTD"),window.t("Perf YTD")],"Volatility.W":[window.t("Volatility Week"),window.t("Volatility W")],
"Volatility.M":[window.t("Volatility Month"),window.t("Volatility M")],"Volatility.D":[window.t("Volatility"),window.t("Volatility")],RSI:[window.t("Relative Strength Index (14)"),window.t("RSI14")],RSI7:[window.t("Relative Strength Index (7)"),window.t("RSI7")],ADX:[window.t("Average Directional Index (14)"),window.t("ADX")],"ADX+DI":[window.t("Positive Directional Indicator (14)"),window.t("+DI",{context:"Positive_Directional_Indicator_short_title"})],"ADX-DI":[window.t("Negative Directional Indicator (14)"),window.t("-DI",{context:"Negative_Directional_Indicator_short_title"})],ATR:[window.t("Average True Range (14)"),window.t("ATR")],Mom:[window.t("Momentum (10)"),window.t("MOM")],"High.All":[window.t("All Time High"),window.t("All Time High")],"Low.All":[window.t("All Time Low"),window.t("All Time Low")],"High.6M":[window.t("6-Month High"),window.t("6-Month High")],"Low.6M":[window.t("6-Month Low"),window.t("6-Month Low")],"High.3M":[window.t("3-Month High"),window.t("3-Month High")],"Low.3M":[window.t("3-Month Low"),window.t("3-Month Low")],"High.1M":[window.t("1-Month High"),window.t("1-Month High")],"Low.1M":[window.t("1-Month Low"),window.t("1-Month Low")],EMA10:[window.t("Exponential Moving Average (10)"),window.t("EMA10")],EMA20:[window.t("Exponential Moving Average (20)"),window.t("EMA20")],EMA30:[window.t("Exponential Moving Average (30)"),window.t("EMA30")],EMA50:[window.t("Exponential Moving Average (50)"),window.t("EMA50")],EMA100:[window.t("Exponential Moving Average (100)"),window.t("EMA100")],EMA200:[window.t("Exponential Moving Average (200)"),window.t("EMA200")],SMA10:[window.t("Simple Moving Average (10)"),window.t("SMA10")],SMA20:[window.t("Simple Moving Average (20)"),window.t("SMA20")],SMA30:[window.t("Simple Moving Average (30)"),window.t("SMA30")],SMA50:[window.t("Simple Moving Average (50)"),window.t("SMA50")],SMA100:[window.t("Simple Moving Average (100)"),window.t("SMA100")],SMA200:[window.t("Simple Moving Average (200)"),window.t("SMA200")],"Stoch.K":[window.t("Stochastic Fast (14, 3, 1)"),window.t("Stoch Fast")],"Stoch.D":[window.t("Stochastic Slow (14, 3, 1)"),window.t("Stoch Slow")],"MACD.macd":[window.t("MACD Level (12, 27)"),window.t("MACD Level")],"MACD.signal":[window.t("MACD Signal (12, 27)"),window.t("MACD Signal")],"Aroon.Up":[window.t("Aroon Up (14)"),window.t("Aroon Up")],"Aroon.Down":[window.t("Aroon Down (14)"),window.t("Aroon Down")],"BB.upper":[window.t("Bollinger Upper Band (20)"),window.t("BB Up")],"BB.lower":[window.t("Bollinger Lower Band (20)"),window.t("BB Low")],goodwill:[window.t("Goodwill"),window.t("Goodwill")],debt_to_equity_fq:[window.t("Debt/Equity, MRQ"),window.t("Debt/Eq")],CCI20:[window.t("Commodity Channel Index (20)"),window.t("CCI20")],"DonchCh20.Upper":[window.t("Donchian Channels Upper Band (20)"),window.t("DonchCh20 Up")],"DonchCh20.Lower":[window.t("Donchian Channels Lower Band (20)"),window.t("DonchCh20 Low")],HullMA9:[window.t("Hull Moving Average (9)"),window.t("HullMA9")],AO:[window.t("Awesome Oscillator"),window.t("AO")],
"Pivot.M.Classic.S3":[window.t("1-Month Pivot Classic S3"),window.t("S3")],"Pivot.M.Classic.S2":[window.t("1-Month Pivot Classic S2"),window.t("S2")],"Pivot.M.Classic.S1":[window.t("1-Month Pivot Classic S1"),window.t("S1")],"Pivot.M.Classic.Middle":[window.t("1-Month Pivot Classic P"),window.t("P")],"Pivot.M.Classic.R1":[window.t("1-Month Pivot Classic R1"),window.t("R1")],"Pivot.M.Classic.R2":[window.t("1-Month Pivot Classic R2"),window.t("R2")],"Pivot.M.Classic.R3":[window.t("1-Month Pivot Classic R3"),window.t("R3")],"Pivot.M.Fibonacci.S3":[window.t("1-Month Pivot Fibonacci S3"),window.t("S3")],"Pivot.M.Fibonacci.S2":[window.t("1-Month Pivot Fibonacci S2"),window.t("S2")],"Pivot.M.Fibonacci.S1":[window.t("1-Month Pivot Fibonacci S1"),window.t("S1")],"Pivot.M.Fibonacci.Middle":[window.t("1-Month Pivot Fibonacci P"),window.t("P")],"Pivot.M.Fibonacci.R1":[window.t("1-Month Pivot Fibonacci R1"),window.t("R1")],"Pivot.M.Fibonacci.R2":[window.t("1-Month Pivot Fibonacci R2"),window.t("R2")],"Pivot.M.Fibonacci.R3":[window.t("1-Month Pivot Fibonacci R3"),window.t("R3")],"Pivot.M.Camarilla.S3":[window.t("1-Month Pivot Camarilla S3"),window.t("S3")],"Pivot.M.Camarilla.S2":[window.t("1-Month Pivot Camarilla S2"),window.t("S2")],"Pivot.M.Camarilla.S1":[window.t("1-Month Pivot Camarilla S1"),window.t("S1")],"Pivot.M.Camarilla.Middle":[window.t("1-Month Pivot Camarilla P"),window.t("P")],"Pivot.M.Camarilla.R1":[window.t("1-Month Pivot Camarilla R1"),window.t("R1")],"Pivot.M.Camarilla.R2":[window.t("1-Month Pivot Camarilla R2"),window.t("R2")],"Pivot.M.Camarilla.R3":[window.t("1-Month Pivot Camarilla R3"),window.t("R3")],"Pivot.M.Woodie.S3":[window.t("1-Month Pivot Woodie S3"),window.t("S3")],"Pivot.M.Woodie.S2":[window.t("1-Month Pivot Woodie S2"),window.t("S2")],"Pivot.M.Woodie.S1":[window.t("1-Month Pivot Woodie S1"),window.t("S1")],"Pivot.M.Woodie.Middle":[window.t("1-Month Pivot Woodie P"),window.t("P")],"Pivot.M.Woodie.R1":[window.t("1-Month Pivot Woodie R1"),window.t("R1")],"Pivot.M.Woodie.R2":[window.t("1-Month Pivot Woodie R2"),window.t("R2")],"Pivot.M.Woodie.R3":[window.t("1-Month Pivot Woodie R3"),window.t("R3")],"Pivot.M.Demark.S1":[window.t("1-Month Pivot Demark S1"),window.t("S1")],"Pivot.M.Demark.Middle":[window.t("1-Month Pivot Demark P"),window.t("P")],"Pivot.M.Demark.R1":[window.t("1-Month Pivot Demark R1"),window.t("R1")],rtc:[window.t("Pre-market Close"),window.t("Pre-market Close")],"KltChnl.upper":[window.t("Keltner Channels Upper Band (20)"),window.t("KltCh20 Up")],"KltChnl.lower":[window.t("Keltner Channels Lower Band (20)"),window.t("KltCh20 Low")],"P.SAR":[window.t("Parabolic SAR"),window.t("SAR")],"Value.Traded":[window.t("Volume*Price"),window.t("Volume*Price")],MoneyFlow:[window.t("Money Flow (14)"),window.t("MFl",{context:"Money_Flow_short_title"})],ChaikinMoneyFlow:[window.t("Chaikin Money Flow (20)"),window.t("CMF",{context:"Chaikin_Money_Flow_short_title"})],"Recommend.All":[window.t("Rating"),window.t("Rating")],
"Recommend.MA":[window.t("Moving Averages Rating"),window.t("Moving Averages Rating")],"Recommend.Other":[window.t("Oscillators Rating"),window.t("Oscillators Rating")],"Stoch.RSI.K":[window.t("Stochastic RSI Fast (3, 3, 14, 14)"),window.t("Stoch RSI Fast")],"Stoch.RSI.D":[window.t("Stochastic RSI Slow (3, 3, 14, 14)"),window.t("Stoch RSI Slow")],"W.R":[window.t("Williams Percent Range (14)"),window.t("%R")],ROC:[window.t("Rate Of Change (9)"),window.t("ROC")],BBPower:[window.t("Bull Bear Power"),window.t("BBPower")],UO:[window.t("Ultimate Oscillator (7, 14, 28)"),window.t("UO")],"Ichimoku.CLine":[window.t("Ichimoku Cloud Conversion Line (9, 26, 52, 26)"),window.t("Ichimoku Conversion")],"Ichimoku.BLine":[window.t("Ichimoku Cloud Base Line (9, 26, 52, 26)"),window.t("Ichimoku Base")],"Ichimoku.Lead1":[window.t("Ichimoku Lead 1 (9, 26, 52, 26)"),window.t("Ichimoku Lead 1")],"Ichimoku.Lead2":[window.t("Ichimoku Lead 2 (9, 26, 52, 26)"),window.t("Ichimoku Lead 2")],VWMA:[window.t("Volume Weighted Moving Average (20)"),window.t("VWMA")],ADR:[window.t("Average Day Range (14)"),window.t("ADR")]}},function(t,e,i){"use strict";var o,n,r,s,a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(4),r=i(1323),s=i(13),a=i(0),l=a.getLogger("Chat.PrivateChatModel"),c="/chats/status/",h="/username_hint/",d=function(t){function e(e){var i=t.call(this,e)||this;return i._roomMessagesReadDelegate=new n,i._otherRoomMessagesReadDelegate=new n,i}return o.__extends(e,t),e.prototype.roomMessagesRead=function(){return this._roomMessagesReadDelegate},e.prototype.otherRoomMessagesRead=function(){return this._otherRoomMessagesReadDelegate},e.prototype.setMessagesRead=function(){this._updateRoomLastVisitedTime()},e.prototype.loadHistory=function(e,i){var o=this;t.prototype.loadHistory.call(this,e,function(t,e,n){o.setMessagesRead(),i&&i(t,e,n)})},e.prototype.loadMoreRooms=function(){return this._getChatRooms().loadMoreRooms()},e.prototype.leaveFromRoom=function(t,e){return this._getChatRooms().leaveFromRoom(t,e)},e.prototype.updateRoomUsers=function(t,e,i){return this._getChatRooms().updateRoomUsers(t,e,i)},e.prototype.updateRoomInfo=function(t,e){this._getChatRooms().getRoomInfo(t,e,void 0,!0)},e.prototype.hiddenRooms=function(){return this._getChatRooms().hiddenRooms()},e.prototype.addHiddenRoom=function(t){this._getChatRooms().addHiddenRoom(t),this._updateRoomLastVisitedTime(t)},e.prototype.removeHiddenRoom=function(t){this._getChatRooms().removeHiddenRoom(t)},e.prototype.isRoomHidden=function(t){return this._getChatRooms().isRoomHidden(t)},e.prototype.searchUsers=function(t,e){s.get(h,{s:t},e)},e.prototype._extendCommonRequestData=function(t){t.is_private="1"},e.prototype._getChannel=function(){return this.room()},e.prototype._pushStreamRoomDataHandler=function(e,i,o,n){switch(e.action){case"message":this.setMessagesRead();break;case"messages-read":var r=this.getRoomById(e.data.room_id);return void(r?this._roomMessagesReadDelegate.fire(r):l.logError("Received messages-read event for unknown room "+e.data.room_id))}
t.prototype._pushStreamRoomDataHandler.call(this,e,i,o,n)},e.prototype._onOtherRoomEventReceived=function(e,i,o,n){var r,s=e.data.room_id;if(s!==this.room())return"messages-read"===e.action?void((r=this.getRoomById(s))&&this._otherRoomMessagesReadDelegate.fire(r)):void t.prototype._onOtherRoomEventReceived.call(this,e,i,o,n)},e.prototype._updateRoomLastVisitedTime=function(t){(t&&t!==this.room()||this.isActive())&&(t=t||this.room(),s.post(c,{room_id:t}))},e}(r.AbstractChatModel),e.PrivateChatModel=d},function(t,e,i){"use strict";var o,n,r,s,a,l,c;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),i(5),n=i(1323),r=i(49),s=i(13),a="/vote-for-chart/",l="/conversation-vote/",c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.deleteRoom=function(t,e){return this._getChatRooms().deleteRoom(t,e)},e.prototype.voteForChart=function(t,e,i){s.post(a,{image_url:t.id,vote:e?1:0},i)},e.prototype.voteForMessageWithSnapshot=function(t,e,i){s.post(l,{id:t.id,vote:e?1:0},i)},e.prototype.favoriteRooms=function(){return this._getChatRooms().favoriteRooms()},e.prototype.isRoomFavorite=function(t){return this._getChatRooms().isRoomFavorite(t)},e.prototype.addFavoriteRoom=function(t){this._getChatRooms().addFavoriteRoom(t)},e.prototype.removeFavoriteRoom=function(t){this._getChatRooms().removeFavoriteRoom(t)},e.prototype.isShownOnlyFavorites=function(){return this._getChatRooms().isShownOnlyFavorites()},e.prototype.toggleShownOnlyFavorites=function(){this._getChatRooms().toggleShownOnlyFavorites()},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?r.addChannel("chat"):r.removeChannel("chat")},e.prototype._reportMessageOptions=function(){var t=this.getRoomById(this.room());return t?{additionalText:s.t("Posted in {0}").format(t.title)}:{}},e.prototype._extendCommonRequestData=function(t){t.is_private=""},e.prototype._getChannel=function(){return"chat_"+this.room()},e}(n.AbstractChatModel),e.PublicChatModel=c},function(t,e,i){"use strict";var o,n,r,s,a,l,c,h,d,u,p,f,_,g,m;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(1325),r=i(0),s=i(13),a=i(48),l=r.getLogger("Chat.PrivateChatRooms"),c="privatemessages.hiddenrooms",h="/chats/get/",d="/chats/create/",u="/chats/title/",p="/chats/update/",f="/chats/leave/",_="/chats/info/",g=30,m=function(t){function e(){var e=t.call(this,null)||this;return e._updateRoomRequest=null,window.loginStateChange.subscribe(e,e._onLoginStateChanged),e._onLoginStateChanged(),e}return o.__extends(e,t),e.prototype.updateRooms=function(t){var e,i=this;void 0===t&&(t=g),this._updateRoomRequest||(e=window,e.user&&e.is_authenticated?(this._updateRoomRequest=s.get(h,{limit:t},this._onRoomsChanged.bind(this)),this._updateRoomRequest.always(function(){i._updateRoomRequest=null})):this._onRoomsChanged([]))},e.prototype.loadMoreRooms=function(){this.updateRooms(this.rooms().length+g)},e.prototype.createRoom=function(t,e,i,o){var n=this;s.post(d,{members:i},function(t){t.error||t.room.existing||n._onRoomAdded(t.room),o&&o(t)})},
e.prototype.editRoom=function(t,e,i,o){var n,r=this,a=this.getRoomById(t);return!!a&&(n={room_id:t,room_title:e},s.post(u,n,function(t){t.error||(a.title=e,r._onRoomChanged(a)),o&&o(t)}),!0)},e.prototype.getRoomInfo=function(t,e,i,o){var n=this,r=this.getRoomById(t);if(r&&!o)return void(e&&e(r));s.get(_,{room_id:t},function(r){if(r.error)return void(i&&i());var s=n.getRoomById(t);o&&s?n._onRoomChanged(r.room):s||n._onRoomAdded(r.room),e&&e(r.room)}).fail(i)},e.prototype.leaveFromRoom=function(t,e){var i=this;return!!this.getRoomById(t)&&(s.post(f,{room_id:t},function(o){if(!o.error){var n=i.getRoomById(t);n?i._onRoomDeleted(n):l.logError("We are already left the room "+t)}e&&e(o)}),!0)},e.prototype.updateRoomUsers=function(t,e,i){var o=this;return!!this.getRoomById(t)&&(s.post(p,{members:e,room_id:t},function(e){var n=o.getRoomById(t);n&&(e.room&&e.room.members_info&&e.room.room_id===n.room_id&&(n.members_info=e.room.members_info),o._onRoomChanged(n)),i&&i(e)}),!0)},e.prototype.hiddenRooms=function(){return this._hiddenRooms},e.prototype.addHiddenRoom=function(t){this.isRoomHidden(t)||(this._hiddenRooms.push(t),this._flushHiddenRooms())},e.prototype.removeHiddenRoom=function(t){if(this.isRoomHidden(t)){var e=this._hiddenRooms.indexOf(t);this._hiddenRooms.splice(e,1),this._flushHiddenRooms()}},e.prototype.isRoomHidden=function(t){return-1!==this._hiddenRooms.indexOf(t)},e.prototype._multiplexerEvent=function(){return"pm_*"},e.prototype._pushStreamBroadcastHandler=function(e,i,o,n){var r=e.data.type;if("join"===r||"leave"===r){if("leave"===r&&window.user.id===e.data.user_id)return;this.getRoomInfo(e.data.room_id,void 0,void 0,!0)}t.prototype._pushStreamBroadcastHandler.call(this,e,i,o,n)},e.prototype._flushHiddenRooms=function(){a.setJSON(c,this._hiddenRooms,{forceFlush:!0})},e.prototype._onLoginStateChanged=function(){this._hiddenRooms=a.getJSON(c,[]),this.updateRooms()},e}(n.AbstractChatRooms),e.PrivateChatRooms=m},function(t,e,i){"use strict";function o(t){return"en"!==window.language&&(t=t+"."+window.locale),t}var n,r,s,a,l,c,h,d,u,p,f,_;Object.defineProperty(e,"__esModule",{value:!0}),n=i(6),r=i(1325),s=i(13),a=i(48),l="publiccharts.favorites",c="chat.show_only_favorites",h="/chats/public/get/",d="/chats/public/create/",u="/chats/public/createpingback/",p="/chats/public/edit/",f="/chats/public/delete/",_=function(t){function e(e){var i=t.call(this,e)||this;return i._favoriteRooms=a.getJSON(o(l),{}),i._showOnlyFavorites=!!a.getBool(c),i}return n.__extends(e,t),e.prototype.updateRooms=function(){s.get(h,this._onRoomsChanged.bind(this))},e.prototype.createRoom=function(t,e,i,o){var n={desc:e,title:t};s.post(d,n,function(t){t.error||s.post(u,{room_id:t.room.room_id}),o&&o(t)})},e.prototype.editRoom=function(t,e,i,o){if(!this.getRoomById(t))return!1;var n={desc:i,room_id:t,title:e};return s.post(p,n,o),!0},e.prototype.deleteRoom=function(t,e){return!!this.getRoomById(t)&&(s.post(f,{room_id:t},e),!0)},e.prototype.favoriteRooms=function(){return Object.keys(this._favoriteRooms)},e.prototype.isRoomFavorite=function(t){
return t in this._favoriteRooms},e.prototype.addFavoriteRoom=function(t){this._favoriteRooms[t]=!0,this._saveFavorires()},e.prototype.removeFavoriteRoom=function(t){delete this._favoriteRooms[t],this._saveFavorires()},e.prototype.isShownOnlyFavorites=function(){return this._showOnlyFavorites},e.prototype.toggleShownOnlyFavorites=function(){this._showOnlyFavorites=!this._showOnlyFavorites,a.setValue(c,this._showOnlyFavorites)},e.prototype._multiplexerEvent=function(){return"chat_*"},e.prototype._pushStreamBroadcastHandler=function(e,i,o,n){if("create_room"===e.data.type&&e.data.meta.lang===window.locale)return void this._onRoomAdded(e.data.meta.room);var r=this.getRoomById(e.data.room_id);if(r)switch(r.last_message_time=Date.now(),e.data.type){case"edit_room":return r.title=e.data.meta.room_title,r.description=e.data.meta.room_desc,void this._onRoomChanged(r);case"delete_room":return void this._onRoomDeleted(r)}t.prototype._pushStreamBroadcastHandler.call(this,e,i,o,n)},e.prototype._saveFavorires=function(){a.setJSON(o(l),this._favoriteRooms)},e}(r.AbstractChatRooms),e.PublicChatRooms=_},function(t,e,i){"use strict";var o={smiliesMap:{":agree:":[0,0],":disagree:":[1,0],":okay:":[2,0],":peace:":[3,0],":wait:":[4,0],":wave:":[5,0],":buy:":[0,1],":sell:":[1,1],":profit:":[2,1],":loss:":[3,1],":uptrend:":[4,1],":downtrend:":[5,1],":\\)":[0,2],":D":[1,2],";\\)":[2,2],":\\(":[3,2],o_O:[4,2],":\\|":[5,2],":P":[0,3],":cry:":[1,3],":panic:":[2,3],":halo:":[3,3],":sarcasm:":[4,3],":shades:":[5,3],":sleepy:":[0,4],":love:":[1,4],":rage:":[2,4],"\\]:-\\)":[3,4],":bear:":[4,4],":bull:":[5,4],":tip:":[0,5],":dollar:":[1,5],":euro:":[2,5],":pound:":[3,5],":yen:":[4,5],":bitcoin:":[5,5],":idea:":[0,6],":rip:":[1,6],":popcorn:":[2,6],":coffee:":[3,6],":poop:":[4,6],":hot:":[5,6],":bullseye:":[0,7],":stop:":[1,7],":sun:":[2,7],":moon:":[3,7],":heart:":[4,7],":heartbroken:":[5,7],":spades:":[0,8],":clubs:":[1,8],":hearts:":[2,8],":diamonds:":[3,8],":star:":[4,8],":!:":[5,8],":ok:":[0,9],":no:":[1,9],":sos:":[2,9],":top:":[3,9],":cool:":[4,9],":free:":[5,9]},getSmileByCoords:function(t,e){t=Math.floor(t/25),e=Math.floor(e/25);var i="";return $.each(o.smiliesMap,function(o,n){if(n[0]===t&&n[1]===e)return i=o.replace(/\\/g,""),!1}),i},highlightNewMessages:function(t,e,i){var o,n=0,r=t.find(".ch-item").reverse().slice(0,e);if(!(!r.length||e<1||i<1)){for(;e>0;)o=r.eq(n).find(".ch-item-text").length,e-=o,n++;r.slice(0,n).highlight(i)}},getChatHistoryMessageURL:function(t,e){var i=new Date(t),o=i.getMonth()+1,n=i.getDate(),r=i.getHours(),s=i.getMinutes();return"/chat/history/?room="+e+"&date="+i.getFullYear()+"-"+(o<10?"0":"")+o+"-"+(n<10?"0":"")+n+"&timefrom="+(r<10?"0":"")+r+"%3A"+(s<10?"0":"")+s+"&timeto=00%3A00&usernames=&order=asc&tzoffset="+i.getTimezoneOffset()}};t.exports=o},,,,function(t,e,i){"use strict";function o(){var t,e,i=!1;for(t=c.length;t--;)e=c[t].onclose,c[t].wnd.closed?(e&&e.call(c[t].wnd),c.splice(t,1)):e&&(i=!0);!i&&a&&(clearInterval(a),a=void 0)}function n(t){var e,i,o;if(null==t)return"";if("object"==typeof t){e=""
;for(i in t){if("boolean"==typeof(o=t[i]))o=o?"yes":"no";else if(null==o)continue;e+=(e?",":"")+i+"="+o}return e}return t+""}function r(t){var e,i,r;return"string"==typeof t?t={url:t}:null==t&&(t={}),null!=t.url&&""!==t.url||(t.url="about:blank"),null==t.name&&(t.name=void 0),e=window.open(t.url,t.name,n(t.parameters)),i=void 0!==t.data,r={wnd:e,data:t.data},"function"==typeof t.onclose&&(r.onclose=t.onclose,i=!0),"function"==typeof t.onbound&&(r.onbound=t.onbound,i=!0),i&&(c.push(r),!a&&r.onclose&&(a=setInterval(o,l))),e}function s(t){for(var e=c.length;e--;)if(c[e].wnd===t)return c[e].onbound&&(c[e].onbound.call(t),c[e].onbound=null),c[e].data}var a,l=1e3,c=[];t.exports={open:r,getData:s}},function(t,e,i){"use strict";(function(e){function o(t){var e=/^(?:https?:\/\/)?(?:[^@\/\n]+@)?((?:www\.)?(?:[^:\/\n]+))/,i=t.match(e);return i?i[1]:""}function n(t){function i(t){var e=t.replace(/[\d\-]/g,"");return h.detectUnicodeBlock(e)}function n(i,o){var n=t.replace(i,o);return encodeURI(e.escape(u.decodeURI(n)))}var r,s,a,l=o(t),d=l.split(".");return d.length>=2&&(r=i(d[d.length-1]),s=i(d[d.length-2]),r!==s)?n(l,c.toASCII(l)):(a=d.map(function(t){var e=i(t);return"Mixed"===e||"Supplementary"===e?c.toASCII(t):t}).join("."),n(l,a))}var r=i(1103).emoji,s=i(567).urlsRegExp,a=i(506),l=i(1068),c=i(1631),h=i(1632),d=i(165).getSymbolPagePath,u={snapshots:function(t){var i,o,n=t.text.match(u.re.snapshots);if(n)for(i=0;i<n.length;i++)t.text=t.text.replace(n[i],"<"+t.count+++">"),-1!==n[i].indexOf("amazonaws")&&-1===n[i].indexOf("_thumb")&&(o=n[i].split("."),o[o.length-2]+="_thumb",o=o.join(".")),t.values.push(e.render('<div class="ch-item-snapshot-link"><i class="icon icon-snapshot-small" title="{{title}}"></i> <a href="{{url}}" target="_blank">{{title}}</a></div><div class="ch-item-snapshot-preview"><a target="_blank" href="{{url}}"><img src="{{thumbUrl}}" alt="" class="snapshot-preview"/></a></div>',{title:$.t("Chart Snapshot"),url:n[i],thumbUrl:o||n[i]}));return t},comments:function(t){var e,i,o=t.text.match(u.re.comments);if(o)for(e=0;e<o.length;e++)t.text=t.text.replace(o[e],"<"+t.count+++">"),i=n(o[e]),t.values.push('<a target="_blank" href="'+i+'">'+u.decodeURI(i)+"</a>");return t},links:function(t){function e(t){return/^[a-zA-Z0-9.\-]*tradingview.com$/.test(t)}var i,r,s,a,l,c=t.text.match(/((https?:\/\/)|(www\.))(-\.)?([^\s\/?\.#]+\.)+([^\s<>]*)?/g);if(c)for(i=0;i<c.length;i++)r=0===c[i].indexOf("http://")||0===c[i].indexOf("https://")?"":"http://",s=o(c[i]),a=e(s)?"":" rel='nofollow noopener noreferrer' ",t.text=t.text.replace(c[i],"<"+t.count+++">"),l=n(r+c[i]),t.values.push("<a target='_blank'"+a+"href='"+l+"'>"+u.decodeURI(l)+"</a>");return t},symbols:function(t){var e,i=t.text.match(/(\$)[a-z](?:[._-]?[a-z0-9]){0,19}/gi);if(i)for(e=0;e<i.length;e++)t.text=t.text.replace(i[e],"<"+t.count+++">"),t.values.push("<a target='_blank' href='"+d({shortName:i[e].substr(1)})+t.utm+"'>"+i[e]+"</a>");return t},emails:function(t){
var e,i=t.text.match(/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+/gi);if(i)for(e=0;e<i.length;e++)t.text=t.text.replace(i[e],"<"+t.count+++">"),t.values.push('<a class="email" href="mailto:'+i[e]+'">'+i[e]+"</a>");return t},replies:function(t){for(var e,i=/(\s|^|>|\n)\@([a-z0-9\._\-\u00A0]{2,50})(\s|$|<|\n|,|!|\?|\:|;)/gi;null!=(e=i.exec(t.text));)t.text=t.text.replace(e[0],e[1]+"<"+t.count+++">"+e[3]),t.values.push("<a target='_blank' href='/u/"+e[2].replace(""," ")+"/"+t.utm+"'>@"+e[2]+"</a>"),i.lastIndex=0;return t},deprecatedCharts:function(t){var i,o,n=t.text.match(u.re.deprecatedCharts);if(n)for(i=0;i<n.length;i++)t.text=t.text.replace(n[i],"<"+t.count+++">"),o=a.parsePublishedChartUrl(n[i]),t.values.push(e.render('<div class="ch-item-chart-link"><i class="icon icon-snapshot-small" title="'+$.t("Published Idea")+'"></i> <a href="{{chartHref}}" target="_blank" data-id="{{chartId}}"{{#symbol}} data-symbol="{{symbol}}"{{/symbol}}{{#title}} data-title="{{title}}"{{/title}}>'+$.t("Published Idea")+'</a></div><div class="ch-item-chart-preview"><a  href="{{chartHref}}" target="_blank" data-id="{{chartId}}"{{#symbol}} data-symbol="{{symbol}}"{{/symbol}}{{#title}} data-title="{{title}}"{{/title}}><img src="{{imageHref}}" alt="" class="idea-preview"/></a></div>',{chartHref:a.createPublishedChartUrl(o.image_url,o.symbol,o.title),imageHref:a.createPublishedChartImageUrl(o.image_url),chartId:o.image_url,symbol:o.symbol,title:o.title}));return t},obsceneWords:function(t){var e=/fuck/gi;return t.text.search(e)>=0&&(t.text=t.text.replace(e,"<"+t.count+++">"),t.values.push(r.getElementHTML(r.heart()))),t},internalSmilies:function(t){return r.each(function(e){t.text.search(e.re)>=0&&(t.text=t.text.replace(e.re,"<"+t.count+++">"),t.values.push(r.getElementHTML(e)))}),t}};u.decodeURI=function(t){if(t.indexOf("%%30%30")>=0)return"";var e;try{e=decodeURI(t)}catch(i){e=t}return e},u.re=function(){function t(t,e,i){return"(?:(?:"+t+")|(?:"+e+")|(?:"+i+"))"}var e="(?:https:\\/\\/|http:\\/\\/)(?:(?:[\\w\\d\\.\\_\\-]+\\.)?tradingview\\.com|webcharts\\d?|localhost\\:6285)",i="#tc[1-9][0-9]*",o=s.publishedImage,n=s.publishedChartOld,r=s.publishedChart,a=s.publishedScript,l=s.amazonawsLinks;return{snapshots:RegExp(e+o+"|"+l,"g"),comments:RegExp(e+t(n+i,r+i,a+i),"g"),deprecatedCharts:RegExp(e+t(n,r,a),"g")}}(),u.commonFunctors=[u.snapshots,u.comments,u.links,u.symbols,u.emails,u.replies,u.internalSmilies],u.deprecatedUrlizeFunctors=[u.snapshots,u.comments,u.deprecatedCharts,u.links,u.symbols,u.emails,u.replies,u.internalSmilies],u.chainedUrlize=function(t,e){var i;for(t=e[0](t),i=1;i<e.length;i++)t=e[i](t);return t.values&&(t.text=t.text.replace(/<(\d+)>/g,function(e,i){return t.values[i]?t.values[i]:""})),t.text},u.UrlizeBuffer=function(t,e,i,o){this.text=t,this.utm=e||"",this.count=i||0,this.values=o||[]},u.urlizeAndParseQuotesAndClean=function(t,e){e=e||[];var i=new u.UrlizeBuffer(TradingView.clean(t));return i=u.obsceneWords(i),
i.text=l.parseQuotes(i.text),u.chainedUrlize(i,u.deprecatedUrlizeFunctors.concat(e))},t.exports=u}).call(e,i(21))},function(t,e){var i=function(){"use strict";function t(t){return document.createTextNode(t)}function e(t){return t.replace(v,a)}function i(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function o(t,e){for(var i,n,r=t.childNodes,s=r.length;s--;)i=r[s],n=i.nodeType,3===n?e.push(i):1!==n||y.test(i.nodeName)||o(i,e);return e}function n(t,e){return f(""===e?t.slice(0,-1):3===t.length&&""===t.charAt(1)?t.charAt(0)+t.charAt(2):t)}function r(e,i){for(var r,s,a,l,c,h,d,u,p,f,_,g,v,y,b=o(e,[]),w=b.length;w--;){for(a=!1,l=document.createDocumentFragment(),c=b[w],h=c.nodeValue,u=0;d=m.exec(h);){if(p=d.index,p!==u&&l.appendChild(t(h.slice(u,p))),_=d[0],g=d[1],v=d[2],u=p+_.length,""!==v&&(y=i.callback(n(g,v),i,v))){f=new Image,f.onerror=i.onerror,f.setAttribute("draggable","false"),r=i.attributes(g,v);for(s in r)r.hasOwnProperty(s)&&0!==s.indexOf("on")&&!f.hasAttribute(s)&&f.setAttribute(s,r[s]);f.className=i.className,f.alt=_,f.src=y,a=!0,l.appendChild(f)}f||l.appendChild(t(_)),f=null}a&&(u<h.length&&l.appendChild(t(h.slice(u))),c.parentNode.replaceChild(l,c))}return e}function s(t,i){return u(t,function(t,o,r){var s,a,l,c=t;if(""!==r&&(l=i.callback(n(o,r),i,r))){c="<img ".concat('class="',i.className,'" ','draggable="false" ','alt="',t,'"',' src="',l,'"'),s=i.attributes(o,r);for(a in s)s.hasOwnProperty(a)&&0!==a.indexOf("on")&&-1===c.indexOf(" "+a+"=")&&(c=c.concat(" ",a,'="',e(s[a]),'"'));c=c.concat(">")}return c})}function a(t){return g[t]}function l(){return null}function c(t){return"number"==typeof t?t+"x"+t:t}function h(t){var e="string"==typeof t?parseInt(t,16):t;return e<65536?b(e):(e-=65536,b(55296+(e>>10),56320+(1023&e)))}function d(t,e){return e&&"function"!=typeof e||(e={callback:e}),("string"==typeof t?s:r)(t,{callback:e.callback||i,attributes:"function"==typeof e.attributes?e.attributes:l,base:"string"==typeof e.base?e.base:_.base,ext:e.ext||_.ext,size:e.folder||c(e.size||_.size),className:e.className||_.className,onerror:e.onerror||_.onerror})}function u(t,e){return(t+"").replace(m,e)}function p(t){m.lastIndex=0;var e=m.test(t);return m.lastIndex=0,e}function f(t,e){for(var i=[],o=0,n=0,r=0;r<t.length;)o=t.charCodeAt(r++),n?(i.push((65536+(n-55296<<10)+(o-56320)).toString(16)),n=0):55296<=o&&o<=56319?n=o:i.push(o.toString(16));return i.join(e||"-")}var _={base:("https:"===location.protocol?"https:":"http:")+"//twemoji.maxcdn.com/",ext:".png",size:"36x36",className:"emoji",convert:{fromCodePoint:h,toCodePoint:f},onerror:function(){this.parentNode&&this.parentNode.replaceChild(t(this.alt),this)},parse:d,replace:u,test:p},g={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"
},m=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd7f|\ud83c\ude02|\ud83c\ude1a|\ud83c\ude2f|\ud83c\ude37|\u3299|\u303d|\u3030|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2122|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,v=/[&<>'"]/g,y=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,b=String.fromCharCode
;return _}();t.exports=i},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><path fill="#37BC9B" fill-rule="evenodd" d="M15.62 9.336c0-.188.165-.18.322-.254.624-.278 1.058-.878 1.058-1.59 0-.973-.808-1.748-1.805-1.748H9.34c-.11 0-.202-.103-.202-.212 0-.11.09-.195.203-.205.493-.045 1.495-.045 1.824-.445.77-1.29.96-2.51.98-2.687.074-.633-.053-1.426-.632-1.818-.82-.553-1.766-.572-2.44.446-.402.607-1.565 1.97-2.917 3.097-1.765 1.47-2.66 2.212-2.662 2.213-.193.16-.446.35-.446.557-.116.204-1.023 1.933-1.023 4.597 0 1.584.307 2.73.59 3.46-1.007-.446-1.603-1.687-1.603-3.46 0-2.526.828-4.525.828-4.525l-.066-.03c-.338-.136-.8-.12-.978.266C.752 7.088 0 8.566 0 11.288c0 1.385.327 2.532.946 3.32.51.648 1.326 1.044 2.158 1.14.324.528.92.77 1.552.872.386.062.804.114 1.236.158.987.112 2.43.222 4.304.222.605 0 1.697 0 3.282-.038.795-.02 1.398-.71 1.352-1.487a1.36 1.36 0 0 0-.095-.426 1.77 1.77 0 0 0 1.253-1.605c.02-.45-.14-.868-.41-1.19.563-.28.96-.84.987-1.503a1.71 1.71 0 0 0-.206-.888c-.268-.415-.74-.232-.74-.528z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><path fill="#FF4A68" fill-rule="evenodd" d="M15.942 7.918c-.157-.075-.32-.066-.32-.255 0-.295.47-.112.737-.527a1.71 1.71 0 0 0 .205-.89 1.758 1.758 0 0 0-.988-1.5c.272-.324.43-.74.41-1.192a1.768 1.768 0 0 0-1.252-1.603 1.38 1.38 0 0 0 .095-.425C14.876.75 14.273.057 13.477.038 11.892 0 10.8 0 10.197 0 8.32 0 6.876.11 5.89.222c-.432.044-.852.095-1.24.157-.66.106-1.29.364-1.603.945-.105.197-1.044 1.64-1.044 4.387 0 1.303.205 2.382.432 3.17-.9-.508-1.425-1.706-1.425-3.372 0-2.526.827-4.525.827-4.525L1.77.955C1.435.818.974.834.794 1.22.753 1.313 0 2.79 0 5.51c0 1.385.327 2.533.946 3.32.45.57 1.1.947 1.825 1.095.093.205.473.782.665.94.002.002.937.744 2.7 2.214 1.353 1.126 2.525 2.49 2.928 3.097.674 1.017 1.625 1 2.445.446.58-.39.708-1.18.635-1.814-.02-.18-.21-1.393-.98-2.683-.33-.4-1.33-.39-1.822-.434-.11-.01-.202-.055-.202-.164 0-.11.09-.15.204-.15h5.853c.997 0 1.805-.838 1.805-1.81a1.83 1.83 0 0 0-1.058-1.652z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#T6QBIYYH-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#c1694f" d="M25.997 8.5a2.5 2.5 0 0 0-2.457 2.053l-4 22a2.5 2.5 0 0 0 2.013 2.906 2.496 2.496 0 0 0 2.907-2.02l4-22a2.5 2.5 0 0 0-2.463-2.94"/><path fill="#d99e82" d="M29.375 12.235c.24.745.13 1.59-.375 2.265-.06.078-.44.585-1.017 1.34.005.05.017.112.017.16 0 .458-1.913 2.623-3.74 4.586-1.587 1.964-3.26 3.95-4.492 5.18l-1.274 1.276-1.612-.807c-5.718-2.858-8.647-3.855-8.673-3.864a2.5 2.5 0 0 1 1.58-4.74c.11.04 2.66.9 7.65 3.31 1.09-1.23 2.37-2.79 3.57-4.29l.7-1.17a.784.784 0 0 0-.06-.89l-3.52-4.39a.787.787 0 0 0-.37-.25l-2.53-.842a.786.786 0 0 0-.5 0l-4.726 1.57c-.676 2.08-.533 4.1-.53 4.125a2.5 2.5 0 0 1-2.27 2.703A2.496 2.496 0 0 1 4.5 15.23c-.013-.268-.5-6.43 3.32-10.6C10.03 2.22 13.118 1 17 1c.66 0 1.283-.01 1.87-.02a81.94 81.94 0 0 1 1.54-.02c2.764 0 5.004.23 6.738 1.94 1.65 1.628 2.354 4.197 2.354 8.594 0 .26-.05.506-.125.742"/><path fill="#c1694f" d="M28 16a1 1 0 0 0-.914.594l-4 9a1 1 0 0 0 1.828.812l4-9A1 1 0 0 0 28 16"/><path fill="#d99e82" d="M25.766 2.62l-1.53 4.76s-.068-.01-.176-.067c.018.01 1.82.995 2.46 6.003.776 6.075-.774 9.6-.79 9.635l-.092.24-3.5 10.11a2.5 2.5 0 0 0 4.725 1.64l3.467-10.02c.378-.882 2.037-5.28 1.15-12.222-1.042-8.17-4.943-9.82-5.714-10.07"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g fill="#d99e82" clip-path="url(#r2crxhvs-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path d="M22.413 34.053c-1.956.416-2.372-1.54-2.372-1.54l-3.09-11.57a26.6 26.6 0 0 1-1.3-.106L13.58 31.35s-.188 1.99-2.18 1.803c-1.99-.188-1.803-2.18-1.803-2.18L11.77 19H20c.208 0 .41-.022.607-.062l3.346 12.743s.416 1.96-1.54 2.38M31 14.92c0-1.06-.857-1.918-1.916-1.918h-.168c-1.06 0-1.916.857-1.916 1.916v4.166c0 1.06.857 1.917 1.916 1.917h.168c1.06 0 1.916-.86 1.916-1.92v-4.16zM24 23a2 2 0 0 1-2-2v-2.778c.61-.55 1-1.336 1-2.222 0-.753-.287-1.433-.745-1.96.34-.616.99-1.04 1.745-1.04a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2"/><path d="M29.063 12h-.125a2.93 2.93 0 0 0-2.45 1.322 3.04 3.04 0 0 0-.43-.497c-.05-.046-.104-.085-.157-.128a3.057 3.057 0 0 0-.57-.377 2.993 2.993 0 0 0-.43-.172c-.065-.02-.13-.045-.2-.06A2.945 2.945 0 0 0 24 12c-.237 0-.46.036-.68.09a2.97 2.97 0 0 0-.618.227c-.083.04-.164.076-.242.123a3.077 3.077 0 0 0-.99.96l.003.002C21.273 13.287 21 13 20 13h-2.54c1.81-1.365 3.037-3.99 3.037-7a.5.5 0 0 0-1 0c0 3.86-2.188 7-4.876 7h-.12a.5.5 0 0 0 0 1H20a2 2 0 0 1 0 4h-8c-.033 0-.063-.008-.095-.01a1.973 1.973 0 0 1-.764-.19 2.38 2.38 0 0 1-.32-.197 2.243 2.243 0 0 1-.28-.254 1.9 1.9 0 0 1-.23-.31 2.17 2.17 0 0 1-.17-.37c-.01-.03-.027-.06-.04-.1L9 13c-.103-.335-.48-1.87-.41-2.19C8.59 6 13.284 1 19 1c6.537 0 11.843 5.23 11.986 11.734A2.917 2.917 0 0 0 29.063 12"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g fill="#d99e82" clip-path="url(#NKV4q8si-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path d="M14.578 31.35s-.188 1.99-2.18 1.803c-1.99-.188-1.802-2.18-1.802-2.18L11.77 19h4.013l-1.205 12.35zM31 14.917c0-1.06-.857-1.917-1.916-1.917h-.168c-1.06 0-1.916.858-1.916 1.917v4.166c0 1.06.857 1.917 1.916 1.917h.168c1.06 0 1.916-.858 1.916-1.917v-4.166zM24 23a2 2 0 0 1-2-2v-2.778c.61-.55 1-1.336 1-2.222 0-.753-.287-1.433-.745-1.96.34-.616.99-1.04 1.745-1.04a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2"/><path d="M29.063 12h-.125a2.93 2.93 0 0 0-2.45 1.322 3.04 3.04 0 0 0-.43-.497c-.05-.046-.104-.085-.157-.128a3.057 3.057 0 0 0-.57-.377 2.993 2.993 0 0 0-.43-.172c-.065-.02-.13-.045-.2-.06A2.945 2.945 0 0 0 24 12c-.237 0-.46.036-.68.09a2.97 2.97 0 0 0-.618.227c-.083.04-.164.076-.242.123a3.077 3.077 0 0 0-.99.96l.003.002C21.273 13.287 21 13 20 13h-2.54c1.81-1.365 3.037-3.99 3.037-7a.5.5 0 0 0-1 0c0 3.86-2.188 7-4.876 7h-.12a.5.5 0 0 0 0 1H20a2 2 0 0 1 0 4h-8c-.033 0-.063-.008-.095-.01a1.973 1.973 0 0 1-.764-.19 2.38 2.38 0 0 1-.32-.197 2.243 2.243 0 0 1-.28-.254 1.9 1.9 0 0 1-.23-.31 2.17 2.17 0 0 1-.17-.37c-.01-.03-.027-.06-.04-.1L9 13c-.103-.335-.48-1.87-.41-2.19C8.59 6 13.284 1 19 1c6.537 0 11.843 5.23 11.986 11.734A2.917 2.917 0 0 0 29.063 12M21 19v2a2 2 0 0 1-4 0v-2h4z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#2G9Cf0sp-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#d99e82" d="M34.305 19.664s1.132 1.65-.52 2.78c-1.648 1.132-2.78-.518-2.78-.518l-5.25-7.658c-.18.302-.38.6-.6.894l7.29 10.63s1.13 1.648-.52 2.78c-1.65 1.13-2.78-.52-2.78-.52l-6.856-9.996c-.26.21-.52.417-.79.622l7.94 11.59s1.13 1.65-.52 2.78c-1.65 1.132-2.78-.518-2.78-.518L18.2 20.94c-.29.18-.58.336-.87.5l7.428 10.83s1.13 1.65-.52 2.78c-1.648 1.133-2.78-.517-2.78-.517L13.61 23.08l-.63-.918-.565-.825c4.948-3.393 5.42-9.78 2.592-13.902-.566-.825-1.39-.26-1.39-.26 3.393 4.95 2.356 10.51-2.593 13.903l1.462 7.302s.545 1.925-1.38 2.47c-1.923.545-2.468-1.38-2.468-1.38l-1.685-5.003c-.668-1.984-1.38-3.96-2.32-5.83-2.657-5.28-1.07-11.843 3.94-15.28C14.04-.388 21.51 1.004 25.258 6.467a11 11 0 0 1 .522.858l.043-.03 8.482 12.37z"/><path fill="#77b255" d="M3.042 30h-2A6.966 6.966 0 0 0 8 36.958v-2A4.964 4.964 0 0 1 3.042 30"/><path fill="#77b255" d="M5 25H3c0 5.514 4.486 10 10 10v-2c-4.41 0-8-3.59-8-8M30 1v2c3 0 5 2 5 5h2c0-4-3-7-7-7"/><path fill="#77b255" d="M25 2.958v2c4 0 8.042 4.042 8.042 8.042h2C35.042 7 31 2.958 25 2.958"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><path fill="#edbb9f" d="M15 46.25H5v-12.5h10v12.5zm27.5 0h-10v-12.5h10v12.5z"/><g clip-path="url(#4giApjL2-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#d79e84" d="M34 7s-3-2-8-1v5h8V7zM4 7s3-2 8-1v5H4V7zm9 4H5v8h8v-8zm20 0h-8v8h8v-8z"/><path fill="#edbb9f" d="M1.373 25.165s.003 1.225 1.227 1.222c1.226-.004 1.222-1.23 1.222-1.23l-.018-5.683c.194.09.4.17.612.24l.025 7.89s.01 1.225 1.23 1.22c1.23-.002 1.22-1.228 1.22-1.228l-.02-7.42c.2.017.41.032.61.04l.03 8.603s.01 1.22 1.23 1.22c1.23-.01 1.22-1.23 1.22-1.23l-.03-8.6c.21-.01.41-.04.62-.05l.03 8.03s.008 1.22 1.23 1.22c1.225-.01 1.22-1.23 1.22-1.23l-.03-8.5v-1.29c-3.675.01-6.134-3.047-6.145-6.11 0-.612.61-.616.61-.616.01 3.68 2.47 6.112 6.144 6.102l1.8 4.19s.39 1.155 1.552.76c1.16-.39.77-1.554.77-1.554l-.893-3.105c-.355-1.235-.685-2.477-.86-3.744A7.354 7.354 0 0 0 8.666 8c-4.057.017-7.337 3.315-7.324 7.37 0 .214.015.42.035.61l-.032.005.03 9.18zm35.244 0s-.003 1.225-1.227 1.222c-1.226-.004-1.222-1.23-1.222-1.23l.018-5.683c-.194.09-.4.17-.612.24l-.025 7.89s-.01 1.225-1.23 1.22c-1.23-.002-1.22-1.228-1.22-1.228l.02-7.42a12.84 12.84 0 0 1-.61.04l-.03 8.603s-.01 1.22-1.23 1.22c-1.23-.01-1.22-1.23-1.22-1.23l.03-8.6c-.21-.01-.41-.04-.62-.05l-.03 8.03s-.008 1.22-1.23 1.22c-1.225-.01-1.22-1.23-1.22-1.23l.025-8.5v-1.29c3.675.01 6.133-3.05 6.145-6.11 0-.617-.612-.62-.612-.62-.01 3.68-2.47 6.11-6.145 6.1l-1.8 4.19s-.39 1.156-1.554.76c-1.158-.39-.766-1.553-.766-1.553l.894-3.105c.352-1.235.683-2.477.86-3.744A7.354 7.354 0 0 1 29.324 8c4.055.017 7.336 3.315 7.322 7.37 0 .214-.013.42-.034.61l.032.005-.03 9.18z"/><path fill="#ffac33" d="M24.54 30.54a1 1 0 0 0-.79 1.61l2.98 3.858a1 1 0 1 0 1.582-1.222l-2.98-3.855a.996.996 0 0 0-.79-.39m-11.022 0a1 1 0 0 0-.79.39l-2.98 3.86a1 1 0 0 0 1.583 1.23l2.98-3.85a1 1 0 0 0-.792-1.61M19 31a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#1wiBuPRz-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#2a6797" d="M31 15c-3 0-7-8-7-10 0-3 2-4 2-4h11v10s-4 4-6 4M7 15c3 0 7-8 7-10 0-3-2-4-2-4H1v10s4 4 6 4"/><path fill="#c1694f" d="M26 26a2 2 0 0 1-4 0v7.277c.596.347 1 .985 1 1.723a2 2 0 0 1-4 0 2 2 0 0 1-4 0c0-.738.405-1.376 1-1.723V26a2 2 0 0 1-4 0l-1-11.526V10h5V9h6v1h5v4.474L26 26z"/><path fill="#d79e84" d="M25 21l-1 12a2 2 0 0 1-4 0V13c0-6 6-9 6-9s6 4 6 9l-7 8zm-9 14a2 2 0 0 1-2-2l-1-12-7-8c0-5 6-9 6-9s6 3 6 9v20a2 2 0 0 1-2 2"/><path fill="#fdcb58" d="M12 30l-6 3-1-2 6-2 1 1zm14 0l6 3 1-2-6-2-1 1zm-16-4l-6 1-1-2h7v1zm18 0l6 1 1-2h-7v1z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#SIkObE6A-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M15 24.5c0-2.486-1.12-5.5-2.5-5.5S10 22.014 10 24.5c0 2.485 1.12 5.5 2.5 5.5s2.5-3.015 2.5-5.5m13 0c0-2.486-1.12-5.5-2.5-5.5S23 22.014 23 24.5c0 2.485 1.12 5.5 2.5 5.5s2.5-3.015 2.5-5.5M19 15c-3.623 0-6.027.422-9 1-.68.13-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.32 2.132-2 2-2.973-.578-5.377-1-9-1"/><path fill="#fff" d="M10 14s3-1 9-1 9 1 9 1-2-4-9-4-9 4-9 4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#ayCJ1mBT-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M29.457 19.203c-.06.135-1.5 3.297-4.457 3.297s-4.397-3.162-4.457-3.297a.5.5 0 0 1 .144-.59.504.504 0 0 1 .61-.015c.013.01 1.263.902 3.703.902 2.426 0 3.674-.88 3.702-.9a.498.498 0 0 1 .755.603m-12 0c-.06.135-1.5 3.297-4.457 3.297s-4.397-3.162-4.457-3.297a.5.5 0 0 1 .754-.605c.013.01 1.262.902 3.703.902 2.426 0 3.674-.88 3.702-.9a.498.498 0 0 1 .755.603M19 15c-3.623 0-6.027.422-9 1-.68.13-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.32 2.132-2 2-2.973-.578-5.377-1-9-1"/><path fill="#fff" d="M10 14s3-1 9-1 9 1 9 1-2-4-9-4-9 4-9 4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#Xji2FTO6-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M29.457 19.203c-.06.135-1.5 3.297-4.457 3.297s-4.397-3.162-4.457-3.297a.5.5 0 0 1 .144-.59.504.504 0 0 1 .61-.015c.013.01 1.263.902 3.703.902 2.426 0 3.674-.88 3.702-.9a.498.498 0 0 1 .755.603m-12 0c-.06.135-1.5 3.297-4.457 3.297s-4.397-3.162-4.457-3.297a.5.5 0 0 1 .754-.605c.013.01 1.262.902 3.703.902 2.426 0 3.674-.88 3.702-.9a.498.498 0 0 1 .755.603M32 21c-.396 0-.772.238-.93.63-1.777 4.444-6.22 5.38-6.266 5.39a1 1 0 1 0 .392 1.96c.226-.044 5.556-1.168 7.733-6.608A1 1 0 0 0 32 21M6 21a1 1 0 0 0-.928 1.372c2.176 5.44 7.506 6.564 7.732 6.608a1 1 0 0 0 .396-1.96c-.185-.038-4.507-.98-6.27-5.39A1.003 1.003 0 0 0 6 21m13-6c-3.623 0-6.027.422-9 1-.68.13-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.32 2.132-2 2-2.973-.578-5.377-1-9-1"/><path fill="#fff" d="M10 14s3-1 9-1 9 1 9 1-2-4-9-4-9 4-9 4"/><path fill="#5dadec" d="M11.847 8.77A5 5 0 0 0 5.77 5.157a4.998 4.998 0 0 0-3.615 6.075c.68 2.68 6.337 8.71 7.307 8.463.968-.245 3.064-8.245 2.385-10.922m14.286-.003a5 5 0 0 1 6.077-3.614 4.998 4.998 0 0 1 3.616 6.075c-.68 2.68-6.338 8.71-7.307 8.47-.97-.24-3.07-8.24-2.39-10.92"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#2ZiP5N0K-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M15 20.5c0-1.934-1.12-3.5-2.5-3.5S10 18.566 10 20.5c0 1.933 1.12 3.5 2.5 3.5s2.5-1.567 2.5-3.5m14.457-1.297c-.06.135-1.5 3.297-4.457 3.297s-4.397-3.162-4.457-3.297a.5.5 0 0 1 .144-.59.504.504 0 0 1 .61-.015c.013.01 1.263.902 3.703.902 2.426 0 3.674-.88 3.702-.9a.498.498 0 0 1 .755.603M7 24.543a1 1 0 0 0-.8 1.6c3.262 4.35 7.616 4.4 7.8 4.4a1 1 0 0 0 .004-2c-.155-.003-3.57-.087-6.204-3.6a1 1 0 0 0-.8-.4m23-2.127a.997.997 0 0 0-.8.4c-2.592 3.456-6.96 2.627-7.004 2.62a.998.998 0 0 0-.392 1.96c.23.047 5.657 1.072 8.996-3.38a1 1 0 0 0-.8-1.6m-5.746-8.993a.514.514 0 0 1-.597-.06c-.01-.007-1.013-.863-4.657-.863-3.64 0-4.645.854-4.646.854a.5.5 0 0 1-.84-.475C13.527 12.83 14.66 8.5 19 8.5s5.474 4.335 5.485 4.38a.497.497 0 0 1-.23.543"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#6xah3DcF-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17S2 9.61 2 19s7.61 17 17 17 17-7.61 17-17"/><path fill="#664500" d="M19 15.15c-2.966 0-4.935.347-7.37.82-.556.107-1.637 0-1.637-1.637 0-3.276 3.763-7.37 9.007-7.37s9.007 4.094 9.007 7.37c0 1.637-1.082 1.745-1.638 1.637-2.44-.473-4.41-.82-7.37-.82"/><path fill="#e75a70" d="M17.65 33.72a4.67 4.67 0 0 1-5.956 2.85 4.667 4.667 0 0 1-2.928-3.106 4.66 4.66 0 0 1-4.224.58 4.67 4.67 0 0 1-2.85-5.955 4.69 4.69 0 0 1 .472-.96c1.95-3.58 7.588-6.1 11.002-6.13 2.636 2.16 5.446 7.66 4.717 11.67a4.712 4.712 0 0 1-.233 1.04m2.7 0a4.67 4.67 0 0 0 5.956 2.85 4.67 4.67 0 0 0 2.93-3.11 4.66 4.66 0 0 0 4.223.58 4.67 4.67 0 0 0 2.85-5.96 4.694 4.694 0 0 0-.48-.96c-1.95-3.58-7.59-6.1-11-6.13-2.64 2.167-5.45 7.664-4.72 11.677.04.35.11.7.23 1.042"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#NWWt1Qze-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M16.457 20.185c-.06.135-1.5 3.297-4.457 3.297s-4.397-3.162-4.457-3.297a.5.5 0 0 1 .754-.605c.013.01 1.262.902 3.703.902 2.426 0 3.674-.88 3.702-.9a.498.498 0 0 1 .755.603"/><path fill="#f5f8fa" d="M32 22.482a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0"/><path fill="#292f33" d="M28 22.482a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#664500" d="M8 13.982c0-3.964 4.596-9 11-9s11 5 11 9c0 0-10.333-2.756-22 0"/><path fill="#e75a70" d="M13 12.1V6.02c0-3 2-6 6-6s6 3 6 6v6.042c-6.292-1.292-12 .04-12 .04"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#HezQS4oH-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#ff7892" d="M34 15a5 5 0 0 0-5-5 5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5m-20 0a5 5 0 0 0-5-5 5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5"/><path fill="#f5f8fa" d="M31 20.5a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0m-13 0a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0"/><path fill="#664500" d="M15 20.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0m13 0a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0M23 7h-8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2m8 19a.997.997 0 0 0-.8.4c-2.64 3.52-6.06 3.6-6.206 3.6A1 1 0 0 0 24 32c.184 0 4.537-.05 7.8-4.4A1 1 0 0 0 31 26M7 26a1 1 0 0 0-.8 1.6C9.462 31.95 13.816 32 14 32a1 1 0 0 0 .004-2c-.155-.002-3.57-.086-6.204-3.6A1 1 0 0 0 7 26"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#HCjIIGCw-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M15 20.5c0-1.934-1.12-3.5-2.5-3.5S10 18.566 10 20.5c0 1.933 1.12 3.5 2.5 3.5s2.5-1.567 2.5-3.5m13 0c0-1.934-1.12-3.5-2.5-3.5S23 18.566 23 20.5c0 1.933 1.12 3.5 2.5 3.5s2.5-1.567 2.5-3.5M26 11H12a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><path fill="#FFCC4D" d="M3.075 21.88c0 11.521 9.34 20.86 20.86 20.86s20.857-9.34 20.857-20.86c0-11.519-9.338-20.858-20.859-20.858-11.519 0-20.859 9.34-20.859 20.859"/><g fill="#664500"><path d="M20.553 14.71c0 1.8-1.168 3.26-2.608 3.26-1.44 0-2.607-1.46-2.607-3.26 0-1.799 1.168-3.259 2.607-3.259 1.44 0 2.608 1.46 2.608 3.26m13.811 1.303c0 1.8-1.167 3.26-2.608 3.26-1.439 0-2.607-1.46-2.607-3.26 0-1.8 1.168-3.26 2.607-3.26 1.441 0 2.608 1.46 2.608 3.26M13.076 9.278a1.196 1.196 0 0 1-.51-.519c-.281-.56-.052-1.208.512-1.45 5.562-2.387 10.038-.057 10.225.043.565.302.793.976.51 1.505-.282.528-.965.712-1.53.414-.16-.083-3.691-1.866-8.184.062-.335.142-.713.11-1.023-.055m6.612 17.259a1.198 1.198 0 0 1-.36-.633c-.129-.612.259-1.181.867-1.27 5.987-.884 9.715 2.515 9.873 2.66.47.435.515 1.143.107 1.583-.407.438-1.115.441-1.583.008-.135-.12-3.092-2.748-7.929-2.035a1.182 1.182 0 0 1-.975-.313"/><path d="M27.104 14.167a1.205 1.205 0 0 1-.472-.553c-.244-.576.03-1.21.608-1.413 5.712-2.003 10.02.625 10.2.739.541.339.723 1.026.406 1.536-.316.508-1.012.645-1.553.31-.156-.095-3.556-2.113-8.17-.496-.344.12-.72.063-1.02-.123"/></g><path fill="#F4900C" d="M22.99 46.823s1.65-.536 1.863-1.763c.226-1.266-.813-1.521-.813-1.521s1.357-.272 1.528-1.794c.16-1.434-1.124-1.777-1.124-1.777s1.265-.522 1.325-2.007c.05-1.25-1.298-1.861-1.298-1.861s6.568-1.59 7.242-1.747c.673-.158 1.723-.803 1.395-2.21-.324-1.408-1.57-1.457-2.213-1.307-.644.15-8.792 2.042-11.603 2.697-.3.07-1.705.394-1.876.435-.704.166-1.024-.144-.528-.667.663-.699 1.086-1.472 1.235-2.755.155-1.35-.303-3.016-.565-3.662-.488-1.2-1.31-2.15-2.26-2.475-1.484-.509-2.538.418-2.01 2.035.787 2.418.272 4.4-1.087 5.596-3.193 2.812-4.679 4.818-3.69 9.091 1.079 4.66 5.707 7.66 10.368 6.58l4.111-.888"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#X2pUk7Aw-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M11 24s0 2 2 2 2-2 2-2v-2s0-2-2-2-2 2-2 2v2zm12 0s0 2 2 2 2-2 2-2v-2s0-2-2-2-2 2-2 2v2zM9.665 8.63a.5.5 0 0 1 .635-.03c.04.03 3.922 2.9 8.7 2.9 4.766 0 8.662-2.87 8.7-2.9a.5.5 0 0 1 .73.657C28.3 9.472 25.21 14.5 19 14.5S9.7 9.472 9.57 9.257a.5.5 0 0 1 .095-.628"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#e2wejYoO-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M17.664 26.457a.5.5 0 0 1-.592-.148c-.01-.02-.98-1.21-3.335-1.85a8.543 8.543 0 0 0-2.244-.32c-.993 0-1.56.21-1.562.21a.5.5 0 0 1-.57-.78c.07-.09 1.78-2.15 4.13-2.15.35 0 .7.05 1.05.14 2.86.78 3.41 4.21 3.43 4.35a.5.5 0 0 1-.29.53m10.97-2.15a.502.502 0 0 1-.59.16c-.004-.005-.63-.258-1.735-.258a8.7 8.7 0 0 0-2.073.266c-2.37.583-3.37 1.75-3.38 1.76a.5.5 0 0 1-.88-.406c.03-.143.67-3.56 3.54-4.265.31-.076.63-.115.948-.115 2.398 0 4.1 2.16 4.17 2.25a.498.498 0 0 1 0 .61M11 27a1 1 0 0 0-.244 1.97c.036.01 3.593.96 5.352 4.477a1 1 0 1 0 1.788-.894c-2.18-4.362-6.47-5.478-6.652-5.523A.976.976 0 0 0 11 27m16 0c-.08 0-.16.01-.242.03-.182.045-4.472 1.16-6.653 5.523a1 1 0 0 0 1.79.894c1.757-3.517 5.315-4.468 5.35-4.478A1 1 0 0 0 27 27M19 8.035c-3.623 0-6.027-.422-9-1-.68-.13-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.32-2.132-2-2-2.973.578-5.377 1-9 1"/><path fill="#fff" d="M11 12s3 1 8 1 8-1 8-1-2 4-8 4-8-4-8-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#4MWIHBVm-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M15 20.5c0-1.934-1.12-3.5-2.5-3.5S10 18.566 10 20.5c0 1.933 1.12 3.5 2.5 3.5s2.5-1.567 2.5-3.5m13 0c0-1.934-1.12-3.5-2.5-3.5S23 18.566 23 20.5c0 1.933 1.12 3.5 2.5 3.5s2.5-1.567 2.5-3.5M7 24a1 1 0 0 0-.8 1.6C9.462 29.95 13.816 30 14 30a1 1 0 0 0 .004-2c-.155-.002-3.57-.086-6.204-3.6A1 1 0 0 0 7 24m24 0a.997.997 0 0 0-.8.4c-2.64 3.52-6.06 3.6-6.206 3.6A1 1 0 0 0 24 30c.184 0 4.537-.05 7.8-4.4A1 1 0 0 0 31 24M24.485 9.12c-.012.045-1.146 4.38-5.485 4.38-4.34 0-5.475-4.335-5.485-4.38a.495.495 0 0 1 .23-.543.51.51 0 0 1 .597.06c.01.007 1.014.863 4.658.863 3.59 0 4.617-.83 4.656-.863a.5.5 0 0 1 .83.484"/><path fill="#5dadec" d="M17 5a5 5 0 0 0-5-5 5 5 0 0 0-5 5c0 2.762 4 10 5 10s5-7.238 5-10"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#sx5jWp9Q-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17S2 9.61 2 19s7.61 17 17 17 17-7.61 17-17"/><path fill="#664500" d="M23 10c0-2.763-1.79-3-4-3s-4 .237-4 3c0 2.76 1.79 6 4 6s4-3.24 4-6m8 12a.987.987 0 0 0-.37.072c-5.23 2.09-7.373 5.24-7.462 5.374a1 1 0 0 0 1.662 1.112c.02-.028 1.93-2.786 6.54-4.63a1 1 0 0 0-.37-1.93M7 22a1 1 0 0 0-.372 1.93c4.612 1.843 6.523 4.6 6.542 4.63a1 1 0 0 0 1.662-1.113c-.09-.135-2.233-3.284-7.46-5.375A.99.99 0 0 0 7 22"/><path fill="#5dadec" d="M9 2l4 .046V21H9V2zm16 19h4V2l-4 .046V21z"/><path fill="#664500" d="M16 19c-.15 0-.304.034-.447.105-3.512 1.757-7.07.02-7.106 0a1 1 0 0 0-.894 1.79c.182.09 4.498 2.196 8.894 0A1 1 0 0 0 16 19m14 0c-.15 0-.304.034-.447.105-3.513 1.756-7.07.02-7.106 0a1 1 0 0 0-.894 1.79c.18.09 4.5 2.196 8.894 0A1 1 0 0 0 30 19"/><path fill="#5dadec" d="M37 3c0-1.104-8.06-2-18-2S1 1.896 1 3s8.06 2 18 2 18-.896 18-2"/><path fill="#e75a70" d="M22 10c0-1.657-1.343-2-3-2s-3 .343-3 2 1.343 2 3 2 3-.343 3-2"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#BYmzg6lr-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M19 36C9.612 36 2 28.388 2 19 2 13.285 4.83 8.24 9.153 5.16c.098 6.08-2.112 12.896-5.827 12.896a3.1 3.1 0 0 1-1.09-.173c.287.714.908 1.117 2.07 1.117 4.03 0 6.294-8.034 5.753-14.44a16.89 16.89 0 0 1 17.88.002C27.4 10.992 29.66 19 33.69 19c1.165 0 1.787-.402 2.07-1.117a3.11 3.11 0 0 1-1.092.173c-3.72 0-5.93-6.8-5.826-12.897C33.17 8.24 36 13.28 36 19c0 9.388-7.61 17-17 17"/><path fill="#bdddf4" d="M19 36C9.612 36 2 28.388 2 19c0-1.126.116-2.225.325-3.29a9.84 9.84 0 0 0 1 2.346 3.09 3.09 0 0 1-1.088-.173c.25.623.777.99 1.67 1.078 2.826 3.95 8.516 6.65 15.093 6.65s12.267-2.7 15.093-6.64c.897-.09 1.426-.45 1.674-1.08a3.09 3.09 0 0 1-1.09.18 9.84 9.84 0 0 0 .998-2.348A16.97 16.97 0 0 1 36 19c0 9.387-7.61 17-17 17"/><path fill="#f5f8fa" d="M8.347 25.09c-.946-3.176.107-6.293 2.353-6.962 2.246-.67 4.834 1.362 5.78 4.538.945 3.175-.108 6.293-2.352 6.962-2.246.67-4.834-1.363-5.78-4.538m21.304 0c.946-3.176-.107-6.293-2.352-6.962-2.247-.67-4.834 1.362-5.78 4.538-.946 3.175.107 6.293 2.35 6.962 2.247.67 4.835-1.363 5.782-4.538"/><path fill="#664500" d="M19 19c-2.757 0-5-2.243-5-5V8c0-2.757 2.243-5 5-5s5 2.243 5 5v6c0 2.757-2.243 5-5 5"/><path fill="#fcab40" d="M3.326 18.056a3.12 3.12 0 0 1-1.09-.172c.07.168.158.317.266.45C.744 16.17 4.69 9.046 2.772 2h6.102c1.123 6.574-1.167 16.056-5.548 16.056m32.44-.173c-.295.11-.65.172-1.092.172C30.29 18.055 28 8.61 29.127 2h6.1c-1.798 6.653 1.566 13.306.54 15.883"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#S7o33N9M-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#da2f47" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#292f33" d="M26.485 7.12C26.44 7.3 25.317 11.5 19 11.5c-6.318 0-7.44-4.2-7.485-4.38a.5.5 0 0 1 .836-.476c.02.02 1.96 1.856 6.65 1.856 4.7 0 6.63-1.837 6.65-1.856a.505.505 0 0 1 .6-.08.5.5 0 0 1 .24.557m-9.78 12.59C13.45 22.96 8.22 23 8 23a1 1 0 1 1 0-2c.028 0 1.924-.022 3.982-.737C11.39 19.623 11 18.63 11 17.5c0-1.934 1.12-3.5 2.5-3.5s2.5 1.566 2.5 3.5c0 .174-.02.34-.037.507.013 0 .025-.007.037-.007a1 1 0 0 1 .707 1.707M30 23c-.22 0-5.45-.038-8.707-3.293A1 1 0 0 1 22 18c.013 0 .024.007.036.007-.016-.167-.036-.333-.036-.507 0-1.934 1.12-3.5 2.5-3.5s2.5 1.566 2.5 3.5c0 1.13-.39 2.123-.982 2.763 2.058.715 3.954.737 3.984.737A1 1 0 0 1 30 23"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#fkgWr7oH-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17S2 9.61 2 19s7.61 17 17 17 17-7.61 17-17"/><path fill="#664500" d="M21 24a1 1 0 0 0-.987 1.165C20.408 27.53 22.583 32 28 32a1 1 0 0 0 0-2c-5.095 0-5.98-4.954-6.014-5.165A1 1 0 0 0 21 24m-4 0a1 1 0 0 0-.986.833C15.977 25.043 15.06 30 10 30a1 1 0 0 0 0 2c5.416 0 7.592-4.47 7.986-6.835A1 1 0 0 0 17 24m-4.59-4.892c-2.335 0-3.87.997-3.964 1.06a1 1 0 1 0 1.11 1.664c.098-.064 2.6-1.636 5.997.063a1 1 0 0 0 .895-1.79c-1.494-.746-2.867-.997-4.038-.997m13.18 0c-1.17 0-2.544.25-4.037.998a1 1 0 0 0 .894 1.79c3.4-1.7 5.9-.127 6.004-.06a1.01 1.01 0 0 0 1.39-.29.997.997 0 0 0-.28-1.378c-.09-.063-1.63-1.06-3.96-1.06M27 10a.997.997 0 0 0-.8.4c-.025.034-2.782 3.6-7.2 3.6s-7.174-3.566-7.202-3.602a1.004 1.004 0 0 0-1.4-.195.998.998 0 0 0-.198 1.397c.135.18 3.362 4.4 8.8 4.4 5.437 0 8.665-4.22 8.8-4.4A1 1 0 0 0 27 10"/><path fill="#f5f8fa" d="M16.39 16.92a.997.997 0 0 1-1.238-.39l-5-8A.998.998 0 0 1 11 7h3a1 1 0 0 1 .97.758l2 8a1 1 0 0 1-.58 1.162m11.458-8.39l-5 8a1 1 0 0 1-1.817-.772l2-8A.998.998 0 0 1 24 7h3a1 1 0 0 1 .848 1.53"/><path fill="#e1e8ed" d="M32.982 6.822c.003.06.018.117.018.178a3 3 0 0 1-3 3 2.995 2.995 0 0 1-2.473-1.305A4 4 0 1 1 26 1c1.365 0 2.568.686 3.29 1.73A2.993 2.993 0 0 1 32 1a3 3 0 0 1 3 3 2.99 2.99 0 0 1-2.018 2.822M12 9c-.542 0-1.056-.11-1.527-.305A2.996 2.996 0 0 1 8 10a3 3 0 0 1-3-3c0-.06.014-.118.018-.178A2.99 2.99 0 0 1 3 4a3 3 0 0 1 3-3c1.202 0 2.23.71 2.71 1.73A3.996 3.996 0 0 1 12 1a4 4 0 0 1 0 8"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#cTDIbCa5-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M8 22a1 1 0 0 0-.555 1.832C7.578 23.92 10.745 26 15 26a1 1 0 0 0 0-2c-3.655 0-6.418-1.814-6.445-1.832A.996.996 0 0 0 8 22m22 0a.996.996 0 0 0-.553.167C29.42 22.185 26.627 24 23 24a1 1 0 0 0 0 2c4.254 0 7.422-2.08 7.555-2.168A1 1 0 0 0 30 22"/><path fill="#f5f8fa" d="M2.023 18.535L10 14.91v-4.55l-6.236 1.135a17.04 17.04 0 0 1 1.318-2.24L10 8.363V7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v1.363l4.92.895a16.82 16.82 0 0 1 1.317 2.24L28 10.363v4.546l7.977 3.62c.004.15.024.31.024.46 0 .51-.03 1.01-.07 1.51L28 16.91V18a2 2 0 0 1-2 2H12a2 2 0 0 1-2-2v-1.09l-7.923 3.6C2.032 20.013 2 19.51 2 19c0-.157.02-.31.023-.465"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#Cwgv2YJw-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17S2 9.61 2 19s7.61 17 17 17 17-7.61 17-17"/><path fill="#292f33" fill-rule="evenodd" d="M2.24 25.982c.24-.24 1.437-.958 1.677-1.675.24-.717.72-4.784 2.158-5.98 1.484-1.234 7.077-.775 8.15-.24 2.396 1.194 2.69 4.53 3.114 6.22.23.957 1.67.957 1.67.957s1.44 0 1.68-.956c.42-1.69.72-5.027 3.11-6.22 1.07-.536 6.66-.995 8.15.238 1.432 1.197 1.912 5.264 2.152 5.982.24.717 1.437 1.435 1.677 1.674.24.24.24 1.196 0 1.436-.48.478-6.135.904-12.224.24-1.215-.134-1.677-.48-4.554-.48-2.876 0-3.34.346-4.554.478-6.088.666-11.745.24-12.22-.238-.24-.24-.24-1.197 0-1.436"/><path fill="#664500" d="M28.335 13.37a.5.5 0 0 1-.635.03c-.04-.03-3.922-2.9-8.7-2.9-4.766 0-8.662 2.87-8.7 2.9a.5.5 0 0 1-.73-.657C9.7 12.528 12.79 7.5 19 7.5s9.3 5.028 9.43 5.243a.5.5 0 0 1-.095.628"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#tlvM7r7X-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M22 11a3 3 0 1 0-6 0 3 3 0 0 0 6 0m-3.687 9.388a.5.5 0 0 1-.61.014c-.013-.01-1.26-.902-3.702-.902-2.44 0-3.69.892-3.7.9a.5.5 0 0 1-.75-.603c.06-.135 1.5-3.297 4.46-3.297s4.4 3.162 4.46 3.297a.5.5 0 0 1-.14.59m10 0a.5.5 0 0 1-.61.015c-.01-.01-1.26-.902-3.7-.902-2.44 0-3.69.892-3.7.9a.5.5 0 0 1-.753-.603c.06-.135 1.5-3.297 4.456-3.297 2.96 0 4.4 3.162 4.46 3.297a.5.5 0 0 1-.146.59"/><path fill="#2a6797" d="M16.998 31.87h-2.003c-.43 0-.78.275-.78.755s.35.755.78.755h3.923c.156 0 .563-.07.563-.54 0-.227-.04-.335-.18-.515l-2.72-3.814h2.28c.43 0 .78-.27.78-.75s-.35-.75-.78-.75h-4.02c-.38 0-.7.2-.7.59 0 .19.1.37.16.47l2.7 3.8zm7.504 2.817h-2.34c-.504 0-.91.322-.91.882s.406.88.91.88h4.58c.184 0 .66-.09.66-.63 0-.27-.056-.39-.21-.61l-3.18-4.46h2.662c.504 0 .91-.32.91-.89 0-.56-.406-.884-.91-.884H21.98c-.448 0-.826.224-.826.687 0 .224.112.434.182.545l3.166 4.452zm8-3.377h-3.008c-.648 0-1.17.414-1.17 1.134s.522 1.135 1.17 1.135h5.89c.233 0 .845-.11.845-.82 0-.34-.08-.51-.27-.78l-4.09-5.73h3.42c.64 0 1.17-.418 1.17-1.138S35.94 24 35.29 24h-6.03c-.576 0-1.062.288-1.062.882 0 .288.144.558.234.702l4.07 5.726z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#wKhPDbH7-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17S2 9.61 2 19s7.61 17 17 17 17-7.61 17-17"/><path fill="#664500" d="M15 23c0-1.657-.96-3-2.143-3-1.184 0-2.143 1.343-2.143 3s.96 3 2.143 3C14.04 26 15 24.657 15 23m12 .2c0-1.547-.895-2.8-2-2.8-1.104 0-2 1.253-2 2.8 0 1.546.896 2.8 2 2.8 1.105 0 2-1.254 2-2.8M23 12c0-2.763-1.792-5-4-5-2.21 0-4 2.237-4 5 0 2.76 1.79 5 4 5 2.208 0 4-2.24 4-5"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#KdHW7KrS-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17C9.612 2 2 9.61 2 19c0 9.388 7.612 17 17 17 9.39 0 17-7.612 17-17"/><path fill="#664500" d="M28.335 14.37a.5.5 0 0 1-.635.03c-.04-.03-3.922-2.9-8.7-2.9-4.766 0-8.662 2.87-8.7 2.9a.5.5 0 0 1-.73-.657C9.7 13.528 12.79 8.5 19 8.5s9.3 5.028 9.43 5.243a.5.5 0 0 1-.095.628"/><path fill="#5dadec" d="M19 30c-6.627 0-12 .567-12 2.5S12.373 35 19 35s12-.567 12-2.5S25.627 30 19 30m0 7c-8.836 0-16-1.686-16-5 0-3.313 7.164-5 16-5s16 1.687 16 5c0 3.314-7.164 5-16 5"/><path fill="#ffcc4d" d="M11.375 30.938c-3.397 1.324-2.5 1.99-.062 3.23A16.93 16.93 0 0 0 19 35.998c2.893 0 5.616-.72 8-1.997.696-.37 1.433-.88 2.125-1.34"/><path fill="#664500" d="M27 18a1 1 0 0 0-.948.684C25.85 19.284 25.032 21 24 21c-1.062 0-1.89-1.827-2.052-2.316a.996.996 0 0 0-1.264-.632.998.998 0 0 0-.632 1.264C20.177 19.693 21.355 23 24 23s3.823-3.307 3.948-3.684A.998.998 0 0 0 27 18m-10 0a1 1 0 0 0-.95.684c-.2.6-1.015 2.316-2.05 2.316-1.062 0-1.888-1.827-2.05-2.316a.998.998 0 0 0-1.266-.632 1 1 0 0 0-.633 1.264C10.18 19.693 11.36 23 14 23c2.645 0 3.823-3.307 3.95-3.684A1 1 0 0 0 17 18"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#jNf4RQjC-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M36 19c0-9.39-7.61-17-17-17S2 9.61 2 19s7.61 17 17 17 17-7.61 17-17"/><path fill="#664500" d="M25.327 13.378a.5.5 0 0 1-.55.07l-4-2c-1.873-.938-6.73-.948-6.777-.948a.5.5 0 0 1-.25-.933h.002a.5.5 0 0 1 .24-.067H21c2.658 0 4.09 2.186 4.474 3.342a.5.5 0 0 1-.147.536M32 21a.997.997 0 0 0-.8.4c-2.64 3.52-6.06 3.6-6.206 3.6A1 1 0 0 0 25 27c.184 0 4.537-.05 7.8-4.4A1 1 0 0 0 32 21M6 21a1 1 0 0 0-.8 1.6C8.462 26.95 12.816 27 13 27a1 1 0 0 0 .004-2c-.155-.002-3.568-.086-6.204-3.6A1 1 0 0 0 6 21m10.897-1.396c.023.052.06.096.073.154a1 1 0 0 1-.727 1.213c-.18.05-4.468 1.08-7.798-1.13a1 1 0 0 1 1.11-1.66c1.092.73 2.362.997 3.468 1.06-.01-.073-.023-.15-.023-.23a2 2 0 0 1 4 0c0 .216-.042.417-.103.608m12 0c.022.05.06.095.072.15a.998.998 0 0 1-.73 1.215c-.18.046-4.47 1.08-7.8-1.137a1 1 0 0 1 1.11-1.663c1.09.73 2.36.99 3.47 1.06-.01-.08-.03-.15-.03-.23a2 2 0 0 1 4 0c0 .21-.04.412-.106.604"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#oU5wr41G-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#aa8ed6" d="M37 35a2 2 0 0 1-3.414 1.414C32.7 35.528 29.59 33 27 33h-.004A16.923 16.923 0 0 1 19 35c-2.892 0-5.612-.727-7.996-2H11c-2.58 0-5.63 2.466-6.586 3.414A2 2 0 0 1 1 35c0-2.384.795-6.23 3.36-8.39A16.9 16.9 0 0 1 2 18C2 8.61 9.612 1 19 1c9.39 0 17 7.61 17 17a16.9 16.9 0 0 1-2.36 8.61C36.206 28.77 37 32.615 37 35"/><path fill="#553986" d="M28.335 11.37a.5.5 0 0 1-.635.03c-.04-.03-3.922-2.9-8.7-2.9-4.766 0-8.662 2.87-8.7 2.9a.5.5 0 0 1-.73-.657C9.7 10.528 12.79 5.5 19 5.5s9.3 5.028 9.43 5.243a.5.5 0 0 1-.095.628m-11.628 7.34C13.452 21.97 8.22 22 8 22a1 1 0 1 1 0-2c.028 0 1.924-.022 3.982-.737C11.39 18.623 11 17.63 11 16.5c0-1.934 1.12-3.5 2.5-3.5s2.5 1.566 2.5 3.5c0 .174-.02.34-.037.507.013 0 .025-.007.037-.007a1 1 0 0 1 .707 1.707M30 22c-.22 0-5.45-.038-8.707-3.293A1 1 0 0 1 22 17c.013 0 .024.007.036.007-.016-.167-.036-.333-.036-.507 0-1.934 1.12-3.5 2.5-3.5s2.5 1.566 2.5 3.5c0 1.13-.39 2.123-.982 2.763 2.058.715 3.954.737 3.984.737A1 1 0 0 1 30 22"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g clip-path="url(#yHxhMkWF-a)" transform="matrix(1.25 0 0 -1.25 0 45)"><path fill="#ffcc4d" d="M36 18c0-9.94-8.06-18-18-18S0 8.06 0 18s8.06 18 18 18 18-8.06 18-18"/><path fill="#664500" d="M7 14.737c0-3.964 4.596-9 11-9s11 5 11 9c0 0-10.333-2.756-22 0"/><path fill="#5d9040" d="M12 12.997v-6.96c0-3 2-6 6-6s6 3 6 6v6.92c-6.29-1.293-12 .04-12 .04"/><path fill="#664500" d="M12.284 23.67c-.756.292-1.47.568-1.47.968 0 .66.884.693 1.06.693.626 0 .936-.234 1.21-.44.21-.16.43-.324.73-.324.566 0 .823.397.823.766 0 .736-.902 1.256-1.86 1.473v.395a.94.94 0 0 1-.938.94.94.94 0 0 1-.94-.94v-.426C9.756 26.44 9.055 25.6 9.055 24.54c0-1.312 1.293-1.85 2.433-2.324.817-.34 1.59-.66 1.59-1.162 0-.366-.46-.76-1.203-.76-.75 0-1.18.298-1.56.563-.262.183-.51.356-.805.356-.43 0-.767-.362-.767-.824 0-.68.93-1.357 2.157-1.595v-.47a.94.94 0 0 1 1.88 0l-.006.497c1.296.316 2.062 1.222 2.062 2.46 0 1.403-1.415 1.95-2.552 2.388M26.694 21.264c0 1.404-1.415 1.95-2.552 2.39-.756.29-1.47.566-1.47.966 0 .66.884.693 1.06.693.626 0 .937-.234 1.21-.44.212-.16.43-.324.73-.324.566 0 .824.396.824.764 0 .737-.903 1.257-1.86 1.474v.394a.94.94 0 0 1-1.88 0v-.426c-1.142-.332-1.843-1.174-1.843-2.235 0-1.31 1.293-1.847 2.433-2.322.818-.34 1.59-.66 1.59-1.16 0-.367-.46-.763-1.203-.763-.75 0-1.18.3-1.56.565-.26.183-.51.356-.804.356-.432 0-.77-.362-.77-.825 0-.678.932-1.354 2.157-1.592v-.47a.94.94 0 0 1 1.88 0l-.004.497c1.294.316 2.06 1.223 2.06 2.46"/><path fill="#fff" d="M20.97 4.93c0 1.37-1.38 1.902-2.487 2.33-.738.284-1.434.554-1.434.943 0 .643.86.675 1.033.675.61 0 .912-.228 1.18-.43.205-.155.418-.315.713-.315.55 0 .8.388.8.747 0 .717-.878 1.224-1.81 1.437v.384c0 .505-.412.917-.917.917a.918.918 0 0 1-.917-.916v-.414c-1.115-.325-1.8-1.145-1.8-2.18 0-1.278 1.262-1.802 2.374-2.264.797-.33 1.55-.643 1.55-1.132 0-.357-.45-.743-1.174-.743-.73 0-1.15.292-1.52.55-.255.18-.496.348-.784.348-.42 0-.75-.354-.75-.804 0-.662.908-1.32 2.103-1.553v-.46a.916.916 0 0 1 1.832 0l-.003.488c1.262.307 2.008 1.19 2.008 2.396"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#kX8NgRQi-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#4289c1" d="M34 18c1.187 0 2-.786 2-2 0-1.073-.983-2-2-2H23c-1.496 0-2 .813-2 2 0 .565.632 1.492 1 2l8 12h-7c-1.128 0-2 .843-2 2 0 1.073.93 2 2 2h11c1.64 0 2-1.012 2-2 0-.62-.635-1.52-1-2l-8-12h7zm-16-5c.633 0 1-.353 1-1 0-.573-.458-1-1-1h-6c-.798 0-1 .367-1 1 0 .3.337.73.533 1L16 19h-4c-.602 0-1 .384-1 1 0 .573.428 1 1 1h6c.874 0 1-.473 1-1 0-.33-.338-.877-.533-1.133L14 13h4zM9 6c.633 0 1-.353 1-1 0-.573-.458-1-1-1H3c-.798 0-1 .367-1 1 0 .3.337.73.533 1L7 12H3c-.602 0-1 .384-1 1 0 .572.428 1 1 1h6c.874 0 1-.473 1-1 0-.33-.338-.877-.533-1.133L5 6h4z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 15"><g fill="none" fill-rule="evenodd"><path fill="#3BB3E4" d="M9.5 4L13 0H6zM0 15h19V6H0v9z"/><path fill="#FFF" d="M6.172 11.828A.172.172 0 0 1 6 12H5v-1h1c.095 0 .172.077.172.17v.658zM5 9h1c.095 0 .172.077.172.17v.658A.172.172 0 0 1 6 10H5V9zm2 .17C7 8.525 6.647 8 6 8H4v5h2c.647 0 1-.525 1-1.172v-.657c0-.254-.098-.478-.237-.67.14-.193.237-.417.237-.672V9.17zM9 8v4c0 .002 1 0 1 0 .003 0 0-4 0-4H9zm2 0v4c0 .552-.443 1-1 1H9c-.553 0-1-.444-1-1V8h3z"/><path stroke="#FFF" d="M12 8l1.5 3L15 8"/><path stroke="#FFF" stroke-linecap="square" d="M13.5 10.5v2"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 15"><g fill="none" fill-rule="evenodd"><path fill="#FF4A68" d="M9.5 0L13 4H6zM0 15h19V6H0v9z"/><path fill="#FFF" d="M15 12V8h-1v5h3v-1h-2zM11 8h-1v5h3v-1h-2V8zM6 8v5h3v-1H7v-1h2v-1H7V9h2V8H6zM2 13v-1h1.98l.02-.98-.98-.02C2.458 11 2 10.542 2 9.98v-.96C2 8.46 2.46 8 3.02 8H5v1H3.02L3 9.98l.98.02c.562 0 1.02.458 1.02 1.02v.96C5 12.54 4.542 13 3.98 13H2z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><path fill="#37BC9B" fill-rule="evenodd" d="M9.574 4.435H4.46C1.954 7.03-1.163 11.105.44 14.08c1.264 2.35 4.126 2.96 6.903 2.918 2.776-.04 5.468-.73 6.392-2.918 1.18-2.798-1.833-6.987-4.16-9.645zm-1.793 9.33v1.018h-.85v-.947c-.58-.03-1.15-.21-1.48-.43l.26-1.164c.37.23.88.438 1.45.438.5 0 .84-.22.84-.618 0-.378-.28-.617-.92-.867-.93-.358-1.57-.857-1.57-1.823 0-.877.54-1.564 1.48-1.773v-.95h.86v.87c.586.03.98.17 1.266.33l-.26 1.13c-.23-.11-.63-.34-1.26-.34-.565 0-.75.28-.75.56 0 .33.307.53 1.048.85 1.038.42 1.456.96 1.456 1.86 0 .88-.55 1.64-1.55 1.84zM11.09.422c-.7-.417-1.565 1.092-2.18 1.068C8.288 1.465 7.8-.024 7.098 0c-.706.025-.984 1.38-1.55 1.507S3.576-.093 3.01.514c-.458.49.942 2.454 1.49 3.182h5.05c.573-.77 2.107-2.932 1.532-3.275zM14.5 3L17 6h-5z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><path fill="#FF4A68" fill-rule="evenodd" d="M9.79 4.435H4.56C2 7.03-1.19 11.105.45 14.08c1.295 2.35 4.22 2.96 7.06 2.918 2.84-.04 5.592-.73 6.537-2.918 1.208-2.798-1.874-6.987-4.255-9.645zm-1.833 9.33v1.018h-.874v-.947c-.597-.03-1.177-.21-1.516-.43l.268-1.164c.374.23.9.438 1.48.438.508 0 .856-.22.856-.618 0-.378-.28-.617-.94-.867-.95-.358-1.6-.857-1.6-1.823 0-.877.56-1.564 1.51-1.773v-.95H8v.87c.6.03 1 .17 1.294.33l-.258 1.13c-.232-.11-.642-.34-1.284-.34-.58 0-.767.28-.767.56 0 .33.312.53 1.07.85 1.06.42 1.49.964 1.49 1.86 0 .887-.563 1.644-1.588 1.843zM11.335.422c-.717-.417-1.6 1.092-2.23 1.068C8.475 1.465 7.977-.024 7.257 0c-.72.025-1.004 1.38-1.582 1.507-.577.127-2.017-1.6-2.594-.993-.46.49.97 2.454 1.53 3.182h5.16c.59-.77 2.16-2.932 1.57-3.275zM14.763 5.1L17 2.55h-4.474z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#UsjP8wsg-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ccd6dd" d="M36 5a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h26a4 4 0 0 0 4-4V5z"/><path fill="#e1e8ed" d="M27 11h5V6h-5v5zm-7 0h5V6h-5v5zm-7 0h5V6h-5v5zm-7 0h5V6H6v5zm5 16H6v5h5v-5zm7 0h-5v5h5v-5zm7 0h-5v5h5v-5zm2 5h5v-5h-5v5zm0-7h5v-5h-5v5zm0-7h5v-5h-5v5zm-7 0h5v-5h-5v5zm-7 0h5v-5h-5v5zm-2-5H6v5h5v-5zm0 7H6v5h5v-5zm9 5h5v-5h-5v5zm-2-5h-5v5h5v-5zm15 14H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h28a1 1 0 0 1 1 1v28a1 1 0 0 1-1 1"/><path fill="#3e721d" d="M5.998 4a2 2 0 0 0-1.76 2.948l7 13a2 2 0 0 0 3.176.466l6.076-6.076 9.738 18.59a2 2 0 1 0 3.543-1.856l-11-21a2 2 0 0 0-1.46-1.05 2.02 2.02 0 0 0-1.712.564l-6.1 6.1L7.76 5.05A2 2 0 0 0 6 4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#6yq71jRX-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ccd6dd" d="M36 5a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h26a4 4 0 0 0 4-4V5z"/><path fill="#e1e8ed" d="M27 11h5V6h-5v5zm-7 0h5V6h-5v5zm-7 0h5V6h-5v5zm-7 0h5V6H6v5zm5 16H6v5h5v-5zm7 0h-5v5h5v-5zm7 0h-5v5h5v-5zm2 5h5v-5h-5v5zm0-7h5v-5h-5v5zm0-7h5v-5h-5v5zm-7 0h5v-5h-5v5zm-7 0h5v-5h-5v5zm-2-5H6v5h5v-5zm0 7H6v5h5v-5zm9 5h5v-5h-5v5zm-2-5h-5v5h5v-5zm15 14H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h28a1 1 0 0 1 1 1v28a1 1 0 0 1-1 1"/><path fill="#dd2e44" d="M32.002 4a2 2 0 0 0-1.773 1.072l-9.74 18.59-6.08-6.076a2 2 0 0 0-3.18.466l-7 13a2 2 0 0 0 3.52 1.898l5.722-10.633 6.1 6.1a2.002 2.002 0 0 0 3.186-.487l11-21A2 2 0 0 0 32 4"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><path fill="#C9404B" d="M35.553 39.477c0 1.128-.142 5.076-4.088 5.076-2.115 0-3.102-3.525-7.75-3.525-3.1 0-2.539 1.266-8.315 1.266-5.78 0-9.163-2.817-9.163-7.044 0-5.076 3.076-4.444 6.202-6.92 3.384-2.677 3.101-4.792 7.33-4.792 3.522 0 5.49 4.815 7.892 5.778 3.523 1.409 7.892 7.202 7.892 10.161zM9.932 22.934c.092-2.409-.928-4.449-2.872-4.449-2.04 0-3.06 2.04-3.06 3.706 0 2.318 1.297 4.54 3.06 4.54 1.76 0 2.778-1.387 2.872-3.797zM24.57 20.71c1.761 0 4.078-3.243 4.17-5.653.093-2.41-.185-4.909-2.131-4.909-2.039 0-4.91 3.056-4.91 5.559 0 2.316 1.112 5.003 2.871 5.003zm7.043 5.93c2.593 0 4.171-2.873 4.263-5.283.092-2.41-.463-4.448-2.41-4.448-3.148 0-4.725 3.06-4.725 5.56 0 2.316 1.112 4.17 2.872 4.17zm8.245-1.945c-3.15 0-5.003 3.61-5.003 6.114 0 2.318 1.482 3.985 3.244 3.985 2.593 0 4.263-2.593 4.354-5.003.092-2.412-.65-5.096-2.595-5.096zm-25.016-3.152c1.761 0 3.15-1.295 3.15-3.707 0-4.076 1.852-8.153-.092-8.153-3.893 0-6.117 5.65-6.117 7.32 0 2.317 1.297 4.54 3.06 4.54zM7.316 17.1c.54.147 1.044.42 1.03-.342-.025-1.19.098-3.134-.49-3.184-.35-.028-1.331 2.014-1.612 3.029-.262.964.45.33 1.072.497zM18.29 7.756c.59.18 1.137.483 1.17-.24.059-1.128.332-2.954-.32-3.048-.385-.056-1.624 1.79-2.009 2.726-.36.89.479.347 1.159.562zm10.445.669c.54.147 1.055.42 1.03-.345-.048-1.371-.145-3.272-.731-3.322-.35-.03-1.136 1.718-1.415 2.733-.264.966.495.764 1.116.934zm6.567 6.756c.521.204 1.007.53 1.06-.233.096-1.37.532-5.064-.048-5.172-.344-.065-1.564 3.018-2.093 4.071-.448.892.482 1.102 1.08 1.334zm7.283 3.35c-.336-.1-1.457 2.267-1.942 3.203-.456.889.266.933.839 1.229.497.255.944.63 1.078-.122.236-1.351.59-4.14.025-4.31z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><path fill="#1592E6" d="M43.939 16.075c.528-5.368-4.15-11.24-6.169-12.008-.448-.17-.999-.012-1.22.43-.216.432-.153.92.21 1.213.364.293 2.24 2.29 1.46 6.824-.084.489-.09 1.813-2.655 1.814-.28 0-.538-.018-.749-.04-.182-.4-.482-.924-.939-1.652-.76-1.211-1.95-1.85-3.444-1.85-.864 0-1.834.23-2.663.634-.885.432-2.96.69-3.78.762-.821-.072-2.895-.33-3.78-.762-.83-.403-1.8-.635-2.663-.635-1.494 0-2.685.64-3.444 1.85-.458.73-.757 1.253-.94 1.653a7.25 7.25 0 0 1-.749.04c-2.565 0-2.55-1.329-2.655-1.814C9 9 11.114 5.886 11.22 5.71c.105-.175.427-.78.21-1.212-.22-.443-.772-.601-1.22-.43-2.018.768-6.696 6.64-6.168 12.007.366 3.715 1.948 5.208 3.3 5.799-1.095 1.1-2.27 2.572-2.304 3.847-.024.88.196 1.575.651 2.066.482.52 1.179.773 2.128.773.432 0 .927-.051 1.515-.156a38.88 38.88 0 0 0 3.518-.822c.442 1.26 1.286 3.596 2.008 5.18a19.416 19.416 0 0 1 1.253 3.782c-.145.924-.508 4.187 1.206 5.985 1.345 1.412 4 1.708 5.99 1.708.335 0 .58-.01.684-.015.104.005.349.015.684.015 1.99 0 4.645-.296 5.99-1.708 1.714-1.798 1.35-5.061 1.206-5.985a19.4 19.4 0 0 1 1.253-3.782c.722-1.584 1.566-3.92 2.008-5.18.836.234 2.169.581 3.518.822a8.706 8.706 0 0 0 1.515.156c.95 0 1.646-.253 2.128-.773.455-.491.675-1.186.651-2.066-.034-1.275-1.209-2.747-2.304-3.847 1.352-.59 2.934-2.084 3.3-5.8zm-28.14 8.875c0-.826.373-1.594 1.022-2.108a1 1 0 0 1 1.279.03l2.5 2.186a1 1 0 0 1 .202 1.264 2.703 2.703 0 0 1-2.312 1.318 2.693 2.693 0 0 1-2.69-2.69zm5.085 16.513a1.54 1.54 0 0 1-.561.105c-.918 0-1.72-.798-1.995-1.986-.317-1.364.159-2.63 1.13-3.006.18-.07.37-.106.561-.106.918 0 1.72.798 1.995 1.986.317 1.365-.159 2.63-1.13 3.007zm8.766-1.88c-.276 1.187-1.078 1.986-1.996 1.986-.192 0-.38-.036-.56-.106-.972-.377-1.448-1.642-1.131-3.007.275-1.187 1.077-1.986 1.995-1.986.192 0 .38.036.56.106.972.377 1.448 1.642 1.132 3.007zm-.191-11.943a2.703 2.703 0 0 1-2.313-1.318 1 1 0 0 1 .202-1.264l2.5-2.185a1 1 0 0 1 1.28-.031 2.675 2.675 0 0 1 1.02 2.108 2.693 2.693 0 0 1-2.69 2.69z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18"><g fill="none" fill-rule="evenodd"><ellipse fill="#37BC9B" cx="9" cy="9" rx="9" ry="9"/><text fill="#FFF" font-family="Trebuchet MS" font-size="11"><tspan x="6" y="13">$</tspan></text></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18"><g fill="none" fill-rule="evenodd"><ellipse fill="#FF4A68" cx="9" cy="9" rx="9" ry="9"/><text fill="#FFF" font-family="Trebuchet MS" font-size="11"><tspan x="6" y="13"></tspan></text></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18"><g fill="none" fill-rule="evenodd"><ellipse fill="#3BB3E4" cx="9" cy="9" rx="9" ry="9"/><text fill="#FFF" font-family="Trebuchet MS" font-size="11"><tspan x="6" y="13"></tspan></text></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18"><g fill="none" fill-rule="evenodd"><ellipse fill="#B162D1" cx="9" cy="9" rx="9" ry="9"/><text fill="#FFF" font-family="Trebuchet MS" font-size="11"><tspan x="6" y="13"></tspan></text></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><path fill="#FFAC33" d="M37.619 24.98c-.925-1.196-2.32-2.017-4.185-2.463 2.376-1.212 3.42-3.268 3.133-6.17-.096-1.052-.387-1.964-.873-2.737a5.478 5.478 0 0 0-1.973-1.865 10.86 10.86 0 0 0-2.703-1.076c-.972-.247-2.088-.426-3.347-.538v-2.29a1.841 1.841 0 0 0-3.682 0v2.123c-.638 0-1.61.016-2.918.048v-2.17a1.841 1.841 0 0 0-3.683 0v2.29c-.525.015-1.299.023-2.319.023l-4.064-.019a1 1 0 0 0-1.005 1v1.917a1 1 0 0 0 1 1h1.654c1.212 0 1.921.542 2.128 1.626v6.863c.16 0 .287.008.383.024h-.383v9.612c-.127.813-.59 1.22-1.387 1.22h-1.809a1 1 0 0 0-.986.833l-.402 2.376a1 1 0 0 0 .986 1.167h3.599c.303 0 .74.004 1.315.011.574.008 1.004.012 1.29.012v2.361a1.842 1.842 0 1 0 3.683 0l.001-2.29c.67.017 1.642.025 2.917.025v2.266a1.841 1.841 0 0 0 3.682 0v-2.362c1.308-.063 2.468-.182 3.48-.358a14.159 14.159 0 0 0 2.905-.826c.924-.374 1.697-.84 2.319-1.399.622-.557 1.135-1.267 1.543-2.128.406-.86.665-1.857.776-2.99.208-2.215-.15-3.92-1.075-5.116zM22.088 14.303c.518-.008.948-.016 1.29-.024.344-.008.806.012 1.388.06.582.048 1.072.112 1.47.191.399.08.838.211 1.316.395.478.183.86.406 1.147.67.287.262.53.597.73 1.004.199.406.298.872.298 1.398 0 .447-.071.853-.214 1.22a2.298 2.298 0 0 1-.646.92 6.54 6.54 0 0 1-.885.646c-.303.184-.69.331-1.16.443-.47.111-.88.199-1.23.263-.351.064-.79.107-1.316.131-.526.024-.925.04-1.196.048-.27.008-.641.008-1.112 0-.47-.008-.888.012-.968.012v-7.341c.111 0 .57-.028 1.088-.036zm9.11 16.296a3.4 3.4 0 0 1-.585.957c-.24.27-.555.51-.945.717-.39.208-.77.375-1.136.502-.366.128-.809.24-1.327.335-.518.096-.972.163-1.363.203-.39.04-.857.072-1.4.096-.54.024-.964.036-1.266.036-.303 0-.686-.004-1.148-.012-.463-.008-.9.067-1.028.067v-8.083c.127 0 .649-.086 1.279-.102a62.4 62.4 0 0 1 1.542-.024c.399 0 .949.024 1.65.072a14.1 14.1 0 0 1 1.77.214c.478.096 1 .243 1.566.443.566.199 1.024.442 1.375.729s.646.654.885 1.1c.24.446.359.956.359 1.53 0 .447-.076.853-.228 1.22z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><path fill="#828384" d="M10 26l13 8v11z"/><path fill="#2F3030" d="M36 26L23 45V34z"/><g><path fill="#828384" d="M10 23L23 1v16z"/><path fill="#2F3030" d="M36 23L23 1v16z"/><path fill="#343535" d="M10 23l13 8V17z"/><path fill="#131313" d="M36 23l-13 8V17z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#axvgFEak-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#fdd888" d="M32.898 13.062C32.298 19.68 29 23 29 23l-6 8h-8l-6-8s-1.42-1.432-2.568-4.275C4.444 18.065 3 16.21 3 13.998a4.97 4.97 0 0 1 1.61-3.656A4.943 4.943 0 0 1 4 8c0-1.96 1.136-3.636 2.775-4.457C8.058 1.623 9.772 1 11 1h16c1.378 0 3.373.78 4.677 3.31C33.61 5 35 6.83 35 9a4.986 4.986 0 0 1-2.102 4.06M19 31c.55 0 1.058.158 1.5.416.443-.258.95-.416 1.5-.416 1.657 0 4 2.344 4 4 0 0 0 2-2 2-.788 0-1-1-2-1s-1 1-3 1-2-1-3-1-1.21 1-2 1c-2 0-2-2-2-2 0-1.656 2.344-4 4-4 .55 0 1.057.158 1.5.416.443-.258.95-.416 1.5-.416"/><path fill="#bf6952" d="M25 31a1 1 0 0 0-1-1H14a1 1 0 0 0 0 2h10a1 1 0 0 0 1-1"/><path fill="#67757f" d="M24.9 12.458c0 4.477-8.58 4.185-8.58 6.886 0 1.308 1.302 1.947 2.812 1.947 2.538 0 2.99-1.56 4.14-1.56.813 0 1.204.5 1.204 1.05 0 1.29-2.024 2.26-3.965 2.59v1.24c0 .78-.65 1.4-1.45 1.4-.8 0-1.45-.62-1.45-1.4v-1.29c-2.11-.46-3.93-1.87-3.93-4.17 0-4.3 8.58-4.12 8.58-7.14 0-1.05-1.18-2.1-3.11-2.1-2.9 0-3.86 1.89-5.04 1.89-.573 0-1.086-.464-1.086-1.164 0-1.113 1.937-2.45 4.6-2.824V6.39c0-.77.65-1.4 1.457-1.4.8 0 1.45.63 1.45 1.4v1.4c0 .017-.007.03-.01.045 2.4.43 4.4 1.935 4.4 4.62"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#kEOF8kzu-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#d99e82" d="M36 19c0-9.39-7.61-17-17-17S2 9.61 2 19s7.61 17 17 17 17-7.61 17-17"/><path fill="#8a4b38" d="M23.638 20.053a2.245 2.245 0 1 0 1.386-4.27c-1.18-.385-3.87-.202-4.255.977-.39 1.18 1.68 2.91 2.86 3.293m8.57.672a1.07 1.07 0 0 0-1.64 1.377c.38.45 1.51 1.057 1.96.677.45-.38.05-1.61-.33-2.06m-22 7a1.07 1.07 0 0 0-1.63 1.38c.38.45 1.51 1.05 1.962.67.453-.38.053-1.607-.328-2.06m12.093 1.9a1.607 1.607 0 1 0 1.732 2.71c.75-.48 1.87-2.05 1.39-2.8-.48-.75-2.375-.39-3.124.09m-7.92-6.22a2.145 2.145 0 1 0 3.87 1.857c.513-1.07.68-3.643-.387-4.154-1.07-.514-2.97 1.227-3.48 2.3M15.4 9.3a1.92 1.92 0 0 0 2.67.492 1.923 1.923 0 0 0 .49-2.675c-.6-.875-2.526-2.148-3.4-1.545-.873.604-.364 2.854.24 3.727m10.013.4A1.472 1.472 0 1 0 27 12.19c.684-.438 1.714-1.877 1.275-2.562-.438-.688-2.176-.36-2.862.08M6.536 18.58a2.07 2.07 0 1 0 3.083-2.76c-.77-.854-3-1.954-3.85-1.19-.86.763-.01 3.1.76 3.95"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#Buz3ZJPA-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#99aab5" d="M37 11c0-5.522-8.06-10-18-10S1 5.478 1 11s8.06 10 18 10 18-4.478 18-10"/><path fill="#ccd6dd" d="M37 13c0-5.522-8.06-10-18-10S1 7.478 1 13s8.06 10 18 10 18-4.478 18-10"/><path fill="#f5f8fa" d="M19 6C4.042 6 2 21 2 25h34c0-2-1.958-19-17-19"/><path fill="#ccd6dd" d="M32.882 30.048c-1.357.938-3.103 1.694-5.12 2.25 1.874.576 4.55.31 5.12-2.25m2.503-2.692c2.442 10.122-9.78 7.706-12.204 5.798a37.53 37.53 0 0 1-4.18.234c-9.39 0-17-3.228-17-8.444C2 19.728 9.61 15.5 19 15.5s17 4.228 17 9.444c0 .862-.225 1.664-.615 2.412"/></g><g clip-path="url(#Buz3ZJPA-b)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#8a4b38" d="M34 24c0-3.866-6.716-7-15-7-8.284 0-15 3.134-15 7s6.716 7 15 7c8.284 0 15-3.134 15-7"/><path fill="#d99e82" d="M21 20a.997.997 0 0 0-.707.293c-2.337 2.337-2.376 4.885-.125 8.262.74 1.11.9 2.245.478 3.377-.46 1.235-1.438 1.996-1.73 2.076-.554 0-.96.444-.96.996 0 .553.492.996 1.044.996.997 0 2.395-1.153 3.183-2.625 1.034-1.933.91-4.04-.35-5.93-1.962-2.942-1.532-4.332-.126-5.738A1 1 0 0 0 21 20m-6 2a.997.997 0 0 0-.707.293c-2.337 2.337-2.376 4.885-.125 8.262.727 1.09.894 2.082.494 2.947-.444.96-1.43 1.47-1.684 1.5a.99.99 0 0 0-.99.998c0 .553.46 1 1.012 1 .997 0 2.584-.974 3.36-2.423.48-.9 1.053-2.76-.528-5.132-1.96-2.942-1.53-4.332-.125-5.738A1 1 0 0 0 15 22"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g clip-path="url(#mO5XIuZF-a)" transform="matrix(1.25 0 0 -1.25 0 45)"><path fill="#e1e8ed" d="M7 22.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0M34 22.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#e1e8ed" d="M31.594 19H4.45v4h27.144v-4z"/><path fill="#e1e8ed" d="M31 21H4.855v4h26.77L31 21z"/><path fill="#ffd983" d="M12 26.5a3.5 3.5 0 1 0-7 0 3.5 3.5 0 0 0 7 0"/><path fill="#ffd983" d="M14 29.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M16 27.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M20 29.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M20 27.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0M26 32.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M26 27.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M27 24.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M23 24.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M20 23.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M18 24.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M16 24.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M14 23.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M11 23.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0M30 22.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0M28 28.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M31 25.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0M24 29.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0"/><path fill="#ffd983" d="M23 27.5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0M28 31.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M31 28.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M32 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M7 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffd983" d="M29 29.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffac33" d="M26 30.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M12 25.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffac33" d="M14 24.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffac33" d="M12 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffac33" d="M11 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffac33" d="M9 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M16 22.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M20 26.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M31 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffac33" d="M19 24.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffac33" d="M18 22.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M29 28a1 1 0 1 0-2 0 1 1 0 0 0 2 0M29 23a1 1 0 1 0-2 0 1 1 0 0 0 2 0M13 29a1 1 0 1 0-2 0 1 1 0 0 0 2 0M26 25a2 2 0 1 0-4 0 2 2 0 0 0 4 0"/><path fill="#ffac33" d="M23 24a2 2 0 1 0-4 0 2 2 0 0 0 4 0"/><path fill="#ffac33" d="M26 22a2 2 0 1 0-4 0 2 2 0 0 0 4 0M23 27a2 2 0 1 0-4 0 2 2 0 0 0 4 0"/><path fill="#ffd983" d="M22 25.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M13 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffd983" d="M11 22.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M20 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0M23 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#ffd983" d="M22 23.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/><path fill="#e1e8ed" d="M30.182 4.996C30.082 2.798 28.202 1 26 1H10C7.8 1 5.92 2.798 5.82 4.996L5.18 19.004A3.797 3.797 0 0 0 9 23h18c2.2 0 3.918-1.798 3.82-3.996L30.18 4.996z"/></g><g clip-path="url(#mO5XIuZF-b)" transform="matrix(1.25 0 0 -1.25 0 45)"><path fill="#da2f47" d="M17.668 20h1c-.5 0-2 .657-2-1V1h3v18c0 1.657-1.5 1-2 1M23.668 20h1c-.5 0-2 .657-2-1V1h3v18c0 1.657-1.5 1-2 1M29.668 20h1c-.5 0-2 .657-2-1V1h3v18c0 1.657-1.5 1-2 1M11.668 20h1c-.5 0-2 .657-2-1V1h3v18c0 1.657-1.5 1-2 1M5.668 20h1c-.5 0-2 .657-2-1V1h3v18c0 1.657-1.5 1-2 1"/><g clip-path="url(#mO5XIuZF-c)" opacity=".6"><path fill="#99aab5" d="M31 17H5v2h26v-2z"/></g></g><g clip-path="url(#mO5XIuZF-d)" transform="matrix(1.25 0 0 -1.25 0 45)"><path fill="#e1e8ed" d="M34 21c0-1.104-1.12-2-2.5-2s-2.5.896-2.5 2c0 1.105 1.12 2 2.5 2s2.5-.895 2.5-2M7 21c0-1.104-1.12-2-2.5-2S2 19.896 2 21c0 1.105 1.12 2 2.5 2S7 22.105 7 21"/><path fill="#e1e8ed" d="M31.594 19H4.45v4h27.144v-4z"/><path fill="#fff" d="M32 22a1 1 0 0 0-1-1H5a1 1 0 0 0 0 2h26a1 1 0 0 0 1-1"/><path fill="#e1e8ed" d="M33.28 24.25c.282-.297 2.142-2.422.032-4.594-.36.11-.75 3.875-.562 4.14.187.267.53.454.53.454M2.737 24.25c-.28-.297-2.22-2.39-.112-4.562.36.11.83 3.843.643 4.11-.187.265-.53.452-.53.452"/></g></svg>'
},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#TWUXz8v3-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#8899a6" d="M20 16.745s11.458 11.04 12.583 12.005c1.125.964-.708 2.25-2.957 2.25H7.13c-1.126 0-4.484-.73-2.797-2.417C5.537 27.38 17 16.745 17 16.745V6.622s-4.584-2.34-5.498-2.883c-.984-.57-.33-1.47.063-1.62.657-.26 2.254-1.1 6.78-1.1 4.64 0 6.203.91 6.765 1.1.217.07 1.347.93.01 1.72C22.744 5.25 20 6.62 20 6.62v10.123z"/><path fill="#ccd6dd" d="M33 29.558c0-1.62-6.547-2.935-14.623-2.935S3.754 27.937 3.754 29.558c0 1.622 6.547 2.935 14.623 2.935S33 31.18 33 29.558"/><path fill="#ccd6dd" d="M5.458 29.416c1.265-1.232 8.538-7.235 11.7-9.835.9-.74 2.133-.62 2.8-.12.668.5 11.168 9.58 11.168 9.58l-25.668.38z"/></g><g clip-path="url(#TWUXz8v3-b)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#662113" d="M17.868 20.468c-.237.125-.05.8.25 1.328l7.447 14.518a1.1 1.1 0 0 0 1.914-1.082l-8.67-13.885c-.15-.264-.68-1.02-.95-.88"/><path fill="#5c913b" d="M22.745 29.145c1.133-.64 1.996-2.636 1.2-4.046-.797-1.42-2.954-1.7-4.087-1.06-1.132.64-2.065 2.51-1.2 4.04.866 1.53 2.954 1.7 4.087 1.06"/><path fill="#fff" d="M17.797 26.24c-3.775 0-7.36.49-10.737 1.47l-.13.037a1.002 1.002 0 0 0 .556 1.922l.132-.04c6.533-1.9 13.943-1.86 22.018.13a.998.998 0 0 0 1.21-.73 1 1 0 0 0-.732-1.21c-4.288-1.06-8.403-1.58-12.317-1.58"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><path fill="#F4900C" d="M45 25c0-2.579-.459-5.049-1.3-7.335-.575 6.736-4.166 10.196-7.919 8.585-3.516-1.51-1.146-7.396-.971-10.205.295-4.761-.015-10.211-8.664-14.742 3.594 6.875.416 11.145-2.917 11.406-3.698.287-7.083-3.178-5.833-8.803-4.047 2.983-4.166 8.003-2.917 11.25 1.302 3.385-.052 6.198-3.229 6.51-3.549.35-5.521-3.801-3.703-10.416A21.17 21.17 0 0 0 2.5 25c0 11.736 9.514 21.25 21.25 21.25S45 36.736 45 25"/><path fill="#FFCC4D" d="M38.75 38.75c0-2.734-.73-5.295-2.006-7.501.183 3.855-3.203 5.366-5.025 4.636-2.632-1.054-1.927-2.864-2.604-6.614s-3.281-6.355-7.136-7.5c2.812 7.916-1.559 10.834-3.85 11.355-2.34.533-4.692-.001-4.96-5.008A14.96 14.96 0 0 0 8.75 38.75c0 .518.065.924.043 1.231-.014.202.175.284.224.335.067.067.12.131.251.253.316.294.64.562 1.08.92.848.69 2.224 1.615 3.464 2.308 2.295 1.283 5.796 2.459 9.938 2.459s7.775-1.365 10.013-2.46c1.276-.623 3.224-2.172 3.224-2.172 1.971-1.676 1.813-1.138 1.763-2.874"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#6mi48mev-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#bf6952" d="M34.54 13.802c.365 1.578.244 3.266-.457 4.946a8.018 8.018 0 0 1-3.27 3.773c.318 1.2.234 2.48-.325 3.76-.84 1.92-2.66 3.2-4.712 3.56.25.57.33 1.29.036 2.17-1 3-5 1-8 5-2.44-1.46-2.97-3.64-2.877-5.48-2.422-.412-3.8-.936-3.8-.936v-.002a3.715 3.715 0 0 1-2.323-3.44c0-.88.318-1.676.83-2.312l-.693-.26c-2.33-.87-3.98-2.976-3.98-5.44 0-1.045.3-2.026.82-2.877C2.97 14.973 1 12.22 1 9c0-4.418 3.69-8 8.244-8 3.27 0 6.56.703 9.53 1.665C21.02 1.625 24.47 1 29.668 1A7.333 7.333 0 0 1 37 8.333a7.31 7.31 0 0 1-2.46 5.47"/><path fill="#f5f8fa" d="M18 21.5c0-2.485-1.567-4.5-3.5-4.5S11 19.015 11 21.5s1.567 4.5 3.5 4.5 3.5-2.015 3.5-4.5m10 0c0-2.485-1.566-4.5-3.5-4.5S21 19.015 21 21.5s1.566 4.5 3.5 4.5 3.5-2.015 3.5-4.5"/><path fill="#292f33" d="M17 21.5c0-1.38-.896-2.5-2-2.5s-2 1.12-2 2.5.896 2.5 2 2.5 2-1.12 2-2.5m9 0c0-1.38-.896-2.5-2-2.5s-2 1.12-2 2.5.896 2.5 2 2.5 2-1.12 2-2.5m-15.553-9.395c-.246.492.003.895.553.895h18c.55 0 .8-.403.552-.895C29.552 12.105 27 7 20 7s-9.553 5.105-9.553 5.105"/><path fill="#f2abba" d="M20 11c-2.77 0-5.157-.922-6.292-2.256C15.2 7.79 17.253 7 20 7s4.8.79 6.292 1.744C25.157 10.078 22.772 11 20 11"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#KSwQoupJ-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#be1931" d="M36.885 25.166c0 5.45-4.418 9.868-9.867 9.868-3.308 0-6.227-1.632-8.018-4.128-1.79 2.496-4.71 4.13-8.017 4.13-5.45-.002-9.868-4.42-9.868-9.87 0-.772.098-1.52.266-2.24C2.76 14.413 12.22 5.43 19 2.966c6.783 2.464 16.25 11.446 17.617 19.96.17.72.268 1.47.268 2.24"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g fill="#e75a70" clip-path="url(#lWxsDG8y-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path d="M14.59 10.48a1.5 1.5 0 0 0 .034 1.596l4.395 6.646-6 5.14a1.5 1.5 0 0 0-.31 1.908l4.3 7.175a9.778 9.778 0 0 1-6.04 2.09c-5.45 0-9.868-4.42-9.868-9.87 0-.77.097-1.52.265-2.24C2.75 14.413 12.215 5.43 19 2.965c.026.01.052.023.077.033l-4.488 7.48z"/><path d="M27.018 35.034c-2.765 0-5.248-1.15-7.037-2.983l-4.04-6.73 6.04-5.17a1.5 1.5 0 0 0 .28-1.964l-4.603-6.97 4.16-6.933c6.34 3.53 13.623 11.263 14.81 18.65.17.72.268 1.468.268 2.24 0 5.45-4.417 9.868-9.866 9.868"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#eg3u6ll1-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#f4900c" d="M19 1.2c-.39 0-.745.218-.92.565l-1.8 3.554-3.025-2.6a1.044 1.044 0 0 0-1.066-.17 1.03 1.03 0 0 0-.64.87l-.3 3.97-3.79-1.24a1.035 1.035 0 0 0-1.3 1.3l1.24 3.79-3.98.3a1.04 1.04 0 0 0-.88.63 1.04 1.04 0 0 0 .17 1.07l2.6 3.024-3.56 1.8a1.032 1.032 0 0 0 0 1.84l3.554 1.8-2.6 3.02a1.032 1.032 0 0 0 .706 1.7l3.97.307-1.24 3.786c-.12.37-.022.775.25 1.05a1.037 1.037 0 0 0 1.05.25l3.79-1.24.305 3.97a1.03 1.03 0 0 0 1.7.705l3.03-2.594 1.8 3.555a1.032 1.032 0 0 0 1.84 0l1.8-3.555 3.025 2.593a1.036 1.036 0 0 0 1.068.17c.36-.15.606-.49.637-.88l.304-3.973 3.782 1.24a1.03 1.03 0 0 0 1.3-1.3l-1.24-3.79 3.975-.31a1.032 1.032 0 0 0 .704-1.7l-2.59-3.02 3.555-1.8a1.033 1.033 0 0 0 0-1.84l-3.55-1.8 2.6-3.025a1.033 1.033 0 0 0-.71-1.7l-3.974-.3 1.24-3.79a1.03 1.03 0 0 0-.25-1.05 1.028 1.028 0 0 0-1.05-.253l-3.78 1.26-.3-3.97a1.037 1.037 0 0 0-1.03-.957c-.24 0-.48.087-.67.248l-3.033 2.6-1.8-3.555A1.03 1.03 0 0 0 19 1.2"/><path fill="#ffcc4d" d="M32 19c0-7.18-5.82-13-13-13S6 11.82 6 19s5.82 13 13 13 13-5.82 13-13"/><path fill="#f4900c" d="M19 13.53c-6.222 0-8 2.327-8 1.228 0-1.102 3.556-3.98 8-3.98s8 2.878 8 3.98c0 1.1-1.777-1.23-8-1.23m8 8.806a2.667 2.667 0 1 0-5.334 0 2.667 2.667 0 0 0 5.334 0m-10.666 0a2.668 2.668 0 1 0-5.336 0 2.668 2.668 0 0 0 5.336 0"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#jbed5Jzl-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#66757f" d="M37 19c0-9.94-8.06-18-18-18S1 9.06 1 19s8.06 18 18 18 18-8.06 18-18"/><path fill="#5b6876" d="M14 29.5a3.5 3.5 0 0 0-7 0 3.5 3.5 0 0 0 7 0m15-21A3.5 3.5 0 0 0 25.5 5 3.5 3.5 0 0 0 22 8.5a3.5 3.5 0 0 0 3.5 3.5A3.5 3.5 0 0 0 29 8.5M25 32a2 2 0 1 0-4 0 2 2 0 0 0 4 0M3 19a1 1 0 1 1 2 0 1 1 0 0 1-2 0m27 9a1 1 0 1 1 1.998-.002A1 1 0 0 1 30 28M16 6a1 1 0 0 1 2 0 1 1 0 0 1-2 0m19 12a2 2 0 1 0-4 0 2 2 0 0 0 4 0M9 11a2 2 0 1 0-4 0 2 2 0 0 0 4 0"/><path fill="#4f585d" d="M19 12.096c-7 0-9 2.618-9 1.38C10 12.24 14 9 19 9s9 3.24 9 4.477-2-1.38-9-1.38M28 22a3 3 0 1 0-6 0 3 3 0 0 0 6 0m-12 0a3 3 0 1 0-6 0 3 3 0 0 0 6 0"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#qqD6EASe-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#3e721d" d="M29 10c-8 0-8-6-8-6v11h-4V4s0 6-8 6c-4 0-7 2-7 2s0-9 9-9h6s0-2 2-2 2 2 2 2h6c9 0 9 9 9 9s-3-2-7-2"/><path fill="#ffac33" d="M22.125 9.338c-.328 0-.65.097-.927.283l-2.323 1.58-2.322-1.57a1.667 1.667 0 0 0-1.358-.22 1.65 1.65 0 0 0-1.06.876L12.91 12.8l-2.795-.205a1.656 1.656 0 0 0-1.77 1.768l.2 2.8-2.522 1.226a1.654 1.654 0 0 0-.646 2.41l1.573 2.33-1.574 2.32a1.657 1.657 0 0 0 .647 2.42l2.523 1.22-.2 2.793c-.035.48.14.95.48 1.287.31.313.733.486 1.17.486.04 0 .08 0 .12-.004l2.797-.2 1.225 2.52a1.66 1.66 0 0 0 1.49.93c.327 0 .65-.096.928-.283l2.322-1.575L21.2 36.62a1.652 1.652 0 0 0 2.42-.648l1.23-2.525 2.8.2a1.662 1.662 0 0 0 1.29-.48 1.64 1.64 0 0 0 .48-1.288l-.202-2.8 2.527-1.23a1.66 1.66 0 0 0 .648-2.42l-1.573-2.32 1.576-2.32c.268-.4.35-.896.225-1.36a1.647 1.647 0 0 0-.87-1.06l-2.523-1.225.206-2.8a1.666 1.666 0 0 0-.48-1.286 1.67 1.67 0 0 0-1.287-.48l-2.8.2-1.225-2.527a1.644 1.644 0 0 0-1.06-.875 1.588 1.588 0 0 0-.43-.056"/><path fill="#732700" d="M26 23a7 7 0 1 1-14 0 7 7 0 0 1 14 0"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#J69XL0XT-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M29.84 19.362c-.987-1.044-1.633-3.067-1.437-4.493l.89-6.45c.2-1.43-.7-2.09-1.993-1.47l-5.85 2.8c-1.296.62-3.41.61-4.7-.02l-5.826-2.84c-1.29-.63-2.194.02-2.008 1.45l.843 6.45c.18 1.42-.48 3.44-1.47 4.48l-4.5 4.69c-.99 1.03-.65 2.1.76 2.36l6.37 1.19c1.41.26 3.11 1.52 3.79 2.79l3.05 5.73c.67 1.27 1.79 1.272 2.47.01l3.09-5.715c.69-1.265 2.4-2.506 3.82-2.758l6.37-1.14c1.41-.255 1.76-1.316.77-2.36l-4.46-4.72z"/><path fill="#ffd983" d="M10.783 34.82c1.023-1.414 2.446-4.918 1.717-5.448-.728-.53-3.607 1.91-4.63 3.323-1.022 1.413-.935 2.668-.13 3.254.803.58 2.02.28 3.043-1.13m19.347-2.13c-1.02-1.42-3.9-3.86-4.63-3.33-.728.53.695 4.03 1.72 5.44 1.022 1.41 2.237 1.72 3.042 1.13.804-.59.89-1.84-.13-3.26M17.625 3.71c0 1.745.898 5.42 1.8 5.42.898 0 1.798-3.675 1.797-5.42 0-1.747-.804-2.712-1.8-2.71-.994-.002-1.798.962-1.798 2.71m16.18 9.26c-1.655.54-4.858 2.534-4.58 3.396.278.857 4.038.58 5.69.04 1.656-.54 2.322-1.605 2.013-2.555-.307-.94-1.468-1.42-3.123-.88m-30.72 3.44c1.654.54 5.413.82 5.693-.04.276-.85-2.928-2.85-4.58-3.39-1.655-.54-2.82-.07-3.124.88-.308.95.354 2.02 2.01 2.56"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#97yJhltt-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffac33" d="M17 35s0 2 2 2 2-2 2-2v-2s0-2-2-2-2 2-2 2v2zm18-14s2 0 2-2-2-2-2-2h-2s-2 0-2 2 2 2 2 2h2zM5 21s2 0 2-2-2-2-2-2H3s-2 0-2 2 2 2 2 2h2zm5.12 8.706s1.415-1.414 0-2.828c-1.413-1.414-2.827 0-2.827 0l-1.415 1.414s-1.414 1.414 0 2.83c1.415 1.414 2.83 0 2.83 0l1.413-1.415zm21-21s1.415-1.413 0-2.827c-1.413-1.42-2.827 0-2.827 0L26.88 7.29s-1.415 1.414 0 2.828c1.413 1.415 2.827 0 2.827 0l1.414-1.413zm-.412 18.174s-1.414-1.415-2.828 0c-1.414 1.413 0 2.827 0 2.827l1.414 1.414s1.414 1.42 2.828 0c1.414-1.41 0-2.82 0-2.82l-1.414-1.41zm-21-21s-1.414-1.415-2.828 0c-1.414 1.413 0 2.827 0 2.827l1.414 1.414s1.414 1.42 2.828 0c1.414-1.41 0-2.82 0-2.82L9.708 5.88zM17 5s0 2 2 2 2-2 2-2V3s0-2-2-2-2 2-2 2v2zm12 14c0 5.523-4.478 10-10 10-5.523 0-10-4.477-10-10 0-5.522 4.477-10 10-10 5.522 0 10 4.478 10 10"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#dFbSflUq-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffac33" d="M15 35s0 2 2 2 2-2 2-2v-2s0-2-2-2-2 2-2 2v2zm16-12s2 0 2-2-2-2-2-2h-2s-2 0-2 2 2 2 2 2h2zM5 23s2 0 2-2-2-2-2-2H3s-2 0-2 2 2 2 2 2h2zm3.872 7.956s1.414-1.414 0-2.828-2.828 0-2.828 0L4.63 29.543s-1.415 1.414 0 2.83c1.414 1.413 2.828 0 2.828 0l1.414-1.416zm19.085-2.826s-1.414-1.415-2.828 0c-1.42 1.413 0 2.827 0 2.827l1.41 1.414s1.41 1.42 2.83 0c1.41-1.41 0-2.82 0-2.82l-1.42-1.41zM26 21a9 9 0 0 1-9 9 9 9 0 1 1 9-9"/><path fill="#b4c3cc" d="M29 17a7.99 7.99 0 0 1-2.37-.357A6.498 6.498 0 0 1 20.5 21c-3.044 0-5.592-2.096-6.3-4.92a4.46 4.46 0 0 1-2.7.92A4.5 4.5 0 0 1 7 12.5c0-.604.123-1.178.34-1.704A4.98 4.98 0 0 1 6 11a5 5 0 0 1-5-5 5 5 0 0 1 5-5h23a8 8 0 0 1 0 16"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#os3KOGgl-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#b4c3cc" d="M28 29a6.98 6.98 0 0 1-2.015-.298c.005.1.015.197.015.298a5.998 5.998 0 0 1-11.785 1.573A5.974 5.974 0 0 1 12 31a6 6 0 0 1 0-12 5.998 5.998 0 0 1 5.785 4.428A5.975 5.975 0 0 1 20 23c.375 0 .74.04 1.096.104A6.92 6.92 0 0 1 21 22a7 7 0 0 1 7-7 7 7 0 0 1 0 14"/><path fill="#8899a6" d="M32 15a4.98 4.98 0 0 1-1.34-.204c.217.526.34 1.1.34 1.704a4.5 4.5 0 0 1-4.5 4.5 4.46 4.46 0 0 1-2.7-.92A6.497 6.497 0 0 1 17.5 25a6.497 6.497 0 0 1-6.13-4.357A8 8 0 1 1 9 5h23a5 5 0 0 1 5 5 5 5 0 0 1-5 5"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#6UePMxUM-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#f4900c" d="M11 1a1 1 0 0 0-.89 1.457L17.077 16H5a1 1 0 0 0-.654 1.757l22 19a1 1 0 0 0 1.544-1.215L20.925 22H33a1 1 0 0 0 .653-1.757l-22-19A1 1 0 0 0 11 1"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><path fill="#F4900C" d="M39.349 43.599c1.457 1.457 3.776 1.526 5.15.15 1.376-1.374 1.307-3.693-.15-5.15L17.15 11.4c-1.456-1.456-3.775-1.525-5.15-.15s-1.306 3.694.151 5.151L39.35 43.6z"/><path fill="#66757F" d="M29.5 5S22 1.25 15.75 7.5L7 16.25s-1.25-1.25-2.5 0L3.25 17.5S2 18.75 3.25 20l5 5s1.25 1.25 2.5 0L12 23.75s1.25-1.25 0-2.5l-.098-.098c.963-.928 2.404-1.875 3.848-1.152l5-5S19.5 11.25 22 8.75s3.75-2.5 6.25-2.5S29.5 5 29.5 5"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#F549ruZz-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffd983" d="M30 25.94c0-6.44-5-7.44-5-13.44 0-3.098-3.123-3.36-5.5-3.36-2.053 0-6.586.78-6.586 3.362 0 6-4.914 7-4.914 13.438 0 6.03 5.285 10.92 11.083 10.92 5.8 0 10.917-4.89 10.917-10.92"/><path fill="#ccd6dd" d="M23.167 4.5c0-.828-2.234-2.5-4.167-2.5-1.933 0-4.166 1.672-4.166 2.5 0 .828 2.233.5 4.166.5 1.933 0 4.167.328 4.167-.5"/><path fill="#ffcc4d" d="M23.707 26.707a1 1 0 0 1-1.414 0L19 23.414l-3.293 3.293a1 1 0 0 1-1.414-1.414L18 21.586V11a1 1 0 0 1 2 0v10.586l3.707 3.707a1 1 0 0 1 0 1.414"/><path fill="#99aab5" d="M25 6a2 2 0 0 0-2-2h-8a2 2 0 0 0-2 2v6h12V6z"/><path fill="#ccd6dd" d="M13 5a1 1 0 0 0-.165 1.986l12 2a.994.994 0 0 0 1.15-.822 1 1 0 0 0-.82-1.15l-12-2A.946.946 0 0 0 13 5m0 4a1 1 0 0 0-.165 1.986l12 2a.995.995 0 0 0 1.15-.822 1 1 0 0 0-.82-1.15l-12-2A.946.946 0 0 0 13 9"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#HdCD09yJ-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#292f33" d="M37 10a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v18a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V10z"/><path fill="#ccd6dd" d="M12 13c0-2.21-.79-3-3-3H5c-2.21 0-3 .79-3 3v12c0 2.21.79 3 3 3h4c2.21 0 3-.79 3-3V13zm12 0c0-2.21-.79-3-3-3h-4c-2.21 0-3 .79-3 3v12c0 2.21.79 3 3 3h4c2.21 0 3-.79 3-3V13zm12 0c0-2.21-.79-3-3-3h-4c-2.21 0-3 .79-3 3v12c0 2.21.79 3 3 3h4c2.21 0 3-.79 3-3V13z"/><path fill="#e1e8ed" d="M12 14H2v10h10V14zm12 0H14v10h10V14zm12 0H26v10h10V14z"/><path fill="#be1931" d="M31.795 21.315H28.98c-.595 0-.815.385-.815.76 0 .384.21.758.814.758h3.98c.56 0 .79-.506.79-.792 0-.22-.12-.45-.26-.72l-2.73-5.54c-.31-.61-.43-.83-.93-.83-.61 0-.91.47-.91.78 0 .14.03.23.11.39l2.75 5.22zm-12 0H16.98c-.595 0-.815.385-.815.76 0 .384.21.758.814.758h3.98c.56 0 .79-.506.79-.792 0-.22-.12-.45-.25-.72l-2.73-5.54c-.31-.61-.43-.83-.93-.83-.61 0-.92.47-.92.78 0 .14.03.23.11.39l2.75 5.22zm-12 0H4.98c-.595 0-.815.385-.815.76 0 .384.21.758.814.758h3.98c.56 0 .79-.506.79-.792 0-.22-.12-.45-.25-.72l-2.73-5.55c-.31-.61-.43-.83-.93-.83-.61 0-.92.47-.92.78 0 .14.03.23.11.39l2.75 5.22z"/><path fill="#9266cc" d="M4.06 28a2.08 2.08 0 0 1-.06-.5C4 26.12 5.344 25 7 25c1.657 0 3 1.12 3 2.5 0 .17-.02.338-.06.5H4.06zm12 0a2.08 2.08 0 0 1-.06-.5c0-1.38 1.344-2.5 3-2.5 1.657 0 3 1.12 3 2.5 0 .17-.02.338-.06.5h-5.88zm12 0a2.193 2.193 0 0 1-.06-.5c0-1.38 1.344-2.5 3-2.5 1.657 0 3 1.12 3 2.5 0 .17-.022.338-.06.5h-5.88z"/><path fill="#f4900c" d="M9.816 10c.11.157.184.324.184.5 0 .828-1.344 1.5-3 1.5-1.657 0-3-.672-3-1.5 0-.176.072-.343.183-.5h5.633zm12 0c.11.157.184.324.184.5 0 .828-1.344 1.5-3 1.5-1.657 0-3-.672-3-1.5 0-.176.072-.343.183-.5h5.633zm12 0c.11.157.184.324.184.5 0 .828-1.344 1.5-3 1.5-1.657 0-3-.672-3-1.5 0-.176.072-.343.183-.5h5.633z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#pPTRz2xz-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ccd6dd" d="M37 19c0-9.94-8.06-18-18-18S1 9.06 1 19s8.06 18 18 18 18-8.06 18-18"/><path fill="#3b88c3" d="M33 19c0-7.732-6.268-14-14-14S5 11.268 5 19s6.268 14 14 14 14-6.268 14-14"/><path fill="#dd2e44" d="M29 19c0-5.522-4.478-10-10-10-5.523 0-10 4.478-10 10 0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10"/><path fill="#ffac33" d="M25 19a6 6 0 1 0-12.002.002A6 6 0 0 0 25 19"/><path d="M35.864 7.8c-.42-.305-1.257-.59-1.934-.59-1.964 0-4.654.716-6.334 2.385l-2.954 3.872c-.274.275-.357.575-.21.932.148.35-.73.6-.342.6h5.057c1.867 0 4.308-1.26 5.925-3.02l.37-.35c.774-.85 1.184-1.63 1.183-2.39 0-.62-.27-1.09-.76-1.45"/><path d="M29.305 1.796c-.77 0-1.632.417-2.49 1.204l-.49.378C24.535 5.024 23 7.508 23 9.41v5.164c0 .396.5-.513.866-.363.363.15.915.07 1.195-.21l3.17-3.12c1.7-1.71 3.06-4.62 3.06-6.62 0-.69-.14-1.25-.45-1.68a1.838 1.838 0 0 0-1.53-.77"/><path fill="#c1694f" d="M32.345 5.036c-.256 0-.487.122-.683.317l-14 14a1 1 0 0 0 1.414 1.414l14-14c.39-.39.378-1.036-.012-1.426a1.036 1.036 0 0 0-.72-.3"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#s4zskZS3-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#a0041e" d="M2 20l8 7 16-1 1-16-7-8s0 6-6 12-12 6-12 6"/><path fill="#ffac33" d="M1.973 2s-.036 7.98 2.985 11C7.978 16.02 16 15.813 16 15.813S16 8 13 5C10 2 1.972 2 1.972 2"/><path fill="#ffcc4d" d="M6 10a4 4 0 1 0 8 0 4 4 0 0 0-8 0"/><path fill="#55acee" d="M37 37s-10 0-22-10c-6-5-6-14-4-16s11-2 16 4c10 12 10 22 10 22"/><path d="M28 32a3.996 3.996 0 0 1-3.642-2.36 3.97 3.97 0 0 0 1.64.36 4 4 0 0 0 4-4c0-.585-.132-1.138-.358-1.64A3.995 3.995 0 0 1 28 32"/><path fill="#a0041e" d="M9 9s0 4 1 5 13 11 14 10-9-13-10-14-5-1-5-1"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><g fill="none"><path d="M0 48h48V0H0z"/><path fill="#A0041E" d="M24.5 2.25l8.75 10-1.25 20-20 1.25-10-8.75s7.499 0 15-7.5 7.5-15 7.5-15"/><path fill="#FFAC33" d="M2 2.216s9.974-.045 13.75 3.731 3.516 13.803 3.516 13.803S9.5 19.748 5.75 15.998 2 2.216 2 2.216"/><path fill="#FFCC4D" d="M12 7.249a5 5 0 1 1 0 10 5 5 0 0 1 0-10"/><path fill="#55ACEE" d="M45.75 45.999s0-12.5-12.5-27.5c-6.25-7.5-17.5-7.5-20-5s-2.5 13.75 5 20c15 12.5 27.5 12.5 27.5 12.5"/><path fill="#000" d="M39.5 34.749a4.995 4.995 0 0 0-2.95-4.552A4.96 4.96 0 0 1 37 32.25a5 5 0 0 1-5 5 4.97 4.97 0 0 1-2.05-.449 4.993 4.993 0 0 0 9.55-2.051"/><path fill="#A0041E" d="M10.75 11s5 0 6.25 1.25 13.749 16.251 12.5 17.5C28.251 30.999 13.25 18.499 12 17.249S10.75 11 10.75 11"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#qmQPDGRi-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#292f33" d="M37 14a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14z"/><path fill="#e1e8ed" d="M13 28H4v8h9v-8zm8-8h-8v8h8v-8zm8 8h-8v8h8v-8zM13 12H5v8h8v-8zm16 0h-8v8h8v-8zm8 8h-8v8h8v-8z"/><path fill="#553788" d="M5 3a2 2 0 0 0-4 0v32a2 2 0 0 0 4 0V3z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ffcc4d" d="M21 30.959a2.012 2.012 0 0 0-2-2.015c-1.097 0-2 .902-2 2.014v4.026c0 1.113.903 2.015 2 2.015s2-.9 2-2.013v-4.03z"/><path fill="#ffac33" d="M10.18 1c-.224 0-.452.052-.666.16a1.522 1.522 0 0 0-.666 2.027l8.94 18.126c.253.512.768.835 1.333.835.566 0 1.08-.323 1.333-.835l8.942-18.126a1.522 1.522 0 0 0-.666-2.028 1.482 1.482 0 0 0-2 .675L19.12 17.26 11.514 1.835A1.486 1.486 0 0 0 10.18 1"/><path fill="#58595b" d="M19.12 16.608a.985.985 0 0 0-.7.295L4.51 31.003a1.017 1.017 0 0 0 0 1.423.983.983 0 0 0 1.404 0L19.12 19.04l13.204 13.386a.985.985 0 0 0 1.405 0 1.017 1.017 0 0 0 0-1.424l-13.906-14.1a.988.988 0 0 0-.703-.294"/><path fill="#dd2e44" d="M35.015 17.615c0-8.898-7.115-16.11-15.894-16.11-8.776 0-15.892 7.212-15.892 16.11 0 8.9 7.116 16.113 15.893 16.113 8.78 0 15.895-7.213 15.895-16.113"/><path fill="#e6e7e8" d="M31.04 17.615c0-6.674-5.334-12.084-11.92-12.084-6.582 0-11.918 5.41-11.918 12.085 0 6.675 5.336 12.085 11.92 12.085s11.92-5.41 11.92-12.085"/><path fill="#ffcc4d" d="M31.04 35.743a5.9 5.9 0 0 1-4.214-1.77l8.43-8.544A6.066 6.066 0 0 1 37 29.7c0 3.337-2.67 6.043-5.96 6.043M6.96 35.743a5.9 5.9 0 0 0 4.214-1.77l-8.43-8.544A6.07 6.07 0 0 0 1 29.7c0 3.337 2.668 6.043 5.96 6.043"/><path fill="#414042" d="M24 17h-5a1 1 0 0 0-1 1v9a1 1 0 0 0 2 0v-8h4a1 1 0 0 0 0-2"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 18"><g fill="none" fill-rule="evenodd"><g fill="#9D9E9E" transform="translate(1)"><circle cx="7.5" cy="7.5" r="7.5"/><path d="M0 8h15v7H0z"/></g><path fill="#D5AD42" d="M1 15h15v3H1z"/><g stroke="#FFB701" stroke-width=".75"><path d="M1.022 18c-.35-4 3.67-3.89 2.873-.326M4.022 18c-.35-4 3.67-3.89 2.873-.326M7.022 18c-.35-4 3.67-3.89 2.873-.326M10.022 18c-.35-4 3.67-3.89 2.873-.326M13.022 18c-.35-4 3.67-3.89 2.873-.326"/></g><path fill="#000" d="M3.04 12V5.558h2.246c.574 0 .985.057 1.23.173.247.117.45.318.607.603.158.286.237.628.237 1.026 0 .503-.12.91-.362 1.217-.242.307-.585.5-1.03.58.228.164.417.343.566.538.15.195.353.544.61 1.048L7.788 12h-1.27l-.774-1.402c-.278-.507-.467-.824-.567-.95a.836.836 0 0 0-.316-.265c-.11-.048-.29-.072-.536-.072h-.22V12H3.04zm1.064-3.718h.79c.484 0 .792-.02.924-.063a.59.59 0 0 0 .32-.26c.083-.127.124-.3.124-.513 0-.205-.04-.37-.123-.494a.627.627 0 0 0-.335-.257c-.1-.032-.388-.05-.866-.05h-.836v1.636zM8.332 12V5.558h1.063V12H8.332zm2.083 0V5.558h1.713c.64 0 1.057.03 1.253.092.314.1.573.312.776.637.204.325.306.744.306 1.257 0 .466-.088.856-.264 1.17-.176.316-.395.537-.66.665-.263.126-.717.19-1.36.19h-.7V12h-1.063zm1.063-5.353v1.83h.59c.394 0 .663-.03.805-.085a.72.72 0 0 0 .35-.3.987.987 0 0 0 .136-.535.983.983 0 0 0-.142-.54.694.694 0 0 0-.347-.295c-.137-.05-.428-.075-.873-.075h-.52z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#m4ZhRc2F-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#e1e8ed" d="M37 26a2 2 0 0 1-4 0s-.01-3.285-3-3.894V25c0 6.075-4.925 11-11 11S8 31.075 8 25v-3.237C2.778 20.193 1 13.77 1 10a2 2 0 0 1 4 0s.002 3.54 3.336 3.958C8.838 9.118 9.954 4 12 4h1c4 0 3-2 7-2s3 2 6 2 2.395-2 6-2a3 3 0 0 1 3 3c0 .675-2.274 4.994-3.755 9.268C36.98 15.652 37 22.42 37 26"/><path fill="#292f33" d="M16 25a2 2 0 1 0-4 0 2 2 0 0 0 4 0m12 0a4 4 0 1 0-8 0 4 4 0 0 0 8 0"/><path fill="#9aaab4" d="M26 24a2 2 0 1 0-4 0 2 2 0 0 0 4 0"/><path fill="#292f33" d="M23.192 17.51c2.65-1.988 3.59-5.212 2.1-7.2-1.492-1.99-4.85-1.99-7.5 0-2.65 1.987-3.59 5.21-2.1 7.2 1.49 1.988 4.85 1.987 7.5 0"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#IMmJKrgi-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#3b88c3" d="M37 5a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V5z"/><path fill="#fff" d="M3.28 25.438c0 1.05.673 1.638 1.576 1.638s1.574-.59 1.574-1.64V18.11c0-1.932 1.24-3.464 3.234-3.464 1.91 0 3.212 1.615 3.212 3.463v7.32c0 1.05.672 1.64 1.575 1.64.91 0 1.58-.59 1.58-1.64v-7.49c0-3.53-2.9-6.2-6.36-6.2-3.5 0-6.38 2.62-6.38 6.19v7.5zm17.66-5.71h2.143c1.323 0 2.163.965 2.163 2.225s-.84 2.225-2.163 2.225H20.94v-4.45zm-3.148 5.584c0 .987.587 1.638 1.637 1.638h3.71c3.08 0 5.37-2.016 5.37-5.018 0-3.066-2.38-4.976-5.25-4.976h-2.33v-3.444c0-1.05-.67-1.638-1.58-1.638-.905 0-1.576.588-1.576 1.638v11.8zm12.726.46c0 .883.65 1.43 1.512 1.43.84 0 1.51-.567 1.51-1.428V17.69c0-.86-.67-1.43-1.51-1.43-.862 0-1.512.548-1.512 1.43v8.083zm-.127-12.387a1.638 1.638 0 1 0 1.64-1.637 1.64 1.64 0 0 0-1.64 1.637"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#yrhZKNLT-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#3b88c3" d="M37 5a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V5z"/><path fill="#fff" d="M6.97 24.142c1.022 0 3.012-.336 3.012-1.57 0-.503-.35-.938-.87-.938-.573 0-.965.49-2.142.49-1.737 0-2.633-1.47-2.633-3.18 0-1.666.91-3.095 2.633-3.095 1.177 0 1.653.58 2.227.58.63 0 .925-.63.925-.96 0-1.35-2.115-1.66-3.152-1.66-2.843 0-4.818 2.25-4.818 5.15 0 2.912 1.96 5.153 4.818 5.153"/><path fill="#fff" d="M17.317 18.986c0 1.695-.882 3.222-2.633 3.222-1.75 0-2.634-1.527-2.634-3.222 0-1.71.855-3.222 2.634-3.222 1.78 0 2.633 1.513 2.633 3.222m-7.452 0c0 2.914 1.96 5.155 4.82 5.155 2.814 0 4.818-2.31 4.818-5.15 0-2.9-1.948-5.15-4.82-5.15-2.843 0-4.818 2.26-4.818 5.16m17.56 0c0 1.7-.882 3.22-2.634 3.22-1.75 0-2.63-1.52-2.63-3.22 0-1.71.86-3.22 2.64-3.22 1.78 0 2.64 1.52 2.64 3.22m-7.45 0c0 2.92 1.96 5.16 4.82 5.16 2.82 0 4.82-2.31 4.82-5.15 0-2.9-1.94-5.15-4.82-5.15-2.84 0-4.81 2.255-4.81 5.154m10.218 3.97c0 .7.448 1.09 1.05 1.09.603 0 1.053-.392 1.053-1.092v-7.04h2.49c.714 0 1.02-.532 1.01-1.01A.983.983 0 0 0 34.8 14h-3.51c-.686 0-1.092.45-1.092 1.15v7.816z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#kLtw4NTy-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#3b88c3" d="M37 5a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V5z"/><path fill="#fff" d="M2.836 24.416c0 .738.504 1.404 1.405 1.404h4.61c.8 0 1.21-.612 1.21-1.242 0-.612-.39-1.243-1.2-1.243H5.54v-2.628h2.79c.865 0 1.297-.613 1.297-1.224 0-.63-.432-1.26-1.296-1.26H5.54v-3.926c0-.9-.578-1.405-1.35-1.405-.777 0-1.353.505-1.353 1.405v10.12zm10.694-4.268h1.853c.99 0 1.675.594 1.675 1.603 0 1.03-.684 1.59-1.675 1.59H13.53v-3.19zm-2.702 4.267c0 .864.486 1.404 1.387 1.404h3.168c2.773 0 4.484-1.25 4.484-4.07 0-1.98-1.495-3.12-3.33-3.41l3.06-3.28c.252-.27.36-.54.36-.8 0-.7-.558-1.39-1.35-1.39-.325 0-.757.126-1.045.47l-3.997 4.85h-.036v-3.9c0-.9-.58-1.406-1.36-1.406-.78 0-1.35.5-1.35 1.4v10.12zm9.65-.162c0 .9.45 1.566 1.403 1.566h4.47c.87 0 1.28-.62 1.28-1.25 0-.61-.43-1.24-1.28-1.24h-3.17V20.7h2.95c.89 0 1.32-.61 1.32-1.24 0-.61-.45-1.24-1.31-1.24h-2.95v-2.74h3.33c.87 0 1.28-.61 1.28-1.242 0-.61-.43-1.24-1.28-1.24h-4.65c-.79 0-1.38.54-1.38 1.35v9.903zm7.972 0c0 .9.45 1.566 1.405 1.566h4.465c.863 0 1.277-.62 1.277-1.25 0-.61-.43-1.24-1.277-1.24h-3.17V20.7h2.953c.883 0 1.315-.61 1.315-1.24 0-.61-.45-1.24-1.315-1.24H31.15v-2.74h3.332c.864 0 1.278-.61 1.278-1.242 0-.61-.432-1.24-1.278-1.24h-4.646c-.79 0-1.385.54-1.385 1.35v9.903z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#qHOa1ehF-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#dd2e44" d="M37 5a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V5z"/><path fill="#fff" d="M10.762 24.482c0-.78-.52-1.48-1.34-1.48-.82 0-1.46.6-2.66.6-.86 0-1.64-.46-1.64-1.3 0-2.06 6.68-.74 6.68-5.9 0-2.862-2.36-4.643-5.12-4.643-1.54 0-4.862.36-4.862 2.24 0 .78.52 1.42 1.34 1.42.94 0 2.06-.78 3.36-.78 1.322 0 2.042.74 2.042 1.72 0 2.36-6.682.94-6.682 5.58 0 2.8 2.3 4.54 4.962 4.54 1.12 0 3.92-.42 3.92-2m12-5.36c0 2.42-1.26 4.6-3.76 4.6s-3.76-2.18-3.76-4.6c0-2.44 1.22-4.6 3.76-4.6s3.76 2.16 3.76 4.6m-10.642 0c0 4.16 2.8 7.36 6.882 7.36 4.02 0 6.88-3.3 6.88-7.36 0-4.14-2.78-7.36-6.88-7.36-4.06 0-6.882 3.22-6.882 7.36m23.023 5.36c0-.78-.52-1.48-1.342-1.48-.82 0-1.45.6-2.66.6-.85 0-1.64-.46-1.64-1.3 0-2.06 6.69-.74 6.69-5.9 0-2.86-2.36-4.65-5.12-4.65-1.54 0-4.86.36-4.86 2.24 0 .78.52 1.42 1.34 1.42.94 0 2.067-.78 3.36-.78 1.32 0 2.047.74 2.047 1.72 0 2.36-6.682.94-6.682 5.58 0 2.8 2.3 4.54 4.96 4.54 1.124 0 3.925-.42 3.925-2"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#5UPNVIv0-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#bb1a34" d="M2.728 16c-.618 0-.954.256-1.128.47-.17.212-.348.586-.225 1.166l2.73 12.706-1.716-.097h-.02c-.52 0-.9.167-1.13.458-.22.272-.3.62-.22.98.15.702.88 1.286 1.66 1.33l4.01.227a3.3 3.3 0 0 0 .21.008c.15 0 .53 0 .78-.307.25-.31.16-.7.14-.83L4.71 17.55c-.19-.88-.92-1.49-1.867-1.54l-.12-.01zm14.157 15.746l-.137-.004c-1.94-.11-3.555-2.304-4.32-5.866-.477-2.228-.38-3.9.273-4.707.3-.37.72-.56 1.25-.56h.14c1.94.11 3.56 2.3 4.32 5.86.48 2.23.39 3.9-.27 4.7-.29.37-.72.55-1.25.55M13.47 18c-1.438 0-2.634.54-3.458 1.56-1.163 1.437-1.467 3.65-.878 6.395 1.032 4.812 4.208 8.187 7.902 8.395 1.59.09 2.906-.452 3.793-1.55 1.16-1.438 1.46-3.65.87-6.396-1.03-4.81-4.21-8.184-7.91-8.394a5.326 5.326 0 0 0-.33-.01m18.42 15.386l-.14-.004c-1.94-.11-3.56-2.304-4.32-5.865-.48-2.228-.38-3.9.27-4.708.29-.37.72-.56 1.25-.56h.14c1.94.11 3.55 2.3 4.32 5.86.48 2.22.38 3.9-.27 4.7-.3.37-.72.55-1.26.55m-3.41-13.74c-1.44 0-2.64.54-3.46 1.56-1.16 1.44-1.47 3.65-.88 6.39 1.04 4.81 4.21 8.185 7.91 8.393 1.6.09 2.9-.45 3.79-1.55 1.16-1.44 1.46-3.65.87-6.39-1.03-4.81-4.206-8.18-7.9-8.394a4.57 4.57 0 0 0-.33-.01M12 2a2 2 0 0 0-.702 3.873c.338.126 8.4 3.108 20.536 4.12a2 2 0 1 0 .333-3.986c-11.59-.966-19.388-3.85-19.465-3.88A2.013 2.013 0 0 0 12 2M3.002 8a1.998 1.998 0 0 0-.72 3.866c.542.21 13.515 5.126 32.613 6.13a1.987 1.987 0 0 0 2.102-1.89 2 2 0 0 0-1.892-2.103c-18.422-.97-31.26-5.82-31.388-5.87A1.997 1.997 0 0 0 3 8"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#PNr7Pr5E-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#be1931" d="M37 19c0-9.94-8.06-18-18-18S1 9.06 1 19s8.06 18 18 18 18-8.06 18-18"/><path fill="#fff" d="M33 17a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2v-4z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#7OWTuz3p-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#ccd6dd" d="M5 33a4 4 0 0 1-4-4V11a4 4 0 0 1 4-4h28a4 4 0 0 1 4 4v18s0 4-4 4H5z"/><path fill="#67757f" d="M37 21.937H1V28h36v-6.063z"/><path fill="#f5f8fa" d="M33 12H5v8h28v-8z"/><path fill="#9aaab4" d="M7 13a1 1 0 0 0-.894 1.447C6.198 14.633 8.422 19 12 19c.815 0 1.256-.356 1.482-.655.586-.772.3-1.795.046-2.7-.048-.17-.114-.406-.16-.61.816.13 1.672.633 2.44 1.083.842.492 1.506.882 2.192.882 1.456 0 1.81-1.204 1.96-1.72a5.2 5.2 0 0 1 .087-.276c.756.033 1.614.507 2.522 1.008 2.19 1.207 5.18 2.86 9.05-.23a1 1 0 0 0-1.25-1.563c-2.82 2.26-4.69 1.23-6.84.04C22.41 13.64 21.25 13 20 13c-1.456 0-1.81 1.204-1.96 1.72-.023.078-.053.18-.082.26-.262-.074-.762-.368-1.14-.588C15.76 13.772 14.444 13 13 13c-.74 0-1.15.333-1.36.612-.555.73-.292 1.668-.038 2.575.063.223.154.547.2.792-2.256-.25-3.89-3.4-3.907-3.43A1 1 0 0 0 7 13"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#gO11KV3v-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#3b88c3" d="M37 5a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V5z"/><path fill="#fff" d="M2.527 23.88c0 .85.544 1.325 1.275 1.325.323 0 .85-.255 1.07-.56l5.39-7.192h.033v6.426c0 .85.544 1.32 1.275 1.32.73 0 1.275-.48 1.275-1.33v-9.65c0-.85-.544-1.33-1.275-1.33-.323 0-.833.25-1.07.56l-5.39 7.11h-.033v-6.34c0-.85-.544-1.33-1.275-1.33-.73 0-1.275.47-1.275 1.32v9.65zm11.067-.256c0 .85.425 1.48 1.326 1.48h4.215c.816 0 1.207-.58 1.207-1.174 0-.578-.408-1.173-1.207-1.173h-2.992v-2.482h2.788c.84 0 1.25-.578 1.25-1.172 0-.58-.42-1.173-1.24-1.173h-2.79v-2.584h3.15c.82 0 1.21-.578 1.21-1.173 0-.578-.41-1.173-1.21-1.173h-4.39c-.75 0-1.31.51-1.31 1.274v9.35zm7.31-.12c-.05.22-.068.34-.068.58 0 .543.46 1.12 1.207 1.12.816 0 1.207-.475 1.36-1.223l1.444-7.22h.035l2.21 7.45c.187.61.697 1.01 1.326 1.01.63 0 1.138-.39 1.326-1l2.21-7.44h.032L33.43 24c.16.75.55 1.222 1.36 1.222.75 0 1.21-.58 1.21-1.122a2.04 2.04 0 0 0-.07-.58l-2.15-9.28c-.17-.715-.73-1.326-1.68-1.326a1.73 1.73 0 0 0-1.68 1.24l-1.97 6.56h-.04l-1.97-6.56a1.733 1.733 0 0 0-1.682-1.24c-.952 0-1.514.61-1.684 1.325l-2.16 9.28z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.5 47.5"><g clip-path="url(#3IzCEahj-a)" transform="matrix(1.25 0 0 -1.25 0 47.5)"><path fill="#3b88c3" d="M37 5a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V5z"/><path fill="#fff" d="M15.702 19.545c0 2.904-1.512 5.52-4.513 5.52-3 0-4.52-2.616-4.52-5.52 0-2.93 1.46-5.52 4.51-5.52s4.51 2.59 4.51 5.52m-12.77 0c0 4.992 3.36 8.833 8.25 8.833 4.825 0 8.257-3.96 8.257-8.833 0-4.97-3.337-8.833-8.258-8.833-4.876 0-8.26 3.864-8.26 8.833m18.002 6.912c0 .984.72 1.776 1.8 1.776 1.032 0 1.8-.672 1.8-1.776v-5.185l5.906 6.29c.264.288.72.672 1.39.672.913 0 1.78-.696 1.78-1.728 0-.624-.386-1.128-1.177-1.92l-4.53-4.466 5.546-5.783c.576-.576 1.01-1.103 1.01-1.824 0-1.126-.89-1.653-1.875-1.653-.69 0-1.15.406-1.82 1.127l-6.212 6.72v-6.12c0-.937-.72-1.73-1.8-1.73-1.03.002-1.8.674-1.8 1.73V26.46z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18"><g fill="none" fill-rule="evenodd"><ellipse fill="#FFC84A" cx="9" cy="9" rx="9" ry="9"/><text fill="#FFF" font-family="Trebuchet MS" font-size="11"><tspan x="6" y="13">1</tspan></text></g></svg>'},function(t,e,i){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function n(t){throw new RangeError(b[t])}function r(t,e){for(var i=[],o=t.length;o--;)i[o]=e(t[o]);return i}function s(t,e){var i,o,n=t.split("@"),s="";return n.length>1&&(s=n[0]+"@",t=n[1]),t=t.replace(y,"."),i=t.split("."),o=r(i,e).join("."),s+o}function a(t){for(var e,i,o=[],n=0,r=t.length;n<r;)e=t.charCodeAt(n++),e>=55296&&e<=56319&&n<r?(i=t.charCodeAt(n++),56320==(64512&i)?o.push(((1023&e)<<10)+(1023&i)+65536):(o.push(e),n--)):o.push(e);return o}
var l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R;Object.defineProperty(e,"__esModule",{value:!0}),l=2147483647,c=36,h=1,d=26,u=38,p=700,f=72,_=128,g="-",m=/^xn--/,v=/[^\0-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-h,S=Math.floor,T=String.fromCharCode,x=function(t){return String.fromCodePoint.apply(String,o(t))},P=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c},C=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},M=function(t,e,i){var o=0;for(t=i?S(t/p):t>>1,t+=S(t/e);t>w*d>>1;o+=c)t=S(t/w);return S(o+(w+1)*t/(t+u))},k=function(t){var e,i,o,r,s,a,u,p,m,v=[],y=t.length,b=0,w=_,T=f,x=t.lastIndexOf(g);for(x<0&&(x=0),e=0;e<x;++e)t.charCodeAt(e)>=128&&n("not-basic"),v.push(t.charCodeAt(e));for(i=x>0?x+1:0;i<y;){for(o=b,r=1,s=c;i>=y&&n("invalid-input"),a=P(t.charCodeAt(i++)),(a>=c||a>S((l-b)/r))&&n("overflow"),b+=a*r,u=s<=T?h:s>=T+d?d:s-T,!(a<u);s+=c)p=c-u,r>S(l/p)&&n("overflow"),r*=p;m=v.length+1,T=M(b-o,m,0==o),S(b/m)>l-w&&n("overflow"),w+=S(b/m),b%=m,v.splice(b++,0,w)}return String.fromCodePoint.apply(String,v)},L=function(t){var e,i,o,r,s,u,p,m,v,y,b,w,x,P,k,L,I,A,R,D,E,O,V,$,B,z,F,N,H,W,U,j=[];t=a(t),e=t.length,i=_,o=0,r=f,s=!0,u=!1,p=void 0;try{for(m=t[Symbol.iterator]();!(s=(v=m.next()).done);s=!0)(y=v.value)<128&&j.push(T(y))}catch(t){u=!0,p=t}finally{try{!s&&m.return&&m.return()}finally{if(u)throw p}}for(b=j.length,w=b,b&&j.push(g);w<e;){x=l,P=!0,k=!1,L=void 0;try{for(I=t[Symbol.iterator]();!(P=(A=I.next()).done);P=!0)(R=A.value)>=i&&R<x&&(x=R)}catch(t){k=!0,L=t}finally{try{!P&&I.return&&I.return()}finally{if(k)throw L}}D=w+1,x-i>S((l-o)/D)&&n("overflow"),o+=(x-i)*D,i=x,E=!0,O=!1,V=void 0;try{for($=t[Symbol.iterator]();!(E=(B=$.next()).done);E=!0)if(z=B.value,z<i&&++o>l&&n("overflow"),z==i){for(F=o,N=c;H=N<=r?h:N>=r+d?d:N-r,!(F<H);N+=c)W=F-H,U=c-H,j.push(T(C(H+W%U,0))),F=S(W/U);j.push(T(C(F,0))),r=M(o,D,w==b),o=0,++w}}catch(t){O=!0,V=t}finally{try{!E&&$.return&&$.return()}finally{if(O)throw V}}++o,++i}return j.join("")},I=function(t){return s(t,function(t){return m.test(t)?k(t.slice(4).toLowerCase()):t})},A=function(t){return s(t,function(t){return v.test(t)?"xn--"+L(t):t})},R={version:"2.1.0",ucs2:{decode:a,encode:x},decode:k,encode:L,toASCII:A,toUnicode:I},e.default=R,t.exports=e.default},function(t,e,i){"use strict";function o(t){for(var e=0;e<r.length;e++)if(t>=r[e].range[0]&&t<=r[e].range[1])return r[e].category;return"Supplementary"}function n(t){var e,i,n=!1;for(e=0;e<t.length;e++)if(i=t.codePointAt(e),n){if(n!==o(i))return"Mixed"}else n=o(i);return n}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1633);e.detectUnicodePointBlock=o,e.detectUnicodeBlock=n},function(t,e){t.exports=[{category:"Basic Latin",range:[32,127]},{category:"Greek and Coptic",range:[880,1023]},{category:"Cyrillic",range:[1024,1279]},{category:"Armenian",range:[1328,1423]},{category:"Hebrew",range:[1424,1535]},{category:"Arabic",range:[1536,1791]},{
category:"Syriac",range:[1792,1871]},{category:"Thaana",range:[1920,1983]},{category:"NKo",range:[1984,2047]},{category:"Samaritan",range:[2048,2111]},{category:"Mandaic",range:[2112,2143]},{category:"Devanagari",range:[2304,2431]},{category:"Bengali",range:[2432,2559]},{category:"Gurmukhi",range:[2560,2687]},{category:"Gujarati",range:[2688,2815]},{category:"Oriya",range:[2816,2943]},{category:"Tamil",range:[2944,3071]},{category:"Telugu",range:[3072,3199]},{category:"Kannada",range:[3200,3327]},{category:"Malayalam",range:[3328,3455]},{category:"Sinhala",range:[3456,3583]},{category:"Thai",range:[3584,3711]},{category:"Lao",range:[3712,3839]},{category:"Tibetan",range:[3840,4095]},{category:"Myanmar",range:[4096,4255]},{category:"Georgian",range:[4256,4351]},{category:"Hangul Jamo",range:[4352,4607]},{category:"Ethiopic",range:[4608,4991]},{category:"Ogham",range:[5760,5791]},{category:"Runic",range:[5792,5887]},{category:"Tagalog",range:[5888,5919]},{category:"Hanunoo",range:[5920,5951]},{category:"Buhid",range:[5952,5983]},{category:"Tagbanwa",range:[5984,6015]},{category:"Khmer",range:[6016,6143]},{category:"Mongolian",range:[6144,6319]},{category:"Limbu",range:[6400,6479]},{category:"Tai Le",range:[6480,6527]},{category:"New Tai Lue",range:[6528,6623]},{category:"Buginese",range:[6656,6687]},{category:"Tai Tham",range:[6688,6831]},{category:"Balinese",range:[6912,7039]},{category:"Sundanese",range:[7040,7103]},{category:"Batak",range:[7104,7167]},{category:"Lepcha",range:[7168,7247]},{category:"Dingbats",range:[9984,10175]},{category:"Coptic",range:[11392,11519]},{category:"Tifinagh",range:[11568,11647]},{category:"Hiragana",range:[12352,12447]},{category:"Katakana",range:[12448,12543]},{category:"Bopomofo",range:[12544,12591]},{category:"Hangul Compatibility Jamo",range:[12592,12687]},{category:"Kanbun",range:[12688,12703]},{category:"Yi Syllables",range:[40960,42127]},{category:"Yi Radicals",range:[42128,42191]},{category:"Lisu",range:[42192,42239]},{category:"Vai",range:[42240,42559]},{category:"Bamum",range:[42656,42751]},{category:"Syloti Nagri",range:[43008,43055]},{category:"Phags-pa",range:[43072,43135]},{category:"Saurashtra",range:[43136,43231]},{category:"Rejang",range:[43312,43359]},{category:"Javanese",range:[43392,43487]},{category:"Cham",range:[43520,43615]},{category:"Tai Viet",range:[43648,43743]},{category:"Meetei Mayek Extensions",range:[43744,43775]},{category:"Meetei Mayek",range:[43968,44031]},{category:"Hangul Syllables",range:[44032,55215]},{category:"Lycian",range:[66176,66207]},{category:"Carian",range:[66208,66271]},{category:"Ugaritic",range:[66432,66463]},{category:"Shavian",range:[66640,66687]},{category:"Osmanya",range:[66688,66735]},{category:"Elbasan",range:[66816,66863]},{category:"Caucasian Albanian",range:[66864,66927]},{category:"Cypriot Syllabary",range:[67584,67647]},{category:"Palmyrene",range:[67680,67711]},{category:"Nabataean",range:[67712,67759]},{category:"Hatran",range:[67808,67839]},{category:"Lydian",range:[67872,67903]},{category:"Kharoshthi",range:[68096,68191]
},{category:"Manichaean",range:[68288,68351]},{category:"Avestan",range:[68352,68415]},{category:"Psalter Pahlavi",range:[68480,68527]},{category:"Brahmi",range:[69632,69759]},{category:"Kaithi",range:[69760,69839]},{category:"Sora Sompeng",range:[69840,69887]},{category:"Chakma",range:[69888,69967]},{category:"Mahajani",range:[69968,70015]},{category:"Sharada",range:[70016,70111]},{category:"Khojki",range:[70144,70223]},{category:"Multani",range:[70272,70319]},{category:"Khudawadi",range:[70320,70399]},{category:"Grantha",range:[70400,70527]},{category:"Tirhuta",range:[70784,70879]},{category:"Siddham",range:[71040,71167]},{category:"Modi",range:[71168,71263]},{category:"Takri",range:[71296,71375]},{category:"Ahom",range:[71424,71487]},{category:"Pau Cin Hau",range:[72384,72447]},{category:"Cuneiform",range:[73728,74751]},{category:"Mro",range:[92736,92783]},{category:"Bassa Vah",range:[92880,92927]},{category:"Pahawh Hmong",range:[92928,93071]},{category:"Miao",range:[93952,94111]},{category:"Duployan",range:[113664,113823]}]},function(t,e){!function(){function e(t,e,r){var s,a,l,c,h,d,u;if(!o)throw Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");return s=r&&r.debug||!1,s&&(a=document.querySelector("#input-textarea-caret-position-mirror-div"))&&a.parentNode.removeChild(a),l=document.createElement("div"),l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l),c=l.style,h=window.getComputedStyle?getComputedStyle(t):t.currentStyle,c.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),i.forEach(function(t){c[t]=h[t]}),n?t.scrollHeight>parseInt(h.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=t.value.substring(0,e),"INPUT"===t.nodeName&&(l.textContent=l.textContent.replace(/\s/g,"")),d=document.createElement("span"),d.textContent=t.value.substring(e)||".",l.appendChild(d),u={top:d.offsetTop+parseInt(h.borderTopWidth),left:d.offsetLeft+parseInt(h.borderLeftWidth)},s?d.style.backgroundColor="#aaa":document.body.removeChild(l),u}var i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o="undefined"!=typeof window,n=o&&null!=window.mozInnerScreenX;void 0!==t&&void 0!==t.exports?t.exports=e:o&&(window.getCaretCoordinates=e)}()},function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 24" width="32px" height="24px"><path d="M32 24V0L20 12v12zm-20 0V0L0 12v12z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12px" height="12px"><path d="M10.37.6c-.43.053-.97.13-1.55.13C7.918.73 7.1.52 6.273.35 5.433.175 4.566 0 3.648 0 1.816 0 1.195.38 1.133.42L1 .51V12h.625V6.626c.234-.094.85-.26 2.027-.26.852.002 1.65.313 2.496.49.86.175 1.75.36 2.715.36.574 0 1.082-.076 1.512-.125.234-.023.44-.05.625-.08V.506c-.184.035-.395.065-.63.095z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.888672 15.336914" width="14.889" height="15.337" enable-background="new 0 0 32 32"><path d="M14.062 7.54q0 1.085-.32 2.1-.313 1.017-.9 1.853H9.406l-.21-.907q-.58.47-1.11.72-.53.25-1.22.25-1.31 0-2.1-.993-.782-.992-.782-2.773 0-1.774.96-2.83.962-1.053 2.298-1.053.572 0 1.01.133.437.125.944.382v-.375h1.243v6.578h1.89q.33-.585.49-1.46.17-.883.17-1.58 0-1.28-.36-2.327-.35-1.047-1.04-1.797-.686-.75-1.7-1.14-1.014-.41-2.3-.41-1.25 0-2.29.457-1.03.454-1.775 1.22-.75.765-1.18 1.836-.42 1.06-.42 2.265 0 1.29.402 2.36.404 1.063 1.146 1.82.775.79 1.814 1.188 1.04.41 2.267.41.67 0 1.383-.085.72-.086 1.376-.274v1.11q-.76.163-1.416.217-.656.06-1.35.06-1.454 0-2.697-.5-1.242-.49-2.132-1.38-.9-.898-1.4-2.156-.5-1.26-.5-2.78 0-1.448.526-2.69.525-1.25 1.43-2.164.908-.914 2.15-1.438 1.244-.53 2.66-.53 1.53 0 2.733.484 1.2.484 2.03 1.36.83.874 1.26 2.11.445 1.225.445 2.733zM9.18 9.532V5.485q-.493-.227-.884-.32-.39-.102-.836-.102-1.008 0-1.578.703-.57.703-.57 2 0 1.274.453 1.93.453.648 1.414.648.52 0 1.04-.242t.95-.57z" font-family="Arial-BoldMT" font-size="16"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 18" width="8" height="18"><path d="M3 8V4H-.5L4-.5 8.5 4H5v4zM3 10h2v4h3.5L4 18.5-.5 14H3z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586.09999 586.09996" width="586.1" height="586.1" enable-background="new 0 0 595.3 841.9"><path d="M0 586.1h117.2l351.7-351.7 117.2 117.3V0H234.4l117.3 117.2L0 468.9z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17px" height="17px"><circle cx="10" cy="6" r="3"/><path d="M10 10c-4.575 0-6 3.333-6 3.333V15h12v-1.667S14.575 10 10 10zM2 5v6h2V5zm4 2v2H0V7z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 11.5" width="20" height="16"><path d="M7.5 4.8c-1.1 0-1.9.9-1.9 1.9s.9 1.9 1.9 1.9c1.1 0 1.9-.9 1.9-1.9s-.9-1.9-1.9-1.9zM13 1.9h-2.2c0-1-.9-1.9-2-1.9H6.1C5 0 4.2.9 4.2 1.9H1.9c-1 0-1.9.9-1.9 2v5.7c0 1.1.9 1.9 1.9 1.9H13c1.1 0 1.9-.9 1.9-1.9V3.9c.1-1.1-.8-2-1.9-2zm-5.5 8.3C5.6 10.2 4 8.6 4 6.7s1.5-3.4 3.4-3.4 3.4 1.5 3.4 3.4c.1 1.9-1.4 3.5-3.3 3.5z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586.70002 595.19999" width="586.7" height="595.2" enable-background="new 0 0 595.3 841.9"><path d="M293.4 0C131.8 0 0 131.8 0 297.6s131.8 297.6 293.4 297.6 293.3-131.8 293.3-297.6S454.9 0 293.4 0zm68 182.8h85v93.5h-85v-93.5zm-212.6 0h85v93.5h-85v-93.5zm148.8 306.1c-136 0-187.1-106.3-187.1-106.3h378.4s-55.2 106.3-191.3 106.3z"/></svg>'},function(t,e,i){"use strict";(function(t){function o(e,i,o,r){var s=(0,n.createDialog)({type:"modal",width:500,title:e?$.t("Edit chat room"):$.t("Create New Public Chat"),content:t.render('\n\n\t\t\t\t<div class="tv-control-fieldset js-room-title-wrap">\n\t\t\t\t\t<label class="tv-control-fieldset__label tv-control-fieldset__label--color_dark tv-control-fieldset__label--width_small">\n\t\t\t\t\t\t'+$.t("Room title")+'*:\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class="tv-control-fieldset__value tv-control-fieldset__value--width_big">\n\t\t\t\t\t\t<input name="room-title" type="text" value="'+(e?TradingView.clean(e.title):"")+'" class="tv-control-fieldset__value-control tv-control-input" required>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="tv-control-fieldset js-room-purpose-wrap">\n\t\t\t\t\t<label class="tv-control-fieldset__label tv-control-fieldset__label--color_dark tv-control-fieldset__label--width_small">\n\t\t\t\t\t\t'+$.t("Room purpose")+'*:\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class="tv-control-fieldset__value tv-control-fieldset__value--width_big">\n\t\t\t\t\t\t<textarea name="room-desc" type="text" class="tv-control-fieldset__value-control tv-control-textarea" required>'+(e?TradingView.clean(e.description):"")+'</textarea>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="tv-control-fieldset tv-control-fieldset__hint" style="text-align: justify;">\n\t\t\t\t\t<p class="tv-control-fieldset__text">\n\t\t\t\t\t\t'+$.t("IMPORTANT: You are about to create a chat that will be visible to all users. Before you continue, please note these 5 requirements to avoid your chat getting deleted and -in severe cases- you getting banned:")+'\n\t\t\t\t\t</p>\n\t\t\t\t\t<ol class="tv-list tv-list--font-popup tv-list--numeric">\n\t\t\t\t\t\t<li>'+$.t("Provide a clear Search the existing chats and make sure you are not creating a duplicate")+"</li>\n\t\t\t\t\t\t<li>"+$.t("Title and Purpose that makes sense and is related to trading")+"</li>\n\t\t\t\t\t\t<li>"+$.t("Avoid contentious or offensive language when describing your chat")+"</li>\n\t\t\t\t\t\t<li>"+$.t("Use the correct language for the chat, it should align with the language version of TradingView")+"</li>\n\t\t\t\t\t\t<li>"+$.t("Chats should attract at least 5 users and 1 daily message continuously")+'</li>\n\t\t\t\t\t</ol>\n\t\t\t\t\t<p class="tv-control-fieldset__text">\n\t\t\t\t\t\t'+$.t('These are the minimal requirements for viable chats. For tips on how to create truly awesome ones, please read <a href="http://blog.tradingview.com/?p=2113" target="_blank">this article</a> carefully.')+"\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t"),destroyOnClose:!0,actions:[{
name:"ok",type:"success",text:$.t("Ok"),key:13},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close"}]}).on("action:ok",function(t){var n=function(e){if(e.error){t.$content.find('[name="'+e.input_name+'"]').tvControlError("add",{id:e.id,message:e.error}).tvControlError("render")}else t.close(),r(e)},s=a.val(),c=l.val(),h=!1;s.length||(a.tvControlError("add",{id:"room-title",message:$.t("Room title is required")}).tvControlError("render"),h=!0),c.length||(l.tvControlError("add",{id:"room-desc",message:$.t("Room purpose is required")}).tvControlError("render"),h=!0),h||(e?o(e.room_id,s,c,n):i(s,c,null,n))}).open(),a=s.$content.find('[name="room-title"]'),l=s.$content.find('[name="room-desc"]');a.tvControlError(),l.tvControlError(),a.on("input",function(){return a.tvControlError("remove",{id:"room-title"}).tvControlError("render")}),l.on("input",function(){return l.tvControlError("remove",{id:"room-desc"}).tvControlError("render")})}Object.defineProperty(e,"__esModule",{value:!0}),e.showDialog=o;var n=i(56);i(204)}).call(e,i(21))},function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12"><path d="M5 .7C3 .7 2 3 2 5c0 4 0 4-2 5h12c-2-1-2-1-2-5C10 3 9 .7 7 .7c0-.9-2-.9-2 0zM4 11c0 1 1 1 2 1s2 0 2-1z"/></svg>'},function(t,e,i){"use strict";function o(t){$('link[rel="shortcut icon"]').attr("href",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.setTabIcon=o;e.TAB_ICON_URLS={UNREAD_MESSAGES:"/static/images/favicon/unread_messages/favicon.ico",DEFAULT:"/favicon.ico"}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 34" width="34px" height="34px"><path d="M21.197 2.06c-7.07 0-12.8 5.83-12.8 13.027 0 7.14 5.644 12.934 12.638 13.024v5.545l8.747-8.902A13.208 13.208 0 0 0 34 15.03C34 7.832 28.267 2 21.197 2zM10.463 27.674v-1.58l-1.275-.017c-3.642-.046-6.606-3.1-6.606-6.806 0-3.052 1.986-5.643 4.71-6.504.16-.984.417-1.935.764-2.844C3.518 10.52 0 14.45 0 19.246c0 4.7 3.433 8.64 7.88 9.33V34l6.377-6.49a14.307 14.307 0 0 1-2.146-1.533l-1.643 1.674z"/></svg>'},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.importanceSwitcherValues={true:[1],false:[-1,0,1]}},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,s,a,l,c,h;Object.defineProperty(e,"__esModule",{value:!0}),e.HotlistsManager=e.hotlistsDefaults=void 0,r=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(64),a=i(897),l=i(176),c=o(l),h=i(0).getLogger("HotLists.Manager"),e.hotlistsDefaults={exchange:"US",group:"volume_gainers"},e.HotlistsManager=function(){function t(){n(this,t),this.metainfoUrl=window.HOTLISTS_URL+"metainfo/",this.hotlistUrl=window.HOTLISTS_URL+"hotlist/"}return r(t,[{key:"sortExchanges",
value:function(t){var e=this;return t.sort(function(t,i){return"US"===t&&"US"!==i?-1:"US"!==t&&"US"===i?1:"AMEX"===t&&"NYSE"===i?1:"NYSE"===t&&"AMEX"===i?-1:"us"===e.getExchangeFlag(t)&&"us"!==e.getExchangeFlag(i)?-1:"us"!==e.getExchangeFlag(t)&&"us"===e.getExchangeFlag(i)?1:e.getExchangeFullName(t).localeCompare(e.getExchangeFullName(i))})}},{key:"isExchangeDistributed",value:function(t){return!!this.exchangeToFlag[t]}},{key:"getOneHotlist",value:function(t,e){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=(0,s.fetch)(""+this.hotlistUrl+t+"/"+e+"/").then(function(t){return t.json()}).then(function(t){var n=t.symbols;return o&&(n=t.symbols.slice(0,o)),i.sortOptions[e]?i.sortSymbolsByPercentChange(n,i.sortOptions[e].rule):n});return n.catch(function(t){h.logError("Error while recieving hotlist: "+t)}),n}},{key:"sortSymbolsByPercentChange",value:function(t,e){var i,o,n,r,s,a;return window.quoteSessionMultiplexerInstance&&window.quoteSessionMultiplexerInstance.simple||(window.quoteSessionMultiplexerInstance=window.quoteSessionMultiplexerInstance||{},window.quoteSessionMultiplexerInstance.simple=new c.default("simple")),i=void 0,o=!1,n=2e3,r=new Promise(function(e,r){i=setTimeout(function(){o=!0,e(t)},n)}),s=t.map(function(t){return new Promise(function(e,i){var n=function i(n){var r=n&&n.values&&n.values.change_percent;r&&(t.chp=n.values.change_percent),(r||o)&&(window.quoteSessionMultiplexerInstance.simple.unsubscribe("hotlists-manager",t.s,i),e(t))};window.quoteSessionMultiplexerInstance.simple.subscribe("hotlists-manager",t.s,n)})}),a=Promise.all(s),Promise.race([r,a]).then(function(t){return o?t:(clearTimeout(i),t.sort(function(t,i){return"decrease"===e?i.chp-t.chp:"increase"===e?t.chp-i.chp:0}),t)})}},{key:"getExchangeName",value:function(t){var e={AMEX:"NYSE ARCA"},i=e[t]||t;return this.compilations[t]?this.compilations[t]:i}},{key:"getExchangeFullName",value:function(t){return this.getExchangeCountryName(t)+" ("+this.getExchangeName(t)+")"}},{key:"getExchangeFlag",value:function(t){return this.exchangeToFlag[t]||this._emptyFlagId}},{key:"getExchangeCountryName",value:function(t){var e,i=(0,a.getMarketsByScreenerType)("stock");if("US"===t||"AMEX"===t)return i.america.title;if("BCBA"===t)return $.t("Argentina");for(e in i)if(i[e].stocks.includes(t))return i[e].title;return""}},{key:"isFlagEmpty",value:function(t){return t===this._emptyFlagId}},{key:"_emptyFlagId",get:function(){return"mock"}},{key:"sortOptions",get:function(){return{percent_change_loosers:{rule:"increase",field:"change_percent"},percent_change_gainers:{rule:"decrease",field:"change_percent"}}}},{key:"groupsTitlesMap",get:function(){return{volume_gainers:$.t("Volume Gainers"),percent_change_gainers:$.t("Percent Change Gainers"),percent_change_loosers:$.t("Percent Change Losers"),percent_range_gainers:$.t("Percent Range Gainers"),percent_range_loosers:$.t("Percent Range Losers"),gap_gainers:$.t("Gap Gainers"),gap_loosers:$.t("Gap Losers"),percent_gap_gainers:$.t("Percent Gap Gainers"),
percent_gap_loosers:$.t("Percent Gap Losers")}}},{key:"compilations",get:function(){return{US:$.t("US Exchanges")}}},{key:"exchangeToFlag",get:function(){return{AMEX:"us",ASX:"au",BAHRAIN:"bh",BCBA:"ar",BCS:"cl",BELEX:"rs",BIST:"tr",BME:"es",BMFBOVESPA:"br",BMV:"mx",BSE:"in",BVC:"co",BVL:"pe",DFM:"ae",EGX:"eg",EURONEXT:"eu",FWB:"de",GPW:"pl",HKEX:"hk",LSE:"gb",LSIN:"gb",MIL:"it",MOEX:"ru",MYX:"my",NAG:"jp",NASDAQ:"us",NSE:"in",NSENG:"ng",NYSE:"us",NZX:"nz",OTC:"us",SGX:"sg",SIX:"ch",SWB:"de",SZSE:"cn",TADAWUL:"sa",TASE:"il",TSE:"jp",TSX:"ca",TSXV:"ca",TWSE:"tw",US:"us",XETR:"de"}}},{key:"availableExchanges",get:function(){if(!this._availableExchanges){var t=Object.keys(this.exchangeToFlag);this._availableExchanges=this.sortExchanges(t)}return this._availableExchanges}}]),t}()},,function(t,e,i){"use strict";function o(t){return s+"/"+t+"/"}var n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),n=i(81),r=n.getUrlParams(),s=r.scanner_url||window.SCREENER_HOST||"https://scanner.tradingview.com",e.getBackendUrl=o},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.generateRecommendsRequest=e.recommendsRange=e.signalDisplayFunctions=e.signalComputationFunctions=e.SIGNAL=void 0,i(5),o=e.SIGNAL={STRONG_BUY:{key:"Strong Buy",title:window.t("Strong Buy"),shortTitle:window.t("Strong Buy"),cssClass:"tv-screener-table__signal--strong-buy"},BUY:{key:"Buy",title:window.t("Buy"),shortTitle:window.t("B",{context:"first_letter_of_Buy"}),cssClass:"tv-screener-table__signal--buy"},STRONG_SELL:{key:"Strong Sell",title:window.t("Strong Sell"),shortTitle:window.t("Strong Sell"),cssClass:"tv-screener-table__signal--strong-sell"},SELL:{key:"Sell",title:window.t("Sell"),shortTitle:window.t("S",{context:"first_letter_of_Sell"}),cssClass:"tv-screener-table__signal--sell"},NEUTRAL:{key:"Neutral",title:window.t("Neutral"),shortTitle:window.t("N",{context:"first_letter_of_Neutral"}),cssClass:"tv-screener-table__signal--neutral"}},n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e?"":" i-hidden";return i?'<span title="'+t.title+'" class="tv-screener-table__signal apply-common-tooltip '+t.cssClass+o+'">'+t.shortTitle+"</span>":'<span class="tv-screener-table__signal '+t.cssClass+o+'">'+t.title+"</span>"},r=e.signalComputationFunctions={computeMASignal:function(t,e){var i=o.NEUTRAL;return t<e&&(i=o.BUY),t>e&&(i=o.SELL),i},computeRSISignal:function(t,e){var i=o.NEUTRAL;return t<30&&e>t&&(i=o.BUY),t>70&&e<t&&(i=o.SELL),i},computeStochSignal:function(t,e,i,n){var r=o.NEUTRAL;return t<20&&e<20&&t>e&&i<n&&(r=o.BUY),t>80&&e>80&&t<e&&i>n&&(r=o.SELL),r},computeCCI20Signal:function(t,e){var i=o.NEUTRAL;return t<-100&&t>e&&(i=o.BUY),t>100&&t<e&&(i=o.SELL),i},computeADXSignal:function(t,e,i,n,r){var s=o.NEUTRAL;return t>20&&n<r&&e>i&&(s=o.BUY),t>20&&n>r&&e<i&&(s=o.SELL),s},computeAOSignal:function(t,e){var i=o.NEUTRAL;return(t>0&&e<0||t>0&&e>0&&t>e)&&(i=o.BUY),(t<0&&e>0||t<0&&e<0&&t<e)&&(i=o.SELL),i},computeMomSignal:function(t,e){
var i=o.NEUTRAL;return t<e&&(i=o.BUY),t>e&&(i=o.SELL),i},computeMACDSignal:function(t,e){var i=o.NEUTRAL;return t>e&&(i=o.BUY),t<e&&(i=o.SELL),i},computeBBBuySignal:function(t,e){var i=o.NEUTRAL;return t<e&&(i=o.BUY),i},computeBBSellSignal:function(t,e){var i=o.NEUTRAL;return t>e&&(i=o.SELL),i},computePSARSignal:function(t,e){var i=o.NEUTRAL;return t<e&&(i=o.BUY),t>e&&(i=o.SELL),i},computeRecommendSignal:function(t){var e=void 0;return t>=-1&&t<-.5&&(e=o.STRONG_SELL),t>=-.5&&t<0&&(e=o.SELL),0===t&&(e=o.NEUTRAL),t>0&&t<=.5&&(e=o.BUY),t>.5&&t<=1&&(e=o.STRONG_BUY),e},computeSimpleSignal:function(t){var e=o.NEUTRAL;return-1===t&&(e=o.SELL),1===t&&(e=o.BUY),e}},e.signalDisplayFunctions={processMASignal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computeMASignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processRSISignal:function(t,e,i,o){if(null===e)return t;var s=r.computeRSISignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processStochSignal:function(t,e,i,o,s,a){if(null===e||null===i)return t;var l=r.computeStochSignal(e,i,o,s);return t+" "+n(l,a.displaySignal,!0)},processCCI20Signal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computeCCI20Signal(e,i);return t+" "+n(s,o.displaySignal,!0)},processADXSignal:function(t,e,i,o,s,a,l){if(null===e||null===i||null===o)return t;var c=r.computeADXSignal(e,i,o,s,a);return t+" "+n(c,l.displaySignal,!0)},processAOSignal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computeAOSignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processMomSignal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computeMomSignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processMACDSignal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computeMACDSignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processBBBuySignal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computeBBBuySignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processBBSellSignal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computeBBSellSignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processPSARSignal:function(t,e,i,o){if(null===e||null===i)return t;var s=r.computePSARSignal(e,i);return t+" "+n(s,o.displaySignal,!0)},processRecommendSignal:function(t){if(null===t||!isNumber(t))return t;var e=r.computeRecommendSignal(t);return""+n(e,!0)},processSimpleSignal:function(t,e,i){if(null===e||"&mdash;"===t)return t;var o=r.computeSimpleSignal(e);return t+" "+n(o,i.displaySignal,!0)}},e.recommendsRange=[o.STRONG_BUY.title,o.BUY.title,o.NEUTRAL.title,o.SELL.title,o.STRONG_SELL.title],e.generateRecommendsRequest=function(t,e){var i=void 0,n=void 0;return t===o.STRONG_SELL.title&&(i=[-1,-.5],n=-.5),t===o.SELL.title&&(i=[-.5,0],n=0),t===o.NEUTRAL.title?{left:e,operation:"equal",right:0}:(t===o.BUY.title&&(i=[0,.5],n=0),t===o.STRONG_BUY.title&&(i=[.5,1],n=.5),[{left:e,operation:"nequal",right:n},{left:e,operation:"in_range",right:i}])}},function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),i(5),o=i(16),n=function(){function t(t){
this._formatStr=t||"%y-%m-%d"}return t.prototype.format=function(t){var e=new Date(1e3*t);return this._formatStr.replace("%y",o.numberToStringWithLeadingZero(e.getUTCFullYear(),4)).replace("%m",o.numberToStringWithLeadingZero(e.getUTCMonth()+1,2)).replace("%d",o.numberToStringWithLeadingZero(e.getUTCDate(),2))},t}(),e.TimeSpanDateFormatter=n},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),i(5),n=i(16),r=function(t){function e(e,i,o,n){return t.call(this,e,i,o,n)||this}return o.__extends(e,t),e.prototype.format=function(e,i,o){var n,r,s,a=+t.prototype.format.call(this,e,i,o),l=""+a,c=""+e;return l.indexOf(".")>=0&&l.split(".")[1].length>=2&&-1===c.indexOf("e-")?l:c.indexOf("e-")>=0?(n=c.split("e-"),r=+n[0],s=+n[1],this._fractionalLength&&s>this._fractionalLength+1?(0).toFixed(2):(r<0?"-":"")+"0."+"0".repeat(s-1)+Math.abs(Math.round(r))):a.toFixed(2)},e}(n.PriceFormatter),e.TrailingZerosPriceFormatter=r},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M15 12h3v4h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M16.5 10.5v7"/><path fill="currentColor" d="M11 8h3v4h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M12.5 6.5v7"/><path fill="currentColor" d="M7 4h3v4H7z"/><path stroke="currentColor" stroke-linecap="square" d="M8.5 2.5v7m-4 1v-4m-2 6v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M15 4h3v2h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M11.5 11.5v-2m0-7v2m5-2v5"/><path stroke="currentColor" d="M10.5 4.5h2v5h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M7.5 14.5v-2m0-7v2"/><path stroke="currentColor" d="M6.5 7.5h2v5h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M3.5 17.5v-2m0-7v2"/><path stroke="currentColor" d="M2.5 10.5h2v5h-2z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M3.5 10.5h2v5h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M4.5 8.5v2m0 5v2"/><path fill="currentColor" d="M14 8h3v6h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M15.5 6.5v9m-7-11h4m-2-2v4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M14.5 4.5h2v6h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M15.5 2.5v2m0 6v2"/><path fill="currentColor" d="M3 4h3v6H3z"/><path stroke="currentColor" stroke-linecap="square" d="M4.5 2.5v9m4 4h4m-2-2v4"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" d="M10.5 6.5v7m-2-4h4"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" d="M14.5 10.5v7m-1-7h2m-5 1v-4m-3 2v-4m-3 2v-4"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" d="M14.5 2.5v7m-1 0h2m-5 2v-4m-3 7v-4m-3 6v-4"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M15 4h3v12h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M16.5 17.5v-15"/><path stroke="currentColor" d="M10.5 7.5h2v4h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M11.5 5.5v2m0 4v2m-4 2v-4m-3 5v-4m-3 5v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M9 8h3v6H9z"/><path stroke="currentColor" stroke-linecap="square" d="M10.5 6.5v9"/><path stroke="currentColor" d="M14.5 4.5h2v11h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M15.5 2.5v2m-9 4v-4m-3 3v-4m12 12v2"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M6.5 6.5h2v5h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M7.5 4.5v2m0 5v2"/><path fill="currentColor" d="M16 5h3v6h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M17.5 3.5v9"/><path fill="currentColor" d="M11 3h3v2h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M12.5 2.5v3m-8 11v-4m-2 6v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-linecap="square" d="M11.5 9.5v8m-4-8v-4m8 4v-4m-11 2v-4"/><path fill="currentColor" d="M10 9h3v4h-3z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-linecap="square" d="M11.5 4.5v10m-4-3v-4m-3 7v-4"/><path fill="currentColor" d="M10 4h3v3h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M15.5 11.5v-4"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M10.5 5.5h2v7h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M11.5 3.5v2m0 7v2"/><path fill="currentColor" d="M15 5h3v3h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M16.5 3.5v6.07m-9 3.93v-4m-3 6v-4m-3 6v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M10 7h3v8h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M11.5 5.5v11"/><path stroke="currentColor" d="M15.5 7.5h2v3h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M16.5 5.5v2m0 3v2m-9-2v-4m-3 2v-4m-3 2v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" d="M11.5 6.5v7m-4 0v-4m8 4v-4m-11 2v-4"/><path d="M10.5 13.5h2v3h-2z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M15 9h3v4h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M11.5 9.5v-2m0-5v2m5 3v7m0-5v2"/><path stroke="currentColor" d="M10.5 4.5h2v3h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M7.5 13.5v-2m0-5v2"/><path stroke="currentColor" d="M6.5 8.5h2v3h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M3.5 17.5v-2m0-5v2"/><path stroke="currentColor" d="M2.5 12.5h2v3h-2z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M15 7h3v4h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M11.5 17.5v-2m0-5v2m5-7v7m0-3v2"/><path stroke="currentColor" d="M10.5 12.5h2v3h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M7.5 13.5v-2m0-5v2"/><path stroke="currentColor" d="M6.5 8.5h2v3h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M3.5 9.5v-2m0-5v2"/><path stroke="currentColor" d="M2.5 4.5h2v3h-2z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-linecap="square" d="M9.5 9.5v8m-4-9v-4m-3 2v-4"/><path fill="currentColor" d="M8 7h3v5H8z"/><path stroke="currentColor" stroke-linecap="square" d="M14.5 11.5v4"/><path stroke="currentColor" d="M13.5 7.5h2v4h-2z"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-linecap="square" d="M9.5 11.5v2m-4 2v-4m-3 6v-4"/><path stroke="currentColor" d="M8.5 7.5h2v4h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M14.5 2.5v5"/><path fill="currentColor" d="M13 7h3v5h-3z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M13 4h3v12h-3z"/><path stroke="currentColor" stroke-linecap="square" d="M10.5 11.5v-4m-3 2v-4m-3 2v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M13.5 4.5h2v11h-2z"/><path stroke-linecap="square" d="M10.5 12.5v-4m-3 6v-4m-3 6v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-linecap="square" d="M4.5 2.5v11"/><path fill="currentColor" d="M3 4h3v8H3z"/><path stroke="currentColor" stroke-linecap="square" d="M14.5 4.5v2m0 7v2"/><path stroke="currentColor" d="M13.5 6.5h2v7h-2z"/><path stroke="currentColor" stroke-linecap="square" d="M9.5 12.5v5"/><path fill="currentColor" d="M8 14h3v2H8z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M10.5 9.5h2v3h-2z"/><path stroke-linecap="square" d="M11.5 8.5v-6m-4 13v-4m8 4v-4m-11 6v-4"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-linecap="square" d="M10.5 3.5v13"/><path fill="currentColor" d="M9 8h3v4H9z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" d="M10.5 3.5v5m0 3v5"/><path d="M9.5 8.5h2v3h-2z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" d="M14.5 8.5h4m-2-2v4m-7-6h4m-2-2v4m-6 2h4m-2-2v4m-3 5v-4m-2 6v-4"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" d="M14.5 11.5h4m-2-2v4m-7 2h4m-2-2v4m-6-6h4m-2-2v4m-3-5v-4m-2 2v-4"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="8.5" cy="8.5" r="3"/><path stroke-linecap="square" d="M13.5 8.5h3M.5 8.5h3M8.5 3.5v-3M13 4l2-2M2 15l2-2"/><path stroke-linecap="square" stroke-linejoin="bevel" d="M2 2l2 2"/><path stroke-linecap="square" d="M13 13l2 2M8.5 16.5v-3"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" d="M8.36 3.608a6.002 6.002 0 1 0 2.755 11.672 6.01 6.01 0 0 0 4.277-4.64 5 5 0 1 1-7.03-7.03z"/></svg>'},function(t,e){},function(t,e,i){"use strict";var o={de:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP","MXN","RUR","HKD","BRL","INR","CHF","TRL","SEK","ARS","PLZ","ATS"],fr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP"],it:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP"],tr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","ITL","NZD","ESP","TRL"],kr:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","MXN","RUR","HKD","BRL","INR","SGD","KRW","THB","TWD","VND"],in:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","RUR","HKD","BRL","INR","SGD","IDR","MYR","AED","QAR"],my:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","HKD","SGD","MYR"],ru:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","RUR","CHF","TRL"],uk:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","SEK","NOK","GRD"],en:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","ZAR"],tw:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","ITL","NZD","ESP","MXN","CHF","TRL","ZAR","TWD"],pl:["USD","EUR","JPY","AUD","DEM","GBP","CAD","CNY","ITL","NZD","SEK","NOK","PLZ"],es:["USD","EUR","JPY","AUD","DEM","GBP","CAD","ITL","ESP","MXN","CHF","ARS","CLP","COP"],cn:["USD","EUR","JPY","AUD","DEM","GBP","CAD","FRF","CNY","NZD","HKD","SGD"],br:["USD","EUR","JPY","AUD","DEM","GBP","FRF","CNY","MXN","RUR","BRL","INR"],id:["USD","EUR","JPY","AUD","DEM","GBP","FRF","RUR","HKD","BRL","INR","SGD","IDR"],ja:["USD","EUR","JPY","AUD","DEM","CAD","FRF","CNY","ITL","NZD","MXN","RUR","HKD","BRL","INR","SGD","KRW","ZAR"]};t.exports=function(t){return(o[t]||o.en).slice()}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path d="M10 1a8 8 0 0 0-7.844 6.47A1 1 0 0 1 3.02 7a1 1 0 0 1 .638.246l.494.432A6 6 0 0 1 10 3a6 6 0 0 1 6 6 6 6 0 0 1-6 6 6 6 0 0 1-3.867-1.412L4.62 14.91A8 8 0 0 0 10 17a8 8 0 0 0 8-8 8 8 0 0 0-8-8zm-.016 2.486A1 1 0 0 0 9 4.5V9a1 1 0 0 0 .293.707l2.5 2.5a1 1 0 1 0 1.414-1.414L11 8.586V4.5a1 1 0 0 0-1.016-1.014zM3.982 10.19A1 1 0 0 1 3 11h-.734a8 8 0 0 0 .324 1H3a1 1 0 0 1 .982.813l.864-.756a6 6 0 0 1-.686-1.71l-.178-.158z"/><path d="M0 13h3v2l4-3.5L3 8v2H0z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" fill="none" stroke="currentcolor"><circle cx="10" cy="10" r="9.5"/><path d="M2.5 15.5c1.8-1.5 4.5-2 7.5-2s5.8.5 7.5 2M8.5.5c-1.8 2.1-3 5.6-3 9.5 0 4 1.2 7.4 3 9.5m3-19c1.8 2.1 3 5.6 3 9.5 0 4-1.2 7.4-3 9.5M2.5 4.5C4.3 6 7 6.5 10 6.5s5.8-.5 7.5-2"/></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="2 6 27.1 22" width="27.1" height="22"><path d="M12.1 24h-2v-1h.4c-.5-.3-.9-.7-1.4-1.2v.2H4v-1h4.3c-.3-.3-.5-.7-.7-1H4v-1h3c-.2-.3-.3-.7-.4-1H4v-1h2.3c-.2-.8-.3-1.6-.3-2.5 0-1.6.4-3.1 1-4.5H2v18h15v-3h-.5c-1.6 0-3.1-.4-4.4-1zM9 26H4v-1h5v1zm0-2H4v-1h5v1zm6 2h-5v-1h5v1zm8.5-6.6c1-1.4 1.5-3 1.5-4.9C25 9.8 21.2 6 16.5 6S8 9.8 8 14.5s3.8 8.5 8.5 8.5c1.8 0 3.5-.6 4.9-1.5l5.6 5.6 2.1-2.1-5.6-5.6zM22 18.1L20.1 20c-1 .7-2.3 1.1-3.6 1.1-3.6 0-6.5-2.9-6.5-6.5S12.9 8 16.5 8s6.5 2.9 6.5 6.5c0 1.3-.4 2.5-1 3.6z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="22" height="22"><path d="M6.5 1C5.67 1 5 1.67 5 2.5v1C5 4.33 5.67 5 6.5 5S8 4.33 8 3.5v-1C8 1.67 7.33 1 6.5 1zm8 0c-.83 0-1.5.67-1.5 1.5v1c0 .83.67 1.5 1.5 1.5S16 4.33 16 3.5v-1c0-.83-.67-1.5-1.5-1.5zM1 4v16h19V4h-3.05c-.238 1.164-1.262 2-2.45 2-1.186-.002-2.208-.838-2.445-2H8.95C8.71 5.164 7.687 6 6.5 6c-1.186-.002-2.208-.838-2.445-2H1zm20 2v15H3v1h19V6h-1zM2 8h17v11H2V8zm3 1v3h3V9H5zm4 0v3h3V9H9zm4 0v3h3V9h-3zm-8 4v3h3v-3H5zm4 0v3h3v-3H9zm4 0v3h3v-3h-3z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21" width="21" height="21"><path d="M6 1.5A4.5 1.5 0 0 0 1.5 3 4.5 1.5 0 0 0 6 4.5 4.5 1.5 0 0 0 10.5 3 4.5 1.5 0 0 0 6 1.5zm8.8 2.7a4.5 1.5 0 0 0-4.5 1.5 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-4.5-1.5zm-12.6.7a4.5 1.5 0 0 0-.7.8A4.5 1.5 0 0 0 6 7.2a4.5 1.5 0 0 0 3.8-.7v-.8c0-.2.1-.5.2-.7a4.5 1.5 0 0 0-.2-.1 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zm0 2.7a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 3 1.4v-.3c0-.4.2-.7.5-1 .2-.1.3-.1.4-.2a4.5 1.5 0 0 1-3.2-.7zm16.4 0a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-1.3-.1c.2.1.3.2.5.3.3.3.5.6.5 1v.4a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM9.5 8A4.5 1.5 0 0 0 5 9.5 4.5 1.5 0 0 0 9.5 11 4.5 1.5 0 0 0 14 9.5 4.5 1.5 0 0 0 9.5 8zm-7.3 2.3a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 3 1.4v-1.6a4.5 1.5 0 0 1-2.3-.6zm16.4 0a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-.3 0v1.6a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM5.7 11.4a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zM18.6 13a4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-.3 0v1.6a4.5 1.5 0 0 0 .3 0 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8zM5.7 14.1a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7zm0 2.7a4.5 1.5 0 0 0-.7.8 4.5 1.5 0 0 0 4.5 1.5 4.5 1.5 0 0 0 4.5-1.5 4.5 1.5 0 0 0-.7-.8 4.5 1.5 0 0 1-3.8.7 4.5 1.5 0 0 1-3.8-.7z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 7 23 21" width="23" height="21"><path d="M6 7v18h20V7H6zm18 16H8V9h16v14zm-2-8H10v2h12v-2zm0-4H10v2h12v-2zm0 8H10v2h12v-2z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="6 6 21 23" width="21" height="23"><path d="M22 14s-.8 1.8-1 4c0 0-1.6-8.8-8.3-13 0 0 2.8 4.5.9 6.5 0 0-1.2 1.4-1.6 3.5 0 0-.4 1.5 0 3 .3 1-2-.6-2-3 0 0-1.4 1.7 1 6 0 0 1.3 1.7 1 3 0 0-2.7-.6-4-4 0 0 .1 4.2 2 6 2 1.8 4.5 2 6 2 0 0 6.6 0 7-5 .5-5.2-1.6-6.5-1-9z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="22" height="22"><path d="M6.5 1C5.67 1 5 1.67 5 2.5v1C5 4.33 5.67 5 6.5 5S8 4.33 8 3.5v-1C8 1.67 7.33 1 6.5 1zm8 0c-.83 0-1.5.67-1.5 1.5v1c0 .83.67 1.5 1.5 1.5S16 4.33 16 3.5v-1c0-.83-.67-1.5-1.5-1.5zM1 4v16h19V4h-3.05a2.5 2.5 0 0 1-2.45 2 2.5 2.5 0 0 1-2.445-2H8.95A2.503 2.503 0 0 1 6.5 6a2.5 2.5 0 0 1-2.445-2H1zm20 2v15H3v1h19V6h-1zM2 8h17v11H2V8zm3 1v3h3V9H5zm4 0v3h3V9H9zm4 0v3h3V9h-3zm-8 4v3h3v-3H5zm4 0v3h3v-3H9zm4 0v3h3v-3h-3z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 21" width="15" height="21"><path fill-rule="evenodd" d="M7.5 0C3.357 0 0 3.23 0 7.22c0 2.644 2.515 5.448 3.43 7.91C4.796 18.802 4.645 21 7.5 21c2.898 0 2.703-2.188 4.07-5.855.918-2.468 3.43-5.3 3.43-7.926C15 3.23 11.64 0 7.5 0zm1.767 17.834l-3.38.406c-.12-.336-.25-.73-.408-1.242-.003-.006-.006-.014-.007-.02l4.22-.507c-.06.194-.125.398-.18.58-.09.295-.17.55-.246.784zm-3.992-1.488c-.125-.395-.264-.81-.42-1.252h5.295c-.084.235-.168.472-.24.695l-4.635.556zM7.5 19.687c-.69 0-1.008-.076-1.362-.82l2.89-.348c-.42 1.084-.723 1.168-1.528 1.168zM2.968 7.22c0 .424.353.764.782.764.43 0 .782-.34.782-.765 0-1.566 1.33-2.845 2.968-2.845.43 0 .782-.34.782-.766a.774.774 0 0 0-.782-.766c-2.497 0-4.532 1.96-4.532 4.375z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="4 6 23 21" width="23" height="21"><path d="M22 6H5v12h1v4l4-4h3v-6h9V6zm-8 7v10h8l4 3v-3h1V13H14z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="4 6 23 21" width="23" height="21"><path d="M16 18h3v-3h-3v3zm-2-5v10h9l3 3v-3h1V13H14zm6 2v4h-4v3h-1v-8h5v1zm6 0v7h-1v-6h-1v1h-1v-1h-1v6h-1v-8h1v1h1v1h1v-1h1v-1h1v1zm-4-9H5v12h1v4l4-4h3v-6h9V6z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 27" width="35" height="27"><g fill-rule="evenodd"><path d="M17.5 5.167c-4.143 0-7.5 3.232-7.5 7.22 0 2.644 2.515 5.448 3.43 7.91 1.366 3.672 1.215 5.87 4.07 5.87 2.898 0 2.703-2.188 4.07-5.855.918-2.467 3.43-5.3 3.43-7.926 0-3.987-3.36-7.22-7.5-7.22zm1.767 17.835l-3.38.406c-.12-.336-.25-.73-.408-1.243-.003-.006-.006-.013-.007-.02l4.22-.507c-.06.193-.125.397-.18.58-.09.294-.17.55-.246.784zm-3.992-1.49c-.125-.394-.264-.81-.42-1.25h5.295c-.084.235-.167.47-.24.694l-4.635.557zm2.225 3.343c-.69 0-1.008-.077-1.362-.82l2.89-.35c-.42 1.086-.723 1.17-1.528 1.17zm-4.532-12.47c0 .427.353.767.782.767.43 0 .782-.34.782-.766 0-1.565 1.33-2.844 2.968-2.844.43 0 .782-.34.782-.765a.774.774 0 0 0-.782-.766c-2.497 0-4.532 1.96-4.532 4.376zM5.48.646c-6.64 6.64-6.64 17.403 0 24.042l.706-.707c-6.248-6.247-6.248-16.378 0-22.626L5.48.646zm24.04 24.042c6.64-6.64 6.64-17.403 0-24.042l-.706.708c6.248 6.248 6.248 16.38 0 22.627l.707.708z"/><path d="M7.6 2.768c-5.467 5.467-5.467 14.33 0 19.8l.708-.708c-5.077-5.077-5.077-13.308 0-18.385L7.6 2.768zm19.8 19.8c5.467-5.47 5.467-14.333 0-19.8l-.708.707c5.077 5.077 5.077 13.308 0 18.385l.707.707z"/><path d="M9.722 4.89c-4.296 4.295-4.296 11.26 0 15.555l.707-.707c-3.906-3.905-3.906-10.237 0-14.142L9.72 4.89zm15.556 15.555c4.296-4.295 4.296-11.26 0-15.556l-.707.706c3.906 3.905 3.906 10.237 0 14.142l.708.707z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 6 21 21" width="21" height="21"><path d="M15.5 27c1.2 0 2.2-.9 2.4-2H13c.3 1.1 1.3 2 2.5 2zm6.5-7v-6c-.2-2.9-2.3-5.3-5.1-5.9 0-.2.1-.4.1-.6 0-.8-.7-1.5-1.5-1.5S14 6.7 14 7.5c0 .2.1.4.2.6-2.8.6-4.9 3-5.1 5.9v5.9C9 22.7 7 23 7 23v1h17v-1s-2-.3-2-3z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 595.3 841.9" enable-background="new 0 0 595.3 841.9"><path d="M297 127.5c-161.8 0-293 131.2-293 293s131.2 293 293 293 293-131.2 293-293-131.2-293-293-293zm0 537.2c-134.8 0-244.2-109.3-244.2-244.2S162.2 176.3 297 176.3s244.2 109.3 244.2 244.2S431.8 664.7 297 664.7zm-24.4-122.1h48.8v-48.8h-48.8v48.8zM368 319c-17.7-13.9-41.6-20.9-71.5-20.9-28.5 0-51.5 6.9-69 20.6-17.5 13.7-26.8 33.2-28.2 52.9h48.8c3.3-13.7 8.4-21.5 17.3-28.2 8.9-6.7 20-10.1 33.3-10.1 13.7 0 24.7 3.2 32.8 9.6 8.1 6.4 12.2 14.2 12.2 23.2 0 6.5-2.3 12.4-6.9 17.8-3 3.4-12.1 10.6-27.3 21.6-15.2 11-25.4 20.9-30.5 29.7-5.1 8.8-7.6 20-7.6 33.6 0 1.3 1-5.7 1.2.4h48.8c-.2-12.7-1.5-10.9 1.2-15.9 2.7-4.9 9.5-11.5 20.5-19.6 21.3-15.7 35.2-28.1 41.7-37.3 6.5-9.1 9.8-18.8 9.8-29 0-18.3-8.9-34.5-26.6-48.4z"/></svg>'},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n;Object.defineProperty(e,"__esModule",{value:!0}),n=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),i(1771),e.DomeToolbarButton=function(){function t(e){o(this,t);var n=$("<div>").addClass("button iconed apply-common-tooltip tv-dome-toolbar-button common-tooltip-vertical active").append($(i(1772))).attr("title",$.t("DOM"));n.on("click",function(t){t.preventDefault(),e.minimized.setValue(!e.minimized.value())}),e.visible.subscribe(function(t){n.toggleClass("active",!!t)},{callWithLast:!0}),e.minimized.subscribe(function(t){e.trading.domVisibility.setValue(!t)}),this._e=n}return n(t,[{key:"element",value:function(){return this._e}}]),t}()},function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 20" width="28" height="20" class="widgetbar-icon"><g fill-rule="evenodd"><path d="M17 2.515V1h-6v5h3.17c.128-.361.328-.704.6-1.007L17 2.515zM13.83 14H17v5h-6v-1.515l2.23-2.478c.272-.303.472-.646.6-1.007z"/><path fill-rule="nonzero" d="M21.5 4.742l3.385 3.761a1.5 1.5 0 1 0 2.23-2.006l-4.5-5a1.5 1.5 0 0 0-2.23 0l-4.5 5a1.5 1.5 0 0 0 2.23 2.006l3.385-3.76z"/><rect width="3" height="17" rx="1" x="20" y="2"/><path fill-rule="nonzero" d="M6.5 15.258l3.385-3.761a1.5 1.5 0 1 1 2.23 2.006l-4.5 5a1.5 1.5 0 0 1-2.23 0l-4.5-5a1.5 1.5 0 0 1 2.23-2.006l3.385 3.76z"/><rect width="3" height="17" rx="1" x="5" y="1" transform="matrix(1 0 0 -1 0 19)"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.000001 29.999999" width="30" height="30"><path d="M23 11h-2.8c-.5-.8-1.1-1.5-1.8-2L20 7.4 18.6 6l-2.2 2.2C16 8.1 15.5 8 15 8c-.5 0-1 .1-1.4.2L11.4 6 10 7.4 11.6 9c-.7.5-1.3 1.2-1.8 2H7v2h2.1c-.1.3-.1.7-.1 1v1H7v2h2v1c0 .3 0 .7.1 1H7v2h2.8c1 1.8 3 3 5.2 3s4.2-1.2 5.2-3H23v-2h-2.1c.1-.3.1-.7.1-1v-1h2v-2h-2v-1c0-.3 0-.7-.1-1H23v-2zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" width="25" height="25"><path d="M15 15v10l-2-2h10l-2 2v-10l2 2h-10l2-2zm-2 0h10v10h-10v-10zm-13 8h10l-2 2v-10l2 2h-10l2-2v10l-2-2zm0 2v-10h10v10h-10zm2-23v10l-2-2h10l-2 2v-10l2 2h-10l2-2zm-2 0h10v10h-10v-10zm19.414-.657l-7.071 7.071v-2.828l7.071 7.071h-2.828l7.071-7.071v2.828l-7.071-7.071h2.828zm-1.414-1.414l7.071 7.071-7.071 7.071-7.071-7.071 7.071-7.071z"/></svg>'},,,,,function(t,e,i){"use strict";function o(t,e,i){this._withWizard=e,this._chartWidget=i,this.$button=t,this.$button.on("click",this.toggle.bind(this)),$("body").on("click",this.hideOutside.bind(this))}var n=i(2940),r=i(950),s=i(2942);i(2943),o.prototype._createPopup=function(){this.$element||(this.$element=$("<div>").addClass("help-menu"),this.$element.append(this.item({text:$.t("Contact Support"),onClick:this.showBugReportDialog}),this.item({text:$.t("Status Page"),external:!0,onClick:this.goStatusPage}),this.item({text:$.t("Feature Request"),external:!0,onClick:this.goGetSF}),this.item({text:$.t("Vote for the Features"),external:!0,onClick:this.goGetSF}),this.item({text:$.t("Help & Wiki"),external:!0,onClick:this.goWiki})),this._chartWidget&&this.$element.append(this.item({text:$.t("Keyboard Shortcuts"),onClick:this.showKeysComb})),this.$element.append(this.item({text:$.t("My Support Tickets"),onClick:this.goSupportPage})),this._chartWidget&&!this._chartWidget.readOnly()&&this._withWizard&&this.$element.append(this.item({text:$.t("Run Product Walk-Through"),onClick:this.startMainWizard})),this.$element.addClass("js-hidden"),this.$element.appendTo("body"),this._boundHideOutside=this.hideOutside.bind(this))},o.prototype.item=function(t){var e=$("<span>");return e.text(t.text+""),e.toggleClass("external",!!t.external),e.toggleClass("checked",!!t.checked),e.on("click",t.onClick||$.noop),e},o.prototype.open=function(){var t=this.$button.offset(),e=$(window).width(),i=$(window).height();this._createPopup(),this.$element.css({bottom:i-(t.top-window.pageYOffset),right:e-t.left-this.$button.outerWidth()}),this.$element.removeClass("js-hidden"),this.$button.addClass("active"),this.$element.on("mousedownoutside",this._boundHideOutside)},o.prototype.close=function(){this.$button.removeClass("active"),this.$element&&(this.$element.addClass("js-hidden"),this.$element.off("mousedownoutside",this._boundHideOutside))},o.prototype.isOpened=function(){return this.$element&&!this.$element.hasClass("js-hidden")},o.prototype.toggle=function(){this.isOpened()?this.close():this.open()},o.prototype.hideOutside=function(t){$(t.target).closest(this.$button).length||this.close()},o.prototype.showBugReportDialog=function(){runOrSignIn(function(){var t=(new r).open(),e=$(".widgetbar-tabs .widgetbar-bug-report-button");e.size()&&(e.addClass("active"),t.on("destroy",e.removeClass.bind(e,"active")))},{source:"Bug report from chart help menu"})},o.prototype.goGetSF=function(t){open("https://getsatisfaction.com/tradingview/ideas/popular")},o.prototype.goWiki=function(t){
open("https://www.tradingview.com/wiki/Main_Page")},o.prototype.goStatusPage=function(t){open("https://status.tradingview.com/")},o.prototype.goSupportPage=function(t){open("/u/#support")},o.prototype.startMainWizard=function(){TradingView.wizards||(TradingView.wizards={}),!TradingView.wizards.main&&TradingView.wizardScenarios&&TradingView.wizardScenarios.main&&(TradingView.wizards.main=new n(TradingView.wizardScenarios.main.steps,TradingView.wizardScenarios.main.options)),TradingView.wizards.main.start()},o.prototype.showKeysComb=function(){new s.ShortcutsDialog({activeTab:0}).show()},t.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";(function(e){function o(t){this._options=t||{},this._eventName=t.eventName||"unknown",this._info=t.info||{},this._snapshotURL=null,this._ready=$.Deferred(),this._sent=$.Deferred(),$.when(n().ready(),this._generateSnapshot(),this._getTradingLogs(),this._getScreenerParams()).done(this._ready.resolve)}var n=i(241),r=i(1062).takeSnapshot,s=i(2293).DataIssue,a=i(191).tradingService;o.prototype._generateSnapshot=function(){var t,i,n=$.Deferred(),s=this._options.chartWidgetCollection||o.getChartWidgetCollection();if(!s)return void n.resolve();t=e.enabled("snapshot_trading_drawings"),i=this;try{e.setEnabled("snapshot_trading_drawings",!0),r(s,function(t){e.enabled("charting_library_base")?i._snapshotURL="https://www.tradingview.com/x/"+t:i._snapshotURL=location.protocol+"//"+location.host+"/x/"+t,n.resolve()},n.resolve.bind(n))}catch(t){n.resolve()}finally{e.setEnabled("snapshot_trading_drawings",t)}return n.promise()},o.prototype._getTradingLogs=function(){var t,e,i=$.Deferred(),n=o.getTrading();return n&&(t=n.activeBroker())&&t.isConnected()?(e=this,t.bugReportInfo().then(function(t){e._tradingLogs=JSON.stringify(t),i.resolve()}).catch(function(){i.resolve()}),i.promise()):(i.resolve(),i.promise())},o.prototype._getScreenerParams=function(){var t=$.Deferred(),e=o.getScreener();return e?(this._screenerParams=e.getCurrentState(),t.resolve(),t.promise()):(t.resolve(),t.promise())},o.prototype.setInfo=function(t){return this._info=t||{},this},o.prototype.setEventName=function(t){return t&&"string"==typeof t&&(this._eventName=t),this},o.prototype._sendImpl=function(){var t,e,i,o,r=this._info||{};this._snapshotURL&&(r.snapshotURL=this._snapshotURL),r.browserInfo=n().state(),t=this._timezone(),t&&(r.timezone=t),e=this._extendedHours(),"boolean"==typeof e&&(r.extendedHours=e),i=this._chartSessionDisconnects(),"number"==typeof i&&(r.chartSessionDisconnects=i),r.is_pro=this._userIsPro(),o=this._proOffers(),
Array.isArray(o)&&o.length&&(r.proOffers=o),r.is_pro&&(r.pro_plan=user.pro_plan),r.tradingLogsAgree&&this._tradingLogs&&(r.trading=this._tradingLogs),this._screenerParams&&(r.screener=this._screenerParams),r.domNodesCount=document.querySelectorAll("*").length,r.product=this._productId(),r.buildTime=window.BUILD_TIME,s.sendDataIssue(this._eventName,r,!0).then(this._sent.resolve.bind(this._sent),this._sent.reject.bind(this._sent))},o.prototype._productId=function(){return e.enabled("charting_library_base")?e.enabled("amp_terminal")?"amp_terminal":e.enabled("cqg_terminal")?"cqg_terminal":"charting_library":"tv"},o.prototype._extendedHours=function(){var t,e=this._options.chartWidgetCollection||o.getChartWidgetCollection();if(e){try{t=e.activeChartWidget.value().model().mainSeries().properties().extendedHours.value()}catch(t){}return t}},o.prototype._chartSessionDisconnects=function(){return window.ChartApiInstance&&ChartApiInstance.disconnectCount()},o.prototype._userIsPro=function(){return!(!window.user||!user.is_pro)},o.prototype._proOffers=function(){return window.pro&&pro.offers&&pro.offers()},o.prototype._timezone=function(){var t,e=this._options.chartWidgetCollection||o.getChartWidgetCollection();if(e){try{t=e.activeChartWidget.value().model().model().properties().timezone.value()}catch(t){}return t}},o.prototype.send=function(){return this._ready.done(this._sendImpl.bind(this)),this._sent},o.prototype.ready=function(){return this._ready},o.prototype.sent=function(){return this._sent},function(){var t,e;o.setChartWidgetCollection=function(e){t=e},o.getChartWidgetCollection=function(){return t},o.getTrading=function(){return a()},o.setScreener=function(t){e=t},o.getScreener=function(){return e}}(),t.exports=o}).call(e,i(3))},,,,,,,,,,,function(t,e,i){"use strict";var o,n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),o=i(2276),Object.defineProperty(e,"AutocompleteField",{enumerable:!0,get:function(){return o.AutocompleteField}}),n=i(2277),Object.defineProperty(e,"CheckboxField",{enumerable:!0,get:function(){return n.CheckboxField}}),r=i(2270),Object.defineProperty(e,"InputField",{enumerable:!0,get:function(){return r.InputField}}),s=i(2278),Object.defineProperty(e,"InputFieldRegExp",{enumerable:!0,get:function(){return s.InputFieldRegExp}}),a=i(2271),Object.defineProperty(e,"SaveRenameDialog",{enumerable:!0,get:function(){return a.SaveRenameDialog}})},,function(t,e,i){"use strict";function o(t,e,o,n){return new Promise(function(r,s){new Promise(function(t){t()}).then(function(s){var a=i(56).createDialog,l=a({title:t,content:e,width:500,type:"modal",draggable:!1,destroyOnClose:!0,addClass:"tv-text",actions:[{name:"no",text:n||window.t("No"),type:"default",method:"close"},{name:"yes",text:o||window.t("Yes"),type:"primary",method:"close",key:13}]});l.on("action:yes",function(){r(!0)}),l.on("destroy",function(){r(!1)}),l.open()}.bind(null,i)).catch(i.oe)})}Object.defineProperty(e,"__esModule",{value:!0}),i(28),i(5),e.showConfirmDialog=o},,,function(t,e,i){"use strict";function o(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n;Object.defineProperty(e,"__esModule",{value:!0}),n=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),e.InputField=function(){function t(e){var i=e.label,n=e.name,r=e.maxLength,s=e.error,a=void 0===s?"":s;o(this,t),this._name=n,this._$field=$('<label class="tv-rename-chart-dialog__field">\n\t\t\t\t<span class="tv-rename-chart-dialog__label">'+i+'</span>\n\t\t\t\t<input class="tv-control-input" type="text" name="'+n+'" maxlength="'+r+'"/>\n\t\t\t</label>'),this._$input=this._$field.find("input"),this._error=a}return n(t,[{key:"appendTo",value:function(t){t.append(this._$field)}},{key:"focus",value:function(){return this._$input.focus()}},{key:"select",value:function(){return this.focus().select()}},{key:"value",set:function(t){this._$input.val(t)},get:function(){return this._$input.val()}},{key:"name",get:function(){return this._name}},{key:"valid",get:function(){return!!this._$input.val().trim()}},{key:"error",set:function(t){this._error=t},get:function(){return this._error}}]),t}()},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.SaveRenameDialog=void 0,n=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),i(2272),r=i(56),e.SaveRenameDialog=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.fields,n=e.title,r=void 0===n?"":n,s=e.destroyOnClose,a=void 0===s||s,l=e.modal,c=void 0!==l&&l;o(this,t),this._$form=$("<div></div>"),this._fields=i,this._appendFieldsToForm(),this._title=r,this._destroyOnClose=a,this._modal=c}return n(t,[{key:"setField",value:function(t,e){this._fields.find(function(e){return e.name===t}).value=e}},{key:"show",value:function(){var t=this,e=this._createDialog(),i=new Promise(function(i){e.on("action:submit",function(e){return t._onSubmit(e,i)})});return e.open(),this._fields[0].select(),i}},{key:"_appendFieldsToForm",value:function(){var t=this;this._fields.forEach(function(e){e.appendTo(t._$form)})}},{key:"_createDialog",value:function(){return(0,r.createDialog)({type:this._modal?"modal":"popup",title:this._title,content:this._$form,actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions i-align_right tv-dialog__section--no-border">',width:470,destroyOnClose:this._destroyOnClose,actions:[{name:"submit",type:"primary",text:$.t("Save"),key:13,addClass:"js-submit-button"},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close",addClass:"js-cancel-button"}]})}},{key:"_onSubmit",value:function(t,e){var i=this._validate();i?(t.error(i.error),
i.focus()):(e(this._collectValues(),t),t.close())}},{key:"_validate",value:function(){return this._fields.find(function(t){return!t.valid})}},{key:"_collectValues",value:function(){return this._fields.reduce(function(t,e){return t[e.name]=e.value,t},{})}}]),t}()},function(t,e){},,,,function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.AutocompleteField=void 0,n=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(1428),e.AutocompleteField=function(){function t(e){var i=e.label,n=e.name,s=e.maxLength,a=e.error,l=void 0===a?"":a,c=e.source,h=e.valueField,d=e.textField;o(this,t),this._name=n,this._valueField=h,this._textField=d,this._error=l,this._$field=$('<label class="tv-rename-chart-dialog__field">\n\t\t\t\t<span class="tv-rename-chart-dialog__label">'+i+'</span>\n\t\t\t\t<tv-autocomplete name="'+n+'"><tv-autocomplete>\n\t\t\t</label>'),this._autocomplete=new r.Autocomplete({el:this._$field.find("tv-autocomplete").get(0),source:new r.ArraySource(c),textField:this._textField,maxLength:s}),this._preventDialogEvents()}return n(t,[{key:"appendTo",value:function(t){t.append(this._$field)}},{key:"focus",value:function(){this._autocomplete.input.focus()}},{key:"select",value:function(){this._autocomplete.input.focus(),this._autocomplete.input.select()}},{key:"_preventDialogEvents",value:function(){var t=this,e=function(t){return t.stopPropagation()};this._autocomplete.stream.addListener(r.events.BEFORE_OPEN_MENU,function(){t._$field.on("keypress keyup",e)}),this._autocomplete.stream.addListener(r.events.AFTER_CLOSE_MENU,function(){t._$field.off("keypress keyup",e)})}},{key:"value",get:function(){return this._autocomplete.value[this._valueField]}},{key:"name",get:function(){return this._name}},{key:"valid",get:function(){return!!this._autocomplete.input.value}},{key:"error",get:function(){return this._error}}]),t}()},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),e.CheckboxField=void 0,r=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(164),a=o(s),e.CheckboxField=function(){function t(e){var i=e.label,o=e.name,r=e.error,s=void 0===r?"":r,l=e.hint;n(this,t),this._name=o,this._error=s,this._checkboxView=new a.default({labelRight:i,name:o}),this._checkboxView.$el.addClass("tv-rename-chart-dialog__field"),l&&this._checkboxView.$el.append('<span class="tv-rename-chart-dialog__hint apply-common-tooltip" title=\''+l+"'></span>")}return r(t,[{
key:"appendTo",value:function(t){t.append(this._checkboxView.$el)}},{key:"focus",value:function(){}},{key:"select",value:function(){}},{key:"value",set:function(t){this._checkboxView.checked=t},get:function(){return this._checkboxView.checked}},{key:"name",get:function(){return this._name}},{key:"valid",get:function(){return!0}},{key:"error",get:function(){return this._error}}]),t}()},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,a;Object.defineProperty(e,"__esModule",{value:!0}),e.InputFieldRegExp=void 0,s=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(2265),e.InputFieldRegExp=function(t){function e(t){var i,r;return o(this,e),i=t.regExp,delete t.regExp,r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r._regExp=i,r}return r(e,t),s(e,[{key:"valid",get:function(){return this._regExp.test(this._$input.val())}}]),e}(a.InputField)},,function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,s,a,l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),r=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(2782),a=o(s),l=i(38),c=i(20),h=i(64),d=i(57),u=i(0).getLogger("NewsProvider"),p=i(233),f=function(){function t(e){n(this,t),this._baseUrl=window.NEWS_SERVICE_URL+"/headlines/",this.providerName=e,this._providerUrl=this._baseUrl+this.providerName+"/",this._symbolSearch=new a.default(window.ChartApiInstance)}return r(t,[{key:"init",value:function(t){this._newsWidget=t.newsWidget;var e=window.user&&window.user.is_pro;this.hasProFeed&&!e&&"main"===this._newsWidget.widgetName&&this.appendDelayedInfoIcon()}},{key:"updateTitle",value:function(t){this._newsWidget&&("widgetbar"===this._newsWidget.widgetName&&this.updateWidgetBarTitle(t),this.checkAppendIcon())}},{key:"updateWidgetBarTitle",value:function(){this._newsWidget._bridge.setTitle(this.constructor.title)}},{key:"checkAppendIcon",value:function(){var t=window.user&&window.user.is_pro,e=this.$delayedIcon&&this.$delayedIcon.parent().length;!this.hasProFeed||t||e||this.appendDelayedInfoIcon(),
this.hasProFeed&&t&&e&&this.$delayedIcon.remove()}},{key:"appendDelayedInfoIcon",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._newsWidget.$delayedIconContainer,o=e.title||this.delayedIconText||"",n=e.class;if(!n)switch(this._newsWidget.widgetName){case"main":n="tv-site-widget__title-info-icon";break;case"widgetbar":n="widgetbar-widgettitle-info";break;default:n=""}t='\n\t\t\t<a href="/gopro/" target="_blank" class="'+n+' apply-common-tooltip" title="'+o+'">\n\t\t\t\t'+p+"\n\t\t\t</a>\n\t\t",this.$delayedIcon=$(t),i.append(this.$delayedIcon)}},{key:"getNews",value:function(t,e,i,o,n){return this.widget=t,this.type=i,this.category=n,"bitcoin"===i?this.getByCategory("bitcoin"):e?"spread"===i?this.getBySpread(e,i,o):this.getBySymbol(e,i,o):this.getByCategory(n)}},{key:"getURLforSymbol",value:function(t,e,i){if(!this.symbology)return this._providerUrl;var o=this.convertSymbol(t,e,i);return this.addParamsToUrl(this._providerUrl+"symbol/",{q:o,locale:window.locale})}},{key:"getURLforCategory",value:function(t){return this.addParamsToUrl(this._providerUrl+"category/"+t+"/")}},{key:"getURLforSpread",value:function(t,e,i){return t=t.join(","),this.addParamsToUrl(this._providerUrl+"spread/"+t+"/")}},{key:"addParamsToUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{locale:window.locale},i="";return Object.keys(e).length&&(i+="?"+Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")),t+i}},{key:"convertSymbol",value:function(t,e,i){return this.symbology?this.symbology.convertTo(t,e,i):t}},{key:"getBySymbol",value:function(t,e,i){var o=this.getURLforSymbol(t,e,i);return this.type=e,this.fetch(o,"getBySymbol")}},{key:"getBySpread",value:function(t,e,i){var o,n,r,s=this;return Array.isArray(t)&&Array.isArray(i)?(o=t[0],n=i[0],r=new Promise(function(t,e){s._symbolSearch.searchSymbols(o,n,"",!1,void 0,function(e){var i=e[0]?e[0].type:void 0;t(s.getURLforSymbol(o,i,n))})}),r.then(function(t){return s.type=e,s.fetch(t,"getBySpread")})):Promise.reject()}},{key:"getByCategory",value:function(t){var e=this.getURLforCategory(t);return this.category=t,this.fetch(e,"getByCategory")}},{key:"fetch",value:function(t,e){var i=this,o=Date.now();return(0,h.fetch)(t,{credentials:"include"}).then(function(t){var e=Date.now()-o;return d.Telemetry.sendReport("news","api_time_frame",{v:e}),t.status&&d.Telemetry.sendReport("news","api_http_status",{v:t.status}),t.ok?t.json():t.text().then(function(e){throw Error("Error while fetch "+t.url+". Response status "+t.status+" "+t.statusText+". Response text: '"+e+"'")})}).then(function(t){return i._onReceived(t,e)}).catch(function(t){return u.logError(t.message),i._onReceived([],e)})}},{key:"prepareShortDescriptionToMainNewsWidget",value:function(t){function e(t){return Array.prototype.slice.call(r.getElementsByTagName(t))}function i(t){t.parentNode.removeChild(t)}var o,n,r=document.createElement("div")
;return r.innerHTML=t.replace(/\b(src\s*=\s*['"]*)http:\/\/l(\d*\.yimg.com\/)/g,"$1https://s$2").replace(/\bsrc\s*=\s*['"]\/[^'"]*['"]/gi,""),o=!1,e("img").forEach(function(t){if(o||!t.getAttribute("src"))return void i(t);var e=t.getAttribute("src").startsWith("/");if(!t.getAttribute("src")||e)return void i(t);t.className="tv-widget-news__image",t.removeAttribute("style"),t.removeAttribute("width"),t.removeAttribute("height"),r.insertBefore(t,r.firstChild),o=!0}),n=["a","audio","embed","figure","iframe","object","script","video"],n.map(e).forEach(function(t){return t.forEach(i)}),e("p").forEach(function(t){var e=""===t.innerHTML.replace("&nbsp;",""),o=1===t.children.length&&"BR"===t.children[0].tagName;e||o?i(t):t.className="tv-widget-news__description-text"}),r.innerHTML}},{key:"filterLastThirtyDays",value:function(t){var e=(new Date).getTime()/1e3;return t.filter(function(t){return e-t.published<2592e3})}},{key:"_onReceived",value:function(t,e){if(t&&Array.isArray(t)){if("widget"===this.widget&&"getByCategory"===e&&"all"===this.category&&(t=this.filterLastThirtyDays(t)),!t.length)switch(e){case"getBySymbol":return this.getByCategory(this.category);case"getByCategory":if("all"!==this.category)return this.getByCategory("all");break;default:return[]}return t.forEach(function(t){t.publishedTimestamp=t.published,t.published=new Date(1e3*t.publishedTimestamp)}),t.map(this.itemTransform,this)}}},{key:"itemTransform",value:function(t){var e=t.shortDescription||t.summary;return e&&(t.shortDescription=this.prepareShortDescriptionToMainNewsWidget(e)),t}},{key:"renderItem",value:function(t){var e='\n\t\t\t<div class="ns-item">\n\t\t\t\t<div class="ns-item-title">\n\t\t\t\t\t<a href="'+t.link+'" target="_blank">'+t.title+"</a>\n\t\t\t\t</div>\n\t\t\t\t"+(t.shortDescription?'<div class="ns-item-content">'+t.shortDescription+"</div>":"")+'\n\t\t\t\t<div class="ns-item-desc">\n\t\t\t\t\t'+(t.source?$.t("at")+' <span class="source">'+t.source+"</span> ":"")+'\n\t\t\t\t</div>\n\t\t\t\t<div class="ns-item-date">\n\t\t\t\t\t<time></time>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t';return $(e)}},{key:"destroy",value:function(){this.$message instanceof $&&this.$message.remove()}},{key:"options",value:function(t){return!1}},{key:"showPopup",value:function(t){var e,i;return!!t.content&&(e=window.location.pathname,t.target&&$(t.target).parents(".widgetbar-widget-news").length?i="Widgetbar":e.match(/^\/[^\/]*$/)?i="Main":e.match(/^(?:\/[^\/]*){2}/)&&(i="Symbol/Market page"),(0,c.trackEvent)("Platform Widgets","Prime News",i),new l.TVModal({title:t.title,width:800,destroyOnClose:!0,addClass:"tv-popup-news",titleTemplate:'<div class="tv-dialog__section tv-dialog__section--title js-dialog__drag"><div class="tv-dialog__title"><div class="tv-popup-news__title">{{{ title }}}</div></div></div>',contentWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-popup-news__content"></div></div>',content:t.content}).open())}}],[{key:"title",get:function(){return $.t("News")}},{key:"timeout",get:function(){return!1}}]),t}(),
e.default=f,t.exports=e.default},,function(t,e,i){"use strict";function o(t){return t.configFlags=Object.assign({},c,t.configFlags),t}function n(t,e){h.push({metainfo:o(t),createBrokerFunction:e})}function r(){return h.map(function(t){return t.metainfo})}function s(t,e){return new Promise(function(i){var o=h.filter(function(t){return t.metainfo.id===e})[0],n=new l.BrokerConnectionAdapterHost(t,o.metainfo);o.createBrokerFunction(n,function(t){i(new a.BrokerConnectionAdapter(o.metainfo,t,n))})})}var a,l,c,h;Object.defineProperty(e,"__esModule",{value:!0}),a=i(2321),l=i(2327),c={supportDemoLiveSwitcher:!0,supportEditAmount:!0,supportMarketBrackets:!0},h=[],e.addBroker=n,e.brokersList=r,e.createBrokerConnection=s},function(t,e,i){"use strict";var o,n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(9),r=i(4),s=i(10),a=i(550),l=function(){function t(t){this._objects={},this._started=!1,this._isObjectsRequestActual=!1,this._ordersPromise=null,this._getter=t,this.updateDelegate=new r,this.partialUpdateDelegate=new r}return t.prototype.start=function(){this._started||(this._started=!0,this._ordersPromise=this._requestObjects())},t.prototype.stop=function(){this._objects={},this._started=!1,this._ordersPromise=null,this._isObjectsRequestActual=!1},t.prototype.update=function(t,e){if(this._started){if(this._isObjectsRequestActual)return void(this._isObjectsRequestActual=!1);this._objects[t.id]=t,this._onObjectUpdated(t,e)}},t.prototype.partialUpdate=function(t,e){var i,o,r;if(this._started){if(this._isObjectsRequestActual)return void(this._isObjectsRequestActual=!1);s.isObject(t)?(i=t.id,o=t):(i=t,o=n.ensure(e)),r=this._objects[i],r&&(Object.assign(r,o),this.partialUpdateDelegate.fire(r,o))}},t.prototype.fullUpdate=function(){if(this._started)return this._isObjectsRequestActual?void(this._isObjectsRequestActual=!1):void(this._ordersPromise=this._requestObjects())},t.prototype.getObjects=function(){return this._ordersPromise||Promise.resolve(Object.values(this._objects))},t.prototype._onObjectUpdated=function(t,e){this.updateDelegate.fire(t,e)},t.prototype._onAllObjectsUpdated=function(){var t=this;this._objectsCache().forEach(function(e){return t.updateDelegate.fire(e,!0)})},t.prototype._objectsCache=function(){return Object.values(this._objects)},t.prototype._requestObjects=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:t=[],e.label=1;case 1:return this._isObjectsRequestActual=!0,[4,this._getter()];case 2:t=e.sent(),e.label=3;case 3:if(!this._isObjectsRequestActual)return[3,1];e.label=4;case 4:return this._objects=a.objectsArrayToMap(t,"id"),this._ordersPromise=null,this._isObjectsRequestActual=!1,this._onAllObjectsUpdated(),[2,t]}})})},t}(),e.BrokerObjectsCache=l},function(t,e,i){t.exports=i(2294)},function(t,e,i){"use strict";function o(t){var e,i;return t.method&&["create_alert","stop_alert","stop_all","restart_alert","restart_all","delete_alert","delete_all","delete_events"].includes(t.method)&&(e=Object.assign({},t.params),
t.params&&"extra"in t.params&&(e.extra=JSON.parse(t.params.extra)),d.logNormal(JSON.stringify({m:t.method,p:e}))),a.MergedGetAlertsRequest.isMergable(t)?a.MergedGetAlertsRequest.mergeRequest(t):s.RequestCache.isCachable(t)?(i=s.RequestCache.get(t),i||(i=n(t),s.RequestCache.set(t,i)),i):n(t)}function n(t){var e=t.method,i={body:JSON.stringify({m:e,p:t.params}),credentials:"include",method:"POST"},o=(new Date).getTime();return u?h.fetch(u,i).then(function(t){l.Telemetry.sendReport("alerts","api_http_status",{v:t.status});var e=(new Date).getTime()-o;return l.Telemetry.sendReport("alerts","api_time_frame",{v:e}),t.json()}).then(function(t){var e=t.m,i="Unexpected server response";return"success"===e?t.p:"error"===t.m?Promise.reject(t.p.reason||i):Promise.reject(i)}):Promise.reject("no_alerts_url")}var r,s,a,l,c,h,d,u;Object.defineProperty(e,"__esModule",{value:!0}),r=i(3),s=i(2357),a=i(2358),l=i(57),c=i(0),h=i(64),d=c.getLogger("Alerts.Price.Request"),u=window.initData.price_alerts_url||"",r.enabled("alerts")&&!u&&d.logError("Url not passed"),e.sendRequest=o,e.sendRequestImmediately=n},function(t,e){function i(t,e){var i={};return t?(Object.keys(t).forEach(function(o){var n=e(o),r=t[o];i[n]=r}),i):t}var o={active:"active",aid:"alertId",alerts:"alerts",bar_time:"barTime",cross_int:"crossInterval",deact:"autoDeactivation",desc:"description",email:"sendEmail",error:"error",events:"events",exp:"expired",fire_time:"fireTime",inc_cross_int:"includeCrossInterval",popup:"showPopup",reason:"reason",res:"resolution",script:"script",sms:"sendSms",true_sms:"sendTrueSms",snd:"playSound",snd_duration:"soundDuration",script_deps:"scriptDeps",snd_file:"soundFile",stop:"stopReason",sym:"symbol",internal_sym:"symbolInternal",val:"firePrice",create_t:"createTime",start_t:"startTime",stop_t:"stopTime"},n=function(){var t={};return Object.keys(o).forEach(function(e){var i=o[e];t[i]=e}),t}();e.server2clientParams=function(t){return i(t,function(t){return o[t]||t})},e.client2serverParams=function(t){return i(t,function(t){return n[t]||t})}},,,function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill-rule="evenodd" d="M0 2.006C0 .898.897 0 2.006 0h9.988C13.102 0 14 .897 14 2.006v9.988A2.005 2.005 0 0 1 11.994 14H2.006A2.005 2.005 0 0 1 0 11.994V2.006zm11.119 4.28s-.357 0-.452-.334a3.415 3.415 0 0 0-.334-.81c-.143-.309.096-.547.096-.547l.357-.357c.143-.143.143-.38 0-.548l-.476-.476c-.143-.143-.381-.143-.548 0l-.357.357s-.238.239-.548.096a3.415 3.415 0 0 0-.81-.334c-.333-.095-.333-.452-.333-.452v-.5A.376.376 0 0 0 7.334 2h-.667a.376.376 0 0 0-.381.381v.5s0 .357-.334.452c-.285.072-.547.19-.81.334-.309.143-.547-.096-.547-.096l-.357-.357c-.143-.143-.38-.143-.548 0l-.476.476c-.143.143-.143.381 0 .548l.357.357s.239.238.096.548a3.415 3.415 0 0 0-.334.81c-.095.309-.452.333-.452.333h-.5a.376.376 0 0 0-.381.38v.667c0 .215.167.381.381.381h.5s.357 0 .452.334c.072.285.19.547.334.81.143.309-.096.547-.096.547l-.357.357c-.143.143-.143.38 0 .548l.476.476c.143.143.381.143.548 0l.357-.357s.238-.239.548-.096c.262.143.524.262.81.334.309.095.333.452.333.452v.5c0 .214.166.381.38.381h.667a.376.376 0 0 0 .381-.381v-.5s0-.357.334-.452c.285-.072.547-.19.81-.334.309-.143.547.096.547.096l.357.357c.143.143.38.143.548 0l.476-.476c.143-.143.143-.381 0-.548l-.357-.357s-.239-.238-.096-.548c.143-.262.262-.524.334-.81.095-.309.452-.333.452-.333h.5a.376.376 0 0 0 .381-.38v-.667a.376.376 0 0 0-.381-.381h-.5zM7 9c-1.111 0-2-.889-2-2s.889-2 2-2 2 .889 2 2-.906 2-2 2z"/></svg>'},,,,function(t,e,i){"use strict";var o=i(0),n={};n.sendDataIssue=function(t,e,i){var n,r,s,a,l=window.DATA_ISSUES_HOST;if(l){if(i){s="data_issue"===t?null:100;try{r=JSON.stringify(o.getLogHistory(s))}catch(t){r=JSON.stringify({error:"logger.getLogHistory(maxLen) failed: "+t.message})}}else r=[];return a=ChartApiInstance.getPingInfo(),n={event:t||"error",user:window.user&&window.user.username||"Guest",userId:window.user&&window.user.id||0,websocketAddress:ChartApiInstance._socket?ChartApiInstance._socket.host+(ChartApiInstance._socket.options.port&&":"+ChartApiInstance._socket.options.port||""):"",log:r,params:[e]||[],sessionid:ChartApiInstance.sessionid,ref:location.href,js_errors:window.__tv_js_errors.slice(0,10),ping:a?[a.min,a.max,a.avg]:[]},this._report=n,function(){return $.post(l+"/report",n)}()}},e.DataIssue=n},function(t,e,i){var o=function(){return this}()||Function("return this")(),n=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,r=n&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,t.exports=i(2295),n)o.regeneratorRuntime=r;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function i(t,e,i,o){var r=e&&e.prototype instanceof n?e:n,s=Object.create(r.prototype),a=new p(o||[]);return s._invoke=c(t,i,a),s}function o(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function n(){}function r(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(i,n,r,s){
var a,l,c=o(t[i],t,n);if("throw"!==c.type)return a=c.arg,l=a.value,l&&"object"==typeof l&&M.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,r,s)},function(t){e("throw",t,r,s)}):Promise.resolve(l).then(function(t){a.value=t,r(a)},s);s(c.arg)}function i(t,i){function o(){return new Promise(function(o,n){e(t,i,o,n)})}return n=n?n.then(o,o):o()}var n;this._invoke=i}function c(t,e,i){var n=m;return function(r,s){var a,l,c;if(n===y)throw Error("Generator is already running");if(n===b){if("throw"===r)throw s;return _()}for(i.method=r,i.arg=s;;){if((a=i.delegate)&&(l=h(a,i))){if(l===w)continue;return l}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===m)throw n=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);if(n=y,c=o(t,e,i),"normal"===c.type){if(n=i.done?b:v,c.arg===w)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=b,i.method="throw",i.arg=c.arg)}}}function h(t,e){var i,n,r=t.iterator[e.method];if(r===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,h(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}return i=o(r,t.iterator,e.arg),"throw"===i.type?(e.method="throw",e.arg=i.arg,e.delegate=null,w):(n=i.arg)?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,w):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function d(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function u(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(d,this),this.reset(!0)}function f(t){var e,i,o;if(t){if(e=t[L])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return i=-1,o=function e(){for(;++i<t.length;)if(M.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=g,e.done=!0,e},o.next=o}return{next:_}}function _(){return{value:g,done:!0}}var g,m,v,y,b,w,S,T,x,P,C=Object.prototype,M=C.hasOwnProperty,k="function"==typeof Symbol?Symbol:{},L=k.iterator||"@@iterator",I=k.asyncIterator||"@@asyncIterator",A=k.toStringTag||"@@toStringTag",R="object"==typeof t,D=e.regeneratorRuntime;if(D)return void(R&&(t.exports=D));D=e.regeneratorRuntime=R?t.exports:{},D.wrap=i,m="suspendedStart",v="suspendedYield",y="executing",b="completed",w={},S={},S[L]=function(){return this},T=Object.getPrototypeOf,x=T&&T(T(f([]))),x&&x!==C&&M.call(x,L)&&(S=x),P=s.prototype=n.prototype=Object.create(S),r.prototype=P.constructor=s,s.constructor=r,s[A]=r.displayName="GeneratorFunction",D.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))},D.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,A in t||(t[A]="GeneratorFunction")),t.prototype=Object.create(P),t},
D.awrap=function(t){return{__await:t}},a(l.prototype),l.prototype[I]=function(){return this},D.AsyncIterator=l,D.async=function(t,e,o,n){var r=new l(i(t,e,o,n));return D.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},a(P),P[A]="Generator",P[L]=function(){return this},P.toString=function(){return"[object Generator]"},D.keys=function(t){var e,i=[];for(e in t)i.push(e);return i.reverse(),function e(){for(;i.length;){var o=i.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},D.values=f,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(u),!t)for(var e in this)"t"===e.charAt(0)&&M.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){var t,e;if(this.done=!0,t=this.tryEntries[0],e=t.completion,"throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,o){return r.type="throw",r.arg=t,i.next=e,o&&(i.method="next",i.arg=g),!!o}var i,o,n,r,s,a;if(this.done)throw t;for(i=this,o=this.tryEntries.length-1;o>=0;--o){if(n=this.tryEntries[o],r=n.completion,"root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev)if(s=M.call(n,"catchLoc"),a=M.call(n,"finallyLoc"),s&&a){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!a)throw Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}},abrupt:function(t,e){var i,o,n,r;for(i=this.tryEntries.length-1;i>=0;--i)if(o=this.tryEntries[i],o.tryLoc<=this.prev&&M.call(o,"finallyLoc")&&this.prev<o.finallyLoc){n=o;break}return n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null),r=n?n.completion:{},r.type=t,r.arg=e,n?(this.method="next",this.next=n.finallyLoc,w):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){var e,i;for(e=this.tryEntries.length-1;e>=0;--e)if(i=this.tryEntries[e],i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),u(i),w},catch:function(t){var e,i,o,n;for(e=this.tryEntries.length-1;e>=0;--e)if(i=this.tryEntries[e],i.tryLoc===t)return o=i.completion,"throw"===o.type&&(n=o.arg,u(i)),n;throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:f(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=g),w}}}(function(){return this}()||Function("return this")())},,,,,,,,,,,,,function(t,e,i){"use strict";var o,n,r,s,a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),o=i(4),n=i(909),r=i(1094),s=i(85),a=i(2359),l=i(2362),c=i(53),d=function(){function t(){var t=this;if(h)return h;h=this,this.reset(),this.editAlert=new o,this.applySymbol=new o,this.popupsClosed=new o,this.popupsClosed.subscribe(null,function(){
c.TVXWindowEvents.emit("Alerts.Notifier.popupsClosed"),t._triggerEventsViewed(),t.reset()}),c.TVXWindowEvents.on("Alerts.Notifier.popupsClosed",function(){t.singleNotificationDialog&&t.singleNotificationDialog.close(),t.multipleNotificationsDialog&&t.multipleNotificationsDialog.close()}),this._playSound=s(this._playSoundImpl,50),r.enableAlertSoundsForMobile()}return t.prototype.addNotification=function(t,e){if(void 0===e&&(e=!1),!this.findNotification(t.id,t.alertId,t.type)&&(t.notifyWith.popup||t.notifyWith.sound||e)){if(t.notifyWith.popup||e){var i=t.type+":"+t.alertId;this._notifications[i]||(this._notifications[i]={alertId:t.alertId,lastFired:new Date(0),notifications:[]}),this._notifications[i].notifications.push(t),t.fired>this._notifications[i].lastFired&&(this._notifications[i].lastFired=t.fired),this._showPopup()}t.notifyWith.sound&&this._playSound(t.soundParams),n.show(t.desktopNotificationTitle,t.description)}},t.prototype.findNotification=function(t,e,i){var o,n=i+":"+e;return this._notifications[n]&&(o=this._notifications[n].notifications.find(function(e){return e.id===t}))?o:null},t.prototype.reset=function(){this._notifications={},this._playingSound&&(r.stop(this._playingSound.name),delete this._playingSound)},t.prototype.count=function(){var t,e,i=0,o=Object.keys(this._notifications);for(t=0;t<o.length;++t)e=o[t],i+=this._notifications[e].notifications.length;return i},t.prototype._showPopup=function(){var t,e,i,o,n,r,s=this,c=Object.keys(this._notifications);if(c.length)if(this.count()>1){for(c.sort(function(t,e){return s._notifications[t].lastFired.getTime()-s._notifications[e].lastFired.getTime()}),this.multipleNotificationsDialog||(this.multipleNotificationsDialog=l.createAlertsMultipleNotificationsDialog(),this._applyMultipleDialogHandlers(),setTimeout(function(){s.multipleNotificationsDialog&&s.multipleNotificationsDialog.open()},0)),t=0;t<c.length;++t)e=this._notifications[c[t]],i=e.notifications,o=i[i.length-1],n={count:i.length,description:o.description,fired:this._getPopupDateString(e.lastFired),id:e.alertId,symbols:this._getSymbolsDescription(o.symbols||[]),title:o.title,type:o.type},this.multipleNotificationsDialog.updateRow(n);this.singleNotificationDialog&&this.singleNotificationDialog.close()}else e=this._notifications[c[0]],i=e.notifications,o=i[i.length-1],r={alertDescription:o.description,alertTitle:o.title},Array.isArray(o.symbols)&&o.symbols.length&&(r.symbols=this._getSymbolsDescription(o.symbols)),this.singleNotificationDialog=a.createAlertsSingleNotificationDialog(r),this._applySingleDialogHandlers(o),this.singleNotificationDialog.open()},t.prototype._getPopupDateString=function(t){return t.toLocaleDateString()+" "+t.toLocaleTimeString()},t.prototype._getSymbolsDescription=function(t){return t.map(function(t){return{full:t,short:t.replace(/^[^:]+:/,"")}})},t.prototype._applyMultipleDialogHandlers=function(){var t=this;this.multipleNotificationsDialog&&(this.multipleNotificationsDialog.on("beforeClose",function(){
t.multipleNotificationsDialog&&t.multipleNotificationsDialog.editClick.unsubscribe(t,t._onEditClick),delete t.multipleNotificationsDialog,t.popupsClosed.fire()}),this.multipleNotificationsDialog.symbolClick.subscribe(this,this._onSymbolClick),this.multipleNotificationsDialog.editClick.subscribe(this,this._onEditClick))},t.prototype._applySingleDialogHandlers=function(t){var e=this;this.singleNotificationDialog&&(this.singleNotificationDialog.on("beforeClose",function(){e.singleNotificationDialog&&e.singleNotificationDialog.symbolClick.unsubscribe(e,e._onSymbolClick),delete e.singleNotificationDialog,e.multipleNotificationsDialog||e.popupsClosed.fire()}),this.singleNotificationDialog.on("action:edit",function(){e._onEditClick(t.alertId,t.type)}),this.singleNotificationDialog.symbolClick.subscribe(this,this._onSymbolClick))},t.prototype._onEditClick=function(t,e){this.editAlert.fire(t,e)},t.prototype._onSymbolClick=function(t){this.applySymbol.fire(t)},t.prototype._playSoundImpl=function(t){var e=this;if(this._playingSound){if(this._playingSound.name===t.name&&this._playingSound.duration===t.duration)return;r.stop(this._playingSound.name)}r.play(t.name,null,t.duration/1e3).then(function(){e._playingSound=t}),r.onStopped(t.name,function(){delete e._playingSound})},t.prototype._triggerEventsViewed=function(){var t=this;Object.keys(this._notifications).forEach(function(e){t._notifications[e].notifications.forEach(function(t){var e=TradingView.alertsDispatcher.events.findWhere({eventId:t.id});e&&e.trigger("popupClosed",e)})})},t}(),e.AlertEventNotifier=d},,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(5),e.issueTypes={SLOW_CHART:"Slow scrolling or chart loading",DRAWING_ISSUE:"Drawings issue",STUDY_NOT_LOADING:"Study not loading",TRADING:"Trading issue",OTHER:"Other",DATA:"Data",CHART_DOES_NOT_LOAD:"Chart does not load",NO_REAL_TIME_DATA:"No real-time data",GAP_IN_THE_DATA:"Gap in the data",PRICE_INCORRECT:"Price incorrect",PINE_SCRIPT:"Pine Script issue",ALERT:"Alerts issue",BILLING:"Billing",SCREENER:"Screener"},e.issueDisplayNames={SLOW_CHART:window.t("Chart is slow"),DRAWING_ISSUE:window.t("Drawings issue"),STUDY_NOT_LOADING:window.t("Study/indicator issue"),TRADING:window.t("Trading issue"),OTHER:window.t("Other"),DATA:window.t("Data issue"),CHART_DOES_NOT_LOAD:window.t("Chart isnt loading"),NO_REAL_TIME_DATA:window.t("No realtime data"),GAP_IN_THE_DATA:window.t("Gap in the data"),PRICE_INCORRECT:window.t("Price incorrect"),PINE_SCRIPT:window.t("Pine Script issue"),ALERT:window.t("Alert issue"),BILLING:window.t("Billing"),SCREENER:window.t("Stock/Forex Screener")},e.issueTypesToNamesMap=Object.keys(e.issueTypes).reduce(function(t,i){return t.set(e.issueTypes[i],e.issueDisplayNames[i]),t},new Map)},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 93" width="105" height="93"><g fill="none"><path fill="#3BB3E4" fill-rule="nonzero" d="M13 30h24a3 3 0 0 1 3 3v57a3 3 0 0 1-3 3H13a3 3 0 0 1-3-3V33a3 3 0 0 1 3-3z"/><path fill="#3BB3E4" fill-rule="nonzero" d="M93.952 84.948a8.21 8.21 0 0 1-3.24 1.058l-9.34 1a5 5 0 0 1-.532.028H54.908a5 5 0 0 1-2.773-.84l-4.489-2.992a1 1 0 0 0-.554-.168h-11.11V34.951h16.106a2.7 2.7 0 0 0 .792-.631c.63-.693 1.334-1.824 2.08-3.378 1.581-3.295 3.278-8.33 5.06-15.04 1.185-4.824 4.324-7.44 9.013-7.402 4.797.04 7.638 2.83 7.963 7.746L77 34.951h20.136c4.882.667 8.204 5.04 7.556 9.787a8.675 8.675 0 0 1-1.845 4.275 8.722 8.722 0 0 1-2.176 12.705c1.884 4.41.505 9.634-3.46 12.513a8.21 8.21 0 0 1-3.259 10.717z"/><path fill="currentColor" fill-rule="nonzero" d="M4 26v55h22V26H4zm26 .95h12.088c.313-.163.537-.35.792-.63.63-.693 1.334-1.824 2.08-3.378 1.581-3.295 3.278-8.33 5.06-15.04C51.206 3.077 54.345.461 59.034.5c4.797.04 7.638 2.83 7.963 7.746L67 26.951h20.136c4.882.667 8.204 5.04 7.556 9.787a8.675 8.675 0 0 1-1.943 4.393 9.835 9.835 0 0 1-2.12 13.433 9.492 9.492 0 0 1-3.379 11.747 8.21 8.21 0 0 1-6.537 11.695l-9.34 1a5 5 0 0 1-.533.028H44.908a5 5 0 0 1-2.773-.84l-4.489-2.992a1 1 0 0 0-.554-.168H30V82a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V25a3 3 0 0 1 3-3h24a3 3 0 0 1 3 3v1.95zm1.798 4H29.98v40.084h7.11a5 5 0 0 1 2.774.84l4.489 2.992a1 1 0 0 0 .554.168H70.84c.024 0 3.173-.335 9.447-1.006a4.21 4.21 0 0 0 3.195-6.294l-1.828-3.158 2.535-1.126a5.492 5.492 0 0 0 2.198-8.267l-1.191-1.625 2.889-2.086a5.835 5.835 0 0 0 .554-9.006l-1.666-1.547 2.116-1.763a4.675 4.675 0 0 0-2.237-8.205H66a3 3 0 0 1-3-3V8.447c-.201-2.814-1.352-3.925-4-3.947-2.776-.022-4.34 1.28-5.104 4.391-3.958 14.906-7.392 22.06-11.808 22.06h-10.29z"/><circle fill="currentColor" cx="18" cy="74" r="4"/></g></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(2320)},function(t,e,i){"use strict";function o(){return function(t,e){return i.e(90).then(function(o){var n=i(2302);e(new n(t))}.bind(null,i)).catch(i.oe)}}function n(){return function(t,e){return i.e(86).then(function(o){var n=i(2303);e(new n(t))}.bind(null,i)).catch(i.oe)}}function r(){return function(t,e){return i.e(89).then(function(o){var n=i(2304);e(new n.Broker(t))}.bind(null,i)).catch(i.oe)}}function s(){return function(t,e){return i.e(82).then(function(o){var n=i(2305).Broker;e(new n(t))}.bind(null,i)).catch(i.oe)}}function a(t,e){return function(o,n){return i.e(94).then(function(r){var s=i(2306).Broker;n(new s(o,t,e))}.bind(null,i)).catch(i.oe)}}var l,c,h,d,u,p,f,_,g,m,v,y,b,w;Object.defineProperty(e,"__esModule",{value:!0}),l=i(2282),c=i(25),h=i(2335),d=i(2336),u=i(2337),p=i(2338),f=i(2339),_=i(2340),g=i(2341),m=i(2342),v=["exp"],l.addBroker({id:"Paper",title:"Paper Trading",configFlags:{showQuantityInsteadOfAmount:!0,supportOrderBrackets:!0,supportPositionBrackets:!0,supportClosePosition:!0,supportCustomPlaceOrderTradableCheck:!0,supportPLUpdate:!0,supportReversePosition:!0},customNotificationFields:v,description:"",durations:[{
name:window.t("GTT"),value:"GTT",hasDatePicker:!0,hasTimePicker:!0}],icon:u},n()),l.addBroker({id:"CQG",title:"CQG",configFlags:{supportOrderBrackets:c.isFeatureEnabled("cqg_brackets"),supportPositionBrackets:c.isFeatureEnabled("cqg_brackets"),authorizationType:"password",showQuantityInsteadOfAmount:!0,supportLevel2Data:!0,supportPLUpdate:!0,supportStopLimitOrders:!0,supportSymbolSearch:!0,supportRealtimeDataCheck:!0},customNotificationFields:[],description:"",durations:h.cqgDurations,demoAccountLink:"https://demo.cqgtrader.com/DemoRequest/TradingView/",icon:d},o()),c.isFeatureEnabled("broker_OANDA")&&l.addBroker({id:"OANDA",title:"OANDA",configFlags:{authorizationType:"oauth",supportOrderBrackets:!0,supportPositionBrackets:!0,supportClosePosition:!0,supportModifyDuration:!0,supportMultiposition:!0,supportPLUpdate:!0,supportSymbolSearch:!0,requiresTermsOfServiceConfirmation:!0},description:"",customTermsOfServiceText:window.t("By checking this box, I confirm I've read the warning and terms of use, accept all risks, and acknowledge that the OANDA fxTrade system is the system of record for all transactions."),icon:_},r()),c.isFeatureEnabled("broker_FOREXCOM")&&l.addBroker({id:"FOREXCOM",title:"FOREX.com",configFlags:{authorizationType:"password",supportClosePosition:!0,supportPLUpdate:!0,supportOrderBrackets:!0,supportPositionBrackets:!0,supportMarketBrackets:!1,supportSymbolSearch:!0,supportTrades:!0,noAD:!0,supportModifyDuration:!0,showQuantityInsteadOfAmount:!0,supportDemoLiveSwitcher:!1},customNotificationFields:["duration.datetime","duration.type"],description:"",durations:[{name:window.t("GTC"),value:"GTC"},{name:window.t("EOD"),value:"EOD"}],icon:g},s()),c.isFeatureEnabled("broker_PAPERREST")&&(y={id:"PAPERREST",title:"Paper REST",configFlags:{authorizationType:"password",supportDemoLiveSwitcher:!1},description:"",icon:p},b=window,w=b.TRADING_REST_SERVER_URL,l.addBroker(y,a(w,y))),c.isFeatureEnabled("broker_ALOR")&&(y={id:"ALOR",title:" ",configFlags:{authorizationType:"password",supportDemoLiveSwitcher:!1,supportLevel2Data:!0,supportRealtimeDataCheck:!0,supportCustomPlaceOrderTradableCheck:!0},description:"",realAccountLink:"https://www.alorbroker.ru/open/?promo=L0607",icon:f,locales:["ru"]},w=c.isFeatureEnabled("broker_ALOR_dev")?"https://tvcomdev.alorbroker.ru/tradingview/v1/":"https://tvcom.alorbroker.ru/tradingview/v1/",l.addBroker(y,a(w,y))),c.isFeatureEnabled("broker_MODAL")&&(y={id:"MODAL",title:"Modal",configFlags:{authorizationType:"password",supportDemoLiveSwitcher:!1,supportRealtimeDataCheck:!0},description:"",icon:m,locales:["br"]},w="https://tradingview.modalmais.com.br/",l.addBroker(y,a(w,y)))},function(t,e,i){"use strict";function o(t){_.assert("object"!=typeof t,"Expected not an object")}var n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y;Object.defineProperty(e,"__esModule",{value:!0}),n=i(6),r=i(2322),s=i(25),i(5),a=i(3),l=i(2323),c=i(10),h=i(4),d=i(2283),u=i(2324),p=i(0),f=i(952),_=i(9),g=i(2325),m=i(2326),v=p.getLogger("Trading.BrokerConnectionAdapter"),y=function(){function t(t,e,i){var o,n=this
;this.connectionStatusUpdate=new h,this.executionUpdate=new h,this.fullUpdate=new h,this._subscriptions={},this._lastFireResult={},this._fakeDomeSubscriptions={},this._formattersCache={},this._spreadFormattersCache={},this._tradesCache=null,this._profitLossEmitters={},this._guiAccessor=null,this.config=t.configFlags,this._brokerMetainfo=this._patchMetainfo(t),this._brokerConnection=e,this._host=i,i.setBrokerConnectionAdapter(this),this._initializeConnectProtection(),this._positionsCache=new d.BrokerObjectsCache(function(){return e.positions()}),this._tradesCache=e.trades?new g.TradesCache(function(){return e.trades?e.trades():Promise.resolve([])},function(){return!!n.config.requiresFIFOCloseTrades}):null,this._ordersCache=new d.BrokerObjectsCache(function(){return e.orders()}),o=function(t){1===t?(n._positionsCache.start(),n._ordersCache.start(),n._tradesCache&&n._tradesCache.start()):(n._positionsCache.stop(),n._ordersCache.stop(),n._tradesCache&&n._tradesCache.stop())},this.connectionStatusUpdate.subscribe(null,o),o(this.connectionStatus()),t.configFlags.supportPLUpdate||(this._brokerConnection.subscribePL=function(t){n._profitLossEmitters[t]=n._createProfitLossEmitter(t)},this._brokerConnection.unsubscribePL=function(t){var e=n._profitLossEmitters[t];e&&(e.stop(),n._profitLossEmitters[t]=null)}),t.configFlags.supportLevel2Data||(e.subscribeDOME=function(t){n._fakeSubscribeDOME(t)},e.unsubscribeDOME=function(t){n._fakeUnsubscribeDOME(t)})}return t.prototype.host=function(){return this._host},Object.defineProperty(t.prototype,"orderUpdate",{get:function(){return this._ordersCache.updateDelegate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positionUpdate",{get:function(){return this._positionsCache.updateDelegate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tradeUpdate",{get:function(){return _.ensure(this._tradesCache).updateDelegate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orderPartialUpdate",{get:function(){return this._ordersCache.partialUpdateDelegate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positionPartialUpdate",{get:function(){return this._positionsCache.partialUpdateDelegate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tradePartialUpdate",{get:function(){return _.ensure(this._tradesCache).partialUpdateDelegate},enumerable:!0,configurable:!0}),t.prototype.onOrderUpdate=function(t,e){this._ordersCache.update(t,e)},t.prototype.onOrderPartialUpdate=function(t,e){this._ordersCache.partialUpdate(t,e)},t.prototype.onPositionUpdate=function(t,e){if(0===t.qty){var i=this._lastFireResult[t.symbol];i&&delete i.PL}this._positionsCache.update(t,e)},t.prototype.onPositionPartialUpdate=function(t,e){this._positionsCache.partialUpdate(t,e)},t.prototype.onTradeUpdate=function(t,e){if(_.assert(!!this.config.supportTrades,"Broker doesn`t support trades"),0===t.qty){var i=this._lastFireResult[t.symbol];i&&delete i.TradePL}_.ensure(this._tradesCache).update(t,e)},
t.prototype.onTradePartialUpdate=function(t,e){_.ensure(this._tradesCache).partialUpdate(t,e)},t.prototype.onFullUpdate=function(){this._positionsCache.fullUpdate(),this._ordersCache.fullUpdate(),this._tradesCache&&this._tradesCache.fullUpdate(),this.fullUpdate.fire()},t.prototype.patchConfig=function(t){m.migrateConfigFlags(t),Object.assign(this.config,t),Object.assign(this._brokerMetainfo.configFlags,t),this._brokerMetainfo=this._patchMetainfo(this._brokerMetainfo)},t.prototype.chartContextMenuActions=function(t,e){return this._brokerConnection.chartContextMenuActions(t,e)},t.prototype.buttonDropdownActions=function(){return this._host.buttonDropdownActions()||[]},t.prototype.connectionStatus=function(){return this._brokerConnection.connectionStatus()},t.prototype.isConnected=function(){return 1===this._brokerConnection.connectionStatus()},t.prototype.signIn=function(t,e,i){return p.getLogger("Trading."+this._brokerMetainfo.id+".Connection").logNormal("Try to login with username: "+t),this._brokerConnection.signIn(t,e,i)},t.prototype.disconnect=function(){return this._brokerConnection.disconnect()},t.prototype.currentAccount=function(){return this._brokerConnection.currentAccount?this._brokerConnection.currentAccount():""},t.prototype.currentAccountType=function(){return this._brokerConnection.currentAccountType?this._brokerConnection.currentAccountType():""},t.prototype.metainfo=function(){return this._brokerMetainfo},t.prototype.bro=function(){return this._brokerConnection},t.prototype.fireSubscription=function(t,e,i,o){if(void 0===this._lastFireResult[e]&&(this._lastFireResult[e]={Realtime:null,PL:null,Equity:null,DOME:null,TradePL:null}),_.ensure(this._lastFireResult[e])[t]={data:i,time:Date.now()},void 0!==this._subscriptions[e]){var n=_.ensure(this._subscriptions[e]);_.ensure(n[t]).forEach(function(t){return t(e,i,o)})}},t.prototype.positions=function(t){return this._makeSureBrokerIsConnected(),this._positions().then(function(e){return e.filter(function(e){return void 0===t||e.symbol===t})})},t.prototype.trades=function(t){return this._makeSureBrokerIsConnected(),_.assert(!!this.config.supportTrades,"Broker doesn`t support trades"),this._trades().then(function(e){return e.filter(function(e){return void 0===t||e.symbol===t})})},t.prototype.positionById=function(t){return this.positions().then(function(e){return e.find(function(e){return e.id===t})}).then(function(t){return _.ensure(t)})},t.prototype.tradeById=function(t){return _.assert(!!this.config.supportTrades,"Broker doesn`t support trades"),this.trades().then(function(e){return e.find(function(e){return e.id===t})}).then(function(t){return _.ensure(t)})},t.prototype.orders=function(t){var e=this;return this._makeSureBrokerIsConnected(),this._orders().then(function(i){return i.filter(function(e){return void 0===t||e.symbol===t}).map(function(t){return e._host.patchOrderUpdateTime(t)})})},t.prototype.executions=function(t){return this._makeSureBrokerIsConnected(),this._brokerConnection.executions(t)},t.prototype.orderById=function(t){var e=this
;return this._makeSureBrokerIsConnected(),this._brokerConnection.orders().then(function(i){return e._host.patchOrderUpdateTime(i.filter(function(e){return e.id===t})[0])})},t.prototype.accountManagerInfo=function(){return this._brokerConnection.accountManagerInfo()},t.prototype.isTradable=function(t){return this._makeSureBrokerIsConnected(),this._brokerConnection.isTradable(t)},t.prototype.formatter=function(t){return this._makeSureBrokerIsConnected(),this._formattersCache[t]||(this._formattersCache[t]=this._brokerConnection.formatter&&this._brokerConnection.formatter(t)||this.host().defaultFormatter(t)),f.makeTimeLimited(this._formattersCache[t],1e4,"formatter not received")},t.prototype.spreadFormatter=function(t){return this._makeSureBrokerIsConnected(),this._spreadFormattersCache[t]||(this._spreadFormattersCache[t]=this._brokerConnection.spreadFormatter&&this._brokerConnection.spreadFormatter(t)||this.host().defaultFormatter(t)),f.makeTimeLimited(this._spreadFormattersCache[t],1e4,"spreadFormatter not received")},t.prototype.setGuiAccessor=function(t){this._guiAccessor=t},t.prototype.placeOrder=function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,o,a,l,c,h=this;return n.__generator(this,function(n){switch(n.label){case 0:return s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase())?(r.maintenance.show(this._brokerMetainfo.title),[2]):(this._makeSureBrokerIsConnected(),this.config.supportCustomPlaceOrderTradableCheck?(o=!0,[3,3]):[3,1]);case 1:return[4,this.isTradable(t.symbol)];case 2:o=n.sent(),n.label=3;case 3:if(!(i=o))return u.MessageDialog.show(window.t("Non-tradable symbol"),"<p>"+window.t("This symbol cannot be traded through __broker__.",{broker:this.metainfo().title})+"</p>"),[2];a=e&&this._host.silentOrdersPlacement().value(),l=this._guiAccessor&&a?this._guiAccessor.showReplayConfirmationDialog():Promise.resolve(),n.label=4;case 4:return n.trys.push([4,6,,7]),[4,l];case 5:return n.sent(),[3,7];case 6:return c=n.sent(),[2];case 7:return[2,this.processErrors(this._brokerConnection.placeOrder(t,a),a,window.t("Order rejected"),function(){h._host.trackOrderPlaced()})]}})})},t.prototype.modifyOrder=function(t,e,i){if(s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase()))return r.maintenance.show(this._brokerMetainfo.title),Promise.resolve();this._makeSureBrokerIsConnected();var o=e&&this._host.silentOrdersPlacement().value();return this.processErrors(this._brokerConnection.modifyOrder(t,o,i),o,window.t("Failed to modify order"))},t.prototype.cancelOrder=function(t){if(s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase()))return r.maintenance.show(this._brokerMetainfo.title),Promise.resolve();o(t),this._makeSureBrokerIsConnected();var e=this._host.silentOrdersPlacement().value();return this.processErrors(this._brokerConnection.cancelOrder(t,e),!0,window.t("Failed to cancel order"))},t.prototype.cancelOrders=function(t,e){function i(t){return 4===t.status||3===t.status||6===t.status}var o,n=this
;return s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase())?(r.maintenance.show(this._brokerMetainfo.title),Promise.resolve()):(this._makeSureBrokerIsConnected(),o=this._host.silentOrdersPlacement().value(),this.orders().then(function(r){var s,a=r.filter(function(o){return o.symbol===t&&(!e||o.side===e)&&i(o)});return a.length?1===a.length?n.cancelOrder(a[0].id):(s=a.map(function(t){return t.id}),n.processErrors(n._brokerConnection.cancelOrders(t,e,s,o),!0,window.t("Failed to cancel one or more orders"))):Promise.resolve()}))},t.prototype.closePosition=function(t){var e,i=this;return s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase())?(r.maintenance.show(this._brokerMetainfo.title),Promise.resolve()):(o(t),this._makeSureBrokerIsConnected(),e=this._host.silentOrdersPlacement().value(),this.config.supportClosePosition?this.processErrors(this._brokerConnection.closePosition(t,e),e,window.t("Failed to close position")):this.positionById(t).then(function(t){var o={qty:Math.abs(t.qty),side:1===t.side?-1:1,symbol:t.symbol,brokerSymbol:t.brokerSymbol,type:2};return i.processErrors(i._brokerConnection.placeOrder(o,e),e,window.t("Failed to close position"),function(){i._host.trackOrderPlaced()})}))},t.prototype.closeTrade=function(t){if(s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase()))return r.maintenance.show(this._brokerMetainfo.title),Promise.resolve();o(t),this._makeSureBrokerIsConnected(),_.assert(!!this.config.supportTrades,"Broker doesn`t support trades");var e=this._host.silentOrdersPlacement().value();if(this._brokerConnection.closeTrade)return this.processErrors(this._brokerConnection.closeTrade(t,e),e,window.t("Failed to close position"));throw Error("Method closeTrade is not implemented")},t.prototype.reversePosition=function(t){var e,i=this;if(s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase()))return r.maintenance.show(this._brokerMetainfo.title),Promise.resolve();if(o(t),this._makeSureBrokerIsConnected(),this.metainfo().configFlags.supportMultiposition&&!this.config.supportReversePosition)throw Error("Cannot reverse position on multiposition acount");return e=this._host.silentOrdersPlacement().value(),this.config.supportReversePosition&&this._brokerConnection.reversePosition?this.processErrors(this._brokerConnection.reversePosition(t,e),e,window.t("Failed to reverse position")):this.positionById(t).then(function(t){var o=function(){var e={qty:2*Math.abs(t.qty),side:1===t.side?-1:1,symbol:t.symbol,brokerSymbol:t.brokerSymbol,type:2};return i._brokerConnection.placeOrder(e,!0)};return e?i.processErrors(o(),e,window.t("Failed to reverse position"),function(){i._host.trackOrderPlaced()}):i.processErrors(i._host.showReversePositionDialog(t,o),!1,window.t("Failed to reverse position"),function(){return i._host.trackOrderPlaced()})})},t.prototype.editPositionBrackets=function(t,e,i,o){if(s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase()))return r.maintenance.show(this._brokerMetainfo.title),
Promise.resolve();if(this._makeSureBrokerIsConnected(),_.assert(!!this.config.supportPositionBrackets,"Broker doesn`t support brackets on positions"),this._brokerConnection.editPositionBrackets)return this.processErrors(this._brokerConnection.editPositionBrackets(t,e,i,o));throw Error("Method editPositionBrackets is not implemented")},t.prototype.editTradeBrackets=function(t,e,i,o){if(s.isFeatureEnabled((this._brokerMetainfo.id+"-maintenance").toLowerCase()))return r.maintenance.show(this._brokerMetainfo.title),Promise.resolve();if(this._makeSureBrokerIsConnected(),_.assert(!!this.config.supportTradeBrackets,"Broker doesn`t support brackets on trades"),this._brokerConnection.editTradeBrackets)return this.processErrors(this._brokerConnection.editTradeBrackets(t,e,i,o));throw Error("Method editTradeBrackets is not implemented")},t.prototype.subscribeRealtime=function(t,e){return this._makeSureBrokerIsConnected(),this._addSubscription("Realtime",t,e)},t.prototype.quotesSnapshot=function(t){var e=this;return f.makeTimeLimited(new Promise(function(i){var o=function(t,n){n&&(n.trade||n.ask||n.bid)&&(e.unsubscribeRealtime(t,o),i(n))};e.subscribeRealtime(t,o)}),1e4,"quotesSnapshot not received")},t.prototype.subscribeDOME=function(t,e){return this._makeSureBrokerIsConnected(),this._addSubscription("DOME",t,e)},t.prototype.subscribePL=function(t,e){return this._makeSureBrokerIsConnected(),this._addSubscription("PL",t,e)},t.prototype.subscribeTradePL=function(t,e){return this._makeSureBrokerIsConnected(),this._addSubscription("TradePL",t,e)},t.prototype.subscribeEquity=function(t){return this._makeSureBrokerIsConnected(),this._addSubscription("Equity","Equity",t)},t.prototype.unsubscribeRealtime=function(t,e){this._removeSubscription("Realtime",t,e)},t.prototype.unsubscribeDOME=function(t,e){this._removeSubscription("DOME",t,e)},t.prototype.unsubscribePL=function(t,e){this._removeSubscription("PL",t,e)},t.prototype.unsubscribeTradePL=function(t,e){this._removeSubscription("TradePL",t,e)},t.prototype.unsubscribeEquity=function(t){this._removeSubscription("Equity","Equity",t)},t.prototype.accountInfo=function(){return f.makeTimeLimited(this._brokerConnection.accountInfo(),1e4,"accountInfo not received")},t.prototype.symbolInfo=function(t){return f.makeTimeLimited(this._brokerConnection.symbolInfo(t),1e4,"symbolInfo not received")},t.prototype.bugReportInfo=function(){function t(t){return JSON.parse(JSON.stringify(t))}function e(t){var i,o;if("object"!=typeof t)return t;if(c.isArray(t))return t.map(e);i={};for(o in t)"object"!=typeof t[o]&&(i[o]=t[o]);return i}var i=this;return Promise.all([this.orders(),this.positions(),this.config.supportTrades?this.trades():Promise.resolve([])]).then(function(o){return{activeBroker:i.metainfo().title,orders:e(t(o[0])),positions:e(t(o[1])),trades:e(t(o[2])),silentOrdersPlacement:i._host.silentOrdersPlacement().value(),floatingPanel:i._host.floatingTradingPanelVisibility().value(),account:i.currentAccount(),accountType:i.currentAccountType(),lastUpdates:i._lastFireResult,time:Date.now(),
brokerSpecific:i._brokerConnection.bugReportInfo?i._brokerConnection.bugReportInfo():null}})},t.prototype.processErrors=function(t,e,i,o){var n=this;if(!c.isPromise(t))throw Error("Broker incorrectly implements API, should return Promise");return t.then(o).catch(function(t){if(void 0===t||!0===t||!1===t)return Promise.resolve(void 0!==t&&t);var o="";return"string"==typeof t?o=t:"object"==typeof t&&"string"==typeof t.message&&(o=t.message),o.length?(e&&a.enabled("trading_notifications")?n._host.showNotification(i||"",o,0):v.logWarn(t),Promise.resolve(!1)):Promise.reject(t)})},t.prototype.setDurations=function(t){this._brokerMetainfo.durations=t.slice()},t.prototype.setSymbolSearchId=function(t){this._brokerMetainfo.symbolSearchId=t},t.prototype.getRealtimeDataCheckParams=function(){return this._brokerConnection.getRealtimeDataCheckParams?this._brokerConnection.getRealtimeDataCheckParams():{}},t.prototype.destroy=function(){void 0!==this._brokerConnection.destroy&&this._brokerConnection.destroy()},t.prototype._initializeConnectProtection=function(){var t=this,e=null,i=function(){e&&(clearTimeout(e),e=null)},o=function(o){if(i(),2===o){var n="oauth"===t.config.authorizationType?18e4:6e4;e=setTimeout(function(){t._host.selectBroker(),t.host().showNotification(window.t("Authorization Error"),window.t("The connection attempt failed. Please try again later."))},n)}};this.connectionStatusUpdate.subscribe(null,o)},t.prototype._fakeSubscribeDOME=function(t){var e=this;this._fakeDomeSubscriptions[t]=function(t,i){var o=i.ask||i.trade,n=i.bid||i.trade,r={snapshot:!0,asks:o?[{price:o,volume:i.ask_size||1/0}]:[],bids:n?[{price:n,volume:i.bid_size||1/0}]:[]};e.host().domeUpdate(t,r)},this.subscribeRealtime(t,this._fakeDomeSubscriptions[t])},t.prototype._fakeUnsubscribeDOME=function(t){this.unsubscribeRealtime(t,this._fakeDomeSubscriptions[t])},t.prototype._createProfitLossEmitter=function(t){return new l.ProfitLossEmitter(t,this,this._host)},t.prototype._patchMetainfo=function(t){var e=c.clone(t);return e.configFlags.supportReversePosition=!this.config.supportMultiposition||this.config.supportReversePosition,e.configFlags.supportClosePosition=!0,e.configFlags.supportPLUpdate=!0,e},t.prototype._addSubscription=function(t,e,i){var o,n,r,s;void 0===this._subscriptions[e]&&(this._subscriptions[e]={Realtime:[],PL:[],Equity:[],DOME:[],TradePL:[]}),o=_.ensure(this._subscriptions[e]),n=o[t].length>0,o[t].push(i),r=this._lastFireResult[e],void 0!==r&&void 0!==r[t]&&null!==r[t]&&i(e,r[t].data),!n&&o[t].length>0&&(s="subscribe"+t,this._brokerConnection[s]&&this._brokerConnection[s](e))},t.prototype._removeSubscription=function(t,e,i){var o,n,r;void 0!==this._subscriptions[e]&&(o=_.ensure(this._subscriptions[e]),n=o[t].indexOf(i),n>-1&&o[t].splice(n,1),0===o[t].length&&(r="unsubscribe"+t,this._brokerConnection[r]&&this._brokerConnection[r](e)))},t.prototype._positions=function(){return this._positionsCache.getObjects()},t.prototype._trades=function(){return this._tradesCache?this._tradesCache.getObjects():Promise.resolve([])},
t.prototype._orders=function(){return this._ordersCache.getObjects()},t.prototype._makeSureBrokerIsConnected=function(){_.assert(1===this.connectionStatus(),"Broker is not connected")},t}(),e.BrokerConnectionAdapter=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(28),i(5),e.maintenance={show:function(t){return new Promise(function(e,o){new Promise(function(t){t()}).then(function(o){var n=i(56).createDialog,r="<p>"+window.t("We are doing some brief daily maintenance. __name__ will be back really soon, thanks for your patience!",{name:t})+"</p>",s=n({title:window.t("__name__ maintenance",{name:t}),content:r,width:500,type:"modal",draggable:!1,destroyOnClose:!0,closeOnOutsideClick:!1,addClass:"tv-text",actions:[{name:"ok",text:window.t("Ok"),type:"primary",method:"close"}]});s.on("action:yes",function(){e()}),s.open()}.bind(null,i)).catch(i.oe)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,i){var o=this;this._symbol=null,this._side=null,this._realtimeData=null,this._avgPrice=null,this._positionId=t,this._adapter=e,this._host=i,this._adapter.positionById(t).then(function(t){o._symbol=t.symbol,o._side=t.side,o._onPositionChanged(t),o._onRealtimeBinded=o._onRealtime.bind(o),o._adapter.subscribeRealtime(o._symbol,o._onRealtimeBinded),o._adapter.positionUpdate.subscribe(o,o._onPositionChanged)})}return t.prototype.stop=function(){this._symbol&&this._adapter.unsubscribeRealtime(this._symbol,this._onRealtimeBinded),this._adapter.positionUpdate.unsubscribe(this,this._onPositionChanged)},t.prototype._updatePL=function(){if(this._realtimeData&&this._realtimeData.trade&&this._avgPrice){var t=(this._realtimeData.trade-Math.abs(this._avgPrice))*(1===this._side?1:-1);this._host.plUpdate(this._positionId,t)}},t.prototype._onRealtime=function(t,e){this._realtimeData=e,this._updatePL()},t.prototype._onPositionChanged=function(t){this._avgPrice=t.avgPrice,this._updatePL()},t}();e.ProfitLossEmitter=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(28),i(5),e.MessageDialog={show:function(t,e){new Promise(function(t){t()}).then(function(o){(0,i(56).createDialog)({title:t,content:e,width:500,type:"modal",draggable:!1,destroyOnClose:!0,closeOnOutsideClick:!1,addClass:"tv-text",actions:[{name:"ok",text:window.t("Ok"),type:"primary",method:"close"}]}).open()}.bind(null,i)).catch(i.oe)}}},function(t,e,i){"use strict";var o,n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(2283),r=i(9),s=function(t){function e(e,i){var o=t.call(this,e)||this;return o._fifoRequiredGetter=i,o}return o.__extends(e,t),e.prototype._onObjectUpdated=function(e,i){this._patchTrades(this._objectsCache().filter(function(t){return t.symbol===e.symbol&&0!==t.qty}),e,i),t.prototype._onObjectUpdated.call(this,e,i)},e.prototype._onAllObjectsUpdated=function(){this._patchTrades(this._objectsCache().filter(function(t){return 0!==t.qty})),t.prototype._onAllObjectsUpdated.call(this)},e.prototype._patchTrades=function(e,i,o){
var n,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b=this._fifoRequiredGetter(),w={},S={};if(b){for(n={},s=0,a=e;s<a.length;s++)l=a[s],c=n[l.symbol],void 0===c&&(c={oldest:null,all:[]},n[l.symbol]=c),(null===c.oldest||c.oldest.date>l.date)&&(c.oldest=l),c.all.push(l),S[l.id]=l;for(h=0,d=Object.keys(n);h<d.length;h++)for(u=d[h],c=r.ensureDefined(n[u]),p=0,f=c.all;p<f.length;p++)l=f[p],w[l.id]=c.oldest===l}else for(_=0,g=e;_<g.length;_++)l=g[_],w[l.id]=!0,S[l.id]=l;for(m=0,v=Object.keys(w);m<v.length;m++)y=v[m],l=S[y],l.canBeClosed!==w[y]&&(l.canBeClosed=w[y],i&&i!==l&&t.prototype._onObjectUpdated.call(this,l,o))},e}(n.BrokerObjectsCache),e.TradesCache=s},function(t,e,i){"use strict";function o(t){t.supportBrackets&&(r.logWarn("supportBrackets is deprecated. Use supportOrderBrackets and supportPositionBrackets instead."),t.supportOrderBrackets=!0,t.supportPositionBrackets=!0)}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(0),r=n.getLogger("Trading.Migrations"),e.migrateConfigFlags=o},function(t,e,i){"use strict";function o(t){var e,i;if(t&&t.__esModule)return t;if(e={},null!=t)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){function o(n,r){var s,a;try{s=e[n](r),a=s.value}catch(t){return void i(t)}if(!s.done)return Promise.resolve(a).then(function(t){o("next",t)},function(t){o("throw",t)});t(a)}return o("next")})}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k,L,I,A,R;Object.defineProperty(e,"__esModule",{value:!0}),e.BrokerConnectionAdapterHost=void 0,a=i(2284),l=n(a),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),d=i(550),u=o(d),p=i(549),f=i(2328),_=i(2329),g=i(2330),m=i(2331),v=i(4),y=n(v),b=i(22),w=n(b),S=i(48),T=n(S),x=i(0),P=i(94),C=o(P),M=i(66),k=i(10),L=i(2332),I=i(2333),A=function(){return new Promise(function(t){i.e(91).then(function(e){t(i(2300))}.bind(null,i)).catch(i.oe)})},R=function(){return new Promise(function(t){i.e(92).then(function(e){t(i(2301))}.bind(null,i)).catch(i.oe)})},e.BrokerConnectionAdapterHost=function(){function t(e,i){s(this,t),this._trading=e,this._adapter=null,this._orderUpdateTimes={},this._metainfo=i,this._setDefaultDropdownActionsBound=this._setDefaultDropdownActions.bind(this),this._defaultDropdownActions=!0,this.floatingTradingPanelVisibility().subscribe(this._setDefaultDropdownActionsBound),this.domVisibility().subscribe(this._setDefaultDropdownActionsBound),this._setDefaultDropdownActions()}return h(t,[{
key:"getLogger",value:function(){return(0,x.getLogger)("Trading."+this._metainfo.id)}},{key:"translate",value:function(t){return $.t(t)}},{key:"setBrokerConnectionAdapter",value:function(t){this._adapter=t}},{key:"showOrderDialog",value:function(){function t(t,i,o,n){return e.apply(this,arguments)}var e=r(l.default.mark(function t(e,i,o,n){var r,s;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return r=t.sent,s=r.Ticket,t.abrupt("return",s.get(this._trading).open(e,i,o,n));case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"patchConfig",value:function(t){this._adapter.patchConfig(t)}},{key:"setDurations",value:function(t){this._adapter.setDurations(t)}},{key:"setSymbolSearchId",value:function(t){this._adapter.setSymbolSearchId(t)}},{key:"showCancelOrderDialog",value:function(t,e){var i=this;return f.ConfirmOrderCancelDialog.get().open(t).then(function(t){t&&i._adapter.processErrors(e(),!0,$.t("Failed to cancel order"))})}},{key:"showCancelMultipleOrdersDialog",value:function(t,e,i,o){var n=this;return f.ConfirmOrderCancelDialog.get().multiple(t,e,i).then(function(t){t&&n._adapter.processErrors(o(),!0,$.t("Failed to cancel one or more orders"))})}},{key:"showCancelBracketsDialog",value:function(t,e){var i=this;return _.ConfirmBracketsCancelDialog.get().open(t).then(function(t){t&&i._adapter.processErrors(e(),!0,$.t("Failed to cancel brackets"))})}},{key:"showCancelMultipleBracketsDialog",value:function(t,e){var i=this;return _.ConfirmBracketsCancelDialog.get().multiple(t).then(function(t){t&&i._adapter.processErrors(e(),!0,$.t("Failed to cancel brackets"))})}},{key:"showClosePositionDialog",value:function(t,e){return"object"===(void 0===t?"undefined":c(t))&&(t=t.id),(0,g.closePositionDialog)(this._trading,t,e)}},{key:"showReversePositionDialog",value:function(t,e){return(0,m.reversePositionDialog)(this._trading,t,e)}},{key:"showEditBracketsDialog",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o={};return i&&(o.focus=i),this.showPositionBracketsDialog(t,{stopLoss:t.stopLoss,takeProfit:t.takeProfit},o,function(t){return e(t.stopLoss,t.takeProfit)})}},{key:"showPositionBracketsDialog",value:function(){function t(t,i,o,n){return e.apply(this,arguments)}var e=r(l.default.mark(function t(e,i,o,n){var r,s;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:return r=t.sent,s=r.PositionTicket,t.abrupt("return",s.get().open(e,i,o,n));case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"activateBottomWidget",value:function(){return this._trading.toggleTradingWidget()}},{key:"trackEvent",value:function(t,e,i){this._trading.trackEvent(t,e,i)}},{key:"trackOrderPlaced",value:function(){this._trading.tradingStat.trackOrderPlaced()}},{key:"defaultFormatter",value:function(t){return window.quoteSessionMultiplexerInstance.simple.formatter(t)}},{key:"numericFormatter",value:function(t){return Promise.resolve(new M.NumericFormatter(t))}},{key:"selectBroker",value:function(){
this._trading.selectBroker()}},{key:"showTradingProperties",value:function(){this._trading.showTradingProperties()}},{key:"symbolSnapshot",value:function(t){return window.quoteSessionMultiplexerInstance.full.snapshot(t)}},{key:"suggestedQty",value:function(){return this._trading.suggestedQty()}},{key:"silentOrdersPlacement",value:function(){return this._trading.noConfirmEnabled}},{key:"floatingTradingPanelVisibility",value:function(){return this._trading.hideFloatingPanel.opposite()}},{key:"domVisibility",value:function(){return this._trading.domVisibility}},{key:"showPricesWithZeroVolume",value:function(){return this._trading.showPricesWithZeroVolume}},{key:"showNotification",value:function(t,e){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.NOTIFICATION.ERROR)===p.NOTIFICATION.ERROR?this._trading.showErrorNotification(t,e):this._trading.showSuccessNotification(t,e)}},{key:"connectionStatusUpdate",value:function(t,e){this._adapter.connectionStatusUpdate.fire(t,e)}},{key:"patchOrderUpdateTime",value:function(t){var e=this._orderUpdateTimes[t.id];return!e&&u.isOrderActive(t.status)&&(e=Date.now(),this._orderUpdateTimes[t.id]=e),t.updateTime=this._orderUpdateTimes[t.id],t}},{key:"orderUpdate",value:function(t,e){e&&!u.isOrderActive(t.status)||(this._orderUpdateTimes[t.id]=Date.now(),this.patchOrderUpdateTime(t)),this._adapter.onOrderUpdate(t,e)}},{key:"positionUpdate",value:function(t,e){this._adapter.onPositionUpdate(t,e)}},{key:"tradeUpdate",value:function(t,e){this._adapter.onTradeUpdate(t,e)}},{key:"orderPartialUpdate",value:function(t,e){(0,k.isObject)(t)&&this.patchOrderUpdateTime(t),this._adapter.onOrderPartialUpdate(t,e)}},{key:"positionPartialUpdate",value:function(t,e){this._adapter.onPositionPartialUpdate(t,e)}},{key:"tradePartialUpdate",value:function(t,e){this._adapter.onTradePartialUpdate(t,e)}},{key:"executionUpdate",value:function(t,e){this._adapter.executionUpdate.fire(t,e)}},{key:"fullUpdate",value:function(){this._adapter.onFullUpdate()}},{key:"realtimeUpdate",value:function(t,e){this._adapter.fireSubscription("Realtime",t,e)}},{key:"domeUpdate",value:function(t,e){this._adapter.fireSubscription("DOME",t,e)}},{key:"plUpdate",value:function(t,e,i){this._adapter.fireSubscription("PL",t,e,i)}},{key:"tradePLUpdate",value:function(t,e){this._adapter.fireSubscription("TradePL",t,e)}},{key:"equityUpdate",value:function(t){this._adapter.fireSubscription("Equity","Equity",t)}},{key:"setButtonDropdownActions",value:function(t){this._defaultDropdownActions&&(this._defaultDropdownActions=!1,this.floatingTradingPanelVisibility().unsubscribe(this._setDefaultDropdownActionsBound),this.domVisibility().unsubscribe(this._setDefaultDropdownActionsBound)),this._buttonDropdownActions=u.convertActionDescriptionsToPopupMenuDescriptions(t)}},{key:"buttonDropdownActions",value:function(){return this._buttonDropdownActions}},{key:"defaultContextMenuActions",value:function(){var t;return(t=this._trading).defaultContextMenuActions.apply(t,arguments)}},{key:"defaultDropdownMenuActions",value:function(){var t
;return(t=this._trading).defaultDropdownMenuActions.apply(t,arguments)}},{key:"createMapper",value:function(t){return new L.SymbolMapper(window.SYMBOL_MAPPER_URL,t)}},{key:"createMapperSync",value:function(t){return new I.SymbolMapperSync(window.SYMBOL_MAPPER_URL,t)}},{key:"convertTimezone",value:function(t,e,i){var o=C.get_timezone(e),n=C.get_timezone(i),r=C.cal_to_utc(o,t);return C.utc_to_cal(n,r)}},{key:"language",value:function(){return window.language}},{key:"_setDefaultDropdownActions",value:function(){this._buttonDropdownActions=u.convertActionDescriptionsToPopupMenuDescriptions(this.defaultDropdownMenuActions())}},{key:"factory",get:function(){return{createDelegate:function(){return new y.default},createWatchedValue:function(t){return new w.default(t)}}}},{key:"settings",get:function(){var t=this;return{save:function(e,i){return T.default.setJSON(t._metainfo.id+"."+e,i)},load:function(e,i){return T.default.getJSON(t._metainfo.id+"."+e,i)}}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(28),i(5);var o=i(2267);e.ConfirmOrderCancelDialog={get:function(){return this},open:function(t){var e=window.t("Cancel Order"),i="<p>"+window.t("Are you sure you want to cancel order %s?").replace(/%s/,t+"")+"</p>";return o.showConfirmDialog(e,i)},multiple:function(t,e,i){var n,r,s=t;return void 0!==e&&(s+=" ",s+=1===e?window.t("BUY"):window.t("SELL")),n=window.t("Cancel Orders"),r="<p>"+window.t("Are you sure you want to cancel {0} {1} orders?").format(i+"",s)+"</p>",o.showConfirmDialog(n,r)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(28),i(5);var o=i(2267);e.ConfirmBracketsCancelDialog={get:function(){return this},open:function(t){var e=window.t("Cancel Bracket"),i="<p>"+window.t("Are you sure you want to cancel {0}bracket?").format(t?t+" ":"")+"</p>";return o.showConfirmDialog(e,i)},multiple:function(t){var e=window.t("Cancel Brackets"),i="<p>"+window.t("Are you sure you want to cancel {0}brackets?").format(t?t+" ":"")+"</p>";return o.showConfirmDialog(e,i)}}},function(t,e,i){"use strict";function o(t,e,i){return new Promise(function(o){var r=window.t("Close {0} position?").format(e+""),s="<p>"+window.t("Are you sure you want to close {0} position?").format(e+"")+"</p>",a=window.t("Close position"),l=window.t("Cancel");n.showConfirmDialog(r,s,a,l).then(function(t){return!0===t?i():o(!1)}).then(function(){o(!0)}).catch(function(e){var i,n="";null!==e&&"object"==typeof e&&e.message?n=e.message:"string"==typeof e&&(n=e),i=window.t("Failed to close the position"),t.showErrorNotification(i,n),o(!1)})})}Object.defineProperty(e,"__esModule",{value:!0}),i(28),i(5);var n=i(2267);e.closePositionDialog=o},function(t,e,i){"use strict";function o(t,e,i){return new Promise(function(o){var r=window.t("Reverse {0} position?").format(e.id+""),s="<p>"+window.t("Are you sure you want to reverse {0} position?").format(e.id+"")+"</p>",a=window.t("Reverse position"),l=window.t("Cancel");n.showConfirmDialog(r,s,a,l).then(function(t){return!0===t?i():o(!1)
}).then(function(){o(!0)}).catch(function(e){var i,n="";null!==e&&"object"==typeof e&&e.message?n=e.message:"string"==typeof e&&(n=e),i=window.t("Failed to reverse position"),t.showErrorNotification(i,n),o(!1)})})}Object.defineProperty(e,"__esModule",{value:!0}),i(28),i(5);var n=i(2267);e.reversePositionDialog=o},function(t,e,i){"use strict";var o,n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),o=i(64),n="symbol",r="brokerSymbol",s="ok",a="SYMBOL_NOT_FOUND",l=function(){function t(t,e){this._queueForTV={},this._queueForBroker={},this._brokerName=e,this._mapperUrl=t}return t.prototype.tvToBroker=function(t){return this._queueForBroker[t]||(this._queueForBroker[t]=this._requestOfData(t,this._brokerName,n)),this._queueForBroker[t]},t.prototype.brokerToTv=function(t){return this._queueForTV[t]||(this._queueForTV[t]=this._requestOfData(t,this._brokerName,r)),this._queueForTV[t]},t.prototype._requestOfData=function(e,i,n){return o.fetch(this._makeUrl(i,e,n)).then(function(t){return t.json()}).then(function(e){return s!==e.s.toLowerCase()?Promise.reject(a):Promise.resolve(t._regainSymbol(n,e))}).catch(function(t){if("string"==typeof t)throw Error(t);throw Error(t.message)})},t.prototype._makeUrl=function(t,e,i){return this._mapperUrl+"/fields/mapping/"+t.toLowerCase()+"?"+i+"="+e+"&single=true"},t._regainSymbol=function(e,i){return t._isDirectionSymbol(e)?i.v.brokerSymbol:i.v.symbol},t._isDirectionSymbol=function(t){return t===n},t}(),e.SymbolMapper=l},function(t,e,i){"use strict";function o(t){return"error"===t.s}var n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(64),r=i(0),s=r.getLogger("Trading.SymbolMapperSync"),a=function(){function t(t,e){this._tvToBroker={},this._brokerToTv={},this._readyPromise=this._init(t,e),this._readyPromise.catch(function(){})}return t.prototype.ready=function(){return this._readyPromise},t.prototype.tvToBroker=function(t){return this._tvToBroker[t]||null},t.prototype.brokerToTv=function(t){return this._brokerToTv[t]||null},t.prototype._init=function(t,e){var i,r=this;return s.logNormal("Requesting mapping for "+e+" broker"),i=t+"/files/mapping/"+e.toLowerCase()+"/symbols.json",n.fetch(i).then(function(t){return t.json()}).then(function(t){var i,n,a,l,c,h;if(o(t))throw s.logWarn("Service error response: "+t.errmsg),Error("cannot get mappings");if(-1===(i=t.fields.indexOf("brokerSymbol")))throw Error("Mapping for "+e+' broker does not have broker symbol field "brokerSymbol" in '+JSON.stringify(t.fields));for(n=0,a=t.symbols;n<a.length;n++)l=a[n],c=l.s,h=l.f[i],r._tvToBroker[c]=h,r._brokerToTv[h]=c;s.logNormal("Mapping for "+e+" is loaded for "+t.symbols.length+" symbol(s)")}).catch(function(t){throw s.logWarn("Request mapping failed: "+t.message),Error("cannot get mappings")})},t}(),e.SymbolMapperSync=a},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cqgDurations=[{name:"DAY",value:"DAY"},{name:"GTC",value:"GTC"},{name:"GTD",value:"GTD",hasDatePicker:!0},{name:"GTT",value:"GTT",hasDatePicker:!0,hasTimePicker:!0},{name:"FAK",value:"FAK"
},{name:"FOK",value:"FOK"},{name:"ATO",value:"ATO"},{name:"ATC",value:"ATC"}]},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 151 36" width="151" height="36"><path fill="#8797A5" d="M134.31 22.86v12.897h-11.526V23.13c1.63.68 3.525 1.108 5.793 1.108 2.247 0 4.118-.525 5.732-1.378m-17.318-2.14v.022l.06 5.271h-11.58V14.315c4.84 0 7.262 2.332 10.07 5.032.478.463.962.92 1.45 1.372m0-15.817v8.76c-2.721-2.393-6.087-4.533-11.52-4.533V4.902h11.52m5.744 2.993v8.508c1.63 1.696 3.322 2.656 5.73 2.656 2.456 0 4.217-.697 5.796-1.792V7.895h-11.526M150.94.001v3.913c-5.57.013-8.886 3.087-11.529 6.535V.001h11.528m0 9.098v16.976h-11.528v-6.818a71.098 71.098 0 0 0 2.155-2.983c3.068-4.443 5.165-7.168 9.374-7.175M24.986 22.88c-1.82 1.84-9.536 1.886-9.536 1.886s-7.717-.046-9.535-1.886c-1.429-1.446-1.796-6.455-1.796-8.538 0-2.086.397-7.116 1.834-8.57C7.74 3.966 13.39 3.918 15.45 3.918c2.06 0 7.709.048 9.496 1.854.565.571 1.052 1.598 1.326 2.884h4.282c-.33-2.564-1.094-4.925-2.155-5.999C25.962.192 18.259.127 15.449.127 12.64.127 4.928.197 2.5 2.657.543 4.642 0 11.5 0 14.341c0 2.844.5 9.672 2.447 11.642 2.48 2.51 13.003 2.573 13.003 2.573s10.524-.063 13.004-2.573c1.05-1.063 1.791-3.412 2.112-5.956h-4.28c-.269 1.272-.742 2.289-1.3 2.853zm60.983-8.065v3.791h10.788c-.239 1.832-.78 3.507-1.537 4.274-1.82 1.84-9.536 1.886-9.536 1.886s-7.718-.046-9.535-1.886c-1.43-1.446-1.796-6.455-1.796-8.538 0-2.086.396-7.116 1.834-8.57 1.787-1.807 7.437-1.854 9.496-1.854 2.061 0 7.709.047 9.496 1.854.565.571 1.052 1.598 1.326 2.884h4.283c-.331-2.564-1.094-4.925-2.155-5.999C96.196.192 88.493.127 85.683.127c-2.81 0-10.511.065-12.95 2.53-1.96 1.983-2.5 8.842-2.5 11.685s.5 9.672 2.447 11.641c2.48 2.51 13.003 2.574 13.003 2.574s10.524-.063 13.004-2.573c1.247-1.263 2.005-4.397 2.264-7.378.126-1.442.168-2.786.178-3.79H85.968zM60.103 22.88c-1.216 1.266-5.06 1.657-7.48 1.806l.285-3.237h-4.683l.286 3.237c-2.42-.149-6.265-.577-7.479-1.806-1.43-1.446-1.797-6.455-1.797-8.538 0-2.086.397-7.116 1.835-8.57 1.787-1.806 7.437-1.854 9.497-1.854 2.06 0 7.709.048 9.496 1.854 1.439 1.455 1.834 6.484 1.834 8.57 0 2.083-.386 7.072-1.794 8.538zm3.413-20.223C61.079.192 53.376.127 50.566.127c-2.81 0-10.51.065-12.95 2.53-1.96 1.982-2.5 8.842-2.5 11.685s.501 9.672 2.448 11.641c1.853 1.876 8.195 2.385 11.284 2.523l.548 6.21h2.341l.548-6.21c3.089-.138 9.433-.647 11.286-2.523 1.947-1.97 2.447-8.798 2.447-11.641s-.541-9.7-2.502-11.685z"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 178 39" width="178" height="39"><g fill="none" fill-rule="evenodd"><path fill="#758696" d="M61.589 10.217V16h-2.05V.978c1.55-.068 2.487-.103 2.809-.103 4.361 0 6.542 1.46 6.542 4.379 0 3.377-1.928 5.065-5.784 5.065-.232 0-.738-.034-1.517-.102zm0-7.393V8.37c.868.068 1.326.103 1.374.103 2.543 0 3.814-1.002 3.814-3.005 0-1.832-1.357-2.748-4.07-2.748a8.17 8.17 0 0 0-1.118.103zm14.124 11.915c-.779.977-1.972 1.466-3.578 1.466-.861 0-1.608-.313-2.24-.938-.633-.626-.95-1.403-.95-2.333 0-1.114.488-2.056 1.462-2.825.974-.769 2.217-1.153 3.727-1.153.41 0 .875.088 1.395.266 0-1.777-.793-2.666-2.379-2.666-1.217 0-2.153.328-2.81.985l-.82-1.63c.37-.302.88-.56 1.533-.775a5.972 5.972 0 0 1 1.871-.323c1.593 0 2.75.362 3.471 1.087.722.725 1.082 1.876 1.082 3.455v3.938c0 .964.287 1.606.861 1.928v.974c-.792 0-1.386-.113-1.779-.339-.393-.225-.675-.598-.846-1.117zm-.184-4.133c-.615-.136-1.046-.205-1.292-.205-.984 0-1.788.253-2.41.76-.622.505-.933 1.103-.933 1.794 0 1.141.673 1.712 2.02 1.712.985 0 1.856-.468 2.615-1.405v-2.656zm6.362 4.789v4.912h-1.948V5.018h1.948v.902a3.646 3.646 0 0 1 2.677-1.107c1.558 0 2.772.485 3.64 1.456.868.97 1.302 2.393 1.302 4.266 0 1.668-.438 3.03-1.313 4.086-.875 1.056-2.14 1.584-3.793 1.584-.465 0-.963-.082-1.492-.246-.53-.164-.87-.352-1.02-.564zm0-8.008v6.398c.123.185.383.36.78.528.396.168.782.251 1.158.251 2.42 0 3.63-1.367 3.63-4.101 0-1.388-.287-2.403-.861-3.046-.574-.642-1.494-.963-2.758-.963-.274 0-.609.095-1.005.287-.397.191-.711.406-.944.646zm18.4 3.312h-7.915c0 1.285.352 2.273 1.056 2.963.622.602 1.422.902 2.4.902 1.114 0 2.043-.324 2.788-.974l.82 1.405c-.3.3-.761.56-1.384.78-.779.287-1.647.43-2.604.43-1.38 0-2.553-.468-3.517-1.405-1.073-1.032-1.61-2.42-1.61-4.163 0-1.811.55-3.264 1.65-4.358.985-.977 2.15-1.466 3.497-1.466 1.566 0 2.793.44 3.682 1.323.86.847 1.292 1.972 1.292 3.373 0 .43-.052.827-.154 1.19zm-4.726-4.245c-.868 0-1.596.28-2.184.84a3.058 3.058 0 0 0-.954 1.99h6.08c0-.786-.245-1.443-.738-1.97-.54-.573-1.275-.86-2.204-.86zm12.3.44c-.425-.293-.852-.44-1.283-.44-.69 0-1.293.317-1.81.953-.516.636-.774 1.402-.774 2.297V16h-1.948V5.018h1.948v1.753c.711-1.305 1.768-1.958 3.169-1.958.349 0 .851.062 1.507.185l-.81 1.897zm12.57-4.07V16h-2.05V2.824h-4.779V.978h11.823v1.846h-4.994zm9.623 4.07c-.424-.293-.85-.44-1.281-.44-.69 0-1.294.317-1.81.953-.516.636-.774 1.402-.774 2.297V16h-1.949V5.018h1.949v1.753c.71-1.305 1.767-1.958 3.168-1.958.349 0 .851.062 1.507.185l-.81 1.897zm7.798 7.845c-.78.977-1.972 1.466-3.578 1.466-.862 0-1.609-.313-2.24-.938-.633-.626-.95-1.403-.95-2.333 0-1.114.488-2.056 1.462-2.825.974-.769 2.216-1.153 3.727-1.153.41 0 .875.088 1.395.266 0-1.777-.793-2.666-2.38-2.666-1.216 0-2.153.328-2.809.985l-.82-1.63c.369-.302.88-.56 1.533-.775a5.972 5.972 0 0 1 1.871-.323c1.593 0 2.75.362 3.471 1.087.721.725 1.082 1.876 1.082 3.455v3.938c0 .964.287 1.606.861 1.928v.974c-.793 0-1.386-.113-1.779-.339-.393-.225-.675-.598-.846-1.117zm-.184-4.133c-.616-.136-1.046-.205-1.292-.205-.985 0-1.788.253-2.41.76-.622.505-.933 1.103-.933 1.794 0 1.141.673 1.712 2.02 1.712.984 0 1.856-.468 2.615-1.405v-2.656zm11.376 5.384v-.81c-.677.676-1.66 1.015-2.953 1.015-1.374 0-2.488-.492-3.343-1.477-.854-.984-1.281-2.297-1.281-3.937 0-1.648.492-3.054 1.476-4.22.985-1.165 2.157-1.748 3.517-1.748 1.135 0 1.996.267 2.584.8V.517h1.948V15.99h-1.948zm0-8.429c-.492-.738-1.165-1.107-2.02-1.107-1.046 0-1.892.39-2.538 1.169-.646.779-.969 1.77-.969 2.973 0 2.646 1.203 3.968 3.61 3.968.307 0 .677-.097 1.107-.292.43-.195.7-.401.81-.62V7.56zm6.147-6.696c.335 0 .62.118.857.354.235.236.353.518.353.846 0 .335-.118.62-.353.856a1.166 1.166 0 0 1-.857.354c-.328 0-.61-.118-.846-.354a1.166 1.166 0 0 1-.353-.856c0-.335.116-.619.348-.851.233-.233.516-.349.851-.349zM154.13 16V6.659h-1.507v-1.64h3.455V16h-1.948zm11.202 0V9.612c0-1.17-.176-1.988-.528-2.456-.352-.468-.942-.702-1.769-.702-.444 0-.909.133-1.394.4-.486.266-.858.594-1.118.984V16h-1.948V5.018h1.333l.615 1.415c.643-1.08 1.692-1.62 3.148-1.62 2.406 0 3.61 1.463 3.61 4.389V16h-1.949zm3.717 3.004l1.056-1.558c1.135.759 2.18 1.138 3.138 1.138.882 0 1.577-.152 2.087-.456.509-.305.763-.682.763-1.133 0-.889-.642-1.333-1.927-1.333-.219 0-.615.054-1.19.164-.574.11-1.022.164-1.343.164-1.559 0-2.338-.588-2.338-1.764 0-.362.183-.69.549-.984.365-.294.818-.506 1.358-.636-1.545-.725-2.317-1.982-2.317-3.773 0-1.149.4-2.106 1.2-2.872.8-.765 1.787-1.148 2.963-1.148 1.08 0 1.924.222 2.533.666l.974-1.168 1.271 1.2-1.169.881c.5.65.749 1.497.749 2.543 0 1.107-.345 2.037-1.036 2.79-.69.751-1.596 1.182-2.717 1.291l-1.61.164c-.191.02-.448.094-.769.22-.321.127-.482.293-.482.498 0 .28.335.42 1.005.42.294 0 .752-.053 1.374-.159.622-.106 1.084-.159 1.384-.159 1.08 0 1.923.259 2.528.775s.907 1.232.907 2.148c0 1.012-.452 1.828-1.358 2.45-.906.623-2.053.934-3.44.934-.711 0-1.46-.127-2.246-.38s-1.418-.56-1.897-.923zm4.132-12.622c-.676 0-1.228.24-1.656.718-.427.478-.64 1.06-.64 1.743 0 .765.206 1.4.62 1.902.413.502.972.754 1.676.754.69 0 1.23-.245 1.62-.734.39-.488.585-1.13.585-1.922 0-.684-.21-1.265-.63-1.743a2.01 2.01 0 0 0-1.575-.718zM61.883 36h-2.858V25.985a61.299 61.299 0 0 1 2.632-.089c.99 0 1.755.214 2.297.64.542.426.814 1.035.814 1.828 0 .465-.174.889-.52 1.272-.346.383-.73.622-1.148.718.793.19 1.37.508 1.733.95.362.442.543 1.043.543 1.804 0 .88-.322 1.582-.967 2.106-.645.524-1.487.786-2.526.786zm-1.49-8.92v2.877c.287.027.642.041 1.066.041 1.294 0 1.941-.526 1.941-1.58 0-.924-.594-1.387-1.784-1.387-.456 0-.863.016-1.223.048zm0 3.937v3.82c.469.046.829.07 1.08.07.856 0 1.482-.161 1.876-.483.394-.321.591-.833.591-1.534 0-.652-.188-1.133-.564-1.443-.376-.31-1.003-.465-1.883-.465l-1.1.035zm9.249 6.227c-.169.465-.523.852-1.063 1.162-.54.31-1.143.465-1.808.465V37.71c.542 0 1.007-.126 1.394-.38.387-.252.581-.561.581-.926 0-.4-.07-.796-.212-1.186-.141-.39-.323-.871-.547-1.446l-1.982-5.092h1.326l2.153 5.66 1.935-5.66h1.326l-3.103 8.565zm11.826-10.028V36H80.1v-8.784h-3.186v-1.23h7.882v1.23h-3.33zm6.815 2.714c-.282-.196-.567-.294-.854-.294-.46 0-.863.212-1.207.635-.344.424-.516.935-.516 1.532V36h-1.299v-7.321h1.3v1.169c.473-.87 1.177-1.306 2.111-1.306.233 0 .568.041 1.005.123l-.54 1.265zm5.599 5.23c-.52.65-1.315.977-2.386.977a2.053 2.053 0 0 1-1.494-.626c-.421-.417-.632-.935-.632-1.555 0-.743.325-1.37.974-1.883.65-.513 1.478-.77 2.485-.77.274 0 .583.06.93.178 0-1.184-.529-1.777-1.586-1.777-.811 0-1.436.219-1.873.656l-.547-1.087c.246-.2.587-.372 1.022-.516a3.981 3.981 0 0 1 1.247-.215c1.062 0 1.834.242 2.314.725.481.483.722 1.25.722 2.303v2.625c0 .643.191 1.071.574 1.285v.65c-.529 0-.924-.075-1.186-.226-.262-.15-.45-.398-.564-.745zm-.123-2.756c-.41-.09-.697-.136-.862-.136-.656 0-1.191.168-1.606.505-.415.338-.622.736-.622 1.197 0 .76.449 1.141 1.347 1.141.656 0 1.237-.312 1.743-.936v-1.77zm7.984 3.59v-.54c-.451.45-1.107.676-1.969.676-.916 0-1.658-.328-2.228-.984-.57-.657-.855-1.532-.855-2.625 0-1.099.329-2.036.985-2.813.656-.778 1.438-1.166 2.345-1.166.756 0 1.33.178 1.722.533v-3.397h1.299v10.315h-1.299zm0-5.62c-.328-.492-.777-.738-1.347-.738-.697 0-1.26.26-1.691.779-.431.52-.646 1.18-.646 1.982 0 1.764.802 2.646 2.406 2.646.205 0 .451-.065.738-.195s.467-.268.54-.413v-4.061zm4.498-4.464c.224 0 .414.079.571.236a.77.77 0 0 1 .236.564.777.777 0 0 1-.236.57.777.777 0 0 1-.57.237.77.77 0 0 1-.565-.236.777.777 0 0 1-.236-.571c0-.223.078-.412.233-.567a.772.772 0 0 1 .567-.233zm-.71 10.09v-6.228h-1.006V28.68h2.304V36h-1.299zm7.867 0v-4.259c0-.78-.117-1.325-.352-1.637-.234-.312-.627-.468-1.179-.468-.296 0-.606.089-.93.266a2.068 2.068 0 0 0-.745.657V36h-1.298v-7.321h.888l.41.943c.429-.72 1.128-1.08 2.099-1.08 1.604 0 2.406.975 2.406 2.926V36h-1.299zm2.878 2.003l.704-1.04c.757.507 1.454.76 2.092.76.588 0 1.052-.102 1.391-.305.34-.202.51-.454.51-.755 0-.592-.429-.889-1.285-.889-.146 0-.41.037-.793.11-.383.073-.682.11-.896.11-1.039 0-1.559-.393-1.559-1.177 0-.241.122-.46.366-.656s.546-.337.906-.424c-1.03-.483-1.545-1.321-1.545-2.515 0-.766.267-1.404.8-1.914s1.192-.766 1.975-.766c.72 0 1.283.148 1.689.444l.65-.779.847.8-.78.588c.333.433.5.998.5 1.695 0 .738-.23 1.358-.69 1.86-.461.5-1.065.788-1.812.86l-1.074.11a2.117 2.117 0 0 0-.512.147c-.214.084-.322.195-.322.332 0 .186.224.28.67.28.196 0 .502-.035.916-.106.415-.07.723-.106.923-.106.72 0 1.282.172 1.685.516.404.344.605.822.605 1.432 0 .675-.302 1.22-.905 1.634-.604.415-1.369.622-2.294.622-.474 0-.973-.084-1.497-.253-.524-.168-.946-.374-1.265-.615zm2.755-8.415c-.45 0-.819.16-1.104.478a1.683 1.683 0 0 0-.427 1.163c0 .51.138.933.414 1.268.275.335.648.502 1.117.502.46 0 .82-.163 1.08-.489.26-.326.39-.753.39-1.281a1.7 1.7 0 0 0-.42-1.163 1.34 1.34 0 0 0-1.05-.478zm8.128 6.549h-.69l-3.733-10.152h1.518l2.577 7.376 2.481-7.376h1.47l-3.623 10.152zm5.722-10.227c.223 0 .413.079.57.236a.77.77 0 0 1 .237.564.777.777 0 0 1-.236.57.777.777 0 0 1-.571.237.77.77 0 0 1-.564-.236.777.777 0 0 1-.236-.571c0-.223.078-.412.232-.567a.772.772 0 0 1 .568-.233zM132.17 36v-6.228h-1.005V28.68h2.304V36h-1.3zm9.53-3.534h-5.278c0 .857.235 1.515.704 1.975.415.401.948.602 1.6.602.742 0 1.362-.217 1.859-.65l.547.937c-.2.2-.508.374-.923.52a4.992 4.992 0 0 1-1.736.287c-.92 0-1.702-.312-2.345-.937-.716-.688-1.073-1.613-1.073-2.775 0-1.208.367-2.176 1.1-2.905.657-.652 1.434-.978 2.331-.978 1.044 0 1.862.294 2.454.882.575.565.862 1.315.862 2.249 0 .287-.034.551-.103.793zm-3.152-2.83c-.579 0-1.064.187-1.456.56a2.035 2.035 0 0 0-.636 1.326h4.054c0-.524-.164-.961-.492-1.312-.36-.383-.85-.574-1.47-.574zm11.389 6.5h-.342l-2.147-4.983-2.14 4.984h-.341l-2.618-7.479h1.387l1.566 4.806 1.948-4.806h.342l2.01 4.806 1.681-4.806h1.279l-2.625 7.479z"/><path fill="#8797A5" d="M41.304 12.065L30.455 23.138a3.337 3.337 0 0 0-2.205-.055l-7.142-8.047a3.39 3.39 0 0 0 .297-1.39 3.365 3.365 0 0 0-3.358-3.373 3.365 3.365 0 0 0-3.357 3.374c0 .353.054.694.154 1.015L.894 27.048A8.958 8.958 0 0 1 0 23.134c0-4.949 3.993-8.96 8.919-8.96h.053C9.554 7.906 14.804 3 21.195 3c5.28 0 9.78 3.348 11.514 8.047a8.857 8.857 0 0 1 3.385-.668 8.85 8.85 0 0 1 5.21 1.686zm1.944 1.923a8.945 8.945 0 0 1 1.763 5.192A6.75 6.75 0 0 1 49 25.347c0 3.726-3.006 6.747-6.715 6.747H8.919a8.874 8.874 0 0 1-6.458-2.78l14.19-12.599a3.341 3.341 0 0 0 2.42.145l7.143 8.047a3.374 3.374 0 0 0-.298 1.39 3.365 3.365 0 0 0 3.358 3.372 3.365 3.365 0 0 0 3.358-3.373c0-.436-.083-.853-.233-1.236l10.85-11.072z"/></g></svg>'
},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 178 39" width="178" height="39"><path fill="#758696" d="M173.18 6.38c-.67 0-1.23.24-1.65.72a2.53 2.53 0 0 0-.64 1.74c0 .77.2 1.4.62 1.9.4.5.97.76 1.67.76s1.23-.25 1.62-.74c.4-.48.59-1.13.59-1.92 0-.68-.21-1.26-.63-1.74a2.01 2.01 0 0 0-1.58-.72zM169.05 19l1.05-1.55a5.76 5.76 0 0 0 3.14 1.13c.89 0 1.58-.15 2.09-.45.5-.3.76-.68.76-1.14 0-.88-.64-1.33-1.92-1.33-.22 0-.62.06-1.2.17-.57.1-1.02.16-1.34.16-1.56 0-2.33-.59-2.33-1.76 0-.37.18-.7.54-.99.37-.3.82-.5 1.36-.63-1.54-.73-2.31-1.99-2.31-3.78 0-1.15.4-2.1 1.2-2.87a4.12 4.12 0 0 1 2.96-1.15c1.08 0 1.92.22 2.53.67l.98-1.17 1.27 1.2-1.17.88c.5.65.75 1.5.75 2.54a3.97 3.97 0 0 1-3.76 4.09l-1.6.16c-.2.02-.46.1-.78.22-.32.13-.48.3-.48.5 0 .28.34.42 1 .42.3 0 .76-.06 1.38-.16.62-.1 1.08-.16 1.38-.16 1.08 0 1.93.26 2.53.77.6.52.91 1.24.91 2.15 0 1.01-.45 1.83-1.36 2.45-.9.63-2.05.94-3.44.94-.7 0-1.46-.13-2.24-.38a6.36 6.36 0 0 1-1.9-.93zm-3.72-3V9.61c0-1.17-.17-1.99-.53-2.45-.35-.47-.94-.7-1.77-.7-.44 0-.9.13-1.39.4-.48.26-.86.59-1.12.98V16h-1.95V5.02h1.34l.61 1.41c.65-1.08 1.7-1.62 3.15-1.62 2.4 0 3.61 1.47 3.61 4.4V16h-1.95zm-11.2 0V6.66h-1.5V5.02h3.45V16h-1.95zM155.19.87c.34 0 .62.11.86.35s.35.52.35.85c0 .33-.11.62-.35.85a1.17 1.17 0 0 1-.86.36c-.32 0-.6-.12-.84-.36a1.17 1.17 0 0 1-.35-.85c0-.34.11-.62.34-.86.24-.23.52-.34.85-.34zm-6.14 6.7a2.3 2.3 0 0 0-2.02-1.12c-1.05 0-1.9.4-2.54 1.17a4.5 4.5 0 0 0-.97 2.98c0 2.64 1.2 3.96 3.61 3.96.3 0 .68-.1 1.1-.29.44-.2.7-.4.82-.62V7.56zm0 8.42v-.81c-.68.68-1.66 1.01-2.96 1.01-1.37 0-2.48-.49-3.34-1.47a5.8 5.8 0 0 1-1.28-3.94c0-1.65.5-3.05 1.48-4.22a4.47 4.47 0 0 1 3.51-1.75c1.14 0 2 .27 2.59.8V.51H151V16h-1.95zm-11.38-5.38a7.12 7.12 0 0 0-1.29-.2 3.7 3.7 0 0 0-2.41.75c-.62.5-.93 1.1-.93 1.8 0 1.14.67 1.7 2.02 1.7.98 0 1.85-.46 2.61-1.4v-2.65zm.19 4.13c-.78.98-1.98 1.47-3.58 1.47-.86 0-1.61-.32-2.24-.94a3.15 3.15 0 0 1-.95-2.34c0-1.11.49-2.05 1.46-2.82a5.83 5.83 0 0 1 3.73-1.15c.4 0 .87.08 1.4.26 0-1.77-.8-2.66-2.39-2.66-1.21 0-2.15.32-2.8.98l-.83-1.63c.37-.3.88-.56 1.54-.77a5.97 5.97 0 0 1 1.87-.33c1.59 0 2.75.37 3.47 1.09.72.72 1.08 1.88 1.08 3.46v3.93c0 .97.29 1.6.86 1.93v.97c-.8 0-1.38-.1-1.78-.33a1.9 1.9 0 0 1-.84-1.12zm-7.8-7.85c-.43-.29-.85-.44-1.28-.44-.7 0-1.3.32-1.81.96-.52.63-.78 1.4-.78 2.3V16h-1.95V5.02h1.95v1.75a3.41 3.41 0 0 1 3.17-1.96c.35 0 .85.07 1.5.19l-.8 1.9zm-9.63-4.07V16h-2.05V2.82h-4.77V.98h11.82v1.84h-5zM107.86 6.9c-.42-.29-.85-.44-1.28-.44-.69 0-1.3.32-1.8.96-.52.63-.78 1.4-.78 2.3V16h-1.95V5.02H104v1.75a3.42 3.42 0 0 1 3.17-1.96c.35 0 .85.07 1.5.19l-.8 1.9zm-12.3-.44c-.86 0-1.6.28-2.18.84a3.06 3.06 0 0 0-.95 2h6.08c0-.8-.25-1.45-.74-1.98a2.88 2.88 0 0 0-2.2-.86zm4.73 4.25h-7.91c0 1.28.35 2.27 1.05 2.96.62.6 1.42.9 2.4.9 1.12 0 2.04-.32 2.79-.97l.82 1.4c-.3.3-.76.57-1.38.79-.78.28-1.65.43-2.6.43a4.86 4.86 0 0 1-3.53-1.41 5.5 5.5 0 0 1-1.6-4.16c0-1.81.54-3.27 1.64-4.36a4.8 4.8 0 0 1 3.5-1.47 5 5 0 0 1 3.68 1.33c.86.84 1.3 1.97 1.3 3.37 0 .43-.06.83-.16 1.19zM81.9 7.39v6.4c.12.18.38.36.78.52.4.17.78.25 1.16.25 2.42 0 3.63-1.36 3.63-4.1 0-1.38-.29-2.4-.86-3.04-.58-.64-1.5-.97-2.76-.97-.27 0-.6.1-1 .3-.4.18-.72.4-.95.64zm0 8v4.92h-1.95V5h1.95v.91a3.65 3.65 0 0 1 2.68-1.1c1.56 0 2.77.48 3.64 1.45.87.97 1.3 2.4 1.3 4.27a6.2 6.2 0 0 1-1.31 4.08c-.88 1.06-2.14 1.59-3.8 1.59-.46 0-.96-.09-1.49-.25s-.87-.35-1.02-.56zm-6.36-4.78a7.1 7.1 0 0 0-1.3-.2 3.7 3.7 0 0 0-2.4.75c-.63.5-.94 1.1-.94 1.8 0 1.14.68 1.7 2.02 1.7.99 0 1.86-.46 2.62-1.4v-2.65zm.18 4.13c-.78.98-1.97 1.47-3.57 1.47-.87 0-1.61-.32-2.25-.94a3.15 3.15 0 0 1-.95-2.34c0-1.11.5-2.05 1.47-2.82a5.83 5.83 0 0 1 3.72-1.15c.41 0 .88.08 1.4.26 0-1.77-.8-2.66-2.38-2.66-1.22 0-2.15.32-2.81.98l-.82-1.63c.37-.3.88-.56 1.53-.77a5.97 5.97 0 0 1 1.87-.33c1.6 0 2.75.37 3.47 1.09.73.72 1.09 1.88 1.09 3.46v3.93c0 .97.28 1.6.86 1.93v.97c-.8 0-1.39-.1-1.78-.33a1.9 1.9 0 0 1-.85-1.12zM61.6 2.82v5.55l1.37.1c2.55 0 3.82-1 3.82-3 0-1.83-1.36-2.75-4.07-2.75a8.17 8.17 0 0 0-1.12.1zm0 7.4V16h-2.05V.98c1.55-.07 2.49-.1 2.8-.1 4.37 0 6.55 1.45 6.55 4.37 0 3.38-1.93 5.07-5.78 5.07-.24 0-.74-.04-1.52-.1zm77.02 11.53h12.1v2.56h-4.35v10.56h-3.39V24.31h-4.36v-2.56zm-2.27.41v2.78q-1.09-.49-2.11-.73-1.03-.25-1.95-.25-1.2 0-1.79.34-.58.33-.58 1.03 0 .53.39.83.4.29 1.42.5l1.44.3q2.2.43 3.11 1.33.93.9.93 2.55 0 2.17-1.3 3.23-1.28 1.05-3.92 1.05-1.25 0-2.5-.23-1.27-.24-2.52-.7v-2.86q1.25.67 2.42 1 1.18.34 2.27.34 1.1 0 1.7-.37.59-.37.59-1.05 0-.62-.4-.95-.4-.33-1.6-.6l-1.3-.29q-1.98-.42-2.9-1.34-.9-.93-.9-2.49 0-1.96 1.27-3.01 1.26-1.06 3.64-1.06 1.08 0 2.22.17 1.14.16 2.37.48zm-21.44-.41h9.13v2.56h-5.75v2.44h5.4v2.56h-5.4v3h5.94v2.56h-9.32V21.75zm-9.04 5.82q1.06 0 1.52-.4.46-.4.46-1.3t-.46-1.28q-.46-.39-1.52-.39h-1.43v3.37h1.43zm-1.43 2.33v4.97h-3.38V21.75h5.17q2.59 0 3.8.87 1.2.87 1.2 2.75 0 1.3-.63 2.13-.62.84-1.89 1.24.7.15 1.24.72.56.55 1.12 1.68l1.84 3.73h-3.6l-1.6-3.26q-.5-.99-1-1.35-.48-.36-1.31-.36h-.96z"/><path fill="#8797A5" d="M41.3 12.06L30.46 23.14a3.34 3.34 0 0 0-2.21-.06l-7.14-8.04a3.39 3.39 0 0 0 .3-1.4 3.37 3.37 0 0 0-3.36-3.37 3.37 3.37 0 0 0-3.36 3.38c0 .35.05.7.15 1.01L.9 27.05a8.96 8.96 0 0 1-.9-3.92c0-4.94 4-8.96 8.92-8.96h.05A12.3 12.3 0 0 1 21.2 3c5.28 0 9.78 3.35 11.52 8.05a8.86 8.86 0 0 1 3.38-.67 8.85 8.85 0 0 1 5.21 1.69zM43.25 14A8.95 8.95 0 0 1 45 19.18a6.75 6.75 0 0 1 4 6.17c0 3.72-3 6.74-6.71 6.74H8.91a8.87 8.87 0 0 1-6.46-2.78l14.2-12.6a3.34 3.34 0 0 0 2.41.15l7.14 8.05a3.37 3.37 0 0 0-.3 1.39 3.37 3.37 0 0 0 3.36 3.37 3.37 3.37 0 0 0 3.36-3.37c0-.44-.08-.86-.23-1.24l10.85-11.07z"/></svg>'
},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 149.99999 49.011" width="150" height="49.011"><g fill="#758696"><path d="M70.8 40.573h1.958l3.339 8.428h-1.932l-.698-1.88h-3.489L69.262 49h-1.828zm-.263 5.141h2.405l-1.224-3.427h-.027zm7.527-5.141h5.544v8.428h-1.706v-6.944h-2.22v1.698c0 .978-.026 1.766-.07 2.343-.044.604-.134 1.136-.308 1.6a2.004 2.004 0 0 1-.733 1.034c-.331.253-.777.366-1.355.366-.202 0-.472-.01-.822-.097l.08-1.328c.201.034.357.061.454.061.472 0 .78-.27.936-.794.15-.543.21-1.28.21-2.206v-.724c-.01-.322-.01-.551-.01-.69zm11.051-.105c.805 0 1.512.173 2.143.508.62.34 1.109.82 1.458 1.486.369.645.544 1.417.544 2.332 0 .902-.175 1.671-.544 2.337a3.47 3.47 0 0 1-1.458 1.466c-.63.334-1.338.5-2.143.5-.786 0-1.486-.166-2.116-.5a3.626 3.626 0 0 1-1.476-1.466c-.35-.666-.534-1.435-.534-2.337 0-.915.183-1.687.534-2.343a3.696 3.696 0 0 1 1.476-1.475 4.438 4.438 0 0 1 2.116-.508zm0 1.214c-.35 0-.7.087-1.048.246-.35.175-.647.48-.884.935-.245.473-.376 1.122-.376 1.93 0 .815.13 1.445.376 1.909.237.454.534.778.884.952.35.16.7.245 1.048.245.27 0 .525-.042.787-.129.272-.071.515-.238.752-.464.229-.228.427-.55.578-.962.14-.42.218-.925.218-1.55 0-.81-.13-1.458-.369-1.93-.244-.454-.54-.76-.891-.935a2.509 2.509 0 0 0-1.075-.247zm5.534-1.109h2.483c1.251 0 2.082.28 2.553.84.446.577.691 1.17.691 1.81 0 .437-.114.873-.332 1.25-.218.418-.542.732-.999.997-.427.245-.96.357-1.608.357h-1.093v3.174h-1.696v-8.428zm1.697 3.95h.786c.454 0 .796-.129 1.05-.383a1.373 1.373 0 0 0 .375-.981c0-.348-.105-.655-.341-.9-.237-.235-.577-.35-1.085-.35h-.787v2.615zm9.58-3.95h5.386v1.484h-3.672v1.77h1.364c.726 0 1.313.12 1.758.392.454.255.77.595.96 1.005.194.411.29.849.29 1.328 0 .29-.053.579-.167.865a2.299 2.299 0 0 1-.515.788 2.658 2.658 0 0 1-.935.577c-.393.149-.848.218-1.39.218h-3.079zm1.716 4.582v2.526h1.057c.375 0 .718-.087 1.032-.255.315-.165.473-.505.473-1.013 0-.516-.158-.85-.473-1.015a2.268 2.268 0 0 0-1.032-.243zm5.935-4.582h2.5c1.233 0 2.082.28 2.535.84.464.577.7 1.17.7 1.81a2.6 2.6 0 0 1-.332 1.25c-.219.418-.542.732-.998.997-.437.245-.96.357-1.609.357h-1.084v3.174h-1.713v-8.428zm1.714 3.95h.786c.447 0 .806-.129 1.048-.383.256-.272.377-.595.377-.981a1.29 1.29 0 0 0-.349-.9c-.218-.235-.596-.35-1.076-.35h-.786zm9.18-4.055c.786 0 1.485.173 2.123.508.622.34 1.112.82 1.469 1.486.35.645.535 1.417.535 2.332 0 .902-.183 1.671-.535 2.337a3.53 3.53 0 0 1-1.469 1.466 4.486 4.486 0 0 1-2.122.5c-.804 0-1.512-.166-2.132-.5a3.44 3.44 0 0 1-1.47-1.466c-.349-.666-.54-1.435-.54-2.337 0-.915.191-1.687.54-2.343a3.498 3.498 0 0 1 1.47-1.475c.618-.334 1.328-.508 2.132-.508zm0 1.214a2.51 2.51 0 0 0-1.067.246c-.35.175-.654.48-.899.935-.237.473-.359 1.122-.359 1.93 0 .815.122 1.445.36 1.909.244.454.548.778.898.952.343.16.693.245 1.068.245.235 0 .506-.042.76-.129.27-.071.516-.238.77-.464.226-.228.4-.55.567-.962.16-.42.22-.925.22-1.55 0-.81-.133-1.458-.368-1.93-.253-.454-.54-.76-.901-.935a2.483 2.483 0 0 0-1.048-.247zm5.517-1.109h1.704v3.601h.026l3.05-3.601h2.03l-3.508 3.821 3.743 4.607h-2.177l-3.14-4.187h-.025V49h-1.704v-8.428zm7.982 0h5.018v1.484h-3.331v1.928h3.024v1.38h-3.024v2.15h3.331V49h-5.018zm6.46 0h2.493c1.248 0 2.088.28 2.541.84.473.577.701 1.17.701 1.81 0 .437-.115.873-.323 1.25-.218.418-.543.732-.988.997-.445.245-.98.357-1.618.357h-1.102v3.174h-1.704zm1.705 3.95h.79c.452 0 .793-.129 1.054-.383.249-.272.386-.595.386-.981a1.283 1.283 0 0 0-.35-.9c-.227-.235-.586-.35-1.092-.35h-.789v2.615zM64.68 25.57c-.324-.034-.525-.034-.726-.034h-.812c-1.285-.009-5.63-.034-10.982-.034-2.317 0-4.8 0-7.282.025l2.466 5.403H60.58c-3.795 7.09-14.163 12.816-26.77 12.758-8.079.023-15.344-2.318-20.433-5.91-5.122-3.639-7.981-8.325-7.981-13.3 0-4.957 2.859-9.652 7.981-13.272C18.467 7.613 25.731 5.27 33.81 5.27c7.413 0 14.153 1.967 19.146 5.08 1.259.787 2.937.386 3.724-.874a2.683 2.683 0 0 0-.892-3.715c-5.955-3.71-13.614-5.878-21.98-5.888-9.101.01-17.38 2.59-23.535 6.917C4.109 11.09 0 17.345 0 24.477c0 7.144 4.11 13.41 10.273 17.722 6.154 4.337 14.434 6.899 23.536 6.899 16.104-.044 29.978-8.017 33.23-19.97.298-3.147-2.29-3.513-2.36-3.558z"/><path d="M37.401 9.563c-.604-1.251-2.072-1.915-3.646-2.021h-.595c-1.573.106-3.034.769-3.628 2.021l-7.938 16.865-2.107 4.5-2.23 4.653c-1.433 3.014 4.827 4.92 5.806 2.63l3.069-7.23h14.652l3.087 7.23c.978 2.29 7.23.384 5.787-2.63zm-8.927 15.972l4.686-11.006.254-.517v.255l.052-.115.036.115v-.237l.018-.018.234.517 4.687 10.997c-4.169.001-7.824.009-9.967.009z"/></g></svg>'
},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 31" width="172" height="31"><path fill="#8797A5" d="M8.118 3.286v-1.38 1.381m2.839 26.469c1.425.43 2.907.647 4.396.646a15.15 15.15 0 0 0 8.144-2.364l-12.54-15.497v17.214m0-27.278L28.04 23.584a15.075 15.075 0 0 0 2.513-8.352c0-8.379-6.805-15.171-15.2-15.171A15.15 15.15 0 0 0 7.14 2.468h3.817v.009M.152 15.23c0 4.13 1.657 7.873 4.338 10.608V4.623A15.107 15.107 0 0 0 .152 15.231m96.949-13.39H100l15.868 22.995h.078V1.841h2.593v27.184h-2.9L99.772 6.03h-.076v22.995H97.1V1.84zm-20.02 19.005l6.332-16.168 6.283 16.168H77.08zm15.792 8.179h2.784L84.977 1.842h-2.9L71.092 29.025h2.784l2.339-5.97h14.338l2.32 5.97zM57.892 27.11c-6.726 0-11.514-5.272-11.514-11.776 0-6.503 4.73-11.774 11.514-11.774 6.725 0 11.568 5.271 11.568 11.775 0 6.504-4.73 11.776-11.568 11.776zm-.006-25.908c-8.14 0-13.818 6.328-13.818 14.133 0 7.806 5.746 14.133 13.818 14.133 8.208 0 13.886-6.327 13.886-14.133 0-7.804-5.815-14.132-13.886-14.132v-.001zm72.889 27.825h-8.682V1.84h8.682c8.203.191 13.665 6.495 13.665 14.043 0 7.048-5.518 13.143-13.665 13.143v.001zm-6.087-24.84V26.67h5.942c7.39 0 11.366-5.59 11.366-10.94 0-5.7-3.627-11.544-11.366-11.544h-5.942zm25.132 16.66V5.786h.178l12.174 15.06h-12.353zm18.962 8.178h3.103L149.881 1.842h-2.657v27.183h2.596v-5.97h14.136l4.826 5.97zm.078-27.183c.508 0 1.004.13 1.488.392.479.254.872.642 1.132 1.117.27.484.405.989.405 1.514 0 .52-.134 1.021-.401 1.502a2.808 2.808 0 0 1-1.12 1.121c-.48.265-.98.397-1.505.397a3.093 3.093 0 0 1-1.509-.397 2.84 2.84 0 0 1-1.119-1.121 3.043 3.043 0 0 1-.4-1.5c0-.527.134-1.032.404-1.515a2.79 2.79 0 0 1 1.136-1.117c.484-.262.98-.393 1.489-.393m0 .5c-.426 0-.84.11-1.244.329a2.333 2.333 0 0 0-.943.933 2.532 2.532 0 0 0-.341 1.262c0 .434.111.852.333 1.253.22.392.545.716.94.933.4.222.819.333 1.255.333.436 0 .854-.111 1.256-.333.393-.216.718-.54.935-.933.222-.4.332-.818.332-1.253 0-.438-.113-.859-.341-1.262a2.298 2.298 0 0 0-.942-.933 2.575 2.575 0 0 0-1.24-.328m-1.329 4.193V3.283h1.12c.382 0 .66.03.831.092a.795.795 0 0 1 .41.313c.1.15.151.308.151.476a.862.862 0 0 1-.256.621c-.169.176-.393.275-.674.296a.903.903 0 0 1 .277.172c.13.128.291.344.481.645l.397.637h-.642l-.289-.513c-.227-.403-.41-.655-.55-.757-.095-.075-.236-.112-.42-.112h-.31v1.382h-.525m.526-1.83h.638c.305 0 .512-.046.622-.137a.439.439 0 0 0 .168-.36.43.43 0 0 0-.08-.256.473.473 0 0 0-.224-.172c-.094-.038-.269-.056-.526-.056h-.598v.98"/></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 161 24" width="161" height="24"><g fill="#8797A5"><path d="M0 .537h18.577V6.09H6.447v3.868h10.964v5.266H6.447v8.131H0zm49.757 0h10.964c3.533 0 6.01.932 7.577 2.472 1.347 1.29 2.04 3.08 2.04 5.301v.072c0 3.475-1.895 5.803-4.772 7.021l5.536 7.952h-7.43l-4.663-6.913h-2.841v6.913H49.72V.537h.036zM60.43 11.5c2.185 0 3.46-1.04 3.46-2.723v-.072c0-1.79-1.311-2.722-3.497-2.722h-4.225v5.48h4.262v.037zM73.616.537h18.686V5.91H79.99v3.475h11.146v4.98H79.99v3.617h12.458v5.373H73.616zm28.921 11.213L94.888.536h7.394l4.116 6.412 4.153-6.412h7.212l-7.613 11.14 7.977 11.678h-7.394l-4.444-6.877-4.48 6.877H94.56zm21.892.787c0-2.615 2.04-4.8 4.954-4.8 1.894 0 3.169.824 3.97 2.042l-2.222 1.612c-.437-.609-.947-.967-1.712-.967-1.056 0-1.821.895-1.821 2.006v.036c0 1.182.765 2.077 1.858 2.077.765 0 1.275-.358 1.784-.931l2.186 1.54c-.874 1.254-2.076 2.078-4.116 2.078-2.841.036-4.881-2.114-4.881-4.693m9.835 0c0-2.615 2.149-4.8 5.136-4.8 2.95 0 5.1 2.15 5.1 4.729v.035c0 2.58-2.15 4.765-5.137 4.765-2.95 0-5.1-2.15-5.1-4.729m7.067 0c0-1.146-.837-2.077-1.967-2.077-1.165 0-1.93.931-1.93 2.006v.035c0 1.11.838 2.042 1.967 2.042 1.202 0 1.93-.931 1.93-2.006m4.7-4.621h3.241V9.17c.583-.752 1.457-1.433 2.768-1.433 1.239 0 2.186.538 2.66 1.469.8-.896 1.748-1.469 3.096-1.469 1.967 0 3.169 1.218 3.169 3.332v5.982h-3.242v-4.98c0-1.002-.51-1.504-1.275-1.504-.765 0-1.348.537-1.348 1.505v4.943h-3.205v-4.943c0-1.003-.51-1.505-1.275-1.505-.765 0-1.312.537-1.312 1.505v4.943h-3.241V7.916h-.037zm-125.632 4.12C20.398 4.728 25.061 0 32.273 0c7.394 0 11.91 4.585 11.91 11.893 0 7.343-4.698 12.035-11.91 12.035-7.358.036-11.875-4.513-11.875-11.892m16.938-.072c0-4.836-1.457-8.668-5.172-8.668-3.752.035-4.918 3.868-4.918 8.668 0 4.8 1.457 8.669 5.173 8.669 3.751 0 4.917-3.833 4.917-8.669"/><path d="M47.062 13.29H33.366l-.765 2.077h13.696zm.582-4.156H33.948l-.728 2.078h13.696zm72.268 6.197c0-.465.182-.824.51-1.182a1.665 1.665 0 0 1 1.202-.501c.474 0 .874.179 1.202.501.328.323.51.717.51 1.182 0 .466-.182.86-.51 1.182-.328.323-.728.466-1.202.466-.473 0-.874-.143-1.202-.466-.364-.286-.51-.68-.51-1.182"/></g></svg>'},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 180 69.632088" width="180" height="69.632"><path fill="#8797a5" d="M84.243 44.623c0-4.395-3.319-7.376-7.469-7.376-4.178 0-7.497 2.98-7.497 7.376 0 4.364 3.318 7.344 7.497 7.344 4.18 0 7.469-2.98 7.469-7.344zm-7.469 4.24c-2.058 0-3.84-1.72-3.84-4.179 0-2.489 1.782-4.21 3.84-4.21 2.06 0 3.843 1.721 3.843 4.21 0 2.458-1.783 4.18-3.843 4.18zM97.12 49.94h.031v1.63h3.288V29.687h-3.564v8.634c-.554-.522-2.184-1.044-3.658-1.044-3.934 0-7.068 2.95-7.068 7.345 0 4.794 3.472 7.313 6.7 7.313 2.12 0 3.564-.86 4.27-1.997zm-7.313-5.255c0-2.427 1.72-4.18 3.934-4.18 1.627 0 2.703.8 3.133 1.322v5.44c-.522.799-1.568 1.597-3.133 1.597-2.214 0-3.934-1.72-3.934-4.179zm24.461 2.703v-5.1c0-3.32-2.397-5.04-5.809-5.04-1.782 0-3.534.43-4.732 1.198l.676 2.889c1.014-.645 2.52-1.106 3.873-1.106 1.72 0 2.458.799 2.458 1.844v.675l-3.043.277c-2.55.245-4.671 1.875-4.671 4.487 0 2.55 1.967 4.455 4.58 4.455 1.628 0 3.041-.552 3.687-1.935.307 1.106 1.29 1.814 2.182 1.997l2.458-2.15c-.983-.277-1.659-1.046-1.659-2.49zm-3.534-.83c0 1.538-1.167 2.583-2.55 2.583-1.046 0-1.72-.769-1.72-1.63 0-.921.614-1.874 2.088-1.996l2.183-.185v1.23zm10.54.709V29.688h-3.626v18.039c0 3.01 1.906 4.208 3.78 4.393l1.721-2.765c-1.046-.123-1.874-.891-1.874-2.09zm21.481-4.457v8.76h3.656v-9.436c0-3.01-1.935-4.855-5.13-4.855-2.06 0-3.75.921-4.426 2.151-.676-1.383-2.244-2.151-4.118-2.151-2.244 0-3.533.891-4.118 2.243h-.03l-.062-1.874h-3.288v13.921h3.657V42.87c0-1.289.675-2.458 2.611-2.458 1.998 0 2.489 1.169 2.489 2.397v8.76h3.657V42.87c0-1.289.676-2.458 2.612-2.458 2 0 2.49 1.169 2.49 2.397zm17.333 4.578v-5.1c0-3.32-2.397-5.04-5.808-5.04-1.783 0-3.534.43-4.734 1.198l.677 2.889c1.015-.645 2.52-1.106 3.873-1.106 1.72 0 2.458.799 2.458 1.844v.675l-3.043.277c-2.55.245-4.67 1.875-4.67 4.487 0 2.55 1.966 4.455 4.578 4.455 1.628 0 3.042-.552 3.687-1.935.309 1.106 1.291 1.814 2.183 1.997l2.458-2.15c-.983-.277-1.66-1.046-1.66-2.49zm-3.534-.83c0 1.538-1.168 2.583-2.551 2.583-1.045 0-1.722-.769-1.722-1.63 0-.921.616-1.874 2.09-1.996l2.183-.185v1.23zm7.13-8.91h3.717v13.921h-3.718zm1.873-2.305c.708 0 2.029-1.384 2.029-2.06 0-.674-1.322-2.058-2.029-2.058-.676 0-2.058 1.383-2.058 2.058 0 .676 1.382 2.06 2.058 2.06zm9.005 13.552c-1.598 0-3.227-.676-4.333-1.536l.4 3.471c1.043.585 2.366.984 4.117.984 3.534 0 5.255-1.966 5.255-4.272 0-2.365-1.445-3.779-4.364-4.701-1.107-.339-1.598-.708-1.598-1.383 0-.707.584-1.199 1.537-1.199 1.29 0 2.366.43 3.011.83l.646-2.827c-.615-.369-2.243-.86-3.873-.86-2.888 0-4.916 1.69-4.916 4.21 0 2.305 1.567 3.595 4.271 4.487 1.045.336 1.599.768 1.599 1.535 0 .708-.709 1.261-1.752 1.261zM49.024 65.288a2.303 2.303 0 0 0-.766-.542 2.467 2.467 0 0 0-1.01-.201c-.373 0-.71.067-1.01.2a2.3 2.3 0 0 0-.767.543 2.346 2.346 0 0 0-.482.807 2.91 2.91 0 0 0-.168.988c0 .355.056.686.168.993.112.308.272.577.482.808.21.23.465.412.767.547.3.133.638.2 1.01.2.371 0 .708-.066 1.01-.2a2.268 2.268 0 0 0 .766-.547 2.403 2.403 0 0 0 .483-.808 2.886 2.886 0 0 0 .167-.993c0-.348-.056-.677-.167-.988a2.356 2.356 0 0 0-.483-.807zm-.26 2.508a1.775 1.775 0 0 1-.313.596 1.588 1.588 0 0 1-.508.411c-.2.104-.431.156-.696.156a1.516 1.516 0 0 1-1.213-.567 1.768 1.768 0 0 1-.314-.596 2.376 2.376 0 0 1-.107-.713c0-.247.036-.483.107-.707a1.773 1.773 0 0 1 .315-.592 1.573 1.573 0 0 1 .512-.411c.203-.104.437-.155.7-.155.265 0 .496.051.696.155a1.6 1.6 0 0 1 .508.411c.138.17.243.368.314.592.07.224.107.46.107.707 0 .247-.036.485-.107.713zm6.92-3.251a2.06 2.06 0 0 0-.538.07c-.177.047-.341.11-.493.19a2.618 2.618 0 0 0-.726.563V62.82h-.762v6.69h.762v-3.54c.074-.1.164-.196.269-.286.105-.09.22-.17.345-.24a1.839 1.839 0 0 1 .401-.166c.142-.04.288-.06.437-.06.162 0 .312.016.451.05a.776.776 0 0 1 .35.18c.095.087.17.2.224.34.054.141.081.318.081.532v3.19h.761v-3.42c0-.529-.132-.918-.396-1.17-.264-.25-.653-.375-1.167-.375zm6.821.742a2.303 2.303 0 0 0-.767-.541 2.467 2.467 0 0 0-1.01-.2c-.372-.001-.708.066-1.01.2a2.3 2.3 0 0 0-.766.542 2.346 2.346 0 0 0-.482.807 2.91 2.91 0 0 0-.168.988c0 .355.056.686.168.993.112.308.272.577.482.808.21.23.465.412.767.547.3.133.637.2 1.01.2.371 0 .708-.066 1.01-.2a2.268 2.268 0 0 0 .766-.547 2.403 2.403 0 0 0 .483-.808 2.886 2.886 0 0 0 .167-.993c0-.348-.056-.677-.167-.988a2.356 2.356 0 0 0-.483-.807zm-.26 2.509a1.775 1.775 0 0 1-.313.596 1.588 1.588 0 0 1-.508.411c-.2.104-.431.156-.696.156a1.516 1.516 0 0 1-1.213-.567 1.768 1.768 0 0 1-.314-.596 2.376 2.376 0 0 1-.107-.713c0-.247.035-.483.107-.707a1.773 1.773 0 0 1 .315-.592 1.573 1.573 0 0 1 .512-.411c.203-.104.436-.155.7-.155.265 0 .496.051.696.155a1.6 1.6 0 0 1 .508.411c.138.17.243.368.314.592.07.224.107.46.107.707 0 .247-.036.485-.107.713zm7.275-3.251c-.176 0-.349.027-.518.08-.17.054-.325.122-.467.206a2.065 2.065 0 0 0-.385.29 1.748 1.748 0 0 0-.275.327 1.277 1.277 0 0 0-.43-.642c-.214-.175-.51-.26-.889-.26a1.605 1.605 0 0 0-.523.085 2.536 2.536 0 0 0-.462.21 2.356 2.356 0 0 0-.37.266c-.106.094-.182.18-.229.26v-.701h-.761v4.844h.761v-3.54c.135-.194.322-.368.559-.521.236-.155.48-.231.73-.231.325 0 .557.09.695.27.14.181.209.425.209.733v3.29h.761v-3.55a1.78 1.78 0 0 1 .553-.517c.24-.151.49-.226.747-.226.318 0 .548.09.69.27.142.181.213.425.213.733v3.29h.761v-3.5c0-.49-.116-.856-.35-1.1-.233-.244-.574-.366-1.02-.366zm6.587.753a2.173 2.173 0 0 0-.743-.552 2.372 2.372 0 0 0-.997-.2 2.32 2.32 0 0 0-.971.2 2.395 2.395 0 0 0-.763.542 2.497 2.497 0 0 0-.504.807 2.682 2.682 0 0 0-.184.988c0 .381.063.728.188 1.038a2.419 2.419 0 0 0 .518.802 2.3 2.3 0 0 0 .787.522c.304.123.64.186 1.005.186.406 0 .771-.064 1.096-.191a2.49 2.49 0 0 0 .853-.551l-.365-.492a2.085 2.085 0 0 1-.69.451 2.168 2.168 0 0 1-.823.16c-.264 0-.5-.044-.71-.135a1.744 1.744 0 0 1-.544-.36 1.668 1.668 0 0 1-.36-.532 1.907 1.907 0 0 1-.152-.647h3.979v-.19a3.222 3.222 0 0 0-.158-1.019 2.397 2.397 0 0 0-.462-.827zm-3.36 1.484c.008-.187.046-.376.117-.566a1.708 1.708 0 0 1 .305-.517 1.6 1.6 0 0 1 .492-.381c.196-.1.427-.15.69-.15.278 0 .518.05.721.15a1.537 1.537 0 0 1 .503.386c.132.157.23.33.294.521.064.19.097.377.097.557h-3.219zm11.436-1.544a1.994 1.994 0 0 0-.69-.512 2.115 2.115 0 0 0-.878-.18c-.339 0-.65.074-.934.225-.284.15-.525.36-.72.627V62.82h-.762v6.691h.761v-.722c.183.247.418.45.706.607.287.156.604.236.95.236a2.172 2.172 0 0 0 .877-.176c.267-.117.498-.285.69-.501.193-.217.343-.484.452-.798.108-.314.162-.669.162-1.063 0-.388-.054-.74-.162-1.054a2.38 2.38 0 0 0-.452-.802zm-.284 2.598a1.763 1.763 0 0 1-.31.591 1.414 1.414 0 0 1-.497.391c-.196.094-.42.14-.67.14a1.753 1.753 0 0 1-.857-.22 1.614 1.614 0 0 1-.605-.541V66c.136-.214.337-.398.605-.552a1.691 1.691 0 0 1 .857-.23c.25 0 .474.047.67.14a1.417 1.417 0 0 1 .498.391c.135.167.238.367.31.597.07.23.106.48.106.748 0 .267-.036.514-.107.742zm2.715-2.388v-.782h-.76v4.844h.76v-3.43c.054-.1.132-.195.234-.286a2.128 2.128 0 0 1 .726-.42 1.19 1.19 0 0 1 .37-.066c.108 0 .21.01.304.03v-.772c-.338 0-.646.084-.923.25a2.562 2.562 0 0 0-.71.632zm6.325-.16a2.3 2.3 0 0 0-.767-.542 2.469 2.469 0 0 0-1.01-.201c-.372 0-.709.067-1.01.2a2.296 2.296 0 0 0-.766.543 2.34 2.34 0 0 0-.482.807 2.902 2.902 0 0 0-.168.988c0 .355.056.686.168.993a2.401 2.401 0 0 0 .482.808 2.268 2.268 0 0 0 .766.547c.301.133.638.2 1.01.2s.709-.066 1.01-.2c.301-.134.557-.316.767-.547.21-.231.37-.5.482-.808a2.886 2.886 0 0 0 .167-.993c0-.348-.055-.677-.167-.988a2.346 2.346 0 0 0-.482-.807zm-.259 2.508a1.775 1.775 0 0 1-.315.596c-.139.17-.308.308-.507.411-.2.103-.432.156-.695.156-.264 0-.498-.052-.7-.156a1.58 1.58 0 0 1-.514-.41 1.775 1.775 0 0 1-.314-.597 2.369 2.369 0 0 1-.107-.713c0-.247.036-.483.107-.707.07-.224.176-.421.314-.592a1.576 1.576 0 0 1 .513-.411c.203-.104.437-.155.7-.155.264 0 .496.051.696.155a1.596 1.596 0 0 1 .507.411c.14.17.244.368.315.592a2.326 2.326 0 0 1 .106.707c0 .247-.035.485-.106.713zm6.269-3.13h-.965l-2.578 2.578V62.82h-.762v6.69h.762v-1.384l.812-.792 1.766 2.176h.975l-2.183-2.648m6.78-1.564a2.173 2.173 0 0 0-.743-.552 2.373 2.373 0 0 0-.997-.2c-.353-.001-.677.066-.971.2a2.391 2.391 0 0 0-.763.542 2.497 2.497 0 0 0-.504.807 2.682 2.682 0 0 0-.183.988c0 .381.062.728.187 1.038a2.419 2.419 0 0 0 .518.802 2.3 2.3 0 0 0 .787.522c.305.123.64.186 1.005.186a2.99 2.99 0 0 0 1.096-.191 2.487 2.487 0 0 0 .853-.551l-.366-.492a2.083 2.083 0 0 1-.69.451 2.167 2.167 0 0 1-.822.16c-.264 0-.5-.044-.71-.135a1.746 1.746 0 0 1-.544-.36 1.661 1.661 0 0 1-.36-.532 1.9 1.9 0 0 1-.152-.647h3.98v-.19a3.222 3.222 0 0 0-.158-1.019 2.397 2.397 0 0 0-.463-.827zm-3.36 1.484a1.8 1.8 0 0 1 .118-.566 1.701 1.701 0 0 1 .304-.517c.132-.154.296-.281.493-.381.196-.1.426-.15.69-.15.277 0 .518.05.721.15a1.54 1.54 0 0 1 .797.907c.064.19.096.377.096.557h-3.218zm5.777-1.334v-.782h-.76v4.844h.76v-3.43c.055-.1.132-.195.234-.286a2.128 2.128 0 0 1 .726-.42 1.19 1.19 0 0 1 .37-.066c.108 0 .21.01.304.03v-.772c-.338 0-.646.084-.923.25a2.562 2.562 0 0 0-.71.632zm8.395-.05a2.095 2.095 0 0 0-.725-.627 1.976 1.976 0 0 0-.93-.226c-.324 0-.62.06-.887.18a1.993 1.993 0 0 0-.691.512 2.327 2.327 0 0 0-.446.803 3.31 3.31 0 0 0-.158 1.053c0 .394.054.749.163 1.063.108.315.258.58.451.798.193.217.423.384.69.501.267.117.56.176.878.176.346 0 .662-.079.95-.236.288-.157.522-.36.705-.607v.722h.761v-6.69h-.76v2.578zm0 2.799a1.608 1.608 0 0 1-.609.542 1.784 1.784 0 0 1-.863.22 1.514 1.514 0 0 1-.66-.14 1.41 1.41 0 0 1-.497-.392 1.764 1.764 0 0 1-.31-.592 2.482 2.482 0 0 1-.106-.742c0-.267.035-.517.106-.747a1.754 1.754 0 0 1 .31-.597 1.413 1.413 0 0 1 .497-.391 1.518 1.518 0 0 1 .66-.14c.305 0 .592.076.863.23.271.154.474.337.61.552zm6.02-2.91a2.3 2.3 0 0 0-.767-.541 2.467 2.467 0 0 0-1.01-.2c-.371 0-.708.066-1.01.2a2.296 2.296 0 0 0-.766.542 2.34 2.34 0 0 0-.482.807 2.902 2.902 0 0 0-.167.988c0 .355.055.686.167.993a2.401 2.401 0 0 0 .482.808 2.268 2.268 0 0 0 .767.547c.3.133.637.2 1.01.2.372 0 .708-.066 1.01-.2.3-.134.556-.316.766-.547.21-.231.37-.5.482-.808a2.886 2.886 0 0 0 .168-.993c0-.348-.056-.677-.168-.988a2.346 2.346 0 0 0-.482-.807zm-.259 2.509a1.775 1.775 0 0 1-.315.596 1.496 1.496 0 0 1-1.203.567 1.52 1.52 0 0 1-.7-.156 1.58 1.58 0 0 1-.513-.41 1.774 1.774 0 0 1-.314-.597 2.381 2.381 0 0 1-.107-.713c0-.247.036-.483.107-.707.07-.224.176-.421.314-.592a1.576 1.576 0 0 1 .513-.411c.203-.104.437-.155.7-.155.264 0 .496.051.696.155a1.596 1.596 0 0 1 .507.412c.139.17.244.367.315.591a2.326 2.326 0 0 1 .107.707 2.365 2.365 0 0 1-.107.713zm9.086-1.174a1.684 1.684 0 0 0-.416-.371 1.305 1.305 0 0 0-.513-.19 1.5 1.5 0 0 0 1.091-.954 1.665 1.665 0 0 0 .097-.582c0-.247-.044-.476-.133-.687a1.54 1.54 0 0 0-.375-.542 1.71 1.71 0 0 0-.599-.35 2.374 2.374 0 0 0-.792-.126h-3.015v6.69h3.086c.312 0 .588-.043.828-.13a1.743 1.743 0 0 0 .614-.37 1.588 1.588 0 0 0 .385-.572c.089-.221.132-.466.132-.733 0-.2-.035-.395-.106-.581a1.834 1.834 0 0 0-.284-.502zm-3.812-3.06h2.03c.386 0 .677.105.873.316.196.211.295.466.295.767 0 .308-.098.564-.295.768-.196.204-.487.306-.873.306h-2.03v-2.157zm3 4.9c-.22.204-.53.306-.93.306h-2.07v-2.306h2.07c.21 0 .393.031.549.095a1.187 1.187 0 0 1 .39.25c.106.104.185.226.24.367.054.14.08.287.08.44 0 .362-.11.644-.33.849zm5.593-3.54a1.704 1.704 0 0 0-.604-.286 2.886 2.886 0 0 0-.73-.09c-.786-.001-1.439.267-1.96.802l.355.52c.427-.447.927-.671 1.503-.671.359 0 .655.088.888.266.233.177.35.43.35.757v.873a1.771 1.771 0 0 0-.705-.502 2.513 2.513 0 0 0-.92-.16c-.209 0-.415.032-.618.095a1.614 1.614 0 0 0-.548.296 1.538 1.538 0 0 0-.396.502c-.102.2-.153.435-.153.702 0 .26.05.491.153.692a1.59 1.59 0 0 0 .396.506 1.633 1.633 0 0 0 .548.306c.203.067.41.1.619.1.67 0 1.211-.223 1.624-.672v.552h.761v-3.33c0-.294-.05-.545-.152-.752a1.394 1.394 0 0 0-.41-.507zm-.198 3.566a1.367 1.367 0 0 1-.583.451 1.968 1.968 0 0 1-.767.15c-.359 0-.65-.098-.873-.296a.965.965 0 0 1-.335-.757c0-.314.112-.57.335-.767.223-.198.514-.296.873-.296a1.968 1.968 0 0 1 .767.15c.24.1.434.25.583.451v.913zm4.609-3.943c-.183 0-.36.023-.533.07a2.4 2.4 0 0 0-.488.19 2.61 2.61 0 0 0-.41.267 2.46 2.46 0 0 0-.315.296v-.702h-.761v4.844h.76v-3.54c.069-.1.155-.196.26-.286a2.006 2.006 0 0 1 .756-.406c.142-.04.288-.06.437-.06.331 0 .597.08.797.24.2.16.299.455.299.883v3.17h.761v-3.4c0-1.044-.52-1.566-1.563-1.566zm3.868 1.204a1.576 1.576 0 0 1 .532-.391c.207-.094.442-.14.706-.14.257 0 .489.05.695.15.207.1.391.26.554.481l.507-.461a2.407 2.407 0 0 0-.706-.602c-.28-.16-.644-.241-1.09-.241-.366 0-.7.065-1 .196a2.301 2.301 0 0 0-.772.536 2.443 2.443 0 0 0-.498.802 2.779 2.779 0 0 0-.177 1.003c0 .361.06.697.177 1.008a2.427 2.427 0 0 0 .498.808 2.28 2.28 0 0 0 .771.537c.302.13.635.195 1 .195.447 0 .81-.08 1.091-.24a2.396 2.396 0 0 0 .706-.603l-.507-.461c-.319.421-.735.632-1.25.632-.263 0-.498-.047-.705-.14a1.575 1.575 0 0 1-.532-.392 1.705 1.705 0 0 1-.341-.597 2.328 2.328 0 0 1-.117-.747c0-.268.04-.515.117-.742.078-.227.192-.424.34-.59zm7.796-.461a2.3 2.3 0 0 0-.767-.542 2.469 2.469 0 0 0-1.01-.2c-.372 0-.708.066-1.01.2a2.296 2.296 0 0 0-.766.542 2.34 2.34 0 0 0-.482.807 2.902 2.902 0 0 0-.168.988c0 .355.056.686.168.993a2.401 2.401 0 0 0 .482.808 2.268 2.268 0 0 0 .767.547c.3.133.637.2 1.01.2.371 0 .708-.066 1.01-.2.3-.134.556-.316.766-.547.21-.231.37-.5.482-.808a2.886 2.886 0 0 0 .167-.993c0-.348-.055-.677-.167-.988a2.346 2.346 0 0 0-.482-.807zm-.259 2.508a1.775 1.775 0 0 1-.315.596c-.139.17-.308.308-.507.411-.2.103-.432.156-.696.156-.264 0-.497-.052-.7-.156a1.58 1.58 0 0 1-.513-.41 1.775 1.775 0 0 1-.315-.597 2.369 2.369 0 0 1-.106-.713c0-.247.035-.483.106-.707.071-.224.176-.421.315-.592a1.576 1.576 0 0 1 .513-.411c.203-.104.436-.155.7-.155.264 0 .496.051.696.155a1.596 1.596 0 0 1 .507.412c.139.17.243.367.315.591a2.326 2.326 0 0 1 .106.707 2.365 2.365 0 0 1-.106.713zm7.74.06l-2.1-5.036h-1.209v6.69h.842v-5.507l2.295 5.507h.345l2.304-5.507v5.507h.843v-6.69h-1.208m6.497 2.468a2.3 2.3 0 0 0-.767-.542 2.467 2.467 0 0 0-1.01-.2c-.371 0-.709.066-1.01.2a2.296 2.296 0 0 0-.766.542 2.34 2.34 0 0 0-.482.807 2.902 2.902 0 0 0-.168.988c0 .355.056.686.168.994a2.401 2.401 0 0 0 .482.807 2.268 2.268 0 0 0 .766.547c.301.134.638.201 1.01.201.373 0 .71-.067 1.01-.2.301-.134.557-.317.767-.548a2.4 2.4 0 0 0 .482-.807 2.886 2.886 0 0 0 .167-.993c0-.348-.055-.677-.167-.988a2.346 2.346 0 0 0-.482-.808zm-.259 2.508a1.775 1.775 0 0 1-.315.596c-.139.171-.307.309-.507.412-.2.103-.432.155-.695.155-.264 0-.497-.051-.7-.155a1.58 1.58 0 0 1-.514-.411 1.767 1.767 0 0 1-.314-.597 2.382 2.382 0 0 1-.107-.713c0-.247.036-.483.107-.706.071-.224.176-.422.314-.592a1.576 1.576 0 0 1 .513-.412c.203-.103.437-.155.7-.155.264 0 .497.052.696.155a1.596 1.596 0 0 1 .507.412c.14.17.244.368.315.592a2.326 2.326 0 0 1 .107.707c0 .247-.036.484-.107.712zm5.517-2.398a2.095 2.095 0 0 0-.725-.627 1.976 1.976 0 0 0-.93-.226c-.324 0-.62.061-.887.181a1.993 1.993 0 0 0-.69.512 2.313 2.313 0 0 0-.447.802 3.321 3.321 0 0 0-.158 1.053c0 .395.054.75.163 1.063.108.315.258.58.451.798.193.217.423.385.69.502.267.117.56.175.878.175.345 0 .662-.079.95-.236.287-.157.522-.36.705-.606v.722h.762V62.82h-.762v2.578zm0 2.8a1.61 1.61 0 0 1-.608.541 1.784 1.784 0 0 1-.863.22 1.514 1.514 0 0 1-.66-.14 1.41 1.41 0 0 1-.498-.391 1.772 1.772 0 0 1-.31-.592 2.469 2.469 0 0 1-.106-.742c0-.268.035-.517.106-.748a1.754 1.754 0 0 1 .31-.597 1.413 1.413 0 0 1 .497-.391 1.518 1.518 0 0 1 .66-.14c.305 0 .593.077.864.23.27.154.473.338.608.552zm5.365-3.276a1.704 1.704 0 0 0-.604-.286 2.886 2.886 0 0 0-.73-.09c-.786 0-1.439.267-1.96.802l.355.521c.427-.448.927-.672 1.503-.672.358 0 .654.089.888.266.233.177.35.43.35.757v.873a1.771 1.771 0 0 0-.705-.501 2.513 2.513 0 0 0-.919-.16c-.21 0-.416.031-.619.095a1.614 1.614 0 0 0-.548.296 1.538 1.538 0 0 0-.396.501c-.102.2-.153.435-.153.702 0 .26.051.492.153.692a1.59 1.59 0 0 0 .396.507 1.633 1.633 0 0 0 .548.306c.203.066.41.1.62.1.67 0 1.21-.224 1.623-.672v.551h.762v-3.33c0-.294-.051-.545-.153-.752a1.394 1.394 0 0 0-.41-.506zm-.198 3.566a1.367 1.367 0 0 1-.583.452 1.968 1.968 0 0 1-.767.15c-.358 0-.65-.099-.873-.296a.965.965 0 0 1-.335-.758c0-.314.112-.57.335-.767.224-.198.514-.296.873-.296a1.968 1.968 0 0 1 .767.15c.24.1.435.251.583.452v.913zm2.102-5.668h.76v6.691h-.76zM66.818 51.568v-9.435c0-3.01-1.936-4.855-5.132-4.855-2.059 0-3.75.921-4.425 2.151-.676-1.383-2.244-2.151-4.118-2.151-2.243 0-3.534.891-4.118 2.243h-.03l-.063-1.874h-3.288v13.922h3.658V42.87c0-1.289.675-2.458 2.611-2.458 1.998 0 2.49 1.17 2.49 2.397v8.76h3.657V42.87c0-1.289.675-2.458 2.612-2.458 1.997 0 2.489 1.17 2.489 2.397v8.76h3.657zm-18.143-33.99V0L16.57 32.047 0 21.309V38.89l5.903 3.801L0 48.585v17.58l16.61-16.58 20.325 13.088V45.246l-9.688-6.28" class="lg"/></svg>'
},,,,,,,,,,,,,function(t,e,i){"use strict";var o=i(572),n=o.extend({initialize:function(){this.on("fired",function(){var t=this.get("alert");t&&t.trigger("fired",this)}.bind(this))},_prepareToSet_fireTime:function(t){return new Date(1e3*t)},_prepareToSet_barTime:function(t){return new Date(1e3*t)},_prepareToSet_alertId:function(t){return parseInt(t)},fireTimeReadable:function(){return this._formatDate(this.get("fireTime"))},fireTimeUnix:function(){return Math.round(this.get("fireTime").getTime()/1e3)}});t.exports=n},function(t,e,i){"use strict";function o(){}function n(t){var e={};return Object.keys(t).forEach(function(i){var o,n=t[i];i.startsWith("in_")?(o=["open","high","low","close","hl2","hlc3","ohlc4"].indexOf(n)>0||/.*\$\d+/.test(n)?"source":"string"==typeof n?"string":"boolean"==typeof n?"bool":"float",e[i]={f:!0,v:n,t:o}):e[i]=n}),e}var r=i(562),s=i(39),a=i(144),l=i(570).prepareCallStudyArgs,c=i(17),h=i(0).getLogger("Alerts.Versioning"),d=i(112),u=i(571),p=i(467),f=i(559),_=i(268);o.version_10_tv_6611_1a_refactoring=10,o.version_11_tv_6611_1b_refactoring=11,o.version_12_tv_6888_fix_plot_index=12,o.version_13_tv_4164_source_code_protection=13,o.version_14_tv_4164_source_code_protection_fix=14,o.version_15_tv_8068_fix_main_series_resolution=15,o.version_16_jv_298_remove_callstudy=16,o.version_17_jv_646_fix_mixed_inputs=17,o.version_18_tv_10636_price_format=18,o.version_19_tv_11267_fix_frequency_options=19,o.prototype.migrate=function(t){var e,i;return t&&t.extra?(e=JSON.parse(t.extra))&&!Object.keys(e).length&&e.constructor===Object?(delete t.extra,Promise.resolve(t)):(i=Promise.resolve(t),(null==e.version||e.version<r.VERSION)&&(i=this._patchAlert(e,t)),i=i.then(function(t){var e=JSON.parse(t.extra);return e.version<r.VERSION&&h.logError("Alert version is less than current"),e.version>r.VERSION&&h.logNormal("Alert version is greater than current"),t})):Promise.resolve(t)},o.prototype._patchAlert=function(t,e){var i,n,r=this;return t.version||(t.version=1),i=t.version,i<o.version_10_tv_6611_1a_refactoring&&(t.condition.mainSeries=this._patchBand_to10(t.condition.mainSeries,e.symbol),t.condition.options.band&&(t.condition.options.band=this._patchBand_to10(t.condition.options.band,e.symbol)),t.condition.options.upperBand&&(t.condition.options.upperBand=this._patchBand_to10(t.condition.options.upperBand,e.symbol)),t.condition.options.lowerBand&&(t.condition.options.lowerBand=this._patchBand_to10(t.condition.options.lowerBand,e.symbol)),t.version=o.version_10_tv_6611_1a_refactoring),i<o.version_11_tv_6611_1b_refactoring&&(t=this._patchExtra_to11(t)),i<o.version_12_tv_6888_fix_plot_index&&(t=this._patchExtra_to12(t)),i<o.version_13_tv_4164_source_code_protection&&(t=this._patchExtra_to13(t,e)),i<o.version_14_tv_4164_source_code_protection_fix&&(t=this._patchExtra_to14(t,e)),i<o.version_15_tv_8068_fix_main_series_resolution&&(t=this._patchExtra_to15(t,e)),e.extra=JSON.stringify(t),n=Promise.resolve(e),i<o.version_16_jv_298_remove_callstudy&&(n=n.then(function(t){return r._patchAlert_to16(t)})),
i<o.version_17_jv_646_fix_mixed_inputs&&(n=n.then(function(t){var e=JSON.parse(t.extra),i=r._patchExtra_to17(e);return t.extra=JSON.stringify(i),t})),i<o.version_18_tv_10636_price_format&&(n=n.then(function(t){var e=JSON.parse(t.extra),i=r._patchExtra_to18(e);return t.extra=JSON.stringify(i),t})),i<o.version_19_tv_11267_fix_frequency_options&&(n=n.then(function(t){return r._patchAlert_to19(t)})),n},o.prototype._patchBand_to10=function(t,e){return t=this._patchBand_to10_callStudyArgs(t),t=this._patchBand_to10_stateForAlert(t,e)},o.prototype._patchBand_to10_callStudyArgs=function(t){var e=t&&"Study"===t.type,i=e&&(t.alertsData||{}).callStudyArgs,o=e&&t.metaInfo&&t.state&&t.state.inputs;return e&&!i&&o?(t.alertsData||(t.alertsData={}),t.alertsData.callStudyArgs=l(t.state.inputs,t.metaInfo),t):t},o.prototype._patchBand_to10_stateForAlert=function(t,e){function i(){var e,i={0:"bar",1:"candle",2:"line",3:"area",4:"renko",5:"kagi",6:"pnf",7:"pb",8:"ha",9:"hollowCandle"},o=i[t.state.style];if(o&&(e=t.state[o+"Style"]))return e.inputs}var o,n,r;return t?(n=!t.state,o=t.type,"MainSeries"!==o||n?"Study"!==o&&!/^study_\w+/.test(o)||n?t:(r=t.metaInfo.plots.map(function(e){var i={id:e.id,type:e.type,offset:t.data.completePlotOffsets[e.id]};return t.metaInfo.styles&&void 0!==t.metaInfo.styles[e.id]&&(i.title=t.metaInfo.styles[e.id].title||""),e.target&&t.metaInfo.ohlcPlots&&t.metaInfo.ohlcPlots[e.target]&&(i.ohlcTitle=t.metaInfo.ohlcPlots[e.target].title),i}),{id:t.id,uniqueId:t.uniqueId,type:t.type,title:"",shortDescription:t.state.shortDescription||"Study",fullId:t.metaInfo.fullId,isTVScript:!!t.metaInfo.isTVScript,plots:r,inputs:t.state.inputs,alerts:t.metaInfo.alerts,callStudyArgs:t.alertsData.callStudyArgs,plotIndex:t.plotIndex,plotOffset:t.plotOffset}):{id:t.id,uniqueId:t.uniqueId,type:t.type,proSymbol:t.state.symbol||e,actualSymbol:e,interval:t.state.interval,style:t.state.style,styleInputs:i(),extendedHours:t.state.extendedHours,boxSize:t.boxSize,reversalAmount:t.reversalAmount}):t},o.prototype._patchExtra_to11=function(t){var e,i=function(t,e,i){i.id=i.id||c.randomHashN(6),t.condition[e]={id:i.id,plotIndex:i.plotIndex},t.statesForAlert[i.id]=i},n={version:o.version_11_tv_6611_1b_refactoring,condition:{id:t.condition.id,fireInfo:{frequency:t.frequency||"once"},movPeriod:t.condition.options.period,movValue:t.condition.options.value},statesForAlert:{}};return i(n,"alertSeries",t.condition.mainSeries),e=["band","upperBand","lowerBand"],e.filter(function(e){return!!t.condition.options[e]}).forEach(function(e){i(n,e,t.condition.options[e])}),n},o.prototype._patchExtra_to12=function(t){return["alertSeries","band","upperBand","lowerBand"].filter(function(e){return!!t.condition[e]&&void 0!==t.condition[e].plotIndex}).map(function(e){var i=t.condition[e];return{state:t.statesForAlert[i.id],plotIndex:i.plotIndex}}).filter(function(t){return!!t.state.plots}).forEach(function(t){var e=t.state.plots[t.plotIndex];null==e||"object"!=typeof e&&"function"!=typeof e||void 0===e.pinePlotIndex&&(e.pinePlotIndex=t.plotIndex)}),
t.version=o.version_12_tv_6888_fix_plot_index,t},o.prototype._patchExtra_to13=function(t,e){var i,n,r,a=t;t.condition.mainSeries||("MainSeries"===t.statesForAlert[t.condition.alertSeries.id].type?a.condition.mainSeries=a.condition.alertSeries:(i=c.randomHashN(6),a.condition.mainSeries={id:i},a.statesForAlert[i]={id:i}),a.statesForAlert[a.condition.mainSeries.id].symbolString=e.symbol);for(n in t.statesForAlert)r=t.statesForAlert[n],r.fullId&&(r.scriptIdPart=s.parseIdString(r.fullId).shortId.split("$")[1]);return a.version=o.version_13_tv_4164_source_code_protection,a},o.prototype._patchExtra_to14=function(t,e){var i=t;return t.condition.mainSeries||("MainSeries"===t.statesForAlert[t.condition.alertSeries.id].type?i.condition.mainSeries=i.condition.alertSeries:(i.condition.mainSeries={id:c.randomHashN(6)},i.statesForAlert[i.condition.mainSeries.id]={})),null==i.statesForAlert[i.condition.mainSeries.id].symbolString&&(i.statesForAlert[i.condition.mainSeries.id].symbolString=e.symbol),i.version=o.version_14_tv_4164_source_code_protection_fix,i},o.prototype._patchExtra_to15=function(t,e){var i=t;return null==i.statesForAlert[i.condition.mainSeries.id].interval&&(i.statesForAlert[i.condition.mainSeries.id].interval=e.resolution),i.version=o.version_15_tv_8068_fix_main_series_resolution,i},o.prototype._patchAlert_to16=function(t){function e(t){return t.replace(/tv-scripting-1\!?$/,"tv-scripting-88")}function i(t){var i=s.cutDollarHash(t.fullId),n=o._recoverFullInputs(t.fullId,t.pineId,t.pineVersion,t.inputs).then(function(o){return{id:u.idForAlert(s.cutFullId(t.fullId),o),study:e(i),inputs:o}}),r=new Promise(function(i,n){var r=JSON.parse(t.callStudyDependencies||"[]"),s=r.map(function(t){return o._recoverFullInputs(null,t.scriptIdPart,t.scriptVersion,t.inputs).then(function(i){return{id:t.id,study:e(t.study),inputs:i}})});Promise.all(s).then(function(t){i(t)},n)});return n.then(function(t){return r.then(function(e){return[t].concat(e)})})}function n(e){return i(e).then(function(i){e.studyDependencies=i;var o=i[0];e.id=o.id,e.uniqueId=e.id,t.scriptDeps=t.scriptDeps.concat(i)})}function r(t){var e={},i={};Object.keys(t.statesForAlert).forEach(function(o){var n=t.statesForAlert[o].id;e[o]=n,i[n]=t.statesForAlert[o]}),Object.keys(t.condition).filter(function(i){return null!=t.condition[i].id&&null!=e[t.condition[i].id]}).forEach(function(i){t.condition[i].id=e[t.condition[i].id]}),t.statesForAlert=i}var a,l,c,h,d=JSON.parse(t.extra);t.scriptDeps=[],a=[];for(l in d.statesForAlert)d.statesForAlert.hasOwnProperty(l)&&(c=d.statesForAlert[l],"MainSeries"===c.type?(c.id=""+p(c.symbolString+c.interval),c.uniqueId=c.id):/^LineTool.*/i.test(c.type)?c.id=c.uniqueId:("Study"===c.type||/^study_\w+/.test(c.type))&&(h=n(c),a.push(h)));return Promise.all(a).then(function(){return r(d),d.version=o.version_16_jv_298_remove_callstudy,t.extra=JSON.stringify(d),t})},o.prototype.patchAlert_to16_forTestsOnly=o.prototype._patchAlert_to16,o.prototype._patchExtra_to17=function(t){var e,i,n,r,s
;for(e in t.statesForAlert)if(t.statesForAlert.hasOwnProperty(e)&&(i=t.statesForAlert[e],n=i.inputs,null!=n&&(i.inputs=a.splitInputs(n).obj),null!=i.studyDependencies))for(r=0;r<i.studyDependencies.length;r++)s=i.studyDependencies[r],s.inputs=a.splitInputs(s.inputs).obj;return t.version=o.version_17_jv_646_fix_mixed_inputs,t},o.prototype.patchExtra_to17_forTestsOnly=o.prototype._patchExtra_to17,o._recoverFullInputs=function(t,e,i,o){if(e=e||t&&s.cutScriptIdPart(t)||o.pineId,i=i||o.pineVersion||"-1",null==e)return Promise.resolve(o);var r=d.translateScriptAsync2(e,i);return new Promise(function(t,e){r.then(t,e)}).catch(function(t){if("-1"===i&&e.startsWith("USER")){var r=n(o);return h.logNormal("A very rare case: alert on legacy script that was never resaved. Trying to guess input types \n\t"+JSON.stringify(o)+" -> "+JSON.stringify(r)),r}return h.logError("Alert migration failed, inputs cannot be migrated: "+JSON.stringify(t)),Promise.reject(t)}).then(function(t){return TVScript.patchInputs(t.inputs,o)})},o.prototype._patchExtra_to18=function(t){var e,i,n,r,s,a,l,c,h={},d=f.getData(t.condition.id);return d&&"comparison"===d.type&&(d.isChannel?(i=t.statesForAlert[t.condition.upperBand.id],n=t.statesForAlert[t.condition.lowerBand.id],"Value"===i.type?e=i.value:"Value"===n.type&&(e=n.value)):(r=t.statesForAlert[t.condition.band.id],"Value"===r.type&&(e=r.value))),e&&(e=(""+e).replace(/^-/,""),-1!==e.indexOf(".")&&(s=e.replace(/^\d+\./,"").length,a=Math.pow(10,s),h.priceScale=a)),l=t.condition.alertSeries.id,c=t.statesForAlert[l],c.formatter={type:"price",state:h},t.version=o.version_18_tv_10636_price_format,t},o.prototype._patchAlert_to19=function(t){function e(t){return-1!==d.indexOf(t)}var i=JSON.parse(t.extra),n=t.autoDeactivation,r=i.condition.fireInfo.frequency,s=i.statesForAlert[i.condition.mainSeries.id],a=["band","lowerBand","upperBand"].map(function(t){var e=i.condition[t];return e&&i.statesForAlert[e.id]}).filter(function(t){return!!t}),l=a.filter(function(t){return"LineToolVertLine"===t.type}).length>0,c=_.hasProjection(s.style),h=t.crossInterval,d=[];return l?d.push("once"):(h||c||(d.push("once"),d.push("60"),d.push("on_bar_close")),c?d.push("on_bar_close"):d.push("on_first_fire")),"once_per_bar"===r&&(r="on_first_fire"),"once"!==r||e("once")||(n=!0,r=d[0]),"once"!==r&&n&&(r=d[0]),"once"!==r&&l&&(n=!0,r="once"),"on_bar_close"===r&&!e("on_bar_close")&&e("on_first_fire")&&(r="on_first_fire"),t.autoDeactivation=n,i.condition.fireInfo.frequency=r,i.version=o.version_19_tv_11267_fix_frequency_options,t.extra=JSON.stringify(i),t},t.exports={AlertVersioning:o}},function(t,e,i){"use strict";function o(t,e){void 0===e&&(e=""),r.logDebug(t+" "+e)}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(0),r=n.getLogger("Alerts.Price.RequestCache"),function(t){function e(t,e){var n=s(t);i(t)&&r(t,!0),a[n]={self:e},o("added",n),e.then(function(e){return r(t),e}).catch(function(e){return r(t,!0),e})}function i(t){var e=s(t);return a[e]&&o("got from cache",e),a[e]?a[e].self:null}function n(t){
return"list_alerts"===t.method||"list_events"===t.method}function r(t,e){var i,n,r;void 0===e&&(e=!1),i=s(t),(n=a[i])&&(e?(n.clearCacheTimeoutId&&clearTimeout(n.clearCacheTimeoutId),delete a[i],o("removed immediately",i)):(r=5e3,n.clearCacheTimeoutId=setTimeout(function(){delete a[i],o("removed timeout",i)},r)))}function s(t){return JSON.stringify(t)}var a={};t.set=e,t.get=i,t.isCachable=n}(e.RequestCache||(e.RequestCache={}))},function(t,e,i){"use strict";function o(t,e){var i=e?JSON.stringify(e):"";a.logDebug(t+" "+i)}var n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(17),r=i(0),s=i(2285),a=r.getLogger("Alerts.Price.MergedGetAlertsRequrest"),function(t){function e(t){return"get_alert"===t.method||"get_alerts"===t.method}function i(t){var e=n.guid(),i=new Promise(function(e,i){o("personal promise - creating",t),r(t),a().then(function(n){var r=l(t,n);r?(o("personal promise - resolved",t),e(r)):(o("personal promise - rejected",t),i("not_exists"))}).catch(i)});return i.then(function(t){return h(e),t}).catch(function(t){return h(e),t}),c(e,i),i}function r(t){var e=[];"id"in t.params?e=[t.params.id]:"ids"in t.params&&(e=t.params.ids),_?_.params.ids=_.params.ids.concat(e):_={method:"get_alerts",params:{ids:e}}}function a(){return f||(o("merged promise - creating"),f=new Promise(function(t,e){setTimeout(function(){_?(o("send request to server - timeout"),s.sendRequestImmediately(_).then(function(e){t(e)}).catch(e)):e("No data to send request")},u)}),f.then(function(t){return o("merged promise - resolved")}),f.catch(function(t){return o("merged promise - rejected")})),f}function l(t,e){var i,o,n,r,s,a,l,c=e.alerts||[],h=null;if("get_alert"===t.method)(i=c.filter(function(e){return e.id===t.params.id})[0])&&(h={alert:i});else if("get_alerts"===t.method){for(o=t.params.ids,n=[],r=o.length-1;r>=0;r--)for(s=o[r],a=c.length-1;a>=0;a--)if(l=c[a],l.id===s){n.push(l);break}n.length&&(h={alerts:n})}return h}function c(t,e){p[t]=e}function h(t){delete p[t],Object.keys(p).length||d()}function d(){_=null,f=null}var u=500,p={},f=null,_=null;t.isMergable=e,t.mergeRequest=i}(e.MergedGetAlertsRequest||(e.MergedGetAlertsRequest={}))},function(t,e,i){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i=l({},p,i),Array.isArray(i.actions)||(i.actions=[{name:"ok",type:"primary",text:$.t("OK"),key:13,method:"close",
addClass:"tv-alert-notification-dialog__button--ok"},{name:"edit",type:"link",text:$.t("Edit"),method:"close",addClass:"tv-button--no-padding i-float_left"}]),e=Array.isArray(i.symbols)?i.symbols:[],i.content=t.render(u,{title:$.t("Alert on __title__",{title:i.alertTitle}),message:i.alertDescription||$.t("Notification"),show_symbols:!!e.length,symbols:e}),new f(i)}var l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),l=Object.assign||function(t){var e,i,o;for(e=1;e<arguments.length;e++){i=arguments[e];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},e.createAlertsSingleNotificationDialog=a,i(2360),c=i(4),h=o(c),d=i(196),u='<div class="tv-alert-single-notification-dialog__icon">'+i(2361)+'</div>\n<div class="tv-alert-single-notification-dialog__text">\n\t<span class="tv-alert-single-notification-dialog__title">{{title}}</span><br>\n\t<span class="tv-alert-single-notification-dialog__message">{{message}}</span>\n\t{{#show_symbols}}<span class="tv-alert-single-notification-dialog__symbols">\n\t\t'+$.t("New tickers in the filter:")+'\n\t\t{{#symbols}}\n\t\t\t<span data-symbol="{{full}}" class="tv-alert-single-notification-dialog__symbol js-symbol">{{short}}</span>\n\t\t{{/symbols}}\n\t</span>{{/show_symbols}}\n</div>',p={width:320,closeButton:!1,destroyOnClose:!0,focusFirstControl:!1,closeOnOutsideClick:!1,closeOnClickAtOtherDialogs:!1,contentWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-text"><p></p></div></div>',actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border tv-alert-notification-dialog__buttons">'},f=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,e),t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i)),t.symbolClick=new h.default,t.$content.on("click",".js-symbol",function(e){e.stopPropagation(),t.symbolClick.fire($(e.currentTarget).data("symbol"))}),t}return s(e,t),e}(d.TVPopup)}).call(e,i(21))},function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 51 58" width="51" height="58"><g fill="none"><path fill="#5EC9F4" d="M29 58c3.3 0 6-3.6 6-8H23c0 4.4 2.67 8 6 8zm16.5-16V28.667c0-8.187-4.51-15.04-12.375-16.854V10c0-2.213-1.843-4-4.125-4s-4.125 1.787-4.125 4v1.813C16.982 13.627 12.5 20.453 12.5 28.667V42L7 47.333V50h44v-2.667L45.5 42z"/><path stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M25.72 15.942c-1.81.416-3.392 1.162-4.73 2.17m-2.213 2.177c-.12.152-.237.308-.35.468"/><path stroke="currentColor" stroke-width="4" d="M24 54c3.3 0 6-3.6 6-8H18c0 4.4 2.67 8 6 8zm16.5-16V24.667c0-8.187-4.51-15.04-12.375-16.854V6c0-2.213-1.843-4-4.125-4s-4.125 1.787-4.125 4v1.813C11.982 9.627 7.5 16.453 7.5 24.667V38L2 43.333V46h44v-2.667L40.5 38z"/></g></svg>'},function(t,e,i){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}function n(t){var e,i;if(t&&t.__esModule)return t;if(e={},
null!=t)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new y(c({},v,t))}var c,h,d,u,p,f,_,g,m,v,y;Object.defineProperty(e,"__esModule",{value:!0}),c=Object.assign||function(t){var e,i,o;for(e=1;e<arguments.length;e++){i=arguments[e];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},h=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),e.createAlertsMultipleNotificationsDialog=l,i(2363),d=i(14),u=n(d),p=i(4),f=o(p),_=i(196),g=i(85),m={table:'<table class="tv-alerts-multiple-notifications-dialog__table tv-alerts-multiple-notifications-dialog__table--space-bottom">\n\t\t<colgroup>\n\t\t\t<col span="2">\n\t\t\t<col width="50">\n\t\t\t<col width="160" class="i-collapsing">\n\t\t\t<col width="50">\n\t\t</colgroup>\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class="tv-alerts-multiple-notifications-dialog__table-header">'+$.t("Alert")+'</th>\n\t\t\t\t<th class="tv-alerts-multiple-notifications-dialog__table-header">'+$.t("Description")+'</th>\n\t\t\t\t<th class="tv-alerts-multiple-notifications-dialog__table-header">#</th>\n\t\t\t\t<th class="tv-alerts-multiple-notifications-dialog__table-header i-collapsing">'+$.t("Last Fired")+'</th>\n\t\t\t\t<th class="tv-alerts-multiple-notifications-dialog__table-header">&nbsp;</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class="js-rows-container"></tbody>\n\t</table>',
row:'<tr data-id="{{id}}" data-type="{{type}}" class="tv-alerts-multiple-notifications-dialog__row js-item-row">\n\t\t<td class="tv-alerts-multiple-notifications-dialog__table-cell">\n\t\t\t<div class="tv-alerts-multiple-notifications-dialog__table-cell-wrap apply-overflow-tooltip apply-overflow-tooltip--allow-text">{{title}}</div>\n\t\t</td>\n\t\t<td class="tv-alerts-multiple-notifications-dialog__table-cell">\n\t\t\t<div class="tv-alerts-multiple-notifications-dialog__table-cell-wrap apply-overflow-tooltip apply-overflow-tooltip--allow-text">{{#symbols}}<span\n\t\t\t\tdata-symbol="{{full}}" class="tv-alerts-multiple-notifications-dialog__symbol js-symbol">{{short}}</span>{{^last}}, {{/last}}{{/symbols}}{{^symbols}}{{description}}{{/symbols}}</div>\n\t\t</td>\n\t\t<td class="tv-alerts-multiple-notifications-dialog__table-cell">\n\t\t\t<div class="tv-alerts-multiple-notifications-dialog__table-cell-wrap js-fired-count">{{count}}</div>\n\t\t</td>\n\t\t<td class="tv-alerts-multiple-notifications-dialog__table-cell i-collapsing">\n\t\t\t<div class="tv-alerts-multiple-notifications-dialog__table-cell-wrap">{{fired}}</div>\n\t\t</td>\n\t\t<td class="tv-alerts-multiple-notifications-dialog__table-cell">\n\t\t\t<div class="tv-alerts-multiple-notifications-dialog__alert-controls">\n\t\t\t\t<span class="tv-alerts-multiple-notifications-dialog__alert-controls-icon tv-alerts-multiple-notifications-dialog__alert-controls-icon--settings js-icon-edit apply-common-tooltip" title="'+$.t("Edit")+'">\n\t\t\t\t\t'+i(2289)+"\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</td>\n\t</tr>"},v={title:$.t("Alert Notifications"),width:600,contentWrapTemplate:m.table,closeOnOutsideClick:!1,closeOnClickAtOtherDialogs:!1,destroyOnClose:!0},y=function(e){function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,i),t=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e)),t.symbolClick=new f.default,t.editClick=new f.default,t.$rowsContainer=t.$content.find(".js-rows-container"),t.$rowsContainer.on("click",".js-symbol",function(e){t.symbolClick.fire($(e.currentTarget).data("symbol"))}).on("click",".js-icon-edit",function(e){var i=$(e.currentTarget).closest(".js-item-row"),o=+i.attr("data-id"),n=i.attr("data-type");t.editClick.fire(o,n)}),t.updateView=g(function(){t.calcHeight(),t.fixPos()},0),t}return a(i,e),h(i,[{key:"getRow",value:function(t){return this.$rowsContainer.find('.js-item-row[data-id="'+t+'"]')}},{key:"updateRow",value:function(e,i){var o,n,r=this;Array.isArray(e.symbols)&&e.symbols.length&&(e=Object.assign({},e),e.symbols=e.symbols.slice(),e.symbols[e.symbols.length-1]=Object.assign({},e.symbols[e.symbols.length-1]||{},{last:!0})),clearTimeout(this.highlightTimerId),o=!0,n=this.getRow(e.id),n.size()&&(n.remove(),o=!1),this.$rowsContainer.prepend(t.render(m.row,e)),i||(this.highlightTimerId=setTimeout(function(){return r.highlightRow(e.id)},0)),o&&this.updateView()}},{key:"highlightRow",value:function(t){var e=this.getRow(t);e.size()&&(e.addClass("tv-screener-alerts-list-dialog__row--highlighted"),
setTimeout(function(){return e.removeClass("tv-screener-alerts-list-dialog__row--highlighted")},u.dur))}}]),i}(_.TVPopup)}).call(e,i(21))},function(t,e){},,,,function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><g stroke="#cdbd28" stroke-linecap="round" stroke-width="0"><path d="M0 13h2v2H0zM3 13h13v2H3zM0 9h2v2H0zM3 5h13v2H3zM0 4.998h2v2H0zM3 9h13v2H3zM0 1h2v2H0zM3 1h13v2H3z"/></g></svg>'},,,,function(t,e,i){"use strict";function o(t){var e,i,o,n;void 0===t&&(t={}),window.is_authenticated?(e="",Object.keys(t).forEach(function(i){e+='<input type="text" name="'+i+'" value="'+t[i]+'">'}),i='<form method="POST" target="_blank" action="/chart/" style="display: none;"><input type="text" name="new" value="1">'+e+'<input type="submit"></form>',o=$(i),$("body").append(o),o.submit()):(n=$.param(t),window.open("/chart/"+(n?"?"+n:""),"_blank"))}Object.defineProperty(e,"__esModule",{value:!0}),i(13),e.openNewChart=o},,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function o(){}o.prototype.convertTo=function(t,e,i){return t},o.prototype.convertFrom=function(t){return t},t.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 17" width="24px" height="17px"><path fill-rule="evenodd" d="M1.826 16.913l4.088-6c.85-1.244 2.036-1.25 2.896-.018l2.718 3.897c1.698 2.436 4.46 2.235 5.79-.425l6.457-12.92-1.79-.894-6.456 12.92c-.65 1.302-1.53 1.366-2.363.175L10.45 9.75c-1.66-2.38-4.55-2.365-6.188.037l-4.088 6 1.652 1.126z"/></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";(function(e,o){function n(t){this._bridge=t,this._$container=t.$body,this._$header=$(),this.options=$.extend({},this.defaults,this.options||{}),this.$sorter=$(),this.list=null,this.visibleAreaChanged=new o,this._initSorter(),this._initSymbolList(),this._initVisibleArea(),t.height.subscribe(this.resize.bind(this),{callWithLast:!0})}var r=i(85),s=i(2265),a=s.SaveRenameDialog,l=s.InputField,c=i(17),h=i(0).getLogger("Watch.BaseWatchWidget"),d=e.enabled("multiple_watchlists");n.prototype.defaults={hibernate:!0,contextMenu:!0},n.prototype._initSorter=function(){var t,e;this.$sorter=$("<div>").addClass("symbol-list-header").appendTo(this._$container),t=$('<div class="header-symbol"></div>').appendTo(this.$sorter),this.$sortByName=$("<span>"+$.t("Symbol")+"</span>").appendTo(t),e=$('<div class="header-last"></div>').appendTo(this.$sorter),this.$sortByLast=$("<span>"+$.t("Last")+"</span>").appendTo(e),this.$chng=$('<div class="header-change"></div>').appendTo(this.$sorter),this.$sortByChange=$("<div>"+$.t("Chng")+"</div>").appendTo(this.$chng),this.$sortByChangePt=$("<div>(%)</div>").appendTo(this.$chng)},n.prototype._initSymbolList=function(){if(!window.quoteSessionMultiplexerInstance)return!1;var t=i(2774);this.list=new t(quoteSessionMultiplexerInstance.simple,this.options),this.list.$element.appendTo(this._$container),
this.list.connectToSymbolLinking(this._bridge)},n.prototype._initVisibleArea=function(){var t=r(this._scrolled.bind(this),1e3);this.list.scrollbar.scrolled.subscribe(this,t),this._bridge.visible.subscribe(this._windowStateChanged.bind(this),{callWithLast:!0})},n.prototype._scrolled=function(){this._bridge.visible.value()&&this._visibleAreaChanged(this.list.visibleSymbols())},n.prototype._windowStateChanged=function(t){t?this._visibleAreaChanged(this.list.visibleSymbols()):this._visibleAreaChanged([])},n.prototype._visibleAreaChanged=function(t){this.visibleAreaChanged.fire(t),this.options.hibernate&&this.list.setFastSymbols(t)},n.prototype.resize=function(){var t=Math.max(0,this._$container.height()-this.$sorter.outerHeight());this.list.$element.height(t),this.list.resize()},n.prototype._resolveId=function t(){return t.id=t.id||0,"symbol-list-resolve-"+ ++t.id},n.prototype.popupMenuAppendPredefined=function(t,e,o){function n(t){var e=TVSettings.getJSON(r,{});t?delete e[this.title]:e[this.title]=!0,TVSettings.setJSON(r,e)}var r,s,a,l;o=o||{},r=o.expandedGroupSettingsName||"watchlist.expanded_groups",s=o.activeTabSettingsName||"watchlist.active_tab",a=TVSettings.getJSON(r,{}),l=TVSettings.getValue(s,""),(e||[]).forEach(function(e){var o=t.appendTab(e.title,void 0,{active:l&&e.title===l});(e.groups||[{list:e.list||[]}]).forEach(function(t){var e,r=o;t.title&&(e=i(519).bindPopupMenu,r=new e.Group({title:t.title,collapsible:!0,collapsed:!a[t.title],onChange:n}),o.push(r)),(t.list||[]).forEach(function(t){r.push(this._popupMenuItem(t))},this)},this)},this)},n.prototype._popupMenuItem=function(){return{title:"item",action:function(t){t.preventDefault()}}},n.prototype.isListName=function(t){return!!t||(h.logWarn("No list name supplied."),!1)},n.prototype.save=function(){},n.prototype.saveAs=function(t){var e,o,n,r,s;return window.user&&window.user.is_pro||d?(e=i(2576).WatchListManager,o=$.Deferred(),n=function(t){var i,n;this.isListName(t)&&(i=this.list.getSaveSymbols(!0),this._watchlistManager||(this._watchlistManager=new e),n={id:c.randomHash(),title:t,symbols:i},this._watchlistManager.saveList(n),o.resolve(n))}.bind(this),r="name",s=new a({fields:[new l({name:r,label:$.t("Symbol list name")+":",maxLength:128,error:$.t("Please enter list name")})],title:$.t("Save List As")}),runOrSignIn(function(){t?n(t):s.show().then(function(t){n(t[r])})},{source:"Watchlist save as"}),o):$.Deferred().resolve([])},n.prototype.load=function(t,e){this.clearList({silent:!0}),this.addList(t,e)},n.prototype.addList=function(t,e){this.list.add(t,e)},n.prototype.clearList=function(t){this.list.clear(t)},n.prototype.destroy=function(){this.clearList({silent:!0}),this._watchlistManager&&this._watchlistManager.destroy()},n.prototype.onListChanged=function(){return this.list.changed},t.exports=n}).call(e,i(3),i(4))},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" width="11" height="11"><g fill-rule="evenodd"><path d="M3.905 8.25V2.63H4.9v4.734h2.54v.886H3.906z"/><path d="M5.5 0A5.502 5.502 0 0 0 0 5.5C0 8.536 2.465 11 5.5 11 8.536 11 11 8.535 11 5.5S8.535 0 5.5 0zm0 1C7.983 1 10 3.018 10 5.5 10 7.983 7.982 10 5.5 10A4.502 4.502 0 0 1 1 5.5C1 3.017 3.018 1 5.5 1z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" width="11" height="11"><g fill-rule="evenodd"><path d="M3.798 7.94l.37-.895c.392.276.78.415 1.162.415.585 0 .878-.205.878-.613a.872.872 0 0 0-.206-.55c-.138-.173-.423-.37-.853-.585-.432-.216-.722-.393-.872-.534a1.425 1.425 0 0 1-.345-.495 1.63 1.63 0 0 1-.12-.638c0-.435.16-.795.477-1.082.318-.284.727-.428 1.226-.428.65 0 1.126.12 1.43.364l-.302.858a1.87 1.87 0 0 0-1.108-.376c-.23 0-.41.06-.536.183a.627.627 0 0 0-.19.474c0 .32.358.655 1.07 1.003.377.184.65.353.814.508.167.156.293.336.38.542.087.206.132.436.132.69 0 .454-.18.828-.54 1.122-.36.295-.84.442-1.446.442A2.57 2.57 0 0 1 3.8 7.94H3.8z"/><path d="M5.5 0A5.502 5.502 0 0 0 0 5.5C0 8.536 2.465 11 5.5 11 8.536 11 11 8.535 11 5.5S8.535 0 5.5 0zm0 1C7.983 1 10 3.018 10 5.5 10 7.983 7.982 10 5.5 10A4.502 4.502 0 0 1 1 5.5C1 3.017 3.018 1 5.5 1z"/></g></svg>'},function(t,e,i){"use strict";function o(t,e){var i,o,n;if(!t&&!e)return!0;if(!t||!e)return!1;if((t.title||"")!==(e.title||""))return!1;if(!t.symbols&&!e.symbols)return!0;if(i=t.symbols||[],o=e.symbols||[],i.length!==o.length)return!1;for(n=i.length;n>=0;--n)if(i[n]!==o[n])return!1;return!0}var n,r,s,a,l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),i(5),n=i(17),r=i(48),s=i(53),a=i(0),l=i(3),c=i(4),h=a.getLogger("WatchList.ListManager"),d=l.enabled("multiple_watchlists"),function(t){function e(t,e){var i,o;-1!==t.indexOf(n)&&(i=t.substring(n.length),o=r.getJSON(t,{}),o.listId&&0!==o.listId.length||(h.logNormal("Trying to parse legacy watch list "+i),e[i]={auto:!0,symbols:o.list||[],title:o.title||f.pickTitle()}))}function i(t){r.remove(n+t,{forceFlush:!0})}function o(t){var e={list:t.symbols,title:t.title};r.setJSON(n+t.id,e,{forceFlush:!0})}var n="widgetbar.widget.watchlist.";t.tryParseList=e,t.removeList=i,t.saveList=o}(u||(u={})),p="savedwatch.changed",f=function(){function t(e){this._onChange=null,this._canDelete=null,this._onListAdded=new c,this._onListRemoved=new c,this._onListRenamed=new c,t._instances.push(this),e&&e.onchange&&(this._onChange=e.onchange),e&&e.canDelete&&(this._canDelete=e.canDelete)}return t.prototype.onListAdded=function(){return this._onListAdded},t.prototype.onListRemoved=function(){return this._onListRemoved},t.prototype.onListRenamed=function(){return this._onListRenamed},t.prototype.destroy=function(){var e=t._instances.indexOf(this);if(-1===e)throw Error("Access violation");t._instances.splice(e,1)},t.prototype.createList=function(t,e){if(!t)return null;var i={id:n.randomHash(),symbols:e||[],title:t};return h.logNormal("Creating watch list "+i.id+" with "+i.symbols.length+" symbol(s)"),
this.saveList(i)?(this._onListAdded.fire(i.id,i.symbols),i):(h.logWarn("Cannot save watch list"),null)},t.prototype.getList=function(e,i){var o;return void 0===i&&(i=!0),t._init(),t._lists.hasOwnProperty(e)?(o=t._lists[e],{auto:!!o.auto,id:e,symbols:o.symbols.slice(),title:o.title}):i&&t._legacyLists.hasOwnProperty(e)?(o=t._legacyLists[e],{auto:!0,id:e,symbols:o.symbols.slice(),title:o.title}):null},t.prototype.getAllLists=function(e){var i,o=this;return void 0===e&&(e=!0),t._init(),i={},e&&Object.keys(t._legacyLists).forEach(function(t){var e=o.getList(t,!0);e&&(i[t]=e)}),Object.keys(t._lists).forEach(function(t){var e=o.getList(t);e&&(i[t]=e)}),i},t.prototype.saveList=function(e){var i;if(!e)throw new TypeError("list must be an object");if("string"!=typeof e.id)throw new TypeError("id property must be a string");if(null!=e.symbols&&!Array.isArray(e.symbols))throw new TypeError("symbols property must be an array or null");return t._init(),!(!(window.user&&window.is_authenticated||d||t._lists[e.id])&&Object.keys(this.getAllLists()).length>0)&&(h.logNormal("Saving WatchList with id "+e.id),!t._lists.hasOwnProperty(e.id)&&t._legacyLists.hasOwnProperty(e.id)?!o(e,t._legacyLists[e.id])&&(u.saveList(e),!0):!o(e,t._lists[e.id])&&(i={auto:!!e.auto,symbols:e.symbols,title:e.title+""},r.setJSON("savedwatch."+e.id,i,{forceFlush:!0}),t._lists[e.id]=i,this._emitChanges(e.id),!0))},t.prototype.deleteList=function(e){if(h.logNormal("Remove list "+e),!t._lists[e])return u.removeList(e),void delete t._legacyLists[e];r.remove("savedwatch."+e,{forceFlush:!0}),delete t._lists[e],this._emitChanges(e),this._onListRemoved.fire(e)},t.prototype.canDelete=function(e){return t._instances.every(function(t){return!t._canDelete||t._canDelete(e)})},t.prototype.isActive=function(t){return!this.canDelete(t)},t.prototype.updateList=function(t,e){var i=this.getList(t);null!==i&&(i.symbols=e,this.saveList(i),null!==this._onChange&&this._onChange(i.id))},t.prototype.renameList=function(t,e){var i,o=this.getList(t);null!==o&&(i=o.title,o.title=e,this.saveList(o),null!==this._onChange&&this._onChange(o.id),this._onListRenamed.fire(t,i,e))},t.pickTitle=function(){var e,i,o;for(t._init(),e=Object.keys(t._lists).map(function(e){return t._lists[e].title}),i=1;!0;i++)if(o=$.t("Watchlist")+(i>1?" ("+i+")":""),-1===e.indexOf(o))return o},t.prototype._emitChanges=function(e){t._emitChangesLocal(e,this),s.TVXWindowEvents.emit(p,e)},t._emitChangesLocal=function(e,i){t._instances.forEach(function(t){t!==i&&t._onChange&&t._onChange(e)})},t._init=function(){t._isInitialized||(h.logNormal("Init"),t._isInitialized=!0,t._updateLists(),s.TVXWindowEvents.on(p,t._onCrossTabsChanged),r.onSync.subscribe(null,t._updateLists))},t._onCrossTabsChanged=function(e){h.logNormal("xWindow list changed "+e);var i=r.getJSON("savedwatch."+e,null);i?t._lists[e]=i:delete t._lists[e],t._emitChangesLocal(e)},t._updateLists=function(){var e,i,o;t._lists={},t._legacyLists={},h.logNormal("Reload lists"),e=r.keys(),e.forEach(function(e){var i,o,n=/^savedwatch\.(.*)$/.exec(e)
;if(!n)return void u.tryParseList(e,t._legacyLists);i=n[1],(o=r.getJSON(e,null))&&(o.symbols||(o.symbols=[]),t._lists[i]=o)}),i=Object.keys(t._lists).length,o=Object.keys(t._legacyLists).length,h.logNormal("Loaded "+i+" normal lists and "+o+" legacy"),o>0&&Object.keys(t._legacyLists).forEach(function(e){var i=t._legacyLists[e],o={auto:!!i.auto,symbols:i.symbols,title:i.title+""};r.setJSON("savedwatch."+e,o,{forceFlush:!0}),r.setJSON("widgetbar.widget.watchlist."+e,{listId:e}),t._lists[e]=o})},t._instances=[],t._lists={},t._legacyLists={},t._isInitialized=!1,t}(),e.WatchListManager=f},function(t,e,i){"use strict";(function(e){function o(t){if(e.enabled("symbollist_context_menu")){if(!(this instanceof o))return new o(t);var t=t||{};this.list=t.list,this.commonActionsFunctions=t.commonActionsFunctions||[],this.symbolActionsFunctions=t.symbolActionsFunctions||[],TradingView.onWidget()||this.addDefaultActions(),this.bindActions()}}var n=i(74),r=n.Action,s=n.ActionSeparator,a=i(154),l=i(2371).openNewChart,c=i(25).isFeatureEnabled,h=i(165).getSymbolPagePath;o.prototype.bindActions=function(){var t=this;this.list.$element.on("contextmenu",function(e){var i,o,n,r=[];r=r.concat(t.getActionObj(t.commonActionsFunctions)),i=$(e.target).closest(".symbol-list-item"),o=i.data("symbol-full")||i.data("symbol-orig"),o&&(r.length&&r.push(new s),n=i.data("symbol-short")||o,r=r.concat(t.getActionObj(t.symbolActionsFunctions,o,n))),e.preventDefault(),r.length&&a.createMenu(r).show(e)})},o.prototype.getActionObj=function(t){var e=Array.prototype.slice.call(arguments,1);return t.reduce(function(t,i){var o=i.apply(this,e);return Array.isArray(o)?t=t.concat(o):t.push(o),t},[])},o.prototype.addDefaultActions=function(){var t,i,o=function(t,e){var i=new r({text:$.t("New {0} chart...").format(e)});return i.callbacks().subscribe(this,function(){l({symbol:t})}),i};this.symbolActionsFunctions.push(o),e.enabled("text_notes")&&c("text_notes")&&(t=function(t,e){var i=new r({text:$.t("Add Text Note For __symbol__",{symbol:e})});return i.callbacks().subscribe(this,function(i){runOrSignIn(function(){TradingView.bottomWidgetBar?(TradingView.bottomWidgetBar.toggleWidget("text_notes",!0),TradingView.bottomWidgetBar._widgets.text_notes.addNote(null,e,t)):TVDialogs.showAlertTextNotesDialog()},{source:"Text note from watchlist"})}),i},this.symbolActionsFunctions.push(t)),i=function(t,e){var i=new r({text:$.t("{0} ideas...").format(e)});return i.callbacks().subscribe(this,function(){window.open(h({proName:t}))}),i},this.symbolActionsFunctions.push(i)},t.exports=o}).call(e,i(3))},function(t,e){},function(t,e,i){"use strict";var o,n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),i(2800),n=i(2801),r=i(2802),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._barClassFalling="low",e._lastClassFalling="low",e}return o.__extends(e,t),e.prototype._initLayout=function(e){var i,o,n,s,a,l;return e.classList.add("dl-range"),i=t.prototype._initLayout.call(this,e),o=function(){var t,i,o,n=[]
;for(t=0;t<arguments.length;t++)n[t]=arguments[t];return i=document.createElement("span"),i.innerHTML=r,(o=i.classList).add.apply(o,n),e.appendChild(i),i},n=function(){var t,i,o,n=[];for(t=0;t<arguments.length;t++)n[t]=arguments[t];return i=document.createElement("div"),(o=i.classList).add.apply(o,n),e.appendChild(i),i},i.bid=o("dl-range-mark","bid"),i.ask=o("dl-range-mark","ask"),i.last=o("dl-range-mark","last"),s=n("dl-range-bar-bg"),a=document.createElement("div"),a.classList.add("dl-range-bar"),s.appendChild(a),i.bar=a,null===i.priceL&&(i.priceL=n("dl-range-price-l")),null===i.priceR&&(i.priceR=n("dl-range-price-r")),this._options.title&&(l=n("dl-range-caption"),l.innerText=this._options.title),i},e}(n.QuoteRangeRendererAbstract),e.QuoteRangeRenderer=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this._renderer=t}return t.prototype.render=function(t,e){return this._renderer.render(this._prepareQuoteData(t),this._prepareQuoteData(e))},t.prototype.hide=function(){this._renderer.hide()},t.prototype.show=function(){this._renderer.show()},t}();e.QuoteRangeAbstract=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";(function(e,o){function n(t){function e(t){r.currenSymbolOnly.value()&&new a.SymbolToken(t).exchange()&&r.reloadList()}function i(){r.currenResolutionOnly.value()&&r.reloadList()}function n(){is_authenticated&&r.reloadList()}this._cache={},this._bridge=t,this._$container=t.$body,this._needToReloadList=!0,this._fullListLoaded=!1,this._eventsToHighlight=[],this.currenSymbolOnly=new o(TVSettings.getBool("alerts.widget.show_for_curren_symbol_only",!1)),this.currenResolutionOnly=new o(TVSettings.getBool("alerts.widget.show_for_curren_resolution_only",!1)),this.hideInactiveAlerts=new o(TVSettings.getBool("alerts.widget.hide_inactive",!1)),this._initLayout(),this._notifications=[],TradingView.alertsDispatcher.events.on("fired",function(t){this._eventsToHighlight.push(t.id),this._bridge.active.value()?this._highlightNewEvents():this._notify(t)}.bind(this)),this._bridge.active.subscribe(function(t){t&&(this._needToReloadList?this.reloadList(this._highlightNewEvents.bind(this)):this._highlightNewEvents(),this._clearNotifications())}.bind(this)),TradingView.alertsDispatcher.events.on("popupClosed",function(t){t&&this._hideNotification(t)}.bind(this)),this._notifyOfflineEvents();var r=this;r._bridge.active.when(function(){r._bridge.symbol.subscribe(e),r._bridge.interval.subscribe(i),loginStateChange.subscribe(null,n)})}var r,s,a,l,c,h,d,u;i(2935),r=i(256).MakeAlertDialog,s=i(1446),a=i(95),l=i(83).SidebarCustomScroll,c=i(581),h=i(62).unifiedSpinner,d=i(0).getLogger("Alerts.BasicWidget"),u=i(36).min,e.enabled("alerts")&&!TradingView.alertsDispatcher&&(TradingView.alertsDispatcher=new s,window.initData.block_alert_dispatcher_show_predefined_events(TradingView.alertsDispatcher)),n.prototype._initLayout=function(){var t=this;t._$container.addClass("alerts-widget"),t._showLoadingWheel(),
t._$inner=$('<div class="widget-inner"></div>').appendTo(t._$container),t._scroll=new l(t._$container,t._$inner),t._scroll.scrolltoend.subscribe(t,t._onScrollToEnd),t._bridge.height.subscribe(t._scroll.resize.bind(t._scroll))},n.prototype._setSmallestId=function(t){var e,i=this;return t.length&&(e=t.map(function(t){return t.id}),i.smallestId=u(e)),i.smallestId},n.prototype._onScrollToEnd=function(){var t,e=this,i=e._requestListOptions();e._loading||e._fullListLoaded||(e._showLoadingFade(),e._loading=!0,t=$.extend({},i,{before:e.smallestId,success:function(t){t.length||(e._fullListLoaded=!0),e._setSmallestId(t),e.list.syncCollections()},error:function(t){e.list.reset(),"maintenance"===t&&e._showMessage("maintenance")},complete:function(){e._hideLoading(),e._loading=!1}}),e._requestList(t))},n.prototype.reloadList=function(t){var e=function(){this._needToReloadList=!1,"function"==typeof t&&t(),this._scroll.scrollToStart()}.bind(this);this._bridge.active.value()?is_authenticated?(this._fullListLoaded=!1,this.requestList(e)):(this.list.reset(),this._renderTable(),this._hideLoading(),e()):this._needToReloadList=!0},n.prototype._renderTable=function(t){var e=this;return t=t instanceof c?t.models:t,is_authenticated?e.list.length?(e._$table&&e._$table.remove(),e._$inner.empty(),e._$table=$(e._tableTemplate),e._$table.appendTo(e._$inner),void(t&&t.length&&t.forEach(e._appendViewItem.bind(e)))):void e._showMessage("empty_list"):void e._showMessage("not_auth")},n.prototype._addViewItem=function(t,e){var i,o,n=this,r=t.id,s=n._cache[r];if(s&&s.model===t||(s&&s.remove(),s=new n._itemViewCtor({model:t,parentWidget:n}),n._cache[r]=s),n._$table||n._renderTable(),n._$table){if("prepend"!==e)for(i=Object.keys(n._cache),i.sort(function(t,e){return t=+t,e=+e,t>e?1:t<e?-1:0}),o=0;o<i.length;o++)if(i[o]>r){if(n._$table.find(n._cache[i[o]].el)[0])return void $(n._cache[i[o]].el).after(s.render().$el)}else;n._$table.find("tbody").prepend(s.render().$el)}},n.prototype._appendViewItem=function(t){return this._addViewItem(t,"append")},n.prototype._prependViewItem=function(t){return this._addViewItem(t,"prepend")},n.prototype._getViewItem=function(t){return t?this._cache[t.id]:null},n.prototype._removeViewItem=function(t){var e=t.id,i=this._cache[e];i&&(i.remove(),delete this._cache[e]),this.list.length||this._renderTable()},n.prototype._showMessage=function(t){var e=this,i=t?"string"==typeof e._messagesHtml(t)?e._messagesHtml(t):t:"";e._$inner.html('<div class="alert-list-message">'+i+"</div>"),e._$inner.find(".js-run-or-sign-in").click(function(t){return runOrSignIn(function(){},{source:"Alerts manage widget",sourceMeta:"Chart"}),!1}),e._$inner.find(".create-alert").click(function(t){t.preventDefault(),t.stopPropagation(),new r({trackEvent:"widget"})}),e._$table=null},n.prototype._messagesHtml=function(t){},n.prototype.requestList=function(t,e,i){var o,n=this;e=e||0,!n._bridge.active.value()||n._loading||n._fullListLoaded||(n._showLoadingFade(),n._loading=!0,o=$.extend({noCache:!!i,success:function(e){n.list.syncCollections(),
n._scroll.scrollTo(0),"function"==typeof t&&t(),n._setSmallestId(e)},error:function(i){"maintenance"===i?(n.list.reset(),n._showMessage("maintenance")):"server_url_unavailable"===i&&e<2?(e+=1,setTimeout(function(){n._loading=!1,n.requestList(t,e,!0)},1e3*e)):(n.list.reset(),d.logError(i+(e?". Retries: "+e:"")))},complete:function(){n._hideLoading(),n._loading=!1}},n._requestListOptions()),n._requestList(o))},n.prototype._requestList=function(t){},n.prototype._highlightNewEvents=function(){},n.prototype._notifyOfflineEvents=function(){this._bridge.active.value()||TradingView.alertsDispatcher.events.each(function(t){this._notify(t)}.bind(this))},n.prototype._notify=function(t){this._bridge.active.value()||-1===this._notifications.indexOf(t.get("eventId"))&&(this._notifications.push(t.get("eventId")),this._updateNotifications())},n.prototype._hideNotification=function(t){if(!this._bridge.active.value()){var e=this._notifications.indexOf(t.get("eventId"));-1!==e&&(this._notifications.splice(e,1),this._updateNotifications())}},n.prototype._updateNotifications=function(){this._notifications.length>0?this._bridge.notify(1,{notificationValue:this._notifications.length}):this._clearNotifications()},n.prototype._clearNotifications=function(){this._notifications=[],this._bridge.notify(1,{clear:!0})},n.prototype._showLoadingWheel=function(){this._$container.children().addClass("js-hidden"),this._spinner||(this._spinner=h("mini").spin(this._$container.get(0))),this._hideLoadingTimeout=setTimeout(this._hideLoading.bind(this),2e4)},n.prototype._showLoadingFade=function(t){this._$loadingFaded||(this._$loadingFaded=$('<div class="alert-loading-indicator loading-indicator-faded"></div>').appendTo(this._$container)),this._$loadingFaded.removeClass("js-hidden"),this._hideLoadingTimeout=setTimeout(this._hideLoading.bind(this),2e4)},n.prototype._hideLoading=function(){this._hideLoadingTimeout&&clearTimeout(this._hideLoadingTimeout),this._$inner.removeClass("js-hidden"),this._spinner&&(this._spinner.stop(),delete this._spinner),this._$loadingFaded&&this._$loadingFaded.addClass("js-hidden")},n.prototype.symbol=function(){var t=this._bridge.getChartWidget();return t&&t.model()&&t.model().mainSeries().actualSymbol()?t.model().mainSeries().actualSymbol():this._bridge.symbol.value()||TVSettings.getValue("editchart.model.symbol",void 0)},n.prototype.resolution=function(){return this._bridge.interval.value()||TVSettings.getValue("editchart.model.interval",void 0)||"1"},n.prototype.destroy=function(){this.list&&"function"==typeof this.list.destroy&&this.list.destroy()},t.exports=n}).call(e,i(3),i(22))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function o(t,e){n.call(this,e),this._qs=t,this.constructor.clients++,this.clientName=this.clientName+"-"+this.constructor.clients,this._readyToSubscribe=$.when(this._qs.fieldsSent),this._marketIndicators={},this._dataModeIndicators={}}
var n=i(2775),r=i(123).MarketStatusIndicator,s=i(122).DataModeIndicator;inherit(o,n),o.prototype._defaults=$.extend({},n.prototype._defaults,{autoDowngrade:!1,slightDowngrade:!0}),o.prototype.clientName="symbol-list",o.clients=0,o.prototype._item=function(t,e){var i=n.prototype._item.call(this,t,e),o=i.find(".js-market-status")[0],a=i.find(".js-data-mode")[0];return this._marketIndicators[t]=new r({classSuffix:"--for-symbol-list",el:o,quoteSession:this._qs,short:!0,symbol:t,manualUpdate:!0}),this._dataModeIndicators[t]=new s({classSuffix:"--for-symbol-list",el:a,quoteSession:this._qs,short:!0,symbol:t,manualUpdate:!0}),i},o.prototype._create=function(t){var e=t.filter(function(t){return!t[1]}).map(function(t){return t[0]});return this._subscribe(e),n.prototype._create.call(this,t)},o.prototype._subscribe=function(t){this._readyToSubscribe.done(function(){setTimeout(function(){this._qs.subscribe(this.clientName,t,this._onData.bind(this))}.bind(this),0)}.bind(this))},o.prototype._onData=function(t){var e=t.symbolname;switch(t.status){case"error":case"permission_denied":this._onSymbolError(t);break;case"ok":this._onRealtimeData(t)}this._dataModeIndicators[e].update(t),this._marketIndicators[e].update(t)},o.prototype._onSymbolError=function(t){var e=t.symbolname;this.checkSF(t)?this.setSFWarning(e):this.setError(e)},o.prototype._onRealtimeData=function(t){var e=t.symbolname,i=t.values;if(this.checkSF(t)&&!this.isSFAvailable())return this.setSFWarning(e),void this._unsubscribe(e);this.update(e,i)},o.prototype.remove=function(t,e){return setTimeout(function(){this._unsubscribe(t)}.bind(this),0),n.prototype.remove.call(this,t,e)},o.prototype._unsubscribe=function(t){this._qs.unsubscribe(this.clientName,t)},o.prototype.clear=function(t){var e=this.getSymbols();setTimeout(function(){e.forEach(this._unsubscribe.bind(this))}.bind(this),0),n.prototype.clear.call(this,t)},o.prototype.setFastSymbols=function(t){this._qs.setFastSymbols(this.clientName,t)},o.prototype.getFullSymbolName=function(t,e){var i=this._qs,o=this.clientName,n=function(r){e(r&&r.values&&r.values.pro_name||t),i.unsubscribe(o,t,n)};i.subscribe(o,t,n)},t.exports=o},function(t,e,i){"use strict";(function(e){function o(t){this._options=$.extend({},this._defaults,t||{}),this.$element=$("<div>").addClass("symbol-list-container"),this.$list=$("<div>").addClass("symbol-list").appendTo(this.$element),this._symbols={},this._fullSymbols={},this.symboltextnotes={},this._percentageFormatter=new h(100),this.changed=new e,this._lastData={},this.itemClicked=new e,this.itemDblClicked=new e,this._hotkeyHandler=this._nextSymbol.bind(this),v.enabled("text_notes")&&m("text_notes")&&this._initTextnotes(),this._initPositions(),this._initSortable(),this._initDelete(),this._initHotkeys(),this._initScroll()}function n(t){var e=$(t.currentTarget).parents(".symbol-list-item:first");e.data("title",e.attr("title")),e.removeAttr("title")}function r(t){var e=$(t.currentTarget).parents(".symbol-list-item:first"),i=e.data("title");i&&e.attr("title",i)}
var s=i(896),a=i(95),l=i(83).SidebarCustomScroll,c=i(16).PriceFormatter,h=i(73).PercentageFormatter,d=i(191).tradingService,u=i(549),p=u.SIDE,f=i(2776).PositionsWatcher,_=i(78).lazyJqueryUI,g=i(121).getTranslatedSymbolDescription,m=i(25).isFeatureEnabled,v=i(3),y=i(131),b=i(1128).parseHtmlElement,w=i(27).ProductFeatures,S=i(1129).getSFWarningTextForFreeUsers,T=i(447).isIDCExchange,x=i(151).isSfQuoteData;o.prototype._defaults={sortable:!1,deletable:!1,hotkeys:!1,autoDelete:!0},o.prototype._onItemClicked=function(t){var e,i;t.defaultPrevented||(e=$(t.currentTarget),i=this._chooseItemSymbol(e),this.itemClicked.fire([i,e.data("symbol-short"),e.data("symbol-full")]),t.preventDefault())},o.prototype._onItemDblClicked=function(t){var e,i;t.defaultPrevented||(e=$(t.currentTarget),i=this._chooseItemSymbol(e),this.itemDblClicked.fire([i,e.data("symbol-short"),e.data("symbol-full")]),t.preventDefault())},o.prototype._chooseItemSymbol=function(t){return t.data("symbol-orig")},o.prototype._initSortable=function(){this._options.sortable&&(_(this.$list).sortable({axis:"y",containment:"parent",cancel:".controls",helper:"clone",update:function(t,e){this.changed.fire()}.bind(this),handle:!!Modernizr.touch&&".symbol-list-item .symbol"}),this.$list.on("mousedown",function(){document.activeElement.blur()}))},o.prototype._initPositions=function(){var t,e=d();e&&(this._positions=new f(e),this._positions.positionsUpdate.subscribe(this,this._updateSymbolPositions),t=this,this.changed.subscribe(null,function(){t._positions.setSymbols(t.getSymbols()),t._updateAllPositions()}))},o.prototype._initTextnotes=function(){if(window.is_authenticated){var t=this;$.ajax({type:"POST",url:"/textnotes/getallsymbols/",success:function(e){for(var i in e)t.symboltextnotes[e[i]]=!0}})}},o.prototype._initDelete=function(){this._options.deletable&&this.$list.addClass("deletable")},o.prototype._onDeleteClicked=function(t){var e,i;t.defaultPrevented||(e=$(t.currentTarget).closest(".symbol-list-item"),i=e.data("symbol-full"),this._options.autoDelete&&this.remove(i),t.preventDefault())},o.prototype._initHotkeys=function(){this._options.hotkeys&&y.bind("up down space shift+space",this._hotkeyHandler)},o.prototype._nextSymbol=function(t){if(!$(t.target).closest("input, textarea").length)switch(t.which){case 32:var e=t.shiftKey;this.next(e);break;case 38:this.next(!0);break;case 40:this.next(!1)}},o.prototype.next=function(t){var e,i,o;this._getItems().length&&(e=this.getActive(),e.length||(e=t?this.getLast():this.getFirst()),i=e[t?"prev":"next"](),i.length||(i=t?this.getLast():this.getFirst()),o=this._chooseItemSymbol(i)||i.attr("title"),this.setSymbol(o),this.scrollTo(i))},o.prototype.getActive=function(){return this._getItems().filter(".active").eq(0)},o.prototype.getFirst=function(){return this._getItems().first()},o.prototype.getLast=function(){return this._getItems().last()},o.prototype._getItems=function(){return this.$list.find(".symbol-list-item")},o.prototype.setSymbol=function(t){this._symbolLink&&this._symbolLink.setValue(t)},
o.prototype._initScroll=function(){this.scrollbar=new l(this.$element,this.$list),this.scrollbar._$shadowTop&&(this.scrollbar._$shadowTop.css("z-index",0),this.scrollbar._$shadowBottom.css("z-index",0)),this.changed.subscribe(this.scrollbar,this.scrollbar.resize)},o.prototype.connectToSymbolLinking=function(t){if(this._symbolLink)throw Error("symbolLink has already been set.");var e=t.symbol;this._symbolLink=e,e.subscribe(this._setActiveState.bind(this),{callWithLast:!0}),this.itemClicked.subscribe(this,function(t){e.setValue(t[2]||t[0])}),t&&t.getChartWidgetCollection&&this.itemDblClicked.subscribe(this,function(e){var i=t.getChartWidgetCollection();i&&i.setSymbolAll(e[2]||e[0])})},o.prototype._setActiveState=function(t){var e=this.find(t);e&&(this.$list.find(".active").removeClass("active"),e.addClass("active"))},o.prototype._recreateActiveState=function(){this._symbolLink&&this._setActiveState(this._symbolLink.value())},o.prototype.setError=function(t){var e=this.get(t);e&&e.addClass("error")},o.prototype._setWarning=function(t,e){var i,o=this.get(t);o&&!o.find(".js-symbollist-warning").length&&(i=$('<span class="symbol-exclamation-mark js-symbollist-warning apply-common-tooltip"></span>').attr("title",e),o.addClass("success").find(".symbol").append(i))},o.prototype.setSFWarning=function(t){this._setWarning(t,S())},o.prototype.checkSF=function(t){return x(t)||T(a.getExchange(t.symbolname),!0)},o.prototype.isSFAvailable=function(){return v.enabled(w.IDC_AVAILABLE_DELAY)},o.prototype.add=function(t,e){var i,o;if(e=e||{},i=this._getOrCreate(t),e.after){if(!(o=this.get(e.after)))throw new ReferenceError("Wrong after position");o.after(i)}else this.$list.append(i);return e.silent||this.changed.fire(),e.highlight&&this._highlight(i),e.scroll&&this.scrollTo(i.eq(0)),this._recreateActiveState(),i},o.prototype._highlight=function(t){t.highlight(1),t.data("symbol-highlight",!0)},o.prototype.remove=function(t,e){var i,o=this.get(t);o&&(delete this._symbols[t],i=o.data("symbol-orig"),i&&delete this._fullSymbols[i],o.remove(),e&&e.silent||this.changed.fire())},o.prototype.replace=function(t,e,i){var o=this.get(e).data("symbol-highlight"),n=this.add(t,{after:e,silent:!0,highlight:o});return this.remove(e,{silent:!0}),i=i||{},i.silent||this.changed.fire(),i.origin&&n.data("symbol-replaced-name",e),n},o.prototype.clear=function(t){this._symbols={},this._fullSymbols={},this.$list.empty(),t&&t.silent||this.changed.fire()},o.prototype.scrollTo=function(t){var e=this.get(t);e&&this.scrollbar.scrollTo(e)},o.prototype.getSymbols=function(){return Object.keys(this._symbols)},o.prototype.getSaveSymbols=function(){var t=[];return this.$list.children().each(function(e,i){var o=$(i),n=o.data("symbol-pro")||o.data("symbol-full");t.push(n)}),t},o.prototype.clearSymbols=function(){this.$list.empty()},o.prototype._getOrCreate=function(t){var e=[].concat(t),i=e.map(function(t){return[t,this.get(t)]},this);return this._create(i)},o.prototype._create=function(t){var e,i,o,n,r=[];for(e=0;e<t.length;e++)i=t[e][1],i||(o=t[e][0],n=a.shortName(o),
i=this._item(o,n),this._symbols[o]=i),r.push(i[0]);return $(r)},o.prototype.get=function(t){if(t instanceof jQuery)for(var e in this._symbols)if(t.is(this._symbols[e]))return t;return this._symbols[t]||("string"==typeof t?this._symbols[a.shortName(t)]:null)||null},o.prototype.find=function(t){var e=this.get(t);return e||((e=this._fullSymbols[t])||null)},o.prototype._item=function(t,e){var i,o=b('<div class="symbol-list-item"><div class="symbol"><span class="name"></span><span class="tv-market-status--symbol-list js-market-status"></span></div><div class="last-block i-invisible"><span class="last"></span><span class="tv-data-mode--symbol-list js-data-mode"></span></div><div class="change"><span class="ratio"></span> <span class="percent"></span></div><div class="controls"></div><div>');return o.setAttribute("title",t),o.querySelector(".name").textContent=e,o.setAttribute("data-symbol-full",t),o.setAttribute("symbol-short",e),o.addEventListener("click",this._onItemClicked.bind(this),!1),o.addEventListener("dblclick",this._onItemDblClicked.bind(this),!1),this._options.deletable&&(i=document.createElement("span"),i.className="controls-delete",i.setAttribute("title",window.t("Delete")),i.addEventListener("click",this._onDeleteClicked.bind(this),!1),o.querySelector(".controls").appendChild(i)),$(o)},o.prototype.sort=function(t,e){var i=this.getSymbols(),o=this._sortFunction(t,e).bind(this);i.sort(o),i.forEach(function(t){this._symbols[t].appendTo(this.$list)},this),this.changed.fire()},o.prototype._sortFunction=function(t,e){var i=e?-1:1,o=e?-1/0:1/0;switch(t){case"name":return function(t,e){return t=this._symbols[t].find(".name").text(),e=this._symbols[e].find(".name").text(),i*(t===e?0:t<e?-1:1)};case"ern":return function(t,e){return t=0===this._symbols[t].has(".estimate .value").length?-42:+this._symbols[t].find(".estimate .value").text(),e=0===this._symbols[e].has(".estimate .value").length?-42:+this._symbols[e].find(".estimate .value").text(),i*(t===e?0:t<e?-1:1)};case"last":return function(t,e){var n=+this._symbols[t].find(".last").text(),r=+this._symbols[e].find(".last").text();return t=isNaN(n)?o:n,e=isNaN(r)?o:r,i*(t-e)};case"change":return function(t,e){var n=+this._symbols[t].find(".change .ratio").text(),r=+this._symbols[e].find(".change .ratio").text();return t=isNaN(n)?o:n,e=isNaN(r)?o:r,i*(t-e)};case"change_percent":return function(t,e){var n=parseFloat(this._symbols[t].find(".change .percent").text()),r=parseFloat(this._symbols[e].find(".change .percent").text());return t=isNaN(n)?o:n,e=isNaN(r)?o:r,i*(t-e)}}},o.prototype.resize=function(){this.scrollbar.resize()},o.prototype.update=function(t,e){var i,o,n=this.get(t);n&&(n.addClass("success").removeClass("error"),i=this._lastData[t]||{},o=i.pricescale!==e.pricescale||i.minmov!==e.minmov||i.fractional!==e.fractional||i.minmove2!==e.minmove2,this._lastData[t]=e,o&&this._positions&&this._updateSymbolPositions(t,this._positions.positions(t)),v.enabled("text_notes")&&m("text_notes")&&this._updateTextNotes(),this._updateTitle(n,e),this._updateLast(n,e),
this._updateChange(n,e),this._updatePro(n,t,e))},o.prototype.addTextNote=function(t){this.symboltextnotes[t]=!0,this._updateTextNotes()},o.prototype.removeTextNote=function(t){this.symboltextnotes[t]=!1,this._updateTextNotes()},o.prototype._getTextNoteTitleBySymbol=function(t){var e,o,n,r,s,a,l=TradingView.bottomWidgetBar;if(l&&(e=l._widgets.text_notes))return e.getSymbolNote(t).el.get("title");for(this.textnotes||(o=i(2778),n=new o,n.load(function(t){this.textnotes=t}.bind(this))),r=this.textnotes,s=r.length;s--;)if(a=r[s],a.symbol_full===t)return a.title;return""},o.prototype._updateTextNotes=function(){function t(t){var e,i=TradingView.bottomWidgetBar;i.toggleWidget("text_notes",!0),e=i._widgets.text_notes.getSymbolNote(t).el,e.select(),e.scroll(),e.highlight()}function e(e){var i=TradingView.bottomWidgetBar;return i?i._widgets.text_notes?t(e.data.symbol):(s.onReady("bottom-widgetbar",function(){t(e.data.symbol)}),s.load("bottom-widgetbar",null,!0)):TVDialogs.showAlertTextNotesDialog(),!1}function o(t){var e=a._getTextNoteTitleBySymbol(t.data.symbol),i=$(t.currentTarget);e&&i.attr("title",e)}var a=this;Object.keys(this.symboltextnotes).forEach(function(t){var s=a.get(t);!0===a.symboltextnotes[t]?s&&!s.find(".textnote").length&&$("<span>").addClass("textnote apply-common-tooltip symbol-status").append($(i(2779))).appendTo(s.find(".symbol")).on("click",{symbol:t},e).on("mouseenter",{symbol:t},o).on("mouseenter",n).on("mouseleave",r):s&&s.find(".textnote").length&&s.find(".textnote").remove()})},o.prototype._composePositionsTooltip=function(t){var e="",i=this;return t.forEach(function(t){var o=i._lastData[t.symbol]||{},n=new c(o.pricescale||100,o.minmov||1,o.fractional,o.minmove2);""!==e&&(e+="\n"),e+=(t.side===p.BUY?$.t("Long"):$.t("Short"))+" "+Math.abs(t.qty)+" @ "+n.format(t.avgPrice)}),e},o.prototype._updateSymbolPositions=function(t,e){var o,s,a,l,c,h,d=this;v.enabled("trading_watch_positions")&&(o=d.get(t))&&(s=o.find(".positions"),e.length?(a=e[0].side===p.BUY,s.length?(s.attr("title",d._composePositionsTooltip(e)),l=s.hasClass("buy"),a!==l&&(s.removeClass(a?"sell":"buy"),s.addClass(a?"buy":"sell"),s.find("svg").remove(),s.append($(i(a?2574:2575))))):(c=$("<div>").addClass("positions apply-common-tooltip symbol-status").addClass(a?"buy":"sell").attr("title",d._composePositionsTooltip(e)).on("mouseenter",n).on("mouseleave",r).append($(i(a?2574:2575))),h=o.find(".textnote"),h.length?c.insertBefore(h):c.appendTo(o.find(".symbol")))):s&&s.remove())},o.prototype._updateAllPositions=function(){var t=this;this.getSymbols().forEach(function(e){var i=t._positions.positions(e);t._updateSymbolPositions(e,i)})},o.prototype._updateTitle=function(t,e){var i=[],o=g(e);o&&i.push(o),e.exchange&&i.push(e.exchange),e.update_mode&&i.push(this._status(e.update_mode)),e.current_session&&i.push(this._sessions[e.current_session]),t.attr("title",i.join(", "))},o.prototype._status=function t(e){return t.statuses[e]},o.prototype._status.statuses={delayed_streaming:$.t("Delayed"),pulsed:$.t("Delayed"),streaming:$.t("Realtime"),
endofday:$.t("End of Day")},o.prototype._sessions={market:$.t("Market Open"),pre_market:$.t("Pre-Market"),post_market:$.t("Post-Market"),out_of_session:$.t("Closed")},o.prototype._updateLast=function(t,e){var i,o,n,r,s,a;e.last_price&&(i=t.find(".last"),o=new c(e.pricescale||100,e.minmov||1,e.fractional,e.minmove2),n=o.format(e.last_price),r=null,s=o.hasForexAdditionalPrecision(),a=t.data("quote-last"),a&&a!==n&&(r=n>a?"plus":"minus"),t.data("quote-last",n),i.text(n).toggleClass("plus-bg","plus"===r).toggleClass("minus-bg","minus"===r),i.parent(".i-invisible").removeClass("i-invisible"),s&&i.lastCharSup(),clearTimeout(t.data("quote-clear-highlight")),t.data("quote-clear-highlight",setTimeout(this._updateLastClear.bind(this,i,a,n,r,s),500)))},o.prototype._updateLastClear=function(t,e,i,o,n){t.removeClass("plus-bg minus-bg"),this._updateLastDiff(t,e,i,o,n)},o.prototype._updateLastDiff=function(t,e,i,o,n){var r,s,a,l;if(null!=e){for(e=""+e,i=""+i,r=0,s=Math.min(e.length,i.length);r<s&&e.charAt(r)===i.charAt(r);r++);a=i.slice(0,r),l=i.slice(r),l.length&&o?t.html(a+'<span class="'+o+'">'+l+"</span>"):t.text(i),n&&t.lastCharSup()}},o.prototype._updateChange=function(t,e){var i,o,n,r,s=t.find(".change"),a=s.find(".percent"),l=new c(e.pricescale||100,e.minmov||1,e.fractional,e.minmove2),h=s.find(".ratio");s.addClass("success"),i=e.change||0,o=e.change_percent||0,n=null,r="",i&&(n=i>0?"plus":"minus",r=i>0?"+":""),s.toggleClass("plus","plus"===n).toggleClass("minus","minus"===n),a.text(r+this._percentageFormatter.format(o)),h.text(r+l.format(i))},o.prototype._updatePro=function(t,e,i){var o=i.pro_name,n=i.original_name;!t.data("symbol-pro")&&o&&(t.data("symbol-pro",o),e!==o&&this.changed.fire()),!t.data("symbol-orig")&&n&&(t.data("symbol-orig",n),this._fullSymbols[n]?setTimeout(this.remove.bind(this,e)):(this._fullSymbols[n]=t,this._recreateActiveState()))},o.prototype.visibleSymbols=function(){var t=[],e=this.$element.offset().top,i=e+this.$element.height();return this.$list.children().each(function(o,n){var r=$(n),s=r.offset().top;s+r.outerHeight()>e&&s<i&&t.push(r.data("symbol-full"))}),t},o.prototype.count=function(){return Object.keys(this._symbols).length},t.exports=o}).call(e,i(4))},function(t,e,i){"use strict";var o,n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(9),r=i(2777),s=i(4),a=function(t){function e(e){var i=t.call(this,e)||this;return i.positionsUpdate=new s,i._symbols=[],i._symbolPositions={},i}return o.__extends(e,t),e.prototype.positions=function(t){return-1!==this._symbols.indexOf(t)?this._symbolPositions[t]:[]},e.prototype.setSymbols=function(t){var e,i=this,o=Object.keys(this._symbolPositions);this._symbols.forEach(function(e){-1===t.indexOf(e)&&-1!==o.indexOf(e)&&delete i._symbolPositions[e]}),e=[],t.forEach(function(t){-1===i._symbols.indexOf(t)&&(e.push(t),i._symbolPositions[t]=[])}),this._symbols=t,e.length&&this._requestPositions(e)},e.prototype.stopService=function(){this._clearPositions();var t=n.ensure(this.activeBroker());t.fullUpdate.unsubscribe(this,this._accountUpdate),
t.positionUpdate.unsubscribe(this,this._positionUpdate)},e.prototype.startService=function(){this._symbols&&this._requestPositions(this._symbols);var t=n.ensure(this.activeBroker());t.positionUpdate.subscribe(this,this._positionUpdate),t.fullUpdate.subscribe(this,this._accountUpdate)},e.prototype._clearPositions=function(){var t=this;Object.keys(this._symbolPositions).forEach(function(e){t._symbolPositions[e].length&&(t._symbolPositions[e]=[],t.positionsUpdate.fire(e,[]))})},e.prototype._accountUpdate=function(){this._clearPositions(),this._requestPositions(this._symbols)},e.prototype._positionUpdate=function(t){var e,i,o,n=t.symbol;-1!==this._symbols.indexOf(n)&&(e=this._symbolPositions[n],i=e.reduce(function(e,i,o){return i.id===t.id?o:e},-1),o=0===t.qty,-1!==i&&o?e.splice(i,1):-1!==i||o?e[i]=t:e.push(t),this.positionsUpdate.fire(n,e))},e.prototype._requestPositions=function(t){var e=this,i=this.activeBroker();i&&t.length&&i.positions().then(function(i){i.forEach(function(i){-1!==t.indexOf(i.symbol)&&e._positionUpdate(i)})})},e}(r.BrokerService),e.PositionsWatcher=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this._activeBroker=null,this._trading=t,this._trading.onConnectionStatusChange.subscribe(this,this._onStatusChange),this._onStatusChange(this._trading.connectStatus())}return t.prototype.activeBroker=function(){return this._activeBroker},t.prototype.trading=function(){return this._trading},t.prototype._onStatusChange=function(t){this._activeBroker===this._trading.activeBroker()&&1===t||(this._activeBroker&&(this.stopService(),this._activeBroker=null),this._trading.activeBroker()&&1===t&&(this._activeBroker=this._trading.activeBroker(),this.startService()))},t}();e.BrokerService=o},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=function(){function t(){o(this,t)}return n(t,[{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return $.ajax({type:"POST",url:"/textnotes/getall/",success:t,error:e,async:!1})}}]),t}(),e.default=r,t.exports=e.default},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path d="M11.976.506v.002c-.102.01-.195.048-.27.123l-.716.722 2.174 1.984.716-.716c.523-.523-1.19-2.184-1.904-2.114zM.254 3.22C0 3.436 0 4 0 4v9s.006.577.25.773C.532 14 1 14 1 14h9s.577.025.813-.21c.234-.235.187-.784.187-.784V6.13L10 7v6H1V4h6.514L8.66 3H1s-.455-.024-.746.22zm10.304-1.485l-7.59 7.233 2.078 2.125L12.75 3.75zM2.328 9.59l-.237.24L2 12l2.233-.09.238-.24z"/></svg>'},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}
var n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w,S,T,x,P,C,M,k;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2781),r=o(n),s=i(2784),a=o(s),l=i(2787),c=o(l),h=i(2788),d=o(h),u=i(2789),p=o(u),f=i(2790),_=o(f),g=i(2791),m=o(g),v=i(2792),y=o(v),b=i(2793),w=o(b),S=i(2794),T=o(S),x=i(2795),P=o(x),C=i(2796),M=o(C),k={yahoo:r.default,stocktwits:a.default,futuresmag:c.default,dailyfx:d.default,moex:p.default,djforex:_.default,moneypl:m.default,bloomberght:y.default,edali:w.default,fxstreet:T.default,keuangan:P.default,kiplinger:M.default},e.default=k,t.exports=e.default},function(t,e,i){"use strict";(function(o){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),l=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),c=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},h=i(2280),d=n(h),u=i(2783),p=n(u),f=function(t){function e(){r(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"yahoo"));return t.symbology=new p.default,t}return a(e,t),l(e,[{key:"getURLforSymbol",value:function(t,i,o){return"MTGOX"===o?this.getURLforCategory("bitcoin"):"futures"!==i&&"cfd"!==i||t in this.symbology.specialCases?c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getURLforSymbol",this).call(this,t,i,o):this.getURLforCategory("futures")}},{key:"getURLforSpread",value:function(t,i,o){return"MTGOX"===o?this.getByCategory("bitcoin"):"futures"===i||"cfd"===i?this.getByCategory("futures"):c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getURLforSpread",this).call(this,t)}},{key:"itemTransform",value:function(t){var i,o,n;return"it"===window.language?t.shortDescription=t.shortDescription.replace(/<img[^>]*>/g,""):"pt"===window.language&&(t.shortDescription=this._hackForBrasilianFeed(t.shortDescription)),i=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareShortDescriptionToMainNewsWidget",this).call(this,t.shortDescription),o=this.getSource(t),"CoinDesk"!==o&&"n-tv"!==o||(i=i.replace(/<img[^>]*>/g,""),""===i.trim()&&(i="")),n=this.correctLink(t.link),{id:t.id,link:n,published:t.published,
publishedTimestamp:t.publishedTimestamp,shortDescription:i,title:t.title,source:o}}},{key:"_hackForBrasilianFeed",value:function(t){var e,i,o,n,r,s,a,l,c=document.createElement("div");for(c.innerHTML=t,e="field--name-field-conteudo",i=["field--type-created","field--name-uid"],o=c.getElementsByClassName(e),n=0;n<i.length;n++)(r=c.getElementsByClassName(i[n])[0])&&r.parentNode.removeChild(r);if(!o.length)return c.innerHTML;for(c.innerHTML=o[0].innerHTML,s=document.createElement("div"),a=0;a<c.children.length&&s.textContent.length+c.children[a].textContent.length<1e3;a++)s.appendChild(c.children[a]);return a&&a<c.children.length&&(l=document.createElement("p"),l.innerHTML="...",s.appendChild(l)),s.innerHTML}},{key:"correctLink",value:function(t){var e=t.split("*");return 2===e.length&&e[1].match(/^https?:\/\//)&&(t=e[1]),t}},{key:"getSource",value:function(t){var e,i=t.summary&&t.summary.match(/\[[^\-]+\]/g);if(i)return i[0].replace(/\[(at )?|\]/g,"");for(e in this.newsSources)if(~t.link.indexOf(e))return this.newsSources[e];return"Yahoo Finance"}},{key:"renderItem",value:function(t){var i,o=document.createElement("div");return t.shortDescription&&(t.shortDescription=t.shortDescription.replace(/<img[^>]*>/g,"")),o.innerHTML=t.shortDescription||t.contentSnippet||t.content||"",i=o.getElementsByTagName("a")[0],i&&i.parentNode.removeChild(i),t.shortDescription=o.innerHTML,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderItem",this).call(this,t)}},{key:"updateWidgetBarTitle",value:function(t){var e=this.constructor.title;this._newsWidget._quoteMetaInfo&&this._newsWidget._quoteMetaInfo.name&&this.needAppendSymbolToTitle()&&(e+=" "+$.t("for")+" "+this._newsWidget._quoteMetaInfo.name),this._newsWidget._bridge.setTitle(e)}},{key:"needAppendSymbolToTitle",value:function(){return"ja"!==window.locale}},{key:"newsSources",get:function(){return{"4-traders":"4-traders","advfn.com":"ADVFN","allthingsd.com":"AllThingsD","ap.org":"AP",atlantic:"The Atlantic","bankrate.com":"Bankrate.com","barrons.com":"Barrons.com","bithub.pl":"Bithub","bizjournals.com":"Business Journals","bloomberg.com":"Bloomberg","businessinsider.com":"Business Insider","businesswire.com":"Business Wire","businessweek.com":"BusinessWeek","cnbc.com":"CNBC","cnnmoney.com":"CNNMoney.com",coindesk:"CoinDesk","cointelegraph.com":"Cointelegraph",consumerreports:"Consumer Reports",creditcards:"CreditCards.com","dailyfx.com":"DailyFX","entrepreneur.com":"Entrepreneur",etfdb:"ETF Database",etftrends:"ETF Trends",etfguide:"ETFguide",etfzone:"ETFZone","exame.abril.com":"Exame","feedburner.com":"FeedBurner","ft.com":"Financial Times","fool.com":"Motley Fool","forbes.com":"Forbes","fortune.cnn.com":"Fortune","foxbusiness.com":"Fox Business","futuresmag.com":"Futuresmag.com",fxempire:"FXEmpire","fxmag.pl":"FXMag",gftforex:"GFT Forex","globenewswire.com":"GlobeNewswire",indieresearch:"IndieResearch",indexuniverse:"IndexUniverse.com","infomoney.com":"InfoMoney","investopedia.com":"Investopedia","investors.com":"Investor's Business Daily",kiplinger:"Kiplinger",
"marketrealist.com":"MarketRealist","marketwatch.com":"MarketWatch",marketwire:"Marketwire",minyanville:"Minyanville","money.cnn.com":"Money",moneydj:"MoneyDJ","moneytimes.com":"Money Times",morningstar:"Morningstar","newsbtc.com":"NewsBTC",newswire:"PR Newswire","newswire.ca":"CNW Group","nytimes.com":"New York Times","oilprice.com":"Oilprice.com",optionetics:"Optionetics",optionmonster:"optionMONSTER","paidcontent.org":"paidContent.org","proiezionidiborsa.it":"Proiezioni di Borsa","reuters.com":"Reuters","seekingalpha.com":"Seeking Alpha","smallcapinvestor.com":"SmallCapInvestor.com",smartmoney:"SmartMoney","stockwatch.pl":"Stockwatch","theflyonthewall.com":"Theflyonthewall.com","thestreet.com":"TheStreet",thomsonreuters:"Thomson Reuters ONE",transcript:"Wall Street Transcript","wallstcheatsheet.com":"Wall St. Cheat Sheet","wsj.com":"The Wall Street Journal",usnews:"US News & World Report",zacks:"Zacks",zonebourse:"Zonebourse","wallstreet-online.de":"wallstreet:online","finanznachrichten.de":"FinanzNachrichten","n-tv.de":"n-tv","sii.org.pl":"SII","comparic.pl":"Comparic","biznes.pap.pl":"PAP","moshed.com":"Moshed","ms.investing.com":"Investing","sina.com.cn":"Sina","finance.qq.com":"QQ","lesechos.fr":"Les Echos","lefigaro.fr":"Le Figaro","zonebourse.com":"Zonebourse","mk.co.kr":"","hankyung.com":"","vneconomy.vn":"VnEconomy","cafef.vn":"CafeF"}}}],[{key:"title",get:function(){return"ru"!==window.locale||o.enabled("charting_library_base")?$.t("Headlines"):$.t("Yahoo! Finance")}},{key:"timeout",get:function(){return 3e5}}]),e}(d.default),e.default=f,t.exports=e.default}).call(e,i(3))},function(t,e,i){"use strict";function o(t){this._chartApiInstance=t}var n=i(578),r=i(468);o.prototype.searchSymbols=function(t,e,i,o,n,r){this._chartApiInstance.searchSymbols(t,e,i,o,n,!1,void 0,!1,function(t){t.forEach(function(t){t.flag=this.getFlagIdBySymbolExt(t)},this),r(t)}.bind(this))},o.prototype.displayedExchanges=function(){var t=n.displayedExchangesFilter(this.supportedExchanges());return n.sortExchangesListByFlagIfNeeded(t)},o.prototype.supportedExchanges=function(){return this._chartApiInstance.supportedExchangesList()},o.prototype.supportedSymbolsTypes=function(){return this._chartApiInstance.supportedSymbolsTypes()},o.prototype.getFlagIdBySymbolExt=function(t){return r.getFlagIdBySymbolInfo(t)},o.prototype.getFlagIdByExchangeInfo=function(t){return t?r.getFlagIdByName(t.flag):""},t.exports=o},function(t,e,i){"use strict";function o(){var t;this.specialFromCases={};for(t in this.specialCases)this.specialFromCases[this.specialCases[t]]=t;this.exchangeFromMap={};for(t in this.exchangeMap)this.exchangeFromMap[this.exchangeMap[t]]=t}var n=i(2392);inherit(o,n),o.prototype.convertTo=function(t,e,i){if(t in this.specialCases)return this.specialCases[t];if("forex"===e)return t+"=X";switch(i){case"TSX":return t+".TO";case"TSXV":return t+".V";case"MICEX":return t+".ME";case"COMEX":return t+".CMX";case"CME":return t+".CME";case"CBOT":return t+".CBT";case"MOEX":return t+".ME";case"LSE":return t+".L";case"LSIN":return t+".IL"
;case"BSE":return t+".BO";case"EURONEXT":return[t+".PA",t+".AS",t+".ls",t+".br"].join(",");case"NSE":return t+".NS";case"BMFBOVESPA":return t+".SA";case"BME":return t+".MA";case"VIE":return t+".VI";case"FRA":return t+".F";case"DUB":return t+".IR";case"MIL":return t+".MI";case"OSL":return t+".OL";case"SWX":return t+".SW";case"IST":return t+".IS";case"ASX":return t+".AX";case"NZX":return t+".NZ";case"OMX":return t+".CO";case"BCBA":return t+".BA"}return"index"===e?"^"+t:t},o.prototype.convertFrom=function(t){var e,i,o;return t in this.specialFromCases?this.specialFromCases[t]:(e=t.split("."),i=e[1],i?(o=this.exchangeFromMap["."+i],o?o+":"+e[0]:null):t)},o.prototype.exchangeFromMap={},o.prototype.exchangeMap={TSX:".TO",TSXV:".V",MICEX:".ME",COMEX:".CMX",CME:".CME",CBOT:".CBT",MOEX:".ME",LSE:".L",BSE:".BO",EURONEXT:".PA",NSE:".NS",BMFBOVESBA:".SA",BME:".MA",VIE:".VI",FRA:".F",DUB:".IR",MIL:".MI",OSL:".OL",SWX:".SW",IST:".IS"},o.prototype.specialFromCases={},o.prototype.specialCases={AU200AUD:"^AXJO",AUS200:"^AXJO",AXY:"FXA",BXY:"FXB",CAC40:"^FCHI",CH20CHF:"^SSMI",CXY:"FXC",DAX:"^GDAXI",DE02:"^GDAXI",DE02Y:"^GDAXI",DE10:"^GDAXI",DE10Y:"^GDAXI",DE30EUR:"^GDAXI",DJI:"^DJI",DJY0:"^DJI",DOWI:"^DJI",DOWT:"^DJT",DOWU:"^DJU","DX1!":"^USDOLLAR",DXY:"^USDOLLAR","DY1!":"^GDAXI","ES1!":"^GSPC",ES02:"^IBEX",ES02Y:"^IBEX",ES10:"^IBEX",ES10Y:"^IBEX",ESP35:"^IBEX",EU50EUR:"^STOXX50E",EUSTX50:"^STOXX50E",EXY:"FXE",FR02:"^FCHI",FR02Y:"^FCHI",FR10:"^FCHI",FR10Y:"^FCHI",FR40EUR:"^FCHI",FRA40:"^FCHI",FTSE:"^FTSE",GB02:"200725.SZ",GB02Y:"200725.SZ",GB10:"200725.SZ","GC1!":"XAUUSD=X","GC2!":"XAUUSD=X","GD1!":"XAUUSD=X","GD2!":"XAUUSD=X",GER30:"^GDAXI",GOLD:"XAUUSD=X","GR1!":"XAUUSD=X","GR2!":"XAUUSD=X","GW1!":"XAUUSD=X","GW2!":"XAUUSD=X",HK33HKD:"^HSI",HKG33:"^HSI",HSI:"^HSI",IBC:"^IBEX",IBEX35:"^IBEX",IUX:"^RUT",IUXX:"^NDC",IXIC:"^IXIC",JP02:"^N225",JP02Y:"^N225",JP10:"^N225",JP10Y:"^N225",JP225USD:"^N225",JPN225:"^N225",JXY:"FXY","KR1!":"XAUUSD=X","KR2!":"XAUUSD=X","KV1!":"XAGUSD=X","KV2!":"XAGUSD=X",MOY0:"^STOXX50E",NAS100:"^NDX",NAS100USD:"^NDX",NASX:"^NDX",NATGASUSD:"NG=F",NDX:"^NDX","NG1!":"NG=F",NGAS:"NG=F",NI225:"^N225",NKY:"^N225","NQ1!":"^NDX",NY1:"^N225",NYA:"^NYA","OZ11!":"XAUUSD=X","QI1!":"XAGUSD=X","QI2!":"XAGUSD=X","QO1!":"XAUUSD=X",RUI:"^RUI",RUT:"^RUT",SHCOMP:"000001.SS","SI1!":"XAGUSD=X","SI2!":"XAGUSD=X",SILVER:"XAGUSD=X","SP1!":"^GSPC","SP2!":"^GSPC",SPX:"^GSPC",SPX500:"^GSPC",SPX500USD:"^GSPC",SPY:"^GSPC",SSMI:"^SSMI","SV1!":"XAGUSD=X",SX5E:"^STOXX50E",SXY:"FXF",TNX:"^TNX",TRAN:"^DJT",TYX:"^TYX",UK100:"^FTSE",UK100GBP:"^FTSE",UKX:"^FTSE",US30:"^DJI",US30USD:"^DJI",US2000USD:"^RUT",USDOLLAR:"^USDOLLAR",VIX:"^VIX",XAGUSD:"XAGUSD=X",XAUUSD:"XAUUSD=X",XJO:"^AXJO","YG1!":"XAUUSD=X","YG2!":"XAUUSD=X","YI1!":"XAGUSD=X","YI2!":"XAGUSD=X","ZG1!":"XAUUSD=X",ZXY:"NZDUSD=X"},t.exports=o},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){
if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=i(2280),c=o(l),h=i(2785),d=o(h),u=i(2786),p=o(u),f=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"stocktwits"));return t.symbology=new d.default,t}return s(e,t),a(e,[{key:"renderItem",value:function(t){t.title=this.replaceTags(t.title),t.link="http://stocktwits.com/"+t.username;var e='\n\t\t\t<div class="ns-item">\n\t\t\t\t<div class="ns-item-title selectable">'+t.title+'</div>\n\t\t\t\t<div class="ns-item-desc">\n\t\t\t\t\t'+$.t("by")+' <a href="'+t.link+'" target="_blank">'+t.username+"</a> "+$.t("at")+' <span class="source">StockTwits</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="ns-item-date">\n\t\t\t\t\t<time></time>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t';return $(e)}},{key:"replaceTags",value:function(t){return t=t.replace(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,"<a href='$&' target='_blank'>$&</a>"),t=p.default.txt.autoLinkCashtags(t,{urlClass:"",urlTarget:"_blank",urlNofollow:!0})}},{key:"updateWidgetBarTitle",value:function(t){var e=this.constructor.title;this._newsWidget._quoteMetaInfo&&this._newsWidget._quoteMetaInfo.name&&(e+=" "+$.t("for")+" "+this._newsWidget._quoteMetaInfo.name),this._newsWidget._bridge.setTitle(e)}}],[{key:"title",get:function(){return $.t("StockTwits")}},{key:"timeout",get:function(){return 3e4}}]),e}(c.default),e.default=f,t.exports=e.default},function(t,e,i){"use strict";function o(){}var n=i(2392);inherit(o,n),o.prototype.convertTo=function(t,e,i){return"futures"===e?t+"_F":t},t.exports=o},function(t,e,i){"use strict";var o=window.stwt||{};o.txt={},o.txt.regexen={},o.txt.regexen.cashtag=/(^|[\s\,\.\-\+\(\/\"]\$?|^\$)(\$([a-z1-9]{1}[a-z]{1,3}_F|(?!\d+[bmkts]{1}?(il(lion)?|ln|m|n)?\b|[\d]+\b)(?!\d+usd)[a-z0-9]{1,9}(?:[-\.]{1}[a-z]{1,2})?(?:[-\.]{1}[a-z]{1,2})?))\b(?!\$)/gi,o.txt.extractCashtags=function(t){var e=[];return t.replace(o.txt.regexen.cashtag,function(t,i,o){e.push(o.slice(1))}),e},o.txt.autoLinkCashtags=function(t,e){var i,n;return"function"==typeof e?t.replace(o.txt.regexen.cashtag,function(t,i,o){return i+e.call(this,o.toUpperCase(),o.toUpperCase().slice(1))}):(i=[],n=e||{},n.urlClass=void 0===n.urlClass?"stwt-url cashtag":n.urlClass,n.urlTarget=n.urlTarget||null,n.urlNofollow=!!n.urlNofollow,
n.url=n.url||"http://stocktwits.com/symbol/%s",n.urlClass&&i.push('class="'+n.urlClass+'"'),n.urlTarget&&i.push('target="'+n.urlTarget+'"'),n.urlNofollow&&i.push('rel="nofollow"'),i=i.length>0?" "+i.join(" ")+" ":" ",t.replace(o.txt.regexen.cashtag,function(t,e,o){return o=o.toUpperCase(),e+"<a"+i+'href="'+n.url.replace("%s",o.slice(1))+'">'+o+"</a>"}))},t.exports=o},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=i(2392),u=o(d),p=i(67),f=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"futuresmag"));return t.symbology=new u.default,t}return s(e,t),a(e,[{key:"getURLforSymbol",value:function(t,e,i){return this.getURLforCategory(this._category)}},{key:"init",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t),this.setCategory(this._newsWidget._properties.value().category||"all",!0)}},{key:"updateTitle",value:function(){}},{key:"setCategory",value:function(t,e){t=this.categories[t]?t:"all",this._category=t,this._newsWidget.updateProperties({category:t}),this._newsWidget._bridge.setTitle($.t("Futures Magazine")+" - "+$.t(this.categories[t])),e||this._newsWidget.update()}},{key:"options",value:function(){function t(t){return function(){this.setCategory(t)}.bind(this)}var e,i=[];for(e in this.categories)i.push({title:this.categories[e],action:t.call(this,e),active:e===this._category});return i.push({separator:1}),i.push({title:"About",action:this.showAboutDialog.bind(this)}),i}},{key:"showAboutDialog",value:function(){var t=$.t("About Futures Magazine News Feed"),e=$.t("For 40 years Futures has been a thought leader and independent voice of the commodity, futures, options, forex and stock trader. Here is a list of our services, information and directories to help you learn to or continue to trade successfully.");(0,p.createNoticeDialog)({title:t,content:e}).open()}},{
key:"categories",get:function(){return{all:$.t("All Content"),news:$.t("News"),"market-analysis":$.t("Market Analysis"),"trading-strategies":$.t("Trading Strategies"),blogs:$.t("Blogs"),commodities:$.t("Commodities"),forex:$.t("Forex"),education:$.t("Education"),etfs:$.t("ETFs"),financials:$.t("Financials",{context:"data"}),"managed-funds":$.t("Managed Funds"),regulations:$.t("Regulations"),technology:$.t("Technology"),options:$.t("Options")}}}],[{key:"title",get:function(){return $.t("Futures Magazine")}},{key:"timeout",get:function(){return 12e4}}]),e}(h.default),e.default=f,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d,u,p,f;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=i(2392),u=o(d),p=i(67),f=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"dailyfx"));return t.symbology=new u.default,t}return s(e,t),a(e,[{key:"getURLforSymbol",value:function(t,e,i){return this.getURLforCategory(this._category)}},{key:"init",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t),this.setCategory(this._newsWidget._properties.value().category||"all",!0)}},{key:"updateTitle",value:function(){}},{key:"setCategory",value:function(t,e){t=this.categories[t]?t:"all",this._category=t,this._newsWidget.updateProperties({category:t}),this._newsWidget._bridge.setTitle($.t("DailyFX")+" - "+this.categories[t]),e||this._newsWidget.update()}},{key:"options",value:function(){function t(t){return function(){this.setCategory(t)}.bind(this)}var e,i=[];for(e in this.categories)i.push({title:this.categories[e],action:t.call(this,e),active:e===this._category});return i.push({separator:1}),i.push({title:"About",action:this.showAboutDialog.bind(this)}),i}},{key:"showAboutDialog",value:function(){
var t=$.t("Forex market news and analysis from DailyFX"),e=$.t("DailyFX, FXCM's free news website, is one of the worlds leading news and information sources for the currency trading community.");(0,p.createNoticeDialog)({title:t,content:e}).open()}},{key:"categories",get:function(){return{all:$.t("All Content"),forex_market_news:$.t("Forex Market News"),alerts:$.t("Alerts"),all_analyst_picks:$.t("Analyst Picks"),dfx_for_beginners:$.t("DailyFX For Beginners"),dailyfx_arabic_all:$.t("Arabic")}}}],[{key:"title",get:function(){return $.t("DailyFX")}},{key:"timeout",get:function(){return 12e4}}]),e}(h.default),e.default=f,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=i(2280),c=o(l),h=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"moex"))}return s(e,t),a(e,[{key:"getURLforCategory",value:function(){return this._providerUrl}},{key:"getURLforSymbol",value:function(){return this._providerUrl}}],[{key:"title",get:function(){return" MOEX"}}]),e}(c.default),e.default=h,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),
void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"djforex"));return t.noUpdateOnSymbolChange=!0,t.hasProFeed=!0,t}return s(e,t),a(e,[{key:"getURLforCategory",value:function(){return this._providerUrl}},{key:"getURLforSymbol",value:function(){return this._providerUrl}},{key:"renderItem",value:function(t){var i=this,o='\n\t\t\t<div class="ns-item'+(t.fullDescription?" ns-item--whole-link":"")+'">\n\t\t\t\t<div class="ns-item-title ns-item-title--no-decoration">\n\t\t\t\t\t'+(t.fullDescription?'<a href="" target="_blank" class="js-title">'+t.title+"</a>":'<b class="js-title">'+t.title+"</b>")+'\n\t\t\t\t</div>\n\t\t\t\t<div class="ns-item-content">'+t.shortDescription+'</div>\n\t\t\t\t<div class="ns-item-desc">\n\t\t\t\t\t'+(t.source?$.t("at")+' <span class="source">'+t.source+"</span> ":"")+'\n\t\t\t\t</div>\n\t\t\t\t<div class="ns-item-date">\n\t\t\t\t\t<time></time>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',n=$(o);return n.find(".js-title").on("click",function(t){t.preventDefault()}),n.on("click",function(o){o.preventDefault(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"showPopup",i).call(i,{target:o.target,title:t.title,content:t.fullDescription})}),n}},{key:"delayedIconText",get:function(){return"   .      PRO ."}}],[{key:"title",get:function(){return" "}},{key:"timeout",get:function(){return 12e4}}]),e}(h.default),e.default=d,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"moneypl"));return t.noUpdateOnSymbolChange=!0,t}return s(e,t),a(e,[{
key:"getURLforCategory",value:function(){return this._providerUrl}},{key:"getURLforSymbol",value:function(){return this._providerUrl}},{key:"renderItem",value:function(t){return t.shortDescription=$("<div>").html(t.shortDescription).find("img").remove().end().html(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderItem",this).call(this,t)}}],[{key:"title",get:function(){return"Money.PL"}},{key:"timeout",get:function(){return 3e5}}]),e}(h.default),e.default=d,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"bloomberght"));return t.noUpdateOnSymbolChange=!0,t}return s(e,t),a(e,[{key:"getURLforCategory",value:function(){return this._providerUrl}},{key:"getURLforSymbol",value:function(){return this._providerUrl}},{key:"renderItem",value:function(t){return t.shortDescription=$("<div>").html(t.shortDescription).find("img").remove().end().html(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderItem",this).call(this,t)}}],[{key:"title",get:function(){return"BloombergHT"}},{key:"timeout",get:function(){return 3e5}}]),e}(h.default),e.default=d,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d
;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"edali"));return t.noUpdateOnSymbolChange=!0,t}return s(e,t),a(e,[{key:"getURLforCategory",value:function(){return this._providerUrl}},{key:"getURLforSymbol",value:function(){return this._providerUrl}},{key:"renderItem",value:function(t){return t.shortDescription=$("<div>").html(t.shortDescription).find("img").remove().end().html(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderItem",this).call(this,t)}}],[{key:"title",get:function(){return""}},{key:"timeout",get:function(){return 3e5}}]),e}(h.default),e.default=d,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"fxstreet"));return t.noUpdateOnSymbolChange=!0,t}return s(e,t),a(e,[{key:"getURLforSymbol",value:function(t,i,o){return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getURLforCategory",this).call(this,"all")}},{key:"getURLforSpread",value:function(t,i,o){return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getURLforCategory",this).call(this,"all")}},{key:"renderItem",value:function(t){return t.shortDescription=$("<div>").html(t.shortDescription).find("img").remove().end().html(),
""===t.shortDescription.trim().replace("<br>","")&&(t.shortDescription=""),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderItem",this).call(this,t)}}],[{key:"title",get:function(){return $.t("FXStreet")}},{key:"timeout",get:function(){return 3e5}}]),e}(h.default),e.default=d,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"keuangan"));return t.noUpdateOnSymbolChange=!0,t}return s(e,t),a(e,[{key:"getURLforCategory",value:function(){return this._providerUrl}},{key:"getURLforSymbol",value:function(){return this._providerUrl}},{key:"renderItem",value:function(t){return t.shortDescription=$("<div>").html(t.shortDescription).find("img").remove().end().html(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderItem",this).call(this,t)}}],[{key:"title",get:function(){return"Keuangan"}},{key:"timeout",get:function(){return 3e5}}]),e}(h.default),e.default=d,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,l,c,h,d;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var i,o;for(i=0;i<e.length;i++)o=e[i],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),
Object.defineProperty(t,o.key,o)}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=function t(e,i,o){var n,r,s;return null===e&&(e=Function.prototype),void 0===(n=Object.getOwnPropertyDescriptor(e,i))?(r=Object.getPrototypeOf(e),null===r?void 0:t(r,i,o)):"value"in n?n.value:void 0!==(s=n.get)?s.call(o):void 0},c=i(2280),h=o(c),d=function(t){function e(){n(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"kiplinger"));return t.noUpdateOnSymbolChange=!0,t}return s(e,t),a(e,[{key:"getURLforSymbol",value:function(t,i,o){return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getURLforCategory",this).call(this,"all")}},{key:"getURLforSpread",value:function(t,i,o){return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getURLforCategory",this).call(this,"all")}},{key:"renderItem",value:function(t){return t.shortDescription=$("<div>").html(t.shortDescription).find("img").remove().end().html(),""===t.shortDescription.trim().replace("<br>","")&&(t.shortDescription=""),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderItem",this).call(this,t)}}],[{key:"title",get:function(){return $.t("Kiplinger")}},{key:"timeout",get:function(){return 3e5}}]),e}(h.default),e.default=d,t.exports=e.default},function(t,e){},function(t,e,i){"use strict";function o(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}Object.defineProperty(e,"__esModule",{value:!0}),i(13),$.fn.ellipsis=function(t){return void 0===t&&(t={}),t.ellipsis=t.ellipsis||"...",this.each(function(){var e,i,n,r,s,a=$(this),l=t.maxHeight||a.height(),c=a.contents().eq(0),h=c[0],d=c.text();if(a.css("max-height","none"),l<a.height()){for(e="",i=0,n="",r=0,s=d.length;r<=s;)i=r+(s-r>>1),n=$.trim(d.substr(0,i+1))+t.ellipsis,o(h,n),a.height()>l?s=i-1:(r=i+1,e=e.length>n.length?e:n);o(h,e)}},arguments)}},function(t,e,i){"use strict";function o(t,e){var i=new n.QuoteRangeRenderer(t,e);return new r.Quote52WkRange(i)}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2579),r=i(2803),e.create52WkRange=o},function(t,e){},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(632),n=i(432),r=function(){function t(t,e){this._bidAskRendered=!1,this._lastRendered=!1,this._options=e||{},this._elements=this._initLayout(t),this._priceFormatter=new o.QuoteSessionPriceFormater}return t.prototype.render=function(t,e){var i,o;return this._priceFormatter.update(t,e),i=this._renderHighLow(t.high,t.low,e.high,e.low),o=this._renderRange(t,e),i||o},t.prototype.hide=function(){!1!==this._isVisible&&(this._hideElement(this._elements.container),this._isVisible=!1)},t.prototype.show=function(){!0!==this._isVisible&&(this._showElement(this._elements.container),this._isVisible=!0)},t.prototype._initLayout=function(t){return{container:t,priceL:this._options.elPriceL||null,priceR:this._options.elPriceR||null,bar:null,bid:null,ask:null,last:null}},t.prototype._renderHighLow=function(t,e,i,o){var r,s,a
;return!(!this._elements.priceL&&!this._elements.priceR)&&(r=null!=t||null!=e,s=null!=i||null!=o,!(!r||!s)&&(this._elements.priceL.textContent=e?this._priceFormatter.format(e):"",this._elements.priceR.textContent=t?this._priceFormatter.format(t):"",a=this._priceFormatter.hasForexAdditionalPrecision(),a&&(n.lastCharSup(this._elements.priceL),n.lastCharSup(this._elements.priceR)),this.show(),!0))},t.prototype._renderRange=function(t,e){var i,o,n,r,s,a=!1;return null!=t.open&&null!=t.high&&null!=t.last&&null!=t.high&&(a=this._renderBar(t.open,t.high,t.low,t.close)||a),i=null!=e.bid||null!=e.ask,o=t.bid&&t.ask&&null!=t.last&&null!=t.high,n=this._elements.bid&&this._elements.ask,r=!this._options.hideBidAsk&&n&&o,!r||!i&&this._bidAskRendered||(a=this._renderBidAsk(t.bid,t.ask,t.low,t.high)||a),s=null!=t.open&&null!=t.high&&null!=t.low&&null!=t.close&&null!=t.last,r||!s||!e.last&&this._lastRendered||(a=this._renderLast(t.open,t.high,t.low,t.close,t.last)||a),a},t.prototype._renderBar=function(t,e,i,o){var n,r,s,a,l,c;return!!this._elements.bar&&(n=e-i,r=Math.min(o,t),s=Math.max(o,t),a=(r-i)/n*100,l=(s-i)/n*100,c=o<t,this._elements.bar.style.left=a+"%",this._elements.bar.style.width=l-a+"%",this._barClassFalling&&this._elements.bar.classList.toggle(this._barClassFalling,c),this.show(),!0)},t.prototype._renderLast=function(t,e,i,o,n){var r,s,a;return!!this._elements.last&&(r=e-i,s=100*(n-i)/r,this._elements.last.style.left=s+"%",this._showElement(this._elements.last),this._lastClassFalling&&(a=o<t,this._elements.last.classList.toggle(this._lastClassFalling,a)),this._hideElement(this._elements.bid),this._hideElement(this._elements.ask),this.show(),!0)},t.prototype._renderBidAsk=function(t,e,i,o){var n,r,s;return!(!this._elements.bid||!this._elements.ask)&&(n=o-i,r=100*(t-i)/n,s=100*(e-i)/n,this._toggleElement(this._elements.bid,0<=r&&r<=100),this._elements.bid.style.left=r+"%",this._toggleElement(this._elements.ask,0<=s&&s<=100),this._elements.ask.style.left=s+"%",this._hideElement(this._elements.last),this._bidAskRendered=!0,!0)},t.prototype._showElement=function(t){t&&t.classList.remove("i-hidden")},t.prototype._hideElement=function(t){t&&t.classList.add("i-hidden")},t.prototype._toggleElement=function(t,e){e?this._showElement(t):this._hideElement(t)},t}(),e.QuoteRangeRendererAbstract=r},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 13" width="9" height="13"><path d="M9 4.5c0 .528-.138 1.02-.258 1.505C8 9 4.5 13 4.5 13S1 9 .26 6.007C.137 5.522 0 5.03 0 4.5a4.5 4.5 0 0 1 9 0z"/></svg>'},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(2580),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype._prepareQuoteData=function(t){
var e=t.open_price>t.last_price,i=e?t.high_price:t.low_price,o=e?t.low_price:t.high_price,n=null!=t.high_price&&null!=t.price_52_week_high?Math.max(t.high_price,t.price_52_week_high):t.price_52_week_high,r=null!=t.low_price&&null!=t.price_52_week_low?Math.min(t.low_price,t.price_52_week_low):t.price_52_week_low;return{open:i||null,high:n||null,low:r||null,close:o||null,last:t.last_price||null,bid:null,ask:null,pricescale:t.pricescale,minmov:t.minmov,fractional:t.fractional,minmove2:t.minmove2}},e}(n.QuoteRangeAbstract),e.Quote52WkRange=r},function(t,e,i){"use strict";function o(t){this.init(t)}var n,r,s,a,l,c,h,d,u,p,f,_,g,m,v,y,b,w;i(2578),n=i(236).setThemedColor,r=i(236).watchedTheme,s=16,a=6,l=3,c=3,h="#555555",d="10px Arial, sans-serif",u=15,p=4,f="rgb(91,133,191)",_="rgba(91,133,191,.2)",g="rgb(179,91,70)",m="rgba(179,91,70,.2)",v="#AAAAAA",y=5,b=5,w=h,o.prototype.init=function(t){var e,i,o;t||(t={}),e=this,this.wrap=$(t.wrap).eq(0),this.wrap.empty(),this.element=$(document.createElement("div")).css({height:"100%",position:"relative"}).addClass("depth-widget-wrap").appendTo(this.wrap),this.mainCanvas=$(document.createElement("canvas")).attr("class","depth-main-canvas").appendTo(this.element),this.initLastIndicator(),this.infoCanvas=$(document.createElement("canvas")).attr("class","depth-info-canvas").appendTo(this.element),this.mainCanvas.add(this.infoCanvas).css({display:"block",position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}),this.infoCanvas.hide(),this.eventShield=$(document.createElement("div")).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"rgba(255, 255, 255, 0)",overflow:"hidden","-ms-touch-action":"none"}).addClass("depth-widget-eventshield").appendTo(this.element),this.eventShield.on("mouseover",function(){e.infoCanvas.show(),e.infoShown=!0}),this.eventShield.on("mouseout",function(){e.infoCanvas.hide(),e.infoShown=!1}),"function"==typeof t.scaleFn&&this.initZoom(t.scaleFn),o=this.onMouseMove.bind(this),this.eventShield.on("mousemove",function(t){e.mousemoveEvent=t,i||(i=setTimeout(function(){o(),i=void 0},10))}),t.xAxisFormatter&&(this.xAxisFormatter=t.xAxisFormatter),this.resize(),r.subscribe(this.resize.bind(this))},o.prototype.initLastIndicator=function(){var t,e=document.createElement("canvas");this.lastIndicator=$(e).attr({class:"depth-last-indicator",width:y,height:b}).css({position:"absolute",bottom:s-b+"px",display:"none"}).appendTo(this.element),t=e.getContext("2d"),t.fillStyle=w,t.beginPath(),t.moveTo(0,b),t.lineTo(y/2,0),t.lineTo(y,b),t.closePath(),t.fill()},o.prototype.initZoom=function(t){function e(t){return Math.max(c,Math.min(h,Math.exp((u-t)*p)))}function i(t){return Math.max(0,Math.min(u,Math.round(u-Math.log(t)/p)))}function o(t){t>=u?(t=u,r||(r=!0,g.addClass("disabled"))):r&&(r=!1,g.removeClass("disabled")),t<=0?(t=0,s||(s=!0,m.addClass("disabled"))):s&&(s=!1,m.removeClass("disabled")),v.css("left",t)}function n(n){var r=t(),s=Math.max(0,Math.min(h,i(r)+n)),a=e(s);a!==r&&a===a&&(t(a),o(s))}
var r,s,a=this,l=4,c=1,h=100,d=150,u=99,p=Math.log(h)/u,f=this.element,_=$(document.createElement("div")).attr("class","depth-zoom-wrapper").appendTo(this.element),g=$(document.createElement("div")).attr("class","depth-zoom-plus").appendTo(_),m=$(document.createElement("div")).attr("class","depth-zoom-minus").appendTo(_),v=$(document.createElement("div")).attr("class","depth-zoom-handle").appendTo(_);this.syncScale=function(){o(i(t()))},this.syncScale(),g.on("click",function(t){t.preventDefault(),n(+l)}),m.on("click",function(t){t.preventDefault(),n(-l)}),v.on("mousedown",function(i){function n(){p=void 0;var i=e(h);h!==c&&(c=i,t(i))}function r(t){var e=l+t.pageX-a;if(e>u)e=u;else if(e<0)e=0;else if(e!==e)return;h=e,p||(p=setTimeout(n,d)),o(e)}function s(){$(document.documentElement).off("mousemove",r),$(document.documentElement).off("mouseup",s),f.removeClass("dragging"),p&&(clearTimeout(p),p=void 0),n()}var a,l,c,h,p;i.preventDefault(),a=i.pageX,l=parseFloat(v.css("left")),c=t(),h=c,f.addClass("dragging"),$(document.documentElement).on("mousemove",r),$(document.documentElement).on("mouseup",s)}),this.eventShield.on("mousewheel",function(t,e){t.preventDefault(),e<0?n(-l):e>0&&n(+l)}),function(){var e,n,r,s=function(){var s=Math.max(c,Math.min(h,e/n));t(s),o(i(s)),r=void 0};a.eventShield.on("gesturestart",function(i){e=t(),n=1}),a.eventShield.on("gesturechange",function(t){t.preventDefault();var e=+t.originalEvent.scale;0!==e&&isFinite(e)&&(n=e,r||(r=setTimeout(s,d)))})}(),function(){var e,n,r,s,l,u;window.navigator.msPointerEnabled&&"function"==typeof MSGesture&&(e=a.eventShield.get(0),n=new MSGesture,n.target=e,e.addEventListener("MSPointerDown",function(t){n.addPointer(t.pointerId)},!1),u=function(){var e=Math.max(c,Math.min(h,r/s));isFinite(e)&&(t(e),o(i(e)),l=void 0)},e.addEventListener("MSGestureStart",function(e){r=t(),s=1},!1),e.addEventListener("MSGestureChange",function(t){var e=+t.scale;0!==e&&1!==e&&isFinite(e)&&(s*=e,l||(l=setTimeout(u,d)))},!1))}()},o.prototype.resize=function(){this.width=this.wrap.width(),this.height=this.wrap.height(),this.mainCanvas.attr({width:this.width,height:this.height}),this.infoCanvas.attr({width:this.width,height:this.height}),this.plotWidth=this.width,this.plotYofsset=.05*this.height,this.plotHeight=this.height-this.plotYofsset-s,this.XpixelPerPrice=this.plotWidth/(this.pmax-this.pmin),this.YpixelPerPrice=this.plotHeight/(this.cmax-this.cmin),this.render()},o.prototype.calcData=function(){var t,e,i,o,n,r,s;for(this.cmin=0,this.cmax=0,t=0,i=this.bids,o=i.length;o--;)i[o].c=t+=i[o].v;for(e=t,t=0,n=this.asks,o=0;o<n.length;o++)n[o].c=t+=n[o].v;this.cmax=Math.max(e,t),isFinite(this.pmin)||(r=i.length&&i||n.length&&n||[{}],this.pmin=r[0].p),isFinite(this.pmax)||(s=n.length&&n||i.length&&i||[{}],this.pmax=s[s.length-1].p),this.maxbid=i.length?i[i.length-1].p:void 0,this.minask=n.length?n[0].p:void 0,this.XpixelPerPrice=this.plotWidth/(this.pmax-this.pmin),this.YpixelPerPrice=this.plotHeight/(this.cmax-this.cmin),this.render()},o.prototype.update=function(t){this.bids=t.bids||[],
this.asks=t.asks||[],this.pmax=t.right,this.pmin=t.left,this.calcData()},o.prototype.updateDelta=function(t){var e,i,o,n,r,s;if(this.bids&&this.asks){if(e=t.t,i=t.v,o=t.p,n=null,"a"===e)n=this.asks;else{if("b"!==e)return;n=this.bids}r=this.indexBetween(n,o),void 0===r.min||void 0===r.max?i&&n.push({p:o,v:i}):r.min===r.max?(s=n[r.min],s.p===o?i?s.v=i:n.splice(r.min,1):o<s.p&&i?n.unshift({p:o,v:i}):o>s.p&&i&&n.push({p:o,v:i})):i&&n.splice(r.max,0,{p:o,v:i}),this.calcData()}},o.prototype.updateLast=function(t){this.lastValue=t,this.renderLast()},o.prototype.renderLast=function(){if(null!=this.lastValue&&this.plotWidth){var t=this.p2x(this.lastValue);isFinite(t)&&this.lastIndicator.css({display:"block",left:Math.round(t-y/2)})}},o.prototype.onMouseMove=function(t){var e,i,o,n,r,h,u,p,_,m,y,b,w,S,T,x,P,C;this.infoShown&&(e=this.infoCanvas.get(0).getContext("2d"),e.clearRect(0,0,this.width,this.height),(t=t||this.mousemoveEvent)&&(i=+t.offsetX,i!==i&&(i=+t.originalEvent.layerX),o=i/this.XpixelPerPrice+this.pmin,isFinite(o)&&(n=(this.maxbid+this.minask)/2,isFinite(n)||(isFinite(this.maxbid)?n=this.maxbid:isFinite(this.minask)&&(n=this.minask)),r=null,h=null,u=null,o<=n?(u=this.bids,p="bid"):o>=n&&(u=this.asks,p="ask"),_=this.indexBetween(u,o),void 0!==_.min&&(r=u[_.min],h=u[_.max],m=o<(r.p+h.p)/2?r:h,y=this.plotYofsset+this.plotHeight,b=this.p2x(m.p),w=Math.floor(b)+.5,e.lineStyle=CanvasEx.LINESTYLE_DASHED,e.strokeStyle=v,CanvasEx.drawLine(e,w,0,w,y),e.font=d,e.textBaseline="top",e.textAlign="center",e.font=d,S=this.xAxisFormatter.format(m.p),T=Math.ceil(e.measureText(S).width/2)+3,e.fillStyle="bid"===p?f:g,e.fillRect(Math.round(b)-T,y+1,2*T,s),e.fillStyle="#fff",e.fillText(S,w,y+4),e.strokeStyle="#fff",e.beginPath(),e.moveTo(w,y+1),e.lineTo(w,y+l),e.stroke(),x=this.s2y(m.c),P=Math.floor(x)+.5,S=this.yAxisFormatter.format(m.c),C=Math.ceil(e.measureText(S).width)+a+4,e.fillStyle="bid"===p?f:g,e.fillRect(0,Math.floor(x)-5,C,11),e.fillStyle="#fff",e.textBaseline="middle",e.textAlign="left",e.fillText(S,a,P),e.beginPath(),e.moveTo(0,P),e.lineTo(c,P),e.stroke()))))},o.prototype.indexBetween=function(t,e){var i,o,n,r,s,a;if(!t||!t.length)return{};if((e=+e)!==e)return{};if(i=t.length-1,o=t[i].p,e>=o)return{min:i,max:i};if(n=0,r=t[n].p,e<=r)return{min:n,max:n};for(;i>n+1;)if(s=n+i>>1,(a=t[s].p)>e)i=s;else{if(!(a<e))return a===e?{min:s,max:s}:{};n=s}return{min:n,max:i}},o.prototype.p2x=function(t){return(t-this.pmin)*this.XpixelPerPrice},o.prototype.s2y=function(t){return this.plotYofsset+this.plotHeight-t*this.YpixelPerPrice},o.prototype.yAxisFormatter={format:function(t){return Math.round(t)}},o.prototype.xAxisFormatter={format:function(t){return t}},o.prototype.sizeFormatter={format:function(t){return t.toFixed(4)}},o.prototype.calculateTickmarks=function(t,e,i,o){var n,r=(e-t)*o/i,s=Math.pow(10,Math.ceil(Math.log(r)/Math.LN10));return s/5>=r&&(s/=5),s/2>=r&&(s/=2),n=Math.ceil(t/s)*s,{tick:s,start:n}},o.prototype.render=function(){var t,e,i,o,r,s,c,v,y,b,w,S,T,x,P,C;if(!(this.plotHeight<=0||this.plotWidth<=0)&&(t=this.asks,
e=this.bids,i=this.mainCanvas.get(0).getContext("2d"),i.clearRect(0,0,this.width,this.height),this.asks&&this.bids&&(0!==this.asks.length||0!==this.bids.length))){if(o=this.calculateTickmarks(this.cmin,this.cmax,this.plotHeight,u),r=[],o.tick>0&&isFinite(o.start))for(i.strokeStyle=n("color-depthrenderer-stroke-style"),i.strokeWidth=1,s=1;!((c=o.start+o.tick*s)>this.cmax);s++)v=Math.floor(this.s2y(c))+.5,i.beginPath(),i.moveTo(0,v),i.lineTo(this.plotWidth,v),i.stroke(),r.push({c:c,y:v});if(i.font=d,y=i.measureText(this.xAxisFormatter.format(this.pmax)).width+p,b=this.calculateTickmarks(this.pmin,this.pmax,this.width,y),w=[],b.tick>0&&isFinite(b.start))for(i.strokeStyle=n("color-depthrenderer-stroke-style"),i.strokeWidth=1,s=0;S=b.start+b.tick*s,T=Math.floor(this.p2x(S))+.5,i.beginPath(),i.moveTo(T,this.plotHeight+this.plotYofsset+.5),i.lineTo(T,0),i.stroke(),w.push({p:S,x:T}),!(S>this.pmax);s++);if(e.length){for(i.beginPath(),x=this.p2x(e[e.length-1].p),P=this.plotHeight+this.plotYofsset,i.moveTo(x,P),s=e.length;s--;)T=this.p2x(e[s].p),v=this.s2y(e[s].c),i.lineTo(x,v),i.lineTo(T,v),x=T;i.lineTo(0,this.s2y(e[0].c)),i.strokeStyle=f,i.stroke(),i.lineTo(0,this.plotHeight+this.plotYofsset),i.fillStyle=_,i.fill()}if(t.length){for(i.beginPath(),x=this.p2x(t[0].p),P=this.plotHeight+this.plotYofsset,i.moveTo(x,P),s=0;s<t.length;s++)T=this.p2x(t[s].p),v=this.s2y(t[s].c),i.lineTo(x,v),i.lineTo(T,v),x=T;i.lineTo(this.width,this.s2y(t[t.length-1].c)),i.strokeStyle=g,i.stroke(),i.lineTo(this.width,this.plotHeight+this.plotYofsset),i.fillStyle=m,i.fill()}for(i.save(),i.strokeStyle=h,C=this.plotYofsset+this.plotHeight,i.beginPath(),i.moveTo(0,C+.5),i.lineTo(this.plotWidth,C+.5),i.stroke(),s=0;s<w.length;s++)i.beginPath(),i.moveTo(w[s].x,C+1),i.lineTo(w[s].x,C+l),i.stroke();for(i.shadowColor=n("color-widget-pages-bg"),i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=3,i.fillStyle=n("color-depthrenderer-fill-style"),i.textBaseline="top",i.textAlign="center",i.font=d,s=0;s<w.length;s++)i.fillText(this.xAxisFormatter.format(w[s].p),w[s].x,C+4);for(i.textBaseline="middle",i.textAlign="left",s=0;s<r.length;s++)i.fillText(this.yAxisFormatter.format(r[s].c),a,r[s].y);i.restore(),this.onMouseMove(),this.renderLast()}},o.prototype.destroy=function(){this.element.remove()},t.exports=o},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),i(2806),i(13),i(5),o={"High.1M":[$.t("1-Month High"),$.t("High 1M")],"Low.1M":[$.t("1-Month Low"),$.t("Low 1M")],price_52_week_high:[$.t("Year High"),$.t("High 1Y")],price_52_week_low:[$.t("Year Low"),$.t("Low 1Y")],"Perf.W":[$.t("Change Week"),$.t("Chg 1W")],"Perf.1M":[$.t("Change Month"),$.t("Chg 1M")],"Perf.3M":[$.t("Change 3-Month"),$.t("Chg 3M")],"Perf.6M":[$.t("Change 6-Month"),$.t("Chg 6M")],"Perf.Y":[$.t("Change Year"),$.t("Chg 1Y")],"Perf.YTD":[$.t("Change YTD"),$.t("Chg YTD")]},n="----",r=function(){function t(t,e,i,r,s){var a=this;this._$container=t,this._fieldsList=e,this._formatter=r,this._fieldType=function(t){return o[t]?"forex":s(t)},this._quoteFieldTitles=i,
this._dynamicColData={},this._isShown=!1,this._$table=$('<div class="dl-item-group clearfix">').hide().appendTo(this._$container),this._fieldsList.forEach(function(t){var e,i=$('<div class="dl-item">').appendTo(a._$table),o=a._getFieldTitle(t);$('<div class="dl-col dl-col-field">').attr("title",o[0]).text(o[1]+":").appendTo(i),e=$('<div class="dl-col dl-col-val">').attr("title",n).text(n).appendTo(i),a._dynamicColData[t]=e},this)}return t.prototype.updateTable=function(t){var e=this;this._isShown&&Object.keys(t).forEach(function(i){if(i in e._dynamicColData){var o=t[i];null!==o&&o&&(i.toLowerCase().startsWith("perf")&&(o>0&&e._dynamicColData[i].addClass("dl-col-val-growing"),o<0&&e._dynamicColData[i].addClass("dl-col-val-falling")),e._dynamicColData[i].attr("title",""+o).text(e._formatter(""+o,e._fieldType(i),i)))}},this)},t.prototype.show=function(){this._isShown||(this._isShown=!0,this._reset(),this._$table.show())},t.prototype.hide=function(){this._isShown&&(this._isShown=!1,this._$table.hide())},t.prototype._getFieldTitle=function(t){return o[t]?o[t]:this._quoteFieldTitles[t]},t.prototype._reset=function(){var t=this;this._fieldsList.forEach(function(e){var i=t._dynamicColData[e];i&&i.removeAttr("title").removeClass("dl-col-val-growing").removeClass("dl-col-val-falling").text(n)},this)},t}(),e.DetailsTableWidget=r},function(t,e){},function(t,e,i){"use strict";var o,n,r,s;Object.defineProperty(e,"__esModule",{value:!0}),o=i(2808),n=["price_52_week_high","price_52_week_low","sector","country","Low.1M","High.1M","Perf.W","Perf.1M","Perf.3M","Perf.6M","Perf.Y","Perf.YTD"],r="",s=function(){function t(t){this._quoteSessionMultiplexerInstance=t,this._screenerData={},this._currentSymbolName=""}return t.prototype.subscribe=function(t,e,i){var o=this;this._quoteSessionMultiplexerInstance.subscribe(t,e,function(t,n){o._checkDataHandler(e,t,n,i)})},t.prototype.unsubscribe=function(t,e,i){this._quoteSessionMultiplexerInstance.unsubscribe(t,e,i)},t.prototype._mergeDataHandler=function(t,e,i){var o,s,a,l,c=this;0!==Object.keys(this._screenerData).length&&this._currentSymbolName===r&&(o=Object.assign({},t.values),s=Object.assign({},e.values),n.forEach(function(t){c._screenerData[t]&&(o[t]=c._screenerData[t],s[t]=c._screenerData[t])}),a=Object.assign({},t),a.values=o,l=Object.assign({},e),l.values=s,i(a,l))},t.prototype._checkDataHandler=function(t,e,i,s){var a=this;this._currentSymbolName!==t&&(this._currentSymbolName="",e.values.short_name&&e.values.type&&"forex"===e.values.type&&(this._currentSymbolName=t,r=t,o.getSymbolInfo(e.values.short_name,n,"forex").then(function(t){t.data.length&&t.data[0].d&&(n.forEach(function(e,i){a._screenerData[e]=t.data[0].d[i]}),a._mergeDataHandler(e,i,s))}))),s(e,i)},t}(),e.QuoteSessionScreenerMultiplexer=s},function(t,e,i){"use strict";function o(t,e,i){var o={columns:e,range:[0,1],symbols:{}};return o.symbols="forex"===i?{tickers:["FX_IDC:"+t],query:{types:["forex"]}}:{tickers:[t]},n.fetch(r.getBackendUrl(i)+"scan",{method:"POST",body:JSON.stringify(o)}).then(function(t){return t.json()
}).catch(function(t){a.logError("Failed to get symbol info. "+t.message)})}var n,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(64),r=i(1654),s=i(0),a=s.getLogger("Screener.Widget"),e.getSymbolInfo=o},function(t,e,i){"use strict";function o(t){return t.charAt(0).toUpperCase()+t.substr(1)}var n,r,s,a,l;Object.defineProperty(e,"__esModule",{value:!0}),i(2810),i(28),i(13),i(61),n=i(54),r=i(16),s=i(637),a={rounded:!1},l=function(){function t(t,e,i,o){this._options=Object.assign({},a,o),this._initLayout(t),this._initEstimatesProvider(),e&&i&&this.setSymbol(e,i)}return t.prototype.show=function(){this._el.classList.remove("i-hidden")},t.prototype.hide=function(){this._el.classList.add("i-hidden")},t.prototype.resetSymbol=function(){this._estimateProvider.resetSymbol()},t.prototype.setSymbol=function(t,e){this._estimateProvider.setSymbol(t,e)},t.prototype.destroy=function(){var t=this._el.parentNode;t&&t.removeChild(this._el),this._estimateProvider.destroy()},t.prototype._initEstimatesProvider=function(){this._estimateProvider=s.createEstimatesProvider(),this._estimateProvider.on("data",this._renderData.bind(this))},t.prototype._initLayout=function(t){this._el=document.createElement("div"),this._el.classList.add("apply-common-tooltip","common-tooltip-html","tv-tiny-estimate-widget","i-hidden"),this._options.rounded&&this._el.classList.add("tv-tiny-estimate-widget--rounded"),t.appendChild(this._el)},t.prototype._renderData=function(t){var e,i,s,a,l,c,h;return t.error?void this.hide():(this._priceFormatter||(this._priceFormatter=new r.PriceFormatter(100,1)),e=n.utc(t.period).format("M/YYYY"),i=n.utc(t.date),(s=i.diff(n.utc(),"minutes",!0))<0?void this.hide():(a=s<1?window.t("Earning report live"):window.t("{0} to next earnings report").format(o(i.fromNow(!0))),l=this._priceFormatter.format(t.estimate),c='<div class="tv-tiny-estimate-widget-tooltip"><strong>'+a+"</strong><br>"+window.t("Date")+": "+i.format("l")+"<br>"+window.t("Period ending")+": "+e+(t.estimate?"<br>"+window.t("Estimate")+": "+l:"")+"</div>",$(this._el).data("commonTooltipText",c),h=Math.round(i.diff(n.utc(),"days",!0)),this._el.innerText=""+h,this._el.classList.toggle("tv-tiny-estimate-widget--soon",h<=7),void this.show()))},t}(),e.TinyEstimateWidget=l},function(t,e){},function(t,e,i){"use strict";(function(t){function o(e){function i(t,e){var i=parseFloat(t),o=Math.pow(10,6);return isNaN(i)?t:"percent"===w[e]?g.format(i):TradingView.isInteger(i)||isNumber(i)&&Math.abs(i)>o?m.format(i):isNumber(i)?v.format(i):i}var o,p,f,_=e||{},g=_.percentageFormatter||new r,m=_.volumeFormatter||new s,v=_.numericFormatter||new n(4),y=_.data,b=_.compact?c:l,w=quoteSessionMultiplexerInstance.full._fields||{},S={};if(y){for(u||(u=function(){var t,e,i=[],o=Object.keys(b);for(e=0;e<o.length;e++)t=o[e],i=i.concat(b[t]);return i}()),f=u.length-1;f>=0;f--)o=u[f],p=y[o],S[o]=i(p);return d||(d=function(){var t,e,i,o,n,r=['<div class="tv-widget-fundamentals">'],s=Object.keys(b);for(o=0;o<s.length;o++){for(t=s[o],i=b[t],e=!!(o%2),
e||r.push('<div class="tv-widget-fundamentals__columns-wrap">'),r.push('<div class="tv-widget-fundamentals__column">'),r.push('<div class="tv-widget-fundamentals__title">'),r.push(h[t]),r.push("</div>"),n=0;n<i.length;n++)r.push('<div class="tv-widget-fundamentals__row">'),r.push('<span class="tv-widget-fundamentals__label apply-overflow-tooltip">'),r.push(a[i[n]][0]),r.push("</span>"),r.push('<span class="tv-widget-fundamentals__value apply-overflow-tooltip">'),r.push("{{"+i[n]+"}}{{^"+i[n]+"}}---{{/"+i[n]+"}}"),r.push("</span>"),r.push("</div>");r.push("</div>"),e&&r.push("</div>")}return r.push("</div>"),r.join("")}()),t.render(d,S)}}var n,r,s,a,l,c,h,d,u;Object.defineProperty(e,"__esModule",{value:!0}),e.renderFundamentalsWidget=o,n=i(66).NumericFormatter,r=i(73).PercentageFormatter,s=i(71).VolumeFormatter,a=i(1535).quoteFieldTitles,l=e.FundamentalWidgetFieldGroups={price_history:["average_volume","beta_1_year","price_52_week_high","price_52_week_low","price_percent_change_1_week","price_percent_change_52_week"],valuation:["market_cap_basic","enterprise_value_fq","enterprise_value_ebitda_ttm","total_shares_outstanding_fundamental","number_of_employees","number_of_shareholders","price_earnings_ttm","price_revenue_ttm","price_book_ratio","price_sales_ratio"],dividends:["dividends_paid","dividends_yield","dividends_per_share_fq","expected_annual_dividends"],margins:["after_tax_margin","gross_margin","operating_margin","pre_tax_margin"],balance_sheet:["quick_ratio","current_ratio","cash_ratio","debt_to_equity","net_debt","total_debt","total_current_assets","total_assets"],income_statement:["basic_eps_net_income","earnings_per_share_basic_ttm","earnings_per_share_fq","last_annual_eps","earnings_per_share_diluted_ttm","net_income","ebitda","gross_profit_fq","gross_profit","last_annual_revenue","total_revenue","free_cash_flow"],operating_metrics:["return_on_assets","return_on_equity","return_on_invested_capital","revenue_per_employee"]},c=e.FundamentalWidgetFieldGroupsCompact={price_history:["average_volume","beta_1_year","price_52_week_high","price_52_week_low"],valuation:["market_cap_basic","enterprise_value_fq","enterprise_value_ebitda_ttm","total_shares_outstanding_fundamental","number_of_employees","number_of_shareholders","price_earnings_ttm","price_revenue_ttm","price_book_ratio","price_sales_ratio"],dividends:["dividends_paid","dividends_yield","dividends_per_share_fq","expected_annual_dividends"],margins:["after_tax_margin","gross_margin","operating_margin","pre_tax_margin"],balance_sheet:["quick_ratio","current_ratio","cash_ratio","debt_to_equity","net_debt","total_debt","total_assets"],income_statement:["basic_eps_net_income","earnings_per_share_basic_ttm","last_annual_eps","net_income","ebitda","gross_profit_fq","gross_profit","last_annual_revenue","total_revenue","free_cash_flow"],operating_metrics:["return_on_assets","return_on_equity","return_on_invested_capital","revenue_per_employee"]},h={price_history:$.t("Price History"),valuation:$.t("Valuation"),dividends:$.t("Dividends"),margins:$.t("Margins"),
balance_sheet:$.t("Balance Sheet"),income_statement:$.t("Income Statement"),operating_metrics:$.t("Operating Metrics")}}).call(e,i(21))},function(t,e,i){"use strict";function o(t,e){var i=new n.QuoteRangeRenderer(t,e);return new r.QuoteDaysRange(i)}var n,r;Object.defineProperty(e,"__esModule",{value:!0}),i(5),n=i(2579),r=i(2813),e.createDaysRange=o},function(t,e,i){"use strict";var o,n,r;Object.defineProperty(e,"__esModule",{value:!0}),o=i(6),n=i(2580),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype._prepareQuoteData=function(t){var e,i;return"MOEX"!==t.exchange&&"MOEX"!==t.listed_exchange?(e=t.bid||null,i=t.ask||null):(e=null,i=null),{open:null==t.open_price?null:t.open_price,high:null==t.high_price?null:t.high_price,low:null==t.low_price?null:t.low_price,last:null==t.last_price?null:t.last_price,close:null==t.last_price?null:t.last_price,bid:e,ask:i,pricescale:t.pricescale,minmov:t.minmov,fractional:t.fractional,minmove2:t.minmove2}},e}(n.QuoteRangeAbstract),e.QuoteDaysRange=r},function(t,e,i){"use strict";function o(t,e,i){if(this._chartApi=t,this._sessionid="ds_"+n.randomHash(),this._sessionstarted=!1,!isFinite(e))throw new RangeError("scale must be a finite number");if(!isFinite(i))throw new RangeError("viewportWidth must be a finite number");this._scale=e,this._viewportWidth=i}var n=i(17);o.prototype.connected=function(){return this._chartApi.connected()},o.prototype.connect=function(t){this._globalHandler=t,this._chartApi.createSession(this._sessionid,this),this._chartApi.connect()},o.prototype.disconnect=function(){this._chartApi.disconnect()},o.prototype.depthSetSymbol=function(t){this._chartApi.depthSetSymbol(this._sessionid,t)},o.prototype.depthClearSymbol=function(){this._chartApi.depthClearSymbol(this._sessionid)},o.prototype.depthSetScale=function(t){if(!isFinite(t))throw new RangeError("scale must be a finite number");this._chartApi.depthSetScale(this._sessionid,t),this._scale=t},o.prototype.onMessage=function(t){switch(t.method){case"connected":this._sessionstarted||(this._chartApi.depthCreateSession(this._sessionid,this._scale,this._viewportWidth),this._sessionstarted=!0);break;case"disconnected":this._sessionstarted=!1}this._globalHandler(t)},o.prototype.stopSession=function(){this._chartApi.depthDeleteSession(this._sessionid),this._sessionstarted=!1},t.exports=o},function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17"><path d="M0 0v2h16V0H0zm0 4v2h10V4H0zm0 4v2h16V8H0z"/><path fill-opacity=".74" d="M0 14v2h2v-2H0zm4 0v2h2v-2H4zm4 0v2h2v-2H8z"/></svg>'},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 17" width="24" height="17"><g fill-rule="evenodd"><path d="M1.826 16.913l4.088-6c.85-1.244 2.036-1.25 2.896-.018l2.718 3.897c1.698 2.436 4.46 2.235 5.79-.425l6.457-12.92-1.79-.894-6.456 12.92c-.65 1.302-1.53 1.366-2.365.175L10.45 9.75c-1.66-2.38-4.55-2.365-6.188.037l-4.088 6 1.652 1.126zM7 .7v6.1h1V.2H7v.5z"/><path d="M7.146.346l-2.8 2.8-.353.354.707.707.354-.353 2.8-2.8L8.207.7 7.5-.007l-.354.353z"/><path d="M7.146 1.054l2.8 2.8.354.353.707-.707-.353-.354-2.8-2.8L7.5-.007 6.793.7l.353.354z"/></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 14" width="15px" height="14px"><path d="M1.25 0C.562 0 .006.573.006 1.273L0 14l2.5-3h11.25c.688 0 1.25-.573 1.25-1.273V1.273C15 .573 14.437 0 13.75 0H1.25zM12 8H3V6h9v2zm0-3H3V3h9v2z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 15" width="12px" height="15px"><path fill-rule="evenodd" d="M6.2 0c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zM6 14.3a7.2 7.2 0 0 1-6-3.22C.03 9.09 4 8 6 8c1.99 0 5.97 1.09 6 3.08a7.2 7.2 0 0 1-6 3.22z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" width="16px" height="15px"><path fill-rule="evenodd" d="M0 14.66h2.91V5.864H0v8.796zm16-8.063c0-.806-.655-1.466-1.455-1.466h-4.59l.692-3.35.022-.232c0-.3-.126-.58-.32-.777L9.576 0 4.793 4.83c-.27.264-.43.63-.43 1.034v7.33c0 .806.655 1.466 1.455 1.466h6.546c.603 0 1.12-.367 1.338-.895l2.196-5.167c.066-.17.102-.345.102-.535v-1.4l-.007-.008.007-.058z"/></svg>'},function(t,e){},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 12"><path d="M4 0C2.347 0 1 1.347 1 3v2H.3c-.165 0-.3.135-.3.3v6.4c0 .165.135.3.3.3h8.4c.165 0 .3-.135.3-.3V5.3c0-.165-.135-.3-.3-.3H8V3c0-1.653-1.347-3-3-3H4zm0 1h1c1.117 0 2 .883 2 2v2H2V3c0-1.117.883-2 2-2z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100px" height="100px"><path d="M50.008 0C29.768 0 9.526.342 7.144 1.03.544 2.93.4 3.64.066 35.444-.097 50.977.04 65.6.374 67.94c.808 5.67 3.695 8.535 9.47 9.398 6.977 1.044 7.848 2.302 7.848 11.355 0 4.23.436 8.537.97 9.57 1.826 3.543 4.7 2.06 15.778-8.146 5.987-5.515 11.518-10.438 12.29-10.938.772-.5 11.54-1.13 23.93-1.398 25.646-.554 26.73-.85 28.54-7.83.665-2.57.923-14.208.738-33.35-.32-33.097-.434-33.663-7.068-35.575C90.488.34 70.248 0 50.008 0zM15.002 20.608h69.94v10.37h-69.94V20.61zm0 25.927h69.94v10.37h-69.94v-10.37z"/><path fill="none" d="M64.358-.26h52.402v6.945H64.358z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 16" width="24px" height="16px"><path clip-rule="evenodd" d="M12 0C4.07 0 0 8 0 8s3.072 8 12 8c8.087 0 12-7.97 12-7.97S20.057 0 12 0zm.02 13c-2.9 0-4.996-2.188-4.996-5 0-2.813 2.096-5 4.995-5s4.992 2.187 4.992 5c0 2.812-2.096 5-4.995 5zm0-8c-1.658 0-3 1.393-3 3 0 1.606 1.34 3 2.997 3 1.656 0 2.996-1.395 2.996-3 0-1.608-1.34-3.003-2.997-3z"/></svg>'
},function(t,e){},function(t,e,i){"use strict";(function(e,o,n,r){var s=i(74).ActionSeparator,a=i(154),l=i(93),c=e.View.extend({initialize:function(t){function e(t){return"change:"+t}var i=["description","symbol","stopReason","error","active"];this._parentWidget=t.parentWidget,this.listenTo(this.model,o.map(i,e).join(" "),this.render.bind(this)),this.listenTo(this.model,"change:selected",this.updateSelectedClass.bind(this)),this.listenTo(this.model,"change:hovered",this.updateHoveredClass.bind(this)),this._parentWidget._bridge.symbol.subscribe(this.updateCurrentSymbolClass.bind(this))},tagName:"tr",events:{"click .ctx-button--delete":"deleteAlert","click .ctx-button--stop":"stopAlert","click .ctx-button--restart":"restartAlert","click .ctx-button--edit":"editAlert",mouseenter:"setHovered",mouseleave:"setNotHovered"},deleteAlert:function(t){t.preventDefault(),t.stopPropagation(),TradingView.alertsDispatcher.deleteAlert(this.model,{showConfirm:!0})},stopAlert:function(t){t.preventDefault(),t.stopPropagation(),TradingView.alertsDispatcher.stopAlert(this.model,{showConfirm:!0})},restartAlert:function(t){t.preventDefault(),t.stopPropagation(),TradingView.alertsDispatcher.restartAlert(this.model,{showConfirm:!0})},editAlert:function(t){t.preventDefault(),t.stopPropagation(),TradingView.alertsDispatcher.openEditDialog(this.model)},updateSelectedClass:function(t,e){var e=void 0===e?this.model.get("selected"):e;this.$el.toggleClass("selected",!!e)},updateHoveredClass:function(t,e){var e=void 0===e?this.model.get("hovered"):e;this.$el.toggleClass("hovered",!!e)},updateCurrentSymbolClass:function(t){var t=t||this._parentWidget.symbol();this.$el.toggleClass("current-symbol",this.model.get("symbol")===t)},render:function(){var t,e=this;return t=e.model.get("active")?"active":"auto"===e.model.get("stopReason")?"stopped-auto":"stopped",this.updateCurrentSymbolClass(),this.updateSelectedClass(),this.updateHoveredClass(),this.$el.html(n.render('<td class="status"><div class="select-marker"></div><div class="icon icon-status {{statusClass}} apply-common-tooltip" title="{{statusTitle}}"></div></td><td class="cell-overflow-hidden"><div class="content-wrapper"><div class="widget-row-title"><div class="apply-common-tooltip" title="{{{titleTooltip}}}">{{{title}}}</div></div></div></td><td class="cell-overflow-hidden"><div class="content-wrapper"><div class="widget-row-title"><div class="apply-common-tooltip" title="{{description}}"><div class="content-wrapper">{{description}}</div><div class="buttons">{{#active}}<div class="ctx-button ctx-button--stop apply-common-tooltip" title="{{buttonTitles.stop}}">{{{icons.stop}}}</div>{{/active}}{{^active}}<div class="ctx-button ctx-button--restart apply-common-tooltip" title="{{buttonTitles.restart}}">{{{icons.restart}}}</div>{{/active}}<div class="ctx-button ctx-button--edit apply-common-tooltip" title="{{buttonTitles.edit}}">{{{icons.edit}}}</div><div class="ctx-button ctx-button--delete apply-common-tooltip" title="{{buttonTitles.delete}}">{{{icons.delete}}}</div></div></div></div></div></td>',{
statusClass:t,statusTitle:e.model.statusTitle(),titleTooltip:e.model.title(!0),title:e.model.title(),description:e.model.get("description"),active:e.model.get("active"),buttonTitles:{stop:$.t("Stop"),restart:$.t("Restart"),edit:$.t("Edit"),delete:$.t("Delete")},icons:{stop:i(2937),restart:i(2938),edit:i(1466),delete:i(263)}})),this._bindContextMenu(),this._bindClicks(),this.undelegateEvents(),this.delegateEvents(),this},_bindContextMenu:function(){var t=this,e=this._parentWidget,o=i(25),n=function(i){var n,r,l,c=[];t.model.get("active")?c.push(TradingView.alertsDispatcher.actionsCreators.stopAlert(t.model)):c.push(TradingView.alertsDispatcher.actionsCreators.restartAlert(t.model)),c.push(TradingView.alertsDispatcher.actionsCreators.editAlert(t.model)),c.push(TradingView.alertsDispatcher.actionsCreators.deleteAlert(t.model)),c.push(new s),n=e.currenSymbolOnly.value()?e.symbol():"",r=e.currenResolutionOnly.value()?e.resolution():"",l=e.hideInactiveAlerts.value(),o.isFeatureEnabled("restart_all_inactive_alerts")&&c.push(TradingView.alertsDispatcher.actionsCreators.restartAllAlerts(n,r)),c.push(TradingView.alertsDispatcher.actionsCreators.stopAllAlerts(n,r)),c.push(TradingView.alertsDispatcher.actionsCreators.deleteAllInactiveAlerts()),c.push(TradingView.alertsDispatcher.actionsCreators.deleteAllAlerts(n,r,l)),a.createMenu(c).show(i)};this.$el.contextMenu(n)},_bindClicks:function(){function t(){function t(){u.onSymbolResolved().unsubscribe(null,t),e()}function e(){c.get("crossInterval")||l.interval.setValue(c.get("resolution")),h&&f&&(null!=f.getStyle()&&d.setChartStyleProperty(u.properties().style,parseInt(f.getStyle()),"Change Series Style"),(s=f.getStyleInputs())&&(n=u.getInputsProperties(),o.keys(s).forEach(function(t){n[t]&&n[t].setValue(s[t])})))}var n,s,a,c=i.model,h=i._parentWidget._bridge.getChartWidget(),d=h?h.model():null,u=h?h.model().mainSeries():null,p=c.get("symbol"),f=c.get("extra").getMainSeries();l.symbol.setValue(p),a=u&&u.symbolSameAsCurrent(p),!u||a&&!r.enabled("same_data_requery")?e():u.onSymbolResolved().subscribe(null,t)}function e(){TradingView.alertsDispatcher.openEditDialog(i.model)}var i=this,n=0,s=null;return this.$el.on("click",function(o){i.setSelected(),n++,1===n?s=setTimeout(function(){t(),n=0},400):(clearTimeout(s),e(),n=0)}).on("dblclick",function(t){t.preventDefault()}),this},highlight:function(){this.$el.find("td").highlight(6)},setHovered:function(){this.model.set("hovered",!0)},setNotHovered:function(){this.model.set("hovered",!1)},setSelected:function(){this.model.set("selected",!0)},setNotSelected:function(){this.model.set("selected",!1)}});t.exports=c}).call(e,i(178),i(29),i(21),i(3))},function(t,e){t.exports='<svg viewBox="0 0 7 11" width="7" height="11"><path d="M0 0h2v11H0zm5 0h2v11H5z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 6 10" width="6" height="10"><path d="M0 0l6 5-6 5"/></svg>'},function(t,e,i){"use strict";(function(e,o){var n=i(154),r=i(93),s=e.View.extend({initialize:function(){this.listenTo(this.model,"change:alert",this._bindAlert.bind(this)),
this.model.get("alert")&&this._bindAlert()},tagName:"tr",render:function(){var t=this.model.get("alert"),e=t&&!!t.get("selected");return this.$el.toggleClass("selected",e).html(o.render('<td class="cell-overflow-hidden"><div class="content-wrapper"><div class="widget-row-title"><div class="apply-common-tooltip" title="{{{titleTooltip}}}"><div class="select-marker"></div><div class="content-wrapper">{{{title}}}</div></div></div></div></td><td class="cell-overflow-hidden"><div class="content-wrapper"><div class="widget-row-title"><div class="description-inner apply-common-tooltip" title="{{description}}">{{description}}</div></div></div></td><td class="date">{{fireTime}}</td>',{titleTooltip:this.model.title(!0),title:this.model.title(),description:this.model.get("description"),fireTime:this.model.fireTimeReadable()})),this._bindContextMenu(),this._bindClicks(),this},updateSelected:function(t,e){this.$el.toggleClass("selected",!!e)},_bindContextMenu:function(){function t(t){var e=[TradingView.alertsDispatcher.actionsCreators.deleteAllEvents()];n.createMenu(e).show(t)}return this.$el.contextMenu(t),this},_bindClicks:function(){function t(){r.symbol.setValue(e.get("symbol")),e.get("crossInterval")||r.interval.setValue(e.get("resolution"))}var e=this.model;return this.$el.on("click",function(e){t()}),this},_bindAlert:function(){var t=this.model.previous("alert"),e=this.model.get("alert");t&&this.stopListening(t),e&&this.listenTo(e,"change:selected",this.updateSelected.bind(this))},highlight:function(){this.$el.highlight(6)}});t.exports=s}).call(e,i(178),i(21))},function(t,e,i){"use strict";function o(t,e){this._steps=[],this.$tooltip=null,this.options=$.extend({},this.defaultOptions,e),this.setSteps(t),this.createTooltip()}i(2941),o.prototype.defaultOptions={triangleTooltipIndent:10,triangleElementIndent:10,elPadding:3,firstIsIntroduction:!1,animationSpeed:200},o.prototype.setSteps=function(t){if(!t||!$.isArray(t)||!t.length)throw Error("no steps or invalid steps for wizard");for(var e=0,i=t.length;e<i;e++)this._steps.push(new this.Step(this,t[e],e))},o.prototype.createTooltip=function(){var t=this;this.$tooltip=$('<div class="wizard-tooltip"><div class="wizard-tooltip-description"></div><div class="wizard-tooltip-stop"></div><div class="wizard-tooltip-footer"><div class="wizard-tooltip-counter"></div><div class="wizard-tooltip-btn-group clearfix"><div class="wizard-tooltip-btn skip">'+$.t("Skip")+'</div><div class="wizard-tooltip-btn start">'+$.t("Start",{context:"input"})+'</div><div class="wizard-tooltip-btn prev"> '+$.t("Prev")+'</div><div class="wizard-tooltip-btn next">'+$.t("Next")+' </div><div class="wizard-tooltip-btn close">'+$.t("Close",{context:"input"})+"</div></div></div></div>").appendTo($("body")),this.$tooltip.$triangle=$('<div class="wizard-tooltip-triangle"></div>').appendTo($("body")),this.$tooltip.$description=this.$tooltip.find(".wizard-tooltip-description"),this.$tooltip.$counter=this.$tooltip.find(".wizard-tooltip-counter"),this.$tooltip.find(".start").click(function(){t.showStep(1)}),
this.$tooltip.find(".prev").click(this.prev.bind(this)),this.$tooltip.find(".next").click(this.next.bind(this)),this.$tooltip.find(".skip").click(this.stop.bind(this)),this.$tooltip.find(".close").click(this.stop.bind(this)),this.$tooltip.find(".wizard-tooltip-stop").click(this.stop.bind(this)),this.$tooltip.keydown(function(e){"37"===e.keyCode||"40"===e.keyCode?t.prev():"38"!==e.keyCode&&"39"!==e.keyCode||t.next()})},o.prototype.start=function(){void 0!==this._current_step_index&&this.stop(),this.showStep(0)},o.prototype.showStep=function(t){var e=this._steps[t];e&&(e.show(),this._current_step_index=t,this.options.firstIsIntroduction?t&&this.$tooltip.$counter.text($.t("__index__ of __steps__",{index:t,steps:this._steps.length-1})):this.$tooltip.$counter.text($.t("__index__ of __steps__",{index:t+1,steps:this._steps.length})))},o.prototype.hideCurrentStep=function(){this._steps[this._current_step_index].hide()},o.prototype.stop=function(){this.hideCurrentStep(),this._current_step_index=0,TVSettings.setValue("notShowMainWizard",!0)},o.prototype.next=function(){var t=this._current_step_index+1;t<this._steps.length&&this.showStep(t)},o.prototype.prev=function(){var t=this._current_step_index-1;t>=0&&this.showStep(t)},o.prototype.Step=function(t,e,i){if(this.wizard=t,this.index=i,this.target=e.target,this.description=e.description,this.position=e.position||"bc",this.triangleTooltipIndent=e.triangleTooltipIndent||t.options.triangleTooltipIndent,this.triangleElementIndent=e.triangleElementIndent||t.options.triangleElementIndent,this.elPadding=e.elPadding||t.options.elPadding,this.tooltipWidth=e.tooltipWidth||t.options.tooltipWidth,this.tooltipHeight=e.tooltipHeight||t.options.tooltipHeight,this.animationSpeed=e.animationSpeed||t.options.animationSpeed,!this.description)throw Error("No description for step #"+i);e.initialize&&(this.initialize=e.initialize.bind(this)),e.beforeShow&&(this.beforeShow=e.beforeShow.bind(this)),e.afterShow&&(this.afterShow=e.afterShow.bind(this))},o.prototype.Step.prototype.hide=function(){this.wizard.$tooltip.fadeOut(this.animationSpeed),this.wizard.$tooltip.$triangle.fadeOut(this.animationSpeed)},o.prototype.Step.prototype.show=function(){this._initialized||(this.initialize&&this.initialize(),this._initialized=!0),this.beforeShow&&this.beforeShow(),this.showSoftly()},o.prototype.Step.prototype.showSoftly=function(t){var e=this,i=this.wizard.$tooltip,o=i.add(i.$triangle),n=o.filter(":visible"),r=function(){e.prepareElements();var t=e.calculatePositions();t.triangle&&(i.$triangle.css({top:t.triangle.top,left:t.triangle.left}),i.$triangle.fadeIn(e.animationSpeed)),i.css({top:t.tooltip.top,left:t.tooltip.left}),i.fadeIn(e.animationSpeed,null,function(){e.afterShow&&e.afterShow.bind(e)})};n.length?n.fadeOut(e.animationSpeed,null,r):r()},o.prototype.Step.prototype.prepareElements=function(){this.wizard.$tooltip.$description.html(this.description),this.wizard.$tooltip.css({width:this.tooltipWidth>$(document).width()-20?$(document).width()-20:this.tooltipWidth,
height:this.tooltipHeight>$(document).height()-20?$(document).height()-20:this.tooltipHeight}),this.wizard.$tooltip.toggleClass("first",0===this.index),this.wizard.$tooltip.toggleClass("last",!this.wizard._steps[this.index+1]),this.wizard.options.firstIsIntroduction&&0===this.index?this.wizard.$tooltip.addClass("introduction"):this.wizard.$tooltip.removeClass("introduction")},o.prototype.Step.prototype.calculatePositions=function(){function t(t,e){if("top"===t)e<10?e=10:e+h.h()>$(document).height()-10&&(e=$(document).height()-10-h.h()),h.t=e;else{if("left"!==t)throw Error("Wrong position in setTooltipPosition, 'left' and 'top' are allowed");e<10?e=10:e+h.w()>$(document).width()-10&&(e=$(document).width()-10-h.w()),h.l=e}}var e,i,o,n,r,s,a,l,c=this.wizard,h={t:0,l:0,h:function(){return c.$tooltip.outerHeight()},w:function(){return c.$tooltip.outerWidth()}},d="function"==typeof this.target?$(this.target()):$(this.target);if(h.w()>$(document).width()-20&&this.wizard.$tooltip.width($(document).width()-20),h.h()>$(document).height()-20&&this.wizard.$tooltip.height($(document).height()-20),d&&d instanceof $&&d.size())for(;!d.is(":visible");){if(d.is(document.body)||d.is(document.documentElement)){d=null;break}d=d.parent()}else d=null;if(d)if(o=d.offset(),n={w:d.outerWidth(),h:d.outerHeight(),t:o.top,b:o.top+d.outerHeight(),l:o.left,r:o.left+d.outerWidth()},r={t:0,l:0,direction:"",h:function(){return c.$tooltip.$triangle.outerHeight()},w:function(){return c.$tooltip.$triangle.outerWidth()},padding:this.elPadding},s="down up right left",a=this.triangleTooltipIndent,l=this.triangleElementIndent,e={},c.$tooltip.$triangle.removeClass(s),"string"==typeof this.position){switch(this.position.charAt(0)){case"t":c.$tooltip.$triangle.addClass("down"),t("top",n.t-r.padding-h.h()-r.h()),r.t=n.t-r.padding-r.h();break;case"b":c.$tooltip.$triangle.addClass("up"),t("top",n.b+r.padding+r.h()),r.t=n.b+r.padding;break;case"l":c.$tooltip.$triangle.addClass("right"),t("left",n.l-r.padding-h.w()-r.w()),r.l=n.l-r.padding-r.w();break;case"r":c.$tooltip.$triangle.addClass("left"),t("left",n.r+r.padding+r.w()),r.l=n.r+r.padding}switch(this.position.charAt(1)){case"l":r.l=n.l-r.w()/2+Math.min(l,n.w/2),t("left",n.l+Math.min(l,n.w/2)+r.w()/2+Math.min(a,h.w())-r.w());break;case"c":r.l=n.l+n.w/2-r.w()/2,t("left",n.l+n.w/2-h.w()/2);break;case"r":r.l=n.r-r.w()/2-Math.min(l,n.w/2),t("left",n.r-Math.min(l,n.w/2)-r.w()/2-Math.min(a,h.w()-r.w()));break;case"t":r.t=n.t+Math.min(l,n.h/2),t("top",r.t-Math.min(a,h.h()-r.h()));break;case"m":t("top",n.t+n.h/2-h.h()/2),r.t=n.t+n.h/2-r.h()/2;break;case"b":t("top",n.b-Math.min(l,n.h/2)-r.h()/2+Math.min(a,h.h()-r.h())),r.t=n.b-Math.min(l,n.h/2)}e={tooltip:{top:h.t,left:h.l<10?10:h.l},triangle:{top:r.t,left:r.l}}}else c.$tooltip.$triangle.addClass(this.position.triangle.direction),e=this.position;else this.position&&this.position.tooltip&&this.position.tooltip.top&&this.position.tooltip.left?e=this.position:(i=$(".layout__area--center"),i.length||(i=$(window)),o=i.offset(),e={tooltip:{top:(i.height()-h.h())/2+o.top,
left:(i.width()-h.w())/2+o.left}});return e},t.exports=o},function(t,e){},function(t,e,i){"use strict";function o(t){this.options=t||{}}var n=i(922).createTabbedDialog,r=i(20).trackEvent,s=null;o.prototype.show=function(){var t,e,i,o;r("GUI","Shortcuts"),t=[],
e=$('<div class="main keyboard-help tv-dialog__section"><div class="columns"><div class="column"><h4>'+$.t("Chart")+'</h4><p><span class="descr">'+$.t("Open indicators")+'</span><span class="value"><kbd>/</kbd></span></p><p><span class="descr">'+$.t("Open load Chart")+'</span><span class="value"><kbd>.</kbd></span></p><p><span class="descr">'+$.t("Change symbol")+'</span><span class="value">'+$.t("<kbd>Symbol</kbd>")+'</span></p><p><span class="descr">'+$.t("Change interval. Type in a digit for minute charts, or first letter of the word for longer resolutions e.g. 1, 5, 30, 60, 1440, H, 2H, 6H, D, 5D, 3W, 6M.")+'</span><span class="value">'+$.t("<kbd>Number</kbd>&nbsp;or&nbsp;<kbd>,</kbd>")+'</span></p><p><span class="descr">'+$.t("Move chart 1 bar to the left")+'</span><span class="value"><kbd>&larr;</kbd></span></p><p><span class="descr">'+$.t("Move chart 1 bar to the right")+'</span><span class="value"><kbd>&rarr;</kbd></span></p><p><span class="descr">'+$.t("Move further to the left")+'</span><span class="value"><kbd>Ctrl / &#8997;</kbd>&nbsp;+&nbsp;<kbd>&larr;</kbd></span></p><p><span class="descr">'+$.t("Move further to the right")+'</span><span class="value"><kbd>Ctrl / &#8997;</kbd>&nbsp;+&nbsp;<kbd>&rarr;</kbd></span></p><p><span class="descr">'+$.t("Undo")+'</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<kbd>z</kbd></span></p><p><span class="descr">'+$.t("Redo")+'</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<kbd>y</kbd></span></p><p><span class="descr">'+$.t("Partially erase")+'</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<kbd>'+$.t("Eraser")+'</kbd></span></p><p><span class="descr">'+$.t("Gann Box fixed increments")+'</span><span class="value">'+$.t("<code>Hold</code>&nbsp;<kbd>Shift</kbd>")+'</span></p><p><span class="descr">'+$.t("Measure tool")+'</span><span class="value">'+$.t("<code>Hold</code>&nbsp;<kbd>Shift</kbd>&nbsp; + Click")+'</span></p><p><span class="descr">'+$.t("Copy selected object")+'</span><span class="value"><kbd>Ctrl</kbd>&nbsp+&nbsp;<kbd>c</kbd></span></p><p><span class="descr">'+$.t("Paste object")+'</span><span class="value"><kbd>Ctrl</kbd>&nbsp+&nbsp;<kbd>v</kbd></span></p><p><span class="descr">'+$.t("Switching between charts in multi-charts layout")+'</span><span class="value"><kbd>Tab</kbd></span></p><p><span class="descr">'+$.t("Toggle maximize pane")+'</span><span class="value"><kbd>'+$.t("DoubleClick")+'</kbd></span></p></div><div class="column"><h4>&nbsp;</h4><p><span class="descr">'+$.t("Clone a drawing tool")+'</span><span class="value"><kbd>Ctrl</kbd>&nbsp;+&nbsp;<code>'+$.t("drag")+'</code></span></p><p><span class="descr">'+$.t("Add alert")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>a</kbd></span></p><p><span class="descr">'+$.t("Go to date")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>g</kbd></span></p><p><span class="descr">'+$.t("Insert horizontal line")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>h</kbd></span></p><p><span class="descr">'+$.t("Add text note for symbol")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>n</kbd></span></p><p><span class="descr">'+$.t("Take snapshot")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>s</kbd></span></p><p><span class="descr">'+$.t("Reset chart")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>r</kbd></span></p><p><span class="descr">'+$.t("Insert vertical line")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>v</kbd></span></p><p><span class="descr">'+$.t("Add symbol to watchlist")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>w</kbd></span></p><p><span class="descr">'+$.t("Open Publish Idea dialog")+'</span><span class="value"><kbd>Alt</kbd>&nbsp+&nbsp;<kbd>p</kbd></span></p><p><span class="descr">'+$.t("Close Publish Idea dialog")+'</span><span class="value"><kbd>Esc</kbd></span></p><p><span class="descr">'+$.t("Square")+'</span><span class="value"><code>Rectangle</code>&nbsp;+&nbsp;<kbd>Shift</kbd></span></p><p><span class="descr">'+$.t("Circle")+'</span><span class="value"><code>Ellipse</code>&nbsp;+&nbsp;<kbd>Shift</kbd></span></p><p><span class="descr">'+$.t("45 degrees angle or horizontal")+'</span><span class="value">'+$.t("<code>Trend Line or Channel +</code>&nbsp;<kbd>Shift</kbd>")+"</span></p><h4>"+$.t("Watchlist & Screener")+'</h4><p><span class="descr">'+$.t("Next symbol")+'</span><span class="value"><kbd>&darr;</kbd>,&nbsp;<kbd>Space</kbd></span></p><p><span class="descr">'+$.t("Previous symbol")+'</span><span class="value"><kbd>&uarr;</kbd>,&nbsp;<kbd>Shift</kbd> + <kbd>Space</kbd></span></p><h4>'+$.t("Trading")+'</h4><p><span class="descr">'+$.t("Place market order to buy")+'</span><span class="value"><kbd>Shift</kbd>&nbsp+&nbsp;<kbd>b</kbd></span></p><p><span class="descr">'+$.t("Place market order to sell")+'</span><span class="value"><kbd>Shift</kbd>&nbsp+&nbsp;<kbd>s</kbd></span></p></div></div></div>'),
t.push({name:$.t("Chart"),page:e
}),i=$('<div class="main keyboard-help tv-dialog__section"><div class="columns"><div class="column"><h4>'+$.t("Script")+'</h4><p><span class="descr">'+$.t("New script")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>i</kbd></span></p><p><span class="descr">'+$.t("Save script")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>s</kbd></span></p><p><span class="descr">'+$.t("Open script")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>o</kbd></span></p><p><span class="descr">'+$.t("Delete script")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>e</kbd></span></p><p><span class="descr">'+$.t("Add script to chart")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>Enter</kbd></span></p><p><span class="descr">'+$.t("Open pine script reference")+'</span><span class="value"><kbd>Ctrl / </kbd> + Click</span></p><p><span class="descr">'+$.t("Toggle console")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>`</kbd></span></p><h4>'+$.t("Go to")+'</h4><p><span class="descr">'+$.t("Go to word left")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd></kbd></span></p><p><span class="descr">'+$.t("Go to word right")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd></kbd></span></p><p><span class="descr">'+$.t("Go to line start")+'</span><span class="value"><kbd>Home</kbd></span></p><p><span class="descr">'+$.t("Go to line end")+'</span><span class="value"><kbd>End</kbd></span></p><p><span class="descr">'+$.t("Go to start")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>Home</kbd></span></p><p><span class="descr">'+$.t("Go to end")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>End</kbd></span></p></div><div class="column"><h4>'+$.t("Line Operations")+'</h4><p><span class="descr">'+$.t("Remove line")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>d</kbd></span></p><p><span class="descr">'+$.t("Copy lines up")+'</span><span class="value"><kbd>Alt</kbd> + <kbd>Shift / </kbd> + <kbd></kbd></span></p><p><span class="descr">'+$.t("Copy lines down")+'</span><span class="value"><kbd>Alt</kbd> + <kbd>Shift / </kbd> + <kbd></kbd></span></p><p><span class="descr">'+$.t("Move lines up")+'</span><span class="value"><kbd>Alt</kbd> + <kbd></kbd></span></p><p><span class="descr">'+$.t("Move lines down")+'</span><span class="value"><kbd>Alt</kbd> + <kbd></kbd></span></p><p><span class="descr">'+$.t("Remove to line end")+'</span><span class="value"><kbd>Alt</kbd> + <kbd>Delete</kbd> / <kbd>Ctrl</kbd> + <kbd>k</kbd></span></p><p><span class="descr">'+$.t("Remove to line start")+'</span><span class="value"><kbd>Alt / </kbd> + <kbd>Backspace</kbd></span></p><p><span class="descr">'+$.t("Remove word left")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>Backspace</kbd></span></p><p><span class="descr">'+$.t("Remove word right")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>Delete</kbd></span></p><p><span class="descr">'+$.t("Autocomplete")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>Space</kbd></span></p><h4>'+$.t("Selection")+'</h4><p><span class="descr">'+$.t("Select all")+'</span><span class="value"><kbd>Ctrl / </kbd> + <kbd>a</kbd></span></p><p><span class="descr">'+$.t("Select line start")+'</span><span class="value"><kbd>Shift</kbd> + <kbd>Home</kbd></span></p><p><span class="descr">'+$.t("Select line end")+'</span><span class="value"><kbd>Shift</kbd> + <kbd>End</kbd></span></p><p><span class="descr">'+$.t("Select up")+'</span><span class="value"><kbd>Shift</kbd> + <kbd></kbd></span></p><p><span class="descr">'+$.t("Select down")+'</span><span class="value"><kbd>Shift</kbd> + <kbd></kbd></span></p></div></div></div>'),
t.push({name:$.t("Pine Editor"),page:i}),o=n({tabs:t,width:800,activeTab:this.options.activeTab,destroyOnClose:!0,withScroll:!1,contentAddClass:"js-dialog__scroll-wrap",isClickOutFn:function(t){if($(t.target).parents().andSelf().is("._tv-dialog, .properties-toolbar, .colorpicker, .charts-popup-list, ._tv-dialog, .tvcolorpicker-popup, .symbol-edit-popup, .context-menu"))return!1}}),o.tabs.tabChanged.subscribe(null,function(t){o.tabs.checkScrollArrows(!0)}),o.dialog.on("beforeClose",function(){s=null}),s&&s.close(),s=o.dialog,o.dialog.open()},t.exports.ShortcutsDialog=o},function(t,e){}]);