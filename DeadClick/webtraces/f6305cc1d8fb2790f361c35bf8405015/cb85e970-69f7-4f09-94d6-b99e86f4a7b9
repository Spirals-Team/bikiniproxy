var _newsroom = _newsroom || [];window._newsroom.push({"publisher": "hearstlocalnews-sfgatecom"});window._newsroom.push({"defineRegionMap": {"pageTemplates":{"home":{"regions":{"zoneP":{"regionRoot":{"css":"[data-tb-shadow-region=zoneP]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":".breaking-item a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneA":{"regionRoot":{"css":"[data-tb-shadow-region=zoneA]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":".breaking-item a,h5 a,.centerpiece-item a,.related a,h4 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneQ":{"regionRoot":{"css":"[data-tb-shadow-region=zoneQ]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":".centerpiece-item a,.related a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneR":{"regionRoot":{"css":"[data-tb-shadow-region=zoneR]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a,h5 a,.related a,.centerpiece-item a"},"itemThumb":{"css":"img","attr-override":"srcset"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneS":{"regionRoot":{"css":"[data-tb-shadow-region=zoneS]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneT":{"regionRoot":{"css":"[data-tb-shadow-region=zoneT]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneU":{"regionRoot":{"css":"[data-tb-shadow-region=zoneU]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a,h5 a,.related a,.centerpiece-item a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneC":{"regionRoot":{"css":"[data-tb-shadow-region=zoneC]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a,h5 a,.related a,.centerpiece-item a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneD":{"regionRoot":{"css":"[data-tb-shadow-region=zoneD]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneE":{"regionRoot":{"css":"[data-tb-shadow-region=zoneE]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneF":{"regionRoot":{"css":"[data-tb-shadow-region=zoneF]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneG":{"regionRoot":{"css":"[data-tb-shadow-region=zoneG]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneH":{"regionRoot":{"css":"[data-tb-shadow-region=zoneH]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneI":{"regionRoot":{"css":"[data-tb-shadow-region=zoneI]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneJ":{"regionRoot":{"css":"[data-tb-shadow-region=zoneJ]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneK":{"regionRoot":{"css":"[data-tb-shadow-region=zoneK]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneL":{"regionRoot":{"css":"[data-tb-shadow-region=zoneL]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneM":{"regionRoot":{"css":"[data-tb-shadow-region=zoneM]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneN":{"regionRoot":{"css":"[data-tb-shadow-region=zoneN]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null},"zoneO":{"regionRoot":{"css":"[data-tb-shadow-region=zoneO]"},"displayName":null,"showInDashboard":true,"items":[{"itemRoot":[{"css":"[data-tb-region-item]"}],"itemTitle":{"css":"h4 a,h3 a"},"itemThumb":{"css":"img"},"itemLink":{"css":"a"}}],"ignoredClickAreas":null}}}}}});/*! 292.230-RELEASE 2018-01-31 */
!function(a,b,c){"use strict";var d,e={},f=function(){var a;for(a in e)e.hasOwnProperty(a)&&e[a].selfRequired&&g(a)},g=function(d){var f,h=e[d];if(h){if(!h.loaded){if(h.dependencies)for(f=0;f<h.dependencies.length;f++)g(h.dependencies[f]);h.func.call(null,a,b,c),h.loaded=!0}}else a.console&&a.console.log&&console.log("module '"+d+"' was not found")},h=function(){if(d&&clearTimeout(d),!h.wasCalled){if(h.wasCalled=!0,!e.app)return void(a.console&&a.console.log&&console.log("module 'app' was not found"));f(),g("app")}};a.newsroomStartsLoadingTime=(new Date).getTime(),a.tbNewsroom={define:function(a,b,c,f){"function"==typeof b&&(f=c,c=b,b=null),e[a]={dependencies:b,func:c,selfRequired:f},d&&clearTimeout(d),d=setTimeout(h,50)},app:function(){b.getElementsByClassName&&h()},require:function(a,b){g(a),b&&b()},$:c}}(window,document,{GLOBAL_LAND_OBJECT_NAME:"_newsroom",NEWSROOM_URL:"//nr.taboola.com/newsroom/1.0/{publisherId}/{methodName}?{queryString}",COMSCORE_URL:("https:"===document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",QUEUE_PROCESS_INTERVAL:20,REGION_DATA_MARKER:"data-tb-shadow-region",REGION_ITEM_DATA_MARKER:"data-tb-shadow-region-item",REGION_LINK_DATA_MARKER:"data-tb-shadow-region-link",REGION_TITLE_DATA_MARKER:"data-tb-shadow-region-title",REGION_IMAGE_DATA_MARKER:"data-tb-shadow-region-image",DATA_IGNORE_CLICKS_MARKER:"data-tb-shadow-ignore-clicks",DATA_ATTR_OVERRIDE_LINK:"data-tb-shadow-attr-override-link",DATA_ATTR_OVERRIDE_TITLE:"data-tb-shadow-attr-override-title",DATA_ATTR_OVERRIDE_IMAGE:"data-tb-shadow-attr-override-image",DATA_STYLE_OVERRIDE_LINK:"data-tb-shadow-style-override-link",DATA_STYLE_OVERRIDE_TITLE:"data-tb-shadow-style-override-title",DATA_STYLE_OVERRIDE_IMAGE:"data-tb-shadow-style-override-image",REGION_FORMAL_DATA_MARKER:"data-tb-region",REGION_FORMAL_ITEM_DATA_MARKER:"data-tb-region-item",REGION_FORMAL_LINK_DATA_MARKER:"data-tb-region-item-link",REGION_FORMAL_TITLE_DATA_MARKER:"data-tb-region-item-title",REGION_FORMAL_IMAGE_DATA_MARKER:"data-tb-region-item-image",REGION_REPLACED_DATA_MARKER:"data-tb-replaced",DATA_FORMAL_IGNORE_CLICKS_MARKER:"data-tb-ignore-clicks",DATA_FORMAL_ATTR_OVERRIDE_LINK:"data-tb-attr-override-link",DATA_FORMAL_ATTR_OVERRIDE_TITLE:"data-tb-attr-override-title",DATA_FORMAL_ATTR_OVERRIDE_IMAGE:"data-tb-attr-override-image",DATA_FORMAL_STYLE_OVERRIDE_LINK:"data-tb-style-override-link",DATA_FORMAL_STYLE_OVERRIDE_TITLE:"data-tb-style-override-title",DATA_FORMAL_STYLE_OVERRIDE_IMAGE:"data-tb-style-override-image",REGION_SCAN_DATA_MARKER:"data-tb-scan",NODE_ID_DATA_MARKER:"data-tb-node-id",CLICK_COOKIE_NAME:"_tb_click_param",CLICK_COOKIE_TTL:50,TEST_RETRY_INTERVAL:50,MAX_TEST_RETRY:500,MAX_REPLACE_RETRY:50,REPLACE_RETRY_INTERVAL:50,ERROR_REPORT_SAMPLE:100,SCRIPT_FILE_NAME:"nyhetsrummet.js",OWNING_REGION:"data-tb-owning-region-name",OWNING_REGION_INDEX:"data-tb-owning-region-index",REGION_BACKGROUND:"#FCF0B1",REGION_BORDER:"#FFD700",ITEM_BACKGROUND:"#F5C776",ITEM_BORDER:"#FFA300",LINK_COLOR:"#F79772",IMAGE_COLOR:"#CA6406",TITLE_COLOR:"#C58615",REPLACED_COLOR:"#89D5FF",ATTRIBUTE_PUBLISHER_ID:"publisher",ATTRIBUTE_USER_ID:"userId",ATTRIBUTE_CRAWL_DELAY:"crawlDelay",ATTRIBUTE_PAGE_TRACK:"trackPage",ATTRIBUTE_PAGE_CRAWL:"crawlPage",ATTRIBUTE_INVOKE_FUNCTION:"invokeFunction",ATTRIBUTE_KILL:"kill",ATTRIBUTE_SEND_COOKIE:"sendCookie",ATTRIBUTE_SET_COOKIE_TTL:"setCookieTtl",ATTRIBUTE_SET_RIGHT_REDIRECT:"redirectOnRightClick",ATTRIBUTE_SEND_MESSAGE:"sendMessage",ATTRIBUTE_POST_MESSAGE:"postMessage",ATTRIBUTE_REORDER:"reorder",ATTRIBUTE_SET_DEBUG_LEVEL:"debug",ATTRIBUTE_SHOW_REGIONS:"showRegions",ATTRIBUTE_PERFORM_TEST:"performTest",ATTRIBUTE_COMSCORE:"sendComscore",ATTRIBUTE_GET_ACTION:"getAction",ATTRIBUTE_MARK_REGION:"markRegions",ATTRIBUTE_RANK_PAGE:"rankPage",ATTRIBUTE_NEWSROOM_URL:"newsroomUrl",ATTRIBUTE_DESIGNER_URL:"designerUrl",ATTRIBUTE_DESIGNER:"designer",ATTRIBUTE_PAGE_TEMPLATE:"pageTemplate",ATTRIBUTE_PAGE_DASHBOARD:"pageDashboard",ATTRIBUTE_AUDIT_CLICKS:"auditClicks",ATTRIBUTE_REGION_MAP:"defineRegionMap",ATTRIBUTE_EVENT_BEFORE_TRACK:"onBeforeTrackPage",ATTRIBUTE_EVENT_AFTER_TRACK:"onAfterTrackPage",ATTRIBUTE_EVENT_BEFORE_CRAWL:"onBeforeCrawl",ATTRIBUTE_EVENT_AFTER_CRAWL:"onAfterCrawl",TARGET_TYPES:{LINK_URL:"linkUrl",TITLE:"title",THUMB_URL:"thumbUrl"},RESPONSE_TYPE:{URL:"url",REDIRECT:"redir",NO_CONTENT:"nocontent"},NOTIFY_TYPES:{NAME:"notify.type",VALUES:{PING:"ping",REDIRECT:"redirect-url",LANDING_PAGE:"landing-page"}},NOTIFY_METHODS:{CLICK:"notify-click"}}),tbNewsroom.define("ab-test",["utils","dom","regions","timers","debug"],function(a,b,c){"use strict";function d(a,b){c.one(a,"DOMNodeInserted",c.setTimeout(b,10))}function e(a,b){return a.length>=b.length}function f(a){return g(h(o(a))).toLowerCase()}function g(a){return a.replace(/\s/g,"")}function h(a){return a.replace(p," ")}function i(a,b,e,f){return b?b===e?void c.debug("searchSrc: '{searchSrc}', replaceSrc is identical".supplant({searchSrc:b})):(f=f||0,j(a,b,e)||k(a,b,e)?void c.debug("image '{searchSrc}' was replaced with '{replaceSrc}'.".supplant({replaceSrc:e,searchSrc:b})):void(f<c.MAX_REPLACE_RETRY?c.setTimeout(function(){i(a,b,e,f+1)},c.REPLACE_RETRY_INTERVAL):d(a,function(){i(a,b,e)}))):void c.warn("searchSrc: '{searchSrc}', replaceSrc is empty".supplant({searchSrc:b}))}function j(a,b,d){var e,f,g,h,i=c.makeArray(c.querySelectorAll(a,"img"));for(e=0;f=i[e];e++)if(g=f.getAttribute(c.DATA_ATTR_OVERRIDE_IMAGE),h=g&&c.getAttrOverrideValue(f,g),b===f.src||b===h)return f.setAttribute(c.REGION_REPLACED_DATA_MARKER,h||f.src),f.src=d,g&&n(f,g,d),!0;return!1}function k(a,b,d){var e,f,g,h,i,j,k=c.select(a,{css:"["+c.DATA_STYLE_OVERRIDE_IMAGE+"]"},!0);for(e=0;f=k[e];e++)if(g=f.getAttribute(c.DATA_STYLE_OVERRIDE_IMAGE),h=c.cleanStyleValue(c.getComputedStyle(f).getPropertyValue(g)),i=f.getAttribute(c.DATA_ATTR_OVERRIDE_IMAGE),j=i&&c.getAttrOverrideValue(f,i),h===b||b===j)return f.style[c.getCssName(g)]=f.style[g]=-1!==g.indexOf("background")?"url("+d+")":d,f.setAttribute(c.REGION_REPLACED_DATA_MARKER,j||h),i&&n(f,i,d),!0;return!1}function l(a,b,d,g,h,i){if(!a)return!1;var j=a.textContent||a.innerHTML;return e(j,d)&&f(j)===g?(a.setAttribute(c.REGION_REPLACED_DATA_MARKER,b.textContent||b.innerText),a.innerHTML=h,c.debug(i+" text '{searchText}' was replaced with '{newText}'.".supplant({newText:h,searchText:d})),!0):!1}function m(a,b,e,g){if(!e)return void c.warn("searchText: '{searchText}', newText is empty".supplant({searchText:b}));b===e&&c.debug("searchText: '{searchText}', newText is identical".supplant({searchText:b}));var h,i,j,k,n,o,p,q=c.makeArray(c.querySelectorAll(a,"a")),r=f(b);for("A"===a.tagName.toUpperCase()&&q.unshift(a),g=g||0,o=c.makeArray(c.querySelectorAll(a,"["+c.REGION_TITLE_DATA_MARKER+"]")),h=0;p=o[h];h++)if(l(p,p,b,r,e,"title node"))return;for(h=0;i=q[h];h++)if(l(i,i,b,r,e,"link"))return;for(h=0;i=q[h];h++)for(n=i.getElementsByTagName("*"),j=0;k=n[j];j++)if(l(k,i,b,r,e,"partial"))return;g<c.MAX_REPLACE_RETRY?c.setTimeout(function(){m(a,b,e,g+1)},c.REPLACE_RETRY_INTERVAL):d(a,function(){m(a,b,e)})}function n(a,b,d){var e,f,g=JSON.parse(b);g&&g.name&&(g.key?(e=JSON.parse(a.getAttribute(g.name)),c.setObjNestedProp(e,g.key,d),f=JSON.stringify(e)):f=d,a.setAttribute(g.name,f))}var o,p=/<[^>]+>/g;c.performTest=function(a,b,d){var e;return c.isArray(a)?void c.forEach(a,function(a){c.performTest(a)}):(c.markRegions(),d=d||c.duration(),b=b||0,e=c.querySelector("["+c.REGION_DATA_MARKER+"='"+CSS.escape(a.region)+"']"),void(e?(c.debug("Region {region} was found after {duration} ms. {count} tries left.".supplant({region:a.region,duration:c.duration()-d,count:c.MAX_TEST_RETRY-b})),"text"===a.searchType?m(e,a.match,a.replace):"image-source"===a.searchType&&i(e,a.match,a.replace)):b<=c.MAX_TEST_RETRY&&(c.setTimeout(function(){c.performTest(a,b,d)},c.TEST_RETRY_INTERVAL),c.debug("Region {region} was not found after {duration} ms. {count} tries left.".supplant({region:a.region,duration:c.duration()-d,count:c.MAX_TEST_RETRY-b})),b+=1)))},o=function(){var a=b.createElement("div");return function(b){return b&&"string"==typeof b?(a.innerHTML=encodeURI(b),b=a.textContent||a.innerText,a.innerHTML="",decodeURI(b)):void 0}}()}),tbNewsroom.define("app",["dom","transport","crawler","utils","user","auto-pilot","document","designer","dom-ready","debug","click-audit","message-queue","ab-test","regions","scroll-depth"],function(a,b,c){"use strict";function d(){return c.getPageTemplate()&&c.getPageDashboard()}function e(a){"function"==typeof a&&a(c)}function f(a){d()&&c.ready(function(){c.debug("crawlPage",a),c.crawlPage(a)})}function g(a){d()&&(c.setRegionMap(a),c.ready(function(){c.debug("defineRegionMap",a),c.markRegions()}))}function h(){d()&&c.transport.getAction()}function i(a){c.setDesignerToken(a),c.loadDesigner()}function j(a){d()&&c.reorderItems(a)}function k(){var a=c.getStoredValue(c.CLICK_COOKIE_NAME);a&&"-10"!=a&&(c.deleteStoredValue(c.CLICK_COOKIE_NAME),c.transport.sendMessage({methodName:"notify-click",queryString:a}))}function l(a){c.debug("showRegions",a),d()&&a&&c.createStyleSheet("[{REGION_DATA_MARKER}]{background: {REGION_BACKGROUND}!important;box-shadow: {REGION_BORDER} 0 0 0 6px!important;}[{REGION_ITEM_DATA_MARKER}]{background: {ITEM_BACKGROUND}!important;box-shadow: inset {ITEM_BORDER} 0 0 0 6px!important;}[{REGION_LINK_DATA_MARKER}]{background: {LINK_COLOR}!important;color:#333!important}[{REGION_LINK_DATA_MARKER}] * {background: {LINK_COLOR}!important;color:#333!important;}[{REGION_IMAGE_DATA_MARKER}]{border: 4px {IMAGE_COLOR} solid!important;box-sizing: border-box;!important}[{REGION_TITLE_DATA_MARKER}]{background: {TITLE_COLOR}!important;background-size: 10px 100px!important;}[{REGION_REPLACED_DATA_MARKER}]{background: {REPLACED_COLOR}!important;}".supplant(c))}function m(a){c.debug("trackPage",a),d()&&c.evalBeforeEvents(c.getEventsBeforeTrack())&&(c.sendMessage({pageUrl:"string"===c["typeof"](a)?c.createAbsoluteUrl(a):c.getPageUrl(),methodName:"notify-impression"}),c.evalAfterEvents(c.getEventsAfterTrack()))}function n(a){d()&&(a?c.startAuditClicks():c.stopAuditClicks())}var o=function(){var b={},d=c.getInternetExplorerVersion(),e=c.getStoredValue(c.CLICK_COOKIE_NAME);c.on(a,"error",c.winErrorHandler),d&&8>d&&(b[c.ATTRIBUTE_KILL]=!0),c.getPageAutoAudit()&&(b[c.ATTRIBUTE_AUDIT_CLICKS]=!0),e&&"-10"!=e&&(b[c.ATTRIBUTE_SEND_COOKIE]=e),b[c.ATTRIBUTE_GET_ACTION]=!0,c.getQueue().unshift(b),c.statQueue()};c.addCommands([{key:c.ATTRIBUTE_KILL,priority:0,handler:c.kill},{key:c.ATTRIBUTE_INVOKE_FUNCTION,priority:1,handler:e},{key:c.ATTRIBUTE_PUBLISHER_ID,priority:1,handler:c.setPublisherId},{key:c.ATTRIBUTE_USER_ID,priority:1,handler:c.setUserId},{key:c.ATTRIBUTE_SET_DEBUG_LEVEL,priority:1,handler:c.setDebugLevel},{key:c.ATTRIBUTE_NEWSROOM_URL,priority:1,handler:c.setNewsroomUrl},{key:c.ATTRIBUTE_DESIGNER_URL,priority:1,handler:c.setDesignerUrl},{key:c.ATTRIBUTE_CRAWL_DELAY,priority:1,handler:c.setCrawlDelay},{key:c.ATTRIBUTE_PAGE_TEMPLATE,priority:1,handler:c.setPageTemplate},{key:c.ATTRIBUTE_PAGE_DASHBOARD,priority:1,handler:c.setPageDashboard},{key:c.ATTRIBUTE_SET_COOKIE_TTL,priority:1,handler:c.setCookieTtl},{key:c.ATTRIBUTE_EVENT_BEFORE_TRACK,priority:1,handler:c.addEventBeforeTrack},{key:c.ATTRIBUTE_EVENT_AFTER_TRACK,priority:1,handler:c.addEventAfterTrack},{key:c.ATTRIBUTE_EVENT_BEFORE_CRAWL,priority:1,handler:c.addEventBeforeCrawl},{key:c.ATTRIBUTE_EVENT_AFTER_CRAWL,priority:1,handler:c.addEventAfterCrawl},{key:c.ATTRIBUTE_SET_RIGHT_REDIRECT,priority:1,handler:c.setAllowRightClickRedirect},{key:c.ATTRIBUTE_COMSCORE,priority:1,handler:c.injectComScore},{key:c.ATTRIBUTE_PERFORM_TEST,priority:2,allowMultiple:!0},{key:c.ATTRIBUTE_REORDER,priority:2,allowMultiple:!0},{key:c.ATTRIBUTE_GET_ACTION,priority:2},{key:c.ATTRIBUTE_SEND_MESSAGE,priority:2,allowMultiple:!0},{key:c.ATTRIBUTE_MARK_REGION,priority:2},{key:c.ATTRIBUTE_POST_MESSAGE,priority:2},{key:c.ATTRIBUTE_DESIGNER,priority:2},{key:c.ATTRIBUTE_PAGE_TRACK,priority:2},{key:c.ATTRIBUTE_AUDIT_CLICKS,priority:2},{key:c.ATTRIBUTE_REGION_MAP,priority:2},{key:c.ATTRIBUTE_SHOW_REGIONS,priority:3},{key:c.ATTRIBUTE_SEND_COOKIE,priority:3},{key:c.ATTRIBUTE_PAGE_CRAWL,priority:4},{key:c.ATTRIBUTE_RANK_PAGE,priority:4}]),c.onMessage=function(a,b){switch(c.info("onMessage",a,b),a){case c.ATTRIBUTE_PAGE_TRACK:m(b);break;case c.ATTRIBUTE_PAGE_CRAWL:f(b);break;case c.ATTRIBUTE_REGION_MAP:g(b);break;case c.ATTRIBUTE_REORDER:j(b);break;case c.ATTRIBUTE_SHOW_REGIONS:l(b);break;case c.ATTRIBUTE_AUDIT_CLICKS:n(b);break;case c.ATTRIBUTE_SEND_COOKIE:k(b);break;case c.ATTRIBUTE_SEND_MESSAGE:c.transport.sendMessage(b);break;case c.ATTRIBUTE_POST_MESSAGE:c.transport.postMessage(b);break;case c.ATTRIBUTE_GET_ACTION:h();break;case c.ATTRIBUTE_PERFORM_TEST:c.performTest(b);break;case c.ATTRIBUTE_DESIGNER:i(b);break;case c.ATTRIBUTE_MARK_REGION:c.markRegions()}},o()}),tbNewsroom.define("array",function(a,b,c){"use strict";var d,e=Array.prototype,f={every:e.every||function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;return!0},filter:e.filter||function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d},forEach:e.forEach||function(a,b){var c,d;if(null==this)throw new TypeError("this is null or not defined");var e=Object(this),f=e.length>>>0;if("[object Function]"!=={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;f>d;){var g;Object.prototype.hasOwnProperty.call(e,d)&&(g=e[d],a.call(c,g,d,e)),d++}},indexOf:e.indexOf||function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1},lastIndexOf:e.lastIndexOf||function(a){if(null==this)throw new TypeError;var b,c,d=Object(this),e=d.length>>>0;if(0===e)return-1;for(b=e,arguments.length>1&&(b=Number(arguments[1]),b!=b?b=0:0!=b&&b!=1/0&&b!=-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b)))),c=b>=0?Math.min(b,e-1):e-Math.abs(b);c>=0;c--)if(c in d&&d[c]===a)return c;return-1},map:e.map||function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=new Array(c),e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d},some:e.some||function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}};for(d in f)f.hasOwnProperty(d)&&(c[d]=function(a){return function(){var b=[].slice.call(arguments,1);return f[a].apply(arguments[0],b)}}(d));c.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.makeArray=function(a){var b,d=[];if(c.isArray(a))return a;for(b=0;b<a.length;b++)d.push(a[b]);return d}},!0),tbNewsroom.define("auto-pilot",["utils","dom","regions","timers","debug"],function(a,b,c){"use strict";function d(a,b){var c,d=a.getElementsByTagName("A");for(c=0;c<d.length;c++)if(d.item(c).href===b)return d.item(c)}function e(a){return c.querySelector("[data-tb-shadow-region='"+a+"']")}function f(a,g,h,i){var j,k,l=[],m="cssn2xHaM3jdae",n=function(a,c){var d=b.createElement(a);return d.className=m+" item"+c,d};if(c.markRegions(),i=i||c.duration(),h=h||0,j=e(a),j&&(c.forEach(g,function(a,b){var e=c.querySelector(j,"a[href='"+a+"']["+c.REGION_LINK_DATA_MARKER+"]")||c.querySelector(j,"a[href='"+a+"']")||d(j,a),f=e&&c.selectAncestor(e,"["+c.REGION_ITEM_DATA_MARKER+"]",!0);f&&l.push(f.parentNode.replaceChild(n(f.tagName,b),f))}),l.length))for(;l[0];)k=c.querySelector(j,"."+m),k.parentNode.replaceChild(l.shift(),k);else h<=c.MAX_TEST_RETRY&&(c.setTimeout(function(){f(a,g,h,i)},c.TEST_RETRY_INTERVAL),c.debug("Region {region} was not found after {duration} ms. {count} tries left.".supplant({region:a,duration:c.duration()-i,count:c.MAX_TEST_RETRY-h})),h+=1)}c.reorderItems=function(a){Object.keys(a).forEach(function(b){f(b,a[b])})}}),tbNewsroom.define("click-audit",["events","debug","dom","document","utils"],function(a,b,c){"use strict";function d(){return c.genGuid()}function e(a,b,d){var e,g,i,j=c.selectAncestor(d,"["+c.REGION_ITEM_DATA_MARKER+"]",!0);if(j&&(j.setAttribute("uniqueId","ID"+c.genGuid()),e=c.makeArray(c.querySelectorAll(c.isolateRegion(b.cloneNode(!0)),"["+c.REGION_ITEM_DATA_MARKER+"]")),c.matches(b,"["+c.REGION_ITEM_DATA_MARKER+"]")&&(e=e||[]).unshift(b)),e&&e.length)for(i=0;g=e[i];i++)if(g.getAttribute("uniqueId")&&g.getAttribute("uniqueId")===j.getAttribute("uniqueId")){a["click.region.index"]=i,a["item.url"]=h(g);break}return"undefined"==typeof a["click.region.index"]&&f(d,a),a}function f(a,b){var d=c.selectAncestor(a,"["+c.OWNING_REGION_INDEX+"]",!0);d&&(b["click.region.index"]=d.getAttribute(c.OWNING_REGION_INDEX),b["item.url"]=h(d))}function g(a){var d=c.selectAncestor(a,"["+c.OWNING_REGION+"]",!0),e=d&&d.getAttribute(c.OWNING_REGION);return e?c.querySelector(b,"["+c.REGION_DATA_MARKER+"='"+CSS.escape(e)+"']"):null}function h(a){var b=c.querySelector(a,"["+c.REGION_LINK_DATA_MARKER+"]");return!b&&c.matches(a,"["+c.REGION_LINK_DATA_MARKER+"]")&&(b=a),b?(b=c.selectAncestor(b,"a",!0),c.createAbsoluteUrl(b.href)):""}function i(a){var b,f,h,i=a.target||a.srcElement,j=c.selectAncestor(i,"a",!0);j&&j.href&&(c.markRegions(),b=c.selectAncestor(i,"["+c.DATA_IGNORE_CLICKS_MARKER+"]",!0),b||(f=c.selectAncestor(j,"["+c.REGION_DATA_MARKER+"]",!0),f||(f=g(j)),f&&(h=c.buildQuery(e({"view.id":c.getViewId(),"page.template":c.getPageTemplate(),"page.dashboard":c.getPageDashboard(),"page.url":c.getPageUrl(),"click.region.id":f.getAttribute(c.REGION_DATA_MARKER),"click.url":c.createAbsoluteUrl(j.href),"click.id":d()},f,j)),o&&k(a)?m(j,{queryString:h,methodName:c.NOTIFY_METHODS.CLICK}):l(j,{queryString:h,methodName:c.NOTIFY_METHODS.CLICK}),n(h+"&"+c.NOTIFY_TYPES.NAME+"="+c.NOTIFY_TYPES.VALUES.LANDING_PAGE)))),p=i}function j(a){p&&p===(a.target||a.srcElement)?p=null:c.deleteStoredValue(c.CLICK_COOKIE_NAME)}function k(a){var b=!1;return a.which?b=3===a.which:a.button&&(b=2===a.button),b}function l(a,b){a.setAttribute("ping",c.NEWSROOM_URL.supplant({publisherId:c.getPublisherId(),methodName:b.methodName,queryString:b.queryString+"&"+c.NOTIFY_TYPES.NAME+"="+c.NOTIFY_TYPES.VALUES.PING}))}function m(a,b){a.href=c.NEWSROOM_URL.supplant({publisherId:c.getPublisherId(),methodName:b.methodName,queryString:b.queryString+"&"+c.RESPONSE_TYPE.REDIRECT+"="+encodeURIComponent(a.href)+"&"+c.NOTIFY_TYPES.NAME+"="+c.NOTIFY_TYPES.VALUES.REDIRECT})}function n(a){c.setStoredValue(c.CLICK_COOKIE_NAME,a,c.getCookieTtl(),c.getPageDomain())}var o,p=null;c.getAllowRightClickRedirect=function(){return o},c.setAllowRightClickRedirect=function(a){o=!!a},c.startAuditClicks=function(){c.on(b,"mousedown",i),c.on(b,"mouseup",j),c.debug("clickAudit started...")},c.stopAuditClicks=function(){c.off(b,"mousedown",i),c.off(b,"mouseup",j),c.debug("clickAudit stoped...")}}),tbNewsroom.define("crawler",["utils","debug"],function(a,b,c){"use strict";function d(a,b,d,e,g){var h,i=!1;return h=f(a,b.split(","),d),h&&(g[d]=e?c.createAbsoluteUrl(h):h.replace(/\s+/g," "),i=!0),i}function e(a,b){var d=c.isolateRegion(a),e=d!==a,f=c.makeArray(c.querySelectorAll(d,"["+c.REGION_ITEM_DATA_MARKER+"]"));d&&c.matches(d,"["+c.REGION_ITEM_DATA_MARKER+"]")&&f.push(d),c.forEach(f,function(c){var d=g(c,a,e);d&&b.push(d)}),e&&c.walkTheDOM(a,function(a){a&&a.removeAttribute&&a.removeAttribute(c.NODE_ID_DATA_MARKER)})}function f(a,b,d){var e,f,g,h,i=c.getOverrideAttrNamesForTarget(d),j=a.getAttribute(i.attrOverride),k=a.getAttribute(i.styleOverride),l=a.getAttribute(c.REGION_REPLACED_DATA_MARKER);if(-1===c.indexOf(b,"href")&&l)return l;if(j&&(g=c.getAttrOverrideValue(a,j)))return g;if(k&&(h=c.getComputedStyle(a).getPropertyValue(k)))return c.cleanStyleValue(h);for(e=0;f=b[e];e++)if(a[f])return a[f];return void 0}function g(a,b,e){var f={},g=!1,h=[[c.TARGET_TYPES.LINK_URL,c.REGION_LINK_DATA_MARKER,"href",!0],[c.TARGET_TYPES.TITLE,c.REGION_TITLE_DATA_MARKER,"textContent,innerText,innerHTML",!1],[c.TARGET_TYPES.THUMB_URL,c.REGION_IMAGE_DATA_MARKER,"src",!0]];return c.forEach(h,function(h){var i,j=c.querySelector(a,"["+h[1]+"]");!j&&c.matches(a,"["+h[1]+"]")&&(j=a),j&&(e&&(j=c.select(b,{css:"["+c.NODE_ID_DATA_MARKER+"='"+j.getAttribute(c.NODE_ID_DATA_MARKER)+"']"},!0)[0]||j),i=d(j,h[2],h[0],h[3],f),g=g||i)}),g?f:null}function h(a){var b=c.makeArray(c.querySelectorAll("["+c.REGION_DATA_MARKER+"]"));c.forEach(b,function(b){var d=b.getAttribute(c.REGION_DATA_MARKER);d&&(a[d]={items:[]},e(b,a[d].items))})}var i=0;c.getCrawlDelay=function(){return i},c.crawlPage=function(a){setTimeout(function(){var b={},d=c.duration();c.evalBeforeEvents(c.getEventsBeforeCrawl())&&(c.debug("crawlPage started -> "+d),b={pageTemplate:c.getPageTemplate(),pageDashboard:c.getPageDashboard(),context:a,userAgent:navigator.userAgent,regions:{}},h(b.regions),c.evalAfterEvents(c.getEventsAfterCrawl(),b),c.postMessage({data:c.stringify(b),methodName:"report-page-structure"}),c.debug("Crawler page:",b),c.debug("crawlPage finished -> "+(c.duration()-d)))},i)},c.setCrawlDelay=function(a){i=a}}),tbNewsroom.define("debug",["utils"],function(a,b,c){"use strict";function d(b){if(g>=b){var d=[].slice.call(arguments,1);a.console&&(d.length&&d.unshift("newsroom -> "+c.getTimestamp()+" -> "),"object"==typeof console.log?c.forEach(d,function(a){console.log(a)}):console[j[b]].apply(console,d)),2>b&&e()&&c.sendMessage({methodName:"notify-log",queryString:c.buildQuery({level:b,message:d.join(","),"page.url":c.getPageUrl(),"view.id":c.getViewId(),"page.template":c.getPageTemplate()})})}}function e(){return Math.random()<=c.ERROR_REPORT_SAMPLE/100}var f,g=0,h=(new Date).getTime(),i=[h],j="error,warn,info,log".split(",");c.forEach("error,warn,info,debug".split(","),function(a,b){c[a]=function(){var a=[].slice.call(arguments,0);a.unshift(b),d.apply(this,a)}}),c.duration=function(){return(new Date).getTime()-h},c.getDebugLevel=function(){return g},c.getTimestamp=function(){var a=new Date,b=a.getHours(),c=a.getMinutes(),d=a.getSeconds()+a.getMilliseconds()/1e3;return(10>b?"0":"")+b+":"+(10>c?"0":"")+c+":"+(10>d?"0":"")+d.toFixed(3)},c.getTimingResult=function(){return i.join(".")},c.pushTime=function(){i.push(c.duration())},c.setDebugLevel=function(a){f?c.debug("setDebugLevel has been already called."):(("number"!=typeof a||isNaN(a))&&(a=3),a=Math.min(Math.max(0,a),3),g=a,f=!0)},c.winErrorHandler=function(a){a.filename&&-1!==a.filename.indexOf(c.SCRIPT_FILE_NAME)&&e()&&c.sendMessage({methodName:"notify-log",queryString:c.buildQuery({level:0,message:a.message,file:a.filename,linenumber:a.linenumber,"page.url":c.getPageUrl(),"view.id":c.getViewId(),"page.template":c.getPageTemplate()})})}}),tbNewsroom.define("designer",["utils"],function(a,b,c){"use strict";function d(){e&&f&&c.transport.loadScript((e+(-1===e.indexOf("?")?"?":"&")+"t={time}").supplant({time:(new Date).getTime()}),{id:"id"+c.getDesignerToken(),onerror:function(){setTimeout(d,0)},onload:function(){setTimeout(d,0)}})}var e,f;c.getDesignerToken=function(){return f},c.getDesignerUrl=function(){return e},c.loadDesigner=function(){d()},c.setDesignerToken=function(a){f=a},c.setDesignerUrl=function(a){e=a}}),tbNewsroom.define("document",["utils","dom","debug"],function(a,b,c){"use strict";function d(){var a=!!navigator.cookieEnabled;return"undefined"!=typeof navigator.cookieEnabled||a||(document.cookie="testcookie",a=-1!==document.cookie.indexOf("testcookie")),a}var e,f,g,h,i,j=c.genGuid(),k=/^(https?:)\/\//,l=d();c.Cookie={read:function(a,b){var c,d,e=a+"=",f=document.cookie.split(";");for(c=0;c<f.length;c++){for(d=f[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(e))return d.substring(e.length,d.length).replace(/^null$/,"")}return b},write:function(a,b,c,d,e){var f="";if(c){var g=new Date;g.setTime(g.getTime()+1e3*c),f="; expires="+g.toUTCString()}document.cookie=a+"="+b+f+";domain="+d+"; path="+(e||"/")},"delete":function(a,b,d){c.Cookie.write(a,"-10",.001,b,d)}},c.createAbsoluteUrl=function(a){var c=b.createElement("div"),d=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")};return k.test(a)?a:(c.innerHTML='<a href="{url}">.</a>'.supplant({url:d(a)}),c.firstChild.href)},c.deleteStoredValue=function(b){if(l)c.Cookie["delete"](b,c.getPageDomain(),"/");else if(a.sessionStorage)try{a.sessionStorage.clear()}catch(d){c.debug("Error while clearing sessionStorage: "+d.message)}},c.getCookieTtl=function(){return c.CLICK_COOKIE_TTL},c.getCurrentUrl=function(){return b.location.href},c.getInternetExplorerVersion=function(){var a=0;return"Microsoft Internet Explorer"===navigator.appName&&/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&(a=parseFloat(RegExp.$1)),a},c.getPageAutoAudit=function(){var a=c.findHeadElement("meta","property","tb:audited-clicks");return a&&a.content?(a=a.content.toUpperCase(),"TRUE"===a||"YES"===a||"T"===a||"1"===a):!1},c.getPageDashboard=function(){if(!g){var a=c.findHeadElement("meta","property","tb:page-dashboard");return a&&a.content?a.content:null}return g},c.getPageDomain=function(){return"."+b.location.hostname.replace(/^www\./,"")},c.getPageTemplate=function(){if(!h){var a=c.findHeadElement("meta","property","tb:page-template");return a&&a.content?a.content:null}return h},c.getPageUrl=function(){var a=c.findHeadElement("meta","property","tb:canonical");if(a&&a.content)return c.createAbsoluteUrl(a.content);var b=c.findHeadElement("link","rel","canonical");if(b&&b.href)return c.createAbsoluteUrl(b.href);var d=c.findHeadElement("meta","property","og:url");return d&&d.content?c.createAbsoluteUrl(d.content):c.getCurrentUrl()},c.getPublisherId=function(){return e||"unknown"},c.getReferrer=function(){return f?f:b.referrer},c.getStoredValue=function(b,d){if(l)return c.Cookie.read(b,d);if(a.sessionStorage)try{return a.sessionStorage.getItem(b)}catch(e){c.debug("Error while reading sessionStorage: "+e.message)}return void 0},c.getViewId=function(){return j},c.injectComScore=function(){if(!i){var d=b.createElement("script"),e=b.getElementsByTagName("script")[0],f={c1:"7",c2:"13739933",c3:"145231918151513"};a._comscore=a._comscore||[],d.async=!0,d.src=c.COMSCORE_URL,e.parentNode.insertBefore(d,e),a._comscore.push(f),i=!0}},c.setCookieTtl=function(a){c.CLICK_COOKIE_TTL=a},c.setNewsroomUrl=function(a){c.NEWSROOM_URL=a},c.setPageDashboard=function(a){g=a,j=c.genGuid()},c.setPageTemplate=function(a){h=a,c.getQueue().push({markRegions:!0})},c.setPublisherId=function(a){e=a,c.debug("Publisher was set to '{publisher}'".supplant({publisher:e}))},c.setStoredValue=function(b,d,e,f,g){if(l)c.Cookie.write(b,d,e,f,g||"/");else if(a.sessionStorage)try{a.sessionStorage.setItem(b,d)}catch(h){c.debug("Error while writing sessionStorage: "+h.message)}}}),tbNewsroom.define("dom-ready",["timers","events"],function(a,b,c){"use strict";function d(){if(b.readyState.match(/complete/))return c.setTimeout(f,1);if(!g&&(g=!0,c.on(b,"DOMContentLoaded",i),c.on(window,"load",f),!b.addEventListener)){c.on(b,"onreadystatechange",i);var a=!1;try{a=!!window.frameElement}catch(d){}b.documentElement.doScroll&&a&&e()}}function e(){if(!h){try{b.documentElement.doScroll("left")}catch(a){return void c.setTimeout(e,1)}f()}}function f(){if(j.length){if(!b.body)return c.setTimeout(f,1);for(h=!0;j[0];)try{j.shift()()}catch(a){}}}var g,h,i,j=[];c.ready=function(a){j.push(a),d()},i=function(a){return a?function(){c.off(b,"DOMContentLoaded",i),f()}:function(){"complete"===b.readyState&&(c.off(b,"DOMContentLoaded",i),c.off(b,"onreadystatechange",i),f())}}(!!b.addEventListener)}),tbNewsroom.define("dom",["utils","debug"],function(a,b,c){"use strict";c.createStyleSheet=function(a,c){var d=c||"widgetCssStyle",e=b.querySelector("#"+d);e&&e.parentNode.removeChild(e),e=b.createElement("div"),e.id=d,e.innerHTML=["&shy;","<style>",a,"</style>"].join(""),b.documentElement.appendChild(e)},c.findElementByTagAndAttribute=function(a,b,c,d){var e,f=a.getElementsByTagName(b),g=f.length;for(d=d||"",e=0;g>e;e++)if(f[e].getAttribute(c)&&(!d||d===f[e].getAttribute(c).toLowerCase()))return f[e];return void 0},c.findHeadElement=function(a,d,e){var f,g,h=b.getElementsByTagName("head"),i=h.length;if(h&&h.length)for(f=0;i>f;f++)if(g=c.findElementByTagAndAttribute(h[f],a,d,e))return g;return void 0},c.getComputedStyle=window.getComputedStyle?function(a){return window.getComputedStyle(a)}:function(a){return{el:a,getPropertyValue:function(a){var b=/(\-([a-z]){1})/g;return"float"===a&&(a="styleFloat"),b.test(a)&&(a=a.replace(b,function(){return arguments[2].toUpperCase()})),this.el.currentStyle[a]?this.el.currentStyle[a]:null}}},c.isolateRegion=function(a){var d,e,f=c.querySelectorAll(a,"["+c.REGION_DATA_MARKER+"]").length,g=a;if(f)for(c.walkTheDOM(a,function(a){a&&a.setAttribute&&a.setAttribute(c.NODE_ID_DATA_MARKER,c.genGuid())}),g=a.cloneNode(!0),b.createElement("div").appendChild(g),d=c.makeArray(c.querySelectorAll(g,"["+c.REGION_DATA_MARKER+"]"));e=d.pop();)e.parentNode.removeChild(e);return g},c.walkTheDOM=function(a,b){for(b(a),a=a.firstChild;a;)c.walkTheDOM(a,b),a=a.nextSibling},c.matches=function(){var a=b.matchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||b.oMatchesSelector||b.msMatchesSelector;return a||(a=function(a){if(this===b)return!1;for(var c=this.parentNode.querySelectorAll(a),d=c.length,e=0;d>e;){if(c[e]===this)return!0;++e}return!1}),function(b,c){return a.call(b,c)}}(),c.removeElement=function(a){var c,d=b.getElementById(a);if(d){d.parentNode.removeChild(d);try{for(c in d)d.hasOwnProperty(c)&&delete d[c]}catch(e){}}},c.querySelector=function(a){return function(c,d){return"string"==typeof c&&(d=c,c=b),a(c,d)}}(function(){return function(a,b){return a.querySelector(b)}}()),c.querySelectorAll=function(a){return function(c,d){return"string"==typeof c&&(d=c,c=b),a(c,d)}}(function(){return function(a,b){return a.querySelectorAll(b)}}()),c.select=function(a,b,d){var e;return b.css?(e=c.querySelectorAll(a,b.css),d&&c.matches(a,b.css)&&(e=c.makeArray(e)).unshift(a)):b.func?e=b.func(a):c.error("Unknown selector protocol: ",b),e?c.makeArray(e):[]},c.selectAncestor=function(a,d,e){for(var f=e?a:a.parentNode;f&&!c.matches(f,d);)if(f=f.parentNode,f===b)return void 0;return f},c.text=function(a){return a.textContent||a.innerText||a.innerHTML},function(a){a.CSS||(a.CSS={});var b=a.CSS,c=function(a){this.message=a};c.prototype=new Error,c.prototype.name="InvalidCharacterError",b.escape||(b.escape=function(a){for(var b,d=String(a),e=d.length,f=-1,g="",h=d.charCodeAt(0);++f<e;){if(b=d.charCodeAt(f),0==b)throw new c("Invalid character: the input contains U+0000.");g+=b>=1&&31>=b||127==b||0==f&&b>=48&&57>=b||1==f&&b>=48&&57>=b&&45==h?"\\"+b.toString(16)+" ":b>=128||45==b||95==b||b>=48&&57>=b||b>=65&&90>=b||b>=97&&122>=b?d.charAt(f):"\\"+d.charAt(f)}return g})}(a)}),tbNewsroom.define("events",["debug"],function(a,b,c){"use strict";var d=[],e=[],f=[],g=[];c.evalAfterEvents=function(){var a=arguments[0],b=[].slice.call(arguments,1);c.forEach(a,function(a){try{a.apply(null,b)}catch(d){c.error(d.message)}})},c.evalBeforeEvents=function(){var a=arguments[0],b=[].slice.call(arguments,1),d=!0;return c.forEach(a,function(a){try{a.apply(null,b)===!1&&(d=!1)}catch(e){c.error(e.message)}}),d},c.getEventsAfterCrawl=function(){return g},c.getEventsAfterTrack=function(){return e},c.getEventsBeforeCrawl=function(){return f},c.getEventsBeforeTrack=function(){
return d},c.off=function(a){return function(b,d,e){b&&c.forEach(d.split(" "),function(c){a(b,c,e)})}}(function(){var a=b.createElement("a");return a.addEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:a.attachEvent?function(a,b,c){a.detachEvent(b,c)}:function(a,b){a[b]=null}}()),c.on=function(a){return function(b,d,e){b&&c.forEach(d.split(" "),function(c){a(b,c,e)})}}(function(){var a=b.createElement("a");return a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:a.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:function(a,b,c){a[b]=c}}()),c.one=function(a,b,d){c.on(a,b,function(e){c.off(a,b,d),d(e)})},c.addEventBeforeCrawl=function(a){"function"==typeof a?f.push(a):c.warn("addEventBeforeCrawl: Parameter callback is not a function")},c.addEventBeforeTrack=function(a){"function"==typeof a?d.push(a):c.warn("addEventBeforeTrack: Parameter callback is not a function")},c.addEventAfterCrawl=function(a){"function"==typeof a?g.push(a):c.warn("addEventAfterCrawl: Parameter callback is not a function")},c.addEventAfterTrack=function(a){"function"==typeof a?e.push(a):c.warn("addEventAfterTrack: Parameter callback is not a function")},c.stopEvent=function(a){return a.cancelBubble=!0,a.returnValue=!1,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1},tbNewsroom.require("debug")}),tbNewsroom.define("message-queue",["utils","debug","document","timers","events"],function(a,b,c){"use strict";function d(a){a&&(k(a,0),k(a,1),o.push(a))}function e(a){return p[a]}function f(a){return(e(a)||{allowMultiple:!1}).allowMultiple}function g(a){return(e(a)||{priority:4}).priority}function h(a){return a===c.ATTRIBUTE_EVENT_BEFORE_TRACK||a===c.ATTRIBUTE_EVENT_AFTER_TRACK||a===c.ATTRIBUTE_EVENT_BEFORE_CRAWL||a===c.ATTRIBUTE_EVENT_AFTER_CRAWL||a===c.ATTRIBUTE_INVOKE_FUNCTION}function i(a){return!!e(a)}function j(a){var b,d,e,g={},h=[];for(b=0;e=a[b];b++)i(e[0])?f(e[0])?h.push(e):g[e[0]]=e:c.error("Unknown message: '{message}'.".supplant({message:e}));for(d in g)g.hasOwnProperty(d)&&h.push(g[d]);return h}function k(a,b){var d,f;for(d in a)a.hasOwnProperty(d)&&(f=e(d),f&&f.priority===b&&f.handler&&"function"==typeof f.handler&&f.handler.call(c,a[d]))}function l(){for(var a,b,d,e=[];o.length;){b=o.shift();for(a in b)b.hasOwnProperty(a)&&e.push([a,b[a]])}for(e=j(e),e.sort(m);e.length;){b=e.shift();try{c.onMessage&&(d=b[1],h(b[0])||(d="function"==typeof b[1]?b[1]():b[1]),c.onMessage(b[0],d))}catch(f){c.error(f.message)}}}function m(a,b){var c=g(a[0]),d=g(b[0]);return c-d}var n,o=[],p={};c.addCommands=function(a){c.forEach(a,function(a){p[a.key]=a})},c.kill=function(){throw c.killTimers(),a[c.GLOBAL_LAND_OBJECT_NAME]=[],o=[],c.pushMessage=c.statQueue=function(){return!0},new Error("Newsroom was stopped intentionally")},c.messageToObject=function(a){var b,d,e={},f=c["typeof"](a);if(a)switch(f){case"string":return e[a]=!0,e;case"object":return a;case"array":for(b=0,d=a.length;d>b;b+=2)e[a[b]]=a[b+1];return e}},c.pushMessage=function(a){n&&clearTimeout(n),d(c.messageToObject(a)),n=c.setTimeout(function(){l()},c.QUEUE_PROCESS_INTERVAL)},c.statQueue=function(){var a=c.getQueue();if(c.isArray(a))for(a.unshift=a.push=c.pushMessage;a.length;)c.pushMessage(a.shift());else c.error("variable _newsroom must be a valid javascript array")}}),tbNewsroom.define("regions",["debug"],function(a,b,c){"use strict";function d(a,b){return a.pageTemplates[b]?a.pageTemplates[b]:a.pageTemplates["*"]}function e(a,d){var e,g=c.select(b,a.regionRoot);g.length&&(e=g[0],e&&(e.setAttribute(c.REGION_DATA_MARKER,d),f(e,a.items),i(e,a.ignoredClickAreas)))}function f(a,b){b&&c.forEach(b,function(b,c){g(a,b,c)})}function g(a,b,d){var e=0;c.isArray(b.itemRoot)||(b.itemRoot=[b.itemRoot]),c.forEach(b.itemRoot,function(f){var g=c.select(a,f,!0),i=c.select(a,{css:"["+c.REGION_DATA_MARKER+"]"}).length;c.forEach(g,function(f){var g=[[b.itemLink,c.REGION_LINK_DATA_MARKER,c.TARGET_TYPES.LINK_URL],[b.itemTitle,c.REGION_TITLE_DATA_MARKER,c.TARGET_TYPES.TITLE],[b.itemThumb,c.REGION_IMAGE_DATA_MARKER,c.TARGET_TYPES.THUMB_URL]];i&&c.selectAncestor(f,"["+c.REGION_DATA_MARKER+"]",!0)!==a||(f.getAttribute(c.REGION_ITEM_DATA_MARKER)||f.setAttribute(c.REGION_ITEM_DATA_MARKER,d+"-"+e),f.getAttribute(c.OWNING_REGION)||(f.setAttribute(c.OWNING_REGION,a.getAttribute(c.REGION_DATA_MARKER)),f.setAttribute(c.OWNING_REGION_INDEX,""+e)),c.forEach(g,function(a){a[0]&&h(f,a[0],a[1],a[2])}),e+=1)})})}function h(a,b,d,e){c.forEach(c.select(a,b,!0),function(a,f){var g=b["attr-override"]||b["data-override"],h=c.getOverrideAttrNamesForTarget(e);a.setAttribute(d,f),g&&a.setAttribute(h.attrOverride,l(g)),b["style-override"]&&a.setAttribute(h.styleOverride,b["style-override"])})}function i(a,b){b&&c.forEach(c.select(a,b),function(a){a.setAttribute(c.DATA_IGNORE_CLICKS_MARKER,"")})}function j(a){var b=[c.REGION_DATA_MARKER,c.REGION_ITEM_DATA_MARKER,c.REGION_LINK_DATA_MARKER,c.REGION_TITLE_DATA_MARKER,c.REGION_IMAGE_DATA_MARKER,c.DATA_IGNORE_CLICKS_MARKER];c.forEach(b,function(b){var d=c.makeArray(c.querySelectorAll(a,"["+b+"]"));c.forEach(d,function(a){a.removeAttribute(b)})})}function k(a){var b=[c.REGION_DATA_MARKER,c.REGION_ITEM_DATA_MARKER,c.REGION_LINK_DATA_MARKER,c.REGION_TITLE_DATA_MARKER,c.REGION_IMAGE_DATA_MARKER,c.DATA_ATTR_OVERRIDE_LINK,c.DATA_ATTR_OVERRIDE_TITLE,c.DATA_ATTR_OVERRIDE_IMAGE,c.DATA_STYLE_OVERRIDE_LINK,c.DATA_STYLE_OVERRIDE_TITLE,c.DATA_STYLE_OVERRIDE_IMAGE,c.DATA_IGNORE_CLICKS_MARKER],d=[c.REGION_FORMAL_DATA_MARKER,c.REGION_FORMAL_ITEM_DATA_MARKER,c.REGION_FORMAL_LINK_DATA_MARKER,c.REGION_FORMAL_TITLE_DATA_MARKER,c.REGION_FORMAL_IMAGE_DATA_MARKER,c.DATA_FORMAL_ATTR_OVERRIDE_LINK,c.DATA_FORMAL_ATTR_OVERRIDE_TITLE,c.DATA_FORMAL_ATTR_OVERRIDE_IMAGE,c.DATA_FORMAL_STYLE_OVERRIDE_LINK,c.DATA_FORMAL_STYLE_OVERRIDE_TITLE,c.DATA_FORMAL_STYLE_OVERRIDE_IMAGE,c.DATA_FORMAL_IGNORE_CLICKS_MARKER];c.forEach(b,function(e,f){var g=c.makeArray(c.querySelectorAll(a,"["+d[f]+"]"));c.forEach(g,function(a){a.setAttribute(b[f],a.getAttribute(d[f]))})})}function l(a){return"string"==typeof a&&(a={name:a}),JSON.stringify(a)}var m;c.markRegions=function(){var a;if(m){var f=c.duration();c.debug("markRegions started -> "+f);var g,h=d(m,c.getPageTemplate());if(j(b),k(b),h){for(g in h.regions)h.regions.hasOwnProperty(g)&&(a=c.select(b,h.regions[g].regionRoot),a[0]&&a[0].setAttribute(c.REGION_DATA_MARKER,g));for(g in h.regions)h.regions.hasOwnProperty(g)&&e(h.regions[g],g)}c.debug("markRegions finished -> "+(c.duration()-f))}},c.setRegionMap=function(a){m=a}}),tbNewsroom.define("scroll-depth",["dom","dom-ready","utils","document","user"],function(a,b,c){"use strict";function d(){var a=document.body,b=document.documentElement,c=Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight);return Math.floor(c)}function e(){var b=window.innerWidth?window.innerWidth:c.width(a);return Math.floor(b)}function f(){var b=window.innerHeight?window.innerHeight:c.height(a);return Math.floor(b)}function g(){var a=(new Date).getTime(),b=Math.floor(a);return b}var h={minHeight:0,elements:[],markDistance:100,percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0},i="1.7",j=(document.documentElement,!1),k=!1,l=0,m=0;c.scrollDepth=function(b){function n(a){var b=c.getPageTemplate(),h=c.getPageDashboard(),j=g();if(null!==b&&null!==h){var k={viewId:u,pageTemplate:b,pageDashboard:h,context:{ts:j},userAgent:navigator.userAgent,eventType:"scroll",version:i,scrollData:{scrollPercent:a.scrollPercent?a.scrollPercent:null,regionViewed:a.regionViewed?a.regionViewed:null,pixelDepth:a.pixelDepth,viewPortWidth:e(),viewPortHeight:f(),pageHeight:d()}};c.postMessage({data:c.stringify(k),methodName:"report-page-structure"})}}function o(a){return Math.floor(a/b.markDistance)*b.markDistance}function p(a){var b=o(a),c=Math.floor(a);b>m&&(n({pixelDepth:c}),l=c,m=b,c>=d()&&(j=!0))}function q(){s(),m=f(),n({pixelDepth:m})}function r(a,b){var c,d,e,f=null,g=0,h=function(){g=new Date,f=null,e=a.apply(c,d)};return function(){var i=new Date;g||(g=i);var j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(f),f=null,g=i,e=a.apply(c,d)):f||(f=setTimeout(h,j)),e}}function s(){k=!0,c.on(a,"scroll",v)}var t=(new Date).getTime(),u=c.getViewId();if(b=c.extend({},h,b),!(d()<b.minHeight)){var v=r(function(){var e=(d(),c.scrollTop()+f());(new Date).getTime()-t;return j?(c.off(a,"scroll",v),void(k=!1)):void(b.percentage&&p(e))},1e3);q()}},c.ready(function(){var a=c.getPageTemplate(),b=c.getPageDashboard(),d=Math.random(),e=.1>=d;null!==a&&null!==b&&e&&c.scrollDepth()})}),tbNewsroom.define("timers",function(a,b,c){"use strict";var d=[];c.clearImmediate=a.clearImmediate||function(a){clearTimeout(a)},c.clearTimeout=function(a){var b=c.indexOf(d,a);b>-1&&d.splice(b,1),clearTimeout(a)},c.killTimers=function(){for(c.isKilled=!0;d.length;)clearTimeout(d.shift())},c.requestAnimationFrame=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return c.setTimeout(a,16)},c.setImmediate=a.setImmediate||function(a){return c.setTimeout(a,0)},c.setTimeout=function(a,b){var c=setTimeout(a,b);return d.push(c),c}},!0),tbNewsroom.define("transport",["document","debug","utils"],function(a,b,c){"use strict";function d(){return"F"+c.genGuid(6,32)}function e(a,d){var e,f=b.createElement("script");d&&(d.id&&(c.removeElement(d.id),f.id=d.id),f.onload=d.onload,f.onerror=d.onerror),e=b.getElementsByTagName("script")[0],f.async=!0,f.src=a,e.parentNode.insertBefore(f,e)}function f(a){k=b.getElementById(m),i=b.getElementById(l),k||(k=b.createElement("form"),j=b.createElement("input"),j.type="hidden",k.id=m,j.name="data",k.appendChild(j),k.className="newsroom-hidden",k.target="tb-newsroom-transportFrame",k.style.display="none",k.method="post",k.acceptCharset="UTF-8",b.body.appendChild(k)),i&&(i.remove(),l=d()),i=b.createElement("iframe"),i.className="newsroom-hidden",i.name="tb-newsroom-transportFrame",i.style.display="none",i.width=0,i.height=0,i.id=l,b.body.appendChild(i),k.action=g(a)}function g(a){return c.NEWSROOM_URL.supplant({publisherId:c.getPublisherId(),methodName:a.methodName,queryString:a.queryString||c.buildQuery({"page.url":a.pageUrl||c.getPageUrl(),"view.id":c.getViewId(),"page.template":c.getPageTemplate(),"page.dashboard":c.getPageDashboard()})})}function h(b){var d=new Image;c.debug("Sending message (createImageBeacon) ",b),d.src=b,(a.preloadImages=a.preloadImages||[]).push(d)}var i,j,k,l=d(),m=d();c.transport={getAction:function(){var a={methodName:"get-action"},b=g(a);e(b,{onerror:function(){c.error("Error while sending '{url}'".supplant({url:b}))}})},postMessage:function(a){f(a),j.value=a.data,k.submit()},sendMessage:function(a){a=a||{},h(g(a))},loadScript:e}}),tbNewsroom.define("user",["document"],function(a,b,c){"use strict";function d(a,b){var c,d,e,g=f();for(c=0;e=g[c];c++)if(d=e.split("="),a===d[0])return g[c]=a+"="+b,g.join("|");return g.push(a+"="+b),g.join("|")}function e(){var a,b,c,d=f();for(a=0;c=d[a];a++)if(b=c.split("="),k===b[0])return b[1];return null}function f(){return c.Cookie.read(l,"").split("|")}function g(){var a="";return j&&(a=j.getItem(k)),a||(a=e()),a||""}function h(a){j?j.setItem(k,a):c.Cookie.write("trc_cookie_storage",d(k,a),31536e3,c.getPageDomain())}var i,j,k="taboola global:user-id",l="trc_cookie_storage";try{j=window.localStorage,j.setItem("~~~","!"),j.removeItem("~~~")}catch(m){j=null}c.getUserId=function(){return i||(i=g()),i},c.setUserId=function(a){i=a,h(a)}}),tbNewsroom.define("utils",function(a,b,c){"use strict";function d(a,b){var c={};return c[a]=b,c}function e(){return a.performance&&a.performance.timing&&a.performance.timing.responseEnd?a.performance.timing.responseEnd:(new Date).getTime()-a.newsroomStartsLoadingTime}var f;c.buildQuery=function(b){var d,e,g=[];f(b),a.tbNewsroom.require("user"),e=c.getUserId(),e&&(b.ui=e);for(d in b)b.hasOwnProperty(d)&&g.push(d+"="+encodeURIComponent(b[d]));return g.join("&")},c.cleanStyleValue=function(a){return/url\s*\(/.test(a)&&(a=(a||"").trim().replace(/^url\s*\(["' ]*(.+?)["' ]*\)/,"$1")),a},c.getCssName=function(a){var b,c=a.split("-");for(b=1;b<c.length;b++)c[b]=c[b].substr(0,1).toUpperCase()+c[b].substr(1).toLowerCase();return c.join("")},c.getAttrOverrideValue=function(a,b){var d,e=JSON.parse(b);return e&&e.name&&(d=a.getAttribute(e.name))?e.key?c.getObjNestedProp(JSON.parse(d),e.key):d:null},c.getOverrideAttrNamesForTarget=function(a){var b={};switch(a){case c.TARGET_TYPES.LINK_URL:b.attrOverride=c.DATA_ATTR_OVERRIDE_LINK,b.styleOverride=c.DATA_STYLE_OVERRIDE_LINK;break;case c.TARGET_TYPES.TITLE:b.attrOverride=c.DATA_ATTR_OVERRIDE_TITLE,b.styleOverride=c.DATA_STYLE_OVERRIDE_TITLE;break;case c.TARGET_TYPES.THUMB_URL:b.attrOverride=c.DATA_ATTR_OVERRIDE_IMAGE,b.styleOverride=c.DATA_STYLE_OVERRIDE_IMAGE}return b},c.getObjNestedProp=function(a,b){for(var c=b.split(".");c.length>1;)a=a[c.shift()];return a[c[0]]},c.setObjNestedProp=function(a,b,c){for(var d=b.split(".");d.length>1;)a=a[d.shift()];a[d[0]]=c},c.genGuid=function(a,b){var c="",d=214748364;for(a=a||18,b=b||10;c.length<a;)c+=Math.abs(Math.floor(Math.random()*d)^new Date^e()).toString(b);return c.substr(0,a)},c.getQueue=function(){return a[c.GLOBAL_LAND_OBJECT_NAME]=a[c.GLOBAL_LAND_OBJECT_NAME]||[],a[c.GLOBAL_LAND_OBJECT_NAME]},c.mix=function(a,b){var c;arguments.length<2&&(b=a,a={});for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},c.postMessage=function(a){c.getQueue().push({postMessage:a})},c.sendMessage=function(a){c.getQueue().push({sendMessage:a})},String.prototype.supplant=function(a){return this.replace(/{([^{}]*)}/g,function(b,c){var d=a[c];return"undefined"!=typeof d?d:b})},c.supportPingAttribute=function(a){return"ping"in a}(b.createElement("a")),c["typeof"]=function(a){return c.isArray(a)?"array":typeof a},c.trim=function(){var a=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/gm,"")};return function(b){return a.call(b)}}(),c.stringify=function(a){var b,c=[];try{window.Prototype&&[Object.prototype,Array.prototype,Hash.prototype,String.prototype].forEach(function(a){a&&(c.push(a.toJSON),delete a.toJSON)}),b=JSON.stringify(a)}finally{window.Prototype&&[Object.prototype,Array.prototype,Hash.prototype,String.prototype].forEach(function(a){a&&(a.toJSON=c.pop())})}return b},c.extend=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a},c.merge=function(a,b){Array.prototype.push.apply(a,b)},c.width=function(a){return a.offsetWidth},c.height=function(a){return a.offsetHeight},c.each=function(a,b){var c=document.querySelectorAll(a);Array.prototype.forEach.call(c,b)},c.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.inArray=function(a,b){return b.indexOf(a)>-1?!0:!1},c.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},c.offset=function(a){var b=a.getBoundingClientRect();return{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}},f=function(){var a=location.search.substring(1).split("&"),b={};return c.forEach(a,function(a){var e;(0===a.indexOf("trc_")||0===a.indexOf("newsroom_"))&&(e=a.split("="),b[e[0]]=e[1],-1!==e[0].indexOf("debug")?c.getQueue().unshift(d(c.ATTRIBUTE_SET_DEBUG_LEVEL,parseInt(e[1]||3))):-1!==e[0].indexOf("newsroom_url")?c.getQueue().unshift(d(c.ATTRIBUTE_NEWSROOM_URL,e[1])):-1!==e[0].indexOf("_designer_url")?c.getQueue().unshift(d(c.ATTRIBUTE_DESIGNER_URL,e[1])):-1!==e[0].indexOf("_show_regions")?c.getQueue().unshift(d(c.ATTRIBUTE_SHOW_REGIONS,e[1])):-1!==e[0].indexOf("_design")&&c.getQueue().unshift(d(c.ATTRIBUTE_DESIGNER,e[1])))}),function(a){c.mix(a,b)}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}),tbNewsroom.app();