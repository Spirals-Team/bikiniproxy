!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.video=t():(e.Twitch=e.Twitch||{},e.Twitch.video=t())}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n=window.webpackJsonpTwitch_video;window.webpackJsonpTwitch_video=function(t,r,a){for(var o,s,u=0,c=[];u<t.length;u++)s=t[u],i[s]&&c.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);for(n&&n(t,r,a);c.length;)c.shift()()};var r={},i={4:0};return t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(u);var t=i[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),i[e]=void 0)}var r=i[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var a=new Promise(function(t,n){r=i[e]=[t,n]});r[2]=a;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+"js/"+e+".618e3913b819be332c24.js";var u=setTimeout(n,12e4);return s.onerror=s.onload=n,o.appendChild(s),a},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=292)}([function(e,t,n){"use strict";e.exports=n(442)},function(e,t,n){e.exports=n(443)()},function(e,t,n){var r,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var o in r)a.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],o=n||t+"Subscription",s=function(e){function n(a,o){r(this,n);var s=i(this,e.call(this,a,o));return s[t]=a.store,s}return a(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[o]=null,e},n.prototype.render=function(){return D.Children.only(this.props.children)},n}(D.Component);return s.propTypes={store:F.isRequired,children:U.a.element.isRequired},s.childContextTypes=(e={},e[t]=F.isRequired,e[o]=B,e),s}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(){var e=[],t=[];return{clear:function(){t=G,e=G},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==G&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function p(){}function h(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function m(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,o=r.methodName,s=void 0===o?"connectAdvanced":o,u=r.renderCountProp,m=void 0===u?void 0:u,y=r.shouldHandleStateChanges,v=void 0===y||y,g=r.storeKey,b=void 0===g?"store":g,_=r.withRef,w=void 0!==_&&_,k=f(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),E=b+"Subscription",S=J++,P=(t={},t[b]=F,t[E]=B,t),C=(n={},n[E]=B,n);return function(t){K()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=a(n),i=$({},k,{getDisplayName:a,methodName:s,renderCountProp:m,shouldHandleStateChanges:v,storeKey:b,withRef:w,displayName:r,wrappedComponentName:n,WrappedComponent:t}),o=function(n){function a(e,t){c(this,a);var i=l(this,n.call(this,e,t));return i.version=S,i.state={},i.renderCount=0,i.store=e[b]||t[b],i.propsMode=Boolean(e[b]),i.setWrappedInstance=i.setWrappedInstance.bind(i),K()(i.store,'Could not find "'+b+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+b+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}return d(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[E]=t||this.context[E],e},a.prototype.componentDidMount=function(){v&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=p,this.store=null,this.selector.run=p,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return K()(w,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+s+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=h(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(v){var e=(this.propsMode?this.props:this.context)[E];this.subscription=new Y(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(X)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(w||m||this.propsMode&&this.subscription))return e;var t=$({},e);return w&&(t.ref=this.setWrappedInstance),m&&(t[m]=this.renderCount++),this.propsMode&&this.subscription&&(t[E]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(D.createElement)(t,this.addExtraProps(e.props))},a}(D.Component);return o.WrappedComponent=t,o.displayName=r,o.childContextTypes=C,o.contextTypes=P,o.propTypes=P,z()(o,t)}}function y(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function v(e,t){if(y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Z.call(t,n[i])||!y(e[n[i]],t[n[i]]))return!1;return!0}function g(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function b(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function _(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=b(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=b(i),i=r(t,n)),i},r}}function w(e){return"function"==typeof e?_(e,"mapDispatchToProps"):void 0}function k(e){return e?void 0:g(function(e){return{dispatch:e}})}function E(e){return e&&"object"==typeof e?g(function(t){return Object(ee.b)(e,t)}):void 0}function S(e){return"function"==typeof e?_(e,"mapStateToProps"):void 0}function P(e){return e?void 0:g(function(){return{}})}function C(e,t,n){return re({},n,e,t)}function O(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,a=!1,o=void 0;return function(t,n,s){var u=e(t,n,s);return a?r&&i(u,o)||(o=u):(a=!0,o=u),o}}}function T(e){return"function"==typeof e?O(e):void 0}function x(e){return e?void 0:function(){return C}}function R(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function j(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function A(e,t,n,r,i){function a(i,a){return h=i,m=a,y=e(h,m),v=t(r,m),g=n(y,v,m),p=!0,g}function o(){return y=e(h,m),t.dependsOnOwnProps&&(v=t(r,m)),g=n(y,v,m)}function s(){return e.dependsOnOwnProps&&(y=e(h,m)),t.dependsOnOwnProps&&(v=t(r,m)),g=n(y,v,m)}function u(){var t=e(h,m),r=!f(t,y);return y=t,r&&(g=n(y,v,m)),g}function c(e,t){var n=!d(t,m),r=!l(e,h);return h=e,m=t,n&&r?o():n?s():r?u():g}var l=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return function(e,t){return p?c(e,t):a(e,t)}}function I(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=R(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),u=i(e,a);return(a.pure?A:j)(o,s,u,e,a)}function L(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function N(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function M(e,t){return e===t}var D=n(0),q=n(1),U=n.n(q),B=U.a.shape({trySubscribe:U.a.func.isRequired,tryUnsubscribe:U.a.func.isRequired,notifyNestedSubs:U.a.func.isRequired,isSubscribed:U.a.func.isRequired}),F=U.a.shape({subscribe:U.a.func.isRequired,dispatch:U.a.func.isRequired,getState:U.a.func.isRequired}),V=o(),H=n(177),z=n.n(H),W=n(446),K=n.n(W),G=null,Q={notify:function(){}},Y=function(){function e(t,n,r){s(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=Q}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=u())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Q)},e}(),$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J=0,X={},Z=Object.prototype.hasOwnProperty,ee=n(253),te=(n(178),[w,k,E]),ne=[S,P],re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie=[T,x],ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?m:t,r=e.mapStateToPropsFactories,i=void 0===r?ne:r,a=e.mapDispatchToPropsFactories,o=void 0===a?te:a,s=e.mergePropsFactories,u=void 0===s?ie:s,c=e.selectorFactory,l=void 0===c?I:c;return function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.pure,c=void 0===s||s,d=a.areStatesEqual,f=void 0===d?M:d,p=a.areOwnPropsEqual,h=void 0===p?v:p,m=a.areStatePropsEqual,y=void 0===m?v:m,g=a.areMergedPropsEqual,b=void 0===g?v:g,_=L(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=N(e,i,"mapStateToProps"),k=N(t,o,"mapDispatchToProps"),E=N(r,u,"mergeProps");return n(l,ae({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:k,initMergeProps:E,pure:c,areStatesEqual:f,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:b},_))}}();n.d(t,"a",function(){return V}),n.d(t,!1,function(){return o}),n.d(t,!1,function(){return m}),n.d(t,"b",function(){return oe})},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==(void 0===e?"undefined":B(e))||null===e||"object"!==(void 0===t?"undefined":B(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!F.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}function a(e){H=V({},H,e)}function o(){return H}function s(e){z=e}function u(){return z}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e){return e.displayName||e.name||"Component"}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=function(r){function a(n,r){f(this,a);var i=p(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,n,r));i.i18n=n.i18n||t.i18n||r.i18n||u(),i.namespaces="function"==typeof e?e(n):e||i.i18n.options&&i.i18n.options.defaultNS,"string"==typeof i.namespaces&&(i.namespaces=[i.namespaces]);var s=i.i18n&&i.i18n.options&&i.i18n.options.react||{};return i.options=J({},o(),s,t),i.getWrappedInstance=i.getWrappedInstance.bind(i),i}return h(a,r),X(a,[{key:"shouldComponentUpdate",value:function(e){return!this.options.usePureComponent||!i(this.props,e)}},{key:"getWrappedInstance",value:function(){return this.options.withRef||console.error("To access the wrapped instance, you need to specify { withRef: true } as the second argument of the translate() call."),this.wrappedInstance}},{key:"render",value:function(){var e=this,t={};return this.options.withRef&&(t.ref=function(t){e.wrappedInstance=t}),N.a.createElement($,J({ns:this.namespaces},this.options,this.props,{i18n:this.i18n}),function(r,i){return N.a.createElement(n,J({},e.props,t,i))})}}]),a}(L.Component);return r.WrappedComponent=n,r.contextTypes={i18n:D.a.object},r.displayName="Translate("+m(n)+")",r.namespaces=e,U()(r,n)}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e){return e&&(e.children||e.props&&e.props.children)}function P(e){return e&&e.children?e.children:e.props&&e.props.children}function C(e,t,n){return"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.forEach(function(t,n){var r=""+n;if("string"==typeof t)e=""+e+t;else if(S(t))e=e+"<"+r+">"+C("",P(t),n+1)+"</"+r+">";else if(N.a.isValidElement(t))e=e+"<"+r+"></"+r+">";else if("object"===(void 0===t?"undefined":se(t))){var i=oe({},t),a=i.format;delete i.format;var o=Object.keys(i);a&&1===o.length?e=e+"<"+r+">{{"+o[0]+", "+a+"}}</"+r+">":1===o.length?e=e+"<"+r+">{{"+o[0]+"}}</"+r+">":console&&console.warn&&console.warn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else console&&console.warn&&console.warn("react-i18next: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),e}function O(e,t,n){function r(e,t){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.reduce(function(t,i,a){if("tag"===i.type){var o=e[parseInt(i.name,10)]||{},s=N.a.isValidElement(o);if("string"==typeof o)t.push(o);else if(S(o)){var u=r(P(o),i.children);o.dummy&&(o.children=u),t.push(N.a.cloneElement(o,oe({},o.props,{key:a}),u))}else if("object"!==(void 0===o?"undefined":se(o))||s)t.push(o);else{var c=n.services.interpolator.interpolate(i.children[0].content,o,n.language);t.push(c)}}else"text"===i.type&&t.push(i.content);return t},[])}return""===t?[]:P(r([{dummy:!0,children:e}],ie.a.parse("<0>"+t+"</0>"))[0])}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function j(e,t){for(var n=0,r=e.length;n<r;n++)if("object"===he(e[n])){var i=!0,a=!1,o=void 0;try{for(var s,u=Object.entries(e[n])[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=pe(s.value,2),l=c[0],d=c[1];t(d,n,l)}}catch(e){a=!0,o=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}}else t(e[n],n)}function A(e){var t=[];return j(e,function(e){e&&e.namespaces&&e.namespaces.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t}function I(e){var t=e.components,n=e.i18n,r=A(t);return new Promise(function(e){n.loadNamespaces(r,e)})}var L=n(0),N=n.n(L),M=n(1),D=n.n(M),q=n(177),U=n.n(q),B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=Object.prototype.hasOwnProperty,V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H={wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",translateFuncName:"t",nsMode:"default",usePureComponent:!1},z=void 0,W={type:"3rdParty",init:function(e){a(e.options.react),s(e)}},K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Q=!1,Y=function(e){function t(e,n){c(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.i18n=e.i18n||n.i18n||u(),r.namespaces=r.props.ns||r.i18n.options&&r.i18n.options.defaultNS,"string"==typeof r.namespaces&&(r.namespaces=[r.namespaces]);var i=r.i18n&&r.i18n.options&&r.i18n.options.react||{};r.options=K({},o(),i,e),e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.options.wait=!1),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r.i18n.options&&r.i18n.options.isInitialSSR&&(r.options.wait=!1);var a=r.i18n.languages&&r.i18n.languages[0],s=!!a&&r.namespaces.every(function(e){return r.i18n.hasResourceBundle(a,e)});return r.state={i18nLoadedAt:null,ready:s},r.onI18nChanged=r.onI18nChanged.bind(r),r.getI18nTranslate=r.getI18nTranslate.bind(r),r}return d(t,e),G(t,[{key:"getChildContext",value:function(){return{t:this.t,i18n:this.i18n}}},{key:"componentWillMount",value:function(){this.t=this.getI18nTranslate()}},{key:"componentDidMount",value:function(){var e=this,t=function(){e.options.bindI18n&&e.i18n&&e.i18n.on(e.options.bindI18n,e.onI18nChanged),e.options.bindStore&&e.i18n.store&&e.i18n.store.on(e.options.bindStore,e.onI18nChanged)};this.mounted=!0,this.i18n.loadNamespaces(this.namespaces,function(){var n=function(){e.mounted&&!e.state.ready&&e.setState({ready:!0}),e.options.wait&&e.mounted&&t()};if(e.i18n.isInitialized)n();else{var r=function t(){setTimeout(function(){e.i18n.off("initialized",t)},1e3),n()};e.i18n.on("initialized",r)}}),this.options.wait||t()}},{key:"componentWillUnmount",value:function(){var e=this;if(this.mounted=!1,this.onI18nChanged){if(this.options.bindI18n){this.options.bindI18n.split(" ").forEach(function(t){return e.i18n.off(t,e.onI18nChanged)})}if(this.options.bindStore){this.options.bindStore.split(" ").forEach(function(t){return e.i18n.store&&e.i18n.store.off(t,e.onI18nChanged)})}}}},{key:"onI18nChanged",value:function(){this.mounted&&(this.t=this.getI18nTranslate(),this.setState({i18nLoadedAt:new Date}))}},{key:"getI18nTranslate",value:function(){return this.i18n.getFixedT(null,"fallback"===this.options.nsMode?this.namespaces:this.namespaces[0])}},{key:"render",value:function(){var e=this,t=this.props.children;return!this.state.ready&&this.options.wait?null:(this.i18n.options&&this.i18n.options.isInitialSSR&&!Q&&(Q=!0,setTimeout(function(){delete e.i18n.options.isInitialSSR},100)),t(this.t,{i18n:this.i18n,t:this.t}))}}]),t}(L.Component),$=Y;Y.contextTypes={i18n:D.a.object},Y.childContextTypes={t:D.a.func.isRequired,i18n:D.a.object};var J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();y.setDefaults=a,y.setI18n=s;var Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),te=function(e){function t(e,n){v(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.i18n=e.i18n||n.i18n,r.t=e.t||n.t,r}return b(t,e),ee(t,[{key:"render",value:function(){var e=this,t=this.props.parent||"span",n=this.props.regexp||this.i18n.services.interpolator.regexp,r=this.props,i=r.className,a=r.style,o=this.props.useDangerouslySetInnerHTML||!1,s=this.props.dangerouslySetInnerHTMLPartElement||"span",u=Z({},this.props.options,{interpolation:{prefix:"#$?",suffix:"?$#"}}),c=this.t(this.props.i18nKey,u);if(!c||"string"!=typeof c)return N.a.createElement("noscript",null);var l=[],d=function(t,n){if(t.indexOf(e.i18n.options.interpolation.formatSeparator)<0)return void 0===n[t]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+t+" for interpolating "+c),n[t];var r=t.split(e.i18n.options.interpolation.formatSeparator),i=r.shift().trim(),a=r.join(e.i18n.options.interpolation.formatSeparator).trim();return void 0===n[i]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+i+" for interpolating "+c),e.i18n.options.interpolation.format(n[i],a,e.i18n.language)};c.split(n).reduce(function(t,n,r){var i=void 0;if(r%2==0){if(0===n.length)return t;i=o?N.a.createElement(s,{dangerouslySetInnerHTML:{__html:n}}):n}else i=d(n,e.props);return t.push(i),t},l);var f={};if(this.i18n.options.react&&this.i18n.options.react.exposeNamespace){var p="string"==typeof this.t.ns?this.t.ns:this.t.ns[0];if(this.props.i18nKey&&this.i18n.options.nsSeparator&&this.props.i18nKey.indexOf(this.i18n.options.nsSeparator)>-1){p=this.props.i18nKey.split(this.i18n.options.nsSeparator)[0]}this.t.ns&&(f["data-i18next-options"]=JSON.stringify({ns:p}))}return i&&(f.className=i),a&&(f.style=a),N.a.createElement.apply(this,[t,f].concat(l))}}]),t}(L.Component);te.propTypes={className:D.a.string},te.defaultProps={className:""},te.contextTypes={i18n:D.a.object.isRequired,t:D.a.func.isRequired};var ne=te,re=n(451),ie=n.n(re),ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue=function(e){function t(){return w(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),ae(t,[{key:"render",value:function(){var e=oe({i18n:this.context.i18n,t:this.context.t},this.props),t=e.children,n=e.count,r=e.parent,i=e.i18nKey,a=e.i18n,o=e.t,s=_(e,["children","count","parent","i18nKey","i18n","t"]),u=o||a.t.bind(a),c=a.options&&a.options.react||{},l=void 0!==r?r:c.defaultTransParent,d=C("",t,0),f=c.hashTransKey,p=i||(f?f(d):d),h=p?u(p,{interpolation:{prefix:"#$?",suffix:"?$#"},defaultValue:d,count:n}):d;if(c.exposeNamespace){var m="string"==typeof u.ns?u.ns:u.ns[0];if(i&&a.options&&a.options.nsSeparator&&i.indexOf(a.options.nsSeparator)>-1){m=i.split(a.options.nsSeparator)[0]}u.ns&&(s["data-i18next-options"]=JSON.stringify({ns:m}))}return l?N.a.createElement(l,s,O(t,h,a)):O(t,h,a)}}]),t}(N.a.Component),ce=ue;ue.propTypes={count:D.a.number,parent:D.a.node,i18nKey:D.a.string,i18n:D.a.object,t:D.a.func},ue.contextTypes={i18n:D.a.object.isRequired,t:D.a.func};var le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),de=function(e){function t(e,n){T(this,t);var r=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.i18n=e.i18n,e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.i18n.options.isInitialSSR=!0),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r}return R(t,e),le(t,[{key:"getChildContext",value:function(){return{i18n:this.i18n}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.i18n!==e.i18n)throw new Error("[react-i18next][I18nextProvider]does not support changing the i18n object.")}},{key:"render",value:function(){var e=this.props.children;return L.Children.only(e)}}]),t}(L.Component);de.propTypes={i18n:D.a.object.isRequired,children:D.a.element.isRequired},de.childContextTypes={i18n:D.a.object.isRequired};var fe=de,pe=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}),n.d(t,"c",function(){return y}),n.d(t,!1,function(){return $}),n.d(t,"b",function(){return ne}),n.d(t,!1,function(){return ce}),n.d(t,"a",function(){return fe}),n.d(t,!1,function(){return I}),n.d(t,!1,function(){return W}),n.d(t,!1,function(){return a}),n.d(t,!1,function(){return o}),n.d(t,!1,function(){return s}),n.d(t,!1,function(){return u})},function(e,t,n){var r=n(119),i=n(51),a=n(157),o=n(44),s=n(110),u=n(50),c=Object.prototype,l=c.hasOwnProperty,d=a(function(e,t){if(s(t)||o(t))return void i(t,u(t),e);for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=d},function(e,t,n){"use strict";function r(){try{return window.self!==window.top}catch(e){return!0}}function i(){return Twitch.notScript?r()&&!Object(a.b)()?u:c:o}n.d(t,"s",function(){return o}),n.d(t,"t",function(){return s}),n.d(t,"k",function(){return u}),n.d(t,"q",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"n",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"o",function(){return y}),n.d(t,"u",function(){return v}),n.d(t,"r",function(){return g}),n.d(t,"p",function(){return b}),n.d(t,"c",function(){return _}),n.d(t,"g",function(){return w}),n.d(t,"f",function(){return k}),n.d(t,"d",function(){return E}),n.d(t,"m",function(){return S}),n.d(t,"b",function(){return P}),n.d(t,"a",function(){return C}),t.w=r,t.v=i;var a=n(126),o="site",s="site_mini",u="embed",c="popout",l="animated_thumbnails",d="frontpage",f="dashboard",p="creative",h="curse",m="facebook",y="highlighter",v="twitch_everywhere",g="pulse",b="imdb",_="amazon_live",w="clips-viewing",k="clips-embed",E="amazon_vse_test",S="feed",P=[w,k,"clips-editing"],C=[o,s,u,c,l,d,f,p,h,m,y,v,g,b,_,w,k,"clips-editing",E,S]},function(e,t,n){function r(e,t,n,r){e=a(e)?e:u(e),n=n&&!r?s(n):0;var l=e.length;return n<0&&(n=c(l+n,0)),o(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&i(e,t,n)>-1}var i=n(150),a=n(44),o=n(111),s=n(72),u=n(206),c=Math.max;e.exports=r},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"C",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"E",function(){return y}),n.d(t,"F",function(){return v}),n.d(t,"z",function(){return g}),n.d(t,"w",function(){return b}),n.d(t,"y",function(){return _}),n.d(t,"x",function(){return w}),n.d(t,"D",function(){return k}),n.d(t,"B",function(){return E}),n.d(t,"i",function(){return S}),n.d(t,"p",function(){return P}),n.d(t,"A",function(){return C}),n.d(t,"f",function(){return O}),n.d(t,"t",function(){return T}),n.d(t,"r",function(){return x}),n.d(t,"c",function(){return A}),n.d(t,"j",function(){return I}),n.d(t,"o",function(){return L}),n.d(t,"G",function(){return N}),n.d(t,"n",function(){return M}),n.d(t,"m",function(){return D}),n.d(t,"s",function(){return q}),n.d(t,"u",function(){return U}),n.d(t,"k",function(){return B}),n.d(t,"q",function(){return F}),n.d(t,"h",function(){return V}),n.d(t,"e",function(){return H}),n.d(t,"v",function(){return z}),n.d(t,"g",function(){return W});var r=n(371),i=n.n(r),a=n(45),o=n(78),s=n(26),u=n(21),c=n(169),l=n(126),d="https://www.twitch.tv/signup",f="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",p=l.c,h="//www.twitch.tv",m="https://api.twitch.tv",y="https://usher.ttvnw.net",v=m+"/steam/watching",g=function(){var e=document.currentScript,t=document.getElementsByTagName("script");if(!e){var n=Array.prototype.filter.call(t,function(e){return e.src&&e.src.match(/player(?:\.\w+)?\.js$/i)});e=1===n.length?n[0]:t[t.length-1]}var r=Object(a.a)(e.src);if("testplayer.twitch.tv"===r.authority){var i=r.path.split("/").slice(1,-2).join("/");return r.protocol+"://"+r.authority+"/"+i}return r.protocol+"://"+r.authority}(),b="//api.mixpanel.com",_="809576468572134f909dffa6bd0dcfcf",w=["abs_stream_format_change","minute-buffered","x_untrusted_video_init","x_untrusted_video-play","x_untrusted_minute-watched","x_untrusted_buffer-empty","x_untrusted_buffer-refill","network_profile","video_pause"],k="//spade.twitch.tv",E=[],S="//countess.twitch.tv",P=h+"/directory/game",C={width:853,height:480},O="B3DCF968",T=8e3,x=5e3,R=[u.i,u.a,u.f,u.p,u.h,u.g,u.b,u.c,u.l,u.s,u.o,u.n,u.e,u.d,u.q,u.k,u.j,u.r,u.m],j=["usherfail",o.AD_END,o.AD_START,o.COMPANION_RENDERED,o.AD_IMPRESSION,o.AD_IMPRESSION_COMPLETE,c.a,s.b,s.c,s.d,s.i,s.k,s.l,s.p,s.f,s.m,s.s,s.t,s.v,s.A,s.C,s.D,s.I,s.a,s.n,s.w,s.r,s.q,s.y,s.x],A=i()(R,j),I=[u.q,s.b],L=Object.freeze(["autoplay","channel","channelId","collection","controls","debug","debug_ads","force_manifest_node","html5","flash","muted","origin","playsinline","quality","showMature","stream","t","time","tt_content","tt_medium","video"]),N=.1,M="//pubads.g.doubleclick.net/gampad/ads",D="//pubads.g.doubleclick.net/gampad/live/ads",q="3576121",U={enabled:!1,sinceEnded:45,viewerThreshold:5e4,text:"Don't panicBasket. The broadcast is down, but don't refresh just yet. When the broadcast is back, the player will automatically reload for you.",refreshTimeout:20,warningDuration:45},B="en-US",F=5,V=2,H=120,z=30,W="https://clips.twitch.tv/api/v2/clips/"},function(e,t,n){"use strict";function r(e){return function(t){"Enter"===t.key&&e()}}function i(e){var t=e.children,n=e.className,i=e.disabled,a=e.id,s=e.onBlur,u=e.onClick,c=e.onFocus,l=e.onMouseOut,d=e.onMouseOver,f=e.tabIndex;return o.a.createElement("button",{className:n,disabled:i,id:a,onBlur:s,onClick:u,onFocus:c,onKeyUp:r(u),onMouseOut:l,onMouseOver:d,tabIndex:f,type:"button"},t)}t.a=i;var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c={className:u.a.string,children:u.a.oneOfType([u.a.arrayOf(u.a.element),u.a.element,u.a.node]),disabled:u.a.bool,id:u.a.string,onClick:u.a.func,onMouseOver:u.a.func,onMouseOut:u.a.func,onFocus:u.a.func,onBlur:u.a.func,tabIndex:u.a.string},l={className:"",disabled:!1,id:"",onClick:function(){},onMouseOver:function(){},onMouseOut:function(){},onFocus:function(){},onBlur:function(){},tabIndex:"0"};i.propTypes=c,i.defaultProps=l},function(e,t,n){"use strict";function r(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function i(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(e)}function a(e){var t=e.oauthToken,n=e.opts,r=I()({},G,n.headers);return t&&(r.Authorization="OAuth "+t),"GET"!==n.method&&"HEAD"!==n.method&&(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r}function o(e){return te().then(function(e){return e.token},function(e){return null}).then(function(t){var n=a({oauthToken:t,opts:e});return fetch(e.url,{method:e.method||"GET",headers:n,credentials:e.xhrFields&&e.xhrFields.withCredentials?"include":"omit",body:e.data?Object(B.stringify)(e.data):void 0})}).then(i).then(function(e){return e.json().catch(function(){return e})})}function s(e){return o({url:F.d+"/kraken/"+e,headers:{Accept:W}})}function u(e,t){var n={Accept:K};return t&&t.headers&&(n=I()(n,t.headers)),o(I()({},t,{url:F.d+"/kraken/"+e,headers:n}))}function c(e){return s("streams/"+r(e))}function l(e,t){return u("users/"+e+"/subscriptions/"+t)}function d(e){return o({url:F.d+"/channels/"+r(e)+"/product"})}function f(e,t){return"users/"+r(e.toString())+"/follows/channels/"+r(t.toString())}function p(e,t){return u(f(e,t))}function h(e,t,n){return u(f(e,t),{method:n?"PUT":"DELETE"})}function m(e,t,n){return u(f(e,t),{data:{notifications:n},method:"PUT"})}function y(e){return Q(e).then(function(e){var t=e._id;return u("channels/"+t+"/communities").then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject("Bad communities for "+t+": "+e)})})}function v(e){return o({url:F.d+"/v5/channels/"+e+"/collections?limit=1&exclude_empty=true"})}function g(e){var t=o({url:F.d+"/v5/collections/"+e}),n=o({url:F.d+"/v5/collections/"+e+"/items"});return Promise.all([t,n])}function b(e){var t=e.player,n=e.oauth_token;if((t===V.i||t===V.s||t===V.n||t===V.m)&&n){var r=Promise.resolve({token:n});te.cache.set(void 0,r)}}function _(e,t){return null===e.chansub&&!e.is_admin&&D()(t.restrictions,function(e,t){return e||"chansub"===t},!1)}function w(e,t){var n=F.C+"/"+r(e);return t&&(n+="?"+Object(B.stringify)(t)),n}function k(e,t,n){var i=w(e),a=t[0],o=t.substring(1);return i+="/"+r(a)+"/"+r(o),n&&(i+="?"+Object(B.stringify)(n)),i}function E(e){return e?o({url:F.d+"/v5/resumewatching/user/"+e}):Promise.reject("Invalid user id")}function S(e,t){return e?o({data:t,method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:F.d+"/v5/resumewatching/user/"+e}):Promise.reject("Invalid user id")}function P(e){return Q(e).then(function(e){return H.a.ExtensionService.getInstalledExtensions(e._id)}).then(function(e){return e.installed_extensions.reduce(function(t,n){var r=n.extension,i=n.installation_status,a="active"!==i.activation_state,o="video_overlay"!==i.activation_config.anchor,s="hidden"!==i.activation_config.anchor;if(a||o&&s)return t;var u=U()(e.tokens,function(e){return r.id===e.extension_id});if(!u)return t;var c=Object(z.j)(u.token);return t.concat({token:c,id:r.id,name:r.name,sku:r.sku,summary:r.summary,anchor:r.anchor,vendorCode:r.vendor_code,version:r.version,state:r.state,viewerUrl:r.viewer_url,lastUserIdentityLinkState:c.permissionsState===z.g,supportsIdentityLinking:r.request_identity_link})},[])}).catch(function(){return[]})}function C(e){return fetch("https://www.twitch.tv/user/report",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:Object(B.stringify)(e)})}function O(e,t){return te().then(function(e){return e.token},function(e){return null}).then(function(n){var r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(B.stringify)(t)};return n&&(r.headers.Authorization="OAuth "+n),fetch(e,r)}).then(function(e){return e.json()})}t.o=s,t.p=u,n.d(t,"b",function(){return Q}),n.d(t,"A",function(){return Y}),t.y=c,t.l=l,t.m=d,n.d(t,"g",function(){return $}),n.d(t,"d",function(){return J}),n.d(t,"z",function(){return X}),t.j=p,t.v=h,t.w=m,n.d(t,"q",function(){return Z}),n.d(t,"a",function(){return ee}),t.h=y,t.i=v,t.e=g,n.d(t,"r",function(){return te}),t.x=b,t.n=_,t.c=w,t.B=k,t.k=E,t.u=S,t.s=P,t.t=C,t.f=O;var T=n(5),x=n.n(T),R=n(208),j=n.n(R),A=n(77),I=n.n(A),L=n(20),N=n.n(L),M=n(63),D=n.n(M),q=n(37),U=n.n(q),B=n(30),F=(n.n(B),n(8)),V=n(6),H=n(127),z=n(39),W="application/vnd.twitchtv.v3+json",K="application/vnd.twitchtv.v5+json",G={"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"},Q=j()(function(e){return e?s("channels/"+r(e)):Promise.reject(new Error("No channel info available on null channel ID"))}),Y=j()(function(e){if(null===e||void 0===e)return Promise.reject(new Error("No video info available on null video ID"));var t=s("videos/"+r(e)),n=o({url:F.d+"/api/videos/"+r(e)}).then(function(e){return N()(e,["muted_segments","increment_view_count_url","restrictions","seek_previews_url"])});return Promise.all([t,n]).then(function(e){var t=e[0].channel.name;return Q(t).then(function(t){var n=x()({},e[0],e[1]);return n.channel=t,n})})}),$=j()(function(e){return Q(e).then(function(e){var t=e._id;return u("channels/"+t+"/ads/properties").then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(new Error("Bad ad properties for "+t+": "+e))})})}),J=j()(function(e){return o({url:F.d+"/api/channels/"+r(e)+"/viewer"})}),X=j()(function(){return o({url:F.d+"/api/viewer/info.json",xhrFields:{withCredentials:!0}})}),Z=j()(function(){return s("user")}),ee=j()(function(e){return o({url:F.d+"/api/channels/"+e})}),te=j()(function(){return fetch(F.d+"/api/viewer/token.json",{credentials:"include",headers:G}).then(i).then(function(e){return e.json().catch(function(){return e})})})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b});var o=n(5),s=n.n(o),u=n(28),c=n.n(u),l=n(224),d=n(10),f=n(30),p=(n.n(f),n(8)),h=n(244),m=n(97),y=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g="vod",b=function(e){function t(e,n,a,o,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return u._vodId=e,u}return a(t,e),v(t,[{key:"_fetchAccessToken",value:function(e,t,n){return Object(h.b)(e,t,n)}},{key:"_buildUsherParams",value:function(e){return c()({nauth:e.token,nauthsig:e.sig,allow_source:!0},this._usherParams)}},{key:"contentType",get:function(){return g}},{key:"videoId",get:function(){return this._vodId}},{key:"_baseStreamUrl",get:function(){return p.E+"/vod/"+this._vodId.substring(1)+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams(),Object(d.z)()]).then(function(t){var n=y(t,3),r=n[0],i=n[1],a=n[2],o=e._buildUsherParams(r),u={baking_bread:!1,baking_brownies:!1,baking_brownies_timeout:l.b};return l.a[a.geo]&&(u.baking_bread=!0,u.baking_brownies=!0),s()(o,i,u),e._baseStreamUrl+"?"+Object(f.stringify)(o)})}}]),t}(m.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b});var o=n(5),s=n.n(o),u=n(28),c=n.n(u),l=n(224),d=n(10),f=n(30),p=(n.n(f),n(8)),h=n(244),m=n(97),y=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g="live",b=function(e){function t(e,n,a,o,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return u._channelName=e,u}return a(t,e),v(t,[{key:"_fetchAccessToken",value:function(e,t,n){return Object(h.a)(e,t,n)}},{key:"_buildUsherParams",value:function(e){return c()({token:e.token,sig:e.sig,allow_source:!0},this._usherParams)}},{key:"contentType",get:function(){return g}},{key:"channel",get:function(){return this._channelName}},{key:"_baseStreamUrl",get:function(){return p.E+"/api/channel/hls/"+this._channelName.toLowerCase()+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams(),Object(d.z)()]).then(function(t){var n=y(t,3),r=n[0],i=n[1],a=n[2],o=e._buildUsherParams(r),u={baking_bread:!1,baking_brownies:!1,baking_brownies_timeout:l.b};return l.a[a.geo]&&(u.baking_bread=!0,u.baking_brownies=!0),s()(o,i,u),p.E+"/api/channel/hls/"+e._channelName.toLowerCase()+".m3u8?"+Object(f.stringify)(o)})}}]),t}(m.a)},function(e,t,n){"use strict";function r(e){return{type:a,screen:e}}function i(){return{type:o}}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"j",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"m",function(){return d}),n.d(t,"n",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"l",function(){return v}),n.d(t,"i",function(){return g}),t.p=r,t.o=i;var a="push screen",o="pop screen",s="content",u="advertisement",c="advertisement-bb",l="stormwarning",d="vodrecommendations",f="vodrestrictedscreen",p="collectionemptyscreen",h="clip-sharing-screen",m="clip-shortcut-screen",y="error",v="unmute",g="qualityrestrictedscreen"},function(e,t,n){"use strict";function r(e){return{type:p,video:e}}function i(){return{type:h}}function a(){return{type:m}}function o(){return{type:y}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:v,muted:e,automated:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:g,volume:e}}function c(e){return{type:b,backendType:e}}function l(e){return{type:_,issueType:e}}function d(e){return{type:w,playbackRate:e}}function f(e){return{type:k,seekTime:e}}n.d(t,"b",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"i",function(){return _}),n.d(t,"d",function(){return w}),n.d(t,"j",function(){return k}),t.t=r,t.q=i,t.p=a,t.k=o,t.o=s,t.n=u,t.l=c,t.s=l,t.m=d,t.r=f;var p="load video api",h="video api play content",m="video api pause content",y="automated pause content",v="video api mute player",g="video api change volume",b="video api change backend",_="video api report video issue",w="video api change playback rate",k="video api seek"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(a,o){var s=o(),u=s.adsManager;return p(e,t,o(),n,r,i).then(function(e){e.mature&&!T.a.get(I.a,!1)||o().manifestInfo.suppress||u.requestAds(e)})}}function a(e){return m(e)?{type:q,currentMetadata:e}:H}function o(){return a(z)}function s(){return function(e,t){t().adsManager.pause()}}function u(){return function(e,t){t().adsManager.play()}}function c(e){return{type:M,detected:e}}function l(e){return{type:B,setting:e}}function d(e){return{type:D,URL:e}}function f(e){return{type:U,imaScriptLoaded:e}}function p(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments[5];return h(n.stream).then(function(e){return Promise.all([Object(O.z)(),Object(O.b)(e),Object(O.a)(e),Object(O.d)(e),Object(O.g)(e),Object(O.h)(e),n.experiments.get(j.i),n.experiments.get(j.a),n.experiments.get(j.e)])}).then(function(o){var s=L(o,9),u=s[0],c=s[1],l=s[2],d=s[3],f=s[4],p=s[5],h=s[6],m=s[7],y=s[8],v=Object(A.a)(n.window.location.href),g=v.queryKey,b="raid"===g.referrer,_="true"===g.promo;return new P({adType:e,sdk:n.sdk,lastAdDisplay:T.a.get("lastAdDisplay",0),forced:r,state:n,duration:t,requestType:a,userInfo:u,channelAPIInfo:l,channelInfo:c,viewerInfo:d,channelAdProperties:f,creativeId:i,padtimeExpGroup:h,skippableExpGroup:m,communitiesInfo:p,leviathanExpGroup:y,raid:b,embedPromo:_})})}function h(e){return e instanceof C.b?Promise.resolve(e.channel):e instanceof b.b?Object(O.A)(e.videoId).then(function(e){return e.channel.name}):Promise.reject(new Error("Invalid stream: "+e))}function m(e){return!(!e.hasOwnProperty("contentType")||!e.hasOwnProperty("rollType"))&&(!(!R()(F,e.contentType)||!R()(V,e.rollType))&&((e.contentType!==F.NONE||e.rollType===V.NONE)&&(e.rollType!==V.NONE||e.contentType===F.NONE)))}var y=n(80),v=n(247),g=n(6),b=n(11),_=n(47),w=n(131),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=30,S=function(e){return Array.isArray(e)&&0!==e.length?e.map(function(e){return e._id}).join(","):null},P=function(){function e(t){var n=t.adType,i=t.duration,a=t.requestType,o=t.state,s=t.lastAdDisplay,u=t.forced,c=t.userInfo,l=t.channelInfo,d=t.channelAPIInfo,f=t.viewerInfo,p=t.channelAdProperties,h=t.creativeId,m=t.padtimeExpGroup,v=t.communitiesInfo,g=t.skippableExpGroup,b=t.raid,_=t.embedPromo,k=t.leviathanExpGroup;r(this,e),this.contentType=o.stream.contentType,this.login=c.login,this.adSessionId=Object(y.a)(E),this.adType=n,this.raid=b,this.channel=l.name,this.channelId=l._id,this.chansubToken=f.chansub,this.communityIds=S(v.communities),this.twitchCorrelator=Object(y.a)(),this.deviceId=w.a(!1),this.duration=i,this.requestType=a,this.hasAdFreeSubscription=Boolean(f.has_ad_free_subscription),this.lastAdDisplay=s,this.forced=u,this.padtime=m,this.requestTime=Date.now(),this.skippableExpGroup=g,this.creativeId=h,this.embedPromo=_,this.leviathanExpGroup=k,this._initUserInfoFields(c),this._initChannelInfoFields(l,d),this._initStateFields(o),this._initAmazonFields(),this._initChannelAdPropertiesFields(p)}return k(e,[{key:"_initUserInfoFields",value:function(e){this.login=e.login,this.turboToken=e.turbo}},{key:"_initChannelInfoFields",value:function(e,t){this.channel=e.name,this.channelId=e._id,e.game&&(this.game=Object(_.e)(e.game)),this.mature=e.mature,this.partner=e.partner,this.postrollsEnabled=Boolean(t.postrolls),this.prerollsEnabled=Boolean(t.prerolls),this.broadcasterSoftware=t.broadcaster_software}},{key:"_initChannelAdPropertiesFields",value:function(e){this.vodAdsEnabled=null===e||e.valid_responses.vod_ads_enabled}},{key:"_initStateFields",value:function(e){var t=e.ads,n=e.adsManager,r=e.window,i=e.env,a=i.platform,o=i.playerType;this.contentType=e.stream.contentType,this.adblock=t.adblock,this.vodMidrollArchiveSetting=t.vodMidrollArchiveSetting,this.isMobileLocation=e.env.isMobileLocation,this.kruxId=r.Krux?r.Krux.user||"":null,this.platform=o===g.i?o:a,this.playerType=e.env.playerType,this.embedUrl=r.document.referrer,this.url=Object(v.a)(r.location.href),this.sdk=n.sdk,this._initVodFields(e)}},{key:"_initVodFields",value:function(e){var t=e.playback;this.vod={id:"",name:"",type:"",duration:-1},e.stream.contentType===b.a&&(this.vod.id=e.stream.videoId,this.vod.name=Object(_.e)(e.streamMetadata.name),this.vod.type=e.streamMetadata.type,this.vod.duration=t.duration)}},{key:"_initAmazonFields",value:function(){this.amzniid="",this.amznbid="",this.qsParams=""}}]),e}(),C=n(12),O=n(10),T=n(25),x=n(7),R=n.n(x),j=n(43),A=n(45),I=n(251);n.d(t,"h",function(){return N}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return D}),n.d(t,"c",function(){return q}),n.d(t,"a",function(){return U}),n.d(t,"e",function(){return B}),n.d(t,"f",function(){return F}),n.d(t,"g",function(){return V}),t.n=i,t.q=a,t.i=o,t.l=s,t.m=u,t.p=c,t.r=l,t.o=d,t.k=f,t.j=p;var L=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=30,M="set adblock detected",D="set clickthrough url",q="set ad metadata",U="check to see if ima script loaded",B="set vod midroll archive setting",F=Object.freeze({NONE:"none",IMA:"ima",STITCHED:"stitched"}),V=Object.freeze({NONE:"none",PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"}),H={type:"an invalid ad action"},z={contentType:F.NONE,rollType:V.NONE}},function(e,t,n){"use strict";function r(e){return function(t,n){switch(t(Object(_.f)()),e.contentType){case j:return i(e,t,n);case A:return a(e,t,n);case I:return o(e,t,n);case x:case R:return s(e,t,n)}}}function i(e,t,n){var r=e.customerId,i=e.contentId,a=n(),o=a.playback,s=a.usher;t(Object(S.d)(b.g,{autoplay:o.autoplay,customer_id:r,content_id:i}));var u=new m.b({contentId:i,customerId:r,usherHostOverride:s.hostOverride});t({type:T,stream:u})}function a(e,t,n){var r=e.contentId,i=n(),a=i.playback;t(Object(S.d)(b.g,{autoplay:a.autoplay}));var o=""+C.g+r+"/status";return fetch(o).then(function(e){return e.json()}).then(function(e){t(Object(P.m)(e.quality_options));var n=new y.b(r);return t({type:T,stream:n}),Object(g.p)("clips/"+r).then(function(e){t(Object(k.f)(e)),Object(O.b)(r)})})}function o(e,t,n){var r=e.contentId,i=n(),a=i.playback;t(Object(S.d)(b.g,{autoplay:a.autoplay}));var o=new v.b(r);t({type:T,stream:o})}function s(e,t,n){var r=e.contentType,i=e.contentId,a=n(),o=a.accessToken,s=a.analytics,u=a.experiments,m=a.playback,y=a.usher,v=r===x?c(i):null,g=r===R?l(i):null;t(Object(S.d)(b.g,{autoplay:m.autoplay,channel:v,vod_id:g}));var _=d().then(function(e){return t(Object(S.d)(b.j,{time_since_load_start:Date.now()-s.playSessionStartTime})),e}),E={realtimeQos:u.get(f.k),fastBread:void 0!==y.params.fast_bread?Promise.resolve(y.params.fast_bread):u.get(f.c)},P=void 0;r===x?P=new p.b(v,_,y.params,o.params,E):r===R&&(P=new h.b(g,_,y.params,o.params,E)),P.accessToken.then(function(){t(Object(S.d)(b.i,{time_since_load_start:Date.now()-s.playSessionStartTime}))}),t({type:T,stream:P}),t(Object(k.c)(P)),t(Object(w.n)(P.channel)),t(Object(w.r)(P.channel))}function u(){return{type:T,stream:E.b}}function c(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function l(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function d(){return Object(g.r)().then(function(e){return e.token},function(){return null})}n.d(t,"a",function(){return T}),n.d(t,"b",function(){return x}),n.d(t,"e",function(){return R}),n.d(t,"d",function(){return j}),n.d(t,"c",function(){return A}),n.d(t,"f",function(){return I}),t.h=r,t.g=u;var f=n(43),p=n(12),h=n(11),m=n(133),y=n(99),v=n(255),g=n(10),b=n(62),_=n(100),w=n(101),k=n(66),E=n(82),S=n(22),P=n(40),C=n(8),O=n(256),T="set stream",x="channel",R="video",j="provided",A="clip",I="video-source"},function(e,t,n){"use strict";function r(e,t,n){var r=e.getState();return e.subscribe(function(){var i=!1,o=e.getState(),u=t.reduce(function(e,t){return a()(e,t,s()(o,t)),s()(o,t)!==s()(r,t)&&(i=!0),e},{});if(i){var c=r;r=o,n(u,c)}})}t.a=r;var i=n(375),a=n.n(i),o=n(222),s=n.n(o)},function(e,t,n){"use strict";function r(){return function(e,t){var n=t(),r=n.playback;e({type:D,playback:{muted:P.a.get("muted",r.muted),volume:P.a.get("volume",r.volume)}})}}function i(){return{type:N}}function a(e){return{type:G,playback:{duration:e}}}function o(e){switch(e){case C.l:return{type:U};case C.s:return{type:Q};case C.j:return{type:q};case C.e:return{type:M}}}function s(e){return{type:F,playback:{autoplay:e}}}function u(e){return{type:H,muted:e}}function c(e){return{type:z,volume:Math.max(0,Math.min(1,e))}}function l(e){return{type:V,isLoading:e}}function d(e){return{type:K,currentTime:e}}function f(e,t){return{type:W,start:e,end:t}}function p(){return{type:J}}function h(){return{type:Y}}function m(e){return{type:$,playbackRate:e}}function y(e){var t={type:te};return Number.isFinite(e)&&e>=0&&(t={type:ee,startTime:e}),t}function v(){return{type:X}}function g(e){return{type:Z,currentTime:e}}function b(e){return function(t,n){switch(n().env.playerType){case T.s:t(Object(L.q)(e));break;case T.q:w(k(e,n),n);break;case T.u:t(Object(L.q)(e)),t(Object(O.k)()),t(Object(I.h)({contentType:I.e,contentId:e}));break;default:t(Object(O.k)()),t(Object(I.h)({contentType:I.e,contentId:e}))}}}function _(e,t){return function(n,r){var i=r(),a=i.env,o=i.screenMode;if(a.playerType===T.s)n(o.isFullScreen?Object(I.h)({contentType:I.e,contentId:e}):Object(L.p)(t,e));else if(a.playerType===T.q){var s=E(e,r);w(s,r)}else n(Object(I.h)({contentType:I.e,contentId:e}))}}function w(e,t){t().window.location.search="?"+Object(A.stringify)(e)}function k(e,t){var n=t(),r=n.window,i=S(r);return j()({},{video:e},i)}function E(e,t){var n=t(),r=n.window,i=n.collection,a=S(r);return j()({},{video:e,collection:i.pendingRequest.collectionId||i.id},a)}function S(e){var t=Object(x.b)(e.location.search.slice(1));return delete t.channel,delete t.video,delete t.collection,delete t.time,t}n.d(t,"a",function(){return N}),n.d(t,"c",function(){return M}),n.d(t,"e",function(){return D}),n.d(t,"f",function(){return q}),n.d(t,"k",function(){return U}),n.d(t,"l",function(){return B}),n.d(t,"m",function(){return F}),n.d(t,"n",function(){return V}),n.d(t,"h",function(){return H}),n.d(t,"s",function(){return z}),n.d(t,"p",function(){return W}),n.d(t,"q",function(){return K}),n.d(t,"r",function(){return G}),n.d(t,"t",function(){return Q}),n.d(t,"b",function(){return Y}),n.d(t,"g",function(){return $}),n.d(t,"d",function(){return J}),n.d(t,"j",function(){return X}),n.d(t,"i",function(){return Z}),n.d(t,"o",function(){return ee}),t.x=r,t.u=i,t.J=a,t.K=o,t.E=s,t.z=u,t.L=c,t.F=l,t.I=d,t.H=f,t.w=p,t.v=h,t.y=m,t.G=y,t.B=v,t.A=g,t.D=b,t.C=_;var P=n(25),C=n(21),O=n(35),T=n(6),x=n(81),R=n(28),j=n.n(R),A=n(30),I=(n.n(A),n(16)),L=n(52),N="clear error quality restricted",M="set player ended",D="initialize playback settings",q="set player pause",U="set player playing",B="error quality restricted",F="set autoplay state",V="set loading state",H="player muted",z="volume changed",W="update buffer values",K="update current time",G="update playback duration",Q="set player waiting",Y="content is showing",$="playback rate changed",J="increment bufferEmpties count",X="player seeking",Z="player seeked",ee="set start time",te="invalid playback action"},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(314),i=n(212),a=i(function(e,t){return null==e?{}:r(e,t)});e.exports=a},function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"h",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"l",function(){return u}),n.d(t,"s",function(){return c}),n.d(t,"o",function(){return l}),n.d(t,"n",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"q",function(){return h}),n.d(t,"k",function(){return m}),n.d(t,"j",function(){return y}),n.d(t,"r",function(){return v}),n.d(t,"m",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"p",function(){return _}),n.d(t,"a",function(){return w});var r="loadstart",i="error",a="loadedmetadata",o="canplay",s="canplaythrough",u="playing",c="waiting",l="seeking",d="seeked",f="ended",p="durationchange",h="timeupdate",m="play",y="pause",v="volumechange",g="ratechange",b="loadeddata",_="stalled",w="abort"},function(e,t,n){"use strict";function r(e){return{type:a,tracker:e}}function i(e,t){return{type:o,eventName:e,eventProperties:t}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="set analytics tracker",o="track event"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.a:return t.online?s:u;case i.a:return c;case o.a:return"live"===t.streamMetadata.type?s:e;default:return e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),t.c=r;var i=n(16),a=n(135),o=n(66),s="online",u="offline",c="unknown"},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){try{return a(window[e])}catch(e){}return new u}function a(e){if(e){var t="test_item_"+Date.now();try{if(e.setItem(t,"OK"),"OK"===e.getItem(t))return e.removeItem(t),e}catch(e){}}return new u}n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this._storage=t}return o(e,[{key:"get",value:function(e,t){if(this.has(e))try{return JSON.parse(this._storage.getItem(e))}catch(e){}return t}},{key:"has",value:function(e){return null!==this._storage.getItem(e)}},{key:"set",value:function(e,t){this._storage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){this._storage.removeItem(e)}},{key:"clear",value:function(){this._storage.clear()}},{key:"usesCache",value:function(){return!(this._storage instanceof u)}}]),e}(),u=function(){function e(){r(this,e),this._cache={}}return o(e,[{key:"key",value:function(e){return Object.keys(this._cache)[e]}},{key:"getItem",value:function(e){return this._cache.hasOwnProperty(e)?this._cache[e]:null}},{key:"setItem",value:function(e,t){this._cache[e]=String(t)}},{key:"removeItem",value:function(e){delete this._cache[e]}},{key:"clear",value:function(){this._cache={}}}]),e}(),c=new s(i("sessionStorage")),l=new s(i("localStorage"));new s(new u)},function(e,t,n){"use strict";n.d(t,"p",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"o",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"F",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"B",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"v",function(){return p}),n.d(t,"E",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"u",function(){return y}),n.d(t,"I",function(){return v}),n.d(t,"z",function(){return g}),n.d(t,"G",function(){return b}),n.d(t,"H",function(){return _}),n.d(t,"s",function(){return w}),n.d(t,"l",function(){return k}),n.d(t,"k",function(){return E}),n.d(t,"t",function(){return S}),n.d(t,"d",function(){return P}),n.d(t,"A",function(){return C}),n.d(t,"j",function(){return O}),n.d(t,"i",function(){return T}),n.d(t,"C",function(){return x}),n.d(t,"D",function(){return R}),n.d(t,"y",function(){return j}),n.d(t,"x",function(){return A}),n.d(t,"n",function(){return I}),n.d(t,"w",function(){return L}),n.d(t,"r",function(){return N}),n.d(t,"m",function(){return M}),n.d(t,"q",function(){return D});var r="init",i="contentShowing",a="playbackStatistics",o="chansubRequired",s="videoFailure",u="videoFormats",c="abs_stream_format_change",l="videoFormatChanged",d="timeChange",f="bufferChange",p="segmentchange",h="usherFail",m="captions",y="seekfailed",v="viewerschange",g="streamLoaded",b="videoLoaded",_="videoPaused",w="qualitychange",k="online",E="offline",S="restricted",P="castingchange",C="theatrechange",O="midrollrequested",T="manifestExtraInfo",x="transitionToCollectionVod",R="transitionToRecommendedVod",j="stitchedadstart",A="stitchedadend",I="persistentPlayerEnableToggle",L="statsupdate",N="prompt login modal",M="openStream",D="ready"},function(e,t,n){"use strict";function r(e){return{type:d,value:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return{type:f,value:e}}function a(e){return{type:p,showUI:e}}function o(){return{type:h}}function s(){return{type:m}}function u(){return{type:y}}function c(){return{type:v}}function l(e){return{type:f,value:w,extensionsSubmenu:e}}n.d(t,"d",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return _}),n.d(t,"i",function(){return w}),t.o=r,t.r=i,t.p=a,t.s=o,t.l=s,t.n=u,t.m=c,t.q=l;var d="set miniplayer",f="show settings menu",p="set ui display",h="show ui with auto hide",m="hide ui",y="hovering on ui element",v="hovering off ui element",g="show volume slider",b="none",_="settings",w="extensions"},function(e,t,n){e.exports=n(337)},function(e,t,n){"use strict";function r(e){return{type:s,isFullScreen:e}}function i(e){return{type:u,canFullScreen:e}}function a(){return{type:c}}function o(e){return{type:l,isTheatreMode:e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return d}),t.g=r,t.f=i,t.i=a,t.h=o;var s="set fullscreen",u="set can fullscreen",c="toggle fullscreen",l="set theatre mode",d="toggle theatre mode"},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(361),u=n(163),c=n(362);t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){t=u({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:c(a),n(c(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=u({encode:!0,strict:!0,arrayFormat:"none"},t),!1===t.sort&&(t.sort=function(){});var n=r(t);return e?Object.keys(e).sort(t.sort).map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:this.parse(this.extract(e),t)}}},function(e,t,n){"use strict";function r(e){var t=/^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/,n=t.exec(e);if(!n)return null;for(var r=0,i=1;i<n.length;i++){r=60*r+(parseInt(n[i],10)||0)}return r}function i(e){for(var t=[e/3600,e/60%60,e%60],n=0;n<t.length;n++){var r=Math.floor(t[n]);t[n]=r<10?"0"+r:r}return t}function a(e){for(var t=0;t<e.length;t++)if("0"!==e[t]&&":"!==e[t])return e.substring(t,e.length);return"0"}function o(e,t){if(!isFinite(e)||e<0)return"00:00:00";var n=i(e),r=n.join(":");return t?a(r):r}function s(e){var t=i(e),n=["h","m","s"],r="";t=t.reverse(),n=n.reverse();for(var a=0;a<t.length;a++)r=t[a]+n[a]+r;return r.replace(/00(h|m|s)/g,"")}t.a=r,t.b=i,t.c=o,t.d=s},function(e,t,n){var r=n(201),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){var r;!function(t){"use strict";function i(){}function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}function s(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&s(e.listener)}var u=i.prototype,c=t.EventEmitter;u.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},u.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},u.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},u.addListener=function(e,t){if(!s(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===a(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},u.on=o("addListener"),u.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},u.once=o("addOnceListener"),u.defineEvent=function(e){return this.getListeners(e),this},u.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},u.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=a(i[r],t))&&i[r].splice(n,1);return this},u.off=o("removeListener"),u.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},u.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},u.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},u.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},u.removeAllListeners=o("removeEvent"),u.emitEvent=function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)r=n[i],!0===r.once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},u.trigger=o("emitEvent"),u.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},u.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},u._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},u._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=c,i},void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)}(this||{})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return{type:S,featuredCollection:p(e)}}function a(e){return function(t){t(s(e._id)),t({type:k,collection:h(e)})}}function o(){return function(e){e(u()),e({type:E})}}function s(e){return function(){var t,n=g.b.get(x,{}),i=n[R],a=n[j],o=n[A],s=Date.now(),u=void 0;u=o&&a&&a===e&&s-o<I?i:Object(b.a)(),g.b.set(x,(t={},r(t,R,u),r(t,j,e),r(t,A,s),t))}}function u(){return function(){g.b.remove(x)}}function c(){return{type:P}}function l(){return{type:C}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:w,request:{collectionId:e,videoId:t,timestamp:n,preferVideo:r}}}function f(){return function(){var e=g.b.get(x,{});e[A]=Date.now(),g.b.set(x,e)}}function p(e){return{id:e._id,owner:{id:e.owner._id,displayName:e.owner.display_name,name:e.owner.name},thumbnails:e.thumbnails,title:e.title,itemsCount:e.items_count}}function h(e){return{id:e._id,owner:{id:e.owner._id,displayName:e.owner.display_name,name:e.owner.name},thumbnails:e.thumbnails,title:e.title,totalDuration:e.total_duration,views:e.views,items:e.items.map(function(e){return m(e)})}}function m(e){return{itemId:e.item_id,title:e.title,owner:{displayName:e.owner.display_name},thumbnails:{small:e.thumbnails?e.thumbnails.small:L}}}function y(){return{type:O}}function v(){return{type:T}}n.d(t,"g",function(){return w}),n.d(t,"h",function(){return k}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return S}),n.d(t,"e",function(){return P}),n.d(t,"d",function(){return C}),n.d(t,"f",function(){return O}),n.d(t,"b",function(){return T}),n.d(t,"j",function(){return x}),n.d(t,"i",function(){return R}),t.m=i,t.r=a,t.k=o,t.o=c,t.n=l,t.q=d,t.s=f,t.p=y,t.l=v;var g=n(25),b=n(80),_=n(254),w="request collection",k="set collection",E="clear collection",S="fetched featured collection",P="loaded last collection item",C="loaded collection item",O="open collection sidebar",T="close collection sidebar",x="collection-session",R="session-id",j="collection-id",A="timestamp",I=_.a,L="https://static-cdn.jtvnw.net/ttv-playlists-thumbnails-prod/no-thumbnail-sm.png"},function(e,t,n){"use strict";function r(e){return{type:E,showCCModal:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e||m.a.get(y,p.a.enabled);return{type:b,captions:{enabled:t,preset:m.a.get(v,p.a.preset),style:m.a.get(g,p.a.style)}}}function a(e){return{type:_,captions:{data:e}}}function o(e){return m.a.set(y,e),function(t,n){var r=e?"block":"none",i=n().captions.style,a=u(l()({},i,{display:r}));return t({type:k,captions:{enabled:e,style:a}})}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.a.set(v,e),function(n,r){var i=r().captions.style,a=u(l()({},i,t));return m.a.set(g,a),n({type:w,captions:{preset:e,style:a}})}}function u(e){var t=f()(e.fontSize,h.i.min,h.i.max);return l()({},e,{fontSize:t})}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return w}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return E}),n.d(t,"f",function(){return S}),t.k=r,t.g=i,t.h=a,t.i=o,t.j=s;var c=n(28),l=n.n(c),d=n(469),f=n.n(d),p=n(264),h=n(84),m=n(25),y="captionsEnabled",v="captionsPreset",g="captionsStyle",b="captions settings initialized",_="captions data received",w="captions preset selected",k="captions toggled",E="captions show modal",S="custom"},function(e,t,n){var r=n(338),i=n(76),a=r(i);e.exports=a},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.a:return a()({},t.userInfo,{loggedInStatus:u});case o.b:return a()({},l,{loggedInStatus:c});default:return e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),t.c=r;var i=n(5),a=n.n(i),o=n(181),s="unknown",u="logged in",c="not logged in",l={loggedInStatus:s,id:0,isStaff:!1,name:""}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(!e)return v;try{var t=JSON.parse(atob(e.split(".")[1])),n=!(!t||!t.user_id),r=t.role,i=n?l:c;return s()({},v,{token:e,permissionsState:i,role:r})}catch(e){console.error("Error parsing extension token",e)}return s()({},v,{token:e})}n.d(t,"h",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return g}),t.j=i;var a,o=n(5),s=n.n(o),u=n(6),c="none",l="granted",d="broadcaster",f="main menu",p="extension details",h="extension manage access",m="extension report",y="hidden",v={permissionsState:c,role:"viewer"},g=(a={},r(a,u.i,!0),r(a,u.n,!0),r(a,u.e,!0),r(a,u.m,!0),r(a,u.l,!0),r(a,u.o,!0),r(a,u.r,!0),r(a,u.u,!0),r(a,u.d,!0),a)},function(e,t,n){"use strict";function r(e){return{type:_,absAvailable:e}}function i(){return function(e,t){var n=t(),r=n.quality;e({type:v,quality:h.a.get("quality",r.selected),bitrate:h.a.get("quality-bitrate",r.bitrate)})}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return function(n,r){var i=r(),a=i.analyticsTracker,o=i.manifestInfo,s=i.quality;if(-1!==i.stream.restrictedBitrates.indexOf(e))return void n({type:p.l});a.trackEvent("quality_change_request",{prev_quality:s.current,new_quality:e,serving_id:o.serving_id}),e!==k&&n(Object(p.F)(!0)),n({type:v,quality:e,bitrate:t})}}function o(e){return function(){h.a.set("quality",e.group),h.a.set("quality-bitrate",e.bandwidth)}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:g,quality:e,isAuto:t}}function u(e,t){return y()(t,function(t){return t.group+"2"===e||e+"2"===t.group})}function c(e){return function(t,n){var r=n(),i=r.quality,a=r.stream,o=e.filter(function(e){return!f()(a.restrictedBitrates,e.group)});if(o.length>0&&!o.some(function(e){return e.group===i.selected})&&i.selected!==k){var s=o.sort(function(e,t){return t.bandwidth-e.bandwidth}),c=u(i.selected,s),l=y()(s,function(e){return e.bandwidth<=i.bitrate}),d=c||l||s[s.length-1],p=d.group,h=d.bandwidth;t({type:v,quality:p,bitrate:h})}t({type:b,qualities:e})}}function l(e){var t=e.map(function(e){return{name:e.quality+"p",group:e.quality+"p"+e.frame_rate,bitrate:"",resolution:C[e.quality],source:e.source}});return{type:b,qualities:t}}n.d(t,"a",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"b",function(){return _}),n.d(t,"g",function(){return w}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return E}),n.d(t,"f",function(){return S}),n.d(t,"e",function(){return P}),t.l=r,t.j=i,t.k=a,t.o=o,t.n=s,t.p=c,t.m=l;var d=n(7),f=n.n(d),p=n(18),h=n(25),m=n(37),y=n.n(m),v="select quality",g="set current quality",b="set qualities",_="abs is availabile",w="auto-quality-forced-v2",k="auto",E=Object.freeze({bitrate:0,resolution:"0x0",group:"auto",name:"Auto"}),S="medium",P=992e3,C=Object.freeze({1080:"1920x1080",720:"1280x720",480:"854x480",360:"640x360"})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.labelClass,n=e.label,i=e.iconId,a=e.t,s=e.iconClass,u=e.svgClass,c=d()(r({"player-tip":!0},t,""!==t)),l=n?o.a.createElement("span",{className:c,"data-tip":a(n)}):null;return o.a.createElement("span",null,l,o.a.createElement("span",{className:s},o.a.createElement("svg",{className:u},o.a.createElement("use",{xlinkHref:i}))))}t.b=i,n.d(t,"a",function(){return h});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(4),l=n(2),d=n.n(l),f={labelClass:u.a.string,label:u.a.string.isRequired,iconId:u.a.string.isRequired,t:u.a.func,iconClass:u.a.string,svgClass:u.a.string},p={labelClass:"",t:function(e){return e},iconClass:"",svgClass:""};i.propTypes=f,i.defaultProps=p;var h=Object(c.c)()(i)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.a:return s()({},e,f);case i.c:return s()({},e,{loadingState:i.j,channel:t.channel,activeOverlayExtensions:[]});case i.f:return s()({},e,{loadingState:i.i,channel:t.channel,activeOverlayExtensions:t.extensions});case i.b:return s()({},e,{loadingState:i.l,channel:t.channel});case i.e:return s()({},e,{activeOverlayExtensions:e.activeOverlayExtensions.map(function(e){if(e.id!==t.extensionId)return e;var n=e.token.permissionsState===a.g;return s()({},e,{lastUserIdentityLinkState:!n})})});case i.g:return s()({},e,{activeOverlayExtensions:e.activeOverlayExtensions.map(function(e){return e.id!==t.extensionId?e:c()({},e,{lastUserIdentityLinkState:t.isLinked,token:{permissionsState:t.isLinked?a.g:a.h}})})});case i.h:return s()({},e,{modalRequest:t.modalRequest});case i.d:return s()({},e,{purchaseIntent:t.purchaseIntent});default:return e}}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h}),t.c=r;var i=n(101),a=n(39),o=n(5),s=n.n(o),u=n(77),c=n.n(u),l=n(1),d=n.n(l),f={loadingState:i.k,channel:void 0,activeOverlayExtensions:[],modalRequest:void 0,purchaseIntent:null},p=d.a.shape({id:d.a.string.isRequired,name:d.a.string.isRequired,summary:d.a.string.isRequired,anchor:d.a.string.isRequired,version:d.a.string.isRequired,viewerUrl:d.a.string.isRequired,lastUserIdentityLinkState:d.a.bool.isRequired,supportsIdentityLinking:d.a.bool.isRequired,token:d.a.shape({token:d.a.string.isRequired,permissionsState:d.a.string.isRequired,role:d.a.string.isRequired})}).isRequired,h=d.a.shape({message:d.a.shape({action:d.a.string.isRequired,payload:d.a.object.isRequired}),resultCallback:d.a.func.isRequired})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return Object(p.q)().then(function(t){return"staff"===t.type?e:Promise.reject()})}function a(e){var t,n;return new l.a({defaults:(t={},r(t,m,"no"),r(t,y,"no"),r(t,v,"no"),r(t,g,"keep"),r(t,b,"pad_control"),r(t,_,"no"),r(t,w,"control"),r(t,k,"control"),r(t,E,"control"),r(t,S,"2.1.0"),r(t,P,"no"),r(t,C,"no"),r(t,O,"control"),t),deviceID:e.deviceID,overrides:u()((n={},r(n,y,i("vca")),r(n,v,i("yes")),r(n,_,i("yes")),r(n,k,i("show")),r(n,S,i("2.0.0")),r(n,P,i("yes")),r(n,T,"variant1"),n),JSON.parse(o.cookie.get("experiment_overrides","{}"))),platform:"web",login:e.login,provider:new f.a(f.a.SERVICE_URL),Promise:Promise})}n.d(t,"h",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"j",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"i",function(){return b}),n.d(t,"a",function(){return w}),n.d(t,"k",function(){return E}),n.d(t,"g",function(){return S}),n.d(t,"l",function(){return P}),n.d(t,"e",function(){return C}),n.d(t,"c",function(){return O}),n.d(t,"b",function(){return T}),t.m=a;var o=n(98),s=(n.n(o),n(5)),u=n.n(s),c=n(248),l=n.n(c),d=n(250),f=n.n(d),p=n(10),h=n(55),m=(n.n(h),"5fbb67a0-b4ff-4775-b836-e9a348a87481"),y="9e5fffd0-9693-412b-913d-7da332fdeea4",v="1a42d36b-3f3f-4b80-8252-bdd6cc675ec3",g="354aaebd-7643-434f-be37-98fe12c01220",b="b8d1e7be-59f7-4ee3-a0c6-54ce94366d14",_="d0518b75-fbba-418a-9445-ff7c517beb32",w="d48fe249-fd73-4c8f-bd17-415b70dc3708",k="74d6faab-1794-458a-a5f6-b92602254e9e",E="6a2630a4-edc7-4f2a-8cfe-e4de75eb0d98",S="ec70bd08-dbc8-4f48-9f60-d035fec3eb20",P="4d3d19a7-38c5-4328-9730-7d99565d5edd",C="3886e2be-85fd-43a4-84b9-02024290026a",O="fd5223cb-3ae7-4a9f-9af8-ce0d44d4b9f1",T="1b959783-5196-4c52-863d-06949b814e43"},function(e,t,n){function r(e){return null!=e&&a(e.length)&&!i(e)}var i=n(91),a=n(146);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}t.a=r},function(e,t,n){"use strict";var r=n(79);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"twitch.web",n={iu:"/"+p.s+"/"+t+"/client/desktop/live/"+e.channelId,ius_szs:"300x250",sz:"640x480",impl:"s",gdfp_req:"1",env:"vp",output:"xml_vast3",url:e.url,correlator:Date.now(),cust_params:o(e),unviewed_position_start:"1"},r=f()(n,function(e,t,n){return e.push(n+"="+t),e},[]).join("&");return e.contentType===v.a?p.n+"?"+r:p.m+"?"+r}function a(e){return"string"==typeof e?e.toLowerCase().replace(/[^a-z0-9]+/g,"_"):""}function o(e){var t={partner:e.partner,game:e.game,chan:e.channel,chanid:e.channelId,deviceId:e.deviceId,twitchCorrelator:e.twitchCorrelator,embed:e.playerType===h.k,platform:e.platform,playerType:e.playerType,mature:e.mature,pos:E[e.adType],timebreak:e.duration,adblock:void 0===e.adblock?"unknown":e.adblock,sdk:e.sdk,padtime:e.padtime,broadcaster_software:e.broadcasterSoftware};if("control"!==e.skippableExpGroup&&(t.skip=e.skippableExpGroup),null!==e.communityIds&&(t.community=e.communityIds),null!==e.kruxId&&(t.kuid=e.kruxId),e.contentType===v.a&&(t.vod_id=e.vod.id,t.vod_name=e.vod.name,t.vod_type=e.vod.type),t.embed){var n=u(e.embedUrl);t.embed_url=n,t.curse_embed=n}var r=Object(y.b)(e.broadcasterSoftware),i=r.live,a=r.contentMode;return t.live=i,t.content_mode=a,t=c(e,t),f()(t,function(e,t,n){var r=String(t);return b()(S,n)?e.push(""+r.replace(/^&/,"")):(r=r.toLowerCase(),e.push(n+"="+r)),e},[]).join("&").replace(/[=&, ]/g,function(e){switch(e){case"=":return"%3D";case"&":return"%26";case",":return"%2C";case" ":return"_"}})}function s(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}function u(e){var t=Object(m.a)(e);return s(t)?t:t.host.split(".").slice(-2).join(".")}function c(e,t){var n=t;return e.qsParams&&(n.qsParams=e.qsParams),n}n.d(t,"c",function(){return _}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return k}),t.d=i,t.e=a;var l,d=n(63),f=n.n(d),p=n(8),h=n(6),m=n(45),y=n(123),v=n(11),g=n(7),b=n.n(g),_="preroll",w="midroll",k="postroll",E=(l={},r(l,_,"1"),r(l,w,"2"),r(l,k,"3"),l),S=["qsParams"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(459),a=n.n(i),o=n(37),s=n.n(o),u=Object.freeze({ABORTED:{code:1e3,message:"Media playback aborted error"},NETWORK:{code:2e3,message:"Network error"},CCU_CAP_REACHED:{code:2001,message:"Max users reached"},DECODE:{code:3e3,message:"Media resource decoding error"},FORMAT_NOT_SUPPORTED:{code:4e3,message:"Resource format not supported error"},CONTENT_NOT_AVAILABLE:{code:5e3,message:"Content not available"},RENDERER_NOT_AVAILABLE:{code:6e3,message:"Renderer not available"}}),c=u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=Object.freeze(a()(c,function(e){return e.code})),f=function(){function e(){r(this,e)}return l(e,null,[{key:"getError",value:function(e){var t=s()(c,{code:e});if(t)return t;throw new Error("Invalid error code "+e)}},{key:"getMessage",value:function(t){return e.getError(t).message}},{key:"CODES",get:function(){return d}}]),e}();t.a=f},function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?a(e):o(e)}var i=n(70),a=n(297),o=n(298),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e){return o(e)?i(e):a(e)}var i=n(203),a=n(312),o=n(44);e.exports=r},function(e,t,n){function r(e,t,n,r){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?a(n,c,l):i(n,c,l)}return n}var i=n(119),a=n(94);e.exports=r},function(e,t,n){"use strict";function r(){return{type:v}}function i(e){return{type:f,emitter:e}}function a(){return{type:p}}function o(e,t){return{type:m,collectionId:e,vodId:t}}function s(e){return{type:y,vodId:e}}function u(){return{type:b}}function c(){return{type:_}}function l(){return{type:g}}function d(){return{type:h}}n.d(t,"i",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return _}),t.m=r,t.r=i,t.n=a,t.p=o,t.q=s,t.k=u,t.l=c,t.j=l,t.o=d;var f="use event emitter",p="emit open stream",h="emit player ready",m="transition to collection",y="transition to recommended vod",v="emit fullscreen change",g="emit ad pause",b="emit ad play",_="emit ad playing"},function(e,t,n){"use strict";function r(e){var t=a.a.getError(e);return{type:o,code:t.code}}function i(){return{type:s}}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),t.d=r,t.c=i;var a=n(48),o="set error",s="clear error"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case i.g:return s()({},e,{pendingRequest:t.request});case i.c:return s()({},e,{featuredCollection:s()({},l,t.featuredCollection)});case i.h:return s()({},d,t.collection,{pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},currentView:u});case i.a:return d;case i.f:return s()({},e,{currentView:c});case i.b:return s()({},e,{currentView:u});case a.a:return s()({},e,{pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},featuredCollection:l});default:return e}}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),t.c=r;var i=n(35),a=n(16),o=n(77),s=n.n(o),u="collapsed",c="sidebar",l={id:"",itemsCount:0,owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:""},d={id:"",owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:"",totalDuration:0,views:0,items:[],currentView:"none",pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},featuredCollection:l}},function(e,t,n){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(t,r,i){void 0!==e&&e.exports?e.exports=i():n(426)("bowser",i)}(0,0,function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),a=/like android/i.test(e),s=!a&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),c=!u&&/nexus\s*[0-9]+/i.test(e),l=/CrOS/.test(e),d=/silk/i.test(e),f=/sailfish/i.test(e),p=/tizen/i.test(e),h=/(web|hpw)os/i.test(e),m=/windows phone/i.test(e),y=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),v=!i&&!d&&/macintosh/i.test(e),g=!s&&!f&&!p&&!h&&/linux/i.test(e),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=t(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),k=!w&&/[^-]mobi/i.test(e),E=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:o,version:_||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:o,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:o,version:_||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:o,version:_||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:o,version:_||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:o,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:o,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:o,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:o,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:o,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:o,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:o},b?(r.msedge=o,r.version=b):(r.msie=o,r.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:o,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?r={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:o,version:b}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:o,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?r={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:o,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:o,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=o,r.osname="Firefox OS")):d?r={name:"Amazon Silk",silk:o,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:o,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:o,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:_||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(r={name:"WebOS",osname:"WebOS",webos:o,version:_||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=o)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:o,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:p?r={name:"Tizen",osname:"Tizen",tizen:o,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:o,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?r={name:"Chromium",chromium:o,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:o},_&&(r.version=_)):i?(r={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(r.version=_)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:o,version:t(/googlebot\/(\d+(\.\d+))/i)||_}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=o):(r.name=r.name||"Webkit",r.webkit=o),!r.version&&_&&(r.version=_)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=o,r.version=r.version||t(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!s&&!r.silk?!r.windowsphone&&i?(r[i]=o,r.ios=o,r.osname="iOS"):v?(r.mac=o,r.osname="macOS"):E?(r.xbox=o,r.osname="Xbox"):y?(r.windows=o,r.osname="Windows"):g&&(r.linux=o,r.osname="Linux"):(r.android=o,r.osname="Android");var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?(S=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),S=S.replace(/[_\s]/g,".")):i?(S=t(/os (\d+([_\s]\d+)*) like mac os x/i),S=S.replace(/[_\s]/g,".")):s?S=t(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=t(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=t(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var P=!r.windows&&S.split(".")[0];return w||c||"ipad"==i||s&&(3==P||P>=4&&!k)||r.silk?r.tablet=o:(k||"iphone"==i||"ipod"==i||s||u||r.blackberry||r.webos||r.bada)&&(r.mobile=o),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=o:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=o:r.x=o,r}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=r-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(t,n,i){var a=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=e(i));var o=""+a.version;for(var u in t)if(t.hasOwnProperty(u)&&a[u]){if("string"!=typeof t[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(t));return r([o,t[u]])<0}return n}function a(e,t,n){return!i(e,t,n)}var o=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=a,s._detect=e,s.detect=e,s})},function(e,t,n){function r(e){return"number"==typeof e&&a(e)}var i=n(32),a=i.isFinite;e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e,t){var n=a(e,t);return i(n)?n:void 0}var i=n(296),a=n(301);e.exports=r},function(e,t,n){function r(e){return o(e)?i(e,!0):a(e)}var i=n(203),a=n(307),o=n(44);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"i",function(){return a}),n.d(t,"j",function(){return o}),n.d(t,"k",function(){return s}),n.d(t,"l",function(){return u}),n.d(t,"m",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"n",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return y});var r="video_ad_impression",i="video_ad_impression_complete",a="video_ad_request",o="video_ad_request_declined",s="video_ad_request_error",u="video_ad_request_response",c="video_ad_skipped",l="video_ad_error",d="video_ad_loaded",f="playback_error",p="video_ad_auction",h="video_ad_auction_response",m="video_ad_auction_error",y="video_ad_auction_init_error"},function(e,t,n){"use strict";function r(e){this._host=e.host}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return function(t){return A.v3(t,0)/4294967295<=e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return e.stream instanceof j.b?Promise.resolve(g()({},ee,{ns_st_ci:e.streamMetadata.broadcastID,ns_st_st:e.streamMetadata.channel.displayName,ns_st_ep:e.streamMetadata.channel.status,ns_st_ge:J[e.streamMetadata.game]||X,ns_st_ddt:p(new Date(e.streamMetadata.createdAt)),ns_st_ce:!0})):e.stream instanceof K.b?Object(W.A)(e.stream.videoId).then(function(e){return g()({},ee,{ns_st_ci:e.broadcast_id,ns_st_cl:1e3*e.length,ns_st_st:e.channel.display_name,ns_st_ep:e.title,ns_st_ge:J[e.game]||X,ns_st_ddt:p(new Date(e.recorded_at)),ns_st_ce:"archive"===e.broadcast_type})}):Promise.reject(new Error("No stream is currently playing; no metadata is available."))}function u(e){return e.stream instanceof j.b?e.streamMetadata.channel.partner?z.a.StreamingTag.ContentType.Live:z.a.StreamingTag.ContentType.UserGeneratedLive:e.stream instanceof K.b?Object(W.A)(e.stream.videoId).then(function(e){var t=1e3*e.length>=Z;return e.partner?t?z.a.StreamingTag.ContentType.LongFormOnDemand:z.a.StreamingTag.ContentType.ShortFormOnDemand:t?z.a.StreamingTag.ContentType.UserGeneratedLongFormOnDemand:z.a.StreamingTag.ContentType.UserGeneratedShortFormOnDemand}):z.a.StreamingTag.ContentType.Other}function c(e){return{ns_st_cl:(1e3*e.time_break).toString()}}function l(e,t){if(e.stream instanceof j.b)return z.a.StreamingTag.AdType.LinearLive;if(e.stream instanceof K.b)switch(t.roll_type){case V.c:return z.a.StreamingTag.AdType.LinearOnDemandPreRoll;case V.a:return z.a.StreamingTag.AdType.LinearOnDemandMidRoll;case V.b:return z.a.StreamingTag.AdType.LinearOnDemandPostRoll}return z.a.StreamingTag.AdType.Other}function d(e){return U()(e,function(e,t,n){return e[n]=f(t),e},{})}function f(e){switch(e){case!0:return"1";case!1:return"0";case null:return"*null"}return String(e)}function p(e){return e.getUTCFullYear()+"-"+D()(e.getUTCMonth()+1,2,"0")+"-"+D()(e.getUTCDate(),2,"0")}function h(){this._viewerSteamId=Promise.reject(),this._channelSteamId=Promise.reject(),this._viewerSteamId.then(null,function(){return null}),this._channelSteamId.then(null,function(){return null})}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){var t=String(e).trim(),n=t.indexOf(" ");return n>0?t.slice(0,n):t}var v=n(5),g=n.n(v),b=n(28),_=n.n(b),w=n(20),k=n.n(w),E=n(37),S=n.n(E),P=n(76),C=n.n(P),O=n(123),T=n(282),x=n(25),R=n(30);r.prototype._trackEvent=function(e){(new Image).src=e},r.prototype.trackVODView=function(e){this._trackEvent(e.increment_view_count_url)},r.prototype.trackView=function(e,t){var n={type:e,id:t},r={u:JSON.stringify(n)},i=this._host+"/ping.gif?"+Object(R.stringify)(r);this._trackEvent(i)};var j=n(12),A=n(427),I=n(26),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=function(){function e(t,n,r,o){i(this,e),this._analytics=t,this._sample=a(n),this._player=r,this._store=o,r.addEventListener(I.v,this._onSegmentChange.bind(this))}return L(e,[{key:"_segmentName",value:function(e){var t=this._store.getState(),n=t.stream,r=t.quality;return(n.contentType===j.a?n.channel.toLowerCase():"")+","+r.current+","+e}},{key:"_onSegmentChange",value:function(e){var t=this._segmentName(e.name);this._sample(t)&&this._store.getState().stream.contentType===j.a&&this._analytics.trackEvent("latency_report_playback",{segment:t,broadcaster_send:e.broadcaster_send,ingest_receive:e.ingest_receive,ingest_send:e.ingest_send,transcode_receive:e.transcode_receive,transcode_send:e.transcode_send,playback_start:e.playback_start})}}]),e}(),M=n(428),D=n.n(M),q=n(63),U=n.n(q),B=n(21),F=n(78),V=n(47),H=n(246),z=n.n(H),W=n(10),K=n(11),G=n(175),Q=n(15),Y=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),J={Creative:"Creative",Poker:"Poker",Music:"Music"},X="Gaming",Z=6e5,ee={ns_st_cl:null,ns_st_st:null,ns_st_pu:null,ns_st_pr:null,ns_st_ep:null,ns_st_sn:null,ns_st_en:null,ns_st_ge:null,ns_st_ti:null,ns_st_ia:!1,ns_st_ce:!1,ns_st_ddt:null,ns_st_tdt:null,c3:"TWITCH",c4:"twitch.tv",c6:null},te=function(){function e(t,n,r){o(this,e),this.analytics=t,this.player=n,this.store=r,this.ended=!1;var i=r.getState(),a=i.window;n.addEventListener(B.l,this.onPlaying.bind(this)),n.addEventListener(B.j,this.onPause.bind(this)),n.addEventListener(B.o,this.onSeeking.bind(this)),n.addEventListener(B.e,this.onEnded.bind(this)),n.addEventListener(F.AD_START,this.onAdStart.bind(this)),n.addEventListener(F.AD_IMPRESSION,this.onAdImpression.bind(this)),n.addEventListener(F.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this)),n.addEventListener(F.AD_END,this.onAdEnd.bind(this)),a.addEventListener("beforeunload",this)}return $(e,[{key:"handleEvent",value:function(e){switch(e.type){case"beforeunload":this._stop()}}},{key:"onPlaying",value:function(){var e=this.store.getState(),t=e.stream.contentType;e.ads.currentMetadata.contentType!==Q.f.NONE||t!==K.a&&t!==j.a||Promise.all([s(e),u(e)]).then(function(t){var n=Y(t,2),r=n[0],i=n[1];e.comscore.streamingTag.playVideoContentPart(d(r),i)}),this.ended=!1}},{key:"onPause",value:function(){this.store.getState().ads.currentMetadata.contentType===Q.f.NONE&&this._stop()}},{key:"onSeeking",value:function(){this.analytics.hasPlayed&&!this.player.paused&&(this.ended?(this.store.dispatch(Object(G.b)()),this.ended=!1):this._stop())}},{key:"onEnded",value:function(){this._stop(),this.ended=!0}},{key:"onAdStart",value:function(e){e.roll_type!==V.b&&this._stop()}},{key:"onAdImpression",value:function(e){var t=this.store.getState();t.comscore.streamingTag.playVideoAdvertisement(d(c(e)),l(t,e))}},{key:"onAdImpressionComplete",value:function(){this._stop()}},{key:"onAdEnd",value:function(e){e.roll_type!==V.b&&this.onPlaying()}},{key:"onBeforeUnload",value:function(){this._stop()}},{key:"destroy",value:function(){this._stop()}},{key:"_stop",value:function(){this.store.getState().comscore.streamingTag.stop()}}]),e}(),ne=n(8);h.prototype.viewerInfo=function(e){this._viewerSteamId=e.then(function(e){return e.steam_id?e.steam_id:Promise.reject()}),this._viewerSteamId.then(null,function(){return null})},h.prototype.channelInfo=function(e){this._channelSteamId=e.then(function(e){return e.steam_id?e.steam_id:Promise.reject()}),this._channelSteamId.then(null,function(){return null})},h.prototype.notify=function(){Promise.all([this._channelSteamId,this._viewerSteamId]).then(function(e){var t=e[0],n=e[1],r={channel:t,viewer:n};fetch(ne.F+"?"+Object(R.stringify)(r))}).then(null,function(){return null})};var re=n(43),ie=n(17),ae=n(6),oe=n(100),se=n(258),ue=n(180),ce=n(133),le=n(48),de=n(35);n.d(t,"e",function(){return he}),n.d(t,"g",function(){return me}),n.d(t,"j",function(){return ye}),n.d(t,"i",function(){return ve}),n.d(t,"h",function(){return ge}),n.d(t,"k",function(){return be}),n.d(t,"f",function(){return _e}),n.d(t,"b",function(){return we}),n.d(t,"d",function(){return ke}),n.d(t,"c",function(){return Ee}),n.d(t,"a",function(){return Pe});var fe=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),he="rebroadcast",me="video_play_load_start",ye="video_play_oauth",ve="video_play_nauth",ge="video_play_master_manifest",be="video_play_variant_manifest",_e="site_mini_player_action",we="watch_party",ke="watch_party_rerun",Ee="watch_party_premiere",Se=Object.freeze({segment_protocol:"https"}),Pe=function(){function e(t,n,i,a,o){m(this,e),this.player=t,this.tracker=n,this.state=i,this.store=a,this.options=o,this.hasPlayed=!1,this.bufferEmptyStartTime=null,this.bufferEmptyCount=0,this.lastNetworkProfile=-1/0,this.lastSeekTime=null,this.timeStampBeforeSeek=0,this.isSeekInProgress=!1,this.trackNetworkProfile=this.store.getState().experiments.get(re.h),this.countessTracker=new r({host:ne.i}),this.comscore=new te(this,this.player,this.store),this.latencyTracker=new N(this,.001,this.player,this.store),this.valveClient=new h,this.initProperties(),this.initEvents(),this.unsubscribes=[],this.unsubscribes.push(this._subscribeCaptions(this.store)),this.unsubscribes.push(Object(ie.a)(this.store,["quality.current","quality.selected"],this.onQualityChange.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["collection.id"],this.onCollectionChange.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["ui.isMini"],this.onMiniChange.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["playback.ended"],this.onPlaybackEnded.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["error"],this.onError.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["stream"],this.onStreamChange.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["watchParty.vodId"],this.onWatchPartyVodChange.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["watchParty.watchPartyId"],this.onWatchPartyChange.bind(this))),this.unsubscribes.push(Object(ie.a)(this.store,["chromecast.castingState"],this.onCastingChange.bind(this))),this.onError()}return pe(e,[{key:"_subscribeCaptions",value:function(e){var t=this;return Object(ie.a)(e,["captions"],function(e,n){var r=e.captions,i=n.captions;r.preset!==i.preset&&t.trackEvent("player_caption_preset",{captions_preset:r.preset})})}},{key:"initProperties",value:function(){if(this.tracker.setProperties({content_id:"",customer_id:""}),this.tracker.setProperties(Object(W.z)().then(function(e){return{login:e.login,turbo:Boolean(e.turbo)}})),this.tracker.setProperties(Object(W.q)().then(function(e){return{user_id:e._id,staff:"staff"===e.type}})),this.options.channel){var e=Object(W.a)(this.options.channel);this.valveClient.channelInfo(e);var t=Object(W.d)(this.options.channel);this.valveClient.viewerInfo(t),this.tracker.setProperties(t.then(function(e){return{subscriber:Boolean(e.chansub)}}))}}},{key:"initMinutesWatchedTimer",value:function(){this.minutesWatchedTimer=new T.b,this.minutesWatchedTimer.on(T.a,this.onMinuteWatched.bind(this))}},{key:"initEvents",value:function(){this.initMinutesWatchedTimer(),this.player.addEventListener(I.p,this.onBackendInit.bind(this)),this.player.addEventListener(B.i,this.onLoadStart.bind(this)),this.player.addEventListener(B.j,this.onPause.bind(this)),this.player.addEventListener(B.s,this.onWaiting.bind(this)),this.player.addEventListener(B.l,this.onPlaying.bind(this)),this.player.addEventListener(B.l,this.onQualityChange.bind(this)),this.player.addEventListener(B.e,this.onEnded.bind(this)),this.player.addEventListener(B.o,this.onSeeking.bind(this)),this.player.addEventListener(B.q,this.onTimeUpdate.bind(this)),this.player.addEventListener(B.b,this.onCanPlay.bind(this)),this.player.addEventListener(I.a,this.onABSStreamFormatChange.bind(this))}},{key:"onABSStreamFormatChange",value:function(e){var t=this.store.getState(),n=t.streamMetadata,r=t.manifestInfo;this.tracker.trackEvent(I.a,g()({},e,{minutes_logged:this.minutesWatchedTimer.totalMinutes,broadcast_id:n.broadcastID,manifest_broadcast_id:r.broadcast_id}))}},{key:"getNetworkProfileStats",value:function(e){function t(e,t){return e+t}if(0===e.length)return{};var n=e.map(function(e){return e.firstByteLatency}).reduce(t),r=e.map(function(e){return e.segmentDuration}).reduce(t),i=e.map(function(e){return e.downloadDuration}).reduce(t),a=e.map(function(e){return e.bytes}).reduce(t);return{transport_segments:e.length,transport_first_byte_latency:n,transport_segment_duration:r,transport_download_duration:i,transport_download_bytes:a}}},{key:"trackEvent",value:function(e,t){var n=g()({},Se,this.player.getVideoInfo()),r=_()({},k()(n,["bandwidth","cluster","current_bitrate","current_fps","dropped_frames","hls_latency_broadcaster","hls_latency_encoder","hls_latency_broadcaster_send_time","hls_latency_ingest_receive_time","hls_latency_ingest_send_time","hls_latency_transcode_receive_time","hls_latency_transcode_send_time","hls_target_duration","manifest_cluster","manifest_node","manifest_node_type","serving_id","node","user_ip","vid_display_height","vid_display_width","vid_height","vid_width","video_buffer_size","vod_cdn_origin","vod_cdn_region"]),{volume:this.player.getVolume(),muted:this.player.getMuted(),is_https:"https"===n.segment_protocol},t);this.tracker.trackEvent(e,r)}},{key:"onMinuteWatched",value:function(){var e=this,t=this.store.getState(),n=t.analytics,r=t.captions,i=t.communities,a=t.streamMetadata,o=t.collection,s=t.stream,u=t.manifestInfo,c=t.lang,l=this.player.getNetworkProfile().filter(function(e){return e.startTime>this.lastNetworkProfile}.bind(this));this.lastNetworkProfile=l.reduce(function(e,t){return Math.max(e,t.startTime)},this.lastNetworkProfile);var d=this.getNetworkProfileStats(l);this.player.video&&_()(d,{vod_timestamp:this.player.getCurrentTime()});var f={seconds_offset:this.minutesWatchedTimer.initialDelay/1e3,minutes_logged:this.minutesWatchedTimer.totalMinutes,captions_enabled:r.enabled,quality_change_count:n.qualityChangeCount,player_size_mode:this._getPlayerDisplayMode(),broadcast_id:a.broadcastID,manifest_broadcast_id:u.broadcast_id,community_ids:i.ids,transcoder_type:u.transcodestack,autoplayed:this.options.autoplay,streamType:a.streamType,language:c.langCode};if(s.contentType===K.a&&o.id){this.store.dispatch(Object(de.s)());var p=x.b.get(de.j),h=p?p[de.i]:"";f.collection_item_position=C()(o.items,{itemId:s.videoId.substr(1)}),f.collection_id=o.id,f.collection_session_id=h}this.trackEvent(ue.a.MINUTE_WATCHED,_()({},d,f)),this.store.dispatch(Object(oe.g)()),this.valveClient.notify(),this.trackNetworkProfile.then(function(t){"yes"===t&&l.length>0&&e.tracker.trackEvents(l.map(function(e){return{event:"network_profile",properties:{bytes:e.bytes,duration:e.segmentDuration,time:e.startTime+e.firstByteLatency+e.downloadDuration,time_to_first_byte:e.firstByteLatency,download_duration:e.downloadDuration,curr_buffer_length:e.currBufferLength,reason_code:e.reasonCode,curr_quality:e.currQuality}}}))})}},{key:"onBackendInit",value:function(){this.tracker.setProperty("backend",this.player.getBackend()),this.tracker.setProperty("backend_version",this.player.getVersion()),this.tracker.trackEvent("video_init")}},{key:"onLoadStart",value:function(){this.player.getChannel()?this.onLoadChannel():this.player.getVideo()&&this.onLoadVideo(),this.minutesWatchedTimer.destroy(),this.initMinutesWatchedTimer(),this.hasPlayed=!1,this.bufferEmptyCount=0,this.bufferEmptyStartTime=null}},{key:"onLoadChannel",value:function(){var e=this,t=this.player.getChannel(),n=Object(W.b)(t),r=Object(W.a)(t);n.then(function(e){this.countessTracker.trackView("channel",e._id)}.bind(this));var i={},a={},o=Promise.all([n,r]).then(function(e){var n=fe(e,2),r=n[0],o=n[1];return i=r,a=o,Object(W.h)(t)}).then(function(t){e.store.dispatch(Object(se.b)(t));var n=a.broadcaster_software,r=Object(O.b)(n),o=r.live,s=r.contentMode;return{broadcaster_software:n,live:o,channel:i.name,channel_id:i._id,game:i.game,content_mode:s,partner:i.partner,vod_type:void 0}});this.tracker.setProperties(o)}},{key:"onLoadVideo",value:function(){var e=this.player.getVideo(),t=Object(W.A)(e);this.tracker.setProperties(t.then(function(e){return Object(W.b)(e.channel.name)}).then(function(e){return k()(e,"partner")}));var n=t.then(function(e){return{channel:e.channel.name,channel_id:e.channel._id,vod:e._id,vod_id:e._id,vod_type:e.broadcast_type,game:e.game,live:!1,content_mode:"vod"}});this.tracker.setProperties(n)}},{key:"onWaiting",value:function(){var e=this.store.getState(),t=e.communities,n=e.manifestInfo,r=e.streamMetadata;this.player.getSeeking()||(this.bufferEmptyStartTime=(new Date).getTime(),this.bufferEmptyCount++,this.trackEvent(ue.a.BUFFER_EMPTY,{buffer_empty_count:this.bufferEmptyCount,community_ids:t.ids,broadcast_id:r.broadcastID,manifest_broadcast_id:n.broadcast_id}))}},{key:"onPlaying",value:function(){var e=this,t=this.store.getState(),n=t.analytics,r=t.communities,i=t.stream,a=t.streamMetadata,o=t.collection,s=t.manifestInfo;if(null!==this.bufferEmptyStartTime){var u=(new Date).getTime();this.trackEvent(ue.a.BUFFER_REFILL,{buffering_time:(u-this.bufferEmptyStartTime)/1e3,broadcast_id:a.broadcastID,community_ids:r.ids,manifest_broadcast_id:s.broadcast_id}),this.bufferEmptyStartTime=null}if(!this.hasPlayed){var c={time_since_load_start:Date.now()-n.playSessionStartTime,community_ids:r.ids,manifest_broadcast_id:s.broadcast_id,broadcast_id:a.broadcastID,autoplayed:this.options.autoplay};if(i.contentType===K.a&&(Object(W.A)(i.videoId).then(function(t){e.countessTracker.trackVODView(t)}),o.id)){var l=x.b.get(de.j),d=l?l[de.i]:"";c.collection_item_position=C()(o.items,{itemId:i.videoId.substr(1)}),c.collection_id=o.id,c.collection_session_id=d}this.trackEvent(ue.a.VIDEO_PLAY,c),this.hasPlayed=!0,this.valveClient.notify(),this.store.dispatch(G.c()),this.store.dispatch(G.d())}this.minutesWatchedTimer.start()}},{key:"onCanPlay",value:function(){this.isSeekInProgress&&(this.isSeekInProgress=!1,this.trackEvent("vod_seek",{timestamp_departed:this.timeStampBeforeSeek,timestamp_target:this.player.getCurrentTime(),time_spent_seeking:(Date.now()-this.lastSeekTime)/1e3})),this.timeStampBeforeSeek=this.player.getCurrentTime()}},{key:"onSeeking",value:function(){this.hasPlayed&&!this.isSeekInProgress&&(this.isSeekInProgress=!0,this.lastSeekTime=Date.now())}},{key:"onTimeUpdate",value:function(){if(!this.isSeekInProgress){var e=this.player.getCurrentTime();e-this.timeStampBeforeSeek<500&&this.timeStampBeforeSeek<e&&(this.timeStampBeforeSeek=e)}}},{key:"onPause",value:function(){var e=this.store.getState(),t=e.ads,n=e.adsManager,r=e.stream;(t.currentMetadata.contentType!==Q.f.IMA||r.contentType!==K.a||n.paused)&&this.minutesWatchedTimer.stop()}},{key:"onPlaybackEnded",value:function(){this.store.getState().playback.ended&&this.trackEvent("video_end",{})}},{key:"onError",value:function(){var e=this.store.getState().error,t=e.hasError,n=e.code;t&&this.trackEvent(ue.b,{reason:le.a.getMessage(n),code:n})}},{key:"onStreamChange",value:function(){var e=this.store.getState(),t=e.stream,n={content_id:"",customer_id:""};t.contentType===ce.a&&(n=g()(n,{content_id:t.contentId,customer_id:t.customerId})),this.tracker.setProperties(n)}},{key:"onCollectionChange",value:function(){var e=this.store.getState(),t=e.collection;t.id&&this.countessTracker.trackView("collection",t.id)}},{key:"onWatchPartyVodChange",value:function(){var e=this.store.getState(),t=e.watchParty;t&&t.vodId&&t.incrementViewCountURL&&this.countessTracker.trackVODView({increment_view_count_url:t.incrementViewCountURL}),t&&this.tracker.setProperty("vod_type",t.broadcastType)}},{key:"onWatchPartyChange",value:function(){var e=this.store.getState(),t=e.watchParty;t&&t.watchPartyId&&this.countessTracker.trackView("watch_party",t.watchPartyId)}},{key:"onEnded",value:function(){this.minutesWatchedTimer.reset(),this.bufferEmptyStartTime=null}},{key:"onQualityChange",value:function(){var e=this.store.getState(),t=e.quality;if(0!==t.available.length){var n=S()(t.available,function(e){return e.group===t.selected}),r=n?n.name:t.current;this.tracker.setProperty("quality",y(r)),this.tracker.setProperty("stream_format",t.current)}}},{key:"onCastingChange",value:function(e){var t=e.chromecast,n=t.castingState,r=this.store.getState(),i=r.env;"connected"===n||"connecting"===n?this.tracker.setProperties({player:"chromecast",chromecast_sender:i.platform}):this.tracker.setProperties({player:i.playerType,chromecast_sender:null})}},{key:"onMiniChange",value:function(){var e=this.store.getState(),t=e.env,n=e.ui;t.playerType===ae.s&&this.tracker.setProperty("player",n.isMini?ae.t:ae.s)}},{key:"_getPlayerDisplayMode",value:function(){var e=this.store.getState(),t=e.ui;return e.screenMode.isFullScreen?"fullscreen":this.options.player===ae.q?"popout":this.player.getTheatre()?"theatre mode":t.isMini?"mini":""}},{key:"destroy",value:function(){this.minutesWatchedTimer.destroy(),this.comscore.destroy(),this.unsubscribes.map(function(e){e()})}}]),e}()},function(e,t,n){function r(e,t,n){var r=u(e)?i:s,c=arguments.length<3;return r(e,o(t,4),n,c,a)}var i=n(368),a=n(125),o=n(75),s=n(370),u=n(19);e.exports=r},function(e,t,n){"use strict";e.exports=n(402)()?Symbol:n(403)},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";function r(e){return{type:b,streamMetadata:c(e)}}function i(e){return{type:b,streamMetadata:l(e)}}function a(e){return function(t,n){if(n().stream.contentType===h.a&&n().streamMetadata.broadcastID!==e){var r=n().window,a=n().stream.channel,o=0;return new Promise(function(s,u){function c(){if(a!==n().stream.channel)return void u();Object(p.y)(a).then(function(n){n.stream&&n.stream._id===e?(t(Object(y.b)(n.stream.viewers)),t(i(n.stream)),s(n)):o<w.length?(r.setTimeout(c,w[o]),o+=1):u()})}c()})}}}function o(e){return function(t,n){e.contentType===h.a?Object(p.y)(e.channel).then(function(n){n.stream?t(i(n.stream)):Object(p.b)(e.channel).then(function(e){t({type:b,streamMetadata:d(e)})})}):e.contentType===m.a&&Object(p.A)(e.videoId).then(function(e){t(r(e))})}}function s(e){return function(t,n){Object(p.b)(e).then(function(e){t({type:b,streamMetadata:g()({},d(e),{streamType:"dead_ltv"})})})}}function u(e){return{type:b,streamMetadata:g()({},f(e))}}function c(e){return{broadcastID:e.broadcast_id,type:e.broadcast_type,name:e.title,channel:{displayName:e.channel.display_name,name:e.channel.name,id:e.channel._id,partner:e.channel.partner,status:e.status,videoBanner:e.channel.video_banner,logo:e.channel.logo,mature:e.channel.mature},createdAt:e.created_at,game:e.game,preview:{template:e.preview},url:e.url,viewers:_}}function l(e){return{broadcastID:e._id,type:"live",streamType:e.stream_type,name:"",channel:{displayName:e.channel.display_name,name:e.channel.name,id:e.channel._id,partner:e.channel.partner,status:e.channel.status,videoBanner:e.channel.video_banner,logo:e.channel.logo,mature:e.channel.mature},createdAt:e.created_at,game:e.game,preview:{template:e.preview.template},url:e.channel.url,viewers:e.viewers}}function d(e){return{channel:{displayName:e.display_name,name:e.name,id:e._id,partner:e.partner,status:e.status,videoBanner:e.video_banner,logo:e.logo,mature:e.mature},game:e.game,url:e.url}}function f(e){var t={id:e.tracking_id,channel:{channelUrl:e.broadcaster.channel_url,displayName:e.broadcaster.display_name,name:e.broadcaster.name,id:e.broadcaster.id,logo:e.broadcaster.logo},curator:{channelUrl:e.curator.channel_url,displayName:e.curator.display_name,name:e.curator.name,id:e.curator.id,logo:e.curator.logo},game:e.game,url:e.url,title:e.title,thumbnails:e.thumbnails,createdAt:e.created_at,duration:e.duration,embedHtml:e.embed_html,embedUrl:e.embed_url,language:e.language,slug:e.slug,viewCount:e.views,clipHasVod:!1,segments:e.segments},n={};return e.vod&&(n.clipVideoId=e.vod.id,n.clipVideoOffset=e.vod.offset,n.clipVideoUrl=e.vod.url,n.clipVideoPreviewImageUrl=e.vod.preview_image_url,n.clipHasVod=!0),g()(t,n)}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return _}),t.e=a,t.c=o,t.d=s,t.f=u;var p=n(10),h=n(12),m=n(11),y=n(179),v=n(5),g=n.n(v),b="set streammetadata",_=0,w=[15e3,3e4,6e4,12e4,3e5,6e5]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return A}),n.d(t,"b",function(){return N});var i=n(34),a=n.n(i),o=n(40),s=n(26),u=n(21),c=n(12),l=n(15),d=n(62),f=n(61),p=n(22),h=n(48),m=n(53),y=n(23),v=n(37),g=n.n(v),b=n(261),_=n.n(b),w=n(184),k=n.n(w),E=n(63),S=n.n(E),P=n(7),C=n.n(P),O=n(262),T=n.n(O),x=n(5),R=n.n(x),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=("function"==typeof Symbol&&Symbol.iterator,"player-core"),I={playbackRate:0,fps:0,bufferSize:0,skippedFrames:0,memoryUsage:"Unknown",hlsLatencyEncoder:0,hlsLatencyBroadcaster:0,videoResolution:"0x0",displayResolution:"0x0",backendVersion:""},L=[u.j,u.l,u.s,u.f],N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];r(this,e),this.store=n,this.video=document.createElement("video"),this._autoplay=t.autoplay,this._hasRetried=!1,this.playerCoreLogLevel=t["cvp-log"]||"error",this._emitVariantManifestTracking=!0,this.offline=!1,t.playsinline&&(this.video.setAttribute("webkit-playsinline",""),this.video.setAttribute("playsinline","")),t.muted&&this.video.setAttribute("muted",""),this.initialize()}return j(e,[{key:"initialize",value:function(){var e=this;this.events=this.events instanceof a.a?this.events:new a.a,this.currentCaptionData={},this.loadPlayerCore().then(function(t){e._initPlayerCore(t.handle,t.config),e._initVideoEvents(),e.load()},function(t){e.onCoreAnalytics(t)})}},{key:"_initVideoEvents",value:function(){this.video.addEventListener(u.l,this.onVideoTagPlaying.bind(this)),this.video.addEventListener(u.j,this.onVideoTagPause.bind(this))}},{key:"_initPlayerCore",value:function(e,t){this.playerCoreEvents=e.Event,this.core=new e(R()({},t,{analyticsTracker:this.store.getState().analyticsTracker,logLevel:this.playerCoreLogLevel})),this.core.attachMedia(this.video),this.core.addEventListener(this.playerCoreEvents.HLS_MASTER_PARSED,this.onHLSMasterParsed.bind(this)),this.core.addEventListener(this.playerCoreEvents.HLS_VARIANT_PARSED,this.onHLSVariantParsed.bind(this)),this.core.addEventListener(this.playerCoreEvents.VARIANT_SWITCH_REQUESTED,this.onVariantSwitchRequested.bind(this)),this.core.addEventListener(this.playerCoreEvents.SEGMENT_CHANGED,this.onID3Tag.bind(this)),this.core.addEventListener(this.playerCoreEvents.SPLICEOUT,this.onSpliceOut.bind(this)),this.core.addEventListener(this.playerCoreEvents.SPLICEIN,this.onSpliceIn.bind(this)),this.core.addEventListener(this.playerCoreEvents.CAPTION,this.onCaption.bind(this)),this.core.addEventListener(this.playerCoreEvents.AUTH_ERROR,this.onAuthError.bind(this)),this.core.addEventListener(this.playerCoreEvents.CORE_ANALYTICS,this.onCoreAnalytics.bind(this)),this.core.addEventListener(this.playerCoreEvents.OFFLINE,this.onOfflineError.bind(this)),this.core.addEventListener(this.playerCoreEvents.BUFFERING,this.onBuffering.bind(this)),this.core.addEventListener(this.playerCoreEvents.FATAL_ERROR,this.onFatalError.bind(this)),this.events.emit(s.p)}},{key:"onBuffering",value:function(){this.events.emitEvent(u.s)}},{key:"onVideoTagPlaying",value:function(){this.events.emitEvent(u.l)}},{key:"onVideoTagPause",value:function(){this.events.emitEvent(u.j)}},{key:"onFatalError",value:function(e){var t=e.code;this.store.dispatch(Object(p.d)(f.n,{playback_error_code:8001,playback_error_msg:"fatal_error"}));var n={1:h.a.CODES.ABORTED,2:h.a.CODES.NETWORK,3:h.a.CODES.DECODE,4:h.a.CODES.FORMAT_NOT_SUPPORTED},r=n[t]||h.a.CODES.ABORTED;this.store.dispatch(Object(m.d)(r))}},{key:"onHLSMasterParsed",value:function(e){this._hasRetried=!1,this._emitVariantManifestTracking=!0;var t=this.store.getState(),n=t.analytics;t.analyticsTracker.trackEvent(d.h,{time_since_load_start:Date.now()-n.playSessionStartTime});var r=S()(e,function(e,t,n){return e[n.toLowerCase().replace(/-/g,"_")]=t,e},{});this.events.emit(s.i,r),this.events.emit(s.s,{quality:this.getQuality(),isAuto:String(this.getQuality()).toLowerCase()===o.h})}},{key:"onOfflineError",value:function(){this.store.dispatch(Object(p.d)(f.n,{playback_error_code:8002,playback_error_msg:"offline_error"})),this.offline=!0,this.events.emit(s.k),this.events.emit(u.e)}},{key:"onHLSVariantParsed",value:function(){if(this._emitVariantManifestTracking){var e=this.store.getState(),t=e.analytics;e.analyticsTracker.trackEvent(d.k,{time_since_load_start:Date.now()-t.playSessionStartTime}),this._emitVariantManifestTracking=!1}}},{key:"_onABSFormatChange",value:function(e){var t=e.current,n=e.previous,r=e.stats,i={stream_format_previous:n,stream_format_current:t},a=Object.assign({},r,i);this.events.emit(s.a,a)}},{key:"onVariantSwitchRequested",value:function(e){var t=this,n=e.current,r=e.previous,i=e.stats,a=this.getQuality(),u=String(a).toLowerCase()===o.h&&r&&i;this._onVariantSwitchComplete&&this.core.removeEventListener(this.playerCoreEvents.SEGMENT_CHANGED,this._onVariantSwitchComplete),this._onVariantSwitchComplete=function(e){var r=e.variant;T()(n,r)&&(t.events.emit(s.s,{quality:r,isAuto:String(a).toLowerCase()===o.h}),t.core.removeEventListener(t.playerCoreEvents.SEGMENT_CHANGED,t._onVariantSwitchComplete),t._onVariantSwitchComplete=!1)},this.core.addEventListener(this.playerCoreEvents.SEGMENT_CHANGED,this._onVariantSwitchComplete),u&&this._onABSFormatChange(e)}},{key:"onID3Tag",value:function(e){var t=g()(e.ID3,function(e){return"TOFN"===e.id}),n=g()(e.ID3,function(e){return"TXXX"===e.id});if(t){var r={name:t.info[0]};this.events.emit(s.v,r)}if(n&&"content"!==n.desc){var i=JSON.parse(n.info[0]);"commercial"===i.cmd&&this.events.emit(s.j,{duration:i.length})}}},{key:"onSpliceOut",value:function(e){this.events.emit(s.y,e)}},{key:"onSpliceIn",value:function(){this.events.emit(s.x)}},{key:"getStats",value:function(){var e=this.core?this.core.getPlaybackStatistics():I;return{playbackRate:k()(e.playbackRate,2)||0,fps:k()(e.fps)||0,bufferSize:k()(e.bufferSize),skippedFrames:e.skippedFrames,memoryUsage:e.memoryUsage+" MB",hlsLatencyEncoder:k()(e.hlsLatencyEncoder/1e3)||0,hlsLatencyBroadcaster:k()(e.hlsLatencyBroadcaster/1e3)||0,videoResolution:e.videoResolution,displayResolution:e.displayResolution,backendVersion:this.getVersion()}}},{key:"onCaption",value:function(e){this.currentCaptionData=e,this.events.emit(s.c)}},{key:"getCaption",value:function(){return this.currentCaptionData}},{key:"onAuthError",value:function(){this.store.getState().onlineStatus===y.a||(this._hasRetried?(this.store.dispatch(Object(m.d)(h.a.CODES.CONTENT_NOT_AVAILABLE)),this.store.dispatch(Object(p.d)(f.n,{playback_error_code:8003,playback_error_msg:"fatal_auth_error"}))):(this._hasRetried=!0,this._retryStreamLoad(),this.store.dispatch(Object(p.d)(f.n,{playback_error_code:8004,playback_error_msg:"warn_auth_error"}))))}},{key:"_retryStreamLoad",value:function(){var e=this,t=this.store.getState(),n=t.stream;return this.destroy(),delete this.src,this.initialize(),n.resetNAuthToken(),n.streamUrl.then(function(t){e.setSrc(t),e.core.play()})}},{key:"onCoreAnalytics",value:function(e){this.store.getState().analyticsTracker.trackEvent(e.spadeEventName,e.spadeEventData)}},{key:"addEventListener",value:function(e,t){this.events.on(e,t),C()(L,e)||this.video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.off(e,t),this.video.removeEventListener(e,t)}},{key:"attach",value:function(e){e.appendChild(this.video)}},{key:"detach",value:function(e){e.removeChild(this.video)}},{key:"load",value:function(){this.core&&this.src&&(this.offline=!1,this.core.loadURL(this.src),this._autoplay&&this.core.play())}},{key:"getSrc",value:function(){return this.src}},{key:"setSrc",value:function(e){this.src=e,this.src&&this.load()}},{key:"getVolume",value:function(){return this.video.volume}},{key:"setVolume",value:function(e){this.video.volume=e}},{key:"setMuted",value:function(e){e?this.video.setAttribute("muted",""):this.video.removeAttribute("muted"),this.video.muted=e}},{key:"getMuted",value:function(){return this.video.muted}},{key:"setChannel",value:function(e,t){var n=this;return t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.channelName&&n.setSrc(t)})}},{key:"setVideo",value:function(e,t){var n=this;t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.videoId&&n.setSrc(t)})}},{key:"setQuality",value:function(e){this.core&&this.core.setQuality(e)}},{key:"getQualities",value:function(){return this.core?this.core.getQualities():[]}},{key:"getQuality",value:function(){return this.core?this.core.getQuality():""}},{key:"elapsedTime",value:function(){return this.core?this.core.elapsedTime():0}},{key:"getCurrentTime",value:function(){return this.video.currentTime}},{key:"setCurrentTime",value:function(e){this.video.currentTime=e}},{key:"getDuration",value:function(){return this.video.duration||0}},{key:"getNetworkProfile",value:function(){return this.core?this.core.getNetworkProfile():[]}},{key:"getBuffered",value:function(){return this.video.buffered}},{key:"getReadyState",value:function(){return this.video.readyState}},{key:"getNetworkState",value:function(){return this.video.networkState}},{key:"getEnded",value:function(){return this.offline||this.core&&this.core.ended()}},{key:"getError",value:function(){return this.video.error}},{key:"getVersion",value:function(){return this.core?this.core.getVersion():""}},{key:"getBackend",value:function(){return A}},{key:"play",value:function(){var e=this,t=this.store.getState(),n=t.ads,r=t.stream,i=n.currentMetadata.contentType===l.f.STITCHED,a=r instanceof c.b;!i&&a?this.setChannel(r.channel,r).then(function(){e.core.play()}):this.core.play()}},{key:"pause",value:function(){this.core.pause(),this.store.getState().stream instanceof c.b&&this.core.stop()}},{key:"getPaused",value:function(){return this.core?this.core.paused():this.video.paused}},{key:"getSeeking",value:function(){return this.video.seeking}},{key:"getVideoInfo",value:function(){var e=this.core?this.core.getVideoInfo():{},t=this.store.getState(),n=t.manifestInfo,r=t.window;return{bandwidth:e.playbackRate,broadcast_id:parseInt(e.broadcastId,10),cluster:n.cluster,current_bitrate:e.playbackRate,current_fps:k()(e.fps),current_fps_exact:e.fps,dropped_frames:e.skippedFrames,hls_latency_broadcaster:k()(e.hlsLatencyBroadcaster),hls_latency_encoder:k()(e.hlsLatencyEncoder),hls_target_duration:e.targetDuration,manifest_cluster:n.manifest_cluster,manifest_node:n.manifest_node,manifest_node_type:n.manifest_node_type,node:n.node,paused:this.getPaused(),playing:!this.getPaused(),segment_protocol:"https:"===r.location.protocol?"https":"http",serving_id:n.serving_id,stream_time:this.video.currentTime,stream_time_offset:parseFloat(n.stream_time),totalMemoryNumber:e.memoryUsage,user_ip:n.user_ip,vid_display_height:e.displayHeight,vid_display_width:e.displayWidth,vid_height:e.videoHeight,vid_width:e.videoWidth,video_buffer_size:e.bufferSize,volume:this.getVolume(),vod_cdn_origin:n.origin,vod_cdn_region:n.region}}},{key:"getPlayed",value:function(){return this.video.played}},{key:"getStatsEnabled",value:function(){return!1}},{key:"setPlaybackRate",value:function(e){this.core&&(this.core.setPlaybackRate(e),this.events.emitEvent(u.m))}},{key:"getPlaybackRate",value:function(){return this.core?this.core.getPlaybackRate():1}},{key:"absAvailable",value:function(){return!(!this.core||!this.core.absAvailable)&&this.core.absAvailable()}},{key:"destroy",value:function(){this.core&&(this.core.pause(),this.core.destroy()),this.store.getState().window.clearInterval(this.statsUpdateLoop)}},{key:"loadPlayerCore",value:function(){return _.a.load({value:"1.8.13"})}}]),e}();N.canPlay=function(){return _.a.canLoad()}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case u.b:return a()({},e,{deviceName:t.deviceName});case u.a:return s()(p,t.castingState)?a()({},e,{castingState:t.castingState}):e;default:return e}}n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return p}),t.f=r;var i=n(5),a=n.n(i),o=n(7),s=n.n(o),u=n(102),c="unavailable",l="available",d="connecting",f="connected",p=Object.freeze([c,l,d,f]),h={deviceName:"",castingState:c}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments[1];switch(t.type){case p.a:return u()({},e,{deviceId:t.deviceId});case p.b:var n=v()(m.a,t.playerType)?t.playerType:e.playerType;return u()({},e,{playerType:n});case p.c:return u()({},e,{twitchEverywhere:t.params});case h.a:return u()({},e,{platform:i((t.window.navigator||{}).userAgent),isMobileLocation:a(t.window)});default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l.a._detect(e);return t.mobile||t.tablet?E:k}function a(e){var t=Object(d.a)(e.document.referrer),n=void 0;try{n=e!==e.top}catch(e){n=!0}return n&&b()(t.protocol)===C&&o(t.host)}function o(e){var t=b()(e);return t===P||w()(t,"."+P)}n.d(t,"a",function(){return E}),t.b=r;var s=n(5),u=n.n(s),c=n(55),l=n.n(c),d=n(45),f=n(6),p=n(138),h=n(139),m=n(6),y=n(7),v=n.n(y),g=n(470),b=n.n(g),_=n(471),w=n.n(_),k="web",E="mobile_web",S=Object.freeze({deviceId:"",playerType:f.q,platform:k,isMobileLocation:!1}),P="m.twitch.tv",C="https"},function(e,t,n){var r=n(32),i=r.Symbol;e.exports=i},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(205);e.exports=r},function(e,t,n){function r(e,t){return i(e)?e:a(e,t)?[e]:o(s(e))}var i=n(19),a=n(151),o=n(316),s=n(93);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var i=n(113),a=1/0;e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?a(e[0],e[1]):i(e):u(e)}var i=n(339),a=n(358),o=n(105),s=n(19),u=n(359);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=null==n?0:o(n);return u<0&&(u=s(r+u,0)),i(e,a(t,3),u)}var i=n(204),a=n(75),o=n(72),s=Math.max;e.exports=r},function(e,t,n){var r=n(363),i=n(157),a=i(function(e,t,n){r(e,t,n)});e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AD_START",function(){return r}),n.d(t,"AD_END",function(){return i}),n.d(t,"COMPANION_RENDERED",function(){return a}),n.d(t,"AD_IMPRESSION",function(){return o}),n.d(t,"AD_IMPRESSION_COMPLETE",function(){return s}),n.d(t,"AD_SKIPPED",function(){return u}),n.d(t,"AD_ERROR",function(){return c});var r="adstart",i="adend",a="adcompanionrendered",o="adImpression",s="adImpressionComplete",u="adSkipped",c="adError"},function(e,t,n){"use strict";var r=n(239)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++){var i=Math.floor(Math.random()*t.length);n+=t.charAt(i)}return n}t.a=r},function(e,t,n){"use strict";function r(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i=/^(.+?)(?:=(.+))?$/.exec(n[r]);if(i){var a=i[1],o=i[2];if("true"===o)o=!0;else if("false"===o)o=!1;else if(void 0!==o)try{var u=JSON.parse(decodeURIComponent(o));o="object"===(void 0===u?"undefined":s(u))?u:decodeURIComponent(o)}catch(e){o=decodeURIComponent(o)}else"!"===a[0]?(a=a.substring(1),o=!1):o=!0;t[a]=o}}return t}function i(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];n=encodeURIComponent(n),!0===r?t.push(n):!1===r?t.push("!"+n):null!==r&&"object"===(void 0===r?"undefined":s(r))?(r=encodeURIComponent(JSON.stringify(r)),t.push(n+"="+r)):(r=encodeURIComponent(r),t.push(n+"="+r))}return t.join("&")}function a(e){if(void 0!==e){if(!/^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/.exec(e)){var t=parseInt(e,10);return o.d(t)}}return e}t.b=r,t.c=i,t.a=a;var o=n(31),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=null,o=function(){function e(){r(this,e)}return i(e,[{key:"contentType",get:function(){return a}},{key:"channel",get:function(){return""}},{key:"restrictedBitrates",get:function(){return[]}},{key:"videoId",get:function(){return""}},{key:"slug",get:function(){return""}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),e}(),s=new o},function(e,t,n){"use strict";function r(e){return{type:s,embedHost:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:u,event:e,data:t}}function a(e){return{type:c,data:{deltaMode:e.deltaMode,deltaX:e.deltaX,deltaY:e.deltaY,shiftKey:e.shiftKey}}}function o(e){return{type:l,event:e.name,data:e.properties}}n.d(t,"d",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),t.f=r,t.e=i,t.h=a,t.g=o;var s="use embed event emitter",u="ad companion rendered",c="wheel event embedded player",l="first party analytic event"},function(e,t,n){"use strict";function r(e,t){return"transparent"===e?"transparent":"rgba("+e+","+t+")"}n.d(t,"l",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"m",function(){return y}),t.c=r,n.d(t,"f",function(){return v}),n.d(t,"b",function(){return g}),n.d(t,"i",function(){return b});var i=n(28),a=n.n(i),o={fontSize:20,font:"prop-sans-serif",fontOpacity:"solid",alignment:"left",edge:"none",verticalPosition:"bottom",backgroundColorName:"black",backgroundOpacity:"solid",windowColorName:"transparent",windowOpacity:"solid",fontUnderline:"none",fontBold:"none",fontItalic:"none"},s=a()({},o,{backgroundColorName:"black",backgroundOpacity:"translucent"}),u={"white-on-black":a()({},o,{fontColorName:"white"}),"cyan-on-black":a()({},o,{fontColorName:"cyan"}),"yellow-on-black":a()({},o,{fontColorName:"yellow"}),"lime-on-black":a()({},o,{fontColorName:"green"}),"magenta-on-black":a()({},o,{fontColorName:"magenta"}),"white-on-trans-black":a()({},s,{fontColorName:"white"}),"cyan-on-trans-black":a()({},s,{fontColorName:"cyan"}),"yellow-on-trans-black":a()({},s,{fontColorName:"yellow"}),"lime-on-trans-black":a()({},s,{fontColorName:"green"}),"magenta-on-trans-black":a()({},s,{fontColorName:"magenta"}),"black-on-white":a()({},o,{backgroundColorName:"white",fontColorName:"black"})},c={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},l={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"},flashing:{opacityValue:1,animation:"blink .75s linear infinite"}},d={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},f={left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"}},p={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},h={italic:{fontStyle:"italic"},none:{fontStyle:"normal"}},m={bold:{fontWeight:"bold"},none:{fontWeight:"normal"}},y={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}},v={black:{fontColorValue:"0,0,0"},white:{fontColorValue:"255,255,255"},red:{fontColorValue:"255,0,0"},green:{fontColorValue:"0,255,0"},blue:{fontColorValue:"0,0,255"},yellow:{fontColorValue:"255,255,0"},magenta:{fontColorValue:"255,0,255"},cyan:{fontColorValue:"0,255,255"}},g={black:{backgroundColorValue:"0,0,0"},white:{backgroundColorValue:"255,255,255"},red:{backgroundColorValue:"255,0,0"},green:{backgroundColorValue:"0,255,0"},blue:{backgroundColorValue:"0,0,255"},yellow:{backgroundColorValue:"255,255,0"},magenta:{backgroundColorValue:"255,0,255"},cyan:{backgroundColorValue:"0,255,255"},lightgray:{backgroundColorValue:"199,199,199"},gray:{backgroundColorValue:"145,145,145"},darkgray:{backgroundColorValue:"91,91,91"},transparent:{backgroundColorValue:"transparent"}},b={increment:5,decrement:-5,max:40,min:10}},function(e,t,n){"use strict";function r(){var e=this;e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}function i(){this._lastKnownTimeStamp=0,this._paused=!0,this._lastTimeUpdated=(new Date).getTime()}function a(e,t){function o(e){return{playbackRate:d()(.0078125*e.playback_bytes_per_second,2),fps:d()(e.current_fps),bufferSize:d()(e.video_buffer_size),skippedFrames:e.dropped_frames,memoryUsage:Math.floor(e.totalMemoryNumber/1024/1024).toString()+"MB",hlsLatencyEncoder:e.hasOwnProperty("hls_latency_encoder")?d()(.001*e.hls_latency_encoder):0,hlsLatencyBroadcaster:e.hasOwnProperty("hls_latency_broadcaster")?d()(.001*e.hls_latency_broadcaster):0,videoResolution:e.hasOwnProperty("vid_width")?e.vid_width+"x"+e.vid_height:"",displayResolution:e.hasOwnProperty("stageWidth")?e.stageWidth+"x"+e.stageHeight:"",backendVersion:Ie.getVersion()}}function u(){Ue=!0,De.resolve(),Me.emit(b.p)}function l(e){et=e,Me.emit(b.c)}function f(e){s()(e.volume)&&($e=Math.min(Math.max(e.volume,0),1),Me.emit(g.r))}function h(e){Ye=e.duration||0,Me.emit(g.d),st&&Me.emit(g.h)}function K(e){Ze=e.formats}function G(e){Xe=e.format,Me.emit(b.s,{quality:e.format,isAuto:!1})}function Q(e){e&&e.format&&Xe!==e.format&&(Xe=e.format,Me.emit(b.s,{quality:Xe,isAuto:!1})),Ve=_.c,Me.emit(g.i),Ye=0,Me.emit(g.d),Se(Ae("getVideoTime")),Ce()}function Y(){Me.emit(g.b)}function $(e){Ge&&(Ge=!1,Me.emit(g.k)),at=!1,Xe=e.format,Se(Ae("getVideoTime")),Pe(),Fe<w.c&&(null!==Ie.getChannel()&&(Ye=1/0),Fe=w.c,Me.emit(g.h)),Fe<w.a&&(Fe=w.a,Me.emit(g.g)),Fe=w.b,Me.emit(g.l)}function J(){Ge=!0,Me.emit(g.j),it instanceof k.b&&(Fe=w.d),Ce()}function X(){Me.emit(b.k),at||Fe!==w.d||(at=!0,Me.emit(g.e)),at=!0,Fe=w.d,Ce()}function Z(){t.dispatch(Object(O.d)(C.a.CODES.ABORTED))}function ee(){at=!0,Fe=w.d,Me.emit(g.e),Ce()}function te(e){Ce(),Se(0),He=e.channel,ze=null}function ne(e){Ce(),Se(0),st=!0;var t=e.videoId;isNaN(t[0])||(t="v"+t),ze=t,He=null,Fe=w.c}function re(){Ce(),Qe=!0,Me.emit(g.o)}function ie(){Qe=!1,Me.emit(g.n)}function ae(){Qe=!1}function oe(){Se(Ae("getVideoTime"))}function se(e){tt=e,Me.emit(b.b,e)}function ue(){Ce(),Fe=w.a,Me.emit(g.s)}function ce(e){Ge=!1,ze&&Ce(),Me.emit(W.AD_START,e)}function le(e){ze&&!at&&(Se(Ae("getVideoTime")),Pe()),Me.emit(W.AD_END,e)}function de(e){Me.emit(W.AD_REQUEST,e)}function fe(e){Me.emit(W.AD_REQUEST_DECLINED,e)}function pe(e){Me.emit(W.AD_REQUEST_RESPONSE,e)}function he(e){Me.emit(W.AD_REQUEST_ERROR,e)}function me(e){Me.emit(W.AD_ERROR,e)}function ye(e){Me.emit(W.COMPANION_RENDERED,e),t.dispatch(Object(P.e)(W.COMPANION_RENDERED,e))}function ve(e){Me.emit(W.AD_IMPRESSION,e)}function ge(e){Me.emit(W.AD_IMPRESSION_COMPLETE,e)}function be(){Me.emit(b.t)}function _e(){Me.emit(b.E)}function we(e){Me.emit(b.v,e)}function ke(e){Me.emit(b.j,e)}function Ee(){Me.emit(g.q,qe.extrapolateTimeStamp())}function Se(e){qe.setCurrentTimeStamp(e),Me.emit(g.q,qe.extrapolateTimeStamp())}function Pe(){null===Be&&(Be=setInterval(Ee,x),qe.resume())}function Ce(){null!==Be&&(clearInterval(Be),Be=null,qe.pause())}function Oe(e){Me.emit(W.AD_LOADED,e)}function Te(e){Me.emit(b.i,e)}function xe(e,n){var r=v.b();if(""===r)return void t.dispatch(Object(O.d)(C.a.CODES.ABORTED));var i={eventsCallback:"window._BackendFlash_emitEvents",eventsContext:Le,initCallback:null},a={bgcolor:"#000",allowscriptaccess:"always",allowfullscreen:"true",wmode:"ppapi"===r?"direct":"transparent"},o={align:"middle"},s=document.createElement("div");n.insertBefore(s,n.children[0]),rt="swfobject-"+Le,s.setAttribute("id",rt),v.a(e,rt,"100%","100%","10.2","playerProductInstall.swf",i,a,o,function(e){nt=e.ref})}function Re(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e.debug&&console.log("flash call:",t,n),n.length){case 0:return nt[t]();case 1:return nt[t](n[0]);case 2:return nt[t](n[0],n[1]);case 3:return nt[t](n[0],n[1],n[2]);default:return console.log("WARNING, too many arguments passed to Flash"),nt[t].apply(this,n)}}function je(t,n){De.promise.then(function(){setTimeout(function(){var r=Re(t,n);r&&e.debug&&console.log("flash return:",t,"=",r)},0)})}function Ae(t,n){if(Ue){var r=Re(t,n);return r&&e.debug&&console.log("flash return:",t,"=",r),r}}var Ie=this,Le=a.counter++;a.map[Le]=Ie;var Ne=new m.a,Me=new m.a,De=new r,qe=new i,Ue=!1,Be=null,Fe=0,Ve=0,He=null,ze=null,We=void 0,Ke=void 0,Ge=!1,Qe=void 0,Ye=0,$e=void 0,Je=void 0,Xe=void 0,Ze=void 0,et=void 0,tt=void 0,nt=void 0,rt="",it=void 0,at=!1,ot=!1,st=!1;Ie.getStats=function(){return o(Ie.getVideoInfo())},Ie.attach=function(t){xe(n(476),t),je("setLastAdDisplay",[e.lastAdDisplay]),je("setPlayerType",[e.player]),je("setFlashIMAAdsEnabled",[!0])},Ie._emitEvent=function(t,n){setTimeout(function(){e.debug&&"timeupdate"!==t&&"playbackStatistics"!==t&&console.log("flash event:",t,n),Ne.emit(t,n)},0)},Ie.addEventListener=function(e,t){Me.on(e,t)},Ie.removeEventListener=function(e,t){Me.off(e,t)},Ie.getNetworkProfile=function(){return Ae("getNetworkProfile")||[]},Ie.getError=function(){},Ie.getNetworkState=function(){return Ve},Ie.getBuffered=function(){var e=tt?1:0;return{length:e,start:function(t){if(!(t>=e))return tt.start},end:function(t){if(!(t>=e))return tt.end}}},Ie.load=function(){if(We||Ke){if(Fe=w.d,Ve=_.c,Me.emit(g.i),st=!1,Ke){var e=Ke;return Promise.all([Object(y.A)(Ke),it.streamUrl]).then(function(n){var r=T(n,2),i=r[0],a=r[1],o=t.getState(),s=o.streamMetadata;e===s.videoId&&(ot=!0,je("loadStream",[a,i.channel.name,!1]))})}var n=We;return it.streamUrl.then(function(e){var r=t.getState(),i=r.streamMetadata;n===i.channelName&&(ot=!0,je("loadStream",[e,We,!0]))})}},Ie.getReadyState=function(){return Fe},Ie.getSeeking=function(){return Qe},Ie.getCurrentTime=function(){return qe.extrapolateTimeStamp()},Ie.setCurrentTime=function(e){at=!1,Ce(),Se(e),je("videoSeek",[e])},Ie.getDuration=function(){return Ye},Ie.getPaused=function(){return Ge},Ie.getEnded=function(){return t.getState().ads.currentMetadata.contentType===E.f.NONE&&at},Ie.play=function(){Ge=!1,Me.emit(g.k);var e=function(){it.streamUrl.then(function(e){je("setStreamURI",[e]),je("playVideo")})};ot?e():Ie.load().then(e())},Ie.pause=function(){je("pauseVideo")},Ie.getVolume=function(){return $e},Ie.setVolume=function(e){e>0&&(Je=e),je("setVolume",[e])},Ie.getMuted=function(){return 0===Ie.getVolume()},Ie.setMuted=function(e){var t=e?0:Je||.5;Ie.setVolume(t)},Ie.getVideoInfo=c()(function(){var e=Ae("getVideoInfo");return e?p()({},A,e):A},R),Ie.getChannel=function(){return We||He},Ie.setChannel=function(t,n){it=n,We=t,Ke=null,ze=null,e.autoplay||Ve>_.a?Ie.load():Ie.pause()},Ie.getVideo=function(){return Ke||ze},Ie.setVideo=function(t,n){it=n,Ke=t,We=null,He=null,e.autoplay||Ve>_.a?Ie.load():Ie.pause()},Ie.getQuality=function(){return Xe||""},Ie.setQuality=function(e){e===S.h?(je("setQuality",[j]),Xe=j):(je("setQuality",[e]),Xe=e)},Ie.getQualities=function(){return Ze||[]},Ie.getBackend=function(){return z},Ie.elapsedTime=function(){},Ie.getVersion=function(){return Ae("getVersion")},Ie.getMediaGroup=function(){return null},Ie.getController=function(){return null},Ie.getControls=function(){return!1},Ie.getAudioTracks=function(){return null},Ie.getVideoTracks=function(){return null},Ie.getTextTracks=function(){return null},Ie.getPlaybackRate=function(){return 1},Ie.addTextTrack=function(){},Ie.setControls=function(){},Ie.setLoop=function(){},Ie.setPlaybackRate=function(){Me.emit(g.m)},Ie.getPlayed=function(){},Ie.getSrc=function(){},Ie.setSrc=function(){},Ie.getCaption=function(){return et},Ie.absAvailable=function(){},Ie.requestAdFill=function(e,t,n){je("requestFlashAd",[e,t,n])},Ie.destroy=function(){Ce(),v.e(rt),nt=null},function(){Ne.on(g.b,Y),Ne.on(g.d,h),Ne.on(g.o,re),Ne.on(g.n,ie),Ne.on(g.e,ee),Ne.on(g.f,Z),Ne.on(g.l,$),Ne.on(g.s,ue),Ne.on(g.r,f),Ne.on(g.i,Q),Ne.on(b.p,u),Ne.on(b.u,ae),Ne.on(b.e,be),Ne.on(b.i,Te),Ne.on(b.F,X),Ne.on(b.g,K),Ne.on(b.h,G),Ne.on(b.B,oe),Ne.on(b.b,se),Ne.on(b.v,we),Ne.on(b.E,_e),Ne.on(b.c,l),Ne.on(b.j,ke),Ne.on(b.H,J),Ne.on(b.z,te),Ne.on(b.G,ne),Ne.on(I,ce),Ne.on(L,le),Ne.on(B,ye),Ne.on(N,de),Ne.on(M,fe),Ne.on(D,pe),Ne.on(q,he),Ne.on(U,me),Ne.on(F,ve),Ne.on(V,ge),Ne.on(H,Oe)}()}var o=n(56),s=n.n(o),u=n(473),c=n.n(u),l=n(184),d=n.n(l),f=n(5),p=n.n(f),h=n(34),m=n.n(h);i.prototype.pause=function(){this._updateLastKnownTimeStamp(),this._paused=!0},i.prototype.resume=function(){this._updateLastKnownTimeStamp(),this._paused=!1},i.prototype.extrapolateTimeStamp=function(){if(this._paused)return this._lastKnownTimeStamp/1e3;var e=(new Date).getTime();return(this._lastKnownTimeStamp+(e-this._lastTimeUpdated))/1e3},i.prototype.setCurrentTimeStamp=function(e){isNaN(e)||(this._lastKnownTimeStamp=1e3*e,this._lastTimeUpdated=(new Date).getTime())},i.prototype._updateLastKnownTimeStamp=function(){var e=(new Date).getTime();this._lastKnownTimeStamp+=e-this._lastTimeUpdated,this._lastTimeUpdated=e};var y=n(10),v=n(259),g=n(21),b=n(26),_=n(185),w=n(136),k=n(12),E=n(15),S=n(40),P=n(83),C=n(48),O=n(53);n.d(t,"a",function(){return z}),n.d(t,"c",function(){return W}),t.b=a;var T=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=250,R=1500,j="medium",A={bandwidth:0,broadcast_id:0,cluster:"",current_bitrate:0,current_fps:0,current_fps_exact:0,deblocking:0,dropped_frames:0,hls_buffer_duration:0,hls_latency_encoder:0,hls_latency_broadcaster:0,hls_target_duration:0,manifest_node:"",manifest_node_type:"",manifest_cluster:"",node:"",playback_bytes_per_second:0,segment_protocol:"",serving_id:"",smoothing:!0,stageHeight:0,stream_protocol:"",stageWidth:0,stream_time:0,stream_time_offset:0,totalMemoryNumber:0,user_ip:"",vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0},I="adDisplayStarted",L="adDisplayEnded",N="adRequested",M="adRequestDeclined",D="adRequestResponse",q="adRequestError",U="adError",B="adcompanionrendered",F="adImpression",V="adImpressionComplete",H="adLoaded",z="flash",W=Object.freeze({AD_START:"flashAdstart",AD_END:"flashAdend",AD_REQUEST:"flashAdRequested",AD_REQUEST_DECLINED:"flashAdRequestDeclined",AD_REQUEST_RESPONSE:"flashAdRequestResponse",AD_REQUEST_ERROR:"flashAdRequestError",AD_ERROR:"flashAdError",AD_COMPANION_RENDERED:"flashAdcompanionrendered",AD_IMPRESSION:"flashAdImpression",AD_IMPRESSION_COMPLETE:"flashAdImpressionComplete",AD_LOADED:"flashAdLoaded"});a.map={},a.counter=0,a.canPlay=function(){return v.d("10.2")&&""!==v.b()},window._BackendFlash_emitEvents=function(e,t){for(var n=a.map[e],r=0;r<t.length;r++){var i=t[r];n._emitEvent(i.event,i.data)}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return O}),n.d(t,"b",function(){return j});var a=n(26),o=n(62),s=n(61),u=n(21),c=n(477),l=n.n(c),d=n(37),f=n.n(d),p=n(63),h=n.n(p),m=n(184),y=n.n(m),v=n(261),g=n.n(v),b=n(43),_=n(136),w=n(185),k=n(22),E=n(48),S=n(53),P=n(23),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O="mediaplayer",T={group:"auto",name:"Auto"},x={broadcast_id:0,cluster:"",manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",serving_id:0,user_ip:"",vod_cdn_origin:"",vod_cdn_region:"",stream_time_offset:0,segment_protocol:"",bandwidth:0,current_bitrate:0,current_fps:0,current_fps_exact:0,dropped_frames:0,hls_latency_broadcaster:0,hls_latency_encoder:0,hls_target_duration:0,paused:!1,playing:!1,stream_time:0,totalMemoryNumber:0,vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,volume:0},R=Object.freeze({playbackRate:-1,fps:-1,bufferSize:-1,skippedFrames:-1,memoryUsage:"0 MB",hlsLatencyEncoder:-1,hlsLatencyBroadcaster:-1,videoResolution:"",displayResolution:"",backendVersion:""}),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];i(this,e),this.store=n,this._options=t,this._mediaPlayer=null,this._eventEmitter=new l.a,this._apiCallQueue=[],this._cache={},this._readyState=_.d,this._networkState=w.d,this._fireLoadedMetadata=!1,this._hasRetried=!1,this._src="",this._currentCaptionData={},this._mediaPlayerLogLevel=t["cvp-log"]||"error",this.initialize()}return C(e,[{key:"initialize",value:function(){var e=this;return this.loadMediaPlayer().then(function(t){e._initMediaPlayer(t),e.setMuted(e._options.muted),e._initMobileAttributes()},function(t){e.onCoreAnalytics(t)})}},{key:"_initMediaPlayer",value:function(e){var t=e.mediaPlayerInstance,n=e.mediaPlayerHandle;this._mediaPlayer=t,this._mediaPlayerHandle=n,this._cache={currentQuality:this._mediaPlayer.getQuality()},this._attachInternalListeners(n),this._eventEmitter.emit(a.p),this._apiCallQueue.forEach(function(e){e()}),this._apiCallQueue=[]}},{key:"_initMobileAttributes",value:function(){this._options.playsinline&&(this._mediaPlayer.getHTMLVideoElement().setAttribute("webkit-playsinline",""),this._mediaPlayer.getHTMLVideoElement().setAttribute("playsinline",""))}},{key:"loadMediaPlayer",value:function(){var e=this.store.getState(),t=e.experiments,n=this._mediaPlayerLogLevel;return Promise.all([t.get(b.g),t.get(b.c)]).then(function(e){return g.a.loadMediaPlayer({value:e[0],latencyValue:e[1],logLevel:n})})}},{key:"getStats",value:function(){var e=this._mediaPlayer;if(e){var t=e.getVideoWidth()+"x"+e.getVideoHeight(),n=e.getDisplayWidth()+"x"+e.getDisplayHeight();return{playbackRate:y()(e.getVideoBitRate()/1e3),fps:y()(e.getVideoFrameRate()),bufferSize:y()(e.getBufferDuration()),skippedFrames:e.getDroppedFrames(),memoryUsage:"64 MB",hlsLatencyEncoder:y()(e.getTranscoderLatency()/1e3),hlsLatencyBroadcaster:y()(e.getBroadcasterLatency()/1e3),videoResolution:t,displayResolution:n,backendVersion:e.getVersion()}}return R}},{key:"getCaption",value:function(){return this._currentCaptionData}},{key:"onCoreAnalytics",value:function(e){var t=e.spadeEventName,n=e.spadeEventData;this.store.dispatch(Object(k.d)(t,n))}},{key:"addEventListener",value:function(e,t){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.addEventListener.bind(this,e,t));this._eventEmitter.on(e,t)}},{key:"removeEventListener",value:function(e,t){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.removeEventListener.bind(this,e,t));this._eventEmitter.removeListener(e,t)}},{key:"attach",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.attach.bind(this,e));e.insertBefore(this._mediaPlayer.getHTMLVideoElement(),e.firstChild)}},{key:"detach",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.detach.bind(this,e));e.removeChild(this._mediaPlayer.getHTMLVideoElement())}},{key:"load",value:function(){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.load.bind(this));if(this._src){var e=this.store.getState(),t=e.playback;this._mediaPlayer.load(this._src),this._eventEmitter.emit(u.i),t.autoplay&&(this._mediaPlayer.play(),this._eventEmitter.emit(u.k))}}},{key:"getSrc",value:function(){return this._src}},{key:"setSrc",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setSrc.bind(this,e));this._src=e,this._src&&this.load()}},{key:"getVolume",value:function(){return this._mediaPlayer?this._mediaPlayer.getVolume():0}},{key:"setVolume",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setVolume.bind(this,e));this._mediaPlayer.setVolume(e),this._eventEmitter.emit(u.r)}},{key:"setMuted",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setMuted.bind(this,e));e?this._mediaPlayer.getHTMLVideoElement().setAttribute("muted",""):this._mediaPlayer.getHTMLVideoElement().removeAttribute("muted"),this._mediaPlayer.setMuted(e)}},{key:"getMuted",value:function(){return this._mediaPlayer&&this._mediaPlayer.isMuted()}},{key:"setChannel",value:function(e,t){var n=this;return t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.channelName&&n.setSrc(t)})}},{key:"setVideo",value:function(e,t){var n=this;t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.videoId&&n.setSrc(t)})}},{key:"setQuality",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setQuality.bind(this,e));if("auto"===e)this._mediaPlayer.setAutoSwitchQuality(!0);else{var t=this._mediaPlayer.getQualities().find(function(t){return t.group===e});void 0!==t&&this._mediaPlayer.setQuality(t)}}},{key:"getQualities",value:function(){if(null===this._mediaPlayer)return[];var e=function(e){return Object.assign({},e,{bandwidth:e.bitrate})};return[T].concat(r(this._mediaPlayer.getQualities())).map(e)}},{key:"getQuality",value:function(){return null===this._mediaPlayer?null:this._mediaPlayer.getAutoSwitchQuality()?T.group:this._mediaPlayer.getQuality().group}},{key:"elapsedTime",value:function(){return null===this._mediaPlayer?0:this._mediaPlayer.getStartOffset()+this._mediaPlayer.getPosition()}},{key:"getCurrentTime",value:function(){return this._mediaPlayer?this._mediaPlayer.getPosition():0}},{key:"setCurrentTime",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setCurrentTime.bind(this,e));this._mediaPlayer.seekTo(e),this._eventEmitter.emit(u.o)}},{key:"getDuration",value:function(){return this._mediaPlayer?this._mediaPlayer.getDuration():0}},{key:"getNetworkProfile",value:function(){return this._mediaPlayer?this._mediaPlayer.getNetworkProfile():[]}},{key:"getBuffered",value:function(){if(null===this._mediaPlayer)return new A;var e=this._mediaPlayer.getBuffered();return new A(e.start,e.end)}},{key:"getReadyState",value:function(){return this._readyState}},{key:"getNetworkState",value:function(){return this._networkState}},{key:"getEnded",value:function(){return this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.ENDED}},{key:"getError",value:function(){return this._errorCode}},{key:"getVersion",value:function(){return this._mediaPlayer?this._mediaPlayer.getVersion():""}},{key:"getBackend",value:function(){return O}},{key:"play",value:function(){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.play.bind(this));this._mediaPlayer.play(),this._eventEmitter.emit(u.k)}},{key:"pause",value:function(){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.pause.bind(this));this._mediaPlayer.pause()}},{key:"getPaused",value:function(){return!!this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.IDLE}},{key:"getSeeking",value:function(){return!!this._mediaPlayer&&this._mediaPlayer.isSeeking()}},{key:"getVideoInfo",value:function(){var e=this.store.getState(),t=e.manifestInfo,n=e.window,r={broadcast_id:parseInt(t.broadcastId,10),cluster:t.cluster,manifest_cluster:t.manifest_cluster,manifest_node:t.manifest_node,manifest_node_type:t.manifest_node_type,node:t.node,serving_id:t.serving_id,user_ip:t.user_ip,vod_cdn_origin:t.origin,vod_cdn_region:t.region,stream_time_offset:parseFloat(t.stream_time),segment_protocol:"https:"===n.location.protocol?"https":"http"},i=this._mediaPlayer,a={};if(i){var o=i.getPlayerState(),s=i.getVideoBitRate()/1e3,u=i.getVideoFrameRate();a={bandwidth:s,current_bitrate:s,current_fps:y()(u),current_fps_exact:u,dropped_frames:i.getDroppedFrames(),hls_latency_broadcaster:y()(i.getBroadcasterLatency()),hls_latency_encoder:y()(i.getTranscoderLatency()),hls_target_duration:5,paused:o===this._mediaPlayerHandle.PlayerState.IDLE,playing:o===this._mediaPlayerHandle.PlayerState.PLAYING,stream_time:i.getPosition(),totalMemoryNumber:64,vid_display_height:i.getDisplayHeight(),vid_display_width:i.getDisplayWidth(),vid_height:i.getVideoHeight(),vid_width:i.getVideoWidth(),video_buffer_size:i.getBufferDuration(),volume:i.getVolume()}}return Object.assign({},x,r,a)}},{key:"setPlaybackRate",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setPlaybackRate.bind(this,e)),this._mediaPlayer.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this._mediaPlayer?this._mediaPlayer.getPlaybackRate():1}},{key:"getPlayed",value:function(){return new A}},{key:"getStatsEnabled",value:function(){return!1}},{key:"absAvailable",value:function(){return!0}},{key:"destroy",value:function(){this._mediaPlayer?(this._mediaPlayer.delete(),this._mediaPlayer=null):this._apiCallQueue.push(this.destroy.bind(this))}},{key:"_retryStreamLoad",value:function(){var e=this,t=this.store.getState(),n=t.stream;return this.src="",this.initialize(),n.resetNAuthToken(),n.streamUrl.then(function(t){e.setSrc(t),e.play()})}},{key:"_onAuthError",value:function(){this.store.getState().onlineStatus===P.a||(this._hasRetried?(this.store.dispatch(Object(S.d)(E.a.CODES.CONTENT_NOT_AVAILABLE)),this.store.dispatch(Object(k.d)(s.n,{playback_error_code:8003,playback_error_msg:"fatal_auth_error"}))):(this._hasRetried=!0,this._retryStreamLoad(),this.store.dispatch(Object(k.d)(s.n,{playback_error_code:8004,playback_error_msg:"warn_auth_error"}))))}},{key:"_onOfflineError",value:function(){this.store.dispatch(Object(k.d)(s.n,{playback_error_code:8002,playback_error_msg:"offline_error"})),this._eventEmitter.emit(a.k),this._eventEmitter.emit(u.e)}},{key:"_onCCUCapReached",value:function(){this._errorCode=E.a.CODES.CCU_CAP_REACHED,this.store.dispatch(Object(k.d)(s.n,{playback_error_code:E.a.CODES.CCU_CAP_REACHED,playback_error_msg:"ccu_cap_error"})),this.store.dispatch(Object(S.d)(this._errorCode))}},{key:"_handleNotAvailableError",value:function(e){return 509===e?this._onCCUCapReached():this._onOfflineError()}},{key:"_attachInternalListeners",value:function(e){var t=this,n=this._mediaPlayer;n.addEventListener(e.PlayerEvent.INITIALIZED,function(){t._eventEmitter.emit(a.p)}),n.addEventListener(e.PlayerState.PLAYING,function(){t._readyState<=_.a&&(t._readyState=_.b),t._eventEmitter.emit(u.g),t._eventEmitter.emit(u.l)}),n.addEventListener(e.PlayerEvent.QUALITY_CHANGED,function(){var e=t._cache.currentQuality,n=t._mediaPlayer.getQuality(),r=t._mediaPlayer.getAutoSwitchQuality();if(t._cache.currentQuality=n,t._eventEmitter.emit(a.s,{quality:n.group,isAuto:r}),r&&e.group!==n.group){var i=Object.assign({stream_format_previous:e.group,stream_format_current:n.group},t._mediaPlayer.getABSStats());t._eventEmitter.emit(a.a,i)}}),n.addEventListener(e.PlayerEvent.DURATION_CHANGED,function(){t._fireLoadedMetadata&&(t._fireLoadedMetadata=!1,t._eventEmitter.emit(u.h)),t._eventEmitter.emit(u.d)}),n.addEventListener(e.PlayerEvent.PLAYBACK_RATE_CHANGED,function(){t._eventEmitter.emit(u.m,t._mediaPlayer.getPlaybackRate())}),n.addEventListener(e.PlayerEvent.ERROR,function(n){var r=n.type,i=n.source,a=n.code;switch(r){case e.ErrorType.NOT_AVAILABLE:return void t._handleNotAvailableError(a);case e.ErrorType.AUTHORIZATION:return void t._onAuthError();case e.ErrorType.NOT_SUPPORTED:t._errorCode=E.a.CODES.FORMAT_NOT_SUPPORTED;break;case e.ErrorType.NETWORK:case e.ErrorType.NETWORK_IO:t._errorCode=E.a.CODES.NETWORK;break;default:i===e.ErrorSource.DECODER?t._errorCode=E.a.CODES.DECODE:(console.error("MediaPlayer failed",r),t._errorCode=E.a.CODES.ABORTED)}t.store.dispatch(Object(k.d)(s.n,{playback_error_code:8001,playback_error_msg:"fatal_error"})),t.store.dispatch(Object(S.d)(t._errorCode))}),n.addEventListener(e.PlayerEvent.REBUFFERING,function(){t._readyState=_.a,t._eventEmitter.emit(u.s)}),n.addEventListener(e.PlayerEvent.TIME_UPDATE,function(){t._eventEmitter.emit(u.q)}),n.addEventListener(e.PlayerEvent.BUFFER_UPDATE,function(){t._eventEmitter.emit(a.b,t._mediaPlayer.getBuffered())}),n.addEventListener(e.PlayerEvent.SEEK_COMPLETED,function(){t._eventEmitter.emit(u.b),t._eventEmitter.emit(u.n)}),n.addEventListener(e.PlayerEvent.TRACKING,function(e){var n=e.name,r=e.properties;"video_error"===n&&(r.broadcast_id=t.store.getState().streamMetadata.broadcastID,r.manifest_broadcast_id=t.store.getState().manifestInfo.broadcast_id,t.store.dispatch(Object(k.d)(n,r)))}),n.addEventListener(e.PlayerState.BUFFERING,function(){t._readyState=_.a,t._networkState=w.c}),n.addEventListener(e.PlayerState.IDLE,function(){t._readyState=_.d,t._networkState=w.b,t._eventEmitter.emit(u.j)}),n.addEventListener(e.PlayerState.ENDED,function(){t._readyState=_.d,t._networkState=w.a,t._eventEmitter.emit(u.e)}),n.addEventListener(e.PlayerState.READY,function(){t._hasRetried=!1,t._readyState=_.c,t._networkState=w.b;var e=t.store.getState(),r=e.analytics;t.store.dispatch(Object(k.d)(o.h,{time_since_load_start:Date.now()-r.playSessionStartTime}));var i=h()(t._mediaPlayer.getManifestInfo(),function(e,t,n){return e[n.toLowerCase().replace(/-/g,"_")]=t,e},{});t._eventEmitter.emit(a.i,i),t._eventEmitter.emit(u.b),t._fireLoadedMetadata=!0,t._cache.currentQuality=n.getQuality()}),n.addEventListener(e.MetadataEvent.ID3,function(e){var n=f()(e,function(e){return"TOFN"===e.id}),r=f()(e,function(e){return"TXXX"===e.id});if(n&&t._eventEmitter.emit(a.v,{name:n.info[0]}),r&&"content"!==r.desc){var i=JSON.parse(r.info[0]);"commercial"===i.cmd&&t._eventEmitter.emit(a.j,{duration:i.length})}}),n.addEventListener(e.MetadataEvent.CAPTION,function(e){t._currentCaptionData=e,t._eventEmitter.emit(a.c)}),n.addEventListener(e.MetadataEvent.SPLICE_OUT,function(e){t._eventEmitter.emit(a.y,e)}),n.addEventListener(e.MetadataEvent.SPLICE_IN,function(){t._eventEmitter.emit(a.x)})}}]),e}();j.canPlay=function(){return g.a.canLoadMediaplayer()};var A=function(){function e(t,n){i(this,e),this.length=void 0===t?0:1,this._start=t,this._end=n}return C(e,[{key:"start",value:function(){return this._start}},{key:"end",value:function(){return this._end}}]),e}()},function(e,t,n){"use strict";function r(e){return{type:a,moderationType:e}}function i(e){return{type:o,moderationType:e}}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return d}),t.i=r,t.h=i;var a="moderation opened",o="moderation closed",s="report",u="delete",c="deleteAll",l="opened",d="closed"},function(e,t,n){"use strict";function r(e,t){return 0===t?0:100*e/t}t.a=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case i.a:return l()({},e,t.streamMetadata);case a.a:return f()({},m,{channelName:t.stream.contentType===o.a?t.stream.channel:null,videoId:t.stream.contentType===s.a?t.stream.videoId:null,contentId:t.stream.contentType===u.a?t.stream.contentId:"",customerId:t.stream.contentType===u.a?t.stream.customerId:""});default:return e}}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h}),t.c=r;var i=n(66),a=n(16),o=n(12),s=n(11),u=n(133),c=n(77),l=n.n(c),d=n(5),f=n.n(d),p="dead_ltv",h="watch_party",m=Object.freeze({broadcastID:0,type:"",channelName:null,videoId:null,contentId:"",customerId:"",channel:{displayName:"",name:"",id:0,partner:!1,status:"",videoBanner:"",logo:"",mature:!1},createdAt:"",game:"",preview:{template:""},streamType:"",url:"",viewers:i.b})},function(e,t,n){function r(e,t){return o(a(e,t,i),e+"")}var i=n(105),a=n(198),o=n(199);e.exports=r},function(e,t,n){function r(e){if(!a(e))return!1;var t=i(e);return t==s||t==u||t==o||t==c}var i=n(49),a=n(24),o="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(154);e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(200);e.exports=r},function(e,t,n){(function(r){var i;!function(a){function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==a?e.maxListeners:p,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=p}function u(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.emitWarning(i)}else console.error(n),console.trace&&console.trace()}function c(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function l(e,t,n,r){if(!n)return[];var i,a,o,s,u,c,d,f=[],p=t.length,h=t[r],m=t[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,a=n._listeners.length;i<a;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(o in n)"_listeners"!==o&&n.hasOwnProperty(o)&&(f=f.concat(l(e,t,n[o],r+1)));return f}if("**"===h){d=r+1===p||r+2===p&&"*"===m,d&&n._listeners&&(f=f.concat(l(e,t,n,p)));for(o in n)"_listeners"!==o&&n.hasOwnProperty(o)&&("*"===o||"**"===o?(n[o]._listeners&&!d&&(f=f.concat(l(e,t,n[o],p))),f=f.concat(l(e,t,n[o],r))):f=o===m?f.concat(l(e,t,n[o],r+2)):f.concat(l(e,t,n[o],r)));return f}f=f.concat(l(e,t,n[h],r+1))}if(s=n["*"],s&&l(e,t,s,r+1),u=n["**"])if(r<p){u._listeners&&l(e,t,u,p);for(o in u)"_listeners"!==o&&u.hasOwnProperty(o)&&(o===m?l(e,t,u[o],r+2):o===h?l(e,t,u[o],r+1):(c={},c[o]=u[o],l(e,t,{"**":c},r+1)))}else u._listeners?l(e,t,u,p):u["*"]&&u["*"]._listeners&&l(e,t,u["*"],p);return f}function d(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,o=e.shift();o!==a;){if(i[o]||(i[o]={}),i=i[o],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,u.call(this,i._listeners.length,o))):i._listeners=t,!0;o=e.shift()}return!0}var f=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=10;c.EventEmitter2=c,c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){e!==a&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},c.prototype.event="",c.prototype.once=function(e,t){return this._once(e,t,!1)},c.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},c.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},c.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},c.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},c.prototype._many=function(e,t,n,r){function i(){return 0==--t&&a.off(e,i),n.apply(this,arguments)}var a=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return i._origin=n,this._on(e,i,r),a},c.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=e,s){case 1:a[r].call(this,e);break;case 2:a[r].call(this,e,arguments[1]);break;case 3:a[r].call(this,e,arguments[1],arguments[2]);break;default:a[r].apply(this,t)}}if(this.wildcard){a=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();l.call(this,a,u,this.listenerTree,0)}else{if("function"==typeof(a=this._events[e])){switch(this.event=e,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=e,s){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,i,a,s=[],u=arguments.length;if(this._all){if(u>3)for(t=new Array(u),i=1;i<u;i++)t[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,u){case 1:s.push(this._all[r].call(this,e));break;case 2:s.push(this._all[r].call(this,e,arguments[1]));break;case 3:s.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,t))}}if(this.wildcard){a=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();l.call(this,a,c,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,u){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];s.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),u>3)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(r=0,n=a.length;r<n;r++)switch(this.event=e,u){case 1:s.push(a[r].call(this));break;case 2:s.push(a[r].call(this,arguments[1]));break;case 3:s.push(a[r].call(this,arguments[1],arguments[2]));break;default:s.push(a[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},c.prototype.on=function(e,t){return this._on(e,t,!1)},c.prototype.prependListener=function(e,t){return this._on(e,t,!0)},c.prototype.onAny=function(e){return this._onAny(e,!1)},c.prototype.prependAny=function(e){return this._onAny(e,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},c.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},c.prototype.off=function(e,t){function n(e){if(e!==a){var t=Object.keys(e);for(var r in t){var i=t[r],o=e[i];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&n(e[i]),0===Object.keys(o).length&&delete e[i])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();i=l.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;s<i.length;s++){var u=i[s];if(r=u._listeners,f(r)){for(var c=-1,d=0,p=r.length;d<p;d++)if(r[d]===t||r[d].listener&&r[d].listener===t||r[d]._origin&&r[d]._origin===t){c=d;break}if(c<0)continue;return this.wildcard?u._listeners.splice(c,1):this._events[e].splice(c,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete u._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},c.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=l.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},c.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return l.call(this,t,n,this.listenerTree,0),t}return this._events||o.call(this),this._events[e]||(this._events[e]=[]),f(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(e){return this.listeners(e).length},c.prototype.listenersAny=function(){return this._all?this._all:[]},(i=function(){return c}.call(t,n,t,e))!==a&&(e.exports=i)}()}).call(t,n(145))},function(e,t,n){"use strict";var r,i=n(172),a=n(240),o=n(398),s=n(241);r=e.exports=function(e,t){var n,r,o,u,c;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=o=!0,r=!1):(n=s.call(e,"c"),r=s.call(e,"e"),o=s.call(e,"w")),c={value:t,configurable:n,enumerable:r,writable:o},u?i(a(u),c):c},r.gs=function(e,t,n){var r,u,c,l;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:o(t)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(r=!0,u=!1):(r=s.call(e,"c"),u=s.call(e,"e")),l={get:t,set:n,configurable:r,enumerable:u},c?i(a(c),l):l}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return c});var i=n(30),a=(n.n(i),n(55)),o=n.n(a),s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t,n,i,a,o){r(this,e),this._contentId=t,this._oAuthToken=n,this._usherParams=i,this._accessTokenParams=a,this._experimentSettings=o,this._restrictedBitrates=[]}return u(e,[{key:"_handleInvalidOp",value:function(e){var t=void 0;t="AbstractStream"===this.constructor.name?"AbstractStream should not be instantiated directly":this.constructor.name+"."+e+" is not implemented",console.error("Invalid operation: "+t)}},{key:"_fetchAccessToken",value:function(){return this._handleInvalidOp("_fetchAccessToken"),Promise.resolve({})}},{key:"resetNAuthToken",value:function(){this._nAuthPromise=this._fetchNAuthToken()}},{key:"_fetchNAuthToken",value:function(){var e=this;return this._oAuthToken.then(function(t){return e._fetchAccessToken(e._contentId,t,e._accessTokenParams)}).then(function(t){return e._nAuth=t,t})}},{key:"_buildUsherParams",value:function(e){return this._handleInvalidOp("_buildUsherParams"),{}}},{key:"_commonExperimentParams",value:function(){var e=this;return Promise.all([this.accessToken,this._experimentSettings.realtimeQos,this._experimentSettings.fastBread]).then(function(t){var n=s(t,3),r=n[0],i=n[1],a=n[2],u={};return u.rtqos=i,u.fast_bread="control"!==a&&o.a.chrome,e._restrictedBitrates=JSON.parse(r.token).chansub.restricted_bitrates,u})}},{key:"contentType",get:function(){return this._handleInvalidOp("contentType"),""}},{key:"channel",get:function(){return this._handleInvalidOp("channel"),""}},{key:"videoId",get:function(){return this._handleInvalidOp("videoId"),""}},{key:"customerId",get:function(){return this._handleInvalidOp("customerId"),""}},{key:"contentId",get:function(){return this._handleInvalidOp("contentId"),""}},{key:"contentUrl",get:function(){return this._handleInvalidOp("contentUrl"),""}},{key:"restrictedBitrates",get:function(){return this._restrictedBitrates}},{key:"accessToken",get:function(){var e=!1;try{if(this._nAuth){var t=JSON.parse(this._nAuth.token);e=Date.now()>=1e3*t.expires}}catch(e){console.error("Unable to JSON.parse nAuth.token: "+this._nAuth.token)}return this._nAuthPromise&&!e||(this._nAuthPromise=this._fetchNAuthToken()),this._nAuthPromise}},{key:"_baseStreamUrl",get:function(){return this._handleInvalidOp("_baseStreamUrl"),""}},{key:"streamUrl",get:function(){return this._handleInvalidOp("streamUrl"),""}},{key:"castStreamUrl",get:function(){var e=this;return this.accessToken.then(function(t){if(!t.token)return e._handleInvalidOp("castStreamUrl"),"";var n=e._buildUsherParams(t);return delete n.allow_source,e._restrictedBitrates=JSON.parse(t.token).chansub.restricted_bitrates,e._baseStreamUrl+"?"+Object(i.stringify)(n)})}}]),e}()},function(e,t,n){var r;!function(i,a){var o=function(){return o.get.apply(o,arguments)},s=o.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],n="";for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},encode:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},decode:function(e){return decodeURIComponent(e)},retrieve:function(e,t){return null==e?t:e}};o.defaults={},o.expiresMultiplier=86400,o.set=function(e,t,n){if(s.isPlainObject(e))for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r],t);else{n=s.isPlainObject(n)?n:{expires:n};var a=void 0!==n.expires?n.expires:this.defaults.expires||"",o=typeof a;"string"===o&&""!==a?a=new Date(a):"number"===o&&(a=new Date(+new Date+1e3*this.expiresMultiplier*a)),""!==a&&"toGMTString"in a&&(a=";expires="+a.toGMTString());var u=n.path||this.defaults.path;u=u?";path="+u:"";var c=n.domain||this.defaults.domain;c=c?";domain="+c:"";var l=n.secure||this.defaults.secure?";secure":"";!1===n.secure&&(l=""),i.cookie=s.encode(e)+"="+s.encode(t)+a+u+c+l}return this},o.setDefault=function(e,t,n){if(s.isPlainObject(e)){for(var r in e)void 0===this.get(r)&&this.set(r,e[r],t);return o}if(void 0===this.get(e))return this.set.apply(this,arguments)},o.remove=function(e){e=s.isArray(e)?e:s.toArray(arguments);for(var t=0,n=e.length;t<n;t++)this.set(e[t],"",-1);return this},o.removeSpecific=function(e,t){if(!t)return this.remove(e);e=s.isArray(e)?e:[e],t.expires=-1;for(var n=0,r=e.length;n<r;n++)this.set(e[n],"",t);return this},o.empty=function(){return this.remove(s.getKeys(this.all()))},o.get=function(e,t){var n=this.all();if(s.isArray(e)){for(var r={},i=0,a=e.length;i<a;i++){var o=e[i];r[o]=s.retrieve(n[o],t)}return r}return s.retrieve(n[e],t)},o.all=function(){if(""===i.cookie)return{};for(var e=i.cookie.split("; "),t={},n=0,r=e.length;n<r;n++){var a=e[n].split("="),o=s.decode(a.shift()),u=s.decode(a.join("="));t[o]=u}return t},o.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===o.set("_","_").get("_");return o.remove("_"),e},void 0!==(r=function(){return{cookie:o}}.call(t,n,t,e))&&(e.exports=r)}("undefined"==typeof document?null:document)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var o=n(97),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="clip",c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._slug=e,n}return a(t,e),s(t,[{key:"contentType",get:function(){return u}},{key:"slug",get:function(){return this._slug}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"castStreamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}(o.a)},function(e,t,n){"use strict";function r(){return{type:u}}function i(){return{type:c}}function a(){return{type:l,playSessionId:Object(s.a)(),playSessionStartTime:Date.now()}}function o(e){return{type:d,clients:e}}n.d(t,"a",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d}),t.e=r,t.g=i,t.f=a,t.h=o;var s=n(80),u="set quality change count",c="reset quality change count",l="reset play session",d="set new tracking clients"},function(e,t,n){"use strict";function r(e,t){return{type:m,channel:e,extensions:t}}function i(e){return{type:v,channel:e}}function a(e){return{type:g,channel:e}}function o(e){return{type:w,modalRequest:e}}function s(){return{type:w,modalRequest:null}}function u(e){return{type:b,extensionId:e}}function c(e,t){return{type:_,extensionId:e,isLinked:t}}function l(e){return function(t,n){var a=n(),o=a.extensions;return!e||o.channel===e&&o.loadingState===C?Promise.resolve():(t(i(e)),Object(h.s)(e).then(function(i){n().stream.channel===e&&t(r(e,i))}))}}function d(e){return function(t,n){var i=n(),o=i.stream;return Object(h.b)(e).then(function(i){if(n().stream===o){var s=i._id;p.a.ExtensionService.subscribeToExtensionControl(s,{onShouldFetchExtensions:function(){var r=n(),i=r.viewercount,o=r.window,s=i/E*1e3;o.setTimeout(function(){t(a(e)),t(l(e))},Math.random()*s)},onDestroyExtension:function(i){var a=function(e){return e.id!==i},o=n().extensions.activeOverlayExtensions,s=o.filter(a);t(r(e,s))}})}}).catch(function(){return Promise.resolve()})}}function f(e){return{type:k,purchaseIntent:e}}n.d(t,"f",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"g",function(){return _}),n.d(t,"h",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"k",function(){return S}),n.d(t,"i",function(){return P}),n.d(t,"j",function(){return C}),n.d(t,"l",function(){return O}),t.q=o,t.m=s,t.p=u,t.s=c,t.n=l,t.r=d,t.o=f;var p=n(127),h=n(10),m="set extensions",y="clear extensions",v="fetching extensions",g="extension activated",b="request toggle extension identity linking",_="set extension identity linking",w="set extension modal",k="purchaseIntent received",E=3e3,S="not loaded",P="loaded",C="loading",O="reloading"},function(e,t,n){"use strict";function r(){return{type:l}}function i(){return{type:c}}function a(e){return{type:s,deviceName:e}}function o(e){return{type:u,castingState:e}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),t.h=r,t.g=i,t.f=a,t.e=o;var s="set device name",u="set casting state",c="start casting",l="stop casting"},function(e,t,n){"use strict";function r(e){return{type:o,videoStats:e}}function i(e){return{type:a,displayed:e}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),t.e=r,t.d=i;var a="display stats",o="update stats",s=1e3},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case d.a:return o()({},e,{transitionScheme:h});case d.d:return o()({},e,{transitionScheme:p});case d.e:return o()({},e,{transitionScheme:h});case d.h:return o()({},e,{transitionScheme:p});case l.a:return t.stream===f.b?o()({},e,w,{paused:!1}):o()({},e,w);case c.a:return o()({},e,{restrictedQualityError:!1});case c.b:return o()({},e,_);case c.c:return o()({},e,b);case c.d:return o()({},e,{bufferEmpties:e.bufferEmpties+1});case c.e:return o()({},e,u()(t.playback,k));case c.f:return o()({},e,g);case c.g:return o()({},e,{playbackRate:t.playbackRate});case c.h:return o()({},e,{muted:t.muted});case c.i:return o()({},e,{isSeeking:!1});case c.j:return o()({},e,{isSeeking:!0});case c.k:return o()({},e,y,_);case c.l:return o()({},e,{restrictedQualityError:!0});case c.m:return o()({},e,{autoplay:t.playback.autoplay,paused:!t.playback.autoplay});case c.n:return o()({},e,{isLoading:t.isLoading});case c.o:return o()({},e,{startTime:t.startTime,startTimeSet:!0});case c.p:return o()({},e,{buffer:{start:t.start,end:t.end}});case c.q:return o()({},e,{currentTime:t.currentTime});case c.r:return o()({},e,u()(t.playback,k));case c.s:return o()({},e,{volume:t.volume});case c.t:return o()({},e,v);default:return e}}function i(e){var t=e.playback;return!t.muted&&0!==t.volume}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h}),t.d=r,t.c=i;var a=n(5),o=n.n(a),s=n(20),u=n.n(s),c=n(18),l=n(16),d=n(35),f=n(82),p="transition collection",h="transition recommendations",m={autoplay:!0,buffer:{start:0,end:0},bufferEmpties:0,currentTime:0,startTime:0,startTimeSet:!1,duration:0,ended:!1,hasPlayed:!1,isLoading:!1,isSeeking:!1,muted:!1,paused:!1,playing:!1,playbackRate:1,restrictedQualityError:!1,volume:.5,transitionScheme:h,contentShowing:!1},y={playing:!0,hasPlayed:!0,paused:!1,ended:!1,isSeeking:!1},v={ended:!1},g={playing:!1,paused:!0,ended:!1},b={playing:!1,paused:!0,ended:!0},_={contentShowing:!0},w={playing:!1,hasPlayed:!1,contentShowing:!1,bufferEmpties:0,startTime:0,startTimeSet:!1,isSeeking:!1,restrictedQualityError:!1},k=Object.keys(m)},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?a(n)&&o(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(71),a=n(44),o=n(107),s=n(24);e.exports=r},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var r=n(304),i=n(33),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(32),i=n(305),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(147)(e))},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){function r(e){return"string"==typeof e||!a(e)&&o(e)&&i(e)==s}var i=n(49),a=n(19),o=n(33),s="[object String]";e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):u.test(e)?o:+e}var i=n(24),a=n(113),o=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=r},function(e,t,n){function r(e){return"symbol"==typeof e||a(e)&&i(e)==o}var i=n(49),a=n(33),o="[object Symbol]";e.exports=r},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}var i=n(73),a=n(74);e.exports=r},function(e,t,n){var r=n(58),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(325),a=n(326),o=n(327),s=n(328),u=n(329);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(71);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(331);e.exports=r},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(94),a=n(71),o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(116),a=n(341),o=n(342),s=n(343),u=n(344),c=n(345);r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t,n){var r=n(354),i=n(153),a=n(355),o=n(219),s=n(356),u=n(49),c=n(202),l=c(r),d=c(i),f=c(a),p=c(o),h=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||a&&"[object Promise]"!=m(a.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){"use strict";function r(e){var t=!0,n="live";return e===a.b||e===a.c||e===a.d?n="vodcast":e===a.e&&(n="vod",t=!1),{live:t,contentMode:n}}function i(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}t.b=r,t.a=i;var a=n(62)},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){var r=n(230),i=n(369),a=i(r);e.exports=a},function(e,t,n){"use strict";function r(){return window.self!==window.parent?document.referrer:window.location.href}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=Object(o.a)(e),n=t.host.split(".").slice(-2).join(".");return n===s||n===u}function a(e){return"127.0.0.1"===Object(o.a)(e).host}n.d(t,"c",function(){return s}),t.b=i,t.a=a;var o=n(45),s="twitch.tv",u="twitch.tech"},function(e,t,n){"use strict";function r(e,t){var n=document.createElement("a");n.href=e;var r=n.search.slice(1),i=r.split("&").filter(function(e){return e.length>0}),a=i.length>0?e.slice(0,e.length-r.length-1):e,o=Object.keys(t),s=o.reduce(function(e,n){var r=t[n];return r&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(r.toString())),e},i);return s.length>0?a+"?"+s.join("&"):e}function i(){return Object.create(null)}function a(e,t,n){t in e?e[t].push(""+n):e[t]=[""+n]}function o(e){return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return T[e]})}function s(e){return"function"==typeof e.setStatsEnabled}function u(){var e=window.localStorage.getItem("twilight.theme");if(e)return Y[e];if(e=window.localStorage.getItem("storage:theme")){var t=JSON.parse(e);if(t.activeTheme)return $[t.activeTheme]||f.Light}return f.Light}function c(e,t){return"USD"===t?"$"+e:e+" "+t}function l(e){if(ce.has(e))return ce.get(e);var t=e();return ce.set(e,t),t}var d,f,p=(n(376),n(377),n(196),n(95)),h=function(e){var t=document.createElement("a");return t.href=e,{host:t.host}},m=function(e){return e?e.split(".").pop():""},y=function(){return window.innerHeight},v=function(e){return e.getBoundingClientRect()},g={getWindowInnerHeight:y,getElementBoundingClientRect:v},b=function(e,t){var n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n||(n=!0,setTimeout(function(){n=!1},t),e.apply(null,r))}},_=.9,w=function(){function e(e){this.token=e;var t=Date.now(),n=t,r=1e3*this.payload.exp+D.clockSkew;this.refreshAt=t+(r-n)*_}return Object.defineProperty(e.prototype,"payload",{get:function(){var e=this.token.split(".")[1];return JSON.parse(atob(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expiresIn",{get:function(){return 1e3*this.payload.exp-Date.now()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinked",{get:function(){return void 0!==this.payload.user_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isNearExpiration",{get:function(){return this.expiresIn<=6e4},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshAfter",{get:function(){return this.refreshAt-Date.now()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldRefresh",{get:function(){return this.refreshAfter<=0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUserLoggedIn",{get:function(){return"U"===this.payload.opaque_user_id.charAt(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBroadcaster",{get:function(){return"broadcaster"===this.payload.role},enumerable:!0,configurable:!0}),e}(),k=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},E=function(){function e(){var e=this;this.apiUrl="https://api.twitch.tv",this.clientId="b31o4btkqth5bzbvr9ub2ovr79umhh",this.defaultHeaders={"Content-Type":"application/json","Client-ID":this.clientId},this.setApiOptions=function(t){e.apiUrl=t.apiUrl?t.apiUrl:e.apiUrl,e.authToken=t.authToken?t.authToken:null}}return e.prototype.tokenRequest=function(){if(this.authToken)return Promise.resolve({token:this.authToken});var e=this.tokenRequestCache;if(!e){var t=new Headers(this.defaultHeaders),n=new Request(this.apiUrl+"/api/viewer/token.json",{credentials:"include",headers:t});e=this.tokenRequestCache=this.doRequest(n)}return e},e.prototype.authRequest=function(e){var t=this;return this.tokenRequest().then(function(n){var r=n.token;return""!==r&&e.headers.append("Authorization","OAuth "+r),t.doRequest(e)},function(){return t.doRequest(e)})},e.prototype.doRequest=function(e){return fetch(e).then(this.checkError).then(function(e){return e.json()})},e.prototype.newRequest=function(e,t){t.headers=new Headers(k({},this.defaultHeaders,t.headers));var n=t.apiUrl?t.apiUrl:this.apiUrl,r=""+n+e;return new Request(r,t)},e.prototype.checkError=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},e}(),S=new E,P=n(380),C=n.n(P),O=function(){function e(){this.dict=i()}return e.prototype.append=function(e,t){a(this.dict,e,t)},e.prototype.toString=function(){var e=[],t=this.dict;for(var n in t)for(var r=o(n),i=0,a=t[n];i<a.length;i++)e.push(r+"="+o(a[i]));return e.join("&")},e}(),T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},x=(d={},d.Testing="testing",d["Assets Uploaded"]="hosted_test",d.Approved="approved",d.Released="released",d["Ready For Review"]="ready_for_review",d["In Review"]="in_review",d["Pending Action"]="pending_action",d.Uploading="uploading",d),R=function(e){return["124420521","124421740","124422593","124424929","59980349","21681549"].indexOf(e)>=0},j=function(e){var t={factor:2,minTimeout:1e3,randomize:!0,retries:16},n=function(t){return S.authRequest(e).catch(function(e){if(e.response&&e.response.status){if(!(e.response.status>=500||429===e.response.status))throw e;t()}else t()})};return C()(n,t)},A=function(e){if(R(e))return Promise.reject("Channel id is in the large event blacklist.");var t=S.newRequest("/v5/channels/"+e+"/extensions",{method:"GET"});return j(t)},I=function(e,t,n){var r=new O;r.append("vendor_code",e),r.append("sku",t),r.append("language",n);var i="/v5/extensions/products?"+r,a=S.newRequest(i,{method:"GET"});return j(a)},L=function(e,t,n){var r=S.newRequest("/v5/extensions/"+e+"/auth/link_user",{body:JSON.stringify({show_user:n,token:t}),method:"POST"});return j(r)},N=function(e,t){var n=t.payload.channel_id,r=S.newRequest("/v5/extensions/"+e+"/auth/refresh/"+n,{body:JSON.stringify({token:t.token}),method:"POST"});return j(r)},M=function(){function e(){var e=this;this.clockSkew=0,this.tokens={},this.timers={},this.tokenEmitter=new p.EventEmitter2,this.clearTokenManager=function(){e.clockSkew=0,e.tokenEmitter.removeAllListeners();for(var t in e.tokens)e.tokens[t]&&(delete e.tokens[t],e.timers[t]&&(clearTimeout(e.timers[t]),delete e.timers[t]))},this.getToken=function(t){return e.tokens[t]},this.registerToken=function(t,n){var r=new w(n),i=e.tokens[t]||r;e.tokens[t]=new w(n),e.tokenEmitter.emit(t,r,i),e.updateRefreshTimer(t)},this.updateRefreshTimer=function(t){var n=e.getToken(t),r=e.tokenEmitter.listeners(t).length>0,i=void 0!==e.timers[t];r&&!i?e.timers[t]=setTimeout(function(){delete e.timers[t],e.refreshToken(t)},n.refreshAfter):!r&&i&&(clearTimeout(e.timers[t]),delete e.timers[t])},this.refreshToken=function(t){var n=e.getToken(t);N(t,n).catch(function(){return e.getTokenFromExtensions(t,n)}).then(function(n){var r=n.token;r&&e.registerToken(t,r)})},this.getTokenFromExtensions=function(e,t){return A(t.payload.channel_id).then(function(t){return{token:t.tokens.reduce(function(t,n){var r=n.extension_id,i=n.token;return r===e?i:t},"")}})}}return e.prototype.setClockSkew=function(e){var t=new Date(e).getTime();this.clockSkew=Date.now()-t},e.prototype.subscribe=function(e,t){this.tokenEmitter.on(e,t),this.getToken(e)&&this.updateRefreshTimer(e)},e.prototype.unsubscribe=function(e,t){this.tokenEmitter.off(e,t),this.getToken(e)&&this.updateRefreshTimer(e)},e}(),D=new M,q=n(128),U=function(){function e(){this.SUPERVISOR_LOCATION={production:"https://supervisor.ext-twitch.tv",staging:"https://supervisor.ext-assets.internal.justin.tv"},this.env="production"}return Object.defineProperty(e.prototype,"environment",{get:function(){return this.env},set:function(e){this.env=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supervisorOrigin",{get:function(){return this.SUPERVISOR_LOCATION[this.env]||this.SUPERVISOR_LOCATION.production},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supervisorURL",{get:function(){return this.supervisorOrigin+"/supervisor/v1/index.html"},enumerable:!0,configurable:!0}),e}(),B=new U,F=n(235),V=function(){function e(){this.driver=F.a.getInstance("production")}return e.prototype.setEnvironment=function(e){this.driver=F.a.getInstance(e)},e.prototype.subscribe=function(e){var t=this,n=e.topic,r=e.success,i=e.failure,a=e.message,o=e.token,s=this.createSubscribeCallback(a);return this.driver.Listen({topic:n,success:r,failure:i,message:s,auth:o}),function(){return t.unsubscribe(n,s)}},e.prototype.unsubscribe=function(e,t){this.driver.Unlisten({topic:e,success:function(){},failure:function(e){},message:t})},e.prototype.createSubscribeCallback=function(e){return function(t){var n;try{n=JSON.parse(t)}catch(e){return}e(n)}},e}(),H=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z="playercontext",W="contextupdate",K=function(e){function t(t){var n=e.call(this)||this;return n.currentControlHandlers={onShouldFetchExtensions:function(){},onDestroyExtension:function(){}},n.currentExtensionUnsubscribes=i(),n.hasPurchaseCompletedSubscriptionList=i(),n.onPlayerContextUpdate=function(){n.emit(z)},n.onTwilightContextUpdate=function(e){n.emit(W,e)},n.onExtensionControlMessage=function(e){switch(e.status){case"activate":if(e.maxDelayMS>0){var t=Math.random()*e.maxDelayMS;setTimeout(function(){n.currentControlHandlers.onShouldFetchExtensions()},t)}else n.currentControlHandlers.onShouldFetchExtensions();break;case"deactivate":case"uninstall":n.currentControlHandlers.onDestroyExtension(e.extensionId)}},n.onExtensionMassControlMessage=function(e){switch(e.status){case"mass_deactivate":n.currentControlHandlers.onDestroyExtension(e.extensionId)}},n.pubsub=t||new V,n}return H(t,e),t.prototype.getInstalledExtensions=function(e){var t=this;return A(e).then(function(e){return t.registerExtensionInstallations(e)})},t.prototype.registerExtensionInstallations=function(e){var t=this;return D.setClockSkew(e.issued_at),e.tokens.forEach(function(n){var r=e.installed_extensions,i=r.reduce(function(e,t){var r=t.extension,i=t.installation_status;return e||(r.id===n.extension_id?"active"===i.activation_state:e)},!1),a=new w(n.token).isBroadcaster;(i||a)&&(D.registerToken(n.extension_id,n.token),t.subscribeToMassExtensionControl(n.extension_id))}),e},t.prototype.setEnvironmentOptions=function(e){e.env&&(this.pubsub.setEnvironment(this.getPubsubEnvironment(e.env)),B.environment=e.env),S.setApiOptions({apiUrl:e.apiUrl,authToken:e.authToken})},t.prototype.subscribeToExtensionControl=function(e,t){e!==this.currentChannelId&&this.unsubscribeFromExtensionControl(this.currentChannelId),this.currentChannelId=e,this.currentControlHandlers=t,this.currentChannelUnsubscribe=this.pubsub.subscribe({topic:"extension-control."+e,success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onExtensionControlMessage})},t.prototype.unsubscribeFromExtensionControl=function(e){if(this.currentChannelId&&e===this.currentChannelId){this.currentChannelUnsubscribe&&this.currentChannelUnsubscribe();for(var t=0,n=Object.keys(this.currentExtensionUnsubscribes);t<n.length;t++){var r=n[t];this.currentExtensionUnsubscribes[r]()}}},t.prototype.registerPlayer=function(e){this.player=e,s(this.player)&&this.player.setStatsEnabled(!0),this.player.addEventListener("pause",this.onPlayerContextUpdate),this.player.addEventListener("play",this.onPlayerContextUpdate),this.player.addEventListener("statsupdate",this.onPlayerContextUpdate)},t.prototype.unregisterPlayer=function(){this.player&&(s(this.player)&&this.player.setStatsEnabled(!1),this.player.removeEventListener("pause",this.onPlayerContextUpdate),this.player.removeEventListener("play",this.onPlayerContextUpdate),this.player.removeEventListener("statsupdate",this.onPlayerContextUpdate),this.player=void 0)},t.prototype.setPlayerWindow=function(e){this.playerWindow=e},t.prototype.postContext=function(e){this.playerWindow&&this.playerWindow.postMessage({event:W,context:e},"*"),this.emit(W,e)},t.prototype.listenForContext=function(){var e=this;window.addEventListener("message",function(t){var n=t.data;if(t.origin===window.location.origin&&n.event&&n.event===W){var r=n.context;e.onTwilightContextUpdate(r)}},!1)},t.prototype.onPurchaseCompleted=function(e,t){var n=this,r="purchase-completed."+e;this.on(r,t),this.hasPurchaseCompletedSubscriptionList[e]||(this.hasPurchaseCompletedSubscriptionList[e]=!0,S.tokenRequest().then(function(t){var i=t.token;n.pubsub.subscribe({token:i,topic:"user-extensionpurchase-events."+e,success:function(){},failure:function(){},message:function(e){n.emit(r,e)}})}))},t.prototype.onSubscribeFailure=function(e){},t.prototype.onSubscribeSuccess=function(){},t.prototype.getPubsubEnvironment=function(e){return"staging"===e?"darklaunch":"test"===e?"production":e},t.prototype.subscribeToMassExtensionControl=function(e){this.currentExtensionUnsubscribes[e]||(this.currentExtensionUnsubscribes[e]=this.pubsub.subscribe({topic:"extension-control."+e,success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onExtensionMassControlMessage}))},t}(p.EventEmitter2),G=new K;!function(e){e.Light="light",e.Dark="dark"}(f||(f={}));var Q,Y={0:f.Light,1:f.Dark},$={"":f.Light,"theme--dark":f.Dark},J=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Z="en",ee=function(e){function t(t,n){void 0===n&&(n=Z);var r=e.call(this)||this;return r.extensionMode=t,r.language=n,r.context={},r.isContextInitialized=!1,r.destroy=function(){G.off(z,r.updateLocalContext),G.off(W,r.updateLocalContext)},r.initializeContext=function(){r.isContextInitialized=!0,r.emit("context",r.context,Object.keys(r.context))},r.getPlayerContext=function(){var e=G.player;if(!e)return{};var t=e.getPlaybackStats();return{bitrate:t.playbackRate,bufferSize:t.bufferSize,displayResolution:t.displayResolution,hlsLatencyBroadcaster:t.hlsLatencyBroadcaster,isFullScreen:e.getFullscreen(),isPaused:e.isPaused(),isTheatreMode:e.getTheatre(),videoResolution:t.videoResolution}},r.getBaseContext=function(){return{mode:r.extensionMode,language:r.language}},r.updateLocalContext=function(e){void 0===e&&(e={});var t=X({},r.context,e,r.getPlayerContext(),r.getBaseContext());void 0!==t.theme&&(t.theme=r.translateTheme(t.theme)),r.diffAndEmitContext(t)},r.diffAndEmitContext=function(e){var t=r.context;if(r.context=e,r.isContextInitialized){var n=Object.keys(e),i=n.reduce(function(n,r){return t[r]!==e[r]&&n.push(r),n},[]);i.length>0&&r.emit("context",e,i)}},r.translateTheme=function(e){return"number"==typeof e?Y[e]||f.Light:e},G.on(z,r.updateLocalContext),G.on(W,r.updateLocalContext),r.context=r.getBaseContext(),r.context.theme=u(),"viewer"===t&&(r.context.game=""),r}return J(t,e),t}(p.EventEmitter2),te=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};!function(e){e.Cancelled="cancelled",e.LoggedOut="logged_out_user",e.InvalidId="invalid_id",e.AlreadyFollowed="already_followed"}(Q||(Q={}));var ne=function(){function e(e){this.dobbin=e.dobbin;var t=h(e.iframe.ownerDocument.referrer);this.trackingProperties=te({},e.requiredProps,{url:e.iframe.ownerDocument.location.href,host:e.iframe.ownerDocument.location.host,domain:e.iframe.ownerDocument.domain,user_agent:e.iframe.ownerDocument.defaultView.navigator.userAgent,referrer_url:e.iframe.ownerDocument.referrer,referrer_host:t.host,extension_id:e.extension.clientId,extension_version:e.extension.version,extension_anchor:e.extension.anchor,extension_mode:e.extensionMode})}return e.prototype.trackEvent=function(e,t){var n=te({},t,this.trackingProperties);this.dobbin.trackEvent(e,n,["spade"])},e}(),re=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=function(e){function t(t){var n=e.call(this)||this;return n.iframe=t,n.destroy=function(){n.iframe.ownerDocument.defaultView.removeEventListener("message",n.handleMessage)},n.sendContext=function(e,t){n.sendMessage({action:"twitch-ext-context",context:e,updatedFields:t})},n.sendExtensionAuth=function(e){n.sendMessage({action:"twitch-ext-auth",auth:e})},n.sendExtensionBootstrap=function(e){n.sendMessage({action:"twitch-ext-bootstrap",auth:e})},n.sendSupervisorInit=function(e){n.sendMessage({action:q.SupervisorAction.SupervisorInit,options:e})},n.sendFunctionReply=function(e){n.sendMessage(e)},n.sendExtensionReloadEntitlementsMessage=function(){n.sendMessage({action:"twitch-ext-reload-entitlements"})},n.sendVisibilityChanged=function(e,t){n.sendMessage({action:"twitch-ext-visibility-changed",isVisible:e,context:t})},n.handleMessage=function(e){var t=e.source,r=e.data;if(t===n.iframe.contentWindow)try{n.handleExtensionAction(r)}catch(e){console.error("Caught Error in Message Handler: "+e.stack)}},n.handleExtensionAction=function(e){-1!==q.ExtensionEventActions.indexOf(e.action)&&n.emit(e.action,e)},n.sendMessage=function(e){n.iframe&&n.iframe.contentWindow&&n.iframe.contentWindow.postMessage(e,B.supervisorOrigin)},n.iframe.ownerDocument.defaultView.addEventListener("message",n.handleMessage),n}return re(t,e),t.prototype.sendExtensionReloadMessage=function(){this.sendMessage({action:"twitch-ext-reload"})},t.prototype.sendExtensionProductPricesMessage=function(e){var t={};e.products.forEach(function(e){var n=e.sku,r=e.price;t[n]={displayPrice:c(r.price,r.currency_unit)}}),this.sendMessage({action:"twitch-ext-product-prices",prices:t})},t}(p.EventEmitter2),ae=function(){function e(e,t,n){var r=this;this.coordinator=e,this.loginId=t,this.emitConfirmationRequest=n,this.functionActionMap=i(),this.functionModalMap=i(),this.registerFunctionModal=function(e,t){t.onOpen(function(n){var i=r.loginId?e:q.FunctionAction.LoginRequest,a={action:i,resultCallback:t.resultCallback,defaultResult:t.defaultResult};n&&(a.options=n),r.requestConfirmation(a)}),t.onModalResult&&t.onModalResult(function(e){r.sendFunctionReply(e)}),r.functionModalMap[e]=t,r.functionActionMap[e]=r.functionActionHandler(e),r.coordinator.on(e,r.functionActionMap[e])},this.unregisterFunctionModal=function(e){r.coordinator.off(e,r.functionActionMap[e]),delete r.functionActionMap[e],delete r.functionModalMap[e]},this.functionActionHandler=function(e){return function(t){var n=r.functionModalMap[e];n&&n.open(t)}},this.requestConfirmation=function(e){r.emitConfirmationRequest(e)},this.sendFunctionReply=function(e){r.coordinator.sendFunctionReply(e)}}return e}(),oe=function(){function e(){}return e.prototype.makePurchase=function(e,t,n){return Promise.resolve().then(function(){window.open(e.action_details.destination_url+"&br_id="+o(""+t)+"&locale="+n,"Twitch","width=1024,height=600,scrollbars=yes")})},e}(),se=n(387),ue=n.n(se),ce=new ue.a,le=function(e){var t=S.newRequest("/api/channels/"+e,{method:"GET"});return S.authRequest(t).then(function(e){return e?e._id:0},function(){return 0})},de=function(e,t){return le(t).then(function(n){if(0===n)return{channel:null,channelId:0,isFollowing:!1};var r=S.newRequest("/v5/users/"+e+"/follows/channels/"+n,{method:"GET"});return S.authRequest(r).then(function(){return{channel:t,channelId:n,isFollowing:!0}},function(){return{channel:t,channelId:n,isFollowing:!1}})})},fe=function(e,t,n){return le(t).then(function(r){if(0===r)return{channel:null,channelId:0,isFollowing:!1};var i=S.newRequest("/v5/users/"+e+"/follows/channels/"+r,{method:"PUT",body:JSON.stringify({notifications:n})});return S.authRequest(i).then(function(){return{channel:t,channelId:r,isFollowing:!0}},function(){return{channel:t,channelId:r,isFollowing:!1}})})},pe=n(170),he=function(){function e(e,t){var n=this;this.loginId=e,this.tracker=t,this.close=function(){n.replyCallback({action:pe.a.FollowComplete,channel:n.channel,didFollow:!1}),n.tracker.trackEvent("extension_follow_fail",{target_channel:n.channel,target_channel_id:n.channelId,fail_reason:n.failReason})},this.onModalResult=function(e){n.replyCallback=e},this.onOpen=function(e){n.openCallback=function(t){n.tracker.trackEvent("extension_follow_init",{target_channel:t.channel,target_channel_id:t.channelId}),e(t)}},this.resultCallback=function(e){e.didFollow?(n.tracker.trackEvent("extension_follow_confirm",{target_channel:n.channel,target_channel_id:n.channelId}),n.follow(n.loginId,n.channel,e.notifications)):n.close()},this.follow=function(e,t,r){fe(e,t,r).then(function(e){var t=e.channel,r=e.channelId,i=e.isFollowing,a={action:pe.a.FollowComplete,channel:t,didFollow:i};n.tracker.trackEvent("extension_follow",{target_channel:t,target_channel_id:r}),n.replyCallback(a)})}}return Object.defineProperty(e.prototype,"defaultResult",{get:function(){return{didFollow:!1,notifications:!1}},enumerable:!0,configurable:!0}),e.prototype.open=function(e){var t=this;if(this.channel=e.payload.channel,!this.loginId)return this.channelId=0,this.openCallback&&this.openCallback({channel:this.channel,channelId:0,isFollowing:!1,isLoggedIn:!1}),void(this.failReason=Q.LoggedOut);de(this.loginId,this.channel).then(function(e){var n=e.channel,r=e.channelId,i=e.isFollowing;t.channelId=r,t.openCallback&&t.openCallback({channel:n,channelId:r,isFollowing:i,isLoggedIn:!0}),t.failReason=null===n?Q.InvalidId:i?Q.AlreadyFollowed:Q.Cancelled})},e}(),me=function(){function e(){var e=this;this.close=function(){},this.onOpen=function(t){e.openCallback=t},this.onModalResult=function(e){},this.resultCallback=function(e){}}return Object.defineProperty(e.prototype,"defaultResult",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.open=function(){this.openCallback()},e}(),ye=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=["allow-forms","allow-scripts","allow-same-origin"],ge=700,be=300,_e=function(e){return[137512364,188863650,188864445,190160460,192718746,138600360,138601808].indexOf(e)>-1},we=function(e){function t(t){var n=e.call(this)||this;return n.handleUserAction={click:function(e){var t=e.payload,n=this.iframe.getBoundingClientRect(),r=n.width,i=n.height;this.tracker.trackEvent("extension_click",{px_mouse_coord_x:t.clientX,px_mouse_coord_y:t.clientY,pct_mouse_coord_x:t.clientX/r*100,pct_mouse_coord_y:t.clientY/i*100})},dblclick:function(e){this.throttleDblClick(this.iframe,e)},mousemove:function(e){var t=e.payload,n=this.iframe.getBoundingClientRect(),r=n.left,i=n.top;this.iframe.dispatchEvent(new MouseEvent("mousemove",{bubbles:!0,clientX:t.clientX,clientY:t.clientY,screenX:r+t.clientX,screenY:i+t.clientY}))},focusin:function(e){e.payload;if("video_overlay"===this.extension.anchor){for(var t=this.iframe;t&&!t.hasAttribute("tabindex");)t=t.parentElement;t&&t.focus()}}},n.hasSentViewEvent=!1,n.hasBootstrapped=!1,n.hasLoaded=!1,n.throttleDblClick=b(function(e,t){var n=t.payload,r=e.getBoundingClientRect(),i=r.left,a=r.top;e.dispatchEvent(new MouseEvent("dblclick",{bubbles:!0,clientX:n.clientX,clientY:n.clientY,screenX:i+n.clientX,screenY:a+n.clientY}))},1e3),n.isVisible=!0,n.destroy=function(){n.unsetupListeners(),n.contextManager.destroy(),n.coordinator.destroy(),n.iframe.remove()},n.linkIdentity=function(){var e=n.extension.clientId,t=D.getToken(e);t.isLinked||L(e,t.token,!0).then(function(t){var r=t.token;D.registerToken(e,r),n.tracker.trackEvent("extension_ui_interaction_client",{extension_interaction:"grant"})})},n.unlinkIdentity=function(){var e=n.extension.clientId,t=D.getToken(e);t.isLinked&&L(e,t.token,!1).then(function(t){var r=t.token;D.registerToken(e,r),n.tracker.trackEvent("extension_ui_interaction_client",{extension_interaction:"revoke"})})},n.visibilityChanged=function(){if(!n.hasSentViewEvent&&"panel"===n.extension.anchor&&"viewer"===n.params.mode){var e=g.getElementBoundingClientRect(n.iframe),t=e.bottom-e.top,r=g.getWindowInnerHeight();100*(Math.min(Math.max(r-e.top,0),t)/t)>=75&&(n.tracker.trackEvent("extension_view",{pct_view_visible:75,px_view_visible:Math.floor(75*t/100)}),n.hasSentViewEvent=!0)}},n.setVisible=function(e){if(n.hasLoaded&&n.isVisible!==e){n.isVisible=e;var t=e?n.contextManager.context:null;n.coordinator.sendVisibilityChanged(e,t)}},n.buildTracker=function(){var e=n.params;return e.extensionTracker||new ne({dobbin:e.dobbin,extension:e.extension,extensionMode:e.mode,iframe:n.iframe,requiredProps:{login:e.trackingProperties.login,login_id:e.loginId,channel:e.trackingProperties.channel,channel_id:e.channelId,device_id:e.trackingProperties.device_id,platform:e.trackingProperties.platform,player_type:e.trackingProperties.player_type,locale:n.locale}})},n.buildContextManager=function(){var e=n.params;return e.contextManager||new ee(e.mode)},n.buildCoordinator=function(){return n.params.extensionCoordinator||new ie(n.iframe)},n.buildFunctionManager=function(){return n.params.functionManager||new ae(n.coordinator,n.params.loginId,n.emitConfirmationRequest)},n.buildPurchaseService=function(){return n.params.purchaseService||new oe},n.getExtensionHeight=function(){return"config"===n.params.mode?ge:n.extension.panelHeight?Number(n.extension.panelHeight):be},n.getAnchorAttributes=function(){var e=n.params.mode,t=n.extension.anchor,r={};switch(t){case"panel":var i=n.getExtensionHeight();r.style="height: "+i+"px;";break;case"video_overlay":case"hidden":"viewer"===e&&(r.scrolling="no")}return r},n.applyAnchorAttributes=function(e,t){var r=n.getAnchorAttributes().style;r&&e.setAttribute("style",r)},n.createSupervisorIFrame=function(e,t,r){var i=n.params.mode,a=document.createElement("iframe");switch(a.setAttribute("class",e),a.setAttribute("sandbox",ve.join(" ")),a.setAttribute("frameBorder","0"),a.setAttribute("scrolling","no"),a.setAttribute("src",B.supervisorURL),i){case"viewer":n.applyAnchorAttributes(a,t),n.applyViewerSandboxAttrs(a);break;case"dashboard":var o=n.extension.panelHeight||300;a.setAttribute("style","height: "+o+"px;"),n.applyConfigSandboxAttrs(a);break;case"config":a.setAttribute("style","width: 100%; height: "+ge+"px;"),n.applyConfigSandboxAttrs(a)}return a.style.display="none",a},n.initSupervisedExtension=function(){var e,t;switch(n.params.mode){case"viewer":e=n.extension.viewerUrl,t=n.createViewerSandboxAttrs();break;case"dashboard":e=n.extension.liveConfigUrl,t=n.getConfigWhitelist();break;case"config":e=n.extension.configUrl,t=n.getConfigWhitelist()}var i=n.getAnchorAttributes();i.sandbox=t||ve.join(" ");var a={extensionURL:r(e,n.extensionOptions),hostOrigin:window.location.origin,iframeAttrs:i};n.coordinator.sendSupervisorInit(a)},n.getExtensionAuth=function(){var e=D.getToken(n.extension.clientId);return{channelId:e.payload.channel_id,clientId:n.extension.clientId,token:e.token,userId:e.payload.opaque_user_id}},n.onMouseEnter=function(e){n.tracker.trackEvent("extension_mouseenter",{})},n.handleToken=function(e,t){n.hasLoaded&&!e.isNearExpiration&&(n.hasBootstrapped?e.isLinked!==t.isLinked?n.reloadExtension():n.sendAuthUpdate(e):n.sendBootstrap(e))},n.onExtensionLoaded=function(e){n.hasLoaded=!0,n.contextManager.initializeContext(),n.tracker.trackEvent("extension_helper_load_success",{}),n.iframe.style.removeProperty("display");var t=D.getToken(n.extension.clientId);n.handleToken(t,t),n.emit("extensionFrameLoaded",n.extension),n.sendExtensionProductPrices()},n.onExtensionUserAction=function(e){n.handleUserAction[e.payload.type].call(n,e)},n.onExtensionNetworkTraffic=function(e){n.tracker.trackEvent("extension_network_request",{request_duration:e.payload.duration,request_end_time:e.payload.endTime,request_file_type:m(e.payload.url),request_start_time:e.payload.startTime,request_url:e.payload.url})},n.emitConfirmationRequest=function(e){n.emit("requestModal",e)},n.sendAuthUpdate=function(e){n.sendIdentityLinkUpdate(e),n.coordinator.sendExtensionAuth(n.getExtensionAuth())},n.sendBootstrap=function(e){n.hasBootstrapped=!0,n.sendIdentityLinkUpdate(e),n.coordinator.sendExtensionBootstrap(n.getExtensionAuth())},n.sendIdentityLinkUpdate=function(e){var t=e.isUserLoggedIn&&n.canRequestIdLink;n.emit("identityLinked",e.isLinked,t)},n.beginPurchase=function(e){var t=e.payload.sku,r=n.extension.vendorCode;n.extensionProducts.then(function(e){var i=e.products.find(function(e){return e.sku===t});if(!i)throw new Error("An extension product with the SKU "+t+" could not be found.");var a={asin:i.asin,developer_name:i.developer_name,item_name:i.title,item_description:i.description,item_description_short:i.short_description,item_price:i.price.price,item_price_currency:i.price.currency_unit,vendor_code:r,sku:i.sku};n.tracker.trackEvent("extension_start_buy",a),n.onBeginPurchase(n.formatExtensionProductForDisplay(i),function(){return n.tracker.trackEvent("extension_confirm_buy",a),Promise.resolve().then(function(){n.linkIdentity()}).then(function(){n.purchaseService.makePurchase(i,n.params.channelId,n.locale)})})})},n.onContextUpdate=function(e,t){n.isVisible&&n.coordinator.sendContext(e,t)},n.setupListeners=function(){n.eventListeners=[{target:n.iframe,event:"mouseenter",callback:n.onMouseEnter.bind(n)}],n.eventListeners.forEach(function(e){e.target.addEventListener(e.event,e.callback)}),n.contextManager.on("context",n.onContextUpdate),n.coordinator.on(q.SupervisorAction.SupervisorReady,n.initSupervisedExtension),n.coordinator.on("twitch-ext-loaded",n.onExtensionLoaded),n.coordinator.on("twitch-ext-network-timing",n.onExtensionNetworkTraffic),n.coordinator.on("twitch-ext-user-action",n.onExtensionUserAction),n.onBeginPurchase&&n.coordinator.on("twitch-ext-begin-purchase",n.beginPurchase),D.subscribe(n.extension.clientId,n.handleToken);var e=D.getToken(n.extension.clientId);e&&!e.isNearExpiration&&n.handleToken(e,e)},n.reloadExtension=function(){n.hasLoaded=!1,n.hasBootstrapped=!1,n.coordinator.sendExtensionReloadMessage()},n.unsetupListeners=function(){n.eventListeners.forEach(function(e){e.target.removeEventListener(e.event,e.callback)}),n.contextManager.off("context",n.coordinator.sendContext),n.coordinator.off("twitch-ext-loaded",n.onExtensionLoaded),n.coordinator.off("twitch-ext-network-timing",n.onExtensionNetworkTraffic),n.coordinator.off("twitch-ext-user-action",n.onExtensionUserAction),n.unregisterFunctionModals(),D.unsubscribe(n.extension.clientId,n.handleToken)},n.registerFunctionModals=function(){n.functionManager.registerFunctionModal(q.FunctionAction.FollowAction,new he(n.params.loginId,n.tracker)),n.canRequestIdLink&&n.functionManager.registerFunctionModal(q.FunctionAction.IdShareRequest,new me)},n.unregisterFunctionModals=function(){n.functionManager.unregisterFunctionModal(q.FunctionAction.FollowAction)},n.handlePurchaseCompleted=function(e){var t=e.msg.sku;n.extensionProducts.then(function(e){e.products.find(function(e){return e.sku===t})&&n.coordinator.sendExtensionReloadEntitlementsMessage()})},n.params=t,n.iframe=n.createSupervisorIFrame(t.iframeClassName,n.extension.anchor,n.extensionOptions),void 0!==t.onBeginPurchase&&(n.onBeginPurchase=t.onBeginPurchase),n.setupListeners(),n.extension.token&&!D.getToken(n.extension.clientId)&&D.registerToken(n.extension.clientId,n.extension.token),n.registerFunctionModals(),n.tracker.trackEvent("extension_render",{}),t.parentElement.appendChild(n.iframe),n.visibilityChanged(),n.params.loginId&&G.onPurchaseCompleted(n.params.loginId,n.handlePurchaseCompleted),n}return ye(t,e),Object.defineProperty(t.prototype,"tracker",{get:function(){return l(this.buildTracker)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextManager",{get:function(){return l(this.buildContextManager)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coordinator",{get:function(){return l(this.buildCoordinator)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this.params.extension},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionOptions",{get:function(){var e={anchor:this.extension.anchor,language:this.language,mode:this.params.mode,state:x[this.extension.state]};return this.params.platform&&(e.platform=this.params.platform),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"functionManager",{get:function(){return l(this.buildFunctionManager)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this.params.language||"en"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this.params.locale||"en-US"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"purchaseService",{get:function(){return l(this.buildPurchaseService)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRequestIdLink",{get:function(){var e=D.getToken(this.extension.clientId);return!e.isBroadcaster&&(e.isLinked||this.extension.requestIdentityLink)},enumerable:!0,configurable:!0}),t.prototype.createViewerSandboxAttrs=function(){var e=this.params.mode,t=this.extension,n=t.whitelistedPanelUrls,r=t.anchor,i=_e(this.params.channelId),a="panel"===r&&n.length&&"viewer"===e;return i||a?ve.concat(["allow-popups","allow-popups-to-escape-sandbox"]).join(" "):ve.join(" ")},t.prototype.getConfigWhitelist=function(){return this.extension.whitelistedConfigUrls.length?ve.concat(["allow-popups","allow-popups-to-escape-sandbox"]).join(" "):ve.join(" ")},t.prototype.applyViewerSandboxAttrs=function(e){e.setAttribute("sandbox",this.createViewerSandboxAttrs())},t.prototype.applyConfigSandboxAttrs=function(e){e.setAttribute("sandbox",this.getConfigWhitelist())},Object.defineProperty(t.prototype,"extensionProducts",{get:function(){var e=this.extensionProductsCache;if(void 0===e){var t=this.extension,n=t.sku,r=t.vendorCode;e=n&&r?this.extensionProductsCache=I(r,n,this.language):Promise.resolve(null)}return e},enumerable:!0,configurable:!0}),t.prototype.formatExtensionProductForDisplay=function(e){return{description:e.description,developerName:e.developer_name,displayPrice:c(e.price.price,e.price.currency_unit),extensionName:this.extension.name,shortDescription:e.short_description,sku:e.sku,title:e.title}},t.prototype.sendExtensionProductPrices=function(){var e=this;this.extensionProducts.then(function(t){t&&e.coordinator.sendExtensionProductPricesMessage(t)})},t}(p.EventEmitter2);n.d(t,"a",function(){return ke}),n.d(t,!1,function(){return we}),n.d(t,"b",function(){return G});var ke=function(){function e(){}return e.ExtensionFrame=we,e.ExtensionService=G,e}()},function(e,t,n){"use strict";n.d(t,"ExtensionEventActions",function(){return s});var r=n(234),i=n(170),a=n(385);n.n(a);n.o(a,"FunctionAction")&&n.d(t,"FunctionAction",function(){return a.FunctionAction}),n.o(a,"SupervisorAction")&&n.d(t,"SupervisorAction",function(){return a.SupervisorAction}),n.d(t,"SupervisorAction",function(){return r.a}),n.d(t,"FunctionAction",function(){return i.a});var o=n(386),s=(n.n(o),[r.a.SupervisorReady,"twitch-ext-loaded","twitch-ext-user-action","twitch-ext-network-timing","twitch-ext-begin-purchase",i.a.FollowAction,i.a.FollowStatusRequest,i.a.IdShareRequest])},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===i}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},function(e,t,n){"use strict";function r(e){var t=e?"session_unique_id":"unique_id",n=i.cookie.get(t);if(n)return n;n=a.a();var r=e?"":3650;return i.cookie.set(t,n,{expires:r,domain:"."+o.l,path:"/",secure:!1}),n}t.a=r;var i=n(98),a=(n.n(i),n(80)),o=n(8)},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var o=n(30),s=(n.n(o),n(97)),u=n(8),c=n(131),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d="provided",f=function(e){function t(e){var n=e.customerId,a=e.contentId,o=e.usherHostOverride;r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return s._customerId=n,s._contentId=a,s._usherHostOverride=o,s}return a(t,e),l(t,[{key:"resetNAuthToken",value:function(){}},{key:"_buildUsherParams",value:function(){return{allow_source:!0,device_id:c.a(!1)}}},{key:"_fetchNAuthToken",value:function(){return Promise.reject("Error: Attempted NAuth fetch for ProvidedContentStream")}},{key:"_fetchAccessToken",value:function(){return Promise.reject("Error: Attempted Access Token fetch for ProvidedContentStream")}},{key:"contentType",get:function(){return d}},{key:"channel",get:function(){}},{key:"videoId",get:function(){}},{key:"contentId",get:function(){return this._contentId}},{key:"customerId",get:function(){return this._customerId}},{key:"_baseStreamUrl",get:function(){return(this._usherHostOverride&&""!==this._usherHostOverride?this._usherHostOverride:u.E)+"/api/lvs/hls/lvs."+this._customerId+"."+this._contentId+".m3u8"}},{key:"accessToken",get:function(){return Promise.resolve()}},{key:"streamUrl",get:function(){var e=this._buildUsherParams();return Promise.resolve(this._baseStreamUrl+"?"+Object(o.stringify)(e))}},{key:"castStreamUrl",get:function(){var e=this._buildUsherParams();return e.allow_source=void 0,Promise.resolve(this._baseStreamUrl+"?"+Object(o.stringify)(e))}}]),t}(s.a)},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t,3))}var i=n(60),a=n(75),o=n(464),s=n(19);e.exports=r},function(e,t,n){"use strict";function r(e){return{type:i,online:e}}n.d(t,"a",function(){return i}),t.b=r;var i="set online"},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=0,i=1,a=2,o=3},function(e,t,n){"use strict";function r(){var e=this,t=new a.a;e.attach=function(e){},e.destroy=function(){},e.getVersion=function(){return""},e.addEventListener=function(e,n){t.on(e,n)},e.removeEventListener=function(e,n){t.off(e,n)},e.getError=function(){return o},e.getSrc=function(){},e.getStats=function(){return{}},e.setSrc=function(e){},e.getNetworkState=function(){},e.getBuffered=function(){},e.load=function(){},e.getReadyState=function(){},e.getSeeking=function(){},e.getCurrentTime=function(){},e.setCurrentTime=function(e){},e.getDuration=function(){},e.getPaused=function(){},e.getPlaybackRate=function(){},e.setPlaybackRate=function(e){},e.getPlayed=function(){},e.getEnded=function(){},e.getAutoplay=function(){},e.setLoop=function(e){},e.play=function(){},e.pause=function(){},e.getControls=function(){},e.setControls=function(e){},e.getVolume=function(){},e.setVolume=function(e){},e.getMuted=function(){},e.setMuted=function(e){},e.getQuality=function(){},e.setQuality=function(e){},e.getQualities=function(){return[]},e.setChannel=function(e,t){},e.elapsedTime=function(){},e.setVideo=function(e,t){},e.getVideoInfo=function(){},e.getCaption=function(){},e.getBackend=function(){return s},e.absAvailable=function(){}}n.d(t,"a",function(){return s}),t.b=r;var i=n(34),a=n.n(i),o="Blank Backend Error",s="blank"},function(e,t,n){"use strict";function r(e){var t=e.deviceId;return{type:o,deviceId:t}}function i(e){return{type:s,playerType:e}}function a(e){return{type:u,params:e}}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),t.d=r,t.e=i,t.f=a;var o="set environment",s="set player type",u="set twitch everywhere params"},function(e,t,n){"use strict";function r(e){return{type:i,window:e}}n.d(t,"a",function(){return i}),t.b=r;var i="set window"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=this,i=void 0,a=void 0,o=void 0,s=void 0,v=void 0,g=new Promise(function(e){v=e});n.attach=function(e){e.appendChild(a),a.addEventListener(h,function(){var e;if(null!==a.error){if(a.error.code===a.error.MEDIA_ERR_SRC_NOT_SUPPORTED)return i.emit(l.k),void i.emit(c.e);var n=(e={},r(e,a.error.MEDIA_ERR_NETWORK,d.a.CODES.NETWORK),r(e,a.error.MEDIA_ERR_DECODE,d.a.CODES.DECODE),r(e,a.error.MEDIA_ERR_ABORTED,d.a.CODES.ABORTED),e);t.dispatch(Object(f.d)(n[a.error.code]))}}),a.addEventListener(p,function(){i.emit(l.s,n.getQuality())})},n.destroy=function(){},n.addEventListener=function(e,t){e!==h&&a.addEventListener(e,t),i.on(e,t)},n.removeEventListener=function(e,t){a.removeEventListener(e,t),i.off(e,t)},n.getNetworkProfile=function(){return[]},n.getError=function(){return null!==a.error&&a.error.code!==a.error.MEDIA_ERR_SRC_NOT_SUPPORTED?a.error:null},n.getSrc=function(){return a.src},n.setSrc=function(e){a.src=e,n.load(),v()},n.getNetworkState=function(){return a.networkState},n.getBuffered=function(){return a.buffered},n.load=function(){a.load()},n.getReadyState=function(){return a.readyState},n.getSeeking=function(){return a.seeking},n.getStats=function(){return m},n.getCurrentTime=function(){return a.currentTime},n.setCurrentTime=function(e){a.currentTime=e},n.getDuration=function(){return a.duration},n.getPaused=function(){return a.paused},n.getPlaybackRate=function(){return a.playbackRate},n.setPlaybackRate=function(e){a.playbackRate=e},n.getPlayed=function(){return a.played},n.getEnded=function(){return a.ended||!!a.error&&a.error.code===a.error.MEDIA_ERR_SRC_NOT_SUPPORTED},n.getAutoplay=function(){return a.autoplay},n.setLoop=function(e){a.loop=e},n.play=function(){return g.then(function(){return a.play()}).catch(function(e){return e})},n.pause=function(){a.pause()},n.getControls=function(){return!1},n.setControls=function(){},n.getVolume=function(){return a.volume},n.setVolume=function(e){a.volume=e},n.getMuted=function(){return a.muted},n.setMuted=function(e){e?a.setAttribute("muted",""):a.removeAttribute("muted"),a.muted=e},n.getChannel=function(){return o},n.setChannel=function(e,t){o=e,s=null,t.streamUrl.then(function(e){n.setSrc(e)})},n.getVideo=function(){return s},n.setVideo=function(e,t){s=e,o=null,t.streamUrl.then(function(e){n.setSrc(e)})},n.getQuality=function(){return"auto"},n.setQuality=function(){},n.getQualities=function(){return[{bandwidth:-1,resolution:"0x0",group:"auto",name:"Auto"}]},n.getVideoInfo=function(){return{}},n.getCaption=function(){},n.getBackend=function(){return y},n.getVersion=function(){},n.elapsedTime=function(){},n.absAvailable=function(){},function(){i=new u.a,a=document.createElement("video"),a.autoplay=e.autoplay,e.playsinline&&(a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline","")),e.muted&&a.setAttribute("muted",""),setTimeout(function(){i.emit(l.p)},0)}()}n.d(t,"a",function(){return y}),t.b=i;var a=n(91),o=n.n(a),s=n(34),u=n.n(s),c=n(21),l=n(26),d=n(48),f=n(53),p="loadedmetadata",h="error",m={playbackRate:0,fps:0,bufferSize:0,skippedFrames:0,memoryUsage:"Unknown",hlsLatencyEncoder:0,hlsLatencyBroadcaster:0,videoResolution:"0x0",displayResolution:"0x0"},y="hls";i.canPlay=function(){var e=document.createElement("video");return!!o()(e.canPlayType)&&e.canPlayType("application/vnd.apple.mpegURL")}},function(e,t,n){"use strict";function r(){return{type:u,settings:{persistenceEnabled:o.a.get("persistenceEnabled",!0)}}}function i(){return function(e,t){t().analyticsTracker.trackEvent(s.f,{action:"persistence_enable"}),o.a.set("persistenceEnabled",!0),e({type:c,value:!0})}}function a(){return function(e,t){t().analyticsTracker.trackEvent(s.f,{action:"persistence_disable"}),o.a.set("persistenceEnabled",!1),e({type:c,value:!1})}}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),t.e=r,t.d=i,t.c=a;var o=n(25),s=n(62),u="initialize ui settings",c="set persistence"},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(505)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(177),l=n(0),d=n(142);e.exports=function(e){var t=e.displayName||e.name,n=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleClickOutside=t.handleClickOutside.bind(t),t}return o(n,t),u(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){var t=this.__domNode;t&&t.contains(e.target)||"function"!=typeof this.__wrappedComponent.handleClickOutside||this.__wrappedComponent.handleClickOutside(e)}},{key:"render",value:function(){var t=this,n=this.props,i=n.wrappedRef,a=r(n,["wrappedRef"]);return l.createElement(e,s({},a,{ref:function(e){t.__wrappedComponent=e,t.__domNode=d.findDOMNode(e),i&&i(e)}}))}}]),n}(l.Component);return n.displayName="clickOutside("+t+")",c(n,e)}},function(e,t,n){(function(t,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function i(e){F=e}function a(e){V=e}function o(){return void 0!==B?function(){B(u)}:s()}function s(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<U;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}U=0}function c(e,t){var n=this,r=new this.constructor(d);void 0===r[$]&&x(r);var i=n._state;if(i){var a=arguments[i-1];V(function(){return C(i,r,a,n._result)})}else E(n,r,e,t);return r}function l(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return b(n,e),n}function d(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function h(e){try{return e.then}catch(e){return ee.error=e,ee}}function m(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function y(e,t,n){V(function(e){var r=!1,i=m(n,t,function(n){r||(r=!0,t!==n?b(e,n):w(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function v(e,t){t._state===X?w(e,t._result):t._state===Z?k(e,t._result):E(t,void 0,function(t){return b(e,t)},function(t){return k(e,t)})}function g(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===l?v(e,t):n===ee?(k(e,ee.error),ee.error=null):void 0===n?w(e,t):r(n)?y(e,t,n):w(e,t)}function b(t,n){t===n?k(t,f()):e(n)?g(t,n,h(n)):w(t,n)}function _(e){e._onerror&&e._onerror(e._result),S(e)}function w(e,t){e._state===J&&(e._result=t,e._state=X,0!==e._subscribers.length&&V(S,e))}function k(e,t){e._state===J&&(e._state=Z,e._result=t,V(_,e))}function E(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+X]=n,i[a+Z]=r,0===a&&e._state&&V(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?C(n,r,i,a):i(a);e._subscribers.length=0}}function P(e,t){try{return e(t)}catch(e){return ee.error=e,ee}}function C(e,t,n,i){var a=r(n),o=void 0,s=void 0,u=void 0,c=void 0;if(a){if(o=P(n,i),o===ee?(c=!0,s=o.error,o.error=null):u=!0,t===o)return void k(t,p())}else o=i,u=!0;t._state!==J||(a&&u?b(t,o):c?k(t,s):e===X?w(t,o):e===Z&&k(t,o))}function O(e,t){try{t(function(t){b(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}function T(){return te++}function x(e){e[$]=te++,e._state=void 0,e._result=void 0,e._subscribers=[]}function R(){return new Error("Array Methods must be provided an Array")}function j(e){return new ne(this,e).promise}function A(e){var t=this;return new t(q(e)?function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function I(e){var t=this,n=new t(d);return k(n,e),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function M(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=re}var D=void 0;D=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var q=D,U=0,B=void 0,F=void 0,V=function(e,t){Q[U]=e,Q[U+1]=t,2===(U+=2)&&(F?F(u):Y())},H="undefined"!=typeof window?window:void 0,z=H||{},W=z.MutationObserver||z.WebKitMutationObserver,K="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),Y=void 0;Y=K?function(){return function(){return t.nextTick(u)}}():W?function(){var e=0,t=new W(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():G?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===H?function(){try{var e=Function("return this")().require("vertx");return B=e.runOnLoop||e.runOnContext,o()}catch(e){return s()}}():s();var $=Math.random().toString(36).substring(2),J=void 0,X=1,Z=2,ee={error:null},te=0,ne=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[$]||x(this.promise),q(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):k(this.promise,R())}return e.prototype._enumerate=function(e){for(var t=0;this._state===J&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===l){var i=h(e);if(i===c&&e._state!==J)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===re){var a=new n(d);g(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===J&&(this._remaining--,e===Z?k(r,n):this._result[t]=n),0===this._remaining&&w(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(X,t,e)},function(e){return n._settledAt(Z,t,e)})},e}(),re=function(){function e(t){this[$]=T(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&L(),this instanceof e?O(this,t):N())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},e}();return re.prototype.then=c,re.all=j,re.race=A,re.resolve=l,re.reject=I,re._setScheduler=i,re._setAsap=a,re._asap=V,re.polyfill=M,re.Promise=re,re})}).call(t,n(145),n(57))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){m&&p&&(m=!1,p.length?h=p.concat(h):y=-1,h.length&&s())}function s(){if(!m){var e=i(o);m=!0;for(var t=h.length;t;){for(p=h,h=[];++y<t;)p&&p[y].run();y=-1,t=h.length}p=null,m=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,h=[],m=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(306),i=n(92),a=n(149),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},function(e,t,n){(function(e){var r=n(201),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(147)(e))},function(e,t,n){function r(e,t,n){return t===t?o(e,t,n):i(e,a,n)}var i=n(204),a=n(309),o=n(310);e.exports=r},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}var i=n(19),a=n(113),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(318),a=n(330),o=n(332),s=n(333),u=n(334);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(58),i=n(32),a=r(i,"Map");e.exports=a},function(e,t,n){function r(e){if("string"==typeof e)return e;if(o(e))return a(e,r)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(70),a=n(60),o=n(19),s=n(113),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t,n){function r(e){return(null==e?0:e.length)?i(e,1):[]}var i=n(156);e.exports=r},function(e,t,n){function r(e,t,n,o,s){var u=-1,c=e.length;for(n||(n=a),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,o,s):i(s,l):o||(s[s.length]=l)}return s}var i=n(120),a=n(336);e.exports=r},function(e,t,n){function r(e){return i(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&a(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,o)}return t})}var i=n(90),a=n(106);e.exports=r},function(e,t,n){function r(e,t,n,o,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!==e&&t!==t:i(e,t,n,o,r,s))}var i=n(346),a=n(33);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(152),a=n(347),o=n(348);r.prototype.add=r.prototype.push=a,r.prototype.has=o,e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){var r=n(353),i=n(218),a=Object.prototype,o=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return o.call(e,t)}))}:i;e.exports=u},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t,n){var r=n(364),i=r();e.exports=i},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(215);e.exports=r},function(e,t,n){var r=n(207),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){return a(e)&&i(e)}var i=n(44),a=n(33);e.exports=r},function(e,t,n){function r(e){if(!o(e)||i(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var i=n(49),a=n(166),o=n(33),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=l.call(Object);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var i=n(233),a=n.n(i),o=n(29),s=n(17),u=n(52),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="fullscreenchange",d=function(){function e(t,n){var i=this;r(this,e),this._store=n,this._root=t,this._store.dispatch(Object(o.f)(this.canFullScreen())),Object(s.a)(this._store,["screenMode.isFullScreen"],function(e){var t=e.screenMode;i.setFullScreen(t.isFullScreen)}),a.a.onchange=this._onFullScreenChange.bind(this)}return c(e,[{key:"canFullScreen",value:function(){return a.a.enabled||this._checkWebkitFullscreen()}},{key:"_checkWebkitFullscreen",value:function(){var e=this._root.getElementsByTagName("video").item(0);return!!e&&(e.webkitSupportsFullscreen||!1)}},{key:"isFullScreen",value:function(){return a.a.element===this._root}},{key:"setFullScreen",value:function(e){if(this.canFullScreen()&&this.isFullScreen()!==e){var t=this._onFullScreenChange.bind(this);a.a.toggle(this._root,t,t)}}},{key:"_onFullScreenChange",value:function(){this._store.dispatch(Object(u.m)()),this._store.dispatch(Object(o.g)(this.isFullScreen())),this._setDeprecatedDataAttrForLegacySystem(this.isFullScreen())}},{key:"_setDeprecatedDataAttrForLegacySystem",value:function(e){this._root.dataset.isfullscreen=e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e.LoginRequest="twitch-ext-login-request",e.FollowAction="twitch-ext-follow-action",e.FollowComplete="twitch-ext-follow-complete",e.FollowStatusRequest="twitch-ext-follow-status",e.FollowStatusResponse="twitch-ext-follow-status-response",e.IdShareRequest="twitch-ext-id-share-request"}(r||(r={}))},function(e,t,n){"use strict";e.exports=n(236)()?Object.setPrototypeOf:n(237)},function(e,t,n){"use strict";e.exports=n(393)()?Object.assign:n(394)},function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}e.exports=n},function(e,t){function n(e){return r.test(e)}var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=n},function(e,t,n){"use strict";function r(){return{type:d}}function i(){return function(e,t){o(t().window,u,c,"2246787049647177590","","","")}}function a(){return function(e,t){o(t().window,s,c,"TWITCH","twitch.tv",l,"")}}function o(e,t,n,r,i,a,o){var s={c1:t,c2:n,c3:r,c4:i,c5:a,c6:o};"COMSCORE"in e?e.COMSCORE.beacon(s):(e._comscore||(e._comscore=[]),e._comscore.push(s))}n.d(t,"a",function(){return d}),t.b=r,t.c=i,t.d=a;var s="1",u="7",c="6745306",l="03",d="reset tag"},function(e,t,n){!function(n,r){e.exports=t=r()}(0,function(){var e=e||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=0;i<t;i+=4){var o=function(t){var t=t,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}}(4294967296*(n||e.random()));n=987654071*o(),r.push(4294967296*o()|0)}return new a.init(r,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=4*o,u=i/s;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var c=u*o,l=e.min(4*c,i);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(r,d);var f=r.splice(0,c);n.sigBytes-=l}return new a.init(f,l)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(r.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);return e})},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(l){var f=c(n);f&&f!==l&&e(t,f,d)}var p=o(n);s&&(p=p.concat(s(n)));for(var h=0;h<p.length;++h){var m=p[h];if(!(r[m]||i[m]||d&&d[m])){var y=u(n,m);try{a(t,m,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";function r(e){var t=y.call(e,g),n=e[g];try{e[g]=void 0;var r=!0}catch(e){}var i=v.call(e);return r&&(t?e[g]=n:delete e[g]),i}function i(e){return w.call(e)}function a(e){return null==e?void 0===e?S:E:P&&P in Object(e)?b(e):k(e)}function o(e,t){return function(n){return e(t(n))}}function s(e){return null!=e&&"object"==typeof e}function u(e){if(!R(e)||C(e)!=j)return!1;var t=x(e);if(null===t)return!0;var n=N.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&L.call(n)==M}var c=n(447),l="object"==typeof self&&self&&self.Object===Object&&self,d=c.a||l||Function("return this")(),f=d,p=f.Symbol,h=p,m=Object.prototype,y=m.hasOwnProperty,v=m.toString,g=h?h.toStringTag:void 0,b=r,_=Object.prototype,w=_.toString,k=i,E="[object Null]",S="[object Undefined]",P=h?h.toStringTag:void 0,C=a,O=o,T=O(Object.getPrototypeOf,Object),x=T,R=s,j="[object Object]",A=Function.prototype,I=Object.prototype,L=A.toString,N=I.hasOwnProperty,M=L.call(Object);t.a=u},function(e,t,n){"use strict";function r(e){return{type:i,count:e}}n.d(t,"a",function(){return i}),t.b=r;var i="update viewercount"},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=Object.freeze({VIDEO_PLAY:"video-play",MINUTE_WATCHED:"minute-watched",BUFFER_EMPTY:"buffer-empty",BUFFER_REFILL:"buffer-refill"}),i="video_playback_error"},function(e,t,n){"use strict";function r(e){return{type:a,userInfo:e}}function i(){return{type:o}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="user logged in",o="user not logged in"},function(e,t,n){"use strict";function r(e,t){return a()(e,t)?e:e.concat([t])}t.a=r;var i=n(7),a=n.n(i)},function(e,t,n){"use strict";function r(e){return{type:a,notification:e}}function i(){return{type:o}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="add notification to notification array",o="remove notification from notification arrary"},function(e,t,n){var r=n(466),i=r("round");e.exports=i},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o});var r=0,i=1,a=2,o=3},function(e,t,n){"use strict";function r(e){return{type:i,playerDimensions:e}}n.d(t,"a",function(){return i}),t.b=r;var i="update player dimensions"},function(e,t,n){var r=n(60),i=n(265),a=n(498),o=n(73),s=n(51),u=n(501),c=n(212),l=n(268),d=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=o(t,e),c||(c=t.length>1),t}),s(e,l(e),n),c&&(n=i(n,7,u));for(var d=t.length;d--;)a(n,t[d]);return n});e.exports=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),l=n.n(c),d=n(1),f=n.n(d),p=n(2),h=n.n(p),m=n(4),y=n(189),v=n(9),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={isActive:f.a.bool.isRequired,label:f.a.string.isRequired,onClick:f.a.func,speedValue:f.a.number.isRequired},_={onClick:function(){}},w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),g(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.speedValue)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.label,r=h()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return l.a.createElement("div",{className:r},l.a.createElement(v.a,{className:"ellipsis",onClick:this.handleClick},l.a.createElement("span",null,n)))}}]),t}(l.a.Component);w.propTypes=b,w.defaultProps=_,n.d(t,"a",function(){return P}),n.d(t,"c",function(){return C}),n.d(t,"b",function(){return R});var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E={currentSpeed:f.a.number.isRequired,onMenuTransition:f.a.func,onSelectPlaybackSpeed:f.a.func,t:f.a.func.isRequired},S={onMenuTransition:function(){},onSelectPlaybackSpeed:function(){}},P=Object.freeze([.25,.5,.75,1,1.25,1.5,2]),C="Speed",O=h()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),T=h()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),x=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return u(t,e),k(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(y.c)}},{key:"render",value:function(){var e=this.props.t,t=this._getSpeedSelectionButtons();return l.a.createElement("div",{className:"pl-menu__inner"},l.a.createElement("div",{className:O},l.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e(C))),l.a.createElement("div",{className:T},t))}},{key:"_getSpeedSelectionButtons",value:function(){var e=this.props,t=e.currentSpeed,n=e.onSelectPlaybackSpeed,r=e.t;return P.map(function(e){var i=t===e,a=1===e?"1x ("+r("Normal")+")":e+"x";return l.a.createElement(w,{isActive:i,key:e,label:a,onClick:n,speedValue:e})})}}]),t}(l.a.Component);x.propTypes=E,x.defaultProps=S;var R=Object(m.c)()(x)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.collection,n=e.playback,r=e.playerType,i=e.stream,a=e.window,o={volume:n.volume,muted:n.muted};i.contentType===be.a?(o.video=i.videoId,o.collection=t?t.id:void 0,o.time=Z.d(n.currentTime)):i.contentType===ge.a&&(o.channel=i.channel),r===ae.p&&(o.player=ae.p);var s=_e.z+"/?"+we.c(o),u=_e.A.height,c=_e.A.width,l="width="+c+",height="+u+",toolbar=no,menubar=no,scrollbars=no,location=no,status=no";a.open(s,"_blank",l)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function q(e){var t=e.onMenuTransition,n=e.openClipModerationMenu;return H.a.createElement(wn,{onMenuTransition:t,openClipModerationMenu:n})}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=n(0),H=n.n(V),z=n(1),W=n.n(z),K=n(7),G=n.n(K),Q=n(37),Y=n.n(Q),$=n(3),J=n(290),X=n.n(J),Z=n(31),ee=n(2),te=n.n(ee),ne=n(4),re=n(9),ie=n(188),ae=n(6),oe=n(87),se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ue={playerType:W.a.string.isRequired,canChangePlaybackSpeed:W.a.bool,canPopoutPlayer:W.a.bool,captionsAvailable:W.a.bool,currentSpeed:W.a.number,currentTime:W.a.number,isStaffUser:W.a.bool,isVod:W.a.bool.isRequired,isClip:W.a.bool.isRequired,onMenuTransition:W.a.func,onPopoutPlayer:W.a.func,onShowCaptionsOptions:W.a.func,selectedQualityName:W.a.string.isRequired,showClipsShortcutOverlay:W.a.func.isRequired,shouldShowQualityMenu:W.a.bool,openClipsModerationModal:W.a.func.isRequired,t:W.a.func.isRequired,vodUrlWithTimestamp:W.a.string,windowObj:W.a.object.isRequired},ce={canChangePlaybackSpeed:!1,canPopoutPlayer:!0,captionsAvailable:!1,currentSpeed:1,currentTime:0,isStaffUser:!1,onMenuTransition:function(){},onPopoutPlayer:function(){},onShowCaptionsOptions:function(){},shouldShowQualityMenu:!0,vodUrlWithTimestamp:""},le=te()({"pl-menu__item":!0,"pl-menu__item--block":!0}),de=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),fe=te()({ellipsis:!0,"qa-advanced-button":!0}),pe=te()({ellipsis:!0,"qa-report-issue-button":!0}),he=te()({ellipsis:!0,"qa-popout-player-button":!0}),me=te()({ellipsis:!0,"qa-captions-options-button":!0}),ye=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasRecentlyCopied:!1},e.copyUrlTimeoutId=0,e.handleAdvancedClick=e.handleAdvancedClick.bind(e),e.handlePlaybackSpeedClick=e.handlePlaybackSpeedClick.bind(e),e.handleQualityClick=e.handleQualityClick.bind(e),e.handleReportIssueClick=e.handleReportIssueClick.bind(e),e.handleStaffClick=e.handleStaffClick.bind(e),e.handleUrlCopied=e.handleUrlCopied.bind(e),e.handleClipModerationClick=e.handleClipModerationClick.bind(e),e.handleClipReportClick=e.handleClipReportClick.bind(e),e}return o(t,e),se(t,[{key:"componentWillUnmount",value:function(){0!==this.copyUrlTimeoutId&&this.props.windowObj.clearTimeout(this.copyUrlTimeoutId)}},{key:"handleClipModerationClick",value:function(){this.props.onMenuTransition(An)}},{key:"handleClipReportClick",value:function(){this.props.openClipsModerationModal(oe.e)}},{key:"handleQualityClick",value:function(){this.props.onMenuTransition(On)}},{key:"handlePlaybackSpeedClick",value:function(){this.props.onMenuTransition(Rn)}},{key:"handleAdvancedClick",value:function(){this.props.onMenuTransition(Tn)}},{key:"handleReportIssueClick",value:function(){this.props.onMenuTransition(xn)}},{key:"handleStaffClick",value:function(){this.props.onMenuTransition(jn)}},{key:"handleUrlCopied",value:function(){var e=this;this.setState({hasRecentlyCopied:!0}),this.copyUrlTimeoutId=this.props.windowObj.setTimeout(function(){e.setState({hasRecentlyCopied:!1}),e.copyUrlTimeoutId=0},2e3)}},{key:"renderClipsEmbedMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton();return H.a.createElement("div",{className:"pl-menu__inner"},e,t,H.a.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderClipsViewingMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton(),r=this._renderClipModerationButton(),i=this._renderReportClipButton();return H.a.createElement("div",{className:"pl-menu__inner"},e,t,r,i,H.a.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderStandardMenu",value:function(){var e=this.props.shouldShowQualityMenu,t=this._renderQualityButton(),n=this._renderPlaybackSpeedButton(),r=this._renderCaptionsOptionsButton(),i=this._renderAdvancedMenuButton(),a=this._renderReportIssuesMenuButton(),o=this._renderStaffMenuButton(),s=this._renderPopoutPlayerButton(),u=this._renderCopyVideoUrlButton(),c=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":e});return H.a.createElement("div",{className:"pl-menu__inner"},t,H.a.createElement("div",{className:c},n,r,i,a,o,s,u))}},{key:"render",value:function(){var e=this.props.playerType;return e===ae.f?this.renderClipsEmbedMenu():e===ae.g?this.renderClipsViewingMenu():this.renderStandardMenu()}},{key:"_renderReportClipButton",value:function(){var e=this.props.t;return H.a.createElement("div",{className:le},H.a.createElement(re.a,{onClick:this.handleClipReportClick,className:"qa-report-clip"},H.a.createElement("span",null,e("Report Clip"))))}},{key:"_renderClipsKeyboardShortcutsButton",value:function(){var e=this.props,t=e.showClipsShortcutOverlay,n=e.t;return H.a.createElement("div",{className:le},H.a.createElement(re.a,{onClick:t,className:"qa-clips-keyboard-shortcuts"},H.a.createElement("span",null,n("View Keyboard Shortcuts"))))}},{key:"_renderClipModerationButton",value:function(){var e=this.props,t=e.isStaffUser,n=e.t;return t?H.a.createElement("div",{className:de},H.a.createElement(re.a,{onClick:this.handleClipModerationClick,className:"qa-clip-moderation-button"},H.a.createElement("span",null,n("Moderation")))):null}},{key:"_renderQualityButton",value:function(){var e=this.props,t=e.selectedQualityName,n=e.shouldShowQualityMenu,r=e.t;return n?H.a.createElement("div",{className:de},H.a.createElement(re.a,{onClick:this.handleQualityClick,className:"qa-quality-button"},H.a.createElement("span",null,r("Quality")),H.a.createElement("span",{className:"pl-pill pl-mg-l-05 qa-quality-pill"},t))):null}},{key:"_renderPlaybackSpeedButton",value:function(){var e=this.props,t=e.currentSpeed,n=e.isVod,r=e.isClip,i=e.canChangePlaybackSpeed,a=e.t,o=t+"x";return(n||r)&&i?H.a.createElement("div",{className:de},H.a.createElement(re.a,{onClick:this.handlePlaybackSpeedClick,className:"qa-playback-speed-button"},H.a.createElement("span",null,a(ie.c)),H.a.createElement("span",{className:"pl-pill pl-mg-l-05 qa-playback-speed-pill"},o))):null}},{key:"_renderCaptionsOptionsButton",value:function(){var e=this.props,t=e.captionsAvailable,n=e.onShowCaptionsOptions,r=e.t;return t?H.a.createElement("div",{className:le},H.a.createElement(re.a,{className:me,onClick:n},H.a.createElement("span",null,r("Closed Captions Options")))):null}},{key:"_renderAdvancedMenuButton",value:function(){var e=this.props.t;return H.a.createElement("div",{className:de},H.a.createElement(re.a,{className:fe,onClick:this.handleAdvancedClick},H.a.createElement("span",null,e("Advanced"))))}},{key:"_renderReportIssuesMenuButton",value:function(){var e=this.props.t;return H.a.createElement("div",{className:de},H.a.createElement(re.a,{className:pe,onClick:this.handleReportIssueClick},H.a.createElement("span",null,e("Report Playback Issue"))))}},{key:"_renderStaffMenuButton",value:function(){return this.props.isStaffUser?H.a.createElement("div",{className:de},H.a.createElement(re.a,{className:"ellipsis qa-staff-button",onClick:this.handleStaffClick},H.a.createElement("span",null,"Staff"))):null}},{key:"_renderPopoutPlayerButton",value:function(){var e=this.props,t=e.canPopoutPlayer,n=e.onPopoutPlayer,r=e.t;return t?H.a.createElement("div",{className:le},H.a.createElement(re.a,{className:he,onClick:n},H.a.createElement("span",null,r("Popout Player")))):null}},{key:"_renderCopyUrlButton",value:function(){var e=this.props,t=e.currentTime,n=e.vodUrlWithTimestamp,r=e.t,i=r("Copy Video URL at {{time}}",{time:Object(Z.c)(t)});return this.state.hasRecentlyCopied?H.a.createElement(re.a,null,H.a.createElement("span",null,r("Copied!"))):H.a.createElement(X.a,{text:n,onSelect:this.handleUrlCopied,className:"qa-copy-to-clipboard-button"},H.a.createElement(re.a,null,H.a.createElement("span",null,i)))}},{key:"_renderCopyVideoUrlButton",value:function(){var e,t=this.props.isVod,n=this._renderCopyUrlButton(),i=te()((e={},r(e,le,!0),r(e,"pl-menu__item--active",this.state.hasRecentlyCopied),e));return t?H.a.createElement("div",{className:i},n):null}}]),t}(H.a.Component);ye.propTypes=ue,ye.defaultProps=ce;var ve=Object(ne.c)()(ye),ge=n(12),be=n(11),_e=n(8),we=n(81),ke=n(14),Ee=n(99),Se=n(67),Pe=n(86),Ce=n(271),Oe=n(27),Te=n(36),xe=n(13),Re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),je=[Se.a,Pe.a,Ce.a],Ae={availableQualities:W.a.array.isRequired,backendType:W.a.string.isRequired,captionsAvailable:W.a.bool.isRequired,collection:W.a.object.isRequired,currentSpeed:W.a.number.isRequired,currentTime:W.a.number,hideSettingsMenu:W.a.func,isStaffUser:W.a.bool,isVod:W.a.bool.isRequired,isClip:W.a.bool.isRequired,onMenuTransition:W.a.func,pausePlayback:W.a.func,playback:W.a.object.isRequired,playerType:W.a.string,selectedQuality:W.a.string.isRequired,showClipsShortcutOverlay:W.a.func.isRequired,showCaptionsOptions:W.a.func.isRequired,openClipsModerationModal:W.a.func.isRequired,stream:W.a.object.isRequired,streamUrl:W.a.string,windowObj:W.a.object.isRequired},Ie={currentTime:0,isStaffUser:!1,hideSettingsMenu:function(){},onMenuTransition:function(){},pausePlayback:function(){},streamUrl:"",playerType:""},Le=function(e){var t=e.backendInfo,n=e.captions,r=e.collection,i=e.env,a=e.playback,o=e.quality,s=e.stream,u=e.streamMetadata,c=e.user,l=e.window;return{availableQualities:o.available,backendType:t.playerBackendType,captionsAvailable:n.available,collection:r,currentSpeed:a.playbackRate,currentTime:a.currentTime,isStaffUser:c.isStaff,isVod:s.contentType===be.a,isClip:s.contentType===Ee.a,playback:a,playerType:i.playerType,selectedQuality:o.selected,stream:s,streamUrl:u.url,windowObj:l}},Ne=function(e){return{pausePlayback:function(){e(Object(ke.p)())},hideSettingsMenu:function(){e(Object(Oe.r)(Oe.j))},showCaptionsOptions:function(){e(Object(Te.k)(!0))},showClipsShortcutOverlay:function(){e(Object(xe.p)(xe.e))},openClipsModerationModal:function(t){e(Object(oe.i)(t))}}},Me=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showCaptionsOptions=e.showCaptionsOptions.bind(e),e.popoutPlayer=e.popoutPlayer.bind(e),e}return l(t,e),Re(t,[{key:"showCaptionsOptions",value:function(){this.props.hideSettingsMenu(),this.props.showCaptionsOptions()}},{key:"popoutPlayer",value:function(){this.props.pausePlayback(),this.props.hideSettingsMenu(),s({collection:this.props.collection,playback:this.props.playback,stream:this.props.stream,window:this.props.windowObj,playerType:this.props.playerType})}},{key:"render",value:function(){var e=this.props,t=e.availableQualities,n=e.backendType,r=e.captionsAvailable,i=e.currentTime,a=e.currentSpeed,o=e.isStaffUser,s=e.isVod,u=e.isClip,c=e.onMenuTransition,l=e.playerType,d=e.selectedQuality,f=e.streamUrl,p=e.showClipsShortcutOverlay,h=e.openClipsModerationModal,m=e.windowObj,y=G()(je,n)||G()(ae.b,l),v=l!==ae.d,g=Y()(t,function(e){return e.group===d}),b=g?g.name:"",_=f+"?t="+Object(Z.d)(i),w=t.length>0;return H.a.createElement(ve,{playerType:l,canChangePlaybackSpeed:y,canPopoutPlayer:v,captionsAvailable:r,currentTime:i,currentSpeed:a,isStaffUser:o,isVod:s,isClip:u,onMenuTransition:c,onPopoutPlayer:this.popoutPlayer,onShowCaptionsOptions:this.showCaptionsOptions,selectedQualityName:b,shouldShowQualityMenu:w,vodUrlWithTimestamp:_,showClipsShortcutOverlay:p,openClipsModerationModal:h,windowObj:m})}}]),t}(H.a.Component);Me.propTypes=Ae,Me.defaultProps=Ie;var De=Object($.b)(Le,Ne)(Me),qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ue={isActive:W.a.bool,qualityObj:W.a.shape({name:W.a.string}).isRequired,onQualitySelect:W.a.func},Be={isActive:!1,onQualitySelect:function(){}},Fe=te()({ellipsis:!0,"pl-quality-option-button":!0}),Ve=function(e){function t(){d(this,t);var e=f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectQuality=e.handleSelectQuality.bind(e),e}return p(t,e),qe(t,[{key:"handleSelectQuality",value:function(){this.props.onQualitySelect(this.props.qualityObj)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.qualityObj,r=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return H.a.createElement("div",{className:r},H.a.createElement(re.a,{className:Fe,onClick:this.handleSelectQuality},H.a.createElement("span",null,n.name)))}}]),t}(H.a.Component);Ve.propTypes=Ue,Ve.defaultProps=Be;var He=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ze={availableQualities:W.a.arrayOf(W.a.shape({group:W.a.string})).isRequired,selectedQuality:W.a.string.isRequired,onMenuTransition:W.a.func,onQualitySelect:W.a.func,t:W.a.func.isRequired},We={onMenuTransition:function(){},onQualitySelect:function(){}},Ke=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),Ge=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Qe=function(e){function t(){h(this,t);var e=m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return y(t,e),He(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Cn)}},{key:"render",value:function(){var e=this.props.t,t=this._getQualityItems();return H.a.createElement("div",{className:"pl-menu__inner"},H.a.createElement("div",{className:Ke},H.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e("Video Quality"))),H.a.createElement("div",{className:Ge},t))}},{key:"_getQualityItems",value:function(){var e=this.props,t=e.selectedQuality,n=e.onQualitySelect;return this.props.availableQualities.map(function(e){var r=e.group===t;return H.a.createElement(Ve,{isActive:r,key:e.group,onQualitySelect:n,qualityObj:e})})}}]),t}(H.a.Component);Qe.propTypes=ze,Qe.defaultProps=We;var Ye=Object(ne.c)()(Qe),$e=n(40),Je=n(22),Xe={availableQualities:W.a.array.isRequired,selectedQuality:W.a.string.isRequired,onMenuTransition:W.a.func,handleSelectQuality:W.a.func},Ze={onMenuTransition:function(){},handleSelectQuality:function(){}},et=function(e){var t=e.quality;return{availableQualities:t.available,selectedQuality:t.selected}},tt=function(e){return{handleSelectQuality:function(t){e(Object($e.k)(t.group)),e(Object($e.o)(t)),e(Object(Oe.r)(Oe.j)),e(Object(Je.d)("player_click_quality_change"))}}},nt=function(e){var t=e.availableQualities,n=e.selectedQuality,r=e.handleSelectQuality,i=e.onMenuTransition;return H.a.createElement(Ye,{availableQualities:t,selectedQuality:n,onMenuTransition:i,onQualitySelect:r})};nt.propTypes=Xe,nt.defaultProps=Ze;var rt=Object($.b)(et,tt)(nt),it=n(273),at=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ot={html5PlayerEnabled:W.a.bool.isRequired,html5ToggleEnabled:W.a.bool.isRequired,isShowingVideoStats:W.a.bool.isRequired,miniPlayerEnabled:W.a.bool.isRequired,miniPlayerToggleEnabled:W.a.bool.isRequired,onHTML5Toggle:W.a.func,onMenuTransition:W.a.func,onMiniPlayerToggle:W.a.func,onStatsToggle:W.a.func,t:W.a.func.isRequired},st={onHTML5Toggle:function(){},onMenuTransition:function(){},onMiniPlayerToggle:function(){},onStatsToggle:function(){}},ut=te()({ellipsis:!0,"qa-header-button":!0}),ct=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),lt=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),dt=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"qa-item":!0}),ft=te()({ellipsis:!0,"qa-show-stats-button":!0}),pt=function(e){function t(){v(this,t);var e=g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return b(t,e),at(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Cn)}},{key:"render",value:function(){var e=this.props,t=e.html5PlayerEnabled,n=e.html5ToggleEnabled,r=e.miniPlayerEnabled,i=e.miniPlayerToggleEnabled,a=e.isShowingVideoStats,o=e.onHTML5Toggle,s=e.onMiniPlayerToggle,u=e.onStatsToggle,c=e.t,l=n?H.a.createElement("div",{className:dt},H.a.createElement(it.a,{className:"qa-html5-toggle",label:"HTML5 Player",onToggle:o,toggledOn:t})):null,d=i?H.a.createElement("div",{className:dt},H.a.createElement(it.a,{className:"qa-miniplayer-toggle",label:"Mini Player",onToggle:s,toggledOn:r})):null;return H.a.createElement("div",{className:"pl-menu__inner"},H.a.createElement("div",{className:ct},H.a.createElement(re.a,{className:ut,onClick:this.handleMenuTransition},H.a.createElement("span",null,c("Advanced")))),H.a.createElement("div",{className:lt},l,d,H.a.createElement("div",{className:dt},H.a.createElement(re.a,{className:ft,onClick:u},H.a.createElement("span",null,c(a?"Hide Video Stats":"Show Video Stats"))))))}}]),t}(H.a.Component);pt.propTypes=ot,pt.defaultProps=st;var ht=Object(ne.c)()(pt),mt=n(103),yt=n(141),vt=n(85),gt=n(274),bt=n(43),_t=n(270),wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kt={availableBackends:W.a.array.isRequired,isCursePlayer:W.a.bool.isRequired,isHTML5Player:W.a.bool.isRequired,isMiniPlayerEnabled:W.a.bool.isRequired,isSitePlayer:W.a.bool.isRequired,onMenuTransition:W.a.func,statsDisplayed:W.a.bool.isRequired,toggleHTML5Player:W.a.func.isRequired,toggleMiniPlayer:W.a.func.isRequired,toggleVideoStats:W.a.func.isRequired},Et={onMenuTransition:function(){}},St=function(e){var t=e.backendInfo,n=e.env,r=e.settings,i=e.stats,a=t.playerBackendType;return{isCursePlayer:n.playerType===ae.i,isHTML5Player:a===Se.a||a===Pe.a,isMiniPlayerEnabled:r.persistenceEnabled,isSitePlayer:n.playerType===ae.s,statsDisplayed:i.displayed,availableBackends:Object(_t.b)(n.playerType)}},Pt=function(e){return{toggleVideoStats:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?Object(mt.d)(!0):Object(mt.d)(!1))},toggleMiniPlayer:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?Object(yt.d)():Object(yt.c)())},toggleHTML5Player:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?Object(ke.l)(Se.a):Object(ke.l)(vt.a))}}},Ct=function(e){function t(){_(this,t);var e=w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.toggleVideoStats=e.toggleVideoStats.bind(e),e.toggleMiniPlayer=e.toggleMiniPlayer.bind(e),e.toggleHTML5Player=e.toggleHTML5Player.bind(e),e}return k(t,e),wt(t,[{key:"toggleVideoStats",value:function(){this.props.toggleVideoStats(!this.props.statsDisplayed)}},{key:"toggleMiniPlayer",value:function(){this.props.toggleMiniPlayer(!this.props.isMiniPlayerEnabled)}},{key:"toggleHTML5Player",value:function(){this.props.toggleHTML5Player(!this.props.isHTML5Player)}},{key:"render",value:function(){var e=this.props,t=e.availableBackends,n=e.statsDisplayed,r=e.isCursePlayer,i=e.isHTML5Player,a=e.isMiniPlayerEnabled,o=e.isSitePlayer,s=e.onMenuTransition,u=t.some(function(e){return e===Se.a||e===Pe.a}),c=t.some(function(e){return e===vt.a}),l=!r&&u&&c;return H.a.createElement("div",null,H.a.createElement(gt.a,{uuid:bt.d,renderValue:"keep"},H.a.createElement(ht,{html5PlayerEnabled:i,html5ToggleEnabled:l,isShowingVideoStats:n,miniPlayerEnabled:a,miniPlayerToggleEnabled:o,onMenuTransition:s,onMiniPlayerToggle:this.toggleMiniPlayer,onStatsToggle:this.toggleVideoStats,onHTML5Toggle:this.toggleHTML5Player})),H.a.createElement(gt.a,{uuid:bt.d,renderValue:"remove"},H.a.createElement(ht,{html5PlayerEnabled:i,html5ToggleEnabled:!1,isShowingVideoStats:n,miniPlayerEnabled:a,miniPlayerToggleEnabled:o,onMenuTransition:s,onMiniPlayerToggle:this.toggleMiniPlayer,onStatsToggle:this.toggleVideoStats,onHTML5Toggle:this.toggleHTML5Player})))}}]),t}(H.a.Component);Ct.propTypes=kt,Ct.defaultProps=Et;var Ot=Object($.b)(St,Pt)(Ct),Tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xt={t:W.a.func.isRequired,onReportIssueSubmit:W.a.func.isRequired,onMenuTransition:W.a.func,windowObj:W.a.object.isRequired},Rt={onMenuTransition:function(){}},jt=te()({"pl-form__input":!0,ellipsis:!0}),At=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),It=te()({ellipsis:!0,"qa-header-button":!0}),Lt=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Nt=te()({"pl-flex":!0,"pl-flex--horizontalEnd":!0,"pl-pd-r-1":!0,"pl-pd-t-1":!0,"pl-pd-b-1":!0}),Mt=te()({"pl-button":!0,"pl-button--hollow":!0,"qa-submit-button":!0}),Dt=function(e){function t(){E(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={value:"",hasRecentlySubmitted:!1},e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleIssueSelected=e.handleIssueSelected.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return P(t,e),Tt(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Cn)}},{key:"handleIssueSelected",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),""!==this.state.value&&(this.props.onReportIssueSubmit(this.state.value),this.setState({hasRecentlySubmitted:!0}),this.props.windowObj.setTimeout(function(){t.setState({hasRecentlySubmitted:!1})},2e3))}},{key:"render",value:function(){var e=this.props.t,t=this._renderFeedbackForm();return H.a.createElement("div",{className:"pl-menu__inner"},H.a.createElement("div",{className:At},H.a.createElement("button",{className:It,onClick:this.handleMenuTransition},e("Report Playback Issue"))),H.a.createElement("div",{className:Lt},t))}},{key:"_createSelectElement",value:function(){var e=this.props.t;return H.a.createElement("select",{className:jt,onBlur:this.handleIssueSelected,defaultValue:""},H.a.createElement("option",{value:"",disabled:!0},e("Select")),H.a.createElement("option",{value:"stutter-both"},e("Audio and video stutter")),H.a.createElement("option",{value:"stutter-video"},e("Video stutters, but audio is fine")),H.a.createElement("option",{value:"black-screen"},e("Video is completely black or doesn't load")),H.a.createElement("option",{value:"av-desync"},e("Audio and video aren't synced")),H.a.createElement("option",{value:"fullscreen-broken"},e("Fullscreen playback doesn't work")),H.a.createElement("option",{value:"ad-volume"},e("Advertisement can't be muted or is too loud")),H.a.createElement("option",{value:"ad-repeat"},e("Advertisement has played too many times")))}},{key:"_renderFeedbackForm",value:function(){var e=this.props.t,t=this._createSelectElement();return this.state.hasRecentlySubmitted?H.a.createElement("span",null,e("Thanks for your report")):H.a.createElement("form",{onSubmit:this.handleSubmit},H.a.createElement("div",{className:"form__group"},H.a.createElement("p",null,e("Noticed a video playback issue? Let us know!")),t),H.a.createElement("div",{className:Nt},H.a.createElement("button",{type:"submit",className:Mt},e("Submit"))))}}]),t}(H.a.Component);Dt.propTypes=xt,Dt.defaultProps=Rt;var qt=Object(ne.c)()(Dt),Ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bt={handleVideoIssueReport:W.a.func,hideSettingsMenu:W.a.func,onMenuTransition:W.a.func,windowObj:W.a.object.isRequired},Ft={handleVideoIssueReport:function(){},hideSettingsMenu:function(){},onMenuTransition:function(){}},Vt=function(e){return{windowObj:e.window}},Ht=function(e){return{handleVideoIssueReport:function(t){e(Object(ke.s)(t))},hideSettingsMenu:function(){e(Object(Oe.r)(Oe.j))}}},zt=function(e){function t(){C(this,t);var e=O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleVideoIssueReport=e.handleVideoIssueReport.bind(e),e}return T(t,e),Ut(t,[{key:"handleVideoIssueReport",value:function(e){var t=this;this.props.handleVideoIssueReport(e),this.props.windowObj.setTimeout(function(){t.props.hideSettingsMenu()},2e3)}},{key:"render",value:function(){var e=this.props,t=e.onMenuTransition,n=e.windowObj;return H.a.createElement(qt,{onMenuTransition:t,onReportIssueSubmit:this.handleVideoIssueReport,windowObj:n})}}]),t}(H.a.Component);zt.propTypes=Bt,zt.defaultProps=Ft;var Wt=Object($.b)(Vt,Ht)(zt),Kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gt={currentSpeed:W.a.number.isRequired,onMenuTransition:W.a.func,selectNewPlaybackRate:W.a.func,tracker:W.a.object},Qt={onMenuTransition:function(){},selectNewPlaybackRate:function(){},tracker:{trackEvent:function(){}}},Yt=function(e){var t=e.analyticsTracker;return{currentSpeed:e.playback.playbackRate,tracker:t}},$t=function(e){return{selectNewPlaybackRate:function(t){e(Object(ke.m)(t)),e(Object(Oe.r)(Oe.j))}}},Jt=function(e){function t(){x(this,t);var e=R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectPlaybackRate=e.handleSelectPlaybackRate.bind(e),e}return j(t,e),Kt(t,[{key:"handleSelectPlaybackRate",value:function(e){var t=this.props,n=t.selectNewPlaybackRate;t.tracker.trackEvent("player_click_playback",{speed:e}),n(e)}},{key:"render",value:function(){var e=this.props,t=e.currentSpeed,n=e.onMenuTransition;return H.a.createElement(ie.b,{currentSpeed:t,onMenuTransition:n,onSelectPlaybackSpeed:this.handleSelectPlaybackRate})}}]),t}(H.a.Component);Jt.propTypes=Gt,Jt.defaultProps=Qt;var Xt=Object($.b)(Yt,$t)(Jt),Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),en={onMenuTransition:W.a.func,onRunLocalPrerollAd:W.a.func,onRunLocalMidrollAd:W.a.func,onRunLocalPostrollAd:W.a.func,t:W.a.func.isRequired},tn={onRunLocalPrerollAd:function(){},onRunLocalMidrollAd:function(){},onRunLocalPostrollAd:function(){},onMenuTransition:function(){}},nn=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),rn=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),an=te()({"pl-menu__item":!0,"pl-menu__item--block":!0}),on=function(e){function t(){A(this,t);var e=I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return L(t,e),Zt(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Cn)}},{key:"render",value:function(){var e=this.props.t,t=this._renderLocalAdButtons();return H.a.createElement("div",{className:"pl-menu__inner"},H.a.createElement("div",{className:nn},H.a.createElement(re.a,{className:"qa-header-button",onClick:this.handleMenuTransition},e("Staff"))),H.a.createElement("div",{className:rn},t))}},{key:"_renderLocalAdButtons",value:function(){var e=this.props,t=e.onRunLocalPrerollAd,n=e.onRunLocalMidrollAd,r=e.onRunLocalPostrollAd,i=H.a.createElement("div",{className:an},H.a.createElement(re.a,{className:"ellipsis",onClick:t},H.a.createElement("span",null,"Run Local Preroll Ad"))),a=H.a.createElement("div",{className:an},H.a.createElement(re.a,{className:"ellipsis",onClick:n},H.a.createElement("span",null,"Run Local Midroll Ad"))),o=H.a.createElement("div",{className:an},H.a.createElement(re.a,{className:"ellipsis",onClick:r},H.a.createElement("span",null,"Run Local Postroll Ad")));return H.a.createElement("div",null,i,a,o)}}]),t}(H.a.Component);on.propTypes=en,on.defaultProps=tn;var sn=Object(ne.c)()(on),un=n(15),cn={onMenuTransition:W.a.func,onRunLocalPrerollAd:W.a.func.isRequired,onRunLocalMidrollAd:W.a.func.isRequired,onRunLocalPostrollAd:W.a.func.isRequired},ln={onMenuTransition:function(){}},dn=function(e){return{onRunLocalPrerollAd:function(){e(Object(un.n)(un.g.PREROLL,un.h,!0))},onRunLocalMidrollAd:function(){e(Object(un.n)(un.g.MIDROLL,un.h,!0))},onRunLocalPostrollAd:function(){e(Object(un.n)(un.g.POSTROLL,un.h,!0))}}},fn=function(e){var t=e.onMenuTransition,n=e.onRunLocalPrerollAd,r=e.onRunLocalMidrollAd,i=e.onRunLocalPostrollAd;return H.a.createElement(sn,{onMenuTransition:t,onRunLocalPrerollAd:n,onRunLocalMidrollAd:r,onRunLocalPostrollAd:i})};fn.propTypes=cn,fn.defaultProps=ln;var pn=Object($.b)(null,dn)(fn),hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mn={openClipModerationMenu:W.a.func.isRequired,onMenuTransition:W.a.func.isRequired,t:W.a.func.isRequired},yn={onMenuTransition:function(){}},vn=te()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),gn=te()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),bn=te()({"pl-menu__item":!0,"pl-menu__item--block":!0}),_n=function(e){function t(){N(this,t);var e=M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleDeleteClicked=e.handleDeleteClicked.bind(e),e.handleDeleteAllClicked=e.handleDeleteAllClicked.bind(e),e}return D(t,e),hn(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(Cn)}},{key:"handleDeleteClicked",value:function(){this.props.openClipModerationMenu(oe.d)}},{key:"handleDeleteAllClicked",value:function(){this.props.openClipModerationMenu(oe.c)}},{key:"render",value:function(){var e=this.props.t;return H.a.createElement("div",{className:"pl-menu__inner"},H.a.createElement("div",{className:vn},H.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e("Moderation"))),H.a.createElement("div",{className:gn},H.a.createElement("div",{className:bn},H.a.createElement("button",{className:"qa-delete-button",onClick:this.handleDeleteClicked},e("Delete"))),H.a.createElement("div",{className:bn},H.a.createElement("button",{className:"qa-delete-all-button",onClick:this.handleDeleteAllClicked},e("Delete All clips from Video")))))}}]),t}(H.a.Component);_n.propTypes=mn,_n.defaultProps=yn;var wn=Object(ne.c)()(_n),kn={onMenuTransition:W.a.func.isRequired,openClipModerationMenu:W.a.func.isRequired},En=function(e){return{openClipModerationMenu:function(t){e(Object(oe.i)(t))}}};q.propTypes=kn;var Sn=Object($.b)(null,En)(q);n.d(t,"c",function(){return Cn}),n.d(t,"e",function(){return On}),n.d(t,"a",function(){return Tn}),n.d(t,"f",function(){return xn}),n.d(t,"d",function(){return Rn}),n.d(t,"g",function(){return jn}),n.d(t,"b",function(){return An}),n.d(t,"i",function(){return In}),n.d(t,"h",function(){return Mn});var Pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cn="main menu",On="quality menu",Tn="advanced menu",xn="report issues menu",Rn="playback speed menu",jn="staff menu",An="clip moderation menu",In=85,Ln=[Cn,On,Tn,xn,Rn,jn,An],Nn={playerHeight:W.a.number.isRequired},Mn=function(e){function t(){U(this,t);var e=B(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentMenu:Cn},e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return F(t,e),Pn(t,[{key:"handleMenuTransition",value:function(e){G()(Ln,e)&&this.setState({currentMenu:e})}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-In+"px"};return H.a.createElement("div",{className:"pl-menu",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.state.currentMenu){case On:return H.a.createElement(rt,{onMenuTransition:this.handleMenuTransition});case Tn:return H.a.createElement(Ot,{onMenuTransition:this.handleMenuTransition});case xn:return H.a.createElement(Wt,{onMenuTransition:this.handleMenuTransition});case Rn:return H.a.createElement(Xt,{onMenuTransition:this.handleMenuTransition});case jn:return H.a.createElement(pn,{onMenuTransition:this.handleMenuTransition});case An:return H.a.createElement(Sn,{onMenuTransition:this.handleMenuTransition});case Cn:default:return H.a.createElement(De,{onMenuTransition:this.handleMenuTransition})}}}]),t}(H.a.Component);Mn.propTypes=Nn},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];switch(t.type){case c.a:return u()({},e,{generator:t.generator});default:return e}}function i(e){var t=e.streamMetadata,n=Boolean(t.broadcastID),r=!v()(b,t.channel.name);return n&&r}function a(e){var t=e.playback,n=e.stream,r=t.hasPlayed,i=n.contentType===d.a&&t.paused;return r&&!i}function o(e){var t=e.stream,n=e.onlineStatus,r=e.env,i=e.backendInfo,a=t.contentType===d.a&&n!==h.b,o=!v()([d.a,f.a],t.contentType),s=v()(g,r.playerType),u=i.playerBackendType===l.a;return!(a||o||u||s)}t.a=r,n.d(t,"b",function(){return k});var s=n(5),u=n.n(s),c=n(275),l=n(140),d=n(12),f=n(11),p=n(38),h=n(23),m=n(6),y=n(7),v=n.n(y),g=Object.freeze([m.p,m.d,m.o,m.c,m.g,m.f]),b=Object.freeze(["misterrogers","contv","failarmy","primevideo"]),_=Object.freeze({recordClip:function(){console.error("Clip Generator not available yet")}}),w=Object.freeze({generator:_}),k=function(e){return e.user.loggedInStatus===p.a&&i(e)&&a(e)&&o(e)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"o",function(){return a}),n.d(t,"u",function(){return o}),n.d(t,"p",function(){return s}),n.d(t,"l",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"w",function(){return f}),n.d(t,"t",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"v",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"s",function(){return v}),n.d(t,"r",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"n",function(){return _}),n.d(t,"q",function(){return w}),n.d(t,"b",function(){return k}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return S}),n.d(t,"g",function(){return P}),n.d(t,"d",function(){return C}),n.d(t,"e",function(){return O});var i,a="clips",o="clip",s="clips_embed",u="player_title",c="player_channel_name",l="player_profile_img",d="player_game",f="video_share",p="recommendation",h="clips_minute_watched",m="player_twitch_logo",y="mp4",v=Object.freeze((i={},r(i,"top","popular_clips"),r(i,"similar","similar_popular_clips"),r(i,"game","game_popular_clips"),r(i,"channel","channel_popular_clips"),i)),g="similar_clips",b="item_section_click",_="item_section_load",w="pageview",k="benchmark_fetch_start",E="benchmark_complete_transition",S="benchmark_video_started",P="clips_qos",C="buffer-empty",O="buffer-refill"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.a:var n=s()({},e);return n.byName[t.channelName]=s()({},n.byName[t.channelName]||{},t.info),n.allNames=Object(a.a)(n.allNames,t.channelName),n;default:return e}}t.a=r,n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return f});var i=n(193),a=n(182),o=n(5),s=n.n(o),u={byName:{},allNames:[]},c=function(e,t,n){var r=e.broadcasterInfo.byName[t];return r&&r[n]?r[n]:i.d},l=function(e,t){return c(e,t,"liveStatus")},d=function(e,t){return c(e,t,"partnerStatus")},f=function(e,t){return c(e,t,"stream")}},function(e,t,n){"use strict";function r(e,t){return{type:s,channelName:e,info:t}}function i(e){return function(t){return Object(o.b)(e).then(function(n){var i=n.partner?d:f;return t(r(e,{partnerStatus:i}))})}}function a(e){return function(t){return Object(o.y)(e).then(function(n){var i=n.stream?c:l;return t(r(e,{liveStatus:i,stream:n.stream}))})}}n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return d}),t.e=i,t.f=a;var o=n(10),s="broadcaster info loaded",u="NOT_AVAILABLE",c="BROADCASTER_IS_LIVE",l="BROADCASTER_IS_NOT_LIVE",d="BROADCASTER_IS_PARTNER",f="BROADCASTER_IS_NOT_PARTNER"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.a:var n=a()({},e);return Object.keys(t.recommendationSets).forEach(function(e){n.byCategory[e]=t.recommendationSets[e].map(function(e){return e.slug}),n.allCategories=Object(s.a)(n.allCategories,e)}),n.hasFetched[t.recommendationId]=!0,n;default:return e}}t.a=r,n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var i=n(5),a=n.n(i),o=n(195),s=n(182),u=Object.freeze({byCategory:{},allCategories:[],hasFetched:{}}),c=function(e,t){var n=e.clipRecommendations;if(!n.hasFetched[t])return[];for(var r in o.b){var i=o.b[r];if(n.byCategory[i])return i}},l=function(e,t){var n=e.clipRecommendations,r=e.clipsData;return n.hasFetched[t]?o.b.reduce(function(e,t){var i=n.byCategory[t],a=i.map(function(e){return r.bySlug[e]});return e.concat(a)},[]):[]}},function(e,t,n){"use strict";function r(e,t){return{type:o,recommendationId:e,recommendationSets:t}}function i(){return function(e,t){var n=t().streamMetadata.slug;Object(a.a)(n,s).then(function(t){e(r(n,t.clipSets))}).catch(function(e){console.debug("fetchClipRecommendations error: "+e)})}}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),t.c=i;var a=n(256),o="clip recommendations loaded",s=["similar","channel","game","top"]},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=o(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=o(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:m(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new y(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){var r=n(90),i=n(71),a=n(106),o=n(59),s=Object.prototype,u=s.hasOwnProperty,c=r(function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&a(t[0],t[1],c)&&(r=1);++n<r;)for(var l=t[n],d=o(l),f=-1,p=d.length;++f<p;){var h=d[f],m=e[h];(void 0===m||i(m,s[h])&&!u.call(e,h))&&(e[h]=l[h])}return e});e.exports=c},function(e,t,n){function r(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=a(r.length-t,0),u=Array(s);++o<s;)u[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(u),i(e,this,c)}}var i=n(293),a=Math.max;e.exports=r},function(e,t,n){var r=n(294),i=n(302),a=i(r);e.exports=a},function(e,t,n){var r=n(58),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(57))},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t){var n=o(e),r=!n&&a(e),l=!n&&!r&&s(e),f=!n&&!r&&!l&&c(e),p=n||r||l||f,h=p?i(e.length,String):[],m=h.length;for(var y in e)!t&&!d.call(e,y)||p&&("length"==y||l&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||h.push(y);return h}var i=n(303),a=n(108),o=n(19),s=n(109),u=n(107),c=n(148),l=Object.prototype,d=l.hasOwnProperty;e.exports=r},function(e,t){function n(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}e.exports=n},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=i(e))===a||e===-a){return(e<0?-1:1)*o}return e===e?e:0}var i=n(112),a=1/0,o=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){return null==e?[]:i(e,a(e))}var i=n(311),a=n(50);e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(r.Cache||i),n}var i=n(152),a="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){function r(e,t,n,r){if(!s(e))return e;t=a(t,e);for(var c=-1,l=t.length,d=l-1,f=e;null!=f&&++c<l;){var p=u(t[c]),h=n;if(c!=d){var m=f[p];h=r?r(m,p,f):void 0,void 0===h&&(h=s(m)?m:o(t[c+1])?[]:{})}i(f,p,h),f=f[p]}return e}var i=n(119),a=n(73),o=n(107),s=n(24),u=n(74);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,i)}var i=n(335),a=n(211);e.exports=r},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,l=t.length,d=!1;++r<l;){var f=c(t[r]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++r!=l?d:!!(l=null==e?0:e.length)&&u(l)&&s(f,l)&&(o(e)||a(e))}var i=n(73),a=n(108),o=n(19),s=n(107),u=n(146),c=n(74);e.exports=r},function(e,t,n){function r(e){return o(a(e,void 0,i),e+"")}var i=n(155),a=n(198),o=n(199);e.exports=r},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){!function(n,r){e.exports=t=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},a=i.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=0;i<t;i+=4){var a=function(t){var t=t,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}}(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new o.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=4*a,u=i/s;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var c=u*a,l=e.min(4*c,i);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(r,d);var f=r.splice(0,c);n.sigBytes-=l}return new o.init(f,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(i.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e}()}()},function(e,t,n){"use strict";function r(e){if(e.experiments&&e.experiments.hasOwnProperty(c)){var t=e.experiments[c];if(t.groups.length>0&&t.groups[0].value)return t.groups[0].value}return""}function i(e){if(e.Promise&&(a=e.Promise),e.siteOptions){var t=r(e.siteOptions);""!==t&&(l.spade.href=t)}e.serviceUrls&&(e.serviceUrls.mixpanel&&(l.mixpanel=e.serviceUrls.mixpanel),e.serviceUrls.spade&&(l.spade=e.serviceUrls.spade),e.serviceUrls.untrusted_spade&&(l.untrusted_spade=e.serviceUrls.untrusted_spade))}n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return u}),t.a=r,t.g=i,n.d(t,"f",function(){return a}),n.d(t,"d",function(){return l});var a,o="mixpanel",s="spade",u="untrusted_spade",c="4badc757-13a7-468c-99b6-e42aef7fc286",l={spade:{href:"//trowel.twitch.tv/"},untrusted_spade:{href:"//spade.twitch.tv/"},mixpanel:{href:"//api.mixpanel.com/track"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1),a=n(7),o=n(5);n.d(t,"extractSpadeURL",function(){return i.a}),n.d(t,"Dobbin",function(){return s});var s=function(){function e(){}return e.trackEvent=function(e,t,n){void 0===n&&(n=[i.b,i.c]);var r={event:e,properties:t};return this.trackUrgentEvent(r,n)},e.trackUrgentEvent=function(e,t){var s=n.i(r.a)([e]),u=t.map(function(e){return n.i(o.a)(i.d[e].href,"data="+s)});if(a.a[e.event]&&-1!==t.indexOf(i.b)){var c=this.trackUrgentEvent({event:a.a[e.event],properties:e.properties},[i.e]);u.push(c)}return i.f.all(u)},e}();s.events={EVENT_PAGEVIEW:a.b,UNTRUSTED_EVENT_PAGEVIEW_FILTERED:a.c,UNTRUSTED_EVENT_BENCHMARK_FETCH_START:a.d,UNTRUSTED_EVENT_BENCHMARK_COMPLETE_TRANSITION:a.e},s.configure=i.g},function(e,t,n){!function(r,i){e.exports=t=function(e){return function(){function t(e,t,n){for(var r=[],a=0,o=0;o<t;o++)if(o%4){var s=n[e.charCodeAt(o-1)]<<o%4*2,u=n[e.charCodeAt(o)]>>>6-o%4*2;r[a>>>2]|=(s|u)<<24-a%4*8,a++}return i.create(r,a)}var n=e,r=n.lib,i=r.WordArray;n.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=t[a>>>2]>>>24-a%4*8&255,s=t[a+1>>>2]>>>24-(a+1)%4*8&255,u=t[a+2>>>2]>>>24-(a+2)%4*8&255,c=o<<16|s<<8|u,l=0;l<4&&a+.75*l<n;l++)i.push(r.charAt(c>>>6*(3-l)&63));var d=r.charAt(64);if(d)for(;i.length%4;)i.push(d);return i.join("")},parse:function(e){var n=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(n=s)}return t(e,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(n(0))}()},function(e,t,n){!function(r,i){e.exports=t=function(e){return e.enc.Utf8}(n(0))}()},function(e,t,n){"use strict";function r(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r="");var i=new XMLHttpRequest;return i.open(e,t,!0),n&&Object.keys(n).forEach(function(e){n.hasOwnProperty(e)&&i.setRequestHeader(e,n[e])}),new a.f(function(n,a){i.onreadystatechange=function(){i.readyState===o&&(i.status>=200&&i.status<300?n(i.responseText):a(new Error("dobbin.js "+e+" "+t+" responded "+i.status+"\n"+i.responseText)))},i.send(r)})}function i(e,t){return r("POST",e,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},t)}var a=n(1);t.a=i;var o=4},function(e,t,n){"use strict";function r(e){return i.stringify(a.parse(JSON.stringify(e)))}var i=n(3),a=(n.n(i),n(4));n.n(a),t.a=r},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return u});var r,i="pageview",a="x_untrusted_pageview_filtered",o="x_untrusted_benchmark_fetch_start",s="x_untrusted_benchmark_complete_transition",u=(r={},r[i]=a,r.benchmark_fetch_start=o,r.benchmark_complete_transition=s,r)},function(e,t,n){e.exports=n(2)}])})},function(e,t,n){function r(e,t,n,r,c,l){var d=n&s,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var m=-1,y=!0,v=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++m<f;){var g=e[m],b=t[m];if(r)var _=d?r(b,g,m,t,e,l):r(g,b,m,e,t,l);if(void 0!==_){if(_)continue;y=!1;break}if(v){if(!a(t,function(e,t){if(!o(v,t)&&(g===e||c(g,e,n,r,l)))return v.push(t)})){y=!1;break}}else if(g!==b&&!c(g,b,n,r,l)){y=!1;break}}return l.delete(e),l.delete(t),y}var i=n(159),a=n(349),o=n(160),s=1,u=2;e.exports=r},function(e,t,n){var r=n(32),i=r.Uint8Array;e.exports=i},function(e,t,n){function r(e){return i(e,o,a)}var i=n(217),a=n(162),o=n(50);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return a(e)?r:i(r,n(e))}var i=n(120),a=n(19);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){var r=n(58),i=n(32),a=r(i,"Set");e.exports=a},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(24);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(114);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=Object.freeze({AE:"United Arab Emirates",AT:"Austria",AU:"Australia",BE:"Belgium",CA:"Canada",CH:"Switzerland",DE:"Germany",DK:"Denmark",ES:"Spain",FI:"Finland",FR:"France",GB:"United Kingdom",IT:"Italy",KR:"Korea",NL:"Netherlands",NO:"Norway",NZ:"New Zealand",PL:"Poland",PT:"Portugal",RU:"Russia",SA:"Saudi Arabia",SE:"Sweden",TR:"Turkey",US:"United States"}),i=1050},function(e,t,n){function r(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||i(e,t,n)}var i=n(94),a=n(71);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}var i=n(32),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(147)(e))},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(165);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||o(e)?{}:i(a(e))}var i=n(366),a=n(166),o=n(110);e.exports=r},function(e,t){function n(e,t){return"__proto__"==t?void 0:e[t]}e.exports=n},function(e,t,n){function r(e,t){return e&&i(e,t,a)}var i=n(164),a=n(50);e.exports=r},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(150);e.exports=r},function(e,t){function n(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){var r;/*! BigScreen
 * v2.0.5 - 2015-05-02
 * 
 * Copyright 2015 Brad Dougherty <me@brad.is>; MIT License
 */
!function(i,a,o){"use strict";function s(e){var t=null;if("VIDEO"===e.tagName)t=e;else{var n=e.getElementsByTagName("video");n[0]&&(t=n[0])}return t}function u(e){var t=s(e);if(t&&t.webkitEnterFullscreen){try{t.readyState<t.HAVE_METADATA?(t.addEventListener("loadedmetadata",function e(){t.removeEventListener("loadedmetadata",e,!1),t.webkitEnterFullscreen(),m=!!t.getAttribute("controls")},!1),t.load()):(t.webkitEnterFullscreen(),m=!!t.getAttribute("controls")),h=t}catch(t){return w("not_supported",e)}return!0}return w(void 0===p.request?"not_supported":"not_enabled",e)}function c(){k.element||(_(),d())}function l(){o&&"webkitfullscreenchange"===p.change&&window.addEventListener("resize",c,!1)}function d(){o&&"webkitfullscreenchange"===p.change&&window.removeEventListener("resize",c,!1)}var f=/i(Pad|Phone|Pod)/.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/,"$1.$2"),10)>=7,p=function(){var e=a.createElement("video"),t={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},n={};for(var r in t)for(var i=0,o=t[r].length;i<o;i++)if(t[r][i]in e||t[r][i]in a||"on"+t[r][i].toLowerCase()in a){n[r]=t[r][i];break}return n}(),h=null,m=null,y=function(){},v=[],g=!1;navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(g=parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/,"$1"),10)||!0);var b=function(e){var t=v[v.length-1];t&&(e!==t.element&&e!==h||!t.hasEntered)&&("VIDEO"===e.tagName&&(h=e),1===v.length&&k.onenter(k.element),t.enter.call(t.element,e||t.element),t.hasEntered=!0)},_=function(){!h||m||f||(h.setAttribute("controls","controls"),h.removeAttribute("controls")),h=null,m=null;var e=v.pop();e&&(e.exit.call(e.element),k.element||(v.forEach(function(e){e.exit.call(e.element)}),v=[],k.onexit()))},w=function(e,t){if(v.length>0){var n=v.pop();t=t||n.element,n.error.call(t,e),k.onerror(t,e)}},k={request:function(e,t,n,r){if(e=e||a.body,v.push({element:e,enter:t||y,exit:n||y,error:r||y}),void 0===p.request)return void u(e);if(o&&!1===a[p.enabled])return void u(e);if(!1!==g&&g<32)return void u(e);if(o&&void 0===p.enabled)return p.enabled="webkitFullscreenEnabled",e[p.request](),void setTimeout(function(){a[p.element]?a[p.enabled]=!0:(a[p.enabled]=!1,u(e))},250);try{e[p.request](),setTimeout(function(){a[p.element]||w(o?"not_enabled":"not_allowed",e)},100)}catch(t){w("not_enabled",e)}},exit:function(){d(),a[p.exit]()},toggle:function(e,t,n,r){k.element?k.exit():k.request(e,t,n,r)},videoEnabled:function(e){if(k.enabled)return!0;e=e||a.body;var t=s(e);return!(!t||void 0===t.webkitSupportsFullscreen)&&(t.readyState<t.HAVE_METADATA?"maybe":t.webkitSupportsFullscreen)},onenter:y,onexit:y,onchange:y,onerror:y};try{Object.defineProperties(k,{element:{enumerable:!0,get:function(){return h&&h.webkitDisplayingFullscreen?h:a[p.element]||null}},enabled:{enumerable:!0,get:function(){return"webkitCancelFullScreen"===p.exit&&!o||!(!1!==g&&g<32)&&(a[p.enabled]||!1)}}}),p.change&&a.addEventListener(p.change,function(e){if(k.onchange(k.element),k.element){var t=v[v.length-2];t&&t.element===k.element?_():(b(k.element),l())}else _()},!1),a.addEventListener("webkitbeginfullscreen",function(e){var t=!0;if(v.length>0)for(var n=0,r=v.length;n<r;n++){var i=s(v[n].element);if(i===e.srcElement){t=!1;break}}t&&v.push({element:e.srcElement,enter:y,exit:y,error:y}),k.onchange(e.srcElement),b(e.srcElement)},!0),a.addEventListener("webkitendfullscreen",function(e){k.onchange(e.srcElement),_(e.srcElement)},!0),p.error&&a.addEventListener(p.error,function(e){w("not_allowed")},!1)}catch(e){k.element=null,k.enabled=!1}void 0!==(r=function(){return k}.call(t,n,t,e))&&(e.exports=r)}(0,document,self!==top)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e.SupervisorReady="supervisor-ready",e.SupervisorInit="supervisor-init"}(r||(r={}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){var n=fe[e];if(!n)throw new Error("Invalid environment - got "+e);if(!t)throw new Error("Invalid prefix - got "+t);window[de]=window[de]||{};var r=window[de];r[e]||(r[e]=new pe(n));var i=r[e];return new he(i,t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e){if("production"!==e&&"staging"!==e&&"darklaunch"!==e)throw"Invalid Pubsub instance environment";return null===window.__Twitch__pubsubInstances[e]&&(window.__Twitch__pubsubInstances[e]=new xe(e)),window.__Twitch__pubsubInstances[e]}var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(){function e(){r(this,e)}return E(e,[{key:"on",value:function(e,t,n){return this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t,n),this}},{key:"off",value:function(e,t){if(this._events)for(var n=this._events[e]||[],r=this._events[e]=[],i=0;i<n.length;i+=2)n[i]!==t&&(r.push(n[i]),r.push(n[i+1]));return this}},{key:"_trigger",value:function(e){if(this._events)for(var t=this._events[e]||[],n=1;n<t.length;n+=2)t[n-1].apply(t[n],Array.prototype.slice.call(arguments,1));return this}},{key:"count",value:function(e){if(this._events){return(this._events[e]||[]).length/2}return 0}}]),e}(),P=S,C={};C.randomInt=function(e){return Math.floor(Math.random()*e)},C.time={seconds:function(e){return 1e3*e},now:function(){return(new Date).getTime()}},C.urlParams=function(){for(var e={},t=window.location.search.substr(1),n=t.split("&"),r=0;r<n.length;++r){var i=n[r].split("=");e[decodeURIComponent(i[0])]=i.length>1?decodeURIComponent(i[1]):""}return e}(),C.generateString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(C.randomInt(n.length));return t},C.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}};var O=C,T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(){},R=x,j={},A={DEBUG:1,INFO:2,WARNING:3,ERROR:4,CRITICAL:5},I=A.WARNING,L=function(){function e(t){i(this,e),this._opts=t}return T(e,[{key:"debug",value:function(e){I<=A.DEBUG&&this._log("DEBUG: "+e)}},{key:"info",value:function(e){I<=A.INFO&&this._log("INFO: "+e)}},{key:"warning",value:function(e){I<=A.WARNING&&this._log("WARNING: "+e)}},{key:"error",value:function(e){I<=A.ERROR&&this._log("ERROR: "+e)}},{key:"critical",value:function(e){I<=A.CRITICAL&&this._log("CRITICAL: "+e)}},{key:"_log",value:function(e){var t=this._opts.prefix+e;this._opts.logFunc?this._opts.logFunc(t):R(t)}}]),e}(),N={setLogger:function(e){R="function"==typeof e?e:x},setLevel:function(){var e=(O.urlParams.pubsub_log_level||"").toUpperCase();if(e){var t=A[e];if(t)return I=t,function(){}}return function(e){I=e?A[e.toUpperCase()]||A.WARNING:A.WARNING}}(),_getLogger:function(e){return j[e]||(j[e]=new L({prefix:"pubsub.js ["+e+"] "})),j[e]},_noopLogger:new L({prefix:"",logFunc:x})},M=window.console;M&&M.log&&(M.log.apply?N.setLogger(function(){M.log.apply(M,arguments)}):N.setLogger(function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);M.log(e.join(" "))}));var D=N,q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=function(){function e(){a(this,e),this._map={},this._size=0}return q(e,[{key:"set",value:function(e,t){this._map.hasOwnProperty(e)||(this._size+=1),this._map[e]=t}},{key:"get",value:function(e){return this._map[e]}},{key:"has",value:function(e){return this._map.hasOwnProperty(e)}},{key:"remove",value:function(e){this._map.hasOwnProperty(e)&&(this._size-=1),delete this._map[e]}},{key:"size",value:function(){return this._size}},{key:"map",value:function(){return this._map}},{key:"values",value:function(){var e=[];for(var t in this._map)this._map.hasOwnProperty(t)&&e.push(this._map[t]);return e}}]),e}(),B=U,F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),V=D._getLogger("IframeClient"),H=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._parentUrl=e.parentUrl,n._pendingResponses=new B,n._listens=new P,window.addEventListener("message",n.receiveMessage.bind(n),!1),n}return u(t,e),F(t,[{key:"connect",value:function(){window.parent.postMessage({twitch_protocol:"pubsub",type:"connect"},this._parentUrl)}},{key:"verify",value:function(){window.parent.postMessage({twitch_protocol:"pubsub",type:"verify"},this._parentUrl),this._verifyTimeout=setTimeout(this._unverified.bind(this),1e3)}},{key:"Listen",value:function(e){V.debug("listening on "+e.topic);var t=this._generateNonce(),n={twitch_protocol:"pubsub",type:"LISTEN",nonce:t,data:{topics:[e.topic],auth_token:e.auth}};this._send(t,n,e)}},{key:"Unlisten",value:function(e){if(V.debug("unlistening on "+e.topic+"("+this._listens.count(e.topic)+" listeners)"),this._listens.count(e.topic)>1)return e.message&&this._listens.off(e.topic,e.message),e.success&&e.success(),void V.debug("now have "+this._listens.count(e.topic)+" listeners");var t=this._generateNonce(),n={twitch_protocol:"pubsub",type:"UNLISTEN",nonce:t,data:{topics:[e.topic]}};this._send(t,n,e)}},{key:"_send",value:function(e,t,n){this._pendingResponses.set(e,{timeout:setTimeout(this._onResponseTimeout.bind(this),3e4,e),topic:n.topic,auth:n.auth,message:t,callbacks:{success:n.success,failure:n.failure,message:n.message}}),window.parent.postMessage(t,this._parentUrl)}},{key:"receiveMessage",value:function(e){if("pubsub"==e.data.twitch_protocol)switch(V.debug("Received message: "+JSON.stringify(e.data)),e.data.type){case"connected":this._trigger("connected");break;case"disconnected":this._trigger("disconnected");break;case"success":this.handleResponse(!0,e.data);break;case"failure":this.handleResponse(!1,e.data);break;case"message":this.handleMessage(e.data.topic,e.data.message);break;case"verify":this._verified()}}},{key:"handleResponse",value:function(e,t){if(this._pendingResponses.has(t.nonce)){var n=this._pendingResponses.get(t.nonce);V.debug("ResponseInfo: "+JSON.stringify(n)),clearTimeout(n.timeout),this._pendingResponses.remove(t.nonce),e?(n.callbacks.message&&("LISTEN"===n.message.type?this._listens.on(n.topic,n.callbacks.message,this):"UNLISTEN"===n.message.type&&this._listens.off(n.topic,n.callbacks.message,this)),n.callbacks.success&&n.callbacks.success()):n.callbacks.failure&&n.callbacks.failure(t.error)}}},{key:"handleMessage",value:function(e,t){V.debug("received '"+t+"' on topic "+e),this._listens._trigger(e,t)}},{key:"_onResponseTimeout",value:function(e){V.debug("response timed out: "+e)}},{key:"_verified",value:function(){V.debug("Verified"),clearTimeout(this._verifyTimeout),this._trigger("verified")}},{key:"_unverified",value:function(){window.removeEventListener("message",this.receiveMessage.bind(this),!1),this._trigger("unverified")}},{key:"_generateNonce",value:function(){return O.generateString(30)}}]),t}(P),z=H,W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),K=1e4,G=D._getLogger("IframeHost"),Q=function(){function e(t){c(this,e),this._driver=t,this._sources=[],this._listeners=[],this._driver.on("connected",this.handleConnected,this),this._driver.on("disconnected",this.handleDisconnected,this),window.addEventListener("message",this.receiveMessage.bind(this),!1),this._orphanedListenerCheckTimer=setInterval(this._checkOrphanedListeners.bind(this),K)}return W(e,[{key:"destroy",value:function(){clearInterval(this._orphanedListenerCheckTimer)}},{key:"receiveMessage",value:function(e){if("pubsub"==e.data.twitch_protocol&&e.source)switch(G.debug("Received message: "+JSON.stringify(e.data)),e.data.type){case"LISTEN":this.handleListen(e.source,e.data.nonce,e.data.data);break;case"UNLISTEN":this.handleUnlisten(e.source,e.data.nonce,e.data.data);break;case"connect":this._sources.push(e.source),this._driver.connect();break;case"verify":e.source.postMessage({twitch_protocol:"pubsub",type:"verify"},"*")}}},{key:"_pushListener",value:function(e,t){for(var n=0;n<this._listeners.length;n++)if(this._listeners[n].source===e&&this._listeners[n].topic===t)return null;var r={source:e,topic:t,message:function(n){e.postMessage({twitch_protocol:"pubsub",type:"message",topic:t,message:n},"*")}};return this._listeners.push(r),r}},{key:"_popListener",value:function(e,t){for(var n=0;n<this._listeners.length;n++)if(this._listeners[n].source===e&&this._listeners[n].topic===t)return this._listeners.splice(n,1)[0];return null}},{key:"_checkOrphanedListeners",value:function(){for(var e=0;e<this._listeners.length;e++)this._listeners[e].source.closed&&this._cleanUpOrphanedListener(this._listeners.splice(e--,1)[0])}},{key:"_cleanUpOrphanedListener",value:function(e){G.debug("Cleaning up orphaned listener for topic: "+e.topic),this._driver.Unlisten({topic:e.topic,success:function(){G.debug("Success when cleaning up orphaned listener for topic: "+e.topic)},failure:function(t){G.debug("Error when cleaning up orphaned listener for topic: "+e.topic+" Error: "+t)},message:e.message})}},{key:"handleListen",value:function(e,t,n){var r=this._pushListener(e,n.topics[0]);if(!r)return void e.postMessage({twitch_protocol:"pubsub",type:"success",nonce:t},"*");this._driver.Listen({topic:r.topic,auth:n.auth_token,success:function(){e.postMessage({twitch_protocol:"pubsub",type:"success",nonce:t},"*")},failure:function(n){e.postMessage({twitch_protocol:"pubsub",type:"failure",nonce:t,error:n},"*")},message:r.message})}},{key:"handleUnlisten",value:function(e,t,n){var r=this._popListener(e,n.topics[0]);if(!r)return void G.debug("Failed to unlisten, could not find listener for topic "+n.topics[0]);this._driver.Unlisten({topic:r.topic,auth:n.auth_token,success:function(){e.postMessage({twitch_protocol:"pubsub",type:"success",nonce:t},"*")},failure:function(n){e.postMessage({twitch_protocol:"pubsub",type:"failure",nonce:t,error:n},"*")},message:r.message})}},{key:"handleConnected",value:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].postMessage({twitch_protocol:"pubsub",type:"connected"},"*")}},{key:"handleDisconnected",value:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].postMessage({twitch_protocol:"pubsub",type:"disconnected"},"*")}}]),e}(),Y=Q,J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),X=D._getLogger("PubsubSocket"),Z=function(e){function t(e){l(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._opts=e,n._addr=e.addr,n._stats=e.stats,n._connectionAttempts=0,n._sentPing=n._receivedPong=!1,n._id="["+O.generateString(10)+"] ",window.addEventListener("beforeunload",n._beforeUnload.bind(n)),n}return f(t,e),J(t,[{key:"connect",value:function(){X.debug(this._id+"connecting to "+this._addr),this._connecting=!0,this._socketConnectTime=O.time.now();try{this._socket=new WebSocket(this._addr),this._socket.onmessage=this._onMessage.bind(this),this._socket.onerror=this._onError.bind(this),this._socket.onclose=this._onClose.bind(this),this._socket.onopen=this._onOpen.bind(this)}catch(e){this._stats.logCounter("socket.error.security_err",1,1),this._trigger("connection_failure")}}},{key:"close",value:function(){X.debug(this._id+"closing"),this._closing=!0,this._clearTimeouts(),this._socket.close()}},{key:"send",value:function(e){X.debug(this._id+"sending "+JSON.stringify(e)),this._isReady()?this._socket.send(JSON.stringify(e)):this._trigger("error","not_ready")}},{key:"_isReady",value:function(){return X.debug(this._id+"_isReady called"),!!this._socket&&this._socket.readyState===WebSocket.OPEN}},{key:"_onMessage",value:function(e){X.debug(this._id+"received message: "+e.data);try{var t=JSON.parse(e.data);switch(t.type){case"RESPONSE":this._trigger("response",t);break;case"MESSAGE":this._trigger("message",t);break;case"PONG":this._receivedPong=!0;break;case"RECONNECT":this._trigger("reconnect")}}catch(e){this._stats.logLine("onMessage JSON Parse error: "+e)}}},{key:"_onError",value:function(e){X.debug(this._id+"error: "+JSON.stringify(e))}},{key:"_onClose",value:function(e){if(X.debug(this._id+"onClose triggered with code "+e.code+"(closing = "+this._closing+", connecting = "+this._connecting+")"),this._clearTimeouts(),this._connecting){var t=Math.pow(2,this._connectionAttempts);t>120&&(t=120),X.debug(this._id+"reconnecting in "+t+" seconds"),this._connectionAttempts+=1,this._nextConnectionAttempt=setTimeout(this.connect.bind(this),1e3*t)}else if(this._closing)this._closed=!0,this._trigger("connection_failure");else{if(this._windowUnloading)return;X.debug(this._id+"unexpected close"),this._stats.logCounter("socket.error.unexpected_closed",1,1),this._stats.logCounter("socket.error.close."+e.code,1,1);var n="pubsub-js-client unexpected_close. code: "+e.code+", reason: "+e.reason+", wasClean: "+e.wasClean;this._stats.logLine(n),this._closed=!0,this._trigger("connection_failure")}}},{key:"_onOpen",value:function(e){X.debug(this._id+" socket opened"),this._connectionAttempts=0,this._connecting=!1,this._socketConnectTime&&this._stats.logTimer("socket.connect",O.time.now()-this._socketConnectTime,.1),this._stats.logCounter("socket.connection_retries."+this._connectionAttempts,1,.1),this._ping(),this._pingInterval=window.setInterval(this._ping.bind(this),24e4),this._trigger("open")}},{key:"_ping",value:function(){X.debug(this._id+"sending PING");try{this._socket.send(JSON.stringify({type:"PING"})),this._sentPing=!0,this._pongTimeout&&clearTimeout(this._pongTimeout),this._pongTimeout=setTimeout(this._pongTimedOut.bind(this),3e4)}catch(e){this._stats.logCounter("socket.error.ping_send_error",1,1),this._stats.logLine("ping error: closed: "+this._closed+", error: "+e),this.close()}}},{key:"_pongTimedOut",value:function(){this._sentPing&&!this._receivedPong&&(X.debug(this._id+"Pong timed out!"),this._stats.logCounter("socket.error.pong_timed_out",1,1),this.close())}},{key:"_clearTimeouts",value:function(){this._sentPing=this._receivedPong=!1,clearTimeout(this._pongTimeout),clearInterval(this._pingInterval),clearTimeout(this._nextConnectionAttempt)}},{key:"_beforeUnload",value:function(){this._windowUnloading=!0}}]),t}(P),ee=Z,te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ne=D._getLogger("WebsocketClient"),re="wss://pubsub-edge.twitch.tv:443/v1",ie="wss://pubsub-edge-darklaunch.twitch.tv:443/v1",ae="ws://localhost:6900/v1",oe=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));switch(n._opts=e,n._env=e.env,n._stats=e.stats,n._env){case"production":n._addr=re;break;case"darklaunch":n._addr=ie;break;case"development":n._addr=ae;break;default:n._addr=re}return window.WebSocket?(n._queuedRequests=[],n._pendingResponses=new B,n._pendingReplayResponses=new B,n._listens=new P,n._replays=new B,n._replaysSize=0,n._firstConnectTime=n._firstListenTime=0,n._connectCalled=n._reconnecting=!1,n._primarySocket=new ee({stats:n._stats,addr:n._addr}),n._bindPrimary(n._primarySocket),n):h(n)}return m(t,e),te(t,[{key:"verify",value:function(){this._trigger("verified")}},{key:"connect",value:function(){window.WebSocket&&(this._connectCalled?this._primarySocket._isReady()&&this._trigger("connected"):(this._connectCalled=!0,this._primarySocket.connect()))}},{key:"_bindPrimary",value:function(e){e.on("open",this._onPrimaryOpen,this),e.on("response",this._onResponse,this),e.on("message",this._onMessage,this),e.on("reconnect",this._onReconnect,this),e.on("connection_failure",this._onConnectionFailure,this)}},{key:"_unbindPrimary",value:function(e){e.off("open",this._onPrimaryOpen,this),e.off("response",this._onResponse,this),e.off("message",this._onMessage,this),e.off("reconnect",this._onReconnect,this),e.off("connection_failure",this._onConnectionFailure,this)}},{key:"_onPrimaryOpen",value:function(){ne.debug("primary open: "+this._primarySocket._id),0===this._firstConnectTime&&(this._firstConnectTime=O.time.now(),this._firstListenTimeout=setTimeout(this._neverListened.bind(this),45e3)),this._connected=!0,this._trigger("connected"),this._flushQueuedRequests()}},{key:"_onResponse",value:function(e){if(ne.debug("primary response: "+JSON.stringify(e)),this._pendingResponses.has(e.nonce)){var t=this._pendingResponses.get(e.nonce);ne.debug("responseInfo: "+JSON.stringify(t)),clearTimeout(t.timeout),this._pendingResponses.remove(e.nonce),""===e.error?("LISTEN"===t.message.type?(0===this._firstListenTime&&(clearTimeout(this._firstListenTimeout),this._firstListenTime=O.time.now(),this._stats.logTimer("time_to_first_listen",this._firstListenTime-this._firstConnectTime,.1)),this._replays.set(e.nonce,{nonce:e.nonce,message:t.callbacks.message,topic:t.topic,auth:t.auth}),t.callbacks.message&&this._listens.on(t.topic,t.callbacks.message,this)):"UNLISTEN"===t.message.type&&(this._replays.remove(e.nonce),t.callbacks.message&&this._listens.off(t.topic,t.callbacks.message,this)),t.callbacks.success&&t.callbacks.success()):t.callbacks.failure&&t.callbacks.failure(e.error)}}},{key:"_onResponseTimeout",value:function(e){if(this._pendingResponses.has(e)){var t=this._pendingResponses.get(e);this._pendingResponses.remove(e),t.callbacks.failure&&t.callbacks.failure("response timeout")}}},{key:"_onMessage",value:function(e){ne.debug("primary message: "+JSON.stringify(e)),this._listens._trigger(e.data.topic,e.data.message)}},{key:"_onConnectionFailure",value:function(){ne.debug("connection failure"),this._trigger("disconnected"),this._notifyWhenOpen=!0,this._onReconnect()}},{key:"_onReconnect",value:function(){ne.debug("reconnecting..."),this._reconnecting=!0,this._backupSocket=new ee({stats:this._stats,addr:this._addr}),this._bindBackup(this._backupSocket),setTimeout(this._backupSocket.connect.bind(this._backupSocket),this._jitteredReconnectDelay())}},{key:"_bindBackup",value:function(e){e.on("open",this._onBackupOpen,this),e.on("response",this._onBackupResponse,this)}},{key:"_unbindBackup",value:function(e){e.off("open",this._onBackupOpen,this),e.off("response",this._onBackupResponse,this)}},{key:"_onBackupOpen",value:function(){ne.debug("Backup socket opened"),this._replays.size()>0?this._replayBackup():(this._swapSockets(),this._notifyWhenOpen&&(ne.debug("triggering connected"),this._notifyWhenOpen=!1,this._trigger("connected")))}},{key:"_replayBackup",value:function(){for(var e=this._replays.values(),t=0;t<e.length;t++){var n={type:"LISTEN",nonce:this._generateNonce(),data:{topics:[e[t].topic],auth_token:e[t].auth}};this._pendingReplayResponses.set(n.nonce,!0),this._backupSocket.send(n)}}},{key:"_onBackupResponse",value:function(e){this._pendingReplayResponses.has(e.nonce)&&""===e.error&&(this._pendingReplayResponses.remove(e.nonce),0===this._pendingReplayResponses.size()&&(this._swapSockets(),this._notifyWhenOpen&&(ne.debug("triggering connected"),this._notifyWhenOpen=!1,this._trigger("connected"))))}},{key:"_swapSockets",value:function(){ne.debug("swapping primary "+this._primarySocket._id+" and backup "+this._backupSocket._id),this._unbindPrimary(this._primarySocket),this._unbindBackup(this._backupSocket),this._bindPrimary(this._backupSocket),this._primarySocket.close(),this._primarySocket=this._backupSocket,this._reconnecting=!1,this._flushQueuedRequests()}},{key:"Listen",value:function(e){if(window.WebSocket){ne.debug("listening on "+e.topic);var t=this._generateNonce(),n={type:"LISTEN",nonce:t,data:{topics:[e.topic],auth_token:e.auth}};this._queuedSend(t,n,e)}}},{key:"Unlisten",value:function(e){if(window.WebSocket){if(ne.debug("unlistening on "+e.topic+"("+this._listens.count(e.topic)+" listeners)"),this._listens.count(e.topic)>1){this._listens.off(e.topic,e.message);for(var t in this._replays.map())if(this._replays.get(t).message===e.message){this._replays.remove(t);break}return e.success&&e.success(),void ne.debug("now have "+this._listens.count(e.topic)+" listeners")}var n=this._generateNonce(),r={type:"UNLISTEN",nonce:n,data:{topics:[e.topic]}};this._queuedSend(n,r,e)}}},{key:"_queuedSend",value:function(e,t,n){this._reconnecting||!1===this._primarySocket._isReady()?(ne.debug("queuing"),this._queuedRequests.push({nonce:e,msg:t,opts:n})):(ne.debug("sending immediately"),this._send(e,t,n))}},{key:"_flushQueuedRequests",value:function(){for(ne.debug("flushing "+this._queuedRequests.length+" listen/unlistens");this._queuedRequests.length>0;){var e=this._queuedRequests.shift();this._send(e.nonce,e.msg,e.opts)}}},{key:"_send",value:function(e,t,n){this._pendingResponses.set(e,{timeout:setTimeout(this._onResponseTimeout.bind(this),3e4,e),topic:n.topic,auth:n.auth,message:t,callbacks:{success:n.success,failure:n.failure,message:n.message}}),this._primarySocket.send(t)}},{key:"_neverListened",value:function(){this._stats.logCounter("first_listen_timeout",1)}},{key:"_generateNonce",value:function(){return O.generateString(30)}},{key:"_jitteredReconnectDelay",value:function(){return O.randomInt(2e3)}}]),t}(P),se=oe,ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ce=500,le=20,de="__Twitch__statsInstances_1",fe={production:{addr:"https://client-event-reporter.twitch.tv"},darklaunch:{addr:"https://client-event-reporter-darklaunch.twitch.tv"}};fe.staging=fe.darklaunch,fe.development=fe.darklaunch,fe.test=fe.darklaunch;var pe=function(){function e(t){if(y(this,e),!t)throw new Error("config is required");this._addr=t.addr,this._resetCombinedStats(),this._recordDelay=ce,this._maxPendingStats=le}return ue(e,[{key:"logCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._combinedStats.counters.push({key:e,count:t,sample_rate:n}),this._record()}},{key:"logTimer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._combinedStats.timers.push({key:e,milliseconds:t,sample_rate:n}),this._record()}},{key:"logLine",value:function(e){this._combinedStats.log_lines.push({log_line:e}),this._record()}},{key:"logGauge",value:function(e){this._combinedStats.gauges.push({key:e}),this._record()}},{key:"_resetCombinedStats",value:function(){this._combinedStats={timers:[],counters:[],log_lines:[],gauges:[]}}},{key:"_record",value:function(){var e=this;this._numPendingStats()>this._maxPendingStats?(this._flushTimeout&&(clearTimeout(this._flushTimeout),this._flushTimeout=null),this._flush()):this._flushTimeout||(this._flushTimeout=setTimeout(function(){e._flushTimeout=null,e._flush()},this._recordDelay))}},{key:"_flush",value:function(){var e=this._combinedStats;this._resetCombinedStats();var t=this._addr+"/v1/stats",n=this._createCorsRequest("POST",t);if(!n)return void console.log("WARNING: Cannot send stats because CORS is unsupported");n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e))}},{key:"_numPendingStats",value:function(){var e=this._combinedStats;return e.timers.length+e.counters.length+e.log_lines.length+e.gauges.length}},{key:"_createCorsRequest",value:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}}]),e}(),he=function(){function e(t,n){if(y(this,e),!t)throw new Error("Missing backend");if(!n)throw new Error("Missing prefix");this._backend=t,this._prefix=n}return ue(e,[{key:"logCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._backend.logCounter(this._prefix+"."+e,t,n)}},{key:"logTimer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._backend.logTimer(this._prefix+"."+e,t,n)}},{key:"logLine",value:function(e){this._backend.logLine(e)}},{key:"logGauge",value:function(e){this._backend.logGauge(e)}},{key:"setPrefix",value:function(e){if(!e)throw new Error("Missing prefix");this._prefix=e}}]),e}(),me={getInstance:v},ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ve="https://pubster.twitch.tv/publish",ge="https://pubster-darklaunch.twitch.tv/publish",be="pubsubtest.unique.",_e="pubsubtest.shared."+O.randomInt(10),we=D._getLogger("PubsubTest"),ke=function(){function e(t){if(g(this,e),!window.$)return void we.debug("PubsubTest could not be enabled. JQuery is undefined.");switch(we.debug("PubsubTest enabled"),this._env=t.env,this._driver=t.driver,this._stats=t.stats,this._env){case"production":this._addr=ve;break;case"darklaunch":this._addr=ge;break;default:this._env="production",this._addr=ve}this._statKeys={uniqueSuccess:"test.unique.success",uniqueFailure:"test.unique.failure",sharedSuccess:"test.shared.success",sharedFailure:"test.shared.failure"},this._uniqueKey=be+O.generateString(20),this._sharedKey=_e,this._listeningUnique=this._listeningShared=!1,this.sendListens()}return ye(e,[{key:"sendListens",value:function(){this._driver.Listen({topic:this._uniqueKey,auth:"",success:this._gotUniqueOk.bind(this),failure:this._gotUniqueFail.bind(this),message:this._gotUniqueMessage.bind(this)}),this._driver.Listen({topic:this._sharedKey,auth:"",success:this._gotSharedOk.bind(this),failure:this._gotSharedFail.bind(this),message:this._gotSharedMessage.bind(this)})}},{key:"_gotUniqueOk",value:function(){this._listeningUnique=!0,this._listeningShared&&this.startTesting()}},{key:"_gotUniqueFail",value:function(e){}},{key:"_gotSharedOk",value:function(){this._listeningShared=!0,this._listeningUnique&&this.startTesting()}},{key:"_gotSharedFail",value:function(e){}},{key:"startTesting",value:function(){we.debug("startTesting"),this._driver.on("connected",this.resumeTesting,this),this._driver.on("disconnected",this.stopTesting,this),this.checkAndSend(),this._publishInterval=window.setInterval(this.checkAndSend.bind(this),6e4)}},{key:"resumeTesting",value:function(){we.debug("resumeTesting"),this.checkAndSend(),this._publishInterval=window.setInterval(this.checkAndSend.bind(this),6e4)}},{key:"stopTesting",value:function(){we.debug("stopTesting"),clearInterval(this._publishInterval),this._receivedUniqueMessage=this._sentUniqueMessage=!1,this._receivedSharedMessage=this._sentSharedMessage=!1}},{key:"checkAndSend",value:function(){we.debug("checkAndSend: unique: sent = "+this._sentUniqueMessage+", received = "+this._receivedUniqueMessage),!this._receivedUniqueMessage&&this._sentUniqueMessage&&(we.debug("unique failure"),this._stats.logCounter(this._statKeys.uniqueFailure,1,1)),!this._receivedSharedMessage&&this._sentSharedMessage&&(we.debug("shared failure"),this._stats.logCounter(this._statKeys.sharedFailure,1,1)),this._receivedUniqueMessage=this._sentUniqueMessage=!1,this._receivedSharedMessage=this._sentSharedMessage=!1,this._expectedMessage=O.generateString(30),$.ajax({type:"POST",url:this._addr,contentType:"application/json",timeout:3e4,data:JSON.stringify({topics:[this._uniqueKey],data:this._expectedMessage}),success:function(){we.debug("unique message sent"),this._sentUniqueMessage=!0}.bind(this)}),this._sentUniqueMessageTime=O.time.now(),Math.random()<1e-4&&($.ajax({type:"POST",url:this._addr,contentType:"application/json",timeout:3e4,data:JSON.stringify({topics:[this._sharedKey],data:this._expectedMessage}),success:function(){we.debug("shared message sent"),this._sentSharedMessage=!0}.bind(this)}),this._sentSharedMessageTime=O.time.now())}},{key:"_gotUniqueMessage",value:function(e){if(we.debug("received unique message: "+e),e===this._expectedMessage){var t=O.time.now()-this._sentUniqueMessageTime;this._receivedUniqueMessage=!0,this._stats.logTimer(this._statKeys.uniqueSuccess,t,.1),this._stats.logCounter(this._statKeys.uniqueSuccess,1,.1)}}},{key:"_gotSharedMessage",value:function(e){if(e===this._expectedMessage){var t=O.time.now()-this._sentSharedMessageTime;this._receivedSharedMessage=!0,this._stats.logTimer(this._statKeys.sharedSuccess,t,.1),this._stats.logCounter(this._statKeys.sharedSuccess,1,.1)}}}]),e}(),Ee=ke,Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pe=D._getLogger("PubsubDriver"),Ce=3e4,Oe=/^https?:\/\/([\w-]+\.)*twitch\.(tv|tech)(:\d+)?\/.*$/,Te=1,xe=function(e){function t(e){b(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._env=O.urlParams.pubsub_environment||e,n._clientReady=!1,n._hasDisconnected=!1,n._queuedRequests=[],n._stats=me.getInstance(n._env,"pubsub-js-client"),n._numDisconnects=0,O.inIframe()&&Oe.test(document.referrer)?(Pe.debug("Driver is in an iframe"),n._client=new z({parentUrl:document.referrer}),n._clientType="iframe-verified"):(Pe.debug("Driver is not in an iframe"),n._client=new se({env:n._env,stats:n._stats}),n._iframeHost=new Y(n._client),n._clientType="ws"),n._stats.setPrefix("pubsub-js-client."+n._clientType),"true"===O.urlParams.force_pubsub_tester?Te=1:"false"===O.urlParams.force_pubsub_tester&&(Te=0),Math.random()<Te&&window.setTimeout(n.runTest.bind(n),Ce),n._client.on("unverified",n._clientUnverified,n),n._client.on("verified",n._clientVerified,n),n._client.verify(),n}return w(t,e),Se(t,[{key:"runTest",value:function(){this._tester=new Ee({env:this._env,driver:this,stats:this._stats})}},{key:"connect",value:function(){}},{key:"Listen",value:function(e){this._clientReady?this._client.Listen(e):this._queuedRequests.push({type:"LISTEN",opts:e})}},{key:"Unlisten",value:function(e){this._clientReady?this._client.Unlisten(e):this._queuedRequests.push({type:"UNLISTEN",opts:e})}},{key:"_flushQueuedRequests",value:function(){for(Pe.debug("Flushing "+this._queuedRequests.length+" queued requests");this._queuedRequests.length>0;){var e=this._queuedRequests.shift();switch(e.type){case"LISTEN":this._client.Listen(e.opts);break;case"UNLISTEN":this._client.Unlisten(e.opts)}}}},{key:"_clientConnected",value:function(){Pe.debug("Client connected"),this._client.on("disconnected",this._clientDisconnected,this),this._stats.logCounter("connected",1),this._trigger("connected"),this._hasDisconnected&&this._trigger("reconnected"),this._clientReady=!0,this._flushQueuedRequests()}},{key:"_clientDisconnected",value:function(){Pe.debug("Client disconnected"),this._trigger("disconnected"),this._clientReady=!1,this._numDisconnects+=1,this._hasDisconnected=!0}},{key:"_clientVerified",value:function(){Pe.debug("Client verified (type = "+this._clientType+")"),this._stats.setPrefix("pubsub-js-client."+this._clientType),this._client.on("connected",this._clientConnected,this),this._client.connect(),window.setInterval(this._sendClientTypeGauge.bind(this),6e4)}},{key:"_clientUnverified",value:function(){Pe.debug("Unverified IframeClient"),this._client.off("verified",this._clientVerified,this),this._client.off("unverified",this._clientUnverified,this),this._client=new se({env:this._env,stats:this._stats}),this._clientType="iframe-unverified",this._client.on("unverified",this._clientUnverified,this),this._client.on("verified",this._clientVerified,this),this._client.verify()}},{key:"_sendClientTypeGauge",value:function(){this._stats.logGauge("pubsub-js-client."+this._clientType)}}]),t}(P);window.__Twitch__pubsubInstances=window.__Twitch__pubsubInstances||{production:null,staging:null,darklaunch:null};t.a={getInstance:k}},function(e,t,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,a={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||r;return"function"==typeof e&&i(e(t(null),a))===a}},function(e,t,n){"use strict";var r,i=n(238),a=n(46),o=Object.prototype.isPrototypeOf,s=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(a(e),null===t||i(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(r(e,t),t),e}):t=function(e,t){return r(e,t).__proto__=t,e}:t=function e(t,n){var i;return r(t,n),i=o.call(e.nullPolyfill,t),i&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,i&&s(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{e=r.set,e.call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:(t={},t.__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),n(390)},function(e,t,n){"use strict";var r=n(79),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(79),i=Array.prototype.forEach,a=Object.create,o=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=a(null);return i.call(arguments,function(e){r(e)&&o(Object(e),t)}),t}},function(e,t,n){"use strict";e.exports=n(399)()?String.prototype.contains:n(400)},function(e,t,n){"use strict";var r=n(129),i=n(130),a=n(401),o=n(421),s=n(422),u=n(64).iterator;e.exports=function(e){return"function"==typeof s(e)[u]?e[u]():r(e)?new a(e):i(e)?new o(e):new a(e)}},function(e,t,n){"use strict";var r,i=n(406),a=n(172),o=n(65),s=n(46),u=n(96),c=n(407),l=n(64),d=Object.defineProperty,f=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(o(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,a({_next:u(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:u(function(e){return this.__list__[e]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[l.toStringTag]||"Object")+"]"})},c({_onAdd:u(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void d(this,"__redo__",u("c",[e]));this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:u(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:u(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,l.iterator,u(function(){return this}))},function(e,t,n){"use strict";function r(e,t,n){var r=s()({},n,{oauth_token:t});return fetch(e+"?"+Object(u.stringify)(r),{credentials:"include",headers:{"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"}}).then(function(e){return e.json()})}function i(e,t,n){return r(c.d+"/api/vods/"+e.substring(1)+"/access_token",t,n)}function a(e,t,n){return r(c.d+"/api/channels/"+e.toLowerCase()+"/access_token",t,n)}t.b=i,t.a=a;var o=n(5),s=n.n(o),u=n(30),c=(n.n(u),n(8))},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var i=n(432),a=n(174),o=n(433);e.exports=r},function(e,t,n){var r,i;!function(n,a){r=[],void 0!==(i=function(){return n.ns_=a(n.ns_)}.apply(t,r))&&(e.exports=i)}(this,function(e){e=e||{},e.ns_=e;var t={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var r=1;n>r;r++)if(t=arguments[r])for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(parseInt(e));return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},parseBoolean:function(e,t){return t=t||!1,e?"0"!=e&&void 0:t},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,r){t==e&&(n=r)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var r=void 0!==e.__proto__;for(var i in e)e.hasOwnProperty(i)&&(!r||r&&void 0===e.__proto__[i])&&"function"!=typeof e[i]&&t.call(n,e[i],i)}else for(var a=0,o=e.length;o>a;a++)t.call(n,e[a],a)}catch(e){}},regionMatches:function(e,t,n,r,i){if(0>t||0>r||t+i>e.length||r+i>n.length)return!1;for(;--i>=0;){if(e.charAt(t++)!=n.charAt(r++))return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(void 0!==t&&t&&"undefined"!=typeof console&&console){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){return null==e||"object"!=typeof e?e:function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function r(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function i(e,t){var n=new r;return t&&(n.maxDepth=t),n.deepCopy(e)}function a(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var o=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},r.prototype={constructor:r,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,r=0;n>r;r++)if(t[r][0]===e)return t[r][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<o.length;n++){var r=o[n];if(r.canCopy(e))return this.applyDeepCopier(r,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),++this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},i.DeepCopier=n,i.deepCopiers=o,i.register=function(e){e instanceof n||(e=new n(e)),o.unshift(e)},i.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var r=0;r<t.length;r++)n.push(e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),i.register({canCopy:function(e){return a(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var r=0;r<t.childNodes.length;r++){var i=e(t.childNodes[r]);n.appendChild(i)}}}),{deepCopy:i}}().deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",r=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?r="Opera":-1!=(t=n.indexOf("Android"))?r="Android":-1!=(t=n.indexOf("Chrome"))?r="Chrome":-1!=(t=n.indexOf("Safari"))?r="Safari":-1!=(t=n.indexOf("Firefox"))?r="Firefox":-1!=(t=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(r=n.substring(e,t),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)):r="unknown",r},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,r,i=navigator.userAgent||"",a=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(o=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?o=i.substring(t+4):-1!=(t=i.indexOf("Android"))?o=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?o=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(o=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?o=i.substring(t+8):"Microsoft Internet Explorer"==a?(r=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=r.exec(i)&&(o=parseFloat(RegExp.$1))):"Netscape"==a?(r=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=r.exec(i)&&(o=parseFloat(RegExp.$1))):o=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",o=o.toString(),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion)),o},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,r){n&&n.setItem(e+t,r)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var r=n.key(t);r.substr(0,e.length)===e&&n.removeItem(r)}}})}}(),r=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},i=function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},a=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),o=function(){return{PLATFORM:"generic",httpGet:r,httpPost:i,Storage:n,IO:a,getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}}}(),s={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};t.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var r=e[n];t[n]=null===r||void 0===r?r:e[n]+""}return t},t.getKeys=function(e,t){var n,r=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(r[r.length]=n);return r},t.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=String(t),t},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,r,i){var a={};if(!(r>=n))return t.cloneObject(e);if(a.start=n,a.end=r,0==e.length)return e.push(a),t.cloneObject(e);var o;for(o=0;o<e.length;o++)if(a.start>=e[o].start&&a.end<=e[o].end)return t.cloneObject(e);var s,u=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&a.start>=e[s].start||a.start>=e[s].start&&a.start<e[s+1].start){e.splice(s+1,0,a),u=!0;break}u||e.splice(0,0,a);var c=[e[0]];for(o=1;o<e.length;o++)c[c.length-1].end+i<e[o].start?c.push(e[o]):c[c.length-1].end<e[o].end&&(c[c.length-1].end=e[o].end);return t.cloneObject(c)};var u=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),c=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),l=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),d={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},f=function(){function e(){function e(){var e,t,n=0;for(e=0;e<m.length;e++)n+=Math.abs(m[e].end-m[e].start);U.setUniquePlaybackInterval(n);var r=0;for(e=0;e<m.length;e++)(t=Math.abs(m[e].end-m[e].start))>r&&(r=t);U.setLongestPlaybackInterval(r);var i=0;for(e=0;e<y.length;e++)i+=Math.abs(y[e].end-y[e].start);U.setAssetUniquePlaybackInterval(i);var a=0;for(e=0;e<y.length;e++)(t=Math.abs(y[e].end-y[e].start))>a&&(a=t);U.setAssetLongestPlaybackInterval(a)}var n,r,i,a,o,u,c,l,f,p,h,m,y,v,g,b,_,w,k,E,S,P,C,O,T,x,R,j,A,I,L,N,M,D,q,U=this,B=d.INTERVAL_MERGE_TOLERANCE;t.extend(this,{getHash:function(){return n},setHash:function(e){n=e},setPlaybackIntervalMergeTolerance:function(e){B=e},getPlaybackIntervalMergeTolerance:function(){return B},setLabels:function(e){null!=e&&t.extend(I,e)},getLabels:function(){return I},setLabel:function(e,t){var n={};n[e]=t,U.setLabels(n)},getLabel:function(e){return I[e]},getClipNumber:function(){return parseInt(U.getLabel("ns_st_cn"))},setClipNumber:function(e){U.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(U.getLabel("ns_st_pn"))},createLabels:function(e){var n=e||{};n.ns_st_dbt=String(U.getBufferingTime()-P),P=U.getBufferingTime(),n.ns_st_det=String(U.getElapsedTime()-p),p=U.getElapsedTime(),n.ns_st_dupc=String(U.getUniquePlaybackInterval()-g),g=U.getUniquePlaybackInterval(),parseInt(n.ns_st_dupc)<0&&(n.ns_st_dupc="0");var r;r=t.exists(n.ns_st_upc)?parseInt(n.ns_st_upc):U.getUniquePlaybackInterval(),n.ns_st_iupc=String(r-b),b=r,parseInt(n.ns_st_iupc)<0&&(n.ns_st_iupc="0"),n.ns_st_dupa=String(U.getAssetUniquePlaybackInterval()-_),_=U.getAssetUniquePlaybackInterval(),parseInt(n.ns_st_dupa)<0&&(n.ns_st_dupa="0");var a;a=t.exists(n.ns_st_upa)?parseInt(n.ns_st_upa):U.getAssetUniquePlaybackInterval(),n.ns_st_iupa=String(a-w),w=a,parseInt(n.ns_st_iupa)<0&&(n.ns_st_iupa="0"),n.ns_st_dlpc=String(U.getLongestPlaybackInterval()-k),k=U.getLongestPlaybackInterval(),parseInt(n.ns_st_dlpc)<0&&(n.ns_st_dlpc="0"),n.ns_st_dlpa=String(U.getAssetLongestPlaybackInterval()-E),E=U.getAssetLongestPlaybackInterval(),parseInt(n.ns_st_dlpa)<0&&(n.ns_st_dlpa="0");var o;return o=t.exists(n.ns_st_pt)?parseInt(n.ns_st_pt):U.getPlaybackTime(),n.ns_st_ipt=String(o-c),c=o,n.ns_st_dpt=String(U.getPlaybackTime()-u),u=U.getPlaybackTime(),n.ns_st_dpc=String(U.getPauses()-L),L=U.getPauses(),n.ns_st_dskc=String(U.getSeeks()-N),N=U.getSeeks(),n.ns_st_dbc=String(U.getBuffers()-M),M=U.getBuffers(),n.ns_st_dskt=String(U.getSeekingTime()-T),T=U.getSeekingTime(),n.ns_st_dska=String(U.getSeekingAmount()-j),j=U.getSeekingAmount(),t.extend(n,U.getLabels()),U.setSeekingDirection(0),i&&(n.ns_st_spc=String(D),n.ns_st_apc=String(q)),i||t.parseBoolean(n.ns_st_sc)||(n.ns_st_sc="1"),n},getVideoTrack:function(){return U.getLabel("ns_st_vt")},setVideoTrack:function(e){U.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return U.getLabel("ns_st_at")},setAudioTrack:function(e){U.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return U.getLabel("ns_st_tt")},setSubtitleTrack:function(e){U.setLabel("ns_st_tt",String(e))},getCDN:function(){return U.getLabel("ns_st_cdn")},setCDN:function(e){U.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return m},setClipPlaybackIntervals:function(e){m=e},getAssetPlaybackIntervals:function(){return y},getUniquePlaybackInterval:function(){return parseInt(U.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(U.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){U.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){U.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(U.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){U.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(U.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){U.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){U.setLabel("ns_st_pc",String(U.getPauses()+1))},incrementSeeks:function(){U.setLabel("ns_st_skc",String(U.getSeeks()+1))},incrementPlayCounter:function(){U.setLabel("ns_st_sq",String(U.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(U.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(U.getLabel("ns_st_bt"))},setBufferingTime:function(e){U.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(S)){var t=U.getBufferingTime();t+=e-S,U.setBufferingTime(t),S=NaN}},setPlaybackStartPosition:function(e){v=parseInt(e)},getPlaybackStartPosition:function(){return v},addInterval:function(n){isNaN(v)||isNaN(n)||(m=t.addNewPlaybackInterval(m,v,n,B),y=t.addNewPlaybackInterval(y,v,n,B),e(),v=NaN)},getElapsedTime:function(){return parseInt(U.getLabel("ns_st_et"))},setElapsedTime:function(e){U.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(f)){var t=U.getElapsedTime();t+=e-f,U.setElapsedTime(t),f=NaN}},getElapsedTimestamp:function(){return f},setElapsedTimestamp:function(e){f=e},addPlaybackTime:function(e){if(!isNaN(a)){var t=U.getPlaybackTime();t+=e-a,U.setPlaybackTime(t),a=NaN}},getPlaybackTime:function(){return parseInt(U.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(a)||(l+=e-a),l},setPlaybackTimeOffset:function(e){l=e},getPlaybackTimeOffset:function(){return l},setPlaybackTime:function(e){U.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return a},setPlaybackTimestamp:function(e){a=e},setPreviousPlaybackTime:function(e){u=e},setPreviousPlaybackTimestamp:function(e){o=e},getBufferingTimestamp:function(){return S},setBufferingTimestamp:function(e){S=e},getPauses:function(){return parseInt(U.getLabel("ns_st_pc"))},setPauses:function(e){U.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(U.getLabel("ns_st_skc"))},setSeeks:function(e){U.setLabel("ns_st_skc",String(e))},setSeeking:function(e){C=e},isSeeking:function(){return C},setCollectingSeekingTime:function(e){R=e},isCollectingSeekingTime:function(){return R},setClipStarted:function(e){r=e},isClipStarted:function(){return r},setPlaybackStarted:function(e){i=e},isPlaybackStarted:function(){return i},setSeekingTimestamp:function(e){O=e},getSeekingTimestamp:function(){return O},addSeekingTime:function(e){if(!isNaN(O)){var t=U.getSeekingTime();t+=e-O,U.setSeekingTime(t),O=NaN}},getSeekingTime:function(){return parseInt(U.getLabel("ns_st_skt"))},setSeekingTime:function(e){U.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){A=e},getSeekingTimeBeforeEnd:function(){return A},setSeekStartPosition:function(e){x=e},getSeekStartPosition:function(){return x},setSeekingAmount:function(e){U.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(U.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t=U.getSeekingAmount();t+=Math.abs(e-x),U.setSeekingAmount(t);var n;x==e?n=0:x>e?n=-1:e>x&&(n=1),U.setSeekingDirection(n),x=0},getSeekingDirection:function(){return parseInt(U.getLabel("ns_st_skd"))},setSeekingDirection:function(e){U.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){I.ns_st_pt="0",u=0,c=0,I.ns_st_bt="0",P=0,I.ns_st_bc="0",M=0,I.ns_st_pc="0",L=0,I.ns_st_sq="0",I.ns_st_upa="0",_=0,w=0,I.ns_st_et="0",p=0,I.ns_st_lpa="0",E=0,I.ns_st_skt="0",T=0,I.ns_st_ska="0",j=0,I.ns_st_skc="0",N=0},incrementSegmentPlaybackCounter:function(){D++},incrementClipLoadCounter:function(){U.setLabel("ns_st_sc",String(U.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){q++},setPreviousUniquePlaybackInterval:function(e){g=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){b=e},setPreviousLongestPlaybackInterval:function(e){k=e},resetAssetPlaybackCounters:function(){y=[],U.setAssetUniquePlaybackInterval(0),_=0,w=0,U.setAssetLongestPlaybackInterval(0),E=0},setSegmentPlaybackCounter:function(e){D=e},setClipLoadCounter:function(e){U.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){q=e},setLowestPartNumberPlayed:function(e){h=e},getSegmentPlaybackCounter:function(){return D},getClipLoadCounter:function(){return parseInt(U.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return q},getLowestPartNumberPlayed:function(){return h},getBuffers:function(){return parseInt(U.getLabel("ns_st_bc"))},incrementBufferCount:function(){U.setLabel("ns_st_bc",String(U.getBuffers()+1))},getPreviousBufferingTime:function(){return P}}),function(){I={},I.ns_st_pt="0",I.ns_st_bt="0",I.ns_st_bc="0",I.ns_st_pc="0",I.ns_st_sq="0",I.ns_st_cl="0",I.ns_st_pn="1",I.ns_st_tp="1",I.ns_st_skc="0",I.ns_st_et="0",I.ns_st_cn="1",I.ns_st_sc="0",I.ns_st_ska="0",I.ns_st_skd="0",I.ns_st_skt="0",I.ns_st_upc="0",I.ns_st_lpc="0",I.ns_st_upa="0",I.ns_st_lpa="0",I.ns_st_ub="0",I.ns_st_br="0",i=!1,r=!1,n=s.UNKNOWN_VALUE,a=NaN,l=0,u=0,o=NaN,f=NaN,h=0,p=0,c=0,v=NaN,m=[],y=[],g=0,b=0,_=0,w=0,k=0,E=0,S=NaN,P=0,C=!1,O=NaN,R=!1,x=0,A=0,T=0,j=0,L=0,N=0,M=0,D=0,q=0}()}return e.resetClip=function(e,t,n){for(var r=e.getLabels(),i={},a=0;n&&a<n.length;++a)r.hasOwnProperty(n[a])&&(i[n[a]]=r[n[a]]);t.setLabels(i),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),p=function(){function e(){var e,n,r,i,a,o,s,u,c,l=this;t.extend(this,{resetClip:function(){var t=e;e=new f,f.resetClip(t,e)},hashExists:function(e){return null!=o[e]},storeHash:function(e){o[e]={}},removeHash:function(e){delete o[e]},storeClipPlaybackCounters:function(){for(var n in o)if(o.hasOwnProperty(n)&&o[n].clipNumber===e.getClipNumber()){t.extend(o[n],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return o[e]},getClipNumber:function(e){return o[e].clipNumber},getMaxClipNumber:function(){return s},storeClipNumber:function(e,t){o[e].clipNumber=t,t>s&&(s=t)},setLabels:function(e){null!=e&&t.extend(i,e)},getLabels:function(){return i},setLabel:function(e,t){var n={};n[e]=t,l.setLabels(n)},getLabel:function(e){return i[e]},getClip:function(){return e},createLabels:function(n){var r=n||{};return u||(r.ns_st_pb=null!=r.ns_st_pb?r.ns_st_pb:"1"),t.extend(r,l.getLabels()),e.isPlaybackStarted()&&(r.ns_st_ppc=String(c)),r},incrementPlayCounter:function(){l.setLabel("ns_st_sp",String(parseInt(l.getLabel("ns_st_sp"))+1))},incrementPauses:function(){l.setLabel("ns_st_pp",String(l.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(r)){var t=l.getPlaybackTime();t+=e-r,l.setPlaybackTime(t),r=NaN}},addBufferingTime:function(e){if(!isNaN(n)){var t=l.getBufferingTime();t+=e-n,l.setBufferingTime(t),n=NaN}},getBufferingTime:function(){return parseInt(l.getLabel("ns_st_bp"))},setBufferingTime:function(e){l.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(l.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){l.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){r=e},getPlaybackTimestamp:function(){return r},getPauses:function(){return parseInt(l.getLabel("ns_st_pp"))},setPauses:function(e){l.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return a},setPlaylistStarted:function(e){a=e},getPlaybackCounter:function(){return c},incrementPlaybackCounter:function(){c++},setFirstEventSent:function(e){u=e}}),function(){e=new f,i={},i.ns_st_bp="0",i.ns_st_pa="0",i.ns_st_pp="0",i.ns_st_sp="1",i.ns_st_id=String(+new Date),n=NaN,r=NaN,o={},s=0,a=!1,u=!1,c=0}()}return e.resetPlaylist=function(t,n,r){for(var i=t.getClip(),a=t.getLabels(),o={},s=0;r&&s<r.length;s++)a.hasOwnProperty(r[s])&&(o[r[s]]=a[r[s]]);n=new e,n.setLabels(o),f.resetClip(i,n.getClip(),r)},e}(),h=function(){return function(e){function n(n){i=t.extend({},n);var r=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var a=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher){var o=e.getAppCore().getMeasurementDispatcher();o.send(a.HIDDEN,n,r)}else{var s=e.getSSECore().getExports().am,u=s.newApplicationMeasurement(e.getAppCore(),a.HIDDEN,n,r);e.getAppCore().getQueue().offer(u)}}}else r&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(r,n))}var r,i,a=this;t.extend(this,{newEvent:function(e){n(e.eventLabels),e.eventType!=u.HEARTBEAT&&a.incrementEventCounter()},getEventCounter:function(){return r},incrementEventCounter:function(){r++},setEventCounter:function(e){r=e},getMeasurementSnapshot:function(){return i}}),function(){r=1}()}}(),m=function(){return function(e){function n(){o++;var n={},r=t.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(r-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(r-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(r-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(r-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(r-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(r-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(r-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(r-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(r-e.getPlaylist().getClip().getElapsedTimestamp());var i=t.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),l=t.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());i=t.addNewPlaybackInterval(i,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),l=t.addNewPlaybackInterval(l,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var d,f,p=0;for(d=0;d<i.length;d++)p+=Math.abs(i[d].end-i[d].start);n.ns_st_upc=String(p),n.ns_st_dupc=String(p-e.getPlaylist().getClip().getUniquePlaybackInterval());var h=0;for(d=0;d<i.length;d++)(f=Math.abs(i[d].end-i[d].start))>h&&(h=f);n.ns_st_lpc=String(h),n.ns_st_dlpc=String(h-e.getPlaylist().getClip().getLongestPlaybackInterval());var m=0;for(d=0;d<l.length;d++)m+=Math.abs(l[d].end-l[d].start);n.ns_st_upa=String(m),n.ns_st_dupa=String(m-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var y=0;for(d=0;d<l.length;d++)(f=Math.abs(l[d].end-l[d].start))>y&&(y=f);n.ns_st_lpa=String(y),n.ns_st_dlpa=String(y-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount());var v=e.getSSECore().createLabels(u.HEARTBEAT,n,r);e.getEventManager().newEvent(v),a=0,s.resume()}function r(){null!=i&&(e.getSSECore().getPlatformAPI().clearTimeout(i),i=null)}var i,a,o,s=this,l=d.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return o},setIntervals:function(e){l=e},getInterval:function(e){var t=0;if(null!=l)for(var n=0;n<l.length;n++){var r=l[n],i=r.playingtime;if(!i||i>e){t=r.interval;break}}return t},resume:function(){r();var t=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(t>0){var o=a>0?a:t;i=e.getSSECore().getPlatformAPI().setTimeout(n,o)}a=0},pause:function(){r();var t=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));a=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t}}),function(){a=0,o=0}()}}(),y=function(){return function(e){function n(){var n={},r=t.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(r)),e.getPlaylist().addPlaybackTime(r),e.getPlaylist().setPlaybackTimestamp(r),e.getPlaylist().getClip().addPlaybackTime(r),e.getPlaylist().getClip().setPlaybackTimestamp(r),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(r),e.getPlaylist().setBufferingTimestamp(r),e.getPlaylist().getClip().addBufferingTime(r),e.getPlaylist().getClip().setBufferingTimestamp(r)),e.getPlaylist().getClip().addElapsedTime(r),e.getPlaylist().getClip().setElapsedTimestamp(r),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po));var i=e.getSSECore().createLabels(u.KEEPALIVE,n,r);e.getEventManager().newEvent(i),a.resume()}function r(){null!=i&&(e.getSSECore().getPlatformAPI().clearTimeout(i),i=null)}var i,a=this,o=d.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(a,{resume:function(){r(),i=e.getSSECore().getPlatformAPI().setTimeout(n,o)},pause:function(){r()},setInterval:function(e){o=e},getInterval:function(){return o}})}}(),v=function(){return function(e){var n,r,i,a=this;t.extend(a,{eventTypeToState:function(e){if(i==c.IDLE){if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(i==c.PLAYBACK_NOT_STARTED){if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK;if(e==u.END||e==u.AD_SKIP)return c.IDLE}else if(i==c.PLAYING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.BUFFER)return c.BUFFERING_DURING_PLAYBACK;if(e==u.PAUSE)return c.PAUSED;if(e==u.SEEK_START)return c.SEEKING_DURING_PLAYBACK}else if(i==c.PAUSED){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.BUFFER)return c.BUFFERING_DURING_PAUSE;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_DURING_PAUSE}else if(i==c.BUFFERING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK}else if(i==c.BUFFERING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY||e==u.BUFFER_STOP)return c.PLAYING;if(e==u.PAUSE_ON_BUFFERING)return c.PAUSED_DURING_BUFFERING;if(e==u.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return c.PAUSED}else if(i==c.BUFFERING_DURING_SEEKING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.BUFFER_STOP)return c.SEEKING_DURING_PLAYBACK;if(e==u.PAUSE)return c.PAUSED}else if(i==c.BUFFERING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_DURING_PAUSE;if(e==u.BUFFER_STOP||e==u.PAUSE)return c.PAUSED}else if(i==c.SEEKING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PAUSE)return c.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return c.PLAYING;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(i==c.SEEKING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE)return c.PAUSED;if(e==u.BUFFER)return c.BUFFERING_DURING_SEEKING}else if(i==c.SEEKING_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PAUSED}else if(i==c.SEEKING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PAUSED;if(e==u.BUFFER)return c.BUFFERING_DURING_PAUSE}else if(i==c.PAUSED_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return c.PAUSED;if(e==u.PLAY||e==u.BUFFER_STOP)return c.PLAYING}return null},getCurrentState:function(){return i},newEvent:function(e,t){var o=a.eventTypeToState(e);i!=o&&(r=i,i=o,n=t)},getPreviousState:function(){return r},getLastStateChangeTimestamp:function(){return n}}),function(){i=c.IDLE,r=null,n=NaN}()}}(),g=function(){return function(e){var n=this;t.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(t,n){e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),b=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),_=function(){return function(e){var n=this;t.extend(n,{onEndAndSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),w=function(){return function(e){var n=this;t.extend(n,{onPauseOnBuffering:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t),e.getPlaylist().getClip().setPlaybackTimeOffset(r)},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onEndOrAdSkip:function(n,r){var i=parseInt(r.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPlay:function(t,n){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)}})}}(),k=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),E=function(){return function(e){var n=this;t.extend(n,{onBuffer:function(t,n){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),S=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),P=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),C=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(t):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),O=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){var i=parseInt(r.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(t,n){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(t,n),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)}})}}(),T=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),x=function(){return function(e){var n=this;t.extend(n,{onPause:function(t,n){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),R=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){parseInt(r.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),j=function(){return function(){function e(e){var t=i.getStateMachine().getCurrentState();if(t==c.IDLE||t==c.PLAYBACK_NOT_STARTED||t==c.BUFFERING_BEFORE_PLAYBACK||t==c.SEEKING_BEFORE_PLAYBACK){if(e==u.PLAY)return!0}else if(t==c.PLAYING){if(e==u.END||e==u.AD_SKIP||e==u.SEEK_START||e==u.PAUSE)return!0}else if(t==c.PAUSED||t==c.BUFFERING_DURING_PAUSE||t==c.SEEKING_DURING_PLAYBACK||t==c.SEEKING_DURING_BUFFERING||t==c.SEEKING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP||e==u.PLAY)return!0}else if(t==c.BUFFERING_DURING_PLAYBACK){if(e==u.PAUSE_ON_BUFFERING||e==u.END||e==u.AD_SKIP||e==u.SEEK_START||e==u.PAUSE||e==u.PLAY)return!0}else if(t==c.BUFFERING_DURING_SEEKING){if(e==u.END||e==u.AD_SKIP||e==u.PAUSE||e==u.PLAY)return!0}else if(t==c.PAUSED_DURING_BUFFERING&&(e==u.END||e==u.AD_SKIP||e==u.BUFFER_STOP||e==u.PLAY))return!0;return!1}function n(t,n,r){var o=i.getStateMachine().getCurrentState();t==u.AD_SKIP&&!r.hasOwnProperty("ns_st_ui")&&e(t)?r.ns_st_ui="skip":t==u.SEEK_START&&!r.hasOwnProperty("ns_st_ui")&&e(t)&&(r.ns_st_ui="seek"),o==c.IDLE?t==u.BUFFER?a.onBuffer(n,r):t==u.SEEK_START?a.onSeekStart(n,r):t==u.PLAY&&a.onPlay(n,r):o==c.PLAYBACK_NOT_STARTED?t==u.END||t==u.AD_SKIP?j.onEndOrAdSkip(n,r):t==u.SEEK_START?j.onSeekStart(n,r):t==u.PLAY?j.onPlay(n,r):t==u.BUFFER&&V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==c.PLAYING?t==u.END||t==u.AD_SKIP?I.onEndOrAdSkip(n,r):t==u.BUFFER?I.onBuffer(n,r):t==u.SEEK_START?I.onSeekStart(n,r):t==u.PAUSE&&I.onPause(n,r):o==c.PAUSED?t==u.END||t==u.AD_SKIP?f.onEndOrAdSkip(n,r):t==u.PLAY?f.onPlay(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.SEEK_START&&V.onSeekStartWhenPausedOrBufferingDuringPause(n,r):o==c.BUFFERING_BEFORE_PLAYBACK?t==u.END||t==u.AD_SKIP?L.onEndOrAdSkip(n,r):t==u.BUFFER_STOP?L.onBufferStop(n,r):t==u.SEEK_START?L.onSeekStart(n,r):t==u.PAUSE?L.onPause(n,r):t==u.PLAY&&L.onPlay(n,r):o==c.BUFFERING_DURING_PLAYBACK?t==u.PAUSE_ON_BUFFERING?N.onPauseOnBuffering(n,r):t==u.BUFFER_STOP?N.onBufferStop(n,r):t==u.END||t==u.AD_SKIP?N.onEndOrAdSkip(n,r):t==u.SEEK_START?N.onSeekStart(n,r):t==u.PAUSE?N.onPause(n,r):t==u.PLAY&&N.onPlay(n,r):o==c.BUFFERING_DURING_SEEKING?t==u.END||t==u.AD_SKIP?M.onEndOrAdSkip(n,r):t==u.PAUSE?M.onPause(n,r):t==u.PLAY?M.onPlay(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==c.BUFFERING_DURING_PAUSE?t==u.END||t==u.AD_SKIP?D.onEndAndSkip(n,r):t==u.PAUSE?D.onPause(n,r):t==u.PLAY?D.onPlay(n,r):t==u.SEEK_START?V.onSeekStartWhenPausedOrBufferingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==c.SEEKING_BEFORE_PLAYBACK?t==u.END||t==u.AD_SKIP?U.onEndOrAdSkip(n,r):t==u.PAUSE?U.onPause(n,r):t==u.PLAY?U.onPlay(n,r):t==u.BUFFER&&V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==c.SEEKING_DURING_PLAYBACK?t==u.END||t==u.AD_SKIP?F.onEndOrAdSkip(n,r):t==u.PLAY?F.onPlay(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PAUSE&&V.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):o==c.SEEKING_DURING_BUFFERING?t==u.PAUSE?B.onPause(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PLAY?V.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.END||t==u.AD_SKIP?V.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):o==c.PAUSED_DURING_BUFFERING?t==u.END||t==u.AD_SKIP?q.onEndOrAdSkip(n,r):t==u.BUFFER_STOP?q.onBufferStop(n,r):t==u.SEEK_START?q.onSeekStart(n,r):t==u.PAUSE?q.onPause(n,r):t==u.PLAY&&q.onPlay(n,r):o==c.SEEKING_DURING_PAUSE&&(t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PLAY?V.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.PAUSE?V.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):t==u.END||t==u.AD_SKIP?V.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r)),e(t)&&i.getPlaylist().setFirstEventSent(!0)}function r(e,n){for(var r,i=re.encodeURIComponent||escape,a=[],o=d.LABELS_ORDER,s=e.split("?"),u=s[0],c=s[1],l=c.split("&"),f=0,p=l.length;p>f;f++){var h=l[f].split("="),m=unescape(h[0]),y=unescape(h[1]);m&&(n[m]=y)}for(var v={},g=0,b=o.length;b>g;g++){var _=o[g];if(n.hasOwnProperty(_)){var w=n[_];void 0!==w&&null!=w&&(v[_]=!0,a.push(i(_)+"="+i(n[_])))}}for(var k in n)if(n.hasOwnProperty(k)){if(v[k])continue;var E=n[k];void 0!==E&&null!=E&&a.push(i(k)+"="+i(n[k]))}r=u+"?"+a.join("&"),r=r+(r.indexOf("&c8=")<0?"&c8="+i(ie.title):"")+(r.indexOf("&c7=")<0?"&c7="+i(ie.URL):"")+(r.indexOf("&c9=")<0?"&c9="+i(ie.referrer):"");var S=t.browserAcceptsLargeURLs()?d.URL_LENGTH_LIMIT:d.RESTRICTED_URL_LENGTH_LIMIT;if(r.length>S&&r.indexOf("&")>0){var P=r.substr(0,S-8).lastIndexOf("&");r=(r.substring(0,P)+"&ns_cut="+i(r.substring(P+1))).substr(0,S)}return r}var i,a,f,j,I,L,N,M,D,q,U,B,F,V,H,z,W,K,G,Q,Y,$,J,X,Z=this,ee={},te=d.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,ne=d.THROTTLING_DELAY;t.extend(Z,{createLabels:function(e,n,r){var a={};if("undefined"!=typeof document){var o=document;a.c7=o.URL,a.c8=o.title,a.c9=o.referrer}return null!=n&&t.extend(a,n),a.ns_ts=null!=a.ns_ts?a.ns_ts:String(+new Date),a.ns_st_ev=null!=a.ns_st_ev?a.ns_st_ev:u.toString(e),a.ns_st_mp=null!=a.ns_st_mp?a.ns_st_mp:d.DEFAULT_PLAYERNAME,a.ns_st_mv=null!=a.ns_st_mv?a.ns_st_mv:d.STREAMSENSE_VERSION,a.ns_st_ub=null!=a.ns_st_ub?a.ns_st_ub:"0",a.ns_st_br=null!=a.ns_st_br?a.ns_st_br:"0",a.ns_st_pn=null!=a.ns_st_pn?a.ns_st_pn:"1",a.ns_st_tp=null!=a.ns_st_tp?a.ns_st_tp:"1",a.ns_st_it=null!=a.ns_st_it?a.ns_st_it:l.toString(l.SINGLE_CLIP),a.ns_st_sv=null!=a.ns_st_sv?a.ns_st_sv:d.STREAMSENSE_VERSION,a.ns_st_smv=null!=a.ns_st_smv?a.ns_st_smv:d.MODEL_VERSION,a.ns_type=null!=a.ns_type?a.ns_type:"hidden",a.ns_st_ec=null!=a.ns_st_ec?a.ns_st_ec:String(i.getEventManager().getEventCounter()),a.ns_st_po=null!=a.ns_st_po?a.ns_st_po:String(i.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(r)),a.ns_st_ki=null!=a.ns_st_ki?a.ns_st_ki:String(i.getKeepAlive().getInterval()),i.getPlaylist().createLabels(a),i.getPlaylist().getClip().createLabels(a),t.extend(a,Z.getLabels()),t.extend(a,n),{eventType:e,eventLabels:a}},newEvent:function(e,t,r,a){Z.stopDelayedTransitionTimer();var o=i.getStateMachine().getCurrentState(),s=i.getStateMachine().eventTypeToState(e);if(null!=s&&s!=o)if(!Z.isThrottlingEnabled()||o!=c.PLAYING&&o!=c.PAUSED||s!=c.PLAYING&&s!=c.PAUSED||a){r.ns_st_po||(i.getStateMachine().getCurrentState()==c.PLAYING&&e==u.BUFFER||i.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&e==u.BUFFER_STOP?r.ns_st_po=String(i.getPlaylist().getClip().getPlaybackTimeOffset()+(t-i.getPlaylist().getClip().getPlaybackTimestamp())):r.ns_st_po=String(i.getPlaylist().getClip().getExpectedPlaybackPosition(t))),n(e,t,r);var l=0;isNaN(i.getStateMachine().getLastStateChangeTimestamp())||(l=t-i.getStateMachine().getLastStateChangeTimestamp()),i.getStateMachine().newEvent(e,t);for(var d=0,f=$.length;f>d;d++)$[d](o,s,r,l)}else Y=i.getPlatformAPI().setTimeout(function(e,n,r){return function(){Z.newEvent(e,t,r,!0)}}(e,0,r),ne)},newPseudoEvent:function(e,t,n){if(e!=u.LOAD&&e!=u.START||i.getStateMachine().getCurrentState()==c.IDLE){e!=u.ERROR||n.ns_st_er||(n.ns_st_er=s.UNKNOWN_VALUE),i.getStateMachine().getCurrentState()!=c.IDLE&&i.getStateMachine().getCurrentState()!=c.PLAYBACK_NOT_STARTED&&i.getStateMachine().getCurrentState()!=c.SEEKING_BEFORE_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&(i.getPlaylist().getClip().addElapsedTime(t),i.getPlaylist().getClip().setElapsedTimestamp(t));var r,a,o,l=!0,d=!1;switch(e){case u.BIT_RATE:r="ns_st_br",a="ns_st_pbr",d=!0;break;case u.PLAYBACK_RATE:r="ns_st_rt",a="ns_st_prt",d=!0;break;case u.VOLUME:r="ns_st_vo",a="ns_st_pvo",d=!0;break;case u.WINDOW_STATE:r="ns_st_ws",a="ns_st_pws",d=!0;break;case u.AUDIO:r="ns_st_at",a="ns_st_pat",d=!1;break;case u.VIDEO:r="ns_st_vt",a="ns_st_pvt",d=!1;break;case u.SUBS:r="ns_st_tt",a="ns_st_ptt",d=!1;break;case u.CDN:r="ns_st_cdn",a="ns_st_pcdn",d=!1;break;default:l=!1}if(l&&n.hasOwnProperty(r)&&(d?(Z.getLabels().hasOwnProperty(r)&&(o=Z.getLabels()[r],n[a]=o),Z.setLabel(r,n[r])):(i.getPlaylist().getClip().getLabels().hasOwnProperty(r)&&(o=i.getPlaylist().getClip().getLabels()[r],n[a]=o),i.getPlaylist().getClip().setLabel(r,n[r]))),!l||i.getStateMachine().getCurrentState()==c.PLAYING||i.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK){n.ns_st_po||(n.ns_st_po=String(i.getPlaylist().getClip().getExpectedPlaybackPosition(t))),i.getStateMachine().getCurrentState()!=c.PLAYING&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK||(i.getPlaylist().addPlaybackTime(t),i.getPlaylist().setPlaybackTimestamp(t),i.getPlaylist().getClip().addPlaybackTime(t),i.getPlaylist().getClip().setPlaybackTimestamp(t),i.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),i.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po))),i.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PAUSE&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_SEEKING||(i.getPlaylist().addBufferingTime(t),i.getPlaylist().setBufferingTimestamp(t),i.getPlaylist().getClip().addBufferingTime(t),i.getPlaylist().getClip().setBufferingTimestamp(t));var f=Z.createLabels(e,n,t);i.getEventManager().newEvent(f)}}},getState:function(){return i.getStateMachine().getCurrentState()},addListener:function(e){$.push(e)},removeListener:function(e){$.splice(t.indexOf(e,$),1)},getLabel:function(e){return J[e]},getLabels:function(){return J},setLabel:function(e,t){null==t?delete J[e]:J[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&Z.setLabel(t,e[t])},getPlatformAPI:function(){return i.getAppCore()?i.getAppCore().getPlatformAPI():o},getExports:function(){return ee},isProperlyInitialized:function(){var e=i.getAppCore().getAppContext(),t=i.getAppCore().getSalt(),n=i.getAppCore().getPixelURL();return e&&n&&t},setImplementationType:function(e){i.getStateMachine().getCurrentState()!=c.IDLE||e!=l.SINGLE_CLIP&&e!=l.SEGMENTED&&e!=l.REDUCED||i.getPlaylist().setLabel("ns_st_it",l.toString(e))},setThrottlingDelay:function(e){ne=e},getThrottlingDelay:function(){return ne},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(e){Q=e},isLoadingTimeSent:function(){return H},setLoadingTimeSent:function(e){H=e},getLoadTimeOffset:function(){return z},setLoadTimeOffset:function(e){z=e},getInitTimestamp:function(){return W},setPauseOnBufferingInterval:function(e){te=e},getPauseOnBufferingInterval:function(){return te},isPauseOnBufferingEnabled:function(){return K},setPauseOnBufferingEnabled:function(e){K=e},startPausedOnBufferingTimer:function(e,n){Z.stopPausedOnBufferingTimer(),G=Z.getPlatformAPI().setTimeout(function(){var r={},i=t.fixEventTime(r),a=parseInt(n.ns_st_po);r.ns_st_po=String(a+i-e),Z.newEvent(u.PAUSE_ON_BUFFERING,i,r)},te)},stopPausedOnBufferingTimer:function(){null!=G&&(Z.getPlatformAPI().clearTimeout(G),G=null)},stopDelayedTransitionTimer:function(){Y&&(Z.getPlatformAPI().clearTimeout(Y),Y=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var r=e.substring(n+1).split("&"),i=0,a=r.length;a>i;i++){var o=r[i],s=o.split("=");2==s.length?Z.setLabel(s[0],t(s[1])):1==s.length&&Z.setLabel(d.PAGE_NAME_LABEL,t(s[0]))}e=e.substring(0,n+1)}}else e+="?";return X=e},getPixelURL:function(){return X||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?X=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?X=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return i},resetPlaylist:function(e){var t=i.getPlaylist();i.setPlaylist(new p),p.resetPlaylist(t,i.getPlaylist(),e)},resetHeartbeat:function(){i.getHeartbeat().pause(),i.setHeartbeat(new m(i))},resetKeepAlive:function(){i.getKeepAlive().pause(),i.setKeepAlive(new y(i))}});var re,ie;t.isBrowser()?(re=window,ie=document):(re={},ie={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(this,{prepareUrl:r}),function(){i=new A(Z),t.getNamespace().comScore?(ee=t.getNamespace().comScore.exports,i.setAppCore(ee.c())):i.setAppCore(null),i.setKeepAlive(new y(i)),i.setHeartbeat(new m(i)),i.setEventManager(new h(i)),i.setStateMachine(new v),i.setPlaylist(new p),J={},a=new E(i),f=new S(i),j=new C(i),I=new O(i),L=new b(i),N=new w(i),M=new k(i),D=new _(i),q=new P(i),U=new T(i),B=new x(i),F=new R(i),V=new g(i),H=!1,z=0,W=+new Date,K=!0,Q=!1,$=[]}()}}(),A=function(){return function(e){var n,r,i,a,o,s,u=this;t.extend(u,{getAppCore:function(){return n},getSSECore:function(){return e},getEventManager:function(){return r},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return o},getPlaylist:function(){return s},setAppCore:function(e){n=e},setKeepAlive:function(e){o=e},setHeartbeat:function(e){a=e},setEventManager:function(e){r=e},setStateMachine:function(e){i=e},setPlaylist:function(e){s=e}})}}(),I=function(){return function(e,n){function r(e,t){s.notify(u.CUSTOM,e,t)}function i(){a&&o.getSseSM().getStateMachine().getCurrentState()!=c.IDLE&&s.end()}var a,o,s=this,l=d.STANDARD_METADATA_LABELS;t.extend(this,{isProperlyInitialized:function(){return o.isProperlyInitialized()},reset:function(e){var t=o;t.getSseSM().getKeepAlive().pause(),t.getSseSM().getHeartbeat().pause(),o=new j,p.resetPlaylist(t.getSseSM().getPlaylist(),o.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){o.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return o.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){o.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return o.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){o.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,t){s.notify(u.PLAY,e,t)},pause:function(e,t){s.notify(u.PAUSE,e,t)},end:function(e,t){s.notify(u.END,e,t)},bufferStart:function(e,t){s.notify(u.BUFFER,e,t)},bufferStop:function(e,t){s.notify(u.BUFFER_STOP,e,t)},load:function(e,t){s.notify(u.LOAD,e,t)},start:function(e,t){s.notify(u.START,e,t)},seekStart:function(e,t){s.notify(u.SEEK_START,e,t)},skipAd:function(e,t){s.notify(u.AD_SKIP,e,t)},callToAction:function(e,t){s.notify(u.CTA,e,t)},error:function(e,t){s.notify(u.ERROR,e,t)},transferPlayback:function(e,t){s.notify(u.TRANSFER,e,t)},drmFail:function(e,t){s.notify(u.DRM_FAILED,e,t)},drmApprove:function(e,t){s.notify(u.DRM_APPROVED,e,t)},drmDeny:function(e,t){s.notify(u.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_br=String(e),s.notify(u.BIT_RATE,r,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_rt=String(e),s.notify(u.PLAYBACK_RATE,r,t)}},changeVolume:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vo=String(e),s.notify(u.VOLUME,r,t)}},changeWindowState:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_ws=String(e),s.notify(u.WINDOW_STATE,r,t)}},changeAudio:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_at=String(e),s.notify(u.AUDIO,r,t)}},changeVideo:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vt=String(e),s.notify(u.VIDEO,r,t)}},changeSubtitle:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_tt=String(e),s.notify(u.SUBS,r,t)}},changeCDN:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_cdn=String(e),s.notify(u.CDN,r,t)}},notify:function(e){var n,r;if(n="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},r="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,u.toString(e)){n=t.jsonObjectToStringDictionary(n);var i=t.fixEventTime(n);n.ns_st_po||isNaN(r)||(n.ns_st_po=t.getInteger(r,0).toString()),n.ns_st_po&&o.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(n.ns_st_po)),e==u.PLAY||e==u.PAUSE||e==u.BUFFER||e==u.END||e==u.SEEK_START||e==u.AD_SKIP||e==u.BUFFER_STOP?o.newEvent(e,i,n):o.newPseudoEvent(e,i,n)}},getLabels:function(){return o.getLabels()},getState:function(){return o.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){o.setLabels(e)},getLabel:function(e){return o.getLabel(e)},setLabel:function(e,t){o.setLabel(e,t)},getLoadTimeOffset:function(){return o.getLoadTimeOffset()},setLoadTimeOffset:function(e){o.setLoadTimeOffset(e)},setPixelURL:function(e){return o.setPixelURL(e)},getPixelURL:function(){return o.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){o.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return o.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){o.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return o.isThrottlingEnabled()},setThrottlingEnabled:function(e){o.setThrottlingEnabled(e)},setThrottlingDelay:function(e){o.setThrottlingDelay(e)},getThrottlingDelay:function(){return o.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){o.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return o.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,r){if(void 0===r&&(r=!0),e=t.jsonObjectToStringDictionary(e),r&&o.getSseSM().getStateMachine().getCurrentState()!==c.IDLE&&s.end(),o.getSseSM().getStateMachine().getCurrentState()==c.IDLE){var i="",a=0;if(null!=e.ns_st_cn)i=String(e.ns_st_cn);else for(var u=0;u<l.length;u++)e[l[u]]&&(i+=l[u]+":"+e[l[u]]+";");var d=o.getSseSM().getPlaylist(),f=d.getClip();f.isClipStarted()?(d.hashExists(f.getHash())||(d.storeHash(f.getHash()),d.storeClipNumber(f.getHash(),f.getClipNumber())),d.storeClipPlaybackCounters(),a=d.hashExists(i)?d.getClipNumber(i):t.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):d.getMaxClipNumber()+1):a=d.hashExists(i)?d.getClipNumber(i):f.getClipNumber(),d.resetClip(),f=d.getClip(),f.setHash(i),f.setClipNumber(a),f.setLabels(e);var p=d.getStoredClipRegisters(i);return p&&(f.setClipStarted(!0),f.setSegmentPlaybackCounter(p.segmentPlaybackCounter),f.setClipLoadCounter(p.clipLoadCounter),f.setAssetPlaybackCounter(p.assetPlaybackCounter),f.setLowestPartNumberPlayed(p.lowestPartNumberPlayed),f.setSeeking(p.seeking),f.setSeekingTimeBeforeEnd(p.seekingTimeBeforeEnd),f.setSeekStartPosition(p.seekingStartPosition),f.setClipPlaybackIntervals(p.clipPlaybackIntervals),f.setUniquePlaybackInterval(p.uniquePlaybackInterval),f.setLongestPlaybackInterval(p.longestPlaybackInterval),f.setVideoTrack(p.videoTrack),f.setAudioTrack(p.audioTrack),f.setSubtitleTrack(p.subtitleTrack),f.setCDN(p.cdn),f.setPreviousUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousEventIndependentUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousLongestPlaybackInterval(p.longestPlaybackInterval)),f.incrementClipLoadCounter(),f.isClipStarted()&&n&&(d.incrementPlayCounter(),d.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,n){return void 0===n&&(n=!0),e=t.jsonObjectToStringDictionary(e),n&&o.getSseSM().getStateMachine().getCurrentState()!==c.IDLE&&s.end(),o.getSseSM().getStateMachine().getCurrentState()==c.IDLE&&(o.getSseSM().getPlaylist().isPlaylistStarted()&&o.resetPlaylist(),o.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return d.STREAMSENSE_VERSION},addListener:function(e){o.addListener(e)},removeListener:function(e){o.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),o.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return o.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(o.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(o.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){a=e},isExitEndEventEnabled:function(){return a},getPlatformAPI:function(){return o.getPlatformAPI()}}),t.extend(this,{customNotify:r,viewNotify:function(e,t){(e=e||s.getPixelURL())&&viewNotify(e,t)}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",i),window.addEventListener("unload",i)):window.attachEvent&&(window.attachEvent("onbeforeunload",i),window.attachEvent("onunload",i))),function(){o=new j,a=!0,e&&s.setLabels(e),n&&s.setPixelURL(n)}()}}();return function(n){function r(e,t){return E[P]||a(e,t)}function i(){P=-1;for(var t=0;S>=t;t++)if(E.hasOwnProperty(String(t))){P=t;break}return e.StreamSense.activeIndex=P,P}function a(t,n){return t=t||null,n=n||null,t&&"object"==typeof t&&(n=t,t=null),E[++S]=new e.StreamSense(n,t),i(),E[S]}function o(){var t=!1,n=P;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var r in E)if(E.hasOwnProperty(r)&&E[r]===arguments[0]){n=r;break}return E.hasOwnProperty(String(n))&&(t=E[n],delete E[n],t.reset(),i()),t}function s(e){return e=e||{},r().setPlaylist(e),r().getPlaylist()}function u(e,t,n){return e=e||{},"number"==typeof t&&(e.ns_st_cn=String(t)),r().setClip(e,n),r().getClip()}function c(e,t,n){return void 0!==e&&(n=n||null,t=t||{},r().notify(e,t,n))}function l(e){void 0!==e&&r().setLabels(e)}function d(){return r().getLabels()}function f(e){void 0!==e&&r().getPlaylist().setLabels(e)}function p(){return r().getPlaylist().getLabels()}function h(e){void 0!==e&&r().getClip().setLabels(e)}function m(){return r().getClip().getLabels()}function y(e){return r().reset(e||{})}function v(e){return r().getPlaylist().reset(e||{})}function g(e){return r().getClip().reset(e||{})}function b(e){return e=e||{},r().viewNotify(null,e)}function _(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=String(t)),r().customNotify(e,t)}function w(){return r().exportState()}function k(e){r().importState(e)}var E={},S=-1,P=-1;t.extend(n,{activeIndex:P,newInstance:a,new:a,destroyInstance:o,destroy:o,newPlaylist:s,newClip:u,notify:c,setLabels:l,getLabels:d,setPlaylistLabels:f,getPlaylistLabels:p,setClipLabels:h,getClipLabels:m,resetInstance:y,resetPlaylist:v,resetClip:g,viewEvent:b,customEvent:_,exportState:w,importState:k})}(I),I.PlayerEvents=u,I.InternalStates=c,I.ImplementationType=l,I}(),e.StreamingTag=e.StreamingTag||function(){var n=e.StreamSense,r=(e.StreamSense.PlayerEvents,e.StreamSense.InternalStates||null),i=e.StreamSense.ImplementationType||null,a=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType;return function(){var e={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},o={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function o(e){t.exists(e)||(e={});for(var n in g)g.hasOwnProperty(n)&&!t.exists(e[g[n]])&&("ns_st_ci"==g[n]?e.ns_st_ci="0":e[g[n]]="*null");return e}function s(e){for(var t in g)if(g.hasOwnProperty(t)&&!u(g[t],p,e))return!1;return!0}function u(e,n,r){if(t.exists(e)&&t.exists(n)&&t.exists(r)){var i=n[e],a=r[e];return t.exists(i)&&t.exists(a)&&i===a}return!1}function c(e){f++;var n={ns_st_cn:String(f),ns_st_pn:"1",ns_st_tp:"0"};t.extend(n,e),m.setClip(n),p=e,m.play()}function l(e){f++,e=o(e);var n={ns_st_cn:String(f),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};t.extend(n,e),m.setClip(n),m.play(),h=!1}function d(e,t){e=o(e),b==v.None&&(b=t),h&&b==t&&s(e)?(m.getClip().setLabels(e),m.getState()!=r.PLAYING&&m.play()):c(e),h=!0,b=t}var f=0,p=null,h=!1,m=null,y=!1,v={None:0,AudioContent:1,VideoContent:2},g=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],b=v.None;t.extend(this,{playAdvertisement:function(){if(m){y&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");l({ns_st_ct:"va"})}},playVideoAdvertisement:function(e,n){if(m){var r={ns_st_ct:"va"};n?r.ns_st_ct="va"+n:y&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(r,e),l(r)}},playAudioAdvertisement:function(e,n){if(m){var r={ns_st_ct:"aa"};n?r.ns_st_ct="aa"+n:y&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(r,e),l(r)}},playContentPart:function(e){if(m){y&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&t.extend(n,e),d(n,v.VideoContent)}},playVideoContentPart:function(e,n){if(m){var r={ns_st_ct:"vc"};n?r.ns_st_ct="vc"+n:y&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&t.extend(r,e),d(r,v.VideoContent)}},playAudioContentPart:function(e,n){if(m){var r={ns_st_ct:"ac"};n?r.ns_st_ct="ac"+n:y&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&t.extend(r,e),d(r,v.AudioContent)}},stop:function(){m&&m.pause()}}),function(){if(a)if(t.getNamespace().comScore)m=new n,m.setImplementationType(i.REDUCED);else if(t.exists(e))if(y=t.isTrue(e.debug),t.exists(e.customerC2)&&e.customerC2.length>0){var r=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");m=new n,m.setPixelURL(r+".scorecardresearch.com/p?c1=2"),m.setLabel("c2",e.customerC2),m.setImplementationType(i.REDUCED)}else y&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}()};return s.ContentType=e,s.AdType=o,s}()}(),e})},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=Array.isArray(t)&&t.length>0;if(!a()(e)||!n)return e;var r=e.indexOf("?"),i=e.slice(0,r),u=r<0?"":e.slice(r+1);if(u.length>0){var c=Object(o.b)(u);return t.forEach(function(e){return delete c[e]}),i+"?"+Object(o.c)(c)}return e}t.a=r;var i=n(111),a=n.n(i),o=n(81),s=Object.freeze(["oauth_token"])},function(e,t,n){function r(e){var t=i(e);if(null!==t)throw t;this._config=a(e),this._Promise=e.Promise,this._deviceID=e.deviceID,this._platform=e.platform,this._username=e.login||null,this._defaults=o(e.Promise,e.defaults,e.overrides||{}),this._assignments=s(e.Promise,this._config,this._defaults,e.overrides||{},this._deviceID),this._spade_url=u(this._config,d.SPADE_URL_PROJECT_UUID)}function i(e){return e.defaults&&Object.getPrototypeOf(e.defaults)===Object.prototype?"string"!=typeof e.deviceID||0===e.deviceID.length?new Error("Invalid device ID; expected non-empty string, got `"+e.deviceID+"`"):"string"!=typeof e.platform||0===e.platform.length?new Error("Invalid platform; expected non-empty string, got `"+e.platform+"`"):"object"!=typeof e.provider||"function"!=typeof e.provider.getExperimentConfiguration?new Error("Invalid provider"):"function"!=typeof e.Promise?new Error("Invalid Promise implementation"):null:new Error("Invalid defaults; expected object, got "+JSON.stringify(e.defaults))}function a(e){return new e.Promise(function(t,n){e.provider.getExperimentConfiguration(t,n)}).then(function(e){var t=l.validate(e);if(t)throw t;return e})}function o(e,t,n){var r={};for(var i in t)r[i]=function(r){return e.resolve(n[i]).then(function(e){return"string"==typeof e?e:t[r]},function(){return t[r]})}(i);return r}function s(e,t,n,r,i){var a={};for(var o in n)n.hasOwnProperty(o)&&(a[o]=function(a){return t.then(function(e){if(!e.hasOwnProperty(a))throw new Error("Experiment `"+a+"` is deprecated");return l.selectTreatment(a,e[a],i)},function(e){return n[a]}).then(function(t){return e.resolve(r[a]).then(function(e){return"string"==typeof e?e:t},function(){return t})})}(o));return a}function u(e,t){return e.then(function(e){return e[t]&&e[t].groups&&e[t].groups[0]?e[t].groups[0].value:""},function(e){return""})}function c(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(r[n]=t[n]);return r}var l=n(437),d=n(439);e.exports=r,r.prototype.get=function(e,t){var n=c(t||{},{mustTrack:!1}),r=this._assignments[e]||this._Promise.reject(new Error("No experiment with ID `"+e+"`")),i=this._Promise.all([this._config,r,this._spade_url]).then(function(t){var n=t[0],r=t[1],i=t[2],a={client_time:(new Date).getTime()/1e3,device_id:this._deviceID,experiment_id:e,experiment_name:n[e].name,experiment_group:r,platform:this._platform};return null!==this._username&&(a.login=this._username),new this._Promise(function(e,t){d.sendEvent(i,"experiment_branch",a,e)}).then(null,function(){return null})}.bind(this));return this._Promise.all([r,n.mustTrack?i:null]).then(function(e){return e[0]},function(t){return console.warn(t),this._defaults[e]||null}.bind(this))}},function(e,t){function n(e,t){var n=document.head||document.getElementsByTagName("head")[0];n||t(new Error("No head element to append script"));var r=document.createElement("script");r.onload=function(){t(null),setTimeout(function(){n.removeChild(r)},0)},r.onerror=function(){t(new Error("Unable to load script"))},n.appendChild(r),r.src=e}function r(e,t,n){var r=new XMLHttpRequest;r.open(t.method||"GET",e,!0),t.headers&&Object.keys(t.headers).forEach(function(e){r.setRequestHeader(e,t.headers[e])}),r.onreadystatechange=function(){switch(r.readyState){case i:return void(200<=r.status&&r.status<300?n(null,r.responseText):n(new Error("XHR error: "+r.status+" "+e),null))}},r.send(t.body)}var i=4;t.fetch=function(e,t,i){t.injectScript?n(e,i||function(){}):r(e,t,i||function(){})}},function(e,t,n){function r(e){this._url=e}var i=n(249);e.exports=r,r.SERVICE_URL="//www.twitch.tv/experiments.json",r.prototype.getExperimentConfiguration=function(e,t){i.fetch(this._url,{},function(n,r){if(null!==n)return void t(n);try{e(JSON.parse(r))}catch(e){t(new Error("Invalid JSON response from server: "+r))}})}},function(e,t,n){"use strict";function r(e){var t=e.handleMatureAccepted,n=e.t;return u.a.createElement("div",{className:b},u.a.createElement("div",{className:_},u.a.createElement("div",{className:w},u.a.createElement("p",{className:k},n(y)),u.a.createElement("p",null,u.a.createElement(h.a,{className:E,id:g,onClick:t},n(v))))))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=n(3),f=n(2),p=n.n(f),h=n(9),m=n(4),y="The broadcaster indicated that the channel is intended for mature audiences.",v="Start Watching",g="mature-link",b=p()("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay"),_=p()("player-center-content"),w=p()("pl-mature-overlay"),k=p()("js-mature-waring-label"),E=p()("player-content-button","js-player-mature-accept","js-mature-accept-label"),S={handleMatureAccepted:l.a.func,t:l.a.func.isRequired};r.propTypes=S;var P=Object(m.c)()(r),C=n(25),O=n(7),T=n.n(O),x=n(14),R=n(18),j=n(15),A=n(6),I=n(47),L=n(257);n.d(t,"a",function(){return M}),n.d(t,"b",function(){return F});var N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M="mature",D={contentIsShowing:l.a.func,showMatureOption:l.a.bool,mutePlayer:l.a.func,play:l.a.func,playback:l.a.object,playerType:l.a.string,pause:l.a.func,requestAds:l.a.func,streamMetadata:l.a.object},q=function(e){var t=e.env,n=e.playback,r=e.playerOptions,i=e.streamMetadata;return{playback:n,playerType:t.playerType,showMatureOption:r.showMature,streamMetadata:i}},U=function(e){return{mutePlayer:function(t,n){e(Object(x.o)(t,n))},contentIsShowing:function(){e(Object(R.v)())},play:function(){e(Object(x.q)())},pause:function(){e(Object(x.p)())},requestAds:function(t,n){e(Object(j.n)(t,n))}}},B=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showMatureOverlay:!1},e.handleMatureAccepted=e.handleMatureAccepted.bind(e),e}return o(t,e),N(t,[{key:"componentWillReceiveProps",value:function(e){var t=this._shouldShowOverlay(e),n=this.state.showMatureOverlay;t&&!n?(this.setState({showMatureOverlay:!0}),this.props.mutePlayer(!0,!0),this.props.pause(),this.props.contentIsShowing()):!t&&n&&this.setState({showMatureOverlay:!1})}},{key:"_shouldShowOverlay",value:function(e){var t=e.showMatureOption,n=e.streamMetadata,r=n.channel.mature,i=this.props.showMatureOption;return void 0!==t&&(i=t),r&&!C.a.get(M)&&i&&this.props.playerType!==A.e&&!T()(Object.keys(L.a),n.channel.name)}},{key:"render",value:function(){return this.state.showMatureOverlay?u.a.createElement(P,{handleMatureAccepted:this.handleMatureAccepted}):null}},{key:"handleMatureAccepted",value:function(){var e=this.props.playback;C.a.set(M,!0),this.setState({showMatureOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0),e.autoplay&&this.props.requestAds(I.c,j.h)}}]),t}(u.a.Component);B.propTypes=D;var F=Object(d.b)(q,U)(B)},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function i(){v===y&&(v=y.slice())}function a(){return m}function o(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),v.push(e),function(){if(t){t=!1,i();var n=v.indexOf(e);v.splice(n,1)}}}function s(e){if(!Object(d.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,m=h(m,e)}finally{g=!1}for(var t=y=v,n=0;n<t.length;n++){(0,t[n])()}return e}function u(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,s({type:p.INIT})}function c(){var e,t=o;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[f.a]=function(){return this},e}var l;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,y=[],v=y,g=!1;return s({type:p.INIT}),l={dispatch:s,subscribe:o,getState:a,replaceReducer:u},l[f.a]=c,l}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:p.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+p.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var s=Object.keys(n),u=void 0;try{a(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,a={},o=0;o<s.length;o++){var c=s[o],l=n[c],d=e[c],f=l(d,t);if(void 0===f){var p=i(c,t);throw new Error(p)}a[c]=f,r=r||f!==d}return r?a:e}}function s(e,t){return function(){return t(e.apply(void 0,arguments))}}function u(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var a=n[i],o=e[a];"function"==typeof o&&(r[a]=s(o,t))}return r}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),o=a.dispatch,s=[],u={getState:a.getState,dispatch:function(e){return o(e)}};return s=t.map(function(e){return e(u)}),o=c.apply(void 0,s)(a.dispatch),h({},a,{dispatch:o})}}}var d=n(178),f=n(448),p={INIT:"@@redux/INIT"},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return c})},function(e,t,n){"use strict";function r(e){var t=Math.floor(e/1e3),n=Math.floor(t/60);return{hours:Math.floor(n/60),minutes:n%60,seconds:t%60}}n.d(t,"a",function(){return i}),t.b=r;var i=36e5},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var o=n(97),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="video-source",c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._url=e,n}return a(t,e),s(t,[{key:"contentType",get:function(){return u}},{key:"streamUrl",get:function(){return Promise.resolve(this._url)}},{key:"castStreamUrl",get:function(){return Promise.resolve(this._url)}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}(o.a)},function(e,t,n){"use strict";function r(e){return"https://clips.twitch.tv/api/v2/"+e}function i(e){fetch(r("clips/"+e+"/view"))}function a(e,t){return fetch(r("clips/"+e+"/related-clips-sets?sets="+t.join(",")),{method:"GET"}).then(function(e){return e.json()}).then(function(e){return"error"===e.status?Promise.reject({apiError:!0,status:e.status,message:e.message}):{apiError:!1,clipSets:o(e)}}).catch(function(e){if(!e.response)return{apiError:!0,message:e.message};var t=parseInt(e.response.status,10);return Promise.reject({apiError:!0,status:t,message:e.message})})}function o(e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n].map(function(e){return s(e)}),t},{})}function s(e){return{id:e.id,channel:{channelUrl:e.broadcaster_channel_url,displayName:e.broadcaster_display_name,name:e.broadcaster_login,id:e.broadcaster_id,logo:e.broadcaster_logo},curator:{channelUrl:e.curator_channel_url,displayName:e.curator_display_name,name:e.curator_login,id:e.curator_id,logo:e.curator_logo},game:e.game,url:e.url,title:e.title,thumbnails:e.thumbnails,createdAt:e.created_at,duration:e.duration,embedHtml:e.embed_html,embedUrl:e.embed_url,language:e.language,slug:e.slug,viewCount:e.views,vod:{id:e.vod_id,offset:e.vod_offset,url:e.vod_url,previewImageUrl:e.vod_preview_image_url},segments:e.segments,communities:e.communities,editUrl:e.edit_url,infoUrl:e.info_url,statusUrl:e.status_url,previewImage:e.preview_image}}t.b=i,t.a=a},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(!(e instanceof Date))throw new Error("Invalid date object")}function a(e){return isFinite(e)&&Math.round(e)===e}function o(e){var t=s(e);return t.setHours(0,0,0,0),t}function s(e){return i(e),new Date(e.getTime())}function u(e,t){if(!a(e)||e<0||e>11)throw new Error("Invalid month '"+e+"'. Valid values need to be from 0 (Jan) to 11 (Dec)");return c(t)?q[e]:D[e]}function c(e){if(!a(e)||e<0)throw new Error("Invalid year '"+e+"'. Value must be an non-negative integer.");return e%4==0&&e%100!=0||e%400==0}function l(e,t){if(!a(t)||t<0)throw new Error("Minimum age '"+t+"' must be non-negative and an integer");var n=o(e),r=o(new Date);return r.setFullYear(r.getFullYear()-t),n.getTime()<=r.getTime()}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g,b=n(0),_=n.n(b),w=n(1),k=n.n(w),E=n(3),S=n(7),P=n.n(S),C=n(2),O=n.n(C),T=n(5),x=n.n(T),R=n(24),j=n.n(R),A=n(456),I=n.n(A),L=n(4),N=n(9),M=Object.freeze({JANUARY:0,FEBRUARY:1,MARCH:2,APRIL:3,MAY:4,JUNE:5,JULY:6,AUGUST:7,SEPTEMBER:8,OCTOBER:9,NOVEMBER:10,DECEMBER:11}),D=Object.freeze((g={},r(g,M.JANUARY,31),r(g,M.FEBRUARY,28),r(g,M.MARCH,31),r(g,M.APRIL,30),r(g,M.MAY,31),r(g,M.JUNE,30),r(g,M.JULY,31),r(g,M.AUGUST,31),r(g,M.SEPTEMBER,30),r(g,M.OCTOBER,31),r(g,M.NOVEMBER,30),r(g,M.DECEMBER,31),g)),q=Object.freeze(x()({},D,r({},M.FEBRUARY,29))),U=n(25),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=O()("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay","js-age-restriction-overlay"),V=O()("player-center-content"),H=O()("pl-age-gate js-age-gate"),z=O()("js-age-gate-submit player-content-button"),W=O()("player-datepicker--select js-select-day"),K=O()("player-datepicker--select js-select-month"),G=O()("player-datepicker--select js-select-year"),Q=O()("player-age-gate-failed-once"),Y=O()("player-age-gate--fail-icon"),$=O()("age-gate-locked-out-label"),J=O()("player-age-gate-warning"),X=O()("js-age-gate-warning-label"),Z=O()("pl-age-gate-locked-out"),ee=O()("player-age-gate--icon"),te=O()("player-age-gate-notificiation"),ne=O()("player-datepicker"),re=O()("player-age-gate-form js-age-gate"),ie=1,ae={handleAgeGatePassed:k.a.func.isRequired,requiredAge:k.a.number.isRequired,channelName:k.a.string.isRequired,t:k.a.func.isRequired},oe=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments)),r=(new Date).getFullYear(),i=n._getAgeGateFailureCount(e.channelName);return n.state={monthValue:""+M.JANUARY,dayValue:""+ie,yearValue:r,ageGatesFailedCount:i},n._handleInputMonthChange=n._handleInputMonthChange.bind(n),n._handleInputDayChange=n._handleInputDayChange.bind(n),n._handleInputYearChange=n._handleInputYearChange.bind(n),n._submitAge=n._submitAge.bind(n),n}return h(t,e),B(t,[{key:"render",value:function(){var e=this._renderAgeGateStatus();return _.a.createElement("div",{className:F},_.a.createElement("div",{className:V},_.a.createElement("div",{className:H},e)))}},{key:"_getAgeGateFailuresMap",value:function(){var e=U.b.get("age_gates_failed");return j()(e)?e:{}}},{key:"_getAgeGateFailureCount",value:function(e){var t=this._getAgeGateFailuresMap(),n=t[e];return isFinite(n)?Math.max(0,n):0}},{key:"_getSelectedDate",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue);return{month:parseInt(e,10),day:parseInt(t,10),year:parseInt(n,10)}}},{key:"_handleInputMonthChange",value:function(e){var t=Number(e.target.value),n=u(t,Number(this.state.yearValue));this.setState({monthValue:e.target.value}),this.state.dayValue>n&&this.setState({dayValue:""+ie})}},{key:"_handleInputDayChange",value:function(e){this.setState({dayValue:e.target.value})}},{key:"_handleInputYearChange",value:function(e){var t=Number(this.state.monthValue),n=e.target.value,r=u(t,Number(n));this.setState({yearValue:n}),this.state.dayValue>r&&this.setState({dayValue:""+ie})}},{key:"_isOfAgeOrOlder",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue);return l(new Date(n,e,t),this.props.requiredAge)}},{key:"_isValidDate",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.day,r=e.year,i=u(t,r);return n>0&&n<=i}},{key:"_populateMonthDropdown",value:function(){var e=this.props.t;return _.a.createElement("select",{className:K,name:"monthValue",value:this.state.monthValue,onChange:this._handleInputMonthChange,onBlur:this._handleInputMonthChange},_.a.createElement("option",{className:"age-gate-jan",value:M.JANUARY},e("January")),_.a.createElement("option",{className:"age-gate-feb",value:M.FEBRUARY},e("February")),_.a.createElement("option",{className:"age-gate-mar",value:M.MARCH},e("March")),_.a.createElement("option",{className:"age-gate-apr",value:M.APRIL},e("April")),_.a.createElement("option",{className:"age-gate-may",value:M.MAY},e("May")),_.a.createElement("option",{className:"age-gate-jun",value:M.JUNE},e("June")),_.a.createElement("option",{className:"age-gate-jul",value:M.JULY},e("July")),_.a.createElement("option",{className:"age-gate-aug",value:M.AUGUST},e("August")),_.a.createElement("option",{className:"age-gate-sept",value:M.SEPTEMBER},e("September")),_.a.createElement("option",{className:"age-gate-oct",value:M.OCTOBER},e("October")),_.a.createElement("option",{className:"age-gate-nov",value:M.NOVEMBER},e("November")),_.a.createElement("option",{className:"age-gate-dec",value:M.DECEMBER},e("December")))}},{key:"_populateDayDropdown",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.year,r=u(t,n),i=I()(1,r+1).map(function(e){return _.a.createElement("option",{key:"day."+e,value:e},e)});return _.a.createElement("select",{className:W,name:"dayValue",value:this.state.dayValue,onChange:this._handleInputDayChange,onBlur:this._handleInputDayChange},i)}},{key:"_populateYearDropdown",value:function(){var e=(new Date).getFullYear(),t=e-100,n=I()(e,t+1).map(function(e){return _.a.createElement("option",{key:"year."+e,value:e},e)});return _.a.createElement("select",{className:G,name:"yearValue",value:this.state.yearValue,onChange:this._handleInputYearChange,onBlur:this._handleInputYearChange},n)}},{key:"_setAgeGateFailed",value:function(){var e=this.props.channelName,t=this._getAgeGateFailureCount(e)+1,n=x()(this._getAgeGateFailuresMap(),d({},e,t));U.b.set("age_gates_failed",n),this.setState({ageGatesFailedCount:t})}},{key:"_setAgeGatePassed",value:function(){this.props.handleAgeGatePassed()}},{key:"_submitAge",value:function(e){e.preventDefault(),this._isOfAgeOrOlder()?this._setAgeGatePassed():this._setAgeGateFailed()}},{key:"_renderAgeGateNotification",value:function(){var e=this.props,t=e.t,n=e.requiredAge;return 1===this.state.ageGatesFailedCount?_.a.createElement("div",{className:Q},_.a.createElement("p",null,_.a.createElement("svg",{className:Y},_.a.createElement("use",{xlinkHref:"#age-gate-fail-icon"}))),_.a.createElement("p",{className:$},t("Sorry, you must be over the age of {{age}} to view this content.",{age:n}))):this._renderAgeIcon()}},{key:"_renderAgeGateStatus",value:function(){var e=this.props,t=e.t,n=e.requiredAge,r=this._isValidDate(),i=this._populateMonthDropdown(),a=this._populateDayDropdown(),o=this._populateYearDropdown(),s=this._renderAgeGateNotification();return this.state.ageGatesFailedCount>=2?_.a.createElement("div",{className:Z},_.a.createElement("p",null,_.a.createElement("svg",{className:Y},_.a.createElement("use",{xlinkHref:"#age-gate-fail-icon"}))),_.a.createElement("p",{className:$},t("Sorry, you must be over the age of {{age}} to view this content.",{age:n}))):_.a.createElement("div",{className:re},_.a.createElement("div",{className:te},s),_.a.createElement("div",{className:ne},i,a,o,_.a.createElement(N.a,{className:z,onClick:this._submitAge,disabled:!r},"Submit")))}},{key:"_renderAgeIcon",value:function(){var e=this.props,t=e.t,n=e.requiredAge,r=19===n?"#age-gate-icon-19":"#age-gate-icon-21";return _.a.createElement("div",{className:J},_.a.createElement("p",null,_.a.createElement("svg",{className:ee},_.a.createElement("use",{xlinkHref:r}))),_.a.createElement("p",{className:X},t("You must be {{age}} to view this content. Please enter your date of birth.",{age:n})))}}]),t}(_.a.Component);oe.propTypes=ae;var se=Object(L.c)()(oe),ue=n(14),ce=n(18),le=n(15),de=n(47);n.d(t,"a",function(){return pe}),n.d(t,"b",function(){return be});var fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pe=Object.freeze({budlight:21,budlightcanada:19}),he={playback:k.a.object.isRequired,streamMetadata:k.a.object.isRequired,mutePlayer:k.a.func.isRequired,contentIsShowing:k.a.func.isRequired,play:k.a.func.isRequired,pause:k.a.func.isRequired,requestAds:k.a.func.isRequired},me={playback:function(){},streamMetadata:function(){},mutePlayer:function(){},contentIsShowing:function(){},play:function(){},pause:function(){},requestAds:function(){}},ye=function(e){return{playback:e.playback,streamMetadata:e.streamMetadata}},ve=function(e){return{mutePlayer:function(t,n){e(Object(ue.o)(t,n))},contentIsShowing:function(){e(Object(ce.v)())},play:function(){e(Object(ue.q)())},pause:function(){e(Object(ue.p)())},requestAds:function(t,n){e(Object(le.n)(t,n))}}},ge=function(e){function t(){m(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showAgeGateOverlay:!1},e.handleAgeGatePassed=e.handleAgeGatePassed.bind(e),e}return v(t,e),fe(t,[{key:"componentWillReceiveProps",value:function(e){var t=this._shouldShowOverlay(e),n=this.state.showAgeGateOverlay;t&&!n?(this.setState({showAgeGateOverlay:!0}),this.props.mutePlayer(!0,!0),this.props.pause(),this.props.contentIsShowing()):!t&&n&&this.setState({showAgeGateOverlay:!1})}},{key:"_shouldShowOverlay",value:function(e){var t=e.streamMetadata,n=U.a.get("age_gate",{});return P()(Object.keys(pe),t.channel.name)&&!n[t.channel.name]}},{key:"render",value:function(){var e=this.props.streamMetadata;return this.state.showAgeGateOverlay?_.a.createElement(se,{handleAgeGatePassed:this.handleAgeGatePassed,channelName:e.channel.name,requiredAge:pe[e.channel.name]}):null}},{key:"handleAgeGatePassed",value:function(){var e=this.props,t=e.playback,n=e.streamMetadata,r=U.a.get("age_gate",{});r[n.channel.name]=!0,U.a.set("age_gate",r),this.setState({showAgeGateOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0),t.autoplay&&this.props.requestAds(de.c,le.h)}}]),t}(_.a.Component);ge.propTypes=he,ge.defaultProps=me;var be=Object(E.b)(ye,ve)(ge)},function(e,t,n){"use strict";function r(e){return e?{type:o,communities:i(e)}:{type:s}}function i(e){var t=e.communities;return t.length<1?{data:[],ids:""}:{data:t,ids:a(t)}}function a(e){return e.map(function(e){return e._id}).join(",")}n.d(t,"a",function(){return o}),t.b=r;var o="set communities data",s="invalid communities data"},function(e,t,n){"use strict";function r(){return l.a.getFlashPlayerVersion()}function i(e){return l.a.hasFlashPlayerVersion(e)}function a(){return i("1")}function o(){var e="application/x-shockwave-flash",t=navigator.mimeTypes;if(t&&t[e]&&t[e].enabledPlugin){return t[e].enabledPlugin.filename.match(/pepflashplayer|Pepper/gi)?"ppapi":"npapi"}return a()?"unknown":""}function s(e,t,n,r,i,a,o,s,u,c){return l.a.embedSWF(e,t,n,r,i,a,o,s,u,c)}function u(e){return l.a.removeSWF(e)}t.c=r,t.d=i,t.b=o,t.a=s,t.e=u;var c=n(460),l=n.n(c)},function(e,t,n){var r=n(94),i=n(461),a=Object.prototype,o=a.hasOwnProperty,s=i(function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=s},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return y.CAN_LOAD?o(e).then(d).then(function(e){return s(y.MAX_ATTEMPTS,e)}):m.reject(b.NOT_SUPPORTED)}function a(e){return f(e).then(function(e){return c(y.MAX_ATTEMPTS,e)}).catch(function(e){return m.reject(e)})}function o(e){if(e&&e.value)return m.resolve(e.value);var t=e&&e.deviceID||p();return k||(k=new v({defaults:r({},y.EXPERIMENT_ID,y.DEFAULT_VERSION),platform:"web",deviceID:t,provider:new g(g.SERVICE_URL),Promise:m})),k.get(y.EXPERIMENT_ID)}function s(e,t,n){return e>0?u(t.url,t.settings).catch(function(n){return s(e-1,t,n)}):m.reject(n)}function u(e,t){return new m(function(n,r){var i=document.createElement("script");i.onload=function(){"function"==typeof PlayerCore?n({handle:PlayerCore,config:{settings:t}}):(i.parentNode.removeChild(i),r(b.BAD_RESPONSE))},i.onerror=function(e){i.parentNode.removeChild(i),r(b.SCRIPT_ERROR)},i.src=e,i.id=y.SCRIPT_ID,document.head.appendChild(i)})}function c(e,t,n){return e>0?l(t.url,t.workerUrl,t.settings,t.logLevel,t.latencyValue).catch(function(n){return c(e-1,t,n)}):m.reject(n)}function l(e,t,n,r,i){return new m(function(a,o){var s=document.location.protocol+t,u='\n            try {\n                importScripts("'+s+"\");\n            } catch (e) {\n                console.error('Exception in worker import', e);\n            }\n            ",c=new Blob([u],{type:"text/javascript"}),l=new Worker(URL.createObjectURL(c)),d=document.createElement("script");d.onload=function(){"object"===("undefined"==typeof MediaPlayer?"undefined":h(MediaPlayer))&&"function"==typeof MediaPlayer.MediaPlayer?a(function(){return{mediaPlayerHandle:MediaPlayer,mediaPlayerInstance:new MediaPlayer.MediaPlayer({settings:n,logLevel:r,latencyValue:i},l)}}):(d.parentNode.removeChild(d),o(b.BAD_RESPONSE))},d.onerror=function(e){d.parentNode.removeChild(d),o(b.SCRIPT_ERROR)},d.src=e,d.id=y.SCRIPT_ID,document.head.appendChild(d)})}function d(e){var t="",n=y.PLAYER_CORE_HOST.prod,r=e.split("+")||[e],i=r[0];r.length>1&&(t=r[1],y.SETTING_CRITERIA.hasOwnProperty(t)&&!y.SETTING_CRITERIA[t]&&(t=""));var a={},o=document.URL,s=o.indexOf("?");if(s>-1){((o.slice(s+1)||"").split("&")||[]).forEach(function(e){var t=e.split("=")||[];a[t[0]]=t[1]})}return a["cvp-settings"]&&(t=a["cvp-settings"]),a["cvp-branch"]?{url:y.PLAYER_CORE_HOST.dev+a["cvp-branch"]+y.PLAYER_CORE_FILE_NAME_DEBUG,settings:t}:(a["cvp-env"]&&y.PLAYER_CORE_HOST[a["cvp-env"]]&&(n=y.PLAYER_CORE_HOST[a["cvp-env"]]),a["cvp-ver"]&&(i=a["cvp-ver"]),{url:n+i+y.PLAYER_CORE_FILE_NAME,settings:t})}function f(e){if(!e||!e.value)return m.reject(b.BAD_CONFIG);var t=e.value,n="",r=y.PLAYER_CORE_HOST.prod,i=t.split("+")||[t],a=i[0];i.length>1&&(n=i[1],y.SETTING_CRITERIA.hasOwnProperty(n)&&!y.SETTING_CRITERIA[n]&&(n=""));var o={},s=document.URL,u=s.indexOf("?");if(u>-1){((s.slice(u+1)||"").split("&")||[]).forEach(function(e){var t=e.split("=")||[];o[t[0]]=t[1]})}return o["cvp-settings"]&&(n=o["cvp-settings"]),o["cvp-branch"]?m.resolve({url:y.PLAYER_CORE_HOST.dev+o["cvp-branch"]+y.MEDIAPLAYER_FILE_NAME_DEBUG,workerUrl:y.PLAYER_CORE_HOST.dev+o["cvp-branch"]+y.MEDIAPLAYER_WORKER_FILE_NAME_DEBUG,settings:n,logLevel:e&&e.hasOwnProperty("logLevel")?e.logLevel:"",latencyValue:e&&e.hasOwnProperty("latencyValue")?e.latencyValue:""}):(o["cvp-env"]&&y.PLAYER_CORE_HOST[o["cvp-env"]]&&(r=y.PLAYER_CORE_HOST[o["cvp-env"]]),o["cvp-ver"]&&(a=o["cvp-ver"]),m.resolve({url:r+a+y.MEDIAPLAYER_FILE_NAME,workerUrl:r+a+y.MEDIAPLAYER_WORKER_FILE_NAME,settings:n,logLevel:e&&e.hasOwnProperty("logLevel")?e.logLevel:"",latencyValue:e&&e.hasOwnProperty("latencyValue")?e.latencyValue:""}))}function p(){return Math.random().toString(32).slice(2)}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=n(144),y=n(465),v=n(248),g=n(250),b={NOT_SUPPORTED:{spadeEventName:y.SPADE_EVENT_NAME,spadeEventData:{core_error_code:3e3,core_error_msg:"Player Core Not Supported"}},SCRIPT_ERROR:{spadeEventName:y.SPADE_EVENT_NAME,spadeEventData:{core_error_code:3001,core_error_msg:"Script Error"}},BAD_RESPONSE:{spadeEventName:y.SPADE_EVENT_NAME,spadeEventData:{core_error_code:3002,core_error_msg:"Bad Response"}},BAD_CONFIG:{spadeEventName:y.SPADE_EVENT_NAME,spadeEventData:{core_error_code:3003,core_error_msg:"Bad Config"}}};e.exports.canLoad=function(){return y.CAN_LOAD},e.exports.canLoadMediaplayer=function(){return y.CAN_LOAD};var _=null;e.exports.load=function(e){return _||(_=i(e)),_};var w=null;e.exports.loadMediaPlayer=function(e){return w||(w=a(e)),w.then(function(e){return e()})},e.exports._reset=function(){_=null,w=null;var e=document.getElementById(y.SCRIPT_ID);e&&e.parentNode.removeChild(e)};var k},function(e,t,n){function r(e,t){return i(e,t)}var i=n(158);e.exports=r},function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case s.d:return a()({},e,{showCCModal:t.showCCModal});case s.a:case s.c:case s.e:return a()({},e,t.captions);case s.b:return a()({},e,{data:t.captions.data,available:e.available||t.captions.data.data.length>0});case u.a:return a()({},e,{available:l.available,data:l.data});case c.a:var n=t.playerDimensions.height,r=t.playerDimensions.width;if(n<=d||r<=f){var i=Math.min(n,r),o=Math.round(i*p),h=a()({},e.style,{fontSize:o});return a()({},e,{style:h})}return e;default:return e}}n.d(t,"a",function(){return l}),t.b=r;var i=n(28),a=n.n(i),o=n(84),s=n(36),u=n(16),c=n(186),l={enabled:!1,available:!1,preset:"white-on-black",data:null,style:o.l["white-on-black"],showCCModal:!1},d=322,f=500,p=.05},function(e,t,n){function r(e,t,n,I,L,N){var M,D=t&P,q=t&C,U=t&O;if(n&&(M=L?n(e,I,L,N):n(e)),void 0!==M)return M;if(!k(e))return e;var B=b(e);if(B){if(M=y(e),!D)return l(e,M)}else{var F=m(e),V=F==x||F==R;if(_(e))return c(e,D);if(F==j||F==T||V&&!L){if(M=q||V?{}:g(e),!D)return q?f(e,u(M,e)):d(e,s(M,e))}else{if(!A[F])return L?e:{};M=v(e,F,D)}}N||(N=new i);var H=N.get(e);if(H)return H;if(N.set(e,M),E(e))return e.forEach(function(i){M.add(r(i,t,n,i,e,N))}),M;if(w(e))return e.forEach(function(i,a){M.set(a,r(i,t,n,a,e,N))}),M;var z=U?q?h:p:q?keysIn:S,W=B?void 0:z(e);return a(W||e,function(i,a){W&&(a=i,i=e[a]),o(M,a,r(i,t,n,a,e,N))}),M}var i=n(121),a=n(266),o=n(119),s=n(479),u=n(480),c=n(226),l=n(124),d=n(481),f=n(482),p=n(216),h=n(268),m=n(122),y=n(483),v=n(484),g=n(228),b=n(19),_=n(109),w=n(488),k=n(24),E=n(490),S=n(50),P=1,C=2,O=4,T="[object Arguments]",x="[object Function]",R="[object GeneratorFunction]",j="[object Object]",A={};A[T]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[j]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[x]=A["[object WeakMap]"]=!1,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){var r=n(120),i=n(166),a=n(162),o=n(218),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=u},function(e,t,n){function r(e){return i(e,o,a)}var i=n(217),a=n(267),o=n(59);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:i}var i=n(105);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=S.filter(function(e){return E[e].canPlay()}),n=o(e);return b()(t,n)}function o(e){return w()(v.b,e)?P:e===v.c?C:e===v.d?O:T}var s=n(85),u=n(86),c=n(67),l=n(140),d=n(271),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=Object.freeze({autoplay:!0}),h=Object.freeze({mp4:"video/mp4"}),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments[1];r(this,e),this._store=n,this._options=t,this._src="",this._initVideoTag()}return f(e,[{key:"getBackend",value:function(){return"video tag backend"}},{key:"_initVideoTag",value:function(){this._video=document.createElement("video"),this._video.autoplay=this._options.autoplay,this._video.preload="auto",this._video.type=h.mp4}},{key:"attach",value:function(e){e.insertBefore(this._video,e.firstChild)}},{key:"destroy",value:function(){this._video=null,this._src=""}},{key:"addEventListener",value:function(e,t){this._video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._video.removeEventListener(e,t)}},{key:"setSrc",value:function(e){this._src=e,this._video.src=e,this.load()}},{key:"load",value:function(){""!==this._src&&this._video.load()}},{key:"play",value:function(){this._video.play()}},{key:"pause",value:function(){this._video.pause()}},{key:"getVolume",value:function(){return this._video.volume}},{key:"setVolume",value:function(e){this._video.volume=e}},{key:"getSeeking",value:function(){return this._video.seeking}},{key:"getCurrentTime",value:function(){return this._video.currentTime}},{key:"setCurrentTime",value:function(e){this._video.currentTime=e}},{key:"getDuration",value:function(){return this._video.duration}},{key:"getPaused",value:function(){return this._video.paused}},{key:"getPlaybackRate",value:function(){return this._video.playbackRate}},{key:"setPlaybackRate",value:function(e){this._video.playbackRate=e}},{key:"getPlayed",value:function(){return this._video.played}},{key:"getEnded",value:function(){return this._video.ended}},{key:"getAutoplay",value:function(){return this._options.autoplay}},{key:"setLoop",value:function(e){this._video.loop=e}},{key:"getMuted",value:function(){return this._video.muted}},{key:"setMuted",value:function(e){this._video.muted=e}},{key:"getQuality",value:function(){}},{key:"setQuality",value:function(){}},{key:"getQualities",value:function(){return[]}},{key:"absAvailable",value:function(){return!1}},{key:"getVersion",value:function(){return""}},{key:"getStats",value:function(){return{}}},{key:"getVideoInfo",value:function(){return{}}},{key:"setChannel",value:function(){}},{key:"setVideo",value:function(){}},{key:"elapsedTime",value:function(){}},{key:"getCaption",value:function(){}},{key:"getNetworkState",value:function(){}},{key:"getBuffered",value:function(){}},{key:"getReadyState",value:function(){}},{key:"getError",value:function(){}},{key:"getSrc",value:function(){}}],[{key:"canPlay",value:function(){return!0}}]),e}(),y=n(137),v=n(6),g=n(495),b=n.n(g),_=n(7),w=n.n(_);n.d(t,"a",function(){return E}),t.b=a;var k,E=Object.freeze((k={},i(k,s.a,s.b),i(k,l.a,l.b),i(k,c.a,c.b),i(k,u.a,u.b),i(k,d.a,d.b),i(k,y.a,y.b),i(k,"video tag backend",m),k)),S=Object.freeze([u.a,c.a,l.a,s.a,d.a,"video tag backend"]),P=Object.freeze([d.a]),C=Object.freeze([c.a,l.a,u.a]),O=Object.freeze(["video tag backend"]),T=Object.freeze([c.a,l.a,s.a,u.a])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="clip backend",o=Object.freeze({autoplay:!0}),s=Object.freeze({mp4:"video/mp4"}),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];r(this,e),this._store=n,this._options=t,this._src="",this._initVideoTag()}return i(e,[{key:"getBackend",value:function(){return a}},{key:"_initVideoTag",value:function(){this._video=document.createElement("video"),this._video.autoplay=this._options.autoplay,this._video.preload="auto",this._video.type=s.mp4}},{key:"attach",value:function(e){e.insertBefore(this._video,e.firstChild)}},{key:"destroy",value:function(){this._video=null,this._events=null,this._src=""}},{key:"addEventListener",value:function(e,t){this._video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._video.removeEventListener(e,t)}},{key:"setSrc",value:function(e){this._src=e,this._video.src=e,this.load()}},{key:"load",value:function(){""!==this._src&&this._video.load()}},{key:"play",value:function(){this._video.play()}},{key:"pause",value:function(){this._video.pause()}},{key:"getVolume",value:function(){return this._video.volume}},{key:"setVolume",value:function(e){this._video.volume=e}},{key:"getSeeking",value:function(){return this._video.seeking}},{key:"getCurrentTime",value:function(){return this._video.currentTime}},{key:"setCurrentTime",value:function(e){this._video.currentTime=e}},{key:"getDuration",value:function(){return this._video.duration}},{key:"getPaused",value:function(){return this._video.paused}},{key:"getPlaybackRate",value:function(){return this._video.playbackRate}},{key:"setPlaybackRate",value:function(e){this._video.playbackRate=e}},{key:"getPlayed",value:function(){return this._video.played}},{key:"getEnded",value:function(){return this._video.ended}},{key:"getAutoplay",value:function(){return this.options.autoplay}},{key:"setLoop",value:function(e){this._video.loop=e}},{key:"getMuted",value:function(){return this._video.muted}},{key:"setMuted",value:function(e){this._video.muted=e}},{key:"getQuality",value:function(){}},{key:"setQuality",value:function(e){var t=this._store.getState(),n=t.quality,r=n.available.find(function(t){return t.group===e});if(r)return this.setSrc(r.source);var i=n.available.find(function(e){return"480p30"===e.group});i&&this.setSrc(i.source)}},{key:"getQualities",value:function(){}},{key:"absAvailable",value:function(){return!1}},{key:"getVersion",value:function(){return""}},{key:"getStats",value:function(){return{}}},{key:"getVideoInfo",value:function(){return{}}},{key:"setChannel",value:function(){}},{key:"setVideo",value:function(){}},{key:"elapsedTime",value:function(){}},{key:"getCaption",value:function(){}},{key:"getNetworkState",value:function(){}},{key:"getBuffered",value:function(){}},{key:"getReadyState",value:function(){}},{key:"getError",value:function(){}},{key:"getSrc",value:function(){}}],[{key:"canPlay",value:function(){return!0}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(11),i=n(255),a=n(99),o=[r.a,i.a,a.a]},function(e,t,n){"use strict";function r(e){return function(t){"Enter"===t.key&&e()}}n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c={label:s.a.string.isRequired,onToggle:s.a.func,t:s.a.func.isRequired,toggledOn:s.a.bool},l={onToggle:function(){},toggledOn:!1},d=function(e){var t=e.label,n=e.onToggle,i=e.t,o=e.toggledOn,s="toggle_button_"+Math.random().toString(36).substr(2,10);return a.a.createElement("div",{className:"pl-player-menu__toggle-item"},a.a.createElement("div",{className:"pl-toggle__label-wrapper"},a.a.createElement("label",{className:"pl-form__label qa-toggle-label",htmlFor:"toggle_button",role:"button",onClick:n,onKeyUp:r(n),tabIndex:0},i(t))),a.a.createElement("div",{className:"pl-toggle"},a.a.createElement("input",{className:"qa-input-checkbox",type:"checkbox",id:s,checked:o,onChange:n}),a.a.createElement("label",{className:"pl-toggle__button",htmlFor:s})))};d.propTypes=c,d.defaultProps=l;var f=Object(u.c)()(d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f={uuid:c.a.string.isRequired,renderValue:c.a.string.isRequired,experiments:c.a.object.isRequired,children:c.a.node.isRequired},p=function(e){return{experiments:e.experiments}},h=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={experimentValue:""},e}return a(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e,t){return""!==t.experimentValue}},{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.experiments,r=t.uuid;n.get(r).then(function(t){e.setState({experimentValue:t})})}},{key:"render",value:function(){var e=this.state.experimentValue,t=this.props,n=t.renderValue,r=t.children;return n!==e||""===e?null:r}}]),t}(s.a.Component);h.propTypes=f;var m=Object(l.b)(p)(h)},function(e,t,n){"use strict";function r(e){return{type:i,generator:e}}n.d(t,"a",function(){return i}),t.b=r;var i="clip generator loaded"},function(e,t,n){"use strict";function r(e){return Object(P.A)(e).then(function(e){return i(e.muted_segments)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null===e?[]:e.length<=1?e:a(e)?o(e.slice(0).sort(function(e,t){return e.offset-t.offset})):Promise.reject(new Error("Muted segments not formatted correctly"))}function a(e){var t=!0;return e.forEach(function(e){e.hasOwnProperty("offset")&&e.hasOwnProperty("duration")&&S()(e.offset)&&S()(e.duration)||(t=!1)}),t}function o(e){return e.reduce(function(e,t){var n=e[e.length-1],r=n.offset+n.duration,i=t.offset+t.duration;return r<t.offset?e.push(t):r<i&&(n.duration=i-n.offset),e},[e[0]])}function s(e){return Object(P.A)(e).then(function(e){return fetch(e.seek_previews_url).then(function(e){return e.json()}).then(function(t){return u(t,e.seek_previews_url)})})}function u(e,t){if(null===e)return Promise.reject(new Error("Raw preview data not available"));var n=Object(C.a)(t),r=n.protocol+"://"+n.host+n.directory,i={};e.forEach(function(e,t){i[e.quality]=t});var a=i[O],o=i[T];return{count:e[a].count,lq:{width:e[a].width,height:e[a].height,rows:e[a].rows,cols:e[a].cols,URLs:e[a].images.map(function(e){return""+r+e})},hq:{width:e[o].width,height:e[o].height,rows:e[o].rows,cols:e[o].cols,URLs:e[o].images.map(function(e){return""+r+e})}}}function c(e){var t=e.substring(e.indexOf("v")+1);return Object(P.p)("videos/"+t+"/markers").then(function(e){return l(e)})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{markers:[]};return null===e?Promise.reject(new Error("Raw VOD marker data not available")):void 0===e.markers||null===e.markers?Promise.reject(new Error("Raw VOD marker data is misformed")):R()(A()(e.markers,function(e,t){var n=I[t]||L;return e.map(n)})).filter(function(e){return null!==e}).sort(function(e,t){return e.startTime-t.startTime})}function d(e){return{imageURL:""+e.thumbnail.sheet_url,x:e.thumbnail.column*e.thumbnail.width,y:e.thumbnail.row*e.thumbnail.height,width:e.thumbnail.width,height:e.thumbnail.height,cols:e.thumbnail.sheet_cols}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=fetch(F+"ids.json").then(function(e){return e.json()});return Promise.all([t,Object(P.A)(e)]).then(function(t){var n=U(t,2),r=n[0],i=n[1];return-1===r.indexOf(i.channel._id)?Promise.reject(new Error("Current channel does not have VCA markers")):fetch(""+F+e+".json").then(function(e){return e.json()})}).then(h).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error("Could not retrieve and/or normalize VCA markers");return console.warn(e.message),[]})}function h(e){if(null===e)return Promise.reject(new Error("Raw VCA marker data not available"));var t=M()(e.data.tags,m);return R()(A()(t,function(t,n){return t.sort(function(e,t){return e.start_sec-t.start_sec}).map(function(t,r){return(0,J[n])(t,r,e.data)})})).filter(function(e){return null!==e}).sort(function(e,t){return e.startTime-t.startTime})}function m(e){switch(e.game_type){case V:if(0===e.game_data.type)return K;break;case W:if(0===e.game_data.type)return Y;break;case z:if(0===e.game_data.type)return Q;break;case H:if(0===e.game_data.type)return G}return $}function y(e,t,n){return{id:e.id,title:"Match "+(t+1),info:"",startTime:e.start_sec,thumbnail:v(e,n),type:B}}function v(e,t){return null===e.thumbnail_index?X:{imageURL:""+F+t.thumbnail_sheet,x:e.thumbnail_index[1]*t.thumbnail_size[0],y:e.thumbnail_index[0]*t.thumbnail_size[1],width:t.thumbnail_size[0],height:t.thumbnail_size[1],cols:t.sheet_dimensions[1]}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b,_=n(17),w=n(11),k=n(277),E=n(56),S=n.n(E),P=n(10),C=n(45),O="low",T="high",x=n(155),R=n.n(x),j=n(134),A=n.n(j),I=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"game_changes",function(e){return{title:"",info:"",startTime:e.time,thumbnail:d(e),type:"game change"}}),L=function(){return null},N=n(260),M=n.n(N),D=n(5),q=n.n(D),U=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B="game metadata",F="https://clipmn.twitch.tv/prod/",V="lol",H="hs",z="csgo",W="rl",K="leagueOfLegendTags",G="hearthStoneMatchTags",Q="counterStrikeMatchTags",Y="rocketLeagueMatchTags",$="nonTypedTags",J=(b={},f(b,K,y),f(b,Y,y),f(b,Q,y),f(b,G,function(e,t,n){return q()(y(e,t,n),{info:"<strong>"+e.game_data.characters[0]+"</strong> vs "+e.game_data.characters[1]})}),f(b,$,function(){return null}),b),X={imageURL:"",x:0,y:0,width:0,height:0,cols:0},Z=n(43);n.d(t,"a",function(){return te}),n.d(t,"b",function(){return ne}),n.d(t,"c",function(){return re});var ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),te="game change",ne=B,re=function(){function e(t){g(this,e),this._store=t,this._subscribeStream(this._store.getState()),this.unsub=Object(_.a)(this._store,["stream"],this._subscribeStream.bind(this))}return ee(e,[{key:"_subscribeStream",value:function(e){var t=this,n=e.stream,i=this._store.getState(),a=i.experiments;n.contentType===w.a&&(r(n.videoId).then(function(e){t._store.dispatch(Object(k.e)(e))}),s(n.videoId).then(function(e){t._store.dispatch(Object(k.f)(e))}),a.get(Z.f).then(function(e){switch(e){case"vca":return p(n.videoId);case"vod":return c(n.videoId)}return[]}).then(function(e){t._store.dispatch(Object(k.d)(e))}))}},{key:"destroy",value:function(){this.unsub()}}]),e}()},function(e,t,n){"use strict";function r(e){return{type:o,mutedSegments:e}}function i(e){return{type:s,previews:e}}function a(e){return{type:u,markers:e}}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),t.e=r,t.f=i,t.d=a;var o="set muted segments",s="set previews",u="set markers"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(520),c=r(u),l=n(0),d=r(l),f=n(1),p=r(f),h=n(521),m=(r(h),n(522)),y=(p.default.any,p.default.func,p.default.node,{component:"span",childFactory:function(e){return e}}),v=function(e){function t(n,r){i(this,t);var o=a(this,e.call(this,n,r));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=s({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,m.getChildMapping)(n.children)},o}return o(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,m.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,m.mergeChildMappings)(n,t)});for(var r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var a in n){var o=t&&t.hasOwnProperty(a);!n[a]||o||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var n in this.state.children)!function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,a=e.props.childFactory(r),o=function(t){e.childRefs[n]=t};a===r&&i&&(o=(0,c.default)(r.ref,o)),t.push(d.default.cloneElement(a,{key:n,ref:o}))}}(n);var r=s({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,d.default.createElement(this.props.component,r,t)},t}(d.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=y,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var i=n(17),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="unsub_"+Date.now(),s=function(){function e(){r(this,e),this[o]=[]}return a(e,[{key:"subscribe",value:function(e,t,n){this[o].push(Object(i.a)(e,t,n))}},{key:"destroy",value:function(){this[o].forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.split)return e;var n=e.split("?"),r=c(n,2),i=r[0],o=r[1];if(o){var u=Object(a.parse)(o);return i+"?"+Object(a.stringify)(s()({},u,t))}return i+"?"+Object(a.stringify)(t)}function i(e,t,n){return r(e,{tt_medium:t,tt_content:n})}t.c=r,t.b=i,n.d(t,"a",function(){return d});var a=n(30),o=(n.n(a),n(5)),s=n.n(o),u=n(8),c=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l="https:"+u.C,d={default:{getGameLink:function(e){return l+"/directory/game/"+encodeURIComponent(e)},getClipsOnGamePageLink:function(e){return d.default.getGameLink(e)+"/clips"},getClipsOnChannelPageLink:function(e){return l+"/"+e+"/clips"},getVodLink:function(e,t){return l+"/videos/"+e+"?t="+t}},android:{getChannelLink:function(e,t){return"intent://stream/"+e+"#Intent;scheme=twitch;package=tv.twitch.android.app;S.browser_fallback_url="+t+";end"}}}},function(e,t,n){"use strict";function r(e){var t=e.t;return c.a.createElement("div",null,c.a.createElement("p",null,t(h)))}function i(e){var t=e.shouldShowOfflineOverlay,n=t?c.a.createElement(y,null):null;return c.a.createElement("div",{className:"pl-overlay pl-overlay--loading"},c.a.createElement("div",{className:"player-center-content"},c.a.createElement("div",{className:"pl-loading-spinner"}),n))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(0),c=n.n(u),l=n(1),d=n.n(l),f=n(3),p=n(4),h="You seem to be offline. Please wait while we try to reconnect.",m={t:d.a.func.isRequired};r.propTypes=m;var y=Object(p.c)()(r),v={shouldShowOfflineOverlay:d.a.bool},g={shouldShowOfflineOverlay:!1};i.propTypes=v,i.defaultProps=g;var b=n(13),_=n(68),w=n(14);n.d(t,"a",function(){return T});var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E={isCasting:d.a.bool.isRequired,isPaused:d.a.bool.isRequired,isLoading:d.a.bool.isRequired,isAdvertisementScreen:d.a.bool.isRequired,playStream:d.a.func,windowObj:d.a.object.isRequired},S={playStream:function(){}},P=function(e){var t=e.chromecast,n=e.playback,r=e.screen,i=e.window;return{isCasting:t.castingState===_.b||t.castingState===_.c,isPaused:n.paused,isLoading:n.isLoading,isAdvertisementScreen:r[0]===b.c,windowObj:i}},C=function(e){return{playStream:function(){e(Object(w.q)())}}},O=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isUserOffline:!1,wasPausedOnOffline:!1},e._onOfflineEvent=e._onOfflineEvent.bind(e),e._onOnlineEvent=e._onOnlineEvent.bind(e),e}return s(t,e),k(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("offline",this._onOfflineEvent),this.props.windowObj.addEventListener("online",this._onOnlineEvent)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("offline",this._onOfflineEvent),this.props.windowObj.removeEventListener("online",this._onOnlineEvent)}},{key:"_onOfflineEvent",value:function(){this.setState({isUserOffline:!0,wasPausedOnOffline:this.props.isPaused})}},{key:"_onOnlineEvent",value:function(){this.state.wasPausedOnOffline||this.props.playStream(),this.setState({isUserOffline:!1,wasPausedOnOffline:!1})}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.isPaused,r=e.isCasting,a=e.isAdvertisementScreen;return!t||n||r||a?null:c.a.createElement(i,{shouldShowOfflineOverlay:this.state.isUserOffline})}}]),t}(c.a.Component);O.propTypes=E,O.defaultProps=S;var T=Object(f.b)(P,C)(O)},function(e,t,n){"use strict";function r(){this.initialDelay=Math.round(6e4*Math.random()),this._remainingDelay=this.initialDelay,this._timeout=null,this._timeoutStart=null,this.totalMinutes=0,this._events=new a.a}n.d(t,"a",function(){return o}),t.b=r;var i=n(34),a=n.n(i),o="minute";r.EVENT_INTERVAL=6e4,r.MAX_DRIFT=1e4,r.prototype.start=function(){null===this._timeout&&this._scheduleTick()},r.prototype.stop=function(){null!==this._timeout&&(clearTimeout(this._timeout),this._timeout=null,this._tick())},r.prototype.reset=function(){this.stop(),this._remainingDelay=r.EVENT_INTERVAL},r.prototype.on=function(e,t){this._events.on(e,t)},r.prototype.off=function(e,t){this._events.off(e,t)},r.prototype.destroy=function(){clearTimeout(this._timeout),this._events.removeAllListeners()},r.prototype._tick=function(){var e=(new Date).getTime(),t=e-this._timeoutStart;for(this._remainingDelay-=t,this._remainingDelay<=-r.MAX_DRIFT&&(this._remainingDelay=0),this._remainingDelay>=r.EVENT_INTERVAL+r.MAX_DRIFT&&(this._remainingDelay=0);this._remainingDelay<=0;)this._remainingDelay+=r.EVENT_INTERVAL,this.totalMinutes+=1,setTimeout(this._events.emit.bind(this._events,o),0)},r.prototype._scheduleTick=function(){this._timeoutStart=(new Date).getTime();var e=this;this._timeout=setTimeout(function(){e._tick(),e._scheduleTick()},this._remainingDelay)},r.prototype.isCurrentlyTracking=function(){return Boolean(this._timeout)}},function(e,t,n){"use strict";function r(e,t,n){function r(t){t.player!==i.n&&t.player!==i.e&&t.player!==i.m&&e.getElementsByClassName("js-control-fullscreen-overlay")[0].addEventListener("dblclick",s)}function o(){var e=t.getState(),n=e.analyticsTracker,r=e.screenMode;n.trackEvent("player_click_fullscreen",{action:!r.isFullScreen}),t.dispatch(Object(a.i)())}function s(e){e.preventDefault(),o()}var u=[];this.destroy=function(){e.getElementsByClassName("js-control-fullscreen-overlay")[0].removeEventListener("dblclick",s),u.forEach(function(e){return e()})},function(){var t=n;r(t),e.setAttribute("data-theatre",!1),e.setAttribute("data-showinfo",t.showInfo)}()}t.a=r;var i=n(6),a=n(29)},function(e,t,n){"use strict";function r(e,t,n,r){function s(){n.dispatch(Object(o.n)())}function u(){e.getVideo()?t.setAttribute("data-video",e.getVideo()):t.removeAttribute("data-video")}function c(){var e=n.getState(),i=e.screenMode;r.showInfo||i.isTheatreMode||i.isFullScreen?t.setAttribute("data-showinfo",!0):t.setAttribute("data-showinfo",!1)}var l=[];this.destroy=function(){t.getElementsByClassName("js-control-fullscreen-overlay")[0].removeEventListener("click",s),l.forEach(function(e){return e()}),l=null},function(){l.push(Object(a.a)(n,["screenMode.isFullScreen","screenMode.isTheatreMode"],c)),c();var e=r.player;e&&t.setAttribute("data-playertype",e),e!==i.n&&e!==i.m||t.getElementsByClassName("js-control-fullscreen-overlay")[0].addEventListener("click",s),l.push(Object(a.a)(n,["viewercount"],function(e){var n=e.viewercount;t.setAttribute("data-viewers",n)})),l.push(Object(a.a)(n,["screen"],function(e){var n=e.screen;t.setAttribute("data-screen",n[0])})),l.push(Object(a.a)(n,["streamMetadata"],u))}()}t.a=r;var i=n(6),a=n(17),o=n(52)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function K(e){var t=e.captionsEnabled,n=e.onDisableCaptions,r=e.onEnableCaptions;return t?we.a.createElement(Oe.a,{className:gr,onClick:n,tabIndex:"-1"},we.a.createElement(Te.a,{label:"Captions",iconId:"#icon_cc_on"})):we.a.createElement(Oe.a,{className:gr,onClick:r,tabIndex:"-1"},we.a.createElement(Te.a,{label:"Captions",iconId:"#icon_cc_off"}))}function G(e){var t=e.captionsAvailable,n=e.captionsEnabled,r=e.onEnableCaptions,i=e.onDisableCaptions;return t?we.a.createElement(K,{captionsEnabled:n,onEnableCaptions:r,onDisableCaptions:i}):null}function Q(e){var t=e.hasAltShortcut,n=e.onClip,r=t?"Clip (Alt+X)":"Clip";return we.a.createElement(Oe.a,{className:"player-button pl-clips-button",onClick:n},we.a.createElement(Te.a,{label:r,iconId:"#icon_clips"}))}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function X(e){var t=e.castingState,n=e.onClick;if(t===Ar.d||!Pe()(Ar.e,t))return null;var r=je()({"player-button":!0,"pl-control--chromecast":!0,"pl-chromecast--available":t===Ar.a,"pl-chromecast--connecting":t===Ar.c,"pl-chromecast--connected":t===Ar.b});return we.a.createElement(Oe.a,{className:r,onClick:n},we.a.createElement(Te.a,{label:"Chromecast",iconId:"#icon_chromecast_p1"}),we.a.createElement("svg",{className:"pl-icon--chromecast-connected"},we.a.createElement("use",{xlinkHref:"#icon_chromecast_p2"})),we.a.createElement("svg",{className:"pl-icon--chromecast-connecting-A"},we.a.createElement("use",{xlinkHref:"#icon_chromecast_p3"})),we.a.createElement("svg",{className:"pl-icon--chromecast-connecting-B"},we.a.createElement("use",{xlinkHref:"#icon_chromecast_p4"})),we.a.createElement("svg",{className:"pl-icon--chromecast-connecting-C"},we.a.createElement("use",{xlinkHref:"#icon_chromecast_p5"})))}function Z(e){var t=e.castingState,n=e.playerType,r=e.stopCast,i=e.startCast;if(n===qe.o)return null;var a=void 0;return a=t===Ar.a?i:t===Ar.b?r:function(){},we.a.createElement(X,{castingState:t,onClick:a})}function ee(e){var t=e.theatreModeEnabled,n=e.turnOn,r=e.turnOff;return t?we.a.createElement(Oe.a,{className:Br,onClick:r,tabIndex:"-1"},we.a.createElement(Te.a,{label:"Exit Theatre Mode",iconId:"#icon_theatre_deactivate"})):we.a.createElement(Oe.a,{className:Br,onClick:n,tabIndex:"-1"},we.a.createElement(Te.a,{label:"Theatre Mode",iconId:"#icon_theatre"}))}function te(e){var t=e.canTheatreMode,n=e.isTheatreMode,r=e.enableTheatreMode,i=e.disableTheatreMode,a=e.isFullScreen;return t&&!a?we.a.createElement(ee,{theatreModeEnabled:n,turnOn:r,turnOff:i}):null}function ne(e){var t=e.canFullScreen,n=e.hasBranding,r=e.isFullScreen,i=e.onFullScreen,a=e.onUnFullScreen,o=je()({"player-button":!0,"qa-fullscreen-button":!0,"pl-button__fullscreen--cannot-fullscreen":!t,"pl-mg-r-1":!n,"pl-button__fullscreen--tooltip-left":!n});return r?we.a.createElement(Oe.a,{className:o,onClick:a,disabled:!t,tabIndex:"-1"},we.a.createElement(Te.a,{label:"Exit Fullscreen",iconId:"#icon_unfullscreen"})):we.a.createElement(Oe.a,{className:o,onClick:i,disabled:!t,tabIndex:"-1"},we.a.createElement(Te.a,{label:"Fullscreen",iconId:"#icon_fullscreen"}))}function re(e){var t=e.canFullScreen,n=e.hasBranding,r=e.isFullScreen,i=e.onFullScreen,a=e.onUnFullScreen;return we.a.createElement(ne,{canFullScreen:t,hasBranding:n,isFullScreen:r,onFullScreen:i,onUnFullScreen:a})}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function se(e,t,n){var r=e-.5*t,i=Math.max(0,Math.min(r,n-t));return isNaN(i)?0:i}function ue(e){var t=e.hideThumbnailPreview,n=e.duration,r=e.seekbarWidth,i=e.seekbarLeftOffset,a=e.previews,o=e.mouseMoveClientX,s=o-i,u=n*(s/r),c=ce(a,u,n);return we.a.createElement(Bi,{popupLeftOffset:s,popupObject:c,popupWidth:Fi,seekbarWidth:r,hideThumbnailPreview:t})}function ce(e,t,n){var r=Math.floor(e.count*(t/n)),i=r%(e.hq.cols*e.hq.rows),a=Fi/e.hq.width;return{thumbOver:{url:e.hq.URLs[Math.floor(r/(e.hq.cols*e.hq.rows))],height:e.hq.height*a,width:e.hq.width*a,sheetWidth:e.hq.width*e.hq.cols*a,x:i%e.hq.cols*e.hq.width*a,y:Math.floor(i/e.hq.cols)*e.hq.height*a},thumbUnder:{url:e.lq.URLs[0],height:e.hq.height*a,width:e.hq.width*a,sheetWidth:e.hq.width*e.lq.cols*a,x:r%e.lq.cols*e.hq.width*a,y:Math.floor(r/e.lq.cols)*e.hq.height*a},title:"",info:"",timestamp:ti.c(t,!1),width:Fi}}function le(e,t,n){var r=e-.5*t;return Math.max(0,Math.min(r,n-t))}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=Xi[e.type]/e.thumbnail.width;return{thumbOver:{url:e.thumbnail.imageURL,height:e.thumbnail.height*t,width:e.thumbnail.width*t,sheetWidth:e.thumbnail.width*e.thumbnail.cols*t,x:e.thumbnail.x*t,y:e.thumbnail.y*t},thumbUnder:{url:"",height:0,width:0,sheetWidth:0,x:0,y:0},title:e.title,info:e.info,timestamp:ti.c(e.startTime,!1),width:Xi[e.type]}}function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return isNaN(parseFloat(e[t]))?n:parseFloat(e[t])}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _e=n(0),we=n.n(_e),ke=n(1),Ee=n.n(ke),Se=n(7),Pe=n.n(Se),Ce=n(3),Oe=n(9),Te=n(41),xe=function(){return we.a.createElement("svg",{viewBox:"0 0 30 30",id:"icon_replay"},we.a.createElement("path",{d:"M10.308 15.688c0-2.792 2.329-5.063 5.192-5.063V14l5.77-4.5L15.5 5v3.375c-4.135 0-7.5 3.28-7.5 7.313C8 19.718 11.365 23 15.5 23s7.5-3.28 7.5-7.313h-2.308c0 2.792-2.329 5.063-5.192 5.063s-5.192-2.27-5.192-5.063z",fillRule:"evenodd"}))},Re=n(2),je=n.n(Re),Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ie={paused:Ee.a.bool.isRequired,showReplay:Ee.a.bool.isRequired,onPlay:Ee.a.func.isRequired,onPause:Ee.a.func.isRequired},Le=je()({"player-button":!0,"qa-pause-play-button":!0}),Ne=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),Ae(t,[{key:"render",value:function(){var e=this.props,t=e.paused,n=e.onPlay,r=e.onPause,i=t?n:r;return we.a.createElement(Oe.a,{className:Le,onClick:i,tabIndex:"-1"},this.getIcon())}},{key:"getIcon",value:function(){var e=this.props,t=e.paused;return e.showReplay?we.a.createElement("span",{className:"player-tip--aleft"},we.a.createElement(xe,null)):t?we.a.createElement(Te.a,{label:"Play",iconId:"#icon_play",labelClass:"player-tip--aleft"}):we.a.createElement(Te.a,{label:"Pause",iconId:"#icon_pause",labelClass:"player-tip--aleft"})}}]),t}(_e.Component);Ne.propTypes=Ie;var Me=n(14),De=n(22),qe=n(6),Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Be={pause:Ee.a.func.isRequired,play:Ee.a.func.isRequired,trackPlayPause:Ee.a.func.isRequired,unmutePlayer:Ee.a.func.isRequired,paused:Ee.a.bool.isRequired,showReplay:Ee.a.bool.isRequired,isMobileWeb:Ee.a.bool.isRequired},Fe=function(e){var t=e.playback,n=e.env;return{paused:t.paused,showReplay:Pe()(qe.b,n.playerType)&&t.paused&&t.ended,isMobileWeb:n.isMobileLocation}},Ve=function(e){return{play:function(){e(Object(Me.q)())},pause:function(){e(Object(Me.p)())},trackPlayPause:function(){e(Object(De.d)("player_click_playpause"))},unmutePlayer:function(){e(Object(Me.o)(!1))}}},He=function(e){function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onPauseHandler=e.onPauseHandler.bind(e),e.onPlayHandler=e.onPlayHandler.bind(e),e}return u(t,e),Ue(t,[{key:"render",value:function(){var e=this.props,t=e.paused,n=e.showReplay;return we.a.createElement(Ne,{onPause:this.onPauseHandler,onPlay:this.onPlayHandler,paused:t,showReplay:n})}},{key:"onPlayHandler",value:function(){var e=this.props,t=e.play,n=e.trackPlayPause;t(),n()}},{key:"onPauseHandler",value:function(){var e=this.props,t=e.pause,n=e.trackPlayPause,r=e.unmutePlayer,i=e.isMobileWeb;t(),n(),i&&r()}}]),t}(we.a.Component);He.propTypes=Be;var ze=Object(Ce.b)(Fe,Ve)(He),We=n(4),Ke=n(519),Ge=n.n(Ke),Qe=n(88),Ye={className:Ee.a.string,max:Ee.a.number.isRequired,min:Ee.a.number.isRequired,value:Ee.a.number.isRequired},$e={className:""},Je=function(e){var t=e.className,n=e.max,r=e.min,i=e.value,a=i-r,o=n-r,s=Object(Qe.a)(a,o)+"%";return we.a.createElement("div",{style:{width:s},className:t})};Je.propTypes=Ye,Je.defaultProps=$e;var Xe={className:Ee.a.string,max:Ee.a.number.isRequired,min:Ee.a.number.isRequired,value:Ee.a.number.isRequired},Ze={className:""},et=function(e){var t=e.className,n=e.max,r=e.min,i=e.value,a=i-r,o=n-r,s=Object(Qe.a)(a,o)+"%";return we.a.createElement("div",{style:{left:s},className:t})};et.propTypes=Xe,et.defaultProps=Ze;var tt=n(37),nt=n.n(tt),rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),it={afterSliderChildren:Ee.a.oneOfType([Ee.a.arrayOf(Ee.a.element),Ee.a.element]),behindSliderChildren:Ee.a.oneOfType([Ee.a.arrayOf(Ee.a.element),Ee.a.element]),classNames:Ee.a.shape({slider:Ee.a.string,sliderLeft:Ee.a.string,sliderThumb:Ee.a.string}),dragHandlers:Ee.a.shape({onStart:Ee.a.func,onDrag:Ee.a.func,onStop:Ee.a.func}),getOptimizedValue:Ee.a.func,max:Ee.a.number.isRequired,min:Ee.a.number.isRequired,onBlur:Ee.a.func,onClick:Ee.a.func,onKeyDown:Ee.a.func,onMouseMove:Ee.a.func,onMouseOut:Ee.a.func,sliderTabIndex:Ee.a.number,windowObj:Ee.a.object,value:Ee.a.number,valueOptimizationEnabled:Ee.a.bool},at={value:0,classNames:{},sliderTabIndex:0,valueOptimizationEnabled:!1,getOptimizedValue:function(){return 0}},ot=function(e){function t(){c(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,"data-whatInput":"",currentDragValue:0,touchIdentifier:-1,optimizedValue:0,requestAnimationID:0},e.handleTouchStart=e.handleTouchStart.bind(e),e.handleTouchEnd=e.handleTouchEnd.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleMouseUp=e.handleMouseUp.bind(e),e.handleClick=e.handleClick.bind(e),e.handleFocus=e.handleFocus.bind(e),e._sliderRefHandler=e._sliderRefHandler.bind(e),e.updateOptimizedValue=e.updateOptimizedValue.bind(e),e}return d(t,e),rt(t,[{key:"componentDidMount",value:function(){this.props.valueOptimizationEnabled&&this.updateOptimizedValue()}},{key:"componentWillUnmount",value:function(){this.props.valueOptimizationEnabled&&this.props.windowObj.cancelAnimationFrame(this.state.requestAnimationID)}},{key:"updateOptimizedValue",value:function(){this.setState({optimizedValue:this.props.getOptimizedValue(),requestAnimationID:this.props.windowObj.requestAnimationFrame(this.updateOptimizedValue)})}},{key:"render",value:function(){var e=this.props,t=e.afterSliderChildren,n=e.behindSliderChildren,r=e.classNames,i=e.max,a=e.min,o=e.onBlur,s=e.onKeyDown,u=e.onMouseMove,c=e.onMouseOut,l=e.sliderTabIndex,d=e.value,f=e.valueOptimizationEnabled,p=0;p=this.state.isDragging?this.state.currentDragValue:f?this.state.optimizedValue:d;var h=we.a.createElement(Je,{className:r.sliderLeft,max:i,min:a,value:p}),m=we.a.createElement(et,{className:r.sliderThumb,max:i,min:a,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,value:p});return we.a.createElement("div",{"aria-valuemax":i,"aria-valuemin":a,"aria-valuenow":p,className:r.slider,"data-isDragging":this.state.isDragging,"data-whatInput":this.state["data-whatInput"],onBlur:o,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:s,onMouseMove:u,onMouseOut:c,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,ref:this._sliderRefHandler,role:"slider",tabIndex:l},n,h,t,m)}},{key:"_sliderRefHandler",value:function(e){this.$slider=e}},{key:"calculateValueAtPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,n=t.max,r=t.min,i=this.$slider.getBoundingClientRect(),a=i.left,o=i.width;return 0===o?0:Math.min(1,Math.max(0,(e-a)/o))*(n-r)+r}},{key:"handleClick",value:function(e){var t=this.calculateValueAtPosition(e.pageX),n=this.props.onClick;n&&n(t,e)}},{key:"onDragStart",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({isDragging:!0,currentDragValue:t});var n=this.props.dragHandlers.onStart;n&&n(t,e)}},{key:"onDragEvent",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({currentDragValue:t});var n=this.props.dragHandlers.onDrag;n&&n(t,e)}},{key:"onDragEnd",value:function(e){this.setState({isDragging:!1,currentDragValue:0});var t=this.calculateValueAtPosition(e.pageX),n=this.props.dragHandlers.onStop;n&&n(t,e)}},{key:"handleFocus",value:function(){this.setState({"data-whatInput":Ge.a.ask()})}},{key:"addMoveHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slider){var t=this.$slider.ownerDocument;e?(t.addEventListener("touchmove",this),t.addEventListener("touchend",this),t.addEventListener("touchcancel",this)):(t.addEventListener("mousemove",this),t.addEventListener("mouseup",this))}}},{key:"removeMoveHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slider){var t=this.$slider.ownerDocument;e?(t.removeEventListener("touchmove",this),t.removeEventListener("touchend",this),t.removeEventListener("touchcancel",this)):(t.removeEventListener("mousemove",this),t.removeEventListener("mouseup",this))}}},{key:"handleTouchStart",value:function(e){var t=e.touches[0];this.setState({touchIdentifier:t.identifier}),this.onDragStart(t),this.addMoveHandlers(!0)}},{key:"handleTouchMove",value:function(e){var t=this,n=nt()(e.touches,function(e){return e.identifier===t.state.touchIdentifier});n&&this.onDragEvent(n)}},{key:"handleTouchEnd",value:function(e){var t=this,n=nt()(e.changedTouches,function(e){return e.identifier===t.state.touchIdentifier});n&&(this.onDragEnd(n),this.removeMoveHandlers(!0),this.setState({touchIdentifier:-1}))}},{key:"handleMouseDown",value:function(e){this.onDragStart(e),this.addMoveHandlers(!1)}},{key:"handleMouseMove",value:function(e){this.onDragEvent(e)}},{key:"handleMouseUp",value:function(e){this.onDragEnd(e),this.removeMoveHandlers(!1)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchmove":return this.handleTouchMove(e);case"touchend":case"touchcancel":return this.handleTouchEnd(e);case"mousemove":return this.handleMouseMove(e);case"mouseup":return this.handleMouseUp(e);default:throw Error("unexpected Slider event type: "+e.type)}}}]),t}(we.a.Component);ot.propTypes=it,ot.defaultProps=at;var st=n(8),ut=n(104),ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),lt={muted:Ee.a.bool,mutePlayer:Ee.a.func,changeVolume:Ee.a.func,volume:Ee.a.number,trackVolumeButtonClick:Ee.a.func,isPlayingSound:Ee.a.bool,t:Ee.a.func,showVolumeSlider:Ee.a.bool},dt=function(e){return{muted:e.playback.muted,volume:e.playback.volume,isPlayingSound:Object(ut.c)(e),showVolumeSlider:e.ui.showVolumeSlider}},ft=function(e){return{mutePlayer:function(t){e(Object(Me.o)(t,!1))},changeVolume:function(t){e(Object(Me.n)(t))},trackVolumeButtonClick:function(t){var n=t?"mute":"unmute";e(Object(De.d)("player_click",{component:"volume_button",component_state:n}))}}},pt={slider:"player-volume__slider player-slider",sliderLeft:"ui-slider-range",sliderThumb:"ui-slider-handle"},ht=je()("pl-flex","pl-flex__item--grow","player-volume"),mt=function(e){function t(){f(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleIconClick=e.handleIconClick.bind(e),e.handleSliderChange=e.handleSliderChange.bind(e),e}return h(t,e),ct(t,[{key:"render",value:function(){var e=this.props,t=e.muted,n=e.volume;if(!e.showVolumeSlider)return null;var r=t?0:n,i=this.getVolumeIcon();return we.a.createElement("div",{className:ht},we.a.createElement("button",{type:"button",className:"player-button player-button--volume qa-control-volume",onClick:this.handleIconClick},i),we.a.createElement("div",{className:"player-volume__slider-container"},we.a.createElement(ot,{classNames:pt,max:1,min:0,value:r,skipAnimation:!0,dragHandlers:{onDrag:this.handleSliderChange,onStop:this.handleSliderChange},onClick:this.handleSliderChange})))}},{key:"handleSliderChange",value:function(e){var t=this.props,n=t.changeVolume,r=t.mutePlayer;n(e),r(!1)}},{key:"handleIconClick",value:function(){var e=this.props,t=e.volume,n=e.changeVolume,r=e.mutePlayer,i=e.trackVolumeButtonClick;e.isPlayingSound?(r(!0),i(!0)):(r(!1),i(!1),0===t&&n(st.G))}},{key:"getVolumeIcon",value:function(){var e=this.props,t=e.t,n=e.isPlayingSound,r=we.a.createElement("span",{className:"unmute-button"},we.a.createElement("span",{className:"player-tip","data-tip":t("Unmute")}),we.a.createElement("svg",{className:"player-icon-volumemute"},we.a.createElement("use",{xlinkHref:"#icon_volumemute"}))),i=we.a.createElement("span",{className:"mute-button"},we.a.createElement("span",{className:"player-tip","data-tip":t("Mute")}),we.a.createElement("svg",{className:"player-icon-volumefull"},we.a.createElement("use",{xlinkHref:"#icon_volumefull"})));return n?i:r}}]),t}(we.a.Component);mt.propTypes=lt;var yt=Object(We.c)()(Object(Ce.b)(dt,ft)(mt)),vt=function(){return we.a.createElement("div",{className:"player-buttons-left"},we.a.createElement(ze,null),we.a.createElement(yt,null))},gt=n(183),bt=n(27),_t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wt={i18n:Ee.a.object.isRequired,windowObj:Ee.a.object.isRequired,notifications:Ee.a.arrayOf(Ee.a.func).isRequired,removeCurrentNotification:Ee.a.func,currentMenu:Ee.a.string.isRequired},kt=function(e){var t=e.notifications,n=e.lang,r=e.ui,i=e.window;return{notifications:t,i18n:n,currentMenu:r.showSettings,windowObj:i}},Et=function(e){return{removeCurrentNotification:function(){e(Object(gt.d)())}}},St=function(e){function t(){m(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return v(t,e),_t(t,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.currentMenu,r=n!==bt.j;if(!t.length||r)return null;var i=t[0];return we.a.createElement(i,{onClose:this.handleClose,showNotification:!r})}},{key:"handleClose",value:function(){this.props.removeCurrentNotification()}}]),t}(we.a.Component);St.propTypes=wt;var Pt=Object(Ce.b)(kt,Et)(St),Ct=n(143),Ot=n.n(Ct),Tt={bannerLabel:Ee.a.string.isRequired,showBanner:Ee.a.bool.isRequired},xt=je()({"pl-settings-container":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0}),Rt=function(e){var t=e.bannerLabel,n=e.showBanner,r=je()({"pl-pill":!0,"pl-settings-banner--animateIn":n,"pl-settings-banner--animateOut":!n,"qa-settings-banner-span":!0});return we.a.createElement("div",{className:xt},we.a.createElement("span",{className:r},t))};Rt.propTypes=Tt;var jt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),At={availableQualities:Ee.a.array.isRequired,currentQuality:Ee.a.string.isRequired,playbackRate:Ee.a.number.isRequired,t:Ee.a.func.isRequired,windowObj:Ee.a.object.isRequired},It=function(e){var t=e.playback,n=e.quality,r=e.window;return{availableQualities:n.available,currentQuality:n.current,playbackRate:t.playbackRate,windowObj:r}},Lt=function(e){function t(){g(this,t);var e=b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={canRenderBanner:!1,lastQuality:"",hasChangedQuality:!1},e.bannerHideTimeout=0,e}return _(t,e),jt(t,[{key:"componentWillReceiveProps",value:function(e){e.currentQuality!==this.state.lastQuality&&this._onQualityPropChange(e),(this.state.hasChangedQuality||e.currentQuality!==this.state.lastQuality||1!==e.playbackRate)&&this.setState({canRenderBanner:!0})}},{key:"componentWillUnmount",value:function(){0!==this.bannerHideTimeout&&this.props.windowObj.clearTimeout(this.bannerHideTimeout)}},{key:"clearBannerHideTimeout",value:function(){this.props.windowObj.clearTimeout(this.bannerHideTimeout),this.bannerHideTimeout=0}},{key:"showBannerForQuality",value:function(e){this.setState({lastQuality:e,hasChangedQuality:!0})}},{key:"hideBannerForQuality",value:function(){this.setState({hasChangedQuality:!1}),this.bannerHideTimeout=0}},{key:"_onQualityPropChange",value:function(e){var t=this;0!==this.bannerHideTimeout&&this.clearBannerHideTimeout(),this.showBannerForQuality(e.currentQuality),this.bannerHideTimeout=e.windowObj.setTimeout(function(){t.hideBannerForQuality()},5e3)}},{key:"render",value:function(){var e=this.props.playbackRate,t=this.state,n=t.canRenderBanner,r=t.hasChangedQuality,i=r||1!==e,a=this._getBannerLabel();return n?we.a.createElement(Rt,{bannerLabel:a,showBanner:i}):null}},{key:"_getBannerLabel",value:function(){var e=this.props.playbackRate;return this.state.hasChangedQuality?this._getQualityName():1!==e?e+"x":""}},{key:"_getQualityName",value:function(){var e=this.props,t=e.availableQualities,n=e.currentQuality,r=e.t,i=nt()(t,function(e){return e.group===n});return r(i?i.name:"")}}]),t}(we.a.Component);Lt.propTypes=At;var Nt=Object(We.c)()(Object(Ce.b)(It)(Lt)),Mt={onClick:Ee.a.func,showSpinningAnimation:Ee.a.bool.isRequired},Dt={onClick:function(){}},qt=function(e){var t=e.onClick,n=e.showSpinningAnimation,r=je()({"qa-settings-button":!0,"player-button--settings":!0,"player-button":!0}),i=je()({"pl-settings-icon":!0,"pl-settings-icon--spin":n});return we.a.createElement(Oe.a,{onClick:t,className:r},we.a.createElement(Te.a,{label:"Settings",iconId:"#icon_settings",iconClass:i}))};qt.propTypes=Mt,qt.defaultProps=Dt;var Ut=n(189),Bt=n(40),Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vt={isAutoQuality:Ee.a.bool.isRequired,isEnded:Ee.a.bool.isRequired,isPaused:Ee.a.bool.isRequired,isSettingsShown:Ee.a.bool.isRequired,isClipsPlayerType:Ee.a.bool.isRequired,onShowSettings:Ee.a.func,playerHeight:Ee.a.number.isRequired,qualitiesAvailable:Ee.a.bool.isRequired,qualityIsChanging:Ee.a.bool.isRequired,trackEvent:Ee.a.func.isRequired,windowObj:Ee.a.object.isRequired},Ht={showSettings:function(){}},zt=function(e){var t=e.analyticsTracker,n=e.quality,r=e.playback,i=e.playerDimensions,a=e.ui,o=e.window,s=e.env;return{isAutoQuality:n.selected===Bt.h,isEnded:r.ended,isPaused:r.paused,isSettingsShown:a.showSettings===bt.k,isClipsPlayerType:qe.b.includes(s.playerType),playerHeight:i.height,qualitiesAvailable:n.available.length>0,qualityIsChanging:n.selected!==n.current,trackEvent:t.trackEvent,windowObj:o}},Wt=function(e){return{onShowSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt.j;e(Object(bt.r)(t))}}},Kt=function(e){function t(){w(this,t);var e=k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSettingsButtonClick=e.handleSettingsButtonClick.bind(e),e.handleWindowBlur=e.handleWindowBlur.bind(e),e}return E(t,e),Ft(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this.handleWindowBlur)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this.handleWindowBlur)}},{key:"handleWindowBlur",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(bt.j)}},{key:"handleClickOutside",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(bt.j)}},{key:"handleSettingsButtonClick",value:function(){var e=this.props.isSettingsShown?bt.j:bt.k;this.props.onShowSettings(e),this.props.trackEvent("player_click_options")}},{key:"render",value:function(){var e=this.props,t=e.isAutoQuality,n=e.isEnded,r=e.isPaused,i=e.isSettingsShown,a=e.playerHeight,o=e.qualitiesAvailable,s=e.qualityIsChanging,u=e.isClipsPlayerType,c=i?we.a.createElement(Ut.h,{playerHeight:a}):null,l=!t&&o&&s&&!u,d=!n&&!r,f=l&&d;return we.a.createElement("div",{className:"pl-flex"},we.a.createElement(Nt,null),we.a.createElement(qt,{onClick:this.handleSettingsButtonClick,showSpinningAnimation:f}),c)}}]),t}(we.a.Component);Kt.propTypes=Vt,Kt.defaultProps=Ht;var Gt=Object(Ce.b)(zt,Wt)(Ot()(Kt)),Qt=n(5),Yt=n.n(Qt),$t={onClick:Ee.a.func,tooltip:Ee.a.string.isRequired},Jt={onClick:function(){}},Xt=function(e){var t=e.onClick,n=e.tooltip;return we.a.createElement(Oe.a,{onClick:t,className:"player-button"},we.a.createElement(Te.a,{label:n,labelClass:"extension-settings-button__tooltip",iconId:"#icon_extensions",iconClass:"pl-settings-icon"}))};Xt.propTypes=$t,Xt.defaultProps=Jt;var Zt=n(42),en=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tn={extension:Zt.b,onClick:Ee.a.func},nn={onClick:function(){}},rn=function(e){function t(){S(this,t);var e=P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return C(t,e),en(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.extension)}},{key:"render",value:function(){return we.a.createElement(Oe.a,{onClick:this.handleClick,className:"qa-extension-list-button"},we.a.createElement("span",null,this.props.extension.name))}}]),t}(we.a.Component);rn.propTypes=tn,rn.defaultProps=nn;var an=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),on={extensions:Ee.a.arrayOf(Zt.b).isRequired,onExtensionClick:Ee.a.func,t:Ee.a.func.isRequired},sn={onExtensionClick:function(){}},un=je()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),cn=je()({"pl-menu__section":!0,"pl-menu__item--block":!0,"pl-menu__item--label":!0}),ln=je()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),dn=function(e){function t(){O(this,t);var e=T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleExtensionClick=e.handleExtensionClick.bind(e),e}return x(t,e),an(t,[{key:"handleExtensionClick",value:function(e){this.props.onExtensionClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.extensions,r=t.t,i=n.map(function(t){return we.a.createElement("div",{className:un,key:t.id},we.a.createElement(rn,{onClick:e.handleExtensionClick,extension:t}))});return we.a.createElement("div",{className:"pl-menu__inner"},we.a.createElement("div",{className:cn},we.a.createElement("span",null,r("Active Extensions"))),we.a.createElement("div",{className:ln},i))}}]),t}(we.a.Component);dn.propTypes=on,dn.defaultProps=sn;var fn=Object(We.c)()(dn),pn=n(39),hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mn={extension:Zt.b,isLoggedIn:Ee.a.bool.isRequired,showBackButton:Ee.a.bool,onMenuTransition:Ee.a.func,trackEvent:Ee.a.func.isRequired,windowObj:Ee.a.object.isRequired,t:Ee.a.func.isRequired},yn={onMenuTransition:function(){},showBackButton:!0},vn=je()({"pl-menu__section":!0,"pl-menu__item--label":!0,"extension-menu-details__header":!0}),gn=je()({"pl-menu__item--label":!0,"extension-menu-details__desc":!0}),bn=je()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),_n=je()({"pl-menu__item":!0,"pl-menu__item--block":!0}),wn=je()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),kn=je()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),En=function(e){function t(){R(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleViewDetailsClick=e.handleViewDetailsClick.bind(e),e.handleManageAccessClick=e.handleManageAccessClick.bind(e),e.handleReportExtensionClick=e.handleReportExtensionClick.bind(e),e}return A(t,e),hn(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(pn.d)}},{key:"handleViewDetailsClick",value:function(){var e="https://www.twitch.tv/ext/"+this.props.extension.id+"-"+this.props.extension.version;this.props.windowObj.open(e,"_blank")}},{key:"handleManageAccessClick",value:function(){this.props.onMenuTransition(pn.e)}},{key:"handleReportExtensionClick",value:function(){this.props.onMenuTransition(pn.f),this.props.trackEvent("extension_ui_interaction_client",this.props.extension,{extension_interaction:"report"})}},{key:"render",value:function(){var e=this.props,t=e.extension,n=e.t,r=this._renderHeader(),i=we.a.createElement("div",{className:_n},we.a.createElement(Oe.a,{onClick:this.handleViewDetailsClick,className:"qa-extension-details-button"},n("View Details"))),a=this._renderManageAccess(),o=we.a.createElement("div",{className:wn},we.a.createElement(Oe.a,{onClick:this.handleReportExtensionClick,className:"qa-extension-report-button"},n("Report Extension")));return we.a.createElement("div",{className:"pl-menu__inner"},r,we.a.createElement("div",{className:kn},we.a.createElement("div",{className:gn},t.summary),i,a,o))}},{key:"_renderHeader",value:function(){var e=this.props,t=e.extension;return e.showBackButton?we.a.createElement("div",{className:bn},we.a.createElement(Oe.a,{onClick:this.handleBackButtonClick,className:"qa-extension-back-button"},t.name)):we.a.createElement("div",{className:vn},t.name)}},{key:"_renderManageAccess",value:function(){var e=this.props,t=e.extension,n=e.t,r=t.supportsIdentityLinking,i=t.token.permissionsState===pn.g;if(t.token.role===pn.i||!this.props.isLoggedIn||!r&&!i)return null;var a=je()({"pl-pill":!0,"extension-access-granted":t.lastUserIdentityLinkState,"extension-access-requested":!t.lastUserIdentityLinkState}),o="Manage Access",s="!";return t.lastUserIdentityLinkState&&(o="Access",s=n("Granted")),we.a.createElement("div",{className:wn},we.a.createElement(Oe.a,{onClick:this.handleManageAccessClick,className:"qa-extension-manage-access-button"},we.a.createElement("span",null,n(o)),"",we.a.createElement("span",{className:a},s)))}}]),t}(we.a.Component);En.propTypes=mn,En.defaultProps=yn;var Sn=Object(We.c)()(En),Pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cn={extension:Zt.b,onMenuTransition:Ee.a.func,onIdentityToggle:Ee.a.func,trackEvent:Ee.a.func.isRequired,t:Ee.a.func.isRequired},On={onMenuTransition:function(){},onIdentityToggle:function(){}},Tn=je()("pl-menu__section","pl-menu__section--with-sep"),xn=je()("pl-menu__item","pl-menu__item--block","pl-menu__item--with-caret-left"),Rn=je()("qa-menu-summary-label","pl-menu__item--label"),jn=je()("pl-menu__item--label","extension-menu__access-list"),An=je()("extension-menu__access-list-header"),In=je()("pl-menu__item--label","extension-menu-footer"),Ln=je()("qa-menu-toggle-access-btn","pl-button","extension-menu-footer__button"),Nn=function(e){function t(){I(this,t);var e=L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleIdentityToggleClick=e.handleIdentityToggleClick.bind(e),e}return N(t,e),Pn(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(pn.c)}},{key:"handleIdentityToggleClick",value:function(){this.props.onIdentityToggle(this.props.extension);var e=this.props.extension.lastUserIdentityLinkState?"revoke":"grant";this.props.trackEvent("extension_ui_interaction_client",this.props.extension,{extension_interaction:e})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.extension,r=st.C+"/settings/connections",i=we.a.createElement("b",null,n.name),a="Grant Access",o=we.a.createElement(We.b,{i18nKey:"You are granting {{extensionName}} the following access:",extensionName:i});return n.lastUserIdentityLinkState&&(a="Revoke Access",o=we.a.createElement(We.b,{i18nKey:"You are revoking the following access for {{extensionName}}:",extensionName:i})),we.a.createElement("div",{className:"pl-menu__inner"},we.a.createElement("div",{className:xn},we.a.createElement(Oe.a,{onClick:this.handleBackButtonClick,className:"qa-menu-back-btn"},we.a.createElement("span",{className:"qa-menu-back-label"},t(a)))),we.a.createElement("div",{className:Tn},we.a.createElement("div",{className:Rn},we.a.createElement("span",null,o)),we.a.createElement("div",{className:jn},we.a.createElement("div",{className:An},t("Your Twitch User ID")),we.a.createElement("span",null,t("Allows this extension to know your User ID on Twitch.")),we.a.createElement("p",null,we.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"qa-menu-manage-permission-link"},t("Manage Permissions")))),we.a.createElement("div",{className:In},we.a.createElement(Oe.a,{onClick:this.handleIdentityToggleClick,className:Ln},we.a.createElement("span",{className:"qa-menu-toggle-access-label"},t(a))))))}}]),t}(we.a.Component);Nn.propTypes=Cn,Nn.defaultProps=On;var Mn=Object(We.c)()(Nn),Dn=n(20),qn=n.n(Dn),Un=n(10),Bn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fn={t:Ee.a.func.isRequired,channel:Ee.a.string.isRequired,onMenuTransition:Ee.a.func,authenticityToken:Ee.a.string.isRequired,extension:Ee.a.shape({id:Ee.a.string.isRequired,name:Ee.a.string.isRequired,version:Ee.a.string.isRequired}).isRequired},Vn={onMenuTransition:function(){}},Hn=je()("pl-form__input","extension-report__desc"),zn=je()({"extension-menu-footer":!0}),Wn=je()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),Kn=je()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),Gn=je()({"pl-mg-b-1":!0,"pl-menu__item":!0,"pl-menu__item--label":!0}),Qn=je()({"pl-menu__item":!0,"pl-menu__item--label":!0}),Yn=["reported_user","authenticity_token","tos_ban","reason","description"],$n=function(e){function t(e){D(this,t);var n=q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={reported_user:e.channel,authenticity_token:e.authenticityToken,tos_ban:"false",reason:"",description:"",sent:!1},n.canSubmit=n.canSubmit.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleBackButtonClick=n.handleBackButtonClick.bind(n),n}return U(t,e),Bn(t,[{key:"canSubmit",value:function(){var e=this.state,t=e.sent,n=e.description,r=e.reason,i=n&&r;return!t&&i}},{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(pn.c)}},{key:"handleInputChange",value:function(e){this.setState(M({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=this,t=[this.state.description,"Extension ID: "+this.props.extension.id,"Extension Name: "+this.props.extension.name,"Extension Version: "+this.props.extension.version].join("\n");return Object(Un.t)(qn()(Yt()({},this.state,{description:t}),Yn)).then(function(){e.setState({sent:!0})})}},{key:"render",value:function(){var e,t=we.a.createElement("a",{href:"https://www.twitch.tv/p/terms-of-service",target:"_blank",rel:"noopener noreferrer"},this.props.t("terms of service")),n=this.canSubmit(),r=je()((e={},M(e,"qa-ext-report-submit-btn",!0),M(e,"pl-button",!0),M(e,"pl-button--hollow",!n),e)),i=we.a.createElement("form",null,we.a.createElement("select",{className:Hn,name:"reason",value:this.state.reason,onBlur:this.handleInputChange,onChange:this.handleInputChange},we.a.createElement("option",{value:""},"Select Reason"),we.a.createElement("option",{value:"selfharm"},"Self-Harm"),we.a.createElement("option",{value:"harm"},"Attempts or Threats to Harm"),we.a.createElement("option",{value:"harassment"},"Harassment"),we.a.createElement("option",{value:"hate_speech"},"Hate Speech"),we.a.createElement("option",{value:"impersonation"},"Impersonation"),we.a.createElement("option",{value:"spam"},"Spam, Scams, or Other Malicious Content"),we.a.createElement("option",{value:"porn"},"Porn or Other Sexually Explicit Content"),we.a.createElement("option",{value:"nudity"},"Nudity or Sexual Behavior/Attire"),we.a.createElement("option",{value:"gore"},"Extreme Violence, Gore, or Other Obscene Content"),we.a.createElement("option",{value:"cheating"},"Cheating in Online Game"),we.a.createElement("option",{value:"bits_violation"},"Bits Acceptable Use Policy Violation"),we.a.createElement("option",{value:"other"},"Other Terms of Service Violation")),we.a.createElement("br",null),we.a.createElement("textarea",{className:Hn,name:"description",value:this.state.description,rows:2,onChange:this.handleInputChange,placeholder:this.props.t("Description (required)")}),we.a.createElement("div",{className:zn},we.a.createElement(Oe.a,{disabled:!n,className:r,onClick:this.handleSubmit},we.a.createElement("span",{className:"qa-ext-report-submit-label"},this.props.t(this.state.sent?"Sent!":"Submit")))));return we.a.createElement("div",{className:"pl-menu__inner"},we.a.createElement("div",{className:Wn},we.a.createElement(Oe.a,{onClick:this.handleBackButtonClick,className:"qa-menu-back-btn"},we.a.createElement("span",{className:"qa-menu-back-label"},this.props.t("Report Extension")))),we.a.createElement("div",{className:Kn},we.a.createElement("div",{className:Gn},we.a.createElement(We.b,{i18nKey:"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)",tosLink:t})),we.a.createElement("div",{className:Qn},i)))}}]),t}(we.a.Component);$n.propTypes=Fn,$n.defaultProps=Vn;var Jn=Object(We.c)()($n),Xn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zn={playerHeight:Ee.a.number.isRequired,onIdentityToggle:Ee.a.func.isRequired,extensions:Ee.a.arrayOf(Zt.b).isRequired,isLoggedIn:Ee.a.bool.isRequired,trackEvent:Ee.a.func.isRequired,windowObj:Ee.a.object.isRequired,submenu:Ee.a.string,handleMenuTransition:Ee.a.func.isRequired},er=function(e){function t(){B(this,t);var e=F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentExtension:e.props.extensions[0]},e.handleExtensionClick=e.handleExtensionClick.bind(e),e}return V(t,e),Xn(t,[{key:"handleExtensionClick",value:function(e){this.props.handleMenuTransition(pn.c),this.setState({currentExtension:e}),this.props.trackEvent("extension_setting_click",e)}},{key:"componentDidMount",value:function(){1!==this.props.extensions.length||this.props.submenu||this.handleExtensionClick(this.props.extensions[0])}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-Ut.i+"px"};return we.a.createElement("div",{className:"pl-menu",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.props.submenu){case pn.c:return we.a.createElement(Sn,{onMenuTransition:this.props.handleMenuTransition,showBackButton:this.props.extensions.length>1,extension:this.state.currentExtension,isLoggedIn:this.props.isLoggedIn,trackEvent:this.props.trackEvent,windowObj:this.props.windowObj});case pn.e:return we.a.createElement(Mn,{onMenuTransition:this.props.handleMenuTransition,onIdentityToggle:this.props.onIdentityToggle,trackEvent:this.props.trackEvent,extension:this.state.currentExtension});case pn.f:return we.a.createElement(Jn,{onMenuTransition:this.props.handleMenuTransition,channel:this.state.channel,extension:this.state.currentExtension});case pn.d:default:return we.a.createElement(fn,{onExtensionClick:this.handleExtensionClick,extensions:this.props.extensions})}}}]),t}(we.a.Component);er.propTypes=Zn;var tr=n(69),nr=n(12),rr=n(23),ir=n(89),ar=n(38),or=n(101),sr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ur=Object.freeze([pn.d,pn.c,pn.e,pn.f]),cr={isLoggedIn:Ee.a.bool.isRequired,isSettingsShown:Ee.a.bool.isRequired,extensionsSubmenu:Ee.a.string,onShowSettings:Ee.a.func,onIdentityToggle:Ee.a.func.isRequired,playerHeight:Ee.a.number.isRequired,loginId:Ee.a.number.isRequired,locale:Ee.a.string.isRequired,playerType:Ee.a.string.isRequired,trackEvent:Ee.a.func.isRequired,windowObj:Ee.a.object.isRequired,extensions:Ee.a.arrayOf(Zt.b).isRequired,shouldEnableExtensions:Ee.a.bool.isRequired,onMenuTransition:Ee.a.func.isRequired},lr={showSettings:function(){},extensions:[]},dr=function(e){return{extensions:e.extensions.activeOverlayExtensions,isLoggedIn:e.user.loggedInStatus===ar.a,isSettingsShown:e.ui.showSettings===bt.i,extensionsSubmenu:e.ui.showExtensionsSubmenu,shouldEnableExtensions:e.env.platform!==tr.a&&!pn.a.hasOwnProperty(e.env.playerType)&&e.stream.contentType===nr.a&&e.streamMetadata.streamType!==ir.b&&e.playback.contentShowing&&e.onlineStatus===rr.b,playerHeight:e.playerDimensions.height,loginId:e.user.id,locale:e.lang.langCode,playerType:e.env.playerType,trackEvent:e.analyticsTracker.trackEvent,windowObj:e.window}},fr=function(e){return{onShowSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt.j;e(Object(bt.r)(t))},onIdentityToggle:function(t){e(Object(or.p)(t.id))},onMenuTransition:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn.d;e(Object(bt.q)(t))}}},pr=function(e){function t(){H(this,t);var e=z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSettingsButtonClick=e.handleSettingsButtonClick.bind(e),e.handleWindowBlur=e.handleWindowBlur.bind(e),e.handleIdentityToggleClick=e.handleIdentityToggleClick.bind(e),e.trackEvent=e.trackEvent.bind(e),e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return W(t,e),sr(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this.handleWindowBlur)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this.handleWindowBlur)}},{key:"trackEvent",value:function(e,t,n){this.props.trackEvent(e,Yt()(n,{extension_id:t.id,extension_version:t.version,extension_anchor:t.anchor,extension_mode:"viewer",locale:this.props.locale,login_id:this.props.loginId,player_type:this.props.playerType}))}},{key:"handleWindowBlur",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(bt.j)}},{key:"handleClickOutside",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(bt.j)}},{key:"handleIdentityToggleClick",value:function(e){this.props.onIdentityToggle(e),this.props.onShowSettings(bt.j)}},{key:"handleSettingsButtonClick",value:function(){var e=this.props.isSettingsShown?bt.j:bt.i;this.props.onShowSettings(e)}},{key:"handleMenuTransition",value:function(e){Pe()(ur,e)&&this.props.onMenuTransition(e)}},{key:"render",value:function(){var e=this.props.extensions.filter(function(e){return e.anchor!==pn.b});if(!this.props.shouldEnableExtensions||0===e.length)return null;var t=this.props.isSettingsShown?we.a.createElement(er,{extensions:e,submenu:this.props.extensionsSubmenu,isLoggedIn:this.props.isLoggedIn,onIdentityToggle:this.handleIdentityToggleClick,playerHeight:this.props.playerHeight,trackEvent:this.trackEvent,windowObj:this.props.windowObj,handleMenuTransition:this.handleMenuTransition}):null;return we.a.createElement("div",{className:"pl-flex"},we.a.createElement(Xt,{onClick:this.handleSettingsButtonClick,tooltip:"Extensions"}),t)}}]),t}(we.a.Component);pr.propTypes=cr,pr.defaultProps=lr;var hr=Ot()(pr),mr=Object(Ce.b)(dr,fr)(hr),yr=n(36),vr={captionsEnabled:Ee.a.bool.isRequired,onDisableCaptions:Ee.a.func.isRequired,onEnableCaptions:Ee.a.func.isRequired},gr=je()({"player-button":!0});K.propTypes=vr;var br={captionsAvailable:Ee.a.bool.isRequired,captionsEnabled:Ee.a.bool.isRequired,onEnableCaptions:Ee.a.func.isRequired,onDisableCaptions:Ee.a.func.isRequired},_r=function(e){var t=e.captions;return{captionsAvailable:t.available,captionsEnabled:t.enabled}},wr=function(e){return{onEnableCaptions:function(){e(Object(yr.i)(!0)),e(Object(De.d)("player_click_cc"))},onDisableCaptions:function(){e(Object(yr.i)(!1)),e(Object(De.d)("player_click_cc"))}}};G.propTypes=br;var kr=Object(Ce.b)(_r,wr)(G),Er={hasAltShortcut:Ee.a.bool.isRequired,onClip:Ee.a.func.isRequired};Q.propTypes=Er;var Sr=n(190),Pr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cr={clipGenerator:Ee.a.shape({recordClip:Ee.a.func.isRequired}).isRequired,userCanClip:Ee.a.bool.isRequired,isSitePlayer:Ee.a.bool.isRequired,trackClipRecord:Ee.a.func.isRequired},Or=function(e){return{clipGenerator:e.clips.generator,isSitePlayer:e.env.playerType===qe.s,userCanClip:Object(Sr.b)(e)}},Tr=function(e){return{trackClipRecord:function(){e(Object(De.d)("player_click_clip"))}}},xr=function(e){function t(){Y(this,t);var e=$(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClip=e.onClip.bind(e),e}return J(t,e),Pr(t,[{key:"onClip",value:function(){this.props.clipGenerator.recordClip(),this.props.trackClipRecord()}},{key:"render",value:function(){var e=this.props,t=e.isSitePlayer;return e.userCanClip?we.a.createElement(Q,{onClip:this.onClip,hasAltShortcut:t}):null}}]),t}(we.a.Component);xr.propTypes=Cr;var Rr=Object(Ce.b)(Or,Tr)(xr),jr=n(102),Ar=n(68),Ir={castingState:Ee.a.string.isRequired,onClick:Ee.a.func.isRequired};X.propTypes=Ir;var Lr={castingState:Ee.a.string.isRequired,playerType:Ee.a.string.isRequired,startCast:Ee.a.func,stopCast:Ee.a.func},Nr={startCast:function(){},stopCast:function(){}},Mr=function(e){var t=e.chromecast,n=e.env;return{castingState:t.castingState,playerType:n.playerType}},Dr=function(e){return{startCast:function(){e(Object(jr.g)())},stopCast:function(){e(Object(jr.h)())}}};Z.propTypes=Lr,Z.defaultProps=Nr;var qr=Object(Ce.b)(Mr,Dr)(Z),Ur={theatreModeEnabled:Ee.a.bool.isRequired,turnOn:Ee.a.func.isRequired,turnOff:Ee.a.func.isRequired},Br=je()({"player-button":!0,"qa-theatre-mode-button":!0});ee.propTypes=Ur;var Fr=n(29),Vr={canTheatreMode:Ee.a.bool.isRequired,disableTheatreMode:Ee.a.func.isRequired,enableTheatreMode:Ee.a.func.isRequired,isFullScreen:Ee.a.bool.isRequired,isTheatreMode:Ee.a.bool.isRequired},Hr=function(e){var t=e.screenMode;return{canTheatreMode:t.canTheatreMode,isFullScreen:t.isFullScreen,isTheatreMode:t.isTheatreMode}},zr=function(e){return{enableTheatreMode:function(){e(Object(Fr.h)(!0)),e(Object(De.d)("player_click_theater"))},disableTheatreMode:function(){e(Object(Fr.h)(!1)),e(Object(De.d)("player_click_theater"))}}};te.propTypes=Vr;var Wr=Object(Ce.b)(Hr,zr)(te),Kr={canFullScreen:Ee.a.bool.isRequired,hasBranding:Ee.a.bool.isRequired,isFullScreen:Ee.a.bool.isRequired,onFullScreen:Ee.a.func.isRequired,onUnFullScreen:Ee.a.func.isRequired};ne.propTypes=Kr;var Gr={canFullScreen:Ee.a.bool.isRequired,hasBranding:Ee.a.bool.isRequired,isFullScreen:Ee.a.bool.isRequired,onFullScreen:Ee.a.func.isRequired,onUnFullScreen:Ee.a.func.isRequired},Qr=function(e){var t=e.screenMode,n=e.playerOptions;return{canFullScreen:t.canFullScreen,hasBranding:n.branding,isFullScreen:t.isFullScreen}},Yr=function(e){return{onFullScreen:function(){e(Object(Fr.g)(!0)),e(Object(De.d)("player_click_fullscreen"))},onUnFullScreen:function(){e(Object(Fr.g)(!1)),e(Object(De.d)("player_click_fullscreen"))}}};re.propTypes=Gr;var $r=Object(Ce.b)(Qr,Yr)(re),Jr={onClick:Ee.a.func.isRequired,buttonLabel:Ee.a.string.isRequired},Xr={onClick:function(){},buttonLabel:""},Zr=je()("player-button","player-button--twitch","qa-watch-twitch-button"),ei=function(e){var t=e.onClick,n=e.buttonLabel;return we.a.createElement(Oe.a,{className:Zr,onClick:t},we.a.createElement(Te.a,{label:n,iconId:"#icon_twitch",labelClass:"player-tip--aright"}))};ei.propTypes=Jr,ei.defaultProps=Xr;var ti=n(31),ni=n(11),ri=n(82),ii=n(99),ai=n(191),oi=n(280),si=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ui={currentTime:Ee.a.number.isRequired,streamType:Ee.a.string,channelName:Ee.a.string.isRequired,videoId:Ee.a.string,metadataUrl:Ee.a.string,windowObj:Ee.a.object.isRequired,showBranding:Ee.a.bool.isRequired,pausePlayer:Ee.a.func.isRequired,t:Ee.a.func.isRequired},ci={streamType:ri.a,videoId:""},li=function(e){var t=e.playback,n=e.stream,r=e.streamMetadata,i=e.window,a=e.playerOptions;return{currentTime:t.currentTime,streamType:n.contentType,channelName:r.channel.name,videoId:r.videoId,metadataUrl:r.url,windowObj:i,showBranding:a.branding}},di=function(e){return{pausePlayer:function(){e(Object(Me.p)())}}},fi=function(e){function t(){ie(this,t);var e=ae(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.getButtonLabel=e.getButtonLabel.bind(e),e}return oe(t,e),si(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=function(n){return e[n]!==t.props[n]};return n("streamType")||n("channelName")||n("videoId")||n("showBranding")||n("pausePlayer")}},{key:"render",value:function(){return this.props.showBranding?we.a.createElement(ei,{onClick:this.handleClick,buttonLabel:this.getButtonLabel()}):null}},{key:"getButtonLabel",value:function(){var e=this.props,t=e.streamType,n=e.t;return n(t===ii.a?"View clip page":"Watch on Twitch")}},{key:"handleClick",value:function(){var e=this.props,t=e.streamType,n=e.windowObj,r=e.pausePlayer,i="";switch(t){case nr.a:i=this._getLiveURL();break;case ni.a:i=this._getVODURL();break;case ii.a:i=this._getClipURL();break;case ri.a:i=st.C}n.open(i,"_blank"),r()}},{key:"_getClipURL",value:function(){var e=this.props.metadataUrl;return Object(oi.b)(e,ai.p,ai.v)}},{key:"_getVODURL",value:function(){var e=this.props,t=e.channelName,n=e.videoId,r=e.currentTime,i=Object(ti.d)(Math.round(r));return Object(Un.B)(t,n,{t:i})}},{key:"_getLiveURL",value:function(){return Object(Un.c)(this.props.channelName)}}]),t}(we.a.Component);fi.propTypes=ui,fi.defaultProps=ci;var pi=Object(We.c)()(Object(Ce.b)(li,di)(fi)),hi=function(){return we.a.createElement("svg",{viewBox:"0 0 30 30"},we.a.createElement("path",{d:"M12 11v2h-2v8h10v-8h-2v-2h4v12H8V11h4zm2-1h-2l3-3 3 3h-2v6h-2v-6z",fillRule:"evenodd"}))},mi=n(13),yi={t:Ee.a.func.isRequired,showSharing:Ee.a.func.isRequired},vi=function(e){return{showSharing:function(){e(Object(mi.p)(mi.d))}}},gi=function(e){var t=e.showSharing,n=e.t;return we.a.createElement(Oe.a,{className:"player-button",onClick:t},we.a.createElement("span",null,we.a.createElement("span",{className:"player-tip player-tip--aright","data-tip":n("Share")}),we.a.createElement(hi,null)))};gi.propTypes=yi;var bi=Object(We.c)()(Object(Ce.b)(null,vi)(gi)),_i={shouldShowShareButton:Ee.a.bool.isRequired},wi=function(e){var t=e.env;return{shouldShowShareButton:qe.f===t.playerType}},ki=function(e){var t=e.shouldShowShareButton;return we.a.createElement("div",{className:"player-buttons-right"},we.a.createElement(Pt,null),we.a.createElement(Gt,null),we.a.createElement(mr,null),we.a.createElement(kr,null),we.a.createElement("div",{className:"player-menu"},we.a.createElement(Rr,null)),t&&we.a.createElement(bi,null),we.a.createElement(qr,null),we.a.createElement(Wr,null),we.a.createElement($r,null),we.a.createElement(pi,null))};ki.propTypes=_i;var Ei=Object(Ce.b)(wi)(ki),Si=n(55),Pi=n.n(Si),Ci=n(142),Oi=n.n(Ci),Ti=n(56),xi=n.n(Ti),Ri={duration:Ee.a.number,mutedSegments:Ee.a.arrayOf(Ee.a.shape({duration:Ee.a.number,offset:Ee.a.number}))},ji=function(e){var t=e.duration,n=e.mutedSegments;if(!xi()(t)||t<=0)return null;if(!Array.isArray(n)||n.length<=0)return null;var r=n.map(function(e){return we.a.createElement("span",{className:"player-slider__muted",style:{width:Object(Qe.a)(e.duration,t)+"%",left:Object(Qe.a)(e.offset,t)+"%"},key:e.offset+"_"+e.duration+"_"+t})});return we.a.createElement("div",{className:"player-slider__muted-segments js-muted-segments-container"},r)};ji.propTypes=Ri;var Ai={start:Ee.a.number.isRequired,end:Ee.a.number.isRequired,max:Ee.a.number.isRequired,min:Ee.a.number.isRequired},Ii=function(e){var t=e.start,n=e.end,r=e.min,i=e.max,a=n-t,o=i-r;return we.a.createElement("div",{style:{width:Object(Qe.a)(a,o)+"%",left:Object(Qe.a)(t,o)+"%"},className:"player-slider__buffer"})};Ii.propTypes=Ai;var Li={currentTime:Ee.a.number,duration:Ee.a.number},Ni=function(e){var t=e.currentTime,n=e.duration,r=ti.c(t),i=ti.c(n);return we.a.createElement("div",{className:"player-seek__time-container"},we.a.createElement("span",{className:"player-seek__time"},r),we.a.createElement("span",{className:"player-seek__time player-seek__time--total"},i))};Ni.propTypes=Li;var Mi={currentTime:Ee.a.number,duration:Ee.a.number},Di=function(e){var t=e.currentTime,n=e.duration,r=ti.c(n-t,!0);return we.a.createElement("div",{className:"player-seek__time-container"},we.a.createElement("span",{className:"player-seek__time player-seek__time--total"},r))};Di.propTypes=Mi;var qi=n(18),Ui={popupLeftOffset:Ee.a.number,popupObject:Ee.a.object,popupWidth:Ee.a.number,seekbarWidth:Ee.a.number,hideThumbnailPreview:Ee.a.bool},Bi=function(e){var t=e.popupLeftOffset,n=e.popupObject,r=e.popupWidth,i=e.seekbarWidth,a=e.hideThumbnailPreview,o=je()({"seekbar__popup--fadein":!a,"seekbar__popup--fadeout":a});return we.a.createElement("div",{className:o},we.a.createElement("div",{className:"player-slider__popup-container",style:{width:n.width,left:se(t,r,i)}},we.a.createElement("div",{className:"popup-thumb-wrapper",style:{width:n.thumbOver.width,height:n.thumbOver.height,maxHeight:n.thumbOver.height}},we.a.createElement("div",{className:"popup-marker-thumbunder",style:{height:n.thumbUnder.height,width:n.thumbUnder.width,backgroundSize:n.thumbUnder.sheetWidth+"px",backgroundImage:"url("+n.thumbUnder.url+")",backgroundPosition:"-"+n.thumbUnder.x+"px -"+n.thumbUnder.y+"px"}}),we.a.createElement("div",{className:"popup-marker-thumbover",style:{height:n.thumbOver.height,width:n.thumbOver.width,backgroundSize:n.thumbOver.sheetWidth+"px",backgroundImage:"url("+n.thumbOver.url+")",backgroundPosition:"-"+n.thumbOver.x+"px -"+n.thumbOver.y+"px"}})),we.a.createElement("div",{className:"popup-info-wrapper"},we.a.createElement("span",{className:"popup-title"},n.title),we.a.createElement("span",{className:"popup-info",dangerouslySetInnerHTML:{__html:n.info}})),we.a.createElement("span",{className:"popup-timestamp"},n.timestamp)),we.a.createElement("div",{className:"popup-arrow",style:{left:se(t,20,i)}}))};Bi.propTypes=Ui;var Fi=148,Vi={hideThumbnailPreview:Ee.a.bool,duration:Ee.a.number,previews:Ee.a.object,mouseMoveClientX:Ee.a.number,seekbarLeftOffset:Ee.a.number,seekbarWidth:Ee.a.number},Hi={duration:0,seekbarLeftOffset:0,seekbarWidth:0};ue.propTypes=Vi,ue.defaultProps=Hi;var zi={duration:Ee.a.number,mouseMoveClientX:Ee.a.number,seekbarLeftOffset:Ee.a.number,seekbarWidth:Ee.a.number,shouldCleanString:Ee.a.bool.isRequired},Wi={duration:0,seekbarLeftOffset:0,seekbarWidth:0},Ki=function(e){var t=e.duration,n=e.mouseMoveClientX,r=e.seekbarLeftOffset,i=e.seekbarWidth,a=e.shouldCleanString,o=n-r,s=t*(o/i);return we.a.createElement("div",null,we.a.createElement("div",{className:"player-slider__popup-container pl-flex--verticalCenter",style:{left:le(o,20,i),width:20}},we.a.createElement("span",{className:"popup-timestamp-wrapper"},we.a.createElement("span",{className:"popup-timestamp"},ti.c(s,a)))),we.a.createElement("div",{className:"popup-arrow",style:{left:le(o,20,i)}}))};Ki.propTypes=zi,Ki.defaultProps=Wi;var Gi,Qi=n(276),Yi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$i={currentTime:Ee.a.number,duration:Ee.a.number,markers:Ee.a.array,onHidingMarkerPreview:Ee.a.func,onShowingMarkerPreview:Ee.a.func,onMarkerSeek:Ee.a.func,seekbarWidth:Ee.a.number,trackEvent:Ee.a.func,hideThumbnailPreview:Ee.a.bool},Ji={currentTime:0,duration:0,markers:[]},Xi=(Gi={},he(Gi,Qi.b,148),he(Gi,Qi.a,78),Gi),Zi=function(e){function t(){de(this,t);var e=fe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showMarkerPopup:!1,targetDot:null},e.handleMouseEnter=e.handleMouseEnter.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e}return pe(t,e),Yi(t,[{key:"componentDidMount",value:function(){this.preloadMarkerSprites()}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentTime,r=t.duration,i=t.markers,a=this.state,o=a.showMarkerPopup,s=a.targetDot;if(!this.shouldDisplayMarkers())return null;var u=i.map(function(t,i){return we.a.createElement("button",{className:"player-slider__marker-dot",key:t.title+"_"+t.startTime+"_"+t.type,"data-time":t.startTime,"data-marker-index":i,"data-passed":t.startTime<=n,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onMouseDown:e.handleMouseDown,onKeyDown:e.handleMouseDown,style:{left:Object(Qe.a)(t.startTime,r)+"%"},tabIndex:0})}),c=null;return o&&s&&(c=this.getSeekbarPopupForMarker(s)),we.a.createElement("div",null,c,we.a.createElement("div",{className:"player-slider__marker-dots"},u))}},{key:"handleMouseEnter",value:function(e){this.setState({showMarkerPopup:!0,targetDot:e.target}),this.props.onShowingMarkerPreview()}},{key:"handleMouseLeave",value:function(){this.setState({showMarkerPopup:!1,targetDot:null}),this.props.onHidingMarkerPreview()}},{key:"handleMouseDown",value:function(e){var t=e.target,n=Number(t.getAttribute("data-time")),r=Number(t.getAttribute("data-marker-index")),i=this.props.markers[r].id;this.props.onMarkerSeek(n,i),e.stopPropagation()}},{key:"shouldDisplayMarkers",value:function(){var e=this.props,t=e.duration,n=e.markers;return t>0&&n.length>0}},{key:"preloadMarkerSprites",value:function(){this.props.markers.forEach(function(e){(new Image).src=e.thumbnail.imageUrl})}},{key:"getSeekbarPopupForMarker",value:function(e){var t=getComputedStyle(e),n=ye(t,"left"),r=ye(t,"width"),i=ye(t,"margin-left"),a=n+.5*r+i,o=Number(e.getAttribute("data-marker-index")),s=this.props.markers[o],u=me(s);return we.a.createElement(Bi,{popupLeftOffset:a,popupWidth:Xi[s.type],popupObject:u,seekbarWidth:this.props.seekbarWidth,hideThumbnailPreview:this.props.hideThumbnailPreview})}}]),t}(we.a.Component);Zi.propTypes=$i,Zi.defaultProps=Ji;var ea=n(272),ta=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),na={buffer:Ee.a.shape({start:Ee.a.number,end:Ee.a.number}),currentTime:Ee.a.number,duration:Ee.a.number,getCurrentTime:Ee.a.func,isSeekableStream:Ee.a.bool.isRequired,mutedSegments:Ee.a.arrayOf(Ee.a.shape({duration:Ee.a.number,offset:Ee.a.number})),seek:Ee.a.func.isRequired,seekbarMarkers:Ee.a.array,thumbnailPreviews:Ee.a.object,isClipsPlayerType:Ee.a.bool.isRequired,windowObj:Ee.a.object,trackEvent:Ee.a.func.isRequired},ra=function(e){var t=e.env,n=e.playback,r=e.stream,i=e.timelineMetadata,a=e.window,o=e.analyticsTracker;return{buffer:n.buffer,currentTime:n.currentTime,duration:n.duration,isSeekableStream:Pe()(ea.a,r.contentType),mutedSegments:i.mutedSegments,seekbarMarkers:i.markers,thumbnailPreviews:i.previews,windowObj:a,trackEvent:o.trackEvent,isClipsPlayerType:qe.b.includes(t.playerType)}},ia=function(e){return{seek:function(t){e(Object(Me.r)(t)),e(Object(qi.F)(!0))}}},aa={slider:"player-slider player-slider--roundhandle js-player-slider",sliderLeft:"ui-slider-range",sliderThumb:"ui-slider-handle"},oa=function(e){function t(){ve(this,t);var e=ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,isShowingMarkerPreview:!1,mouseMoveClientX:0,mouseMoveOnSeekbar:!1,hideThumbnailPreview:!1},e.$seekbar=null,e.handleDragStart=e.handleDragStart.bind(e),e.handleDragStop=e.handleDragStop.bind(e),e.handleClick=e.handleClick.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e.seekbarRefHandler=e.seekbarRefHandler.bind(e),e.seekToPosition=e.seekToPosition.bind(e),e.handleShowingMarkerPreview=e.handleShowingMarkerPreview.bind(e),e.handleHidingMarkerPreview=e.handleHidingMarkerPreview.bind(e),e}return be(t,e),ta(t,[{key:"render",value:function(){var e=this.props,t=e.currentTime,n=e.duration,r=e.isSeekableStream,i=e.isClipsPlayerType;if(!r)return null;var a=this.createSliderComponent(),o={currentTime:t,duration:n};return we.a.createElement("div",{className:"player-seek"},i?we.a.createElement(Di,o):we.a.createElement(Ni,o),a)}},{key:"createSliderComponent",value:function(){var e=this.state,t=e.isDragging,n=e.isShowingMarkerPreview,r=e.mouseMoveOnSeekbar,i=this.props,a=i.buffer,o=i.currentTime,s=i.duration,u=i.getCurrentTime,c=i.mutedSegments,l=i.seekbarMarkers,d=i.trackEvent,f=i.windowObj,p=this.getSeekbarDimensions(),h=p.seekbarWidth,m=t?null:we.a.createElement(Ii,{start:a.start,end:a.end,max:s,min:0}),y=we.a.createElement(ji,{duration:s,mutedSegments:c}),v=null;r&&!n&&s>0&&(v=this.createSeekbarPreviews());var g=we.a.createElement(Zi,{currentTime:o,duration:s,markers:l,onHidingMarkerPreview:this.handleHidingMarkerPreview,onMarkerSeek:this.seekToPosition,onShowingMarkerPreview:this.handleShowingMarkerPreview,seekbarWidth:h,trackEvent:d,hideThumbnailPreview:this.state.hideThumbnailPreview});return we.a.createElement(ot,{classNames:aa,max:s,min:0,onClick:this.handleClick,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut,ref:this.seekbarRefHandler,dragHandlers:{onStart:this.handleDragStart,onStop:this.handleDragStop},windowObj:f,getOptimizedValue:u,valueOptimizationEnabled:!0,behindSliderChildren:m,afterSliderChildren:[y,v,g]})}},{key:"getSeekbarDimensions",value:function(){var e=0,t=0;if(this.$seekbar){var n=this.$seekbar.getBoundingClientRect();e=n.width,t=n.left}return{seekbarWidth:e,seekbarLeftOffset:t}}},{key:"createSeekbarPreviews",value:function(){var e=this.state.mouseMoveClientX,t=this.props,n=t.duration,r=t.thumbnailPreviews,i=t.isClipsPlayerType,a=this.getSeekbarDimensions(),o=a.seekbarWidth,s=a.seekbarLeftOffset,u=Pi.a.msedge||Pi.a.msie;return r.count>0&&!u?we.a.createElement(ue,{hideThumbnailPreview:this.state.hideThumbnailPreview,duration:n,previews:r,mouseMoveClientX:e,seekbarLeftOffset:s,seekbarWidth:o}):we.a.createElement(Ki,{duration:n,mouseMoveClientX:e,seekbarLeftOffset:s,seekbarWidth:o,shouldCleanString:i})}},{key:"seekbarRefHandler",value:function(e){this.$seekbar=Oi.a.findDOMNode(e)}},{key:"handleClick",value:function(e){this.state.isDragging&&this.seekToPosition(e)}},{key:"handleMouseMove",value:function(e){this.setState({mouseMoveOnSeekbar:!0,mouseMoveClientX:e.clientX})}},{key:"handleMouseOut",value:function(){var e=this;this.setState({hideThumbnailPreview:!0});setTimeout(function(){e.state.hideThumbnailPreview&&e.setState({mouseMoveOnSeekbar:!1,mouseMoveClientX:0,hideThumbnailPreview:!1})},750)}},{key:"handleDragStart",value:function(){this.setState({isDragging:!0})}},{key:"handleDragStop",value:function(e){this.setState({isDragging:!1}),this.seekToPosition(e)}},{key:"handleShowingMarkerPreview",value:function(){this.setState({isShowingMarkerPreview:!0})}},{key:"handleHidingMarkerPreview",value:function(){this.setState({isShowingMarkerPreview:!1})}},{key:"seekToPosition",value:function(e,t){var n=t?{markerId:t}:{};this.props.seek(e),this.props.trackEvent("player_click_vod_seek",n)}}]),t}(we.a.Component);oa.propTypes=na;var sa=Object(Ce.b)(ra,ia)(oa),ua=n(54);n.d(t,"a",function(){return pa});var ca={getCurrentTime:Ee.a.func.isRequired,showBottomControls:Ee.a.bool.isRequired},la=je()("pl-controls-bottom","pl-flex","qa-controls-bottom"),da=function(e){return{showBottomControls:e.collection.currentView!==ua.b}},fa=function(e){var t=e.getCurrentTime;return e.showBottomControls?we.a.createElement("div",{className:la},we.a.createElement(sa,{getCurrentTime:t}),we.a.createElement(vt,null),we.a.createElement(Ei,null)):null};fa.propTypes=ca;var pa=Object(Ce.b)(da)(fa)},function(e,t,n){"use strict";function r(e){var t=e.onClick,n=e.collectionsSidebarOpen,r=n?null:a.a.createElement(u.a,{className:"player-button player-button-play js-control-play-button",onClick:t},a.a.createElement("svg",{className:"player-icon-play"},a.a.createElement("use",{xlinkHref:"#icon_play"})));return a.a.createElement("div",{className:"player-overlay player-play-overlay js-paused-overlay"},r)}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c={onClick:s.a.func.isRequired,collectionsSidebarOpen:s.a.bool},l={collectionsSidebarOpen:!1};r.propTypes=c,r.defaultProps=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=n(27),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p={children:c.a.node.isRequired,hideUI:c.a.func.isRequired,paused:c.a.bool.isRequired,root:c.a.object.isRequired,showUIWithAutoHide:c.a.func.isRequired},h=function(e){return{paused:e.playback.paused}},m=function(e){return{showUIWithAutoHide:function(){e(Object(d.s)())},hideUI:function(){e(Object(d.l)())}}},y=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showAndAutoHide=e._showAndAutoHide.bind(e),e.hide=e._hide.bind(e),e}return a(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.root.addEventListener("mouseenter",this.showAndAutoHide),this.props.root.addEventListener("mousemove",this.showAndAutoHide),this.props.root.addEventListener("mouseleave",this.hide)}},{key:"componentWillUnmount",value:function(){this.props.root.removeEventListener("mouseenter",this.showAndAutoHide),this.props.root.removeEventListener("mousemove",this.showAndAutoHide),this.props.root.removeEventListener("mouseleave",this.hide)}},{key:"render",value:function(){return s.a.createElement("div",{className:"player-root"},this.props.children)}},{key:"_showAndAutoHide",value:function(){this.props.paused||this.props.showUIWithAutoHide()}},{key:"_hide",value:function(){this.props.paused||this.props.hideUI()}}]),t}(s.a.Component);y.propTypes=p;var v=Object(l.b)(h,m)(y)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=n(27),f=n(2),p=n.n(f),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m="hover-display",y={children:c.a.node.isRequired,onHoverElement:c.a.func.isRequired,onHoverOffElement:c.a.func.isRequired,showUI:c.a.bool.isRequired},v=function(e){return{showUI:e.ui.showUI}},g=function(e){return{onHoverElement:function(){e(Object(d.n)())},onHoverOffElement:function(){e(Object(d.m)())}}},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={classes:p()(m)},e}return a(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.showUI;this.props.showUI&&!t?this.setState({classes:p()(m,"pl-hover-transition-out")}):!this.props.showUI&&t&&this.setState({classes:p()(m,"pl-hover-transition-in")})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onHoverElement,r=e.onHoverOffElement;return s.a.createElement("div",{onMouseEnter:n,onMouseLeave:r,className:this.state.classes},t)}}]),t}(s.a.Component);b.propTypes=y;var _=Object(l.b)(v,g)(b)},function(e,t,n){"use strict";var r=n(38),i=n(6),a=n(80),o=function(){var e=void 0;try{e=window.sessionStorage.getItem("clips_rec_sid"),e||(e=Object(a.a)()),window.sessionStorage.setItem("clips_rec_sid",e)}catch(t){e=null}return e},s=n(191),u=n(81),c=n(194),l=n(192),d=n(193);n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return m});var f=function(e){var t=e.window;return Object(u.b)(t.location.search.slice(1))},p=function(e){return{tab_session_id:o(),content:f(e).tt_content,medium:f(e).tt_medium,logged_in:e.user.loggedInStatus===r.a,login:e.user.name,user_id:e.user.id?parseInt(e.user.id,10):null,received_language:e.lang,vod_type:"clip",client_time:e.window.Date.now()/1e3,location:s.p,live:!1,time:null}},h=function(e){var t=e.streamMetadata.channel.name,n=void 0,r=void 0,a=Object(l.b)(e,t),o=Object(l.c)(e,t);return a!==d.d&&(n=a===d.b),o!==d.d&&(r=o===d.c),{channel:e.streamMetadata.channel.name||null,channel_id:e.streamMetadata.channel.id?parseInt(e.streamMetadata.channel.id,10):null,game:e.streamMetadata.game||null,partner:r,live:n,player:e.env.playerType===i.f?s.p:s.o,vod_id:parseInt(e.streamMetadata.id,10)}},m=function(e){var t=s.s[Object(c.b)(e,e.streamMetadata.slug)];return{source_channel:e.streamMetadata.channel.name||null,source_game:e.streamMetadata.game||null,source_vod_id:parseInt(e.streamMetadata.id,10),source_item_type:s.u,content:t||null,carousel_content:s.r}}},function(e,t,n){"use strict";var r=n(502),i=r.CopyToClipboard;i.CopyToClipboard=i,e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.captionsText,n=e.captionsStyle,r=t.map(function(e,t){return p.a.createElement("div",{className:P,key:t+"-"+e},e)}),a=i(n),o=a.containerStyles,s=a.textStyles,u=a.windowStyles;return p.a.createElement("div",{className:"player-captions-container",style:o},p.a.createElement("div",{style:u,className:"player-captions-window"},p.a.createElement("div",{className:"player-captions",style:s},r)))}function i(e){var t=a(e),n=o(e),r=s(e),i=b()({},e,t,v.h[e.font],v.d[e.edge],v.m[e.verticalPosition],v.j[e.fontUnderline],v.g[e.fontItalic],v.e[e.fontBold],v.a[e.alignment],{backgroundColor:n});return{textStyles:w()(i,C),containerStyles:E()(i,C),windowStyles:r}}function a(e){var t=e.fontColorName,n=void 0===t?"white":t,r=e.fontOpacity,i=void 0===r?"solid":r;return{color:v.c(v.f[n].fontColorValue,v.k[i].opacityValue),animation:v.k[i].animation}}function o(e){var t=e.backgroundOpacity,n=void 0===t?"solid":t,r=e.backgroundColorName,i=void 0===r?"black":r;return v.c(v.b[i].backgroundColorValue,v.k[n].opacityValue)}function s(e){var t=e.windowColorName,n=void 0===t?"transparent":t,r=e.windowOpacity,i=void 0===r?"solid":r;return{backgroundColor:v.c(v.b[n].backgroundColorValue,v.k[i].opacityValue)}}function u(e){var t=e.enabled,n=e.captionsData,i=e.captionsStyle;if(!t||!n||Array.isArray(n.data)&&n.data.length<1)return null;var a=c(n);return p.a.createElement(r,{captionsText:a,captionsStyle:i})}function c(e){var t=e.data,n=e.text,r=n&&n.length>0?n.trim():"";return r?d(r):Array.isArray(t)?l(t):void 0}function l(e){return e.reduce(function(e,t){var n=t.char;0===t.col&&e.push("");var r=O(n,1),i=r[0];return e[e.length-1]+=i||"",e},[])}function d(e){return String(e).split(x)}var f=n(0),p=n.n(f),h=n(1),m=n.n(h),y=n(3),v=n(84),g=n(28),b=n.n(g),_=n(187),w=n.n(_),k=n(20),E=n.n(k),S={captionsText:m.a.array.isRequired,captionsStyle:m.a.shape({fontSize:m.a.number,font:m.a.string,fontOpacity:m.a.string,alignment:m.a.string,edge:m.a.string,verticalPosition:m.a.string,backgroundColorName:m.a.string,backgroundOpacity:m.a.string,windowColorName:m.a.string,windowOpacity:m.a.string,fontUnderline:m.a.string,fontBold:m.a.string,fontItalic:m.a.string}).isRequired},P="player-captions-row",C=Object.freeze(["top","bottom","textAlign","fontSize"]);r.propTypes=S,n.d(t,"a",function(){return j});var O=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T={enabled:m.a.bool.isRequired,captionsData:m.a.object,captionsStyle:m.a.shape({fontSize:m.a.number,font:m.a.string,fontOpacity:m.a.string,alignment:m.a.string,edge:m.a.string,verticalPosition:m.a.string,backgroundColorName:m.a.string,backgroundOpacity:m.a.string,windowColorName:m.a.string,windowOpacity:m.a.string,fontUnderline:m.a.string,fontBold:m.a.string,fontItalic:m.a.string}).isRequired},x=/\r?\n|\r/g,R=function(e){var t=e.captions,n=e.ui;return{enabled:t.enabled&&!n.isMini,captionsData:t.data,captionsStyle:t.style}};u.propTypes=T;var j=Object(y.b)(R)(u)},function(e,t,n){"use strict";function r(e){this._host=e.host,this._token=e.token}function i(e){this._trustedURI=e.trustedURI,this._untrustedHost=e.untrustedHost}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=No.a._detect(e||window.navigator.userAgent),n=t.name,r=t.version,i=t.osname,a=t.osversion;return{browser_version:c(r),browser_family:String(n).toLowerCase(),os_name:i,os_version:a}}function u(e){var t=Do.exec(e)||qo.exec(e)||Uo.exec(e)||[],n=Mo(t,5);return{major:n[1],minor:n[2],patch:n[3],metadata:n[4]}}function c(e){var t=u(e),n=t.major,r=t.minor;return r?parseInt(n,10)+"."+parseInt(r,10):n+".0"}function l(e,t){function n(e){return e.split(".").slice(-2).join(".")}function a(){var e=void 0;try{document.domain=lo.l,e=window.parent.location,e.host||(e=window.location)}catch(t){e=window.location}return e}function o(){try{return document.domain=lo.l,window.parent.document.referrer}catch(e){return window.document.referrer}}function u(){var t=xo.c(),r=t.major+","+t.minor+","+t.release,i=o(),a=Object(Po.a)(i),u=Oo.a(!1),c=Oo.a(!0),l=Ro.v()===Ro.k?null:Bo,d=s(),f=d.browser_family,p=d.browser_version,h=d.os_name,m=d.os_version;return{app_version:"2018.02.14-212430+0de343db46890172d4c1a8083542504180ad6d2d",flash_version:r,referrer_url:i,referrer_host:a.host,referrer_domain:n(a.host),browser:e.getState().window.navigator.appVersion||"",browser_family:f,browser_version:p,os_name:h,os_version:m,user_agent:e.getState().window.navigator.userAgent||"",device_id:u,distinct_id:u,session_device_id:c,client_app:l}}var c=this,l=[],d=void 0;c.trackEvents=function(r){var i=e.getState(),o=i.window,s=o.Date.now()/1e3,u=i.tracking.referrer?Object(Po.a)(i.tracking.referrer).host:"";Promise.all(l).then(function(e){var o=co.a.apply(null,e),c=a(),l=i.env,f=l.platform,p=l.playerType,h=r.map(function(e){var t=co()({},d,o,e.properties,i.tracking,{platform:p===Ro.i?p:f,play_session_id:i.analytics.playSessionId,url:Object(Co.a)(c.href),host:c.host,domain:n(c.host),referrer_host:u,referrer_domain:u?n(u):"",low_latency:i.manifestInfo.future});return t.time||(t.time=s),{event:e.event,properties:t}});t.debug&&h.forEach(function(e){var t=e.event,n=e.properties;console.log("track event:",t,n)}),i.analytics.trackingClients.forEach(function(e){e.trackEvents(h)})})},c.trackEvent=function(e,t){c.trackEvents([{event:e,properties:t}])},c.clipsTrackEvent=function(t,n){var r=e.getState();c.trackEvent(t,Io()({},Object(jo.a)(r),Object(jo.b)(r),n))},c.setProperty=function(e,t){var n={};n[e]=t,c.setProperties(n)},c.setProperties=function(e){var t=Promise.resolve(e).then(null,function(e){return console.warn("failed to resolve properties promise",e),{}});l.push(t)},function(){var n=[];n.push(new r({host:lo.w,token:lo.y})),n.push(new i({trustedURI:So,untrustedHost:lo.D}));var a=e.getState().env.playerType;eo()(Fo,a)&&n.push(new ko(e)),e.dispatch(Object(Eo.h)(n)),d=u(),c.setProperties(t.tracking),c.setProperties({channel:t.channel,vod:t.video,vod_id:t.video}),c.setProperty("benchmark_session_id",t.benchmarkId||To.a()),c.setProperty("mse_support","undefined"!=typeof MediaSource)}()}function d(e){e.sp_cid=Vo;var t={detect:{}},n=void 0,r=void 0;return new Promise(function(t,i){var a=e.document.createElement("script");e.document.body.appendChild(a),a.onerror=i,a.async=!0,a.src=Ho,e.setTimeout(i,2e3),n=function(){return t(!0)},r=function(){return t(!1)},e.document.addEventListener("sp.blocking",n),e.document.addEventListener("sp.not_blocking",r)}).then(null,function(){return"unknown"}).then(function(i){return t.detect._result=i,e.Twitch.sentinel=t,e.document.removeEventListener("sp.blocking",n),e.document.removeEventListener("sp.not_blocking",r),i})}function f(e){var t=e.children,n=e.onClose;return Qo.a.createElement("div",{className:es},Qo.a.createElement("button",{type:"button",className:ts,onClick:n},Qo.a.createElement("svg",{className:"pl-close-button__svg"},Qo.a.createElement("use",{xlinkHref:"#pl-icon_close"}))),t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function w(e,t){function n(n,r,a){a.unshift(r),(r!==Is.e||n!==e||t.getEnded())&&(o===n?i(a):c.push(a))}function r(){c.forEach(function(e){i(e)}),c=[]}function i(e){var t=e[0],n=[Is.i],r=!1;eo()(n,t)&&(r=nu()(d,t),d[t]=!0),r||(t===Is.e&&(d=[]),u.emit.apply(u,e))}function a(e,t){e.pause(),o=t,r(),e.getDuration()!==t.getDuration()&&u.emit(Is.d),e.getCurrentTime()!==t.getCurrentTime()&&u.emit(Is.q),e.getBuffered()!==t.getBuffered()&&u.emit(Ls.b),e.getQuality()!==t.getQuality()&&u.emit(Ls.s),t.play()}var o,s=this,u=new bs.a,c=[],l=[e,t],d={};s.destroy=function(){e.destroy(),t.destroy()},s.addEventListener=function(e,t){u.on(e,t)},s.removeEventListener=function(e,t){u.off(e,t)},s.getNetworkProfile=function(){return o.getNetworkProfile()},s.getError=function(){return o.getError()},s.getSrc=function(){return o.getSrc()},s.absAvailable=function(){return o.absAvailable()},s.setSrc=function(e){l.forEach(function(t){t.setSrc(e)})},s.getNetworkState=function(){return o.getNetworkState()},s.getBuffered=function(){return o.getBuffered()},s.load=function(){o.load()},s.getReadyState=function(){return o.getReadyState()},s.getSeeking=function(){return o.getSeeking()},s.getStats=function(){return o.getStats()},s.getCurrentTime=function(){return o.getCurrentTime()},s.setCurrentTime=function(e){l.forEach(function(t){return t.setCurrentTime(e)})},s.getDuration=function(){return o.getDuration()},s.getPaused=function(){return o.getPaused()},s.getPlaybackRate=function(){return o.getPlaybackRate()},s.setPlaybackRate=function(e){l.forEach(function(t){return t.setPlaybackRate(e)})},s.getPlayed=function(){return o.getPlayed()},s.getEnded=function(){return o.getEnded()},s.getAutoplay=function(){return o.getAutoplay()},s.setLoop=function(e){l.forEach(function(t){t.setLoop(e)})},s.play=function(){o.play()},s.pause=function(){o.pause()},s.getControls=function(){return o.getControls()},s.setControls=function(e){l.forEach(function(t){t.setControls(e)})},s.getVolume=function(){return o.getVolume()},s.setVolume=function(e){l.forEach(function(t){t.setVolume(e)})},s.getMuted=function(){return o.getMuted()},s.setMuted=function(e){l.forEach(function(t){t.setMuted(e)})},s.getQuality=function(){return o.getQuality()},s.setQuality=function(e){l.forEach(function(t){t.setQuality(e)})},s.getQualities=function(){return o.getQualities()},s.setChannel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d={},l.forEach(function(n){n.setChannel(e,t)})},s.elapsedTime=function(){return o.elapsedTime()},s.getBackend=function(){return o.getBackend()},s.setVideo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d={},l.forEach(function(n){n.setVideo(e,t)})},s.getVideoInfo=function(){return o.getVideoInfo()},s.getCaption=function(){return o.getCaption()},function(){o=e.getReadyState()>=e.HAVE_CURRENT_DATA&&!e.getEnded()?e:t,e.addEventListener(Is.b,function(){a(t,e)}),e.addEventListener(Is.e,function(){o===e&&a(e,t)}),l.forEach(function(e){lo.c.forEach(function(t){e.addEventListener(t,function(){var r=Array.prototype.slice.call(arguments);n(e,t,r)})})})}()}function k(e){return{type:ou,backend:e}}function E(e){return{type:su,playerBackendType:e}}function S(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=document.createElement("script"),i=n;i=i||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var a=[],o={adsManager:e,ids:t,imaSDK:!0,events:[]},s={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"},u=void 0,c=void 0;if(google&&google.ima&&e){u="_moatApi"+Math.floor(1e8*Math.random());for(var l in google.ima.AdEvent.Type){var d=function(t){if(o.sendEvent){for(t=a.length-1;0<=t;t--)e.removeEventListener(a[t].type,a[t].func);o.sendEvent(o.events)}else o.events.push({type:s[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[l],d),a.push({type:google.ima.AdEvent.Type[l],func:d})}}var f=void 0;u=void 0!==u?u:"";try{c=i.ownerDocument,f=c.defaultView||c.parentWindow}catch(e){c=document,f=window}f[u]=o,r.type="text/javascript",i&&i.appendChild(r);try{r.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+u}catch(e){}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e){var t="unknown";return e&&e.channel&&(t=e.channel),e&&e.game&&(t=t+" + "+e.game),t}function O(e){return{zMoatChannel:e.channel,zMoatChannelID:e.channelId,zMoatGame:e.game}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t,n){e.analyticsTracker.trackEvent("video_ad_request_declined",Io()({ad_session_id:t.adSessionId,roll_type:t.adType,time_break:t.duration,provider:"ima",adblock:L(t),twitch_correlator:t.twitchCorrelator},n))}function I(e){return{reason_short_vod:e.adType===cu.c&&e.contentType===Ns.a&&e.vod.duration>=0&&e.vod.duration<Cu,reason_vod_creator:e.adType===cu.c&&e.contentType===Ns.a&&e.login===e.channel,reason_turbo:Boolean(e.turboToken),reason_ratelimit:e.adType===cu.c&&e.requestTime-e.lastAdDisplay<Pu,reason_channelsub:Boolean(e.chansubToken)&&e.hasAdFreeSubscription,reason_channeladfree:e.adType===cu.c&&!e.prerollsEnabled||e.adType===cu.b&&!e.postrollsEnabled,reason_frontpage:e.playerType===Ro.n,reason_creative_player:e.playerType===Ro.h,reason_facebook:e.playerType===Ro.l,reason_highlighter:e.playerType===Ro.o,reason_dashboard:e.playerType===Ro.j,reason_animated_thumbnails:e.playerType===Ro.e,reason_mobile_web_upsell:Boolean(e.isMobileLocation)&&e.platform===yu.a,reason_raid:e.adType===cu.c&&e.raid&&"yes"===e.leviathanExpGroup,reason_vod_midroll:e.contentType===Ns.a&&e.vod.type===ku&&e.adType===cu.a&&e.requestType===Pc&&e.vodMidrollArchiveSetting!==_u,reason_vod_ads_disabled:e.contentType===Ns.a&&!1===e.vodAdsEnabled,reason_embed_promo:e.contentType===Ns.a&&e.playerType===Ro.k&&e.embedPromo}}function L(e){return"unknown"===e.adblock?null:e.adblock}function N(e,t){var n=mu()(e,function(e,t){return e||t},!1);return t.forced&&(n=!1),n}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={ad_session_id:e.adSessionId,adblock:e.adblock,roll_type:e.adType,time_break:e.duration,twitch_correlator:e.twitchCorrelator};return e.adWhitelist&&(n.ads_opt_in=e.adWhitelist),n=q(n,e),null!==t&&(n.ad_system=t.getAdSystem(),n.ad_id=t.getAdId(),n.creative_id=t.getCreativeId(),n.title=t.getTitle(),n.duration=t.getDuration(),t.getWrapperAdIds().length>0&&(n.wrapper_ad_id=t.getWrapperAdIds()[0],n.wrapper_ad_system=t.getWrapperAdSystems()[0],n.wrapper_creative_id=t.getWrapperCreativeIds()[0])),n}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.getState(),a=i.analyticsTracker,o=i.stream,s=i.streamMetadata,u=r;t&&Io()(u,{provider:t}),o instanceof Ns.b&&Io()(u,{vod_id:o.videoId,vod_type:s.type}),a.trackEvent(n,u)}function q(e,t){var n=e;return t.amzniid&&(n.amzniid=t.amzniid),t.amznbid&&(n.amznbid=t.amznbid),t.qsParams&&(n.qsParams=t.qsParams),n}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=W(e,t,n,r);return{type:Xu,adsManager:i}}function W(e,t,n,r){switch(t.getBackend()){case Hu.a:return new Ou(n,new Ju(t,n));case zu.a:case Ws.a:case Wu.a:return new Ou(n,new Uu(e,t,n,r));default:return Qu}}function K(e){var t=tc()(e);return t.abs="true"===t.abs,t.suppress="true"===t.suppress,t.broadcast_id=parseInt(t.broadcast_id,10),t.future="true"===t.future,t}function G(e){return{type:nc,info:K(e)}}function Q(e){var t=io()(e,ic);return{type:rc,params:t}}function Y(e,t){var n={player_backend:e};return pc()(t,function(e,t){if(0===t.indexOf(yc)){var r=t.substring(yc.length);n[r]=e}}),n.p=Math.floor(9999999*Math.random()),{type:hc,params:n}}function $(e){return{type:mc,hostOverride:e}}function J(e,t,n){function r(r){var P=document.createElement("div");P.className="player-video",e.appendChild(P);var C=t.getState(),O=C.env,T=C.ads;t.dispatch(Q({adblock:T.adblock,need_https:r===Ws.a,platform:O.platform,player_type:O.playerType}));var x=r;t.dispatch(Y(x,n));var R=Ec.a[r]||ru.b,j=co()({lastAdDisplay:Wo.a.get("lastAdDisplay",0)},n),A=new R(j,t);t.dispatch(k(A)),t.dispatch(E(A.getBackend())),A.attach(P),J=Js;var L=J.init();t.dispatch(Object(ac.e)(L)),$=new w(J,A),I(P,$),A.addEventListener(Is.h,c),J.addEventListener(Is.h,c),A.addEventListener(Is.d,o),A.addEventListener(Ls.b,l),A.addEventListener(Ls.j,d),A.addEventListener(Ls.y,f),A.addEventListener(Ls.x,p),A.addEventListener(Ls.a,i),A.addEventListener(Ls.k,S),A.addEventListener(Is.e,b),J.addEventListener(Is.e,_),A.addEventListener(Is.l,h),J.addEventListener(Is.l,h),A.addEventListener(Is.q,y),J.addEventListener(Is.q,y),A.addEventListener(Is.m,v);var N=t.getState().window.navigator.userAgent.toLowerCase(),M=N.indexOf("safari")>-1&&-1===N.indexOf("chrome"),D=N.indexOf("windows")>-1&&N.indexOf("edge")>-1;(M||D)&&A.addEventListener(Is.q,function(){t.dispatch(Object(sc.F)(!1))}),A.addEventListener(Ls.o,a),A.addEventListener(Is.n,g),A.addEventListener(Is.o,s),A.addEventListener(Is.s,s),A.addEventListener(Is.s,u),A.addEventListener(Is.j,m),A.addEventListener(Ls.p,H._loadVideoAPI),A.addEventListener(Is.i,H._loadVideoAPI);var U=t.getState(),B=U.playback;A.setVolume(B.volume),A.setMuted(B.muted),q(),H._propagateBackendMutliEvents()}function i(e){var t=e.stream_format_current;e.stream_format_previous!==t&&W.emit(Ls.a,e)}function a(e){t.dispatch(Object(wc.e)(e))}function o(){t.dispatch(Object(sc.J)(t.getState().backend.getDuration()))}function s(){t.dispatch(Object(sc.F)(!0)),t.dispatch(Object(sc.K)(Is.s))}function u(){H.getSeeking()||t.dispatch(Object(sc.w)())}function c(){t.dispatch({type:au.e,captions:{data:null,available:!1}}),t.dispatch(Object(uc.p)(H.getQualities()));var e=t.getState(),r=e.quality,i=e.stream,a=e.playback,o=r.available.filter(function(e){return!eo()(i.restrictedBitrates,e.group)});o.length>0&&!o.some(function(e){return e.group===r.selected})&&t.dispatch(Object(uc.k)(o[0].group,o[0].bandwidth)),t.dispatch(Object(sc.J)(t.getState().backend.getDuration())),eo()(Sc.a,i.contentType)&&a.startTimeSet&&H.setCurrentTime(a.startTime),i.contentType===Ms.a&&t.dispatch(Object(oc.b)(!0)),!n.autoplay||i.contentType!==Ms.a&&i.contentType!==Ns.a||C(),i.contentType===Ms.a&&t.dispatch(Object(cc.e)($.getVideoInfo().broadcast_id))}function l(e){t.dispatch(Object(sc.H)(e.start,e.end))}function d(e){t.dispatch(Object(uu.n)(cu.a,e.duration,!1,0,Pc))}function f(e){if(e.hasOwnProperty("URL")&&no()(e.URL)){var n=e.URL;try{t.dispatch(Object(uu.o)(n))}catch(e){console.warn("Failed to decode click-through URL: ",n)}}t.dispatch(Object(uu.q)({contentType:uu.f.STITCHED,rollType:uu.g.MIDROLL}))}function p(){t.dispatch(Object(uu.i)())}function h(){t.dispatch(Object($s.c)()),t.dispatch(Object(sc.F)(!1)),t.dispatch(Object(sc.K)(Is.l))}function m(){t.getState().ads.currentMetadata.contentType!==uu.f.IMA&&t.dispatch(Object(sc.K)(Is.j))}function y(){var e=H.getCurrentTime();t.dispatch(Object(sc.I)(e))}function v(){t.dispatch(Object(sc.y)($.getPlaybackRate()))}function g(){var e=H.getCurrentTime();t.dispatch(Object(sc.A)(e))}function b(){t.dispatch(Object(sc.K)(Is.e));var e=t.getState(),n=e.stream,r=e.playback;n.contentType!==Ns.a&&r.hasPlayed&&t.dispatch(Object(uu.n)(cu.b,uu.h))}function _(){t.dispatch(Object(sc.K)(Is.e)),t.getState().stream.contentType===Ns.a&&$.setCurrentTime(J.getCurrentTime())}function S(){t.dispatch(Object(oc.b)(!1))}function P(){var e=t.getState(),n=e.playerOptions;n.force_preroll?F(cu.c,n.force_preroll):n.force_midroll?F(cu.a,n.force_midroll):n.force_preroll_id?F(cu.c,uu.h,n.force_preroll_id):n.force_midroll_id?F(cu.a,uu.h,n.force_midroll_id):t.dispatch(Object(uu.n)(cu.c,uu.h))}function C(){if(t.getState().adsManager!==Qu)P();else var e=Object(zo.a)(t,["adsManager"],function(t){t.adsManager!==Qu&&(e(),P())})}function O(){return Object(zo.a)(t,["stream"],function(e){var t=e.stream;H._updateStream(t)})}function T(){return Object(zo.a)(t,["viewercount"],function(){W.emit(Ls.I)})}function x(){return Object(zo.a)(t,["onlineStatus"],function(e){e.onlineStatus===kc.b?W.emit(Ls.l):W.emit(Ls.k)})}function R(){return Object(zo.a)(t,["playback.contentShowing"],function(e){e.playback.contentShowing&&W.emit(Ls.f)})}function j(){return Object(zo.a)(t,["quality.selected"],function(e){var t=e.quality;H.setQuality(t.selected)})}function A(){return N(t.getState()),Object(zo.a)(t,["adsManager"],N)}function I(e,n){!0===t.getState().ads.imaScriptLoaded?L(e,n):X=Object(zo.a)(t,["ads.imaScriptLoaded"],function(){L(e,n)})}function L(e,r){!0===t.getState().ads.imaScriptLoaded&&(t.dispatch(z(e,r,t,n)),K.push(A()),gc()(X)&&X())}function N(e){var n=e.adsManager;n.addEventListener(lu.AD_END,function(e){Wo.a.set("lastAdDisplay",(new Date).getTime()),e.roll_type===cu.b&&t.dispatch(Object(sc.K)(Is.e))}),n.addEventListener(lu.AD_START,function(){t.dispatch(Object(sc.K)(Is.l))}),n.addEventListener(lu.AD_ERROR,function(e){e.roll_type===cu.b&&t.dispatch(Object(sc.K)(Is.e))}),_c()(lu,function(e){n.addEventListener(e,function(t){W.emit(e,t)})})}function M(){var e=$.getStats();t.dispatch(Object(wc.e)(e)),W.emit(Ls.w)}function D(){var e=t.getState(),n=e.window;H._statsLoop||(H._statsLoop=n.setInterval(M,wc.c),K.push(function(){n.clearInterval(H.statsLoop),H._statsLoop=null}))}function q(){$.addEventListener(lu.AD_START,function(){t.dispatch(Object(lc.p)(lc.c))}),$.addEventListener(lu.AD_END,function(){Wo.a.set("lastAdDisplay",(new Date).getTime()),t.dispatch(Object(lc.o)())}),J.addEventListener(Ls.d,function(e){t.dispatch(Object(ac.e)(e));var n=no()(J.getDevice())?J.getDevice():"Chromecast";t.dispatch(Object(ac.f)(n))}),K.push(O()),K.push(T()),K.push(x()),K.push(R()),K.push(j()),$.addEventListener(Ls.c,function(){t.dispatch(Object(au.h)($.getCaption()))}),$.addEventListener(Ls.s,function(e){var n=e.quality,r=e.isAuto;t.dispatch(Object(uc.n)(n,r)),t.dispatch(Object(Eo.e)()),t.dispatch(Object(uc.p)(H.getQualities()))}),$.addEventListener(Ls.i,function(e){t.dispatch(G(e)),t.dispatch(Object(sc.F)(!0)),H._initQuality()})}function U(){var e=t.getState(),n=e.quality;H.setQuality(n.selected)}function B(){function e(){function n(){a=!1}function r(){if(a){var e=Date.now()-i,o=t.getState().manifestInfo.serving_id;t.dispatch(Object(Zu.d)("quality_change_complete",{time_to_stable_quality:e,serving_id:o})),$.removeEventListener(Ls.v,r),$.removeEventListener(Ls.s,n)}else a=!0}$.removeEventListener(Is.l,e);var i=Date.now(),a=!1;$.addEventListener(Ls.v,r),$.addEventListener(Ls.s,n)}$.addEventListener(Is.l,e)}function F(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=parseInt(n,10)||uu.h;t.dispatch(Object(uu.n)(e,i,!0,r))}function V(e,t){try{t=Xa()(t,{enumerable:!0}),Object.defineProperty(H,e,t)}catch(e){}}var H=this,W=new bs.a;t.dispatch(Object(Nu.r)(W));var K=[],$=void 0,J=void 0,X=void 0;H._loadVideoAPI=function(){t.dispatch(Object(pu.t)(H))},H._propagateBackendMutliEvents=function(){[Is.d,Ls.p,Is.i,Is.h,Is.k,Is.j,Is.s,Is.l,Is.e,Is.o,Is.q,Is.b,Ls.v,Ls.b,Ls.t,Is.n,Ls.x].forEach(function(e){$.addEventListener(e,function(t){W.emit(e,t)})})},H._setABS=function(){var e=n.abs,r=!Wo.a.get(uc.g,!1),i=t.getState().quality.selected===uc.h;H.absAvailable()&&(r||e)?(t.dispatch(Object(uc.k)(uc.h)),t.dispatch(Object(uc.o)(uc.i)),Wo.a.set(uc.g,!0)):!H.absAvailable()&&i&&t.dispatch(Object(uc.k)(uc.f,uc.e)),t.dispatch(Object(uc.l)(H.absAvailable()))},H.absAvailable=function(){return $.absAvailable()},H._initQuality=function(){H._setABS(),U()},H.destroy=function(){$.destroy(),K.forEach(function(e){return e()}),zs.a.ExtensionService.unregisterPlayer(H),W.removeAllListeners()},H._updateStream=function(e){if(e.contentType===Ms.a)$.setChannel(e.channel,e),B();else if(e.contentType===Ns.a)$.setVideo(e.videoId,e),B();else if(e.contentType===iu.a){var n=t.getState(),r=n.quality;$.setQuality(r.selected)}else e.streamUrl.then(function(e){$.setSrc(e)})},H.addEventListener=function(e,t){eo()(lo.c,e)||console.error("subscribing to unknown event: ",e),W.on(e,t)},H.removeEventListener=function(e,t){W.off(e,t)},H.getNetworkProfile=function(){return t.getState().backend.getNetworkProfile()},H.getError=function(){return $.getError()},H.getSrc=function(){},H.setSrc=function(){},H.getNetworkState=function(){return $.getNetworkState()},H.getBuffered=function(){return $.getBuffered()},H.load=function(){$.load()},H.getReadyState=function(){return $.getReadyState()},H.getSeeking=function(){return $.getSeeking()},H.getCurrentTime=function(){return $.getCurrentTime()},H.setCurrentTime=function(e){t.dispatch(Object(sc.B)()),$.setCurrentTime(e)},H.getDuration=function(){return $.getDuration()},H.getPaused=function(){var e=t.getState(),n=e.ads,r=e.adsManager;return n.currentMetadata.contentType===uu.f.IMA?r.paused:$.getPaused()},H.isPaused=H.getPaused,H.getPlaybackRate=function(){return $.getPlaybackRate()},H.setPlaybackRate=function(e){$.setPlaybackRate(e)},H.getPlayed=function(){return $.getPlayed()},H.getEnded=function(){return $.getEnded()},H.getAutoplay=function(){return n.autoplay},H.setLoop=function(e){$.setLoop(e)},H.play=function(){var e=t.getState(),n=e.playback,r=e.ads,i=e.stream;n.hasPlayed||i.contentType!==Ns.a&&i.contentType!==Ms.a||C(),t.dispatch(Object(sc.K)(Is.l)),$.getNetworkState===$.NETWORK_EMPTY?$.load():r.currentMetadata.contentType===uu.f.IMA?t.dispatch(Object(uu.m)()):(i.contentType===Ns.a&&H.getEnded()&&H.setCurrentTime(0),$.play()),t.dispatch(Object(Zu.d)("video_pause",{action:"play",in_ad:t.getState().ads.currentMetadata.contentType!==uu.f.NONE}))},H.pause=function(){t.dispatch(Object(sc.K)(Is.j)),t.getState().ads.currentMetadata.contentType===uu.f.IMA?t.dispatch(Object(uu.l)()):$.pause(),t.dispatch(Object(Zu.d)("video_pause",{action:"pause",in_ad:t.getState().ads.currentMetadata.contentType!==uu.f.NONE}))},H.automatedPause=function(){$.pause()},H.getControls=function(){return!0},H.setControls=function(){},H.getVolume=function(){return t.getState().playback.volume},H.setVolume=function(e){var n=t.getState(),r=n.ads,i=n.adsManager;(r.currentMetadata.contentType===uu.f.IMA?i:$).setVolume(e),t.dispatch(Object(sc.L)(e)),Wo.a.set("volume",e)},H.getMuted=function(){return t.getState().playback.muted},H.setMuted=function(e,n){var r=t.getState(),i=r.ads,a=r.adsManager;(i.currentMetadata.contentType===uu.f.IMA?a:$).setMuted(e),t.dispatch(Object(sc.z)(e)),n||Wo.a.set("muted",e)},H.getTheatre=function(){return t.getState().screenMode.isTheatreMode},H.setTheatre=function(e){t.dispatch(Object(dc.h)(e))},H.getQuality=function(){return t.getState().playback.quality},H.setQuality=function(e){$.setQuality(e)},H.getQualities=function(){return $.getQualities()},H.getChannel=function(){return t.getState().streamMetadata.channelName},H.getVideo=function(){return t.getState().streamMetadata.videoId},H.getSessionInfo=function(){var e=t.getState(),n=e.analytics;return{broadcastId:e.manifestInfo.broadcast_id,playSessionId:n.playSessionId}},H.startCast=function(){J.load()},H.stopCast=function(){J.stop()},H.getFullscreen=function(){return t.getState().screenMode.isFullScreen},H.setFullscreen=function(e){t.dispatch(Object(dc.g)(e))},H.getFullscreenEnabled=function(){return t.getState().screenMode.canFullScreen},H.getStatsEnabled=function(){return t.getState().stats.enabled},H.setStatsEnabled=function(){console.warn("setStatsEnabled has been deprecated.")},H.getStats=function(){return t.getState().stats.videoStats},H.getPlaybackStats=H.getStats,H.getVideoInfo=function(){return $.getVideoInfo()},H.getBackend=function(){return $.getBackend()},H.submitVideoIssueReport=function(e){var n={issue:e};n=co()(n,H.getVideoInfo()),t.dispatch(Object(Zu.d)("vid_issue_report",n))},H.setBackend=function(e){Wo.a.usesCache()&&(Wo.a.set("backend",e),t.getState().window.document.location.reload())},H.getVersion=function(){return t.getState().backend.getVersion()},H.getViewerCount=function(){return t.getState().viewercount},H.getCaption=function(){return $.getCaption()},H.getEventEmitter=function(){return W},H.trackMiniPlayerAction=function(e,n){t.dispatch(Object(Zu.d)(so.f,{action:e,reason:n}))},V("error",{get:H.getError}),V("src",{get:H.getSrc,set:H.setSrc}),V("networkState",{get:H.getNetworkState}),V("buffered",{get:H.getBuffered}),V("readyState",{get:H.getReadyState}),V("seeking",{get:H.getSeeking}),V("currentTime",{get:H.getCurrentTime,set:H.setCurrentTime}),V("duration",{get:H.getDuration}),V("paused",{get:H.getPaused}),V("playbackRate",{get:H.getPlaybackRate,set:H.setPlaybackRate}),V("played",{get:H.getPlayed}),V("ended",{get:H.getEnded}),V("autoplay",{get:H.getAutoplay}),V("loop",{set:H.setLoop}),V("controls",{get:H.getControls,set:H.setControls}),V("volume",{get:H.getVolume,set:H.setVolume}),V("muted",{get:H.getMuted,set:H.setMuted}),V("quality",{get:H.getQuality,set:H.setQuality}),V("qualities",{get:H.getQualities}),V("channel",{get:H.getChannel,set:H.setChannel}),V("video",{get:H.getVideo,set:H.setVideo}),V("stats",{get:H.getStats}),V("statsEnabled",{get:H.getStatsEnabled,set:H.setStatsEnabled}),V("fullscreen",{get:H.getFullscreen,set:H.setFullscreen}),V("fullscreenEnabled",{get:H.getFullscreenEnabled}),V("theatre",{get:H.getTheatre,set:H.setTheatre}),V("viewers",{get:H.getViewerCount}),function(){var e=Object(Ec.b)(t.getState().env.playerType),i=ru.a;e.length<1?(t.dispatch(Object($s.d)(Ys.a.CODES.RENDERER_NOT_AVAILABLE)),t.dispatch(Object(Zu.d)(oo.n,{playback_error_code:6e3,playback_error_msg:"no_backend_supported"}))):i=eo()(e,n.backend)?n.backend:e[0],r(i),zs.a.ExtensionService.registerPlayer(H),zs.a.ExtensionService.listenForContext(),D()}()}function X(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var n in t){var r=Object.getOwnPropertyDescriptor(t,n);r.get&&(r.get=r.get.bind(t)),r.set&&(r.set=r.set.bind(t)),"function"==typeof r.value&&(r.value=r.value.bind(t)),Object.defineProperty(e,n,r)}}),e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e){return{type:zc,properties:e}}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e){var t=e.which||e.keyCode||e.charCode;return e.key?e.key:al[t]}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e){return null==e?"":""+e}function ce(e,t,n){e.forEach(function(e){t[e]&&(n[e]=t[e])})}function le(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=e[o]}return i()?{}:{obj:e,k:r(a.shift())}}function de(e,t,n){var r=le(e,t,Object);r.obj[r.k]=n}function fe(e,t,n,r){var i=le(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}function pe(e,t){var n=le(e,t),r=n.obj,i=n.k;if(r)return r[i]}function he(e,t,n){for(var r in t)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):he(e[r],t[r],n):e[r]=t[r];return e}function me(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function ye(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return yl[e]}):e}function ve(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):ve(e,t))}function we(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):we(e,t))}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(){var e={};return Ol.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:Tl[t.fc]}})}),e}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):Re(e,t))}function Le(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}function Ne(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):Ne(e,t))}function Ue(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){return{defaultValue:e[1]}},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function Be(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&e.whitelist.push("cimode"),e}function Fe(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):Fe(e,t))}function We(){}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t,n){}function Qe(e){var t=e.replace(/-[a-zA-Z]{2}$/,function(e){return e.toUpperCase()}),n=e.replace(/-[a-zA-Z]{2}$/,"");return eo()(["ar-SA","bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-US","es-MX","es-US","es-ES","es-LA","fi-FI","fr-FR","hi-IN","hu-HU","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","th-TH","tr-TR","vi-VN","zh-TW","zh-CN"],t)||(t=Yl[n]||n),new Promise(function(e,r){Wl.changeLanguage(t,function(i,a){i?r(i):e(new $l(n,t,a))})})}function Ye(e){return{type:bd,show:e}}function $e(e,t){return e===t.stream}function Je(e,t){return function(n,r){var i=r(),a=i.stream;return Object(As.j)(e,t).then(function(e){var t=e.notifications;$e(a,r())&&(rt(n,e),n(Ye(!t)))}).catch(function(e){$e(a,r())&&(it(n,e),n(Ye(!0)))})}}function Xe(e,t){return function(n){return Object(As.v)(e,t,!0).then(function(e){return rt(n,e)}).catch(function(){})}}function Ze(e,t){return function(n){return Object(As.v)(e,t,!1).then(function(){return n(nt({following:!1,notificationsEnabled:!1}))}).catch(function(){})}}function et(e,t){return function(n,r){var i=r(),a=i.analyticsTracker;return Object(As.w)(e,t,!0).then(function(e){return rt(n,e)}).then(function(){return ot(a)}).catch(function(){})}}function tt(e,t){return function(n,r){var i=r(),a=i.analyticsTracker;return Object(As.w)(e,t,!1).then(function(e){return rt(n,e)}).then(function(){return st(a)}).catch(function(){})}}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:vd,followInfo:e}}function rt(e,t){var n=t.channel,r=t.notifications;n._id&&void 0!==r&&e(nt({following:!0,notificationsEnabled:r}))}function it(e,t){404===t.status&&e(nt({following:!1,notificationsEnabled:!1}))}function at(e){return{type:gd,channelName:e}}function ot(e){e.trackEvent(wd,{src:"player"}),e.trackEvent(Sd,{notifications:!0})}function st(e){e.trackEvent(Sd,{notifications:!1})}function ut(e){var t=e.channelName,n=e.isFollowing,r=e.onFollowChannel,i=e.onUnfollowChannel,a=e.t;if(e.isOwnChannel)return null;var o=Xo()("pl-button","pl-button--follow","pl-button--icon","pl-button--status"),s=Xo()("pl-button","pl-button--follow","pl-button--icon"),u=Qo.a.createElement(Od.a,{className:o,onClick:i},Qo.a.createElement("span",{className:"pl-button__status pl-button__status--hover"},Qo.a.createElement("figure",{className:"pl-icon"},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_unheart"}))),Qo.a.createElement("span",{className:"pl-button__text"},a("Unfollow"))),Qo.a.createElement("span",{className:"pl-button__status pl-button__status--primary"},Qo.a.createElement("figure",{className:"pl-icon"},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_heart"}))),Qo.a.createElement("span",{className:"pl-button__text"},a("Following")))),c=Qo.a.createElement(Od.a,{className:s,onClick:r},Qo.a.createElement("figure",{className:"pl-icon"},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_heart"}))),Qo.a.createElement("span",{className:"pl-button__text"},a("Follow {{channelName}} on Twitch",{channelName:t})));return n?u:c}function ct(e){if(!e.isSubscribable||e.isOwnChannel)return null;var t=Xo()({"pl-button":!0,"pl-button--subscribe":!0,"pl-button--success":e.isSubscribed}),n=void 0,r=void 0;return e.isSubscribed?(n=e.t("Subscribed"),r=n):(n=e.t("Subscribe to {{channelName}}",{channelName:e.channelName}),r=e.t("Subscribe")),Qo.a.createElement(Od.a,{className:t,onClick:e.onSubscribe},Qo.a.createElement("span",{className:"pl-button__text pl-button__text--desktop"},n),Qo.a.createElement("span",{className:"pl-button__text pl-button__text--mobile"},r))}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function pt(e){switch(e){case"highlight":return"Playing highlight";case"archive":return"Playing past broadcast";case"upload":return"Playing uploaded video";case"rerun":return"Rerun of video";case"premiere":return"Premiering video";default:return"Playing pre-recorded video"}}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function vt(e){var t=e.collectionItems,n=e.showDivider,r=e.onMouseEnter,i=e.onMouseLeave,a=e.showSidebar,o=e.streamId,s=e.t,u=e.title,c=n?Qo.a.createElement("div",{className:"collection-divider"}):null,l=s("{{currentPosition}}/{{totalVideos}} videos",{currentPosition:el()(t,{itemId:o})+1,totalVideos:t.length});return Qo.a.createElement("div",{className:"collection-nav"},Qo.a.createElement("div",{className:"collection-collapsed__layout",onMouseEnter:r,onMouseLeave:i,onClick:a,onKeyUp:a,tabIndex:0,role:"button"},Qo.a.createElement("div",{className:of},Qo.a.createElement(Od.a,{className:sf,onClick:a},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_open_collection"}))),Qo.a.createElement("div",{className:uf},Qo.a.createElement("div",{className:cf},u),Qo.a.createElement("span",{className:lf}),Qo.a.createElement("span",{className:df},l)))),c)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Et(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ct(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function It(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Dt(e){var t=e.close;return Qo.a.createElement("button",{className:"close-popup-button__button","data-test-close-popup-button-close":!0,onClick:t},Qo.a.createElement("figure",{className:"close-popup-button__close-icon"},Qo.a.createElement("svg",{width:"16px",height:"16px",version:"1.1",viewBox:"0 0 16 16",x:"0px",y:"0px"},Qo.a.createElement("path",{d:"\n                            M8 6.586L3.757 2.343 2.343 3.757 6.586\n                            8l-4.243 4.243 1.414 1.414L8 9.414l4.243 4.243\n                            1.414-1.414L9.414\n                            8l4.243-4.243-1.414-1.414\n                        "}))))}function qt(e){var t=e.cancel,n=e.confirm,r=e.isLinked,i=e.isLoggedIn,a=e.productPayload,o=e.t;if(!i)return Qo.a.createElement("div",{className:"extension-confirmation__wrapper"},Qo.a.createElement("div",{className:" extension-confirmation__section extension-confirmation__section--first extension-confirmation__section--no-bottom "},Qo.a.createElement(Dt,{close:t})),Qo.a.createElement("div",{"data-test-extensions-confirmation-logged-out":!0,className:"extension-confirmation__section"},Qo.a.createElement("h4",null,o("You must be logged in to use this extension feature."))),Qo.a.createElement("div",{className:"extension-confirmation__section extension-confirmation__section--no-bottom"},Qo.a.createElement("button",{onClick:t,className:"extension-confirmation__cancel","data-test-extension-confirmation-cancel":!0},o("Close"))));var s=null;if(!r){s=Qo.a.createElement("div",{className:"extension-confirmation__section extension-confirmation__section--no-bottom"},Qo.a.createElement("p",{"data-test-extensions-confirmation-link-notice":!0,className:"extension-confirmation__link-notice"},Qo.a.createElement(ns.b,{i18nKey:'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under',extensionName:a.extensionName})," ",Qo.a.createElement("a",{href:"https://twitch.tv/settings/connections"},o("Settings")),"."))}var u="extension-confirmation__section "+(r?"":"extension-confirmation__section--no-bottom");return Qo.a.createElement("div",{className:"extension-confirmation__wrapper"},Qo.a.createElement("div",{className:" extension-confirmation__section extension-confirmation__section--first extension-confirmation__section--no-bottom "},Qo.a.createElement(Dt,{close:t}),Qo.a.createElement("h4",{className:"extension-confirmation__popup-title"},o("In-Extension Purchase"))),Qo.a.createElement("div",{className:"extension-confirmation__section"},Qo.a.createElement("div",null,Qo.a.createElement("h5",{className:"extension-confirmation__product-title"},Qo.a.createElement("span",{className:"extension-confirmation__display-price"},a.displayPrice),a.title),Qo.a.createElement("p",{className:"extension-confirmation__extension-name"},Qo.a.createElement(ns.b,{i18nKey:"{{extensionName}} Extension",extensionName:a.extensionName}))),Qo.a.createElement("p",{className:"extension-confirmation__description"},a.description)),Qo.a.createElement("div",{className:u},Qo.a.createElement("button",{onClick:n,className:"extension-confirmation__purchase","data-test-extension-confirmation-purchase":!0},o("Buy")),Qo.a.createElement("button",{onClick:t,className:"extension-confirmation__cancel","data-test-extension-confirmation-cancel":!0},o("Cancel"))),s)}function Ut(e){function t(){r(),u()}function n(){r()}var r=e.clearPurchaseIntent,i=e.isLinked,a=e.isLoggedIn,o=e.purchaseIntent;if(!o)return null;var s=o.payload,u=o.makePurchase;return Qo.a.createElement(ns.a,{i18n:Wl},Qo.a.createElement(Ep,{cancel:n,confirm:t,isLinked:i,isLoggedIn:a,productPayload:s}))}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ht(e){return e.displayName||e.name||"Component"}function zt(e){var t=function(t){function n(){Bt(this,n);var e=Ft(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.enableNotifications=e.enableNotifications.bind(e),e.disableNotifications=e.disableNotifications.bind(e),e.promptUserLogin=e.promptUserLogin.bind(e),e}return Vt(n,t),xp(n,[{key:"componentWillReceiveProps",value:function(e){e.showFollowNotification&&!this.props.showFollowNotification&&this._logInteraction(Ed)}},{key:"_invokeIfLoggedIn",value:function(e){var t=this.props,n=t.user,r=t.channel;n.loggedIn?e(n.id,r.id):this.promptUserLogin()}},{key:"_logInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.analytics,i=n.relationship,a=n.playerType;r.trackEvent(e,Io()(t,{follow_state:i.following,notif_state:i.notificationsEnabled,src:a}))}},{key:"enableNotifications",value:function(){var e=this.props,t=e.enableNotifications,n=e.relationship,r=n.following?Cd:_d;this._invokeIfLoggedIn(t),this._logInteraction(kd,{action:r})}},{key:"disableNotifications",value:function(){var e=this.props.disableNotifications;this._invokeIfLoggedIn(e),this._logInteraction(kd,{action:Pd})}},{key:"promptUserLogin",value:function(){var e=this.props,t=e.win,n=e.playerType,r=e.promptLoginModal,i=e.channel;n===Ro.s?r(i.name):t.open(lo.b,"_blank")}},{key:"render",value:function(){var t=this.props,n=t.channel,r=t.showFollowNotification,i=t.relationship,a=t.withInfo;return r?Qo.a.createElement(e,{channelName:n.name,disable:this.disableNotifications,enable:this.enableNotifications,notificationsEnabled:i.notificationsEnabled,withInfo:a}):null}}]),n}(Qo.a.Component);return t.propTypes=Rp,t.defaultProps=jp,t.displayName="WrappedFollowPanel("+Ht(e)+")",Object(cl.b)(Ap,Ip)(t)}function Wt(e){var t=e.className,n=e.notificationsEnabled,r=e.enable,i=e.disable,a=e.t,o=Xo()("pl-button","pl-button--icon","pl-button--status",t),s=Xo()("pl-button",t),u=Qo.a.createElement(Od.a,{className:o,onClick:i},Qo.a.createElement("span",null,Qo.a.createElement("figure",null,Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_pl-followcheck"}))),a("Notifications"))),c=Qo.a.createElement(Od.a,{className:s,onClick:r},Qo.a.createElement("span",null,a("Turn On Notifications")));return n?u:c}function Kt(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,a=e.t,o=e.withInfo,s=Xo()({"pl-pinned-panel":!0,"pl-pinned-panel--animate":!0,"pl-pinned-panel--with-info":o});return Qo.a.createElement("div",{className:s},Qo.a.createElement("h2",{className:"pl-pinned-panel__title"},a("Follow and get notified when {{channelName}} is live",{channelName:t})),Qo.a.createElement(Np,{enable:n,disable:r,notificationsEnabled:i}))}function Gt(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,a=e.t;return Qo.a.createElement("div",{className:Vp},Qo.a.createElement("h2",{className:"pl-pinned-panel__title"},a("Live Broadcast has ended")),Qo.a.createElement("p",{className:"pl-pinned-panel__subtext"},a("Get notified when {{channelName}} goes live next",{channelName:t})),Qo.a.createElement(Np,{className:Hp,enable:n,disable:r,notificationsEnabled:i}))}function Qt(e){var t=e.playerType;if(e.streamType===Mf.a)return null;switch(t){case Ro.q:case Ro.s:case Ro.k:return Qo.a.createElement(Up,null);case Ro.r:return Qo.a.createElement(Wp,null);default:return null}}function Yt(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,a=e.t;return Qo.a.createElement("div",null,Qo.a.createElement("p",{className:"pl-pinned-panel__subtext"},a("Get notified when {{channelName}} goes live next",{channelName:t})),Qo.a.createElement(Np,{className:Jp,enable:n,disable:r,notificationsEnabled:i}))}function $t(e){var t=e.t,n=e.hideFollowPanel,r=e.streamType,i=n?null:Qo.a.createElement(Zp,null),a=Qo.a.createElement("div",{className:nh},Qo.a.createElement("h2",{className:"pl-pinned-panel__title"},t("Live Broadcast has ended")),i);return r===Mf.a?a:null}function Jt(e){var t=e.children;return e.showTopBar?Qo.a.createElement("div",{className:"pl-controls-top js-controls-top"},t):null}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function en(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function tn(e){return new Promise(function(t){return setTimeout(t,e)})}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function on(e){return e.displayName||e.name||"Component"}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ch,n=io()(t,Object.keys(Ch)),r={onAnimationEnd:$o.a.func,_transitionToNextComponent:$o.a.func,className:$o.a.string},i={className:""},a=function(t){function r(){nn(this,r);var e=rn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return e.state={animationClass:""},e}return an(r,t),Ph(r,[{key:"_animateIn",value:function(e){var t=n.showDuration,r=n.showClass;this.setState({animationClass:r}),tn(t).then(e)}},{key:"componentWillAppear",value:function(e){this._animateIn(e)}},{key:"componentDidAppear",value:function(){this.setState({animationClass:""})}},{key:"componentWillEnter",value:function(e){this._animateIn(e)}},{key:"componentDidEnter",value:function(){this.setState({animationClass:""})}},{key:"componentWillLeave",value:function(e){var t=n.hideDuration,r=n.hideClass;this.setState({animationClass:r}),tn(t-Oh).then(e)}},{key:"componentDidLeave",value:function(){this.props.onAnimationEnd&&this.props.onAnimationEnd(),this.props._transitionToNextComponent&&this.props._transitionToNextComponent()}},{key:"render",value:function(){var t=Xo()(this.props.className,this.state.animationClass);return Qo.a.createElement(e,Sh({},this.props,{className:t}))}}]),r}(Qo.a.Component);return a.propTypes=r,a.defaultProps=i,a.displayName="WrappedAnimatedComponent("+on(e)+")",a}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function fn(e){var t=e.t;return Qo.a.createElement("div",{className:Uh},Qo.a.createElement("div",{className:"player-center-content"},Qo.a.createElement("p",null,t("This collection is empty."))))}function pn(e){var t=e.errorCode,n=e.errorMessage,r=e.t;return Qo.a.createElement("div",{className:"pl-error"},Qo.a.createElement("div",{className:"player-center-content"},Qo.a.createElement("p",null,t+": "+r(n))))}function hn(e){var t=e.hasError,n=e.errorCode,r=e.errorMessage,i=e.isVODRestricted;return!t||t&&i?null:Qo.a.createElement(Kh,{errorCode:n,errorMessage:r})}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function gn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function bn(e){var t=e.thumbnailURL,n=e.onSelect,r=e.featuredCollection,i=Qo.a.createElement("span",null,Qo.a.createElement("figure",{className:"pl-card__smallicon"},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_open_collection"}))),Qo.a.createElement("span",null,r.title));return Qo.a.createElement(tm,{className:"pl-rec__item",thumbnailURL:t,info:i,onSelect:n,selectItem:r,hasThumbZoom:!0,hasBorder:!0})}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function kn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Im;return function(t,n){var r=n().streamMetadata.channel.name;if(n().recommendations.status!==Sm||""===r)return Promise.resolve();var i=Math.floor(Math.random()*Rm);return t({type:Em,status:Pm}),new Promise(function(e){n().window.setTimeout(e,i)}).then(function(){return n().experiments.get(rd.j)}).then(function(e){return"yes"===e?Tn(n().stream.videoId):Promise.reject()}).catch(function(){return On(r,Om+1)}).then(function(r){var i=n(),a=i.resumeWatch,o=i.streamMetadata,s=r.filter(function(e){return e.broadcast_id!==o.broadcastID}).sort(function(e,t){var n=Rn(e,a.times),r=Rn(t,a.times);return!n&&r?-1:n&&!r?1:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}).map(xn);t(jn(s,e))})}}function On(e,t){var n={limit:t,broadcast_type:"archive"};return Object(As.o)("channels/"+e+"/videos?"+Object(po.stringify)(n)).then(function(e){return e.videos.map(function(e){return Io()(e,{recommendationType:Am})})})}function Tn(e){return Object(As.o)("videos/similar/"+e).then(function(e){var t=e.similar_videos;return 0===t.length?Promise.reject():t.map(function(e){return Io()(e,{recommendationType:jm})})})}function xn(e){return{recommendationType:e.recommendationType,creationDate:e.created_at,thumbnailURL:e.thumbnails.length>0?e.thumbnails[0].url:"",title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}}function Rn(e,t){if(!t.hasOwnProperty(e._id))return!1;var n=t[e._id];if(0===n)return!0;var r=Math.max(Tm,xm*e.length);return e.length>Tm&&n>r}function jn(e,t){return{type:_m,recommendationsType:t,videos:e}}function An(){return{type:wm}}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ln(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function qn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function zn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Gn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Jn(e){var t=e.statName,n=e.value,r=e.t;return Qo.a.createElement("li",{className:"pl-playback-stats--stat"},r(t)+": ",Qo.a.createElement("div",null,Qo.a.createElement("span",null,n)))}function Xn(e){var t=e.stats,n=e.isLive,r=e.onClose,i=null,a=null;return n&&(i=Qo.a.createElement(Ty,{statName:"Latency To Broadcaster",value:t.hlsLatencyBroadcaster+" sec."}),a=Qo.a.createElement(Ty,{statName:"Latency To Encoder",value:t.hlsLatencyEncoder+" sec."})),Qo.a.createElement("ul",{className:"pl-playback-stats js-playback-stats"},Qo.a.createElement(Od.a,{className:Ry,onClick:r},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_close"}))),Qo.a.createElement(Ty,{statName:"Video Resolution",value:t.videoResolution}),Qo.a.createElement(Ty,{statName:"Display Resolution",value:t.displayResolution}),Qo.a.createElement(Ty,{statName:"FPS",value:t.fps}),Qo.a.createElement(Ty,{statName:"Skipped Frames",value:t.skippedFrames}),Qo.a.createElement(Ty,{statName:"Buffer Size",value:t.bufferSize+" sec."}),i,a,Qo.a.createElement(Ty,{statName:"Playback Rate",value:t.playbackRate+" Kbps"}),Qo.a.createElement(Ty,{statName:"Memory Usage",value:t.memoryUsage}),Qo.a.createElement(Ty,{statName:"Backend Version",value:t.backendVersion}))}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function tr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ir(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ar(e){var t=e.playback,n=e.stream,r=e.onlineStatus,i=e.ads,a=i.currentMetadata.contentType!==uu.f.NONE,o=r===kc.a,s=t.autoplay,u=t.ended,c=t.hasPlayed,l=t.paused,d=n.contentType,f=!s&&!c&&l&&!o||d===Ds.a,p=d===Ms.a&&!a&&o&&u;return f?Hy:p?Vy:zy}function or(e){return e.replace("{width}x{height}","1280x720").replace("-320x240","-1280x720")}function sr(e){var t=e.clickThroughUrl,n=e.adLabel,r=e.t;return Qo.a.createElement("div",null,Qo.a.createElement("div",{className:"player-overlay player-ad-overlay"},Qo.a.createElement("a",{className:"player-ad-overlay",target:"_blank",href:t})),Qo.a.createElement("div",{className:"player-ad-notice"},Qo.a.createElement("p",{className:"js-advertisement-label"}," ",r(n))))}function ur(e){var t=e.clickThroughUrl,n=e.isPartner,r=e.displayName,i=void 0;return i=n&&!eo()(Jy,r.toLowerCase())?"This Ad supports "+r:"Advertisement",Qo.a.createElement($y,{clickThroughUrl:t,adLabel:i})}function cr(e){return"string"==typeof e&&e.indexOf("trans")>-1}function lr(e){return function(t){"Enter"===t.key&&e()}}function dr(e){var t=e.onSelect,n=e.selectedValue,r=rv.map(function(e){function r(){t(e)}var i=lr(r),a=Xo()({"cc-preset-square":!0,"cc-transparent-bg":cr(e),"js-cc-preset-selected":e===n});return Qo.a.createElement("div",{className:a,onClick:r,onKeyUp:i,tabIndex:-1,role:"button","data-preset":e,key:"cc-preset-"+e},"Aa")});return Qo.a.createElement("div",{className:"cc-panel-menu-frame cc-panel-menu-frame__presets"},r)}function fr(e){var t=e.onSelect,n=e.selectedValue;return Qo.a.createElement(dr,{onSelect:t,selectedValue:n})}function pr(e){function t(e){a(e.target.value)}var n=e.className,r=e.currentValue,i=e.id,a=e.onSelect,o=e.options,s=e.t,u=o.map(function(e){var t=e.value,n=e.text;return Qo.a.createElement("option",{key:"option."+t+"."+n,value:t},s(n))});return Qo.a.createElement("select",{className:n,onChange:t,onBlur:t,value:r,id:i},u)}function hr(e){var t=e.t,n=e.currentFont,r=e.onSelect;return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("label",{htmlFor:"fontLabel"},t("Font")),Qo.a.createElement(dv,{currentValue:n,id:"fontLabel",onSelect:r,options:_v}))}function mr(e){var t=e.currentAlignment,n=e.onSelect,r=e.t;return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("label",{htmlFor:"ccAlignment"},r("Alignment")),Qo.a.createElement(dv,{id:"ccAlignment",currentValue:t,onSelect:n,options:Cv}))}function yr(e){var t=e.currentPosition,n=e.onSelect,r=e.t;return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("label",{htmlFor:"verticalPosition"},r("Position")),Qo.a.createElement(dv,{currentValue:t,id:"verticalPosition",onSelect:n,options:jv}))}function vr(e){var t=e.currentOpacity,n=e.onSelect,r=e.t;return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("label",{htmlFor:"fontOpacity"},r("Opacity")),Qo.a.createElement(dv,{currentValue:t,id:"fontOpacity",onSelect:n,options:qv}))}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e){var t=e.onSelect,n=e.currentColor,r=e.colors,i=e.t,a=r.map(function(e){function r(){t(e)}function i(e){"Enter"===e.key&&r()}var a,o="transparent"===e?Qo.a.createElement("hr",{className:"cc-no-color"}):null,s=Xo()((a={"cc-color-palette__square":!0},gr(a,"cc-color-palette__square-"+e,!0),gr(a,"cc-color-palette__square-selected",e===n),a));return Qo.a.createElement("div",{className:"cc-color-palette__container",key:"color-palette."+e},o,Qo.a.createElement("div",{role:"button",className:s,onClick:r,onKeyUp:i,tabIndex:-1}))});return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("label",{htmlFor:"colorPalette"},i("Color")),Qo.a.createElement("div",{id:"colorPalette",className:"cc-color-palette"},a))}function _r(e){var t=e.increaseSize,n=e.decreaseSize,r=e.t;return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("label",{htmlFor:"sizePalette"},r("Size")),Qo.a.createElement(Od.a,{className:"cc-font-size cc-font-size--increment",id:"sizePalette",onClick:t},"A",Qo.a.createElement("span",{className:"player-tip","data-tip":r("Increase Size")})),Qo.a.createElement(Od.a,{className:"cc-font-size cc-font-size--decrement",id:"sizePalette",onClick:n},"A",Qo.a.createElement("span",{className:"player-tip","data-tip":r("Decrease Size")})))}function wr(e){function t(e){h(Yv,e)}function n(e){h(Gv,e)}function r(e){h(Kv,e)}function i(e){h(Qv,e)}function a(e){h($v,e)}function o(){d<tv.i.max&&h(Jv,d+tv.i.increment)}function s(){d>tv.i.min&&h(Jv,d+tv.i.decrement)}var u=e.currentAlignment,c=e.currentColor,l=e.currentFont,d=e.currentFontSize,f=e.currentPosition,p=e.currentOpacity,h=e.selectFontChange;return Qo.a.createElement("div",{className:"cc-panel-menu-frame"},Qo.a.createElement(wv,{currentFont:l,onSelect:r}),Qo.a.createElement(Ov,{currentAlignment:u,onSelect:i}),Qo.a.createElement(Fv,{currentColor:c,onSelect:n,colors:Wv}),Qo.a.createElement(Av,{currentPosition:f,onSelect:t}),Qo.a.createElement(Uv,{currentOpacity:p,onSelect:a}),Qo.a.createElement(Hv,{increaseSize:o,decreaseSize:s}))}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){var t=e.currentAlignment,n=e.currentColor,r=e.currentFont,i=e.currentFontSize,a=e.currentPosition,o=e.currentOpacity,s=e.selectFontChange;return Qo.a.createElement(wr,{currentAlignment:t,currentColor:n,currentFont:r,currentFontSize:i,currentPosition:a,currentOpacity:o,selectFontChange:s})}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t){var n;return rg[e]&&void 0!==t?Xo()((n={"pl-cc-button":!0,"cc-style-palette__square":!0},Sr(n,"cc-style-palette__square--"+e,!0),Sr(n,"pl-cc-button--selected",t),n)):"cc-style-palette__square"}function Cr(e){var t=e.t,n=e.selectTextStyle,r=Es()(rg,function(t,r){function i(){var t=e[o]?"none":r;n(s,t)}var a=t.text,o=t.enabledPropName,s=t.styleMapName,u=ag(i),c=Pr(r,e[o]);return Qo.a.createElement("div",{className:"cc-style-palette__container",key:"text-style-palette."+r},Qo.a.createElement("div",{role:"button",tabIndex:-1,htmlFor:"style-"+r,className:c,onClick:i,onKeyUp:u},a))});return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("div",null,t("Style")),Qo.a.createElement("div",{className:"cc-style-palette"},r))}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e,t){var n;return lg[e]&&lg[t]?Xo()((n={"pl-cc-button":!0,"cc-edge-palette__square":!0},Or(n,"cc-edge-palette__square--"+e,!0),Or(n,"pl-cc-button--selected",e===t),n)):"cc-edge-palette__square"}function xr(e){var t=e.currentTextEffect,n=e.selectTextEffect,r=e.t,i=Object.keys(lg).map(function(e){function r(){n(e)}var i=Tr(e,t),a=fg(r),o=e===cg?Qo.a.createElement("hr",{className:"cc-edge-disabled"}):null;return Qo.a.createElement("div",{className:"cc-edge-palette__container",key:"cc-text-effect-palette."+e},o,Qo.a.createElement("div",{role:"button",tabIndex:-1,htmlFor:"edge-effect-"+e,className:i,onClick:r,onKeyUp:a},ug))});return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("div",null,r("Effect")),Qo.a.createElement("div",{className:"cc-edge-palette"},i))}function Rr(e){var t=e.boldText,n=e.italicText,r=e.underlineText,i=e.selectTextEffect,a=e.selectTextStyle,o=e.currentTextEffect;return Qo.a.createElement("div",{className:"cc-panel-menu-frame"},Qo.a.createElement(sg,{boldText:t,italicText:n,underlineText:r,selectTextStyle:a}),Qo.a.createElement(pg,{currentTextEffect:o,selectTextEffect:i}))}function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e){var t=e.boldText,n=e.italicText,r=e.underlineText,i=e.currentTextEffect,a=e.selectTextEffect,o=e.selectTextStyle;return Qo.a.createElement(Rr,{boldText:t,italicText:n,underlineText:r,currentTextEffect:i,selectTextStyle:o,selectTextEffect:a})}function Ir(e){var t=e.onSelect,n=e.currentOpacity,r=e.t;return Qo.a.createElement("div",{className:"cc-customize-field"},Qo.a.createElement("label",{htmlFor:"bgOpacity"},r("Opacity")),Qo.a.createElement(dv,{currentValue:n,id:"bgOpacity",onSelect:t,options:kg}))}function Lr(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return Qo.a.createElement("div",{className:"cc-panel-menu-frame"},Qo.a.createElement(Eg,{currentOpacity:i,onSelect:r}),Qo.a.createElement(Fv,{currentColor:t,onSelect:n,colors:Pg}))}function Nr(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return Qo.a.createElement(Lr,{currentColor:t,currentOpacity:i,selectColor:n,selectOpacity:r})}function Mr(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return Qo.a.createElement(Lr,{currentColor:t,currentOpacity:i,selectColor:n,selectOpacity:r})}function Dr(e){return function(t){"Enter"===t.key&&e()}}function qr(e){var t=e.currentPanel,n=e.selectPanel,r=e.t,i=Lg.map(function(e,i){function a(){n(e)}var o=Xo()({"player-tabs__item":!0,"player-tabs__item--active":t===e});return Qo.a.createElement("li",{key:e+"__"+i,className:o},Qo.a.createElement("a",{onClick:a,onKeyUp:Dr(a),role:"button",tabIndex:0},r(e)))});return Qo.a.createElement("ul",{className:"player-tabs clearfix"},i)}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Fr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function zr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Wr(e){var t=e.showOverlay,n=e.play,r=e.collectionsSidebarOpen;return t?Qo.a.createElement($g.a,{onClick:n,collectionsSidebarOpen:r}):null}function Kr(e){var t=e.deviceName,n=e.t;return Qo.a.createElement("div",{className:"player-overlay pl-chromecast-overlay"},Qo.a.createElement("div",{className:"player-center-content"},Qo.a.createElement("div",null,n("Playing on {{deviceName}}",{deviceName:t}))))}function Gr(e){var t=e.deviceName;return e.castingState!==Qs.b?null:Qo.a.createElement(rb,{deviceName:t})}function Qr(e){var t=e.channelName,n=e.subscribeUrl,r=e.t;return Qo.a.createElement("div",{className:"pl-subscribe-overlay pl-subscribe-overlay--wall pl-product-overlay"},Qo.a.createElement("div",{className:"player-center-content player-product"},Qo.a.createElement("p",null,r(cb,{channelName:t})),Qo.a.createElement("a",{href:n,target:"_blank",className:"purchase_button"},r("Subscribe"))))}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xr(e){var t=e.t;return Qo.a.createElement("div",{className:"pl-storm-warning"},Qo.a.createElement("div",{className:"player-center-content"},Qo.a.createElement("div",{className:"pl-loading-spinner"}),Qo.a.createElement("p",null,Qo.a.createElement("span",{className:"broadcast-down-label"},t("The broadcast is down.")),Qo.a.createElement("br",null),Qo.a.createElement("span",{className:"broadcast-reload-label"},t("The player will automatically reload when the broadcast is back.")))))}function Zr(e){return e.shouldRenderStormWarning?Qo.a.createElement(kb,null):null}function ei(e,t,n,r){function i(e){var t=Tb.getItem("leaveData");if(t)return t[e]}function a(e,t){var n=Tb.getItem("leaveData");n||(n={}),n[e]=t,Tb.setItem("leaveData",n)}function o(){if(p){var e=i(p);if(e){var t=(new Date).getTime()/1e3;e.time+lo.u.refreshTimeout<t||n.dispatch(Object(Zu.d)("page_reload",{storm_detected:e.stormDetected,leave_dialog:e.stormDialog,refresh_warning:e.stormWarning}))}}}function s(){if(!p)return!1;if(!e.getEnded())return!1;if(!h||h<r.leaveDialogViewerThreshold)return!1;var t=(new Date).getTime()/1e3;return!(!m||m+lo.u.sinceEnded<t)}function u(){p=e.getChannel(),h=null,m=null,o()}function c(){h=n.getState().viewercount,m=(new Date).getTime()/1e3,s()&&r.refreshWarningEnabled&&d()}function l(e){var t=s(),i=t&&r.leaveDialogEnabled;if(a(p,{time:(new Date).getTime()/1e3,stormDetected:t,stormDialog:i,stormWarning:n.getState().screen===lc.k}),i)return f(e)}function d(){n.dispatch(Object(lc.p)(lc.k)),setTimeout(function(){n.dispatch(Object(lc.o)())},1e3*lo.u.warningDuration)}function f(e){return n.dispatch(Object(Zu.d)("page_leave_attempt",{viewers:h})),setTimeout(function(){setTimeout(function(){n.dispatch(Object(Zu.d)("page_leave_cancel",{viewers:h}))},1e3)},1),e.returnValue=lo.u.text,lo.u.text}var p,h,m;this.destroy=function(){window.removeEventListener("beforeunload",l)},function(){e.addEventListener(Is.i,u),e.addEventListener(Is.e,c),window.addEventListener("beforeunload",l),e.getChannel()&&u()}()}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e){var t=e.onClick,n=e.className,r=e.t,i=Xo()(ti({"pl-overlay":!0,"pl-overlay--unmute":!0},n,!0)),a=Qo.a.createElement("svg",{className:"pl-overlay__icon--unmute"},Qo.a.createElement("use",{xlinkHref:"#icon_volumemute"}));return Qo.a.createElement("div",{className:i,onClick:t,onKeyUp:t,role:"button",tabIndex:-1},Qo.a.createElement("div",{className:"pl-overlay__center-content"},a,Qo.a.createElement("p",{className:"pl-overlay__text--unmute"},r("Tap to unmute"))))}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ai(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function oi(e,t){return!e.hasPlayed&&!e.isPlaying&&t.isPlaying}function si(e){var t=e.channelName,n=e.subscribeUrl,r=e.onClose,i=e.t;return Qo.a.createElement("div",{className:"player-overlay player-overlay--wall pl-product-overlay"},Qo.a.createElement("div",{className:"player-product-overlay__close js-player-product-close"},Qo.a.createElement("button",{type:"button",className:"player-button player-button--noscale player-button--close",onClick:r},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_close_md"})))),Qo.a.createElement("div",{className:"player-center-content player-product"},Qo.a.createElement("p",null,i(Bb,{channelName:t})),Qo.a.createElement("a",{href:n,target:"_blank",className:"purchase_button"},i("Subscribe"))))}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function li(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function di(e,t,r,i,a){function o(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Dy.a,null))),document.getElementById("js-loading-overlay"))}function s(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(My,null))),document.getElementById("stats"))}function u(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Dh,null))),document.getElementById("js-collection-sidebar"))}function c(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(zh,null))),document.getElementById("empty-collection-overlay"))}function l(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Qp,null))),document.getElementById("js-follow-panel"))}function d(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(rh,null))),document.getElementById("js-dead-ltv-overlay"))}function f(e){var t=document.getElementById("js-player-extension-confirmation-root");ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Op,{store:e}))),t)}function p(e){var t=document.getElementById("js-player-extension-root");ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(bp,{store:e}))),t)}function h(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(ty,null))),document.getElementById("js-player-offline-recommendations-overlay"))}function m(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Cy,null))),document.getElementById("js-player-post-vod-recommendations-overlay"))}function y(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(ob,null))),document.getElementById("player-chromecast"))}function v(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(sb.b,null))),document.getElementById("player-mature"))}function g(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(ub.b,null))),document.getElementById("player-age-gate-overlay"))}function b(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(bb,null))),document.getElementById("player-subscribe-overlay"))}function _(e){ul.a.render(Qo.a.createElement(cl.a,{store:e},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Cb,null))),document.getElementById("storm-warning-overlay"))}var w=void 0,k=void 0,E=void 0;this.destroy=function(){w.destroy(),k.destroy(),E.destroy()},function(){var S=a;t.classList.add("player","theme--dark"),t.insertAdjacentHTML("beforeend",n(523));var P=r.getState().playback.muted;r.dispatch(Object(au.g)(P)),r.dispatch(Object(sc.x)()),r.dispatch(Object(Tp.e)()),f(r),p(r),l(r),u(r),c(r),d(r),s(r),m(r),h(r),o(r),y(r),v(r),g(r),b(r),_(r),ul.a.render(Qo.a.createElement(cl.a,{store:r},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(xb.a,{root:t},Qo.a.createElement(Ub,null),Qo.a.createElement(ev,null),Qo.a.createElement($b,null),Qo.a.createElement(Rb.a,null,Qo.a.createElement(oh,null,Qo.a.createElement(bf,null),Qo.a.createElement(nf,null),Qo.a.createElement(cd,null)),Qo.a.createElement(td.a,{getCurrentTime:e.getCurrentTime})),Qo.a.createElement(Pf,null)))),document.getElementById("root-player")),ul.a.render(Qo.a.createElement(cl.a,{store:r},Qo.a.createElement(Yg.a,null)),document.getElementById("js-player-captions-container")),ul.a.render(Qo.a.createElement(cl.a,{store:r},Qo.a.createElement(Qy,null)),document.getElementById("js-background-banner")),ul.a.render(Qo.a.createElement(cl.a,{store:r},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(eb,null))),document.getElementById("js-paused-overlay")),ul.a.render(Qo.a.createElement(cl.a,{store:r},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Yh,null))),document.getElementById("error-overlay")),ul.a.render(Qo.a.createElement(cl.a,{store:r},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(Qg,null))),document.getElementById("js-cc-panel")),i.hookUpForm(t),w=new ed.a(e,t,r,S),k=new Zl.a(t,r,S),E=new ei(e,t,r,S),t.setAttribute("data-initializing",!0),e.addEventListener(Ls.p,function(){t.setAttribute("data-initializing",!1)}),t.addEventListener("wheel",function(e){r.dispatch(Object(go.h)(e))})}()}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function hi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function mi(e,t,n,r,i){var a=document.createElement("div");return a.classList.add("player-ui"),t.appendChild(a),eo()(r_,i.player)?(ul.a.render(Qo.a.createElement(cl.a,{store:n},Qo.a.createElement(ns.a,{i18n:Jl},Qo.a.createElement(n_,{player:e,root:t}))),a),i_):new di(e,t,n,r,i)}function yi(e){return function(t){t({type:c_,pubsubVodInfo:vi(e)})}}function vi(e){return{watchPartyId:e.wp_id,vodId:e.vod_id,title:e.title,viewable:e.viewable,broadcastType:e.broadcast_type,incrementViewCountURL:e.increment_url}}function gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e){return"video-playback-by-id."+e}function _i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w_,t=arguments[1];switch(t.type){case rc:return Io()({},e,{params:t.params});case Wc.b:return Io()({},e,{params:Io()({},e.params,{player_type:t.playerType})});case uu.b:return Io()({},e,{params:Io()({},e.params,{adblock:!1!==t.detected})});default:return e}}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k_,t=arguments[1];switch(t.type){case uu.b:return Io()({},e,{adblock:t.detected});case uu.d:return Io()({},e,{clickThrough:t.URL});case uu.c:return t.currentMetadata.contentType===uu.f.STITCHED?Io()({},e,{currentMetadata:t.currentMetadata}):Io()({},e,{currentMetadata:t.currentMetadata,clickThrough:k_.clickThrough});case uu.a:return Io()({},e,{imaScriptLoaded:t.imaScriptLoaded});case uu.e:return Io()({},e,{vodMidrollArchiveSetting:t.setting});case Tc.a:return Io()({},e,{vodMidrollArchiveSetting:wu});default:return e}}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qu,t=arguments[1];switch(t.type){case Xu:return t.adsManager;default:return e}}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E_,t=arguments[1];switch(t.type){case Eo.a:return co()({},e,{qualityChangeCount:e.qualityChangeCount+1});case Eo.c:return co()({},e,{qualityChangeCount:0});case Eo.d:return co()({},e,{trackingClients:t.clients});case Eo.b:return co()({},e,{playSessionId:t.playSessionId,playSessionStartTime:t.playSessionStartTime});default:return e}}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P_,t=arguments[1];switch(t.type){case Zu.a:return t.tracker;default:return e}}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ru.b,t=arguments[1];switch(t.type){case ou:return t.backend;default:return e}}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C_,t=arguments[1];switch(t.type){case su:return Io()({},e,{playerBackendType:t.playerBackendType});default:return e}}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A_,t=arguments[1];switch(t.type){case R_.a:var n=Io()({},e);return Object.keys(t.recommendationSets).forEach(function(e){t.recommendationSets[e].forEach(function(e){n.bySlug[e.slug]=e,n.allSlugs=Object(j_.a)(n.allSlugs,e.slug)})}),n;default:return e}}function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L_,t=arguments[1];switch(t.type){case Kc.b:return Io()({},e,xi({},t.moderationType,Kc.g));case Kc.a:return Io()({},e,xi({},t.moderationType,Kc.f));default:return e}}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M_,t=arguments[1];switch(t.type){case N_.a:return co()({},e,{data:t.communities.data,ids:t.communities.ids});default:return e}}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F_;switch(arguments[1].type){case Tc.a:case U_.a:return e.streamingTag.stop(),{streamingTag:new q_.a.StreamingTag({customerC2:B_})};default:return e}}function Ii(e){return{type:V_,experiments:e}}function Li(e){return Ii(Object(rd.m)(e))}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z_,t=arguments[1];switch(t.type){case V_:return t.experiments;default:return e}}function Mi(e){return{type:W_,lang:e}}function Di(e){return function(t,n){return n().lang.shortCode===e?Promise.resolve():Qe(e).then(Mi).then(t)}}function qi(e,t){return Di(vs.cookie.get("language",null)||Array.isArray(e.languages)&&e.languages[0]||e.language||e.userLanguage||t)}function Ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xl,t=arguments[1];switch(t.type){case W_:return t.lang;default:return e}}function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K_,t=arguments[1];switch(t.type){case Tc.a:return K_;case nc:return Io()({},e,io()(t.info,Object.keys(K_)),{stream_time:parseFloat(t.info.stream_time,10)||0});default:return e}}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J_,t=arguments[1];switch(t.type){case Ko.a:return Q_()(t.notification,e);case Ko.b:return $_()(e,1);default:return e}}function Vi(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case cc.a:return"live"===t.streamMetadata.type||e;case oc.a:return t.online;default:return e}}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z_,t=arguments[1];switch(t.type){case X_.a:return Io()({},e,t.playerDimensions);default:return e}}function zi(e){var t=io()(e,["branding","collection","channel","channelId","force_preroll","force_midroll","force_preroll_id","force_midroll_id","showInfo","showMature","showtheatre","tt_content","tt_medium","video"]);return{type:nw,playerOptions:t}}function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rw,t=arguments[1];switch(t.type){case nw:return tw()({},e,t.playerOptions);default:return e}}function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iw,t=arguments[1];switch(t.type){case $s.b:return{hasError:!0,code:t.code};case $s.a:return iw;default:return e}}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aw,t=arguments[1];switch(t.type){case bd:return Io()({},e,{showFollowNotification:t.show});case vd:return Io()({},e,{fetched:!0},io()(t.followInfo,Object.keys(aw)));case Tc.a:return aw;default:return e}}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ow,t=arguments[1];switch(t.type){case uc.a:return Io()({},e,{selected:t.quality,bitrate:t.bitrate});case uc.c:return Io()({},e,{current:t.quality});case uc.d:return Io()({},e,{available:t.qualities});case uc.b:return Io()({},e,{absAvailable:t.absAvailable});default:return e}}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sw,t=arguments[1];switch(t.type){case _m:return Io()({},e,{type:t.recommendationsType,videos:t.videos,status:Cm,numVideosVisible:t.videos.length>0?e.numVideosVisible:0});case Em:return Io()({},e,{status:t.status});case km:return Io()({},e,{numVideosVisible:t.numVids});case wm:case Tc.a:return Io()({},sw);default:return e}}function $i(){return{type:cw,times:Wo.a.get(vw,{}),watch:Wo.a.get(gw,{}),streamTimes:Wo.a.get(bw,{}),lastTimeStamp:0,userId:null,isSeeked:!1}}function Ji(e){return{type:yw,isSeeked:e}}function Xi(e,t,n,r){var i={video_id:t,position:Math.floor(n),type:r};return Object(As.u)(e,i)}function Zi(e){return e?Object(As.k)(e):Promise.reject()}function ea(e){return{type:uw,resumeTimes:e}}function ta(e,t,n){return t-e>n}function na(e,t,n){return 0===t&&0!==e||Math.abs(e-t)>n}function ra(e,t){return function(n,r){var i=r(),a=i.resumeWatch,o=i.window,s=i.analytics;a.userId&&ta(s.playSessionStartTime,o.Date.now(),a.initUpdateOffset)&&na(t,a.lastTimeStamp,a.updateInterval)&&(Xi(a.userId,e,t,Ns.a),n({type:hw,lastTimeStamp:Math.floor(t)}))}}function ia(e,t){return function(n,r){var i=r(),a=i.resumeWatch,o=i.window,s=i.analytics;a.userId&&ta(s.playSessionStartTime,o.Date.now(),a.initUpdateOffset)&&na(t,a.lastTimeStamp,a.updateInterval)&&(Xi(a.userId,e,t,Ms.a),n({type:hw,lastTimeStamp:Math.floor(t)}))}}function aa(e,t){return function(n,r){r().resumeWatch.userId?n(ra(e,t)):(n({type:dw,videoID:e,time:t}),ca(r()))}}function oa(e){return function(t,n){n().resumeWatch.userId?t(ra(e,0)):(t({type:lw,videoID:e}),ca(n()))}}function sa(e,t){return function(n,r){r().resumeWatch.userId?n(ia(e,t)):(n({type:pw,broadcastID:e,time:t}),ca(r()))}}function ua(e){return function(t,n){n().resumeWatch.userId?t(ia(e,0)):(t({type:fw,broadcastID:e}),ca(n()))}}function ca(e){Wo.a.set(vw,e.resumeWatch.times),Wo.a.set(gw,e.resumeWatch.watch),Wo.a.set(bw,e.resumeWatch.streamTimes)}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pw,t=arguments[1];switch(t.type){case cw:return io()(t,Object.keys(Pw));case mw:return Io()({},e,{userId:t.userId});case _w.a:return Io()({},e,{userId:t.userInfo.id});case uw:return Io()({},e,t.resumeTimes.reduce(function(e,t){var n=t.video_id,r=t.position,i=t.type;return i===Ns.a&&(e.times[n]=r,e.watch[n]=!0),i===Ms.a&&(e.streamTimes[n]=r),e},{times:{},watch:{},streamTimes:{}}));case dw:return tw()({},e,{times:la({},t.videoID,t.time),watch:la({},t.videoID,!0)});case lw:return Io()({},e,{times:Lc()(e.times,t.videoID),watch:Lc()(e.watch,t.videoID)});case pw:return tw()({},e,{streamTimes:la({},t.broadcastID,t.time)});case fw:return Io()({},e,{streamTimes:Lc()(e.streamTimes,t.broadcastID)});case hw:return Io()({},e,{lastTimeStamp:t.lastTimeStamp});case yw:return Io()({},e,{isSeeked:t.isSeeked});case Tc.a:return Io()({},e,fa(t.stream),{isSeeked:!1,lastTimeStamp:0});default:return e}}function fa(e){var t={updateInterval:Pw.updateInterval,initUpdateOffset:Pw.initUpdateOffset};return e instanceof Ns.b?(t.updateInterval=ww,t.initUpdateOffset=Ew):e instanceof Ms.b&&(t.updateInterval=kw,t.initUpdateOffset=Math.ceil(Math.random()*Sw)),t}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[lc.g],t=arguments[1];switch(t.type){case uu.c:switch(t.currentMetadata.contentType){case uu.f.IMA:return e[0]!==lc.c?[lc.c].concat(e):e;case uu.f.STITCHED:return e[0]!==lc.j?[lc.j].concat(e):e;case uu.f.NONE:return eo()([lc.c,lc.j],e[0])?e.slice(1):e;default:return e}case lc.b:return[t.screen].concat(e);case lc.a:return 1===e.length?[lc.g]:e.slice(1);case Tc.a:return eo()([lc.m,lc.n,lc.f],e[0])?e.slice(1):e;case $s.b:return eo()([lc.h,lc.n,lc.i],e[0])?e:[lc.h].concat(e);case $s.a:return e[0]===lc.h?e.slice(1):e;default:return e}}function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cw,t=arguments[1];switch(t.type){case dc.b:return Io()({},e,{isFullScreen:t.isFullScreen});case dc.d:return e.canFullScreen?Io()({},e,{isFullScreen:!e.isFullScreen}):e;case dc.a:return Io()({},e,{canFullScreen:t.canFullScreen});case nw:return Io()({},e,{canTheatreMode:t.playerOptions.showtheatre});case dc.c:return Io()({},e,{isTheatreMode:t.isTheatreMode});case dc.e:return e.canTheatreMode?Io()({},e,{isTheatreMode:!e.isTheatreMode}):e;default:return e}}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ow,t=arguments[1];switch(t.type){case wc.b:return Io()({},e,{videoStats:io()(t.videoStats,Object.keys(Ow.videoStats))});case wc.a:return Io()({},e,{displayed:t.displayed});default:return e}}function ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds.b,t=arguments[1];switch(t.type){case Tc.a:return t.stream;default:return e}}function va(e,t){return function(n,r){return Object(As.l)(e,t).then(function(){if(t===r().streamMetadata.channel.id)return n(Rw({isSubscribed:!0}))}).catch(function(){if(t===r().streamMetadata.channel.id)return n(Rw({isSubscribed:!1}))})}}function ga(e){return function(t,n){return Object(As.m)(e).then(function(){if(e===n().streamMetadata.channel.name)return t(jw({isSubscribable:!0}))}).catch(function(){if(e===n().streamMetadata.channel.name)return t(jw({isSubscribable:!1}))})}}function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aw,t=arguments[1];switch(t.type){case xw:return Io()({},e,t.subscriptions);case Tw:return Io()({},e,{didFetch:!0},t.subscriptions);case Tc.a:return Aw;default:return e}}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lw,t=arguments[1];switch(t.type){case Iw.b:return Io()({},e,{mutedSegments:t.mutedSegments});case Iw.c:return Io()({},e,{previews:t.previews});case Iw.a:return Io()({},e,{markers:t.markers});case Tc.a:return Lw;default:return e}}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case zc:return Io()({},e,io()(t.properties,Nw));default:return e}}function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mw,t=arguments[1];switch(t.type){case xc.h:return Io()({},e,{showVolumeSlider:t.value});case xc.d:return Io()({},e,{isMini:Boolean(t.value)});case xc.f:return Io()({},e,{showSettings:t.value,showExtensionsSubmenu:t.extensionsSubmenu});case xc.e:return Io()({},e,{showUI:t.showUI});case xc.c:return Io()({},e,{onUIElement:!0});case xc.b:return Io()({},e,{onUIElement:!1});default:return e}}function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dw,t=arguments[1];switch(t.type){case hc:return Io()({},e,{params:t.params});case mc:return Io()({},e,{hostOverride:t.hostOverride});default:return e}}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case cc.a:return t.streamMetadata.viewers||e;case u_.a:return t.count;default:return e}}function Pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qw,t=arguments[1];switch(t.type){case c_:return Io()({},e,t.pubsubVodInfo);default:return e}}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments[1];switch(t.type){case Uw.a:return t.window;default:return e}}function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bw,t=arguments[1];switch(t.type){case Tp.a:return Io()({},e,io()(t.settings,Fw));case Tp.b:return Io()({},e,{persistenceEnabled:Boolean(t.value)});default:return e}}function Ta(){return function(e){return function(e){var t=void 0,n=new Promise(function(e){t=e});return function(r){switch(r.type){case pu.b:t(r.video);break;case pu.h:n.then(function(e){return e.play()});break;case pu.g:n.then(function(e){return e.pause()});break;case pu.a:n.then(function(e){return e.automatedPause()});break;case pu.f:n.then(function(e){return e.setMuted(r.muted,r.automated)});break;case pu.e:n.then(function(e){return e.setVolume(r.volume)});break;case pu.i:n.then(function(e){return e.submitVideoIssueReport(r.issueType)});break;case pu.c:n.then(function(e){return e.setBackend(r.backendType)});break;case pu.d:n.then(function(e){return e.setPlaybackRate(r.playbackRate)});break;case pu.j:n.then(function(e){return e.setCurrentTime(r.seekTime)});break;case ac.c:n.then(function(e){return e.startCast()});break;case ac.d:n.then(function(e){return e.stopCast()})}e(r)}}}}function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zw;return function(t){return function(n){var r=e;return function(e){var i=t.getState(),a=i.screenMode;switch(e.type){case Nu.i:r=e.emitter;break;case Nu.e:r.emit(Ls.m);break;case Nu.g:r.emit(Ls.C,{vodId:e.vodId,collectionId:e.collectionId});break;case Nu.d:r.emit(p_.a);break;case Nu.h:r.emit(Ls.D,{vodId:e.vodId});break;case Tp.b:r.emit(Ls.n);break;case dc.c:if(a.isTheatreMode===e.isTheatreMode)break;r.emit(Ls.A,!a.isFullScreen&&e.isTheatreMode);break;case dc.e:r.emit(Ls.A,!a.isFullScreen&&!a.isTheatreMode);break;case gd:r.emit(Ls.r,{channelDisplayName:e.channelName});break;case Nu.b:r.emit(Is.k);break;case Nu.c:r.emit(Is.l);break;case Nu.a:r.emit(Is.j);break;case Nu.f:r.emit(Ls.q)}n(e)}}}}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gw;return function(t){return function(t){var n=e;return function(e){switch(e.type){case go.d:n=e.embedHost;break;case go.a:n._sendAdCompanionEvent(e.event,e.data);break;case go.b:n._emitWheelEvent(e.data);break;case go.c:n._sendFirstPartyAnalyticEvent(e.event,e.data);break;case Nu.g:n._sendTransitionToCollectionEvent({vodId:e.vodId,collectionId:e.collectionId});break;case Nu.h:n._sendTransitionToRecommendedVodEvent({vodId:e.vodId});break;case wc.b:n._sendStatsUpdateEvent();break;case Nu.f:n._sendReadyEvent();break;case sc.i:n._sendSeekedEvent(e.currentTime)}t(e)}}}}function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$w;return function(t){return function(t){var n=e;return function(e){switch(e.type){case Zu.a:n=e.tracker;break;case Zu.b:n.trackEvent(e.eventName,e.eventProperties)}t(e)}}}}function Na(){return function(e){return function(t){var n=void 0,r=e.getState(),i=r.window,a=function(){var t=e.getState(),n=t.env,r=t.onlineStatus,i=t.playback,a=t.ui,o=n.playerType===Ro.o,s=a.onUIElement,u=i.paused,c=r===kc.a;o||s||u||c||e.dispatch(Object(xc.p)(!1))},o=function(){i.clearTimeout(n)},s=function(e){o(),n=i.setTimeout(a,e)},u=function(){e.dispatch(Object(xc.m)()),e.dispatch(Object(xc.p)(!1))},c=function(){var t=e.getState(),n=t.ui,r=t.collection,i=r.currentView===tl.b;n.isMini||i||e.dispatch(Object(xc.p)(!0))};return e.dispatch(Object(xc.s)()),s(lo.t),function(n){switch(n.type){case xc.d:n.value&&(u(),o());break;case sc.f:c();break;case xc.a:e.getState().env.playerType!==Ro.o&&u(),o();break;case ac.a:eo()(["connected","connecting"],n.castingState)?e.dispatch(Object(xc.p)(!0)):s(lo.r);break;case uc.c:n.isAuto||(c(),s(lo.r));break;case sc.j:case sc.k:case dc.c:case xc.g:case dc.e:c(),s(lo.r)}t(n)}}}}function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(g_.e)(Jw,e,Object(g_.d)(Object(g_.a)(__.a,Ta()),Object(g_.a)(__.a,Ra()),Object(g_.a)(__.a,Aa()),Object(g_.a)(__.a,La()),Object(g_.a)(__.a,Na()),(window.devToolsExtension,function(e){return e})))}function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(e){if(/\/\/(www|player|go|canary|rc|.*\.rc|.*\.canary)\.twitch\.tv/.test(e))return Zw;if(/\/\/betaplayer\.twitch\.tv/.test(e))return tk;var t=vs.cookie.get(nk);return t||ek}function Ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e){return"string"!=typeof e?"":e.trim().toLowerCase()}function Ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ya(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function $a(e,t){function n(){var e=v.getState(),t=e.window,n=v.getState(),r=n.analyticsTracker;t.google?t.google&&v.dispatch(Object(uu.k)(!0)):Nk.then(function(){v.dispatch(Object(uu.k)(!0))}).catch(function(){v.dispatch(Object(uu.k)(!1)),r.trackEvent(oo.k,{reason:"ima load failed"})})}function r(e){return Ro.b.includes(e.player)?f.setClip(e.clip):e.customerId&&e.contentId?f._setContent(e.customerId,e.contentId):e.stream&&e.channelId?f._setLiveToVod(e.stream,e.channelId):e.channelId?Object(As.p)("channels/"+e.channelId).then(function(e){return f.setChannel(e.name)}):e.channel?f.setChannel(e.channel):e.collection?u().then(function(){v.dispatch(Object(Rc.q)(e.collection,e.video,e.time,!0))}):e.video&&e.time?f.setVideo(e.video,Hs.a(e.time)):e.video?f.setVideo(e.video):u()}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=no()(e)?ms.b(e):e;if(c(t),!Object(ys.b)()){var n=[Ro.i,Ro.s,Ro.n,Ro.d,Ro.m];eo()(Mk,t.player)||(t=io()(t,lo.o)),t.branding=!eo()(n,t.player)}t.backend=a(t),t.allowfullscreen=!1!==t.allowfullscreen&&t.player!==Ro.o,t=Xa()(t,{time:t.t}),t.time=ms.a(t.time),Wo.a.get("backend")===Ws.a&&Wo.a.set("backend",Wu.a),t=Xa()(t,{volume:Wo.a.get("volume"),muted:Wo.a.get("muted"),backend:Wo.a.get("backend"),player:t.player===Ro.p?Ro.p:Ro.v()}),t=Xa()(t,{showInfo:t.channelInfo},{showInfo:!0,branding:!0,volume:.5,muted:!1,controls:!0,autoplay:!0,playsinline:!1,quality:"medium",time:null,leaveDialogEnabled:lo.u.enabled,leaveDialogViewerThreshold:lo.u.viewerThreshold,refreshWarningEnabled:lo.u.enabled,lang:lo.k,showtheatre:!1,abs:!1,origin:"",tt_content:"",tt_medium:""});var r=v.getState().env.platform===yu.a,i=No.a.name===Dk;return(r||i)&&t.autoplay&&(t.muted=!0),t.tracking=Xa()({},t.tracking,t.trackingProperties,{player:t.player}),t}function a(e){if(e.flash)return Hu.a;if(e.hls)return zu.a;var t=Wu.b.canPlay(),n=Ws.b.canPlay(),r=zu.b.canPlay();return e.html5&&t?Wu.a:e.html5&&n?Ws.a:e.html5&&r?zu.a:void 0}function o(e){g.setVolume(e.volume),g.setMuted(e.muted),e.debug&&lo.c.forEach(function(e){eo()(lo.j,e)||g.addEventListener(e,function(){console.log("video event: ",e)})}),g.addEventListener(Is.f,function(e){console.error("video error:",g.getError()||e)})}function s(){var e=v.getState(),t=e.window;return t.Twitch.sentinel?No.a.msie?Promise.resolve(!0):Promise.resolve(t.Twitch.sentinel.detect):d(t)}function u(){return s().then(function(e){return v.dispatch(Object(uu.p)(e))},function(){return v.dispatch(Object(uu.p)(!0))})}function c(e){var t=Object(Po.a)(v.getState().window.location.href);t.queryKey.hasOwnProperty("force_preroll")&&(e.usher_force_preroll=!0,e.force_preroll=t.queryKey.force_preroll),t.queryKey.hasOwnProperty("force_midroll")&&(e.usher_force_midroll=!0,e.force_midroll=t.queryKey.force_midroll),t.queryKey.hasOwnProperty("force_preroll_id")&&(e.force_preroll_id=t.queryKey.force_preroll_id),t.queryKey.hasOwnProperty("force_midroll_id")&&(e.force_midroll_id=t.queryKey.force_midroll_id)}var f=this,p=void 0,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0,b=void 0,_=void 0,w=void 0,k=void 0,E=void 0,S=void 0,P=void 0,C=void 0,O=[];f._setLiveToVod=function(e,t){var n=function(e){var n=v.getState(),r=n.user,i=function(){var e=v.getState(),n=e.user;v.dispatch(Je(n.id,t))};if(v.dispatch(Tc.g()),v.dispatch(Object(cc.d)(e)),r.loggedInStatus!==qd.b)i();else var a=Object(zo.a)(v,["user.loggedInStatus"],function(e){var t=e.user;a(),t.loggedInStatus===qd.a&&i()})};return Object(As.p)("content?stream_id="+e+"&channel_id="+t).then(function(t){if(t.stream&&t.stream._id.toString()===e)return f.setChannel(t.channel.name);if(t.videos.length>0){var r=t.videos.find(function(e){return"archive"===e.broadcast_type}),i=t.videos.find(function(e){return"highlight"===e.broadcast_type});if(r)return f.setVideo(r._id);if(i)return f.setVideo(i._id)}n(t.channel.name)}).catch(function(){return Object(As.p)("channels/"+t).then(function(e){n(e.name)})})},f._setContent=function(e,t){var n=Tc.h({contentType:Tc.d,customerId:e,contentId:t});return Promise.resolve(v.dispatch(n))},f.setChannel=function(e){return u().then(function(){var t=Tc.h({contentType:Tc.b,contentId:e});v.dispatch(t),v.dispatch(Object(Rc.k)())})},f.setClip=function(e){var t=Tc.h({contentType:Tc.c,contentId:e});return v.dispatch(t),v.dispatch(Object(Rc.k)()),Promise.resolve(!0)},f.setVideo=function(e,t){if("string"==typeof e){var n="v"!==e.charAt(0)?"v"+e:e;return u().then(function(){var e=Tc.h({contentType:Tc.e,contentId:n});v.dispatch(e),v.dispatch(Object(Rc.k)()),v.dispatch(Object(sc.G)(t))})}},f.setCollection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return u().then(function(){v.dispatch(Object(Rc.q)(e,t,n))})},f.setLanguage=function(e){v.dispatch(Di(e))},f.setMiniPlayerMode=function(e){v.dispatch(Object(xc.o)(e))},f.recordClip=function(){w&&Object(I_.b)(v.getState())&&w.recordClip()},f.isPlaying=function(){var e=v.getState(),t=e.stream,n=e.onlineStatus,r=t.contentType===Ns.a,i=n===kc.b;return!g.getPaused()&&!g.getEnded()&&(i||r)&&g.getReadyState()>Gs.a},f.setTrackingProperties=function(e){v.dispatch(ee(e))},function(){var a=void 0;a="string"==typeof e||e instanceof String?document.getElementById(e):e,v=Ma(),v.dispatch(Object(Uw.b)(window));var s=i(t);v.dispatch(zi(s)),Object(As.x)(s),s.debug&&s.verbose&&v.subscribe(function(){console.debug("state change: %o",v.getState())}),s.force_manifest_node&&v.dispatch($(s.force_manifest_node)),v.dispatch(Li({login:vs.cookie.get("login")||null,deviceID:Oo.a(!1),userAgent:v.getState().window.navigator.userAgent})),v.dispatch(qi(v.getState().window.navigator,s.lang)),v.dispatch(Object(Wc.d)({deviceId:Oo.a(!1)})),v.dispatch(Object(Wc.e)(s.player)),v.dispatch(ee(s.tracking)),O.push(new f_(v,s)),O.push(new Ek(v)),O.push(new Pk(v)),O.push(new hs(v)),O.push(new Eu(v)),O.push(new Tk(v)),p=new l(v,s),v.dispatch(Object(Zu.c)(p)),v.dispatch(Object(uc.j)()),n(),h=s.allowfullscreen?new p_.b(a,v):new v_(a,v),k=new gk.c(v),E=new sk(v),g=new J(a,v,s),y=new Vs(g,v,p,s),s.debug&&(window.state=y),S=new fk(v),S.observe(a),P=new mk(v),s.player===Ro.u&&(O.push(new vk(v)),s.targetOrigin||console.error("Missing targetOrigin option"),v.dispatch(Object(Wc.f)({targetOrigin:s.targetOrigin}))),X(f,g),_=new Xc(g,v,{origin:s.origin}),b=new so.a(g,p,y,v,s),v.dispatch(Object(sc.E)(s.autoplay)),o(s),O.push(new ol(g,a,v,s)),s.controls&&(w=new rk(y,v),v.dispatch(Object(ik.b)(w)),m=mi(g,a,v,w,s)),C=new Lk(g,y,v,s),r(s).then(function(){v.dispatch(ee({content:s.tt_content,medium:s.tt_medium})),v.dispatch(Object(Nu.o)())}),v.dispatch($i()),g.addEventListener(Is.h,function(){v.dispatch(Object(dc.f)(h.canFullScreen()))})}(),f.destroy=function(){C.destroy(),m&&m.destroy(),g.destroy(),y.destroy(),b.destroy(),_.destroy(),O.forEach(function(e){return e.destroy()}),k.destroy(),E.destroy(),S.destroy(),P.destroy()}}Object.defineProperty(t,"__esModule",{value:!0});var Ja=(n(196),n(197)),Xa=n.n(Ja),Za=n(7),eo=n.n(Za),to=n(111),no=n.n(to),ro=n(20),io=n.n(ro),ao=n(213),oo=n(61),so=n(62),uo=n(28),co=n.n(uo),lo=n(8),fo=n(123),po=n(30);r.prototype.trackEvent=function(e,t){if(!eo()(lo.x,e)){var n=co()({},t,{token:this._token}),r=Object(fo.a)(JSON.stringify({event:e,properties:n})),i=Object(po.stringify)({data:r,ip:1});fetch(this._host+"/track?"+i,{cache:"no-store"})}},r.prototype.trackEvents=function(e){e.forEach(function(e){this.trackEvent(e.event,e.properties)},this)};var ho=n(37),mo=n.n(ho);i.prototype.trackEvent=function(e,t){eo()(lo.B,e)||(this._send({event:e,properties:t}),"minute-watched"===e&&this._sendToUntrustedHost({event:"x_untrusted_minute-watched_filtered",properties:t}))},i.prototype.trackEvents=function(e){var t=e.filter(function(e){return!eo()(lo.B,e.event)}),n=mo()(t,function(e){return"minute-watched"===e.event});t.length>0&&this._send(t),n&&this._sendToUntrustedHost({event:"x_untrusted_minute-watched_filtered",properties:n.properties})},i.prototype._send=function(e){var t={data:Object(fo.a)(JSON.stringify(e))};fetch(this._trustedURI,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:Object(po.stringify)(t)})},i.prototype._sendToUntrustedHost=function(e){var t={data:Object(fo.a)(JSON.stringify(e))};fetch(this._untrustedHost,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:Object(po.stringify)(t)})};var yo,vo=n(180),go=n(83),bo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_o=Object.freeze((yo={},o(yo,vo.a.MINUTE_WATCHED,["time","device_id","play_session_id","customer_id","content_id"]),o(yo,vo.a.VIDEO_PLAY,["time","device_id","play_session_id","customer_id","content_id","time_since_load_start"]),o(yo,vo.a.BUFFER_EMPTY,["time","device_id","play_session_id","customer_id","content_id","buffer_empty_count"]),o(yo,vo.b,["time","device_id","play_session_id","customer_id","content_id","reason","code"]),yo)),wo=Object.freeze(Object.keys(_o)),ko=function(){function e(t){a(this,e),this._store=t}return bo(e,[{key:"trackEvents",value:function(e){var t=this;e.reduce(function(e,t){var n=t.event,r=t.properties;return wo.includes(n)&&e.push({name:n,properties:io()(r,_o[n])}),e},[]).forEach(function(e){return t._store.dispatch(Object(go.g)(e))})}}]),e}(),Eo=n(100),So="//video-edge-c1791d.sjc01.hls.ttvnw.net/v1/playlist/CnCGf2YHO7Oq3vFruJaCB-Cuh08xyeUgIr_pbHi8Vwh88xtvYEOh5lxDnHG627WEGCj34Q-YeHERR8XBkUZ5LhNdvxSR0QBOMjL4UkrgbFRiG-S2QCgeuPoad6PNSmXVhR6clwbiCBlrDwMSQKIX09_3o4yXoikwRVdHdpZVHU_bqh7g1nKU7M_L7mYxCycgizqNigNr0GRuH-Tvr6ylzSVGDu3e-TJIBZJNo17rbFXjs9kCzIezAnZdCelicdEcAybkHF1Hh_T2-uyHMADPMsUTxDcyFiy40bME9QkX8hxcDpvHn8J3IC89G39w1fQIDp-10tthRitRNuaRlKHPXdVtSc6VXMwqFJ0xHjIOI0T71anvFsuVkbA1l_qQQFERuvQIzdt3TnWOjVqaot1xHs3g6o6TLJUCiKopdmyOqKyfk-sIVTojAR9f1GO.m3u8",Po=n(45),Co=n(247),Oo=n(131),To=n(80),xo=n(259),Ro=n(6),jo=n(289),Ao=n(5),Io=n.n(Ao),Lo=n(55),No=n.n(Lo),Mo=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Do=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/,qo=/^(\d+)\.(\d+)[+|-]?(.*)?$/,Uo=/^(\d+)$/,Bo="ember",Fo=[Ro.d,Ro.c],Vo="qFEaZsFQnwEdUIs",Ho="//d1xfq2052q7thw.cloudfront.net/1.7.461.js",zo=n(17),Wo=n(25),Ko=n(183),Go=n(0),Qo=n.n(Go),Yo=n(1),$o=n.n(Yo),Jo=n(2),Xo=n.n(Jo),Zo={onClose:$o.a.func,children:$o.a.node},es=Xo()({"pl-notif":!0,"pl-notif--with-triangle":!1}),ts=Xo()({"pl-close-button":!0,"pl-notice__close":!0});f.propTypes=Zo;var ns=n(4),rs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),is=Xo()({"pl-notif__text":!0}),as=Xo()({"pl-notif__content":!0}),os={t:$o.a.func.isRequired,onClose:$o.a.func.isRequired},ss=function(e){function t(){p(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return m(t,e),rs(t,[{key:"render",value:function(){var e=this.props.t;return Qo.a.createElement(f,{onClose:this.handleClose},Qo.a.createElement("div",{className:as},Qo.a.createElement("p",{className:is},e("Is your video buffering? Try the auto quality option."))))}},{key:"handleClose",value:function(){if(Wo.a.get(ps)){var e=Wo.a.get(ps);Wo.a.set(ps,e+1)}else Wo.a.set(ps,1);var t=this.props.onClose;t&&t.apply(void 0,arguments)}}]),t}(Qo.a.Component);ss.propTypes=os;var us,cs=Object(ns.c)()(ss),ls=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ds=604e6,fs="AutoSuggestNotificationTimestamp",ps="AutoSuggestNotificationClosedCount",hs=function(){function e(t){y(this,e),this._store=t;var n=this._store.getState(),r=n.window;this._unsubs=[],this._unsubs.push(Object(zo.a)(this._store,["playback.bufferEmpties"],this._trackBufferEmpty.bind(this))),this._currentBufferEmptyCount=0,this._previousBufferTimestamp=(new r.Date).getTime(),Wo.a.get(fs)||Wo.a.set(fs,(new r.Date).getTime()-ds)}return ls(e,[{key:"_trackBufferEmpty",value:function(e){e.playback.bufferEmpties>0&&(this._currentBufferEmptyCount++,this._shouldShowAutoSuggestNotification()&&this._showAutoSuggestNotification())}},{key:"_shouldShowAutoSuggestNotification",value:function(){return"auto"!==this._store.getState().quality.selected&&(this._thirdBufferEmptyInTenMinutes()&&this._hasNotSeenAutoSuggestNotificationThisWeek())}},{key:"_showAutoSuggestNotification",value:function(){(!Wo.a.get(ps)||Wo.a.get(ps)<=1)&&(this._store.dispatch(Object(Ko.c)(cs)),Wo.a.set(fs,(new Date).getTime()))}},{key:"_thirdBufferEmptyInTenMinutes",value:function(){var e=this._store.getState(),t=e.window,n=(new t.Date).getTime();return n-this._previousBufferTimestamp>6e5?(this._previousBufferTimestamp=n,this._currentBufferEmptyCount=0,!1):this._currentBufferEmptyCount>=3?(this._previousBufferTimestamp=n,this._currentBufferEmptyCount=0,!0):void 0}},{key:"_hasNotSeenAutoSuggestNotificationThisWeek",value:function(){return(new(this._store.getState().window.Date)).getTime()-Wo.a.get(fs)>ds}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}(),ms=n(81),ys=n(126),vs=n(98),gs=n(34),bs=n.n(gs),_s=n(260),ws=n.n(_s),ks=n(134),Es=n.n(ks),Ss=n(206),Ps=n.n(Ss),Cs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Os={imageURL:"",x:0,y:0,width:0,height:0,cols:0},Ts=(us={},g(us,"leagueOfLegendTags",function(e,t,n){return{title:"Match "+(t+1),info:"",startTime:e.start_sec,thumbnail:Rs(e,t,n)}}),g(us,"hearthStoneMatchTags",function(e,t,n){return{title:"Match "+(t+1),info:"<strong>"+e.game_data.characters[0]+"</strong> vs "+e.game_data.characters[1],startTime:e.start_sec,thumbnail:Rs(e,t,n)}}),us),xs=function(){return null},Rs=function(e,t,n){return null===e.thumbnail_index?Os:{imageURL:"https://clipmn.twitch.tv/prod/"+n.thumbnail_sheet,x:e.thumbnail_index[1]*n.thumbnail_size[0],y:e.thumbnail_index[0]*n.thumbnail_size[1],width:n.thumbnail_size[0],height:n.thumbnail_size[1],cols:n.sheet_dimensions[1]}},js=function(){function e(t,n){v(this,e),this._analytics=t,this._options=n}return Cs(e,[{key:"getMarkers",value:function(e){return fetch("https://clipmn.twitch.tv/prod/channels.json").then(function(e){return e.json()}).then(function(t){return-1===t.indexOf(e.channel.name)?Promise.reject("Current channel is not marker enabled"):fetch("https://clipmn.twitch.tv/prod/"+e._id+".json")}).then(function(e){return e.json()}).then(this._normalizedMarkers).catch(function(){return[]})}},{key:"_normalizedMarkers",value:function(e){if(null===e)return[];var t=ws()(e.data.tags,function(e){switch(e.game_type){case"lol":return"leagueOfLegendTags";case"hs":switch(e.game_data.type){case 0:return"hearthStoneMatchTags";case 1:return"hearthStoneOpeningTags"}}return"ungroupedTags"});return Array.prototype.concat.apply([],Ps()(Es()(t,function(t,n){return t.map(function(t,r){return(Ts[n]||xs)(t,r,e.data)})}))).filter(function(e){return null!==e}).sort()}}]),e}(),As=n(10),Is=n(21),Ls=n(26),Ns=n(11),Ms=n(12),Ds=n(82),qs=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Us=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bs="player",Fs=["stateupdate",Bs],Vs=function(){function e(t,n,r,i){b(this,e),this._options=i,this._backend=t,this._store=n,this._timelineMetadata=new js(r),this._eventEmitter=new bs.a,this._isVODRestricted=!1,this._hasCurrentStreamPlayed=!1,this._markers=[],lo.c.forEach(function(e){t.addEventListener(e,this.handleEvent.bind(this,e))},this)}return Us(e,[{key:"getMarkers",value:function(){return this._markers}},{key:"isVODRestricted",value:function(){return this._isVODRestricted}},{key:"getVideoInfo",value:function(e){return As.A(e)}},{key:"handleEvent",value:function(e){switch(this._logStateChange(e),e){case Is.h:this._updateIsVODRestricted();break;case Is.i:this._hasCurrentStreamPlayed=!1,this._resetTimelineMetadata(),this._updateIsVODRestricted();break;case Is.l:!this._hasCurrentStreamPlayed&&this.videoID&&this._retrieveTimelineMetadata(),this._hasCurrentStreamPlayed=!0;break;case Ls.E:this._updateIsVODRestricted()}this._eventEmitter.emit(Bs,e),this._eventEmitter.emit("stateupdate",this)}},{key:"_resetTimelineMetadata",value:function(){this._markers=[]}},{key:"_retrieveTimelineMetadata",value:function(){}},{key:"addEventListener",value:function(e,t){eo()(Fs,e)&&this._eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.removeListener(e,t)}},{key:"toJSON",value:function(){var e=this._store.getState(),t=e.stream||Object(Ds.b)();return{channelName:t instanceof Ms.b?t._channelName:"",currentTime:this.currentTime,duration:e.playback.duration,muted:e.playback.muted,playback:this.playback,quality:e.quality.current,qualitiesAvailable:e.quality.available,videoID:t instanceof Ns.b?t._vodId:"",viewers:e.viewercount,volume:e.playback.volume}}},{key:"_logStateChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._options.debug&&this._options.verbose&&!eo()(lo.j,e)&&null!==e&&(console.groupCollapsed("state change: %s",e),console.log("partial state: %o",this.toJSON()),console.groupEnd())}},{key:"_updateMarkers",value:function(e){this._markers=e,this._logStateChange("markerschange"),this._eventEmitter.emit("stateupdate",this)}},{key:"_updateIsVODRestricted",value:function(){var e=this;if(this._isVODRestricted=!1,this._eventEmitter.emit("stateupdate",this),this._store.getState().stream instanceof Ns.b){var t=As.A(this._store.getState().stream._vodId),n=t.then(function(e){return As.d(e.channel.name)});Promise.all([t,n]).then(function(t){var n=qs(t,2),r=n[0],i=n[1];e._isVODRestricted=As.n(i,r),e._eventEmitter.emit("stateupdate",e)})}}},{key:"destroy",value:function(){var e=this;Fs.map(function(t){e._eventEmitter.removeEvent(t)})}},{key:"currentTime",get:function(){return this._backend.getCurrentTime()}},{key:"error",get:function(){return this._backend.error}},{key:"playback",get:function(){return this._backend.getEnded()?"ended":this._backend.getPaused()?"paused":"playing"}},{key:"videoID",get:function(){return this._backend.getVideo()}}]),e}(),Hs=n(31),zs=n(127),Ws=n(67),Ks=n(185),Gs=n(136),Qs=n(68),Ys=n(48),$s=n(53),Js={},Xs=Object.freeze({group:"auto",name:"Auto"});!function(){function e(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"}).then(function(){return!!window.chrome&&(!(!chrome.cast||!chrome.cast.isAvailable)||new Promise(function(e){window.__onGCastApiAvailable=function(t){e(t)};var t=5,n=setInterval(function(){var r=!(!chrome.cast||!chrome.cast.isAvailable);(r||t<=0)&&(e(r),clearInterval(n)),t--},1e3)}))})}function t(e){if(e){var t=new chrome.cast.SessionRequest(lo.f),n=new chrome.cast.ApiConfig(t,r,a,chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);chrome.cast.initialize(n)}}function n(){E=!1,d()}function r(e){v=e,v.addUpdateListener(i),b&&T?u():w&&T&&c(),v.addMessageListener("urn:x-cast:com.twitch.custom",function(e,t){var n=JSON.parse(t);n.qualities&&(x=n.qualities,m.emit(Is.b),m.emit(Is.h))})}function i(){switch(v.status){case chrome.cast.SessionStatus.CONNECTED:var e=v.receiver;y.volume!==e.volume.level&&(y.volume=e.volume.level,m.emit(Is.r)),y.muted!==e.volume.muted&&(y.muted=e.volume.muted,m.emit(Is.r));break;case chrome.cast.SessionStatus.STOPPED:o(null),v.removeUpdateListener(i),v=null,S=!1,d()}}function a(e){E=e===chrome.cast.ReceiverAvailability.AVAILABLE,d()}function o(e){g&&g.removeUpdateListener(s),g=e,S=!1,g&&(g.addUpdateListener(s),k&&(g.seek(k),k=null)),d()}function s(){y.currentTime!==g.currentTime&&(y.currentTime=g.currentTime,m.emit(Is.q)),y.volume!==g.volume.level&&(y.volume=g.volume.level,m.emit(Is.r)),y.muted!==g.volume.muted&&(y.muted=g.volume.muted,m.emit(Is.r)),y.playbackRate!==g.playbackRate&&(y.playbackRate=g.playbackRate,m.emit(Is.m));var e=g.playerState;y.playerState!==g.playerState&&(e===chrome.cast.media.PlayerState.PLAYING?m.emit(Is.l):e===chrome.cast.media.PlayerState.PAUSED?m.emit(Is.j):e===chrome.cast.media.PlayerState.BUFFERING||e===chrome.cast.media.PlayerState.IDLE&&m.emit(Is.e),y.playerState=g.playerState)}function u(){S=!0,d(),Object(As.b)(b).then(function(e){var t=new chrome.cast.media.MediaInfo(T,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.LIVE;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.display_name,n.images=[new chrome.cast.Image(e.logo)],t.metadata=n,t.customData={channel:b,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,v.loadMedia(r,o)},function(e){v.stop(),l(e)})}function c(){S=!0,d(),Object(As.A)(w).then(function(e){var t=new chrome.cast.media.MediaInfo(T,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.OTHER;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.title,n.images=[new chrome.cast.Image(e.preview)],t.metadata=n,t.customData={vod_id:w,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,v.loadMedia(r,o)},function(e){v.stop(),l(e)})}function l(){R&&R.dispatch(Object($s.d)(Ys.a.CODES.ABORTED))}function d(){var e=P,t=C;g?(P=Ks.c,C=Gs.c):S?(P=Ks.c,C=Gs.d):E?(P=Ks.b,C=Gs.d):(P=Ks.a,C=Gs.d),P!==e&&P===Ks.c&&m.emit(Is.i),C!==t&&(C===Gs.c?m.emit(Is.h):C===Gs.d&&m.emit(Is.e)),m.emit(Ls.d,f())}function f(){return C===Gs.d?P===Ks.a?Qs.d:P===Ks.b?Qs.a:Qs.c:Qs.b}function p(e){l(e)}var h=Js,m=new bs.a,y={},v=void 0,g=void 0,b=void 0,w=void 0,k=void 0,E=void 0,S=void 0,P=void 0,C=void 0,O=!1,T=null,x=[],R=void 0;h.init=function(r){return m.removeAllListeners(),O?f():(O=!0,R=r,n(),e().then(t),f())},h.destroy=function(){},h.addEventListener=function(e,t){m.on(e,t)},h.removeEventListener=function(e,t){m.off(e,t)},h.getNetworkProfile=function(){return[]},h.getError=function(){},h.getSrc=function(){},h.setSrc=function(){},h.getNetworkState=function(){return P},h.load=function(){chrome.cast.requestSession(r,p)},h.getBuffered=function(){return{length:0}},h.getReadyState=function(){return C},h.getSeeking=function(){},h.getCurrentTime=function(){return g?g.currentTime:y.currentTime||0},h.setCurrentTime=function(e){window.chrome&&window.chrome.cast&&(k=new chrome.cast.media.SeekRequest,k.currentTime=e,g&&(g.seek(k),k=null))},h.getDuration=function(){},h.getPaused=function(){if(g)return g.playerState===chrome.cast.media.PlayerState.PAUSED},h.getPlaybackRate=function(){return 1},h.setPlaybackRate=function(){},h.getPlayed=function(){},h.getEnded=function(){},h.getAutoplay=function(){},h.setLoop=function(){},h.play=function(){if(g){var e=new chrome.cast.media.PlayRequest;g.play(e)}else h.load()},h.pause=function(){if(g){var e=new chrome.cast.media.PauseRequest;g.pause(e)}},h.getControls=function(){},h.setControls=function(){},h.elapsedTime=function(){},h.getVolume=function(){if(g)return g.volume.level},h.setVolume=function(e){if(g){var t=new chrome.cast.Volume(e,null),n=new chrome.cast.media.VolumeRequest(t);g.setVolume(n)}},h.getMuted=function(){return g?g.volume.muted:v?v.receiver.volume.muted:void 0},h.setMuted=function(e){if(g){var t=new chrome.cast.Volume(null,e),n=new chrome.cast.media.VolumeRequest(t);g.setVolume(n)}},h.getQuality=function(){return"auto"},h.setQuality=function(e){v&&(v.sendMessage("urn:x-cast:com.twitch.custom",{quality:e}),m.emit(Ls.s,e))},h.getQualities=function(){var e=function(e){return Object.assign({},e,{bandwidth:e.bitrate})};return[Xs].concat(_(x)).map(e)},h.getChannel=function(){return b},h.setChannel=function(e,t){b=e,w=null,t.streamUrl.then(function(e){T=e,v&&b&&T&&u()})},h.getVideo=function(){return w},h.setVideo=function(e,t){w=e,b=null,t.streamUrl.then(function(e){T=e,v&&w&&T&&c()})},h.getStats=function(){return{}},h.getVideoInfo=function(){return{}},h.getCaption=function(){},h.getBackend=function(){return"chromecast"},h.stop=function(){v&&v.stop()},h.getDevice=function(){if(v&&v.receiver)return v.receiver.friendlyName},h.absAvailable=function(){}}();var Zs,eu,tu=n(467),nu=n.n(tu),ru=n(137),iu=n(99),au=n(36),ou="set backend",su="set player backend type",uu=n(15),cu=n(47),lu=n(78),du=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fu=function(){function e(t,n){P(this,e),this._adContainer=t,this._moatTracking=S,this._google=n.getState().window.google}return du(e,[{key:"trackAd",value:function(e,t){var n=C(t),r={partnerCode:"twitchvpaid2756206246",viewMode:this._google.ima.ViewMode.NORMAL,slicer1:"www.twitch.tv",slicer2:n},i=co()(r,O(t));try{this._moatTracking(e,i,this._adContainer)}catch(e){console.error("Moat tracking failed: ",e)}}}]),e}(),pu=n(14),hu=n(63),mu=n.n(hu),yu=n(69),vu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gu=function(){function e(t,n,r){T(this,e),this.interval=n,this.callback=t,this.windowObj=r,this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}return vu(e,[{key:"start",value:function(){var e=this;0===this.timerId&&(this.lastStartTimestamp=Date.now(),this.timerId=this.windowObj.setTimeout(function(){return e.timeoutCallback()},this.intervalRemaining))}},{key:"pause",value:function(){if(0!==this.timerId){this.windowObj.clearTimeout(this.timerId);var e=Date.now();this.intervalRemaining=this.intervalRemaining-(e-this.lastStartTimestamp),this.timerId=0}}},{key:"timeoutCallback",value:function(){this.callback(),this.restartTimer()}},{key:"restartTimer",value:function(){this._reset(),this.start()}},{key:"_reset",value:function(){this.windowObj.clearTimeout(this.timerId),this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}},{key:"destroy",value:function(){this.windowObj.clearTimeout(this.timerId)}}]),e}(),bu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_u="broadcaster",wu="inserted",ku="archive",Eu=function(){function e(t){x(this,e),this._store=t,this._unsubs=[],this._timer=null,this._initSubscribes()}return bu(e,[{key:"_initSubscribes",value:function(){this._unsubs.push(Object(zo.a)(this._store,["ads.currentMetadata.contentType"],this.onContentTypeChange.bind(this))),this._unsubs.push(Object(zo.a)(this._store,["playback.paused","playback.playing"],this.onPlaybackStateChange.bind(this))),this._unsubs.push(Object(zo.a)(this._store,["streamMetadata"],this.onStreamMetadataChange.bind(this))),this.onStreamMetadataChange(this._store.getState())}},{key:"onContentTypeChange",value:function(e){if(e.ads.currentMetadata.contentType===uu.f.NONE){var t=this._store.getState().streamMetadata;this._timer&&t.type===ku&&this._store.getState().ads.vodMidrollArchiveSetting===wu&&this._timer.start()}else this._timer&&this._timer.pause()}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;if(t.playing){var n=this._store.getState().streamMetadata,r=this._store.getState().ads;this._timer&&n.type===ku&&r.currentMetadata.contentType===uu.f.NONE&&r.vodMidrollArchiveSetting===wu&&this._timer.start()}t.paused&&this._timer&&this._timer.pause()}},{key:"onStreamMetadataChange",value:function(e){var t=e.streamMetadata,n=t.channel,r=t.type,i=n.name;r===ku?(this.createTimer(i),this.onPlaybackStateChange(this._store.getState())):this._timer&&(this._timer.destroy(),this._timer=null)}},{key:"createTimer",value:function(e){var t=this;Object(As.g)(e).then(function(e){var n=e.valid_responses;if(!0===n.vod_ads_enabled){var r=n.vod_archive_midrolls;if(t._store.dispatch(Object(uu.r)(r)),r===wu){var i=n.vod_archive_midrolls_break_length,a=n.vod_archive_midrolls_frequency;t._timer&&t._timer.destroy(),t._timer=new gu(function(){t._store.dispatch(Object(uu.n)(cu.a,parseInt(i,10),!1,0,"TIMER_AD"))},60*parseInt(a,10)*1e3,window)}}})}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()}),this._timer&&this._timer.destroy()}}]),e}(),Su=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pu=3e5,Cu=60,Ou=function(){function e(t,n){j(this,e),this._store=t,this._adManager=n,this._streamRollTypes={}}return Su(e,[{key:"destroy",value:function(){this._adManager.destroy()}},{key:"requestAds",value:function(e){if(!this._streamRollTypes.hasOwnProperty(e.channel)){var t;this._streamRollTypes[e.channel]=(t={},R(t,cu.c,!1),R(t,cu.a,!1),R(t,cu.b,!1),t)}var n=I(e);N(n,e)?A(this._store.getState(),e,n):(this._adManager.requestAds(e),this._streamRollTypes[e.channel][e.adType]=!0)}},{key:"addEventListener",value:function(e,t){this._adManager.addEventListener(e,t)}},{key:"pause",value:function(){this._adManager.pause()}},{key:"play",value:function(){this._adManager.play()}},{key:"setVolume",value:function(e){this._adManager.setVolume(e)}},{key:"setMuted",value:function(e){this._adManager.setMuted(e)}},{key:"paused",get:function(){return this._adManager.paused}},{key:"sdk",get:function(){return this._adManager.sdk}}]),e}(),Tu=(n(472),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),xu=3036,Ru="DFP",ju=function(){function e(t,n,r,i){var a=this;U(this,e),this._store=r,this._preloadPrerollBidsPromise=null,this._options=i,this._unsubs=[];try{var o=this._store.getState(),s=o.window;s.apstag?(this._apstag=s.apstag,this._apstag.init({pubID:t,videoAdServer:n},function(){a._apstag=s.apstag})):this._apstag=new Au}catch(e){this._apstag=new Au;var u={reason:e.message};D(this._store,null,oo.c,u)}this._unsubFromStreamChanged=Object(zo.a)(this._store,["stream"],this._onStreamChange.bind(this))}return Tu(e,[{key:"destroy",value:function(){this._unsubFromStreamChanged()}},{key:"preloadPrerollBids",value:function(){var e=this;return this._preloadPrerollBidsPromise=this._getAdsRequestContextForPreroll().then(function(t){return e._willDeclineAds(t)?[]:e._fetchVideoBids(["twitch-preroll"],t,500)}),this._preloadPrerollBidsPromise}},{key:"fetchBids",value:function(e){switch(e.adType){case uu.g.PREROLL:return this._fetchPrerollBids(e);case uu.g.MIDROLL:return this._fetchMidrollBids(e,1e3);case uu.g.POSTROLL:return this._fetchPostrollBids(e,1e3);default:return Promise.resolve([])}}},{key:"getAdRequestContextWithAmazonBids",value:function(e,t){var n=t;return e&&e[0]&&(n.amzniid=e[0].amzniid,n.amznbid=e[0].amznbid,n.qsParams=e[0].qsParams),n}},{key:"_fetchPrerollBids",value:function(e){if(!this._preloadPrerollBidsPromise)return this._fetchVideoBids(["twitch-preroll"],e,500);var t=this._preloadPrerollBidsPromise;return this._preloadPrerollBidsPromise=null,t}},{key:"_fetchMidrollBids",value:function(e,t){var n=Array.apply(null,new Array(1)).map(function(e,t){return"twitch-midroll-"+(t+1).toString()});return this._fetchVideoBids(n,e,t)}},{key:"_fetchPostrollBids",value:function(e,t){return this._fetchVideoBids(["twitch-postroll"],e,t)}},{key:"_fetchVideoBids",value:function(e,t,n){var r=this,i={slot_ids:e.join(",")};this._initAndSendAdSpadeEvent(oo.a,t,i);var a=this._createSlotsFromSlotIds(e,n);return new Promise(function(n){var o=r._store.getState().window.Date,s=o.now();r._apstag.fetchBids(a,function(a){var u=o.now()-s;i.aax_latency=u;var c=a.filter(function(t){return"video"===t.mediaType&&eo()(e,t.slotID)});r._options.debug&&console.log("aax fetchBids: ",c),c.length>0?(i.amzniid=c.map(function(e){return e.amzniid}).join(","),i.amznbid=c.map(function(e){return e.amznbid}).join(","),i.qsParams=c.map(function(e){return e.qsParams}).join(","),r._initAndSendAdSpadeEvent(oo.d,t,i),n(c)):(r._initAndSendAdSpadeEvent(oo.b,t,i),n([]))})})}},{key:"_createSlotsFromSlotIds",value:function(e,t){return{slots:e.map(function(e){return{mediaType:"video",slotID:e}}),timeout:t}}},{key:"_onStreamChange",value:function(){this._unsubFromStreamChanged();var e=this._store.getState().stream.contentType;e!==Ns.a&&e!==Ms.a||this.preloadPrerollBids()}},{key:"_getAdsRequestContextForPreroll",value:function(){var e=!1;return this._options&&this._options.hasOwnProperty("force_preroll")&&(e=!0),Object(uu.j)(uu.g.PREROLL,uu.h,this._store.getState(),e)}},{key:"_willDeclineAds",value:function(e){return N(I(e),e)}},{key:"_initAndSendAdSpadeEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=M(t);D(this._store,null,e,Object.assign({},r,n))}}]),e}(),Au=function(){function e(){U(this,e)}return Tu(e,[{key:"init",value:function(){}},{key:"debug",value:function(){}},{key:"fetchBids",value:function(e,t){t([])}}]),e}(),Iu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Lu=function(){function e(){B(this,e)}return Iu(e,[{key:"getVastXmlResponse",value:function(e){var t="https://dfp-creative-service.twitch.tv/?creative_id="+e;return this._httpsGet(t).then(function(e){return e&&e.vast_xml_response?e.vast_xml_response:Promise.reject(new Error("Invalid response from dfp-creative-service "+e))})}},{key:"_httpsGet",value:function(e){var t=this._convertHttpToHttps(e);return fetch(t).then(function(e){return e.json()})}},{key:"_convertHttpToHttps",value:function(e){return e.replace(/^http:\/\//i,"https://")}}]),e}(),Nu=n(52),Mu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Du=[{width:300,height:250},{width:300,height:60}],qu={preroll:uu.g.PREROLL,midroll:uu.g.MIDROLL,postroll:uu.g.POSTROLL},Uu=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};F(this,e),this._videoContainer=t,this._backend=n,this._store=r,this._unsubs=[],this._paused=!1,this._contentPauseRequested=!1,this._eventEmitter=new bs.a,this._currentAdsManager=Vu,this._aaxManager=new ju(xu,Ru,this._store,i),this._store.getState().window.google&&(this._unsubs.push(Object(zo.a)(this._store,["playerDimensions"],this._resizeAd.bind(this))),this._configureVpaidMode(),this.initializeAdDisplayContainer(),this._moat=new fu(this._adContainer,this._store),this._setupAdsLoader())}return Mu(e,[{key:"initializeAdDisplayContainer",value:function(){var e=this._store.getState(),t=e.window,n=t.google;n&&(this._adContainer=t.document.createElement("div"),this._adContainer.classList.add("js-ima-ads-container","ima-ads-container"),this._videoContainer.appendChild(this._adContainer),this._adDisplayContainer=new n.ima.AdDisplayContainer(this._adContainer,this._videoContainer.querySelector("video, object")),this._adDisplayContainer.initialize())}},{key:"destroy",value:function(){this._adsLoader.destroy(),this._adDisplayContainer.destroy(),this._aaxManager.destroy(),this._unsubs.forEach(function(e){return e()})}},{key:"requestAds",value:function(e){return this._currentAdsManager.getRemainingTime()>0?Promise.resolve():this._isCreativeIdSet(e)?this._requestAdsInternalWithCreativeId(e):this._requestAdsInternal(e)}},{key:"pause",value:function(){this._paused=!0,this._currentAdsManager.pause()}},{key:"play",value:function(){this._paused=!1,this._currentAdsManager.resume()}},{key:"setVolume",value:function(e){this._currentAdsManager.setVolume(e)}},{key:"setMuted",value:function(e){var t=this._store.getState(),n=t.playback;this._currentAdsManager.setVolume(e?0:n.volume)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"_setupAdsLoader",value:function(){var e=this,t=this._store.getState().window.google;this._adsLoader=new t.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(t.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e._onAdsManagerLoaded(t)}),this._adsLoader.addEventListener(t.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e._onAdError(t)})}},{key:"_onAdsManagerLoaded",value:function(e){var t=this,n=this._store.getState().window.google,r=e.getUserRequestContext();D(this._store,"ima",oo.l,M(r)),this._currentAdsManager=e.getAdsManager(new Bu(this._backend),this._getAdRenderSettings()),this._currentAdsManager.addEventListener(n.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t._onAdError(e)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.RESUMED,function(){return t._store.dispatch(Object(Nu.l)())}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.PAUSED,function(){return t._store.dispatch(Object(Nu.j)())}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){return t._onContentPauseRequested(r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){return t._onContentResumeRequested(r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.LOADED,function(e){return t._onAdLoaded(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.STARTED,function(e){return t._onAdStarted(e)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.IMPRESSION,function(e){return t._onAdImpression(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.COMPLETE,function(e){return t._onAdEnded(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.SKIPPED,function(e){return t._onAdSkipped(e,r)}),this._currentAdsManager.init(this._videoContainer.offsetParent.offsetWidth,this._videoContainer.offsetParent.offsetHeight,n.ima.ViewMode.NORMAL),this._currentAdsManager.start()}},{key:"_interruptContent",value:function(){var e=this._store.getState(),t=e.stream;t instanceof Ms.b?this._backend.setMuted(!0):t instanceof Ns.b&&!this._backend.getEnded()&&this._store.dispatch(Object(pu.k)())}},{key:"_resumeContent",value:function(){var e=this._store.getState(),t=e.playback,n=e.stream;this._backend.setVolume(t.volume),this._backend.setMuted(t.muted),n instanceof Ns.b&&!this._backend.getEnded()&&this._store.dispatch(Object(pu.q)())}},{key:"_onAdError",value:function(e){var t=e.getError(),n=e.getUserRequestContext()||{adSessionId:null,adblock:null,adType:null,duration:null},r=M(n);r.reason=t.getMessage(),r.error_code=t.getErrorCode(),r.error_type=t.getType(),D(this._store,"ima",oo.e,r),this._contentPauseRequested&&(this._contentPauseRequested=!1,this._store.dispatch(Object(uu.i)()),this._resumeContent(),this._eventEmitter.emit(lu.AD_ERROR,{roll_type:n.adType})),this._isCreativeIdSet(n)&&console.error("Error playing creative "+n.creativeId+": "+t.getMessage()),this._currentAdsManager.destroy(),this._currentAdsManager=Vu}},{key:"_onContentPauseRequested",value:function(e){if(this._contentPauseRequested=!0,this._store.getState().ads.currentMetadata.contentType===uu.f.NONE){var t=this._store.getState(),n=t.playback;this._currentAdsManager.setVolume(n.muted?0:n.volume),this._interruptContent(),this._store.dispatch(Object(uu.q)({contentType:uu.f.IMA,rollType:qu[e.adType]})),this._eventEmitter.emit(lu.AD_START,{roll_type:e.adType})}}},{key:"_onContentResumeRequested",value:function(e){this._contentPauseRequested=!1,this._store.getState().ads.currentMetadata.contentType!==uu.f.NONE&&(this._currentAdsManager=Vu,this._store.dispatch(Object(uu.i)()),this._eventEmitter.emit(lu.AD_END,{roll_type:e.adType}),this._resumeContent())}},{key:"_onAdLoaded",value:function(e,t){var n=this._store.getState(),r=n.playback;this._currentAdsManager.setVolume(r.muted?0:r.volume),this._moat.trackAd(this._currentAdsManager,t),D(this._store,"ima",oo.h,M(t,e.getAd()))}},{key:"_onAdStarted",value:function(e){var t=e.getAd();Du.reduce(function(e,n){return e+t.getCompanionAds(n.width,n.height).length},0)>0&&(this._eventEmitter.emit(lu.COMPANION_RENDERED,{provider:"ima"}),this._store.dispatch(Object(go.e)(lu.COMPANION_RENDERED,{provider:"ima"}))),this._store.dispatch(Object(Nu.k)())}},{key:"_onAdImpression",value:function(e,t){var n=M(t,e.getAd()),r=this._store.getState().window.Date;n.request_to_impression_latency=r.now()-this._adRequestTime,D(this._store,"ima",oo.f,n),this._eventEmitter.emit(lu.AD_IMPRESSION,{time_break:t.duration})}},{key:"_onAdEnded",value:function(e,t){var n=M(t,e.getAd());D(this._store,"ima",oo.g,n),this._eventEmitter.emit(lu.AD_IMPRESSION_COMPLETE)}},{key:"_onAdSkipped",value:function(e,t){var n=e.getAd(),r=M(t);Io()(r,{ad_id:n.getAdId(),client_time:Date.now(),duration:n.getDuration()}),D(this._store,"ima",oo.m,r),this._eventEmitter.emit(lu.AD_SKIPPED)}},{key:"_resizeAd",value:function(e){var t=e.playerDimensions,n=this._store.getState().window.google;this._currentAdsManager.resize(t.width,t.height,n.ima.ViewMode.NORMAL)}},{key:"_getNewAdsRequest",value:function(){var e=this._store.getState().window.google,t=this._videoContainer.offsetParent,n=new e.ima.AdsRequest;return n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,n}},{key:"_requestAdsInternal",value:function(e){var t=this,n=e;return this._requestAaxBids(n).then(function(e){n=t._aaxManager.getAdRequestContextWithAmazonBids(e,n);var r=t._store.getState().window.Date;t._adRequestTime=r.now(),D(t._store,"ima",oo.i,M(n));var i=t._getNewAdsRequest();i.adTagUrl=Object(cu.d)(n),t._adsLoader.requestAds(i,n)}).catch(function(e){var r=M(n);r.reason=e.message,D(t._store,"ima",oo.k,r)})}},{key:"_requestAdsInternalWithCreativeId",value:function(e){var t=this;return this._getVastXmlResponse(e).then(function(n){var r=t._getNewAdsRequest();r.adTagUrl="",r.adsResponse=n,t._adsLoader.requestAds(r,e)}).catch(function(n){return console.error("Error requesting creative="+e.creativeId,n.message),t._requestAdsInternal(e)})}},{key:"_requestAaxBids",value:function(e){var t=this;return this._aaxManager.fetchBids(e).catch(function(n){var r=M(e);return r.reason=n.message,D(t._store,"ima",oo.b,r),Promise.resolve([])})}},{key:"_getVastXmlResponse",value:function(e){return(new Lu).getVastXmlResponse(e.creativeId)}},{key:"_isCreativeIdSet",value:function(e){var t=e.creativeId;return t&&t>0}},{key:"_getTargetAdBitrate",value:function(e){var t=.8*e;return t>=3e3?3e3:t<500?500:t}},{key:"_getAdRenderSettings",value:function(){var e=this._store.getState().window.google,t=this._backend.getStats(),n=t.playbackRate,r=new e.ima.AdsRenderingSettings;return r.restoreCustomPlaybackStateOnAdBreakComplete=!0,n&&(r.bitrate=this._getTargetAdBitrate(n)),r}},{key:"_configureVpaidMode",value:function(){var e=this._store.getState().window.google;No.a.msedge?e.ima.settings.setVpaidMode(e.ima.ImaSdkSettings.VpaidMode.DISABLED):e.ima.settings.setVpaidMode(e.ima.ImaSdkSettings.VpaidMode.INSECURE)}},{key:"paused",get:function(){return this._paused}},{key:"sdk",get:function(){return"html5"}}]),e}(),Bu=function(){function e(t){F(this,e),this._backend=t}return Mu(e,[{key:"currentTime",get:function(){return this._backend.getCurrentTime()}},{key:"duration",get:function(){return this._backend.getDuration()}}]),e}(),Fu=function(){function e(){F(this,e)}return Mu(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"start",value:function(){}},{key:"resize",value:function(){}},{key:"pause",value:function(){}},{key:"resume",value:function(){}},{key:"setVolume",value:function(){}},{key:"addEventListener",value:function(){}},{key:"getRemainingTime",value:function(){return-1}}]),e}(),Vu=new Fu,Hu=n(85),zu=n(140),Wu=n(86),Ku=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gu=function(){function e(){V(this,e)}return Ku(e,[{key:"requestAds",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMuted",value:function(){}},{key:"addEventListener",value:function(){}},{key:"destroy",value:function(){}},{key:"paused",get:function(){return!1}},{key:"muted",get:function(){return!1}},{key:"sdk",get:function(){return""}}]),e}(),Qu=new Gu,Yu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$u={preroll:uu.g.PREROLL,midroll:uu.g.MIDROLL,postroll:uu.g.POSTROLL},Ju=function(){function e(t,n){H(this,e),this._flashBackend=t,this._store=n,this._eventEmitter=new bs.a,this._initializeEventListeners()}return Yu(e,[{key:"_initializeEventListeners",value:function(){this._flashBackend.addEventListener(Hu.c.AD_START,this.onAdStarted.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_END,this.onAdEnded.bind(this)),this._flashBackend.addEventListener(Hu.c.COMPANION_RENDERED,this.onAdCompanionRendered.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_REQUEST,this.onAdRequest.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_REQUEST_DECLINED,this.onAdRequestDeclined.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_REQUEST_RESPONSE,this.onAdRequestResponse.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_REQUEST_ERROR,this.onAdRequestError.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_ERROR,this.onAdError.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_LOADED,this.onAdLoaded.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_IMPRESSION,this.onAdImpression.bind(this)),this._flashBackend.addEventListener(Hu.c.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this))}},{key:"onAdStarted",value:function(e){this._store.dispatch(Object(uu.q)({contentType:uu.f.IMA,rollType:$u[e.roll_type]})),this._eventEmitter.emit(lu.AD_START,{roll_type:e.roll_type})}},{key:"onAdEnded",value:function(e){this._store.dispatch(Object(uu.i)()),this._eventEmitter.emit(lu.AD_END,{roll_type:e.roll_type})}},{key:"onAdCompanionRendered",value:function(){this._eventEmitter.emit(lu.COMPANION_RENDERED,{provider:"ima"})}},{key:"onAdRequest",value:function(e){D(this._store,"",oo.i,e)}},{key:"onAdRequestDeclined",value:function(e){D(this._store,"",oo.j,e)}},{key:"onAdRequestResponse",value:function(e){D(this._store,"",oo.l,e)}},{key:"onAdRequestError",value:function(e){D(this._store,"",oo.k,e)}},{key:"onAdError",value:function(e){D(this._store,"",oo.e,e)}},{key:"onAdLoaded",value:function(e){D(this._store,"",oo.h,e)}},{key:"onAdImpression",value:function(e){D(this._store,"",oo.f,e),this._eventEmitter.emit(lu.AD_IMPRESSION,{time_break:e.time_break})}},{key:"onAdImpressionComplete",value:function(e){D(this._store,"",oo.g,e),this._eventEmitter.emit(lu.AD_IMPRESSION_COMPLETE)}},{key:"requestAds",value:function(e){var t=e.duration,n=e.adType,r=Object(cu.d)(e);this._flashBackend.requestAdFill(t,n,r)}},{key:"pause",value:function(){this._isAdRunning()&&this._flashBackend.pause()}},{key:"play",value:function(){this._isAdRunning()&&this._flashBackend.play()}},{key:"setVolume",value:function(e){this._isAdRunning()&&this._flashBackend.setVolume(e)}},{key:"setMuted",value:function(e){this._isAdRunning()&&this._flashBackend.setMuted(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"destroy",value:function(){}},{key:"_isAdRunning",value:function(){return this._store.getState().ads.current.contentType!==uu.f.NONE}},{key:"paused",get:function(){return this._flashBackend.getPaused()}},{key:"muted",get:function(){return this._flashBackend.getMuted()}},{key:"sdk",get:function(){return"flash"}}]),e}(),Xu="create ads manager",Zu=n(22),ec=n(478),tc=n.n(ec),nc="set manifest info",rc="set access token params",ic=["adblock","need_https","platform","player_type"],ac=n(102),oc=n(135),sc=n(18),uc=n(40),cc=n(66),lc=n(13),dc=n(29),fc=n(492),pc=n.n(fc),hc="set usher params",mc="set usher host override",yc="usher_",vc=n(91),gc=n.n(vc),bc=n(493),_c=n.n(bc),wc=n(103),kc=n(23),Ec=n(270),Sc=n(272),Pc="ID3_AD",Cc=n(24),Oc=n.n(Cc),Tc=n(16),xc=n(27),Rc=n(35),jc=n(56),Ac=n.n(jc),Ic=n(187),Lc=n.n(Ic),Nc=n(144),Mc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Dc=function(){var e="https://player.twitch.tv";if(document.currentScript)e=document.currentScript.src;else{var t=Array.prototype.filter.call(document.scripts,function(e){return/twitch\.tv.*embed/.test(e.src)});e=t.length>0?t[0].src:document.scripts[document.scripts.length-1].src}var n=Object(Po.a)(e);if("testplayer.twitch.tv"===n.host.toLowerCase()){var r=n.path.split("/")[1].replace(/[^a-zA-Z0-9_-]+/g,"");return n.protocol+"://"+n.authority+"/"+r}return n.protocol+"://"+n.authority}(),qc=Object.freeze({channelName:"",currentTime:0,duration:0,muted:!1,playback:"",quality:"",qualitiesAvailable:[],stats:{},videoID:"",viewers:0,volume:0}),Uc=Object.freeze({height:390,width:640,allowfullscreen:!1}),Bc="ready",Fc="subscribe",Vc="ready",Hc=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uc;Z(this,e),this._eventEmitter=new bs.a,this._playerStateEmitter=new bs.a,this._playerState=qc,this._storeState={},this._onHostReady=this._getHostReady(),this._iframe=this._createPlayerIframe(n),t.appendChild(this._iframe),this._host=this._iframe.contentWindow,this._send(Fc)}Mc(e,[{key:"destroy",value:function(){this.callPlayerMethod("destroy")}},{key:"_createPlayerIframe",value:function(e){var t=this._normalizeOptions(e);t.origin=document.location.origin;var n=document.createElement("iframe"),r=Object(ms.c)(Lc()(t,"width","height")),i=Dc+"/?"+r;return n.setAttribute("src",i),n.setAttribute("width",t.width),n.setAttribute("height",t.height),n.setAttribute("frameBorder","0"),n.setAttribute("scrolling","no"),t.allowfullscreen&&n.setAttribute("allowfullscreen",""),n}},{key:"_normalizeOptions",value:function(e){var t=Io()({},Uc,e);return!1!==e.allowfullscreen&&(t.allowfullscreen=!0),t}},{key:"_getHostReady",value:function(){var e=this;return new Nc.Promise(function(t,n){function r(e){this._isClientMessage(e)&&e.data.method===Vc&&(this._storeState=e.data.args[0],window.removeEventListener("message",i),window.addEventListener("message",this),this._eventEmitter.emit(Bc),t())}var i=r.bind(e);window.addEventListener("message",i),setTimeout(n,15e3)})}},{key:"_send",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={namespace:"player.embed.host",method:e,args:n};this._host.postMessage(i,"*")}},{key:"_deferSend",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._onHostReady.then(function(){return e._send.apply(e,n)})}},{key:"_isClientMessage",value:function(e){return!!this._iframe&&(Boolean(e.data)&&"player.embed.client"===e.data.namespace&&e.source===this._iframe.contentWindow)}},{key:"handleEvent",value:function(e){if(this._isClientMessage(e))switch(e.data.method){case"bridgestateupdate":this._playerState=e.data.args[0],this._playerStateEmitter.emit("playerstateupdate",this._playerState);break;case"bridgeplayerevent":this._eventEmitter.emit(e.data.args[0].event);break;case"bridgeplayereventwithpayload":this._eventEmitter.emit(e.data.args[0].event,e.data.args[0].data);break;case"bridgestorestateupdate":this._storeState=e.data.args[0];break;case"bridgedestroy":this._iframe.parentNode.removeChild(this._iframe),delete this._iframe,delete this._host}}},{key:"getPlayerState",value:function(){return this._playerState}},{key:"getStoreState",value:function(){return this._storeState}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"addPlayerStateListener",value:function(e){this._playerStateEmitter.on("playerstateupdate",e),e(this._playerState)}},{key:"removePlayerStateListener",value:function(e){this._playerStateEmitter.off("playerstateupdate",e)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.off(e,t)}},{key:"callPlayerMethod",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._deferSend.apply(this,[e].concat(n))}},{key:"setWidth",value:function(e){Ac()(e)&&e>=0&&this._iframe.setAttribute("width",e)}},{key:"setHeight",value:function(e){Ac()(e)&&e>=0&&this._iframe.setAttribute("height",e)}}])}(),n(133)),zc="set tracking properties",Wc=n(138),Kc=n(87),Gc=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Qc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yc=Object.freeze((Zs={},ne(Zs,vo.a.MINUTE_WATCHED,"minuteWatched"),ne(Zs,vo.a.VIDEO_PLAY,"videoPlay"),ne(Zs,vo.a.BUFFER_EMPTY,"bufferEmpty"),ne(Zs,vo.b,"videoError"),Zs)),$c=Object.freeze((eu={},ne(eu,"ended",!0),ne(eu,"pause",!0),ne(eu,"play",!0),ne(eu,"offline",!0),ne(eu,"online",!0),ne(eu,Bc,!0),ne(eu,"minuteWatched",!0),ne(eu,"videoPlay",!0),ne(eu,"bufferEmpty",!0),ne(eu,"videoError",!0),eu)),Jc=Object.freeze({origin:""}),Xc=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jc;te(this,e),this._player=t,this._store=n,this._clients=[],this._unsubscribes=[],this._window=this._store.getState().window,this._targetOrigin=i.origin,this._bridgeIsReady=function(){throw new Error("_bridgeIsReady should only be called in _sendReadyEvent")},this._onBridgeReady=new Promise(function(e){r._bridgeIsReady=e}),this._window.addEventListener("message",this);var a=this._store.getState().env.playerType;a!==Ro.n&&a!==Ro.m||this._player.addEventListener(Ls.m,this._sendOpenStreamEvent.bind(this));var o=this._window.opener||this._window.parent;o&&o!==this._window&&this._addClient(o),this._store.dispatch(Object(go.f)(this)),this._initSubscriptions()}return Qc(e,[{key:"_sendOpenStreamEvent",value:function(){this._sendPlayerEvent("openStream")}},{key:"_sendReadyEvent",value:function(){this._sendBridgeReady(),this._bridgeIsReady()}},{key:"_initSubscriptions",value:function(){var e=this;this._unsubscribes.push(Object(zo.a)(this._store,["analytics.playSessionId","captions.available","manifestInfo.broadcast_id","stream","clipsModeration."+Kc.e,"clipsModeration."+Kc.d,"clipsModeration."+Kc.c],function(){e._sendStoreState()})),this._unsubscribes.push(Object(zo.a)(this._store,["error"],this.onError.bind(this))),this.onError(this._store.getState()),this._unsubscribes.push(Object(zo.a)(this._store,["analytics.playSessionId","manifestInfo.broadcast_id"],function(){})),this._unsubscribes.push(Object(zo.a)(this._store,["viewercount"],function(){e._sendStoreState(),e._sendPlayerEvent("viewerschange")})),this._unsubscribes.push(Object(zo.a)(this._store,["playback.contentShowing"],function(t){t.playback.contentShowing&&e._sendPlayerEvent("contentShowing")})),this._unsubscribes.push(Object(zo.a)(this._store,["playback.paused","playback.ended","playback.hasPlayed"],function(t){var n=t.playback,r=n.paused,i=n.ended,a=n.hasPlayed;i?e._sendPlayerEvent("ended"):r?e._sendPlayerEvent("pause"):a&&e._sendPlayerEvent("play")})),this._unsubscribes.push(Object(zo.a)(this._store,["onlineStatus"],function(t){t.onlineStatus===kc.b?e._sendPlayerEvent("online"):e._sendPlayerEvent("offline")})),this._unsubscribes.push(Object(zo.a)(this._store,["screenMode.isTheatreMode"],function(t){var n=t.screenMode;e._sendStoreState(),n.isTheatreMode?e._sendPlayerEvent("theatreentered"):e._sendPlayerEvent("theatreexited")})),this._unsubscribes.push(Object(zo.a)(this._store,["screenMode.isFullScreen"],function(t){var n=t.screenMode;e._sendStoreState(),n.isFullScreen?e._sendPlayerEvent("fullscreenentered"):e._sendPlayerEvent("fullscreenexited")})),this._unsubscribes.push(Object(zo.a)(this._store,["playback.currentTime"],function(t){var n=t.playback,r=n.currentTime;e._sendAll("bridgeplayereventwithpayload",{event:"timeUpdate",data:r})})),this._unsubscribes.push(Object(zo.a)(this._store,["stream","streamMetadata.channelName","streamMetadata.channel.id","streamMetadata.videoId","quality.current","quality.available","playback.currentTime","playback.duration","playback.muted","playback.volume","playback.paused","playback.ended"],this._sendPlayerState.bind(this)))}},{key:"onError",value:function(e){var t=e.error;t.hasError&&this._sendAll("bridgeplayereventwithpayload",{event:"error",data:{code:t.code}})}},{key:"_addClient",value:function(e){this._clients.push(e)}},{key:"_sendBridgeReady",value:function(){var e=this;this._clients.forEach(function(t){t.postMessage({namespace:"player.embed.client",method:Vc,args:[e._getNormalizedStoreState()]},e._targetOrigin)})}},{key:"_postTo",value:function(e,t,n){this._clients.forEach(function(r){r.postMessage({namespace:"player.embed.client",method:e,args:t},n)})}},{key:"_sendAll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Array.isArray(n)?n:[n];return this._onBridgeReady.then(function(){var n=Object(ys.b)(t._targetOrigin),i=Object(ys.a)(t._targetOrigin),a=t._isEvent(e),o=t._isPublicEvent(e,r);if(n||i||!a||o)return t._postTo(e,r,t._targetOrigin)})}},{key:"_isEvent",value:function(e){return"bridgeplayerevent"===e||"bridgeplayereventwithpayload"===e}},{key:"_isPublicEvent",value:function(e,t){if(!Array.isArray(t))return!1;var n=Gc(t,1),r=n[0];return!(!this._isEvent(e)||void 0===r.event)&&!0===$c[r.event]}},{key:"handleEvent",value:function(e){if(Oc()(e.data)&&"player.embed.host"===e.data.namespace&&e.origin===this._targetOrigin)switch(e.data.method){case Fc:this._addClient(e.source);break;case"play":this._store.dispatch(Object(pu.q)());break;case"pause":this._store.dispatch(Object(pu.p)());break;case"setcontent":this._store.dispatch(Tc.h({contentType:Tc.d,contentId:e.data.args[0],customerId:e.data.args[1]})),this._store.dispatch(Object(Rc.k)());break;case"setclip":this._store.dispatch(Tc.h({contentType:Tc.c,contentId:e.data.args[0]})),this._store.dispatch(Object(Rc.k)());break;case"setvideosource":this._store.dispatch(Tc.h({contentType:Tc.f,contentId:e.data.args[0]})),this._store.dispatch(Object(Rc.k)());break;case"channel":this._store.dispatch(Tc.h({contentType:Tc.b,contentId:e.data.args[0]})),this._store.dispatch(Object(Rc.k)());break;case"channelId":this._handleChannelId(e.data.args[0]);break;case"video":this._handleSetVideo(e.data.args);break;case"collection":this._handleSetCollection(e.data.args);break;case"seek":this._player.setCurrentTime(parseFloat(e.data.args[0]));break;case"quality":this._store.dispatch(Object(uc.k)(e.data.args[0]));break;case"mute":this._store.dispatch(Object(pu.o)(!!e.data.args[0]));break;case"volume":this._store.dispatch(Object(pu.n)(e.data.args[0]));break;case"theatre":this._store.dispatch(Object(dc.h)(e.data.args[0]));break;case"fullscreen":this._store.dispatch(Object(dc.g)(e.data.args[0]));break;case"destroy":this._player.destroy(),this.destroy(),this._sendAll("bridgedestroy");break;case"setminiplayermode":this._store.dispatch(Object(xc.o)(e.data.args[0]));break;case"setTrackingProperties":this._setTrackingProperties(e.data.args[0]);break;case"setPlayerType":this._store.dispatch(Object(Wc.e)(e.data.args[0]));break;case"enableCaptions":this._store.dispatch(Object(au.i)(!0));break;case"disableCaptions":this._store.dispatch(Object(au.i)(!1));break;case"setCaptionSize":this._store.dispatch(Object(au.j)(au.f,{fontSize:e.data.args[0]}));break;case"closeModeration":this._store.dispatch(Object(Kc.h)(e.data.args[0]))}}},{key:"_handleChannelId",value:function(e){var t=this,n=String(e).replace(/[^A-Za-z0-9_]/g,"");Object(As.p)("channels/"+n).then(function(e){t._store.dispatch(Tc.h({contentType:Tc.b,contentId:e.name})),t._store.dispatch(Object(Rc.k)())})}},{key:"_handleSetVideo",value:function(e){var t=Gc(e,2),n=t[0],r=t[1];this._store.dispatch(Tc.h({contentType:Tc.e,contentId:n})),this._store.dispatch(Object(Rc.k)()),this._store.dispatch(Object(sc.G)(r))}},{key:"_handleSetCollection",value:function(e){var t=Gc(e,3),n=t[0],r=t[1],i=t[2];this._store.dispatch(Object(Rc.q)(n,r,i))}},{key:"_sendPlayerState",value:function(e){var t=e.streamMetadata,n=e.stream,r=e.quality,i=e.playback,a=e.viewercount,o=this._configurePlaybackState(),s=n,u={channelName:s instanceof Ms.b?s.channel:"",channelId:t.channel.id,currentTime:i.currentTime,duration:i.duration,muted:i.muted,playback:o,quality:r.current,qualitiesAvailable:r.available,videoID:s instanceof Ns.b?s.videoId:"",viewers:a,volume:i.volume};this._sendAll("bridgestateupdate",u)}},{key:"_configurePlaybackState",value:function(){return this._store.getState().playback.ended?"ended":this._store.getState().playback.paused?"paused":"playing"}},{key:"_sendPlayerEvent",value:function(e){this._sendAll("bridgeplayerevent",{event:e})}},{key:"_sendAdCompanionEvent",value:function(e,t){switch(e){case lu.COMPANION_RENDERED:this._sendAll("bridgeplayereventwithpayload",{event:"adcompanionrendered",data:t});break;case Hu.c.AD_COMPANION_RENDERED:this._sendAll("bridgeplayereventwithpayload",{event:"flashAdcompanionrendered",data:t})}}},{key:"_emitWheelEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"wheel",data:e})}},{key:"_sendFirstPartyAnalyticEvent",value:function(e,t){this._sendAll("bridgeplayereventwithpayload",{event:Yc[e],data:t})}},{key:"_getNormalizedStoreState",value:function(){var e=this._store.getState(),t=e.analytics,n=e.captions,r=e.manifestInfo,i=e.screenMode,a=e.stats,o=e.stream,s=e.viewercount,u=e.clipsModeration;return{captions:{available:n.available},viewercount:s,stats:{videoStats:a.videoStats},playSessionId:t.playSessionId,broadcastId:r.broadcast_id,screenMode:i,stream:{contentId:o.contentType===Hc.a?o.contentId:"",customerId:o.contentType===Hc.a?o.customerId:""},clipsModeration:{isClipsReportModalOpen:u[Kc.e]===Kc.g,isClipsDeleteModalOpen:u[Kc.d]===Kc.g,isClipsDeleteAllModalOpen:u[Kc.c]===Kc.g}}}},{key:"_sendStoreState",value:function(){this._sendAll("bridgestorestateupdate",this._getNormalizedStoreState())}},{key:"_sendTransitionToCollectionEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"transitionToCollectionVod",data:e})}},{key:"_sendTransitionToRecommendedVodEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"transitionToRecommendedVod",data:e})}},{key:"_sendStatsUpdateEvent",value:function(){this._sendStoreState(),this._sendPlayerEvent("statsupdate")}},{key:"_sendSeekedEvent",value:function(e){this._sendAll("bridgeplayereventwithpayload",{event:"seeked",data:e})}},{key:"_setTrackingProperties",value:function(e){var t=[Ro.s,Ro.n,Ro.q,Ro.m];eo()(t,this._store.getState().env.playerType)&&this._store.dispatch(ee(e))}},{key:"destroy",value:function(){this._window.removeEventListener("message",this),this._store.getState().env.playerType===Ro.n&&this._player.removeEventListener(Ls.m,this._sendOpenStreamEvent.bind(this)),this._unsubscribes.forEach(function(e){return e()})}}]),e}(),Zc=n(76),el=n.n(Zc),tl=n(54),nl=n(188),rl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),il="Control",al=Object.freeze({17:il,32:" ",33:"PageUp",34:"PageDown",27:"Escape",38:"ArrowUp",40:"ArrowDown",37:"ArrowLeft",39:"ArrowRight",70:"f",188:",",190:"."}),ol=function(){function e(t,n,r,i){var a=this;re(this,e),this.ctrl=!1,this.store=r,this.player=t,this.root=n,this.unsubs=[],this._initSubscribes(),this.rootKeydownListener=function(e){var t=e.target||e.srcElement,n="INPUT"===t.tagName&&"text"===t.getAttribute("type"),i="TEXTAREA"===t.tagName,o="true"===t.contentEditable,s=r.getState().ui.isMini;n||i||o||s||a.keydownHandler(e)},this.rootKeyupListener=function(e){ie(e)===il&&(a.ctrl=!1)},n.setAttribute("tabindex",i.tabindex||-1),n.addEventListener("keydown",this.rootKeydownListener),n.addEventListener("keyup",this.rootKeyupListener),this.updateHandlers(r.getState())}return rl(e,[{key:"_initSubscribes",value:function(){this.unsubs.push(Object(zo.a)(this.store,["env.playerType"],this.updateHandlers.bind(this)))}},{key:"updateHandlers",value:function(e){var t=e.env,n=t.playerType;eo()(Ro.b,n)?this.keydownHandler=this.handleClipsViewingHotkeys:this.keydownHandler=this.handlePlayerHotkeys}},{key:"seekSeconds",value:function(e){var t=this.store,n=this.player,r=n.getChannel(),i=n.getCurrentTime(),a=t.getState().playback.duration;if(!r&&Ac()(a)&&!n.getPaused()){var o=this.calculateTargetTime(i,e,.01,a,n.getEnded());o&&n.setCurrentTime(o)}}},{key:"calculateTargetTime",value:function(e,t,n,r,i){var a=i?r+t:e+t;return a<n?n:a>r?null:a}},{key:"togglePlayback",value:function(){var e=this.store;e.getState().playback.paused?e.dispatch(Object(pu.q)()):e.dispatch(Object(pu.p)())}},{key:"changeVolumeByStep",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.store,n=t.getState().playback.volume,r=lo.G,i=void 0;i=e?Math.round(100*Math.min(n+r,1))/100:Math.round(100*Math.max(n-r,0))/100,t.dispatch(Object(pu.n)(i))}},{key:"updatePlaybackRate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.store,n=t.getState().playback.playbackRate,r=el()(nl.a,function(e){return e===n}),i=n;e&&r<nl.a.length-1?i=nl.a[r+1]:!e&&r>0&&(i=nl.a[r-1]),n!==i&&t.dispatch(Object(pu.m)(i))}},{key:"handlePlayerHotkeys",value:function(e){var t=this.store,n=this.player;switch(ie(e)){case il:this.ctrl=!0;break;case" ":case"Spacebar":this.togglePlayback();break;case"PageUp":n.setMuted(!1);break;case"PageDown":n.setMuted(!0);break;case"ArrowUp":case"Up":this.changeVolumeByStep(!0);break;case"ArrowDown":case"Down":this.changeVolumeByStep(!1);break;case"Escape":case"Esc":t.getState().collection.currentView===tl.b?t.dispatch(Object(Rc.l)()):Ro.w()&&t.getState().screenMode.isTheatreMode&&t.dispatch(Object(dc.h)(!1));break;case"f":case"F":if(!this.ctrl)return;t.dispatch(Object(dc.i)());break;case"ArrowRight":case"Right":this.seekSeconds(lo.q);break;case"ArrowLeft":case"Left":this.seekSeconds(-lo.q);break;default:return}e.preventDefault()}},{key:"handleClipsViewingHotkeys",value:function(e){var t=this.store;switch(ie(e)){case il:this.ctrl=!0;break;case" ":case"Spacebar":this.togglePlayback();break;case"ArrowUp":case"Up":this.changeVolumeByStep(!0);break;case"ArrowDown":case"Down":this.changeVolumeByStep(!1);break;case"Escape":case"Esc":Object(dc.g)(!1);break;case"f":case"F":t.dispatch(Object(dc.i)());break;case"ArrowRight":case"Right":this.seekSeconds(lo.h);break;case"ArrowLeft":case"Left":this.seekSeconds(-lo.h);break;case",":this.updatePlaybackRate(!1);break;case".":this.updatePlaybackRate(!0);break;default:return}e.preventDefault()}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()}),this.root.removeEventListener("keyup",this.rootKeyupListener),this.root.removeEventListener("keydown",this.rootKeydownListener)}}]),e}(),sl=n(142),ul=n.n(sl),cl=n(3),ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,oe(t))}},fl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||dl,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,ll({prefix:this.prefix+":"+t+":"},this.options))},e}(),pl=new fl,hl=function(){function e(){se(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var r=n.observers[e].indexOf(t);r>-1&&n.observers[e].splice(r,1)}else delete n.observers[e]})},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)})}if(this.observers["*"]){[].concat(this.observers["*"]).forEach(function(t){var r;t.apply(t,(r=[e]).concat.apply(r,n))})}},e}(),ml=hl,yl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};ge(this,t);var i=be(this,e.call(this));return i.data=n||{},i.options=r,i}return _e(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.keySeparator||this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];return n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split(".")),pe(this.data,a)},t.prototype.addResource=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),de(this.data,o,r),i.silent||this.emit("added",e,t,n,r)},t.prototype.addResources=function(e,t,n){for(var r in n)"string"==typeof n[r]&&this.addResource(e,t,r,n[r],{silent:!0});this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,r,i){var a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);var o=pe(this.data,a)||{};r?he(o,n,i):o=vl({},o,n),de(this.data,a,o),this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?vl({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(ml),bl=gl,_l={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach(function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))}),t}},wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ke(this,t);var i=Ee(this,e.call(this));return ce(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=r,i.logger=pl.create("translator"),i}return Se(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===n?"undefined":kl(n))&&(n=this.options.overloadTranslationOptionHandler(arguments)),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var r=n.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(e[e.length-1],n),a=i.key,o=i.namespaces,s=o[o.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){var l=n.nsSeparator||this.options.nsSeparator;return s+l+a}return a}var d=this.resolve(e,n),f=d&&d.res,p=d&&d.usedKey||a,h=Object.prototype.toString.apply(f),m=["[object Number]","[object Function]","[object RegExp]"],y=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,v="string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f;if(f&&v&&m.indexOf(h)<0&&(!y||"[object Array]"!==h)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,n):"key '"+a+" ("+this.language+")' returned an object instead of string.";if(n.keySeparator||this.options.keySeparator){var g="[object Array]"===h?[]:{};for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(g[b]=this.translate(""+p+r+b,wl({},n,{joinArrays:!1,ns:o})));f=g}}else if(y&&"[object Array]"===h)(f=f.join(y))&&(f=this.extendTranslation(f,e,n));else{var _=!1,w=!1;this.isValidLookup(f)||void 0===n.defaultValue||(_=!0,f=n.defaultValue),this.isValidLookup(f)||(w=!0,f=a);var k=n.defaultValue&&n.defaultValue!==f&&this.options.updateMissing;if(w||_||k){this.logger.log(k?"updateKey":"missingKey",u,s,a,k?n.defaultValue:f);var E=[],S=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&S&&S[0])for(var P=0;P<S.length;P++)E.push(S[P]);else"all"===this.options.saveMissingTo?E=this.languageUtils.toResolveHierarchy(n.lng||this.language):E.push(n.lng||this.language);var C=function(e,r){t.options.missingKeyHandler?t.options.missingKeyHandler(e,s,r,k?n.defaultValue:f,k):t.backendConnector&&t.backendConnector.saveMissing&&t.backendConnector.saveMissing(e,s,r,k?n.defaultValue:f,k),t.emit("missingKey",e,s,r,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&n.count?E.forEach(function(e){t.pluralResolver.getPluralFormsOfKey(e,a).forEach(function(t){return C([e],t)})}):C(E,a))}f=this.extendTranslation(f,e,n),w&&f===a&&this.options.appendNamespaceToMissingKey&&(f=s+":"+a),w&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f},t.prototype.extendTranslation=function(e,t,n){var r=this;n.interpolation&&this.interpolator.init(wl({},n,{interpolation:wl({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=wl({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset();var a=n.postProcess||this.options.postProcess,o="string"==typeof a?[a]:a;return void 0!==e&&o&&o.length&&!1!==n.applyPostProcessor&&(e=_l.handle(o,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,i=void 0;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!t.isValidLookup(r)){var a=t.extractFromKey(e,n),o=a.key;i=o;var s=a.namespaces;t.options.fallbackNS&&(s=s.concat(t.options.fallbackNS));var u=void 0!==n.count&&"string"!=typeof n.count,c=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,l=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);s.forEach(function(e){t.isValidLookup(r)||l.forEach(function(i){if(!t.isValidLookup(r)){var a=o,s=[a],l=void 0;u&&(l=t.pluralResolver.getSuffix(i,n.count)),u&&c&&s.push(a+l),c&&s.push(a+=""+t.options.contextSeparator+n.context),u&&s.push(a+=l);for(var d=void 0;d=s.pop();)t.isValidLookup(r)||(r=t.getResource(i,e,d,n))}})})}}),{res:r,usedKey:i}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,r)},t}(ml),Sl=El,Pl=function(){function e(t){Pe(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=pl.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ce(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ce(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ce(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),r.forEach(function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))}),i},e}(),Cl=Pl,Ol=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],Tl={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},xl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Oe(this,e),this.languageUtils=t,this.options=n,this.logger=pl.create("pluralResolver"),this.rules=Te()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,r=[];return this.getRule(e).numbers.forEach(function(i){var a=n.getSuffix(e,i);r.push(""+t+a)}),r},e.prototype.getSuffix=function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),a=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_"+a.toString():o():"v2"===this.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?o():2===r.numbers.length&&1===r.numbers[0]?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),Rl=xl,jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xe(this,e),this.logger=pl.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||ye),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?me(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?me(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?me(t.nestingPrefix):t.nestingPrefixEscaped||me("$t("),this.nestingSuffix=t.nestingSuffix?me(t.nestingSuffix):t.nestingSuffixEscaped||me(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){function r(e){return e.replace(/\$/g,"$$$$")}var i=this,a=void 0,o=void 0,s=void 0,u=function(e){if(e.indexOf(i.formatSeparator)<0)return pe(t,e);var r=e.split(i.formatSeparator),a=r.shift().trim(),o=r.join(i.formatSeparator).trim();return i.format(pe(t,a),o,n)};for(this.resetRegExp(),s=0;(a=this.regexpUnescape.exec(e))&&(o=u(a[1].trim()),e=e.replace(a[0],o),this.regexpUnescape.lastIndex=0,!(++s>=this.maxReplaces)););for(s=0;(a=this.regexp.exec(e))&&(o=u(a[1].trim()),"string"!=typeof o&&(o=ue(o)),o||(this.logger.warn("missed to pass in variable "+a[1]+" for interpolating "+e),o=""),o=r(this.escapeValue?this.escape(o):o),e=e.replace(a[0],o),this.regexp.lastIndex=0,!(++s>=this.maxReplaces)););return e},e.prototype.nest=function(e,t){function n(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=this.interpolate(r,o),r=r.replace(/'/g,'"');try{o=JSON.parse(r),t&&(o=jl({},t,o))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,o=jl({},r);for(o.applyPostProcessor=!1;i=this.nestingRegexp.exec(e);){if((a=t(n.call(this,i[1].trim(),o),o))&&i[0]===e&&"string"!=typeof a)return a;"string"!=typeof a&&(a=ue(a)),a||(this.logger.warn("missed to resolve "+i[1]+" for nesting "+e),a=""),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e},e}(),Il=Al,Ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ml=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};je(this,t);var o=Ae(this,e.call(this));return o.backend=n,o.store=r,o.languageUtils=i.languageUtils,o.options=a,o.logger=pl.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,a.backend,a),o}return Ie(t,e),t.prototype.queueLoad=function(e,t,n){var r=this,i=[],a=[],o=[],s=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var o=e+"|"+t;r.store.hasResourceBundle(e,t)?r.state[o]=2:r.state[o]<0||(1===r.state[o]?a.indexOf(o)<0&&a.push(o):(r.state[o]=1,n=!1,a.indexOf(o)<0&&a.push(o),i.indexOf(o)<0&&i.push(o),s.indexOf(t)<0&&s.push(t)))}),n||o.push(e)}),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:n}),{toLoad:i,pending:a,toLoadLanguages:o,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var r=this,i=e.split("|"),a=Nl(i,2),o=a[0],s=a[1];t&&this.emit("failedLoading",o,s,t),n&&this.store.addResourceBundle(o,s,n),this.state[e]=t?-1:2,this.queue.forEach(function(n){fe(n.loaded,[o],s),Le(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(r.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=arguments[5];return e.length?this.backend[n](e,t,function(s,u){if(s&&u&&r<5)return void setTimeout(function(){i.read.call(i,e,t,n,r+1,2*a,o)},a);o(s,u)}):o(null,{})},t.prototype.load=function(e,t,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=Ll({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,n);if(!a.toLoad.length)return a.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(a.toLoadLanguages,a.toLoadNamespaces,"readMulti",null,null,function(e,t){e&&r.logger.warn("loading namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&r.logger.log("successfully loaded namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading",t),a.toLoad.forEach(function(n){var i=n.split("|"),a=Nl(i,2),o=a[0],s=a[1],u=pe(t,[o,s]);if(u)r.loaded(n,e,u);else{var c="loading namespace "+s+" for language "+o+" via multiloading failed";r.loaded(n,c),r.logger.error(c)}})}):a.toLoad.forEach(function(e){r.loadOne(e)})},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=Ll({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),r.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach(function(e){t.forEach(function(t){var a=pe(i,[e,t]);if(a)n.loaded(e+"|"+t,r,a);else{var o="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,o),n.logger.error(o)}})})}):e.forEach(function(e){t.forEach(function(t){n.loadOne(e+"|"+t,"re")})})},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=Nl(r,2),a=i[0],o=i[1];this.read(a,o,"read",null,null,function(r,i){r&&t.logger.warn(n+"loading namespace "+o+" for language "+a+" failed",r),!r&&i&&t.logger.log(n+"loaded namespace "+o+" for language "+a,i),t.loaded(e,r,i)})},t.prototype.saveMissing=function(e,t,n,r,i){this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,{isUpdate:i}),e&&e[0]&&this.store.addResource(e[0],t,n,r)},t}(ml),Dl=Ml,ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Me(this,t);var o=De(this,e.call(this));return o.cache=n,o.store=r,o.services=i,o.options=a,o.logger=pl.create("cacheConnector"),o.cache&&o.cache.init&&o.cache.init(i,a.cache,a),o}return qe(t,e),t.prototype.load=function(e,t,n){var r=this;if(!this.cache)return n&&n();var i=ql({},this.cache.options,this.options.cache),a="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(a,function(e,t){if(e&&r.logger.error("loading languages "+a.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var o in t[i])if(Object.prototype.hasOwnProperty.call(t[i],o)&&"i18nStamp"!==o){var s=t[i][o];s&&r.store.addResourceBundle(i,o,s)}n&&n()}):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(ml),Bl=Ul,Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];Ve(this,t);var i=He(this,e.call(this));if(i.options=Be(n),i.services={},i.logger=pl,i.modules={external:[]},r&&!i.isInitialized&&!n.isClone){var a;if(!i.options.initImmediate)return a=i.init(n,r),He(i,a);setTimeout(function(){i.init(n,r)},0)}return i}return ze(t,e),t.prototype.init=function(){function e(e){return e?"function"==typeof e?new e:e:null}var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];if("function"==typeof n&&(r=n,n={}),this.options=Vl({},Ue(),this.options,Be(n)),this.format=this.options.interpolation.format,r||(r=We),!this.options.isClone){this.modules.logger?pl.init(e(this.modules.logger),this.options):pl.init(null,this.options);var i=new Cl(this.options);this.store=new bl(this.options.resources,this.options);var a=this.services;a.logger=pl,a.resourceStore=this.store,a.resourceStore.on("added removed",function(e,t){a.cacheConnector.save()}),a.languageUtils=i,a.pluralResolver=new Rl(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new Il(this.options),a.backendConnector=new Dl(e(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),a.backendConnector.on("loaded",function(e){a.cacheConnector.save()}),a.cacheConnector=new Bl(e(this.modules.cache),a.resourceStore,a,this.options),a.cacheConnector.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),this.modules.languageDetector&&(a.languageDetector=e(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.translator=new Sl(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var o=function(){t.changeLanguage(t.options.lng,function(e,n){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),r(e,n)})};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],r=function(t){if(t){e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){n.indexOf(e)<0&&n.push(e)})}};if(this.language)r(this.language);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return r(e)})}this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.cacheConnector.load(n,this.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&_l.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,r=function(e,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),t&&t(e,function(){return n.t.apply(n,arguments)})},i=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources(function(t){r(t,e)})};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,r=function e(t,r){for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var s=Vl({},r);return"object"!==(void 0===r?"undefined":Fl(r))&&(s=n.options.overloadTranslationOptionHandler([t,r].concat(a))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],r=e.filter(function(e){return n.indexOf(e)<0});if(!r.length)return t();this.options.preload=n.concat(r),this.loadResources(t)},t.prototype.dir=function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We,i=Vl({},this.options,n,{isClone:!0}),a=new t(i);return["store","services","language"].forEach(function(t){a[t]=e[t]}),a.translator=new Sl(a.services,a.options),a.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),a.init(i,r),a.translator.options=a.options,a},t}(ml),zl=new Hl,Wl=zl,Kl=(zl.changeLanguage.bind(zl),zl.cloneInstance.bind(zl),zl.createInstance.bind(zl),zl.dir.bind(zl),zl.exists.bind(zl),zl.getFixedT.bind(zl),zl.init.bind(zl),zl.loadLanguages.bind(zl),zl.loadNamespaces.bind(zl),zl.loadResources.bind(zl),zl.off.bind(zl),zl.on.bind(zl),zl.setDefaultNamespace.bind(zl),zl.t.bind(zl),zl.use.bind(zl),n(514)),Gl=n.n(Kl),Ql=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yl=Io()(mu()(["ar-SA","bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-US","es-MX","es-US","es-ES","es-LA","fi-FI","fr-FR","hi-IN","hu-HU","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","th-TH","tr-TR","vi-VN","zh-TW","zh-CN"],function(e,t){return e[t.replace(/-[a-zA-Z]{2}$/,"")]=t,e},{}),{es:"es-ES",pt:"pt-PT",zh:"zh-CN"});Wl.use(Gl.a).init({fallbackLng:"en-US",load:"currentOnly",backend:{crossDomain:!0,loadPath:lo.z+"/localization/{{lng}}/strings.json"},nsSeparator:!1,keySeparator:!1,missingKeyHandler:Ge,saveMissing:!0}),Wl.addResourceBundle("en-US",Wl.options.ns[0],n(518));var $l=function(){function e(t,n,r){Ke(this,e),this.shortCode=t,this.langCode=n,this._translate=r}return Ql(e,[{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._translate(e,t);return t.replacements&&Object.keys(t.replacements).map(function(e){n=n.replace(e,t.replacements[e])}),n}}]),e}(),Jl=Wl,Xl=new $l("en","en-US",Wl.getFixedT("en-US")),Zl=n(283),ed=n(284),td=n(285),nd=n(41),rd=n(43),id=n(274),ad={streamType:$o.a.string,i18n:$o.a.object.isRequired,isOnline:$o.a.bool,inCollection:$o.a.bool,isWatchParty:$o.a.bool,isRerun:$o.a.bool,isPremiere:$o.a.bool,showingRecommendations:$o.a.bool},od=function(e){var t=e.lang,n=e.onlineStatus,r=e.stream,i=e.collection,a=e.streamMetadata,o=e.screen;return{streamType:r.contentType,i18n:t,isOnline:n===kc.b,inCollection:Boolean(i.id),isWatchParty:"watch_party"===a.streamType,isRerun:"rerun"===a.streamType,isPremiere:"premiere"===a.streamType,showingRecommendations:o[0]===lc.m}},sd=Xo()("player-streamstatus"),ud=function(e){var t=e.streamType,n=e.i18n,r=e.isOnline,i=e.inCollection,a=e.isWatchParty,o=e.isRerun,s=e.isPremiere,u=e.showingRecommendations,c=null;if(!i&&!u){var l=Xo()("player-streamstatus__icon","player-streamstatus__icon--live","qa-live-label"),d=Xo()("player-streamstatus__icon","player-streamstatus__icon--offline"),f=Xo()("player-streamstatus__icon","player-streamstatus__icon--watchparty"),p=Xo()("player-streamstatus__icon","player-streamstatus__icon--rerun"),h=Xo()("player-streamstatus__icon","player-streamstatus__icon--premiere");t===Ms.a&&(c=a&&r?Qo.a.createElement("span",null,Qo.a.createElement(nd.b,{svgClass:f,iconId:"#icon_vodcast"}),Qo.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Vodcast"))):o&&r?Qo.a.createElement("span",null,Qo.a.createElement(id.a,{uuid:rd.l,renderValue:"yes"},Qo.a.createElement("span",{className:"player-streamstatus__container"},Qo.a.createElement(nd.b,{svgClass:p,iconId:"#icon_rerun"}),Qo.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Rerun")))),Qo.a.createElement(id.a,{uuid:rd.l,renderValue:"no"},Qo.a.createElement("span",null,Qo.a.createElement(nd.b,{svgClass:f,iconId:"#icon_vodcast"}),Qo.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Vodcast"))))):s&&r?Qo.a.createElement("span",null,Qo.a.createElement(id.a,{uuid:rd.l,renderValue:"yes"},Qo.a.createElement("span",{className:"player-streamstatus__container"},Qo.a.createElement(nd.b,{svgClass:h,iconId:"#icon_premiere"}),Qo.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Premiere")))),Qo.a.createElement(id.a,{uuid:rd.l,renderValue:"no"},Qo.a.createElement("span",null,Qo.a.createElement(nd.b,{svgClass:f,iconId:"#icon_vodcast"}),Qo.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Vodcast"))))):r?Qo.a.createElement("span",null,Qo.a.createElement(nd.b,{svgClass:l,iconId:"#icon_live"}),Qo.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Live"))):Qo.a.createElement("span",null,Qo.a.createElement(nd.b,{svgClass:d,iconId:"#icon_offline"}),Qo.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Offline"))))}return Qo.a.createElement("div",{className:sd},c)};ud.propTypes=ad;var cd=Object(cl.b)(od)(ud),ld={alt:$o.a.string,classNames:$o.a.shape({a:$o.a.string,img:$o.a.string}),href:$o.a.string,imgSrc:$o.a.string,onClick:$o.a.func,target:$o.a.string},dd=function(e){var t=e.alt,n=e.classNames,r=e.href,i=e.imgSrc,a=e.onClick,o=e.target;return Qo.a.createElement("a",{className:n.a,href:r,target:o,onClick:a},Qo.a.createElement("img",{alt:t,className:n.img,src:i}))};dd.propTypes=ld;var fd={gameName:$o.a.string,gameUrl:$o.a.string,lang:$o.a.object,live:$o.a.bool,isMobile:$o.a.bool,name:$o.a.string,onClick:$o.a.func,streamUrl:$o.a.string,title:$o.a.string,viewerCount:$o.a.number,className:$o.a.string},pd=Xo()("player-text-link","player-text-link--no-color","qa-game-name"),hd={container:"player-streaminfo__name",a:Xo()("player-text-link","player-text-link--no-color","qa-display-name")},md=function(e){var t=e.gameName,n=e.gameUrl,r=e.lang,i=e.live,a=e.name,o=e.streamUrl,s=e.onClick,u=e.title,c=e.viewerCount,l=e.className,d=e.isMobile,f=Number(c).toLocaleString(r.shortCode),p=Qo.a.createElement("a",{className:pd,href:n,target:"_blank"},t),h=Qo.a.createElement("span",null,f),m=null,y=Xo()({"player-streaminfo__title":!0,"qa-stream-title":!0,"player-streaminfo__title--hide":i&&d});return i&&(m=Qo.a.createElement("div",{className:"player-streaminfo__viewers"},Qo.a.createElement(ns.b,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:p,viewerCount:h,options:{count:c}}))),Qo.a.createElement("div",{className:l},Qo.a.createElement("div",{className:hd.container},Qo.a.createElement("a",{className:hd.a,href:o,target:"_blank",onClick:s},a)),Qo.a.createElement("div",{className:y},u),Qo.a.createElement("div",{className:"player-streaminfo__game"},m))};md.propTypes=fd;var yd=Object(ns.c)()(md),vd="follow info fetched",gd="prompt login modal",bd="show follow notification",_d="follow_on_notif_on",wd="follow",kd="player_notifbutton_clicks",Ed="player_notifbutton_views",Sd="notification_change",Pd="notif_off",Cd="notif_on",Od=n(9),Td={channelName:$o.a.string.isRequired,isOwnChannel:$o.a.bool.isRequired,isFollowing:$o.a.bool.isRequired,onFollowChannel:$o.a.func.isRequired,onUnfollowChannel:$o.a.func.isRequired,t:$o.a.func.isRequired},xd=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isFollowing:e.follow.following}};ut.propTypes=Td;var Rd=Object(cl.b)(xd),jd=Object(ns.c)()(Rd(ut)),Ad={channelName:$o.a.string.isRequired,isOwnChannel:$o.a.bool.isRequired,isSubscribed:$o.a.bool.isRequired,isSubscribable:$o.a.bool.isRequired,onSubscribe:$o.a.func.isRequired,t:$o.a.func.isRequired},Id=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isSubscribed:e.subscriptions.isSubscribed,isSubscribable:e.subscriptions.isSubscribable}};ct.propTypes=Ad;var Ld=Object(cl.b)(Id),Nd=Object(ns.c)()(Ld(ct)),Md={avatarURL:$o.a.string,onFollowChannel:$o.a.func.isRequired,onUnfollowChannel:$o.a.func.isRequired,onSubscribe:$o.a.func.isRequired},Dd=function(e){var t=Xo()({"pl-pinned-panel":!0,"pl-pinned-panel--te":!0});return Qo.a.createElement("div",{className:t},Qo.a.createElement("figure",{className:"pl-pinned-panel__avatar"},Qo.a.createElement("img",{src:e.avatarURL||lo.a,alt:"Avatar",height:30,width:30})),Qo.a.createElement(jd,{onFollowChannel:e.onFollowChannel,onUnfollowChannel:e.onUnfollowChannel}),Qo.a.createElement(Nd,{onSubscribe:e.onSubscribe}))};Dd.propTypes=Md;var qd=n(38),Ud=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bd={avatarURL:$o.a.string,channelName:$o.a.string.isRequired,channelId:$o.a.number.isRequired,userId:$o.a.number.isRequired,isLoggedIn:$o.a.bool.isRequired,isFollowing:$o.a.bool.isRequired,didFetchFollow:$o.a.bool.isRequired,didFetchSubscriptions:$o.a.bool.isRequired,followChannel:$o.a.func.isRequired,unfollowChannel:$o.a.func.isRequired,window:$o.a.object.isRequired,notificationsEnabled:$o.a.bool.isRequired,analytics:$o.a.object.isRequired,targetOrigin:$o.a.string.isRequired},Fd=function(e){return{avatarURL:e.streamMetadata.channel.logo,channelName:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,userId:e.user.id,isLoggedIn:e.user.loggedInStatus===qd.a,isFollowing:e.follow.following,didFetchSubscriptions:e.subscriptions.didFetch,didFetchFollow:e.follow.fetched,window:e.window,notificationsEnabled:e.follow.notificationsEnabled,analytics:e.analyticsTracker,targetOrigin:e.env.twitchEverywhere.targetOrigin}},Vd=function(e){return{followChannel:function(t,n){e(Xe(t,n))},unfollowChannel:function(t,n){e(Ze(t,n))}}},Hd=function(e){function t(){lt(this,t);var e=dt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribe=e.handleSubscribe.bind(e),e}return ft(t,e),Ud(t,[{key:"componentDidMount",value:function(){this.props.analytics.trackEvent(Ed,{follow_state:this.props.isFollowing,notif_state:this.props.notificationsEnabled,src:Ro.u})}},{key:"postMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.window.parent.postMessage({eventName:e,namespace:"twitch-everywhere",params:t},this.props.targetOrigin)}},{key:"handleFollowChannel",value:function(){this.props.isLoggedIn?this.props.followChannel(this.props.userId,this.props.channelId):this.postMessage("authentication-required")}},{key:"handleUnfollowChannel",value:function(){this.props.unfollowChannel(this.props.userId,this.props.channelId)}},{key:"handleSubscribe",value:function(){var e=this.props.channelName;this.postMessage("subscribe",{channelName:e})}},{key:"render",value:function(){var e=!this.props.isLoggedIn&&this.props.channelName,t=this.props.didFetchFollow&&this.props.didFetchSubscriptions,n=this.props.channelId===this.props.userId;return e||t&&!n?Qo.a.createElement(Dd,{avatarURL:this.props.avatarURL,onFollowChannel:this.handleFollowChannel,onUnfollowChannel:this.handleUnfollowChannel,onSubscribe:this.handleSubscribe}):null}}]),t}(Qo.a.Component);Hd.propTypes=Bd;var zd=Object(cl.b)(Fd,Vd),Wd=zd(Hd),Kd=function(e){var t=e.isViewable,n=e.vodId,r=e.vodTitle;return n&&0!==n.length?t?Qo.a.createElement("span",null,":",Qo.a.createElement("a",{href:lo.C+"/videos/"+n,target:"_blank"},r)):Qo.a.createElement("span",null,":",r):null};Kd.propTypes={vodId:$o.a.string,vodTitle:$o.a.string,isViewable:$o.a.bool};var Gd={container:"player-streaminfo__watchparty",divider:"player-streaminfo__watchparty-divider"},Qd=function(e){var t=e.vodIsViewable,n=e.t,r=e.vodId,i=e.vodTitle,a=e.vodBroadcastType;return Qo.a.createElement("div",{className:Gd.container},n(pt(a)),Qo.a.createElement(Kd,{vodId:r,vodTitle:i,isViewable:t}),Qo.a.createElement("div",{className:Gd.divider}))};Qd.propTypes={t:$o.a.func,vodId:$o.a.string,vodTitle:$o.a.string,vodIsViewable:$o.a.bool,vodBroadcastType:$o.a.string};var Yd=Object(ns.c)()(Qd),$d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Jd={adPlaying:$o.a.bool,channelName:$o.a.string,displayName:$o.a.string,gameName:$o.a.string,isWatchParty:$o.a.bool,lang:$o.a.object,logo:$o.a.string,name:$o.a.string,pause:$o.a.func,showInfo:$o.a.bool,status:$o.a.string,streamUrl:$o.a.string,playerType:$o.a.string,isMobile:$o.a.bool,viewerCount:$o.a.number,vodId:$o.a.string,vodTitle:$o.a.string,vodIsViewable:$o.a.bool,vodBroadcastType:$o.a.string},Xd=function(e){var t=e.ads,n=e.playerOptions,r=e.env,i=e.lang,a=e.screenMode,o=e.streamMetadata,s=e.viewercount,u=e.watchParty,c=e.collection;return{adPlaying:t.currentMetadata.contentType!==uu.f.NONE,channelName:o.channelName,displayName:o.channel.displayName,gameName:o.game,lang:i,logo:o.channel.logo,name:o.name,showInfo:(n.showInfo||a.isFullScreen||a.isTheatreMode)&&c.currentView!==tl.b,status:o.channel.status,streamUrl:o.url,viewerCount:s,playerType:r.playerType,isMobile:r.platform===yu.a,isWatchParty:"watch_party"===o.streamType,vodId:u.vodId,vodTitle:u.title,vodIsViewable:"public"===u.viewable,vodBroadcastType:u.broadcastType}},Zd=function(e){return{pause:function(){e(Object(pu.p)())}}},ef={a:"player-streaminfo__picture",img:"qa-broadcaster-logo"},tf=function(e){function t(){return ht(this,t),mt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return yt(t,e),$d(t,[{key:"render",value:function(){var e=this.props,t=e.adPlaying,n=e.playerType,r=e.showInfo;if(t||n===Ro.p)return null;var i=this.props.playerType===Ro.u,a=this._createTEFollowPanel(i),o=this._createLogoComponent(i),s=this.props.isWatchParty?Qo.a.createElement(Yd,this.props):null;return r?Qo.a.createElement("div",{className:"player-streaminfo"},s,o,this._createStreamInfoDisplay(),a):null}},{key:"_createTEFollowPanel",value:function(e){return e?Qo.a.createElement(Wd,null):null}},{key:"_createLogoComponent",value:function(e){var t=this.props,n=t.logo,r=t.streamUrl;return!e&&n?Qo.a.createElement(dd,{classNames:ef,imgSrc:n,href:r,onClick:this.props.pause,target:"_blank"}):null}},{key:"_createStreamInfoDisplay",value:function(){var e=this.props,t=e.displayName,n=e.channelName,r=e.name,i=e.status,a=e.gameName,o=e.streamUrl,s=e.viewerCount,u=e.playerType,c=e.isMobile,l=e.lang,d=Boolean(n),f=d?i:r,p=lo.p+"/"+encodeURIComponent(a),h=u===Ro.u,m=Xo()({"player-streaminfo__meta-container":!h});return t?Qo.a.createElement(yd,{className:m,live:d,name:t,title:f,gameName:a,gameUrl:p,onClick:this.props.pause,streamUrl:o,viewerCount:s,lang:l,isMobile:c}):null}}]),t}(Qo.a.PureComponent);tf.propTypes=Jd;var nf=Object(cl.b)(Xd,Zd)(tf),rf={collectionItems:$o.a.array.isRequired,showDivider:$o.a.bool.isRequired,onMouseEnter:$o.a.func,onMouseLeave:$o.a.func,showSidebar:$o.a.func,streamId:$o.a.string.isRequired,t:$o.a.func,title:$o.a.string.isRequired},af={showSidebar:function(){},t:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},of=Xo()("pl-flex","pl-flex--verticalCenter","pl-flex--nowrap"),sf=Xo()("collection-button","pl-flex__item"),uf=Xo()("collection-collapsed-info","pl-flex","pl-flex--verticalCenter","pl-flex__item"),cf=Xo()("collection-collapsed-info__title","qa-collection-collapsed-title","pl-flex__item"),lf=Xo()("middot-divider","pl-flex__item"),df=Xo()("collection-collapsed-info__number","qa-collection-collapsed-progress","pl-flex__item");vt.propTypes=rf,vt.defaultProps=af;var ff=Object(ns.c)()(vt),pf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hf={collectionItems:$o.a.array.isRequired,shouldShowTopBar:$o.a.bool.isRequired,showDivider:$o.a.bool.isRequired,stream:$o.a.object.isRequired,showSidebar:$o.a.func,title:$o.a.string.isRequired,win:$o.a.object.isRequired},mf={showSidebar:function(){}},yf=function(e){var t=e.collection,n=e.playerOptions,r=e.ui,i=e.stream,a=e.window,o=e.screenMode,s=e.screen;return{title:t.title,shouldShowTopBar:t.currentView===tl.a&&!r.isMini&&s[0]===lc.g,showDivider:n.showInfo||o.isTheatreMode,collectionItems:t.items,stream:i,win:a}},vf=function(e){return{showSidebar:function(){e(Object(Rc.p)())}}},gf=function(e){function t(){gt(this,t);var e=bt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showSidebar=e.showSidebar.bind(e),e.onMouseEnter=e.onMouseEnter.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e._hoverTimeout=0,e}return _t(t,e),pf(t,[{key:"onMouseEnter",value:function(){this._hoverTimeout=this.props.win.setTimeout(this.showSidebar,250)}},{key:"onMouseLeave",value:function(){this.props.win.clearTimeout(this._hoverTimeout),this._hoverTimeout=0}},{key:"showSidebar",value:function(){this.props.showSidebar()}},{key:"render",value:function(){var e=this.props,t=e.collectionItems,n=e.shouldShowTopBar,r=e.showDivider,i=e.stream,a=e.title;return n&&i.contentType===Ns.a?Qo.a.createElement(ff,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,collectionItems:t,showDivider:r,showSidebar:this.showSidebar,streamId:String(i.videoId).substr(1),title:a}):null}}]),t}(Qo.a.Component);gf.propTypes=hf,gf.defaultProps=mf;var bf=Object(cl.b)(yf,vf)(gf),_f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wf={t:$o.a.func,onHoverElement:$o.a.func,showUIWithAutoHide:$o.a.func,mutedSegmentsAvailable:$o.a.bool,uiShowing:$o.a.bool,isMini:$o.a.bool,isPaused:$o.a.bool,isShowingContentScreen:$o.a.bool},kf=function(e){var t=e.timelineMetadata,n=e.ui,r=e.screen,i=e.playback;return{mutedSegmentsAvailable:t.mutedSegments.length>0,uiShowing:n.showUI,isMini:n.isMini,isShowingContentScreen:r[0]===lc.g,isPaused:i.paused}},Ef=function(e){return{onHoverElement:function(){e(Object(xc.n)())},showUIWithAutoHide:function(){e(Object(xc.s)())}}},Sf=function(e){function t(){wt(this,t);var e=kt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasDismissedAlert:!1},e.handleCloseAlertClick=e.handleCloseAlertClick.bind(e),e}return Et(t,e),_f(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.isShowingContentScreen,r=e.isMini,i=e.onHoverElement,a=e.showUIWithAutoHide,o=e.mutedSegmentsAvailable,s=e.uiShowing,u=e.isPaused,c=this.state.hasDismissedAlert,l=Xo()({"player-alert":!0,"muted-alert-on-ui":s});return!o||!n||c||r||u?null:Qo.a.createElement("div",{onMouseEnter:i,onMouseLeave:a,className:l},Qo.a.createElement("p",null,t("Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.")),Qo.a.createElement("button",{type:"button",className:"player-button player-button--noscale player-button--close",onClick:this.handleCloseAlertClick},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_close"}))))}},{key:"handleCloseAlertClick",value:function(){this.setState({hasDismissedAlert:!0})}}]),t}(Qo.a.Component);Sf.propTypes=wf;var Pf=Object(ns.c)()(Object(cl.b)(kf,Ef)(Sf)),Cf=n(39),Of=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tf={onDoubleClick:$o.a.func.isRequired,width:$o.a.number.isRequired,height:$o.a.number.isRequired,extension:$o.a.shape({id:$o.a.string.isRequired,name:$o.a.string.isRequired,sku:$o.a.string.isRequired,anchor:$o.a.string.isRequired,vendorCode:$o.a.string.isRequired,version:$o.a.string.isRequired,viewerUrl:$o.a.string.isRequired,state:$o.a.string.isRequired,lastUserIdentityLinkState:$o.a.bool.isRequired,supportsIdentityLinking:$o.a.bool.isRequired,token:$o.a.shape({token:$o.a.string.isRequired,permissionsState:$o.a.string.isRequired})}).isRequired,game:$o.a.string.isRequired,isLoggedIn:$o.a.bool.isRequired,language:$o.a.string.isRequired,locale:$o.a.string.isRequired,loginId:$o.a.number.isRequired,onIdentityLinked:$o.a.func.isRequired,onModalRequested:$o.a.func.isRequired,trackingProperties:$o.a.shape({login:$o.a.string.isRequired,channel:$o.a.string.isRequired,channelId:$o.a.number.isRequired,deviceId:$o.a.string.isRequired,platform:$o.a.string.isRequired,playerType:$o.a.string.isRequired}),onBeginPurchase:$o.a.func},xf=function(e){function t(e){St(this,t);var n=Pt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._boundOnFrameDoubleClick=n._onFrameDoubleClick.bind(n),n._boundIframeHostRefHandler=n._iframeHostRefHandler.bind(n),n._boundOnIdentityLinked=n._onIdentityLinked.bind(n),n._boundOnModalRequested=n._onModalRequested.bind(n),n}return Ct(t,e),Of(t,[{key:"componentDidMount",value:function(){var e=this.props.isLoggedIn,t=e?this.props.loginId:0;this.extensionFrame=new zs.a.ExtensionFrame({dobbin:ao.Dobbin,extension:{id:this.props.extension.id,anchor:this.props.extension.anchor,clientId:this.props.extension.id,name:this.props.extension.name,sku:this.props.extension.sku,token:this.props.extension.token.token,version:this.props.extension.version,state:this.props.extension.state,vendorCode:this.props.extension.vendorCode,viewerUrl:this.props.extension.viewerUrl,requestIdentityLink:this.props.extension.supportsIdentityLinking},mode:"viewer",language:this.props.language,locale:this.props.locale,parentElement:this.parentElement,iframeClassName:"extension-overlay__iframe",loginId:t,channelId:this.props.trackingProperties.channelId,trackingProperties:{login:this.props.trackingProperties.login,channel:this.props.trackingProperties.channel,device_id:this.props.trackingProperties.deviceId,platform:this.props.trackingProperties.platform,player_type:this.props.trackingProperties.playerType},onBeginPurchase:this.props.onBeginPurchase}),this.parentElement.addEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.on("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.on("requestModal",this._boundOnModalRequested),zs.a.ExtensionService.postContext({game:this.props.game})}},{key:"componentWillUnmount",value:function(){this.parentElement.removeEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.off("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.destroy()}},{key:"componentDidUpdate",value:function(){var e=this.props.extension.token.permissionsState===Cf.g,t=this.props.extension.lastUserIdentityLinkState;t!==e&&(t?this.extensionFrame.linkIdentity():this.extensionFrame.unlinkIdentity())}},{key:"render",value:function(){var e={width:this.props.width+"px",height:this.props.height+"px"};return Qo.a.createElement("div",{className:"extension-overlay",ref:this._boundIframeHostRefHandler,style:e})}},{key:"_onIdentityLinked",value:function(e){var t=this.props,n=t.extension,r=t.onIdentityLinked;r&&r(n.id,e)}},{key:"_onFrameDoubleClick",value:function(e){e.preventDefault(),this.props.onDoubleClick()}},{key:"_onModalRequested",value:function(e){this.props.onModalRequested(e)}},{key:"_iframeHostRefHandler",value:function(e){this.parentElement=e}}]),t}(Qo.a.Component);xf.propTypes=Tf;var Rf,jf,Af,If,Lf=n(42),Nf=n(101),Mf=n(89),Df=n(273),qf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Uf=Xo()({"pl-menu__inner":!0,"extension-modal__inner":!0}),Bf=Xo()({"pl-menu__section":!0,"extension-modal__header":!0}),Ff=Xo()((Rf={},Rt(Rf,"qa-follow-modal-title-header",!0),Rt(Rf,"pl-menu__item",!0),Rt(Rf,"extension-modal__title",!0),Rf)),Vf=Xo()((jf={},Rt(jf,"qa-follow-modal-title-channel",!0),Rt(jf,"pl-menu__item--label",!0),Rt(jf,"extension-modal__title-channel",!0),jf)),Hf=Xo()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),zf=Xo()({"pl-menu__item--label":!0,"extension-modal__info-text":!0}),Wf=Xo()((Af={},Rt(Af,"qa-follow-modal-button-confirm",!0),Rt(Af,"pl-button",!0),Rt(Af,"extension-modal__button",!0),Af)),Kf=Xo()((If={},Rt(If,"qa-follow-modal-button-cancel",!0),Rt(If,"pl-button",!0),Rt(If,"pl-button--hollow",!0),Rt(If,"extension-modal__button",!0),If)),Gf=Xo()({"pl-close-button":!0,"extension-modal__close-button":!0}),Qf=$o.a.shape({channel:$o.a.string.isRequired,isFollowing:$o.a.bool.isRequired}),Yf={t:$o.a.func.isRequired,extension:Lf.b,options:Qf.isRequired,onClose:$o.a.func.isRequired},$f=function(e){function t(){Ot(this,t);var e=Tt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={notifications:!1},e.confirmFollow=e._confirmFollow.bind(e),e.cancelFollow=e._cancelFollow.bind(e),e.onNotificationToggle=e._onNotificationToggle.bind(e),e}return xt(t,e),qf(t,[{key:"render",value:function(){return Qo.a.createElement("div",{className:Uf},this._renderHeader(),Qo.a.createElement("div",{className:Hf},this._renderButtons()),this._renderNotificationToggle())}},{key:"_renderHeader",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing,r=void 0;r=t?n?"You are already following {{channelName}}":"You are about to follow {{channelName}}":"The channel you are attempting to follow does not exist";var i=void 0;if(t){var a=Qo.a.createElement("span",{className:Vf},t);i=Qo.a.createElement(ns.b,{i18nKey:r,channelName:a})}else i=Qo.a.createElement("div",{className:"extension-modal__title-info"},this.props.t(r));return Qo.a.createElement("div",{className:Bf},Qo.a.createElement("div",{className:"extension-modal__header-row"},Qo.a.createElement("div",{className:Ff},i),Qo.a.createElement(Od.a,{className:Gf,onClick:this.cancelFollow},Qo.a.createElement("svg",{className:"pl-close-button__svg"},Qo.a.createElement("use",{xlinkHref:"#pl-icon_close"})))))}},{key:"_renderButtons",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing;return!t||n?Qo.a.createElement(Od.a,{className:Kf,onClick:this.cancelFollow},this.props.t("Close")):[Qo.a.createElement(Od.a,{key:"confirm",className:Wf,onClick:this.confirmFollow},this.props.t("Follow")),Qo.a.createElement(Od.a,{key:"cancel",className:Kf,onClick:this.cancelFollow},this.props.t("Cancel"))]}},{key:"_renderNotificationToggle",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing,r=this.state.notifications;return!t||n?null:Qo.a.createElement("div",{className:Hf},Qo.a.createElement(Df.a,{className:"qa-notification-toggle",label:"Notifications",onToggle:this.onNotificationToggle,toggledOn:r}),Qo.a.createElement("div",{className:zf},this.props.t("Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.")))}},{key:"_confirmFollow",value:function(){this.props.onClose({didFollow:!0,notifications:this.state.notifications})}},{key:"_cancelFollow",value:function(){this.props.onClose({didFollow:!1,notifications:!1})}},{key:"_onNotificationToggle",value:function(){this.setState({notifications:!this.state.notifications})}}]),t}(Qo.a.Component);$f.propTypes=Yf;var Jf=Object(ns.c)()($f),Xf=Xo()({"pl-menu__inner":!0,"extension-modal__inner":!0}),Zf=Xo()({"pl-menu__section":!0,"extension-modal__header":!0}),ep=Xo()({"pl-menu__item":!0,"extension-modal__title":!0}),tp=Xo()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),np=Xo()({"pl-button":!0,"pl-button--hollow":!0,"extension-modal__button":!0}),rp=Xo()({"pl-close-button":!0,"extension-modal__close-button":!0}),ip={t:$o.a.func.isRequired,onClose:$o.a.func.isRequired},ap=function(e){return Qo.a.createElement("div",{className:Xf},Qo.a.createElement("div",{className:Zf},Qo.a.createElement("div",{className:"extension-modal__header-row"},Qo.a.createElement("div",{className:ep},Qo.a.createElement("div",{className:"extension-modal__title-info"},e.t("You must be logged in to use this extension feature"))),Qo.a.createElement(Od.a,{className:rp,onClick:e.onClose},Qo.a.createElement("svg",{className:"pl-close-button__svg"},Qo.a.createElement("use",{xlinkHref:"#pl-icon_close"}))))),Qo.a.createElement("div",{className:tp},Qo.a.createElement(Od.a,{className:np,onClick:e.onClose},e.t("Close"))))};ap.propTypes=ip;var op=Object(ns.c)()(ap),sp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),up=Xo()("extension-overlays","extension-modal__backdrop","qa-modal-backdrop"),cp=Xo()({"pl-menu":!0,"extension-modal__main":!0}),lp={"twitch-ext-follow-action":"follow modal","twitch-ext-login-request":"needs auth modal"},dp={playerHeight:$o.a.number.isRequired,extensions:$o.a.arrayOf(Lf.b).isRequired,modalRequest:$o.a.shape({action:$o.a.string.isRequired,options:$o.a.object,resultCallback:$o.a.func.isRequired,defaultResult:$o.a.object.isRequired}),onModalClose:$o.a.func.isRequired},fp=function(e){function t(){jt(this,t);var e=At(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onModalClose=e._onModalClose.bind(e),e.cancelModal=e._cancelModal.bind(e),e}return It(t,e),sp(t,[{key:"render",value:function(){if("no modal"===this.currentModal)return null;var e=this.props.playerHeight,t={maxHeight:e+"px"};return Qo.a.createElement("div",{role:"button",tabIndex:-1,className:up,onClick:this.cancelModal},Qo.a.createElement("div",{className:cp,style:t},this._renderCurrentModal()))}},{key:"_renderCurrentModal",value:function(){switch(this.currentModal){case"follow modal":return Qo.a.createElement(Jf,{extension:this.props.extensions[0],options:this.props.modalRequest.options,onClose:this.onModalClose});case"needs auth modal":return Qo.a.createElement(op,{onClose:this.cancelModal});case"no modal":default:return null}}},{key:"_onModalClose",value:function(e){var t=this.props.modalRequest.resultCallback;t&&t(e),this.props.onModalClose()}},{key:"_cancelModal",value:function(e){e&&e.target!==e.currentTarget||this.onModalClose(this.props.modalRequest.defaultResult)}},{key:"currentModal",get:function(){return this.props.modalRequest&&this.props.modalRequest.action?lp[this.props.modalRequest.action]:"no modal"}}]),t}(Qo.a.Component);fp.propTypes=dp;var pp=n(128),hp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mp={onExtensionDoubleClick:$o.a.func.isRequired,onIdentityLinked:$o.a.func.isRequired,onModalRequested:$o.a.func.isRequired,onModalClose:$o.a.func.isRequired,onPurchaseIntent:$o.a.func.isRequired,onIdShareRequested:$o.a.func.isRequired,shouldEnableExtensions:$o.a.bool.isRequired,shouldShowExtensions:$o.a.bool.isRequired,extensions:$o.a.arrayOf(Lf.b).isRequired,modalRequest:Lf.a,game:$o.a.string.isRequired,width:$o.a.number.isRequired,height:$o.a.number.isRequired,videoResolution:$o.a.string.isRequired,isLoggedIn:$o.a.bool.isRequired,login:$o.a.string.isRequired,loginId:$o.a.number.isRequired,channel:$o.a.string.isRequired,channelId:$o.a.number.isRequired,deviceId:$o.a.string.isRequired,platform:$o.a.string.isRequired,language:$o.a.string.isRequired,locale:$o.a.string.isRequired,playerType:$o.a.string.isRequired,trackEvent:$o.a.func.isRequired},yp=function(e){return{extensions:e.extensions.activeOverlayExtensions,modalRequest:e.extensions.modalRequest,game:e.streamMetadata.game,width:e.playerDimensions.width,height:e.playerDimensions.height,videoResolution:e.stats.videoStats.videoResolution,shouldEnableExtensions:e.env.platform!==yu.a&&!Cf.a.hasOwnProperty(e.env.playerType)&&e.stream.contentType===Ms.a&&e.streamMetadata.streamType!==Mf.b&&e.playback.contentShowing&&e.onlineStatus===kc.b,shouldShowExtensions:!e.ui.isMini&&e.ads.currentMetadata.contentType===uu.f.NONE&&!e.playback.paused,isLoggedIn:e.user.loggedInStatus===qd.a,login:e.user.name,loginId:e.user.id,channel:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,deviceId:e.env.deviceId,platform:e.env.platform,language:e.lang.shortCode,locale:e.lang.langCode,playerType:e.env.playerType,trackEvent:e.analyticsTracker.trackEvent}},vp=function(e){return{onExtensionDoubleClick:function(){e(Object(dc.i)())},onIdentityLinked:function(t,n){e(Object(Nf.s)(t,n))},onModalRequested:function(t){e(Object(Nf.q)(t))},onModalClose:function(){e(Object(Nf.m)())},onPurchaseIntent:function(t,n){var r={payload:t,makePurchase:n};e(Object(Nf.o)(r))},onIdShareRequested:function(){e(Object(xc.q)(Cf.e))}}},gp=function(e){function t(){Lt(this,t);var e=Nt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundTrackEvent=e._trackEvent.bind(e),e._boundOnModalRequested=e._onModalRequested.bind(e),e}return Mt(t,e),hp(t,[{key:"render",value:function(){var e=this.props,t=e.shouldEnableExtensions,n=e.shouldShowExtensions,r=e.extensions,i=e.game,a=e.videoResolution,o=this._getAspectRatio(a),s=this._computeDimensions(this.props.width,this.props.height,o),u=s.width,c=s.height,l=this._getTrackingProperties();if(!t||!r.length)return null;var d=r[0],f=Xo()({"extension-container":!0,hide:d.anchor===Cf.b,invisible:!n}),p=Qo.a.createElement(fp,{playerHeight:c,extensions:r,modalRequest:this.props.modalRequest,onModalClose:this.props.onModalClose});return Qo.a.createElement("div",{className:f},Qo.a.createElement("div",{className:"extension-overlays"},Qo.a.createElement(xf,{ref:this._boundExtensionOverlayRefHandler,width:u,height:c,key:d.id,extension:d,game:i,isLoggedIn:this.props.isLoggedIn,language:this.props.language,locale:this.props.locale,loginId:this.props.loginId,onIdentityLinked:this.props.onIdentityLinked,onModalRequested:this._boundOnModalRequested,trackingProperties:l,onDoubleClick:this.props.onExtensionDoubleClick,onBeginPurchase:this.props.onPurchaseIntent})),p)}},{key:"_trackEvent",value:function(e,t){var n=this.props.extensions[0];this.props.trackEvent(e,Io()(t,{extension_id:n.id,extension_version:n.version,extension_anchor:n.anchor,extension_mode:"viewer",locale:this.props.locale,login_id:this.props.loginId,player_type:this.props.playerType}))}},{key:"_getTrackingProperties",value:function(){return{login:this.props.login,channel:this.props.channel,channelId:this.props.channelId,deviceId:this.props.deviceId,platform:this.props.platform,playerType:this.props.playerType}}},{key:"_computeDimensions",value:function(e,t,n){var r=e/t>n;return{width:r?Math.ceil(t*n):e,height:r?t:Math.ceil(e/n)}}},{key:"_getAspectRatio",value:function(e){var t=/(\d+)\D*(\d+)/g,n=t.exec(e);if(!n)return 16/9;var r=parseInt(n[1],10),i=parseInt(n[2],10);return i?r/i:16/9}},{key:"_onModalRequested",value:function(e){if(e.action===pp.FunctionAction.IdShareRequest)return void this.props.onIdShareRequested();this.props.onModalRequested(e)}}]),t}(Qo.a.Component);gp.propTypes=mp;var bp=Object(cl.b)(yp,vp)(gp),_p={close:$o.a.func.isRequired};Dt.propTypes=_p;var wp=$o.a.shape({description:$o.a.string.isRequired,developerName:$o.a.string.isRequired,displayPrice:$o.a.string.isRequired,extensionName:$o.a.string.isRequired,shortDescription:$o.a.string.isRequired,sku:$o.a.string.isRequired,title:$o.a.string.isRequired}),kp={cancel:$o.a.func.isRequired,confirm:$o.a.func.isRequired,productPayload:wp,isLinked:$o.a.bool.isRequired,isLoggedIn:$o.a.bool.isRequired,t:$o.a.func.isRequired};qt.propTypes=kp;var Ep=Object(ns.c)()(qt),Sp={clearPurchaseIntent:$o.a.func.isRequired,isLinked:$o.a.bool.isRequired,isLoggedIn:$o.a.bool.isRequired,purchaseIntent:$o.a.shape({payload:wp,makePurchase:$o.a.func.isRequired})},Pp=function(e){var t=e.extensions,n=e.user,r=t.activeOverlayExtensions,i=t.purchaseIntent,a=null;if(i){var o=i.payload.extensionName;a=r.find(function(e){return e.name===o})}return{isLoggedIn:n.loggedInStatus===qd.a,isLinked:!(!a||!a.lastUserIdentityLinkState),purchaseIntent:i}},Cp=function(e){return{clearPurchaseIntent:function(){e(Object(Nf.o)(null))}}};Ut.propTypes=Sp;var Op=Object(cl.b)(Pp,Cp)(Ut),Tp=n(141),xp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rp={analytics:$o.a.object,channel:$o.a.shape({id:$o.a.number,name:$o.a.string}).isRequired,disableNotifications:$o.a.func,enableNotifications:$o.a.func,playerType:$o.a.string.isRequired,promptLoginModal:$o.a.func,showFollowNotification:$o.a.bool.isRequired,relationship:$o.a.shape({following:$o.a.bool,notificationsEnabled:$o.a.bool}).isRequired,user:$o.a.shape({id:$o.a.number,loggedIn:$o.a.bool}).isRequired,win:$o.a.object.isRequired,withInfo:$o.a.bool.isRequired},jp={analytics:{trackEvent:function(){}},enableNotifications:function(){},disableNotifications:function(){},promptLoginModal:function(){}},Ap=function(e){var t=e.analyticsTracker,n=e.env,r=e.follow,i=e.playback,a=e.playerOptions,o=e.streamMetadata,s=e.user,u=e.screen,c=e.window,l=e.ui;return{analytics:t,channel:{id:o.channel.id,avatarUrl:o.channel.logo,name:o.channel.displayName},playerType:n.playerType,showFollowNotification:r.showFollowNotification&&!l.isMini&&(i.ended||o.streamType===Mf.a)&&(u[0]===lc.m||u[0]===lc.g),relationship:{notificationsEnabled:r.notificationsEnabled,following:r.following},win:c,withInfo:a.showInfo,user:{id:s.id,loggedIn:s.loggedInStatus===qd.a}}},Ip=function(e){return{enableNotifications:function(t,n){e(et(t,n))},disableNotifications:function(t,n){e(tt(t,n))},promptLoginModal:function(t){e(at(t))}}},Lp={notificationsEnabled:$o.a.bool.isRequired,enable:$o.a.func.isRequired,disable:$o.a.func.isRequired,t:$o.a.func.isRequired,className:$o.a.string};Wt.propTypes=Lp;var Np=Object(ns.c)()(Wt),Mp={channelName:$o.a.string.isRequired,enable:$o.a.func,disable:$o.a.func,notificationsEnabled:$o.a.bool.isRequired,t:$o.a.func,withInfo:$o.a.bool.isRequired},Dp={t:function(){},enable:function(){},disable:function(){}};Kt.propTypes=Mp,Kt.defaultProps=Dp;var qp=Object(ns.c)()(Kt),Up=zt(qp),Bp={channelName:$o.a.string.isRequired,enable:$o.a.func.isRequired,disable:$o.a.func.isRequired,notificationsEnabled:$o.a.bool.isRequired,t:$o.a.func},Fp={t:function(){}},Vp=Xo()("pl-pinned-panel","pl-pinned-panel--embed"),Hp=Xo()("pl-button--hollow","pl-mg-t-2");Gt.propTypes=Bp,Gt.defaultProps=Fp;var zp=Object(ns.c)()(Gt),Wp=zt(zp),Kp={playerType:$o.a.string.isRequired,streamType:$o.a.string.isRequired},Gp=function(e){var t=e.env,n=e.streamMetadata;return{playerType:t.playerType,streamType:n.streamType}};Qt.propTypes=Kp;var Qp=Object(cl.b)(Gp)(Qt),Yp={channelName:$o.a.string.isRequired,enable:$o.a.func.isRequired,disable:$o.a.func.isRequired,notificationsEnabled:$o.a.bool.isRequired,t:$o.a.func},$p={t:function(){}},Jp=Xo()("pl-button--hollow","pl-mg-t-2");Yt.propTypes=Yp,Yt.defaultProps=$p;var Xp=Object(ns.c)()(Yt),Zp=zt(Xp),eh={t:$o.a.func.isRequired,streamType:$o.a.string.isRequired,hideFollowPanel:$o.a.bool.isRequired},th=function(e){var t=e.env,n=e.streamMetadata,r=e.user;return{streamType:n.streamType,hideFollowPanel:n.channel.id===r.id||t.playerType===Ro.l}},nh=Xo()("pl-pinned-panel","pl-pinned-panel--embed");$t.propTypes=eh;var rh=Object(ns.c)()(Object(cl.b)(th)($t)),ih={children:$o.a.node.isRequired,showTopBar:$o.a.bool.isRequired},ah=function(e){var t=e.env,n=e.ui;return{showTopBar:t.playerType!==Ro.d&&!n.isMini}};Jt.propTypes=ih;var oh=Object(cl.b)(ah)(Jt),sh=n(143),uh=n.n(sh),ch=n(278),lh=n.n(ch),dh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fh={index:$o.a.number.isRequired,onSelect:$o.a.func.isRequired,selectItem:$o.a.any.isRequired,isActive:$o.a.bool,thumbnailURL:$o.a.string.isRequired,title:$o.a.string.isRequired,subTitle:$o.a.string},ph={isActive:!1,subTitle:""},hh=Xo()("collection-sidebar-item__number","pl-flex__item","qa-collection-item-number"),mh=Xo()("collection-sidebar-item__thumbnail","pl-flex__item","qa-collection-item-thumbnail"),yh=Xo()("collection-sidebar-item-detail","pl-flex__item"),vh=Xo()("collection-sidebar-item-detail__title","qa-collection-item-title"),gh=function(e){function t(){Xt(this,t);var e=Zt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return en(t,e),dh(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.thumbnailURL,r=e.title,i=e.subTitle,a=e.index,o=Xo()({"collection-sidebar-item":!0,"collection-sidebar-item--active":t,"pl-flex":!0,"pl-flex--verticalCenter":!0,"pl-flex--nowrap":!0});return Qo.a.createElement("div",{className:o,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},Qo.a.createElement("div",{className:hh},a+1),Qo.a.createElement("img",{className:mh,alt:"Thumbnail of one of the videos in the collection.",src:n}),Qo.a.createElement("div",{className:yh},Qo.a.createElement("div",{className:vh},r),Qo.a.createElement("div",{className:"collection-sidebar-item-detail__meta"},Qo.a.createElement("span",{className:"qa-collection-item-channel"},i))))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}}]),t}(Qo.a.Component);gh.propTypes=fh,gh.defaultProps=ph;var bh=n(254),_h={title:$o.a.string.isRequired,ownerURL:$o.a.string.isRequired,ownerName:$o.a.string.isRequired,itemsLength:$o.a.number.isRequired,totalDuration:$o.a.number.isRequired,onClose:$o.a.func.isRequired,t:$o.a.func.isRequired},wh=Xo()("collection-sidebar-header__title","ellipsis","qa-collection-header-title"),kh=function(e){var t=e.title,n=e.ownerURL,r=e.ownerName,i=e.itemsLength,a=e.totalDuration,o=e.onClose,s=e.t,u=Qo.a.createElement(Od.a,{className:"player-button",onClick:o},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_close_md"}))),c=Qo.a.createElement("a",{className:"qa-collection-sidebar-author",href:n},r),l=null,d=Object(bh.b)(1e3*a),f=d.minutes,p=d.hours,h=s("{{count}} minute",{count:f}),m=s("{{count}} hour",{count:p});return l=0===p?h:0===f?m:s("{{hoursText}} and {{minutesText}}",{hoursText:m,minutesText:h}),Qo.a.createElement("div",{className:"collection-sidebar-header"},Qo.a.createElement("div",{className:"collection-sidebar-header__layout"},Qo.a.createElement("div",{className:wh},t),Qo.a.createElement("div",{className:"collection-sidebar-header-meta"},Qo.a.createElement("span",null,Qo.a.createElement(ns.b,{i18nKey:"By {{author}}",author:c})),Qo.a.createElement("span",{className:"middot-divider"}),Qo.a.createElement("span",null,s("{{count}} video",{count:i})),Qo.a.createElement("span",{className:"middot-divider"}),Qo.a.createElement("span",null,l))),u)};kh.propTypes=_h;var Eh=Object(ns.c)()(kh),Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ph=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ch=Object.freeze({showDuration:0,hideDuration:0,showClass:"",hideClass:""}),Oh=100,Th={currentItemIndex:$o.a.number,collection:$o.a.object.isRequired,onSelectItem:$o.a.func,onClose:$o.a.func.isRequired,className:$o.a.string,onMouseEnter:$o.a.func,onMouseLeave:$o.a.func},xh={className:"",currentItemIndex:-1,onSelectItem:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},Rh=function(e){var t=e.currentItemIndex,n=e.collection,r=e.onSelectItem,i=e.onClose,a=e.className,o=e.onMouseEnter,s=e.onMouseLeave,u=Xo()(un({"collection-sidebar":!0},a,!0)),c=n.items.map(function(e,n){var i=n===t;return Qo.a.createElement(gh,{key:i+"_"+e.itemId+"_"+e.title,onSelect:r,selectItem:e.itemId,isActive:i,thumbnailURL:e.thumbnails.small,title:e.title,subTitle:e.owner.displayName,index:n})});return Qo.a.createElement("div",{className:u,onMouseEnter:o,onMouseLeave:s},Qo.a.createElement(Eh,{title:n.title,ownerURL:"https://twitch.tv/"+n.owner.name,ownerName:n.owner.displayName,itemsLength:n.items.length,totalDuration:n.totalDuration,onClose:i}),Qo.a.createElement("div",{className:"collection-sidebar-item-container"},c))};Rh.propTypes=Th,Rh.defaultProps=xh;var jh=sn(Rh,{showDuration:350,hideDuration:350,showClass:"collection-sidebar--open",hideClass:"collection-sidebar--close"}),Ah=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ih={collection:$o.a.object.isRequired,showSidebar:$o.a.bool.isRequired,currentVideoId:$o.a.string.isRequired,onCloseSidebar:$o.a.func.isRequired,onSelectCollectionItem:$o.a.func.isRequired,windowObj:$o.a.object.isRequired,shouldRender:$o.a.bool.isRequired},Lh=function(e){var t=e.collection,n=e.stream,r=e.window,i=e.ui,a=e.screen;return{collection:t,showSidebar:t.currentView===tl.b,currentVideoId:n.contentType===Ns.a?n.videoId:"",windowObj:r,shouldRender:!i.isMini&&a[0]!==lc.j&&a[0]!==lc.c&&""!==t.id&&n.contentType===Ns.a}},Nh=function(e){return{onCloseSidebar:function(){e(Object(Rc.l)())},onSelectCollectionItem:function(t,n){e(Object(sc.C)("v"+t,n))}}},Mh=function(e){function t(){cn(this,t);var e=ln(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectItem=e.handleSelectItem.bind(e),e.beginClosingSidebar=e.beginClosingSidebar.bind(e),e.stopClosingSidebar=e.stopClosingSidebar.bind(e),e.closeSidebarTimeout=null,e}return dn(t,e),Ah(t,[{key:"render",value:function(){var e=this.props,t=e.collection,n=e.currentVideoId,r=e.showSidebar,i=e.onCloseSidebar;if(!e.shouldRender)return null;this._preloadThumbnails();var a=el()(t.items,function(e){return"v"+e.itemId===n}),o=Qo.a.createElement(jh,{currentItemIndex:a,collection:t,onSelectItem:this.handleSelectItem,onClose:i,key:t.id+"_"+a,onMouseLeave:this.beginClosingSidebar,onMouseEnter:this.stopClosingSidebar}),s=r?o:null;return Qo.a.createElement(lh.a,{component:"div"},s)}},{key:"_preloadThumbnails",value:function(){this.props.collection.items.forEach(function(e){(new Image).src=e.thumbnails.small})}},{key:"handleSelectItem",value:function(e){this.props.onSelectCollectionItem(e,this.props.collection.id)}},{key:"beginClosingSidebar",value:function(){var e=this.props,t=e.windowObj,n=e.onCloseSidebar;this.closeSidebarTimeout=t.setTimeout(function(){return n()},400)}},{key:"stopClosingSidebar",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}},{key:"handleClickOutside",value:function(){this.props.showSidebar&&this.props.onCloseSidebar()}},{key:"componentWillUnmount",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}}]),t}(Qo.a.Component);Mh.propTypes=Ih;var Dh=Object(cl.b)(Lh,Nh)(uh()(Mh)),qh={t:$o.a.func.isRequired},Uh=Xo()("player-overlay","player-overlay--wall","player-overlay--empty-collection");fn.propTypes=qh;var Bh=Object(ns.c)()(fn),Fh={shouldShow:$o.a.bool.isRequired},Vh=function(e){var t=e.screen,n=e.ui;return{shouldShow:t[0]===lc.f&&!n.isMini}},Hh=function(e){return e.shouldShow?Qo.a.createElement(Bh,null):null};Hh.propTypes=Fh;var zh=Object(cl.b)(Vh)(Hh),Wh={errorMessage:$o.a.string.isRequired,errorCode:$o.a.number.isRequired,t:$o.a.func.isRequired};pn.propTypes=Wh;var Kh=Object(ns.c)()(pn),Gh={errorCode:$o.a.number.isRequired,errorMessage:$o.a.string.isRequired,hasError:$o.a.bool.isRequired,isVODRestricted:$o.a.bool.isRequired},Qh=function(e){var t=e.error,n=e.screen;return{errorCode:t.code,errorMessage:t.hasError?Ys.a.getMessage(t.code):"",hasError:t.hasError,isVODRestricted:n[0]===lc.n}};hn.propTypes=Gh;var Yh=Object(cl.b)(Qh)(hn),$h={percentage:$o.a.number.isRequired},Jh=function(e){var t=e.percentage;return!Ac()(t)||t<0||t>100?null:Qo.a.createElement("div",{className:"pl-card__progress-bar"},Qo.a.createElement("div",{className:"pl-card__progress-bar--fill",style:{width:t+"%"}}))};Jh.propTypes=$h;var Xh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zh={thumbnailURL:$o.a.string.isRequired,bread:$o.a.string,title:$o.a.string,info:$o.a.oneOfType([$o.a.element,$o.a.string]),progressBarPercentage:$o.a.number,onSelect:$o.a.func,selectItem:$o.a.any,className:$o.a.string,hasThumbZoom:$o.a.bool,hasBorder:$o.a.bool},em={thumbnailURL:"",hasThumbZoom:!1,hasBorder:!1},tm=function(e){function t(){yn(this,t);var e=vn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return gn(t,e),Xh(t,[{key:"render",value:function(){var e=this.props,t=e.thumbnailURL,n=e.title,r=e.bread,i=e.info,a=e.className,o=e.progressBarPercentage,s=e.hasThumbZoom,u=e.hasBorder,c=Xo()(mn({"pl-card":!0,"pl-card--withprogress":this._isPercentage(o),"pl-card--withborder":u,"pl-card--thumbzoom":s},a,!0)),l=this._isPercentage(o)?Qo.a.createElement(Jh,{percentage:o}):null;return Qo.a.createElement("div",{className:c,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},Qo.a.createElement("a",{className:"pl-card__layout",href:"##"},Qo.a.createElement("figure",{className:"pl-card__img"},Qo.a.createElement("img",{alt:"Video Thumbnail",src:t})),Qo.a.createElement("div",{className:"pl-card__overlay"},Qo.a.createElement("div",{className:"pl-card__body"},Qo.a.createElement("h4",{className:"pl-card__bread ellipsis"},r),Qo.a.createElement("h3",{className:"pl-card__title ellipsis"},n),Qo.a.createElement("div",{className:"pl-card__info ellipsis"},i)),l)))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}},{key:"_isPercentage",value:function(e){return!(void 0===e||!Ac()(e)||e<0||e>100)}}]),t}(Qo.a.Component);tm.defaultProps=em,tm.propTypes=Zh;var nm={onClick:$o.a.func.isRequired,className:$o.a.string},rm=function(e){var t=e.onClick,n=e.className,r=Xo()("pl-close-button",n);return Qo.a.createElement(Od.a,{className:r,onClick:t},Qo.a.createElement("figure",null,Qo.a.createElement("svg",{className:"pl-close-button__svg"},Qo.a.createElement("use",{xlinkHref:"#pl-icon_close"}))))};rm.propTypes=nm;var im={featuredCollection:$o.a.shape({id:$o.a.string,title:$o.a.string,itemsCount:$o.a.number,owner:$o.a.shape({displayName:$o.a.string,id:$o.a.string,name:$o.a.string})}).isRequired,thumbnailURL:$o.a.string.isRequired,onSelect:$o.a.func},am={onSelect:function(){}};bn.propTypes=im,bn.defaultProps=am;var om=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sm={featuredCollection:$o.a.shape({id:$o.a.string,title:$o.a.string,itemsCount:$o.a.number,thumbnails:$o.a.shape({large:$o.a.string,medium:$o.a.string,small:$o.a.string,template:$o.a.string}).isRequired,owner:$o.a.shape({displayName:$o.a.string,id:$o.a.string,name:$o.a.string})}).isRequired,requestCollection:$o.a.func,showFeaturedCollection:$o.a.bool.isRequired,trackEvent:$o.a.func},um={requestCollection:function(){},trackEvent:function(){}},cm=function(e){var t=e.analyticsTracker,n=e.collection;return{trackEvent:t.trackEvent,featuredCollection:n.featuredCollection,showFeaturedCollection:!(""===n.featuredCollection.id)}},lm=function(e){return{requestCollection:function(t){e(Object(Rc.q)(t))}}},dm=function(e){function t(){_n(this,t);var e=wn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return kn(t,e),om(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.featuredCollection;e.showFeaturedCollection&&!this.props.showFeaturedCollection&&(this._preloadThumbnail(),this.props.trackEvent("player_rec_show_collection",{recommended_collection_id:t.id}))}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent;(0,t.requestCollection)(e.id),n("player_rec_select",{recommended_vod_view:"collection",recommended_collection_id:e.id})}},{key:"_preloadThumbnail",value:function(){var e=this.props.featuredCollection;(new Image).src=e.thumbnails.medium}},{key:"render",value:function(){var e=this.props,t=e.showFeaturedCollection,n=e.featuredCollection;return t?Qo.a.createElement(bn,{thumbnailURL:n.thumbnails.medium,featuredCollection:n,onSelect:this.handleSelect}):null}}]),t}(Qo.a.Component);dm.propTypes=sm,dm.defaultProps=um;var fm=Object(cl.b)(cm,lm)(dm),pm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hm={video:$o.a.shape({thumbnailURL:$o.a.string.isRequired,title:$o.a.string.isRequired,channelName:$o.a.string.isRequired,creationDate:$o.a.string.isRequired,duration:$o.a.number.isRequired,id:$o.a.string.isRequired,recommendationType:$o.a.string.isRequired}).isRequired,onClose:$o.a.func,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired,trackEvent:$o.a.func.isRequired},mm={onClose:function(){}},ym=Xo()("pl-pinned-item__title","pl-flex"),vm=Xo()("pl-flex__item","pl-flex__item--grow"),gm=function(e){function t(){En(this,t);var e=Sn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return Pn(t,e),pm(t,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.t,r=e.onClose,i=Qo.a.createElement("div",{className:ym},Qo.a.createElement("span",{className:vm},n("Watch Now")),Qo.a.createElement(rm,{onClick:r})),a=Qo.a.createElement("span",null,Qo.a.createElement("figure",{className:"pl-card__smallicon"},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#pl-icon_vod"}))),Qo.a.createElement("span",null,n("Most Recent Video")));return Qo.a.createElement("div",{className:"pl-pinned-item"},i,Qo.a.createElement(tm,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:a,onSelect:this.handleSelect,selectItem:t,hasThumbZoom:!0,hasBorder:!0}),Qo.a.createElement(fm,null))}},{key:"componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),r(e)}}]),t}(Qo.a.Component);gm.defaultProps=mm,gm.propTypes=hm;var bm=Object(ns.c)()(gm),_m="set VOD recommendations",wm="clear VOD recommendations",km="set number of VOD recommendations visible",Em="set fetching recommendations status",Sm="unfetched",Pm="fetching",Cm="fetched",Om=32,Tm=300,xm=.1,Rm=5e3,jm="similar",Am="channel",Im="post vod recommendations",Lm=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Nm={date:$o.a.object.isRequired,length:$o.a.number.isRequired,languageCode:$o.a.string.isRequired},Mm={year:"numeric",month:"short",day:"numeric"},Dm=function(e){var t=e.length,n=e.date,r=e.languageCode,i=n.toLocaleDateString(r,Mm),a=Object(Hs.b)(t,!1),o=Lm(a,3),s=o[0],u=o[1],c=o[2],l=s+":"+u+":"+c;return Qo.a.createElement("div",null,Qo.a.createElement("span",null,i),"",Qo.a.createElement("span",null,l))};Dm.propTypes=Nm;var qm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Um=[{minPlayerWidth:2381,columns:8},{minPlayerWidth:2084,columns:7},{minPlayerWidth:1786,columns:6},{minPlayerWidth:1489,columns:5},{minPlayerWidth:1191,columns:4},{minPlayerWidth:893,columns:3},{minPlayerWidth:596,columns:2},{minPlayerWidth:0,columns:1}],Bm=[{minPlayerHeight:950,rows:4},{minPlayerHeight:700,rows:3},{minPlayerHeight:520,rows:2},{minPlayerHeight:0,rows:1}],Fm={height:$o.a.number.isRequired,width:$o.a.number.isRequired,videos:$o.a.arrayOf($o.a.shape({thumbnailURL:$o.a.string.isRequired,title:$o.a.string.isRequired,channelName:$o.a.string.isRequired,creationDate:$o.a.string.isRequired,duration:$o.a.number.isRequired,id:$o.a.string.isRequired,recommendationType:$o.a.string.isRequired}).isRequired).isRequired,onSelect:$o.a.func.isRequired,trackEvent:$o.a.func.isRequired,onClose:$o.a.func.isRequired,t:$o.a.func.isRequired,i18n:$o.a.shape({langCode:$o.a.string.isRequired}),windowObj:$o.a.object.isRequired},Vm=Xo()("pl-rec","pl-flex","pl-flex--stretch","pl-flex--horizontalCenter"),Hm=Xo()("pl-rec__title","pl-flex__item"),zm=Xo()("pl-rec__container","pl-flex","pl-flex__item","pl-flex--verticalCenter","pl-flex--horizontalCenter"),Wm=function(e){function t(){In(this,t);var e=Ln(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return Nn(t,e),qm(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.height,n=e.width,r=e.videos;(0,e.trackEvent)("player_rec_show_others",{recommended_vod_ids:r.slice(0,this._getNumOfCardsVisible(t,n)).map(function(e){return e.id}).join(","),recommended_vod_types:r[0].recommendationType})}},{key:"render",value:function(){var e=this,t=this.props,n=t.videos,r=t.width,i=t.height,a=t.onClose,o=t.t,s=t.i18n,u=t.windowObj,c=this._getNumOfCardsVisible(i,r),l=n.map(function(t,n){var r=Xo()({"pl-mg-x-05":!0,"pl-rec__item":!0,hidden:n>=c});if(t.recommendationType===Am)return Qo.a.createElement(tm,{key:t.id+"_"+(n>=c),className:r,thumbnailURL:t.thumbnailURL,title:t.title,info:t.game,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0});var i=Qo.a.createElement(Dm,{length:t.duration,date:new u.Date(t.creationDate),languageCode:s.langCode});return Qo.a.createElement(tm,{key:t.id+"_"+(n>=c),className:r,thumbnailURL:t.thumbnailURL,bread:t.channelName,title:t.title,info:i,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0})}),d=null;if(n[0].recommendationType===Am){d=o("More from {{channelName}}",{channelName:n[0].channelName})}else d=o("Watch Now");return Qo.a.createElement("div",{className:Vm},Qo.a.createElement(rm,{onClick:a}),Qo.a.createElement("h2",{className:Hm},d),Qo.a.createElement("div",{className:zm},l))}},{key:"_getNumOfCardsVisible",value:function(e,t){return mo()(Um,function(e){return t>=e.minPlayerWidth}).columns*mo()(Bm,function(t){return e>=t.minPlayerHeight}).rows}},{key:"handleSelect",value:function(e){this.props.trackEvent("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"other"}),this.props.onSelect(e)}}]),t}(Qo.a.Component);Wm.propTypes=Fm;var Km=Object(ns.c)()(Wm),Gm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qm={videos:$o.a.array.isRequired,i18n:$o.a.object.isRequired,onSelectVOD:$o.a.func.isRequired,playerHeight:$o.a.number.isRequired,playerWidth:$o.a.number.isRequired,onExit:$o.a.func.isRequired,trackEvent:$o.a.func.isRequired,windowObj:$o.a.object.isRequired,streamWasOnline:$o.a.bool.isRequired},Ym=function(e){function t(){Mn(this,t);var e=Dn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showFeatured:!0},e.handleCloseFeaturedPane=e.handleCloseFeaturedPane.bind(e),e}return qn(t,e),Gm(t,[{key:"componentWillMount",value:function(){var e=this.props;(0,e.trackEvent)("player_rec_show",{type:e.streamWasOnline?"postLive":"offline"})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.i18n,r=e.windowObj,i=e.playerHeight,a=e.playerWidth,o=e.onSelectVOD,s=e.onExit,u=e.trackEvent,c=this.state.showFeatured,l=Qo.a.createElement(Km,{height:i,width:a,videos:t,onSelect:o,onClose:s,trackEvent:u,windowObj:r,i18n:n}),d=Qo.a.createElement(bm,{onClose:this.handleCloseFeaturedPane,onSelect:o,i18n:n,width:a,video:t[0],trackEvent:u}),f=c?d:l,p=Xo()({"player-overlay":!0,"recommendations-overlay":!0,"pl-rec-wrapper":!this.state.showFeatured,"pl-single-rec-wrapper":this.state.showFeatured});return Qo.a.createElement("div",{className:p},f)}},{key:"handleCloseFeaturedPane",value:function(){this.setState({showFeatured:!1})}}]),t}(Qo.a.Component);Ym.propTypes=Qm;var $m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Jm={recommendedVideos:$o.a.array.isRequired,recommendationType:$o.a.string.isRequired,windowObj:$o.a.object.isRequired,showRecommendations:$o.a.bool.isRequired,selectRecommendedVideo:$o.a.func.isRequired,popScreen:$o.a.func.isRequired,clearRecommendedVODs:$o.a.func.isRequired,i18n:$o.a.object.isRequired,playerDimensions:$o.a.shape({height:$o.a.number,width:$o.a.number}).isRequired,trackEvent:$o.a.func.isRequired,streamHasPlayed:$o.a.bool.isRequired},Xm=function(e){var t=e.lang,n=e.screen,r=e.recommendations,i=e.window,a=e.playerDimensions,o=e.analyticsTracker,s=e.playback;return{recommendedVideos:r.videos,recommendationType:r.type,windowObj:i,showRecommendations:n[0]===lc.m&&s.ended,i18n:t,playerDimensions:a,trackEvent:o.trackEvent,streamHasPlayed:s.hasPlayed}},Zm=function(e){return{selectRecommendedVideo:function(t){e(Object(sc.D)(t))},popScreen:function(){e(Object(lc.o)())},clearRecommendedVODs:function(){e(An())}}},ey=function(e){function t(){Un(this,t);var e=Bn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e}return Fn(t,e),$m(t,[{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.windowObj,r=e.showRecommendations,i=e.i18n,a=e.playerDimensions,o=e.recommendationType,s=e.trackEvent,u=e.streamHasPlayed;if(t.length>0&&this._preloadVideoThumbnails(),!r||0===t.length)return null;switch(o){case"offline recommendations":return Qo.a.createElement(Ym,{videos:t,i18n:i,onSelectVOD:this.handleSelectVOD,windowObj:n,playerHeight:a.height,playerWidth:a.width,onExit:this.handleExitRecommendations,trackEvent:s,streamWasOnline:u});default:return null}}},{key:"_preloadVideoThumbnails",value:function(){this.props.recommendedVideos.forEach(function(e){(new Image).src=e.thumbnailURL})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen(),this.props.clearRecommendedVODs()}}]),t}(Qo.a.Component);ey.propTypes=Jm;var ty=Object(cl.b)(Xm,Zm)(ey),ny=n(262),ry=n.n(ny),iy=n(104),ay=n(88),oy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sy={video:$o.a.shape({thumbnailURL:$o.a.string.isRequired,title:$o.a.string.isRequired,channelName:$o.a.string.isRequired,creationDate:$o.a.string.isRequired,duration:$o.a.number.isRequired,id:$o.a.string.isRequired,recommendationType:$o.a.string.isRequired}).isRequired,onClose:$o.a.func,windowObj:$o.a.object.isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired,trackEvent:$o.a.func.isRequired},uy={onClose:function(){}},cy=2e4,ly=Xo()("pl-pinned-item","pl-pinned-item--centered"),dy=Xo()("pl-pinned-item__title","pl-flex"),fy=Xo()("pl-flex__item","pl-flex__item--grow"),py=Xo()("pl-rec__cancel","pl-button","pl-button--hollow","pl-button--white"),hy=function(e){function t(){Vn(this,t);var e=Hn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={timeRemaining:cy},e._updateTimeRemainingIntervalID=null,e.handleExitButtonClick=e.handleExitButtonClick.bind(e),e.handleSelect=e.handleSelect.bind(e),e}return zn(t,e),oy(t,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.t,r=this.state.timeRemaining,i=n("{{timeRemaining}} second",{timeRemaining:Math.round(r/1e3),count:r}),a=Qo.a.createElement("div",{className:dy},Qo.a.createElement("span",{className:fy},n("Playing in"),Qo.a.createElement("span",{className:"pl-pinned-item__title-highlight"}," ",i)),Qo.a.createElement(Od.a,{className:py,onClick:this.handleExitButtonClick},n("Cancel"))),o=Qo.a.createElement("span",null,Qo.a.createElement("figure",{className:"pl-card__smallicon"},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#pl-icon_vod"}))),Qo.a.createElement("span",null,n("Most Recent Video")));return Qo.a.createElement("div",{className:ly},a,Qo.a.createElement(tm,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:o,onSelect:this.handleSelect,selectItem:t,progressBarPercentage:Object(ay.a)(r,cy),hasThumbZoom:!0,hasBorder:!0}))}},{key:"componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"componentDidMount",value:function(){this.startAutoplayCountdown()}},{key:"componentWillUnmount",value:function(){this.stopAutoplayCountdown()}},{key:"startAutoplayCountdown",value:function(){var e=this,t=this.props,n=t.windowObj,r=t.onSelect,i=t.video,a=n.Date.now();this._updateTimeRemainingIntervalID=n.setInterval(function(){var t=n.Date.now(),o=t-a;o<cy?e.setState({timeRemaining:cy-o}):(e.stopAutoplayCountdown(),e.props.trackEvent("player_rec_autoplay",{recommended_vod_id:e.props.video.id,recommended_vod_type:e.props.video.recommendationType}),r(i))},100)}},{key:"stopAutoplayCountdown",value:function(){this.props.windowObj.clearInterval(this._updateTimeRemainingIntervalID),this._updateTimeRemainingIntervalID=null}},{key:"handleExitButtonClick",value:function(){this.stopAutoplayCountdown(),this.props.onClose()}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),this.stopAutoplayCountdown(),r(e)}}]),t}(Qo.a.Component);hy.defaultProps=uy,hy.propTypes=sy;var my=Object(ns.c)()(hy),yy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vy=Xo()("player-overlay","recommendations-overlay","pl-rec-wrapper"),gy={videos:$o.a.array.isRequired,i18n:$o.a.object.isRequired,onSelectVOD:$o.a.func.isRequired,playerHeight:$o.a.number.isRequired,playerWidth:$o.a.number.isRequired,onExit:$o.a.func.isRequired,trackEvent:$o.a.func.isRequired,windowObj:$o.a.object.isRequired,isMiniPlayer:$o.a.bool.isRequired},by=function(e){function t(e){Wn(this,t);var n=Kn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={showAutoplayingVOD:!e.isMiniPlayer},n.handleCancelAutoplayVOD=n.handleCancelAutoplayVOD.bind(n),n}return Gn(t,e),yy(t,[{key:"componentWillMount",value:function(){this.props.trackEvent("player_rec_show",{type:"postVOD"})}},{key:"componentWillReceiveProps",value:function(e){this.state.showAutoplayingVOD&&e.isMiniPlayer&&this.setState({showAutoplayingVOD:!1})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.i18n,r=e.windowObj,i=e.playerHeight,a=e.playerWidth,o=e.onSelectVOD,s=e.onExit,u=e.trackEvent,c=e.isMiniPlayer,l=this.state.showAutoplayingVOD;if(c)return null;var d=Qo.a.createElement(Km,{height:i,width:a,videos:t,onSelect:o,onClose:s,trackEvent:u,windowObj:r,i18n:n}),f=Qo.a.createElement(my,{onClose:this.handleCancelAutoplayVOD,onSelect:o,i18n:n,width:a,video:t[0],trackEvent:u,windowObj:r}),p=l?f:d;return Qo.a.createElement("div",{className:vy},p)}},{key:"handleCancelAutoplayVOD",value:function(){this.setState({showAutoplayingVOD:!1})}}]),t}(Qo.a.Component);by.propTypes=gy;var _y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wy=[Ro.j,Ro.n,Ro.m,Ro.h,Ro.o],ky={hasVideoEnded:$o.a.bool.isRequired,recommendedVideos:$o.a.array.isRequired,windowObj:$o.a.object.isRequired,selectRecommendedVideo:$o.a.func.isRequired,popScreen:$o.a.func.isRequired,clearRecommendedVODs:$o.a.func.isRequired,i18n:$o.a.object.isRequired,playerDimensions:$o.a.shape({height:$o.a.number,width:$o.a.number}).isRequired,trackEvent:$o.a.func.isRequired,isMiniPlayer:$o.a.bool.isRequired,shouldShowRecommendations:$o.a.bool.isRequired,pushVODRecScreen:$o.a.func.isRequired,fetchRecommendedVODs:$o.a.func.isRequired,shouldFetchRecommendations:$o.a.bool.isRequired,screen:$o.a.array.isRequired},Ey=function(e){var t=e.recommendations,n=e.playback,r=e.lang,i=e.screen,a=e.window,o=e.playerDimensions,s=e.analyticsTracker,u=e.ui,c=e.stream,l=e.env,d=c.contentType===Ns.a&&n.ended&&!u.isMini&&!eo()(wy,l.playerType)&&t.status===Cm&&n.transitionScheme===iy.b&&t.type===Im,f=n.transitionScheme===iy.b&&c.contentType===Ns.a&&1e3*(n.duration-n.currentTime)<12e3&&t.status===Sm;return{hasVideoEnded:n.ended,recommendedVideos:t.videos,windowObj:a,i18n:r,playerDimensions:o,trackEvent:s.trackEvent,isMiniPlayer:u.isMini,shouldShowRecommendations:d,shouldFetchRecommendations:f,screen:i}},Sy=function(e){return{fetchRecommendedVODs:function(){e(Cn(Im))},pushVODRecScreen:function(){e(Object(lc.p)(lc.m))},selectRecommendedVideo:function(t){e(Object(sc.D)(t))},popScreen:function(){e(Object(lc.o)())},clearRecommendedVODs:function(){e(An())}}},Py=function(e){function t(){Qn(this,t);var e=Yn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e.state={isImagePreloadingComplete:!1},e}return $n(t,e),_y(t,[{key:"componentWillMount",value:function(){this.props.hasVideoEnded&&this.props.shouldShowRecommendations&&this.props.recommendedVideos.length>0&&this.props.pushVODRecScreen(),this.props.shouldFetchRecommendations&&this.props.fetchRecommendedVODs()}},{key:"componentWillReceiveProps",value:function(e){if(!ry()(this.props,e)){var t=e.recommendedVideos!==this.props.recommendedVideos,n=e.screen[0]!==lc.m&&e.shouldShowRecommendations,r=this.props.hasVideoEnded&&0===this.props.recommendedVideos.length&&e.recommendedVideos.length>0,i=!this.props.hasVideoEnded&&e.hasVideoEnded&&this.props.recommendedVideos.length>0;return t&&e.recommendedVideos.length>0&&!1===this.state.isImagePreloadingComplete&&this._preloadVideoThumbnails(e.recommendedVideos),(r||i)&&n?void this.props.pushVODRecScreen():e.shouldFetchRecommendations?void this.props.fetchRecommendedVODs():e.shouldShowRecommendations||e.screen[0]!==lc.m?void 0:void this.props.popScreen()}}},{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.windowObj,r=e.i18n,i=e.playerDimensions,a=e.trackEvent,o=e.isMiniPlayer;return e.screen[0]!==lc.m?null:Qo.a.createElement(by,{videos:t,i18n:r,onSelectVOD:this.handleSelectVOD,windowObj:n,playerHeight:i.height,playerWidth:i.width,onExit:this.handleExitRecommendations,trackEvent:a,isMiniPlayer:o})}},{key:"_preloadVideoThumbnails",value:function(e){e.forEach(function(e){(new Image).src=e.thumbnailURL}),this.setState({isImagePreloadingComplete:!0})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen()}}]),t}(Go.Component);Py.propTypes=ky;var Cy=Object(cl.b)(Ey,Sy)(Py),Oy={statName:$o.a.string.isRequired,value:$o.a.oneOfType([$o.a.string,$o.a.number]).isRequired,t:$o.a.func.isRequired};Jn.propTypes=Oy;var Ty=Object(ns.c)()(Jn),xy={stats:$o.a.shape({bufferSize:$o.a.number,displayResolution:$o.a.string,skippedFrames:$o.a.number,fps:$o.a.number,hlsLatencyBroadcaster:$o.a.number,hlsLatencyEncoder:$o.a.number,memoryUsage:$o.a.string,playbackRate:$o.a.number,videoResolution:$o.a.string,backendVersion:$o.a.string}).isRequired,isLive:$o.a.bool.isRequired,onClose:$o.a.func.isRequired},Ry=Xo()("player-button","player-button--noscale","player-button--close");Xn.propTypes=xy;var jy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ay={stats:$o.a.shape({bufferSize:$o.a.number,displayResolution:$o.a.string,skippedFrames:$o.a.number,fps:$o.a.number,hlsLatencyBroadcaster:$o.a.number,hlsLatencyEncoder:$o.a.number,memoryUsage:$o.a.string,playbackRate:$o.a.number,videoResolution:$o.a.string,backendVersion:$o.a.string}).isRequired,isLive:$o.a.bool.isRequired,displayed:$o.a.bool.isRequired,closeStats:$o.a.func.isRequired},Iy=function(e){var t=e.stats;return{isLive:e.stream.contentType===Ms.a,displayed:t.displayed,stats:t.videoStats}},Ly=function(e){return{closeStats:function(){e(Object(wc.d)(!1))}}},Ny=function(e){function t(){Zn(this,t);var e=er(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClose=e.onClose.bind(e),e}return tr(t,e),jy(t,[{key:"onClose",value:function(){this.props.closeStats()}},{key:"render",value:function(){var e=this.props,t=e.isLive,n=e.displayed,r=e.stats;return n?Qo.a.createElement(Xn,{isLive:t,onClose:this.onClose,stats:r}):null}}]),t}(Qo.a.Component);Ny.propTypes=Ay;var My=Object(cl.b)(Iy,Ly)(Ny),Dy=n(281),qy={imgUrl:$o.a.string.isRequired,bgType:$o.a.string.isRequired},Uy=function(e){var t=e.imgUrl,n=e.bgType,r=Xo()({"pl-background-banner":!0,"pl-background-banner--offline":"offline-banner"===n,"pl-background-banner--preview":"video-preview"===n,"js-video-background-banner":!0});return Qo.a.createElement("div",{className:r,style:{backgroundImage:"url("+t+")"}})};Uy.propTypes=qy;var By=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fy={bannerType:$o.a.string.isRequired,imgUrl:$o.a.string,onContentShowing:$o.a.func.isRequired},Vy="offline-banner",Hy="video-preview",zy="none",Wy=function(e){var t=e.streamMetadata,n=t.channel,r=t.preview,i=ar(e),a=n.videoBanner,o=r.template;return i===zy?{bannerType:i,imgUrl:""}:{bannerType:i,imgUrl:or(i===Vy?a:o)}},Ky=function(e){return{onContentShowing:function(){e(Object(sc.v)())}}},Gy=function(e){function t(){return nr(this,t),rr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ir(t,e),By(t,[{key:"componentWillReceiveProps",value:function(e){e.bannerType!==zy&&this.props.onContentShowing()}},{key:"render",value:function(){var e=this.props,t=e.bannerType,n=e.imgUrl;return t===zy?null:Qo.a.createElement(Uy,{imgUrl:n,bgType:t})}}]),t}(Qo.a.Component);Gy.propTypes=Fy;var Qy=Object(cl.b)(Wy,Ky)(Gy),Yy={clickThroughUrl:$o.a.string.isRequired,adLabel:$o.a.string.isRequired,t:$o.a.func.isRequired};sr.propTypes=Yy;var $y=Object(ns.c)()(sr),Jy=Object.freeze(["overwatchleague","overwatchleague_kr","overwatchleague_fr","overwatchleague_zh","overwatchleague_zhtw"]),Xy={clickThroughUrl:$o.a.string.isRequired,isPartner:$o.a.bool.isRequired,displayName:$o.a.string.isRequired},Zy=function(e){var t=e.ads,n=e.streamMetadata;return{clickThroughUrl:t.clickThrough,isPartner:n.channel.partner,displayName:n.channel.displayName}};ur.propTypes=Xy;var ev=Object(cl.b)(Zy)(ur),tv=n(84),nv={onSelect:$o.a.func.isRequired,selectedValue:$o.a.string.isRequired},rv=Object.freeze(Object.keys(tv.l));dr.propTypes=nv;var iv="Presets",av={onSelect:$o.a.func.isRequired,selectedValue:$o.a.string.isRequired},ov=function(e){return{selectedValue:e.captions.preset}},sv=function(e){return{onSelect:function(t){e(Object(au.j)(t,tv.l[t]))}}};fr.propTypes=av;var uv=Object(cl.b)(ov,sv)(fr),cv={className:$o.a.string,currentValue:$o.a.string.isRequired,id:$o.a.string,options:$o.a.arrayOf($o.a.shape({value:$o.a.string.isRequired,text:$o.a.string.isRequired})).isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired},lv={className:"",id:""};pr.propTypes=cv,pr.defaultProps=lv;var dv=Object(ns.c)()(pr),fv={currentFont:$o.a.string.isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired},pv=Object.freeze({value:"mono-serif",text:"Mono Serif"}),hv=Object.freeze({value:"prop-serif",text:"Serif"}),mv=Object.freeze({value:"mono-sans-serif",text:"Mono Sans-Serif"}),yv=Object.freeze({value:"prop-sans-serif",text:"Sans-Serif"}),vv=Object.freeze({value:"casual",text:"Casual"}),gv=Object.freeze({value:"cursive",text:"Cursive"}),bv=Object.freeze({value:"small-capitals",text:"Small Capitals"}),_v=Object.freeze([pv,hv,mv,yv,vv,gv,bv]);hr.propTypes=fv;var wv=Object(ns.c)()(hr),kv={currentAlignment:$o.a.string.isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired},Ev=Object.freeze({value:"left",text:"Left"}),Sv=Object.freeze({value:"center",text:"Center"}),Pv=Object.freeze({value:"right",text:"Right"}),Cv=Object.freeze([Ev,Sv,Pv]);mr.propTypes=kv;var Ov=Object(ns.c)()(mr),Tv={currentPosition:$o.a.string.isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired},xv=Object.freeze({value:"bottom",text:"Bottom"}),Rv=Object.freeze({value:"top",text:"Top"}),jv=Object.freeze([xv,Rv]);yr.propTypes=Tv;var Av=Object(ns.c)()(yr),Iv={currentOpacity:$o.a.string.isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired},Lv=Object.freeze({value:"solid",text:"Solid"}),Nv=Object.freeze({value:"translucent",text:"Translucent"}),Mv=Object.freeze({value:"semiTransparent",text:"Semi-Transparent"}),Dv=Object.freeze({value:"flashing",text:"Flashing"}),qv=Object.freeze([Lv,Nv,Mv,Dv]);vr.propTypes=Iv;var Uv=Object(ns.c)()(vr),Bv={currentColor:$o.a.string.isRequired,colors:$o.a.array.isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired};br.propTypes=Bv;var Fv=Object(ns.c)()(br),Vv={increaseSize:$o.a.func.isRequired,decreaseSize:$o.a.func.isRequired,t:$o.a.func.isRequired};_r.propTypes=Vv;var Hv=Object(ns.c)()(_r),zv={currentAlignment:$o.a.string.isRequired,currentColor:$o.a.string.isRequired,currentFont:$o.a.string.isRequired,currentFontSize:$o.a.number.isRequired,currentPosition:$o.a.string.isRequired,currentOpacity:$o.a.string.isRequired,selectFontChange:$o.a.func.isRequired},Wv=Object.freeze(["white","black","red","green","cyan","magenta","yellow","blue"]),Kv="font",Gv="fontColorName",Qv="alignment",Yv="verticalPosition",$v="fontOpacity",Jv="fontSize";wr.propTypes=zv;var Xv={currentAlignment:$o.a.string.isRequired,currentColor:$o.a.string.isRequired,currentFont:$o.a.string.isRequired,currentFontSize:$o.a.number.isRequired,currentPosition:$o.a.string.isRequired,currentOpacity:$o.a.string.isRequired,selectFontChange:$o.a.func.isRequired},Zv=function(e){var t=e.captions;return{currentAlignment:t.style.alignment,currentColor:t.style.fontColorName,currentFont:t.style.font,currentFontSize:t.style.fontSize,currentPosition:t.style.verticalPosition,currentOpacity:t.style.fontOpacity}},eg=function(e){return{selectFontChange:function(t,n){e(Object(au.j)(au.f,kr({},t,n)))}}};Er.propTypes=Xv;var tg,ng=Object(cl.b)(Zv,eg)(Er),rg=Object.freeze((tg={},Sr(tg,"bold",{text:"B",enabledPropName:"boldText",styleMapName:"fontBold"}),Sr(tg,"italic",{text:"I",enabledPropName:"italicText",styleMapName:"fontItalic"}),Sr(tg,"underline",{text:"U",enabledPropName:"underlineText",styleMapName:"fontUnderline"}),tg)),ig={boldText:$o.a.bool.isRequired,italicText:$o.a.bool.isRequired,underlineText:$o.a.bool.isRequired,selectTextStyle:$o.a.func.isRequired,t:$o.a.func.isRequired},ag=function(e){return function(t){"Enter"===t.key&&e()}};Cr.propTypes=ig;var og,sg=Object(ns.c)()(Cr),ug="Aa",cg="none",lg=Object.freeze((og={},Or(og,cg,!0),Or(og,"raised",!0),Or(og,"drop",!0),Or(og,"depressed",!0),Or(og,"uniform",!0),og)),dg={currentTextEffect:$o.a.string.isRequired,selectTextEffect:$o.a.func.isRequired,t:$o.a.func.isRequired},fg=function(e){return function(t){"Enter"===t.key&&e()}};xr.propTypes=dg;var pg=Object(ns.c)()(xr),hg={boldText:$o.a.bool.isRequired,italicText:$o.a.bool.isRequired,underlineText:$o.a.bool.isRequired,currentTextEffect:$o.a.string.isRequired,selectTextEffect:$o.a.func.isRequired,selectTextStyle:$o.a.func.isRequired};Rr.propTypes=hg;var mg={boldText:$o.a.bool.isRequired,italicText:$o.a.bool.isRequired,underlineText:$o.a.bool.isRequired,currentTextEffect:$o.a.string.isRequired,selectTextEffect:$o.a.func.isRequired,selectTextStyle:$o.a.func.isRequired},yg=function(e){var t=e.captions;return{boldText:"bold"===t.style.fontBold,italicText:"italic"===t.style.fontItalic,underlineText:"underline"===t.style.fontUnderline,currentTextEffect:t.style.edge}},vg=function(e){return{selectTextEffect:function(t){e(Object(au.j)(au.f,{edge:t}))},selectTextStyle:function(t,n){e(Object(au.j)(au.f,jr({},t,n)))}}};Ar.propTypes=mg;var gg=Object(cl.b)(yg,vg)(Ar),bg={currentOpacity:$o.a.string.isRequired,onSelect:$o.a.func.isRequired,t:$o.a.func.isRequired},_g=Object.freeze({text:"Solid",value:"solid"}),wg=Object.freeze({text:"Translucent",value:"translucent"}),kg=Object.freeze([_g,wg]);Ir.propTypes=bg;var Eg=Object(ns.c)()(Ir),Sg={currentColor:$o.a.string.isRequired,currentOpacity:$o.a.string.isRequired,selectColor:$o.a.func.isRequired,selectOpacity:$o.a.func.isRequired},Pg=Object.freeze(["transparent","white","lightgray","gray","darkgray","black","green","blue","cyan","magenta","yellow","red"]);Lr.propTypes=Sg;var Cg={selectColor:$o.a.func.isRequired,selectOpacity:$o.a.func.isRequired,currentColor:$o.a.string.isRequired,currentOpacity:$o.a.string.isRequired},Og=function(e){var t=e.captions;return{currentColor:t.style.backgroundColorName,currentOpacity:t.style.backgroundOpacity}},Tg=function(e){return{selectColor:function(t){e(Object(au.j)("custom",{backgroundColorName:t}))},selectOpacity:function(t){e(Object(au.j)("custom",{backgroundOpacity:t}))}}};Nr.propTypes=Cg;var xg=Object(cl.b)(Og,Tg)(Nr),Rg={selectColor:$o.a.func.isRequired,selectOpacity:$o.a.func.isRequired,currentColor:$o.a.string.isRequired,currentOpacity:$o.a.string.isRequired},jg=function(e){var t=e.captions;return{currentColor:t.style.windowColorName,currentOpacity:t.style.windowOpacity}},Ag=function(e){return{selectColor:function(t){e(Object(au.j)("custom",{windowColorName:t}))},selectOpacity:function(t){e(Object(au.j)("custom",{windowOpacity:t}))}}};Mr.propTypes=Rg;var Ig=Object(cl.b)(jg,Ag)(Mr),Lg=[iv,"Text","Effects","Background","Window"],Ng={currentPanel:$o.a.string.isRequired,selectPanel:$o.a.func.isRequired,t:$o.a.func.isRequired},Mg={t:function(){}};qr.propTypes=Ng,qr.defaultProps=Mg;var Dg=Object(ns.c)()(qr),qg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ug={onClose:$o.a.func.isRequired,t:$o.a.func.isRequired},Bg={t:function(){}},Fg=function(e){function t(){Ur(this,t);var e=Br(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.selectPanel=e.selectPanel.bind(e),e.state={currentPanel:iv},e}return Fr(t,e),qg(t,[{key:"selectPanel",value:function(e){this.setState({currentPanel:e})}},{key:"getPanelComponent",value:function(){switch(this.state.currentPanel){case iv:return Qo.a.createElement(uv,null);case"Effects":return Qo.a.createElement(gg,null);case"Background":return Qo.a.createElement(xg,null);case"Window":return Qo.a.createElement(Ig,null);case"Text":return Qo.a.createElement(ng,null);default:return Qo.a.createElement(uv,null)}}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.t,r=this.state.currentPanel,i=Xo()({"pl-modal__content":!0,"pl-modal__content--text":"Text"===r});return Qo.a.createElement("div",{className:i},Qo.a.createElement(Od.a,{className:"pl-modal__close",onClick:t},Qo.a.createElement("svg",null,Qo.a.createElement("use",{xlinkHref:"#icon_close_modal"}))),Qo.a.createElement("h2",{className:"pl-modal__header"},n("Closed Caption Settings")),Qo.a.createElement(Dg,{selectPanel:this.selectPanel,currentPanel:r}),this.getPanelComponent(r))}}]),t}(Qo.a.Component);Fg.propTypes=Ug,Fg.defaultProps=Bg;var Vg=Object(ns.c)()(Fg),Hg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zg={onClose:$o.a.func.isRequired,showPanel:$o.a.bool.isRequired},Wg=function(e){return{showPanel:e.captions.showCCModal}},Kg=function(e){return{onClose:function(){e(Object(au.k)(!1))}}},Gg=function(e){function t(){Vr(this,t);var e=Hr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClickOutside=e.handleClickOutside.bind(e),e}return zr(t,e),Hg(t,[{key:"handleClickOutside",value:function(){var e=this.props,t=e.onClose;e.showPanel&&t()}},{key:"render",value:function(){var e=this.props,t=e.onClose;return e.showPanel?Qo.a.createElement(Vg,{onClose:t}):null}}]),t}(Qo.a.Component);Gg.propTypes=zg;var Qg=Object(cl.b)(Wg,Kg)(uh()(Gg)),Yg=n(291),$g=n(286),Jg={showOverlay:$o.a.bool.isRequired,play:$o.a.func.isRequired,collectionsSidebarOpen:$o.a.bool.isRequired},Xg=function(e){var t=e.chromecast,n=e.collection,r=e.error,i=e.playback,a=e.onlineStatus,o=e.screen,s=e.stream,u=e.ui,c=i.paused,l=u.isMini,d=r.hasError,f=a===kc.a,p=s.contentType===Ns.a&&i.ended,h=t.castingState===Qs.c||t.castingState===Qs.b,m=o[0]===lc.m||o[0]===lc.c;return{collectionsSidebarOpen:n.currentView===tl.b,showOverlay:(c||p)&&!h&&!l&&!m&&!d&&!f}},Zg=function(e){return{play:function(){e(Object(pu.q)())}}};Wr.propTypes=Jg;var eb=Object(cl.b)(Xg,Zg)(Wr),tb={deviceName:$o.a.string.isRequired,t:$o.a.func},nb={t:function(){}};Kr.propTypes=tb,Kr.defaultProps=nb;var rb=Object(ns.c)()(Kr),ib={deviceName:$o.a.string.isRequired,castingState:$o.a.string.isRequired},ab=function(e){var t=e.chromecast;return{castingState:t.castingState,deviceName:t.deviceName}};Gr.propTypes=ib;var ob=Object(cl.b)(ab)(Gr),sb=n(251),ub=n(257),cb="This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.",lb={channelName:$o.a.string.isRequired,subscribeUrl:$o.a.string.isRequired,t:$o.a.func},db={t:function(){}};Qr.propTypes=lb,Qr.defaultProps=db;var fb=Object(ns.c)()(Qr),pb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hb={channelName:$o.a.string.isRequired,contentIsShowing:$o.a.func.isRequired,shouldRenderSubOverlay:$o.a.bool.isRequired},mb={shouldRenderSubOverlay:!1},yb=function(e){var t=e.screen;return{channelName:e.streamMetadata.channel.name,shouldRenderSubOverlay:t[0]===lc.n}},vb=function(e){return{contentIsShowing:function(){e(Object(sc.v)())}}},gb=function(e){function t(){return Yr(this,t),$r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Jr(t,e),pb(t,[{key:"componentDidMount",value:function(){this.props.contentIsShowing()}},{key:"render",value:function(){var e=this.props,t=e.channelName;if(e.shouldRenderSubOverlay){var n=lo.C+"/"+t+"/subscribe?ref=chansub_overlay_subscribe";return Qo.a.createElement(fb,{channelName:t,subscribeUrl:n})}return null}}]),t}(Qo.a.Component);gb.propTypes=hb,gb.defaultProps=mb;var bb=Object(cl.b)(yb,vb)(gb),_b={t:$o.a.func.isRequired},wb={t:function(){}};Xr.propTypes=_b,Xr.defaultProps=wb;var kb=Object(ns.c)()(Xr),Eb={shouldRenderStormWarning:$o.a.bool.isRequired},Sb={shouldRenderStormWarning:!1},Pb=function(e){return{shouldRenderStormWarning:e.screen[0]===lc.k}};Zr.propTypes=Eb,Zr.defaultProps=Sb;var Cb=Object(cl.b)(Pb)(Zr),Ob={},Tb=Ob;!function(){var e=Ob;e.key=function(e){return sessionStorage.key(e)},e.getItem=function(e){var t=sessionStorage.getItem(e);if(t)return JSON.parse(t)},e.setItem=function(e,t){var n=JSON.stringify(t);sessionStorage.setItem(e,n)},e.removeItem=function(e){sessionStorage.removeItem(e)},e.clear=function(){sessionStorage.clear()},Object.defineProperty(e,"length",{get:function(){return sessionStorage.length}})}();var xb=n(287),Rb=n(288),jb={onClick:$o.a.func.isRequired,className:$o.a.string.isRequired,t:$o.a.func.isRequired};ni.propTypes=jb;var Ab=Object(ns.c)()(ni),Ib=sn(Ab,{showDuration:350,hideDuration:350,showClass:"pl-overlay--transition-in",hideClass:"pl-overlay--transition-out"}),Lb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Nb={unmutePlayer:$o.a.func.isRequired,autoplayEnabled:$o.a.bool.isRequired,isMobileWeb:$o.a.bool.isRequired,isPlaying:$o.a.bool.isRequired,hasPlayed:$o.a.bool.isRequired,isMuted:$o.a.bool.isRequired,setTimeout:$o.a.func.isRequired,clearTimeout:$o.a.func.isRequired,trackOverlayClick:$o.a.func.isRequired,pushUnmuteScreen:$o.a.func.isRequired,popScreen:$o.a.func.isRequired,screenStack:$o.a.arrayOf($o.a.string).isRequired},Mb=function(e){var t=e.playback,n=e.env,r=e.window,i=e.screen;return{autoplayEnabled:t.autoplay,isMobileWeb:n.isMobileLocation,isPlaying:t.playing,hasPlayed:t.hasPlayed,isMuted:t.muted,setTimeout:r.setTimeout,clearTimeout:r.clearTimeout,screenStack:i}},Db=function(e){return{unmutePlayer:function(){e(Object(pu.o)(!1))},trackOverlayClick:function(){e(Object(Zu.d)("player_click",{component:"unmute_overlay"}))},pushUnmuteScreen:function(){e(Object(lc.p)(lc.l))},popScreen:function(){e(Object(lc.o)())}}},qb=function(e){function t(){ri(this,t);var e=ii(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hideTimeoutId:0},e.handleClick=e.handleClick.bind(e),e.startTimeout=e.startTimeout.bind(e),e.cancelTimeout=e.cancelTimeout.bind(e),e.timeoutHandler=e.timeoutHandler.bind(e),e}return ai(t,e),Lb(t,[{key:"componentDidMount",value:function(){this.props.isMuted&&this.props.autoplayEnabled&&this.props.isPlaying&&this.props.isMobileWeb&&!eo()(this.props.screenStack,lc.l)&&this.props.pushUnmuteScreen()}},{key:"componentWillReceiveProps",value:function(e){e.autoplayEnabled&&e.isMobileWeb&&(e.isMuted&&e.isPlaying||e.screenStack[0]!==lc.l||this.props.popScreen(),e.isMuted&&oi(this.props,e)&&!eo()(e.screenStack,lc.l)&&this.props.pushUnmuteScreen(),this.props.screenStack[0]===lc.l&&e.screenStack[0]!==lc.l&&this.cancelTimeout(),this.props.screenStack[0]!==lc.l&&e.screenStack[0]===lc.l&&this.startTimeout())}},{key:"render",value:function(){var e=Qo.a.createElement(Ib,{onClick:this.handleClick}),t=this.props.screenStack[0]===lc.l?e:null;return Qo.a.createElement(lh.a,{component:"div"},t)}},{key:"timeoutHandler",value:function(){var e=this.props,t=e.screenStack,n=e.popScreen;t[0]===lc.l&&n()}},{key:"startTimeout",value:function(){var e=this.props,t=e.setTimeout;(0,e.clearTimeout)(this.state.hideTimeoutId);var n=t(this.timeoutHandler,5e3);this.setState({hideTimeoutId:n})}},{key:"cancelTimeout",value:function(){(0,this.props.clearTimeout)(this.state.hideTimeoutId),this.setState({hideTimeoutId:0})}},{key:"handleClick",value:function(){var e=this.props,t=e.unmutePlayer,n=e.trackOverlayClick;t(),n()}}]),t}(Qo.a.Component);qb.propTypes=Nb;var Ub=Object(cl.b)(Mb,Db)(qb),Bb="This video quality is only available to subscribers. Subscribe now to watch and support {{channelName}}.",Fb={channelName:$o.a.string.isRequired,subscribeUrl:$o.a.string.isRequired,onClose:$o.a.func,t:$o.a.func},Vb={tt:function(e){return e}};si.propTypes=Fb,si.defaultProps=Vb;var Hb=Object(ns.c)()(si),zb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wb={channelName:$o.a.string.isRequired,contentIsShowing:$o.a.func.isRequired,popScreen:$o.a.func.isRequired,shouldRenderQualityOverlay:$o.a.bool.isRequired,dispatchQualityRestrictedScreen:$o.a.func.isRequired,clearQualityRestrictedError:$o.a.func.isRequired},Kb={shouldRenderQualityOverlay:!1},Gb=function(e){var t=e.playback,n=e.streamMetadata;return{shouldRenderQualityOverlay:t.restrictedQualityError,channelName:n.channel.name}},Qb=function(e){return{contentIsShowing:function(){e(Object(sc.v)())},dispatchQualityRestrictedScreen:function(){e(Object(lc.p)(lc.i))},popScreen:function(){e(Object(lc.o)())},clearQualityRestrictedError:function(){e(Object(sc.u)())}}},Yb=function(e){function t(){ui(this,t);var e=ci(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClose=e.onClose.bind(e),e}return li(t,e),zb(t,[{key:"componentDidMount",value:function(){this.props.contentIsShowing()}},{key:"componentWillReceiveProps",value:function(e){e.shouldRenderQualityOverlay&&this.props.dispatchQualityRestrictedScreen()}},{key:"render",value:function(){var e=this.props,t=e.channelName,n=e.shouldRenderQualityOverlay,r=lo.C+"/"+t+"/subscribe?ref=chansub_overlay_subscribe";return n?Qo.a.createElement(Hb,{channelName:t,subscribeUrl:r,onClose:this.onClose}):null}},{key:"onClose",value:function(){var e=this.props,t=e.popScreen;(0,e.clearQualityRestrictedError)(),t()}}]),t}(Qo.a.Component);Yb.propTypes=Wb,Yb.defaultProps=Kb;var $b=Object(cl.b)(Gb,Qb)(Yb),Jb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xb={playerType:$o.a.string.isRequired,player:$o.a.object.isRequired,root:$o.a.object.isRequired},Zb=function(e){return{playerType:e.env.playerType}},e_=function(e){function t(){fi(this,t);var e=pi(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._setPlayerTypeComponent=e._setPlayerTypeComponent.bind(e),e.state={playerTypeComponent:null},e}return hi(t,e),Jb(t,[{key:"componentWillMount",value:function(){this._setPlayerTypeComponent(this.props.playerType)}},{key:"componentWillReceiveProps",value:function(e){var t=e.playerType;this.props.playerType!==t&&this._setPlayerTypeComponent(t)}},{key:"render",value:function(){return this.state.playerTypeComponent?Qo.a.createElement(this.state.playerTypeComponent,{player:this.props.player,root:this.props.root}):null}},{key:"_setPlayerTypeComponent",value:function(e){var t=this;switch(e){case Ro.c:return n.e(3).then(function(){var e=n(546);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case Ro.g:return n.e(0).then(function(){var e=n(547);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case Ro.f:return n.e(1).then(function(){var e=n(548);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);default:return n.e(2).then(function(){var e=n(549);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe)}}}]),t}(Qo.a.Component);e_.propTypes=Xb;var t_,n_=Object(cl.b)(Zb)(e_),r_=Object.freeze([Ro.c,Ro.g,Ro.f]),i_=Object.freeze({destroy:function(){}}),a_=n(525),o_=n.n(a_),s_=n(235),u_=n(179),c_="set watchpartyvod",l_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d_="production",f_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gi(this,e),this._store=t,this._debugMode=n.debug,this._pubSub=s_.a.getInstance(d_),this._topics=[],this._onMessage=this._onPubSubMessage.bind(this),this._unsubscribe=this._subscribe()}return l_(e,[{key:"destroy",value:function(){var e=this;this._unsubscribe(),this._topics.forEach(function(t){return e._unlisten(t)})}},{key:"_onPubSubMessage",value:function(e){var t=void 0;try{t=JSON.parse(e)}catch(e){return void console.error("Pubsub: %o",e)}switch(this._debugMode&&console.info("PubSub: %o",t),t.type){case"stream-up":this._store.dispatch(Object(Tc.h)({contentType:Tc.b,contentId:this._store.getState().stream.channel}));break;case"stream-down":this._store.dispatch(Object(oc.b)(!1));break;case"viewcount":this._store.dispatch(Object(u_.b)(t.viewers));break;case"tos-strike":this._store.getState().window.document.location.reload();break;case"watchparty-vod":this._store.dispatch(yi(t.vod));break;default:this._debugMode&&console.warn("PubSub: Unrecognized message %o",t)}}},{key:"_subscribe",value:function(){var e=this;return Object(zo.a)(this._store,["streamMetadata.channel.id"],function(t,n){var r=n.streamMetadata.channel.id,i=n.streamMetadata.channelName,a=t.streamMetadata.channel.id,o=e._store.getState().stream;r&&i&&e._unlisten(bi(r)),o.contentType===Ms.a&&a&&e._listen(bi(a))})}},{key:"_listen",value:function(e){var t=this;this._topics.push(e),this._pubSub.Listen({topic:e,success:function(){t._debugMode&&console.info("PubSub: successfully listened to %s",e)},failure:function(n){t._topics=o_()(t._topics,e),console.error("PubSub: error listening: %o",n)},message:this._onMessage})}},{key:"_unlisten",value:function(e){var t=this;this._topics=o_()(this._topics,e),this._pubSub.Unlisten({topic:e,success:function(){t._debugMode&&console.info("PubSub: successfully unlistened to %s",e)},failure:function(n){t._topics.push(e),console.error("PubSub: error unlistening: %o",n)},message:this._onMessage})}}]),e}(),p_=n(169),h_=n(233),m_=n.n(h_),y_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v_=function(){function e(t,n){_i(this,e),this._store=n,this._root=t,this._store.dispatch(Object(dc.f)(this.canFullScreen()))}return y_(e,[{key:"canFullScreen",value:function(){return!1}},{key:"isFullScreen",value:function(){return m_.a.element===this._root}}]),e}(),g_=n(253),b_=n(529),__=n.n(b_),w_={params:{need_https:!1,adblock:!1}},k_={currentMetadata:{contentType:uu.f.NONE,rollType:uu.g.NONE},adblock:!1,clickThrough:"",imaScriptLoaded:!1,vodMidrollArchiveSetting:wu},E_={qualityChangeCount:0,playSessionId:"",playSessionStartTime:0,trackingClients:[]},S_=new Error("Attempting to use tracker too early"),P_={trackEvent:function(){return Promise.reject(S_)}},C_={playerBackendType:ru.a},O_=n(192),T_=n(264),x_=n(194),R_=n(195),j_=n(182),A_=Object.freeze({bySlug:{},allSlugs:[]}),I_=n(190),L_=Object.freeze((t_={},xi(t_,Kc.e,Kc.f),xi(t_,Kc.d,Kc.f),xi(t_,Kc.c,Kc.f),t_)),N_=n(258),M_={data:[{_id:"",owner_id:"",name:"",summary:"",description:"",rules:""}],ids:""},D_=n(246),q_=n.n(D_),U_=n(175),B_="6745306",F_={streamingTag:new q_.a.StreamingTag({customerC2:B_})},V_="set experiments",H_=new Error("Attempting to use experiments too early"),z_={get:function(){return Promise.reject(H_)}},W_="set language",K_={abs:!1,broadcast_id:0,cluster:"",future:!1,manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",origin:"",region:"",segment_protocol:"",server_time:0,serving_id:"",stream_time:0,user_ip:"",suppress:!1,transcodestack:"not listed"},G_=n(530),Q_=n.n(G_),Y_=n(531),$_=n.n(Y_),J_=[],X_=n(186),Z_={left:0,top:0,width:0,height:0},ew=n(77),tw=n.n(ew),nw="set provided options",rw=Object.freeze({branding:!0,showInfo:!0,showMature:!0,showtheatre:!1,collection:"",channel:"",channelId:"",video:"",tt_content:"",tt_medium:""}),iw={hasError:!1,code:-1},aw={fetched:!1,following:!1,notificationsEnabled:!1,showFollowNotification:!1},ow={absAvailable:!1,current:"",selected:uc.f,bitrate:uc.e,available:[]},sw={type:"",videos:[],numVideosVisible:0,status:Sm},uw="set resume times",cw="initialize vod resume",lw="cancel vod resume",dw="set vod resume time",fw="cancel livestream resume",pw="set livestream resume time",hw="post vod backend time",mw="set user",yw="set isSeeked",vw="vodResumeTimes",gw="vodResumeWatcheds",bw="livestreamResumeTimes",_w=n(181),ww=20,kw=600,Ew=2e4,Sw=48e4,Pw={times:{},watch:{},streamTimes:{},lastTimeStamp:0,userId:null,initUpdateOffset:0,updateInterval:0,isSeeked:!1},Cw=Object.freeze({isFullScreen:!1,canFullScreen:!1,canTheatreMode:!1,isTheatreMode:!1}),Ow={videoStats:{bufferSize:0,displayResolution:"",skippedFrames:0,fps:0,bitrate:0,hlsLatencyBroadcaster:0,hlsLatencyEncoder:0,memoryUsage:"",playbackRate:0,videoResolution:"",backendVersion:""},displayed:!1},Tw="action channel subscriptions fetched",xw="action subscription products fetched",Rw=function(e){return{type:Tw,subscriptions:e}},jw=function(e){return{type:xw,subscriptions:e}},Aw={isSubscribed:!1,isSubscribable:!1,didFetch:!1},Iw=n(277),Lw={mutedSegments:[],previews:{count:0,lq:{width:0,height:0,rows:0,cols:0,URLs:[""]},hq:{width:0,height:0,rows:0,cols:0,URLs:[""]}},markers:[]},Nw=["app_session_id","benchmark_session_id","chat_visibility_status","client_app","content","host_channel","medium","page_session_id","player","referrer","referrer_url","tab_session_id","feed_impression_id"],Mw={isMini:!1,showSettings:xc.j,showVolumeSlider:!0,showExtensionsSubmenu:Cf.d,showUI:!1,onUIElement:!1},Dw=Object.freeze({params:{},hostOverride:""}),qw=Object.freeze({watchPartyId:"",vodId:"",title:"",viewable:"",broadcastType:"",incrementViewCountURL:""}),Uw=n(139),Bw={persistenceEnabled:!0},Fw=Object.keys(Bw),Vw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hw=function(){function e(){xa(this,e)}return Vw(e,[{key:"emit",value:function(e){console.error("Attempted to emit "+e+" on NullEventEmitter")}}]),e}(),zw=new Hw,Ww=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kw=function(){function e(){ja(this,e)}return Ww(e,[{key:"_sendAdCompanionEvent",value:function(e,t){console.error("Attempted to emit "+e+" and "+t+" on NullEmbedHost")}},{key:"_sendStatsUpdateEvent",value:function(){console.error("Attempted to send stats update on NullEmbedHost")}},{key:"_sendReadyEvent",value:function(){console.error("Attempted to emit ready event  on NullEmbedHost")}},{key:"_sendSeekedEvent",value:function(){console.error("Attempted to emit seeked event  on NullEmbedHost")}}]),e}(),Gw=new Kw,Qw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yw=function(){function e(){Ia(this,e)}return Qw(e,[{key:"trackEvent",value:function(e){console.error("Attempted to track "+e+" on NullAnalyticsTracker")}}]),e}(),$w=new Yw,Jw=Object(g_.c)({accessToken:wi,ads:ki,adsManager:Ei,analytics:Si,analyticsTracker:Pi,backend:Ci,backendInfo:Oi,broadcasterInfo:O_.a,captions:T_.b,chromecast:Qs.f,clipRecommendations:x_.a,clips:I_.a,clipsData:Ti,clipsModeration:Ri,collection:tl.c,communities:ji,comscore:Ai,env:yu.b,error:Ki,experiments:Ni,extensions:Lf.c,follow:Gi,lang:Ui,manifestInfo:Bi,notifications:Fi,online:Vi,onlineStatus:kc.c,playback:iy.d,playerDimensions:Hi,playerOptions:Wi,quality:Qi,recommendations:Yi,resumeWatch:da,screen:pa,screenMode:ha,settings:Oa,stats:ma,stream:ya,streamMetadata:Mf.c,subscriptions:ba,timelineMetadata:_a,tracking:wa,ui:ka,user:qd.c,usher:Ea,viewercount:Sa,watchParty:Pa,window:Ca}),Xw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zw="https://clips.twitch.tv",ek="https://clips-staging.twitch.tv",tk="https://clips-alpha.twitch.tv",nk="clips-staging",rk=function(){function e(t,n){Da(this,e),this._state=t,this._store=n;var r=this._store.getState().window.location.origin;this._clipsUrl=qa(r)}return Xw(e,[{key:"hookUpForm",value:function(e){this._$createClipPlayerBackendType=e.getElementsByClassName("js-create-clip-player-backend-type")[0],this._$createClipChannel=e.getElementsByClassName("js-create-clip-channel")[0],this._$createClipSegment=e.getElementsByClassName("js-create-clip-segment")[0],this._$createClipOffset=e.getElementsByClassName("js-create-clip-offset")[0],this._$createClipBroadcastId=e.getElementsByClassName("js-create-clip-broadcast_id")[0],this._$createClipVodId=e.getElementsByClassName("js-create-clip-vod_id")[0],this._$createClipPlaySessionId=e.getElementsByClassName("js-create-clip-play_session_id")[0],this._$createClipForm=e.getElementsByClassName("js-create-clip-form")[0],this._$createClipForm.setAttribute("action",this._clipsUrl+"/clips")}},{key:"recordClip",value:function(){var e=this._store.getState(),t=e.stream,n=e.streamMetadata,r=t.contentType,i=n.channel.name;r===Ns.a?this._recordVodClip(i):r===Ms.a&&this._recordLiveClip(i)}},{key:"_recordVodClip",value:function(e){var t=this._store.getState(),n=t.stream,r=t.analytics,i=t.backend,a=n.videoId,o=r.playSessionId,s={playerBackendType:i.getBackend(),channelName:e,offset:Math.round(this._state.currentTime),broadcastId:"",vodId:a.slice(1),playSessionId:o};this._store.getState().env.playerType===Ro.i?this._createWithAPI(s):this._submitFormWithValues(s)}},{key:"_recordLiveClip",value:function(e){var t=this._store.getState(),n=t.backendInfo,r=t.manifestInfo,i=t.streamMetadata,a=t.analytics,o=t.backend,s=n.playerBackendType,u=i.broadcastID,c=a.playSessionId,l=void 0;if(s===Ws.a||s===Wu.a)l=o.elapsedTime();else{l=r.stream_time+this._state.currentTime-8}var d={playerBackendType:s,channelName:e,offset:Math.round(Math.max(l,0)),broadcastId:u,vodId:"",playSessionId:c};this._store.getState().env.playerType===Ro.i?this._createWithAPI(d):this._submitFormWithValues(d)}},{key:"_submitFormWithValues",value:function(e){var t=e.playerBackendType,n=e.channelName,r=e.offset,i=e.broadcastId,a=e.vodId,o=e.playSessionId,s="twitch_clips_"+Date.now().toString();this._$createClipPlayerBackendType.value=t,this._$createClipChannel.value=n,this._$createClipOffset.value=r,this._$createClipBroadcastId.value=i,this._$createClipVodId.value=a,this._$createClipPlaySessionId.value=o,this._$createClipForm.setAttribute("target",s),this._store.getState().window.open("",s),this._submitForm()}},{key:"_submitForm",value:function(){this._$createClipForm.submit()}},{key:"_createWithAPI",value:function(e){var t=e.playerBackendType,n=e.channelName,r=e.offset,i=e.broadcastId,a=e.vodId,o=e.playSessionId,s={player_backend_type:t,channel:n,offset:r,broadcast_id:i,vod_id:a,play_session_id:o};Object(As.f)(this._clipsUrl+"/api/v2/clips",s).then(function(e){window.open(e.url+"/edit","_blank")})}}]),e}(),ik=n(275),ak=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ok=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sk=function(){function e(t){Ua(this,e),this._store=t,this.unsubs=[],this.unsubs.push(Object(zo.a)(this._store,["collection.pendingRequest"],this.onPendingRequestChange.bind(this))),this.unsubs.push(Object(zo.a)(this._store,["collection.id","stream"],this.onStreamChange.bind(this))),this.unsubs.push(Object(zo.a)(this._store,["playback.ended"],this._streamEnded.bind(this)))}return ok(e,[{key:"_fetchCollectionInfo",value:function(e){return Object(As.e)(e).then(function(e){var t=ak(e,2),n=t[0],r=t[1];return Io()({},n,{items:r.items})})}},{key:"_collectionHasVideo",value:function(e,t){return e.some(function(e){return t==="v"+e.item_id})}},{key:"_loadVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._store.dispatch(Object(Tc.h)({contentType:Tc.e,contentId:e})),this._store.dispatch(Object(sc.G)(t))}},{key:"onPendingRequestChange",value:function(e){var t=this,n=e.collection,r=n.pendingRequest,i=r.collectionId,a=r.videoId,o=r.timestamp,s=r.preferVideo;if(i)return this._fetchCollectionInfo(i).then(function(e){if(0===e.items.length)return t._store.dispatch(Object(Rc.r)(e)),t._showEmptyCollectionOverlay(e);var n=t._collectionHasVideo(e.items,a),r="v"+e.items[0].item_id;return n?(t._store.dispatch(Object(Rc.r)(e)),t._loadVideo(a,o)):""===a||!s&&""!==a?(t._store.dispatch(Object(Rc.r)(e)),t._loadVideo(r,o)):s&&""!==a?t._loadVideo(a,o):void 0}).catch(function(){a&&t._loadVideo(a,o)})}},{key:"onStreamChange",value:function(){var e=this._store.getState(),t=e.stream,n=e.collection;if(n.id&&0!==n.items.length){var r=n.items[n.items.length-1];t.contentType===Ns.a&&t.videoId==="v"+r.itemId?this._store.dispatch(Object(Rc.o)()):this._store.dispatch(Object(Rc.n)())}}},{key:"_showEmptyCollectionOverlay",value:function(){this._store.dispatch(Object(lc.p)(lc.f)),this._store.dispatch(Object(pu.p)())}},{key:"_streamEnded",value:function(){var e=this._store.getState(),t=e.playback,n=e.stream;!e.ui.isMini&&t.ended&&t.transitionScheme===iy.a&&n.contentType===Ns.a&&this._playNextVideo()}},{key:"_playNextVideo",value:function(){var e=this,t=this._store.getState(),n=t.stream,r=t.collection,i=t.window;if(0!==r.items.length){var a=n.videoId,o=el()(r.items,function(e){return"v"+e.itemId===a});if(o+1!==r.items.length){var s=r.items[o+1];i.setTimeout(function(){e._store.dispatch(Object(sc.C)("v"+s.itemId,r.id))},0)}}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}(),uk=n(532),ck=n(533),lk=n.n(ck),dk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fk=function(){function e(t){Ba(this,e),this._store=t,this.resizeObserver=this._createResizeObserver()}return dk(e,[{key:"_createResizeObserver",value:function(){var e=this;return new uk.a(function(t){var n=t[0],r=n.contentRect,i=r.left,a=r.top,o=r.width,s=r.height;e._store.dispatch(Object(X_.b)({left:i,top:a,width:o,height:s}))})}},{key:"observe",value:function(e){this.observeElement=e,this._store.dispatch(Object(X_.b)({left:this.observeElement.getBoundingClientRect().left,top:this.observeElement.getBoundingClientRect().top,width:this.observeElement.getBoundingClientRect().width,height:this.observeElement.getBoundingClientRect().height})),this.resizeObserver.observe(this.observeElement)}},{key:"destroy",value:function(){lk()(this.observeElement)&&(this.resizeObserver.unobserve(this.observeElement),this.resizeObserver.disconnect())}}]),e}(),pk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hk=["amazon_livestream"],mk=function(){function e(t){Fa(this,e),this.store=t,this.unsubs=[],this._initSubscribes()}return pk(e,[{key:"_initSubscribes",value:function(){this.unsubs.push(Object(zo.a)(this.store,["onlineStatus"],this.onOnlineStatusChange.bind(this))),this.unsubs.push(Object(zo.a)(this.store,["playback.ended","playback.hasPlayed"],this.onPlaybackStateChange.bind(this)))}},{key:"onOnlineStatusChange",value:function(e){e.onlineStatus===kc.a&&(this.store.getState().playback.hasPlayed||this._fetchFollowInfo())}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;if(t.ended){this.store.getState().onlineStatus===kc.a&&t.hasPlayed&&this._fetchFollowInfo()}}},{key:"_getIDs",value:function(){var e=this.store.getState(),t=e.streamMetadata,n=e.user;return{userId:n.id,channelId:t.channel.id,loggedIn:n.loggedInStatus===qd.a}}},{key:"_checkChannelBlackList",value:function(){var e=this.store.getState(),t=e.streamMetadata;return!!t.channelName&&eo()(hk,Va(t.channelName))}},{key:"_fetchFollowInfo",value:function(){var e=this.store.getState(),t=e.env,n=this._getIDs(),r=n.userId,i=n.channelId,a=n.loggedIn,o=r===i,s=this._checkChannelBlackList(),u=t.platform===yu.a;if(!o&&i&&!s&&!u)return!a&&i?void this.store.dispatch(nt({following:!1,notificationsEnabled:!1})):void this.store.dispatch(Je(r,i))}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}(),yk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vk=function(){function e(t){Ha(this,e),this.store=t,this.unsubs=[],this.unsubs.push(Object(zo.a)(this.store,["streamMetadata.channel"],this.onChannelChange.bind(this)))}return yk(e,[{key:"onChannelChange",value:function(){var e=this.store.getState(),t=e.user,n=e.streamMetadata,r=n.channel.name;if(this.store.dispatch(ga(r)),t.loggedInStatus===qd.a){var i=t.id,a=n.channel.id;this.store.dispatch(Je(i,a)),this.store.dispatch(va(i,a))}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}(),gk=n(276),bk=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wk=[Ro.j,Ro.n,Ro.h,Ro.o,Ro.d,Ro.c,Ro.m],kk=[152325025],Ek=function(){function e(t){za(this,e),this._store=t,this._unsubs=[],this._unsubs.push(Object(zo.a)(this._store,["onlineStatus","streamMetadata"],this.tryFetchOfflineRecs.bind(this))),this._unsubs.push(Object(zo.a)(this._store,["ads","recommendations","playback.ended"],this.tryShowOfflineRecs.bind(this))),this._unsubs.push(Object(zo.a)(this._store,["playerDimensions"],this.onDimensionsChange.bind(this)))}return _k(e,[{key:"tryFetchOfflineRecs",value:function(){var e=this;if(!this._shouldFetchOfflineRecs())return Promise.resolve();var t=this._store.getState(),n=t.stream,r=t.window,i=t.playback,a=i.hasPlayed?Math.floor(5e3*Math.random())+1:0;return function(e){return new Promise(function(t){return r.setTimeout(t,e)})}(a).then(function(){return Promise.all([e._getChannelVideos(),e._getFeaturedCollection()])}).then(function(e){return 0!==e[0].length?e:Promise.reject("Offline Recommendations: No channel videos")}).then(function(t){var r=bk(t,2),i=r[0],a=r[1];if(e._store.getState().stream!==n)return Promise.reject("Offline Recommendations: Stream changed while fetching");i.length>0&&e._store.dispatch(jn(i,"offline recommendations")),a.length>0&&e._store.dispatch(Object(Rc.m)(a[0]))}).catch(function(e){return console.warn(e)})}},{key:"tryShowOfflineRecs",value:function(){this._shouldShowOfflineRecs()&&this._store.dispatch(Object(lc.p)(lc.m))}},{key:"onDimensionsChange",value:function(){var e=this._store.getState(),t=e.screen,n=e.playerDimensions,r=n.height,i=n.width,a=t[0]===lc.m;if((r<300||i<560)&&a)return void this._store.dispatch(Object(lc.o)());this._shouldShowOfflineRecs()&&this._store.dispatch(Object(lc.p)(lc.m))}},{key:"_shouldShowOfflineRecs",value:function(){var e=this._store.getState(),t=e.screen,n=e.recommendations,r=e.playerDimensions,i=e.stream,a=e.playback,o=e.onlineStatus,s=e.ads,u=r.height,c=r.width,l=u>=300&&c>=560,d=!eo()(t,lc.m),f=s.currentMetadata.contentType===uu.f.NONE,p="offline recommendations"===n.type,h=i.contentType===Ms.a&&o===kc.a,m=!a.hasPlayed,y=a.ended;return l&&d&&f&&p&&h&&(m||y)}},{key:"_shouldFetchOfflineRecs",value:function(){var e=this._store.getState(),t=e.onlineStatus,n=e.playback,r=e.stream,i=e.streamMetadata,a=e.env,o=r.contentType===Ms.a,s=0!==i.channel.id,u=!eo()(kk,i.channel.id),c=t===kc.a,l=n.transitionScheme===iy.b,d=!eo()(wk,a.playerType);return o&&s&&u&&c&&l&&d}},{key:"_getFeaturedCollection",value:function(){var e=this._store.getState(),t=e.streamMetadata;return Object(As.i)(t.channel.id).then(function(e){return e.collections}).catch(function(e){return console.warn(e),[]})}},{key:"_getChannelVideos",value:function(){var e=this;return this._fetchChannelVideos().then(function(t){return e._filterOutWatchedVideos(t)}).then(function(t){return e._normalizeChannelVideos(t)}).catch(function(e){return console.warn(e),[]})}},{key:"_fetchChannelVideos",value:function(){var e=this._store.getState(),t=e.streamMetadata;return Object(As.p)("channels/"+t.channel.id+"/videos?limit=30").then(function(e){var t=e.videos;return t.length>0?t:Promise.reject("Offline Recommendations: No channel videos")})}},{key:"_filterOutWatchedVideos",value:function(e){return Zi(this._store.getState().user.id).catch(function(){return{videos:[]}}).then(function(t){var n=e.filter(function(e){return!Rn(t,e)});return n.length>0?n:Promise.reject("Offline Recommendations: All channel videos watched")})}},{key:"_normalizeChannelVideos",value:function(e){return e.map(function(e){var t="";return e.thumbnails.medium.length>0&&(t=e.thumbnails.medium[0].url),{recommendationType:Am,creationDate:e.created_at,thumbnailURL:t,title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}})}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}(),Sk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pk=function(){function e(t){Wa(this,e),this._store=t,this.updateUserInfo()}return Sk(e,[{key:"updateUserInfo",value:function(){var e=this;Object(As.r)().then(As.q).then(this._normalizeUserInfo).then(function(t){return e._store.dispatch(Object(_w.c)(t))}).catch(function(){return e._store.dispatch(Object(_w.d)())})}},{key:"_normalizeUserInfo",value:function(e){return{id:e._id,name:e.name,isStaff:"staff"===e.type}}},{key:"destroy",value:function(){}}]),e}(),Ck=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ok=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tk=function(){function e(t){Ka(this,e),this._store=t,Object(zo.a)(this._store,["stream"],this.onStream.bind(this))}return Ok(e,[{key:"onStream",value:function(){var e=this,t=this._store.getState(),n=t.stream;if(n.contentType===Ns.a){var r=Object(As.A)(n.videoId),i=r.then(function(e){return Object(As.d)(e.channel.name)});Promise.all([r,i]).then(function(t){var n=Ck(t,2),r=n[0],i=n[1];Object(As.n)(i,r)&&e._store.dispatch(Object(lc.p)(lc.n))})}}},{key:"destroy",value:function(){}}]),e}(),xk=n(534),Rk=n.n(xk),jk=n(279),Ak=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ik=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Lk=function(e){function t(e,n,r,i){Ga(this,t);var a=Qa(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a._state=n,a._store=r,a._player=e,a._options=i,a._streamTimeOffset=0,a._state.addEventListener(Bs,a.handleEvent.bind(a)),a.subscribe(a._store,["playback.currentTime"],a._onTimeUpdate.bind(a)),a}return Ya(t,e),Ik(t,[{key:"handleEvent",value:function(e){switch(e){case Is.h:this._onLoadedMetadata()}}},{key:"_seekToResumeTime",value:function(e,t){var n=this._store.getState(),r=n.stream,i=n.playback,a=t.filter(function(e){return e.video._id===r.videoId});if(this._store.dispatch(Ji(!0)),0!==a.length){var o=a[0].position;o<i.duration-lo.e&&this._player.setCurrentTime(o)}}},{key:"_seekToResumeTimeLocal",value:function(e){var t=this._store.getState(),n=t.resumeWatch,r=t.stream,i=t.playback,a=n.times[r.videoId],o=n.streamTimes[e.broadcast_id],s=i.duration;if(this._store.dispatch(Ji(!0)),Rk()(a)&&a<s-lo.e)this._player.setCurrentTime(a);else if(Rk()(o)&&o<s-lo.e){var u=Math.max(0,o-lo.v);this._player.setCurrentTime(u)}this._store.dispatch(ua(e.broadcast_id))}},{key:"_onLoadedMetadata",value:function(){var e=this,t=this._store.getState(),n=t.stream,r=t.resumeWatch,i=t.collection,a=t.playback;if(n.contentType===Ms.a)return void(this._streamTimeOffset=this._player.getVideoInfo().stream_time_offset);if(!(i.id||n.contentType!==Ns.a||r.isSeeked||a.startTimeSet)){var o=Object(As.A)(n.videoId);if(!r.userId)return o.then(function(t){e._seekToResumeTimeLocal(t)});var s=Zi(r.userId);return Promise.all([o,s]).then(function(t){var n=Ak(t,2),r=n[0],i=n[1],a=i;e._store.dispatch(ea(a)),e._seekToResumeTime(r,a)})}}},{key:"_onTimeUpdate",value:function(){var e=void 0,t=this._store.getState(),n=t.stream,r=t.streamMetadata,i=t.onlineStatus,a=t.playback;if(!a.isLoading){if(n.contentType===Ms.a){var o=r.broadcastID;e=i===kc.b?sa(o,this._streamTimeOffset+a.currentTime):ua(o)}else if(n.contentType===Ns.a){if(0===a.duration)return;e=a.duration-a.currentTime>lo.e?aa(n.videoId,a.currentTime):oa(n.videoId)}e&&this._store.dispatch(e)}}}]),t}(jk.a);t.Player=$a,n(144).polyfill(),ao.Dobbin.configure({Promise:Promise}),n.p=lo.z+"/",n(535);var Nk=Promise.resolve();window.google||(Nk=function(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",window.setTimeout(t,2e3)})}());var Mk=Object.freeze([Ro.p,Ro.i,Ro.s,Ro.c,Ro.d].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Ro.b))),Dk="Safari";window.Twitch=window.Twitch||{},window.Twitch.video=window.Twitch.video||{},window.Twitch.video.Player=$a,window.Twitch.Player=$a,window.Twitch.Player.PROMPT_LOGIN=Ls.r},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var r=n(295),i=n(200),a=n(105),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e){return!(!o(e)||a(e))&&(i(e)?h:c).test(s(e))}var i=n(91),a=n(299),o=n(24),s=n(202),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,f=l.toString,p=d.hasOwnProperty,h=RegExp("^"+f.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(70),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e){return!!a&&a in e}var i=n(300),a=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(32),i=r["__core-js_shared__"];e.exports=i},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var o=a(),s=i-(o-n);if(n=o,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,a=Date.now;e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){return a(e)&&i(e)==o}var i=n(49),a=n(33),o="[object Arguments]";e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return o(e)&&a(e.length)&&!!s[i(e)]}var i=n(49),a=n(146),o=n(33),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e){if(!i(e))return o(e);var t=a(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var i=n(24),a=n(110),o=n(308),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e,t){return i(t,function(t){return e[t]})}var i=n(60);e.exports=r},function(e,t,n){function r(e){if(!i(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(110),a=n(313),o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(207),i=r(Object.keys,Object);e.exports=i},function(e,t,n){function r(e,t){return i(e,t,function(t,n){return a(e,n)})}var i=n(315),a=n(210);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,s=t.length,u={};++r<s;){var c=t[r],l=i(e,c);n(l,c)&&a(u,o(c,e),l)}return u}var i=n(114),a=n(209),o=n(73);e.exports=r},function(e,t,n){var r=n(317),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=o},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}var i=n(208),a=500;e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(o||a),string:new i}}var i=n(319),a=n(116),o=n(153);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(320),a=n(321),o=n(322),s=n(323),u=n(324);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(115);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===a?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(115),a="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:o.call(t,e)}var i=n(115),a=Object.prototype,o=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?a:t,this}var i=n(115),a="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}var i=n(117),a=Array.prototype,o=a.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(117);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(117);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(117);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(118);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(118);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(118);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(118);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return o(e)||a(e)||!!(s&&e&&e[s])}var i=n(70),a=n(108),o=n(19),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){var r=n(51),i=n(157),a=n(59),o=i(function(e,t){r(t,a(t),e)});e.exports=o},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!a(t)){var u=i(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,r);return c>-1?s[u?t[c]:c]:void 0}}var i=n(75),a=n(44),o=n(50);e.exports=r},function(e,t,n){function r(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(340),a=n(357),o=n(221);e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var d=n[u];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<c;){d=n[u];var f=d[0],p=e[f],h=d[1];if(l&&d[2]){if(void 0===p&&!(f in e))return!1}else{var m=new i;if(r)var y=r(p,h,f,e,t,m);if(!(void 0===y?a(h,p,o|s,r,m):y))return!1}}return!0}var i=n(121),a=n(158),o=1,s=2;e.exports=r},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(116);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!a||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(e,t),this.size=n.size,this}var i=n(116),a=n(153),o=n(152),s=200;e.exports=r},function(e,t,n){function r(e,t,n,r,y,g){var b=c(e),_=c(t),w=b?h:u(e),k=_?h:u(t);w=w==p?m:w,k=k==p?m:k;var E=w==m,S=k==m,P=w==k;if(P&&l(e)){if(!l(t))return!1;b=!0,E=!1}if(P&&!E)return g||(g=new i),b||d(e)?a(e,t,n,r,y,g):o(e,t,w,n,r,y,g);if(!(n&f)){var C=E&&v.call(e,"__wrapped__"),O=S&&v.call(t,"__wrapped__");if(C||O){var T=C?e.value():e,x=O?t.value():t;return g||(g=new i),y(T,x,n,r,g)}}return!!P&&(g||(g=new i),s(e,t,n,r,y,g))}var i=n(121),a=n(214),o=n(350),s=n(352),u=n(122),c=n(19),l=n(109),d=n(148),f=1,p="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t,n,r,i,E,P){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!E(new a(e),new a(t)));case f:case p:case y:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case m:var C=u;case g:var O=r&l;if(C||(C=c),e.size!=t.size&&!O)return!1;var T=P.get(e);if(T)return T==t;r|=d,P.set(e,t);var x=s(C(e),C(t),r,i,E,P);return P.delete(e),x;case _:if(S)return S.call(e)==S.call(t)}return!1}var i=n(70),a=n(215),o=n(71),s=n(214),u=n(351),c=n(161),l=1,d=2,f="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",k="[object DataView]",E=i?i.prototype:void 0,S=E?E.valueOf:void 0;e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e,t,n,r,o,u){var c=n&a,l=i(e),d=l.length;if(d!=i(t).length&&!c)return!1;for(var f=d;f--;){var p=l[f];if(!(c?p in t:s.call(t,p)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var m=!0;u.set(e,t),u.set(t,e);for(var y=c;++f<d;){p=l[f];var v=e[p],g=t[p];if(r)var b=c?r(g,v,p,t,e,u):r(v,g,p,e,t,u);if(!(void 0===b?v===g||o(v,g,n,r,u):b)){m=!1;break}y||(y="constructor"==p)}if(m&&!y){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(e),u.delete(t),m}var i=n(216),a=1,o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}e.exports=n},function(e,t,n){var r=n(58),i=n(32),a=r(i,"DataView");e.exports=a},function(e,t,n){var r=n(58),i=n(32),a=r(i,"Promise");e.exports=a},function(e,t,n){var r=n(58),i=n(32),a=r(i,"WeakMap");e.exports=a},function(e,t,n){function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,i(o)]}return t}var i=n(220),a=n(50);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var r=a(n,e);return void 0===r&&r===t?o(n,e):i(t,r,d|f)}}var i=n(158),a=n(222),o=n(210),s=n(151),u=n(220),c=n(221),l=n(74),d=1,f=2;e.exports=r},function(e,t,n){function r(e){return o(e)?i(s(e)):a(e)}var i=n(223),a=n(360),o=n(151),s=n(74);e.exports=r},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(114);e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],r(n),r(i))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(o),n=1;n<t.length;n++)e=r(t,n).join(""),t=e.match(o);return e}}function a(e){for(var t={"%FE%FF":"","%FF%FE":""},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=i(n[0]);r!==n[0]&&(t[n[0]]=r)}n=s.exec(e)}t["%C2"]="";for(var a=Object.keys(t),o=0;o<a.length;o++){var u=a[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}var o=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},function(e,t,n){function r(e,t,n,d,f){e!==t&&o(t,function(o,c){if(u(o))f||(f=new i),s(e,t,c,n,r,d,f);else{var p=d?d(l(e,c),o,c+"",e,t,f):void 0;void 0===p&&(p=o),a(e,c,p)}},c)}var i=n(121),a=n(225),o=n(164),s=n(365),u=n(24),c=n(59),l=n(229);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}e.exports=n},function(e,t,n){function r(e,t,n,r,b,_,w){var k=v(e,n),E=v(t,n),S=w.get(E);if(S)return void i(e,n,S);var P=_?_(k,E,n+"",e,t,w):void 0,C=void 0===P;if(C){var O=l(E),T=!O&&f(E),x=!O&&!T&&y(E);P=E,O||T||x?l(k)?P=k:d(k)?P=s(k):T?(C=!1,P=a(E,!0)):x?(C=!1,P=o(E,!0)):P=[]:m(E)||c(E)?(P=k,c(k)?P=g(k):(!h(k)||r&&p(k))&&(P=u(E))):C=!1}C&&(w.set(E,P),b(P,E,r,_,w),w.delete(E)),i(e,n,P)}var i=n(225),a=n(226),o=n(227),s=n(124),u=n(228),c=n(108),l=n(19),d=n(167),f=n(109),p=n(91),h=n(24),m=n(168),y=n(148),v=n(229),g=n(367);e.exports=r},function(e,t,n){var r=n(24),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){function r(e){return i(e,a(e))}var i=n(51),a=n(59);e.exports=r},function(e,t){function n(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==r(s[o],o,s););return n}}var i=n(44);e.exports=r},function(e,t){function n(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}e.exports=n},function(e,t,n){var r=n(156),i=n(90),a=n(372),o=n(167),s=i(function(e){return a(r(e,1,o,!0))});e.exports=s},function(e,t,n){function r(e,t,n){var r=-1,d=a,f=e.length,p=!0,h=[],m=h;if(n)p=!1,d=o;else if(f>=l){var y=t?null:u(e);if(y)return c(y);p=!1,d=s,m=new i}else m=t?[]:h;e:for(;++r<f;){var v=e[r],g=t?t(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue e;t&&m.push(g),h.push(v)}else d(m,g,n)||(m!==h&&m.push(g),h.push(v))}return h}var i=n(159),a=n(231),o=n(232),s=n(160),u=n(373),c=n(161),l=200;e.exports=r},function(e,t,n){var r=n(219),i=n(374),a=n(161),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e,t,n){return null==e?e:i(e,t,n)}var i=n(209);e.exports=r},function(e,t){try{new MouseEvent("test")}catch(e){window.MouseEvent=function(e,t){var n=document.createEvent("MouseEvent"),r=Object.assign({bubbles:!1,cancelable:!1,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},t||{});return n.initMouseEvent(e,r.bubbles,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),n},window.MouseEvent.prototype=Event.prototype}},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void d(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var f=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new l(e,t,n)),n},a.all=function(e){return new a(function(t,n){function r(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(t){r(e,t)},n)}i[e]=o,0==--a&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var a=i.length,o=0;o<i.length;o++)r(o,i[o])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){f(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=a:n.Promise||(n.Promise=a)}(this)}).call(t,n(378).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(379),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(57))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(l)setTimeout(o,0,e);else{var t=c[e];if(t){l=!0;try{a(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(57),n(145))},function(e,t,n){"use strict";function r(e){return e&&"EPROMISERETRY"===e.code&&s.call(e,"retried")}function i(e,t){var n,i;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),i=o.operation(t),new Promise(function(t,n){i.attempt(function(o){Promise.resolve().then(function(){return e(function(e){throw r(e)&&(e=e.retried),a("Retrying","EPROMISERETRY",{retried:e})},o)}).then(t,function(e){r(e)&&(e=e.retried,i.retry(e||new Error))||n(e)})})})}var a=n(381),o=n(382),s=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t,n){var r,i=e instanceof Error?e:new Error(e);if("object"==typeof t?n=t:null!=t&&(i.code=t),n)for(r in n)i[r]=n[r];return i}e.exports=r},function(e,t,n){e.exports=n(383)},function(e,t,n){var r=n(384);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort(function(e,t){return e-t}),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r){r=[];for(var i in e)"function"==typeof e[i]&&r.push(i)}for(var a=0;a<r.length;a++){var o=r[a],s=e[o];e[o]=function(){var r=t.operation(n),i=Array.prototype.slice.call(arguments),a=i.pop();i.push(function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),a.apply(this,arguments))}),r.attempt(function(){s.apply(e,i)})},e[o].options=n}}},function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var n=this,r=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t);return this._options.unref&&r.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=n&&(t=i,n=o)}return t}},function(e,t){},function(e,t){},function(e,t,n){"use strict";e.exports=n(388)()?WeakMap:n(389)},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&("function"==typeof e.set&&(e.set({},1)===e&&("function"==typeof e.delete&&("function"==typeof e.has&&"one"===e.get(t)))))}},function(e,t,n){"use strict";var r,i=n(171),a=n(391),o=n(46),s=n(392),u=n(96),c=n(242),l=n(424),d=n(64).toStringTag,f=n(425),p=Array.isArray,h=Object.defineProperty,m=Object.prototype.hasOwnProperty,y=Object.getPrototypeOf;e.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=f&&i&&WeakMap!==r?i(new WeakMap,y(this)):this,null!=t&&(p(t)||(t=c(t))),h(e,"__weakMapData__",u("c","$weakMap$"+s())),t?(l(t,function(t){o(t),e.set(t[0],t[1])}),e):e},f&&(i&&i(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:u(r)})),Object.defineProperties(r.prototype,{delete:u(function(e){return!!m.call(a(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:u(function(e){if(m.call(a(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:u(function(e){return m.call(a(e),this.__weakMapData__)}),set:u(function(e,t){return h(a(e),this.__weakMapData__,u("c",t)),this}),toString:u(function(){return"[object WeakMap]"})}),h(r.prototype,d,u("c","WeakMap"))},function(e,t,n){"use strict";var r,i=Object.create;n(236)()||(r=n(237)),e.exports=function(){var e,t,n;return r?1!==r.level?i:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){if("__proto__"===e)return void(t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0});t[e]=n}),Object.defineProperties(e,t),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return i(null===t?e:t,n)}):i}()},function(e,t,n){"use strict";var r=n(238);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,n){"use strict";var r=Object.create(null),i=Math.random;e.exports=function(){var e;do{e=i().toString(36).slice(2)}while(r[e]);return e}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(395),i=n(46),a=Math.max;e.exports=function(e,t){var n,o,s,u=a(arguments.length,2);for(e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},o=1;o<u;++o)t=arguments[o],r(t).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=n(396)()?Object.keys:n(397)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(79),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r,i=n(171),a=n(241),o=n(96),s=n(64),u=n(243),c=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?a.call(t,"key+value")?"key+value":a.call(t,"key")?"key":"value":"value",c(this,"__kind__",o("",t))},i&&i(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:o(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),c(r.prototype,s.toStringTag,o("c","Array Iterator"))},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(e,t,n){"use strict";var r,i,a,o,s=n(96),u=n(404),c=Object.create,l=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,p=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),o=!0}catch(e){}}var h=function(){var e=c(null);return function(t){for(var n,r,i=0;e[t+(i||"")];)++i;return t+=i||"",e[t]=!0,n="@@"+t,d(f,n,s.gs(null,function(e){r||(r=!0,d(this,n,s(e)),r=!1)})),n}}();a=function(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?r(t):(n=c(a.prototype),t=void 0===t?"":String(t),l(n,{__description__:s("",t),__name__:s("",h(t))}))},l(i,{for:s(function(e){return p[e]?p[e]:p[e]=i(String(e))}),keyFor:s(function(e){var t;u(e);for(t in p)if(p[t]===e)return t}),hasInstance:s("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",r&&r.iterator||i("iterator")),match:s("",r&&r.match||i("match")),replace:s("",r&&r.replace||i("replace")),search:s("",r&&r.search||i("search")),species:s("",r&&r.species||i("species")),split:s("",r&&r.split||i("split")),toPrimitive:s("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:s("",r&&r.toStringTag||i("toStringTag")),unscopables:s("",r&&r.unscopables||i("unscopables"))}),l(a.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),l(i.prototype,{toString:s(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:s(function(){return u(this)})}),d(i.prototype,i.toPrimitive,s("",function(){var e=u(this);return"symbol"==typeof e?e:e.toString()})),d(i.prototype,i.toStringTag,s("c","Symbol")),d(a.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),d(a.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(e,t,n){"use strict";var r=n(405);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var r=n(46);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";var r,i=n(408),a=n(240),o=n(65),s=n(418),u=n(65),c=n(46),l=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,a=c(t)&&u(t.value);return r=i(t),delete r.writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,e)?a:(t.value=l.call(a,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},e.exports=function(e){var t=a(arguments[1]);return null!=t.resolveContext&&o(t.resolveContext),s(e,function(e,n){return r(n,e,t)})}},function(e,t,n){"use strict";var r=n(409),i=n(172),a=n(46);e.exports=function(e){var t=Object(a(e)),n=arguments[1],o=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(o.ensure||t in e)&&(s[t]=e[t])}):i(s,e),s}},function(e,t,n){"use strict";e.exports=n(410)()?Array.from:n(411)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(e=["raz","dwa"],t=n(e),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(64).iterator,i=n(129),a=n(412),o=n(413),s=n(65),u=n(46),c=n(79),l=n(130),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,n,m,y,v,g,b,_,w,k,E=arguments[1],S=arguments[2];if(e=Object(u(e)),c(E)&&s(E),this&&this!==Array&&a(this))t=this;else{if(!E){if(i(e))return 1!==(v=e.length)?Array.apply(null,e):(y=new Array(1),y[0]=e[0],y);if(d(e)){for(y=new Array(v=e.length),n=0;n<v;++n)y[n]=e[n];return y}}y=[]}if(!d(e))if(void 0!==(w=e[r])){for(b=s(w).call(e),t&&(y=new t),_=b.next(),n=0;!_.done;)k=E?f.call(E,S,_.value,n):_.value,t?(p.value=k,h(y,n,p)):y[n]=k,_=b.next(),++n;v=n}else if(l(e)){for(v=e.length,t&&(y=new t),n=0,m=0;n<v;++n)k=e[n],n+1<v&&(g=k.charCodeAt(0))>=55296&&g<=56319&&(k+=e[++n]),k=E?f.call(E,S,k,m):k,t?(p.value=k,h(y,m,p)):y[m]=k,++m;v=m}if(void 0===v)for(v=o(e.length),t&&(y=new t(v)),n=0;n<v;++n)k=E?f.call(E,S,e[n],n):e[n],t?(p.value=k,h(y,n,p)):y[n]=k;return t&&(p.value=null,y.length=v),y}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(n(239));e.exports=function(e){return"function"==typeof e&&r.call(e)===i}},function(e,t,n){"use strict";var r=n(414),i=Math.max;e.exports=function(e){return i(0,r(e))}},function(e,t,n){"use strict";var r=n(415),i=Math.abs,a=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?r(e)*a(i(e)):e)}},function(e,t,n){"use strict";e.exports=n(416)()?Math.sign:n(417)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var r=n(65),i=n(419),a=Function.prototype.call;e.exports=function(e,t){var n={},o=arguments[2];return r(t),i(e,function(e,r,i,s){n[r]=a.call(t,o,e,r,i,s)}),n}},function(e,t,n){"use strict";e.exports=n(420)("forEach")},function(e,t,n){"use strict";var r=n(65),i=n(46),a=Function.prototype.bind,o=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,c){var l,d=arguments[2],f=arguments[3];return n=Object(i(n)),r(c),l=s(n),f&&l.sort("function"==typeof f?a.call(f,n):void 0),"function"!=typeof e&&(e=l[e]),o.call(e,l,function(e,r){return u.call(n,e)?o.call(c,d,n[e],e,n,r):t})}}},function(e,t,n){"use strict";var r,i=n(171),a=n(96),o=n(64),s=n(243),u=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),u(this,"__length__",a("",e.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0),t>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n)})}),u(r.prototype,o.toStringTag,a("c","String Iterator"))},function(e,t,n){"use strict";var r=n(423);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var r=n(129),i=n(79),a=n(130),o=n(64).iterator,s=Array.isArray;e.exports=function(e){return!!i(e)&&(!!s(e)||(!!a(e)||(!!r(e)||"function"==typeof e[o])))}},function(e,t,n){"use strict";var r=n(129),i=n(65),a=n(130),o=n(242),s=Array.isArray,u=Function.prototype.call,c=Array.prototype.some;e.exports=function(e,t){var n,l,d,f,p,h,m,y,v=arguments[2];if(s(e)||r(e)?n="array":a(e)?n="string":e=o(e),i(t),d=function(){f=!0},"array"===n)return void c.call(e,function(e){return u.call(t,v,e,d),f});if("string"!==n)for(l=e.next();!l.done;){if(u.call(t,v,l.value,d),f)return;l=e.next()}else for(h=e.length,p=0;p<h&&(m=e[p],p+1<h&&(y=m.charCodeAt(0))>=55296&&y<=56319&&(m+=e[++p]),u.call(t,v,m,d),!f);++p);}},function(e,t,n){"use strict";e.exports=function(){return"function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)}()},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){!function(){function t(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^n,r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i^=255&e.charCodeAt(a),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)}return i^=i>>>13,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}function n(e,t){var n,r,i,a,o,s,u,c;for(n=3&e.length,r=e.length-n,i=t,o=3432918353,s=461845907,c=0;c<r;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u,i=i<<13|i>>>19,a=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&a)+((58964+(a>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:u^=255&e.charCodeAt(c),u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var r=n;r.v2=t,r.v3=n;e.exports=r}()},function(e,t,n){function r(e,t,n){e=s(e),t=o(t);var r=t?a(e):0;return t&&r<t?i(t-r,n)+e:e}var i=n(429),a=n(245),o=n(72),s=n(93);e.exports=r},function(e,t,n){function r(e,t){t=void 0===t?" ":a(t);var n=t.length;if(n<2)return n?i(t,e):t;var r=i(t,l(e/u(t)));return s(t)?o(c(r),0,e).join(""):r.slice(0,e)}var i=n(430),a=n(154),o=n(431),s=n(174),u=n(245),c=n(434),l=Math.ceil;e.exports=r},function(e,t){function n(e,t){var n="";if(!e||t<1||t>r)return n;do{t%2&&(n+=e),(t=i(t/2))&&(e+=e)}while(t);return n}var r=9007199254740991,i=Math.floor;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}var i=n(173);e.exports=r},function(e,t,n){var r=n(223),i=r("length");e.exports=i},function(e,t){function n(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,a,o,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var i=n(435),a=n(174),o=n(436);e.exports=r},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e){return e.match(d)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,a,o,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t,n){function r(e,t,n){this.name="InvalidExperimentConfigurationError",this.message='Invalid configuration for experiment "'+e+'": '+n,this.stack=(new Error).stack}function i(e,t){if(!t.hasOwnProperty("groups"))return new r(e,t,"missing a `groups` property");if(0===t.groups.length)return new r(e,t,"`groups` has no members");var n,i;for(n=0;n<t.groups.length;n++)if(t.groups[n].hasOwnProperty("value")?t.groups[n].hasOwnProperty("weight")?t.groups[n].weight!==Math.floor(t.groups[n].weight)?i="has a non-integer weight":t.groups[n].weight<0&&(i="has a negative weight"):i="is missing a `weight` property":i="is missing a `value` property",i)return new r(e,t,"Group "+t.groups[n].value+" "+i);return null}var a=n(438);t.validate=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=i(t,e[t]);if(null!==n)return n}return null},t.selectTreatment=function(e,t,n){var r=e+n,i=a(r),o=i.words[0]>>>0,s=o/Math.pow(2,32),u=t.groups.reduce(function(e,t){return e+t.weight},0);return t.groups.reduce(function(e,t){return null===e.value&&(e.current-=t.weight/u,e.current<=0&&(e.value=t.value)),e},{value:null,current:s}).value}},function(e,t,n){!function(r,i){e.exports=t=i(n(176))}(0,function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.algo,o=[],s=a.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var l=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=l<<1|l>>>31}var d=(r<<5|r>>>27)+u+o[c];d+=c<20?1518500249+(i&a|~i&s):c<40?1859775393+(i^a^s):c<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,u=s,s=a,a=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s)}(),e.SHA1})},function(e,t,n){var r=n(440),i=n(441),a=n(249);t.DEFAULT_SPADE_URL="//trowel.twitch.tv/",t.SPADE_URL_PROJECT_UUID="4badc757-13a7-468c-99b6-e42aef7fc286",t.sendEvent=function(e,n,o,s){var u={event:n,properties:o},c=r.stringify(i.parse(JSON.stringify(u))),l=e||t.DEFAULT_SPADE_URL;a.fetch(l,{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"data="+encodeURIComponent(c)},s)}},function(e,t,n){!function(r,i){e.exports=t=i(n(176))}(0,function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=t[a>>>2]>>>24-a%4*8&255,s=t[a+1>>>2]>>>24-(a+1)%4*8&255,u=t[a+2>>>2]>>>24-(a+2)%4*8&255,c=o<<16|s<<8|u,l=0;l<4&&a+.75*l<n;l++)i.push(r.charAt(c>>>6*(3-l)&63));var d=r.charAt(64);if(d)for(;i.length%4;)i.push(d);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var a=e.indexOf(i);-1!=a&&(t=a)}for(var o=[],s=0,u=0;u<t;u++)if(u%4){var c=n.indexOf(e.charAt(u-1))<<u%4*2,l=n.indexOf(e.charAt(u))>>>6-u%4*2,d=c|l;o[s>>>2]|=d<<24-s%4*8,s++}return r.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},function(e,t,n){!function(r,i){e.exports=t=i(n(176))}(0,function(e){return e.enc.Utf8})},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||T}function a(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||T}function o(){}function s(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||T}function u(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:k,type:e,key:a,ref:o,props:i,_owner:j.current}}function c(e){return"object"==typeof e&&null!==e&&e.$$typeof===k}function l(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function d(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function f(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function p(e,t,n,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case k:case E:case S:case P:o=!0}}if(o)return n(i,e,""===t?"."+h(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){a=e[s];var u=t+h(a,s);o+=p(a,u,n,i)}else if(null===e||void 0===e?u=null:(u=O&&e[O]||e["@@iterator"],u="function"==typeof u?u:null),"function"==typeof u)for(e=u.call(e),s=0;!(a=e.next()).done;)a=a.value,u=t+h(a,s++),o+=p(a,u,n,i);else"object"===a&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?l(e.key):t.toString(36)}function m(e,t){e.func.call(e.context,t,e.count++)}function y(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?v(e,r,n,_.thatReturnsArgument):null!=e&&(c(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(L,"$&/")+"/")+n,e={$$typeof:k,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function v(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(L,"$&/")+"/"),t=d(t,a,r,i),null==e||p(e,"",y,t),f(t)}/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var g=n(163),b=n(252),_=n(132),w="function"==typeof Symbol&&Symbol.for,k=w?Symbol.for("react.element"):60103,E=w?Symbol.for("react.call"):60104,S=w?Symbol.for("react.return"):60105,P=w?Symbol.for("react.portal"):60106,C=w?Symbol.for("react.fragment"):60107,O="function"==typeof Symbol&&Symbol.iterator,T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=i.prototype;var x=a.prototype=new o;x.constructor=a,g(x,i.prototype),x.isPureReactComponent=!0;var R=s.prototype=new o;R.constructor=s,g(R,i.prototype),R.unstable_isAsyncReactComponent=!0,R.render=function(){return this.props.children};var j={current:null},A=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0},L=/\/+/g,N=[],M={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return v(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=d(null,null,t,n),null==e||p(e,"",m,t),f(t)},count:function(e){return null==e?0:p(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return v(e,t,null,_.thatReturnsArgument),t},only:function(e){return c(e)||r("143"),e}},Component:i,PureComponent:a,unstable_AsyncComponent:s,Fragment:C,createElement:u,cloneElement:function(e,t,n){var r=g({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)A.call(t,u)&&!I.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:k,type:e.type,key:i,ref:a,props:r,_owner:o}},createFactory:function(e){var t=u.bind(null,e);return t.type=e,t},isValidElement:c,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:j,assign:g}},D=Object.freeze({default:M}),q=D&&M||D;e.exports=q.default?q.default:q},function(e,t,n){"use strict";var r=n(132),i=n(444),a=n(445);e.exports=function(){function e(e,t,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,s,u],d=0;c=new Error(t.replace(/%s/g,function(){return l[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(57))},function(e,t,n){"use strict";(function(e,r){var i,a=n(450);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(a.a)(i);t.a=o}).call(t,n(57),n(449)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.a=r},function(e,t,n){e.exports={parse:n(452),stringify:n(455)}},function(e,t,n){function r(e,t,n,r,i){var a=t.indexOf("<",r),o=t.slice(r,-1===a?void 0:a);/^\s*$/.test(o)&&(o=" "),(!i&&a>-1&&n+e.length>=0||" "!==o)&&e.push({type:"text",content:o})}var i=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,a=n(453),o=Object.create?Object.create(null):{};e.exports=function(e,t){t||(t={}),t.components||(t.components=o);var n,s=[],u=-1,c=[],l={},d=!1;return e.replace(i,function(i,o){if(d){if(i!=="</"+n.name+">")return;d=!1}var f,p="/"!==i.charAt(1),h=0===i.indexOf("\x3c!--"),m=o+i.length,y=e.charAt(m);p&&!h&&(u++,n=a(i),"tag"===n.type&&t.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!y||"<"===y||r(n.children,e,u,m,t.ignoreWhitespace),l[n.tagName]=n,0===u&&s.push(n),f=c[u-1],f&&f.children.push(n),c[u]=n),(h||!p||n.voidElement)&&(h||u--,!d&&"<"!==y&&y&&(f=-1===u?s:c[u].children,r(f,e,u,m,t.ignoreWhitespace)))}),!s.length&&e.length&&r(s,e,0,0,t.ignoreWhitespace),s}},function(e,t,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n(454);e.exports=function(e){var t,n=0,a=!0,o={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(r,function(r){if("="===r)return a=!0,void n++;a?0===n?((i[r]||"/"===e.charAt(e.length-2))&&(o.voidElement=!0),o.name=r):(o.attrs[t]=r.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(o.attrs[t]=t),t=r),n++,a=!1}),o}},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}function r(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?n(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(r,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce(function(e,t){return e+r("",t)},"")}},function(e,t,n){var r=n(457),i=r();e.exports=i},function(e,t,n){function r(e){return function(t,n,r){return r&&"number"!=typeof r&&a(t,n,r)&&(n=r=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),r=void 0===r?t<n?1:-1:o(r),i(t,n,r,e)}}var i=n(458),a=n(106),o=n(205);e.exports=r},function(e,t){function n(e,t,n,a){for(var o=-1,s=i(r((t-e)/(n||1)),0),u=Array(s);s--;)u[a?s:++o]=e,e+=n;return u}var r=Math.ceil,i=Math.max;e.exports=n},function(e,t,n){function r(e,t){var n={};return t=o(t,3),a(e,function(e,r,a){i(n,r,t(e,r,a))}),n}var i=n(94),a=n(230),o=n(75);e.exports=r},function(e,t){/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
var n=function(){function e(){if(!H&&document.getElementsByTagName("body")[0]){try{var e,t=g("span");t.style.display="none",e=M.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(e){return}H=!0;for(var n=U.length,r=0;r<n;r++)U[r]()}}function t(e){H?e():U[U.length]=e}function r(e){if(typeof N.addEventListener!==j)N.addEventListener("load",e,!1);else if(typeof M.addEventListener!==j)M.addEventListener("load",e,!1);else if(typeof N.attachEvent!==j)_(N,"onload",e);else if("function"==typeof N.onload){var t=N.onload;N.onload=function(){t(),e()}}else N.onload=e}function i(){var e=M.getElementsByTagName("body")[0],t=g(A);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",I);var n=e.appendChild(t);if(n){var r=0;!function i(){if(typeof n.GetVariable!==j)try{var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),G.pv=[b(o[0]),b(o[1]),b(o[2])])}catch(e){G.pv=[8,0,0]}else if(r<10)return r++,void setTimeout(i,10);e.removeChild(t),n=null,a()}()}else a()}function a(){var e=B.length;if(e>0)for(var t=0;t<e;t++){var n=B[t].id,r=B[t].callbackFn,i={success:!1,id:n};if(G.pv[0]>0){var a=v(n);if(a)if(!w(B[t].swfVersion)||G.wk&&G.wk<312)if(B[t].expressInstall&&s()){var l={};l.data=B[t].expressInstall,l.width=a.getAttribute("width")||"0",l.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(l.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(l.align=a.getAttribute("align"));for(var d={},f=a.getElementsByTagName("param"),p=f.length,h=0;h<p;h++)"movie"!==f[h].getAttribute("name").toLowerCase()&&(d[f[h].getAttribute("name")]=f[h].getAttribute("value"));u(l,d,n,r)}else c(a),r&&r(i);else E(n,!0),r&&(i.success=!0,i.ref=o(n),i.id=n,r(i))}else if(E(n,!0),r){var m=o(n);m&&typeof m.SetVariable!==j&&(i.success=!0,i.ref=m,i.id=m.id),r(i)}}}function o(e){var t=null,n=v(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==j?n:n.getElementsByTagName(A)[0]||n),t}function s(){return!z&&w("6.0.65")&&(G.win||G.mac)&&!(G.wk&&G.wk<312)}function u(e,t,n,r){var i=v(n);if(n=y(n),z=!0,O=r||null,T={success:!1,id:n},i){"OBJECT"===i.nodeName.toUpperCase()?(P=l(i),C=null):(P=i,C=n),e.id=L,(typeof e.width===j||!/%$/.test(e.width)&&b(e.width)<310)&&(e.width="310"),(typeof e.height===j||!/%$/.test(e.height)&&b(e.height)<137)&&(e.height="137");var a=G.ie?"ActiveX":"PlugIn",o="MMredirectURL="+encodeURIComponent(N.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+a+"&MMdoctitle="+encodeURIComponent(M.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!==j?t.flashvars+="&"+o:t.flashvars=o,G.ie&&4!=i.readyState){var s=g("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",h(i)}f(e,t,n)}}function c(e){if(G.ie&&4!=e.readyState){e.style.display="none";var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(l(e),t),h(e)}else e.parentNode.replaceChild(l(e),e)}function l(e){var t=g("div");if(G.win&&G.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(A)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,a=0;a<i;a++)1==r[a].nodeType&&"PARAM"===r[a].nodeName||8==r[a].nodeType||t.appendChild(r[a].cloneNode(!0))}}return t}function d(e,t){var n=g("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function f(e,t,n){var r,i=v(n);if(n=y(n),G.wk&&G.wk<312)return r;if(i){var a,o,s,u=g(G.ie?"div":A);typeof e.id===j&&(e.id=n);for(s in t)t.hasOwnProperty(s)&&"movie"!==s.toLowerCase()&&p(u,s,t[s]);G.ie&&(u=d(e.data,u.innerHTML));for(a in e)e.hasOwnProperty(a)&&(o=a.toLowerCase(),"styleclass"===o?u.setAttribute("class",e[a]):"classid"!==o&&"data"!==o&&u.setAttribute(a,e[a]));G.ie?F[F.length]=e.id:(u.setAttribute("type",I),u.setAttribute("data",e.data)),i.parentNode.replaceChild(u,i),r=u}return r}function p(e,t,n){var r=g("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function h(e){var t=v(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(G.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function m(e){return e&&e.nodeType&&1===e.nodeType}function y(e){return m(e)?e.id:e}function v(e){if(m(e))return e;var t=null;try{t=M.getElementById(e)}catch(e){}return t}function g(e){return M.createElement(e)}function b(e){return parseInt(e,10)}function _(e,t,n){e.attachEvent(t,n),V[V.length]=[e,t,n]}function w(e){e+="";var t=G.pv,n=e.split(".");return n[0]=b(n[0]),n[1]=b(n[1])||0,n[2]=b(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function k(e,t,n,r){var i=M.getElementsByTagName("head")[0];if(i){var a="string"==typeof n?n:"screen";if(r&&(x=null,R=null),!x||R!=a){var o=g("style");o.setAttribute("type","text/css"),o.setAttribute("media",a),x=i.appendChild(o),G.ie&&typeof M.styleSheets!==j&&M.styleSheets.length>0&&(x=M.styleSheets[M.styleSheets.length-1]),R=a}x&&(typeof x.addRule!==j?x.addRule(e,t):typeof M.createTextNode!==j&&x.appendChild(M.createTextNode(e+" {"+t+"}")))}}function E(e,t){if(W){var n=t?"visible":"hidden",r=v(e);H&&r?r.style.visibility=n:"string"==typeof e&&k("#"+e,"visibility:"+n)}}function S(e){return null!==/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!==j?encodeURIComponent(e):e}var P,C,O,T,x,R,j="undefined",A="object",I="application/x-shockwave-flash",L="SWFObjectExprInst",N=window,M=document,D=navigator,q=!1,U=[],B=[],F=[],V=[],H=!1,z=!1,W=!0,K=!1,G=function(){var e=typeof M.getElementById!==j&&typeof M.getElementsByTagName!==j&&typeof M.createElement!==j,t=D.userAgent.toLowerCase(),n=D.platform.toLowerCase(),r=/win/.test(n?n:t),i=/mac/.test(n?n:t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o="Microsoft Internet Explorer"===D.appName,s=[0,0,0],u=null;if(typeof D.plugins!==j&&typeof D.plugins["Shockwave Flash"]===A)(u=D.plugins["Shockwave Flash"].description)&&typeof D.mimeTypes!==j&&D.mimeTypes[I]&&D.mimeTypes[I].enabledPlugin&&(q=!0,o=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=b(u.replace(/^(.*)\..*$/,"$1")),s[1]=b(u.replace(/^.*\.(.*)\s.*$/,"$1")),s[2]=/[a-zA-Z]/.test(u)?b(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof N.ActiveXObject!==j)try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c&&(u=c.GetVariable("$version"))&&(o=!0,u=u.split(" ")[1].split(","),s=[b(u[0]),b(u[1]),b(u[2])])}catch(e){}return{w3:e,pv:s,wk:a,ie:o,win:r,mac:i}}();!function(){G.w3&&((typeof M.readyState!==j&&("complete"===M.readyState||"interactive"===M.readyState)||typeof M.readyState===j&&(M.getElementsByTagName("body")[0]||M.body))&&e(),H||(typeof M.addEventListener!==j&&M.addEventListener("DOMContentLoaded",e,!1),G.ie&&(M.attachEvent("onreadystatechange",function t(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",t),e())}),N==top&&function t(){if(!H){try{M.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()),G.wk&&function t(){if(!H)return/loaded|complete/.test(M.readyState)?void e():void setTimeout(t,0)}()))}();U[0]=function(){q?i():a()};!function(){G.ie&&window.attachEvent("onunload",function(){for(var e=V.length,t=0;t<e;t++)V[t][0].detachEvent(V[t][1],V[t][2]);for(var r=F.length,i=0;i<r;i++)h(F[i]);for(var a in G)G[a]=null;G=null;for(var o in n)n[o]=null;n=null})}();return{registerObject:function(e,t,n,r){if(G.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,B[B.length]=i,E(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(G.w3)return o(e)},embedSWF:function(e,n,r,i,a,o,c,l,d,p){var h=y(n),m={success:!1,id:h};G.w3&&!(G.wk&&G.wk<312)&&e&&n&&r&&i&&a?(E(h,!1),t(function(){r+="",i+="";var t={};if(d&&typeof d===A)for(var y in d)t[y]=d[y];t.data=e,t.width=r,t.height=i;var v={};if(l&&typeof l===A)for(var g in l)v[g]=l[g];if(c&&typeof c===A)for(var b in c)if(c.hasOwnProperty(b)){var _=K?encodeURIComponent(b):b,k=K?encodeURIComponent(c[b]):c[b];typeof v.flashvars!==j?v.flashvars+="&"+_+"="+k:v.flashvars=_+"="+k}if(w(a)){var S=f(t,v,n);t.id==h&&E(h,!0),m.success=!0,m.ref=S,m.id=S.id}else{if(o&&s())return t.data=o,void u(t,v,n,p);E(h,!0)}p&&p(m)})):p&&p(m)},switchOffAutoHideShow:function(){W=!1},enableUriEncoding:function(e){K=typeof e===j||e},ua:G,getFlashPlayerVersion:function(){return{major:G.pv[0],minor:G.pv[1],release:G.pv[2]}},hasFlashPlayerVersion:w,createSWF:function(e,t,n){return G.w3?f(e,t,n):void 0},showExpressInstall:function(e,t,n,r){G.w3&&s()&&u(e,t,n,r)},removeSWF:function(e){G.w3&&h(e)},createCSS:function(e,t,n,r){G.w3&&k(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:r,getQueryParamValue:function(e){var t=M.location.search||M.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return S(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return S(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(z){var e=v(L);e&&P&&(e.parentNode.replaceChild(P,e),C&&(E(C,!0),G.ie&&(P.style.display="block")),O&&O(T)),z=!1}},version:"2.3"}}();e.exports=n},function(e,t,n){function r(e,t){return function(n,r){var u=s(n)?i:a,c=t?t():{};return u(n,e,o(r,2),c)}}var i=n(462),a=n(463),o=n(75),s=n(19);e.exports=r},function(e,t){function n(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}e.exports=n},function(e,t,n){function r(e,t,n,r){return i(e,function(e,i,a){t(r,e,n(e),a)}),r}var i=n(125);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=a(e)?Array(e.length):[];return i(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var i=n(125),a=n(44);e.exports=r},function(e,t){function n(){var e=(navigator.appVersion||"").toLowerCase();return i.some(function(t){return e.indexOf(t)>-1})}function r(){var e=(navigator.appVersion||"").toLowerCase(),t=e.match(/chrome\/(\d+)/);if(t&&t.length>1){return parseInt(t[1])<50}return!1}var i=["5.0 (macintosh; intel mac os x 10_11_6) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (macintosh; intel mac os x 10_11_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (playstation 4 3.55) applewebkit/537.78 (khtml, like gecko)","5.0 (macintosh; intel mac os x 10_11_4) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (macintosh; intel mac os x 10_11_3) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g35 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/537.86.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/600.8.9 (khtml, like gecko) version/8.0.8 safari/600.8.9","5.0 (macintosh; intel mac os x 10_11_1) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/34.0.1847.137 safari/537.31 smarttv/6.0","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; r","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/49.0.2623.112 safari/537.36 opr/36.0.2130.80","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.56 (khtml, like gecko) version/9.0 safari/601.1.56","5.0 (macintosh; intel mac os x 10_11_2) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (ipad; cpu os 9_3_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13f69 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/537.86.6","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2272.118 safari/537.36","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.us","5.0 (macintosh; intel mac os x 10_12) applewebkit/602.1.50 (khtml, like gecko) version/10.0 safari/602.1.50","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.134 safari/537.36 u01-04","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/51.0.2683.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/537.86.5","5.0 (macintosh; intel mac os x 10_10_4) applewebkit/600.7.12 (khtml, like gecko) version/8.0.7 safari/600.7.12","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.157 yabrowser/15.9.2403.3043 safari/537.36","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/600.8.9 (khtml, like gecko) version/6.2.8 safari/537.85.17","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.5.17 (khtml, like gecko) version/8.0.5 safari/600.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:reserved; rv:11.0) like gec","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/50.0.2632.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; gwx:downloaded; gwx","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/26.0.1410.33 safari/537.31 smarttv/5.0","5.0 (ipad; cpu os 9_3_3 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g34 safari/601.1","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; tablet pc 2.0; infopath.2; .net4.0c; .net4.0e; gwx:managed","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; creative autoupdate","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (linux; u) applewebkit/537.4 (khtml, like gecko) chrome/22.0.1229.79 safari/537.4","5.0 (ipad; cpu os 9_3_5 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g36 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; .net clr 1.1.4322;","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/52.0.2743.117 safari/537.36 vivaldi/1.3.551.38","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; gwx:downloaded; gwx","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:qualified; rv:11.0) like ge","5.0 (ipad; cpu os 9_2_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13d15 safari/601.1","5.0 (ipad; cpu os 9_3_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13e238 safari/601.1","5.0 (macintosh; intel mac os x 10_10_1) applewebkit/600.2.5 (khtml, like gecko) version/8.0.2 safari/600.2.5","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/537.86.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; officeliveconnector.1.5; office","5.0 (smart-tv; x11; linux i686) applewebkit/535.20+ (khtml, like gecko) version/5.0 safari/535.20+","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1 (khtml, like gecko) crios/52.0.2743.84 mobile/13g35 safari/601.1.46","5.0 (smart-tv; x11; linux armv7l) applewebkit/537.42 (khtml, like gecko) chromium/25.0.1349.2 chrome/25.0.1349.2 safari/537.42","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; markanyeps#25103; rv:11.0) like","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2490.86 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2231.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/537.86.4","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/537.78.2 (khtml, like gecko) version/7.0.6 safari/537.78.2","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; gwx:downloaded; gwx:reser","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_7_5) applewebkit/537.78.2 (khtml, like gecko) version/6.1.6 safari/537.78.2","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.10 (khtml, like gecko) version/8.0.4 safari/600.4.10","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; rv:11.0)","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.eu","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; c","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) iron/36.0.1950.0 chrome/36.0.1950.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:red; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; zune 4.7; .net4.0c; .net4.0e; infopath.3; gwx:downl","9.80 (windows nt 6.1; wow64)","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; gwx:reserved; r","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; 4399box.1357; .net4.0c; .net4.0e; rctw; rv:11.0) li","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.7.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; bri/2; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.35 (khtml, like gecko) version/9.0 safari/601.1.35","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.1; gwx:qualified; rv:1","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/40.0.2214.45 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.130 safari/537.36 overwolfclient/0.97.31.0","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.3.18 (khtml, like gecko) version/8.0.3 safari/600.3.18","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; np06; .net clr 1.1.4322; bri/2;","5.0 (ipad; cpu os 9_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13c75 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; raidcall; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.8 (khtml, like gecko) version/8.0.3 safari/600.4.8","5.0 (windows nt 6.2; wow64) applewebkit/537.36 (khtml, like gecko) chrome/29.0.1547.76 safari/537.36","5.0 (ipad; cpu os 8_4_1 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h321 safari/600.1.4","5.0 (windows nt 6.3; wow64; trident/7.0; .net4.0e; .net4.0c; .net clr 3.5.30729; .net clr 2.0.50727; .net clr 3.0.30729; gwx:downloaded; gwx:reserved; tnjb; rv:11.0) like gecko","5.0 (ipad; cpu os 8_4 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h143 safari/600.1.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; bri/2; .net4.0c; .net4.0e; rv:11.0) lik","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/36.0.1985.143 safari/537.36","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; tablet pc 2.0; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; gwx:reserved; rv:11","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/537.74.9 (khtml, like gecko) version/6.1.2 safari/537.74.9","5.0 (windows nt 6.1; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/48.0.2536.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.6.3 (khtml, like gecko) version/8.0.6 safari/600.6.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; gwx:reserved; rv:11","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (linux; android 4.0.4; kfjwi build/imm76d) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; .net clr 1.1.4322; rv:11.0) lik","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rctw; rv:11.0) like","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (linux; android 4.0.3; kftt build/iml74k) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/27.0.1453.110 safari/537.36 coolnovo/2.0.9.20","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/537.86.2","5.0 (macintosh; intel mac os x 10_10) applewebkit/600.1.25 (khtml, like gecko) version/8.0 safari/600.1.25","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.5.3000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; mcafee; gwx:downloaded; gwx:res","5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2486.0 safari/537.36 edge/13.10586"];e.exports={PLAYER_CORE_HOST:{test:"//cvp-test.twitch.tv/",beta:"//cvp-test.twitch.tv/",prod:"//cvp.twitch.tv/",dev:"//player-core-web.twitch.tv/"},PLAYER_CORE_FILE_NAME:"/player-core-min.js",PLAYER_CORE_FILE_NAME_DEBUG:"/player-core.js",MEDIAPLAYER_FILE_NAME:"/mediaplayer.min.js",MEDIAPLAYER_WORKER_FILE_NAME:"/worker.min.js",MEDIAPLAYER_FILE_NAME_DEBUG:"/mediaplayer.js",MEDIAPLAYER_WORKER_FILE_NAME_DEBUG:"/worker.js",SCRIPT_ID:"TwitchPlayerCoreModule",EXPERIMENT_ID:"45d73059-3cea-436a-b41f-86bb05f845f2",DEFAULT_VERSION:"1.8.13",CAN_LOAD:function(){try{var e=(navigator.appVersion||"").toLowerCase();return"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')&&!n()&&-1===e.indexOf("rv:11")}catch(e){return console.log(e),!1}}(),SPADE_EVENT_NAME:"player_core_error",MAX_ATTEMPTS:3,SETTING_CRITERIA:{fxf:!r(),fxfll:!r(),catup:!r()}}},function(e,t,n){function r(e){var t=Math[e];return function(e,n){if(e=a(e),n=null==n?0:s(i(n),292)){var r=(o(e)+"e").split("e"),u=t(r[0]+"e"+(+r[1]+n));return r=(o(u)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var i=n(72),a=n(112),o=n(93),s=Math.min;e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,i)}var i=n(468),a=n(211);e.exports=r},function(e,t){function n(e,t){return null!=e&&i.call(e,t)}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=a(n),n=n===n?n:0),void 0!==t&&(t=a(t),t=t===t?t:0),i(a(e),t,n)}var i=n(263),a=n(112);e.exports=r},function(e,t,n){function r(e){return i(e).toLowerCase()}var i=n(93);e.exports=r},function(e,t,n){function r(e,t,n){e=s(e),t=a(t);var r=e.length;n=void 0===n?r:i(o(n),0,r);var u=n;return(n-=t.length)>=0&&e.slice(n,u)==t}var i=n(263),a=n(154),o=n(72),s=n(93);e.exports=r},function(e,t){!function(e,t,n,r,i,a,o){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},_Q:[]},a=n.createElement(r),a.async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",o=n.getElementsByTagName(r)[0],o.parentNode.insertBefore(a,o))}("apstag",window,document,"script")},function(e,t,n){function r(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return a(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:r,maxWait:t,trailing:s})}var i=n(474),a=n(24),o="Expected a function";e.exports=r},function(e,t,n){function r(e,t,n){function r(t){var n=g,r=b;return g=b=void 0,S=t,w=e.apply(r,n)}function l(e){return S=e,k=setTimeout(p,t),P?r(e):w}function d(e){var n=e-E,r=e-S,i=t-n;return C?c(i,_-r):i}function f(e){var n=e-E,r=e-S;return void 0===E||n>=t||n<0||C&&r>=_}function p(){var e=a();if(f(e))return h(e);k=setTimeout(p,d(e))}function h(e){return k=void 0,O&&g?r(e):(g=b=void 0,w)}function m(){void 0!==k&&clearTimeout(k),S=0,g=E=b=k=void 0}function y(){return void 0===k?w:h(a())}function v(){var e=a(),n=f(e);if(g=arguments,b=this,E=e,n){if(void 0===k)return l(E);if(C)return k=setTimeout(p,t),r(E)}return void 0===k&&(k=setTimeout(p,t)),w}var g,b,_,w,k,E,S=0,P=!1,C=!1,O=!0;if("function"!=typeof e)throw new TypeError(s);return t=o(t)||0,i(n)&&(P=!!n.leading,C="maxWait"in n,_=C?u(o(n.maxWait)||0,t):_,O="trailing"in n?!!n.trailing:O),v.cancel=m,v.flush=y,v}var i=n(24),a=n(475),o=n(112),s="Expected a function",u=Math.max,c=Math.min;e.exports=r},function(e,t,n){var r=n(32),i=function(){return r.Date.now()};e.exports=i},function(e,t,n){e.exports=n.p+"vendor/TwitchPlayer.7cfe0f2e9d071ac72c5a539139bcedd4.swf"},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){function r(e){return i(e,a)}var i=n(265),a=4;e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,a(t),e)}var i=n(51),a=n(50);e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,a(t),e)}var i=n(51),a=n(59);e.exports=r},function(e,t,n){function r(e,t){return i(e,a(e),t)}var i=n(51),a=n(162);e.exports=r},function(e,t,n){function r(e,t){return i(e,a(e),t)}var i=n(51),a=n(267);e.exports=r},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case v:return i(e);case c:case l:return new r(+e);case g:return a(e,n);case b:case _:case w:case k:case E:case S:case P:case C:case O:return u(e,n);case d:return new r;case f:case m:return new r(e);case p:return o(e);case h:return new r;case y:return s(e)}}var i=n(165),a=n(485),o=n(486),s=n(487),u=n(227),c="[object Boolean]",l="[object Date]",d="[object Map]",f="[object Number]",p="[object RegExp]",h="[object Set]",m="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(165);e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e){return o?Object(o.call(e)):{}}var i=n(70),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;e.exports=r},function(e,t,n){var r=n(489),i=n(92),a=n(149),o=a&&a.isMap,s=o?i(o):r;e.exports=s},function(e,t,n){function r(e){return a(e)&&i(e)==o}var i=n(122),a=n(33),o="[object Map]";e.exports=r},function(e,t,n){var r=n(491),i=n(92),a=n(149),o=a&&a.isSet,s=o?i(o):r;e.exports=s},function(e,t,n){function r(e){return a(e)&&i(e)==o}var i=n(122),a=n(33),o="[object Set]";e.exports=r},function(e,t,n){function r(e,t){return null==e?e:i(e,a(t),o)}var i=n(164),a=n(269),o=n(59);e.exports=r},function(e,t,n){e.exports=n(494)},function(e,t,n){function r(e,t){return(s(e)?i:a)(e,o(t))}var i=n(266),a=n(125),o=n(269),s=n(19);e.exports=r},function(e,t,n){var r=n(60),i=n(496),a=n(90),o=n(497),s=a(function(e){var t=r(e,o);return t.length&&t[0]===e[0]?i(t):[]});e.exports=s},function(e,t,n){function r(e,t,n){for(var r=n?o:a,d=e[0].length,f=e.length,p=f,h=Array(f),m=1/0,y=[];p--;){var v=e[p];p&&t&&(v=s(v,u(t))),m=l(v.length,m),h[p]=!n&&(t||d>=120&&v.length>=120)?new i(p&&v):void 0}v=e[0];var g=-1,b=h[0];e:for(;++g<d&&y.length<m;){var _=v[g],w=t?t(_):_;if(_=n||0!==_?_:0,!(b?c(b,w):r(y,w,n))){for(p=f;--p;){var k=h[p];if(!(k?c(k,w):r(e[p],w,n)))continue e}b&&b.push(w),y.push(_)}}return y}var i=n(159),a=n(231),o=n(232),s=n(60),u=n(92),c=n(160),l=Math.min;e.exports=r},function(e,t,n){function r(e){return i(e)?e:[]}var i=n(167);e.exports=r},function(e,t,n){function r(e,t){return t=i(t,e),null==(e=o(e,t))||delete e[s(a(t))]}var i=n(73),a=n(499),o=n(500),s=n(74);e.exports=r},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t){return t.length<2?e:i(e,a(t,0,-1))}var i=n(114),a=n(173);e.exports=r},function(e,t,n){function r(e){return i(e)?void 0:e}var i=n(168);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(503),p=r(f);(t.CopyToClipboard=function(e){function t(){var e,n,r,i;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onClick=function(e){var t=r.props,n=t.text,i=t.onCopy,a=t.children,o=t.options,s=d.default.Children.only(a),u=(0,p.default)(n,o);i&&i(n,u),s&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e)},i=n,o(r,i)}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=i(e,["text","onCopy","options","children"]),r=d.default.Children.only(t);return d.default.cloneElement(r,u({},n,{onClick:this.onClick}))}}]),t}(d.default.PureComponent)).defaultProps={onCopy:void 0,options:void 0}},function(e,t,n){"use strict";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,s,u,c,l,d=!1;t||(t={}),n=t.debug||!1;try{s=a(),u=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",document.body.appendChild(l),u.selectNode(l),c.addRange(u);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(a){n&&console.error("unable to copy using execCommand: ",a),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),d=!0}catch(a){n&&console.error("unable to copy using clipboardData: ",a),n&&console.error("falling back to prompt"),i=r("message"in t?t.message:o),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(u):c.removeAllRanges()),l&&document.body.removeChild(l),s()}return d}var a=n(504),o="Copy to clipboard: #{key}, Enter";e.exports=i},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t){return(e&t)===t}function a(e,t){if(xn.hasOwnProperty(e)||2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return xn.hasOwnProperty(e)?e=!0:(t=o(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e="data-"===e||"aria-"===e),e;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function o(e){return jn.hasOwnProperty(e)?jn[e]:null}function s(e){return e[1].toUpperCase()}function u(e,t,n,r,i,a,o,s,u){zn._hasCaughtError=!1,zn._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){zn._caughtError=e,zn._hasCaughtError=!0}}function c(){if(zn._hasRethrowError){var e=zn._rethrowError;throw zn._rethrowError=null,zn._hasRethrowError=!1,e}}function l(){if(Wn)for(var e in Kn){var t=Kn[e],n=Wn.indexOf(e);if(-1<n||r("96",e),!Gn[n]){t.extractEvents||r("97",e),Gn[n]=t,n=t.eventTypes;for(var i in n){var a=void 0,o=n[i],s=t,u=i;Qn.hasOwnProperty(u)&&r("99",u),Qn[u]=o;var c=o.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&d(c[a],s,u);a=!0}else o.registrationName?(d(o.registrationName,s,u),a=!0):a=!1;a||r("98",i,e)}}}}function d(e,t,n){Yn[e]&&r("100",e),Yn[e]=t,$n[e]=t.eventTypes[n].dependencies}function f(e){Wn&&r("101"),Wn=Array.prototype.slice.call(e),l()}function p(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Kn.hasOwnProperty(t)&&Kn[t]===i||(Kn[t]&&r("102",t),Kn[t]=i,n=!0)}n&&l()}function h(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=er(r),zn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function m(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function y(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function v(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)h(e,t,n[i],r[i]);else n&&h(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function g(e){return v(e,!0)}function b(e){return v(e,!1)}function _(e,t){var n=e.stateNode;if(!n)return null;var i=Xn(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&r("231",t,typeof n),n)}function w(e,t,n,r){for(var i,a=0;a<Gn.length;a++){var o=Gn[a];o&&(o=o.extractEvents(e,t,n,r))&&(i=m(i,o))}return i}function k(e){e&&(tr=m(tr,e))}function E(e){var t=tr;tr=null,t&&(e?y(t,g):y(t,b),tr&&r("95"),zn.rethrowCaughtError())}function S(e){if(e[ar])return e[ar];for(var t=[];!e[ar];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=void 0,r=e[ar];if(5===r.tag||6===r.tag)return r;for(;e&&(r=e[ar]);e=t.pop())n=r;return n}function P(e){if(5===e.tag||6===e.tag)return e.stateNode;r("33")}function C(e){return e[or]||null}function O(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function T(e,t,n){for(var r=[];e;)r.push(e),e=O(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function x(e,t,n){(t=_(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.phasedRegistrationNames&&T(e._targetInst,x,e)}function j(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?O(t):null,T(t,x,e)}}function A(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=_(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function I(e){e&&e.dispatchConfig.registrationName&&A(e._targetInst,null,e)}function L(e){y(e,R)}function N(e,t,n,r){if(n&&r)e:{for(var i=n,a=r,o=0,s=i;s;s=O(s))o++;s=0;for(var u=a;u;u=O(u))s++;for(;0<o-s;)i=O(i),o--;for(;0<s-o;)a=O(a),s--;for(;o--;){if(i===a||i===a.alternate)break e;i=O(i),a=O(a)}i=null}else i=null;for(a=i,i=[];n&&n!==a&&(null===(o=n.alternate)||o!==a);)i.push(n),n=O(n);for(n=[];r&&r!==a&&(null===(o=r.alternate)||o!==a);)n.push(r),r=O(r);for(r=0;r<i.length;r++)A(i[r],"bubbled",e);for(e=n.length;0<e--;)A(n[e],"captured",t)}function M(){return!cr&&_n.canUseDOM&&(cr="textContent"in document.documentElement?"textContent":"innerText"),cr}function D(){if(lr._fallbackText)return lr._fallbackText;var e,t,n=lr._startText,r=n.length,i=q(),a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return lr._fallbackText=i.slice(e,1<t?1-t:void 0),lr._fallbackText}function q(){return"value"in lr._root?lr._root.value:lr._root[M()]}function U(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?kn.thatReturnsTrue:kn.thatReturnsFalse,this.isPropagationStopped=kn.thatReturnsFalse,this}function B(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function F(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function V(e){e.eventPool=[],e.getPooled=B,e.release=F}function H(e,t,n,r){return U.call(this,e,t,n,r)}function z(e,t,n,r){return U.call(this,e,t,n,r)}function W(e,t){switch(e){case"topKeyUp":return-1!==pr.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function K(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function G(e,t){switch(e){case"topCompositionEnd":return K(t);case"topKeyPress":return 32!==t.which?null:(Er=!0,wr);case"topTextInput":return e=t.data,e===wr&&Er?null:e;default:return null}}function Q(e,t){if(Sr)return"topCompositionEnd"===e||!hr&&W(e,t)?(e=D(),lr._root=null,lr._startText=null,lr._fallbackText=null,Sr=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return _r?null:t.data;default:return null}}function Y(e){if(e=Zn(e)){Cr&&"function"==typeof Cr.restoreControlledState||r("194");var t=Xn(e.stateNode);Cr.restoreControlledState(e.stateNode,e.type,t)}}function $(e){Or?Tr?Tr.push(e):Tr=[e]:Or=e}function J(){if(Or){var e=Or,t=Tr;if(Tr=Or=null,Y(e),t)for(e=0;e<t.length;e++)Y(t[e])}}function X(e,t){return e(t)}function Z(e,t){if(jr)return X(e,t);jr=!0;try{return X(e,t)}finally{jr=!1,J()}}function ee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ar[e.type]:"textarea"===t}function te(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ne(e,t){if(!_n.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"==typeof n[t]),!n&&gr&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ie(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function ae(e){e._valueTracker||(e._valueTracker=ie(e))}function oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=re(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function se(e,t,n){return e=U.getPooled(Ir.change,e,t,n),e.type="change",$(n),L(e),e}function ue(e){k(e),E(!1)}function ce(e){if(oe(P(e)))return e}function le(e,t){if("topChange"===e)return t}function de(){Lr&&(Lr.detachEvent("onpropertychange",fe),Nr=Lr=null)}function fe(e){"value"===e.propertyName&&ce(Nr)&&(e=se(Nr,e,te(e)),Z(ue,e))}function pe(e,t,n){"topFocus"===e?(de(),Lr=t,Nr=n,Lr.attachEvent("onpropertychange",fe)):"topBlur"===e&&de()}function he(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return ce(Nr)}function me(e,t){if("topClick"===e)return ce(t)}function ye(e,t){if("topInput"===e||"topChange"===e)return ce(t)}function ve(e,t,n,r){return U.call(this,e,t,n,r)}function ge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qr[e])&&!!t[e]}function be(){return ge}function _e(e,t,n,r){return U.call(this,e,t,n,r)}function we(e){return e=e.type,"string"==typeof e?e:"function"==typeof e?e.displayName||e.name:null}function ke(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function Ee(e){return!!(e=e._reactInternalFiber)&&2===ke(e)}function Se(e){2!==ke(e)&&r("188")}function Pe(e){var t=e.alternate;if(!t)return t=ke(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var s=a.child;s;){if(s===n)return Se(a),e;if(s===i)return Se(a),t;s=s.sibling}r("188")}if(n.return!==i.return)n=a,i=o;else{s=!1;for(var u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Ce(e){if(!(e=Pe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Oe(e){if(!(e=Pe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Te(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=S(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],zr(e.topLevelType,t,e.nativeEvent,te(e.nativeEvent))}function xe(e){Hr=!!e}function Re(e,t,n){return n?En.listen(n,t,Ae.bind(null,e)):null}function je(e,t,n){return n?En.capture(n,t,Ae.bind(null,e)):null}function Ae(e,t){if(Hr){var n=te(t);if(n=S(n),null===n||"number"!=typeof n.tag||2===ke(n)||(n=null),Vr.length){var r=Vr.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Z(Te,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Vr.length&&Vr.push(e)}}}function Ie(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function Le(e){if(Gr[e])return Gr[e];if(!Kr[e])return e;var t,n=Kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Qr)return Gr[e]=n[t];return""}function Ne(e){return Object.prototype.hasOwnProperty.call(e,Xr)||(e[Xr]=Jr++,$r[e[Xr]]={}),$r[e[Xr]]}function Me(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function De(e,t){var n=Me(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Me(n)}}function qe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function Ue(e,t){if(ii||null==ti||ti!==Sn())return null;var n=ti;return"selectionStart"in n&&qe(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ri&&Pn(ri,n)?null:(ri=n,e=U.getPooled(ei.select,ni,e,t),e.type="select",e.target=ti,L(e),e)}function Be(e,t,n,r){return U.call(this,e,t,n,r)}function Fe(e,t,n,r){return U.call(this,e,t,n,r)}function Ve(e,t,n,r){return U.call(this,e,t,n,r)}function He(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function ze(e,t,n,r){return U.call(this,e,t,n,r)}function We(e,t,n,r){return U.call(this,e,t,n,r)}function Ke(e,t,n,r){return U.call(this,e,t,n,r)}function Ge(e,t,n,r){return U.call(this,e,t,n,r)}function Qe(e,t,n,r){return U.call(this,e,t,n,r)}function Ye(e){0>fi||(e.current=di[fi],di[fi]=null,fi--)}function $e(e,t){fi++,di[fi]=e.current,e.current=t}function Je(e){return Ze(e)?mi:pi.current}function Xe(e,t){var n=e.type.contextTypes;if(!n)return Tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ze(e){return 2===e.tag&&null!=e.type.childContextTypes}function et(e){Ze(e)&&(Ye(hi,e),Ye(pi,e))}function tt(e,t,n){null!=pi.cursor&&r("168"),$e(pi,t,e),$e(hi,n,e)}function nt(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var a in n)a in i||r("108",we(e)||"Unknown",a);return wn({},t,n)}function rt(e){if(!Ze(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Tn,mi=pi.current,$e(pi,t,e),$e(hi,hi.current,e),!0}function it(e,t){var n=e.stateNode;if(n||r("169"),t){var i=nt(e,mi);n.__reactInternalMemoizedMergedChildContext=i,Ye(hi,e),Ye(pi,e),$e(pi,i,e)}else Ye(hi,e);$e(hi,t,e)}function at(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ot(e,t,n){var r=e.alternate;return null===r?(r=new at(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function st(e,t,n){var i=void 0,a=e.type,o=e.key;return"function"==typeof a?(i=a.prototype&&a.prototype.isReactComponent?new at(2,o,t):new at(0,o,t),i.type=a,i.pendingProps=e.props):"string"==typeof a?(i=new at(5,o,t),i.type=a,i.pendingProps=e.props):"object"==typeof a&&null!==a&&"number"==typeof a.tag?(i=a,i.pendingProps=e.props):r("130",null==a?a:typeof a,""),i.expirationTime=n,i}function ut(e,t,n,r){return t=new at(10,r,t),t.pendingProps=e,t.expirationTime=n,t}function ct(e,t,n){return t=new at(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function lt(e,t,n){return t=new at(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function dt(e,t,n){return e=new at(9,null,t),e.expirationTime=n,e}function ft(e,t,n){return t=new at(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pt(e){return function(t){try{return e(t)}catch(e){}}}function ht(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);yi=pt(function(e){return t.onCommitFiberRoot(n,e)}),vi=pt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function mt(e){"function"==typeof yi&&yi(e)}function yt(e){"function"==typeof vi&&vi(e)}function vt(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function gt(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function bt(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=vt(null)),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=vt(null)):e=null,e=e!==r?e:null,null===e?gt(r,t):null===r.last||null===e.last?(gt(r,t),gt(e,t)):(gt(r,t),e.last=t)}function _t(e,t,n,r){return e=e.partialState,"function"==typeof e?e.call(t,n,r):e}function wt(e,t,n,r,i,a){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var o=!0,s=n.first,u=!1;null!==s;){var c=s.expirationTime;if(c>a){var l=n.expirationTime;(0===l||l>c)&&(n.expirationTime=c),u||(u=!0,n.baseState=e)}else u||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=_t(s,r,e,i),o=!0):(c=_t(s,r,e,i))&&(e=o?wn({},e,c):wn(e,c),o=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(c=n.callbackList,null===c&&(c=n.callbackList=[]),c.push(s));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||(t.updateQueue=null),u||(n.baseState=e),e}function kt(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var i=n[e],a=i.callback;i.callback=null,"function"!=typeof a&&r("191",a),a.call(t)}}function Et(e,t,n,i){function a(e,t){t.updater=o,e.stateNode=t,t._reactInternalFiber=e}var o={isMounted:Ee,enqueueSetState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var a=t(n);bt(n,{expirationTime:a,partialState:r,callback:i,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(n,a)},enqueueReplaceState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var a=t(n);bt(n,{expirationTime:a,partialState:r,callback:i,isReplace:!0,isForced:!1,nextCallback:null,next:null}),e(n,a)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var i=t(n);bt(n,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),e(n,i)}};return{adoptClassInstance:a,constructClassInstance:function(e,t){var n=e.type,r=Je(e),i=2===e.tag&&null!=e.type.contextTypes,o=i?Xe(e,r):Tn;return t=new n(t,o),a(e,t),i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t},mountClassInstance:function(e,t){var n=e.alternate,i=e.stateNode,a=i.state||null,s=e.pendingProps;s||r("158");var u=Je(e);i.props=s,i.state=e.memoizedState=a,i.refs=Tn,i.context=Xe(e,u),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=1),"function"==typeof i.componentWillMount&&(a=i.state,i.componentWillMount(),a!==i.state&&o.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(i.state=wt(n,e,a,i,s,t))),"function"==typeof i.componentDidMount&&(e.effectTag|=4)},updateClassInstance:function(e,t,a){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,c=t.pendingProps;c||null==(c=u)&&r("159");var l=s.context,d=Je(t);if(d=Xe(t,d),"function"!=typeof s.componentWillReceiveProps||u===c&&l===d||(l=s.state,s.componentWillReceiveProps(c,d),s.state!==l&&o.enqueueReplaceState(s,s.state,null)),l=t.memoizedState,a=null!==t.updateQueue?wt(e,t,t.updateQueue,s,c,a):l,!(u!==c||l!==a||hi.current||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),!1;var f=c;if(null===u||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)f=!0;else{var p=t.stateNode,h=t.type;f="function"==typeof p.shouldComponentUpdate?p.shouldComponentUpdate(f,a,d):!h.prototype||!h.prototype.isPureReactComponent||(!Pn(u,f)||!Pn(l,a))}return f?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(c,a,d),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4)):("function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),n(t,c),i(t,a)),s.props=c,s.state=a,s.context=d,f}}}function St(e){return null===e||void 0===e?null:(e=Si&&e[Si]||e["@@iterator"],"function"==typeof e?e:null)}function Pt(e,t){var n=t.ref;if(null!==n&&"function"!=typeof n){if(t._owner){t=t._owner;var i=void 0;t&&(2!==t.tag&&r("110"),i=t.stateNode),i||r("147",n);var a=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===a?e.ref:(e=function(e){var t=i.refs===Tn?i.refs={}:i.refs;null===e?delete t[a]:t[a]=e},e._stringRef=a,e)}"string"!=typeof n&&r("148"),t._owner||r("149",n)}return n}function Ct(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ot(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return e=ot(e,t,n),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=ct(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?(r=a(t,n.props,r),r.ref=Pt(t,n),r.return=e,r):(r=st(n,e.internalContextTag,r),r.ref=Pt(t,n),r.return=e,r)}function l(e,t,n,r){return null===t||7!==t.tag?(t=lt(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function d(e,t,n,r){return null===t||9!==t.tag?(t=dt(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=a(t,null,r),t.type=n.value,t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ft(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n.children||[],r),t.return=e,t)}function p(e,t,n,r,i){return null===t||10!==t.tag?(t=ut(n,e.internalContextTag,r,i),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return t=ct(""+t,e.internalContextTag,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case bi:return t.type===Ei?(t=ut(t.props.children,e.internalContextTag,n,t.key),t.return=e,t):(n=st(t,e.internalContextTag,n),n.ref=Pt(null,t),n.return=e,n);case _i:return t=lt(t,e.internalContextTag,n),t.return=e,t;case wi:return n=dt(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case ki:return t=ft(t,e.internalContextTag,n),t.return=e,t}if(Pi(t)||St(t))return t=ut(t,e.internalContextTag,n,null),t.return=e,t;Ct(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case bi:return n.key===i?n.type===Ei?p(e,t,n.props.children,r,i):c(e,t,n,r):null;case _i:return n.key===i?l(e,t,n,r):null;case wi:return null===i?d(e,t,n,r):null;case ki:return n.key===i?f(e,t,n,r):null}if(Pi(n)||St(n))return null!==i?null:p(e,t,n,r,null);Ct(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case bi:return e=e.get(null===r.key?n:r.key)||null,r.type===Ei?p(t,e,r.props.children,i,r.key):c(t,e,r,i);case _i:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i);case wi:return e=e.get(n)||null,d(t,e,r,i);case ki:return e=e.get(null===r.key?n:r.key)||null,f(t,e,r,i)}if(Pi(r)||St(r))return e=e.get(n)||null,p(t,e,r,i,null);Ct(t,r)}return null}function v(r,a,s,u){for(var c=null,l=null,d=a,f=a=0,p=null;null!==d&&f<s.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var v=m(r,d,s[f],u);if(null===v){null===d&&(d=p);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,f),null===l?c=v:l.sibling=v,l=v,d=p}if(f===s.length)return n(r,d),c;if(null===d){for(;f<s.length;f++)(d=h(r,s[f],u))&&(a=o(d,a,f),null===l?c=d:l.sibling=d,l=d);return c}for(d=i(r,d);f<s.length;f++)(p=y(d,r,f,s[f],u))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),a=o(p,a,f),null===l?c=p:l.sibling=p,l=p);return e&&d.forEach(function(e){return t(r,e)}),c}function g(a,s,u,c){var l=St(u);"function"!=typeof l&&r("150"),null==(u=l.call(u))&&r("151");for(var d=l=null,f=s,p=s=0,v=null,g=u.next();null!==f&&!g.done;p++,g=u.next()){f.index>p?(v=f,f=null):v=f.sibling;var b=m(a,f,g.value,c);if(null===b){f||(f=v);break}e&&f&&null===b.alternate&&t(a,f),s=o(b,s,p),null===d?l=b:d.sibling=b,d=b,f=v}if(g.done)return n(a,f),l;if(null===f){for(;!g.done;p++,g=u.next())null!==(g=h(a,g.value,c))&&(s=o(g,s,p),null===d?l=g:d.sibling=g,d=g);return l}for(f=i(a,f);!g.done;p++,g=u.next())null!==(g=y(f,a,p,g.value,c))&&(e&&null!==g.alternate&&f.delete(null===g.key?p:g.key),s=o(g,s,p),null===d?l=g:d.sibling=g,d=g);return e&&f.forEach(function(e){return t(a,e)}),l}return function(e,i,o,u){"object"==typeof o&&null!==o&&o.type===Ei&&null===o.key&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case bi:e:{var l=o.key;for(c=i;null!==c;){if(c.key===l){if(10===c.tag?o.type===Ei:c.type===o.type){n(e,c.sibling),i=a(c,o.type===Ei?o.props.children:o.props,u),i.ref=Pt(c,o),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Ei?(i=ut(o.props.children,e.internalContextTag,u,o.key),i.return=e,e=i):(u=st(o,e.internalContextTag,u),u.ref=Pt(i,o),u.return=e,e=u)}return s(e);case _i:e:{for(c=o.key;null!==i;){if(i.key===c){if(7===i.tag){n(e,i.sibling),i=a(i,o,u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=lt(o,e.internalContextTag,u),i.return=e,e=i}return s(e);case wi:e:{if(null!==i){if(9===i.tag){n(e,i.sibling),i=a(i,null,u),i.type=o.value,i.return=e,e=i;break e}n(e,i)}i=dt(o,e.internalContextTag,u),i.type=o.value,i.return=e,e=i}return s(e);case ki:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),i=a(i,o.children||[],u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=ft(o,e.internalContextTag,u),i.return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),i=a(i,o,u)):(n(e,i),i=ct(o,e.internalContextTag,u)),i.return=e,e=i,s(e);if(Pi(o))return v(e,i,o,u);if(St(o))return g(e,i,o,u);if(c&&Ct(e,o),void 0===o)switch(e.tag){case 2:case 1:u=e.type,r("152",u.displayName||u.name||"Component")}return n(e,i)}}function Tt(e,t,n,i,a){function o(e,t,n){var r=t.expirationTime;t.child=null===e?Oi(t,null,n,r):Ci(t,e.child,n,r)}function s(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function u(e,t,n,r){if(s(e,t),!n)return r&&it(t,!1),l(e,t);n=t.stateNode,Fr.current=t;var i=n.render();return t.effectTag|=1,o(e,t,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&it(t,!0),t.child}function c(e){var t=e.stateNode;t.pendingContext?tt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tt(e,t.context,!1),y(e,t.containerInfo)}function l(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=ot(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=ot(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function d(e,t){switch(t.tag){case 3:c(t);break;case 2:rt(t);break;case 4:y(t,t.stateNode.containerInfo)}return null}var f=e.shouldSetTextContent,p=e.useSyncScheduling,h=e.shouldDeprioritizeSubtree,m=t.pushHostContext,y=t.pushHostContainer,v=n.enterHydrationState,g=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;e=Et(i,a,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var _=e.adoptClassInstance,w=e.constructClassInstance,k=e.mountClassInstance,E=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n)return d(e,t);switch(t.tag){case 0:null!==e&&r("155");var i=t.type,a=t.pendingProps,S=Je(t);return S=Xe(t,S),i=i(a,S),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render?(t.tag=2,a=rt(t),_(t,i),k(t,n),t=u(e,t,!0,a)):(t.tag=1,o(e,t,i),t.memoizedProps=a,t=t.child),t;case 1:e:{if(a=t.type,n=t.pendingProps,i=t.memoizedProps,hi.current)null===n&&(n=i);else if(null===n||i===n){t=l(e,t);break e}i=Je(t),i=Xe(t,i),a=a(n,i),t.effectTag|=1,o(e,t,a),t.memoizedProps=n,t=t.child}return t;case 2:return a=rt(t),i=void 0,null===e?t.stateNode?r("153"):(w(t,t.pendingProps),k(t,n),i=!0):i=E(e,t,n),u(e,t,i,a);case 3:return c(t),a=t.updateQueue,null!==a?(i=t.memoizedState,a=wt(e,t,a,null,null,n),i===a?(g(),t=l(e,t)):(i=a.element,S=t.stateNode,(null===e||null===e.child)&&S.hydrate&&v(t)?(t.effectTag|=2,t.child=Oi(t,null,i,n)):(g(),o(e,t,i)),t.memoizedState=a,t=t.child)):(g(),t=l(e,t)),t;case 5:m(t),null===e&&b(t),a=t.type;var P=t.memoizedProps;return i=t.pendingProps,null===i&&null===(i=P)&&r("154"),S=null!==e?e.memoizedProps:null,hi.current||null!==i&&P!==i?(P=i.children,f(a,i)?P=null:S&&f(a,S)&&(t.effectTag|=16),s(e,t),2147483647!==n&&!p&&h(a,i)?(t.expirationTime=2147483647,t=null):(o(e,t,P),t.memoizedProps=i,t=t.child)):t=l(e,t),t;case 6:return null===e&&b(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case 8:t.tag=7;case 7:return a=t.pendingProps,hi.current?null===a&&null===(a=e&&e.memoizedProps)&&r("154"):null!==a&&t.memoizedProps!==a||(a=t.memoizedProps),i=a.children,t.stateNode=null===e?Oi(t,t.stateNode,i,n):Ci(t,t.stateNode,i,n),t.memoizedProps=a,t.stateNode;case 9:return null;case 4:e:{if(y(t,t.stateNode.containerInfo),a=t.pendingProps,hi.current)null===a&&null==(a=e&&e.memoizedProps)&&r("154");else if(null===a||t.memoizedProps===a){t=l(e,t);break e}null===e?t.child=Ci(t,null,a,n):o(e,t,a),t.memoizedProps=a,t=t.child}return t;case 10:e:{if(n=t.pendingProps,hi.current)null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=l(e,t);break e}o(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:rt(t);break;case 3:c(t);break;default:r("157")}return t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n?d(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?Oi(t,null,null,n):Ci(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function xt(e,t,n){function i(e){e.effectTag|=4}var a=e.createInstance,o=e.createTextInstance,s=e.appendInitialChild,u=e.finalizeInitialChildren,c=e.prepareUpdate,l=e.persistence,d=t.getRootHostContainer,f=t.popHostContext,p=t.getHostContext,h=t.popHostContainer,m=n.prepareToHydrateHostInstance,y=n.prepareToHydrateHostTextInstance,v=n.popHydrationState,g=void 0,b=void 0,_=void 0;return e.mutation?(g=function(){},b=function(e,t,n){(t.updateQueue=n)&&i(t)},_=function(e,t,n,r){n!==r&&i(t)}):r(l?"235":"236"),{completeWork:function(e,t,n){var l=t.pendingProps;switch(null===l?l=t.memoizedProps:2147483647===t.expirationTime&&2147483647!==n||(t.pendingProps=null),t.tag){case 1:return null;case 2:return et(t),null;case 3:return h(t),Ye(hi,t),Ye(pi,t),l=t.stateNode,l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==e&&null!==e.child||(v(t),t.effectTag&=-3),g(t),null;case 5:f(t),n=d();var w=t.type;if(null!==e&&null!=t.stateNode){var k=e.memoizedProps,E=t.stateNode,S=p();E=c(E,w,k,l,n,S),b(e,t,E,w,k,l,n),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!l)return null===t.stateNode&&r("166"),null;if(e=p(),v(t))m(t,n,e)&&i(t);else{e=a(w,l,n,e,t);e:for(k=t.child;null!==k;){if(5===k.tag||6===k.tag)s(e,k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k,k=k.child;continue}if(k===t)break;for(;null===k.sibling;){if(null===k.return||k.return===t)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}u(e,w,l,n)&&i(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)_(e,t,e.memoizedProps,l);else{if("string"!=typeof l)return null===t.stateNode&&r("166"),null;e=d(),n=p(),v(t)?y(t)&&i(t):t.stateNode=o(l,e,n,t)}return null;case 7:(l=t.memoizedProps)||r("165"),t.tag=8,w=[];e:for((k=t.stateNode)&&(k.return=t);null!==k;){if(5===k.tag||6===k.tag||4===k.tag)r("247");else if(9===k.tag)w.push(k.type);else if(null!==k.child){k.child.return=k,k=k.child;continue}for(;null===k.sibling;){if(null===k.return||k.return===t)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}return k=l.handler,l=k(l.props,w),t.child=Ci(t,null!==e?e.child:null,l,n),t.child;case 8:return t.tag=7,null;case 9:case 10:return null;case 4:return h(t),g(t),null;case 0:r("167");default:r("156")}}}}function Rt(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function i(e){switch("function"==typeof yt&&yt(e),e.tag){case 2:n(e);var r=e.stateNode;if("function"==typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(n){t(e,n)}break;case 5:n(e);break;case 7:a(e.stateNode);break;case 4:c&&s(e)}}function a(e){for(var t=e;;)if(i(t),null===t.child||c&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function o(e){return 5===e.tag||3===e.tag||4===e.tag}function s(e){for(var t=e,n=!1,o=void 0,s=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:o=n.stateNode,s=!1;break e;case 3:case 4:o=n.stateNode.containerInfo,s=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)a(t),s?b(o,t.stateNode):g(o,t.stateNode);else if(4===t.tag?o=t.stateNode.containerInfo:i(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var u=e.getPublicInstance,c=e.mutation;e=e.persistence,c||r(e?"235":"236");var l=c.commitMount,d=c.commitUpdate,f=c.resetTextContent,p=c.commitTextUpdate,h=c.appendChild,m=c.appendChildToContainer,y=c.insertBefore,v=c.insertInContainerBefore,g=c.removeChild,b=c.removeChildFromContainer;return{commitResetTextContent:function(e){f(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(o(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(f(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||o(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)n?i?v(t,a.stateNode,n):y(t,a.stateNode,n):i?m(t,a.stateNode):h(t,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){s(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&d(n,o,a,e,i,t)}break;case 6:null===t.stateNode&&r("162"),n=t.memoizedProps,p(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var i=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(i,e)}t=t.updateQueue,null!==t&&kt(t,n);break;case 3:n=t.updateQueue,null!==n&&kt(n,null!==t.child?t.child.stateNode:null);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&l(n,t.type,t.memoizedProps,t);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(u(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function jt(e){function t(e){return e===Ti&&r("174"),e}var n=e.getChildHostContext,i=e.getRootHostContext,a={current:Ti},o={current:Ti},s={current:Ti};return{getHostContext:function(){return t(a.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){Ye(a,e),Ye(o,e),Ye(s,e)},popHostContext:function(e){o.current===e&&(Ye(a,e),Ye(o,e))},pushHostContainer:function(e,t){$e(s,t,e),t=i(t),$e(o,e,e),$e(a,t,e)},pushHostContext:function(e){var r=t(s.current),i=t(a.current);r=n(i,e.type,r),i!==r&&($e(o,e,e),$e(a,r,e))},resetHostContainer:function(){a.current=Ti,s.current=Ti}}}function At(e){function t(e,t){var n=new at(5,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=o(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function i(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;f=e}var a=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var o=e.canHydrateInstance,s=e.canHydrateTextInstance,u=e.getNextHydratableSibling,c=e.getFirstHydratableChild,l=e.hydrateInstance,d=e.hydrateTextInstance,f=null,p=null,h=!1;return{enterHydrationState:function(e){return p=c(e.stateNode.containerInfo),f=e,h=!0},resetHydrationState:function(){p=f=null,h=!1},tryToClaimNextHydratableInstance:function(e){if(h){var r=p;if(r){if(!n(e,r)){if(!(r=u(r))||!n(e,r))return e.effectTag|=2,h=!1,void(f=e);t(f,p)}f=e,p=c(r)}else e.effectTag|=2,h=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=l(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return d(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!h)return i(e),h=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!a(n,e.memoizedProps))for(n=p;n;)t(e,n),n=u(n);return i(e),p=f?u(e.stateNode):null,!0}}}function It(e){function t(e){ae=Y=!0;var t=e.stateNode;if(t.current===e&&r("177"),t.isReadyForCommit=!1,Fr.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var n=e.firstEffect}else n=e;else n=e.firstEffect;for(z(),Z=n;null!==Z;){var i=!1,a=void 0;try{for(;null!==Z;){var o=Z.effectTag;if(16&o&&I(Z),128&o){var s=Z.alternate;null!==s&&U(s)}switch(-242&o){case 2:L(Z),Z.effectTag&=-3;break;case 6:L(Z),Z.effectTag&=-3,M(Z.alternate,Z);break;case 4:M(Z.alternate,Z);break;case 8:oe=!0,N(Z),oe=!1}Z=Z.nextEffect}}catch(e){i=!0,a=e}i&&(null===Z&&r("178"),u(Z,a),null!==Z&&(Z=Z.nextEffect))}for(W(),t.current=e,Z=n;null!==Z;){n=!1,i=void 0;try{for(;null!==Z;){var c=Z.effectTag;if(36&c&&D(Z.alternate,Z),128&c&&q(Z),64&c)switch(a=Z,o=void 0,null!==ee&&(o=ee.get(a),ee.delete(a),null==o&&null!==a.alternate&&(a=a.alternate,o=ee.get(a),ee.delete(a))),null==o&&r("184"),a.tag){case 2:a.stateNode.componentDidCatch(o.error,{componentStack:o.componentStack});break;case 3:null===re&&(re=o.error);break;default:r("157")}var l=Z.nextEffect;Z.nextEffect=null,Z=l}}catch(e){n=!0,i=e}n&&(null===Z&&r("178"),u(Z,i),null!==Z&&(Z=Z.nextEffect))}return Y=ae=!1,"function"==typeof mt&&mt(e.stateNode),ne&&(ne.forEach(m),ne=null),null!==re&&(e=re,re=null,E(e)),t=t.current.expirationTime,0===t&&(te=ee=null),t}function n(e){for(;;){var t=A(e.alternate,e,X),n=e.return,r=e.sibling,i=e;if(2147483647===X||2147483647!==i.expirationTime){if(2!==i.tag&&3!==i.tag)var a=0;else a=i.updateQueue,a=null===a?0:a.expirationTime;for(var o=i.child;null!==o;)0!==o.expirationTime&&(0===a||a>o.expirationTime)&&(a=o.expirationTime),o=o.sibling;i.expirationTime=a}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){e.stateNode.isReadyForCommit=!0;break}e=n}return null}function i(e){var t=R(e.alternate,e,X);return null===t&&(t=n(e)),Fr.current=null,t}function a(e){var t=j(e.alternate,e,X);return null===t&&(t=n(e)),Fr.current=null,t}function o(e){if(null!==ee){if(!(0===X||X>e))if(X<=G)for(;null!==$;)$=c($)?a($):i($);else for(;null!==$&&!k();)$=c($)?a($):i($)}else if(!(0===X||X>e))if(X<=G)for(;null!==$;)$=i($);else for(;null!==$&&!k();)$=i($)}function s(e,t){if(Y&&r("243"),Y=!0,e.isReadyForCommit=!1,e!==J||t!==X||null===$){for(;-1<fi;)di[fi]=null,fi--;mi=Tn,pi.current=Tn,hi.current=!1,T(),J=e,X=t,$=ot(J.current,null,t)}var n=!1,i=null;try{o(t)}catch(e){n=!0,i=e}for(;n;){if(ie){re=i;break}var s=$;if(null===s)ie=!0;else{var c=u(s,i);if(null===c&&r("183"),!ie){try{for(n=c,i=t,c=n;null!==s;){switch(s.tag){case 2:et(s);break;case 5:O(s);break;case 3:C(s);break;case 4:C(s)}if(s===c||s.alternate===c)break;s=s.return}$=a(n),o(i)}catch(e){n=!0,i=e;continue}break}}}return t=re,ie=Y=!1,re=null,null!==t&&E(t),e.isReadyForCommit?e.current.alternate:null}function u(e,t){var n=Fr.current=null,r=!1,i=!1,a=null;if(3===e.tag)n=e,l(e)&&(ie=!0);else for(var o=e.return;null!==o&&null===n;){if(2===o.tag?"function"==typeof o.stateNode.componentDidCatch&&(r=!0,a=we(o),n=o,i=!0):3===o.tag&&(n=o),l(o)){if(oe||null!==ne&&(ne.has(o)||null!==o.alternate&&ne.has(o.alternate)))return null;n=null,i=!1}o=o.return}if(null!==n){null===te&&(te=new Set),te.add(n);var s="";o=e;do{e:switch(o.tag){case 0:case 1:case 2:case 5:var u=o._debugOwner,c=o._debugSource,d=we(o),f=null;u&&(f=we(u)),u=c,d="\n    in "+(d||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":f?" (created by "+f+")":"");break e;default:d=""}s+=d,o=o.return}while(o);o=s,e=we(e),null===ee&&(ee=new Map),t={componentName:e,componentStack:o,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:a,willRetry:i},ee.set(n,t);try{var p=t.error;p&&p.suppressReactErrorLogging||console.error(p)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}return ae?(null===ne&&(ne=new Set),ne.add(n)):m(n),n}return null===re&&(re=t),null}function c(e){return null!==ee&&(ee.has(e)||null!==e.alternate&&ee.has(e.alternate))}function l(e){return null!==te&&(te.has(e)||null!==e.alternate&&te.has(e.alternate))}function d(){return 20*(1+((y()+100)/20|0))}function f(e){return 0!==Q?Q:Y?ae?1:X:!H||1&e.internalContextTag?d():1}function p(e,t){return h(e,t,!1)}function h(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!Y&&n===J&&t<X&&($=J=null,X=0);var i=n,a=t;if(ke>_e&&r("185"),null===i.nextScheduledRoot)i.remainingExpirationTime=a,null===ue?(se=ue=i,i.nextScheduledRoot=i):(ue=ue.nextScheduledRoot=i,ue.nextScheduledRoot=se);else{var o=i.remainingExpirationTime;(0===o||a<o)&&(i.remainingExpirationTime=a)}de||(ge?be&&(fe=i,pe=1,w(fe,pe)):1===a?_(1,null):v(a)),!Y&&n===J&&t<X&&($=J=null,X=0)}e=e.return}}function m(e){h(e,1,!0)}function y(){return G=2+((B()-K)/10|0)}function v(e){if(0!==ce){if(e>ce)return;V(le)}var t=B()-K;ce=e,le=F(b,{timeout:10*(e-2)-t})}function g(){var e=0,t=null;if(null!==ue)for(var n=ue,i=se;null!==i;){var a=i.remainingExpirationTime;if(0===a){if((null===n||null===ue)&&r("244"),i===i.nextScheduledRoot){se=ue=i.nextScheduledRoot=null;break}if(i===se)se=a=i.nextScheduledRoot,ue.nextScheduledRoot=a,i.nextScheduledRoot=null;else{if(i===ue){ue=n,ue.nextScheduledRoot=se,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||a<e)&&(e=a,t=i),i===ue)break;n=i,i=i.nextScheduledRoot}}n=fe,null!==n&&n===t?ke++:ke=0,fe=t,pe=e}function b(e){_(0,e)}function _(e,t){for(ve=t,g();null!==fe&&0!==pe&&(0===e||pe<=e)&&!he;)w(fe,pe),g();if(null!==ve&&(ce=0,le=-1),0!==pe&&v(pe),ve=null,he=!1,ke=0,me)throw e=ye,ye=null,me=!1,e}function w(e,n){if(de&&r("245"),de=!0,n<=y()){var i=e.finishedWork;null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(e.remainingExpirationTime=t(i)))}else i=e.finishedWork,null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(k()?e.finishedWork=i:e.remainingExpirationTime=t(i)));de=!1}function k(){return!(null===ve||ve.timeRemaining()>Ee)&&(he=!0)}function E(e){null===fe&&r("246"),fe.remainingExpirationTime=0,me||(me=!0,ye=e)}var S=jt(e),P=At(e),C=S.popHostContainer,O=S.popHostContext,T=S.resetHostContainer,x=Tt(e,S,P,p,f),R=x.beginWork,j=x.beginFailedWork,A=xt(e,S,P).completeWork;S=Rt(e,u);var I=S.commitResetTextContent,L=S.commitPlacement,N=S.commitDeletion,M=S.commitWork,D=S.commitLifeCycles,q=S.commitAttachRef,U=S.commitDetachRef,B=e.now,F=e.scheduleDeferredCallback,V=e.cancelDeferredCallback,H=e.useSyncScheduling,z=e.prepareForCommit,W=e.resetAfterCommit,K=B(),G=2,Q=0,Y=!1,$=null,J=null,X=0,Z=null,ee=null,te=null,ne=null,re=null,ie=!1,ae=!1,oe=!1,se=null,ue=null,ce=0,le=-1,de=!1,fe=null,pe=0,he=!1,me=!1,ye=null,ve=null,ge=!1,be=!1,_e=1e3,ke=0,Ee=1;return{computeAsyncExpiration:d,computeExpirationForFiber:f,scheduleWork:p,batchedUpdates:function(e,t){var n=ge;ge=!0;try{return e(t)}finally{(ge=n)||de||_(1,null)}},unbatchedUpdates:function(e){if(ge&&!be){be=!0;try{return e()}finally{be=!1}}return e()},flushSync:function(e){var t=ge;ge=!0;try{e:{var n=Q;Q=1;try{var i=e();break e}finally{Q=n}i=void 0}return i}finally{ge=t,de&&r("187"),_(1,null)}},deferredUpdates:function(e){var t=Q;Q=d();try{return e()}finally{Q=t}}}}function Lt(e){function t(e){return e=Ce(e),null===e?null:e.stateNode}var n=e.getPublicInstance;e=It(e);var i=e.computeAsyncExpiration,a=e.computeExpirationForFiber,o=e.scheduleWork;return{createContainer:function(e,t){var n=new at(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(e,t,n,s){var u=t.current;if(n){n=n._reactInternalFiber;var c;e:{for(2===ke(n)&&2===n.tag||r("170"),c=n;3!==c.tag;){if(Ze(c)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}(c=c.return)||r("171")}c=c.stateNode.context}n=Ze(n)?nt(n,c):c}else n=Tn;null===t.context?t.context=n:t.pendingContext=n,t=s,t=void 0===t?null:t,s=null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent?i():a(u),bt(u,{expirationTime:s,partialState:{element:e},callback:t,isReplace:!1,isForced:!1,nextCallback:null,next:null}),o(u,s)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:t,findHostInstanceWithNoPortals:function(e){return e=Oe(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var n=e.findFiberByHostInstance;return ht(wn({},e,{findHostInstanceByFiber:function(e){return t(e)},findFiberByHostInstance:function(e){return n?n(e):null}}))}}}function Nt(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ki,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Mt(e){return!!Qi.hasOwnProperty(e)||!Gi.hasOwnProperty(e)&&(Ki.test(e)?Qi[e]=!0:(Gi[e]=!0,!1))}function Dt(e,t,n){var r=o(t);if(r&&a(t,n)){var i=r.mutationMethod;i?i(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Ut(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(i=r.attributeNamespace)?e.setAttributeNS(i,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else qt(e,t,a(t,n)?n:null)}function qt(e,t,n){Mt(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))}function Ut(e,t){var n=o(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}function Bt(e,t){var n=t.value,r=t.checked;return wn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})}function Ft(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Vt(e,t){null!=(t=t.checked)&&Dt(e,"checked",t)}function Ht(e,t){Vt(e,t);var n=t.value;null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))}function zt(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function Wt(e){var t="";return bn.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Kt(e,t){return e=wn({children:void 0},t),(t=Wt(t.children))&&(e.children=t),e}function Gt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Qt(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Yt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),wn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $t(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Jt(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Xt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function nn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,a=t[n];i=null==a||"boolean"==typeof a||""===a?"":r||"number"!=typeof a||0===a||Xi.hasOwnProperty(i)&&Xi[i]?(""+a).trim():a+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function rn(e,t,n){t&&(ea[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",n()))}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function on(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Ne(e);t=$n[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?je("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(je("topFocus","focus",e),je("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(ne("cancel",!0)&&je("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(ne("close",!0)&&je("topClose","close",e),n.topClose=!0):Yr.hasOwnProperty(i)&&Re(i,Yr[i],e),n[i]=!0)}}function sn(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ta&&(r=Zt(e)),r===ta?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function un(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function cn(e,t,n,r){var i=an(t,n);switch(t){case"iframe":case"object":Re("topLoad","load",e);var a=n;break;case"video":case"audio":for(a in ra)ra.hasOwnProperty(a)&&Re(a,ra[a],e);a=n;break;case"source":Re("topError","error",e),a=n;break;case"img":case"image":Re("topError","error",e),Re("topLoad","load",e),a=n;break;case"form":Re("topReset","reset",e),Re("topSubmit","submit",e),a=n;break;case"details":Re("topToggle","toggle",e),a=n;break;case"input":Ft(e,n),a=Bt(e,n),Re("topInvalid","invalid",e),on(r,"onChange");break;case"option":a=Kt(e,n);break;case"select":Qt(e,n),a=wn({},n,{value:void 0}),Re("topInvalid","invalid",e),on(r,"onChange");break;case"textarea":$t(e,n),a=Yt(e,n),Re("topInvalid","invalid",e),on(r,"onChange");break;default:a=n}rn(t,a,na);var o,s=a;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];"style"===o?nn(e,u,na):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&Ji(e,u):"children"===o?"string"==typeof u?("textarea"!==t||""!==u)&&tn(e,u):"number"==typeof u&&tn(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Yn.hasOwnProperty(o)?null!=u&&on(r,o):i?qt(e,o,u):null!=u&&Dt(e,o,u))}switch(t){case"input":ae(e),zt(e,n);break;case"textarea":ae(e),Xt(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Gt(e,!!n.multiple,t,!1):null!=n.defaultValue&&Gt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=kn)}}function ln(e,t,n,r,i){var a=null;switch(t){case"input":n=Bt(e,n),r=Bt(e,r),a=[];break;case"option":n=Kt(e,n),r=Kt(e,r),a=[];break;case"select":n=wn({},n,{value:void 0}),r=wn({},r,{value:void 0}),a=[];break;case"textarea":n=Yt(e,n),r=Yt(e,r),a=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=kn)}rn(t,r,na);var o,s;e=null;for(o in n)if(!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&null!=n[o])if("style"===o)for(s in t=n[o])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Yn.hasOwnProperty(o)?a||(a=[]):(a=a||[]).push(o,null));for(o in r){var u=r[o];if(t=null!=n?n[o]:void 0,r.hasOwnProperty(o)&&u!==t&&(null!=u||null!=t))if("style"===o)if(t){for(s in t)!t.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in u)u.hasOwnProperty(s)&&t[s]!==u[s]&&(e||(e={}),e[s]=u[s])}else e||(a||(a=[]),a.push(o,e)),e=u;else"dangerouslySetInnerHTML"===o?(u=u?u.__html:void 0,t=t?t.__html:void 0,null!=u&&t!==u&&(a=a||[]).push(o,""+u)):"children"===o?t===u||"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(o,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(Yn.hasOwnProperty(o)?(null!=u&&on(i,o),a||t===u||(a=[])):(a=a||[]).push(o,u))}return e&&(a=a||[]).push("style",e),a}function dn(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&Vt(e,i),an(n,r),r=an(n,i);for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];"style"===o?nn(e,s,na):"dangerouslySetInnerHTML"===o?Ji(e,s):"children"===o?tn(e,s):r?null!=s?qt(e,o,s):e.removeAttribute(o):null!=s?Dt(e,o,s):Ut(e,o)}switch(n){case"input":Ht(e,i);break;case"textarea":Jt(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Gt(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Gt(e,!!i.multiple,i.defaultValue,!0):Gt(e,!!i.multiple,i.multiple?[]:"",!1))}}function fn(e,t,n,r,i){switch(t){case"iframe":case"object":Re("topLoad","load",e);break;case"video":case"audio":for(var a in ra)ra.hasOwnProperty(a)&&Re(a,ra[a],e);break;case"source":Re("topError","error",e);break;case"img":case"image":Re("topError","error",e),Re("topLoad","load",e);break;case"form":Re("topReset","reset",e),Re("topSubmit","submit",e);break;case"details":Re("topToggle","toggle",e);break;case"input":Ft(e,n),Re("topInvalid","invalid",e),on(i,"onChange");break;case"select":Qt(e,n),Re("topInvalid","invalid",e),on(i,"onChange");break;case"textarea":$t(e,n),Re("topInvalid","invalid",e),on(i,"onChange")}rn(t,n,na),r=null;for(var o in n)n.hasOwnProperty(o)&&(a=n[o],"children"===o?"string"==typeof a?e.textContent!==a&&(r=["children",a]):"number"==typeof a&&e.textContent!==""+a&&(r=["children",""+a]):Yn.hasOwnProperty(o)&&null!=a&&on(i,o));switch(t){case"input":ae(e),zt(e,n);break;case"textarea":ae(e),Xt(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=kn)}return r}function pn(e,t){return e.nodeValue!==t}function hn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function mn(e){return!(!(e=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))}function yn(e,t,n,i,a){hn(n)||r("200");var o=n._reactRootContainer;if(o)sa.updateContainer(t,o,e,a);else{if(!(i=i||mn(n)))for(o=void 0;o=n.lastChild;)n.removeChild(o);var s=sa.createContainer(n,i);o=n._reactRootContainer=s,sa.unbatchedUpdates(function(){sa.updateContainer(t,s,e,a)})}return sa.getPublicRootInstance(o)}function vn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return hn(t)||r("200"),Nt(e,t,null,n)}function gn(e,t){this._reactRootContainer=sa.createContainer(e,t)}/** @license React v16.2.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var bn=n(0),_n=n(506),wn=n(163),kn=n(132),En=n(507),Sn=n(508),Pn=n(509),Cn=n(510),On=n(513),Tn=n(252);bn||r("227");var xn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},Rn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=Rn,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},o=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var s in n){jn.hasOwnProperty(s)&&r("48",s);var u=s.toLowerCase(),c=n[s];u={attributeName:u,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:i(c,t.MUST_USE_PROPERTY),hasBooleanValue:i(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(c,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:i(c,t.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r("50",s),o.hasOwnProperty(s)&&(u.attributeName=o[s]),a.hasOwnProperty(s)&&(u.attributeNamespace=a[s]),e.hasOwnProperty(s)&&(u.mutationMethod=e[s]),jn[s]=u}}},jn={},An=Rn,In=An.MUST_USE_PROPERTY,Ln=An.HAS_BOOLEAN_VALUE,Nn=An.HAS_NUMERIC_VALUE,Mn=An.HAS_POSITIVE_NUMERIC_VALUE,Dn=An.HAS_OVERLOADED_BOOLEAN_VALUE,qn=An.HAS_STRING_BOOLEAN_VALUE,Un={Properties:{allowFullScreen:Ln,async:Ln,autoFocus:Ln,autoPlay:Ln,capture:Dn,checked:In|Ln,cols:Mn,contentEditable:qn,controls:Ln,default:Ln,defer:Ln,disabled:Ln,download:Dn,draggable:qn,formNoValidate:Ln,hidden:Ln,loop:Ln,multiple:In|Ln,muted:In|Ln,noValidate:Ln,open:Ln,playsInline:Ln,readOnly:Ln,required:Ln,reversed:Ln,rows:Mn,rowSpan:Nn,scoped:Ln,seamless:Ln,selected:In|Ln,size:Mn,start:Nn,span:Mn,spellCheck:qn,style:0,tabIndex:0,itemScope:Ln,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:qn},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Bn=An.HAS_STRING_BOOLEAN_VALUE,Fn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Vn={Properties:{autoReverse:Bn,externalResourcesRequired:Bn,preserveAlpha:Bn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Fn.xlink,xlinkArcrole:Fn.xlink,xlinkHref:Fn.xlink,xlinkRole:Fn.xlink,xlinkShow:Fn.xlink,xlinkTitle:Fn.xlink,xlinkType:Fn.xlink,xmlBase:Fn.xml,xmlLang:Fn.xml,xmlSpace:Fn.xml}},Hn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(Hn,s);Vn.Properties[t]=0,Vn.DOMAttributeNames[t]=e}),An.injectDOMPropertyConfig(Un),An.injectDOMPropertyConfig(Vn);var zn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback&&r("197"),u=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,a,o,s,c){u.apply(zn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,a,o,s,u){if(zn.invokeGuardedCallback.apply(this,arguments),zn.hasCaughtError()){var c=zn.clearCaughtError();zn._hasRethrowError||(zn._hasRethrowError=!0,zn._rethrowError=c)}},rethrowCaughtError:function(){return c.apply(zn,arguments)},hasCaughtError:function(){return zn._hasCaughtError},clearCaughtError:function(){if(zn._hasCaughtError){var e=zn._caughtError;return zn._caughtError=null,zn._hasCaughtError=!1,e}r("198")}},Wn=null,Kn={},Gn=[],Qn={},Yn={},$n={},Jn=Object.freeze({plugins:Gn,eventNameDispatchConfigs:Qn,registrationNameModules:Yn,registrationNameDependencies:$n,possibleRegistrationNames:null,injectEventPluginOrder:f,injectEventPluginsByName:p}),Xn=null,Zn=null,er=null,tr=null,nr={injectEventPluginOrder:f,injectEventPluginsByName:p},rr=Object.freeze({injection:nr,getListener:_,extractEvents:w,enqueueEvents:k,processEventQueue:E}),ir=Math.random().toString(36).slice(2),ar="__reactInternalInstance$"+ir,or="__reactEventHandlers$"+ir,sr=Object.freeze({precacheFiberNode:function(e,t){t[ar]=e},getClosestInstanceFromNode:S,getInstanceFromNode:function(e){return e=e[ar],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:P,getFiberCurrentPropsFromNode:C,updateFiberProps:function(e,t){e[or]=t}}),ur=Object.freeze({accumulateTwoPhaseDispatches:L,accumulateTwoPhaseDispatchesSkipTarget:function(e){y(e,j)},accumulateEnterLeaveDispatches:N,accumulateDirectDispatches:function(e){y(e,I)}}),cr=null,lr={_root:null,_startText:null,_fallbackText:null},dr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),fr={type:null,target:null,currentTarget:kn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};wn(U.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=kn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=kn.thatReturnsTrue)},persist:function(){this.isPersistent=kn.thatReturnsTrue},isPersistent:kn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<dr.length;t++)this[dr[t]]=null}}),U.Interface=fr,U.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;wn(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=wn({},this.Interface,t),e.augmentClass=this.augmentClass,V(e)},V(U),U.augmentClass(H,{data:null}),U.augmentClass(z,{data:null});var pr=[9,13,27,32],hr=_n.canUseDOM&&"CompositionEvent"in window,mr=null;_n.canUseDOM&&"documentMode"in document&&(mr=document.documentMode);var yr;if(yr=_n.canUseDOM&&"TextEvent"in window&&!mr){var vr=window.opera;yr=!("object"==typeof vr&&"function"==typeof vr.version&&12>=parseInt(vr.version(),10))}var gr,br=yr,_r=_n.canUseDOM&&(!hr||mr&&8<mr&&11>=mr),wr=String.fromCharCode(32),kr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Er=!1,Sr=!1,Pr={eventTypes:kr,extractEvents:function(e,t,n,r){var i;if(hr)e:{switch(e){case"topCompositionStart":var a=kr.compositionStart;break e;case"topCompositionEnd":a=kr.compositionEnd;break e;case"topCompositionUpdate":a=kr.compositionUpdate;break e}a=void 0}else Sr?W(e,n)&&(a=kr.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(a=kr.compositionStart);return a?(_r&&(Sr||a!==kr.compositionStart?a===kr.compositionEnd&&Sr&&(i=D()):(lr._root=r,lr._startText=q(),Sr=!0)),a=H.getPooled(a,t,n,r),i?a.data=i:null!==(i=K(n))&&(a.data=i),L(a),i=a):i=null,(e=br?G(e,n):Q(e,n))?(t=z.getPooled(kr.beforeInput,t,n,r),t.data=e,L(t)):t=null,[i,t]}},Cr=null,Or=null,Tr=null,xr={injectFiberControlledHostComponent:function(e){Cr=e}},Rr=Object.freeze({injection:xr,enqueueStateRestore:$,restoreStateIfNeeded:J}),jr=!1,Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};_n.canUseDOM&&(gr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Ir={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Lr=null,Nr=null,Mr=!1;_n.canUseDOM&&(Mr=ne("input")&&(!document.documentMode||9<document.documentMode));var Dr={eventTypes:Ir,_isInputEventSupported:Mr,extractEvents:function(e,t,n,r){var i=t?P(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=le;else if(ee(i))if(Mr)o=ye;else{o=he;var s=pe}else!(a=i.nodeName)||"input"!==a.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=me);if(o&&(o=o(e,t)))return se(o,n,r);s&&s(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&(e=""+i.value,i.getAttribute("value")!==e&&i.setAttribute("value",e))}};U.augmentClass(ve,{view:null,detail:null});var qr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};ve.augmentClass(_e,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:be,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Br={eventTypes:Ur,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?S(t):null):e=null,e===t)return null;var a=null==e?i:P(e);i=null==t?i:P(t);var o=_e.getPooled(Ur.mouseLeave,e,n,r);return o.type="mouseleave",o.target=a,o.relatedTarget=i,n=_e.getPooled(Ur.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=a,N(o,n,e,t),[o,n]}},Fr=bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vr=[],Hr=!0,zr=void 0,Wr=Object.freeze({get _enabled(){return Hr},get _handleTopLevel(){return zr},setHandleTopLevel:function(e){zr=e},setEnabled:xe,isEnabled:function(){return Hr},trapBubbledEvent:Re,trapCapturedEvent:je,dispatchEvent:Ae}),Kr={animationend:Ie("Animation","AnimationEnd"),animationiteration:Ie("Animation","AnimationIteration"),animationstart:Ie("Animation","AnimationStart"),transitionend:Ie("Transition","TransitionEnd")},Gr={},Qr={};_n.canUseDOM&&(Qr=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);var Yr={topAbort:"abort",topAnimationEnd:Le("animationend")||"animationend",topAnimationIteration:Le("animationiteration")||"animationiteration",topAnimationStart:Le("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Le("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},$r={},Jr=0,Xr="_reactListenersID"+(""+Math.random()).slice(2),Zr=_n.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ti=null,ni=null,ri=null,ii=!1,ai={eventTypes:ei,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Ne(a),i=$n.onSelect;for(var o=0;o<i.length;o++){var s=i[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?P(t):window,e){case"topFocus":(ee(a)||"true"===a.contentEditable)&&(ti=a,ni=t,ri=null);break;case"topBlur":ri=ni=ti=null;break;case"topMouseDown":ii=!0;break;case"topContextMenu":case"topMouseUp":return ii=!1,Ue(n,r);case"topSelectionChange":if(Zr)break;case"topKeyDown":case"topKeyUp":return Ue(n,r)}return null}};U.augmentClass(Be,{animationName:null,elapsedTime:null,pseudoElement:null}),U.augmentClass(Fe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ve.augmentClass(Ve,{relatedTarget:null});var oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};ve.augmentClass(ze,{key:function(e){if(e.key){var t=oi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=He(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?si[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:be,charCode:function(e){return"keypress"===e.type?He(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?He(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_e.augmentClass(We,{dataTransfer:null}),ve.augmentClass(Ke,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:be}),U.augmentClass(Ge,{propertyName:null,elapsedTime:null,pseudoElement:null}),_e.augmentClass(Qe,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var ui={},ci={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},ui[e]=n,ci[t]=n});var li={eventTypes:ui,extractEvents:function(e,t,n,r){var i=ci[e];if(!i)return null;switch(e){case"topKeyPress":if(0===He(n))return null;case"topKeyDown":case"topKeyUp":e=ze;break;case"topBlur":case"topFocus":e=Ve;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=_e;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=We;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=Ke;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Be;break;case"topTransitionEnd":e=Ge;break;case"topScroll":e=ve;break;case"topWheel":e=Qe;break;case"topCopy":case"topCut":case"topPaste":e=Fe;break;default:e=U}return t=e.getPooled(i,t,n,r),L(t),t}};zr=function(e,t,n,r){e=w(e,t,n,r),k(e),E(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Xn=sr.getFiberCurrentPropsFromNode,Zn=sr.getInstanceFromNode,er=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:li,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Dr,SelectEventPlugin:ai,BeforeInputEventPlugin:Pr});var di=[],fi=-1;new Set;var pi={current:Tn},hi={current:!1},mi=Tn,yi=null,vi=null,gi="function"==typeof Symbol&&Symbol.for,bi=gi?Symbol.for("react.element"):60103,_i=gi?Symbol.for("react.call"):60104,wi=gi?Symbol.for("react.return"):60105,ki=gi?Symbol.for("react.portal"):60106,Ei=gi?Symbol.for("react.fragment"):60107,Si="function"==typeof Symbol&&Symbol.iterator,Pi=Array.isArray,Ci=Ot(!0),Oi=Ot(!1),Ti={},xi=Object.freeze({default:Lt}),Ri=xi&&Lt||xi,ji=Ri.default?Ri.default:Ri,Ai="object"==typeof performance&&"function"==typeof performance.now,Ii=void 0;Ii=Ai?function(){return performance.now()}:function(){return Date.now()};var Li=void 0,Ni=void 0;if(_n.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Mi,Di=null,qi=!1,Ui=-1,Bi=!1,Fi=0,Vi=33,Hi=33;Mi=Ai?{didTimeout:!1,timeRemaining:function(){var e=Fi-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Fi-Date.now();return 0<e?e:0}};var zi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===zi){if(qi=!1,e=Ii(),0>=Fi-e){if(!(-1!==Ui&&Ui<=e))return void(Bi||(Bi=!0,requestAnimationFrame(Wi)));Mi.didTimeout=!0}else Mi.didTimeout=!1;Ui=-1,e=Di,Di=null,null!==e&&e(Mi)}},!1);var Wi=function(e){Bi=!1;var t=e-Fi+Hi;t<Hi&&Vi<Hi?(8>t&&(t=8),Hi=t<Vi?Vi:t):Vi=t,Fi=e+Hi,qi||(qi=!0,window.postMessage(zi,"*"))};Li=function(e,t){return Di=e,null!=t&&"number"==typeof t.timeout&&(Ui=Ii()+t.timeout),Bi||(Bi=!0,requestAnimationFrame(Wi)),0},Ni=function(){Di=null,qi=!1,Ui=-1}}else Li=window.requestIdleCallback,Ni=window.cancelIdleCallback;else Li=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})})},Ni=function(e){clearTimeout(e)};var Ki=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},Qi={},Yi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},$i=void 0,Ji=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Yi.svg||"innerHTML"in e)e.innerHTML=t;else{for($i=$i||document.createElement("div"),$i.innerHTML="<svg>"+t+"</svg>",t=$i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Xi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(e){Zi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xi[t]=Xi[e]})});var ea=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ta=Yi.html,na=kn.thatReturns(""),ra={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ia=Object.freeze({createElement:sn,createTextNode:un,setInitialProperties:cn,diffProperties:ln,updateProperties:dn,diffHydratedProperties:fn,diffHydratedText:pn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Ht(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=C(i);a||r("90"),oe(i),Ht(i,a)}}}break;case"textarea":Jt(e,n);break;case"select":null!=(t=n.value)&&Gt(e,!!n.multiple,t,!1)}}});xr.injectFiberControlledHostComponent(ia);var aa=null,oa=null,sa=ji({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:en(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=en(e,t)}return e},getChildHostContext:function(e,t){return en(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){aa=Hr;var e=Sn();if(qe(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var a=0,o=-1,s=-1,u=0,c=0,l=e,d=null;t:for(;;){for(var f;l!==t||0!==r&&3!==l.nodeType||(o=a+r),l!==i||0!==n&&3!==l.nodeType||(s=a+n),3===l.nodeType&&(a+=l.nodeValue.length),null!==(f=l.firstChild);)d=l,l=f;for(;;){if(l===e)break t;if(d===t&&++u===r&&(o=a),d===i&&++c===n&&(s=a),null!==(f=l.nextSibling))break;l=d,d=l.parentNode}l=f}t=-1===o||-1===s?null:{start:o,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;oa={focusedElem:e,selectionRange:t},xe(!1)},resetAfterCommit:function(){var e=oa,t=Sn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&Cn(document.documentElement,n)){if(qe(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[M()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=De(n,e);var a=De(n,r);if(i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)){var o=document.createRange();o.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(o),t.extend(a.node,a.offset)):(o.setEnd(a.node,a.offset),t.addRange(o))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(On(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}oa=null,xe(aa),aa=null},createInstance:function(e,t,n,r,i){return e=sn(e,t,n,r),e[ar]=i,e[or]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){cn(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,i){return ln(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=un(e,t),e[ar]=r,e},now:Ii,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,i){e[or]=i,dn(e,t,n,r,i)},resetTextContent:function(e){e.textContent=""},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,a){return e[ar]=a,e[or]=n,fn(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[ar]=n,pn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Li,cancelDeferredCallback:Ni,useSyncScheduling:!0});X=sa.batchedUpdates,gn.prototype.render=function(e,t){sa.updateContainer(e,this._reactRootContainer,null,t)},gn.prototype.unmount=function(e){sa.updateContainer(null,this._reactRootContainer,null,e)};var ua={createPortal:vn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return sa.findHostInstance(t);"function"==typeof e.render?r("188"):r("213",Object.keys(e))},hydrate:function(e,t,n){return yn(null,e,t,!0,n)},render:function(e,t,n){return yn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&r("38"),yn(e,t,n,!1,i)},unmountComponentAtNode:function(e){return hn(e)||r("40"),!!e._reactRootContainer&&(sa.unbatchedUpdates(function(){yn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:vn,unstable_batchedUpdates:Z,unstable_deferredUpdates:sa.deferredUpdates,flushSync:sa.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:Jn,EventPropagators:ur,ReactControlledComponent:Rr,ReactDOMComponentTree:sr,ReactDOMEventListener:Wr}};sa.injectIntoDevTools({findFiberByHostInstance:S,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var ca=Object.freeze({default:ua}),la=ca&&ua||ca;e.exports=la.default?la.default:la},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=n(132),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!a.call(t,n[o])||!r(e[n[o]],t[n[o]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(511);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(512);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){e.exports=n(515).default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:c.default}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(516),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u=n(517),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.init(t,n),this.type="backend"}return a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=s.defaults(t,this.options||{},i())}},{key:"readMulti",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath(e,t));var i=this.services.interpolator.interpolate(r,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(i,n)}},{key:"read",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));var i=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(i,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,function(r,i){if(i.status>=500&&i.status<600)return t("failed loading "+e,!0);if(i.status>=400&&i.status<500)return t("failed loading "+e,!1);var a=void 0,o=void 0;try{a=n.options.parse(r,e)}catch(t){o="failed parsing "+e+" to json"}if(o)return t(o,!1);t(null,a)})}},{key:"create",value:function(e,t,n,r){var i=this;"string"==typeof e&&(e=[e]);var a={};a[n]=r||"",e.forEach(function(e){var n=i.services.interpolator.interpolate(i.options.addPath,{lng:e,ns:t});i.options.ajax(n,i.options,function(e,t){},a)})}}]),e}();l.type="backend",t.default=l},function(e,t,n){"use strict";function r(e){return o.call(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}function i(e){return o.call(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=r,t.extend=i;var a=[],o=a.forEach,s=a.slice},function(e,t,n){"use strict";function r(e,t){if(t&&"object"===(void 0===t?"undefined":a(t))){var n="",r=encodeURIComponent;for(var i in t)n+="&"+r(i)+"="+r(t[i]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}function i(e,t,n,i,o){i&&"object"===(void 0===i?"undefined":a(i))&&(o||(i._t=new Date),i=r("",i).slice(1)),t.queryStringParams&&(e=r(e,t.queryStringParams));try{var s;s=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0"),s.open(i?"POST":"GET",e,1),t.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!t.withCredentials,i&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var u=t.customHeaders;if(u)for(var c in u)s.setRequestHeader(c,u[c]);s.onreadystatechange=function(){s.readyState>3&&n&&n(s.responseText,s)},s.send(i)}catch(e){console&&console.log(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i},function(e,t){e.exports={Live:"Live",Advertisement:"Advertisement","This Ad supports {{channelName}}":"This Ad supports {{channelName}}",Pause:"Pause",Play:"Play",Mute:"Mute",Unmute:"Unmute",Options:"Options",Fullscreen:"Fullscreen","Exit Fullscreen":"Exit Fullscreen","Player Options":"Player Options","Video Quality":"Video Quality",Source:"Source",High:"High",Medium:"Medium",Low:"Low",Mobile:"Mobile","Popout Player":"Popout Player","Show Video Stats":"Show Video Stats","Hide Video Stats":"Hide Video Stats","Report Playback Issue":"Report Playback Issue",Captions:"Captions","Closed Captioning":"Closed Captioning","Closed Caption Settings":"Closed Caption Settings",Presets:"Presets",Text:"Text",Background:"Background",Window:"Window",Aa:"Aa",Font:"Font","Mono Serif":"Mono Serif",Serif:"Serif","Mono Sans-Serif":"Mono Sans-Serif","Sans-Serif":"Sans-Serif",Casual:"Casual",Cursive:"Cursive","Small Capitals":"Small Capitals",Position:"Position",Bottom:"Bottom",Top:"Top",Justification:"Justification",Alignment:"Alignment",Center:"Center",Left:"Left",Right:"Right",Style:"Style",Effects:"Effects",Effect:"Effect",Color:"Color",Size:"Size",A:"A",Opacity:"Opacity",Solid:"Solid",Translucent:"Translucent","Semi-Transparent":"Semi-Transparent",Transparent:"Transparent",Flashing:"Flashing","Increase Size":"Increase Size","Decrease Size":"Decrease Size",Select:"Select","Audio and video stutter":"Audio and video stutter","Leave feedback?":"Leave feedback?","Video stutters, but audio is fine":"Video stutters, but audio is fine","Video is completely black or doesn't load":"Video is completely black or doesn't load","Audio and video aren't synced":"Audio and video aren't synced","Fullscreen playback doesn't work":"Fullscreen playback doesn't work","Advertisement can't be muted or is too loud":"Advertisement can't be muted or is too loud","Advertisement has played too many times":"Advertisement has played too many times",Submit:"Submit","Theatre Mode":"Theatre Mode","Exit Theatre Mode":"Exit Theatre Mode","Video could not be found, or has been deleted by its owner":"Video could not be found, or has been deleted by its owner","Channel could not be found, or has been deleted by its owner":"Channel could not be found, or has been deleted by its owner","Video is loading":"Video is loading","Video is not available":"Video is not available","Flash is not installed":"Flash is not installed","The broadcaster indicated that the channel is intended for mature audiences.":"The broadcaster indicated that the channel is intended for mature audiences.","Start Watching":"Start Watching","Video Resolution":"Video Resolution","Display Resolution":"Display Resolution",FPS:"FPS","Skipped Frames":"Skipped Frames","Buffer Size":"Buffer Size","Latency To Broadcaster":"Latency To Broadcaster","Latency To Encoder":"Latency To Encoder","Playback Rate":"Playback Rate","Memory Usage":"Memory Usage","Backend Version":"Backend Version","This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.":"This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.","This video quality is only available to subscribers. Subscribe now to watch and support %s.":"This video quality is only available to subscribers. Subscribe now to watch and support %s.","Playing on {{device}}":"Playing on {{device}}"," has started a playlist.":" has started a playlist.","Introducing Auto Quality!":"Introducing Auto Quality!","You can enable automatic video quality selection by clicking on the gear menu and selecting Auto under Video Quality.":"You can enable automatic video quality selection by clicking on the gear menu and selecting Auto under Video Quality.","Submit feedback by selecting Report Playback Issue from the gear menu.":"Submit feedback by selecting Report Playback Issue from the gear menu.",Offline:"Offline","Get notified when {{channelName}} is live":"Get notified when {{channelName}} is live","Follow and get notified when {{channelName}} is live":"Follow and get notified when {{channelName}} is live","Live Broadcast has ended":"Live Broadcast has ended","Get notified when {{channelName}} goes live next":"Get notified when {{channelName}} goes live next","Follow {{channelName}} on Twitch":"Follow {{channelName}} on Twitch",Following:"Following",Unfollow:"Unfollow",Notifications:"Notifications","Turn On Notifications":"Turn On Notifications",Playlist:"Playlist",Subscribe:"Subscribe",Close:"Close","The broadcast is down.":"The broadcast is down.","The player will automatically reload when the broadcast is back.":"The player will automatically reload when the broadcast is back.","Copy Video URL at Current Time":"Copy Video URL at Current Time","Thanks for your report":"Thanks for your report","Coming Up":"Coming Up","Now playing: ":"Now playing: ","playing {{game}} for {{viewerCount}} viewer":"playing {{game}} for {{viewerCount}} viewer","playing {{game}} for {{viewerCount}} viewer_plural":"playing {{game}} for {{viewerCount}} viewers",Chromecast:"Chromecast","Watch on Twitch":"Watch on Twitch","You must be {{age}} to view this content. Please enter your date of birth.":"You must be {{age}} to view this content. Please enter your date of birth.","Sorry, you must be over the age of {{age}} to view this content.":"Sorry, you must be over the age of {{age}} to view this content.","Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.":"Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","Clip (Alt+X)":"Clip (Alt+X)",Clip:"Clip","Learn More":"Learn More","Make an impact with Clip Titles":"Make an impact with Clip Titles","Give your clips the perfect title to share more about your favorite moments.":"Give your clips the perfect title to share more about your favorite moments.","Clip Trimming is Here":"Clip Trimming is Here","It just got a lot easier to share the perfect moment with Clips.":"It just got a lot easier to share the perfect moment with Clips.",Auto:"Auto","HTML5 Player":"HTML5 Player","You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.":"You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.","Give Feedback":"Give Feedback","No supported video backend available; Flash is not installed":"No supported video backend available; Flash is not installed","Up Next":"Up Next",Cancel:"Cancel","Playing in {{timeRemaining}} second":"Playing in {{timeRemaining}} second","Playing in {{timeRemaining}} second_plural":"Playing in {{timeRemaining}} seconds","Mini Player":"Mini Player",ON:"ON",OFF:"OFF","By {{author}}":"By {{author}}","{{count}} video":"{{count}} video","{{count}} video_plural":"{{count}} videos","{{count}} minute":"{{count}} minute","{{count}} minute_plural":"{{count}} minutes","{{count}} hour":"{{count}} hour","{{count}} hour_plural":"{{count}} hours","{{hoursText}} and {{minutesText}}":"{{hoursText}} and {{minutesText}}","{{currentPosition}}/{{totalVideos}} video":"{{currentPosition}}/{{totalVideos}} video","{{currentPosition}}/{{totalVideos}} video_plural":"{{currentPosition}}/{{totalVideos}} videos","Video unavailable":"Video unavailable","Start watching":"Start watching","Skip this video":"Skip this video","This collection is empty.":"This collection is empty.",Quality:"Quality",Speed:"Speed",Normal:"Normal","Closed Captions Options":"Closed Captions Options",Advanced:"Advanced","Noticed a video playback issue? Let us know!":"Noticed a video playback issue? Let us know!","Sent!":"Sent!","Copy Video URL at {{time}}":"Copy Video URL at {{time}}","Copied!":"Copied!","Playing in":"Playing in","{{timeRemaining}} second":"{{timeRemaining}} second","{{timeRemaining}} second_plural":"{{timeRemaining}} seconds","Watch Now":"Watch Now","Watch Next":"Watch Next","Most Recent Video":"Most Recent Video",Settings:"Settings","Is your video buffering? Try the Auto quality option.":"Is your video buffering? Try the Auto quality option.","Your Twitch User ID":"Your Twitch User ID","Report Extension":"Report Extension","More from {{channelName}}":"More from {{channelName}}",Vodcast:"Vodcast",Premiere:"Premiere",Rerun:"Rerun","Playing pre-recorded video":"Playing pre-recorded video","Playing highlight":"Playing highlight","Playing uploaded video":"Playing uploaded video","Playing past broadcast":"Playing past broadcast","Rerun of video":"Rerun of video","Premiering video":"Premiering video","Content not available":"Content not available","Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)":"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)","terms of service":"terms of service","Grant Access":"Grant Access","Revoke Access":"Revoke Access","You are granting {{extensionName}} the following access:":"You are granting {{extensionName}} the following access:","You are revoking the following access for {{extensionName}}:":"You are revoking the following access for {{extensionName}}:","Allows this extension to know your User ID on Twitch.":"Allows this extension to know your User ID on Twitch.","View Details":"View Details","Manage Access":"Manage Access",Access:"Access",Granted:"Granted","Active Extensions":"Active Extensions",Extensions:"Extensions",Interactions:"Interactions","Manage Permissions":"Manage Permissions",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December","Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.":"Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.","You must be logged in to use this extension feature":"You must be logged in to use this extension feature","The channel you are attempting to follow does not exist":"The channel you are attempting to follow does not exist","You are already following {{channelName}}":"You are already following {{channelName}}","You are about to follow {{channelName}}":"You are about to follow {{channelName}}","You must be logged in to use this extension feature.":"You must be logged in to use this extension feature.",'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under':'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under',Buy:"Buy","In-Extension Purchase":"In-Extension Purchase","{{extensionName}} Extension":"{{extensionName}} Extension","You seem to be offline. Please wait while we try to reconnect.":"You seem to be offline. Please wait while we try to reconnect.",Share:"Share","{{displayName}} playing {{game}}":"{{displayName}} playing {{game}}","{{numberOfViews}} view":"{{numberOfViews}} view","{{numberOfViews}} view_plural":"{{numberOfViews}} views","Keyboard Shortcuts":"Keyboard Shortcuts","Pause/Play":"Pause/Play","Back/Forward 1 frame":"Back/Forward 1 frame","Slow down/Speed up":"Slow down/Speed up","Toggle Fullscreen":"Toggle Fullscreen","Show this menu":"Show this menu","Back/Forward {{count}} second":"Back/Forward {{count}} second","Back/Forward {{count}} second_plural":"Back/Forward {{count}} seconds",Space:"Space",Esc:"Esc",Shift:"Shift","{{displayName}} streaming on Twitch":"{{displayName}} streaming on Twitch","{{displayName}}'s video on Twitch":"{{displayName}}'s video on Twitch","Full Video":"Full Video","Watch {{broadcaster}} Live":"Watch {{broadcaster}} Live","Continue Watching":"Continue Watching","Sharing is Caring":"Sharing is Caring","Embed Code":"Embed Code",Copy:"Copy",Back:"Back",Link:"Link","Check out this clip from {{displayName}}'s broadcast":"Check out this clip from {{displayName}}'s broadcast","Tap to unmute":"Tap to unmute"}},function(e,t,n){/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.0.5
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var e=document.documentElement,t=null,n="initial",r=n,i=null,a=["input","select","textarea"],o=[],s=[16,17,18,91,93],u={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},c=!1,l=!1,d={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},p=!1;try{var h=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,h)}catch(e){}var m=function(){var e=!!p&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",y),window.addEventListener("pointermove",g)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",y),window.addEventListener("MSPointerMove",g)):(window.addEventListener("mousedown",y),window.addEventListener("mousemove",g),"ontouchstart"in window&&(window.addEventListener("touchstart",w,e),window.addEventListener("touchend",y))),window.addEventListener(E(),g,e),window.addEventListener("keydown",w),window.addEventListener("keyup",w),window.addEventListener("focusin",b),window.addEventListener("focusout",_)},y=function(e){if(!c){var t=e.which,i=u[e.type];"pointer"===i&&(i=k(e));var o="keyboard"===i&&t&&-1===s.indexOf(t)||"mouse"===i||"touch"===i;if(n!==i&&o&&(n=i,v("input")),r!==i&&o){var l=document.activeElement;l&&l.nodeName&&-1===a.indexOf(l.nodeName.toLowerCase())&&(r=i,v("intent"))}}},v=function(t){e.setAttribute("data-what"+t,"input"===t?n:r),S(t)},g=function(e){if(C(e),!c&&!l){var t=u[e.type];"pointer"===t&&(t=k(e)),r!==t&&(r=t,v("intent"))}},b=function(n){if(!n.target.nodeName)return void _();t=n.target.nodeName.toLowerCase(),e.setAttribute("data-whatelement",t),n.target.classList&&n.target.classList.length&&e.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))},_=function(){t=null,e.removeAttribute("data-whatelement"),e.removeAttribute("data-whatclasses")},w=function(e){y(e),window.clearTimeout(i),c=!0,i=window.setTimeout(function(){c=!1},100)},k=function(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},E=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},S=function(e){for(var t=0,i=o.length;t<i;t++)o[t].type===e&&o[t].fn.call(void 0,"input"===e?n:r)},P=function(e){for(var t=0,n=o.length;t<n;t++)if(o[t].fn===e)return t},C=function(e){d.x!==e.screenX||d.y!==e.screenY?(l=!1,d.x=e.screenX,d.y=e.screenY):l=!0};return"addEventListener"in window&&Array.prototype.indexOf&&function(){u[E()]="mouse",m(),v("input"),v("intent")}(),{ask:function(e){return"intent"===e?r:n},element:function(){return t},ignoreKeys:function(e){s=e},registerOnChange:function(e,t){o.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=P(e);t&&o.splice(t,1)}}}()}])})},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return a.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function i(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o=void 0,s={};for(var u in t){if(r.hasOwnProperty(u))for(o=0;o<r[u].length;o++){var c=r[u][o];s[r[u][o]]=n(c)}s[u]=n(u)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i;var a=n(0)},function(e,t){e.exports='<div class="player-initializing player-center-content">\n    <div class="pl-loading-spinner"></div>\n</div>\n<div id="player-mature"></div>\n<div id="player-age-gate-overlay"></div>\n\n<div id="js-cc-panel"></div>\n\n<div id="js-ad-overlay"></div>\n<div id="js-player-post-vod-recommendations-overlay"></div>\n<div id="js-player-offline-recommendations-overlay"></div>\n\n<div id="js-player-post-vod-recommendations-overlay"></div>\n<div id="js-player-offline-recommendations-overlay"></div>\n\n<div id="js-background-banner"></div>\n\n<div id="js-loading-overlay"></div>\n<div id="user-offline-overlay"></div>\n<div id="player-chromecast"></div>\n\n<div class="player-overlay player-fullscreen-overlay js-control-fullscreen-overlay"></div>\n\n<div class="player-overlay player-extensions" id="js-player-extension-root"></div>\n\n<div id="js-player-extension-confirmation-root"></div>\n<div id="js-player-captions-container"></div>\n\n<div id="js-paused-overlay"></div>\n<div id="player-subscribe-overlay"></div>\n\n<div id="empty-collection-overlay"></div>\n\n<div id="root-player"></div>\n\n<div id="js-collection-sidebar"></div>\n<div id="js-follow-panel"></div>\n<div id="js-dead-ltv-overlay"></div>\n\n<div id="storm-warning-overlay"></div>\n\n<div id="error-overlay"></div>\n\n<div id="player-quality-restricted-overlay"></div>\n<form class="js-create-clip-form" method="post" action="" target="">\n    <input class="js-create-clip-player-backend-type" type="hidden" name="player_backend_type" value="">\n    <input class="js-create-clip-channel" type="hidden" name="channel" value="">\n    <input class="js-create-clip-offset" type="hidden" name="offset" value="">\n    <input class="js-create-clip-broadcast_id" type="hidden" name="broadcast_id" value="">\n    <input class="js-create-clip-vod_id" type="hidden" name="vod_id" value="">\n    <input class="js-create-clip-play_session_id" type="hidden" name="play_session_id" value="">\n</form>\n\n<div id="js-player-alert-container"></div>\n\n<div id="stats"></div>\n\n<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" style="width:0;height:0;visibility:hidden;display:block;">\n    <symbol viewBox="0 0 30 30" id="icon_play"><path clip-rule="evenodd" d="M10,7l12,8l-12,8V7z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_pause"><path clip-rule="evenodd" d="M9,22h4V8H9V22z M17,8v14h4V8H17z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_volumefull"><path clip-rule="evenodd" d="M22,21.5v-13L23,8v14L22,21.5z M18,10.5l1-0.5v10l-1-0.5V10.5z M7,18v-6l3,0l5-4v14l-5-4L7,18z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_volumemute"><path clip-rule="evenodd" d="M23,18L23,18h-0.7L20,15.7L17.7,18H17l0,0v-0.7l2.3-2.3L17,12.7V12l0,0h0.7l2.3,2.3l2.3-2.3H23l0,0v0.7L20.7,15l2.3,2.3V18z M7,18v-6l3,0l5-4v14l-5-4L7,18z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_fullscreen"><path clip-rule="evenodd" d="M7,7 L15.2,7 L12.8,9.4 L15.8,12.4 L12.4,15.8 L9.4,12.8 L7,15.2 L7,7 Z M23,23 L14.8,23 L17.2,20.6 L14.2,17.6 L17.6,14.2 L20.6,17.2 L23,14.8 L23,23 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_unfullscreen"><path clip-rule="evenodd" d="M15,15 L23.2,15 L20.8,17.4 L23.8,20.4 L20.4,23.8 L17.4,20.8 L15,23.2 L15,15 L15,15 Z M15,15 L6.8,15 L9.2,12.6 L6.2,9.6 L9.6,6.2 L12.6,9.2 L15,6.8 L15,15 L15,15 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_settings"><path clip-rule="evenodd" d="M13.3589744,7 L16.6410256,7 L18.0769231,9.8 L21.3589744,9.8 L23,12.2 L21.3589744,15 L23,17.8 L21.3589744,20.2 L18.0769231,20.2 L16.6410256,23 L13.3589744,23 L11.9230769,20.2 L8.64102564,20.2 L7,17.8 L8.64102564,15 L7,12.2 L8.64102564,9.8 L11.9230769,9.8 L13.3589744,7 Z M15,17.8 C16.5860485,17.8 17.8717949,16.5463973 17.8717949,15 C17.8717949,13.4536027 16.5860485,12.2 15,12.2 C13.4139515,12.2 12.1282051,13.4536027 12.1282051,15 C12.1282051,16.5463973 13.4139515,17.8 15,17.8 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_theatre"><path d="M6 21h11V9H6v12zM19 9v12h5V9h-5z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_theatre_deactivate"><path d="M6 9h11v12H6V9zm2 2h9v8H8v-8zm9-2h7v12h-7V9zm2 2h3v8h-3v-8z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 63 30" id="icon_twitch"><path clip-rule="evenodd" d="M55,19 L52,19 L52,13 L49,13 L49,19 L46,19 L46,8 L49,8 L49,10 L53,10 L55,12 L55,19 L55,19 Z M45,13 L41,13 L41,16 L45,16 L45,19 L40,19 L38,17 L38,12 L40,10 L45,10 L45,13 L45,13 Z M37,13 L34,13 L34,16 L37,16 L37,19 L33,19 L31,17 L31,8 L34,8 L34,10 L37,10 L37,13 L37,13 Z M27,8 L30,8 L30,9 L27,9 L27,8 Z M27,10 L30,10 L30,19 L27,19 L27,10 Z M26,17 L24,19 L15,19 L15,10 L18,10 L18,16 L19,16 L19,10 L22,10 L22,16 L23,16 L23,10 L26,10 L26,17 L26,17 Z M14,13 L11,13 L11,16 L14,16 L14,19 L10,19 L8,17 L8,8 L11,8 L11,10 L14,10 L14,13 L14,13 Z M53.5,9 L50,9 L50,7 L45.5,7 L43,9 L39.5,9 L38,10.5 L38,9 L35,9 L35,7 L26,7 L26,9 L15,9 L12,7 L7,7 L7,17.5 L9.5,20.125 L14,23 L18,23 L18,22.25 L19.5,23 L25.5,23 L26.5,21.5 L27,23 L31,23 L31,21.5 L32.5,23 L37,23 L37.25,21.5 L38.5,23 L43.5,23 L45,21.5 L45,23 L47.5,23 L49,21.5 L49,23 L52.5,23 L56,19.5 L56,11.5 L53.5,9 L53.5,9 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_close"><path clip-rule="evenodd" d="M15.1035534,15.4571068 L11.5303301,19.0303301 L11.3535534,19.2071068 L11,18.8535534 L11.1767767,18.6767767 L14.75,15.1035534 L11.1767767,11.5303301 L11,11.3535534 L11.3535534,11 L11.5303301,11.1767767 L15.1035534,14.75 L18.6767767,11.1767767 L18.8535534,11 L19.2071068,11.3535534 L19.0303301,11.5303301 L15.4571068,15.1035534 L19.0303301,18.6767767 L19.2071068,18.8535534 L18.8535534,19.2071068 L18.6767767,19.0303301 L15.1035534,15.4571068 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_close_md"><path clip-rule="evenodd" d="M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p1"><path fill-rule="evenodd" clip-rule="evenodd" d="M15,22c0-0.7-0.1-1.4-0.2-2H22V10H8v3.2C7.4,13.1,6.7,13,6,13V8h18v14H15z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p2"><path fill-rule="evenodd" clip-rule="evenodd" d="M10,13.9V12h10v6h-5.9C13.2,16.2,11.8,14.8,10,13.9z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p3"><path fill-rule="evenodd" clip-rule="evenodd" d="M13,22h-1c0-3.3-2.7-6-6-6v-1C9.9,15,13,18.1,13,22z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p4"><path fill-rule="evenodd" clip-rule="evenodd" d="M10,22H9c0-1.7-1.3-3-3-3v-1C8.2,18,10,19.8,10,22z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p5"><path fill-rule="evenodd" clip-rule="evenodd" d="M7,22H6v-1C6.6,21,7,21.4,7,22z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_clips"><path d="M14.802 7.804l-3.83 1.026 2.928 2.321 3.83-1.026-2.928-2.321zm2.895-.776l3.981-1.067.777 2.898-1.83.49-2.928-2.321zM7.969 9.635l-1.745.467L7 13l3.898-1.044-2.929-2.321zM7 13h16v9H7v-9zm1.969 3h2.785l2.228-3h-2.785l-2.228 3zm7.018 0h2.785L21 13h-2.785l-2.228 3z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 13 18" id="icon_clips--bday"><path d="M6.505 7.61l2.41 2.33H4.53l.621-2.174-.552-.81L1.43 8.53l1.77-2.803L.266 4.184l3.531-.22.234-3.118 1.761 2.583L8.96 1.854 7.19 4.658 10.124 6.2l-3.53.22-.09 1.189zm6.546 6.33H3.385l.625-2.182h6.785l2.256 2.182zm-3.042 1.818l-7.737 2.073.593-2.073h7.144z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_cc_on"><path fill-rule="evenodd" clip-rule="evenodd" d="M5,8 L6,7 L24,7 L25,8 L25,22 L24,23 L6,23 L5,22 L5,8 Z M8,15 C8,17.2003155 9.48065348,18.75 11.5511608,18.75 C13.3929493,18.75 14.4763543,17.6735016 14.7411866,16.1829653 L12.8151333,16.1829653 C12.6225279,16.7271293 12.2252794,17.0820189 11.5511608,17.0820189 C10.527945,17.0820189 9.95012898,16.1829653 9.95012898,15 C9.95012898,13.805205 10.527945,12.9179811 11.5511608,12.9179811 C12.2252794,12.9179811 12.6225279,13.2728707 12.8151333,13.805205 L14.7411866,13.805205 C14.4763543,12.3264984 13.3929493,11.25 11.5511608,11.25 C9.48065348,11.25 8,12.7996845 8,15 Z M15.2588134,15 C15.2588134,17.2003155 16.7394669,18.75 18.8099742,18.75 C20.6517627,18.75 21.7351677,17.6735016 22,16.1829653 L20.0739467,16.1829653 C19.8813414,16.7271293 19.4840929,17.0820189 18.8099742,17.0820189 C17.7867584,17.0820189 17.2089424,16.1829653 17.2089424,15 C17.2089424,13.805205 17.7867584,12.9179811 18.8099742,12.9179811 C19.4840929,12.9179811 19.8813414,13.2728707 20.0739467,13.805205 L22,13.805205 C21.7351677,12.3264984 20.6517627,11.25 18.8099742,11.25 C16.7394669,11.25 15.2588134,12.7996845 15.2588134,15 Z"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_cc_off"><path fill-rule="evenodd" clip-rule="evenodd" d="M5,8 L6,7 L24,7 L25,8 L25,22 L24,23 L6,23 L5,22 L5,8 Z M24,8 L24,22 L6,22 L6,8 L24,8 Z M8,15 C8,17.2003155 9.48065348,18.75 11.5511608,18.75 C13.3929493,18.75 14.4763543,17.6735016 14.7411866,16.1829653 L12.8151333,16.1829653 C12.6225279,16.7271293 12.2252794,17.0820189 11.5511608,17.0820189 C10.527945,17.0820189 9.95012898,16.1829653 9.95012898,15 C9.95012898,13.805205 10.527945,12.9179811 11.5511608,12.9179811 C12.2252794,12.9179811 12.6225279,13.2728707 12.8151333,13.805205 L14.7411866,13.805205 C14.4763543,12.3264984 13.3929493,11.25 11.5511608,11.25 C9.48065348,11.25 8,12.7996845 8,15 Z M15.2588134,15 C15.2588134,17.2003155 16.7394669,18.75 18.8099742,18.75 C20.6517627,18.75 21.7351677,17.6735016 22,16.1829653 L20.0739467,16.1829653 C19.8813414,16.7271293 19.4840929,17.0820189 18.8099742,17.0820189 C17.7867584,17.0820189 17.2089424,16.1829653 17.2089424,15 C17.2089424,13.805205 17.7867584,12.9179811 18.8099742,12.9179811 C19.4840929,12.9179811 19.8813414,13.2728707 20.0739467,13.805205 L22,13.805205 C21.7351677,12.3264984 20.6517627,11.25 18.8099742,11.25 C16.7394669,11.25 15.2588134,12.7996845 15.2588134,15 Z"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_close_modal"><path clip-rule="evenodd" d="M13.657 3.757l-4.243 4.243 4.243 4.242-1.415 1.415-4.242-4.243-4.243 4.243-1.414-1.415 4.243-4.242-4.243-4.243 1.414-1.414 4.243 4.243 4.242-4.243 1.415 1.414z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 14 14" id="icon_arrow"><path d="M6.46765898,5.00010938 L6.46755335,5 L3.08055618,8.27078515 C2.97320936,8.37444877 2.97610632,8.52662201 3.07163118,8.6255409 L3.47144895,9.03956433 C3.56460436,9.13602957 3.72584608,9.14003286 3.82630008,9.04302556 L6.46765898,6.49229492 L9.10901788,9.04302556 C9.20947188,9.14003286 9.3707136,9.13602957 9.46386901,9.03956433 L9.86368678,8.6255409 C9.95921164,8.52662201 9.9621086,8.37444877 9.85476178,8.27078515 L6.46776461,5 L6.46765898,5.00010938 Z" transform="translate(6.467659, 7.056937) scale(-1, 1) rotate(-270.000000) translate(-6.467659, -7.056937) "></path></symbol>\n    <symbol viewBox="0 0 98 86" id="age-gate-icon-21"><path d="M24 8h50v10h12V8h10a2 2 0 0 1 2 2v74a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h10v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm13.638 33.726c2.978-1.237 5.656-1.856 8.032-1.856 3.076 0 5.55.83 7.422 2.49 1.872 1.66 2.807 3.817 2.807 6.47 0 2.083-.52 3.87-1.562 5.359-1.042 1.49-3.027 3.455-5.957 5.896-2.1 1.742-3.414 3.02-3.943 3.833-.529.814-.826 1.782-.891 2.905h12.89V65h-20.36v-3.906c0-3.142.487-5.587 1.464-7.337s3.15-4.04 6.519-6.872c1.595-1.351 2.632-2.364 3.112-3.04.48-.675.72-1.38.72-2.112 0-.96-.374-1.77-1.122-2.429-.75-.659-1.734-.989-2.955-.989-1.79 0-3.849.863-6.176 2.588v-7.177zm32.592-1.319h6.421V65h-7.446V44.272h-5.127v-5.615h1.196c1.563 0 2.78-.431 3.65-1.294.871-.862 1.306-2.148 1.306-3.857v-1.099z" fill="#F9F7FC" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 98 86" id="age-gate-icon-19"><path d="M24 8h50v10h12V8h10a2 2 0 0 1 2 2v74a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h10v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm18.718 32.407h6.42V65h-7.446V44.272h-5.127v-5.615h1.197c1.562 0 2.779-.431 3.65-1.294.87-.862 1.306-2.148 1.306-3.857v-1.099zm29.614 18.994c-.911 1.058-1.827 1.856-2.747 2.393-.92.537-1.843.806-2.77.806-2.182 0-4.09-1.034-5.726-3.101-1.635-2.067-2.453-4.622-2.453-7.666 0-3.32.984-6.144 2.954-8.472 1.97-2.327 4.419-3.49 7.348-3.49 3.337 0 6.063 1.496 8.18 4.491 2.115 2.995 3.173 7.137 3.173 12.427 0 2.962-.468 5.717-1.404 8.264-.936 2.547-2.409 4.598-4.419 6.153-2.01 1.554-4.423 2.331-7.239 2.331-2.001 0-4.174-.48-6.518-1.44v-7.202c2.132 1.464 3.988 2.197 5.566 2.197 1.71 0 3.068-.643 4.077-1.929 1.01-1.286 1.669-3.206 1.978-5.762zm0-6.933c-.163-1.937-.541-3.443-1.135-4.517-.594-1.074-1.29-1.611-2.088-1.611-.813 0-1.473.476-1.977 1.428-.505.952-.757 2.128-.757 3.528 0 1.383.236 2.494.708 3.332.472.839 1.099 1.258 1.88 1.258.553 0 1.11-.285 1.672-.855.562-.57 1.127-1.424 1.697-2.563z" fill="#F9F7FC" fill-rule="evenodd"/></symbol>\n    <symbol id="age-gate-fail-icon" viewBox="0 0 92 81"><path d="M0 75.6l3.067-5.4L9.2 59.4l12.267-21.6 12.266-21.6 6.134-10.8L42.933 0h6.134l3.066 5.4 6.134 10.8 12.266 21.6L82.8 59.4l6.133 10.8L92 75.6 89.06 81H3.44L0 75.6zM40 27h12v13l-3 19h-6l-3-19V27zm1 34h10v10H41V61z" fill="#F9F7FC" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 19 19" id="icon_open_collection"><path fill-rule="evenodd" d="M0,6 L19,6 L19,19 L0,19 L0,6 Z M12.25,12.5 L7,9 L7,16 L12.25,12.5 Z M2,3 L17,3 L17,5 L2,5 L2,3 Z M4,0 L15,0 L15,2 L4,2 L4,0 Z"/></symbol>\n    <symbol id=\'icon_pl-followcheck\' viewBox=\'0 0 16 16\'><path clip-rule=\'evenodd\' d=\'M6.5,12.75L2,8.25l2-2l2.5,2.5l5.5-5.5l2,2L6.5,12.75z\' fill-rule=\'evenodd\'></symbol>\n    <symbol viewBox="0 0 30 30" id="pl-icon_close"><path clip-rule="evenodd" d="M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z"/></symbol>\n    <symbol viewBox="0 0 14 12" id="pl-icon_vod"><path d="M0 12h14V0H0v12zm4-3V3l7 3-7 3z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 16 3" id="icon_more_info"><path d="M15 1.5c0 .389-.139.736-.417 1.042-.277.305-.639.458-1.083.458-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C12.694.153 13.056 0 13.5 0c.444 0 .806.153 1.083.458.278.306.417.653.417 1.042zm-6 0c0 .389-.139.736-.417 1.042C8.306 2.847 7.944 3 7.5 3c-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C6.694.153 7.056 0 7.5 0c.444 0 .806.153 1.083.458C8.861.764 9 1.111 9 1.5zm-6 0c0 .389-.139.736-.417 1.042C2.306 2.847 1.944 3 1.5 3c-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C.694.153 1.056 0 1.5 0c.444 0 .806.153 1.083.458C2.861.764 3 1.111 3 1.5z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 22 14" id="icon_grant_permissions"><g fill-rule="evenodd"><path d="M16 5h-3v1.994L11.91 8H16v3l6-4.5L16 2v3z"/><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/></g></symbol>\n    <symbol viewBox="0 0 22 14" id="icon_revoke_permissions"><g fill-rule="evenodd"><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/><path fill="currentColor" d="M17.013 5.34l-2.37-2.37-1.624 1.624 2.37 2.37-2.37 2.37 1.624 1.624 2.37-2.37 2.37 2.37 1.624-1.624-2.37-2.37 2.37-2.37-1.624-1.624-2.37 2.37z"/></g></symbol>\n    <symbol viewBox="0 0 22 14" id="icon_approved_permissions"><g fill-rule="evenodd"><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/><path fill="currentColor" fill-rule="nonzero" d="M20.356 3L22 4.618 15.513 11 12 7.543l1.644-1.617 1.87 1.839z"/></g></symbol>\n    <symbol viewBox="0 0 16 16" id="icon_report_flag"><path clip-rule="evenodd" d="M3,14 L1,14 L1,2 L3,2 L3,14 L3,14 Z M4,2 L11,2 L11,4 L15,4 L15,11 L8,11 L8,9 L4,9 L4,2 L4,2 Z"></path></symbol>\n    <symbol viewBox="0 0 12 12" height=\'12px\' id="icon_offline"><path clip-rule="evenodd" d="M6,0 C-1.7,0, -1.7,12, 6,12 C13.7,12, 13.7,0, 6,0" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 12 12" height=\'12px\' id="icon_live"><path clip-rule="evenodd" d="M6,0 C-1.7,0, -1.7,12, 6,12 C13.7,12, 13.7,0, 6,0" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 12 12" height=\'12px\' id="icon_vodcast"><path clip-rule="evenodd" d="M6,0 C-1.7,0, -1.7,12, 6,12 C13.7,12, 13.7,0, 6,0" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 20 20" height=\'36px\' id="icon_premiere">\n        <path d="M10 1c4.9 0 9 4.1 9 9s-4 9-9 9-9-4-9-9 4-9 9-9zm0 1.8c-3.9 0-7.2 3.3-7.2 7.2 0 3.9 3.3 7.2 7.2 7.2 3.9 0 7.2-3.3 7.2-7.2 0-3.9-3.3-7.2-7.2-7.2zm3.668 7.737l-4.8 3.4C8.784 13.98 8.69 14 8.6 14c-.11 0-.22-.03-.316-.09-.177-.107-.284-.3-.284-.51V6.6c0-.208.107-.4.284-.51C8.38 6.03 8.49 6 8.6 6c.09 0 .184.02.268.063l4.8 3.4c.204.102.332.31.332.537 0 .227-.128.435-.332.537z"></path>\n    </symbol>\n    <symbol viewBox="0 0 20 20" height=\'12px\' id="icon_rerun">\n        <path d="M17.953 4.797c-.004-.404-.25-.766-.626-.917-.12-.05-.247-.073-.373-.073-.264 0-.522.104-.713.3l-1.49 1.526c-.725-.937-1.677-1.684-2.795-2.167-1.745-.754-3.68-.783-5.45-.084-1.766.702-3.154 2.048-3.91 3.795-.753 1.744-.783 3.68-.083 5.446.7 1.767 2.048 3.156 3.794 3.91 1.745.756 3.68.785 5.447.084.563-.222.838-.858.615-1.42-.22-.564-.856-.838-1.42-.615-1.224.485-2.563.464-3.77-.058-1.21-.522-2.143-1.484-2.63-2.707-.483-1.225-.462-2.562.06-3.772.523-1.21 1.484-2.14 2.707-2.626 1.225-.49 2.563-.47 3.773.05.867.375 1.585.983 2.104 1.745L11.3 9.142c-.283.288-.364.718-.206 1.09.155.37.517.608.92.608h.01l4.993-.046c.552-.006.995-.457.99-1.01L17.96 4.79z"></path>\n    </symbol>\n    <symbol id="icon_heart" height=\'16px\' version=\'1.1\' viewBox=\'0 0 16 16\' width=\'16px\' x=\'0px\' y=\'0px\'>\n      <path clip-rule=\'evenodd\' d=\'M8,14L1,7V4l2-2h3l2,2l2-2h3l2,2v3L8,14z\' fill-rule=\'evenodd\'></path>\n    </symbol>\n    <symbol id=\'icon_unheart\' height=\'16px\' version=\'1.1\' viewBox=\'0 0 16 16\' width=\'16px\' x=\'0px\' y=\'0px\'>\n      <path clip-rule=\'evenodd\' d=\'M1,9V7h14v2H1z M1,4l2-2h3l2,2l2-2h3l2,2v2H1V4z M8,14l-4.667-4h9.333L8,14z\' fill-rule=\'evenodd\'></path>\n    </symbol>\n    <symbol viewBox="0 0 30 30" id="icon_extensions"><path d="M20 17.113V22a1 1 0 0 1-1 1h-4.887c.257-1.051.87-1.404.887-1.917C15.025 19.6 14.006 19 13 19c-1.004 0-2.055.6-1.998 2.083.037.483.642.854.894 1.917H8a1 1 0 0 1-1-1v-4.887c1.051.257 1.404.87 1.917.887C10.4 18.025 11 17.006 11 16c0-1.004-.6-2.055-2.083-1.998-.483.037-.854.642-1.917.894V11a1 1 0 0 1 1-1h3.896c-.252-1.063-.857-1.434-.894-1.917C10.945 6.6 11.996 6 13 6c1.006 0 2.025.599 2 2.083-.016.513-.63.866-.887 1.917H19a1 1 0 0 1 1 1v3.896c1.063-.252 1.434-.857 1.917-.894C23.4 13.945 24 14.996 24 16c0 1.006-.599 2.025-2.083 2-.513-.016-.866-.63-1.917-.887z" fill-rule="evenodd"/></symbol>\n</svg>\n'},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t,n){var r=n(90),i=n(526),a=r(i);e.exports=a},function(e,t,n){function r(e,t){return e&&e.length&&t&&t.length?i(e,t):e}var i=n(527);e.exports=r},function(e,t,n){function r(e,t,n,r){var c=r?o:a,d=-1,f=t.length,p=e;for(e===t&&(t=u(t)),n&&(p=i(e,s(n)));++d<f;)for(var h=0,m=t[d],y=n?n(m):m;(h=c(p,y,h,r))>-1;)p!==e&&l.call(p,h,1),l.call(e,h,1);return e}var i=n(60),a=n(150),o=n(528),s=n(92),u=n(124),c=Array.prototype,l=c.splice;e.exports=r},function(e,t){function n(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}e.exports=n},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var i=r();i.withExtraArgument=r,t.default=i},function(e,t,n){function r(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return i(s(n)?o(n):[n],a(t,1))}var i=n(120),a=n(156),o=n(124),s=n(19);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&a(e,t,n)?(t=0,n=r):(t=null==t?0:o(t),n=void 0===n?r:o(n)),i(e,t,n)):[]}var i=n(173),a=n(106),o=n(72);e.exports=r},function(e,t,n){"use strict";(function(e){function n(e){return parseFloat(e)||0}function r(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.reduce(function(t,r){return t+n(e["border-"+r+"-width"])},0)}function i(e){for(var t=["top","right","bottom","left"],r={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=e["padding-"+o];r[o]=n(s)}return r}function a(e){var t=e.getBBox();return l(0,0,t.width,t.height)}function o(e){var t=e.clientWidth,a=e.clientHeight;if(!t&&!a)return k;var o=w(e).getComputedStyle(e),u=i(o),c=u.left+u.right,d=u.top+u.bottom,f=n(o.width),p=n(o.height);if("border-box"===o.boxSizing&&(Math.round(f+c)!==t&&(f-=r(o,"left","right")+c),Math.round(p+d)!==a&&(p-=r(o,"top","bottom")+d)),!s(e)){var h=Math.round(f+c)-t,m=Math.round(p+d)-a;1!==Math.abs(h)&&(f-=h),1!==Math.abs(m)&&(p-=m)}return l(u.left,u.top,f,p)}function s(e){return e===w(e).document.documentElement}function u(e){return f?E(e)?a(e):o(e):k}function c(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return _(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function l(e,t,n,r){return{x:e,y:t,width:n,height:r}}var d=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){var n=this;void 0===t&&(t=null);for(var r=0,i=n.__entries__;r<i.length;r+=1){var a=i[r];e.call(t,a[1],a[0])}},Object.defineProperties(t.prototype,n),t}()}(),f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,p=function(){return void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),h=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),m=2,y=function(e,t){function n(){a&&(a=!1,e()),o&&i()}function r(){h(n)}function i(){var e=Date.now();if(a){if(e-s<m)return;o=!0}else a=!0,o=!1,setTimeout(r,t);s=e}var a=!1,o=!1,s=0;return i},v=["top","right","bottom","left","width","height","size","weight"],g="undefined"!=typeof MutationObserver,b=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=y(this.refresh.bind(this),20)};b.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},b.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},b.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},b.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},b.prototype.connect_=function(){f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),g?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},b.prototype.disconnect_=function(){f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},b.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),v.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},b.getInstance=function(){return this.instance_||(this.instance_=new b),this.instance_},b.instance_=null;var _=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},w=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||p},k=l(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof w(e).SVGGraphicsElement}:function(e){return e instanceof w(e).SVGElement&&"function"==typeof e.getBBox}}(),S=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=l(0,0,0,0),this.target=e};S.prototype.isActive=function(){var e=u(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var P=function(e,t){var n=c(t);_(this,{target:e,contentRect:n})},C=function(e,t,n){if(this.activeObservations_=[],this.observations_=new d,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};C.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},C.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new P(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return this.activeObservations_.length>0};var O="undefined"!=typeof WeakMap?new WeakMap:new d,T=function(e){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=b.getInstance(),n=new C(e,t,this);O.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){T.prototype[e]=function(){return(t=O.get(this))[e].apply(t,arguments);var t}});var x=function(){return void 0!==p.ResizeObserver?p.ResizeObserver:T}();t.a=x}).call(t,n(57))},function(e,t,n){function r(e){return i(e)&&1===e.nodeType&&!a(e)}var i=n(33),a=n(168);e.exports=r},function(e,t,n){function r(e){return"number"==typeof e||a(e)&&i(e)==o}var i=n(49),a=n(33),o="[object Number]";e.exports=r},function(e,t){},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(l(r.parts[a],t))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(l(r.parts[a],t));h[r.id]={id:r.id,refs:1,parts:o}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s=a[1],u=a[2],c=a[3],l={css:s,media:u,sourceMap:c};r[o]?r[o].parts.push(l):n.push(r[o]={id:o,parts:[l]})}return n}function a(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=_[_.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=v(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),a(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var c=b++;n=g||(g=s(t)),r=d.bind(null,n,c,!1),i=d.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=p.bind(null,n,t),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function d(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=k(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),y=function(e){return document.querySelector(e)},v=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=y.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),g=null,b=0,_=[],w=n(524);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],u=h[s.id];u.refs--,a.push(u)}if(e){r(i(e,t),t)}for(var o=0;o<a.length;o++){var u=a[o];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var k=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}])});