/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=function(){};b.__typeName='tab.CookieHelper';b.getCookie=function(){return document.cookie};b.setCookie=function(f){document.cookie=f};global.tab.CookieHelper=b;var c=function(){};c.__typeName='tab.EscapingUtil';c.escapeHtml=function(f){var g=ss.coalesce(f,'');g=g.replace(new RegExp('&','g'),'&amp;');g=g.replace(new RegExp('<','g'),'&lt;');g=g.replace(new RegExp('>','g'),'&gt;');g=g.replace(new RegExp('"','g'),'&quot;');g=g.replace(new RegExp("'",'g'),'&#39;');g=g.replace(new RegExp('/','g'),'&#47;');return g};global.tab.EscapingUtil=c;var d=function(){};d.__typeName='tab.ScriptEx';global.tab.ScriptEx=d;var e=function(f){this.$0=null;this.$0=f};e.__typeName='tab.WindowHelper';e.get_windowSelf=function(){return window.self};e.get_windowParent=function(){return window.parent};e.get_selection=function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}else if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null};e.close=function(f){f.close()};e.getOpener=function(f){return f.opener};e.getLocation=function(f){return f.location};e.getPathAndSearch=function(f){return f.location.pathname+f.location.search};e.setLocationHref=function(f,g){f.location.href=g};e.locationReplace=function(f,g){f.location.replace(g)};e.open=function(f,g,h){return window.open(f,g,h)};e.reload=function(f,g){f.location.reload(g)};e.requestAnimationFrame=function(f){return e.$c(f)};e.cancelAnimationFrame=function(f){if(ss.isValue(f)){e.$b(f)}};e.setTimeout=function(f,g){return window.setTimeout(f,g)};e.setInterval=function(f,g){return window.setInterval(f,g)};e.addListener=function(f,g,h){if('addEventListener'in f){f.addEventListener(g,h,false)}else{f.attachEvent('on'+g,h)}};e.removeListener=function(f,g,h){if('removeEventListener'in f){f.removeEventListener(g,h,false)}else{f.detachEvent('on'+g,h)}};e.$0=function(){var f=0;e.$c=function(g){var h=(new Date).getTime();var i=Math.max(0,16-(h-f));f=h+i;var j=window.setTimeout(g,i);return j}};e.clearSelection=function(){var f=e.get_selection();if(ss.isValue(f)){if(typeof(f['removeAllRanges'])==='function'){f.removeAllRanges()}else if(typeof(f['empty'])==='function'){f['empty']()}}};global.tab.WindowHelper=e;ss.initClass(b,a,{});ss.initClass(c,a,{});ss.initClass(d,a,{});ss.initClass(e,a,{get_pageXOffset:function(){return e.$7(this.$0)},get_pageYOffset:function(){return e.$8(this.$0)},get_clientWidth:function(){return e.$2(this.$0)},get_clientHeight:function(){return e.$1(this.$0)},get_innerWidth:function(){return e.$4(this.$0)},get_outerWidth:function(){return e.$6(this.$0)},get_innerHeight:function(){return e.$3(this.$0)},get_outerHeight:function(){return e.$5(this.$0)},get_screenLeft:function(){return e.$9(this.$0)},get_screenTop:function(){return e.$a(this.$0)},isQuirksMode:function(){return document.compatMode==='BackCompat'}});(function(){e.$4=null;e.$3=null;e.$2=null;e.$1=null;e.$7=null;e.$8=null;e.$9=null;e.$a=null;e.$6=null;e.$5=null;e.$c=null;e.$b=null;if('innerWidth'in window){e.$4=function(n){return n.innerWidth}}else{e.$4=function(n){return n.document.documentElement.offsetWidth}}if('outerWidth'in window){e.$6=function(n){return n.outerWidth}}else{e.$6=e.$4}if('innerHeight'in window){e.$3=function(n){return n.innerHeight}}else{e.$3=function(n){return n.document.documentElement.offsetHeight}}if('outerHeight'in window){e.$5=function(n){return n.outerHeight}}else{e.$5=e.$3}if('clientWidth'in window){e.$2=function(n){return n['clientWidth']}}else{e.$2=function(n){return n.document.documentElement.clientWidth}}if('clientHeight'in window){e.$1=function(n){return n['clientHeight']}}else{e.$1=function(n){return n.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){e.$7=function(n){return n.pageXOffset}}else{e.$7=function(n){return n.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){e.$8=function(n){return n.pageYOffset}}else{e.$8=function(n){return n.document.documentElement.scrollTop}}if('screenLeft'in window){e.$9=function(n){return n.screenLeft}}else{e.$9=function(n){return n.screenX}}if('screenTop'in window){e.$a=function(n){return n.screenTop}}else{e.$a=function(n){return n.screenY}}{var f='requestAnimationFrame';var g='cancelAnimationFrame';var h=['ms','moz','webkit','o'];var i=null;var j=null;if(f in window){i=f}if(g in window){j=g}for(var k=0;k<h.length&&(ss.isNullOrUndefined(i)||ss.isNullOrUndefined(j));++k){var l=h[k];var m=l+'RequestAnimationFrame';if(ss.isNullOrUndefined(i)&&m in window){i=m}if(ss.isNullOrUndefined(j)){m=l+'CancelAnimationFrame';if(m in window){j=m}m=l+'CancelRequestAnimationFrame';if(m in window){j=m}}}if(ss.isValue(i)){e.$c=function(n){return window[i](n)}}else{e.$0()}if(ss.isValue(j)){e.$b=function(n){window[j](n)}}else{e.$b=function(n){window.clearTimeout(n)}}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=function(){};b.__typeName='ColumnClass';global.ColumnClass=b;var c=function(){};c.__typeName='DrillState';global.DrillState=c;var d=function(){};d.__typeName='SelectAction';global.SelectAction=d;$.fn.focusDelayed=function(e,bK){this.each(function(bL,bM){window.setTimeout(function(){$(bM).focus();if(ss.isValue(bK)){bK.call(bM)}},e)})};$.fn.getTouchEvent=function(e){return e['originalEvent']};$.expr.pseudos.focusable=function(e){return f.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var bK=parseInt($(e).attr('tabindex'),10);var bL=isNaN(bK);return(bL||bK>=0)&&f.$0(e,!bL)};var f=function(){};f.__typeName='tab.$0';f.$0=function(e,bK){var bL=e.nodeName.toLowerCase();if(bL==='area'){return false}var bM=bK;var bN=new RegExp('input|select|textarea|button|object');if(bN.test(bL)){bM=!e.disabled}else if(bL==='a'){bM=!ss.isNullOrEmptyString(e.href)||bK}return bM&&f.$1(e)};f.$1=function(e){for(var bK='';ss.isValue(e);e=e.parentElement){if(e.style.display==='none'){return false}else if(bK==='visible'){continue}else if(bK.length===0||bK==='inherit'){bK=e.style.visibility}if(bK==='hidden'){return false}}return true};var g=function(e){var bK=function(){};ss.registerGenericClassInstance(bK,g,[e],{current:null,reset:null,moveNext:null,dispose:function(){}},function(){return null},function(){return[ss.IDisposable,ss.IEnumerator,ss.IEnumerator]});return bK};g.__typeName='tab.AbstractEnumerator$1';ss.initGenericClass(g,a,1);global.tab.AbstractEnumerator$1=g;var h=function(){this.$0=null;this.$0=[]};h.__typeName='tab.BaseLogAppender';global.tab.BaseLogAppender=h;var i=function(){};i.__typeName='tab.BrowserSupport';i.get_getComputedStyle=function(){return'getComputedStyle'in window};i.get_addEventListener=function(){return'addEventListener'in document};i.get_selectStart=function(){return i.$I};i.get_isTouch=function(){return i.$D};i.get_fontLoaderApi=function(){return i.$n};i.get_postMessage=function(){return i.$G};i.get_historyApi=function(){return i.$p};i.get_consoleLogFormating=function(){return i.$g};i.get_isMobile=function(){return i.$s||i.$x};i.get_isIos=function(){return i.$x};i.get_isAndroid=function(){return i.$s};i.get_isChrome=function(){return i.$t};i.get_isMac=function(){return i.$z};i.get_isIE=function(){return i.$w};i.get_isEdge=function(){return i.$u};i.get_isFF=function(){return i.$v};i.get_isOpera=function(){return i.$B};i.get_isSafari=function(){return i.$C};i.get_isWindows=function(){return i.$F};i.get_isHighDpi=function(){return window.matchMedia('(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)').matches};i.get_browserVersion=function(){return i.$q};i.get_safariVersion=function(){return i.$H};i.get_googleChromeVersion=function(){return i.$o};i.get_iosVersion=function(){return i.$r};i.get_raisesEventOnImageReassignment=function(){return!i.$C};i.get_imageLoadIsSynchronous=function(){return i.$w};i.get_useAlternateHitStrategy=function(){return i.$K};i.get_cssTransformName=function(){return i.$h};i.get_cssTransitionName=function(){return i.$i};i.get_backingStoragePixelRatio=function(){return i.$e};i.get_devicePixelRatio=function(){return i.$m};i.get_canvasLinePattern=function(){return i.$f};i.get_dateInput=function(){return i.$j};i.get_dateTimeInput=function(){return i.$k};i.get_dateTimeLocalInput=function(){return i.$l};i.get_timeInput=function(){return i.$L};i.get_setSelectionRange=function(){return i.$J};i.get_mouseWheelEvent=function(){if('onwheel'in window.document.documentElement){return'wheel'}if('onmousewheel'in window.document.documentElement){return'mousewheel'}return'MozMousePixelScroll'};i.get_mouseCapture=function(){return'releaseCapture'in document};i.get_orientationChange=function(){return'onorientationchange'in window};i.get_isGeolocationSupported=function(){return ss.isValue(window.navigator.geolocation)};i.get_isIpad=function(){return window.navigator.userAgent.indexOf('iPad')!==-1};i.detectBrowserSupport=function(){var e=document.body;var bK=document.createElement('div');e.appendChild(bK);i.$I='onselectstart'in bK;e.removeChild(bK).style.display='none';i.$G='postMessage'in window;i.$p=typeof(window.history['pushState'])==='function'&&typeof(window.history['replaceState'])==='function';i.$3();i.$1();i.$b();i.$a();i.$8();i.$7();i.$0();i.$6();i.$2();i.$9()};i.getOrigin=function(e){var bK=e.origin;if(ss.isNullOrUndefined(bK)){bK=e.protocol+'//'+e.host}return bK};i.sendCommandWithContext=function(e){var bK=tabBootstrap.Utility.sendCommandWithContext(e);if(!bK){}};i.$8=function(){var e=window.document.body;if(i.$E&&i.get_isMobile()){var bK=$('<div></div>');bK.css(ss.mkdict(['position','absolute','top','300px','left','300px','width','25px','height','25px','z-index','10000']));var bL=bK.get(0);try{e.appendChild(bL);i.$K=!ss.referenceEquals(document.elementFromPoint(310,310),bL)}catch(bM){}finally{bK.remove()}}};i.$3=function(){try{if(ss.isValue(window.console&&ss.isValue(window.console.log))){i.$g=window.navigator.userAgent.indexOf('iPad')<0}else{i.$g=false}}catch(e){i.$g=false}};i.$1=function(){var e=i.$c();i.$y=e.indexOf('Konqueror')>=0;i.$E=e.indexOf('WebKit')>=0;i.$t=e.indexOf('Chrome')>=0;i.$C=e.indexOf('Safari')>=0&&!i.$t;i.$B=e.indexOf('Opera')>=0;if(i.$C){var bK=e.match(new RegExp('\\bVersion\\/(\\d+\\.\\d+)'));if(ss.isValue(bK)){i.$H=parseFloat(bK[1])}}if(i.$t){var bL=e.match(new RegExp('\\bChrome/(\\d+\\.\\d+)'));if(ss.isValue(bL)){i.$o=parseFloat(bL[1])}}i.$q=0;i.$w=false;var bM=e.match(new RegExp('\\bMSIE (\\d+\\.\\d+)'));if(ss.isValue(bM)){i.$w=true;i.$q=parseFloat(bM[1])}if(!i.$w&&!i.$B&&(e.indexOf('Trident')>=0||e.indexOf('Edge/')>=0)){var bN=e.match(new RegExp('\\brv:(\\d+\\.\\d+)'));var bO=e.match(new RegExp('Edge/(\\d+\\.\\d+)'));if(ss.isValue(bN)){i.$w=true;i.$u=false;i.$q=parseFloat(bN[1])}else if(ss.isValue(bO)){i.$w=true;i.$u=true;i.$t=false;i.$C=false;i.$q=parseFloat(bO[1])}}i.$A=!i.$y&&!i.$E&&!i.$w&&e.indexOf('Gecko')>=0;i.$v=i.$A||e.indexOf('Firefox')>=0||e.indexOf('Minefield')>=0;var bP=new RegExp('iPhone|iPod|iPad');i.$x=bP.test(e);if(i.$x){var bQ=e.match(new RegExp('\\bOS ([\\d+_?]+) like Mac OS X'));if(ss.isValue(bQ)){i.$r=parseFloat(ss.replaceAllString(bQ[1].replace('_','.'),'_',''))}}i.$s=e.indexOf('Android')>=0&&!i.$w;i.$z=e.indexOf('Mac')>=0;i.$F=e.indexOf('Windows')>=0;i.$D='ontouchend'in document};i.$c=function(){return window.navigator.userAgent};i.$b=function(){var e=ss.mkdict(['transition','transition','webkitTransition','-webkit-transition','msTransition','-ms-transition','mozTransition','-moz-transition','oTransition','-o-transition']);var bK=i.$4(e);if(ss.isNullOrUndefined(bK)){bK=i.$i}i.$i=bK};i.$a=function(){var e=ss.mkdict(['transform','transform','webkitTransform','-webkit-transform','msTransform','-ms-transform','mozTransform','-moz-transform','oTransform','-o-transform']);var bK=i.$4(e);if(ss.isNullOrUndefined(bK)){bK=i.$h}i.$h=bK};i.$4=function(e){var bK=new ss.ObjectEnumerator(e);try{while(bK.moveNext()){var bL=bK.current();var bM=document.body.style;if(!(bL.key in bM)){continue}return bL.value}}finally{bK.dispose()}return null};i.$7=function(){i.$m=ss.coalesce(window.self['devicePixelRatio'],1)};i.$0=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){i.$e=1;return}var bK=null;if(typeof(ss.getInstanceType(e)['getContext'])==='function'){bK=e.getContext('2d')}if(ss.isNullOrUndefined(bK)){i.$e=1;return}var bL=bK;i.$e=bL.webkitBackingStorePixelRatio||bL.mozBackingStorePixelRatio||bL.msBackingStorePixelRatio||bL.oBackingStorePixelRatio||1};i.$2=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){return}var bK=null;if(typeof(e['getContext'])==='function'){bK=e.getContext('2d')}if(ss.isNullOrUndefined(bK)){return}i.$f=typeof(bK['setLineDash'])==='function'||'mozDash'in bK||'webkitLineDash'in bK};i.$9=function(){var e=$('<input>');i.$J=typeof(e.get(0)['setSelectionRange'])==='function'};i.$6=function(){i.$j=i.$5('date');i.$k=i.$5('datetime');i.$l=i.$5('datetime-local');i.$L=i.$5('time')};i.$5=function(e){var bK=$("<input type='"+e+"'>").css({position:'absolute',visibility:'hidden'}).appendTo($(document.body));var bL=bK.get(0);var bM=bL.getAttribute('type');var bN='@inva/1d:)';bL.value=bN;var bO=ss.referenceEquals(bM,e)&&!ss.referenceEquals(bL.value,bN);bK.remove();return bO};i.$d=function(e){return function(bK){var bL=bK in window;if(!bL){var bM=function(){return ss.createInstance(e)};var bN=window;bN[bK]=bM}}};global.tab.BrowserSupport=i;var j=function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true};j.__typeName='tab.CalendarOptions';global.tab.CalendarOptions=j;var k=function(e){this.$0=null;this.$0=e};k.__typeName='tab.CallOnDispose';global.tab.CallOnDispose=k;var l=function(){};l.__typeName='tab.CircleUtil';l.isEmpty=function(e){return u.isApproximatelyZero(e.radius)};l.isEqual=function(e,bK){return u.isApproximatelyEqual(e.radius,bK.radius)&&l.hasTheSameCenter(e,bK)};l.hasTheSameCenter=function(e,bK){return u.isApproximatelyEqual(e.center.x,bK.center.x)&&u.isApproximatelyEqual(e.center.y,bK.center.y)};l.intersectsWith=function(e,bK){var bL=Math.pow(e.center.x-bK.center.x,2)+Math.pow(e.center.y-bK.center.y,2);return Math.pow(e.radius+bK.radius,2)>bL};l.offsetCircle=function(e,bK){var bL={x:e.center.x+bK.x,y:e.center.y+bK.y};return{center:bL,radius:e.radius}};l.clone=function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}};l.boundingBox=function(e){var bK=Math.ceil(e.radius);var bL=Math.floor(e.center.x-bK);var bM=Math.ceil(e.center.x+bK);var bN=Math.floor(e.center.y-bK);var bO=Math.ceil(e.center.y+bK);return{x:bL,y:bN,w:bM-bL,h:bO-bN}};l.containmentBox=function(e){var bK=Math.abs(ss.round(e.center.x)-e.center.x);var bL=Math.abs(ss.round(e.center.y)-e.center.y);var bM=Math.sqrt(2)/2*e.radius-Math.max(bK,bL);var bN=Math.ceil(e.center.x-bM);var bO=Math.ceil(e.center.y-bM);var bP=Math.floor(e.center.x+bM);var bQ=Math.floor(e.center.y+bM);return{x:bN,y:bO,w:bP-bN,h:bQ-bO}};l.getChangedRects=function(e,bK){if(!l.hasTheSameCenter(e,bK)){return[]}var bL=((e.radius>bK.radius)?l.boundingBox(e):l.boundingBox(bK));var bM=((e.radius>bK.radius)?l.containmentBox(bK):l.containmentBox(e));var bN=new Array(4);var bO=ss.Int32.div(bL.h-bM.h,2);var bP=ss.Int32.div(bL.w-bM.w,2);bN[0]={x:bL.x,y:bL.y,w:bL.w,h:bO};bN[1]={x:bL.x,y:bL.y+bO+bM.h,w:bL.w,h:bO};bN[2]={x:bL.x,y:bL.y+bO,w:bP,h:bM.h};bN[3]={x:bL.x+bP+bM.w,y:bL.y+bO,w:bP,h:bM.h};return bN};global.tab.CircleUtil=l;var m=function(){this.$2=null;h.call(this)};m.__typeName='tab.ConsoleLogAppender';m.enableLogging=function(e){if(ss.isNullOrUndefined(m.$0)){m.$0=new m;O.addAppender(m.$0)}m.$0.addFilter(e||function(){return true})};m.disableLogging=function(){if(ss.isNullOrUndefined(m.$0)){return}O.removeAppender(m.$0);m.$0=null};global.tab.ConsoleLogAppender=m;var n=function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null;this.ConnectionClass=null;this.ConnectionName=null;this.DataSourceCaption=null};n.__typeName='tab.DataSourceConnectionAttemptErrorResponse';n.tryDeserialize=function(e){try{var bK=JSON.parse(e);return bK}catch(bL){return null}};global.tab.DataSourceConnectionAttemptErrorResponse=n;var o=function(){};o.__typeName='tab.DateTimeAutoFormatMode';global.tab.DateTimeAutoFormatMode=o;var p=function(){};p.__typeName='tab.DateUtil';p.$4=function(){return O.lazyGetLogger(p)};p.get_nowAsTime=function(){return(new Date).getTime()};p.adjustDateByPeriod=function(e,bK,bL){var bM=new Date;switch(bK){case'year':{bM=new Date(e.getFullYear()+bL,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{bM=p.adjustByMonths(e,bL*3);break}case'month':{bM=p.adjustByMonths(e,bL);break}case'week':{bM=p.$0(e,bL*7);break}case'day':{bM=p.$0(e,bL);break}case'hour':{bM=new Date(e.getTime()+bL*p.oneHour);break}case'minute':{bM=new Date(e.getTime()+bL*p.oneMinute);break}case'second':{bM=new Date(e.getTime()+bL*p.oneSecond);break}}return bM};p.$0=function(e,bK){var bL=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var bM=new Date(bL.getTime()+p.oneDay*bK);return new Date(bM.getFullYear(),bM.getMonth(),bM.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};p.adjustByMonths=function(e,bK){var bL=e.getMonth();var bM;var bN;if(bK<0){bM=-((12-(bL-1)-1-bK)/12)|0}else{bM=(bL-1+bK)/12|0}bN=bL+(bK-bM*12);return new Date(e.getFullYear()+bM,bN,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};p.adjustDateByPeriodInUTC=function(e,bK,bL){var bM=new Date;switch(bK){case'year':{bM=new Date(e.getUTCFullYear()+bL,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());break}case'quarter':{bM=p.adjustByMonthsInUTC(e,bL*3);break}case'month':{bM=p.adjustByMonthsInUTC(e,bL);break}case'week':{bM=new Date(e.getTime()+bL*p.oneWeek);break}case'day':{bM=new Date(e.getTime()+bL*p.oneDay);break}case'hour':{bM=new Date(e.getTime()+bL*p.oneHour);break}case'minute':{bM=new Date(e.getTime()+bL*p.oneMinute);break}case'second':{bM=new Date(e.getTime()+bL*p.oneSecond);break}}return bM};p.adjustByMonthsInUTC=function(e,bK){var bL=e.getUTCMonth(),bM,bN;if(bK<0){bM=-((12-(bL-1)-1-bK)/12)|0}else{bM=(bL-1+bK)/12|0}bN=bL+(bK-bM*12);return new Date(Date.UTC(e.getUTCFullYear()+bM,bN,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))};p.parsePresModelDate=function(e){if(ss.isNullOrUndefined(e)){return null}var bK=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(bK)){return null}var bL=parseInt(bK[1],10);var bM=parseInt(bK[2],10)-1;var bN=parseInt(bK[3],10);if(ss.isNullOrEmptyString(bK[4])){return new Date(Date.UTC(bL,bM,bN))}else{var bO=parseInt(bK[5],10);var bP=parseInt(bK[6],10);var bQ=parseInt(bK[7],10);return new Date(Date.UTC(bL,bM,bN,bO,bP,bQ))}};p.dateAsYear=function(e){return e.getUTCFullYear()};p.dateAsQuarter=function(e){var bK=p.$3(e);return parseInt(1+ss.Int32.div(bK-1,3))};p.dateAsMonth=function(e){return p.$3(e)};p.dateAsWeek=function(e){var bK=new Date(e.getUTCFullYear(),0,1);var bL=p.$2(e);var bM=parseInt(1+(bL+p.$1(bK)-2)/7);return bM};p.dateAsDay=function(e){return e.getUTCDate()};p.dateAsDayOfYear=function(e){return p.$2(e)};p.dateAsDayOfWeek=function(e){return p.$1(e)};p.dateAsMonthYear=function(e){var bK=p.$3(e)*10000+e.getUTCFullYear();return bK};p.dateAsMonthDayYear=function(e){var bK=p.$3(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return bK};p.dateTimeAsHour=function(e){return e.getUTCHours()};p.dateTimeAsMinute=function(e){return e.getUTCMinutes()};p.dateTimeAsSecond=function(e){return e.getUTCSeconds()};p.dateTimeAsOleDate=function(e){return bw.OleDateFromJsDate(e.getTime())};p.$2=function(e){var bK=e.getUTCFullYear();var bL=e.getUTCMonth();var bM=e.getUTCDate();var bN=new Date(bK,0,1,12,0,0);var bO=new Date(bK,bL,bM,12,0,0);var bP=Math.round((bO-bN)/86400000);return bP+1};p.$3=function(e){return e.getUTCMonth()+1};p.$1=function(e){return e.getUTCDay()+1};p.daysSinceEpoch=function(e){return Math.floor(e.getTime()/86400000)};global.tab.DateUtil=p;var q=function(e,bK){this.$2=null;this.$1=0;this.$0=null;Z.verifyValue(e,'action');this.$0=e;this.$1=bK};q.__typeName='tab.Debouncer';global.tab.Debouncer=q;var r=function(){this.$0=[]};r.__typeName='tab.DisposableHolder';global.tab.DisposableHolder=r;var s=function(){};s.__typeName='tab.DomUtil';s.$5=function(){return O.lazyGetLogger(s)};s.get_documentBody=function(){return document.body};s.getComputedStyle=function(e){if(i.get_getComputedStyle()){var bK=window.getComputedStyle(e);if(ss.isValue(bK)){return bK}}return e.style};s.getComputedZIndex=function(e){Z.verifyValue(e,'child');var bK=$(e);var bL=bK;var bM=document.documentElement;var bN=document.body;while(bK.length!==0&&!ss.referenceEquals(bK[0],bN)&&!ss.referenceEquals(bK[0],bM)){var bO=bK.css('position');if(bO==='absolute'||bO==='fixed'){bL=bK}bK=bK.offsetParent()}return s.$1(bL)};s.resize=function(e,bK){if(typeof(e['resize'])==='function'){e.resize(bK)}else{s.setMarginBox(e.domNode||e,bK)}};s.getContentBox=function(e){var bK=$(e);return{l:parseInt(bK.css('padding-left'),10)||0,t:parseInt(bK.css('padding-top'),10)||0,w:u.roundToInt(bK.width()),h:u.roundToInt(bK.height())}};s.setContentBox=function(e,bK){$(e).width(bK.w).height(bK.h)};s.setMarginBox=function(e,bK){s.setMarginBoxJQ($(e),bK)};s.setMarginBoxJQ=function(e,bK){var bL=e[0];var bM=bL.style;var bN=window.getComputedStyle(bL);s.$2(bN,bK,bL);if(!isNaN(bK.t)){bM.top=bK.t+'px'}if(!isNaN(bK.l)){bM.left=bK.l+'px'}};s.setAbsolutePositionBox=function(e,bK){e.css({left:(bK.l||0)+'px',top:(bK.t||0)+'px',width:(bK.w||0)+'px',height:(bK.h||0)+'px'})};s.getMarginBox=function(e){return s.getMarginBoxJQ($(e))};s.getMarginBoxJQ=function(e){var bK=e.position();return{l:u.roundToInt(bK.left),t:u.roundToInt(bK.top),w:u.roundToInt(e.outerWidth(true)),h:u.roundToInt(e.outerHeight(true))}};s.getRectXY=function(e){var bK=u.roundToInt(s.getPageOffset(e).left);var bL=u.roundToInt(s.getPageOffset(e).top);var bM=u.roundToInt(e.outerWidth(true));var bN=u.roundToInt(e.outerHeight(true));return{x:bK,y:bL,w:bM,h:bN}};s.getRectXY$1=function(e,bK){var bL=s.getRectXY(e);if(bK){var bM=s.docScroll();bL.x+=bM.x;bL.y+=bM.y}return bL};s.docScroll=function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(s.get_documentBody().scrollLeft,0)));var bK=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(s.get_documentBody().scrollTop,0)));return{x:e,y:bK}};s.isAncestorOf=function(e,bK){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bK)){return false}return $(bK).parents().index(e)>=0};s.isEqualOrAncestorOf=function(e,bK){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bK)){return false}return ss.referenceEquals(e,bK)||s.isAncestorOf(e,bK)};s.setElementPosition=function(e,bK,bL,bM,bN){if(!ss.isValue(bN)||ss.unbox(bN)){var bO=ss.mkdict(['top','0px','left','0px']);var bP=(new ss.StringBuilder('translate3d(')).append(bK).append('px,').append(bL).append('px,').append('0px)').toString();bO[i.get_cssTransformName()]=bP;if(ss.isValue(bM)){bO[i.get_cssTransitionName()+'-duration']=bM}e.css(bO);return}var bQ=ss.mkdict(['position','absolute','top',bL+'px','left',bK+'px']);bQ[i.get_cssTransformName()]='';e.css(bQ)};s.getElementPosition=function(e){return bc.fromPosition(e.offset())};s.getElementClientPosition=function(e){var bK=s.getElementPosition(e);bK.x-=$(document.documentElement).scrollLeft();bK.y-=u.roundToInt($(document.documentElement).scrollTop());return bK};s.getTransformOffset=function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var bK=e.css('transform');if(ss.isNullOrEmptyString(bK)){return{left:0,top:0}}var bL=bK.split('(');var bM=s.$7[bL[0]];if(ss.isNullOrUndefined(bM)){return{left:0,top:0}}var bN=bL[1].split(',');return{left:ss.coalesce(u.parseDouble(bN[ss.unbox(bM)]),0),top:ss.coalesce(u.parseDouble(bN[ss.unbox(bM)+1]),0)}};s.getTransformScale=function(e){if(ss.isNullOrUndefined(e)){return 1}var bK=e.css('transform');if(ss.isNullOrEmptyString(bK)){return 1}var bL=bK.split('(');if(bL[0]==='scale'||bL[0]==='matrix'||bL[0]==='matrix3d'){return ss.coalesce(u.parseDouble(bL[1]),1)}else{return 1}};s.getPageOffset=function(e){var bK=e[0].getBoundingClientRect();var bL=document.documentElement.getBoundingClientRect();return{left:bK.left-bL.left,top:bK.top-bL.top}};s.getScrollPosition=function(e){return{left:e[0].scrollLeft,top:e[0].scrollTop}};s.scrollPosition=function(e,bK){e[0].scrollLeft=bK.left;e[0].scrollTop=bK.top};s.focusWithoutScrolling=function(e,bK){if(ss.isNullOrUndefined(bK)||bK.length===0){e()}else{bK.attr('data-tab-test-wait','');window.setTimeout(function(){var bL=s.getScrollPosition(bK);e();s.scrollPosition(bK,bL);bK.removeAttr('data-tab-test-wait')},200)}};s.roomAroundPosition=function(e){var bK=e.top-window.pageYOffset;var bL=window.pageYOffset+window.innerHeight-e.top;var bM=e.left-window.pageXOffset;var bN=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:bK,roomBelow:bL,roomLeft:bM,roomRight:bN}};s.getElementRelativePosition=function(e,bK){if(ss.isNullOrUndefined(bK)){bK=e.parent()}var bL=e.offset();var bM=bK.offset();return{x:u.roundToInt(bL.left)-u.roundToInt(bM.left),y:u.roundToInt(bL.top)-u.roundToInt(bM.top)}};s.parseWidthFromStyle=function(e){if(ss.isValue(e)&&!U.isNullOrEmpty$3(e.width)){return parseInt(e.width)}return Number.NaN};s.parseHeightFromStyle=function(e){if(ss.isValue(e)&&!U.isNullOrEmpty$3(e.height)){return parseInt(e.height)}return Number.NaN};s.createNamespacedEventName=function(e,bK){if(ss.isValue(bK)){return e+bK}return e.toString()};s.stopPropagationOfInputEvents=function(e,bK){var bL=function(bM){bM.stopPropagation()};s.handleInputEvents(e,bK,bL)};s.handleInputEvents=function(e,bK,bL){e.on(s.createNamespacedEventName('touchstart',bK),bL).on(s.createNamespacedEventName('touchcancel',bK),bL).on(s.createNamespacedEventName('touchend',bK),bL).on(s.createNamespacedEventName('touchmove',bK),bL).on(s.createNamespacedEventName('click',bK),bL).on(s.createNamespacedEventName('mousedown',bK),bL).on(s.createNamespacedEventName('mousemove',bK),bL).on(s.createNamespacedEventName('mouseup',bK),bL)};s.isFocusableTextElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bK=e.tagName.toLowerCase();if(bK==='textarea'||bK==='input'||bK==='select'){return true}}return false};s.isCheckboxElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bK=e.tagName.toLowerCase();var bL=$(e).attr('type');if(bK==='input'&&bL==='checkbox'){return true}}return false};s.handleTouchEvents=function(e){if(s.isCheckboxElement(e)){return false}if(s.isFocusableTextElement(e)){return false}return true};s.setCapture=function(e,bK){if(!i.get_mouseCapture()){return}e.setCapture(bK)};s.releaseCapture=function(){if(!i.get_mouseCapture()){return}document.releaseCapture()};s.blur=function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,s.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}};s.$0=function(e,bK){var bL=parseInt(e,10);return(isNaN(bL)?bK:bL)};s.getSizeFromCssPixelProperty=function(e,bK){var bL=e.css(bK);return s.$0(bL,0)};s.$4=function(e,bK,bL){var bM=s.$0(e.marginLeft,0);var bN=s.$0(e.borderLeftWidth,0);var bO=s.$0(e.paddingLeft,0);var bP=s.$0(e.paddingRight,0);var bQ=s.$0(e.borderRightWidth,0);var bR=s.$0(e.marginRight,0);var bS=Math.max(bK-bM-bN-bO-bP-bQ-bR,0);bL.style.width=bS+'px'};s.$3=function(e,bK,bL){var bM=s.$0(e.marginTop,0);var bN=s.$0(e.borderTopWidth,0);var bO=s.$0(e.paddingTop,0);var bP=s.$0(e.paddingBottom,0);var bQ=s.$0(e.borderBottomWidth,0);var bR=s.$0(e.marginBottom,0);var bS=Math.max(bK-bM-bN-bO-bP-bQ-bR,0);bL.style.height=bS+'px'};s.$2=function(e,bK,bL){if(bK.w>=0){s.$4(e,bK.w,bL)}if(bK.h>=0){s.$3(e,bK.h,bL)}};s.$1=function(e){Z.verifyValue(e,'o');var bK=e.css('z-index');if(_.isNumber(bK)){return bK}if(_.isString(bK)){if(!ss.isNullOrEmptyString(bK)&&bK!=='auto'&&bK!=='inherits'){return parseInt(bK,10)}}return 0};s.makeHtmlSafeId=function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')};s.setSelectionRangeOnInput=function(e,bK,bL){if(i.get_setSelectionRange()){try{e.setSelectionRange(bK,bL)}catch(bM){}}};s.selectAllInputText=function(e){try{if(i.get_setSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(bK){}};s.setCursorPosition=function(e,bK){if(typeof(e['createTextRange'])==='function'){var bL=(e.createTextRange?e.createTextRange():null);bL.move('character',bK);bL.select();bL.scrollIntoView();e.focus()}else if(i.get_isSafari()&&i.get_setSelectionRange()){e.focus();e.setSelectionRange(bK,bK)}else{e.blur();e.selectionStart=e.selectionEnd=bK;e.focus()}};s.replaceSelection=function(e,bK){var bL=e.value;var bM=bL.substr(0,e.selectionStart);var bN=bL.substring(e.selectionEnd);var bO=e.selectionStart+bK.length;e.value=bM+bK+bN;s.setCursorPosition(e,bO)};s.setNativeTooltip=function(e,bK){var bL=ss.isNullOrEmptyString(bK);if(bL){e.removeAttr('title')}else{e.attr('title',bK)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!bL){var bM=$("<div class='tab-mobileTooltip'/>").text(bK);e.append(bM)}}};s.nodeHasTextSelection=function(e){var bK=window.getSelection();for(var bL=bK.rangeCount-1;bL>=0;--bL){var bM=bK.getRangeAt(bL);if(ss.referenceEquals(e,bM.startContainer)||e.contains(bM.startContainer)||ss.referenceEquals(e,bM.endContainer)||e.contains(bM.endContainer)){return true}}return false};s.generateUniqueId=function(){return'tab-ui-id-'+s.$8++};s.getIds=function(e){if(ss.isNullOrUndefined(e)){return[]}return e.map(function(bK,bL){return bL.id}).get()};s.asID=function(e){return'#'+e};s.asClass=function(e){return'.'+e};s.toPoint=function(e){return{x:ss.Int32.trunc(e.left),y:ss.Int32.trunc(e.top)}};global.tab.DomUtil=s;var t=function(){};t.__typeName='tab.DoubleRectXYUtil';t.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};t.isEqual=function(e,bK){return e.x===bK.x&&e.y===bK.y&&e.w===bK.w&&e.h===bK.h};t.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};t.inRect=function(e,bK){return bK.x>=e.x&&bK.x<e.x+e.w&&bK.y>=e.y&&bK.y<e.y+e.h};t.inRect$1=function(e,bK,bL,bM,bN,bO){return bN>=e&&bN<e+bL&&bO>=bK&&bO<bK+bM};t.intersectsWith=function(e,bK){return!(bK.x+bK.w<e.x||bK.y+bK.h<e.y||bK.x>e.x+e.w||bK.y>e.y+e.h)};t.outsetRect=function(e,bK,bL){return{x:e.x-bK,y:e.y-bL,w:e.w+bK+bK,h:e.h+bL+bL}};t.outsetRectInPlace=function(e,bK,bL){e.x-=bK;e.y-=bL;e.w+=2*bK;e.h+=2*bL};t.toEncompassingRectXY=function(e){var bK=Math.floor(e.x);var bL=Math.floor(e.y);var bM=Math.ceil(e.x+e.w);var bN=Math.ceil(e.y+e.h);return{x:bK,y:bL,w:bM-bK,h:bN-bL}};global.tab.DoubleRectXYUtil=t;var u=function(){};u.__typeName='tab.DoubleUtil';u.$0=function(){return O.lazyGetLogger(u)};u.isApproximatelyEqual=function(e,bK){if(Math.abs(e-bK)<u.epsilon){return true}if(e===0){return false}var bL=bK/e;if(u.$3<=bL&&bL<=u.$5){return true}return false};u.isApproximatelyZero=function(e){return u.isApproximatelyEqual(0,e)};u.isLessThanAndNotApproximatelyEqual=function(e,bK){return e<bK&&!u.isApproximatelyEqual(e,bK)};u.isLessThanOrApproximatelyEqual=function(e,bK){return e<bK||u.isApproximatelyEqual(e,bK)};u.isGreaterThanAndNotApproximatelyEqual=function(e,bK){return e>bK&&!u.isApproximatelyEqual(e,bK)};u.isGreaterThanOrApproximatelyEqual=function(e,bK){return e>bK||u.isApproximatelyEqual(e,bK)};u.sigFigs=function(e,bK){if(e===0||bK===0){return e}var bL=Math.pow(10,bK-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*bL)/bL};u.roundToInt=function(e){return ss.round(e)};u.parseDouble=function(e){var bK=parseFloat(e);return(isFinite(bK)?bK:null)};u.isValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)};u.parse64BitInteger=function(e){var bK={};if(!ss.Int32.tryParse(e,bK)){return null}var bL=u.parseValidDouble(e);if(ss.Nullable$1.gt(bL,9.22337203685477E+18)||ss.Nullable$1.lt(bL,-9.22337203685477E+18)){return null}return bK.$};u.isValid32BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bK=u.parse64BitInteger(e);if(ss.isNullOrUndefined(bK)){return false}return ss.Nullable$1.le(bK,2147483647)&&ss.Nullable$1.ge(bK,-2147483648)};u.isValid64BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bK=u.parse64BitInteger(e);if(ss.isNullOrUndefined(bK)){return false}return true};u.parseValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!u.isValidDouble(e)){return Number.NaN}return parseFloat(e)};u.multiplyBy100=function(e){return e*1000/10};u.truncateTwoDecimalPlaces=function(e){return ss.Int32.trunc(u.multiplyBy100(e))/100};u.roundTwoDecimalPlaces=function(e){return ss.round(u.multiplyBy100(e))/100};global.tab.DoubleUtil=u;var v=function(){};v.__typeName='tab.ErrorTrace';v.install=function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){v.$l=true}}v.$3('setTimeout');v.$3('setInterval');v.installGlobalHandler()};v.wrap=function(bK){return function(){try{return bK.apply(this,Array.prototype.slice.call(arguments))}catch(bL){var e=ss.Exception.wrap(bL);v.report(e,false);throw bL}}};v.$3=function(e){var bK=window[e];var bL=function(){var bM=ss.arrayClone(Array.prototype.slice.call(arguments));var bN=bM[0];if(ss.isInstanceOfType(bN,Function)){bM[0]=v.wrap(bN)}return bK.apply(this,bM)};window[e]=bL};v.windowOnError=function(e,bK,bL,bM,bN){var bO;if(ss.isValue(v.$n)){v.$0(v.$n,bK,bL,e);bO=v.$n;v.$n=null;v.$m=null}else{var bP=new bl(bK,bL);bP.functionName=v.$8(bP);bP.context=v.$6(bP);bO=new bm('onError',e);bO.name='window.onError';bO.locations=[bP]}v.$q.push(bO);if(ss.isValue(v.$o)){v.$o.apply(this,Array.prototype.slice.call(arguments))}return false};v.$0=function(e,bK,bL,bM){var bN=new bl(bK,bL);if(ss.isValue(bN.url)&&ss.isValue(bN.lineNo)){e.isIncomplete=false;if(ss.isNullOrUndefined(bN.functionName)){bN.functionName=v.$8(bN)}if(ss.isNullOrUndefined(bN.context)){bN.context=v.$6(bN)}var bO=bM.match(new RegExp(" '([^']+)' "));if(ss.isValue(bO)&&bO.length>1){bN.columnNo=v.$5(bO[1],bN)}if(ss.isValue(e.locations)&&e.locations.length>0){var bP=e.locations[0];if(ss.referenceEquals(bP.url,bN.url)){if(bP.lineNo===bN.lineNo){return}else if(ss.isNullOrUndefined(bP.lineNo)&&ss.referenceEquals(bP.functionName,bN.functionName)){bP.lineNo=bN.lineNo;bP.context=bN.context;return}}}e.locations.unshift(bN);e.isPartial=true;return}else{e.isIncomplete=true}return};v.$9=function(e){if(!v.$r){return''}try{var bK=new XMLHttpRequest;bK.open('GET',e,false);bK.send('');return bK.responseText}catch(bL){return''}};v.$7=function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(v.$h,e)){var bK='';if(e.indexOf(document.domain)>-1){bK=v.$9(e)}v.$h[e]=(ss.isNullOrEmptyString(bK)?[]:bK.split('\n'))}return v.$h[e]};v.$5=function(e,bK){var bL=v.$7(bK.url);var bM=new RegExp('\\b'+v.$2(e)+'\\b');if(ss.isValue(bL)&&bL.length>bK.lineNo){var bN=bM.exec(bL[bK.lineNo]);if(ss.isValue(bN)){return bN.index}}return-1};v.$8=function(e){var bK=new RegExp('function ([^(]*)\\(([^)]*)\\)');var bL=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var bM='';var bN=10;var bO=v.$7(e.url);if(bO.length===0){return'?'}for(var bP=0;bP<bN;bP++){bM=bO[e.lineNo-1]+bM;if(!ss.isNullOrEmptyString(bM)){var bQ=bL.exec(bM);if(ss.isValue(bQ)&&bQ.length>0){return bQ[1]}bQ=bK.exec(bM);if(ss.isValue(bQ)&&bQ.length>0){return bQ[1]}}}return'?'};v.$6=function(e){var bK=v.$7(e.url);if(ss.isNullOrUndefined(bK)||bK.length===0){return null}var bL=[];var bM=60;var bN=e.columnNo;var bO=bK[e.lineNo-1];var bP=Math.max(0,bN-bM);var bQ=Math.min(bN+bM,bO.length);bL.push(bO.substr(bP,bQ-bP));return bL};v.$2=function(e){return e.replace(new RegExp('[\\-\\[\\]{}()*+?.,\\\\\\^$|#]','g'),'\\\\$&')};v.getStackTraceFor=function(e){var bK=new bm('stack',e.get_message());bK.name=e.name;if(v.$l){var bL=null;try{bL=v.$1(e)}catch(bM){var inner=ss.Exception.wrap(bM);if(v.$s){throw inner}}if(ss.isValue(bL)){return bL}}else{return bK}bK.traceMode='failed';return bK};v.$1=function(e){var bK=v.$b(e);var bL=new bm('stack',e.get_message());bL.name=e.name;bL.locations=bK;return bL};v.$b=function(e){var bK;if(ss.isValue(e.get_innerException())){bK=e.get_innerException().error}else{bK=e._error}if(ss.isValue(bK.stack)&&ss.isValue(bK.stack.match(v.$d))){return v.$a(bK)}if(ss.isValue(bK.stack)){return v.$c(bK)}return null};v.$a=function(e){var bK=e.stack.split(String.fromCharCode(10)).filter(function(bL){return ss.isValue(bL.match(v.$d))});return bK.map(function(bL){if(bL.indexOf('(eval ')>-1){bL=ss.replaceAllString(bL,'eval code','eval').replace(v.$i,'')}var bM=bL.replace(new RegExp('^\\s+'),'').replace(new RegExp('\\(eval code'),'(').split(new RegExp('\\s+')).slice(1);var bN=v.$4(bM.pop());var bO=ss.coalesce(bM.join(' '),'undefined');var bP=((ss.indexOf(['eval','<anonymous>'],bN[0])>-1)?'undefined':bN[0]);var bQ=parseInt(bN[1]);var bR=parseInt(bN[2]);var bS=new bl(bP,bQ);bS.functionName=bO;bS.columnNo=bR;bS.context=[bL];var bT=bS;bT.context=v.$6(bT);return bT})};v.$c=function(e){var bK=e.stack.split(String.fromCharCode(10)).filter(function(bL){return ss.isNullOrUndefined(bL.match(v.$g))});return bK.map(function(bL){if(bL.indexOf(' > eval')>-1){bL=bL.replace(new RegExp(' line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+','g'),':$1')}if(bL.indexOf('@')===-1&&bL.indexOf(':')===-1){return new bl(bL,-1)}else{var bM=bL.split('@');var bN=v.$4(bM.pop());var bO=ss.coalesce(bM.join('@'),'undefined');var bP=bN[0];var bQ=parseInt(bN[1]);var bR=parseInt(bN[2]);var bS=new bl(bP,bQ);bS.functionName=bO;bS.columnNo=bR;bS.context=[bL];var bT=bS;bT.context=v.$6(bT);return bT}})};v.$4=function(e){if(e.indexOf(String.fromCharCode(58))===-1){return[e]}var bK=v.$e.exec(e.replace(v.$f,''));return[bK[1],ss.coalesce(bK[2],'undefined'),ss.coalesce(bK[3],'undefined')]};v.hasTraces=function(){return v.$q.length>0};v.dequeueTraces=function(){var e=v.$q;v.$q=[];return e};v.installGlobalHandler=function(){if(v.$p||!v.$k){return}v.$o=window.onerror;window.onerror=v.windowOnError;v.$p=true};v.report=function(e,bK){if(ss.isNullOrUndefined(bK)){bK=true}if(ss.isValue(v.$n)){if(ss.referenceEquals(v.$m,e)){return}else{var bL=v.$n;v.$n=null;v.$m=null;v.$q.push(bL)}}var bM=v.getStackTraceFor(e);v.$n=bM;v.$m=e;window.setTimeout(function(){if(ss.referenceEquals(v.$m,e)){v.$n=null;v.$m=null;v.$q.push(bM)}},(bM.isIncomplete?2000:0));if(bK){throw e}};global.tab.ErrorTrace=v;var w=function(){};w.__typeName='tab.FeatureFlags';w.isEnabled=function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(w.$0)&&ss.keyExists(w.$0,e)){return w.$0[e]}return false};w.setDefaults=function(e){w.$0=e};global.tab.FeatureFlags=w;var x=function(){};x.__typeName='tab.FeatureParam';global.tab.FeatureParam=x;var y=function(){};y.__typeName='tab.FeatureParamsLookup';y.getBool=function(e){if(ss.keyExists(y.$4,e)){return y.$4[e]||false}return false};y.getFloat=function(e){if(ss.keyExists(y.$6,e)){return y.$6[e]}return null};y.getInt=function(e){if(ss.keyExists(y.$8,e)){return y.$8[e]}return null};y.getString=function(e){if(ss.keyExists(y.$b,e)){return y.$b[e]}return null};y.$1=function(e,bK,bL){y.$5.push(bK);y.$d[e]=bK;y.$4[bK]=bL};y.$2=function(e,bK){y.$9.push(bK);y.$d[e]=bK;y.$8[bK]=null};y.$3=function(e,bK){y.$c.push(bK);y.$d[e]=bK;y.$b[bK]=null};y.$0=function(){var e=U.getUriQueryParameters(window.self.location.search);var bK=new ss.ObjectEnumerator(e);try{while(bK.moveNext()){var bL=bK.current();var bM=bL.key.toLowerCase();var bN=0;if(ss.keyExists(y.$d,bM)){bN=y.$d[bM]}else{continue}if(bL.value.length>0){var bO=bL.value[0];if(ss.contains(y.$5,bN)){var bP=bO.toLowerCase()==='true';y.$4[bN]=bP}else if(ss.contains(y.$7,bN)){var bQ=parseFloat(bO);y.$6[bN]=bQ}else if(ss.contains(y.$9,bN)){var bR=parseInt(bO);y.$8[bN]=bR}else if(ss.contains(y.$c,bN)){y.$b[bN]=bO}else{continue}}else{continue}}}finally{bK.dispose()}};global.tab.FeatureParamsLookup=y;var z=function(){};z.__typeName='tab.FullscreenUtil';z.add_fullscreenStateChanged=function(e){z.$1$1=ss.delegateCombine(z.$1$1,e)};z.remove_fullscreenStateChanged=function(e){z.$1$1=ss.delegateRemove(z.$1$1,e)};z.$2=function(){return z.$7.substring(2)};z.get_fullscreenEnabled=function(){if(ss.isNullOrUndefined(z.$6)){return false}return document[z.$6]};z.get_fullscreenElement=function(){if(ss.isNullOrUndefined(z.$5)){return null}return document[z.$5]};z.get_inFullscreenMode=function(){return ss.isValue(z.get_fullscreenElement())};z.$0=function(e,bK){for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];if(bM in e||bM.toLowerCase()in e){return bM}}return null};z.exitFullscreen=function(){if(ss.isNullOrUndefined(z.$4)){return}document[z.$4]()};z.requestFullscreen=function(e){if(ss.isNullOrUndefined(z.$8)){return}e[z.$8]()};z.$1=function(e){document.documentElement.classList.toggle('fullscreen',z.get_inFullscreenMode());window.setTimeout(function(){if(!ss.staticEquals(z.$1$1,null)){z.$1$1()}})};z.centeringContainerOffset=function(){if(!z.get_inFullscreenMode()){return 0}var e=$('#centeringContainer');return e.offset().top};global.tab.FullscreenUtil=z;var A=function(){};A.__typeName='tab.HistoryUtil';A.pushState=function(e,bK,bL,bM){if(i.get_historyApi()){try{e.history.pushState(bK,bL,bM)}catch(bN){var e=ss.Exception.wrap(bN)}}};A.replaceState=function(e,bK,bL,bM){if(i.get_historyApi()){try{e.history.replaceState(bK,bL,bM)}catch(bN){var e=ss.Exception.wrap(bN)}}};global.tab.HistoryUtil=A;var B=function(){};B.__typeName='tab.HttpResponseCodes';global.tab.HttpResponseCodes=B;var C=function(){};C.__typeName='tab.IAppendableView';global.tab.IAppendableView=C;var D=function(){};D.__typeName='tab.IBrowserViewport';global.tab.IBrowserViewport=D;var E=function(){};E.__typeName='tab.ICommonDialogProvider';global.tab.ICommonDialogProvider=E;var F=function(){};F.__typeName='tab.ILogAppender';global.tab.ILogAppender=F;var G=function(e,bK){this.$0=0;this.$1=0;this.$0=e;this.$1=bK};G.__typeName='tab.IntegerRange';G.itemToTileRange=function(e,bK){var bL=new G(0,0);bL.set_from(Math.floor(e.get_from()/bK));bL.set_to(Math.floor(e.get_to()/bK));return bL};G.pixelToItemRange=function(e,bK){var bL=new G(0,0);bL.set_from(Math.floor(e.get_from()/bK));bL.set_to(Math.floor(e.get_to()/bK));return bL};G.pixelToTileRange=function(e,bK,bL){return G.itemToTileRange(G.pixelToItemRange(e,bK),bL)};G.isEqual=function(e,bK){return ss.isValue(e)&&ss.isValue(bK)&&e.get_to()===bK.get_to()&&e.get_from()===bK.get_from()};G.union=function(e,bK){if(ss.isNullOrUndefined(e)){return bK}if(ss.isNullOrUndefined(bK)){return e}var bL=new G(0,0);bL.set_from(Math.min(e.get_from(),bK.get_from()));bL.set_to(Math.max(e.get_to(),bK.get_to()));return bL};global.tab.IntegerRange=G;var H=function(e){var bK=function(){};ss.registerGenericInterfaceInstance(bK,H,[e],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,C]});ss.setMetadata(bK,{variance:[1]});return bK};H.__typeName='tab.IView$1';ss.initGenericInterface(H,a,1);global.tab.IView$1=H;var I=function(){};I.__typeName='tab.IViewModel';global.tab.IViewModel=I;var J=function(){};J.__typeName='tab.IWidget';global.tab.IWidget=J;var K=function(){L.call(this)};K.__typeName='tab.JsMapPolyfill';global.tab.JsMapPolyfill=K;var L=function(){this.store={};this.size=0};L.__typeName='tab.JsSetPolyfillImpl';global.tab.JsSetPolyfillImpl=L;var M=function(){};M.__typeName='tab.ListExtensions';M.where=function(e){return function(bK,bL){var bM=[];var bN=ss.getEnumerator(bK);try{while(bN.moveNext()){var bO=bN.current();if(bL(bO)){bM.push(bO)}}}finally{bN.dispose()}return bM}};M.except=function(e){return function(bK,bL){return M.where(e).call(null,bK,function(bM){return!ss.contains(bL,bM)})}};M.any=function(e){return function(bK,bL){for(var bM=0;bM<bK.length;bM++){var bN=bK[bM];if(bL(bN)){return true}}return false}};global.tab.ListExtensions=M;var N=function(){};N.__typeName='tab.Log';N.get=function(e){return O.lazyGetLogger(ss.getInstanceType(e))};global.tab.Log=N;var O=function(e){this.$1=null;this.$1=e};O.__typeName='tab.Logger';O.get_globalLog=function(){return O.global};O.$2=function(){return U.lazyInitStaticField(O,'appenders',function(){return[]})};O.$3=function(){return U.lazyInitStaticField(O,'filters',function(){return[]})};O.$4=function(){return U.lazyInitStaticField(O,'nullLog',function(){return new O('')})};O.clearFilters=function(){var e=O.$2();for(var bK=0;bK<e.length;bK++){var bL=e[bK];bL.clearFilters()}ss.clear(O.$3())};O.filterByLogger=function(e,bK){bK=bK||0;O.$0(function(bL,bM){return ss.referenceEquals(bL,e)&&bM>=bK})};O.filterByType=function(e,bK){bK=bK||0;O.$0(function(bL,bM){return bM>=bK&&ss.referenceEquals(bL.get_name(),ss.getTypeName(e))})};O.filterByName=function(e,bK){bK=bK||0;var bL=new RegExp(e,'i');O.$0(function(bM,bN){return bN>=bK&&ss.isValue(bM.get_name().match(bL))})};O.clearAppenders=function(){ss.clear(O.$2())};O.addAppender=function(e){var bK=O.$3();for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];e.addFilter(bM)}O.$2().push(e)};O.removeAppender=function(e){ss.remove(O.$2(),e)};O.lazyGetLogger=function(e){return U.lazyInitStaticField(e,'_logger',function(){return O.getLogger(e)})};O.getLogger=function(e,bK){var bL=O.getLoggerWithName(ss.getTypeName(e));if(ss.isValue(bK)){}return bL};O.getLoggerWithName=function(e){return O.$4()};O.$1=function(){var e=U.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(e,':log')){return}var bK=e[':log'];if(bK.length===0){}for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];var bN=bM.split(String.fromCharCode(58));var bO=1;if(bN.length>0&&ss.isValue(bN[1])){var bP=bN[1].toLowerCase();var bQ=ss.indexOf(O.loggerLevelNames,bP);if(bQ>=0){bO=bQ}}}};O.$0=function(e){O.$3().push(e);var bK=O.$2();for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];bM.addFilter(e)}};global.tab.Logger=O;var P=function(){};P.__typeName='tab.LoggerLevel';global.tab.LoggerLevel=P;var Q=function(){ss.Exception.call(this)};Q.__typeName='tab.LoopBreakException';Q.$ctor1=function(e){ss.Exception.call(this,e)};Q.$ctor2=function(e,bK){ss.Exception.call(this,e,bK)};global.tab.LoopBreakException=Q;var R=function(){};R.__typeName='tab.MapUtil';R.getZoomFactorForDesiredZoomLevel=function(e,bK){return Math.exp(-(Math.LN2*(bK-e)))};R.allowZoomAtCurrentLevel=function(e,bK){return e+Math.log(1/bK)/Math.LN2>=0};R.allowZoomAtCurrentLevelLeaflet=function(e,bK){return e-bK>=0};R.getVisiblePixelWidth=function(e,bK,bL){var bM=Math.pow(2,e)*bL;var bN=Math.floor(bK*bM);return bN};R.getScrollDeltaForZoomFactor=function(e){return Math.floor(R.$1*(Math.log(e)/Math.log(2)))};R.getLeafletZoomOffsetForTileSize=function(e){return((e===R.$0)?-1:0)};R.calculateZoomFactor=function(e){var bK=ss.Int32.div(e,8);var bL=ss.Int32.div(bK,15);var bM=1;var bN=Math.log(bM)/Math.log(2)+bL/4;bM=Math.pow(2,bN);return ss.round(bM,2)};global.tab.MapUtil=R;var S=function(){};S.__typeName='tab.MapUtility';S.forEachWithInterrupt=function(e,bK){return function(bL,bM){try{bL.forEach(bM)}catch(bN){bN=ss.Exception.wrap(bN);if(ss.isInstanceOfType(bN,Q)){}else{throw bN}}}};S.forEachWithInterrupt$1=function(e,bK){return function(bL,bM){try{bL.forEach(function(bN,bO){bM(bN,bO)})}catch(bN){bN=ss.Exception.wrap(bN);if(ss.isInstanceOfType(bN,Q)){}else{throw bN}}}};S.createCopy=function(e,bK){return function(bL){var bM=new Map;bL.forEach(function(bN,bO){bM.set(bO,bN)});return bM}};global.tab.MapUtility=S;var T=function(){this.$a=null;this.$b=null;this.$8=null;this.$7=null;this.$9=null;this.$a=[];this.$8=[];this.$9=null;this.$7=null};T.__typeName='tab.MetricsLogger';T.get_instance=function(){if(!ss.isValue(T.$d)){T.$d=new T}return T.$d};T.$3=function(e){return e+tabBootstrap.MetricsController.recordingStart};T.$1=function(e,bK){var bL=(bK?', ':',');var bM=new ss.StringBuilder;bM.append((bK?T.$b[e.eventType]:e.eventType.toString()));var bN=ss.getKeyCount(e.parameters);if(bN>0){bM.append('=');bM.append('{');var bO=0;var bP=(bK?': ':':');var bQ=ss.getEnumerator(Object.keys(e.parameters));try{while(bQ.moveNext()){var bR=bQ.current();if(bR==='id'&&e.eventType!=='init'){continue}if(bO++>0){bM.append(bL)}bM.append((bK?T.$c[bR]:bR.toString()));bM.append(bP);var bS=e.parameters[bR];T.$2(bM,bS,bK)}}finally{bQ.dispose()}bM.append('}')}return bM.toString()};T.$0=function(e,bK,bL){var bM=(bL?', ':',');var bN=(bL?': ':':');var bO=ss.getKeyCount(bK);var bP=0;var bQ=ss.getEnumerator(Object.keys(bK));try{while(bQ.moveNext()){var bR=bQ.current();if(bK.hasOwnProperty(bR)){var bS=bK[bR];e.append(bR);e.append(bN);T.$2(e,bS,bL);if(++bP<bO){e.append(bM)}}}}finally{bQ.dispose()}};T.$2=function(e,bK,bL){var bM=typeof(bK);if(bM==='number'&&Math.floor(bK)!==bK){e.append(bK.toFixed(1))}else if(bM==='string'){if(bL){e.append('"');e.append(bK);e.append('"')}else{e.append(encodeURIComponent(bK))}}else if($.isArray(bK)){e.append('[');e.append(bK);e.append(']')}else if(bM==='object'){e.append('{');var bN=bK;T.$0(e,bN,bL);e.append('}')}else{e.append(bK)}};global.tab.MetricsLogger=T;var U=function(){};U.__typeName='tab.MiscUtil';U.get_pathName=function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname};U.get_urlPathnameParts=function(){var e=U.get_pathName();var bK=tsConfig.site_root;var bL=e.indexOf(bK,0);var bM=e.substr(bL+bK.length);var bN=bM.split('/');var bO={};bO[2]=bN[2];bO[3]=bN[3];bO[4]=bN[4];return bO};U.lazyInitStaticField=function(e,bK,bL){var bM=e[bK];if(ss.isNullOrUndefined(bM)){bM=bL();e[bK]=bM}return bM};U.shallowEquals=function(e,bK){if(ss.referenceEquals(e,bK)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bK)){return false}var bL=Object.keys(e);var bM=Object.keys(bK);if(bL.length!==bM.length){return false}for(var bN=0;bN<bL.length;bN++){var bO=bL[bN];if(!bK.hasOwnProperty(bO)||!ss.referenceEquals(e[bO],bK[bO])){return false}}return true};U.percentEncode=function(e,bK){e=encodeURIComponent(e);if(ss.isNullOrUndefined(bK)){return e}var bL=new ss.StringBuilder;var bM=0;while(bM<e.length){var bN=e.substr(bM,1);if(bN==='%'){bL.append(e.substr(bM,3));bM+=2}else if(!ss.keyExists(bK,bN)){bL.append('%').append(bN.charCodeAt(0).toString(16).toUpperCase())}else{bL.append(bN)}bM++}return bL.toString()};U.encodeForWG=function(e){var bK={};var bL=function(bM,bN){for(var bO=bM;bO<=bN;bO++){var bP=String.fromCharCode(bO);bK[bP]=bP}};bL(97,122);bL(65,90);bL(48,57);bL(95,95);bL(45,45);e=U.percentEncode(e,bK);e=U.percentEncode(e,null);return e};U.isNullOrUndefined=function(e){if(ss.isNullOrUndefined(e)){return true}for(var bK=0;bK<e.length;bK++){if(ss.isNullOrUndefined(e[bK])){return true}}return false};U.isNullOrEmpty$2=function(e){if(ss.isNullOrUndefined(e)){return true}var bK=e;if(ss.isValue(bK['length'])&&bK['length']===0){return true}return false};U.isNullOrEmpty$3=function(e){return ss.isNullOrEmptyString(e)};U.isNullOrEmpty$1=function(e){return ss.isNullOrUndefined(e)||e.length===0};U.isNullOrEmpty=function(e){return ss.isNullOrUndefined(e)||e.length===0};U.isValidIndex=function(e,bK){return e>=0&&e<bK.length};U.toBoolean=function(e,bK){var bL=new RegExp('^(yes|y|true|t|1)$','i');if(U.isNullOrEmpty$3(e)){return bK}var bM=e.match(bL);return!U.isNullOrEmpty$2(bM)};U.getUriQueryParameters=function(e){var bK={};if(ss.isNullOrUndefined(e)){return bK}var bL=e.indexOf('?');if(bL<0){return bK}var bM=e.substr(bL+1);var bN=bM.indexOf('#');if(bN>=0){bM=bM.substr(0,bN)}if(ss.isNullOrEmptyString(bM)){return bK}var bO=bM.split('&');for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];var bR=bQ.split('=');var bS=decodeURIComponent(bR[0]);var bT;if(ss.keyExists(bK,bS)){bT=bK[bS]}else{bT=[];bK[bS]=bT}if(bR.length>1){bT.push(decodeURIComponent(bR[1]))}}return bK};U.replaceUriQueryParameters=function(e,bK){if(ss.getKeyCount(bK)===0){return e}var bL=new ss.StringBuilder;var bM=true;var bN=function(){bL.append((bM?'?':'&'));bM=false};var bO=_.keys(bK);for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];var bR=bK[bQ];var bS=encodeURIComponent(bQ);if(ss.isNullOrUndefined(bR)||bR.length===0){bN();bL.append(bS)}else{for(var bT=0;bT<bR.length;bT++){var bU=bR[bT];bN();bL.append(bS).append('=').append(encodeURIComponent(bU))}}}var bV='';var bW='';if(e.length>0){var bX=e.indexOf('?');var bY=e.indexOf('#');var bZ=Math.min(((bX<0)?e.length:bX),((bY<0)?e.length:bY));bW=e.substr(0,bZ);bV=((bY<0)?'':e.substr(bY))}return bW+bL+bV};U.sanatizeBoolean=function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'};U.dispose$1=function(e){if(ss.isValue(e)){e.dispose()}return null};U.dispose=function(e){if(ss.isValue(e)){for(var bK=0;bK<e.length;bK++){var bL=e[bK];if(ss.isValue(bL)){bL.dispose()}}ss.clear(e)}return null};U.clearTimeout=function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null};U.clearInterval=function(e){if(ss.isValue(e)){window.clearInterval(ss.unbox(e))}return null};U.cloneObject=function(e){var bK=JSON.stringify(e,function(bL,bM){if(ss.isInstanceOfType(bM,Uint32Array)||ss.isInstanceOfType(bM,Float64Array)||ss.isInstanceOfType(bM,Float32Array)){return eval('Array.prototype.slice.call(v);')}return bM});return JSON.parse(bK)};global.tab.MiscUtil=U;var V=function(){};V.__typeName='tab.NavigationMetricsCollector';V.collectMetrics=function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'&&typeof(tabBootstrap.MetricsEvent)!=='undefined'){V.$0=window.performance.timing;if('navigationStart'in V.$0){var e=V.$0[V.$1[0]];var bK=[];for(var bL=0;bL<V.$1.length;bL++){var bM=V.$1[bL];var bN=V.$0[bM];bN=((bN===0)?0:(bN-e));bK.push(bN)}var bO={};bO['v']=bK;var bP=new tabBootstrap.MetricsEvent('nav',1,bO);tabBootstrap.MetricsController.logEvent(bP)}}};global.tab.NavigationMetricsCollector=V;var W=function(e,bK){this.$1=null;this.$0=null;this.$1=e;this.$0=bK};W.__typeName='tab.ObjectAccessTracker';W.$0=function(e){return typeof(e)==='symbol'};global.tab.ObjectAccessTracker=W;var X=function(e){this.$2={};this.$1=null;this.$0=null;this.$0=e;X.trackedObjects[e]=this};X.__typeName='tab.ObjectCoverage';X.$1=function(e){return typeof(e)==='object'&&!ss.isInstanceOfType(e,Array)};X.$0=function(e){return ss.isInstanceOfType(e,Array)};X.shouldTrack=function(e){if(ss.isNullOrUndefined(X.$2)){X.$2={};var bK=y.getString(47);if(!ss.isNullOrUndefined(bK)){var bL=bK.split(',');for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];X.$2[bN]=true}}}return ss.keyExists(X.$2,e)&&X.$2[e]};global.tab.ObjectCoverage=X;var Y=function(){};Y.__typeName='tab.ObjectRegistry';Y.registerType=function(e,bK){return function(){if(ss.isNullOrUndefined(Y.$2)){Y.$2={}}Y.$2[ss.getTypeFullName(e)]=bK}};Y.newView$1=function(e){return function(bK,bL){return Y.$1(e).call(null,bK,bL)}};Y.newView=function(e){return function(bK){return Y.$1(e).call(null,e,bK)}};Y.newWidget$2=function(e){return function(bK,bL){return Y.$1(e).call(null,bK,bL)}};Y.newWidget=function(e){return function(){return Y.$1(e).call(null,e,[])}};Y.newWidget$1=function(e){return function(bK){return Y.$1(e).call(null,e,bK)}};Y.$1=function(e){return function(bK,bL){if(ss.isNullOrUndefined(Y.$2)){throw new ss.Exception('No types registered')}var bM=Y.$2[ss.getTypeFullName(bK)];if(ss.isNullOrUndefined(bM)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(bK))}var bN=((bL.length===0)?ss.createInstance(bM):ss.applyConstructor(bM,bL));return(Y.$0(bM,e)?bN:bN)}};Y.newLegacyTooltip=function(e){return function(bK,bL,bM){if(ss.isNullOrUndefined(Y.$2)){throw new ss.Exception('No types registered')}var bN=Y.$2[ss.getTypeFullName(bK)];if(ss.isNullOrUndefined(bN)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bK))}var bO=new bN(bL,bM);return bO}};Y.newLegacyTooltipBehavior=function(e){return function(bK,bL){if(ss.isNullOrUndefined(Y.$2)){throw new ss.Exception('No types registered')}var bM=Y.$2[ss.getTypeFullName(bK)];if(ss.isNullOrUndefined(bM)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bK))}var bN=new bM(bL);return bN}};Y.resolve=function(e){return function(bK){var bL=e;if(ss.isNullOrUndefined(Y.$2)){throw new ss.Exception('No types registered')}var bM=Y.$2[ss.getTypeFullName(bL)];if(ss.isNullOrUndefined(bM)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(bL))}return ss.applyConstructor(bM,bK)}};Y.$0=function(e,bK){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(bK))||ss.isValue(ss.getGenericTypeDefinition(e))};global.tab.ObjectRegistry=Y;var Z=function(){};Z.__typeName='tab.Param';Z.createArgumentNullOrUndefinedException=function(e){var bK=new ss.Exception(e+' is null or undefined.');bK.paramName=e;return bK};Z.verifyString=function(e,bK){Z.verifyValue(e,bK);if(e.trim().length===0){var bL=new ss.Exception(bK+' contains only white space');bL.paramName=bK;Z.$1(bL);throw bL}};Z.verifyValue=function(e,bK){if(ss.isNullOrUndefined(e)){var bL=Z.createArgumentNullOrUndefinedException(bK);Z.$1(bL);throw bL}};Z.$1=function(e){if(Z.suppressAlerts){return}try{throw e}catch(bK){var exceptionWithStack=ss.Exception.wrap(bK);window.alert(Z.$0(exceptionWithStack))}};Z.$0=function(e){var bK;if(ss.isValue(e.stack)){bK=e.stack}else{bK=e.get_message()}return bK};global.tab.Param=Z;var ba=function(){};ba.__typeName='tab.PathnameKey';global.tab.PathnameKey=ba;var bb=function(){};bb.__typeName='tab.PointDUtil';bb.subtract=function(e,bK){return{x:e.x-bK.x,y:e.y-bK.y}};bb.timesScalar=function(e,bK){return{x:e.x*bK,y:e.y*bK}};bb.round=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}};global.tab.PointDUtil=bb;var bc=function(){};bc.__typeName='tab.PointUtil';bc.fromPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.x,y:e.y}};bc.toPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bK={x:ss.round(e.x),y:ss.round(e.y)};return bK};bc.fromPosition=function(e){return{x:u.roundToInt(e.left),y:u.roundToInt(e.top)}};bc.add=function(e,bK){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bK)){return e}return{x:e.x+bK.x,y:e.y+bK.y}};bc.subtract=function(e,bK){return{x:e.x-bK.x,y:e.y-bK.y}};bc.distance=function(e,bK){Z.verifyValue(e,'first');Z.verifyValue(bK,'second');var bL=e.x-bK.x;var bM=e.y-bK.y;return Math.sqrt(bL*bL+bM*bM)};bc.isWithinDistance=function(e,bK,bL){var bM=e.x-bK.x;var bN=e.y-bK.y;return bM*bM+bN*bN<=bL*bL};bc.equals=function(e,bK){return ss.isValue(e)&&ss.isValue(bK)&&bK.x===e.x&&bK.y===e.y};global.tab.PointUtil=bc;var bd=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};bd.__typeName='tab.PropertyChangedEventArgs';global.tab.PropertyChangedEventArgs=bd;var be=function(){};be.__typeName='tab.RecordCast';be.rectPresModelAsRectXY=function(e){return(ss.isNullOrUndefined(e)?null:{x:e.x,y:e.y,w:e.w,h:e.h})};be.doubleRectPresModelAsDoubleRectXY=function(e){return(ss.isNullOrUndefined(e)?null:{x:e.doubleLeft,y:e.doubleTop,w:e.width,h:e.height})};be.sizeAsSizePresModel=function(e){return(ss.isNullOrUndefined(e)?null:{w:e.w,h:e.h})};global.tab.RecordCast=be;var bf=function(){};bf.__typeName='tab.RectUtil';bf.isEmpty=function(e){return e.w===0||e.h===0};bf.isEqual=function(e,bK){return e.t===bK.t&&e.l===bK.l&&e.w===bK.w&&e.h===bK.h};bf.inRect=function(e,bK){return bK.x>=e.l&&bK.x<e.l+e.w&&bK.y>=e.t&&bK.y<e.t+e.h};bf.intersectsWith=function(e,bK){return!(bK.l+bK.w<e.l||bK.t+bK.h<e.t||bK.l>e.l+e.w||bK.t>e.t+e.h)};bf.intersect=function(e,bK){if(!bf.intersectsWith(e,bK)||bf.isEmpty(bK)||bf.isEmpty(e)){return{l:0,t:0,w:0,h:0}}var bL=Math.max(e.l,bK.l);var bM=Math.max(e.t,bK.t);var bN=Math.min(e.l+e.w,bK.l+bK.w);var bO=Math.min(e.t+e.h,bK.t+bK.h);return{l:bL,t:bM,w:bN-bL,h:bO-bM}};global.tab.RectUtil=bf;var bg=function(){};bg.__typeName='tab.RectXYUtil';bg.set=function(e,bK){e.x=bK.x;e.y=bK.y;e.w=bK.w;e.h=bK.h};bg.set$1=function(e,bK,bL,bM,bN){e.x=bK;e.y=bL;e.w=bM;e.h=bN};bg.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};bg.isEqual=function(e,bK){return e.x===bK.x&&e.y===bK.y&&e.w===bK.w&&e.h===bK.h};bg.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};bg.inRect=function(e,bK){return bK.x>=e.x&&bK.x<e.x+e.w&&bK.y>=e.y&&bK.y<e.y+e.h};bg.inRect$1=function(e,bK,bL){return bK>=e.x&&bK<e.x+e.w&&bL>=e.y&&bL<e.y+e.h};bg.inRectPointF=function(e,bK){return bK.x>=e.x&&bK.x<e.x+e.w&&bK.y>=e.y&&bK.y<e.y+e.h};bg.inRectPointF$1=function(e,bK,bL){return bK>=e.x&&bK<e.x+e.w&&bL>=e.y&&bL<e.y+e.h};bg.intersectsWith=function(e,bK){return!(bK.x+bK.w<e.x||bK.y+bK.h<e.y||bK.x>e.x+e.w||bK.y>e.y+e.h)};bg.intersectsWith$1=function(e,bK,bL,bM,bN){return!(bK+bM<e.x||bL+bN<e.y||bK>e.x+e.w||bL>e.y+e.h)};bg.intersectsWithMoreThanSharedEdge=function(e,bK){return!(bK.x+bK.w<=e.x||bK.y+bK.h<=e.y||bK.x>=e.x+e.w||bK.y>=e.y+e.h)};bg.clone=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}};bg.nonemptyify=function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}};bg.intersectsWithAny=function(e,bK){var bL=false;for(var bM=0;bM<bK.length;bM++){var bN=bK[bM];if(ss.isNullOrUndefined(bN)){continue}if(bg.intersectsWith(e,bN)){bL=true;break}}return bL};bg.intersectsWithAny$1=function(e,bK,bL){if(bK.y+bK.h<e.y||bK.y>e.y+e.h){return false}var bM=e.x;var bN=e.x+e.w;for(var bO=0;bO<bL.length;bO++){var bP=bL[bO];var bQ=bK.x+bP;var bR=bQ+bK.w;if(!(bR<bM||bQ>bN)){return true}}return false};bg.completelyContains=function(e,bK){return bg.inRect(e,{x:bK.x,y:bK.y})&&bg.inRect(e,{x:bK.x+bK.w-1,y:bK.y+bK.h-1})};bg.completelyContains$1=function(e,bK,bL,bM,bN){return bg.inRect$1(e,bK,bL)&&bg.inRect$1(e,bK+bM-1,bL+bN-1)};bg.toRect=function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}};bg.offsetRect=function(e,bK){return{x:e.x+bK.x,y:e.y+bK.y,w:e.w,h:e.h}};bg.offsetRectXY=function(e,bK,bL){return{x:e.x+bK,y:e.y+bL,w:e.w,h:e.h}};bg.offsetRectXYInPlace=function(e,bK,bL){e.x+=bK;e.y+=bL};bg.offsetRectF=function(e,bK){return{x:e.x+Math.round(bK.x),y:e.y+Math.round(bK.y),w:e.w,h:e.h}};bg.outsetRect=function(e,bK,bL){return{x:e.x-bK,y:e.y-bL,w:e.w+bK+bK,h:e.h+bL+bL}};bg.outsetRectInPlace=function(e,bK,bL){e.x-=bK;e.y-=bL;e.w+=2*bK;e.h+=2*bL};bg.outsetRectSizeF=function(e,bK){return bg.outsetRect(e,Math.ceil(bK.w),Math.ceil(bK.h))};bg.encompassCircleInPlace=function(e,bK,bL,bM){var bN=bM*2;var bO=Math.floor(bK-bM+0.5);var bP=Math.floor(bL-bM+0.5);var bQ=Math.floor(bN+0.5);bg.unionInPlace$1(e,bO,bP,bQ,bQ)};bg.union=function(e,bK){if(bg.isEmpty(e)){return bg.clone(bK)}if(bg.isEmpty(bK)){return bg.clone(e)}var bL=Math.min(e.x,bK.x);var bM=Math.min(e.y,bK.y);var bN=Math.max(e.x+e.w,bK.x+bK.w);var bO=Math.max(e.y+e.h,bK.y+bK.h);return{x:bL,y:bM,w:bN-bL,h:bO-bM}};bg.unionInPlace$1=function(e,bK,bL,bM,bN){if(bg.isEmpty(e)){bg.set$1(e,bK,bL,bM,bN);return}if(bM===0||bN===0){return}var bO=Math.min(e.x,bK);var bP=Math.min(e.y,bL);var bQ=Math.max(e.x+e.w,bK+bM);var bR=Math.max(e.y+e.h,bL+bN);bg.set$1(e,bO,bP,bQ-bO,bR-bP)};bg.unionInPlace=function(e,bK){bg.unionInPlace$1(e,bK.x,bK.y,bK.w,bK.h)};bg.unionAll=function(e){var bK=e.length;if(bK===0){return{x:0,y:0,w:0,h:0}}var bL=e[0];var bM=bL.x;var bN=bL.y;var bO=bL.x+bL.w;var bP=bL.y+bL.h;for(var bQ=1;bQ<bK;bQ++){bL=e[bQ];bM=Math.min(bM,bL.x);bN=Math.min(bN,bL.y);bO=Math.max(bO,bL.x+bL.w);bP=Math.max(bP,bL.y+bL.h)}return{x:bM,y:bN,w:bO-bM,h:bP-bN}};bg.rectXYFromCorners=function(e,bK){var bL=Math.round(Math.min(e.x,bK.x));var bM=Math.round(Math.min(e.y,bK.y));var bN=Math.abs(Math.round(e.x-bK.x));var bO=Math.abs(Math.round(e.y-bK.y));return{x:bL,y:bM,w:bN,h:bO}};bg.rectXYFromCorners$1=function(e,bK,bL,bM){var bN=Math.round(Math.min(e,bL));var bO=Math.round(Math.min(bK,bM));var bP=Math.abs(Math.round(e-bL));var bQ=Math.abs(Math.round(bK-bM));return{x:bN,y:bO,w:bP,h:bQ}};bg.rectXYFromBBoxRectF=function(e){return bg.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)};bg.rectXYFromMinAndMax=function(e,bK,bL,bM){var bN=Math.floor(e);var bO=Math.floor(bK);var bP=Math.ceil(bL);var bQ=Math.ceil(bM);return{x:bN,y:bO,w:bP-bN,h:bQ-bO}};bg.dialate=function(e,bK){var bL=e.x-bK;var bM=e.y-bK;var bN=e.w+2*bK;var bO=e.h+2*bK;return{x:bL,y:bM,w:bN,h:bO}};bg.intersect=function(e,bK){if(!bg.intersectsWith(e,bK)||bg.isEmpty(bK)||bg.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var bL=Math.max(e.x,bK.x);var bM=Math.max(e.y,bK.y);var bN=Math.min(e.x+e.w,bK.x+bK.w);var bO=Math.min(e.y+e.h,bK.y+bK.h);return{x:bL,y:bM,w:bN-bL,h:bO-bM}};bg.intersectInPlace=function(e,bK){if(!bg.intersectsWith(e,bK)||bg.isEmpty(e)||bg.isEmpty(bK)){bg.set$1(e,0,0,0,0);return}var bL=Math.max(e.x,bK.x);var bM=Math.max(e.y,bK.y);var bN=Math.min(e.x+e.w,bK.x+bK.w);var bO=Math.min(e.y+e.h,bK.y+bK.h);bg.set$1(e,bL,bM,bN-bL,bO-bM)};bg.shiftCoordsTowardsCenter=function(e,bK,bL){if(ss.isNullOrUndefined(bK)){return e}var bM={x:e.x,y:e.y};bM=bg.horizontalShiftCoordsTowardsCenter(bM,bK,bL);return bg.verticalShiftCoordsTowardsCenter(bM,bK,bL)};bg.horizontalShiftCoordsTowardsCenter=function(e,bK,bL){if(ss.isNullOrUndefined(bK)){return e}var bM={x:e.x,y:e.y};if(bM.x<=bK.x+bL){bM.x+=bL}else if(bM.x>=bK.x+bK.w-2*bL){bM.x-=bL}return bM};bg.verticalShiftCoordsTowardsCenter=function(e,bK,bL){if(ss.isNullOrUndefined(bK)){return e}var bM={x:e.x,y:e.y};if(bM.y<=bK.y+bL){bM.y+=bL}else if(bM.y>=bK.y+bK.h-2*bL){bM.y-=bL}return bM};bg.clampCoords=function(e,bK){var bL=Math.min(Math.max(bK.x,e.x),bK.x+bK.w);var bM=Math.min(Math.max(bK.y,e.y),bK.y+bK.h);return{x:bL,y:bM}};bg.getChangedRects=function(e,bK){var bL=[];if(!ss.isValue(e)||!ss.isValue(bK)||!bg.intersectsWith(e,bK)){return bL}var bM=e.x+e.w;var bN=e.y+e.h;var bO=bK.x+bK.w;var bP=bK.y+bK.h;var bQ=Math.min(e.x,bK.x);var bR=Math.max(e.x,bK.x);var bS=Math.min(bM,bO);var bT=Math.max(bM,bO);var bU=Math.min(e.y,bK.y);var bV=Math.max(e.y,bK.y);var bW=Math.min(bN,bP);var bX=Math.max(bN,bP);var bY={x:bQ,y:bU,w:bT-bQ,h:bV-bU};var bZ={x:bQ,y:bV,w:bR-bQ,h:bW-bV};var ca={x:bS,y:bV,w:bT-bS,h:bW-bV};var cb={x:bQ,y:bW,w:bT-bQ,h:bX-bW};if(!bg.isEmpty(bY)){bL.push(bY)}if(!bg.isEmpty(bZ)){bL.push(bZ)}if(!bg.isEmpty(ca)){bL.push(ca)}if(!bg.isEmpty(cb)){bL.push(cb)}return bL};bg.reduceRectangles=function(e){if(ss.isNullOrUndefined(e)){return null}var bK=e.length;if(bK===1){return e}var bL=new Array(bK);for(var bM=0;bM<bK;bM++){var bN=bL[bM]||e[bM];bL[bM]=bN;if(bg.isEmpty(bN)){continue}for(var bO=bM+1;bO<bK;bO++){var bP=bL[bO]||e[bO];if(bg.isEmpty(bP)){continue}var bQ=bg.intersect(bN,bP);if(bg.isEmpty(bQ)){continue}var bR=bg.$0(bN,bQ);if(ss.referenceEquals(bR,bN)){bP=bg.$0(bP,bQ)}bL[bM]=bR;bL[bO]=bP}}for(var bS=bL.length-1;bS>=0;bS--){if(bg.isEmpty(bL[bS])){bL.splice(bS,1)}}return bL};bg.$0=function(e,bK){if(bK.x===e.x&&bK.w===e.w){if(bK.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-bK.h}}else{return{x:e.x,y:e.y+bK.h,w:e.w,h:e.h-bK.h}}}else if(bK.y===e.y&&bK.h===e.h){if(bK.x>e.x){return{x:e.x,y:e.y,w:e.w-bK.w,h:e.h}}else{return{x:e.x+bK.w,y:e.y,w:e.w-bK.w,h:e.h}}}return e};global.tab.RectXYUtil=bg;var bh=function(){};bh.__typeName='tab.RegionRectUtil';bh.sizesAreEqual=function(e,bK){return ss.isValue(e)&&ss.isValue(bK)&&e.h===bK.h&&e.w===bK.w};global.tab.RegionRectUtil=bh;var bi=function(){};bi.__typeName='tab.RleDecoder';bi.decode=function(e){if(ss.isNullOrUndefined(e)){return e}return bi.$2(e)};bi.$2=function(e){if(typeof(e)!=='object'||!ss.isValue(e)){return e}if($.isArray(e)){var bK=e;for(var bL=0,bM=bK.length;bL<bM;bL++){var bN=bK[bL];if(typeof(bN)!=='object'){break}bK[bL]=bi.$2(bN)}return bi.$1(bK)}else{var bO=e;var bP=Object.keys(bO);for(var bQ=0,bR=bP.length;bQ<bR;bQ++){var bS=bP[bQ];if(typeof(bO[bS])!=='object'){continue}if(bO.hasOwnProperty(bS)){bO[bS]=bi.$2(bO[bS])}}}return e};bi.$0=function(e){if(e.length===0){return false}var bK=e[e.length-1];if(!$.isArray(bK)){return false}return bK.length===0};bi.$4=function(e){var bK=e.length;return bK===2||bK===3};bi.$3=function(e,bK){var bL=bK[0];var bM=bK[1];var bN=((bK.length===3)?bK[2]:0);for(var bO=0,bP=bL;bO<bM;bO++,bP+=bN){e.push(bP)}};bi.$1=function(e){if(!bi.$0(e)){return e}e.pop();var bK=null;var bL=0;var bM=e.length;for(var bN=0;bN<bM;bN++){var bO=e[bN];var bP=typeof(bO);if(bP==='number'){continue}if(ss.isNullOrUndefined(bO)){continue}if(bP!=='object'||!$.isArray(bO)){return e}var bQ=bO;if(!bi.$4(bQ)){return e}bK=bK||[];for(var bR=bL;bR<bN;bR++){bK.push(e[bR])}bi.$3(bK,bQ);bL=bN+1}if(ss.isValue(bK)){for(var bS=bL;bS<bM;bS++){bK.push(e[bS])}e=bK}return e};global.tab.RleDecoder=bi;var bj=function(){};bj.__typeName='tab.SetUtilities';bj.interserctWith=function(e){return function(bK,bL){var bM=new Set;for(var bN=0;bN<bL.length;bN++){var bO=bL[bN];if(bK.has(bO)){bM.add(bO)}}bK.forEach(function(bP){if(!bM.has(bP)&&_.contains(bL,bP)){bM.add(bP)}});return bM}};bj.getValues=function(e){return function(bK){var bL=[];bK.forEach(function(bM){bL.push(bM)});return bL}};bj.addAll=function(e){return function(bK,bL){for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];bK.add(bN)}}};bj.symmetricDifferenceWith=function(e){return function(bK,bL){var bM=new Set;bK.forEach(function(bN){if(!bL.has(bN)){bM.add(bN)}});bL.forEach(function(bN){if(!bK.has(bN)){bM.add(bN)}});return bM}};global.tab.SetUtilities=bj;var bk=function(){};bk.__typeName='tab.SizeUtil';bk.isEmpty=function(e){return e.w===0&&e.h===0};bk.union=function(e,bK){return{w:Math.max(e.w,bK.w),h:Math.max(e.h,bK.h)}};bk.unionPresModels=function(e,bK){var bL={};bL.w=Math.max(e.w,bK.w);bL.h=Math.max(e.h,bK.h);return bL};bk.add=function(e,bK){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bK)){return e}return{w:e.w+bK.w,h:e.h+bK.h}};bk.subtract=function(e,bK){return{w:e.w-bK.w,h:e.h-bK.h}};bk.equals=function(e,bK){return ss.isValue(e)&&ss.isValue(bK)&&bK.w===e.w&&bK.h===e.h};global.tab.SizeUtil=bk;var bl=function(e,bK){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName='?';this.context=null;this.url=e;this.lineNo=bK};bl.__typeName='tab.StackLocation';global.tab.StackLocation=bl;var bm=function(e,bK){this.userAgent=window.navigator.userAgent;this.traceMode='onError';this.message=null;this.url=null;this.locations=null;this.isIncomplete=false;this.isPartial=false;this.name=null;this.traceMode=e;this.message=bK;this.url=document.URL;this.locations=[]};bm.__typeName='tab.StackTrace';global.tab.StackTrace=bm;var bn=function(){h.call(this)};bn.__typeName='tab.StackTraceAppender';bn.enableLogging=function(e){if(ss.isNullOrUndefined(bn.$0)){bn.$0=new bn;O.addAppender(bn.$0)}bn.$0.addFilter(e||function(){return true})};bn.disableLogging=function(){if(ss.isValue(bn.$0)){O.removeAppender(bn.$0);bn.$0=null}};global.tab.StackTraceAppender=bn;var bo=function(e,bK){this.$0=null;this.$1=null;this.$0=e;this.$1=bK};bo.__typeName='tab.StringTuple';global.tab.StringTuple=bo;var bp=function(){};bp.__typeName='tab.StyleUtil';bp.appendCSSRule=function(e,bK){bp.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,bK)};bp.appendCSSRuleToStyleSheet=function(e,bK,bL){var bM=bK+' {\n'+bp.createCSSRules(bL)+'}\n';var bN=e.cssRules.length;e.insertRule(bM,bN)};bp.appendCSSRuleToStyleSheet$1=function(e,bK,bL){if(!ss.keyExists(bp.$3,e)){bp.$0(e)}var bM=bp.$3[e]||bp.$1(e);bp.appendCSSRuleToStyleSheet(bM,bK,bL)};bp.createCSSRules=function(e){var bK='';var bL=_.keys(e);for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];var bO=e[bN];if(!ss.isNullOrEmptyString(bO)){bK+=bN+':'+bO+';\n'}}return bK};bp.clearDefaultStyleSheet=function(){bp.clearStyleSheet('tab-appendedCustomStyle')};bp.clearStyleSheet=function(e){var bK=bp.$3[e];if(ss.isNullOrUndefined(bK)){return}var bL=bK.ownerNode;if(ss.isValue(bL)&&ss.isValue(bL.parentNode)){bL.parentNode.removeChild(bL);delete bp.$3[e]}};bp.isValidCssClassName=function(e){var bK=e.match(bp.$2);return ss.isValue(bK)};bp.$0=function(e){var bK=document.createElement('style');bK.setAttribute('type','text/css');bK.id=e;bK.appendChild(document.createTextNode(''));document.head.appendChild(bK);bp.$3[e]=bp.$1(e);return bK};bp.$1=function(e){var bK=document.getElementById(e);return bK.sheet};global.tab.StyleUtil=bp;var bq=function(e,bK,bL,bM){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:bK};this.$1=bL;this.$0=1/bL;this.$2=bM};bq.__typeName='tab.Transform';bq.none=function(){return bq.$0};bq.offset=function(e,bK){return((e===0&&bK===0)?bq.$0:new bq(e,bK,1,3))};bq.pixelToDomain=function(e,bK,bL){if(u.isApproximatelyZero(e)&&u.isApproximatelyZero(bK)&&u.isApproximatelyEqual(1,bL)){return bq.$0}return new bq(e,bK,bL,1)};bq.domainToPixel=function(e,bK,bL){if(u.isApproximatelyZero(e)&&u.isApproximatelyZero(bK)&&u.isApproximatelyEqual(1,bL)){return bq.$0}return new bq(e,bK,bL,2)};global.tab.Transform=bq;var br=function(){this.$0=null;this.reset()};br.__typeName='tab.TransformationMatrix';global.tab.TransformationMatrix=br;var bs=function(){};bs.__typeName='tab.TransformationType';global.tab.TransformationType=bs;var bt=function(){};bt.__typeName='tab.UriUtil';bt.$2=function(){var e=new RegExp('^(\\d+\\.\\d+)');var bK=e.exec(tsConfig.version);return(ss.isValue(bK)?bK[1]:'0.0')};bt.$0=function(){return(tsConfig.is_saas?'online':'server')};bt.$1=function(){if(ss.isNullOrUndefined(tsConfig.language)){return'en-us'}switch(tsConfig.language){case'de':{return'de-de'}case'en':{return'en-us'}case'es':{return'es-es'}case'fr':{return'fr-fr'}case'ja':{return'ja-jp'}case'ko':{return'ko-kr'}case'pt':{return'pt-br'}case'zh':{return'zh-cn'}default:{return'en-us'}}};bt.makeHelpUri=function(e,bK){var bL;if(tsConfig.useOfflineHelp){bL=bt.getOfflineHelpHref(bK)}else{var bM=(!ss.isNullOrEmptyString(tsConfig.serverPlatform)?ss.formatString('platform={0}&',tsConfig.serverPlatform.toLowerCase()):'');bL=ss.formatString('{0}/{1}/app/{2}?edition={3}&lang={1}&{5}version={4}','http://www.tableau.com',bt.$1(),e,bt.$0(),bt.$2(),bM)}return bL};bt.getOfflineHelpHref=function(e){var bK=ss.replaceAllString(bt.$1(),'-','_');return ss.formatString('/offline_help/{0}/help.htm#{1}',bK,e)};bt.makeHelpSearchUri=function(e){var bK=encodeURIComponent(e);if(tsConfig.useOfflineHelp){return bt.getOfflineHelpHref(ss.formatString('search-{0}',bK))}return((bt.$1()==='en-us')?ss.formatString('{0}/search/support/{1}','http://www.tableau.com',bK):ss.formatString('{0}/{1}/search/support/{2}','http://www.tableau.com',bt.$1(),bK))};bt.makeSupportUri=function(){return(tsConfig.useOfflineHelp?bt.getOfflineHelpHref('support'):'http://www.tableau.com')+'/support'};global.tab.UriUtil=bt;var bu=function(){this.$2=null;h.call(this)};bu.__typeName='tab.WindowAppender';bu.enableLogging=function(e){if(ss.isNullOrUndefined(bu.$0)){bu.$0=new bu;O.addAppender(bu.$0)}bu.$0.addFilter(e||function(){return true})};bu.disableLogging=function(){if(ss.isNullOrUndefined(bu.$0)){return}O.removeAppender(bu.$0);bu.$0=null};global.tab.WindowAppender=bu;var bv=function(){};bv.__typeName='tableau.format';bv.get_isO8601DateFormat=function(){return bv.$10};bv.get_isO8601DateTimeFormat=function(){return bv.$11};bv.get_isO8601TimeFormat=function(){return bv.$12};bv.get_defaultLocaleStrings=function(){return bv.$X};bv.get_baseTimestamp=function(){return bv.$T};bv.convertFullwidthNumberToAscii=function(e){var bK=ss.getEnumerator(Object.keys(bv.$Y));try{while(bK.moveNext()){var bL=bK.current();e=ss.replaceAllString(e,bL,bv.$Y[bL])}}finally{bK.dispose()}return e};bv.formatDataValue=function(e,bK,bL,bM,bN){var bO=e.s;if(ss.isNullOrUndefined(bO)||ss.isNullOrUndefined(bO)){var bP=(('t'in e)?e.t:'');var bQ=e.v;switch(bP){case's':{return bQ}case'b':{return bQ.toString()}case'i':{if(typeof(bQ)!=='number'){bQ=parseInt(bQ,10)}return((bK==='d')?bv.$j(bQ).toString():bv.$e(bQ,bL))}case'r':{if(typeof(bQ)!=='number'){bQ=parseFloat(bQ)}return bv.$k(bQ,bP,bL,bM,bK)}case't':{return(_.isDate(bQ)?bv.formatJsDateTime(bQ,bL,bN,bP):bv.$h((_.isNumber(e.v)?e.v:parseFloat(e.v)),bL,bN,bP))}case'd':{return(_.isDate(bQ)?bv.formatJsDateTime(bQ,bL,0,bP):bv.$h((_.isNumber(e.v)?e.v:parseFloat(e.v)),bL,0,bP))}}throw new ss.Exception('Invalid Tableau Format Type')}if(bO==='n'){return'null'}if(bO==='m'){return tab.Strings.SpecialMissing}return'#special:'+bO+'#'};bv.parseQuantitativeDataValue=function(e,bK,bL,bM,bN){switch(bK){case'i':{return parseInt(bv.reformatNumberToJsFormat(e,bL),10)}case'r':{return parseFloat(bv.reformatNumberToJsFormat(e,bL))}case'd':case't':{var bO=bv.formatToJSCompliantFormat(e,bL,bM,bN);return bw.OleDateFromJsDate((new Date(Date.parse(bO+' GMT'))).getTime())}}return(ss.isValue(bN)?parseFloat(bN.v):0)};bv.reformatNumberToJsFormat=function(e,bK){var bL=bK[8].replace(bv.$18,'\\$1');if(bL.indexOf('')!==-1){bL+=' '}var bM=bK[7].replace(bv.$18,'\\$1');if(bL.indexOf('.')===-1&&bM.indexOf('.')===-1){e=e.replace(new RegExp('\\.','g'),'?')}return e.replace(new RegExp('['+bL+']','g'),'').replace(new RegExp('['+bM+']','g'),'.')};bv.formatToJSCompliantFormat=function(e,bK,bL,bM){var bN=bv.normalizeDateTimeFormat(bK,bL,bM.t);var bO=bv.tokenizeDateTime(e,bN,bL);if(ss.isValue(bO)){return bv.$3(bO,bM)}else{return''}};bv.normalizeDateTimeFormat=function(e,bK,bL){var bM=e.format;var bN=e.timeFormat;if(bM.charCodeAt(0)===42){bM=bM.substr(1)}if(bK!==0&&ss.isValue(bN)&&(ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S')&&bL==='t'){if(bN.charCodeAt(0)===42){bN=bN.substr(1)}bM=bM+' '+bN}bM=bM.replace(new RegExp('ampm','g'),'tt');bM=ss.replaceAllString(bM,'H','h');bM=bM.replace(bv.$U,function(bO){return bO.replace(new RegExp('m','gi'),'m')});bM=bM.replace(bv.$V,function(bO){return bO.replace(new RegExp('m','gi'),'n')});return bM};bv.tokenizeDateTime=function(e,bK,bL){var bM=bK;bM=bM.replace(bv.$18,'\\$1');bM=bM.replace(bv.$1c,'($1)');bM=bM.replace(bv.$14,'($1)');var bN=bK.match(new RegExp(bM));var bO=bK;bO=bO.replace(bv.$18,'\\$1');if(bL===1){bO=bO.replace(bv.$W,'(?:$1 )?$2')}else{bO=bO.replace(bv.$W,'$1(?: $2)?')}bO=bO.replace(bv.$19,'(?:$1)?');bO=bO.replace(bv.$14,'(\\d+)');bO=bO.replace(bv.$1c,'([^0-9\\s]+)?');bO=bO.replace(bv.$1a,function(bS){return bS.replace(new RegExp('\\s+','g'),'\\s+')});bO=bO.replace(bv.$15,'\\s*');var bP=e.match(new RegExp(bO));if(ss.isNullOrUndefined(bP)){return null}var bQ={};for(var bR=1;bR<bP.length;++bR){if(ss.isValue(bP[bR])&&bP[bR].length>0){bQ[bN[bR].substr(0,1).toLowerCase()]=bP[bR]}}return bQ};bv.$3=function(e,bK){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var bL=(bK.v?new Date(bw.JsDateFromOleDate(bK.v)):new Date(bw.javaScriptOLEEpoch()));e['y']=bL.getUTCFullYear().toString();e['m']=(bL.getUTCMonth()+1).toString();e['d']=bL.getUTCDate().toString()}var bM=e['y'].replace(new RegExp('^(\\d{2})$'),function(bO){var bP=parseInt(bO,10);return((bP<30)?('20'+bO):('19'+bO))});var bN=e['m']+'/'+e['d']+'/'+bM;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){bN+=' '+e['h']+':'+e['n']+':';bN+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(bv.$S))){bN+=' am'}else if(ss.isValue(e['t'].match(bv.$16))){bN+=' pm'}}}return bN};bv.mapIcuToOleFormat=function(e){return bv.$p(bv.$Z,e)};bv.$p=function(e,bK){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(bK)){return bK}var bL=new ss.StringBuilder;var bM=0;var bN=0;var bO=null;while(++bN<=bK.length){var bP=e[bK.substring(bM,bN)];if(ss.isValue(bP)){bO=bP}else{if(ss.isValue(bO)){bL.append(bO);--bN}else{bL.append(bK.substring(bM,bM+1))}bM=bN;bO=null}}if(ss.isValue(bO)){bL.append(bO)}return bL.toString()};bv.escapeHTML=function(e){return tab.EscapingUtil.escapeHtml(e)};bv.formatColumnDisplayName=function(e,bK,bL){var bM=e.caption;var bN;if(!(typeof(bM)==='undefined')){bN=bM}else{var bO=e.name;bN=(bK?ss.arrayExtract(bO,1).join('.'):bv.formatQualifiedName(bO))}return(bL?bN:tab.EscapingUtil.escapeHtml(bN))};bv.formatTupleDisplayName=function(e,bK,bL){if(ss.isNullOrUndefined(e)){return' '}var bM=e.d;var bN=(ss.isValue(bM)?bM:bv.formatTupleUniqueName(e,bL));var bO=(bK?bN:bv.escapeHTML(bN));return ss.coalesce(bO,' ')};bv.formatTupleUniqueName=function(e,bK){var bL='';if(ss.isValue(e)){var bM=e.t;if(ss.isValue(bM)){for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];if(bL.length!==0){bL+=','}bL+=bv.formatDataValue(bO,bK)}}}return bL};bv.formatTupleDisplayFacet=function(e,bK,bL){var bM=bv.formatTupleFacet(e,bL);return(bK?bM:bv.escapeHTML(bM))};bv.formatTupleFacet=function(e,bK){var bL='';if(ss.isValue(e)){var bM=e.f;if(ss.isValue(bM)){for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];if(bL.length!==0){bL+=','}bL+=bv.formatDataValue(bO,bK)}}}return bL};bv.formatQualifiedName=function(e){var bK='';for(var bL=0;bL<e.length;bL++){var bM=e[bL];if(bK.length!==0){bK+='.'}bK+='['+bM.replace(new RegExp('\\]','g'),']]')+']'}return bK};bv.formatIntAuto=function(e,bK,bL,bM){var bN=bv.$1(e,bK,bL,bM);return((bv.$v(e)>=0)?bN:('-'+bN))};bv.isDateTimeWithNonMidnightTime=function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!bv.$o(new Date(bw.JsDateFromOleDate(parseFloat(e.v))))};bv.applyDecimalPlaces=function(e,bK,bL){if(bK>=0){var bM=e-bv.$v(e);var bN=bv.$t(bM,bK);var bO=parseInt(bN,10);if(Math.abs(bO)===1){return bO}if(bK===0){return''}bN=bN.replace(new RegExp('^-?0\\.'),bL);return bN}return''};bv.formatString=function(e,bK){var bL=bK.dataType;var bM=bK.formatStrings;var bN=bK.fieldRole;var bO=bM;var bP='';var bQ=e.toString();switch(bL){case'cstring':{bP='s';break}case'date':{bP='d';bQ=p.parsePresModelDate(e);bO=bv._convertFormatStringsToFormattingInfo(bM);break}case'datetime':{bP='t';bQ=p.parsePresModelDate(e);bO=bv._convertFormatStringsToFormattingInfo(bM);break}case'integer':{bP='i';bQ=parseInt(e);break}case'real':{bP='r';bQ=parseFloat(e);break}case'tuple':{bP='s';bQ=bv.$m(e);break}case'unknown':default:{bP=null;break}}var bR={t:bP,v:bQ};var bS;switch(bN){case'dimension':{bS='d';break}case'measure':{bS='m';break}case'unknown':default:{bS=null;break}}return bv.formatDataValue(bR,bS,bO,null,0)};bv.formatSpecial=function(e,bK){if(ss.isValue(bK)){return bK}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}};bv.isSpecialValue=function(e){return bv.$1b[e]===true};bv.stripFormattedText=function(e){if(ss.isNullOrUndefined(e)){return null}return $(e).find('run').text()};bv.deriveNumberEditingFormat=function(e){if(ss.isNullOrUndefined(e)){return null}return['','-1',e[2],'','','','',e[7],e[8],e[9]]};bv.$r=function(e,bK){var bL=e.toString();while(bL.length<bK){bL='0'+bL}return bL};bv.$o=function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)};bv.$5=function(e){return((e.getUTCHours()<12)?'AM':'PM')};bv.$7=function(e){var bK=e.getUTCHours();if(bK<12){if(bK===0){bK=12}}else if(bK>12){bK-=12}return bK};bv.$8=function(e){return e.getUTCHours()};bv.$6=function(e){var bK=new Date(e.getUTCFullYear(),0,1,12);var bL=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((bL-bK)/86400000)+1};bv.$4=function(e,bK){return e.getUTCFullYear()+((e.getUTCMonth()+1<bK)?-1:0)};bv.$a=function(e,bK,bL){var bM=(e.getUTCDay()+7-(bK-1))%7;var bN=-bM+(7-bL);var bO=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+bN));return bO.getUTCFullYear()};bv.$9=function(e,bK){var bL;if(bK.fiscalYearStart<=1){var bM=(bK.brokenWeeks?e.getUTCFullYear():bv.$a(e,bK.startOfWeek,bK.minDaysInFirstWeek));bL=new Date(Date.UTC(bM,0,1))}else{bL=new Date(Date.UTC(bv.$4(e,bK.fiscalYearStart),bK.fiscalYearStart-1,1))}var bN=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var bO=(bL.getUTCDay()+7-(bK.startOfWeek-1))%7;var bP=ss.Int32.div(bN-bL,86400000)+bO;if(bK.fiscalYearStart<=1&&7-bO<bK.minDaysInFirstWeek){bP-=7}return Math.floor(bP/7)+1};bv.dtGetFiscalYear=function(e,bK){var bL=e.getUTCFullYear();var bM=e.getUTCMonth()+1;return((bM<bK||bK===1)?0:1)+bL};bv.dtGetFiscalQuarter=function(e,bK){if(bK<1){bK=1}return Math.floor((e.getUTCMonth()+1-bK+12)%12/3)+1};bv.$w=function(e,bK){if(ss.isNullOrUndefined(bK)){return null}return bK.day[e.getUTCDay()+1]};bv.$y=function(e,bK){if(ss.isNullOrUndefined(bK)){return null}return bK.shortDay[e.getUTCDay()+1]};bv.$x=function(e,bK){if(ss.isNullOrUndefined(bK)){return null}return bK.month[e.getUTCMonth()]};bv.$z=function(e,bK){if(ss.isNullOrUndefined(bK)){return null}return bK.shortMonth[e.getUTCMonth()]};bv.formatJsDateTime=function(e,bK,bL,bM){if(ss.isNullOrUndefined(bK)){bK={};bK.format='*M/d/yyyy';bK.originalFormat='en_US';bK.timeFormat='';if(bL===2&&bv.$o(e)){bL=0}}return bv.formatCustomJsDateTime(e,bK,bL,bM)};bv.formatCustomJsDateTime=function(e,bK,bL,bM){var bN=bK.format;var bO=bK.timeFormat;var bP=bK.calOpts;var bQ=0,bR=0,bS;if(ss.isNullOrUndefined(bP)){bP=new j}var bT=ss.isValue(bO);var bU=ss.isNullOrUndefined(bK.originalFormat)||bK.originalFormat.length===0||bK.originalFormat==='S';var bV=bM==='t';if(ss.isValue(bL)&&bL!==0&&bT&&bU&&bV){if(bO.charCodeAt(0)===42){bO=bO.substr(1)}if(bL===2){bN=bN+' '+bO}else{bN=bO}}if(bN==='L'){bN='*dddd, mmmm dd, yyyy'}if(bN.charCodeAt(0)===42){bN=bN.substr(1)}bS=bN.length;var bW,bX;if(bP.fiscalYearStart>1){bW=bX=bv.dtGetFiscalYear(e,bP.fiscalYearStart)}else{bW=e.getUTCFullYear();bX=(bP.brokenWeeks?bW:bv.$a(e,bP.startOfWeek,bP.minDaysInFirstWeek))}var bY=bX.toString();var bZ=bY.substr(bY.length-2);var ca=bW.toString();var cb=ca.substr(ca.length-2);var cc=[];cc.push(new bo('ampm',bv.$5(e)));cc.push(new bo('tt',bv.$5(e)));cc.push(new bo('yyyy',ca));cc.push(new bo('yy',cb));cc.push(new bo('mmmm',bv.$x(e,bK.locale_formatting_strings)));cc.push(new bo('mmm',bv.$z(e,bK.locale_formatting_strings)));cc.push(new bo('dddd',bv.$w(e,bK.locale_formatting_strings)));cc.push(new bo('ddd',bv.$y(e,bK.locale_formatting_strings)));cc.push(new bo('mm',bv.$r(e.getUTCMonth()+1,2)));cc.push(new bo('m',(e.getUTCMonth()+1).toString()));cc.push(new bo('dd',bv.$r(e.getUTCDate(),2)));cc.push(new bo('d',e.getUTCDate().toString()));cc.push(new bo('hh',bv.$r(bv.$8(e),2)));cc.push(new bo('h',bv.$8(e).toString()));cc.push(new bo('nn',bv.$r(e.getUTCMinutes(),2)));cc.push(new bo('n',e.getUTCMinutes().toString()));cc.push(new bo('ss',bv.$r(e.getUTCSeconds(),2)));cc.push(new bo('s',e.getUTCSeconds().toString()));cc.push(new bo('ww',bv.$9(e,bP).toString()));cc.push(new bo('y',bv.$6(e).toString()));cc.push(new bo('w',(e.getUTCDay()+1).toString()));cc.push(new bo('q',bv.dtGetFiscalQuarter(e,bP.fiscalYearStart).toString()));var cd=bv.$c(e,bQ,bS,cc,bN,bR,bP,bY,bZ,ca,cb);bN=cd.join('');return bN};bv.$c=function(e,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT){var bU=[];var bV=null;var bW=false;var bX=false;var bY=-1;var bZ=false;var ca=false;var cb=false;while(bK<bL){var cc=false;var cd=false;for(var ce=0;ce<bM.length;ce++){var cf=bM[ce];var cg=cf.get_first();var ch=cf.get_second();if(ss.referenceEquals(cg,bN.substr(bK,cg.length).toLowerCase())){cc=true;bU.push(ch);bK+=cg.length;if(ss.isValue(bV)&&cg==='mm'){bU[bU.length-1]=bv.$r(e.getUTCMinutes(),2)}if(ss.isValue(bV)&&cg==='m'){bU[bU.length-1]=e.getUTCMinutes().toString()}if(cg.charCodeAt(0)===100){bV=null}if(cg.charCodeAt(0)===104){bV=cg;bO=bU.length-1}if(ss.isValue(bV)&&(cg==='ampm'||cg==='tt')){bU[bO]=((bV==='hh')?bv.$r(bv.$7(e),2):bv.$7(e).toString())}switch(cg.charCodeAt(0)){case 121:{if(cg.length>1){cd=true;bY=bU.length-1;bZ=cg.length===4;cb=true;if(bW){if(!bP.brokenWeeks){bU[bY]=(bZ?bQ:bR);cb=false}bW=false}}break}case 119:{if(cg.length!==2){break}var ci=bW;bW=true;if(!ci&&!bX&&cb){if(!bP.brokenWeeks){bU[bY]=(bZ?bQ:bR);cb=false}bW=false}bX=false;break}case 109:case 100:case 113:{if((cg==='mm'||cg==='m')&&ss.isValue(bV)){break}bW=false;bX=true;break}}break}}if(cc){ca=cd;continue}if(bN.charCodeAt(bK)===92){bU.push(bN.substr(bK+1,1));bK+=2}else if(bN.charCodeAt(bK)===34){var cj=bN.charCodeAt(bK);var ck=++bK;while(bK<bL&&bN.charCodeAt(bK)!==cj){bK+=1}if(ck<bL&&bK>ck){bU.push(bN.substr(ck,bK-ck))}if(bK<bL){bK+=1}}else if(bN.charCodeAt(bK)===91){var cl=++bK;while(cl<bN.length&&bN.charCodeAt(cl)!==93){cl++}var cm=bN.substring(bK,cl);if((cm==='y'||cm==='Y')&&ca){bU[bY]=((cm==='y')?(bZ?bS:bT):(bZ?bQ:bR));cb=false}bK=cl+1}else{bU.push(String.fromCharCode(bN.charCodeAt(bK)));bK+=1}ca=cd}return bU};bv.$h=function(e,bK,bL,bM){var bN=null;if(!ss.isNullOrUndefined(bK)){bN=U.cloneObject(bK);bN.format=bv.mapIcuToOleFormat(bN.format)}var bO=new Date(bw.JsDateFromOleDate(e));return bv.formatJsDateTime(bO,bN,bL,bM)};bv.$v=function(e){return((e<0)?Math.ceil(e):Math.floor(e))};bv.$1=function(e,bK,bL,bM){var bN=Math.abs(bv.$v(e));var bO='';var bP=parseInt(String.fromCharCode(bM.charCodeAt(0)),10)||3;var bQ;if(bN<1E+15){bQ=bv.$t(bN,0)}else{bQ=bv.$s(bN,14);var bR=bQ.match(bv.$17);if(ss.isValue(bR)){var bS=ss.coalesce(bR[2],'');var bT=parseInt(bR[3],10)-bS.length;var bU='';for(var bV=0;bV<bT;bV++){bU+='0'}bQ=bR[1]+bS+bU}}if(bK!=='t'){return bQ}for(var bW=bQ.length-1,bX=0;bW>=0;bW--,bX++){if(bX>=bP){bO=bL+bO;bX=0}bO=String.fromCharCode(bQ.charCodeAt(bW))+bO}return bO};bv.$2=function(e,bK){switch(bK){case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}};bv.$0=function(e,bK,bL,bM,bN){bK=bK.replace(new RegExp('^-'),'');if(e>=0||(new RegExp('^[.0]*$')).test(bK)){return bL+bK+bM}switch(bv.$n(bN)){case'parenthesis':{return'('+bL+bK+bM+')'}case'outerSuffix':{return bL+bK+bM+'-'}case'innerPrefix':{return bL+'-'+bK+bM}case'innerSuffix':{return bL+bK+'-'+bM}case'outerPrefix':case'automatic':default:{return'-'+bL+bK+bM}}};bv.$n=function(e){var bK=parseInt(e,10);var bL=bK<0||bK>=bv.$13.length;return(bL?'automatic':bv.$13[bK])};bv.$j=function(e){return bv.$v(e)};bv.$f=function(e,bK,bL,bM,bN,bO,bP){if(bK==='i'){return bv.$b(e,bK,bL,bM,bN,bO,bP,null,null)}else{return bv.$b(e,bK,bL,bM,bN,bO,bP,0.0001,1E+15)}};bv.$g=function(e,bK,bL,bM,bN,bO){if(bK==='i'){return bv.$b(e,bK,null,bL,bM,bN,bO,null,1000000)}else{return bv.$b(e,bK,null,bL,bM,bN,bO,0.0001,1E+15)}};bv.$b=function(e,bK,bL,bM,bN,bO,bP,bQ,bR){var bS;var bT;var bU;if(ss.isValue(bL)&&ss.unbox(bL)<=0){bS=-ss.unbox(bL);bU=bT=false}else{bS=bv.$q(e,bK,true);bU=bT=true}var bV=Math.abs(e);if(bU&&bV!==0&&(ss.isValue(bR)&&ss.Nullable$1.ge(bV,bR)||ss.isValue(bQ)&&ss.Nullable$1.lt(bV,bQ))){var bW=bv.$q(1,bK,true);var bX=bv.$d(e,bW,bM);if(bT){return bX.replace(new RegExp('['+bM+']?0+e'),'e')}}var bY=e-bv.$v(e);var bZ=bv.formatIntAuto(e,bN,bO,bP);var ca='';ca=bv.$t(bY,bS);if(Math.abs(parseFloat(ca))>=1){bZ=bv.formatIntAuto(bv.$v(e+parseFloat(ca)),bN,bO,bP);ca=ca.replace(new RegExp('1'),'0')}if(!(ca.indexOf('.')!==-1)){return bZ}if(bT){ca=ca.replace(new RegExp('0+$'),'');if(ss.endsWithString(ca,'.')){return bZ}}ca=ca.replace(new RegExp('^-?0\\.'),bM);if(e<0&&bZ==='0'&&!(new RegExp('^\\.0+$')).test(ca)){bZ='-0'}return bZ+ca};bv.$q=function(e,bK,bL){var bM=((bK==='i')?6:15);var bN=Math.max(0,bM-Math.abs(bv.$v(e)).toString().length);if(bL){return Math.min(bN,9)}else{return bN}};bv.$d=function(e,bK,bL){if(isNaN(e)||!isFinite(e)){return e.toString()}if(bK<0||isNaN(bK)){bK=0}if(bK>15){bK=15}var bM=bv.$s(e,bK);var bN=bM.indexOf(String.fromCharCode(101));var bO=bM.substr(bN);if(bO.length<4){bM=bM.substr(0,bN+2)+'0'+bM.substr(bN+2)}bM=bM.replace(new RegExp('\\.'),bL);return bM};bv.$s=function(e,bK){return bv.$u(e,bK,15,function(bL,bM){return bL.toExponential(bM)})};bv.$t=function(e,bK){return bv.$u(e,bK,bv.$q(e,'r',false),function(bL,bM){return bL.toFixed(bM)})};bv.$u=function(e,bK,bL,bM){bL=Math.max(bL-1,bK);var bN=bM(e,bL);var bO=bN.indexOf(String.fromCharCode(101));if(bO===-1){bO=bN.length}var bP=bO-(bL-bK);var bQ=bN.charCodeAt(bP);if(bN.charCodeAt(bP-1)===46){bP--}bN=bN.substr(0,bP)+bN.substr(bO,bN.length);if(bQ>=53&&bQ<=57){var bR;do{bP--;bR=bN.charCodeAt(bP);if(bR===46||bR===45){bR=48;continue}bR++;if(bR>57){bR=48}bN=bN.substr(0,bP)+String.fromCharCode(bR)+bN.substr(bP+1,bN.length)}while(bR===48&&bP>0);if(bR===48&&bP===0){bN=bM(e,bK)}}return bN};bv.$i=function(e,bK,bL,bM){if(bL===-1){return bv.$b(e*100,bK,null,bM[7],bM[2],bM[8],bM[9],null,null)+'%'}else{return bv.$l(e*100,bL,bM)+'%'}};bv.$k=function(e,bK,bL,bM,bN){if(ss.isNullOrUndefined(bL)||bL.length!==10){return bv.$f(e,bK,bM,'.',((bN==='d')?null:'t'),',','3;0')}var bO=parseInt(bL[1],10);switch(bL[0]){case'':{if(bO===-1){return bv.$f(e,bK,null,bL[7],bL[2],bL[8],bL[9])}else{return bv.$f(e,bK,-bO,bL[7],bL[2],bL[8],bL[9])}}case'N':{return bv.$g(e,bK,bL[7],bL[2],bL[8],bL[9])}case'e':{return bv.$d(e,bO,bL[7])}case'p':{return bv.$i(e,bK,bO,bL)}default:{return bv.$l(e,bO,bL)}}};bv.$l=function(e,bK,bL){e=bv.$2(e,bL[5]);var bM=bL[5]+bL[4];var bN=bv.applyDecimalPlaces(e,bK,bL[7]);if(typeof(bN)==='number'){e+=bN;bN=bv.applyDecimalPlaces(0,bK,bL[7])}var bO=bv.$1(e,bL[2],bL[8],bL[9])+bN;return bv.$0(e,bO,bL[3],bM,bL[6])};bv.$e=function(e,bK){return bv.$k(bv.$v(e),'i',bK,null,null)};bv._convertFormatStringsToFormattingInfo=function(e){var bK={};bK.format=e[0];bK.locale=e[1];bK.originalFormat=e[2];bK.timeFormat=e[3];bK.calOpts=new j;bK.calOpts.fiscalYearStart=parseInt(e[4]);if(isNaN(bK.calOpts.fiscalYearStart)){bK.calOpts.fiscalYearStart=0}bK.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(bK.calOpts.startOfWeek)){bK.calOpts.startOfWeek=1}bK.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(bK.calOpts.minDaysInFirstWeek)){bK.calOpts.minDaysInFirstWeek=1}bK.calOpts.brokenWeeks=e[7]==='1';return bK};bv.$m=function(e){var bK=44;var bL=40;var bM=41;var bN=39;var bO=92;var bP=[];e=e.trim();if(e.length===0){return''}var bQ=e.length;var bR=0;if(bR>=bQ||e.charCodeAt(bR)!==40){return''}++bR;while(bR<bQ){var bS=bR;var bT=false;var bU=0;while(bS<bQ&&!bT){var bV=e.charCodeAt(bS);if(bU===0&&(bV===44||bV===41)){bT=true;break}else if(bV===92){bS+=2}else{if(bV===39){bU=1-bU}++bS}}if(!bT){return''}var bW=e.substring(bR+1,bS-1);bW=ss.replaceAllString(bW,'\\\\','\\');bW=ss.replaceAllString(bW,'\\"','"');bW=ss.replaceAllString(bW,'\\,',',');bW=ss.replaceAllString(bW,'\\(','(');bW=ss.replaceAllString(bW,'\\)',')');bP.push(bW);bR=bS;++bR}return bP.join(', ')};global.tableau.format=bv;var bw=function(){};bw.__typeName='tableau.types';bw.$0=function(){return U.lazyInitStaticField(bw,'millisecondsPerDay',function(){return 86400000})};bw.javaScriptOLEEpoch=function(){return U.lazyInitStaticField(bw,'javascriptOleEpoch',function(){return Date.UTC(1899,11,30,0,0,0,0)})};bw.JsDateFromOleDate=function(e){var bK=((e<0)?Math.ceil(e):Math.floor(e));var bL=Math.round(Math.abs(e-bK)*bw.$0())+bK*bw.$0();return bL+bw.javaScriptOLEEpoch()};bw.OleDateFromJsDate=function(e){var bK=new Date(e);var bL=Date.UTC(bK.getUTCFullYear(),bK.getUTCMonth(),bK.getUTCDate());var bM=ss.Int32.div(bL-bw.javaScriptOLEEpoch(),bw.$0());var bN=(e-bL)/bw.$0();return bM+((bM<0)?-1:1)*bN};bw.isO=function(e){return e.fieldType==='O'||e.fieldType==='N'};bw.isMetadata=function(e){return e.column_class===0};bw.isOm=function(e){return bw.isO(e)&&bw.isMetadata(e)};bw.getRegionType=function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}};global.tableau.types=bw;var bx=function(){};bx.__typeName='tableau.util';bx.assetUrl=function(e,bK){var bL=(bK?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);if(e.charCodeAt(0)===47){var bM=bL.length-1;if(bL.charCodeAt(bM)===47){return bL.substring(0,bM-1)+e}else{return bL+e}}else{return bL+'/'+e}};bx.isPrintableNonNumericKeyPressed=function(e){return bx.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)};bx.isPrintableNonNumericInput=function(e,bK,bL){var bM=e>=91&&e<=105;var bN=e>=112&&e<=123;var bO=e<47;var bP=!bK&&!bL&&(e>=48&&e<=57);return!bM&&!bO&&!bP&&!bN};bx.preventNonNumericInput=function(e){if(bx.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}};bx.inputWouldOverflowMaxLength=function(e,bK,bL){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(bK)){bK=''}if(e.length===1){var bM=e.charCodeAt(0);if(bM<=8||bM===127||bM>=14&&bM<=31||bM===11||bM===12){return false}}return e.length+bK.length>bL};bx.maxLengthEnforcingBeforeInputHandler=function(e){return function(bK){if(bx.inputWouldOverflowMaxLength(bK.data,bK.target.value,e)){bK.preventDefault();bK.stopPropagation()}}};bx.isElementVisible=function(e){return $(e).css('display')!=='none'};bx.findElementByTagName=function(e,bK,bL){e=e||s.get_documentBody();if(bx.isNodeMatch(e,bK,bL)){return e}var bM=e.getElementsByTagName(bK);var bN=bM.length;for(var bO=0;bO<bN;bO+=1){if(bx.isNodeMatch(bM[bO],bK,bL)){return bM[bO]}}return null};bx.findDirectParentByClassName=function(e,bK,bL){if(ss.isNullOrUndefined(e)||U.isNullOrEmpty$3(bK)){return null}bL=bL||document.body;var bM=e.parentNode;while(!ss.isNullOrUndefined(bM)&&!ss.referenceEquals(bM,bL)){if(!U.isNullOrEmpty$3(bM.className)){if(ss.referenceEquals(bM.className.toLowerCase(),bK.toLowerCase())){return bM}bM=bM.parentNode}}return null};bx.isNodeMatch=function(e,bK,bL){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),bK.toLowerCase())){return false}if(ss.isNullOrUndefined(bL)){return true}var bM=ss.getEnumerator(Object.keys(bL));try{while(bM.moveNext()){var bN=bM.current();if(bN in bL&&!ss.referenceEquals(e[bN],bL[bN])){return false}}}finally{bM.dispose()}return true};bx.binarySearch=function(e){return function(bK,bL,bM,bN,bO){var bP=(U.isValidIndex(ss.coalesce(bM,-1),bL)?ss.unbox(bM):0);var bQ=(U.isValidIndex(ss.coalesce(bN,-1),bL)?ss.unbox(bN):(bL.length-1));if(ss.isNullOrUndefined(bO)){bO=bx.$0(e)}var bR={};while(bP<=bQ){var bS=Math.floor(bP+(bQ-bP)/2);var bT=bO(bL[bS],bK);if(bT===0){bR.found=true;bR.index=bS;return bR}else if(bT<0){bP=bS+1}else{bQ=bS-1}}bR.found=false;bR.index=bP;return bR}};bx.$0=function(e){return function(bK,bL){if(bK===bL){return 0}else if(bK>bL){return-1}else{return 1}}};bx.transform=function(e,bK){bK=bK||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(bK.transformOrigin)){bK.transformOrigin={x:ss.Int32.div(e.offsetWidth,2),y:ss.Int32.div(e.offsetHeight,2)}}if(bK.scale!==1){bK.scaleX=bK.scaleY=bK.scale}var bL;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){bL=['translate3d(',bK.translateX.toString(),'px,',bK.translateY.toString(),'px, 0px)'].join('')}else{bL=['translate(',bK.translateX.toString(),'px,',bK.translateY.toString(),'px)'].join('')}bL+=[' scale(',bK.scaleX.toString(),', ',bK.scaleY.toString(),')'].join('');e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=bK.time+'ms';e.style['transform']=bL;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=bK.time+'ms';e.style['webkitTransform']=bL;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=bK.time+'ms';e.style['MozTransform']=bL;if(ss.isValue(bK.transformOrigin)){var bM=bK.transformOrigin.x+'px '+bK.transformOrigin.y+'px';e.style['transformOrigin']=bM;e.style['webkitTransformOrigin']=bM;e.style['MozTransformOrigin']=bM}};bx.parseUri=function(e){var bK=document.createElement('a');var bL=bK;if(ss.isNullOrUndefined(e)){return null}bK.href=e;var bM=ss.mkdict(['href',e,'host',bL.host,'hostname',bL.hostname,'pathname',bL.pathname,'port',bL.port,'protocol',bL.protocol,'search',bL.search]);return bM};bx.setupTitleEllipsis=function(e){e.find('div').each(function(bK,bL){var bM=$(bL);var bN=bM.children('span');var bO=null;var bP=u.roundToInt(bM.width());var bQ=10;bP-=bQ;for(var bR=0;bR<bN.length;bR++){var bS=bN[bR];var bT=u.roundToInt($(bS).width());bO=bS;if(bT>bP){break}bP-=bT}if(ss.isValue(bO)){bM.css('font-family',bO.style.fontFamily);bM.css('font-size',bO.style.fontSize);bM.css('line-height',bO.style.lineHeight);bM.css('color',bO.style.color);bM.css('font-weight',bO.style.fontWeight);bM.css('font-style',bO.style.fontStyle);bM.css('text-decoration',bO.style.textDecoration)}bM.css('text-overflow','ellipsis');bM.css('overflow','hidden')})};global.tableau.util=bx;var by=function(){};by.__typeName='tableau.types.CFStyle';global.tableau.types.CFStyle=by;var bz=function(){};bz.__typeName='tableau.types.CFType';global.tableau.types.CFType=bz;var bA=function(){};bA.__typeName='tableau.types.DataSpecial';global.tableau.types.DataSpecial=bA;var bB=function(){};bB.__typeName='tableau.types.DataType';global.tableau.types.DataType=bB;var bC=function(){};bC.__typeName='tableau.types.FieldTypeTypes';global.tableau.types.FieldTypeTypes=bC;var bD=function(){};bD.__typeName='tableau.types.HFStyle';global.tableau.types.HFStyle=bD;var bE=function(){};bE.__typeName='tableau.types.QFDomain';global.tableau.types.QFDomain=bE;var bF=function(){};bF.__typeName='tableau.types.QFFixed';global.tableau.types.QFFixed=bF;var bG=function(){};bG.__typeName='tableau.types.QFInclude';bG.isRange=function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}};global.tableau.types.QFInclude=bG;var bH=function(){};bH.__typeName='tableau.types.RegionType';global.tableau.types.RegionType=bH;var bI=function(){};bI.__typeName='tableau.types.TableauTypesFieldRole';global.tableau.types.TableauTypesFieldRole=bI;var bJ=function(e){this.$3=null;this.$4=false;this.$3=e;if(i.get_isTouch()){this.$3.addEventListener('touchstart'.toString(),ss.mkdel(this,this.handleEvent),false)}};bJ.__typeName='tableau.util.NoClickDelay';global.tableau.util.NoClickDelay=bJ;ss.initEnum(b,a,{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});ss.initEnum(c,a,{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});ss.initEnum(d,a,{simple:'simple',toggle:'toggle',range:'range',menu:'menu'},true);ss.initClass(f,a,{});ss.initInterface(F,a,{addFilter:null,removeFilter:null,clearFilters:null,log:null});ss.initClass(h,a,{clearFilters:function(){ss.clear(this.$0)},addFilter:function(e){this.$0.push(e)},removeFilter:function(e){ss.remove(this.$0,e)},log:function(e,bK,bL,bM){},logInternal:null,formatMessage:function(e,bK){if(ss.isNullOrUndefined(bK)||bK.length===0){return e}var bL=new ss.StringBuilder;var bM=0;var bN=false;for(var bO=0;bO<e.length;bO++){var bP=e.charCodeAt(bO);if(bP===37){if(bN){bL.append('%');bN=false}else{bN=true}}else{if(bN){switch(bP){case 98:case 115:case 100:case 110:case 111:{bL.append(((bK.length>bM)?bK[bM]:''));bM++;break}}}else{bL.appendChar(bP)}bN=false}}return bL.toString()}},null,[F]);ss.initClass(i,a,{});ss.initClass(j,a,{});ss.initClass(k,a,{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}},null,[ss.IDisposable]);ss.initClass(l,a,{});ss.initClass(m,a,{logInternal:function(e,bK,bL,bM){if(typeof(window.console)!=='object'){return}bL=e.get_name()+': '+bL;var bN=[];if(i.get_consoleLogFormating()){var bO=bN.concat(bL);bN=bO.concat.apply(bO,bM)}else{bN=bN.concat(this.formatMessage(bL,bM))}try{Function.prototype.apply.call(this.$1(bK),window.console,bN)}catch(bP){}},$1:function(e){var bK=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=bK.log;this.$2[(4).toString()]=bK.error;this.$2[(2).toString()]=bK.info;this.$2[(3).toString()]=bK.warn}var bL=this.$2[e.toString()];if(ss.isNullOrUndefined(bL)){bL=bK.log}return bL}},h,[F]);ss.initClass(n,a,{});ss.initEnum(o,a,{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});ss.initClass(p,a,{});ss.initClass(q,a,{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=U.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}},null,[ss.IDisposable]);ss.initClass(r,a,{add:function(e){this.$0.push(new k(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var bK=this.$0[e];U.dispose$1(bK)}ss.clear(this.$0)}},null,[ss.IDisposable]);ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initClass(w,a,{});ss.initEnum(x,a,{unknown:0,newFilter:4,fieldTypeConversion:5,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,appearanceOfBlendingIcons:36,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,offlineMode:41,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,javaScriptHighlighting:45,debugTools:46,instrumentObjects:47});ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{});ss.initClass(B,a,{});ss.initInterface(C,a,{addToDom:null,onAddedToDom:null});ss.initInterface(D,a,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(E,a,{showAlertDialog:null,showConfirmationDialog:null,showErrorDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null,showFileDownloadDialog:null,showConnectionMissingFileDialog:null,showEditConnectionInformationDialog:null},[ss.IDisposable]);ss.initClass(G,a,{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}});ss.initInterface(I,a,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initInterface(J,a,{});ss.initClass(L,a,{add:function(e){this.store[e]=e;this.updateSize();return this},delete:function(e){var bK=this.has(e);delete this.store[e];this.updateSize();return bK},clear:function(){ss.clearKeys(this.store);this.updateSize()},has:function(e){return ss.keyExists(this.store,e)},forEach:function(e){var bK=ss.getEnumerator(Object.keys(this.store));try{while(bK.moveNext()){var bL=bK.current();e(this.store[bL])}}finally{bK.dispose()}},updateSize:function(){this.size=ss.getKeyCount(this.store)}});ss.initClass(K,a,{add:function(e){return null},set:function(e,bK){this.store[e]=bK;this.updateSize();return this},get:function(e){return this.store[e]},forEach:function(e){var bK=ss.getEnumerator(Object.keys(this.store));try{while(bK.moveNext()){var bL=bK.current();e(this.store[bL],bL)}}finally{bK.dispose()}}},L);ss.initClass(M,a,{});ss.initClass(N,a,{});ss.initClass(O,a,{get_name:function(){return this.$1},debug:function(e,bK){},info:function(e,bK){},warn:function(e,bK){},error:function(e,bK){},log:function(e,bK,bL){},$0:function(e,bK,bL){try{var bM=O.$2();for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];bO.log(this,e,bK,bL)}}catch(bP){}}});ss.initEnum(P,a,{all:0,debug:1,info:2,warn:3,error:4,off:5});ss.initClass(Q,a,{},ss.Exception);Q.$ctor1.prototype=Q.$ctor2.prototype=Q.prototype;ss.initClass(R,a,{});ss.initClass(S,a,{});ss.initClass(T,a,{logEvent:function(e){if(this.$a.length>=400){this.$a.shift()}this.$a.push(e);this.$1(e);this.$6(250)},$1:function(e){if(!('newrelic'in window)){return}var bK=e.parameters['d'];if(ss.isNullOrUndefined(bK)){return}var bL=new Object;bL.name=ss.coalesce(T.$5[bK],bK);var bM=T.$3(e.parameters['t']);var bN=e.parameters['e'];if(ss.isValue(bN)){bL.end=bM;bL.start=bM-bN}else{bL.start=bM}newrelic.addToTrace(bL)},attach:function(){tabBootstrap.MetricsController.setEventLogger(ss.mkdel(this,this.logEvent))},$6:function(e){if(ss.isValue(this.$9)){return}this.$9=window.setTimeout(ss.mkdel(this,this.$4),e)},$4:function(){this.$9=null;var e;if(this.$a.length>20){e=this.$a.slice(0,20);this.$a=this.$a.slice(20);this.$6(5)}else{e=this.$a;this.$a=[]}this.$2(e);if(tsConfig.metricsReportingEnabled){try{this.$3(e)}catch(bK){}}},$2:function(e){this.$b=this.$b||O.lazyGetLogger(T);for(var bK=0;bK<e.length;bK++){var bL=e[bK]}},$3:function(e){var bK=1500;var bL=e.length;var bM='';if(bL===0){return}for(var bN=0;bN<bL;bN++){var bO=e[bN];if(bO.eventType==='wps'){continue}var bP=T.$1(bO,false);if(bM.length>0&&bM.length+bP.length>bK){this.$5(tsConfig.metricsServerHostname,bM);bM=''}else if(bM.length>0){bM+='&'}bM+=bP}if(bM.length>0){this.$5(tsConfig.metricsServerHostname,bM)}if(ss.isNullOrUndefined(this.$7)){this.$7=window.setTimeout(ss.mkdel(this,this.$0),250)}},$5:function(e,bK){var bL=1;if(U.isNullOrEmpty$3(e)||U.isNullOrEmpty$3(bK)){return}var bM=document.createElement('img');var bN='v='+bL.toString();var bO=e;bO+='?'+bN+'&'+bK;bM.src=bO;this.$8.push(bM);if(this.$8.length>100){this.$8.shift()}},$0:function(){try{this.$7=null;var e=0;while(e<this.$8.length){if(this.$8[e].complete){this.$8.splice(e,1)}else{e++}}if(this.$8.length>0){this.$7=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(bK){}}});ss.initClass(U,a,{});ss.initClass(V,a,{});ss.initClass(W,a,{get:function(e,bK,bL){if(!W.$0(bK)){var bM=this.$0+'!'+bK;if(ss.keyExists(this.$1,bM)){this.$1[bM]=true}}return e[bK]}});ss.initClass(X,a,{instrument:function(e,bK){if(bK===''){this.$1=JSON.parse(JSON.stringify(e))}if(X.$1(e)){var bL=e;var bM=new ss.ObjectEnumerator(bL);try{while(bM.moveNext()){var bN=bM.current();this.$2[bK+'!'+bN.key]=false;if(X.$0(bN.value)||X.$1(bN.value)){bL[bN.key]=this.instrument(bN.value,bK+'!'+bN.key)}}}finally{bM.dispose()}return new Proxy(e,new W(this.$2,bK))}else if(X.$0(e)){var bO=e;for(var bP=0;bP<bO.length;bP++){this.$2[bK+'!'+bP]=false;if(X.$0(bO[bP])||X.$1(bO[bP])){bO[bP]=this.instrument(bO[bP],bK+'!'+bP)}}return new Proxy(e,new W(this.$2,bK))}return e}});ss.initClass(Y,a,{});ss.initClass(Z,a,{});ss.initEnum(ba,a,{workbookName:2,sheetId:3,authoringSheet:4});ss.initClass(bb,a,{});ss.initClass(bc,a,{});ss.initClass(bd,a,{get_propertyName:function(){return this.$0}},ss.EventArgs);ss.initClass(be,a,{});ss.initClass(bf,a,{});ss.initClass(bg,a,{});ss.initClass(bh,a,{});ss.initClass(bi,a,{});ss.initClass(bj,a,{});ss.initClass(bk,a,{});ss.initClass(bl,a,{});ss.initClass(bm,a,{});ss.initClass(bn,a,{logInternal:function(bK,bL,bM,bN){bM=this.formatMessage(ss.replaceAllString(bM,'\\n','<br />'),bN);if(bL>2){try{throw new ss.Exception('Logged('+O.loggerLevelNames[bL]+', from '+bK.get_name()+'): '+bM)}catch(bO){var e=ss.Exception.wrap(bO);v.report(e,false)}}}},h,[F]);ss.initClass(bo,a,{get_first:function(){return this.$0},get_second:function(){return this.$1}});ss.initClass(bp,a,{});ss.initClass(bq,a,{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){switch(this.$2){case 0:{return{x:e.minX,y:e.minY,w:e.maxX-e.minX,h:e.maxY-e.minY}}case 2:{var bK=e.minX*this.$1+this.$3.x;var bL=e.minY*this.$1+this.$3.y;var bM=e.maxX*this.$1+this.$3.x;var bN=e.maxY*this.$1+this.$3.y;return{x:bK,y:bL,w:bM-bK,h:bN-bL}}default:{return null}}},transformPoint:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0}}default:{return null}}},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bK=(e.center.x-this.$3.x)*this.$0;var bL=(e.center.y-this.$3.y)*this.$0;return{center:{x:bK,y:bL},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bK=e.length;var bL=new Array(bK);for(var bM=0;bM<bK;bM=bM+2){bL[bM]=(e[bM]-this.$3.x)*this.$0;bL[bM+1]=(e[bM+1]-this.$3.y)*this.$0}return bL}default:{return null}}}});ss.initClass(br,a,{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var bK=Math.cos(e);var bL=Math.sin(e);var bM=this.$0[0]*bK+this.$0[2]*bL;var bN=this.$0[1]*bK+this.$0[3]*bL;var bO=this.$0[0]*-bL+this.$0[2]*bK;var bP=this.$0[1]*-bL+this.$0[3]*bK;this.$0[0]=bM;this.$0[1]=bN;this.$0[2]=bO;this.$0[3]=bP},translate:function(e,bK){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*bK;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*bK},scale:function(e,bK){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*bK;this.$0[3]=this.$0[3]*bK},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new br;e.setTransform(this);return e}});ss.initEnum(bs,a,{none:0,pixelToDomain:1,domainToPixel:2,offset:3});ss.initClass(bt,a,{});ss.initClass(bu,a,{logInternal:function(e,bK,bL,bM){if(ss.isNullOrUndefined(this.$2)){this.$1()}bL=this.formatMessage(ss.replaceAllString(bL,'\\n','<br />'),bM);this.$2.html(bL)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}},h,[F]);ss.initClass(bv,a,{});ss.initClass(bw,a,{});ss.initClass(bx,a,{});ss.initClass(by,a,{});ss.initClass(bz,a,{});ss.initClass(bA,a,{});ss.initClass(bB,a,{});ss.initClass(bC,a,{});ss.initClass(bD,a,{});ss.initClass(bE,a,{});ss.initClass(bF,a,{});ss.initClass(bG,a,{});ss.initClass(bH,a,{});ss.initClass(bI,a,{});ss.initClass(bJ,a,{handleEvent:function(e){var bK=e;switch(e.type){case'touchstart':{this.$2(bK);break}case'touchmove':{this.$1(bK);break}case'touchend':{this.$0(bK);break}}},$2:function(e){e.preventDefault();this.$4=false;this.$3.addEventListener('touchmove'.toString(),ss.mkdel(this,this.handleEvent),false);this.$3.addEventListener('touchend'.toString(),ss.mkdel(this,this.handleEvent),false)},$1:function(e){this.$4=true},$0:function(e){this.$3.removeEventListener('touchmove',ss.mkdel(this,this.handleEvent),false);this.$3.removeEventListener('touchend',ss.mkdel(this,this.handleEvent),false);if(!this.$4){var bK=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(bK.nodeType===3){bK=bK.parentNode}var bL=document.createEvent('MouseEvents');bL['initEvent']('click',true,true);bK.dispatchEvent(bL)}}});ss.setMetadata(H,{variance:[1]});(function(){i.$I=false;i.$n='fonts'in document;i.$G=false;i.$p=false;i.$g=false;i.$h='transform';i.$i='transition';i.$K=false;i.$f=false;i.$C=false;i.$t=false;i.$w=false;i.$u=false;i.$q=0;i.$o=0;i.$H=0;i.$r=0;i.$v=false;i.$B=false;i.$y=false;i.$E=false;i.$A=false;i.$x=false;i.$s=false;i.$z=false;i.$F=false;i.$D=false;i.$m=1;i.$e=1;i.$j=false;i.$k=false;i.$l=false;i.$L=false;i.$J=false;i.$1();$(i.detectBrowserSupport);i.$d(L).call(null,'Set');i.$d(K).call(null,'Map')})();(function(){O.global=O.getLoggerWithName('global');O.loggerLevelNames=[];O.$5=':log';O.loggerLevelNames[0]='all';O.loggerLevelNames[1]='debug';O.loggerLevelNames[2]='info';O.loggerLevelNames[3]='warn';O.loggerLevelNames[4]='error';O.loggerLevelNames[5]='off'})();(function(){u.epsilon=Math.pow(2,-52);u.$4=1+u.epsilon;u.$5=u.$4;u.$3=1/u.$4;u.$1=9.22337203685477E+18;u.$2=-9.22337203685477E+18})();(function(){m.$0=null})();(function(){bw.ExportDialogType=null;var e={};e['ExportImage']=ss.mkdict(['title',tab.Strings.ExportImageDialogTitle,'mimeType','image/png','message',tab.Strings.ExportImageDialogMessage]);e['ExportData']=ss.mkdict(['title',tab.Strings.ExportDataDialogTitle,'mimeType','text/csv','message',tab.Strings.ExportDataDialogMessage]);e['ExportCrosstab']=ss.mkdict(['title',tab.Strings.ExportCrosstabDialogTitle,'message',tab.Strings.ExportCrosstabDialogMessage]);e['PrintPDF']=ss.mkdict(['title',tab.Strings.PrintPdfDialogTitle,'mimeType','application/pdf','message',tab.Strings.PrintPdfDialogMessage,'noping',true]);bw.ExportDialogType=e})();(function(){p.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();p.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();p.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();p.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();p.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();p.$5=86400000})();(function(){Z.suppressAlerts=false})();(function(){s.$6='data-tab-test-wait';s.$7=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1]);s.$8=1})();(function(){v.$j='?';v.$s=false;v.$r=true;v.$k=true;v.$l=false;v.$n=null;v.$m=null;v.$h={};v.$q=[];v.$p=false;v.$o=null;v.$g=new RegExp('^(eval@)?(\\[native code\\])?$');v.$d=new RegExp('^\\s*at .*(\\S+\\:\\d+|\\(native\\))','m');v.$i=new RegExp('(\\(eval at [^\\()]*)|(\\)\\,.*$)');v.$e=new RegExp('(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$');v.$f=new RegExp('[\\(\\)]','g')})();(function(){w.$0=null})();(function(){y.$a=null;y.$5=null;y.$7=null;y.$9=null;y.$c=null;y.$d=null;y.$4=null;y.$6=null;y.$8=null;y.$b=null;{y.$a=O.lazyGetLogger(y);y.$5=[];y.$7=[];y.$9=[];y.$c=[];y.$d={};y.$4={};y.$6={};y.$8={};y.$b={}}y.$1(':newfilter',4,false);y.$1(':fieldconversion',5,true);y.$1(':newtoolbar',9,false);y.$1(':selectiontoolsmobile',23,true);y.$1(':mapssearchdebugalwaysshow',28,false);y.$1(':useleafletforgeosearch',19,false);y.$1(':aodragtoviz',31,false);y.$1(':gotomylocationbutton',32,true);y.$1(':designtint',33,false);y.$1(':newqfwolf',35,false);y.$1(':appearanceofblendingicons',36,true);y.$1(':outlinestampedshapes',38,false);y.$1(':catqfdropdown',40,false);y.$1(':offlinemode',41,false);y.$1(':opaquecanvas',42,true);y.$1(':logstorypointcachehits',43,false);y.$1(':debugtools',46,false);y.$1(':JavaScriptHighlighting',45,false);y.$2(':buttondelay',11);y.$2(':hoverdelay',12);y.$2(':maxtooltipwhitespace',18);y.$2(':datahlmaxitems',44);y.$2(':progloaddelay',39);y.$3(':instrumentobjects',47);y.$0()})();(function(){z.$6=null;z.$5=null;z.$4=null;z.$8=null;z.$7=null;z.$3='#centeringContainer';z.$1$1=null;z.$6=z.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);z.$5=z.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);z.$4=z.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);z.$8=z.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);z.$7=z.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);if(ss.isValue(z.$7)&&z.get_fullscreenEnabled()){document.addEventListener(z.$2().toString(),z.$1)}})();(function(){B.httpUnauthorizedCode=401;B.httpServiceUnavailable=503;B.httpInternalServerError=500})();(function(){R.touchEventSamplingRate=6;R.defaultWheelDeltaIncrement=120;R.minimumZoomLevelIncrement=0.25;R.maxWheelDelta=360;R.$1=480;R.$0=512})();(function(){T.$7=100;T.$8=400;T.$9=20;T.$6=250;T.$a=5;T.$4=250;T.$c=null;T.$b=null;T.$5=null;T.$d=null;T.$c={};T.$c['d']='DESC';T.$c['t']='TIME';T.$c['id']='ID';T.$c['sid']='SESSION_ID';T.$c['e']='ELAPSED';T.$c['v']='VALS';T.$c['wb']='WORKBOOK';T.$c['s']='SHEET_NAME';T.$c['p']='PROPS';T.$c['m']='MOBILE';T.$b={};T.$b['nav']='Navigation';T.$b['wps']='ProfileStart';T.$b['wp']='ProfileEnd';T.$b['gen']='Generic';T.$b['init']='SessionInit';T.$5=ss.mkdict(['BTSTRP','Bootstrap Request','PROPRI','Process Primary Payload','PROSEC','Process Secondary Payload','MDLINI','Initialize Models','MDLEVT','Handle Model Events','EXELOC','Execute Local Command','EXEREM','Execute Remote Command','PROLOC','Process Local Command Response','PROREM','Process Remote Command Response','RNDRPT','Render Panetable','RNDRRG','Render Region','RTCONV','Runtime model presmodel conversion','CLNTLD','Client Loaded','APPSTR','Application Startup','APPINT','Application Interactive','ALLZNS','All Zones Loaded','TBRLAY','Toolbar Layout','TBRHNT','Toolbar HandleNewToolbar','TBRADD','Toolbar AddToolbar','TBRHRE','Toolbar HandleResize','MDLOAD','JavaScript Module loaded asynchronously'])})();(function(){V.$1=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];V.$0=null;var e=window;var bK=function(bL){_.defer(V.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',bK,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',bK)}})();(function(){X.trackedObjects={};X.$2=null})();(function(){Y.$2=null})();(function(){bn.$0=null})();(function(){bp.defaultCustomStyleElementId='tab-appendedCustomStyle';bp.$2=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');bp.$3={}})();(function(){bq.$0=null;bq.$0=new bq(0,0,1,0)})();(function(){bt.onlineHelpOrigin='http://www.tableau.com';bt.$3='/offline_help/{0}/help.htm#{1}'})();(function(){bu.$0=null})();(function(){bv.specialManyValues='%many-values%';bv.specialNull='%null%';bv.specialError='%error%';bv.specialRagged='%ragged%';bv.specialSkipped='%skipped%';bv.specialMissing='%missing%';bv.specialAll='%all%';bv.specialNoAccess='%no-access%';bv.specialWildcard='%wildcard%';bv.millisPerDay=86400000;bv.$D=15;bv.$C=6;bv.$F=1E+15;bv.$E=1000000;bv.$G=0.0001;bv.$Q=9;bv.$A=46;bv.$H=45;bv.$R=48;bv.$B=53;bv.$P=57;bv.$N=0;bv.$I=1;bv.nfUseSeparators=2;bv.$L=3;bv.$M=4;bv.$O=5;bv.$K=6;bv.$J=7;bv.nfGroupSeparatorChars=8;bv.nfGroupingSpec=9;bv.$13=['automatic','parenthesis','outerPrefix','outerSuffix','innerPrefix','innerSuffix'];bv.$10={};bv.$11={};bv.$12={};bv.$18=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');bv.$W=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');bv.$19=new RegExp('(\\\\[:.]s+)');bv.$1c=new RegExp('(t+)','g');bv.$14=new RegExp('([yYmMdDhnswq]+)','g');bv.$1a=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');bv.$15=new RegExp('\\s','g');bv.$U=new RegExp('(^|d)([^h]*)(h|$)','gi');bv.$V=new RegExp('h([^d]*)(d|$)','gi');bv.$S=new RegExp('^(a|a\\.?m\\.?||\\.?\\.?|)$','i');bv.$16=new RegExp('^(p|p\\.?m\\.?||\\.?\\.?|)$','i');bv.$17=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');bv.$Z=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);bv.$X={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};bv.$T=ss.mkdict(['t','t','v',bw.OleDateFromJsDate(Date.UTC(1918,10,11,11,11,0))]);bv.$1b=null;bv.$Y=ss.mkdict(['','0','','1','','2','','3','','4','','5','','6','','7','','8','','9','','-','','.','','.']);bv.$10.format='yyyy-mm-dd';bv.$10.timeFormat='hh:nn';bv.$11.format='yyyy-mm-ddThh:nn';bv.$12.format='hh:nn';bv.$1b=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){if(i.get_isMac()){$(document).addClass('tb_mac')}})();(function(){by.CFS_ALL='all';by.CFS_SINGLE='single-select';by.CFS_MULTIPLE='multi-select'})();(function(){bz.CFT_INCLUSIVE='include';bz.CFT_EXCLUSIVE='exclude'})();(function(){bA.DS_NORMAL=null;bA.DS_NULL='n';bA.DS_ALL='a';bA.DS_WILDCARD='w';bA.DS_SKIPPED='s';bA.DS_NOACCESS='p';bA.DS_RAGGED='r';bA.DS_ERROR='e';bA.DS_MISSING='m'})();(function(){bC.FT_QUANTITATIVE='Q';bC.FT_ORDINAL='O';bC.FT_NOMINAL='N';bC.FT_UNKNOWN=null})();(function(){bD.HFS_SINGLE='single-select';bD.HFS_MULTIPLE='multi-select'})();(function(){bE.QFD_ALL='all';bE.QFD_CONTEXT='context';bE.QFD_RELEVANT='relevant'})();(function(){bF.QFF_FIXED_START='start';bF.QFF_FIXED_END='end'})();(function(){bG.QFI_ALL='include-all';bG.QFI_NON_NULL='include-non-null';bG.QFI_NULL_ONLY='include-null';bG.QFI_RANGE='include-range';bG.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){bH.table='t';bH.legend='l';bH.filter='f';bH.currentPage='p';bH.title='i';bH.text='x';bH.bitmap='b';bH.web='w';bH.draw='d';bH.textBlock='k';bH.layoutContainer='c';bH.parameter='a'})()})()}());;
/*! BEGIN Domain */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=function(){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(0);this.$3(0);this.$5(0);this.$7(0)};b.__typeName='tab.$0';b.$0=function(e,ex,iw,ix){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(e);this.$3(ex);this.$5(iw);this.$7(ix)};var c=function(e,ex){this.$1$1=0;this.$1$2=0;this.$3(e);this.$1(ex)};c.__typeName='tab.$1';var d=function(e,ex,iw){this.$2=null;this.$0=null;this.$1=null;this.$2=e;this.$0=ex;this.$1=iw};d.__typeName='tab.$10';var f=function(){};f.__typeName='tab.$11';f.$2=function(e){return function(ex,iw,ix){var iy=$.Deferred();var iz=hR.createRequest(ex,iw.$2(),function(){},function(){});iz.success=function(iA,iB,iC){gx.onVizportalPinged();var iD=hR.$3(iA);if(hR.$5(iD)){iy.reject();return}var iE=ix(iD);iy.resolve(iE)};iq.helper(iz);return iy.promise()}};f.$3=function(e){return function(ex,iw){var ix=iw(ex);var iy=ex['moreItems'].toString().toLowerCase()==='true';return{items:ix,moreItems:iy}}};f.$0=function(e){return function(ex,iw,ix,iy){var iz=f.$2(e).call(null,ex,iw,ix);iz.done(function(iA){if(!iA.moreItems){iy();return}iw.$1(iw.$0()+iA.items.length);f.$0(e).call(null,ex,iw,ix,iy)});iz.fail(iy)}};f.$1=function(e){return function(ex,iw,ix,iy,iz){var iA=f.$2(e).call(null,ex,iw,ix);iA.done(function(iB){if(!iB.moreItems){iy();return}iw.$1(iw.$0()+iB.items.length);f.$1(e).call(null,ex,iw,ix,iy,iz)});iA.fail(iz)}};var g=function(){};g.__typeName='tab.$12';g.isInstanceOfType=function(){return true};var h=function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]};h.__typeName='tab.$13';h.$1=function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=ex};h.$0=function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty(e)?e:[{field:'name',ascending:true}]);this.$3=ex};var i=function(e,ex){var iw=function(ix,iy){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(ex);this.$0=ix;this.$1=iy};ss.registerGenericClassInstance(iw,i,[e,ex],{},function(){return null},function(){return[]});return iw};i.__typeName='tab.$14';ss.initGenericClass(i,a,2);var j=function(e){var ex=function(iw){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=iw};ss.registerGenericClassInstance(ex,j,[e],{},function(){return null},function(){return[]});return ex};j.__typeName='tab.$15';ss.initGenericClass(j,a,1);var k=function(e){var ex=function(){this.$2=null;this.$3=null};ss.registerGenericClassInstance(ex,k,[e],{$0:function(iw){var ix=this.$2;this.$2=iw;iw.$1=ix;iw.$2=null;if(ss.isValue(ix)){ix.$2=iw}if(ss.isNullOrUndefined(this.$3)){this.$3=iw}},$1:function(iw){if(ss.referenceEquals(this.$2,iw)){this.$2=iw.$1}if(ss.referenceEquals(this.$3,iw)){this.$3=iw.$2}if(ss.isValue(iw.$2)){iw.$2.$1=iw.$1}if(ss.isValue(iw.$1)){iw.$1.$2=iw.$2}}},function(){return null},function(){return[]});return ex};k.__typeName='tab.$16';ss.initGenericClass(k,a,1);var l=function(e){eQ.call(this,e,new fx('sizeItemList'.toString()))};l.__typeName='tab.$17';var m=function(e){eQ.call(this,e,new fx('sizeItems'.toString(),1))};m.__typeName='tab.$18';var n=function(e){eQ.call(this,e,new fx('sheetListItems'.toString(),1))};n.__typeName='tab.$19';var o=function(e,ex,iw,ix){bs.call(this,'none',e,ex,iw,ix)};o.__typeName='tab.$2';var p=function(){};p.__typeName='tab.$20';var q=function(){this.$4=null;this.$4=[]};q.__typeName='tab.$21';var r=function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex};r.__typeName='tab.$22';var s=function(){};s.__typeName='tab.$23';s.$0=function(e,ex,iw){var ix=new Set;for(var iy=0;iy<ex.length;iy++){var iz=ex[iy];if(ss.contains(iz.sourceWorksheets,e)&&s.$1(iz,iw)){tab.SetUtilities.addAll(Object).call(null,ix,iz.targetWorksheets)}}return ix};s.$1=function(e,ex){var iw=bK.deserialize(gV.create(e.simpleCommandModel).get_simpleCommand(),true);if(ss.isNullOrUndefined(ex)||W.isSpecialDateTimeHighlighting(iw)){return true}var ix=W.getHighlightFieldCaptions(iw,ex.get_highlightCaptions(),ex.get_fieldCaptions());return!tab.MiscUtil.isNullOrEmpty$2(ix)};var t=function(){};t.__typeName='tab.$24';var u=function(){};u.__typeName='tab.$25';var v=function(e){this.$9=null;this.$a=new Map;this.$8=[];this.$7=false;this.$9=e};v.__typeName='tab.$26';v.$0=function(e,ex){var iw=new Array(e.length);for(var ix=0;ix<e.length;++ix){iw[ix]={item1:e[ix],item2:ex[ix]}}iw.sort(function(iy,iz){return iy.item1-iz.item1});return iw};v.$1=function(e,ex){var iw;if(ex.length===1||ss.isNullOrUndefined(e)){iw=ex}else{iw=_.sortBy(ex,function(ix,iy){return e[iy]})}return iw};var w=function(){};w.__typeName='tab.$27';var x=function(){};x.__typeName='tab.$28';x.$e=function(){return tab.Logger.lazyGetLogger(gl)};x.$2=function(e,ex,iw,ix,iy){var iz=x.$4(ix,iy);var iA=new v(iy);if(ss.isNullOrUndefined(iz)){return iA}var iB=new Array(iy.length);for(var iC=0;iC<iB.length;++iC){var iD=ix.getColumnIndex(iy[iC]);iB[iC]=iD}var iE={};for(var iF=0;iF<iw.length;iF++){var iG=iw[iF];var iH=e.getItemNamesFromObjectId(iG);if(ss.isNullOrUndefined(iH)){continue}var iI=true;var iJ=[];for(var iK=0;iK<iH.length;iK++){var iL=ex[iK];var iM=iz[iL];if(ss.isNullOrUndefined(iM)){continue}iE[iL]=iE[iL]||hO.buildAliasReverseLookup(ix,iM,R.get_instance().get_dataDictionary());var iN=iE[iL];var iO=iN[iH[iK]];if(!ss.isValue(iO)){iI=false;break}iJ.push(iO)}if(iI){iA.$0(iJ,iB)}}return iA};x.$1=function(e,ex){var iw={};for(var ix=0;ix<ex.length;ix++){var iy=ex[ix];var iz=new Array(iy.columnIndices.length);for(var iA=0;iA<iz.length;iA++){var iB=e.getVizDataFieldByIndex(iy.columnIndices[iA]);iz[iA]=iB.get_fieldName()}var iC=iz.join(';');var iD;if(ss.keyExists(iw,iC)){iD=iw[iC]}else{iD=new v(iz);iw[iC]=iD}iD.$0(iy.aliasIndices,iy.columnIndices)}return _.map(iw,function(iE,iF){return iE})};x.$c=function(e,ex){var iw=[];for(var ix=0;ix<ex.length;ix++){var iy=ex[ix];if(ss.isNullOrUndefined(iy.node)){continue}var iz=iy.node;if(ss.isValue(iz.columnIndices)){for(var iA=0;iA<iz.columnIndices.length;iA++){var iB=iz.columnIndices[iA];var iC=e.get_vizDataModel().getVizDataFieldByIndex(iB);var iD=iC.get_fieldCaption();if(!ss.contains(iw,iD)){iw.push(iD)}}}if(ss.isValue(iz.fn)){var iE=e.get_vizDataModel().getVizDataField(iz.fn);var iF=iE.get_fieldCaption();if(!ss.contains(iw,iF)){iw.push(iF)}}}return Array.prototype.slice.call(iw)};x.$3=function(e,ex,iw){var ix=new v(iw);var iy=x.$4(e,iw);if(ss.isNullOrUndefined(iy)){return ix}for(var iz=0;iz<ex.length;iz++){var iA=ex[iz];var iB=[];var iC=[];for(var iD=0;iD<iw.length;iD++){var iE=iw[iD];var iF=iy[iE];var iG=iF.getAliasIndex(iA);iB.push(iG);iC.push(e.getColumnIndex(iE))}if(iB.length!==iw.length){}ix.$0(iB,iC)}return ix};x.$0=function(e,ex,iw,ix){var iy=[];var iz={};var iA=false;e.forEachVizDataField(function(iT,iU){if(x.$d(iT)){var iV=iT.get_aggType()||'none';iz[iV]=iU;if(iV==='none'){iA=true}}return true});var iB=true;var iC=null;ex.forEachVizDataField(function(iT,iU){if(x.$d(iT)){if(ss.isNullOrUndefined(iC)){iC=iT.get_baseColumnName()}else if(!ss.referenceEquals(iC,iT.get_baseColumnName())){iB=false}}return true});var iD=[];if(iB){var iE=[];ex.forEachVizDataField(function(iT,iU){if(x.$d(iT)){var iV=iT.get_aggType()||'none';if(!iA&&iV==='none'){var iW=ss.getEnumerator(Object.keys(iz));try{while(iW.moveNext()){var iX=iW.current();if(!ss.contains(iE,iX)){iE.push(iX);var iY=iz[iX];iy.push(new y(iY,iU,iX,'none'));var iZ=e.getVizDataFieldByIndex(iY);iD.push(iZ)}}}finally{iW.dispose()}}else if(ss.keyExists(iz,iV)){if(!ss.contains(iE,iV)){iE.push(iV);var ja=iz[iV];iy.push(new y(ja,iU,'none','none'));iD.push(iT)}}else if(iA){var jb=iz['none'];iy.push(new y(jb,iU,'none',iV));iD.push(iT)}}return true})}var iF=new Array(iD.length);for(var iG=0;iG<iD.length;iG++){var iH=iD[iG];iF.push(iH.get_fieldCaption())}var iI=new v(iF);for(var iJ=0;iJ<ix.length;iJ++){var iK=ix[iJ];var iL=[];var iM=[];for(var iN=0;iN<iy.length;iN++){var iO=iy[iN];var iP=e.getVizDataFieldByIndex(iO.$3);var iQ=iP.getDataValueIndex(iK);if(ss.isValue(iQ)){var iR=iw.getRawValue(iP.get_dataType(),ss.unbox(iQ));var iS=x.$5(iR,iO.$2,iO.$0,ss.unbox(iQ));iL.push(iS);iM.push(iO.$3)}}iI.$0(iL,iM)}return{item1:iI,item2:iy}};x.$b=function(e,ex,iw,ix){var iy=[];if(ss.isNullOrUndefined(iw)||e.$5()){return iy}iw.forEachTupleId(function(iz){var iA=[];var iB=[];for(var iC=0;iC<ex.length;iC++){var iD=ex[iC];var iE=iw.getVizDataFieldByIndex(iD.$1);var iF=iE.getDataValueIndex(iz);if(ss.isValue(iF)){var iG=ix.getRawValue(iE.get_dataType(),ss.unbox(iF));var iH=x.$5(iG,iD.$0,iD.$2,ss.unbox(iF));iA.push(iH);iB.push(iD.$1)}}if(e.$1(iB,iA)){iy.push(iz)}return true});return iy};x.$a=function(e,ex){var iw=[];if(ss.isNullOrUndefined(ex)||e.$5()){return iw}var ix=e.$4();var iy=x.$4(ex,ix);if(ss.isNullOrUndefined(iy)){return iw}if(!ex.get_hasTupleIdColumn()){return iw}var iz=new Array(ix.length);for(var iA=0;iA<ix.length;iA++){iz[iA]=ex.getColumnIndex(ix[iA])}ex.forEachTupleId(function(iB){var iC=new Array(ix.length);for(var iD=0;iD<ix.length;iD++){var iE=ix[iD];var iF=iy[iE];var iG=iF.getAliasIndex(iB);iC[iD]=iG}if(e.$1(iz,iC)){iw.push(iB)}return true});return iw};x.$9=function(e,ex,iw){var ix=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(iw)||ex.$5()){return ix}var iy=ex.$4();var iz=null;for(var iA=0;iA<e.panes.length;iA++){var iB=e.panes[iA];for(var iC=0;iC<iB.drawPane.length;iC++){var iD=iB.drawPane[iC];if(iD.visualPart==='trend-lines'){for(var iE=0;iE<iD.drawItems.length;iE++){var iF=iD.drawItems[iE];if(iF.type==='draw-group'){iz=new Array(iy.length);for(var iG=0;iG<iy.length;iG++){iz[iG]=iw.getColumnIndex(iy[iG])}var iH=iF;var iI={};if(ss.isValue(iH.columnIndices)){for(var iJ=0;iJ<iH.columnIndices.length;iJ++){iI[iH.columnIndices[iJ]]=iH.aliasIndices[iJ]}}var iK=new Array(iy.length);for(var iL=0;iL<iy.length;iL++){if(ss.keyExists(iI,iz[iL])){iK[iL]=iI[iz[iL]]}else{iK[iL]=null}}if(ex.$1(iz,iK)){ix.push(iH.objectId)}}}}}}return ix};x.$4=function(e,ex){var iw={};for(var ix=0;ix<ex.length;ix++){var iy=ex[ix];var iz=e.getVizDataField(iy);if(ss.isNullOrUndefined(iz)){return null}iw[iy]=iz}return iw};x.$6=function(e,ex,iw){var ix=[];if(ss.isNullOrUndefined(ex)||iw.get_fieldCaptions().length!==e.$4().length){return ix}var iy=e.$4();var iz=iw.get_fieldCaptions();var iA=[];for(var iB=0;iB<iz.length;iB++){var iC=iz[iB];var iD=ss.indexOf(iy,iC);if(iD===-1){return ix}iA.push(iD)}var iE=R.get_instance().get_dataDictionary();var iF={};var iG={};var iH=[];var iI=e.$6();for(var iJ=0;iJ<iI.length;iJ++){var iK=iI[iJ];var iL=true;iH.length=iK.length;for(var iM=0;iM<iH.length;iM++){var iN=iA[iM];var iO=iK[iN];if(!ss.isValue(iO)){iL=false;break}var iP=iz[iM];iF[iP]=iF[iP]||ex.getVizDataField(iP);var iQ=iF[iP];iH[iM]=hO.lookupAliasFromIndex(iO,iQ,iE)}if(iL){iG[iH.join(',')]=true}}var iR=iw.get_items();for(var iS=0;iS<iR.length;iS++){var iT=iR[iS];if(iG[iT.itemValues.join(',')]===true){ix.push(iT.objectId)}}return ix};x.$7=function(e,ex,iw){var ix=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return ix}var iy=e.$4();for(var iz=0;iz<iw.length;iz++){var iA=iw[iz];if(ss.isNullOrUndefined(iA.node.columnIndices)||ss.isNullOrUndefined(iA.node.aliasIndices)||iA.node.aliasIndices.length<iy.length){continue}var iB=[];var iC=[];var iD=false;for(var iE=0;iE<iA.node.columnIndices.length;++iE){var iF=iA.node.columnIndices[iE];var iG=ex.get_vizDataModel().getVizDataFieldByIndex(iF).get_fieldCaption();if(ss.isValue(iG)&&ss.contains(iy,iG)){iB.push(iF);iC.push(iA.node.aliasIndices[iE]);if(iE===0){iD=true}}}if(iD&&e.$1(iB,iC)){var iH=gr.nodeSelectionFromDrawGroup(iA);ix.push(iH)}}return ix};x.$8=function(e,ex,iw,ix){var iy=[];if(ss.isNullOrUndefined(iw.get_vizDataModel())){return iy}var iz=new ss.ObjectEnumerator(iw.get_sceneModel().get_visualListModels());try{while(iz.moveNext()){var iA=iz.current();var iB=iA.value.get_groupItemNodes();for(var iC=0;iC<iB.length;iC++){var iD=iB[iC];if(ss.isNullOrUndefined(iD.node.columnIndices)||ss.isNullOrUndefined(iD.node.aliasIndices)||!tab.MiscUtil.isNullOrEmpty$3(iD.node.fn)){continue}var iE=[];for(var iF=0;iF<iD.node.columnIndices.length;++iF){var iG={$:iD.node.columnIndices[iF]};var iH=_.find(ex,ss.mkdel({nodeColIndex:iG},function(iM){return iM.$1===this.nodeColIndex.$}));if(ss.isValue(iH)){var iI=iD.node.aliasIndices[iF];var iJ=iw.get_vizDataModel().getVizDataFieldByIndex(iH.$1);var iK=ix.getRawValue(iJ.get_dataType(),iI);if(ss.isValue(iK)){var iL=x.$5(iK,iH.$0,iH.$2,iI);iE.push(iL)}}}if(iE.length===iD.node.aliasIndices.length){if(e.$1(iD.node.columnIndices,iE)){iy.push(gr.nodeSelectionFromDrawGroup(iD))}}}}}finally{iz.dispose()}return iy};x.$d=function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.get_dataType();if(ex==='datetime'||ex==='date'){return true}var iw=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(iw,e.get_aggType())};x.$5=function(e,ex,iw,ix){if(_.isNumber(e)){return e}var iy=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var iz=ix;if(ex==='none'&&iw!=='none'){switch(iw){case'year':{iz=tab.DateUtil.dateAsYear(iy);break}case'qtr':{iz=tab.DateUtil.dateAsQuarter(iy);break}case'month':{iz=tab.DateUtil.dateAsMonth(iy);break}case'day':{iz=tab.DateUtil.dateAsDay(iy);break}case'hour':{iz=tab.DateUtil.dateTimeAsHour(iy);break}case'minute':{iz=tab.DateUtil.dateTimeAsMinute(iy);break}case'second':{iz=tab.DateUtil.dateTimeAsSecond(iy);break}case'week':{iz=tab.DateUtil.dateAsWeek(iy);break}case'weekday':{iz=tab.DateUtil.dateAsDayOfWeek(iy);break}case'month-year':{iz=tab.DateUtil.dateAsMonthYear(iy);break}case'mdy':{iz=tab.DateUtil.dateAsMonthDayYear(iy);break}}if(ss.isNullOrUndefined(iz)){}}return iz};var y=function(e,ex,iw,ix){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=ex;this.$2=iw||'none';this.$0=ix||'none'};y.__typeName='tab.$29';var z=function(e){this.$7=null;this.$5=0;this.$6=null;this.$1$1=null;this.$1$2=null;this.$7=e;this.$5=0;this.$6=[]};z.__typeName='tab.$3';var A=function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.dashboardPresModel)){return}var ex={};var iw=this.$2.dashboardPresModel.zones;var ix=_.keys(this.$2.dashboardPresModel.zones);for(var iy=0,iz=ix.length;iy<iz;iy++){var iA=ix[iy];var iB=iw[iA];if(ss.isNullOrUndefined(iB)||ss.isValue(iu.getContent(iB,'imageZone'))){ex[iA]=null}else{ex[iA]=iB.presModelHolder}}this.$1=ex};A.__typeName='tab.$30';var B=function(){};B.__typeName='tab.$4';var C=function(e,ex,iw,ix,iy){this.$4=null;this.$5=null;this.$e=0;this.$9=0;this.$a=0;this.$b=null;this.$d=null;this.$c=null;this.$7=0;this.$f=null;this.$8=0;this.$6=false;this.$1$1=null;this.$4=e;this.$5=ex;this.$e=iw;this.$a=ss.coalesce(ix,1);this.$9=ss.coalesce(iy,35)};C.__typeName='tab.$5';var D=function(e){bs.call(this,'none',e,null)};D.__typeName='tab.$6';var E=function(e){hJ.call(this,e);this.c=true};E.__typeName='tab.$7';var F=function(e){this.$5=null;this.$1$1=0;this.$5=e};F.__typeName='tab.$8';var G=function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=R.get_instance().get_workbook();this.$1(e.get_isCurrentSheetStoryboard()&&ss.isValue(e.get_storyboard().get_flipboard()));if(this.$0()){this.$3(e.get_storyboard().get_sheetName());this.$5(e.get_storyboard().get_flipboard().get_currentStoryPointId())}};G.__typeName='tab.$9';var H=function(e,ex,iw,ix,iy,iz){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;fG.call(this);if(ss.isNullOrUndefined(iy)&&ss.isValue(iz)){iy=iw;iz=ix}this.$7=e;this.$3=iw;this.$5=ix;this.$4=iy;this.$6=iz;var iA=ex;var iB=iy;var iC=iz;var iD=iz/iy;this.$0=(iC-iD*iB-iA+iD)/(-(iB*iB)+2*iB-1);this.$1=iD-2*this.$0*iB;this.$2=iA-iD+this.$0*(2*iB-1)};H.__typeName='tab.AcceleratingRangeTransform';global.tab.AcceleratingRangeTransform=H;var I=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};I.__typeName='tab.AckbarEventsHelper';I.get=function(){if(ss.isNullOrUndefined(I.instance)){I.instance=new I}return I.instance};global.tab.AckbarEventsHelper=I;var J=function(){};J.__typeName='tab.ActionType';global.tab.ActionType=J;var K=function(){};K.__typeName='tab.ActionUtils';K.$c=function(){return tab.Logger.lazyGetLogger(K)};K.isVizSourceOfAction=function(e,ex){return _.any(e.sourceWorksheets,function(iw){return ss.referenceEquals(iw,ex)})};K.isTargetOfActionLocal=function(e){var ex=eT.getVisualModels(R.get_instance());for(var iw=0;iw<e.targetWorksheets.length;iw++){var ix=e.targetWorksheets[iw];if(ss.keyExists(ex,ix)){return true}}return false};K.isFilterAction=function(e){return ss.isValue(e.simpleCommandModel)&&ss.startsWithString(e.simpleCommandModel['simpleCommand'.toString()],'tabdoc:filter-targets')};K.isHighlightAction=function(e){return ss.isValue(e.simpleCommandModel)&&ss.startsWithString(e.simpleCommandModel['simpleCommand'.toString()],'tabdoc:highlight')};K.isFilterSource=function(e,ex){var iw=e.pm;var ix=iw.userActions;for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(!K.isVizSourceOfAction(iz,ex)){continue}if(iz.activation!=='on-select'){continue}if(ss.isNullOrUndefined(iz.simpleCommandModel)){continue}var iA=ss.replaceAllString(iz.simpleCommandModel['simpleCommand'.toString()],'simpleCommand=','');var iB=bK.deserialize(iA,true);if(!ss.referenceEquals(iB.commandName,'filter-targets'.toString())){continue}var iC=iz.targetWorksheets;if(iC.length===0){continue}return true}return false};K.getApplicableActions=function(e,ex,iw){var ix=R.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var iy=K.$7(ix,e,ex);if(ss.isValue(iw)){iy=_.filter(iy,K.$4(ss.unbox(iw)))}iy=_.filter(iy,K.$6());return iy};K.$4=function(e){return function(ex){return K.getActionType(ex)===e}};K.$6=function(){return function(e){return K.getActionType(e)==='url'||ss.isValue(e.targetUrl)||e.targetWorksheets.length>0}};K.couldSheetFilterActionsModifyItself=function(e){var ex=K.getApplicableActions(e,'on-select','filter');var iw=K.$b(ex);var ix=iw&&K.$5(ex,e);return ix};K.shouldFilterOnSelection=function(e){var ex=K.getApplicableActions(e,'on-select','filter');return K.$b(ex)};K.$b=function(e){return e.length>0&&!R.get_instance().get_isOffline()};K.$5=function(e,ex){for(var iw=0;iw<e.length;iw++){var ix=e[iw];for(var iy=0;iy<ix.targetWorksheets.length;iy++){var iz=ix.targetWorksheets[iy];if(ss.referenceEquals(iz,ex)){return true}}}return false};K.executeActions=function(e,ex,iw,ix,iy){var iz=K.getApplicableActions(e,ex,'filter');var iA=K.getApplicableActions(e,ex,'highlight');var iB=K.getApplicableActions(e,ex,'url');var iC=eT.getVisualModel(R.get_instance(),e);if(ss.isValue(iw)){if(iB.length>0&&iw.length>0){K.$3(iB,iw,iC)}if(iA.length>0){if(iw.length>0){K.$2(iA,iw,iC,ix)}else{K.$a(ix)}}else if(ss.isValue(iy)&&iy){K.$2(iA,iw,iC,ix)}}if(iz.length>0){K.$1(e,iz,iw,ix,iC)}};K.executeAction=function(e,ex,iw,ix){if(!ss.isValue(e)){return}var iy=[e];if(!ss.isNullOrUndefined(e.linkSpec)){K.$3(iy,ex,iw)}else if(true){K.$2(iy,ex,iw,ix)}else{}};K.getActionType=function(e){if(ss.isValue(e.simpleCommandModel)){var ex=bK.deserialize(e.simpleCommandModel['simpleCommand'.toString()],true);if(ss.referenceEquals(ex.commandName,'highlight'.toString())){return'highlight'}if(ss.referenceEquals(ex.commandName,'filter-targets'.toString())){return'filter'}return null}if(ss.isValue(e.linkSpec)){return'url'}return null};K.willActionCauseTabChange=function(e,ex){if(R.get_instance().get_isOffline()){return false}var iw=K.getApplicableActions(e,ex,'filter');for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(ss.isValue(iy.simpleCommandModel)){var iz=bK.deserialize(iy.simpleCommandModel['simpleCommand'.toString()],true);var iA=iz.commandParams['targetSheet'];if(ss.isValue(iA)&&!_.isEqual(iA,tsConfig.current_sheet_name)){return true}}}return false};K.getUrlActionPm=function(e,ex,iw){if(ss.isValue(iw)&&!ss.isNullOrUndefined(e.linkSpec)){var ix=ex.get_vizDataModel();var iy=R.get_instance().get_dataDictionary();var iz=hQ.constructUrl(iy,e.linkSpec,ix,iw,ex.get_worksheetName());return{item1:K.$0(iz),item2:iz.item2}}return{item1:null,item2:'urlConstructionFail'}};K.$0=function(e){if(e.item2!=='success'){return null}var ex={url:e.item1};var iw=eT.getFirstAvailableWebZoneName(R.get_instance());if(ss.isValue(iw)){ex.target=iw}return ex};K.$2=function(e,ex,iw,ix){var iy=W.computeFromTuples(iw,ex,e);gl.$f(iy,ix)};K.$a=function(e){gl.$2(e)};K.$3=function(e,ex,iw){if(ss.isValue(ex)&&ex.length>0){var ix=[];for(var iy=0;iy<e.length;iy++){var iz=e[iy];var iA=K.getUrlActionPm(iz,iw,ex).item1;if(ss.isValue(iA)){ix.push(iA)}else{by.fireDeferredUrlActions=true;return}}if(ix.length>0){by.get().delayLocalUrlActions(ix)}}};K.$1=function(e,ex,iw,ix,iy){if(R.get_instance().get_isOffline()){return}if(ss.isValue(ex)){var iz=K.$8(ex);if(iz.length>0){var iA=eT.getSheetInfoPresModel(R.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(iA)&&!(iA.isDashboard&&ss.isNullOrUndefined(iA.namesOfSubsheets))){var iB=!iA.isDashboard||iA.namesOfSubsheets.length===1;for(var iC=0;iC<iz.length;iC++){var iD=iz[iC];if(iB||!ss.referenceEquals(iD.get_worksheetName(),e)){eT.setVisualValidStateOnPresModel(ix,iD)}}}}if(iw.length>0){var iE=[];for(var iF=0;iF<ex.length;iF++){var iG=ex[iF];if((iw.length===1||!iG.singleSelectOnly)&&ss.isValue(iG.targetUrl)){var iH={};var iI=iG.targetUrl+'&:exclude='+by.get().get_legacySession().railsEncode(e);var iJ=iy.get_vizDataModel();var iK=R.get_instance().get_dataDictionary();iH.url=hQ.constructUrlForFilterActionFromTargetURL(iK,iI,iG.linkSpec,iJ,iw);iE.push(iH)}}if(iE.length>0){by.get().delayLocalUrlActions(iE)}}}};K.$8=function(e){var ex={};if(ss.isValue(e)){for(var iw=0;iw<e.length;iw++){var ix=e[iw];for(var iy=0;iy<ix.targetWorksheets.length;iy++){var iz=ix.targetWorksheets[iy];var iA=eT.getVisualModel(R.get_instance(),iz);if(ss.isValue(iA)){ex[iz]=iA}}}}var iB=[];var iC=new ss.ObjectEnumerator(ex);try{while(iC.moveNext()){var iD=iC.current();iB.push(iD.value)}}finally{iC.dispose()}return iB};K.$9=function(e){if(!K.$e){K.$e=true;var ex=tsConfig.schemeWhitelist.split(',');for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];var iy=ix.toLowerCase().trim();if(!ss.endsWithString(iy,':')){iy+=':'}if(iy.length>1){K.$f.push(iy)}}}var iz=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var iA=iz.exec(e);if(!ss.isValue(iA)){return true}var iB=iA[0].toLowerCase();return ss.contains(K.$f,iB)};K.$7=function(e,ex,iw){var ix=_.filter(e,function(iy){var iz=ss.contains(iy.sourceWorksheets,ex);var iA=!ss.isValue(iw)||ss.unbox(iw)===iy.activation;return iz&&iA});return ix};K.launchActionUrls=function(e,iw){var ix=[];var iy={};if(ss.isNullOrUndefined(e)||e.length===0){return}if(ss.isValue(T.linkTarget)&&T.linkTarget.length>0){var iz=T.linkTarget;ix.push({item1:iz,item2:false});iy[iz]=e[e.length-1].url}else{var iA=0;for(var iB=0;iB<e.length;iB++){var iC=e[iB];if(!K.$9(iC.url)){if(!K.$d){K.$d=true;iw.showAlertDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,true,null)}continue}if(ss.isNullOrUndefined(iC.target)||'t'in iC){iC.target=iC['t']}var iD;if(ss.isValue(iC.target)){iD={item1:iC.target,item2:true}}else{var iE='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(iA>0){iE+='_'+iA.toString()}iD={item1:iE,item2:false}}if(!ss.keyExists(iy,iD.item1)){ix.push(iD)}iy[iD.item1]=iC.url;iA++}}for(var iF=0;iF<ix.length;iF++){var iG=ix[iF];var iH=iG.item1;if(iG.item2){try{$('[name='+iH+']').prop('src',iy[iH])}catch(iI){}}else{try{window.open(iy[iH],iH)}catch(iI){var ex=ss.Exception.wrap(iI);tab.ErrorTrace.report(ex,false)}}}};global.tab.ActionUtils=K;var L=function(){ss.makeGenericType(S,[Object,M]).call(this)};L.__typeName='tab.AddDataServerDataSourceCmd';global.tab.AddDataServerDataSourceCmd=L;var M=function(e){this.$$c=null;this.$$c=e};M.__typeName='tab.AddDataServerDataSourceCmd$Response';global.tab.AddDataServerDataSourceCmd$Response=M;var N=function(){ss.makeGenericType(S,[Object,O]).call(this)};N.__typeName='tab.AddObjectToDashboardCmd';global.tab.AddObjectToDashboardCmd=N;var O=function(e){this.$$c=null;this.$$c=e};O.__typeName='tab.AddObjectToDashboardCmd$Response';global.tab.AddObjectToDashboardCmd$Response=O;var P=function(e){this.$2$1=null;eQ.call(this,e,new fx('analyticsPane'.toString()))};P.__typeName='tab.AnalyticsPaneModel';global.tab.AnalyticsPaneModel=P;var Q=function(){};Q.__typeName='tab.ApiClientCommands';Q.doApiCommand=function(e,ex,iw){by.SendCommand(fJ.create(e,'immediately',ex,iw))};global.tab.ApiClientCommands=Q;var R=function(){this.$a=null;this.$9={};this.$8={};this.$b=null;this.$d=null;this.$4=null;this.$7=null;this.$3=null;this.$c=null;this.$2=null;this.$5=null;this.$6=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;eQ.call(this,null,null);this.presModelKey=new fx('applicationPresModel'.toString());this.$b=new hr(this);this.$d=new id(this);this.$4=new bx(this);this.$7=new cx(this);this.$3=new bm(this,false);this.$c=new bm(this,true);this.$2=new bl(this);this.$5=new bQ(this);this.$a=new gH;this.$6=new cp(this);this.set_serverFonts(null)};R.__typeName='tab.ApplicationModel';R.get_instance=function(){if(ss.isNullOrUndefined(R._instance)){R._instance=new R}return R._instance};R.resetInstance=function(){R._instance=null};global.tab.ApplicationModel=R;var S=function(e,ex){var iw=function(){this.c={};this.$1$1=null;this.$1$2=false;this.$1$3=false;this.$1$4=null;this.$1$5=false;this.$1$6=null;this.$1$7=null;this.set_uiBlocking('none')};ss.registerGenericClassInstance(iw,S,[e,ex],{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(ix){this.$1$1=ix},get_deferSuccess:function(){return this.$1$2},set_deferSuccess:function(ix){this.$1$2=ix},get_deferFailure:function(){return this.$1$3},set_deferFailure:function(ix){this.$1$3=ix},get_localWork:function(){return this.$1$4},set_localWork:function(ix){this.$1$4=ix},get_noExceptionDialog:function(){return this.$1$5},set_noExceptionDialog:function(ix){this.$1$5=ix},get_commandDispatcher:function(){return this.$1$6},set_commandDispatcher:function(ix){this.$1$6=ix},get_remoteCommand:function(){return this.$1$7},set_remoteCommand:function(ix){this.$1$7=ix},invoke:null,invoke$1:function(ix){ix.noExceptionDialog=this.get_noExceptionDialog();ix.preserveRootResult=true;this.set_remoteCommand(ix);var iy=this.get_commandDispatcher()||cE.get_instance();return iy.dispatch(e,ex).call(iy,this)}},function(){return null},function(){return[]});return iw};S.__typeName='tab.BaseCmd$2';ss.initGenericClass(S,a,2);global.tab.BaseCmd$2=S;var T=function(e,ex){this.defaultSessionErrorHandler=null;this.$f=null;this.$g=null;this.$j=null;this.$i=null;this.$e=0;this.$h=null;this.fileDownloadHelper=null;tab.Param.verifyValue(ex,'commonDialogProvider');this.$f=ex;var iw=tabBootstrap.BaseUrlFormatter.formatBaseUrl();if(ss.isValue(e)){this.$j=e}else{this.$j=tabBootstrap.BaseUrlFormatter.formatUrlRoot(iw)}if(ss.isValue(tsConfig.site_root)){this.$i=tsConfig.site_root}else{this.$i=iw}this.defaultSessionErrorHandler=new cF(ex,e);if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){this.$g=new db([new cI,this.defaultSessionErrorHandler])}else{this.$g=new db([this.defaultSessionErrorHandler])}this.$e=0;this.$h={};this.fileDownloadHelper=new dl(ex,this)};T.__typeName='tab.BaseSession';T.add_stateChanged=function(e){T.$1$1=ss.delegateCombine(T.$1$1,e)};T.remove_stateChanged=function(e){T.$1$1=ss.delegateRemove(T.$1$1,e)};T.get_waitHandler=function(){if(ss.isNullOrUndefined(T.$3)){T.$3=new hX}return T.$3};T.fireStateChanged=function(e){if(ss.isValue(T.$1$1)){T.$1$1(e)}};global.tab.BaseSession=T;var U=function(e,ex,iw,ix){this.width=0;this.style=null;this.color=null;this.side=0;this.width=e;this.style=ex;this.color=iw;this.side=ix};U.__typeName='tab.BorderDefinition';U.borderStyleToCss=function(e){return ss.coalesce(U.$1[e],'none')};U.$0=function(){var e={};e['bs-none']='none';e['bs-hidden']='hidden';e['bs-dotted']='dotted';e['bs-dashed']='dashed';e['bs-solid']='solid';e['bs-double']='double';e['bs-groove']='groove';e['bs-ridge']='ridge';e['bs-inset']='inset';e['bs-outset']='outset';return e};global.tab.BorderDefinition=U;var V=function(){};V.__typeName='tab.BorderDefinition$BorderSide';global.tab.BorderDefinition$BorderSide=V;var W=function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true};W.__typeName='tab.BrushingComputer';W.$3=function(){return tab.Logger.lazyGetLogger(W)};W.createBrushingComputer=function(e,ex,iw,ix,iy){var iz=new W;var iA=ex.get_vizDataModel();var iB=x.$2(e,ix,iw,iA,ix);for(var iC=0;iC<ix.length;iC++){var iD=ix[iC];if(ex.vizDataContainsDuplicateCaption(iD)){iz.$1=false;return iz}}var iE;if(iy){iE=eT.getVisualModels(R.get_instance())}else{iE={};var iF=K.getApplicableActions(ex.get_worksheetName(),'on-select','highlight');for(var iG=0;iG<iF.length;iG++){var iH=iF[iG];if(ss.isNullOrUndefined(iH.targetWorksheets)){continue}for(var iI=0;iI<iH.targetWorksheets.length;iI++){var iJ=iH.targetWorksheets[iI];var iK=eT.getVisualModel(R.get_instance(),iJ);iE[iJ]=iK}}}var iL=eT.findContentDashboard();var iM=_.keys(iE);for(var iN=0;iN<iM.length;iN++){var iO=iM[iN];var iP=iE[iO];if(ss.isNullOrUndefined(iP)){continue}var iQ=iP.get_vizDataModel();iz.$5[iO]=x.$a(iB,iQ);iz.$4[iO]=x.$9(iP.get_scenePresModel(),iB,iQ);var iR=[];var iS=new ss.ObjectEnumerator(W.$2(iP));try{while(iS.moveNext()){var iT=iS.current();var iU=iT.value;var iV=x.$c(iP,iU);var iW=_.intersection(iV,ix);if(iW.length>0){var iX=x.$2(e,ix,iw,iA,iW);iR=iR.concat.apply(iR,x.$7(iX,iP,iU))}}}finally{iS.dispose()}iz.$3[iO]=iR;var iY=eT.getModelsForViz(bo).call(null,iL,iP);for(var iZ=0;iZ<iY.length;iZ++){var ja=iY[iZ];if(!ja.get_isHighlightEnabled()){continue}var jb=x.$6(iB,iQ,ja);if(!ss.keyExists(iz.$2,iP.get_worksheetName())){iz.$2[iP.get_worksheetName()]={}}iz.$2[iP.get_worksheetName()][W.$0(ja.get_legendTypeEnum(),ja.get_legendNames())]=jb}}return iz};W.getTuplesAssociatedWithSelectedNodes=function(e,ex){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(R.get_instance().get_dataDictionary())){return[]}var iw=[];for(var ix=0;ix<ex.length;ix++){var iy=ex[ix];if(gr.isCategoricalAndTupleAssociatedHeader(iy)){iw.push(iy)}}if(iw.length===0){return[]}var iz=x.$1(e.get_vizDataModel(),iw);var iA=W.$1(iz,e);return iA};W.computeFromTuples=function(e,ex,iw){var ix=new W;for(var iy=0;iy<iw.length;iy++){var iz=iw[iy];if(ss.isNullOrUndefined(iz.targetWorksheets)){continue}var iA=bK.deserialize(iz.simpleCommandModel['simpleCommand'.toString()],true);for(var iB=0;iB<iz.targetWorksheets.length;iB++){var iC=iz.targetWorksheets[iB];var iD=eT.getVisualModel(R.get_instance(),iC);if(ss.isNullOrUndefined(iD)){continue}var iE=iD.get_vizDataModel();if(ss.isNullOrUndefined(iE)){continue}if(W.isSpecialDateTimeHighlighting(iA)){var iF=R.get_instance().get_dataDictionary();var iG=x.$0(e.get_vizDataModel(),iE,iF,ex);var iH=iG.item1;var iI=iG.item2;ix.$5[iC]=x.$b(iH,iI,iE,iF);ix.$3[iC]=x.$8(iH,iI,iD,iF);ix.$0(iD,e,ex,iA,iz.name)}else{var iJ=W.getHighlightFieldCaptions(iA,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,iD)){iJ=_.intersection(iJ,iE.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty$2(iJ)){continue}for(var iK=0;iK<iJ.length;iK++){var iL=iJ[iK];if(e.vizDataContainsDuplicateCaption(iL)){ix.$1=false;return ix}}var iM=x.$3(e.get_vizDataModel(),ex,iJ);ix.$5[iC]=x.$a(iM,iE);var iN=[];var iO=W.$2(iD);var iP=_.keys(iO);for(var iQ=0;iQ<iP.length;iQ++){var iR=iP[iQ];var iS=iO[iR];var iT=x.$c(iD,iS);var iU=_.intersection(iT,iJ);if(iU.length>0){var iV=x.$3(e.get_vizDataModel(),ex,iU);iN=iN.concat.apply(iN,x.$7(iV,iD,iS))}}ix.$3[iC]=iN;ix.$0(iD,e,ex,iA,iz.name)}}}return ix};W.$2=function(e){var ex={};var iw=e.get_sceneModel().get_visualListModels();var ix=new ss.ObjectEnumerator(iw);try{while(ix.moveNext()){var iy=ix.current();ex[iy.key]=iy.value.get_groupItemNodes()}}finally{ix.dispose()}var iz=ex['x-labels']||[];ss.arrayAddRange(iz,ex['bottom-axis']||[]);ex['x-labels']=iz;delete ex['bottom-axis'];return ex};W.isSpecialDateTimeHighlighting=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var ex=e.commandParams['specialFields'];return ss.isValue(ex)&&ex==='date-time'};W.getHighlightFieldCaptions=function(e,ex,iw){var ix=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return ix}var iy=e.commandParams['fieldCaptions'];if(!ss.isNullOrUndefined(iy)){ix=JSON.parse(iy)}else{var iz=e.commandParams['specialFields'];if(ss.isNullOrUndefined(iz)||iz!=='all'){}ix=ex}if(ss.isValue(iw)){ix=_.intersection(iw,ix)}return ix};W.$0=function(e,ex){return'LegendType:'+e.toString()+' LegendNames:'+ex.join(';')};W.$1=function(e,ex){var iw=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return iw}for(var ix=0;ix<e.length;ix++){var iy=e[ix];iw=_.union(iw,x.$a(iy,ex.get_vizDataModel()))}return iw};global.tab.BrushingComputer=W;var X=function(){ss.makeGenericType(S,[Object,Y]).call(this)};X.__typeName='tab.BuildCaptionContextMenuCmd';global.tab.BuildCaptionContextMenuCmd=X;var Y=function(e){this.$$c=null;this.$$c=e};Y.__typeName='tab.BuildCaptionContextMenuCmd$Response';global.tab.BuildCaptionContextMenuCmd$Response=Y;var Z=function(){ss.makeGenericType(S,[Object,ba]).call(this)};Z.__typeName='tab.BuildDataTabFieldContextMenuCmd';global.tab.BuildDataTabFieldContextMenuCmd=Z;var ba=function(e){this.$$c=null;this.$$c=e};ba.__typeName='tab.BuildDataTabFieldContextMenuCmd$Response';global.tab.BuildDataTabFieldContextMenuCmd$Response=ba;var bb=function(){ss.makeGenericType(S,[Object,bc]).call(this)};bb.__typeName='tab.BuildLayoutTreeContextMenuCmd';global.tab.BuildLayoutTreeContextMenuCmd=bb;var bc=function(e){this.$$c=null;this.$$c=e};bc.__typeName='tab.BuildLayoutTreeContextMenuCmd$Response';global.tab.BuildLayoutTreeContextMenuCmd$Response=bc;var bd=function(){ss.makeGenericType(S,[Object,be]).call(this)};bd.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd';global.tab.BuildSchemaChangeDataTypeMenuCmd=bd;var be=function(e){this.$$c=null;this.$$c=e};be.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd$Response';global.tab.BuildSchemaChangeDataTypeMenuCmd$Response=be;var bf=function(){ss.makeGenericType(S,[Object,bg]).call(this)};bf.__typeName='tab.BuildSheetListContextMenuCmd';global.tab.BuildSheetListContextMenuCmd=bf;var bg=function(e){this.$$c=null;this.$$c=e};bg.__typeName='tab.BuildSheetListContextMenuCmd$Response';global.tab.BuildSheetListContextMenuCmd$Response=bg;var bh=function(){ss.makeGenericType(S,[Object,bi]).call(this)};bh.__typeName='tab.BuildTitleContextMenuCmd';global.tab.BuildTitleContextMenuCmd=bh;var bi=function(e){this.$$c=null;this.$$c=e};bi.__typeName='tab.BuildTitleContextMenuCmd$Response';global.tab.BuildTitleContextMenuCmd$Response=bi;var bj=function(){ss.makeGenericType(S,[Object,bk]).call(this)};bj.__typeName='tab.CalculationAutoCompleteCmd';global.tab.CalculationAutoCompleteCmd=bj;var bk=function(e){this.$$c=null;this.$$c=e};bk.__typeName='tab.CalculationAutoCompleteCmd$Response';global.tab.CalculationAutoCompleteCmd$Response=bk;var bl=function(e){this.$2$1=null;eQ.call(this,e,new fx('expressionFuncPm'.toString()));this.pm={}};bl.__typeName='tab.CalculationFunctionListModel';global.tab.CalculationFunctionListModel=bl;var bm=function(e,ex){this.$2=false;this.$2$1=null;eQ.call(this,e,new fx((ex?'typeInPill':'calculation').toString()));this.pm={};this.$2=ex};bm.__typeName='tab.CalculationModel';global.tab.CalculationModel=bm;var bn=function(e){eQ.call(this,e,new fx('categoricalFilter'.toString()))};bn.__typeName='tab.CategoricalFilterModel';global.tab.CategoricalFilterModel=bn;var bo=function(e,ex,iw){this.$2=null;this.$2$1=null;this.$2$2=null;eQ.call(this,e,new fx(ex));this.$2=iw};bo.__typeName='tab.CategoricalLegendModel';bo.$0=function(e,ex){var iw;switch(e){case'color':case'map':{iw=ex.colorLegendItems;break}case'size':{iw=ex.sizeLegendItems;break}case'shape':{iw=ex.shapeLegendItems;break}default:{return null}}return iw};global.tab.CategoricalLegendModel=bo;var bp=function(e){this.$1=null;this.$3$1=null;fE.call(this,e,new fx('categoricalQuickFilter'.toString()));this.set_categoricalFilter(new bn(this))};bp.__typeName='tab.CategoricalQuickFilterModel';global.tab.CategoricalQuickFilterModel=bp;var bq=function(){ss.makeGenericType(S,[Object,br]).call(this)};bq.__typeName='tab.ChangeWorkbookUIModeCmd';global.tab.ChangeWorkbookUIModeCmd=bq;var br=function(e){this.$$c=null;this.$$c=e};br.__typeName='tab.ChangeWorkbookUIModeCmd$Response';global.tab.ChangeWorkbookUIModeCmd$Response=br;var bs=function(e,ex,iw,ix,iy){this.doLocalWork=null;this.$4=null;this.$2=null;this.$3=null;this.$1='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.$4=e;this.hasLocalComponent=ss.isValue(ex);this.hasRemoteComponent=ss.isValue(iw)&&!R.get_instance().get_isOffline();this.doLocalWork=ex;this.$2=new Array;if(this.hasRemoteComponent){this.$2.push(new fK(iw,ix,iy));this.$1=iw.commandName}};bs.__typeName='tab.ClientCommand';global.tab.ClientCommand=bs;var bt=function(){};bt.__typeName='tab.ClipCase';global.tab.ClipCase=bt;var bu=function(){ss.makeGenericType(S,[Object,bv]).call(this)};bu.__typeName='tab.CloseDataAlertDialogCmd';global.tab.CloseDataAlertDialogCmd=bu;var bv=function(e){this.$$c=null;this.$$c=e};bv.__typeName='tab.CloseDataAlertDialogCmd$Response';global.tab.CloseDataAlertDialogCmd$Response=bv;var bw=function(e,ex,iw,ix){this.$7=0;this.$6=0;this.$4=0;this.$3=0;this.$8='';this.$5='';this.$7=e;this.$6=ex;this.$4=iw;this.$3=ix};bw.__typeName='tab.ColorModel';bw.fromArgbInt=function(e){var ex=(e&16711680)>>>16;var iw=(e&65280)>>>8;var ix=e&255;var iy=(e&4278190080)>>>24;return new bw(ex,iw,ix,iy/255)};bw.fromColorCode=function(e){var ex=bw.$d.cl[e];if(ss.isValue(ex)){return ex}var iw=function(iF){return Math.min(Math.max(iF,0),255)};var ix;var iy;var iz;var iA=1;var iB=bw.$9.exec(e);if(ss.isValue(iB)){ix=iw(parseInt(iB[1],16));iy=iw(parseInt(iB[2],16));iz=iw(parseInt(iB[3],16));var iC=new bw(ix,iy,iz,iA);bw.$d.add(e,iC);return iC}iB=bw.$a.exec(e);if(ss.isValue(iB)){ix=iw(parseInt(iB[1],10));iy=iw(parseInt(iB[2],10));iz=iw(parseInt(iB[3],10));var iD=new bw(ix,iy,iz,iA);iD.setRGBStr(e);bw.$d.add(e,iD);return iD}iB=bw.$b.exec(e);if(ss.isValue(iB)){ix=iw(parseInt(iB[1],10));iy=iw(parseInt(iB[2],10));iz=iw(parseInt(iB[3],10));iA=parseFloat(iB[4]);if(iA<=1){iA=iA*255}if(iA>255){iA=255}if(iA<0){iA=0}iA=bw.alpha255ToFraction(iA);var iE=new bw(ix,iy,iz,iA);bw.$d.add(e,iE);return iE}throw new ss.Exception('Unknown color format: '+e)};bw.alpha255ToFraction=function(e){return tab.DoubleUtil.truncateTwoDecimalPlaces(bw.$7(e))};bw.$7=function(e){return(e+1)/256};bw.alphaFractionTo255=function(e){var ex=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(e));for(var iw=0;iw<256;iw++){var ix=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(bw.alpha255ToFraction(iw)));if(ix===ex){return iw}}return 255};bw.fromColorModelPlusAlpha=function(e,ex){return new bw(e.get_r(),e.get_g(),e.get_b(),ex)};bw.convertColorForCanvas=function(e){if(e.charCodeAt(3)===40){return e}bw.$3();var ex=bw.$c[e];if(ss.isValue(ex)){return ex}var iw=bw.fromColorCode(e);ex=iw.toString();return ex};bw.isEqual=function(e,ex,iw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return false}if(iw&&e.$3!==ex.$3){return false}return e.$7===ex.$7&&e.$6===ex.$6&&e.$4===ex.$4};bw.alphaBlend=function(e,ex){if(e.get_a()<1){var iw=bw.alphaToTransparency(e.get_a());var ix=ex.get_r()*iw+e.get_r()*e.get_a();var iy=ex.get_g()*iw+e.get_g()*e.get_a();var iz=ex.get_b()*iw+e.get_b()*e.get_a();return new bw(ss.Int32.trunc(ix),ss.Int32.trunc(iy),ss.Int32.trunc(iz),1)}else{return e}};bw.isFullyTransparent=function(e){return e.get_a()===0};bw.alphaComposite=function(e,ex){if(ex.get_a()>=0.999989986419678){return bw.alphaCompositeSolidDest(e,ex)}var iw=bw.alphaToTransparency(e.get_a());var ix=e.get_a()+ex.get_a()*iw;return new bw(bw.$0(e.get_r(),e.get_a(),ex.get_r(),ex.get_a(),ix),bw.$0(e.get_g(),e.get_a(),ex.get_g(),ex.get_a(),ix),bw.$0(e.get_b(),e.get_a(),ex.get_b(),ex.get_a(),ix),ix)};bw.alphaCompositeSolidDest=function(e,ex){return new bw(bw.$1(e.get_r(),e.get_a(),ex.get_r()),bw.$1(e.get_g(),e.get_a(),ex.get_g()),bw.$1(e.get_b(),e.get_a(),ex.get_b()),1)};bw.$5=function(e,ex,iw){return 0.2126*bw.$e[e]+0.7152*bw.$e[ex]+0.0722*bw.$e[iw]};bw.$2=function(e){return Math.min(1,(255-e)/255*1.5)};bw.$6=function(e,ex){var iw=e.toString(16);while(iw.length<ex){iw='0'+iw}return iw};bw.$0=function(e,ex,iw,ix,iy){return Math.round((e*ex+iw*ix*bw.alphaToTransparency(ex))/iy)};bw.$1=function(e,ex,iw){return Math.round(e*ex+iw*bw.alphaToTransparency(ex))};bw.$4=function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}};bw.$3=function(){if(ss.isValue(bw.$c)){return}bw.$c={};bw.$c['rgba(0,0,0,255)']='rgba(0,0,0,1)';bw.$c['rgba(0,0,0,0)']='rgba(0,0,0,0)';bw.$c['rgba(255,255,255,255)']='rgba(255,255,255,1)';bw.$c['rgba(255,255,255,0)']='rgba(255,255,255,0)'};bw.transparencyToAlpha=function(e){return Math.min(Math.max(1-e,0),1)};bw.alphaToTransparency=function(e){return bw.transparencyToAlpha(e)};global.tab.ColorModel=bw;var bx=function(e){eQ.call(this,e,new fx('colorPalettes'.toString()))};bx.__typeName='tab.ColorPaletteCollectionModel';global.tab.ColorPaletteCollectionModel=bx;var by=function(e,ex){this.$J=null;this.$K=null;this.$P=[];this.$Y=new q;this.$W=new hv;this.$N={};this.$R=[];this.$M=null;this.$X=null;this.$Z=null;this.$V=false;this.$U=null;this.$T=null;this.$Q=null;this.$H=null;this.$S=[];this.$L=null;this.$G=false;this.$O=[];this.$F=false;this.$I=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.$1$12=null;this.$1$13=null;this.e2eAutomationTestHooks=null;this.processingRenderModeChange=false;this.processingStoryPointChange=false;this.$U=e;this.$K=ex;window.window.onerror=ss.mkdel(this,this.$l);this.$Z=new im(this.$K);this.$X=new F(this.$U);var iw=new z(e);iw.$3('tabsrv'.toString(),'render-tooltip-server'.toString(),135);var ix=new bN;ix.commandNamespace='tabdoc'.toString();ix.commandName='highlight-items'.toString();var iy=new bN;iy.commandNamespace='tabdoc'.toString();iy.commandName='clear-highlighting'.toString();var iz=new bN;iz.commandNamespace='tabdoc'.toString();iz.commandName='highlight-items-by-pattern-match'.toString();var iA=[ix,iy,iz];iw.$2(iA,135);this.$J=iw;this.$J.add_onRemoteCommandResponse(ss.mkdel(this,this.$d));this.$J.add_onRemoteCommandException(ss.mkdel(this,this.$c));this.$L=new cH(ex);this.$g();this.e2eAutomationTestHooks=new d(this.$Z,ss.mkdel(this,function(){return ss.getKeyCount(this.$N)}),ss.mkdel(this,this.$h));this.$F=false};by.__typeName='tab.CommandController';by.add_switchedViz=function(e){by.$1$7=ss.delegateCombine(by.$1$7,e)};by.remove_switchedViz=function(e){by.$1$7=ss.delegateRemove(by.$1$7,e)};by.add_sheetNameChanged=function(e){by.$1$14=ss.delegateCombine(by.$1$14,e)};by.remove_sheetNameChanged=function(e){by.$1$14=ss.delegateRemove(by.$1$14,e)};by.get_hasInstance=function(){return ss.isValue(by._instance)};by.$8=function(){return tab.Logger.lazyGetLogger(by)};by.isAllContentReady=function(){return(ss.isNullOrUndefined(by._instance)?false:by._instance.$F)};by.create=function(e,ex){if(ss.isNullOrUndefined(by._instance)){by._instance=new by(e,ex)}return by._instance};by.clearInstance=function(){by._instance=null;window.window.onerror=null};by.get=function(){if(!ss.isValue(by._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return by._instance};by.handleBootstrapException=function(e,ex){if(by.$a){return}var iw=new ss.StringBuilder;if(ss.isValue(e['name'])){iw.append(e['name']).append(': ')}iw.append(e.get_message());ex.showAlertDialog(tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,iw.toString()),tab.Strings.UnhandledExceptionTitle,true,null);by.$7(de.postContentForStackTrace(tab.ErrorTrace.getStackTraceFor(e)));by.sendParentCompletedMessage();by.$a=true};by.sendParentCompletedMessage=function(){if(by.$b){return}by.$b=true;tab.BrowserSupport.sendCommandWithContext('tableau.completed')};by.$7=function(e){var ex=[];ex.push('tableau.unhandledException');ex.push(e);tabBootstrap.Utility.doPostMessage(ex)};by.$5=function(e){return e.get_isBlocking()};by.SendCommand=function(e){var ex=by.get();if(ex.$I&&tab.FeatureFlags.isEnabled('CommandCancellation')){return}if(fz.get_progressiveLoadEnabled()){ex.$0(e)}ex.$Y.$1(e);ex.$i()};by.SendCommandWithDeferredReturn=function(e,ex){var iw=$.Deferred();var ix=by.deferredSuccessHandler(Object).call(null,$.Deferred().done(function(iz){iw.resolve(iz)}));var iy=by.$1($.Deferred().fail(function(iz){iw.reject()}));by.SendCommand(fJ.create(e,ex,ix,iy));return iw.promise()};by.deferredSuccessHandler=function(e){return function(ex){return by.DeferredSuccessHandler(ex)}};by.DeferredSuccessHandler=function(e){return function(ex){var iw=by.get();var ix=null;ix=function(){iw.remove_commandQueueComplete(ix);e.resolve(ex)};iw.add_commandQueueComplete(ix)}};by.$1=function(e){return by.deferredFailureHandler(e)};by.deferredFailureHandler=function(e){return function(ex){var iw=by.get();var ix=null;ix=function(){iw.remove_commandQueueComplete(ix);e.reject(ex)};iw.add_commandQueueComplete(ix)}};by.$2=function(e,ex){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,ex.get_id(),ex.get_urlRoot())};by.$0=function(e,ex,iw){var ix=[];if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.clientOpenBugUrl)){var iy=tsConfig.clientCheckBugText;var iz=tsConfig.clientCheckBugUrl;var iA=tsConfig.clientOpenBugText;var iB=tsConfig.clientOpenBugUrl;var iC=encodeURIComponent('{errorMessage}');var iD=encodeURIComponent('{sessionId}');var iE=encodeURIComponent('{stack}');var iF=encodeURIComponent('{url}');if(!ss.isNullOrEmptyString(iy)&&!ss.isNullOrEmptyString(iz)){var iG=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ex,'"',''),"'",''),':','');iz=ss.replaceAllString(iz,iC,encodeURIComponent(iG));ix.push({url:iz,displayText:iy})}if(!ss.isNullOrEmptyString(iA)&&!ss.isNullOrEmptyString(iB)){var iH='search splunk for stack.';try{iH=iw.stack;iH=iH.substr(0,400)}catch(iJ){}iB=ss.replaceAllString(iB,iC,encodeURIComponent(ss.replaceAllString(ex,':','')));iB=ss.replaceAllString(iB,iD,encodeURIComponent(e));iB=ss.replaceAllString(iB,iE,encodeURIComponent(iH));var iI=((ss.isValue(window.parent)&&ss.isValue(window.parent.location))?window.parent.location:window.location);iB=ss.replaceAllString(iB,iF,encodeURIComponent(iI.href));iB=ss.replaceAllString(ss.replaceAllString(iB,'"',''),"'",'');ix.push({url:iB,displayText:iA})}}return ix};by.$6=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='CLNTLD'.toString();var ex=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(ex)};by.$4=function(e){var ex=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}if(!e.workbookPresModel.dashboardPresModel.isStory){return ex}var iw=e.workbookPresModel.dashboardPresModel.zones;var ix=_.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];var iA=iw[iz];if(ss.isNullOrUndefined(iA)){continue}var iB=iu.getContent(iA,'flipboard');if(ss.isValue(iB)){return iB.activeStoryPointId}}return null};by.$3=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.sheetPath)){return''}return e.workbookPresModel.dashboardPresModel.sheetPath.sheetName};global.tab.CommandController=by;var bz=function(){};bz.__typeName='tab.CommandControllerStoryTelemetry';bz.bootstrapCompleteStoryTelemetry=function(){if(eZ.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('StorytellingOnlineTelemetry')&&!tsConfig.is_authoring&&eT.getSheetInfoPresModel(R.get_instance(),tsConfig.current_sheet_name).isStory){_.defer(function(){bz.$3()})}};bz.$3=function(){var e={$:null};var ex={$:null};var iw={$:null};var ix={$:null};var iy={$:null};var iz={$:null};var iA={$:null};if(!bz.$9(iw)){bz.$2('Storyboard is not set when we expected it to be.');return}if(!bz.$a(iw.$,e)){bz.$2("'name' is not set in the ZoneCommonPresModel when we expected it to be.");return}if(!bz.$5(iw.$,ex)){bz.$2('FlipboardNavModel is not set when we expected it to be.');return}if(!bz.$6(ex.$,ix)){bz.$2('SelectedStoryPointStyle was not set when we expected it to be.');return}if(!bz.$4(iw.$,iy)){bz.$2('DashboardSize was not set when we expected it to be.');return}if(!bz.$8(ex.$,iz)){bz.$2('StoryPoints is not set when we expected it to be.');return}if(!bz.$7(iA)){bz.$2('SheetsInfo is not set when we expected it to be.');return}var iB=bz.$0(iz.$,ex.$.get_navType());var iC=bz.$1(iA.$);eZ.logEvent('StoryViewing.StoryState',['AtBootstrap',true,'DefaultTitle',(ss.referenceEquals(e.$,tsConfig.current_sheet_name.toString())?true:false),'StoryPoints',iz.$.length,'UniqueSheets',iC.$2(),'UniqueDashboards',iC.$0(),'AvgCaptionLengthByChar',iB.$0(),'AvgCaptionLengthByWord',iB.$2(),'LongestCaptionByChar',iB.$4(),'LongestCaptionByWord',iB.$6(),'TitleLengthByChar',e.$.length,'TitleLengthByWord',(!tab.MiscUtil.isNullOrEmpty$3(e.$)?e.$.match(bz.$b).length:0),'TitleVisible',iw.$.get_isTitleVisible(),'NavArrows',ex.$.get_arrowVisibility(),'NavStyle',ex.$.get_navType().toString(),'DashboardHeight',iy.$.h,'DashboardWidth',iy.$.w,'StoryPointHeight',ix.$.h,'StoryPointWidth',ix.$.w,'StoryPointBackgroundColor',ix.$.styledBox.fillColor.toString(),'StoryPointBorderColor',ix.$.styledBox.borderColor.toString()])};bz.$2=function(e){eZ.logEvent('Error.StoryState',['Message',e])};bz.$0=function(e,ex){var iw=0,ix=0,iy=0,iz=0;if(ex!=='caption'||e.length<1){return new b}for(var iA=0;iA<e.length;iA++){var iB=e[iA];if(ss.isValue(iB.storyPointCaption)&&!tab.MiscUtil.isNullOrEmpty$3(iB.storyPointCaption.toString())){var iC=iB.storyPointCaption.toString();var iD=iC.match(bz.$b);if(iC.length>iy){iy=iC.length}if(iD.length>iz){iz=iD.length}iw+=iC.length;ix+=iD.length}}return new b.$0(iw/e.length,ix/e.length,iy,iz)};bz.$1=function(e){var ex=new Set;var iw=new Set;for(var ix=0;ix<e.length;ix++){var iy=e[ix];if(iy.isStory){continue}if(iy.isDashboard){iw.add(iy.sheet)}else{ex.add(iy.sheet)}}return new c(ex.size,iw.size)};bz.$9=function(e){e.$=((ss.isValue(R.get_instance().get_workbook())&&ss.isValue(R.get_instance().get_workbook().get_storyboard()))?R.get_instance().get_workbook().get_storyboard():null);return ss.isValue(e.$)};bz.$a=function(e,ex){if(e.get_isTitleVisible()===false){ex.$='';return true}if(ss.isNullOrUndefined(e.get_zoneModels())){ex.$=null;return false}var iw=_.find(e.get_zoneModels(),function(ix){return ix.get_zoneType()==='title'});ex.$=((ss.isValue(iw)&&ss.isValue(iw.get_zoneCommonModel())&&ss.isValue(iw.get_zoneCommonModel().get_zoneCommonPresModel())&&ss.isValue(iw.get_zoneCommonModel().get_zoneCommonPresModel().name))?iw.get_zoneCommonModel().get_zoneCommonPresModel().name.toString():null);return ss.isValue(ex.$)};bz.$5=function(e,ex){ex.$=(ss.isValue(e.get_flipboardNavModel())?e.get_flipboardNavModel():null);return ss.isValue(ex.$)};bz.$4=function(e,ex){ex.$=(ss.isValue(e.get_dashboardSize())?e.get_dashboardSize():null);return ss.isValue(ex.$)};bz.$6=function(e,ex){ex.$=((ss.isValue(e.get_flipboardNavPresModel())&&ss.isValue(e.get_flipboardNavPresModel().selectedStoryPointStyle))?e.get_flipboardNavPresModel().selectedStoryPointStyle:null);return ss.isValue(ex.$)};bz.$8=function(e,ex){ex.$=(ss.isValue(e.get_storyPoints())?e.get_storyPoints():null);return ss.isValue(ex.$)};bz.$7=function(e){e.$=((ss.isValue(R.get_instance().get_workbook())&&ss.isValue(R.get_instance().get_workbook().get_sheetsInfo()))?R.get_instance().get_workbook().get_sheetsInfo():null);return ss.isValue(e.$)};global.tab.CommandControllerStoryTelemetry=bz;var bA=function(){};bA.__typeName='tab.CommandControllerTelemetry';bA.$0=function(){if(eZ.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){_.defer(function(){var e=null;fs.getInfo().done(function(ex){e=ex}).always(function(){_.defer(function(){var ex,iw,ix,iy,iz,iA,iB,iC,iD;ex=iw=ix=iy=iz=iA=iB=iC=iD=false;if(ss.isValue(e)){if(ss.isValue(e.get_name())){iw=ss.startsWithString(e.get_name(),'Chrome');ix=ss.startsWithString(e.get_name(),'Microsoft Edge');iy=ss.startsWithString(e.get_name(),'IE');iz=ss.startsWithString(e.get_name(),'Firefox');iB=ss.startsWithString(e.get_name(),'Opera');iC=ss.startsWithString(e.get_name(),'Safari')}if(ss.isValue(e.get_OS().get_family())){ex=ss.startsWithString(e.get_OS().get_family(),'Android');iA=ss.startsWithString(e.get_OS().get_family(),'OS X')||ss.startsWithString(e.get_OS().get_family(),'Mac');iD=ss.startsWithString(e.get_OS().get_family(),'Windows')&&!ss.startsWithString(e.get_OS().get_family(),'Windows Phone')}}var iE=window.screen;var iF=eT.getSheetInfoPresModel(R.get_instance(),tsConfig.current_sheet_name);var iG=['Authoring',tsConfig.is_authoring,'Embedded',tsConfig.embedded,'HighDpi',tsConfig.highDpi,'Mobile',tsConfig.is_mobile,'MobileApp',tsConfig.is_mobile_app,'MobileDevice',tsConfig.is_mobile_device,'Version',tsConfig.version,'LocalRender',R.get_instance().get_isLocalRenderMode(),'Android',ex,'Chrome',iw,'ChromeVersion',tab.BrowserSupport.get_googleChromeVersion(),'DevicePixelRatio',tab.BrowserSupport.get_devicePixelRatio(),'Edge',ix,'Firefox',iz,'Geolocation',tab.BrowserSupport.get_isGeolocationSupported(),'IE',iy,'IEVersion',tab.BrowserSupport.get_browserVersion(),'IOS',tab.BrowserSupport.get_isIos(),'IOSVersion',tab.BrowserSupport.get_iosVersion(),'Ipad',tab.BrowserSupport.get_isIpad(),'Mac',iA,'Opera',iB,'Safari',iC,'SafariVersion',tab.BrowserSupport.get_safariVersion(),'Touch',tab.BrowserSupport.get_isTouch(),'Windows',iD,'EmbedMode',tabBootstrap.Utility.get_embedMode(),'ScreenWidth',iE.width,'ScreenHeight',iE.height,'Dashboard',iF.isDashboard,'Published',iF.isPublished,'Story',ss.isValue(iF.isStory)&&iF.isStory,'Worksheets',(ss.isValue(iF.namesOfSubsheets)?iF.namesOfSubsheets.length:0),'Tabs',(_.isArray(tsConfig.visible_sheets)?tsConfig.visible_sheets.length:0)];eZ.logEvent('Bootstrap',iG);if(ss.isValue(e)){var iH=['Description',ss.coalesce(e.get_description(),''),'Layout',ss.coalesce(e.get_layout(),''),'Manufacturer',ss.coalesce(e.get_manufacturer(),''),'Name',ss.coalesce(e.get_name(),''),'Prerelease',ss.coalesce(e.get_prerelease(),''),'Product',ss.coalesce(e.get_product(),''),'UserAgent',e.get_userAgent(),'Version',ss.coalesce(e.get_version(),''),'System',ss.coalesce(e.get_OS().get_description(),''),'SystemArchitecture',ss.coalesce(e.get_OS().get_architecture(),''),'SystemFamily',ss.coalesce(e.get_OS().get_family(),''),'SystemVersion',ss.coalesce(e.get_OS().get_version(),'')];eZ.logEvent('Platform',iH)}})})})}};global.tab.CommandControllerTelemetry=bA;var bB=function(e,ex){this.succeeded=false;this.error=null;this.succeeded=e;this.error=ex};bB.__typeName='tab.CommandExecutionResult';global.tab.CommandExecutionResult=bB;var bC=function(){};bC.__typeName='tab.CommandInterceptorResult';global.tab.CommandInterceptorResult=bC;var bD=function(){hy.call(this)};bD.__typeName='tab.CommandItemBasedUbertipButtonModel';global.tab.CommandItemBasedUbertipButtonModel=bD;var bE=function(e){this.$0=null;if(ss.isValue(e)){this.$0=e}else{this.$0={};this.set_commandsType('item')}};bE.__typeName='tab.CommandItemWrapper';bE.create=function(e){if(!ss.isValue(e)){return null}var ex=e['command'.toString()];var iw=bK.deserialize(ex);if(ss.isValue(iw)&&ia.hasCommand(iw.commandName)){return new hZ.$ctor1(e)}return new bE(e)};global.tab.CommandItemWrapper=bE;var bF=function(){this.command=null;this.description=null;this.imageRes=null;this.status='enabled';this.$1$1=0;this.$1$2=null};bF.__typeName='tab.CommandModel';global.tab.CommandModel=bF;var bG=function(){hy.call(this)};bG.__typeName='tab.CommandModelBasedUbertipButtonModel';global.tab.CommandModelBasedUbertipButtonModel=bG;var bH=function(e){this.$0=null;this.$0={};var ex=ss.getEnumerator(e);try{while(ex.moveNext()){var iw=ex.current();this.$0[iw]='granted'}}finally{ex.dispose()}};bH.__typeName='tab.CommandPermission';global.tab.CommandPermission=bH;var bI=function(){};bI.__typeName='tab.CommandRedirectRegistry';bI.checkpointRegistry=function(){var e=bI.$0;bI.$0=$.extend(false,{},e);return function(){bI.$0=e}};bI.registerHandler=function(e,ex){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(ex,'handler');if(ss.isNullOrUndefined(bI.$0)){bI.$0={}}bI.$0[e]=ex};bI.handleRedirect=function(e,ex){if(ss.isNullOrUndefined(bI.$0)||!ss.keyExists(bI.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var iw=bI.$0[e];return iw(ex)};global.tab.CommandRedirectRegistry=bI;var bJ=function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)};bJ.__typeName='tab.CommandResponseEventArgs';global.tab.CommandResponseEventArgs=bJ;var bK=function(){};bK.__typeName='tab.CommandSerializer';bK.$4=function(){return tab.Logger.lazyGetLogger(bK)};bK.buildDocCommandName=function(e){return bK.buildQualifiedCommandName('tabdoc'.toString(),e.toString())};bK.buildQualifiedCommandName=function(e,ex){return e+':'+ex};bK.deserialize=function(e,ex){var iw;ex=ex||false;if(ex){iw=bK.$6[e];if(ss.isValue(iw)){return iw}}var ix=new RegExp('^(\\w+):([\\w-]+)( ((.|\n)*))?$');var iy=ix.exec(e);if(ss.isNullOrUndefined(iy)||iy.length===0){return null}iw={commandNamespace:iy[1],commandName:iy[2]};bK.$1(iw,iy[4]);if(ex){bK.$0(e,iw)}return iw};bK.getCommandType=function(e){if(ss.keyExists(bK.$8,e.commandName)){return bK.$8[e.commandName]}else{return null}};bK.$0=function(e,ex){if(bK.$7.length>=15){var iw=bK.$7.shift();delete bK.$6[iw]}bK.$6[e]=ex;bK.$7.push(e)};bK.$1=function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var iw=new ss.StringBuilder;var ix=new Array;for(var iy=ex.length-1;iy>=0;iy--){ix.push(ex.substr(iy,1))}while(ix.length>0){var iz=bK.$2(ix,iw);if(!ss.isValue(iz)){return}var iA=bK.$3(ix,iw);if(ss.isNullOrUndefined(iA)){return}if(iA==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(iz)]=iA}};bK.$2=function(e,ex){ex.clear();var iw=false;while(e.length>0){var ix=e.pop();switch(ix){case'=':{return ex.toString().trim()}case'-':{iw=true;break}default:{if(iw){ex.append(ix.toUpperCase());iw=false}else{ex.append(ix)}break}}}return null};bK.$3=function(e,ex){ex.clear();var iw=new Array;var ix=function(){return((iw.length>0)?ss.arrayPeekBack(iw):'')};var iy=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var iz=e.pop();var iA=true;switch(iz){case'\\':{if(iy){if(ix()!=='\\'){iw.push('\\');iA=false}else{iw.pop()}}break}case'"':{if(ix()==='\\'){iw.pop()}else if(ix()==='"'){iw.pop();if(iw.length===0){iA=false}}else{if(iw.length===0){iA=false}iw.push('"')}break}case'[':{if(ix()==='"'){}else{iw.push('[')}break}case']':{if(ix()==='"'){}else if(ix()!=='['){}else{iw.pop()}break}case'{':{if(ix()==='"'){}else{iw.push('{')}break}case'}':{if(ix()==='"'){}else if(ix()!=='{'){}else{iw.pop()}break}default:{if(ix()==='\\'){iw.pop()}break}}if(iA){ex.append(iz)}if(iw.length===0){return ex.toString()}}return null};global.tab.CommandSerializer=bK;var bL=function(e){this.$1=true;this.$2$1=null;eQ.call(this,e,new fx('commands'.toString()))};bL.__typeName='tab.CommandsModel';global.tab.CommandsModel=bL;var bM=function(){bM.$ctor1.call(this,{})};bM.__typeName='tab.CommandsPresModelWrapper';bM.$ctor1=function(e){this.$0=null;this.$0=e;if(ss.isNullOrUndefined(this.get_commandItems())){this.set_commandItems([])}};bM.create=function(e){if(!ss.isValue(e)){return null}return new bM.$ctor1(e)};global.tab.CommandsPresModelWrapper=bM;var bN=function(){this.commandNamespace='';this.commandName=''};bN.__typeName='tab.CommandThrottlerTarget';global.tab.CommandThrottlerTarget=bN;var bO=function(){};bO.__typeName='tab.CommandUtils';bO.newCommand=function(e,ex){var iw={commandName:e,commandNamespace:'tabdoc'};if(ss.isValue(ex)){iw.commandParams=ex}return iw};bO.newCommand$1=function(e,ex){var iw={commandName:e,commandNamespace:'tabsrv'};if(ss.isValue(ex)){iw.commandParams=ex}return iw};bO.addVisualIdToCommand=function(e,ex){if(tab.MiscUtil.isNullOrEmpty$3(ex.storyboard)){e['worksheet']=ex.worksheet;if(ss.isValue(ex.dashboard)&&ex.dashboard.toString().length>0){e['dashboard']=ex.dashboard}}else{e['visualIdPresModel']=JSON.stringify(ex)}};bO.addStoryPointToCommand=function(e,ex){if(ss.isValue(ex.storyboard)){e['storyboard']=ex.storyboard;e['flipboardZoneId']=ex.flipboardZoneId.toString();e['storyPointId']=ex.storyPointId.toString()}};bO.duplicateCommand=function(e){var ex={};$.extend(true,ex,e);return ex};bO.createCommandRedirectSuccessHandler=function(e){e=e||$.Deferred();var ex=$.Deferred();ex.promise().pipe(function(iw){if(_.isObject(iw)&&'commandRedirectType'.toString()in iw){var ix=iw['commandRedirectType'.toString()];var iy=bI.handleRedirect(ix,iw);iy.pipe(function(){e.resolve(iw);return iw},function(){e.reject();return iw})}else{e.resolve(iw)}return iw},function(){e.reject();return null});return by.deferredSuccessHandler(Object).call(null,ex)};bO.executeSimpleCommand$1=function(e){return function(ex,iw){var ix=$.Deferred();var iy=$.Deferred().done([function(iz){ix.resolve(iz)}]).fail([function(iz){ix.reject.apply(ix,null)}]);gt.executeServerCommand(bK.deserialize(gV.create(ex).get_simpleCommand()),iw,bO.createCommandRedirectSuccessHandler(iy),function(iz){ix.reject.apply(ix,null)});return ix}};bO.executeSimpleCommand=function(e,ex){return bO.executeSimpleCommand$1(Object).call(null,e,ex)};global.tab.CommandUtils=bO;var bP=function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex};bP.__typeName='tab.CommentingServer';global.tab.CommentingServer=bP;var bQ=function(e){this.$1=null;this.$2=null;this.$2$1=null;eQ.call(this,e,new fx('compoundTableCalculationPresModel'.toString()));this.$1=new hi(this);this.$2=new hi(this);this.$2.get_tableCalcIdentifier().update({calcNestingLevel:'secondary',fn:''})};bQ.__typeName='tab.CompoundTableCalcModel';bQ.$0=function(e,ex){if(ss.isValue(e)&&ss.isValue(e.tableCalculationPresModels)&&e.tableCalculationPresModels.length>ex){return e.tableCalculationPresModels[ex]}return null};global.tab.CompoundTableCalcModel=bQ;var bR=function(){};bR.__typeName='tab.ConnectionClass';global.tab.ConnectionClass=bR;var bS=function(){ss.makeGenericType(S,[Object,bT]).call(this)};bS.__typeName='tab.ConnectionSelectDatabaseAndAddTableCmd';global.tab.ConnectionSelectDatabaseAndAddTableCmd=bS;var bT=function(e){this.$$c=null;this.$$c=e};bT.__typeName='tab.ConnectionSelectDatabaseAndAddTableCmd$Response';global.tab.ConnectionSelectDatabaseAndAddTableCmd$Response=bT;var bU=function(){ss.makeGenericType(S,[Object,bV]).call(this)};bU.__typeName='tab.CreateDataSourceFromFileUploadCmd';global.tab.CreateDataSourceFromFileUploadCmd=bU;var bV=function(e){this.$$c=null;this.$$c=e};bV.__typeName='tab.CreateDataSourceFromFileUploadCmd$Response';global.tab.CreateDataSourceFromFileUploadCmd$Response=bV;var bW=function(){ss.makeGenericType(S,[Object,bX]).call(this)};bW.__typeName='tab.CreateWorksheetTitleRichTextEditorCmd';global.tab.CreateWorksheetTitleRichTextEditorCmd=bW;var bX=function(e){this.$$c=null;this.$$c=e};bX.__typeName='tab.CreateWorksheetTitleRichTextEditorCmd$Response';global.tab.CreateWorksheetTitleRichTextEditorCmd$Response=bX;var bY=function(){ss.makeGenericType(S,[Object,bZ]).call(this)};bY.__typeName='tab.CreateZoneRichTextEditorCmd';global.tab.CreateZoneRichTextEditorCmd=bY;var bZ=function(e){this.$$c=null;this.$$c=e};bZ.__typeName='tab.CreateZoneRichTextEditorCmd$Response';global.tab.CreateZoneRichTextEditorCmd$Response=bZ;var ca=function(e){this.$3=null;this.$2=null;this.$1=null;dh.call(this,e)};ca.__typeName='tab.CubeDimensionModel';global.tab.CubeDimensionModel=ca;var cb=function(e){this.$2=null;this.$1=null;dh.call(this,e)};cb.__typeName='tab.CubeFolderModel';global.tab.CubeFolderModel=cb;var cc=function(e){this.$1=null;dh.call(this,e)};cc.__typeName='tab.CubeHierarchyModel';global.tab.CubeHierarchyModel=cc;var cd=function(e){this.$3$1=null;hw.call(this,e,new fx('cumulativeTableCalcPresModel'.toString()))};cd.__typeName='tab.CumulativeTableCalcModel';global.tab.CumulativeTableCalcModel=cd;var ce=function(e){this.$3=null;this.$3=e};ce.__typeName='tab.CustomizedViewSession';ce.buildUrl=function(e,ex){var iw=hU.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){iw.updateForCustomizedView(e)}else{iw.set_originalView(true)}iw.removeHash();if(ex){iw.removeAllQueryParams()}return iw.get_absoluteUri()};ce.$0=function(e){var ex=function(iw,ix,iy){if(!ss.isValue(e)){return}var iz=ce.$1(iw);e((ss.isValue(iz)?iz:(iy.toString()||'')))};return ex};ce.$1=function(e){if(ss.isValue(e.responseText)){try{var ex=JSON.parse(e.responseText);if('msg'in ex){return ex['msg']}}catch(iw){var e=ss.Exception.wrap(iw)}}return null};global.tab.CustomizedViewSession=ce;var cf=function(e){this.$3$1=null;this.$3$2=null;hw.call(this,e,new fx('customTableCalcPresModel'.toString()));this.set_referenceModel(new hk(this))};cf.__typeName='tab.CustomTableCalcModel';global.tab.CustomTableCalcModel=cf;var cg=function(){};cg.__typeName='tab.DashboardCommands';cg.dropSheetOnDashboard=function(e,ex,iw){var ix=new cR;ix.c['dashboard']=tsConfig.current_sheet_name;ix.c['addAsFloating']=ss.coalesce(iw,false);ix.c['dropLocation']={x:ex.x|0,y:ex.y|0};ix.c['zoneType']='viz';ix.c['worksheet']=e;ix.set_uiBlocking('immediately');return ix.invoke()};cg.dropNewZoneObjectOnDashboard=function(e,ex,iw,ix,iy,iz){var iA={x:ix.x|0,y:ix.y|0};var iB=new cR;iB.c['dashboard']=tsConfig.current_sheet_name;iB.c['addAsFloating']=ss.coalesce(iw,false);iB.c['dropLocation']=iA;iB.c['zoneType']=e;iB.c['isHorizontal']=ex;iB.set_uiBlocking('immediately');var iC=iB;if(ss.isValue(iz)){iC.c['zoneParam']=iz}if(ss.isValue(iy)){iC.c['formattedText']=iy}return iC.invoke()};cg.setDashboardDeviceLayout=function(e){var ex=new gz;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardDeviceLayout']=e;ex.c['allowPreviewSizeChange']=true;ex.set_uiBlocking('immediately');ex.invoke()};cg.getSheetDragDropTargets=function(e){var ex=new dC;ex.c['dashboard']=tsConfig.current_sheet_name;ex.set_uiBlocking('none');var iw=ex;if(ss.isValue(e)){iw.c['zoneId']=ss.unbox(e)|0}return iw.invoke()};cg.getThumbnailImage=function(e){var ex=new dK;ex.c['worksheet']=e;ex.set_uiBlocking('none');var iw=ex;return iw.invoke()};cg.addNewObjectToDashboard=function(e,ex,iw,ix,iy){var iz=new N;iz.c['dashboard']=tsConfig.current_sheet_name;iz.c['zoneType']=e;iz.c['isHorizontal']=ex;iz.c['addAsFloating']=ss.coalesce(iw,false);iz.set_uiBlocking('immediately');var iA=iz;if(ss.isValue(iy)){iA.c['zoneParam']=iy}if(ss.isValue(ix)){iA.c['formattedText']=ix}return iA.invoke()};cg.addSheetToDashboard=function(e,ex){var iw=bO.newCommand('add-sheet-to-dashboard',null);iw.commandParams={};iw.commandParams['worksheet']=e;iw.commandParams['addAsFloating']=ss.coalesce(ex,false);by.SendCommand(fJ.create(iw,'immediately'))};cg.getCurrentSheetSizeConstraints=function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){e.resolve({sizeMode:'size-mode-auto',dashboardSizingMode:'automatic'})}else{var ex=new dE;ex.c['dashboard']=tsConfig.current_sheet_name;ex.set_uiBlocking('none');ex.invoke().pipe(function(iw){return e.resolve(iw.$$c['dashboardSizePresModel'])},function(iw){return e.reject()})}return e.promise()};cg.setDashboardSizeFixed=function(e,ex,iw,ix,iy){var iz=function(iA){var iB=iA.makeMutablePresModel(iy,false);var iC={dashboardSizingMode:'fixed',h:ix,w:iw};iB.dashboardSizePresModel=iC};cg.$0(e,ex,'fixed',iw,ix,iw,ix,iz)};cg.setDashboardSizeAutomatic=function(e,ex){var iw=function(ix){var iy=ix.makeMutablePresModel(ex,false);var iz={dashboardSizingMode:'automatic'};iy.dashboardSizePresModel=iz};cg.$0(e,'no','automatic',0,0,0,0,iw)};cg.setDashboardSizeRange=function(e,ex,iw,ix,iy,iz,iA){var iB=function(iC){var iD=iC.makeMutablePresModel(iA,false);var iE={dashboardSizingMode:'range',maxHeight:ss.coalesce(iz,0),maxWidth:ss.coalesce(iy,0),minHeight:ss.coalesce(ix,0),minWidth:ss.coalesce(iw,0)};iD.dashboardSizePresModel=iE};cg.$0(e,ex,'range',ss.coalesce(iw,0),ss.coalesce(ix,0),ss.coalesce(iy,0),ss.coalesce(iz,0),iB)};cg.$0=function(e,ex,iw,ix,iy,iz,iA,iB){var iC=new gB;iC.c['dashboardSizingDimension']=ex;iC.c['dashboard']=e;iC.c['minWidth']=ix|0;iC.c['minHeight']=iy|0;iC.c['maxWidth']=iz|0;iC.c['maxHeight']=iA|0;iC.c['dashboardSizingMode']=iw;iC.set_localWork(iB);iC.set_uiBlocking('immediately');iC.invoke()};cg.showDashboardTitle=function(e){var ex=new gR;ex.c['dashboard']=e;ex.set_uiBlocking('immediately');var iw=ex;iw.invoke()};cg.getUrlSubstitutionParameters=function(){var e=new dM;e.c['dashboard']=tsConfig.current_sheet_name;return e.invoke()};cg.isWebZoneUrlValid=function(e){var ex=new eq;ex.c['urlString']=e;ex.set_uiBlocking('immediately');return ex.invoke()};global.tab.DashboardCommands=cg;var ch=function(e){this.$e={};this.$9=null;this.$c=0;this.$a=null;this.$d=null;this.$f=null;this.$b=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.$2$13=null;this.zonesModel=null;this.sheetListModel=null;this.layoutTreeModel=null;this.autoUpdate=false;this.invalid=false;eQ.call(this,e,new fx('dashboardPresModel'.toString()));this.invalid=false;this.zonesModel=new iv(this);this.$c=0};ch.__typeName='tab.DashboardModel';ch.add_modifiedSheetsChanged=function(e){ch.$2$1=ss.delegateCombine(ch.$2$1,e)};ch.remove_modifiedSheetsChanged=function(e){ch.$2$1=ss.delegateRemove(ch.$2$1,e)};ch.$1=function(e,ex){var iw=e.length;var ix=new Set;for(var iy=0;iy<e.length;iy++){var iz=e[iy];var iA=ex[iz];var iB=[];if(!iA.get_selectionsModel().tupleSelection.isEmpty||iA.get_selectionsModel().get_brushVizForNodeSelection()){ss.arrayAddRange(iB,K.getApplicableActions(iz,'on-select','highlight'));ss.arrayAddRange(iB,K.getApplicableActions(iz,'explicitly','highlight'))}if(!iA.get_brushingsModel().tupleSelection.isEmpty){ss.arrayAddRange(iB,K.getApplicableActions(iz,'on-hover','highlight'))}if(!tab.MiscUtil.isNullOrEmpty$1(iB)){var iC=s.$0(iz,iB,iA.get_vizDataModel());tab.SetUtilities.addAll(Object).call(null,ix,tab.SetUtilities.getValues(Object).call(null,iC));if(ix.size===iw){return ix}}}return ix};ch.$0=function(){if(!ss.staticEquals(ch.$2$1,null)){ch.$2$1()}};global.tab.DashboardModel=ch;var ci=function(){this.$1=false;eQ.call(this,null,null);this.$1=false};ci.__typeName='tab.DashboardNewObjectsModel';global.tab.DashboardNewObjectsModel=ci;var cj=function(){};cj.__typeName='tab.DashboardSizeCalculator';cj.get_dashboardViewportSize=function(){var e=cj.get_dashboardViewportSizeWithTabs();e.h-=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};cj.get_dashboardViewportSizeWithTabs=function(){var e=document.getElementById('dashboard-viewport');var ex={w:e.offsetWidth,h:e.offsetHeight};return ex};cj.calculateContainerSize=function(e){var ex=(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?cj.calculateDashboardSize():e);var iw={w:ex.w,h:ex.h+tabBootstrap.VizLayoutConstants.get_tabsHeight()};return iw};cj.calculateDashboardSize=function(){var e=cj.get_dashboardViewportSize();var ex=tabBootstrap.ViewerBootstrap.get_instance().adjustForMinMaxDashboardSizes(e);return ex};cj.asSizePresModel=function(e){return{w:e.w,h:e.h}};cj.asMetric=function(e){return{w:e.w,h:e.h}};cj.asRect=function(e){return{l:0,t:0,w:e.w,h:e.h}};global.tab.DashboardSizeCalculator=cj;var ck=function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;eQ.call(this,e,new fx('dashboardSizeControl'.toString()))};ck.__typeName='tab.DashboardSizeControlModel';global.tab.DashboardSizeControlModel=ck;var cl=function(e){this.$2$1=null;eQ.call(this,e,new fx('dashboardSizePresModel'.toString()))};cl.__typeName='tab.DashboardSizeModel';global.tab.DashboardSizeModel=cl;var cm=function(){var e=[];e.push(hF.currentUser());cm.$ctor2.call(this,{},{},e)};cm.__typeName='tab.DataAlert';cm.$ctor2=function(e,ex,iw){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=false;this.$1$10=false;this.$2=e;this.$1=ex;this.set_recipients(iw);this.set_deviceType('default')};cm.$ctor1=function(e){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=false;this.$1$10=false;this.set_selectionCaption(e.fieldName);this.set_measurePresModel(e.dataAlertMeasure);this.set_conditionPresModel({dataAlertConditionOp:e.dataAlertConditionOp,dataAlertThresholdText:e.dataAlertThresholdText,dataType:e.dataType});this.set_threshold(e.dataAlertThresholdText);this.set_alertConditionMet(e.isDataAlertConditionMet);var ex=[];ex.push(hF.currentUser());this.set_recipients(ex);this.set_deviceType('default')};global.tab.DataAlert=cm;var cn=function(){};cn.__typeName='tab.DataAlertCommands';cn.newDataAlert=function(e){(new ha).invoke().fail(function(){e()})};cn.updateDataAlert=function(e){var ex=$.Deferred();if(e.get_thresholdIsValid()){var iw=new hB;iw.c['dataAlertThresholdText']=e.get_conditionPresModel().dataAlertThresholdText;iw.c['dataAlertConditionOp']=e.get_conditionPresModel().dataAlertConditionOp;iw.invoke().done(function(ix){ex.resolve(ix.$$c['isDataAlertConditionMet'])}).fail(function(){throw new ss.Exception('Failed to update reference line position and shading')})}else{ex.resolve(e.get_alertConditionMet())}return ex};cn.closeDataAlertDialog=function(){(new bu).invoke().done(function(e){}).fail(function(){throw new ss.Exception('Failed to close the dialog')})};global.tab.DataAlertCommands=cn;var co=function(){};co.__typeName='tab.DataAlertConditionOperation';co.supportedOperations=function(){var e=[];e.push('greater-than-equal');e.push('greater-than');e.push('less-than-equal');e.push('less-than');e.push('equals');return e};co.displayString=function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}};global.tab.DataAlertConditionOperation=co;var cp=function(e){eQ.call(this,e,new fx('dataAlertDialogPresModel'.toString()))};cp.__typeName='tab.DataAlertDialogModel';global.tab.DataAlertDialogModel=cp;var cq=function(){};cq.__typeName='tab.DataAlertNotificationInterval';cq.convertToString=function(e){switch(e){case 0:{return tab.Strings.NotificationIntervalEveryTime}case 2147483647:{return tab.Strings.NotificationIntervalOnlyOnce}case 60:{return tab.Strings.NotificationIntervalHourly}case 1440:{return tab.Strings.NotificationIntervalDaily}case 10080:{return tab.Strings.NotificationIntervalWeekly}default:{return''}}};cq.supportedIntervals=function(){var e=[];e.push(2147483647);e.push(0);e.push(60);e.push(1440);e.push(10080);return e};global.tab.DataAlertNotificationInterval=cq;var cr=function(){};cr.__typeName='tab.DataConnectionCommands';cr.acceptConnectionVariables=function(e){var ex=new gF;ex.c['connectionName']=e;ex.set_uiBlocking('immediately');ex.invoke()};cr.editVariableByIndex=function(e,ex,iw,ix,iy,iz){var iA={};iA['connectionName']=e;iA['variableGuid']=ex;iA['valueIndex']=iw;iA['variableValueOperation']=ix;iA['firstValueIndex']=iy;iA['secondValueIndex']=iz;by.SendCommand(fJ.create(bO.newCommand('set-variable-value-by-index',iA),'immediately'))};cr.editVariableByInput=function(e,ex,iw,ix,iy){var iz={};iz['connectionName']=e;iz['variableGuid']=ex;iz['valueIndex']=iw;iz['variableValueOperation']=ix;iz['valueString']=iy;by.SendCommand(fJ.create(bO.newCommand('set-variable-value-shim',iz),'immediately'))};cr.addVariable=function(e,ex){var iw=$.Deferred();var ix={};ix['connectionName']=e;ix['variableGuid']=ex;by.SendCommand(fJ.create(bO.newCommand('add-new-variable-value',ix),'immediately',by.deferredSuccessHandler(ss.Int32).call(null,iw),function(iy){iw.reject()}));return iw.promise()};cr.deleteVariable=function(e,ex,iw,ix){var iy={};iy['connectionName']=e;iy['variableGuid']=ex;iy['valueIndex']=iw;by.SendCommand(fJ.create(bO.newCommand('delete-variable-value',iy),'immediately',function(iz){ix()}))};cr.addPublishedDataSourceConnection=function(e,ex,iw){var ix={};ix['datasourceDatabaseName']=e.get_name();ix['repositoryUrl']=e.get_repositoryUrl();var iy=bO.newCommand$1('add-dataserver-data-source',ix);iy.preserveRootResult=true;by.SendCommand(new bs('immediatelySubtle',null,iy,function(iz){var iA=new M(iz);if(!ss.isNullOrEmptyString(iA.$$c['datasource'])){by.SendCommand(new D(function(iB){R.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(iB.modelUpdateContext,iA.$$c['datasource'])}));ex()}},function(iz){iw()}))};cr.setActiveConnectionName=function(e,ex){var iw={};iw['connectionName']=e;var ix='set-active-connection-name';var iy=bO.newCommand(ix,iw);var iz;iz=function(iA){ex.connectionName=e};by.SendCommand(new bs('afterDelay',iz,iy))};cr.connectionAddNewTable=function(e,ex){var iw={};iw['connectionName']=e;iw['tableName']=ex;var ix='connection-add-new-table';var iy=bO.newCommand(ix,iw);by.SendCommand(new bs('immediatelySubtle',null,iy))};cr.connectionChangeTableProperty=function(e,ex,iw){var ix={};ix['tableAlias']=e;ix['propertyName']=ex;ix['valueString']=iw;var iy='connection-change-table-property';var iz=bO.newCommand(iy,ix);by.SendCommand(new bs('immediatelySubtle',null,iz))};cr.buildFileTableInfoPresModel=function(e){var ex={};ex['tableAlias']=e;var iw='build-file-table-info-pres-model';var ix=bO.newCommand(iw,ex);by.SendCommand(new bs('immediatelySubtle',null,ix))};cr.getDataSourceDataPresModel=function(e,ex){var iw=new dG;iw.c['datasource']=e;iw.c['cacheOnly']=false;iw.c['useNotificationReturn']=true;iw.c['includeFormattedValues']=true;iw.invoke().fail(ex)};cr.getConnectionTypeGroupPresModel=function(e,ex,iw){var ix={};ix['connectionTypeGroup']=e;var iy=bO.newCommand$1('get-supported-connection-types',ix);gt.executeServerCommand(iy,'none',function(iz){ex(iz)},iw)};cr.setDataSourceDataRowCount=function(e,ex,iw){var ix=new gD;ix.c['datasource']=e;ix.c['rowCount']=ex|0;ix.invoke().fail(iw)};cr.toggleDataInterpreter=function(e){var ex={};ex['connectionName']=e;var iw='connection-toggle-table-cleaning';var ix=bO.newCommand(iw,ex);by.SendCommand(new bs('immediately',null,ix))};cr.changeJoinType=function(e,ex){var iw={};iw['tableAlias']=e;iw['joinType']=ex;var ix='connection-edit-join-type';var iy=bO.newCommand(ix,iw);by.SendCommand(new bs('immediately',null,iy))};cr.changeJoinClauses=function(e,ex){var iw={};iw['tableAlias']=e;iw['joinClauses']=ex;var ix='connection-edit-join-clauses';var iy=bO.newCommand(ix,iw);by.SendCommand(new bs('immediately',null,iy))};cr.connectionSelectDatabase=function(e){var ex=new bS;ex.c['datasourceDatabaseName']=e;ex.set_uiBlocking('immediately');ex.invoke()};global.tab.DataConnectionCommands=cr;var cs=function(e){this.$2=null;eQ.call(this,e,new fx('variablePromptDialog'.toString()))};cs.__typeName='tab.DataConnectionPromptModel';global.tab.DataConnectionPromptModel=cs;var ct=function(e){eQ.call(this,e,new fx('promptVariables'.toString(),1))};ct.__typeName='tab.DataConnectionVariableArrayModel';global.tab.DataConnectionVariableArrayModel=ct;var cu=function(e,ex){this.$3=null;this.$2=null;eQ.call(this,e,new fx(ex.toString()))};cu.__typeName='tab.DataConnectionVariableModel';global.tab.DataConnectionVariableModel=cu;var cv=function(e){eQ.call(this,e,new fx('variableValues'.toString(),1))};cv.__typeName='tab.DataConnectionVariableValueArrayModel';global.tab.DataConnectionVariableValueArrayModel=cv;var cw=function(e,ex){eQ.call(this,e,new fx(ex.toString()))};cw.__typeName='tab.DataConnectionVariableValueModel';global.tab.DataConnectionVariableValueModel=cw;var cx=function(e){this.$2=null;eQ.call(this,e,new fx('dataDictionary'.toString()))};cx.__typeName='tab.DataDictionaryModel';global.tab.DataDictionaryModel=cx;var cy=function(e){this.$3=null;this.$2$1=null;eQ.call(this,e,new fx('dataHighlighter'.toString()))};cy.__typeName='tab.DataHighlighterModel';global.tab.DataHighlighterModel=cy;var cz=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.dataSources=null;this.currentBlendingFields=null;this.blendingFieldCandidates=null;eQ.call(this,e,new fx('dataSchema'.toString()));this.dataSources=null};cz.__typeName='tab.DataSchemaModel';global.tab.DataSchemaModel=cz;var cA=function(){this.$2$1=null;eQ.call(this,null,new fx('data-schema-selection-event'.toString()))};cA.__typeName='tab.DataSchemaSelectionModel';global.tab.DataSchemaSelectionModel=cA;var cB=function(e){this.$2$1=null;this.$2$2=null;this.numRows=0;this.isEmpty=false;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=null;eQ.call(this,e,new fx('',0));this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new cx(this)};cB.__typeName='tab.DataSourceDataModel';global.tab.DataSourceDataModel=cB;var cC=function(e,ex){this.$1=null;this.$2$1=null;this.$2$2=null;this.baseColumnsModel=null;this.$2$3=0;eQ.call(this,e,new fx(ex,0));this.baseColumnsModel=new di('fieldList',this)};cC.__typeName='tab.DataSourceModel';cC.splitGlobalFieldName=function(e){return cC.$0(e).split('].[')};cC.$0=function(e){var ex=e;if(ex.length>=2&&ex.charCodeAt(0)===91&&ex.charCodeAt(ex.length-1)===93){return ex.substr(1,ex.length-2)}return ex};global.tab.DataSourceModel=cC;var cD=function(e){this.$1=null;eQ.call(this,e,new fx('dataSources'.toString()));this.$1={}};cD.__typeName='tab.DataSourcesModel';global.tab.DataSourcesModel=cD;var cE=function(){};cE.__typeName='tab.DefaultCommandDispatcher';cE.get_instance=function(){cE.$0=cE.$0||new cE;return cE.$0};global.tab.DefaultCommandDispatcher=cE;var cF=function(e,ex){this.$5=null;this.$6=null;this.$5=e;this.$6=ex};cF.__typeName='tab.DefaultSessionErrorHandler';global.tab.DefaultSessionErrorHandler=cF;var cG=function(){this.$1=false;this.$0=false};cG.__typeName='tab.DeferLayoutImpl';cG.get_instance=function(){if(ss.isNullOrUndefined(cG.$0)){cG.$0=new cG}return cG.$0};global.tab.DeferLayoutImpl=cG;var cH=function(e){this.$4=null;this.$5=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$4=e};cH.__typeName='tab.DeferredConnectionsCommandHandler';cH.shouldHandleWithGivenStatus=function(e){switch(e){case 401:case 503:case 500:{return true}default:{return false}}};cH.$1=function(e){var ex={};ex['exception']='DataSourceException';ex['name']=e.datasourceCaption;ex['message']=e.exceptionMessage;ex['type']=e.exceptionType;ex['authoring']=tsConfig.is_authoring;ex['attributes']=e.exceptionAttrs;var iw=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',tab.BrowserSupport.getOrigin(document.location),tsConfig.language);iw=ss.formatString('{0}path={1}',iw,encodeURIComponent(tsConfig.requestURI));iw=ss.formatString('{0}&attributes={1}',iw,encodeURIComponent(JSON.stringify(ex)));return iw};cH.$2=function(e){e=e.toLowerCase();var ex=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return ex};cH.$3=function(){return tab.FeatureFlags.isEnabled('DataToTheWeb')&&tab.FeatureFlags.isEnabled('DataToTheWebEdits')&&tab.FeatureFlags.isEnabled('WebCreateConnection')&&tsConfig.is_authoring};cH.$0=function(e){var ex='';var iw=new RegExp('\\[(.)*?\\]','g');iw.exec(e);var ix=iw.exec(e);if(ss.isValue(ix)&&ix.length>1){ex=ix[0].substr(1,ix[0].length-2)}return ex};cH.$5=function(e){var ex=e.lastIndexOf('\\')+1;if(ex===0){ex=e.lastIndexOf('/')+1}ex=Math.max(0,ex);return e.substring(ex)};cH.$4=function(e){return e==='excel'||e==='excel-direct'||e==='textscan'};global.tab.DeferredConnectionsCommandHandler=cH;var cI=function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')};cI.__typeName='tab.DeferredConnectionsSessionErrorHandler';global.tab.DeferredConnectionsSessionErrorHandler=cI;var cJ=function(){this.$0=null;this.exceptionHandler=null};cJ.__typeName='tab.DeferredModelEventHandler';global.tab.DeferredModelEventHandler=cJ;var cK=function(e){this.$1=null;this.$2=null;this.$2$1=null;eQ.call(this,e,new fx('deviceLayoutInfoItem'.toString()));this.$1=[];this.$2=new m(new l(this))};cK.__typeName='tab.DeviceLayoutInfoItemModel';global.tab.DeviceLayoutInfoItemModel=cK;var cL=function(){};cL.__typeName='tab.DialogPlugins';cL.$0=function(e,ex,iw){var ix=eU.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;for(var iy=0;iy<cL.$2.length;iy++){var iz=cL.$2[iy];ix.addDependency(iz)}eY.registerHandlerFromJsModule(e,iw,function(iA){return new ft(iA,iw,document.body)})};cL.$1=function(){var e=[];e.push(eU.registerRawJsModule('@tableau/dialog-api-contract','dialog-api-contract-web.min','dialog-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured);e.push(eU.registerRawJsModule('@tableau/menu-api-contract','menu-api-contract-web.min','menu-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured);return e};global.tab.DialogPlugins=cL;var cM=function(e){this.$3$1=null;this.$3$2=null;hw.call(this,e,new fx('differenceTableCalcPresModel'.toString()));this.set_referenceModel(new hk(this))};cM.__typeName='tab.DifferenceTableCalcModel';global.tab.DifferenceTableCalcModel=cM;var cN=function(){ss.makeGenericType(S,[Object,cO]).call(this)};cN.__typeName='tab.DoubleClickRegionNoReturnServerCmd';global.tab.DoubleClickRegionNoReturnServerCmd=cN;var cO=function(e){this.$$c=null;this.$$c=e};cO.__typeName='tab.DoubleClickRegionNoReturnServerCmd$Response';global.tab.DoubleClickRegionNoReturnServerCmd$Response=cO;var cP=function(){};cP.__typeName='tab.DrawItemFontExtractor';global.tab.DrawItemFontExtractor=cP;var cQ=function(e){this.$1=null;dh.call(this,e)};cQ.__typeName='tab.DrillPathModel';global.tab.DrillPathModel=cQ;var cR=function(){ss.makeGenericType(S,[Object,cS]).call(this)};cR.__typeName='tab.DropOnDashboardCmd';global.tab.DropOnDashboardCmd=cR;var cS=function(e){this.$$c=null;this.$$c=e};cS.__typeName='tab.DropOnDashboardCmd$Response';global.tab.DropOnDashboardCmd$Response=cS;var cT=function(){ss.makeGenericType(S,[Object,cU]).call(this)};cT.__typeName='tab.DropOnSchemaDrillPathCmd';global.tab.DropOnSchemaDrillPathCmd=cT;var cU=function(e){this.$$c=null;this.$$c=e};cU.__typeName='tab.DropOnSchemaDrillPathCmd$Response';global.tab.DropOnSchemaDrillPathCmd$Response=cU;var cV=function(){ss.makeGenericType(S,[Object,cW]).call(this)};cV.__typeName='tab.DropOnSchemaFieldCmd';global.tab.DropOnSchemaFieldCmd=cV;var cW=function(e){this.$$c=null;this.$$c=e};cW.__typeName='tab.DropOnSchemaFieldCmd$Response';global.tab.DropOnSchemaFieldCmd$Response=cW;var cX=function(){ss.makeGenericType(S,[Object,cY]).call(this)};cX.__typeName='tab.DropOnSchemaSectionCmd';global.tab.DropOnSchemaSectionCmd=cX;var cY=function(e){this.$$c=null;this.$$c=e};cY.__typeName='tab.DropOnSchemaSectionCmd$Response';global.tab.DropOnSchemaSectionCmd$Response=cY;var cZ=function(e){eQ.call(this,e,new fx('',0))};cZ.__typeName='tab.DSColumnInfoModel';global.tab.DSColumnInfoModel=cZ;var da=function(e,ex){this.$2$1=null;eQ.call(this,e,new fx(ex.toString()))};da.__typeName='tab.EditValueWidgetModel';global.tab.EditValueWidgetModel=da;var db=function(e){this.$0=null;this.$0=e.slice(0)};db.__typeName='tab.ErrorHandlerChain';global.tab.ErrorHandlerChain=db;var dc=function(){};dc.__typeName='tab.ExportServerCommands';dc.exportImage=function(e,ex,iw,ix,iy){var iz={};if(ss.isValue(e)){iz['sheet']=e}iz['storyPointId']=ex;iz['scrollOffsetSheets']=JSON.stringify(ix);var iA=iy.length;var iB=new Array(iA);for(var iC=0;iC<iA;iC++){var iD={};iD.x=ss.round(iy[iC].x);iD.y=ss.round(iy[iC].y);iB[iC]=iD}iz['scrollOffsetPoints']=JSON.stringify(iB);var iE=bO.newCommand$1('png-export-server',iz);gt.executeServerCommand(iE,'immediately',function(iF){var iG=iF;var iH=by.get().get_legacySession();iH.fileDownloadHelper.openDownload(iH.formatSessionTempfileReference(iG.tempfileKey,true,true),iw)},null)};global.tab.ExportServerCommands=dc;var dd=function(){};dd.__typeName='tab.ExtraHtmlMarkupRemover';dd.stripOutMarkup=function(e){if(ss.isNullOrEmptyString(e)){return e}var ex=[];ex.push(new RegExp('<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>','gi'));ex.push(new RegExp('<html.*?>.+?</html.*?>','gi'));var iw=ex;for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];e=e.replace(iy,'')}return e};global.tab.ExtraHtmlMarkupRemover=dd;var de=function(){};de.__typeName='tab.FailureHandler';de.reportFailures=function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var ex={};var iw=e[0].url;var ix=e[0].userAgent;var iy=0;for(var iz=0;iz<e.length;iz++){var iA=e[iz];ex['Error #'+iy.toString()]=de.postContentForStackTrace(iA);iy++}by.get().get_legacySession().$7(iw,ix,ex)}};de.postContentForStackTrace=function(e){var ex=new ss.StringBuilder;ex.appendLine('name: '+e.name);ex.appendLine('message: '+e.message);ex.appendLine('error-mode: '+e.traceMode.toString());if(ss.isValue(e.locations)){ex.appendLine('stack:');for(var iw=0;iw<e.locations.length;iw++){var ix=e.locations[iw];if(ss.isNullOrUndefined(ix.url)&&ss.isNullOrUndefined(ix.lineNo)&&ss.isNullOrUndefined(ix.functionName)){continue}ex.appendLine();ex.append(ix.url+':'+ix.lineNo+','+ix.columnNo+' '+ix.functionName);if(ss.isValue(ix.context)&&ix.context.length>0){for(var iy=0;iy<ix.context.length;iy++){var iz=ix.context[iy];var iA=iz;if(iz.length>120){if(ss.isValue(ix.functionName)&&iz.indexOf(ix.functionName)>0){var iB=iz.indexOf(ix.functionName);var iC=Math.max(0,iB-60);var iD=Math.min(iC+120,iz.length-1);iA=iz.substring(iC,iD)}else{iA=iz.substr(0,120)}}ex.append('    '+iA.trim())}}}}return ex.toString()};de.dispose=function(){de.reportFailures();window.clearInterval(de.$2);de.$2=-1};global.tab.FailureHandler=de;var df=function(e){dh.call(this,e)};df.__typeName='tab.FieldColumnModel';global.tab.FieldColumnModel=df;var dg=function(){};dg.__typeName='tab.FieldInstanceType';global.tab.FieldInstanceType=dg;var dh=function(e){eQ.call(this,e,new fx('field'.toString()))};dh.__typeName='tab.FieldModel';dh.getField=function(e,ex,iw){if(ss.isNullOrUndefined(e)||e.length<=0){return null}for(var ix=0;ix<e.length;ix++){var iy=e[ix];switch(iw){case'localName':{if(ss.referenceEquals(iy.get_localName(),ex)){return iy}break}case'globalName':{if(ss.referenceEquals(iy.get_globalName(),ex)){return iy}break}case'qualifiedLocalName':{if(ss.referenceEquals(iy.get_qualifiedLocalName(),ex)){return iy}break}case'description':{if(ss.referenceEquals(iy.get_description(),ex)){return iy}break}case'userCaption':{if(ss.referenceEquals(iy.get_userCaption(),ex)){return iy}break}case'displayName':{if(ss.referenceEquals(iy.get_displayName(),ex)){return iy}break}default:{return null}}}return null};global.tab.FieldModel=dh;var di=function(e,ex){this.$9=null;this.$e=null;this.$d=null;this.$c=null;this.$a=null;this.$b=null;this.fieldsChanged=null;this.rootFields=null;eQ.call(this,ex,new fx(e,0));this.$b=ex;this.$9={};this.$e={};this.$d={};this.$c={}};di.__typeName='tab.FieldsModel';global.tab.FieldsModel=di;var dj=function(){};dj.__typeName='tab.FieldValueType';global.tab.FieldValueType=dj;var dk=function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)};dk.__typeName='tab.FifoCache';global.tab.FifoCache=dk;var dl=function(e,ex){this.$2=null;this.$3=null;this.$2=e;this.$3=ex};dl.__typeName='tab.FileDownloadHelper';global.tab.FileDownloadHelper=dl;var dm=function(){};dm.__typeName='tab.FilterClientCommands';dm.setQuantitativeFilterRange=function(e,ex,iw,ix,iy){var iz=bO.newCommand('range-filter',{});bO.addVisualIdToCommand(iz.commandParams,e);iz.commandParams['globalFieldName']=ex;if(ss.isValue(iw)){iz.commandParams['filterRangeMin']=iw.toString()}if(ss.isValue(ix)){iz.commandParams['filterRangeMax']=ix.toString()}iz.commandParams['included']=iy.toString();gt.executeServerCommand(iz,'immediately')};dm.setCategoricalFilterValues=function(e,ex,iw,ix,iy){var iz={};bO.addVisualIdToCommand(iz,e);iz['globalFieldName']=ex;iz['filterValues']=JSON.stringify(ix||[]);iz['filterUpdateType']=iw.toString();iz['heuristicCommandReinterpretation']=iy;gt.executeServerCommand(bO.newCommand('categorical-filter',iz),'immediately')};dm.setCategoricalFilterValuesByIndex=function(e,ex,iw,ix){if(!ss.isValue(iw)){iw='filter-replace'}if(!ss.isValue(ix)){ix=[]}var iy={};bO.addVisualIdToCommand(iy,e);iy['globalFieldName']=ex;iy['filterIndices']=JSON.stringify(ix);iy['filterUpdateType']=iw.toString();gt.executeServerCommand(bO.newCommand('categorical-filter-by-index',iy),'immediately')};dm.modifyCategoricalFilterValues=function(e,ex,iw,ix,iy){if((!ss.isValue(iw)||iw.length===0)&&(!ss.isValue(ix)||ix.length===0)){return}var iz={};bO.addVisualIdToCommand(iz,e);iz['globalFieldName']=ex;if(ss.isValue(iw)&&iw.length>0){iz['filterAdd']=JSON.stringify(iw)}if(ss.isValue(ix)&&ix.length>0){iz['filterRemove']=JSON.stringify(ix)}iz['filterUpdateType']='filter-delta'.toString();if(iy){iz['filterUpdateQualifierType']='filter-update-custom-domain'.toString()}gt.executeServerCommand(bO.newCommand('categorical-filter',iz),'immediately')};dm.modifyCategoricalFilterValuesByIndex=function(e,ex,iw,ix){if((!ss.isValue(iw)||iw.length===0)&&(!ss.isValue(ix)||ix.length===0)){return}var iy={};bO.addVisualIdToCommand(iy,e);iy['globalFieldName']=ex;if(ss.isValue(iw)){iy['filterAddIndices']=JSON.stringify(iw)}if(ss.isValue(ix)){iy['filterRemoveIndices']=JSON.stringify(ix)}iy['filterUpdateType']='filter-delta'.toString();gt.executeServerCommand(bO.newCommand('categorical-filter-by-index',iy),'immediately')};dm.setCategoricalQuickFilterMode=function(e,ex,iw){var ix={};bO.addVisualIdToCommand(ix,e);ix['categoricalMode']=iw.toString();ix['fn']=ex;gt.executeServerCommand(bO.newCommand('categorical-quick-filter-mode',ix),'immediately')};dm.setCategoricalQuickFilterDomain=function(e,ex,iw){var ix={};bO.addVisualIdToCommand(ix,e);ix['filterDomainType']=iw.toString();ix['fn']=ex;gt.executeServerCommand(bO.newCommand('domain-quick-filter',ix),'immediately')};dm.setPatternFilterState=function(e,ex,iw){var ix={};bO.addVisualIdToCommand(ix,e);ix['patternFilterString']=iw;ix['fn']=ex;gt.executeServerCommand(bO.newCommand('categorical-quick-filter-pattern',ix),'immediately')};dm.addManualFilterItems=function(e,ex,iw){var ix={charsetId:0,name:''};var iy={dataType:'cstring',stringCollation:ix};var iz=iw['tuples'];var iA=[];for(var iB=0;iB<iz.length;iB++){var iC=iz[iB];iA.push(iC['d'])}iy.dataValues=iA;var iD={};bO.addVisualIdToCommand(iD,e);iD['dataColumn']=JSON.stringify(iy);iD['fn']=ex;gt.executeServerCommand(bO.newCommand('add-manual-items-to-filter',iD),'immediately')};dm.levelDrill=function(e,ex,iw,ix){var iy={};bO.addVisualIdToCommand(iy,e);iy['boolAggregateDrillUp']=ix.toString();iy['shelfType']=iw.toString();iy['position']=ex.toString();gt.executeServerCommand(bO.newCommand('level-drill-up-down',iy),'immediately')};dm.updateCategoricalFilter=function(e){if(!R.get_instance().get_isLocalRenderMode()){return}var ex=function(){return true};var iw=function(ix,iy){var iz=hO.lookupAlias(iy,ix,R.get_instance().get_dataDictionary());return!e.includesValue(iz)};dm.$5(e.get_filterField(),e.get_targetSheets(),ex,iw,true)};dm.updateQuantitativeFilter=function(e){if(!R.get_instance().get_isLocalRenderMode()){return}var ex=function(){var ix=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var iy=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return ix&&iy};var iw=function(ix,iy){var iz=hO.lookupRawDataValue(iy,ix,R.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(iz)||iz==='%null%'){return false}if(ix.get_dataType()==='date'||ix.get_dataType()==='datetime'){var iA=tab.DateUtil.parsePresModelDate(iz);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(iA))}else{return!e.valueInRange(parseFloat(iz))}};dm.$5(e.get_filterField(),e.get_targetSheets(),ex,iw,false)};dm.applyFilter=function(e,ex,iw){var ix=e.get_vizDataModel();var iy=ix.getVizDataField(ex);var iz=function(iA){return iw(iy,iA)};return iy.tupleIdsThatPass(iz)};dm.doRelativeDateQuickFilter=function(e,ex,iw,ix,iy){var iz=dm.createDoRelativeDateQuickFilterParams(e,ex,iw,ix,iy);gt.executeServerCommand(bO.newCommand('relative-date-filter',iz),'immediately')};dm.doLevelHierarchialFilter=function(e,ex,iw,ix,iy){var iz=dm.$2(e,ex,iw,ix,iy);gt.executeServerCommand(bO.newCommand('hierarchical-filter',iz),'immediately')};dm.doMemberHierarchialFilter=function(e,ex,iw,ix,iy){var iz=dm.$3(e,ex,iw,ix,iy);gt.executeServerCommand(bO.newCommand('hierarchical-filter',iz),'immediately')};dm.doRangeHierarchialFilter=function(e,ex,iw,ix,iy){var iz=dm.$4(e,ex,iw,ix,iy);gt.executeServerCommand(bO.newCommand('hierarchical-filter',iz),'immediately')};dm.resetQuantitativeFilter=function(e,ex){for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];var iy=eT.getVisualModel(R.get_instance(),ix);if(ss.isNullOrUndefined(iy)){continue}if(dm.$0(e,ix)){var iz=[];iy.setFilteredTuples(e,iz);iy.setHiddenTuples(e,iz)}hM.validateVisualModel(iy)}};dm.createDoRelativeDateQuickFilterParams=function(e,ex,iw,ix,iy,iz,iA){var iB={};bO.addVisualIdToCommand(iB,e);iB['globalFieldName']=ex;iB['datePeriodType']=iw;iB['dateRangeType']=ix;if(ix==='lastn'||ix==='nextn'){iB['rangeN']=iy}if(ss.isValue(iz)){iB['anchorDate']=iz}if(ss.isValue(iA)){iB['included']=iA}return iB};dm.$2=function(e,ex,iw,ix,iy){var iz={};bO.addVisualIdToCommand(iz,e);var iA={};iA['filterLevelAdd']=iw;iA['filterLevelRemove']=ix;iz['globalFieldName']=ex;iz['filterOptions']=iA;iz['filterUpdateType']=iy;return iz};dm.$3=function(e,ex,iw,ix,iy){var iz={};bO.addVisualIdToCommand(iz,e);var iA={};iA['filterAdd']=iw;iA['filterRemove']=ix;iz['globalFieldName']=ex;iz['filterOptions']=iA;iz['filterUpdateType']=iy;return iz};dm.$4=function(e,ex,iw,ix,iy){var iz={};bO.addVisualIdToCommand(iz,e);var iA={};iA['filterRangeAdd']=iw;iA['filterRangeRemove']=ix;iz['globalFieldName']=ex;iz['filterOptions']=iA;iz['filterUpdateType']=iy;return iz};dm.$0=function(e,ex){var iw=eT.getVisualModel(R.get_instance(),ex);return dm.$1(iw,e)};dm.$1=function(e,ex){if(ss.isValue(e)){return e.get_shouldUpdate()&&e.hasFilterFieldData(ex)}return false};dm.$5=function(e,ex,iw,ix,iy){var iz=new D(function(iA){for(var iB=0;iB<ex.length;iB++){var iC=ex[iB];var iD=eT.getVisualModel(R.get_instance(),iC);if(ss.isNullOrUndefined(iD)){continue}var iE=dm.$1(iD,e);if(!iE||!iw()||ss.isNullOrUndefined(iD.get_vizDataModel().getVizDataField(e))){if(!iy){eT.setVisualValidStateOnModel(iA,iD,false)}}else{var iF=[];iF=dm.applyFilter(iD,e,ix);iD.setFilteredTuples(e,iF);if(!iy){iD.setHiddenTuples(e,iF)}eT.setVisualValidStateOnModel(iA,iD,true)}}});iz.set_commandName((iy?'categorical-filter'.toString():'range-filter'.toString()));by.SendCommand(iz)};global.tab.FilterClientCommands=dm;var dn=function(e){this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('flipboard'.toString()));this.$1=new he(this);if((!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache'))&&ss.isNullOrUndefined(dn.presModelCache)){dn.presModelCache=new hf}};dn.__typeName='tab.FlipboardModel';global.tab.FlipboardModel=dn;var dp=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;eQ.call(this,e,new fx('flipboardNav'.toString()));this.$3=[]};dp.__typeName='tab.FlipboardNavigatorModel';global.tab.FlipboardNavigatorModel=dp;var dq=function(){};dq.__typeName='tab.FloatingToolbarClientCommands';dq.setDefaultMapToolSelectionCommand=function(e){var ex=bO.newCommand('default-map-tool-selection',null);ex.commandParams={};ex.commandParams['defaultMapToolEnum']=e;by.SendCommand(new fJ(ex,'immediately',null,null))};global.tab.FloatingToolbarClientCommands=dq;var dr=function(e){this.$1=null;dh.call(this,e)};dr.__typeName='tab.FolderModel';global.tab.FolderModel=dr;var ds=function(){};ds.__typeName='tab.FontNotificationUtil';ds.add_fontPropertiesIdentified=function(e){ds.$1$1=ss.delegateCombine(ds.$1$1,e)};ds.remove_fontPropertiesIdentified=function(e){ds.$1$1=ss.delegateRemove(ds.$1$1,e)};ds.add_allFontsFound=function(e){ds.$1$2=ss.delegateCombine(ds.$1$2,e)};ds.remove_allFontsFound=function(e){ds.$1$2=ss.delegateRemove(ds.$1$2,e)};ds.notifyFontsFromVisualListPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex=new dS;var iw={type:'draw-group',drawItems:e.drawItems};ds.$6(ex.extractFontFromPresModel(iw))};ds.notifyFontsFromTextRegionPresModel=function(e){if(ss.isNullOrUndefined(e)){return}ds.$6(ds.$3(e.html))};ds.getFontsFromUberTipDataPresModel=function(e){if(ss.isNullOrUndefined(e)){return[]}var ex={};for(var iw=0;iw<e.ubertipPaneDatas.length;iw++){var ix=e.ubertipPaneDatas[iw];var iy=ds.$3(ix.htmlTooltip);for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];ds.$1(ex,iA)}}return _.values(ex)};ds.notifyFontsFromUberTipDataPresModel=function(e){ds.$6(ds.getFontsFromUberTipDataPresModel(e))};ds.notifyFontsFromPagePresModel=function(e){if(ss.isNullOrUndefined(e)){return}ds.$6(ds.$3(e.titleHtml))};ds.notifyFontsFromQuantitativeColorLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};ds.$1(ex,ds.$4(e.labelTextStyle));ds.$2(ex,e.titleHtml);ds.$6(_.values(ex))};ds.notifyFontsFromCategoricalLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};ds.$1(ex,ds.$4(e.textStyle));ds.$1(ex,ds.$4(e.titleStyleModel));ds.$1(ex,ds.$4(e.selectedTextStyleModel));ds.$2(ex,e.titleHtml);ds.$6(_.values(ex))};ds.notifyFontsFromServerRenderedLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};ds.$2(ex,e.titleHtml);ds.$6(_.values(ex))};ds.notifyFontsFromUberTipPresModel=function(e){if(ss.isNullOrUndefined(e)){return}ds.$6(ds.$3(e.htmlTooltip))};ds.$3=function(e){var ex={};ds.$2(ex,e);return _.values(ex)};ds.$4=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.fontName)){return new dt}var ex=new dt;ex.set_fontFamily(e.fontName);ex.set_weight(ss.coalesce(e.fontWeight,''));ex.set_style(ss.coalesce(e.fontStyle,''));return ex};ds.notifyFontsFromTextStylePresModel=function(e){var ex=[];var iw=ds.$4(e);if(!ss.isNullOrEmptyString(iw.get_fontFamily())){ex.push(iw)}ds.$6(ex)};ds.notifyFontsFromPDMarksPresModel=function(e){if(ss.isValue(e)&&ss.isValue(e.textStyleColumns)){var ex=e.textStyleColumns;if(ss.keyExists(ex,'font')){var iw=ex['font'];var ix=iw.dataValues.length;var iy={};for(var iz=0;iz<ix;iz++){ds.$0(iy,ex,iz)}if(ss.getKeyCount(iy)>0){ds.$6(_.values(iy))}}}};ds.$1=function(e,ex){if(ss.isNullOrEmptyString(ex.get_fontFamily())){return}e[ex.get_hash()]=ex};ds.$2=function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var iw=$(ex).find('[style]').addBack();for(var ix=0;ix<iw.length;ix++){var iy=iw[ix].style.fontFamily;var iz=iw[ix].style.fontWeight;if(ss.isNullOrEmptyString(iy)){continue}var iA=new dt;iA.set_fontFamily(iy);iA.set_weight(iz);ds.$1(e,iA)}};ds.$0=function(e,ex,iw){var ix='';var iy='';var iz='';if(ss.keyExists(ex,'font_style')&&parseInt(ex['font_style'].dataValues[iw].toString())===1){iy='italic'}if(ss.keyExists(ex,'font_weight')&&parseInt(ex['font_weight'].dataValues[iw].toString())===1){ix='bold'}if(ss.keyExists(ex,'font')){iz=ex['font'].dataValues[iw].toString()}if(ss.isNullOrEmptyString(iz)){return}var iA=new dt;iA.set_fontFamily(iz);iA.set_weight(ix);iA.set_style(iy);var iB=iA;ds.$1(e,iB)};ds.$6=function(e){if(!ss.staticEquals(ds.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty(e)){ds.$1$1(e)}};ds.$5=function(){if(!ss.staticEquals(ds.$1$2,null)){ds.$1$2()}};global.tab.FontNotificationUtil=ds;var dt=function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''};dt.__typeName='tab.FontProperties';global.tab.FontProperties=dt;var du=function(e){this.$5=null;this.$6=false;this.$4=ss.mkdict(['line-drop',1]);this.$3$1=null;dx.call(this,e)};du.__typeName='tab.FormatContainerModel';du.get_formatPaneModel=function(){return R.get_instance().get_workbook().get_formatPaneModel()};global.tab.FormatContainerModel=du;var dv=function(e){dx.call(this,e)};dv.__typeName='tab.FormatControlModel';global.tab.FormatControlModel=dv;var dw=function(){};dw.__typeName='tab.FormatItemExtensions';dw.hasPreview=function(e){return e==='compositeContainer'||e==='tabGroup'};global.tab.FormatItemExtensions=dw;var dx=function(e){this.$2$1=null;eQ.call(this,e,new fx('formatItem'.toString()))};dx.__typeName='tab.FormatItemModel';dx.createModel=function(e,ex,iw){switch(ex.typeOfFormatItem){case'formatContainer':{var ix=new du(e);ix.update(ex,iw);return ix}case'formatControl':{var iy=new dv(e);iy.update(ex,iw);return iy}default:{return null}}};global.tab.FormatItemModel=dx;var dy=function(){ss.makeGenericType(S,[Object,dz]).call(this)};dy.__typeName='tab.GetAlertMeasuresFromSelectionCmd';global.tab.GetAlertMeasuresFromSelectionCmd=dy;var dz=function(e){this.$$c=null;this.$$c=e};dz.__typeName='tab.GetAlertMeasuresFromSelectionCmd$Response';global.tab.GetAlertMeasuresFromSelectionCmd$Response=dz;var dA=function(){ss.makeGenericType(S,[Object,dB]).call(this)};dA.__typeName='tab.GetCharsetOptionsCmd';global.tab.GetCharsetOptionsCmd=dA;var dB=function(e){this.$$c=null;this.$$c=e};dB.__typeName='tab.GetCharsetOptionsCmd$Response';global.tab.GetCharsetOptionsCmd$Response=dB;var dC=function(){ss.makeGenericType(S,[Object,dD]).call(this)};dC.__typeName='tab.GetDashboardDragDropCmd';global.tab.GetDashboardDragDropCmd=dC;var dD=function(e){this.$$c=null;this.$$c=e};dD.__typeName='tab.GetDashboardDragDropCmd$Response';global.tab.GetDashboardDragDropCmd$Response=dD;var dE=function(){ss.makeGenericType(S,[Object,dF]).call(this)};dE.__typeName='tab.GetDashboardSizingCmd';global.tab.GetDashboardSizingCmd=dE;var dF=function(e){this.$$c=null;this.$$c=e};dF.__typeName='tab.GetDashboardSizingCmd$Response';global.tab.GetDashboardSizingCmd$Response=dF;var dG=function(){ss.makeGenericType(S,[Object,dH]).call(this)};dG.__typeName='tab.GetDataSourceDataPresModelCmd';global.tab.GetDataSourceDataPresModelCmd=dG;var dH=function(e){this.$$c=null;this.$$c=e};dH.__typeName='tab.GetDataSourceDataPresModelCmd$Response';global.tab.GetDataSourceDataPresModelCmd$Response=dH;var dI=function(){ss.makeGenericType(S,[Object,dJ]).call(this)};dI.__typeName='tab.GetLocaleOptionsCmd';global.tab.GetLocaleOptionsCmd=dI;var dJ=function(e){this.$$c=null;this.$$c=e};dJ.__typeName='tab.GetLocaleOptionsCmd$Response';global.tab.GetLocaleOptionsCmd$Response=dJ;var dK=function(){ss.makeGenericType(S,[Object,dL]).call(this)};dK.__typeName='tab.GetThumbnailCmd';global.tab.GetThumbnailCmd=dK;var dL=function(e){this.$$c=null;this.$$c=e};dL.__typeName='tab.GetThumbnailCmd$Response';global.tab.GetThumbnailCmd$Response=dL;var dM=function(){ss.makeGenericType(S,[Object,dN]).call(this)};dM.__typeName='tab.GetURLSubstitutionKeywordsCmd';global.tab.GetURLSubstitutionKeywordsCmd=dM;var dN=function(e){this.$$c=null;this.$$c=e};dN.__typeName='tab.GetURLSubstitutionKeywordsCmd$Response';global.tab.GetURLSubstitutionKeywordsCmd$Response=dN;var dO=function(){ss.makeGenericType(S,[Object,dP]).call(this)};dO.__typeName='tab.GetWebCategoricalColorDialogCmd';global.tab.GetWebCategoricalColorDialogCmd=dO;var dP=function(e){this.$$c=null;this.$$c=e};dP.__typeName='tab.GetWebCategoricalColorDialogCmd$Response';global.tab.GetWebCategoricalColorDialogCmd$Response=dP;var dQ=function(){ss.makeGenericType(S,[Object,dR]).call(this)};dQ.__typeName='tab.GetWebQuantitativeColorDialogCmd';global.tab.GetWebQuantitativeColorDialogCmd=dQ;var dR=function(e){this.$$c=null;this.$$c=e};dR.__typeName='tab.GetWebQuantitativeColorDialogCmd$Response';global.tab.GetWebQuantitativeColorDialogCmd$Response=dR;var dS=function(){};dS.__typeName='tab.GroupFontExtractor';global.tab.GroupFontExtractor=dS;var dT=function(e){df.call(this,e)};dT.__typeName='tab.GroupModel';global.tab.GroupModel=dT;var dU=function(){ss.makeGenericType(S,[Object,dV]).call(this)};dU.__typeName='tab.HighlightItemsByPatternMatchCmd';global.tab.HighlightItemsByPatternMatchCmd=dU;var dV=function(e){this.$$c=null;this.$$c=e};dV.__typeName='tab.HighlightItemsByPatternMatchCmd$Response';global.tab.HighlightItemsByPatternMatchCmd$Response=dV;var dW=function(){};dW.__typeName='tab.HistoryManager';dW.setInitialState=function(e){var ex=dW.$1(e,null);tab.HistoryUtil.replaceState(window.self,ex.associatedState,null,null)};dW.addToHistory=function(e,ex){var iw=dW.$1(e,ex);tab.HistoryUtil.pushState(window.self,iw.associatedState,null,null);return iw};dW.$1=function(e,ex){dW.$0();var iw={id:dW.$8,key:'_vql_state_'};var ix={onBack:e,onForward:ex,id:dW.$8,associatedState:iw};dW.$8++;dW.$5.set(ix.id,ix);dW.$7=dW.$8;return ix};dW.$0=function(){if(dW.$7<dW.$8){for(var e=dW.$7+1;e<=dW.$8;e++){dW.$5.delete(e)}}};dW.$3=function(e){if(ss.isNullOrUndefined(e)){return}var ex=e;if(ss.isNullOrUndefined(ex.state)||ss.isNullOrUndefined(ex.state.key)||ex.state.key!=='_vql_state_'){return}dW.$4(ex.state)};dW.$4=function(e){var ex=e.id<dW.$7;var iw=dW.$5.get(e.id);if(ss.isNullOrUndefined(iw)){return}dW.$2(ex,iw);dW.$7=e.id};dW.$2=function(e,ex){if(e){if(!ss.staticEquals(ex.onBack,null)){ex.onBack()}}else if(!ss.staticEquals(ex.onForward,null)){ex.onForward()}};global.tab.HistoryManager=dW;var dX=function(){ss.makeGenericType(S,[Object,dY]).call(this)};dX.__typeName='tab.HitTestSceneCmd';global.tab.HitTestSceneCmd=dX;var dY=function(e){this.$$c=null;this.$$c=e};dY.__typeName='tab.HitTestSceneCmd$Response';global.tab.HitTestSceneCmd$Response=dY;var dZ=function(){};dZ.__typeName='tab.HTMLEscape';global.tab.HTMLEscape=dZ;var ea=function(){};ea.__typeName='tab.IBrushingModelInfo';global.tab.IBrushingModelInfo=ea;var eb=function(){};eb.__typeName='tab.ICommandDispatcher';global.tab.ICommandDispatcher=eb;var ec=function(){};ec.__typeName='tab.ICommandModel';global.tab.ICommandModel=ec;var ed=function(){};ed.__typeName='tab.IContinuousRangeModel';global.tab.IContinuousRangeModel=ed;var ee=function(){};ee.__typeName='tab.IDataSourceDataNotification';global.tab.IDataSourceDataNotification=ee;var ef=function(){};ef.__typeName='tab.IDetachableNotificationHandler';global.tab.IDetachableNotificationHandler=ef;var eg=function(){};eg.__typeName='tab.IDrawItemFontExtractor';global.tab.IDrawItemFontExtractor=eg;var eh=function(){};eh.__typeName='tab.IExportImageHelper';global.tab.IExportImageHelper=eh;var ei=function(){};ei.__typeName='tab.IExportPdfHelper';global.tab.IExportPdfHelper=ei;var ej=function(){};ej.__typeName='tab.IHandleNotifications';global.tab.IHandleNotifications=ej;var ek=function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]};ek.__typeName='tab.ImageTileTracker';ek.$0=function(){ek.$2=ek.$2||new ek;return ek.$2};ek.$1=function(){return tab.Logger.lazyGetLogger(ek)};ek.incrementPendingCount=function(){ek.$0().$1++};ek.decrementPendingCount=function(){var e=ek.$0();if(e.$1>0){--e.$1;if(e.$1===0){for(var ex=0;ex<e.$0.length;ex++){var iw=e.$0[ex];try{iw()}catch(ix){var e=ss.Exception.wrap(ix)}}ek.reset()}}else{}};ek.callWhenImagesLoaded=function(e){if(ek.$0().$1===0){try{e()}catch(ex){var e=ss.Exception.wrap(ex)}}else{ek.$0().$0.push(e)}};ek.reset=function(){ek.$2=null};global.tab.ImageTileTracker=ek;var el=function(e){this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('imageZone'.toString()));this.$1=e.get_zone()};el.__typeName='tab.ImageZoneModel';global.tab.ImageZoneModel=el;var em=function(){};em.__typeName='tab.IModelEventHandler';global.tab.IModelEventHandler=em;var en=function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null};en.__typeName='tab.InvalidationInfo';global.tab.InvalidationInfo=en;var eo=function(){};eo.__typeName='tab.IRemoteCommandHandler';global.tab.IRemoteCommandHandler=eo;var ep=function(){};ep.__typeName='tab.ISessionErrorHandler';global.tab.ISessionErrorHandler=ep;var eq=function(){ss.makeGenericType(S,[Object,er]).call(this)};eq.__typeName='tab.IsWebZoneUrlValidCmd';global.tab.IsWebZoneUrlValidCmd=eq;var er=function(e){this.$$c=null;this.$$c=e};er.__typeName='tab.IsWebZoneUrlValidCmd$Response';global.tab.IsWebZoneUrlValidCmd$Response=er;var es=function(e){this.moduleBeingConfigured=null;this.moduleBeingConfigured=e};es.__typeName='tab.JsModuleConfigurationBuilder';global.tab.JsModuleConfigurationBuilder=es;var et=function(e,ex){this.moduleName=null;this.assemblyName=null;this.loadingMethod=null;this.isRawJavaScriptModule=false;this.shouldExportResult=false;this.exportResultName=null;this.$0=[];this.$1=[];tab.Param.verifyString(e,'moduleName');this.moduleName=e;this.assemblyName=ss.coalesce(ex,e);this.loadingMethod='asynchronous'};et.__typeName='tab.JsModuleInfo';global.tab.JsModuleInfo=et;var eu=function(e,ex){this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('layer-encoding['+ex+']'));this.$1=new eP(this)};eu.__typeName='tab.LayerEncodingModel';global.tab.LayerEncodingModel=eu;var ev=function(e,ex,iw){this.layoutid=null;T.call(this,e,iw);this.layoutid=ex};ev.__typeName='tab.LayoutSession';global.tab.LayoutSession=ev;var ew=function(e){this.$1=null;this.parent=null;this.$0=null;this.$0=e;this.$1=[]};ew.__typeName='tab.LayoutTreeItem';global.tab.LayoutTreeItem=ew;var ey=function(e){this.$5=null;this.$4=null;this.$2$1=null;this.rootNodes=null;eQ.call(this,e,new fx('dashboardZoneHierarchy'.toString()));this.$5={};this.$4={};this.rootNodes=[]};ey.__typeName='tab.LayoutTreeModel';ey.$0=function(e){var ex={};if(ss.isValue(e)){for(var iw=0;iw<e.length;iw++){var ix=e[iw];ex[ix.zoneId]=new ew(ix)}}return ex};global.tab.LayoutTreeModel=ey;var ez=function(e,ex,iw,ix){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=ex;this.$2=iw;if(ss.isValue(ix)){this.$4=ix}else{this.$4=[]}};ez.__typeName='tab.LegacyCategoricalQuickFilterData';global.tab.LegacyCategoricalQuickFilterData=ez;var eA=function(e,ex){eB.call(this,e,ex)};eA.__typeName='tab.LegacyCategoricalQuickFilterModel';global.tab.LegacyCategoricalQuickFilterModel=eA;var eB=function(e,ex){this.$2$1=null;eQ.call(this,e,new fx('filter['+ex.name.join('_')+']'));this.pm=ex};eB.__typeName='tab.LegacyFilterModel';eB.$1=function(e){if(ss.isValue(e)){var ex={t:e.t,v:e.v};tableau.format.isDateTimeWithNonMidnightTime(ex)}return false};eB.isQuantitativeTimestampFilter=function(e,ex,iw){var ix=eB.$1(ex)||eB.$1(iw);if(!ix&&ss.isValue(e)){if(ss.isValue(e.data)){ix=ix||eB.$1(e.data.min)||eB.$1(e.data.max)}if(!ix&&ss.isValue(e.range)){ix=ix||eB.$1(e.range.min)||eB.$1(e.range.max)}}return ix};eB.$0=function(e){return e.t==='t'||e.t==='d'};eB.isQuantitativeDateFilter=function(e,ex,iw){if(ss.isValue(ex)){return eB.$0(ex)}else if(ss.isValue(iw)){return eB.$0(iw)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return eB.$0(e.data.min)}else if(ss.isValue(e.data.max)){return eB.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return eB.$0(e.range.min)}else if(ss.isValue(e.range.max)){return eB.$0(e.range.max)}}}return false};eB.isNormalValue=function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)};eB.timestampsWithSameDateOrNull=function(e){var ex=null;for(var iw=0;iw<e.length;iw++){var ix=e[iw];if(ss.isNullOrUndefined(ix)||ix.s==='n'||ss.isNullOrUndefined(ix.v)&&ix.t==='t'){continue}if(!eB.isNormalValue(ix)||ix.t!=='t'){return false}var iy=(ss.Nullable$1.ge(ix.v,0)?Math.floor(ix.v):Math.ceil(ix.v));if(ss.isValue(ex)&&iy!==ex){return false}ex=iy}return ss.isValue(ex)};global.tab.LegacyFilterModel=eB;var eC=function(e,ex){eB.call(this,e,ex)};eC.__typeName='tab.LegacyHierarchicalQuickFilterModel';global.tab.LegacyHierarchicalQuickFilterModel=eC;var eD=function(e){this.$2$1=null;eQ.call(this,e,new fx('serverRenderedLegend'.toString()))};eD.__typeName='tab.LegacyLegendModel';global.tab.LegacyLegendModel=eD;var eE=function(e,ex){eB.call(this,e,ex)};eE.__typeName='tab.LegacyQuantitativeQuickFilterModel';global.tab.LegacyQuantitativeQuickFilterModel=eE;var eF=function(e){this.$2=null;this.$3=null;this.$2$1=null;eQ.call(this,e,new fx('quickFilterDisplay'))};eF.__typeName='tab.LegacyQuickFilterDisplayModel';global.tab.LegacyQuickFilterDisplayModel=eF;var eG=function(e,ex){eB.call(this,e,ex)};eG.__typeName='tab.LegacyRelativeDateQuickFilterModel';global.tab.LegacyRelativeDateQuickFilterModel=eG;var eH=function(e,ex){this.$1=0;this.$0=0;fG.call(this);if(e<=ex){this.$1=e;this.$0=ex}else{this.$1=ex;this.$0=e}};eH.__typeName='tab.LinearRangeTransform';global.tab.LinearRangeTransform=eH;var eI=function(e,ex,iw,ix){this.$1=0;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=ex;this.$3=iw;this.$2=ix};eI.__typeName='tab.LocalUbertipInfo';global.tab.LocalUbertipInfo=eI;var eJ=function(e,ex){var iw=function(ix){this.$0={};this.$2=new(ss.makeGenericType(k,[ss.makeGenericType(i,[e,ex])]));this.$1=0;this.$1=ix};ss.registerGenericClassInstance(iw,eJ,[e,ex],{add:function(ix,iy){var iz=this.$0[ix];if(ss.isValue(iz)){this.delete$1(ix)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$3.$0.$0)}iz=new(ss.makeGenericType(j,[ss.makeGenericType(i,[e,ex])]))(new(ss.makeGenericType(i,[e,ex]))(ix,iy));this.$0[ix]=iz;this.$2.$0(iz)},get:function(ix){var iy=this.$0[ix];if(ss.isValue(iy)){this.$2.$1(iy);this.$2.$0(iy);return iy.$0.$1}return ss.getDefaultValue(ex)},has:function(ix){return ss.keyExists(this.$0,ix)},delete$1:function(ix){if(!this.has(ix)){return}var iy=this.$0[ix];delete this.$0[ix];this.$2.$1(iy)},clear:function(){var ix=_.keys(this.$0);for(var iy=0,iz=ix.length;iy<iz;iy++){this.delete$1(ix[iy])}}},function(){return null},function(){return[]});return iw};eJ.__typeName='tab.LruCache$2';ss.initGenericClass(eJ,a,2);global.tab.LruCache$2=eJ;var eK=function(e){this.$2$1=null;this.$2$2=null;eQ.call(this,e,new fx('lightweightMapOptions'.toString()));this.pm={}};eK.__typeName='tab.MapOptionsInfoModel';global.tab.MapOptionsInfoModel=eK;var eL=function(e){this.$2$1=null;eQ.call(this,e,new fx('mapScaleInfo'.toString()))};eL.__typeName='tab.MapScaleInfoModel';global.tab.MapScaleInfoModel=eL;var eM=function(e){this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;eQ.call(this,e,new fx('mapServer'.toString()));this.$3=new fF(this);this.$2=new eL(this)};eM.__typeName='tab.MapServerModel';global.tab.MapServerModel=eM;var eN=function(){gZ.call(this,null,null,null,null,null)};eN.__typeName='tab.MarginDefinition';eN.$ctor1=function(e){gZ.call(this,e.margin,e.marginLeft,e.marginRight,e.marginTop,e.marginBottom)};global.tab.MarginDefinition=eN;var eO=function(e){this.$3=[];this.$2=null;this.$2$1=null;eQ.call(this,e,new fx('marksCardPresModel'.toString()))};eO.__typeName='tab.MarksCardModel';global.tab.MarksCardModel=eO;var eP=function(e){this.$2=null;this.$3=null;this.$2$1=null;eQ.call(this,e,new fx('markSize'.toString()));this.$2=e};eP.__typeName='tab.MarkSizeModel';global.tab.MarkSizeModel=eP;var eQ=function(e,ex){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=ex};eQ.__typeName='tab.Model';eQ.nonWorldUpdate=function(e){var ex=new cJ;try{e({eventHandler:ex})}finally{if(ss.isValue(ex)){ex.dispose()}}};global.tab.Model=eQ;var eR=function(e){var ex=function(){this.$1=null;this.$0=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null;this.$1$3=null};ss.registerGenericClassInstance(ex,eR,[e],{$2:function(iw){this.$1$1=ss.delegateCombine(this.$1$1,iw)},$3:function(iw){this.$1$1=ss.delegateRemove(this.$1$1,iw)},$6:function(iw){this.$1$2=ss.delegateCombine(this.$1$2,iw)},$7:function(iw){this.$1$2=ss.delegateRemove(this.$1$2,iw)},$4:function(iw){this.$1$3=ss.delegateCombine(this.$1$3,iw)},$5:function(iw){this.$1$3=ss.delegateRemove(this.$1$3,iw)},get_model:function(){return this.$1},set_model:function(iw){var ix=this.$1;this.$1=iw;if(!ss.referenceEquals(ix,this.$1)){if(ss.isValue(ix)&&!ss.staticEquals(this.$1$2,null)){this.$1$2(ix)}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$1)}if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},addModelChangedHandler:function(iw){this.$4(iw);if(ss.isValue(this.$1)){iw()}return this},removeModelChangedHandler:function(iw){this.$5(iw)},addEventBinding:function(iw,ix){this.$2(iw);if(ss.isValue(this.$1)){iw(this.$1)}this.$6(ix);return this},removeEventBinding:function(iw,ix){this.$3(iw);this.$7(ix);if(!ss.staticEquals(ix,null)&&ss.isValue(this.$1)){ix(this.$1)}},createChildModelHolder:function(iw){return function(ix){var iy=new(ss.makeGenericType(eR,[iw]));iy.$0.add$1(this.newDisposableContext().addModelChangedHandler(ss.mkdel(this,function(){var iz=null;if(ss.isValue(this.get_model())){iz=ix(this.get_model())}iy.set_model(iz)})));this.$0.add$1(iy);return iy}},dispose:function(){this.set_model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$0.dispose()},newDisposableContext:function(){return new(ss.makeGenericType(eS,[e]))(this)}},function(){return null},function(){return[ss.IDisposable]});return ex};eR.__typeName='tab.ModelHolder$1';ss.initGenericClass(eR,a,1);global.tab.ModelHolder$1=eR;var eS=function(e){var ex=function(iw){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=iw};ss.registerGenericClassInstance(ex,eS,[e],{addModelChangedHandler:function(iw){this.$1.addModelChangedHandler(iw);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(iw)}));return this},addEventBinding:function(iw,ix){this.$1.addEventBinding(iw,ix);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(iw,ix)}));return this},dispose:function(){this.$0.dispose()}},function(){return null},function(){return[ss.IDisposable]});return ex};eS.__typeName='tab.ModelHolderContext$1';ss.initGenericClass(eS,a,1);global.tab.ModelHolderContext$1=eS;var eT=function(){};eT.__typeName='tab.ModelUtils';eT.getPendingZoneContentModel=function(e){if(!fz.get_progressiveLoadEnabled()){return null}var ex=(by.get_hasInstance()?by.get():null);if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_loader())){return null}return ex.get_loader().getPendingZoneContentModel(e)};eT.getViewSession=function(e){return eT.findContentDashboard().getViewSession(e)};eT.getModelsForViz=function(e){return function(ex,iw){var ix=[];if(ss.isValue(ex)){var iy=ex.get_zoneModels();for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];if(ss.isInstanceOfType(iA.get_model(),e)&&ss.referenceEquals(iA.get_worksheetName(),iw.get_worksheetName())){ix.push(iA.get_model())}}}return ix}};eT.getVisualModels=function(e){var ex=eT.findContentDashboard(e);return eT.getVisualModelsFromDashboard(ex)};eT.getVisualModelsFromDashboard=function(e){var ex={};if(ss.isNullOrUndefined(e)){return ex}var iw=e.get_zoneModels();for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];var iz=iy.get_visualModel();if(ss.isValue(iz)){ex[iy.get_worksheetName()]=iz}}if(fz.get_progressiveLoadEnabled()){var iA=(by.get_hasInstance()?by.get():null);if(ss.isValue(iA)&&ss.isValue(iA.get_loader())){var iB=iA.get_loader().getPendingVisuals();var iC=_.keys(iB);for(var iD=0;iD<iC.length;iD++){var iE=iC[iD];ex[iE]=iB[iE]}}}return ex};eT.getSheetInfoPresModel=function(e,ex){var iw=e.get_workbook();if(ss.isNullOrUndefined(iw)||ss.isNullOrUndefined(iw.get_sheetsInfo())){return null}var ix=iw.get_sheetsInfo();for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(ss.referenceEquals(iz.sheet,ex)){return iz}}return null};eT.getVisualModel=function(e,ex){var iw=null;var ix=eT.findContentDashboard(e);if(ss.isNullOrUndefined(ix)){return iw}var iy=ix.get_zoneModels();for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];var iB=iA.get_visualModel();if(ss.isValue(iB)){var iC=iA.get_worksheetName();if(ss.referenceEquals(iC,ex)){iw=iB;break}}}if(fz.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(iw)){var iD=(by.get_hasInstance()?by.get():null);if(ss.isValue(iD)&&ss.isValue(iD.get_loader())){iw=iD.get_loader().getPendingVisual(ex)}}return iw};eT.getVisualModelFromVisualId=function(e,ex){if(ss.isNullOrUndefined(ex)){ex=R.get_instance()}var iw=null;var ix=eT.findContentDashboard(ex);if(ss.isNullOrUndefined(ix)){return iw}var iy=ix.get_zoneModels();for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];var iB=iA.get_visualModel();if(ss.isValue(iB)){if(_.isEqual(iB.get_visualId(),e)){iw=iB;break}}}return iw};eT.getVisualId=function(e){return eT.getVisualModel(R.get_instance(),e).get_visualId()};eT.getFirstAvailableWebZoneName=function(e){var ex=null;var iw=eT.findContentDashboard(e);if(ss.isNullOrUndefined(iw)){return ex}var ix=iw.get_zoneModels();for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(iz.get_zoneType()==='web'){var iA=iz.get_zoneId();ex='frame_'+iA.toString();break}}return ex};eT.isActiveZone=function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===eT.findContentDashboard().get_activeZoneID()}case'worksheet':default:{return true}}};eT.getZoneIdForSheetName=function(e){var ex=eT.findContentDashboard();var iw=ex.get_zoneModels();for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(iy.get_zoneType()==='viz'&&ss.referenceEquals(iy.get_worksheetName(),e)){return iy.get_zoneId()}}return-1};eT.hasBorder=function(e){return e.get_borderStyle()!=='bs-none'&&e.get_borderWidth()!==0};eT.createFilterModel=function(e,ex){switch(ex.type){case'Q':{return new eE(e,ex)}case'H':{return new eC(e,ex)}case'C':{return new eA(e,ex)}case'RD':{return new eG(e,ex)}default:{return new eB(e,ex)}}};eT.findMatchingFilterModel=function(e,ex){var iw=ex.get_frame().param;return e.get_filterModels()[iw]};eT.setVisualValidStateOnModel=function(e,ex,iw){if(ss.isNullOrUndefined(ex)){return}ex.setIsVisualValid(iw,e.modelUpdateContext)};eT.invalidateVisuals=function(e){if(ss.isNullOrUndefined(e)){return}for(var ex=0;ex<e.length;ex++){var iw=e[ex];var ix=eT.getVisualModel(R.get_instance(),iw);if(ss.isValue(ix)){hM.invalidateVisualModel(ix)}}};eT.setVisualValidStateOnPresModel=function(e,ex){if(ss.isNullOrUndefined(ex)){return}e.makeMutablePresModel(ex,false).valid=false};eT.findContentDashboard=function(e){if(ss.isNullOrUndefined(e)){e=R.get_instance()}return e.get_workbook().findContentDashboard()};eT.findActiveVisual=function(){var e=eT.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()};eT.findActiveOrDefaultVisual=function(){var e=eT.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}var ex=e.get_activeVisual();if(ss.isValue(ex)){return ex}var iw=e.get_zoneModels();for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(ss.isValue(iy.get_visualModel())){return iy.get_visualModel()}}return null};eT.reValidateVisualModels=function(e){var ex=eT.getVisualModels(R.get_instance());var iw=_.values(ex);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];iy.reValidate(e)}};eT.findActivePaneSpecId=function(){var e=eT.findActiveOrDefaultVisual();if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null};eT.hasAnyImpliedSelection=function(){var e=eT.getVisualModels(R.get_instance());var ex=_.keys(e);for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];var iy=e[ix];if(!iy.get_impliedSelectionModel().isEmpty){return true}}return false};eT.mergeMapPresModelDelta=function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return}var iw=_.keys(e);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];var iz=ex[iy];if(typeof(iz)==='undefined'){ex[iy]=e[iy]}else if(iz===null){delete ex[iy]}}};eT.isLegacyMenuItemEnabled=function(e){var ex=R.get_instance().get_appPresModel().toolbarPresModel.legacyMenus;if(ss.isNullOrUndefined(ex)){return false}var iw=_.find(ex,function(ix){return ix.legacyMenuName===e});return ss.isValue(iw)&&_.every(iw.legacyMenuStates,function(ix){return ix!=='grayed'})};global.tab.ModelUtils=eT;var eU=function(){};eU.__typeName='tab.ModuleManager';eU.$1=function(e,ex){return((ex.length===0)?ss.createInstance(e):ss.applyConstructor(e,ex))};eU.load=function(e){return function(ex){var iw=eU.load$1(ss.getTypeFullName(e),ex);return iw}};eU.load$1=function(e,ex){tab.Param.verifyString(e,'uniqueModuleName');eU.$2();var iw=eU.$5(e);if(ss.keyExists(eU.$i,iw.moduleName)){return eU.$i[iw.moduleName]}var ix=$.Deferred();eU.$i[iw.moduleName]=ix;eU.$b(Object).call(null,ix,iw.moduleName);var iy='tab.'+iw.assemblyName+'Factory';ix.always(function(){eU.$h.moduleLoaded()});eU.$h.loadRequested();eU.$7(iw).done([function(){eU.$a(ex,iw,iy,ix)}]).fail([function(iz){var iA;var iB='Failed to load dependencies for the module: '+iw.moduleName;if(ss.isNullOrUndefined(iz)){iA=new ss.Exception(iB)}else{var iC=new ss.Exception(iz.toString());iA=new ss.Exception(iB,iC)}ix.reject(iA)}]);return ix};eU.$7=function(e){var ex=$.Deferred();if(!e.get_hasDependencies()){ex.resolve()}else{var iw=_.map(e.get_dependencies(),function(iB){return iB.moduleName});var ix=function(){ex.resolve()};var iy=function(iB){ex.reject(iB)};eU.loadModulesSequentially(ix,iy,iw)}if(e.get_hasDependenciesOnStylesheets()){var iz=ss.getEnumerator(e.get_stylesheetDependencies());try{while(iz.moveNext()){var iA=iz.current();eU.loadCss(iA)}}finally{iz.dispose()}}return ex};eU.$a=function(e,ex,iw,ix){switch(ex.loadingMethod){case'asynchronous':case'synchronous':{eU.$8(Object).call(null,e,ex,iw,ix);break}case'alreadyLoaded':default:{if(ex.isRawJavaScriptModule){ix.resolve.apply(ix,null)}else{var iy='vql'+ex.assemblyName.toLowerCase();var iz=ss.load(iy);var iA=eU.$1(ss.getType(iw,iz),e);ix.resolve(iA)}break}}};eU.loadModulesSequentially=function(e,ex,iw){iw=iw||[];var ix=0;eU.load$1(iw[ix],[]).done(function(){eU.$9(iw,e,1)}).fail(function(iy){if(!ss.staticEquals(ex,null)){ex(iy)}})};eU.register=function(e){return function(ex,iw){var ix='vql'+ex.toLowerCase();eU.$0(ix,(tsConfig.debugMode?(ix+'.debug'):ix));var iy=new et(ex,iw);eU.$f[ss.getTypeFullName(e)]=iy;return new es(iy)}};eU.registerDependencyModule=function(e,ex){return eU.registerRawJsModule(ex,e,ex)};eU.registerRawJsModule=function(e,ex,iw){eU.$0(e,(tsConfig.debugMode?iw:ex));var ix=new et(e,null);eU.$f[e]=ix;return(new es(ix)).andMarkAsRawJavaScriptModule()};eU.registerModulesLoadedCallback=function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('callback')}eU.$h.registerModulesLoadedCallback(e)};eU.isCssLoaded=function(e){if(eU.$e.has(e)){return true}var ex=document.getElementsByTagName('link');for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];if(ss.referenceEquals(ix.getAttribute('href'),e)&&ix.getAttribute('rel')==='stylesheet'){return true}}return false};eU.isScriptLoaded=function(e){var ex=document.getElementsByTagName('script');for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];if(ss.referenceEquals(ix.getAttribute('src'),e)){return true}}return false};eU.loadCss=function(e){if(eU.$e.has(e)){return}eU.$e.add(e);var ex=document.createElement('link');ex.setAttribute('type','text/css');ex.setAttribute('rel','stylesheet');ex.setAttribute('href',e);document.getElementsByTagName('head')[0].appendChild(ex)};eU.$8=function(e){return function(ex,iw,ix,iy){var iz=iw.moduleName.toLowerCase();if(!iw.isRawJavaScriptModule){iz='vql'+iz}var iA=iw.loadingMethod;if(iA==='synchronous'){T.get_waitHandler().showAndLock(false)}var iB=function(){if(iA==='synchronous'){T.get_waitHandler().unlock();T.get_waitHandler().nudge()}};var iC=eU.$4();var iD={};iD['d']='MDLOAD';iD['p']=iw.moduleName;requirejs([iz],function(iE){var iF;if(iw.isRawJavaScriptModule){iF=iE}else{var iG=ss.load(iz);iF=eU.$1(ss.getType(ix,iG),ex)}if(iw.shouldExportResult){if(typeof(window.self[iw.exportResultName])==='function'){throw new ss.Exception('Such function already defined: '+iw.exportResultName)}window.self[iw.exportResultName]=iE}var iH=eU.$4();iD['t']=tabBootstrap.MetricsController.getTiming();iD['e']=iH-iC;var iI=new tabBootstrap.MetricsEvent('gen',15,iD);tabBootstrap.MetricsController.logEvent(iI);iB();iy.resolve(iF)},function(iE){iB();eU.$6(e).call(null,iE,iy)})}};eU.$4=function(){var e;try{e=window.performance.now()}catch(ex){e=(new Date).getTime()}return e};eU.$9=function(e,ex,iw){if(iw>=ss.count(e)){ex();return}eU.load$1(ss.getItem(e,iw),[]).done(function(){eU.$9(e,ex,iw+1)})};eU.$0=function(e,ex){eU.$g[e]=ex;if(eU.$j){requirejs.config({map:ss.mkdict(['*',eU.$g])})}};eU.$2=function(){if(eU.$j){return}eU.$j=true;requirejs.config({baseUrl:tsConfig.external_static_asset_prefix+'/javascripts',map:ss.mkdict(['*',eU.$g]),waitSeconds:60})};eU.$5=function(e){var ex=eU.$f[e];if(ss.isNullOrUndefined(ex)){throw new ss.Exception('Unknown module: '+e)}return ex};eU.$6=function(e){return function(ex,iw){var ix=eU.$3(ex);var iy=new ss.Exception(ix);iw.reject(iy)}};eU.$3=function(e){var ex=e.message;if(ss.isValue(e.requireModules)&&e.requireModules.length>0){var iw=e.requireModules.join(',');ex+='; Modules='+iw}if(!ss.isNullOrEmptyString(e.requireType)){ex+='; RequireType='+e.requireType}return ex};eU.$b=function(e){return function(ex,iw){ex.fail(function(ix){var iy=ix;delete eU.$i[iw];eU.reportException(iy)})}};eU.reportException=function(e){throw e};global.tab.ModuleManager=eU;var eV=function(){this.$3=0;this.$2=[]};eV.__typeName='tab.ModuleTracker';global.tab.ModuleTracker=eV;var eW=function(){dh.call(this,null);var e={};e.fn='';this.swapAndCopyPresModel(e)};eW.__typeName='tab.MultipleFieldsModel';global.tab.MultipleFieldsModel=eW;var eX=function(){};eX.__typeName='tab.NoopModelEventsHandler';eX.get_noopContext=function(){return eX.$0.value()};global.tab.NoopModelEventsHandler=eX;var eY=function(e,ex){this.$2=null;this.$1=null;this.$1$1=null;this.set_notificationId(e);this.$1=ex};eY.__typeName='tab.NotificationHandlerLauncher';eY.registerHandler=function(e,ex){var iw=function(){var iz=$.Deferred();iz.resolve(ex());return iz.promise()};var ix=R.get_instance();var iy=new eY(e,iw);ix.registerNotificationHandler(e,ss.mkdel(iy,iy.onNotify))};eY.registerHandlerFromModule=function(e){return function(ex,iw){var ix=function(){var iA=T.get_waitHandler();iA.addref(true);var iB=$.Deferred();eU.load(e).call(null,[]).done(function(iC){iB.resolve(iw(iC))}).always(function(){iA.release()});return iB.promise()};var iy=R.get_instance();var iz=new eY(ex,ix);iy.registerNotificationHandler(ex,ss.mkdel(iz,iz.onNotify))}};eY.registerHandlerFromJsModule=function(e,ex,iw){var ix=function(){var iA=$.Deferred();eU.load$1(e,[]).done(function(iB){iA.resolve(iw(iB))});return iA.promise()};var iy=R.get_instance();var iz=new eY(ex,ix);iy.registerNotificationHandler(ex,ss.mkdel(iz,iz.onNotify))};global.tab.NotificationHandlerLauncher=eY;var eZ=function(){this.$c=null;this.$4=null;this.$7=null;this.$b=null;this.$5='';this.$9='';this.$d=0;this.$e='';this.$f='';this.$g=0;this.$a=null;this.$6=null;this.$8=tab.Logger.getLogger(eZ,4)};eZ.__typeName='tab.OnlineAnalyticsClient';eZ.add_onLogEvent=function(e){eZ.$1$1=ss.delegateCombine(eZ.$1$1,e)};eZ.remove_onLogEvent=function(e){eZ.$1$1=ss.delegateRemove(eZ.$1$1,e)};eZ.get_telemetryEnabled=function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&!tsConfig.is_guest};eZ.$0=function(){if(ss.isNullOrUndefined(eZ.$1)){eU.registerRawJsModule('analytics-client','analytics-client.min','analytics-client').andExportResultAs('AnalyticsClient');eZ.$1=new eZ}return eZ.$1};eZ.logEvent=function(e,ex){if(eZ.get_telemetryEnabled()){eZ.$0().$3(e,ss.mkdict(ex))}};global.tab.OnlineAnalyticsClient=eZ;var fa=function(){};fa.__typeName='tab.OrderClause';fa.orderFieldFromString=function(e){try{return e}catch(ex){return'unknown'}};fa.isInstanceOfType=function(){return true};global.tab.OrderClause=fa;var fb=function(e,ex,iw,ix){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.set_description(e);this.set_architecture(ex);this.set_family(iw);this.set_version(ix)};fb.__typeName='tab.OSInfo';global.tab.OSInfo=fb;var fc=function(){gZ.call(this,null,null,null,null,null)};fc.__typeName='tab.PaddingDefinition';fc.$ctor1=function(e){gZ.call(this,e.padding,e.paddingLeft,e.paddingRight,e.paddingTop,e.paddingBottom)};global.tab.PaddingDefinition=fc;var fd=function(e){this.$2=null;this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('pageModel'.toString()));this.$2=e.get_zone()};fd.__typeName='tab.PageModel';global.tab.PageModel=fd;var fe=function(e){var ex=function(){};ex.isInstanceOfType=function(){return true};ss.registerGenericClassInstance(ex,fe,[e],{},function(){return null},function(){return[]});return ex};fe.__typeName='tab.PageOfItem$1';ss.initGenericClass(fe,a,1);global.tab.PageOfItem$1=fe;var ff=function(){};ff.__typeName='tab.PageServerCommands';ff.changePage=function(e,ex){var iw=ff.$0(e,ex);gt.executeServerCommand(bO.newCommand('change-page',iw),'immediately')};ff.syncedChangePage=function(e,ex,iw,ix){var iy=ff.$1(ex,iw,ix);var iz=bO.newCommand$1('synced-change-page-server',iy);var iA=new bs((tab.FeatureFlags.isEnabled('PageCardImprovements')?'none':'immediately'),function(iB){if(tab.FeatureFlags.isEnabled('PageCardImprovements')){var iC=iB.makeMutablePresModel(e,false);iC.currentPage=ix;var iD=eT.getVisualModel(R.get_instance(),ex.worksheet);var iE=iD.get_sceneModel();var iF=iB.makeMutablePresModel(iE,false);iF.currentPage=ix;for(var iG=0;iG<iF.panes.length;iG++){var iH=iF.panes[iG];for(var iI=0;iI<iH.drawPane.length;iI++){var iJ=iH.drawPane[iI];if(ss.isValue(iJ.paneMarks)){var iK=iJ.paneMarks.pageIndices[ix*2];var iL=iJ.paneMarks.pageIndices[ix*2+1];iJ.paneMarks.startIndex=iK;iJ.paneMarks.endIndex=iL}}}var iM=iD.get_labelsModel();if(ss.isValue(iM)){var iN=iB.makeMutablePresModel(iM,false);iN.currentPage=ix;for(var iO=0;iO<iN.panes.length;iO++){var iP=iN.panes[iO];for(var iQ=0;iQ<iP.drawPane.length;iQ++){var iR=iP.drawPane[iQ];if(ss.isValue(iR.paneMarks)){var iS=iR.paneMarks.pageIndices[ix*2];var iT=iR.paneMarks.pageIndices[ix*2+1];iR.paneMarks.startIndex=iS;iR.paneMarks.endIndex=iT}}}}}},iz);by.SendCommand(iA)};ff.toggleTrails=function(e){var ex=ff.$2(e);gt.executeServerCommand(bO.newCommand('page-toggle-trails',ex),'afterDelay')};ff.$0=function(e,ex){var iw={};bO.addVisualIdToCommand(iw,ex);iw['pageNumber']=e;return iw};ff.$1=function(e,ex,iw){var ix={};bO.addVisualIdToCommand(ix,e);ix['zoneId']=ex;ix['pageNumber']=iw;return ix};ff.$2=function(e){var ex={};bO.addVisualIdToCommand(ex,e);return ex};global.tab.PageServerCommands=ff;var fg=function(){};fg.__typeName='tab.PaneClientCommands';fg.setPanePrimitive=function(e,ex){var iw=bO.newCommand('set-primitive',null);iw.commandParams=fg.$0(e);iw.commandParams['primitiveType']=ex.toString();by.SendCommand(new fJ(iw,'immediately',null,null))};fg.getDefaultShapeType=function(e,ex){var iw=bO.newCommand('get-default-shape',null);iw.commandParams=fg.$0(e);by.SendCommand(new fJ(iw,'none',function(ix){ex((_.isString(ix)?gI.fromString(ix.toString()):null))},function(){ex(null)}))};fg.setDefaultShapeType=function(e,ex){var iw=bO.newCommand('set-default-shape',null);iw.commandParams=fg.$0(e);iw.commandParams['shapeName']=fg.$9(ex);var ix=new bs(((R.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(iy){fg.$4(e,ex,iy)},iw,null,null);by.SendCommand(ix)};fg.setShowMarkLabels=function(e,ex){var iw=bO.newCommand('toggle-mark-labels',null);iw.commandParams={};iw.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(ex)&&ex.get_id()>0){iw.commandParams['paneSpec']=ex.get_id().toString()}var ix=new bs((e?'immediately':'none'),function(iy){fg.$8(e,iy,(ss.isValue(ex)?ex.get_paneDescriptorKeys():null))},iw);by.SendCommand(ix)};fg.toggleMarkLabels=function(e){if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')){}var ex=bO.newCommand('toggle-mark-labels',null);ex.commandParams={};ex.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){ex.commandParams['paneSpec']=e.get_id().toString()}by.SendCommand(new fJ(ex,'immediately',null,null))};fg.setMarkSize=function(e,ex){var iw=bO.newCommand('set-mark-size',null);iw.commandParams={};iw.commandParams=fg.$0(e);iw.commandParams['markScale']=ex.toString();by.SendCommand(new fJ(iw,'immediately',null,null))};fg.resetTooltip=function(e){var ex=bO.newCommand('reset-tooltip',null);ex.commandParams={};ex.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){ex.commandParams['paneSpec']=e.get_id().toString()}by.SendCommand(new fJ(ex,'immediately',null,null))};fg.getDefaultColor=function(e,ex){var iw=bO.newCommand('get-default-color',null);iw.commandParams=fg.$0(e);by.SendCommand(new fJ(iw,'none',function(ix){ex((_.isString(ix)?bw.fromColorCode(ix.toString()):null))},function(){ex(null)}))};fg.setDefaultColor=function(e,ex){var iw=bO.newCommand('set-default-color',null);iw.commandParams=fg.$0(e);iw.commandParams['defaultColor']=ex.toRgba255();var ix=new bs(((R.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(iy){fg.$3(e,ex,iy)},iw);by.SendCommand(ix)};fg.setSteppedColor=function(e,ex){var iw=bO.newCommand('set-quantitative-color',null);iw.commandParams=fg.$0(e);iw.commandParams['steps']=ex.toString();by.SendCommand(new fJ(iw,'immediately',null,null))};fg.reverseColor=function(e,ex){var iw=bO.newCommand('set-quantitative-color',null);iw.commandParams=fg.$0(e);iw.commandParams['isReversed']=ex.toString();by.SendCommand(new fJ(iw,'immediately',null,null))};fg.setTotalsInEncoding=function(e,ex){var iw=bO.newCommand('set-quantitative-color',null);iw.commandParams=fg.$0(e);iw.commandParams['totalsInclusionValue']=ex.toString();by.SendCommand(new fJ(iw,'immediately',null,null))};fg.setQuantColorPalette=function(e,ex){var iw=bO.newCommand('set-quantitative-color',null);iw.commandParams=fg.$0(e);iw.commandParams['colorPaletteId']=ex;by.SendCommand(new fJ(iw,'immediately',null,null))};fg.setCatColorPalette=function(e,ex){var iw=bO.newCommand('set-categorical-color',null);iw.commandParams=fg.$0(e);iw.commandParams['colorPaletteId']=ex;var ix=true;iw.commandParams['isInstance']=ix.toString();by.SendCommand(new fJ(iw,'immediately',null,null))};fg.setColorAlphaLevel=function(e,ex){if(isNaN(ex)){return}var iw=bO.newCommand('change-alpha-level',null);iw.commandParams=fg.$0(e);iw.commandParams['alphaLevel']=ex.toString();var ix=new bs(((R.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(iy){fg.$2(e,ex,iy)},iw);by.SendCommand(ix)};fg.setMarksBorderColor=function(e,ex,iw,ix){var iy=bO.newCommand('change-border',null);iy.commandParams={};iy.commandParams['worksheet']=tsConfig.current_sheet_name;iy.commandParams['paneSpec']=e.get_id().toString();iy.commandParams['color']=ex.toString();iy.commandParams['isAuto']=iw.toString();iy.commandParams['isNone']=ix.toString();var iz=((ix||iw)?new bs('immediately',null,iy):new bs('none',function(iA){fg.$5(e,ex,iA)},iy));by.SendCommand(iz)};fg.setMarksHaloColor=function(e,ex,iw,ix){var iy=bO.newCommand('change-halo',null);iy.commandParams={};iy.commandParams['worksheet']=tsConfig.current_sheet_name;iy.commandParams['paneSpec']=e.get_id().toString();iy.commandParams['color']=ex.toString();iy.commandParams['isAuto']=iw.toString();iy.commandParams['isNone']=ix.toString();var iz=((ix||iw)?new bs('immediately',null,iy):new bs('none',function(iA){fg.$6(e,ex,iA)},iy));by.SendCommand(iz)};fg.boundingBoxPan=function(e,ex){var iw=bO.newCommand('bounding-box-pan',null);var ix={};ix['mapLatLongRect']=ex;iw.commandParams=ix;if(ss.isValue(e)){bO.addVisualIdToCommand(iw.commandParams,e)}gt.executeServerCommand(iw,'afterDelay',null,null)};fg.geographicSearchQuery=function(e,ex,iw,ix,iy){var iz=bO.newCommand('geographic-search-query',null);var iA={};iz.commandParams=iA;iz.commandParams['geographicSearchSearchString']=ex;iz.commandParams['geographicSearchLocale']=iw;iz.commandParams['geographicSearchMaxResults']=ix.toString();if(ss.isValue(e)){bO.addVisualIdToCommand(iz.commandParams,e)}gt.executeServerCommand(iz,'none',function(iB){iy(iB)},null)};fg.setReferenceLineConstantValue=function(e,ex){var iw=bO.newCommand('set-reference-line-constant-value',null);iw.commandParams={};iw.commandParams['constantValue']=e;iw.commandParams['referenceLineId']=ex;by.SendCommand(new fJ(iw,'immediately',null,null))};fg.$0=function(e){var ex={};ex['worksheet']=tsConfig.current_sheet_name;ex['paneSpec']=e.get_id().toString();return ex};fg.$9=function(e){if(ss.isNullOrUndefined(e)){return null}return e.toString()};fg.$4=function(e,ex,iw){if(ss.isValue(ex.get_palette())&&ss.unbox(ex.get_palette())!=='filled'){return}var ix=gc.convertShapeToNumber(ex);fg.$7(e,ix,'shape_id',iw)};fg.$2=function(e,ex,iw){fg.$7(e,ex,'alpha',iw)};fg.$3=function(e,ex,iw){fg.$7(e,ex.toArgbInt(),'color',iw)};fg.$5=function(e,ex,iw){fg.$7(e,ex.toArgbInt(),'border_color',iw)};fg.$6=function(e,ex,iw){fg.$7(e,ex.toArgbInt(),'halo_color',iw)};fg.$8=function(e,ex,iw){if(R.get_instance().get_renderMode()!=='render-mode-client'){return}var ix=fg.$1(ex);if(ss.isNullOrUndefined(iw)){iw=_.keys(ix)||[]}for(var iy=0;iy<iw.length;iy++){var iz=iw[iy];var iA=ix[iz];iA.showMarkLabels=e}};fg.$7=function(e,ex,iw,ix){if(R.get_instance().get_renderMode()!=='render-mode-client'){return}var iy=fg.$1(ix);var iz=e.get_paneDescriptorKeys();for(var iA=0,iB=iz.length;iA<iB;iA++){var iC=iy[iz[iA]];iC.intMap[iw]=ex}};fg.$1=function(e){var ex=eT.getVisualModel(R.get_instance(),tsConfig.current_sheet_name);var iw=e.makeMutablePresModel(ex.get_sceneModel(),false);return iw.pdMarksMap};global.tab.PaneClientCommands=fg;var fh=function(e){this.$0=null;this.update(e)};fh.__typeName='tab.PaneIdModel';fh.$ctor1=function(e,ex,iw){this.$0=null;this.$0={};this.$0['columnIndex']=e;this.$0['rowIndex']=ex;if(iw!==0){this.$0['pageIndex']=iw}};global.tab.PaneIdModel=fh;var fi=function(){};fi.__typeName='tab.PanZoomCommands';fi.zoomWithAnchorPoint=function(e,ex,iw,ix,iy){var iz=new Object;var iA=hT.create(iz);iA.set_r(e);iA.set_x(ex.x);iA.set_y(ex.y);var iB={};iB['vizRegionRect']=iz;iB['zoomAnchorPoint']=tab.PointUtil.toPresModel(ex);iB['zoomFactor']=iw;bO.addVisualIdToCommand(iB,eT.getVisualId(iy));var iC=bO.newCommand$1('pane-anchor-zoom-server',iB);var iD=function(){gM.fireSheetDataChanged();ix()};fi.$0(iC,iD,null,iy)};fi.zoom=function(e,ex,iw,ix,iy,iz){if(!tsConfig.allow_filter){return}var iA={};var iB={};iB.x=e['x'];iB.y=e['y'];iB.x=Math.round(iB.x);iB.y=Math.round(iB.y);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){iB.h=e['h'];iB.w=e['w']}iA['dragRect']=iB;iA['zoomIn']=iw;iA['focus']=false;iA['zoomFactor']=iy;if(ss.isValue(ex)){ex=fi.$1(ex);var iC=tab.PointUtil.toPresModel(ex);iA['paneResolverLocation']=iC}bO.addVisualIdToCommand(iA,eT.getVisualId(iz));var iD=bO.newCommand('pane-zoom',iA);var iE=function(iF){if(ss.isValue(ix)){ix.setDeferLayoutUpdates(false)}gM.fireSheetDataChanged()};fi.$0(iD,iE,null,iz)};fi.pan=function(e,ex,iw,ix,iy){if(!tsConfig.allow_filter){return}var iz={};iz['r']=e;iz['panLocation']=tab.PointUtil.toPresModel(fi.$1(ex));iz['panAmount']=tab.PointUtil.toPresModel(fi.$1(iw));bO.addVisualIdToCommand(iz,eT.getVisualId(iy));var iA=bO.newCommand$1('pane-pan-server',iz);var iB=function(){gM.fireSheetDataChanged()};var iC=function(iD){ix()};fi.$0(iA,iB,iC,iy)};fi.$0=function(e,ex,iw,ix){var iy=new bs('none',function(iz){var iA=eT.getVisualModel(R.get_instance(),ix);eT.setVisualValidStateOnModel(iz,iA,false)},e,ex,iw);by.SendCommand(iy)};fi.$1=function(e){var ex=e;if(ss.isValue(e)){ex={x:Math.round(e.x),y:Math.round(e.y)}}return ex};fi.zoomDoubleClick=function(e,ex,iw,ix,iy,iz){ix.set_isZoomin(iw);fi.zoom(e,ex,iw,ix,iy,iz)};fi.zoomIn=function(e,ex,iw,ix){fi.zoom(e,ex,true,null,iw,ix)};fi.zoomOut=function(e,ex,iw,ix){fi.zoom(e,ex,false,null,iw,ix)};fi.requestRestoreFixedAxes=function(e){if(!tsConfig.allow_filter){return}var ex=function(iy){T.fireStateChanged(iy)};var iw={};bO.addVisualIdToCommand(iw,e);var ix=bO.newCommand$1('restore-fixed-axes',iw);by.SendCommand(new fJ(ix,'immediately',ex,function(){}))};global.tab.PanZoomCommands=fi;var fj=function(e){this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('parameterControl'.toString()))};fj.__typeName='tab.ParameterCtrlModel';global.tab.ParameterCtrlModel=fj;var fk=function(e){this.$2$1=null;eQ.call(this,e,new fx('parameterControl'.toString()))};fk.__typeName='tab.ParameterFilterDisplayModel';fk.supportsParameterType=function(e){switch(e.paramDisplayMode){case'compact':case'list':{return true}case'type_in':case'slider':case'datetime':default:{return false}}};global.tab.ParameterFilterDisplayModel=fk;var fl=function(e,ex){this.formattedValue=null;this.domainValue=null;this.formattedValue=e;this.domainValue=ex};fl.__typeName='tab.ParameterFilterItem';global.tab.ParameterFilterItem=fl;var fm=function(){};fm.__typeName='tab.ParameterServerCommands';fm.setParameterValue=function(e,ex,iw){fm.setParameterValue$1(e,ex,iw,null,null)};fm.setParameterValue$1=function(e,ex,iw,ix,iy){var iz=fm.$0(e,ex,ss.coalesce(iw,false));var iA=bO.newCommand('set-parameter-value',iz);gt.executeServerCommand(iA,'immediately',ix,iy)};fm.$0=function(e,ex,iw){var ix={};ix['globalFieldName']=e;ix['valueString']=ex;ix['useUsLocale']=iw;return ix};global.tab.ParameterServerCommands=fm;var fn=function(e){this.$3$1=null;hw.call(this,e,new fx('percentTotalTableCalcPresModel'.toString()))};fn.__typeName='tab.PercentTotalTableCalcModel';global.tab.PercentTotalTableCalcModel=fn;var fo=function(){};fo.__typeName='tab.PermissionManager';fo.buildCommandPermission=function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9);e.push(23)}if(tsConfig.allow_sheetlink){e.push(8)}if(tsConfig.allow_view_underlying||tsConfig.allow_summary){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);if(!tsConfig.is_mobile){e.push(21)}if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){e.push(22)}if(tab.FeatureFlags.isEnabled('TrendLineDialogMttw')){e.push(16)}}return new bH(e)};fo.filterCommands=function(e,ex){for(var iw=e.length-1;iw>=0;iw--){if(!ex.test(e[iw])){ss.removeAt(e,iw)}}};global.tab.PermissionManager=fo;var fp=function(e,ex){this.$1=null;eQ.call(this,e,new fx(ex.toString()))};fp.__typeName='tab.PillModel';global.tab.PillModel=fp;var fq=function(){ss.makeGenericType(S,[Object,fr]).call(this)};fq.__typeName='tab.PingSessionCmd';global.tab.PingSessionCmd=fq;var fr=function(e){this.$$c=null;this.$$c=e};fr.__typeName='tab.PingSessionCmd$Response';global.tab.PingSessionCmd$Response=fr;var fs=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null};fs.__typeName='tab.PlatformInfo';fs.$1=function(){if(ss.isNullOrUndefined(fs.$4)){eU.registerRawJsModule('platform','platform.min','platform').andExportResultAs('Platform');fs.$4=eU.load$1('platform',[])}return fs.$4};fs.getInfo=function(){return fs.$3||(fs.$3=fs.$0())};fs.$0=function(){var e=$.Deferred();fs.$1().then(function(){var ex=new fs;ex.set_description(platform.description);ex.set_layout(platform.layout);ex.set_manufacturer(platform.manufacturer);ex.set_name(platform.name);ex.set_prerelease(platform.prerelease);ex.set_product(platform.product);ex.set_userAgent(platform.ua);ex.set_version(platform.version);var iw=platform.os.architecture;var ix=new fb(platform.os.toString(),(ss.isValue(iw)?iw.toString():''),platform.os.family,platform.os.version);ex.set_OS(ix);e.resolve(ex)},function(){e.reject()});return e};global.tab.PlatformInfo=fs;var ft=function(e,ex,iw){this.$3=null;this.$1=null;this.$2=null;this.$4=null;this.$1$1=null;this.$1$2=null;this.$3=e;this.set_notificationId(ex);this.$1=iw};ft.__typeName='tab.PluginDialogNotificationHandler';global.tab.PluginDialogNotificationHandler=ft;var fu=function(){this.$0=new tab.DisposableHolder};fu.__typeName='tab.PluginPresentationLayer';fu.get_instance=function(){fu.$0=fu.$0||new fu;return fu.$0};fu.set_instance=function(e){fu.$0=e};global.tab.PluginPresentationLayer=fu;var fv=function(){};fv.__typeName='tab.PresentationModel';fv.commandResultByName=function(e,ex){var iw=bK.buildQualifiedCommandName(ex.commandNamespace,ex.commandName);var ix=e['vqlCmdResponse'.toString()];var iy=ix.cmdResultList;for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];if(ss.referenceEquals(iA.commandName,iw)){return iA.commandReturn}}return null};fv.fromCommand=function(e,ex){var iw=fv.commandResultByName(e,ex);if(!ex.preserveRootResult&&ss.isValue(iw)&&ss.getKeyCount(iw)===1&&!ss.keyExists(iw,'commandRedirectType'.toString())){var ix=new ss.ObjectEnumerator(iw);try{while(ix.moveNext()){var iy=ix.current();return iy.value}}finally{ix.dispose()}}else{return iw}return null};fv.ensurePath=function(e,ex,iw){var ix=ex;var iy=e;var iz;var iA;var iB=iw.get_pathList();for(var iC=0,iD=iB.length;iC<iD;iC++){var iE=iB[iC];var iF=iE.name;iz=ix[iF];iA=(ss.isValue(iy)?iy[iF]:null);if(!ss.isValue(iz)){var iG=iC===iD-1;var iH=null;if(iE.type===1&&ss.isValue(iA)){var iI=iA;var iJ=[];for(var iK=0;iK<iI.length;iK++){iJ[iK]=tab.MiscUtil.cloneObject(iI[iK])}iH=iJ}else if(!iG&&ss.isValue(iA)){iH=fv.cloneObjWithScalarsOnly(iA)}else if(tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&iE.type===1){iH=[]}else{iH=new Object}ix[iF]=iH}ix=ix[iF];iy=iA}return ix};fv.insertAtPath=function(e,ex,iw,ix){fv.ensurePath(e,ex,iw);fv.$0(ex,iw,ix)};fv.cloneObjWithScalarsOnly=function(e){if(!_.isObject(e)){return e}var ex=new Object;var iw=e;var ix=Object.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];var iA=iw[iz];if(!_.isObject(iA)){ex[iz]=iA}}return ex};fv.$0=function(e,ex,iw){if(ex.get_pathList().length===0){var ix=iw;var iy=new ss.ObjectEnumerator(ix);try{while(iy.moveNext()){var iz=iy.current();e[iz.key]=iz.value}}finally{iy.dispose()}}else{var iA,iB;var iC=e;var iD=ex.get_pathList();for(iA=0,iB=iD.length;iA<iB-1;iA++){iC=iC[iD[iA].name]}iC[iD[iB-1].name]=iw}};global.tab.PresentationModel=fv;var fw=function(){this.$1=null;this.$0=[]};fw.__typeName='tab.PresModelPath';global.tab.PresModelPath=fw;var fx=function(e,ex){this.name=null;this.type=0;this.name=e;this.type=(ss.isValue(ex)?ex:0)};fx.__typeName='tab.PresModelPathItem';global.tab.PresModelPathItem=fx;var fy=function(){};fy.__typeName='tab.PresModelPathItemType';global.tab.PresModelPathItemType=fy;var fz=function(){this.$j=null;this.$p=null;this.$m=null;this.$o=null;this.$k=null;this.$i=false;this.$q=null;this.$l=null;this.$r={};this.$n=null;this.$1$1=null;this.$1$2=null};fz.__typeName='tab.ProgressiveLoader';fz.get_progressiveLoadEnabled=function(){return tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&!tsConfig.is_authoring&&!tsConfig.isPublic};fz.cloneZone=function(e){if(ss.isNullOrUndefined(e)){return e}var ex=e.presModelHolder;e.presModelHolder=null;var iw=tab.MiscUtil.cloneObject(e);iw.presModelHolder=ex;e.presModelHolder=ex;return iw};fz.removeZoneContent=function(e){if(ss.isValue(e)){var ex=e;delete ex['presModelHolder']}return e};fz.getZoneRoot=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}var ex=e.workbookPresModel.dashboardPresModel;if(ex.isStory){var iw=ex.zones;ex=null;var ix=_.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];var iA=iw[iz];if(ss.isValue(iA.zoneCommon)&&iA.zoneCommon.zoneType!=='flipboard'){continue}var iB=iu.getContent(iA,'flipboard');if(ss.isNullOrUndefined(iB)||ss.isNullOrUndefined(iB.storyPoints)){return null}var iC=iB.storyPoints[iB.activeStoryPointId.toString()];if(ss.isNullOrUndefined(iC)){return null}ex=iC.dashboardPresModel;break}}return ex};fz.$0=function(e){var ex={};if(ss.isValue(e)&&ss.isValue(e.zones)){var iw=_.values(e.zones);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(ss.isValue(iy)&&ss.isValue(iy.zoneCommon)){ex[iy.zoneId]=iy.zoneCommon.zoneType}}}return ex};fz.$4=function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.workbookPresModel;if(ss.isNullOrUndefined(ex)){return false}var iw=ex.dashboardPresModel;if(ss.isNullOrUndefined(iw)){return false}var ix=iw.zones;if(ss.isNullOrUndefined(ix)){return false}return true};fz.$2=function(){if(ss.isValue(fz.$8)){return}fz.$8={};fz.$8['flipboard-nav']=1;fz.$8['flipboard']=1;fz.$8['viz']=2;fz.$8['color']=3;fz.$8['shape']=3;fz.$8['size']=3;fz.$8['map']=3;fz.$8['filter']=4;fz.$8['highlighter']=4;fz.$8['paramctrl']=4;fz.$8['current-page']=4;fz.$8['web']=5;fz.$8['bitmap']=5;fz.$6={};fz.$6[1]={item1:-1,item2:1};fz.$6[2]={item1:1,item2:0.33};fz.$6[3]={item1:3,item2:0.33};fz.$6[4]={item1:3,item2:0.33};fz.$6[5]={item1:-1,item2:1};fz.$6[6]={item1:-1,item2:1}};fz.$3=function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false};fz.$1=function(e,ex){if(ss.isNullOrUndefined(e)){return ex}return fv.cloneObjWithScalarsOnly(e)};global.tab.ProgressiveLoader=fz;var fA=function(e,ex){this.$2$1=null;eQ.call(this,e,new fx(ex))};fA.__typeName='tab.QuantitativeColorLegendModel';global.tab.QuantitativeColorLegendModel=fA;var fB=function(e,ex,iw,ix,iy,iz){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=ex;this.$1=iw;this.$0=ix;this.$4=iy;this.$3=iz};fB.__typeName='tab.QuantitativeFilterData';global.tab.QuantitativeFilterData=fB;var fC=function(){};fC.__typeName='tab.QuickFilterDateFormatUtil';fC.$0=function(e){return e==='trunc-day'||e==='trunc-week'||e==='trunc-month'||e==='trunc-qtr'||e==='trunc-year'};fC.getDateTimeFormatMode=function(e,ex,iw,ix){if(ss.isNullOrUndefined(iw)||ss.isNullOrUndefined(iw.isAutoFormat)||!iw.isAutoFormat){return 0}if(fC.$0(ex)){return 0}if(fC.isPureTime(e,ex)){return 1}if(ix===2){return 2}for(var iy=0;iy<e.length;iy++){var iz=e[iy];if(ss.isNullOrUndefined(iz)||!ss.isValue(iz.v)){continue}var iA={t:iz.t,v:ss.unbox(iz.v)};if(tableau.format.isDateTimeWithNonMidnightTime(iA)){return 2}}return 0};fC.isPureTime=function(e,ex){var iw=eB.timestampsWithSameDateOrNull(e);return iw&&!fC.$0(ex)};global.tab.QuickFilterDateFormatUtil=fC;var fD=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;eQ.call(this,e,new fx('quickFilterDisplay'.toString()));this.set_quickFilterType('unknown')};fD.__typeName='tab.QuickFilterDisplayModel';fD.supportsQuickFilterType=function(e){if(e.quickFilter.quickFilterType==='categorical'){var ex=e.quickFilter;switch(ex.categoricalMode){case'check-list':case'radio-list':{return true}case'check-dropdown':case'dropdown':{return tab.FeatureParamsLookup.getBool(40)}case'slider':case'pattern':case'type-in-list':default:{return false}}}return false};global.tab.QuickFilterDisplayModel=fD;var fE=function(e,ex){eQ.call(this,e,ex)};fE.__typeName='tab.QuickFilterModel';global.tab.QuickFilterModel=fE;var fF=function(e){eQ.call(this,e,new fx('radialSelectionDistanceInfo'.toString()))};fF.__typeName='tab.RadialSelectionDistanceInfoModel';global.tab.RadialSelectionDistanceInfoModel=fF;var fG=function(){};fG.__typeName='tab.RangeTransform';global.tab.RangeTransform=fG;var fH=function(e){this.$3$1=null;hw.call(this,e,new fx('rankTableCalcPresModel'.toString()))};fH.__typeName='tab.RankTableCalcModel';global.tab.RankTableCalcModel=fH;var fI=function(e){this.$1=null;dh.call(this,e)};fI.__typeName='tab.RelationalTableModel';global.tab.RelationalTableModel=fI;var fJ=function(e,ex,iw,ix){bs.call(this,ex,null,e,iw,ix)};fJ.__typeName='tab.RemoteClientCommand';fJ.create=function(e,ex,iw,ix){return new fJ(e,ex,iw,ix)};global.tab.RemoteClientCommand=fJ;var fK=function(e,ex,iw){this.$0=null;this.$2=null;this.$1=null;this.$0=e;this.$2=ex;this.$1=iw};fK.__typeName='tab.RemoteCommandJob';global.tab.RemoteCommandJob=fK;var fL=function(){ss.makeGenericType(S,[Object,fM]).call(this)};fL.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd';global.tab.ReplaceFileConnectionFromFileUploadCmd=fL;var fM=function(e){this.$$c=null;this.$$c=e};fM.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd$Response';global.tab.ReplaceFileConnectionFromFileUploadCmd$Response=fM;var fN=function(e){this.$2=null;this.$1=null;this.$0=null;var ex=e.split('/');this.$2=ex[0].replace(new RegExp('^ds:'),'');this.$1=ex[1];if(ex.length>2){if(ex.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=ex[2]+'/'+ex[3]}else{this.$0=''}};fN.__typeName='tab.RepoPathObject';global.tab.RepoPathObject=fN;var fO=function(){ss.makeGenericType(hY,[Object,fP]).call(this)};fO.__typeName='tab.ResetFieldCaptionCheckCmd';fO.get_commandName=function(){return'reset-field-caption-check'};global.tab.ResetFieldCaptionCheckCmd=fO;var fP=function(e){this.$$c=null;this.$$c=e};fP.__typeName='tab.ResetFieldCaptionCheckCmd$Response';global.tab.ResetFieldCaptionCheckCmd$Response=fP;var fQ=function(){ss.makeGenericType(S,[Object,fR]).call(this)};fQ.__typeName='tab.ResetFieldCaptionCmd';global.tab.ResetFieldCaptionCmd=fQ;var fR=function(e){this.$$c=null;this.$$c=e};fR.__typeName='tab.ResetFieldCaptionCmd$Response';global.tab.ResetFieldCaptionCmd$Response=fR;var fS=function(){ss.makeGenericType(S,[Object,fT]).call(this)};fS.__typeName='tab.ResizeAxisRegionCmd';global.tab.ResizeAxisRegionCmd=fS;var fT=function(e){this.$$c=null;this.$$c=e};fT.__typeName='tab.ResizeAxisRegionCmd$Response';global.tab.ResizeAxisRegionCmd$Response=fT;var fU=function(e){eQ.call(this,e,new fx('resizeEntity'.toString()))};fU.__typeName='tab.ResizeEntityModel';global.tab.ResizeEntityModel=fU;var fV=function(){ss.makeGenericType(S,[Object,fW]).call(this)};fV.__typeName='tab.ResizeHeaderRegionCmd';global.tab.ResizeHeaderRegionCmd=fV;var fW=function(e){this.$$c=null;this.$$c=e};fW.__typeName='tab.ResizeHeaderRegionCmd$Response';global.tab.ResizeHeaderRegionCmd$Response=fW;var fX=function(){ss.makeGenericType(S,[Object,fY]).call(this)};fX.__typeName='tab.ResizeHeaderWebCmd';global.tab.ResizeHeaderWebCmd=fX;var fY=function(e){this.$$c=null;this.$$c=e};fY.__typeName='tab.ResizeHeaderWebCmd$Response';global.tab.ResizeHeaderWebCmd$Response=fY;var fZ=function(e){this.resizeInfoUpdated=null;this.cellSize=null;this.columnHeaders=null;this.rowHeaders=null;eQ.call(this,e,new fx('resizeInfo'.toString()))};fZ.__typeName='tab.ResizeInfoModel';global.tab.ResizeInfoModel=fZ;var ga=function(){};ga.__typeName='tab.RichTextCommands';ga.createTextObjectRichTextEditor=function(e,ex){var iw=new bY;iw.c['dashboard']=tsConfig.current_sheet_name;iw.c['zoneId']=e|0;iw.c['isNewZone']=ex;iw.set_uiBlocking('afterDelay');var ix=iw;ix.invoke()};ga.createWorksheetTitleRichTextEditor=function(){var e=new bW;e.c['worksheet']=tsConfig.current_sheet_name;e.set_uiBlocking('afterDelay');var ex=e;ex.invoke()};global.tab.RichTextCommands=ga;var gb=function(){};gb.__typeName='tab.SaveServerCommands';gb.$2=function(){return tab.Logger.lazyGetLogger(gb)};gb.saveWorkbook=function(e){var ex=function(iw){ip.getWorldUpdate(function(){if(ss.isValue(e)){e(iw)}})};gb.$0('publish',tsConfig.workbookName,tsConfig.current_project_id.toString(),tsConfig.showTabsWorkbook,null,null,ex,null,by.get().get_legacySession())};gb.saveWorkbookAs=function(e,ex,iw,ix,iy,iz,iA){gb.$0('publish_as',e,ex,iw,ix,iy,iz,iA,by.get().get_legacySession())};gb.SaveWorkbookAs=function(e,ex,iw,ix,iy,iz,iA){gb.saveWorkbookAs(e,ex.id,iw,ix,iy,iz,iA)};gb.SaveDatasource=function(e,ex,iw,ix,iy,iz){var iA=by.get().get_legacySession();var iB=function(iH,iI,iJ){var iK=gb.$1(Object).call(null,iJ.responseText);iy(iK)};var iC=function(iH,iI,iJ){var iK=gb.$1(Object).call(null,iH.responseText);if(ss.isValue(iz)&&ss.isValue(iK)){iz(iK)}else{iA.$6(iJ,iH,false,null)}};var iD={};iD.type='POST';iD.dataType='json';iD.url=by.$2('publish_ds',iA);var iE=ss.mkdict(['project',ix.toString(),'datasource',e,'name',ex]);if(ss.isValue(iw)){iE['no_overwrite']=ss.unbox(iw)}var iF=iq.getMultipartData(null,iE);iD.contentType='multipart/form-data; boundary='+iF.header;iD.data=iF.body;var iG=new gu(iA,null,iB,iC,true,true);iq.helper(iD,iG)};gb.$1=function(e){return function(ex){var iw;try{iw=JSON.parse(ex)}catch(ix){iw=null}return iw}};gb.$0=function(e,ex,iw,ix,iy,iz,iA,iB,iC){var iD=function(iJ,iK,iL){var iM=iJ;if(ss.keyExists(iM,'workbook')){var iN=iM['workbook'];iA(iN)}else{iA(null)}};var iE=function(iJ,iK,iL){var iM=gb.$1(Object).call(null,iJ.responseText);var iN=gb.$1(Object).call(null,iJ.responseText);if(ss.isValue(iB)&&ss.isValue(iM)){iB(iM)}else if(iJ.status===403&&ss.isValue(iN)&&iN.code===60011){iC.get_sessionErrorHandler().handleSessionForbiddenAction(iN.code,iN.message)}else{iC.get_sessionErrorHandler().handleCommandFailure(iL,iJ,null,false)}};var iF={};iF.type='POST';iF.dataType='json';iF.url=by.$2(e,iC);var iG=ss.mkdict(['project',iw,'name',ex,'display_tabs',ix]);if(ss.isValue(iy)){iG['save_db_passwords']=ss.unbox(iy)}if(ss.isValue(iz)){iG['no_overwrite']=ss.unbox(iz)}var iH=iq.getMultipartData(null,iG);iF.contentType='multipart/form-data; boundary='+iH.header;iF.data=iH.body;var iI=new gu(iC,null,iD,iE,true,true);iq.helper(iF,iI)};gb.transitionSessionAfterLogon=function(e){by.get().$z(e)};global.tab.SaveServerCommands=gb;var gc=function(){};gc.__typeName='tab.SceneDataUtil';gc.isPaneFlagSet=function(e,ex){return(e&gc.$1[ex])!==0};gc.isMarkFlagSet=function(e,ex){return(e&gc.$0[ex])!==0};gc.isCustomShape=function(e){return!ss.keyExists(gc.shapeMapping,e.toString())};gc.getFogBlendFactor=function(e){var ex=0.185000002384186;var iw=0.275000005960464;var ix=75;var iy=e.get_r()<=ix&&e.get_g()<=ix&&e.get_b()<=ix;return(iy?iw:ex)};gc.fogColorTransform=function(e,ex,iw){var ix=ss.Int32.trunc(ex.get_r()+e.get_r()*iw);var iy=ss.Int32.trunc(ex.get_g()+e.get_g()*iw);var iz=ss.Int32.trunc(ex.get_b()+e.get_b()*iw);return new bw(ix,iy,iz,e.get_a())};gc.applyFogToBackgroundColor=function(e,ex){var iw=245;if(e.get_r()>=iw&&e.get_g()>=iw&&e.get_b()>=iw){e=new bw(iw,iw,iw,e.get_a())}var ix=ss.Int32.trunc((1-ex)*e.get_r());var iy=ss.Int32.trunc((1-ex)*e.get_g());var iz=ss.Int32.trunc((1-ex)*e.get_b());return new bw(ix,iy,iz,e.get_a())};gc.createColorCollection=function(e,ex,iw){var ix={};ix['colorOverrideOpaque']=e.toRgb();ix['colorOverrideNone']=e.toRgba();ix['colorOverrideFog']=gc.fogColorTransform(e,ex,iw).toRgba();return ix};gc.createOpaqueColorCollection=function(e){var ex={};var iw=bw.fromColorCode(e['colorOverrideNone']);ex['colorOverrideNone']=iw.toRgb();iw=bw.fromColorCode(e['colorOverrideFog']);ex['colorOverrideFog']=iw.toRgb();iw=bw.fromColorCode(e['colorOverrideOpaque']);ex['colorOverrideOpaque']=iw.toRgb();return ex};gc.applyFoggingToColor=function(e,ex){var iw=gc.getFogBlendFactor(ex);var ix=gc.applyFogToBackgroundColor(ex,iw);return gc.fogColorTransform(e,ix,iw)};gc.convertShapeToNumber=function(e){var ex;var iw=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{ex=(iw?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{ex=(iw?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{ex=(iw?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{ex=(iw?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{ex=(iw?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{ex=(iw?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{ex=(iw?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{ex=(iw?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{ex=(iw?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{ex=(iw?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(gc.reverseShapeMapping[ex])};gc.getNumPaneItems=function(e){return e.endIndex-e.startIndex};gc.getPaneDomainExtents=function(e){if(ss.isValue(e.drawPane)){for(var ex=0;ex<e.drawPane.length;ex++){var iw=e.drawPane[ex];var ix=iw.paneMarks;if(ss.isValue(ix)&&ss.isValue(ix.domainExtents)){return tab.RecordCast.doubleRectPresModelAsDoubleRectXY(ix.domainExtents)}}}return null};gc.calcCellClip=function(e){var ex=0;var iw=gc.isPaneFlagSet(e,'clip-to-cell-x');var ix=gc.isPaneFlagSet(e,'clip-to-cell-y');if(iw&&ix){ex=3}else if(iw){ex=1}else if(ix){ex=2}return ex};gc.isSupportedStampShape=function(e){if(!ss.keyExists(gc.reverseShapeMapping,e)){return false}var ex=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{ex=false;break}default:{break}}return ex};global.tab.SceneDataUtil=gc;var gd=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;eQ.call(this,null,new fx('sceneElement'.toString()));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new fh(e.paneId));this.set_bounds({minX:e.floatLeft,minY:e.floatTop,maxX:e.floatLeft+e.floatWidth,maxY:e.floatTop+e.floatHeight})};gd.__typeName='tab.SceneElementModel';global.tab.SceneElementModel=gd;var ge=function(e){this.$8={};this.$4=[];this.$5=[];this.$6=null;this.$7=null;this.$3=null;this.$2$1=null;eQ.call(this,e,new fx('scene'.toString()));this.$6=[];this.$7=[]};ge.__typeName='tab.SceneModel';ge.$0=function(e,ex){if(ss.keyExists(e,'background')){var iw=e['background'].get_visualListPresModel().drawItems;for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(iy.type==='draw-solid-brush'){var iz=iy;return bw.fromColorCode(iz.color)}}}return(ss.isValue(ex.bgColor)?bw.fromColorCode(ex.bgColor):ge.$1)};global.tab.SceneModel=ge;var gf=function(){};gf.__typeName='tab.SceneUtils';gf.getPaneDescriptorKeyFromTupleId=function(e,ex){for(var iw=0;iw<ex.panes.length;iw++){var ix=ex.panes[iw];for(var iy=0;iy<ix.drawPane.length;iy++){var iz=ix.drawPane[iy];if(ss.isValue(iz.paneMarks)){var iA=ex.pdMarksMap;var iB=new ss.ObjectEnumerator(iA);try{while(iB.moveNext()){var iC=iB.current();var iD=iC.value.encodingColumns['tuple_id'];var iE=_.find(iD.dataValues,function(iF){return iF===e});if(ss.isValue(iE)){return iC.key}}}finally{iB.dispose()}}}}return''};global.tab.SceneUtils=gf;var gg=function(e){this.$9=null;this.$8=null;this.$9=e;this.$8=this.generateFrequencyDescription()};gg.__typeName='tab.Schedule';gg.$1=function(e){var ex=new Date;ex.setHours(ss.Int32.div(e,60));ex.setMinutes(e%60);ex.setSeconds(0);return ex.toLocaleTimeString()};gg.$2=function(e,ex){var iw=e+ex;iw=iw%1440;if(iw<0){iw=1440+iw}return iw};gg.$0=function(e,ex){var iw=e+ex;if(iw>1440){return 1}else if(iw<0){return-1}return 0};global.tab.Schedule=gg;var gh=function(){};gh.__typeName='tab.SchemaClientCommands';gh.addFieldToSheet=function(e,ex){var iw={};iw['fn']=e;iw['worksheet']=tsConfig.current_sheet_name;var ix=bO.newCommand('add-to-sheet',iw);by.SendCommand(fJ.create(ix,'immediately',function(iy){ex()},function(iy){ex()}))};gh.validateFieldCaption=function(e,ex,iw){var ix={};ix['uniqueName']=e;ix['caption']=ex;var iy=bO.newCommand('validate-field-caption',ix);gt.executeServerCommand(iy,'afterDelay',function(iz){iw(iz)},null)};gh.editFieldCaption=function(e,ex,iw){var ix={};ix['uniqueName']=e;ix['caption']=ex;var iy=bO.newCommand('edit-schema-caption',ix);by.SendCommand(new bs('none',function(iz){var iA=iz.makeMutablePresModel(iw.get_fieldsModel(),false);for(var iB=0;iB<iA.length;++iB){if(ss.referenceEquals(iA[iB].fn,e)){iA[iB].description=ex;break}}},iy))};gh.validateDrillPathName=function(e,ex,iw,ix){var iy={};iy['datasource']=e;if(ss.isValue(ex)){iy['drillPathName']=ex}iy['newDrillPath']=iw;var iz=bO.newCommand('validate-drill-path-name',iy);gt.executeServerCommand(iz,'afterDelay',function(iA){ix(iA)},null)};gh.addDrillPath=function(e,ex,iw){var ix={};ix['datasource']=e;ix['newDrillPath']=ex;ix['fieldVector']=iw;var iy=bO.newCommand('add-drill-path',ix);gt.executeServerCommand(iy,'immediately',bO.createCommandRedirectSuccessHandler(null),null)};gh.renameDrillPath=function(e,ex,iw){var ix={};ix['datasource']=e;ix['drillPathName']=ex;ix['newDrillPath']=iw;var iy=bO.newCommand('rename-drill-path',ix);gt.executeServerCommand(iy,'immediately',bO.createCommandRedirectSuccessHandler(null),null)};gh.setActiveDataSourceName=function(e,ex){var iw={};iw['datasource']=e;var ix=(ex?'set-active-data-source-name':'set-active-datasource');var iy=bO.newCommand(ix,iw);iy.commandParams['datasource']=e;var iz=R.get_instance().get_workbook().get_uiMode()==='data-tab';var iA=null;if(iz){iA=function(iC){var iD=iC.makeMutablePresModel(R.get_instance().get_workbook().get_dataSchema(),false);iD.datasource=e}}var iB=$.Deferred();by.SendCommand(new bs((iz?'none':'immediately'),iA,iy,function(iC){iB.resolve()},function(iC){iB.reject()}));return iB};gh.dropOnSchemaDrillPath=function(e,ex,iw,ix){var iy=new cT;iy.c['datasource']=e.get_name();iy.c['columns']=ex.filter(function(iA){return iA.get_isColumn()}).map(function(iA){return iA.get_qualifiedLocalName()});iy.c['drillpathVector']=ex.filter(function(iA){return iA.get_isDrillPath()}).map(function(iA){return iA.get_localName().toString()});iy.c['drillPathName']=iw.get_localName();iy.set_uiBlocking('immediately');var iz=iy;iz.invoke().done(function(iA){ix(iA.$$c['dropCommandModel'])})};gh.dropOnSchemaField=function(e,ex,iw,ix){var iy=new cV;iy.c['datasource']=e.get_name();iy.c['columns']=ex.filter(function(iA){return iA.get_isColumn()}).map(function(iA){return iA.get_qualifiedLocalName()});iy.c['drillpathVector']=ex.filter(function(iA){return iA.get_isDrillPath()}).map(function(iA){return iA.get_localName().toString()});iy.c['fieldNameLocal']=iw.get_qualifiedLocalName();iy.set_uiBlocking('immediately');var iz=iy;iz.invoke().done(function(iA){ix(iA.$$c['dropCommandModel'])})};gh.dropOnSchemaSection=function(e,ex,iw,ix){var iy=new cX;iy.c['datasource']=e.get_name();iy.c['columns']=ex.filter(function(iA){return iA.get_isColumn()}).map(function(iA){return iA.get_qualifiedLocalName()});iy.c['drillpathVector']=ex.filter(function(iA){return iA.get_isDrillPath()}).map(function(iA){return iA.get_localName().toString()});iy.c['folderRole']=iw;iy.set_uiBlocking('immediately');var iz=iy;iz.invoke().done(function(iA){ix(iA.$$c['dropCommandModel'])})};gh.requestSchemaContextMenu=function(e,ex){var iw=bO.newCommand('build-data-schema-context-menu',null);var ix={};ix['datasource']=e.get_name();iw.commandParams=ix;by.SendCommand(fJ.create(iw,'none',function(iy){ex(iy)},null))};gh.requestSchemaFieldContextMenu=function(e,ex,iw){var ix=bO.newCommand('build-data-schema-field-context-menu',null);var iy={};iy['datasource']=e;iy['fn']=ex;ix.commandParams=iy;by.SendCommand(fJ.create(ix,'none',function(iz){iw(iz)},null))};gh.requestDataTabFieldContextMenu=function(e,ex,iw,ix){var iy=new Z;iy.c['datasource']=e;iy.c['fn']=ex;iy.c['shouldDisplay']=iw;var iz=iy;iz.invoke().then(ix)};gh.requestSchemaFieldChangeDataTypeMenu=function(e,ex,iw){var ix=new bd;ix.c['datasource']=e;ix.c['fn']=ex;var iy=ix;iy.invoke().then(iw)};gh.requestSchemaDrillPathContextMenu=function(e,ex,iw){var ix=bO.newCommand('build-data-schema-drill-path-context-menu',null);var iy={};iy['datasource']=e;iy['drillPathName']=ex;ix.commandParams=iy;by.SendCommand(fJ.create(ix,'none',function(iz){iw(iz)},null))};gh.requestSchemaDataSourceContextMenu=function(e,ex){var iw=bO.newCommand('build-data-schema-data-source-context-menu',null);var ix={};ix['datasource']=e.get_name();ix['allowSaveDataSource']=tsConfig.allow_save_data_source;iw.commandParams=ix;by.SendCommand(fJ.create(iw,'none',function(iy){ex(iy)},null))};gh.convertUnnamedFields=function(e){var ex=$.Deferred();var iw={};iw['fieldVector']=e;var ix=new fJ(bO.newCommand('convert-unnamed-fields',iw),'immediately',by.deferredSuccessHandler(Array).call(null,ex),function(){ex.reject()});by.SendCommand(ix);return ex.promise()};gh.toggleFieldBlending=function(e,ex){var iw=$.Deferred();var ix={};ix['globalFieldName']=e;ix['worksheet']=tsConfig.current_sheet_name;var iy=new bs('immediately',ex,bO.newCommand('toggle-field-blending',ix),by.deferredSuccessHandler(Object).call(null,iw),function(){iw.reject()});by.SendCommand(iy);return iw.promise()};gh.renameDataSource=function(e,ex,iw){if(ss.isNullOrUndefined(e)){return}if(ss.referenceEquals(e.get_caption(),ex)){return}var ix=function(iA){var iB=iA.makeMutablePresModel(e,false);iB.datasourceCaption=ex};var iy={};iy['datasource']=e.get_name();iy['newDatasource']=ex;var iz=new bs('none',ix,bO.newCommand('rename-data-source',iy),null,function(iA){iw()});by.SendCommand(iz)};gh.renameTableAliasInRelation=function(e,ex,iw){if(ss.isNullOrEmptyString(ex)){return}if(ss.referenceEquals(e,ex)){return}var ix={};ix['tableAlias']=e;ix['newTableAlias']=ex;var iy=bO.newCommand('connection-rename-table',ix);var iz=new bs('immediately',null,iy,null,function(iA){iw()});by.SendCommand(iz)};global.tab.SchemaClientCommands=gh;var gi=function(){};gi.__typeName='tab.SchemaUtils';gi.getDataSourceNames=function(e){return _.map(e.get_dataSources(),function(ex){return ex.get_caption().toString()})};gi.isValidNewDatasourceCaption$1=function(e,ex,iw){var ix=gi.getDataSourceNames(ex);return gi.isValidNewDatasourceCaption(e,ix,iw)};gi.isValidNewDatasourceCaption=function(e,ex,iw){iw=(!ss.isNullOrEmptyString(iw)?iw.trim():null);return!(ss.isNullOrEmptyString(iw)||ss.referenceEquals(iw,e.get_caption())||iw.toString().length>254||ss.contains(ex,iw))};global.tab.SchemaUtils=gi;var gj=function(){ss.makeGenericType(S,[Object,gk]).call(this)};gj.__typeName='tab.SelectByTupleValueCmd';global.tab.SelectByTupleValueCmd=gj;var gk=function(e){this.$$c=null;this.$$c=e};gk.__typeName='tab.SelectByTupleValueCmd$Response';global.tab.SelectByTupleValueCmd$Response=gk;var gl=function(){};gl.__typeName='tab.SelectionClientCommands';gl.$j=function(){return tab.Logger.lazyGetLogger(gl)};gl.setActiveZone=function(e,ex){if(!tsConfig.allow_select){return}if(eT.isActiveZone(e)){return}by.SendCommand(gl.buildActiveZoneClientCommand(e,ex))};gl.clearActiveZone=function(){gl.setActiveZone(0,null)};gl.buildActiveZoneClientCommand=function(e,ex){var iw=new bs('none',function(ix){gl.setActiveZoneLocal(e,ix)},gl.$1(e,ex));return iw};gl.updateShowMeCommandsForSelectedFields=function(e,ex,iw){var ix={};ix['fieldVector']=e;ix['worksheet']=tsConfig.current_sheet_name;ix['datasource']=ex;var iy=bO.newCommand('get-show-me',ix);by.SendCommand(fJ.create(iy,'none',function(iz){iw(iz)},function(iz){iw(null)}))};gl.toggleLegendHighlight=function(e,ex,iw,ix,iy){if(!tsConfig.allow_highlight){return}var iz=gl.buildToggleLegendHighlightCommand(ex,iw,ix,iy,e);by.SendCommand(iz)};gl.buildToggleLegendHighlightCommand=function(e,ex,iw,ix,iy){var iz=!eT.isActiveZone(iy);var iA={};iA['r']=ex;iA['legendNames']=iw;bO.addVisualIdToCommand(iA,e);if(iz){gl.$0(iy,iA)}var iB=bO.newCommand$1('toggle-legend-server',iA);var iC=function(iD){if(ss.isValue(ix)){ix(iD)}};return new bs('immediately',function(iD){if(iz){gl.setActiveZoneLocal(iy,iD)}},iB,iC,null)};gl.$0=function(e,ex){ex['dashboardPm']=eT.findContentDashboard().pm.sheetPath;ex['zoneId']=e};gl.selectRegion=function(e,ex,iw,ix,iy){if(!tsConfig.allow_select||R.get_instance().get_isOffline()){return}var iz=gl.$9(ex,e,iw,ix,iy,null);var iA=bO.newCommand$1('select-region-no-return-server',iz);gt.executeServerCommand(iA,'afterDelay')};gl.selectRectRegionAndDoUbertip=function(e,ex,iw,ix,iy,iz,iA){if(!tsConfig.allow_select){return}var iB=gl.$9(ex,e,iw,ix,iA,iz);var iC=bO.newCommand$1('select-region-no-return-server',iB);gl.$b(iy,iC)};gl.selectCircleRegionAndDoUbertip=function(e,ex,iw,ix,iy,iz,iA){if(!tsConfig.allow_select){return}var iB=gl.$9(ex,e,ix,iy,null,null);var iC={};iC.center={};iC.center.x=Math.round(iw.center.x);iC.center.y=Math.round(iw.center.y);iC.radius=Math.round(iw.radius);iB['radialSelection']=iC;iB['radialDistanceHitTest']=iA;var iD=bO.newCommand$1('select-radial-region-no-return-server',iB);gl.$b(iz,iD)};gl.selectPolyRegionAndDoUbertip=function(e,ex,iw,ix,iy,iz){if(!tsConfig.allow_select){return}var iA=gl.$9(ex,e,ix,iy,null,null);var iB=iw.length;var iC=new Array(iB);for(var iD=0;iD<iB;iD++){var iE={};iE.x=Math.round(iw[iD].x);iE.y=Math.round(iw[iD].y);iC[iD]=iE}iA['lassoSelection']=iC;var iF=bO.newCommand$1('select-lasso-region-no-return-server',iA);gl.$b(iz,iF)};gl.$b=function(e,ex){ex.commandNamespace='tabsrv'.toString();var iw=new bs('afterDelay',null,ex,function(){e()},null);by.SendCommand(iw)};gl.clearAllSelections=function(e){if(!tsConfig.allow_select){return}var ex=eT.getZoneIdForSheetName(e.worksheet);if(ex!==-1&&!eT.isActiveZone(ex)){gl.setActiveZone(ex,null);return}var iw=gl.buildClearAllSelectionsCommand(e);by.SendCommand(iw)};gl.buildClearAllSelectionsCommand=function(e){var ex={};bO.addVisualIdToCommand(ex,e);var iw=bO.newCommand$1('select-none',ex);var ix=new bs((R.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(iy){if(R.get_instance().get_isLocalRenderMode()){var iz=gl.$4(iy);if(iz){K.executeActions(e.worksheet,'on-select',[],iy,true)}}},iw);return ix};gl.clearAllSelectionsIncludingMaster=function(){if(!tsConfig.allow_select){return}var e=gl.buildClearAllSelectionsIncludingMasterCommand();by.SendCommand(e)};gl.buildClearAllSelectionsIncludingMasterCommand=function(){var e={};e['sheet']=tsConfig.current_sheet_name;var ex=bO.newCommand('select-none-including-master',e);var iw=new bs((R.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(ix){gl.$4(ix);gl.$2(ix);var iy=eT.getVisualModelsFromDashboard(eT.findContentDashboard());var iz=ss.getEnumerator(Object.keys(iy));try{while(iz.moveNext()){var iA=iz.current();var iB=iy[iA];K.executeActions(iB.get_visualId().worksheet,'on-select',[],ix,true)}}finally{iz.dispose()}},ex);return iw};gl.selectLegendItemsLocal=function(e,ex,iw,ix,iy,iz,iA){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty$1(iw)&&!iA){return}var iB=gl.buildSelectLegendItemsLocalCommand(e,ex,iw,ix,iy,iz);by.SendCommand(iB)};gl.$5=function(e,ex){var iw=eT.getVisualModelFromVisualId(ex);var ix=iw.get_selectionsModel();var iy=ix.get_allLegendSelections();for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];gl.$7(e,iA,false)}};gl.clearHighlighting=function(e,ex,iw,ix){var iy=bO.newCommand('clear-highlighting',null);var iz={};bO.addVisualIdToCommand(iz,iw);iz['fn']=ex;iy.commandParams=iz;var iA=new bs('none',function(iB){if(ix){gl.$5(iB,iw);gl.$c([],e,eT.getVisualModelFromVisualId(iw),iB)}},iy);by.SendCommand(iA)};gl.highlightItems=function(e,ex,iw,ix,iy){var iz=bO.newCommand('highlight-items',null);var iA={};bO.addVisualIdToCommand(iA,ix);iA['fn']=ex;iA['objectIds']=iw;iz.commandParams=iA;var iB=new bs('none',function(iC){if(iy){if(iw.length===0){gl.$5(iC,ix)}gl.$c(iw,e,eT.getVisualModelFromVisualId(ix),iC)}},iz);by.SendCommand(iB)};gl.buildSelectLegendItemsLocalCommand=function(e,ex,iw,ix,iy,iz){var iA=eT.getVisualModelFromVisualId(ix);var iB=iA.get_selectionsModel();var iC=iB.getLegendSelection(iz,iy.get_legendNames());var iD=gr.resolveLegendSelection(ex,iw,iy,iC);var iE=bO.newCommand('select-legend-items',gl.$8(iD,ix,iy,iz,e));var iF=new bs('none',function(iG){gl.setActiveZoneLocal(e,iG);if(!iC.isAnyLegendItemSelected()&&iD.length===0&&!eT.isActiveZone(e)){return}var iH=iG.makeMutablePresModel(iC,false);iH.objectIds=iD;iH.legendSelectionInfo={legendType:iy.get_legendTypeEnum(),legendColumns:iy.get_legendNames()};gl.$6(iG,iB.tupleSelection,iA);gl.$6(iG,iB.nodeSelection,iA);var iI=iB.get_allLegendSelections();for(var iJ=0;iJ<iI.length;iJ++){var iK=iI[iJ];if(!ss.referenceEquals(iK,iC)){gl.$6(iG,iK,iA)}}gl.$3(iG,ix,true);gl.$e(iD,iy,iA,iG)},iE);return iF};gl.buildSelectNodeCommand=function(e,ex,iw,ix,iy,iz,iA){var iB=eT.getZoneIdForSheetName(iz.worksheet);var iC=eT.getVisualModelFromVisualId(iz);var iD=iC.get_selectionsModel();var iE=iD.nodeSelection;var iF=(K.willActionCauseTabChange(iz.worksheet,'on-select')?'afterDelay':'none');var iG=2;var iH=null;if(ss.isValue(iy.extentsWidth)&&ss.isValue(iy.extentsHeight)){var iI=iy.extentsX||0;var iJ=iy.extentsY||0;iH={x:iI,y:iJ,w:iy.extentsWidth,h:iy.extentsHeight}}var iK=tab.RectXYUtil.shiftCoordsTowardsCenter(ex,iH,iG);var iL={x:iK.x,y:iK.y,w:0,h:0};var iM=bO.newCommand$1('select-region-no-return-server',null);iM.commandParams=gl.$9(iL,e,iw,iz,null,null);var iN=iB!==-1&&!eT.isActiveZone(iB);if(iN){gl.$0(iB,iM.commandParams)}var iO=iN||!R.get_instance().get_isTableCalcHighlightingMode();var iP=function(iR){if(iN){gl.setActiveZoneLocal(iB,iR)}if(R.get_instance().get_isTableCalcHighlightingMode()){return}var iS=iR.makeMutablePresModel(iE,false);gr.resolveNodeSelection(iw,ix.get_groupItemNodes(),iy,iE,iS);var iT=iw!=='toggle'&&iw!=='range';var iU=iD.tupleSelection.get_ids();if(iT){gl.$6(iR,iD.tupleSelection,iC);iU=[]}var iV=iD.get_allLegendSelections();for(var iW=0;iW<iV.length;iW++){var iX=iV[iW];gl.$6(iR,iX,iC)}gl.$3(iR,iz,true);iC.$4(iS.selectedNodes,iR.modelUpdateContext);K.executeActions(iz.worksheet,'on-select',iC.getEffectiveSelectedTuples(iU),iR,true)};var iQ=new bs(iF,(iO?iP:null),iM,function(){if(ss.isValue(iA)){iA()}},null);return iQ};gl.selectNode=function(e,ex,iw,ix,iy,iz,iA){if(!tsConfig.allow_select){return}var iB=gl.buildSelectNodeCommand(e,ex,iw,ix,iy,iz,iA);by.SendCommand(iB)};gl.selectMarksLocal=function(e,ex,iw,ix,iy){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty$2(e)){gl.clearAllSelections(ex);return}if(R.get_instance().get_isOffline()){var iz=gl.buildSelectMarksLocalCommand(e,ex,iw,ix,null);by.SendCommand(iz);iy()}else{var iA=gl.buildSelectMarksLocalCommand(e,ex,iw,ix,iy);by.SendCommand(iA)}};gl.buildSelectMarksLocalCommand=function(e,ex,iw,ix,iy){var iz=eT.getZoneIdForSheetName(ex.worksheet);var iA=eT.getVisualModelFromVisualId(ex);var iB=iA.get_selectionsModel();var iC=iB.tupleSelection;var iD=K.shouldFilterOnSelection(iA.get_visualId().worksheet);var iE;if(iD){iE='afterDelay'}else{iE=(K.willActionCauseTabChange(ex.worksheet,'on-select')?'afterDelay':'none')}var iF=bO.newCommand('select',gl.$a(e,'tuples',iw,ex));var iG=iz!==-1&&!eT.isActiveZone(iz);var iH=iG||!R.get_instance().get_isTableCalcHighlightingMode();var iI=function(iK){if(iG){gl.setActiveZoneLocal(iz,iK)}if(R.get_instance().get_isTableCalcHighlightingMode()){return}var iL=gr.resolveMarkSelection(iw,e,iC,ix);var iM=iK.makeMutablePresModel(iC,false);iM.objectIds=iL;if(iw!=='toggle'&&iw!=='range'){gl.$6(iK,iB.nodeSelection,iA)}var iN=iB.get_allLegendSelections();for(var iO=0;iO<iN.length;iO++){var iP=iN[iO];gl.$6(iK,iP,iA)}gl.$3(iK,ex,true);K.executeActions(ex.worksheet,'on-select',iA.getEffectiveSelectedTuples(iL),iK,true)};var iJ=new bs(iE,(iH?iI:null),iF,function(iK){if(ss.isValue(iy)){iy()}},null);return iJ};gl.$f=function(e,ex){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var iw=eT.getVisualModels(R.get_instance());var ix=_.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(!e.hasBrushingForSheet(iz)){continue}var iA=iw[iz];gl.$i(e,ex,iA,iz);gl.$h(e,ex,iA,iz);gl.$g(e,ex,iA,iz);var iB=e.getLegendBrushing(iz);var iC=iA.get_brushingsModel().get_allLegendSelections();for(var iD=0;iD<iC.length;iD++){var iE=iC[iD];gl.$d(ex,iE,iB)}}};gl.$d=function(e,ex,iw){var ix=ex.get_selectionPresModel().legendSelectionInfo;var iy=[];var iz=W.$0(ix.legendType,ix.legendColumns);if(ss.isValue(iw[iz])){iy=iw[iz]}if(iy.length!==0||ex.get_selectionPresModel().objectIds.length!==0){var iA=e.makeMutablePresModel(ex,false);iA.objectIds=iy}};gl.$g=function(e,ex,iw,ix){var iy=e.getNodeBrushing(ix);if(iy.length!==0||!iw.get_brushingsModel().nodeSelection.isEmpty){var iz=ex.makeMutablePresModel(iw.get_brushingsModel().nodeSelection,false);iz.selectedNodes=iy}};gl.$h=function(e,ex,iw,ix){var iy=iw.get_brushingsModel().trendLineSelection;var iz=e.getTrendlineBrushing(ix);if(iz.length!==0||iy.get_selectionPresModel().objectIds.length!==0){var iA=ex.makeMutablePresModel(iy,false);iA.objectIds=iz}};gl.$i=function(e,ex,iw,ix){var iy=e.getTupleBrushing(ix);if(iy.length!==0||iw.get_brushingsModel().tupleSelection.get_selectionPresModel().objectIds.length!==0){var iz=ex.makeMutablePresModel(iw.get_brushingsModel().tupleSelection,false);iz.objectIds=iy}};gl.$2=function(e){var ex=eT.getVisualModels(R.get_instance());var iw=ss.getEnumerator(Object.keys(ex));try{while(iw.moveNext()){var ix=iw.current();var iy=ex[ix];if(iy.get_brushingsModel().get_isEmpty()){continue}var iz=e.makeMutablePresModel(iy.get_brushingsModel().tupleSelection,false);iz.objectIds=[];var iA=e.makeMutablePresModel(iy.get_brushingsModel().nodeSelection,false);iA.selectedNodes=[];var iB=iy.get_brushingsModel().get_allLegendSelections();for(var iC=0;iC<iB.length;iC++){var iD=iB[iC];if(iD.isEmpty){continue}var iE=e.makeMutablePresModel(iD,false);var iF=[];iE.objectIds=iF}}}finally{iw.dispose()}};gl.$1=function(e,ex){var iw=bO.newCommand('set-active-zone',null);var ix={};ix['dashboardPm']=(ss.isNullOrUndefined(ex)?eT.findContentDashboard().pm.sheetPath:ex);ix['zoneId']=e;iw.commandParams=ix;return iw};gl.$c=function(e,ex,iw,ix){var iy=iw.get_vizDataModel();if(ss.isNullOrUndefined(iy)){return}var iz=iy.getVizDataField(ex.get_fieldName());var iA=[iz.get_fieldCaption()];var iB=W.createBrushingComputer(ex,iw,e,iA,true);gl.$f(iB,ix)};gl.$e=function(e,ex,iw,ix){var iy=null;if(ex.get_isHighlightEnabled()){iy=W.createBrushingComputer(ex,iw,e,ex.get_fieldCaptions(),ex.get_isOneWay())}gl.$f(iy,ix)};gl.$3=function(e,ex,iw){var ix=false;var iy=eT.getVisualModels(R.get_instance());var iz=ss.getEnumerator(Object.keys(iy));try{while(iz.moveNext()){var iA=iz.current();var iB=!ss.isNullOrUndefined(ex)&&ss.referenceEquals(iA,ex.worksheet);if(!iw||!iB){var iC=eT.findContentDashboard();var iD=!iw&&iB||!K.isFilterSource(iC,iA);var iE=iy[iA];var iF=iE.get_selectionsModel().selectionModels;for(var iG=0;iG<iF.length;iG++){var iH=iF[iG];if(iD||iH.get_selectionType()!=='tuples'&&iH.get_selectionType()!=='nodes'){ix=gl.$7(e,iH,true)||ix}}}}}finally{iz.dispose()}return ix};gl.$4=function(e){var ex=false;var iw=eT.getVisualModels(R.get_instance());var ix=ss.getEnumerator(Object.keys(iw));try{while(ix.moveNext()){var iy=ix.current();var iz=iw[iy];var iA=iz.get_selectionsModel().selectionModels;for(var iB=0;iB<iA.length;iB++){var iC=iA[iB];ex=gl.$7(e,iC,true)||ex}}}finally{ix.dispose()}return ex};gl.$9=function(e,ex,iw,ix,iy,iz){var iA={};bO.addVisualIdToCommand(iA,ix);var iB=new Object;var iC=hT.create(iB);iC.set_x(Math.round(e.x));iC.set_y(Math.round(e.y));iC.set_w(Math.round(e.w||0));iC.set_h(Math.round(e.h||0));iC.set_r(ex);if(ss.isValue(iy)){iC.set_fns(iy)}iA['vizRegionRect']=iB;iA['mouseAction']=iw;iA['whitespaceSelectionBehavior']=iz;return iA};gl.$8=function(e,ex,iw,ix,iy){var iz={};bO.addVisualIdToCommand(iz,ex);iz['legendNames']=iw.get_legendNames();iz['legendType']=ix;iz['objectIds']=e;iz['zoneId']=iy;return iz};gl.$6=function(e,ex,iw){if(ss.isValue(ex)){gl.$7(e,ex,false);if(ex.get_selectionType()==='nodes'){iw.$1(e.modelUpdateContext)}}};gl.$a=function(e,ex,iw,ix){var iy={};if(ss.isValue(ix)){bO.addVisualIdToCommand(iy,ix)}var iz={};iz.objectIds=e;iz.selectionType=ex;iy['selection']=iz;iy['selectOptions']=gl.$k[iw];return iy};gl.setActiveZoneLocal=function(e,ex){var iw=eT.findContentDashboard();var ix=ex.makeMutablePresModel(iw,false);ix.activeZoneId=e};gl.$7=function(e,ex,iw){if(ex.isEmpty){return false}var ix=e.makeMutablePresModel(ex,false);ix.objectIds=[];ix.selectedNodes=[];if(iw){ex.setOverriddenTupleIds([],e.modelUpdateContext)}return true};global.tab.SelectionClientCommands=gl;var gm=function(e,ex){this.$5=null;this.$7=null;this.$6=null;this.$2$1=null;this.isEmpty=false;eQ.call(this,e,new fx(ex.toString()));this.isEmpty=true};gm.__typeName='tab.SelectionModel';gm.$0=function(e,ex,iw,ix,iy,iz){var iA=new ss.StringBuilder;if(ss.isValue(e)){iA.append(e.join(';'))}iA.append('=');if(ss.isValue(ex)){iA.append(ex.join(';'))}iA.append('=');if(ss.isValue(iw)){iA.append(iw)}iA.append('=');if(ss.isValue(ix)){iA.append(ix);iA.append('+');if(ss.isValue(iy)){iA.append(iy)}}iA.append('=');if(ss.isValue(iz)){iA.append(iz)}return iA.toString()};global.tab.SelectionModel=gm;var gn=function(e,ex,iw){this.$1$1=false;this.$1$2=0;this.$1$3=null;this.set_invalidateViz(e);this.set_reason(ex);this.set_objectIds(iw||[])};gn.__typeName='tab.SelectionsDifference';gn.noDifference=function(){return new gn(false,0,null)};global.tab.SelectionsDifference=gn;var go=function(){};go.__typeName='tab.SelectionsDiffReason';global.tab.SelectionsDiffReason=go;var gp=function(e,ex){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;eQ.call(this,e,new fx(ex,1));this.selectionModels=[];var iw=eX.get_noopContext();this.tupleSelection=this.$1('tuples',iw);this.nodeSelection=this.$1('nodes',iw);this.trendLineSelection=this.$1('trend-lines',iw);this.refLineSelection=this.$1('ref-lines',iw)};gp.__typeName='tab.SelectionsModel';gp.$1=function(e){var ex={};ex.selectionType=e;switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{ex.objectIds=[];break}case'legend-items':{ex.legendSelectionInfo={};ex.objectIds=[];break}case'nodes':{ex.selectedNodes=[];break}default:{break}}return ex};gp.$0=function(e,ex){var iw=[];var ix=new Set;for(var iy=0;iy<e.length;iy++){var iz=e[iy];ix.add(iz)}for(var iA=0;iA<ex.length;iA++){var iB=ex[iA];if(ix.has(iB)){ix.delete(iB)}else{iw.push(iB)}}ix.forEach(function(iC){iw.push(iC)});return iw};gp.computeTupleDictionaryDifference=function(e,ex){var iw=tab.MapUtility.createCopy(String,ss.Int32).call(null,e);var ix=tab.MapUtility.createCopy(String,ss.Int32).call(null,ex);var iy=[];iw.forEach(function(iz,iA){if(!ix.has(iA)){iy.push(iw.get(iA))}else{ix.delete(iA)}});ix.forEach(function(iz,iA){iy.push(ix.get(iA))});return iy};global.tab.SelectionsModel=gp;var gq=function(){this.selections=null};gq.__typeName='tab.SelectionsPresModel';global.tab.SelectionsPresModel=gq;var gr=function(){};gr.__typeName='tab.SelectionUtils';gr.isCategoricalAndTupleAssociatedHeader=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){return false}return!gr.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(e)&&tab.MiscUtil.isNullOrEmpty$3(e.fn)&&!tab.MiscUtil.isNullOrEmpty$2(e.columnIndices)};gr.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){return false}return tab.MiscUtil.isNullOrEmpty$2(e.columnIndices)&&!tab.MiscUtil.isNullOrEmpty$3(e.fn)};gr.isQuantitative=function(e){return ss.isValue(e)&&ss.isValue(e.node)&&ss.isValue(e.node.fn)};gr.resolveLegendSelection=function(e,ex,iw,ix){var iy=[];if(ss.isValue(ex)){var iz=ix.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(iz.objectIds)){ss.arrayAddRange(iy,iz.objectIds)}for(var iA=0;iA<ex.length;iA++){var iB=ex[iA];var iC=ss.indexOf(iy,iB.objectId);if(iC>=0){ss.removeAt(iy,iC)}else{iy.push(iB.objectId)}}break}case'range':{iy=gr.$2(ex,iw,iz);break}case'simple':{var iD=(ss.isValue(iz.objectIds)?iz.objectIds:[]);if(iD.length<=1){for(var iE=0;iE<ex.length;iE++){var iF=ex[iE];var iG=ss.indexOf(iD,iF.objectId);if(iG>=0){ss.removeAt(iy,iG)}else{iy.push(iF.objectId)}}}else{ss.arrayAddRange(iy,_.pluck(ex,'objectId'.toString()))}break}}}return Array.prototype.slice.call(iy)};gr.resolveMarkSelection=function(e,ex,iw,ix){var iy=[];switch(e){case'simple':{if(!ix&&ex.length===1&&iw.get_ids().length===1&&ex[0]===iw.get_ids()[0]){ss.clear(iy)}else{ss.arrayAddRange(iy,ex)}break}case'range':case'toggle':{ss.arrayAddRange(iy,iw.get_ids());for(var iz=0;iz<ex.length;iz++){var iA=ex[iz];if(!iw.isObjectSelected(iA)){iy.push(iA)}else if(!ix){ss.remove(iy,iA)}}break}}return Array.prototype.slice.call(iy)};gr.resolveNodeSelection=function(e,ex,iw,ix,iy){var iz=null;if(ss.isValue(iw)){switch(e){case'simple':{iz=gr.$4(iw,ix);break}case'toggle':{iz=gr.$5(iw,ix);break}case'range':{iz=gr.$3(ex,iw,ix);break}}}iy.selectedNodes=iz||[]};gr.$2=function(e,ex,iw){var ix=[];if(!ss.isValue(iw.objectIds)){return ix}ss.arrayAddRange(ix,iw.objectIds);ss.arrayAddRange(ix,_.pluck(e,'objectId'.toString()));var iy=iw.objectIds[iw.objectIds.length-1];var iz=-1;for(var iA=0;iA<ex.get_items().length;iA++){if(ex.get_items()[iA].objectId===iy){iz=iA}}var iB=((e.length>0)?ss.indexOf(ex.get_items(),e[0]):-1);if(iz<0||iB<0){return _.uniq(ix)}var iC=Math.min(iz,iB);var iD=iC+Math.abs(iz-iB)+1;for(var iE=iC;iE<iD;iE++){ix.push(ex.get_items()[iE].objectId)}return _.uniq(ix)};gr.$0=function(e,ex,iw,ix){var iy=new Set;for(var iz=0;iz<e.length;iz++){var iA=e[iz];if(ss.isValue(iA.node.columnIndices)){tab.SetUtilities.addAll(ss.Int32).call(null,iy,iA.node.columnIndices)}}for(var iB=0;iB<ex.length;iB++){var iC=(iw?ex[ex.length-1-iB]:ex[iB]);if(ss.isValue(iC.columnIndices)&&tab.SetUtilities.interserctWith(ss.Int32).call(null,iy,iC.columnIndices).size===0){continue}var iD=gr.$1(e,iC,ix);if(iD!==-1){return iD}}return-1};gr.$1=function(e,ex,iw){if(ss.isValue(iw)&&!_.isEqual(iw,ex.columnIndices)){return-1}for(var ix=0;ix<e.length;ix++){var iy=e[ix];if(_.isEqual(iy.node,ex)){return ix}}return-1};gr.$3=function(e,ex,iw){var ix=gr.nodeSelectionFromDrawGroup(ex);var iy=iw.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty$2(ix.columnIndices)&&tab.MiscUtil.isNullOrEmpty$3(ix.fn)){return iy}if(iy.length===0){iy.push(ix);return iy}var iz=gr.isCategoricalAndTupleAssociatedHeader(ix);var iA=gr.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(ix);var iB=!iz&&!iA;var iC=gr.$0(e,iw.get_nodes(),true,(iz?ix.columnIndices:null));if(iC===-1){if(iz||iB&&!iw.isNodeAncestorSelected(ex)){iy.push(ix)}return iy}if(iw.isNodeSelected(ex)||iw.isNodeAncestorSelected(ex)){return iy}var iD=gr.$0(e,iw.get_nodes(),false,null);var iE=gr.nodeSelectionFromDrawGroup(e[iD]);if(iz){if(!_.isEqual(iE.columnIndices,ix.columnIndices)){iy.push(ix);return iy}}else{var iF=gr.$1(e,iE,null)!==-1;if(iA&&!iF){return iy}if(iB&&!iF){iy.push(ix);return iy}}var iG=ss.indexOf(e,ex);var iH=Math.min(iC,iG);var iI=iH+Math.abs(iC-iG)+1;for(var iJ=iH;iJ<iI;iJ++){var iK=e[iJ];var iL=!iz||_.isEqual(iK.node.columnIndices,ix.columnIndices);if(iL&&!iw.isNodeAncestorSelected(iK)&&!iw.isNodeSelected(iK)){iy.push(gr.nodeSelectionFromDrawGroup(iK))}}return iy};gr.$4=function(e,ex){if(!ex.isNodeSelected(e)||ex.get_nodes().length>1){return[gr.nodeSelectionFromDrawGroup(e)]}return null};gr.$5=function(e,ex){var iw=[];ss.arrayAddRange(iw,ex.get_nodes());var ix=ex.findNodeSelection(e);if(ss.isValue(ix)){ss.remove(iw,ix)}else if(!ex.isNodeAncestorSelected(e)){iw.push(gr.nodeSelectionFromDrawGroup(e))}return Array.prototype.slice.call(iw)};gr.nodeSelectionFromDrawGroup=function(e){var ex={};if(!ss.isValue(e.node)){return ex}var iw=e.node;if(ss.isValue(iw.columnIndices)){ex.columnIndices=iw.columnIndices||[]}if(ss.isValue(iw.aliasIndices)){ex.aliasIndices=iw.aliasIndices||[]}if(ss.isValue(iw.fn)){ex.fn=iw.fn}if(ss.isValue(iw.axisOrientation)){ex.axisOrientation=iw.axisOrientation}if(ss.isValue(iw.duplicateIndex)){ex.duplicateIndex=iw.duplicateIndex}if(ss.isValue(iw.pageIndex)){ex.pageIndex=iw.pageIndex}return ex};global.tab.SelectionUtils=gr;var gs=function(e,ex,iw){this.scheduledAction=null;this.scheduleType=null;this.scheduleDetails=null;this.scheduledAction=e;this.scheduleType=ex;this.scheduleDetails=iw};gs.__typeName='tab.SelfServiceSchedule';global.tab.SelfServiceSchedule=gs;var gt=function(){};gt.__typeName='tab.ServerCommands';gt.get_interceptorCount=function(){var e=0;var ex=new ss.ObjectEnumerator(gt.$1);try{while(ex.moveNext()){var iw=ex.current();e+=iw.value.length}}finally{ex.dispose()}return e};gt.$0=function(e,ex){return e+':'+ex};gt.executeServerCommand=function(e,ex,iw,ix){var iy=gt.$1[gt.$0(e.commandNamespace,e.commandName)];if(ss.isValue(iy)){for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];if(iA(e)===1){return}}}by.SendCommand(fJ.create(e,ex,iw,ix))};gt.intercept=function(e,ex){var iw='tabdoc'.toString();for(var ix=0;ix<e.length;ix++){var iy=e[ix];gt.addCommandInterceptor(ex,iw,iy.toString())}return ex};gt.addCommandInterceptor=function(e,ex,iw){var ix=gt.$0(ex,iw);var iy=gt.$1[ix];if(ss.isNullOrUndefined(iy)){iy=[];gt.$1[ix]=iy}iy.push(e);return e};gt.removeIntercept=function(e,ex){var iw='tabdoc'.toString();for(var ix=0;ix<e.length;ix++){var iy=e[ix];gt.removeCommandInterceptor(ex,iw,iy.toString())}};gt.removeCommandInterceptor=function(e,ex,iw){var ix=gt.$0(ex,iw);var iy=gt.$1[ix];if(!ss.isNullOrUndefined(iy)){for(var iz=0;iz<iy.length;iz++){if(ss.staticEquals(iy[iz],e)){ss.removeAt(iy,iz);if(iy.length===0){delete gt.$1[ix];return}}}}};gt.clearAllCommandInterceptors=function(){ss.clearKeys(gt.$1)};global.tab.ServerCommands=gt;var gu=function(e,ex,iw,ix,iy,iz){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=ex;this.$4=iw;this.$3=ix;if(ss.isNullOrUndefined(iy)||iy){this.$1=this.$5.incrementWait(iz)}};gu.__typeName='tab.SessionAjaxCallManager';global.tab.SessionAjaxCallManager=gu;var gv=function(e,ex){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=ex;this.$9=e.$4('status')};gv.__typeName='tab.SessionAjaxHandler';var gw=function(){};gw.__typeName='tab.SessionCommands';gw.ping=function(){(new fq).invoke()};global.tab.SessionCommands=gw;var gx=function(){};gx.__typeName='tab.SessionHeartbeat';gx.onVizportalPinged=function(){var e=tab.DateUtil.get_nowAsTime();gx.$0=e;if(e-gx.$1>gx.$3){gx.$1=e;gw.ping()}};gx.onVizqlPinged=function(){var e=tab.DateUtil.get_nowAsTime();gx.$1=e;if(e-gx.$0>gx.$2){gx.$0=e;ih.extendWorkgroupSession()}};global.tab.SessionHeartbeat=gx;var gy=function(){};gy.__typeName='tab.SessionServerCommands';gy.cancelLatestSetTimeout=function(){window.clearTimeout(gy.$1)};gy.destroySessionAndForward$1=function(e,ex){var iw=2000;var ix=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,ex)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,ex)}};var iy=null;iy=function(){ix();gy.cancelLatestSetTimeout();iw*=2;gy.$1=window.setTimeout(iy,iw)};var iz=function(){ix();if(tab.BrowserSupport.get_isMac()&&(tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isFF())){gy.$1=window.setTimeout(iy,iw)}};gy.destroySessionAndForward(iz)};gy.destroySessionAndForward=function(e){var ex=function(){e()};gy.$0(ex)};gy.$0=function(e){var ex=by.get().get_legacySession();T.get_waitHandler().showAndLock(false);var iw=ex.$0(e,function(){},function(){},'immediately');var ix={};ix.type='DELETE';ix.url=ex.$4('destroy');ix.headers=ss.mkdict(['Accept','text/javascript']);ix.dataType='json';ex.$b(ix,iw)};gy.switchToViz=function(e){var ex=hU.createForCurrentWindowLocation();var iw={};var ix=new ss.ObjectEnumerator(ex.get_queryParams());try{while(ix.moveNext()){var iy=ix.current();if(iy.value.length===1){iw[iy.key]=iy.value[0]}else{iw[iy.key]=iy.value}}}finally{ix.dispose()}$.extend(iw,ss.mkdict([':jsonOnly','true']));ex.updateForViewingSheet(e);var iz={type:'GET',url:ex.get_path(),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:iw};var iA=by.get().get_legacySession();var iB=iA.$0(null,function(iC,iD,iE){by.get().switchViz(iC,ex)},null,'immediately');gy.$0(function(){iA.$b(iz,iB)})};global.tab.SessionServerCommands=gy;var gz=function(){ss.makeGenericType(S,[Object,gA]).call(this)};gz.__typeName='tab.SetDashboardCurrentLayoutCmd';global.tab.SetDashboardCurrentLayoutCmd=gz;var gA=function(e){this.$$c=null;this.$$c=e};gA.__typeName='tab.SetDashboardCurrentLayoutCmd$Response';global.tab.SetDashboardCurrentLayoutCmd$Response=gA;var gB=function(){ss.makeGenericType(S,[Object,gC]).call(this)};gB.__typeName='tab.SetDashboardSizingWithValidationCmd';global.tab.SetDashboardSizingWithValidationCmd=gB;var gC=function(e){this.$$c=null;this.$$c=e};gC.__typeName='tab.SetDashboardSizingWithValidationCmd$Response';global.tab.SetDashboardSizingWithValidationCmd$Response=gC;var gD=function(){ss.makeGenericType(S,[Object,gE]).call(this)};gD.__typeName='tab.SetDataSourceDataRowCountCmd';global.tab.SetDataSourceDataRowCountCmd=gD;var gE=function(e){this.$$c=null;this.$$c=e};gE.__typeName='tab.SetDataSourceDataRowCountCmd$Response';global.tab.SetDataSourceDataRowCountCmd$Response=gE;var gF=function(){ss.makeGenericType(S,[Object,gG]).call(this)};gF.__typeName='tab.SetVariablesPromptRespondedCmd';global.tab.SetVariablesPromptRespondedCmd=gF;var gG=function(e){this.$$c=null;this.$$c=e};gG.__typeName='tab.SetVariablesPromptRespondedCmd$Response';global.tab.SetVariablesPromptRespondedCmd$Response=gG;var gH=function(){this.$2={};this.$1={};this.$3={};this.$1$1=null};gH.__typeName='tab.ShapeManager';gH.get_canvasCacheCapacity=function(){return(tab.BrowserSupport.get_isMobile()?50:200)};gH.getCacheKey$1=function(e,ex,iw,ix,iy,iz){return e+';'+ex+';'+iw+';'+ix+';'+iy+';'+iz};gH.getCacheKey=function(e,ex,iw,ix,iy){return e+';'+ex+';'+iw+';'+ix+';'+iy};global.tab.ShapeManager=gH;var gI=function(e,ex){this.$0=null;this.$1=null;this.$0=e;this.$1=ex};gI.__typeName='tab.ShapeModel';gI.fromString=function(e){var ex=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var iw=ex.exec(e);if(ss.isNullOrUndefined(iw)){return null}var ix=iw[2];var iy=iw[3];if(ss.isNullOrUndefined(iy)){return null}var iz=null;if(ss.isValue(ix)){if(ss.referenceEquals(ix,'filled'.toString())){iz='filled'}else{return null}}var iA=iy;return new gI(iz,iA)};global.tab.ShapeModel=gI;var gJ=function(){};gJ.__typeName='tab.SheetClientCommands';gJ.switchSheets=function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}by.get().prepareForSheetChange();var ex=gJ.createSwitchSheetsCommand(e.sheetName);gt.executeServerCommand(ex,'immediately',e.successCallback,e.errorCallback)};gJ.createSwitchSheetsCommand=function(e){var ex={};ex['targetSheet']=e;return bO.newCommand$1('ensure-layout-for-sheet',ex)};gJ.goToSheet=function(e){by.get().prepareForSheetChange();var ex={};ex['sheet']=e;var iw=bO.newCommand('goto-sheet',ex);gt.executeServerCommand(iw,'immediately')};gJ.ensureLayoutForSheet=function(e){var ex=gJ.createSwitchSheetsCommand(e);gt.executeServerCommand(ex,'immediately')};gJ.createSheet=function(e,ex){var iw=bO.newCommand('new-worksheet',null);gJ.$0(iw,e,ex);gt.executeServerCommand(iw,'immediately',null,null)};gJ.deleteSheet=function(e){var ex={};ex['sheet']=e;ex['promptDeleteSheetsWithVizInTooltip']=false;var iw=bO.newCommand('delete-sheet',ex);gt.executeServerCommand(iw,'immediately',null,null)};gJ.renameSheet=function(e,ex){var iw={};iw['sheet']=e;iw['newSheet']=ex;var ix=bO.newCommand('rename-sheet',iw);gt.executeServerCommand(ix,'immediately',null,null)};gJ.createDashboardOrStory=function(e,ex,iw){var ix=(iw?'new-storyboard':'new-dashboard');var iy=bO.newCommand(ix,null);gJ.$0(iy,e,ex);gt.executeServerCommand(iy,'immediately',null,null)};gJ.$0=function(e,ex,iw){e.commandParams={};if(ss.isValue(ex)){e.commandParams['newSheet']=ex}if(iw){e.commandParams['insertAtEnd']=iw.toString()}e.commandParams['shouldChangeUiMode']=true};gJ.getSheetTabContextMenu=function(e,ex){var iw=bO.newCommand('build-sheet-tab-context-menu',null);iw.commandParams={};if(ss.isValue(e)){iw.commandParams['sheetName']=e}gt.executeServerCommand(iw,'none',function(ix){ex(ix)},null)};gJ.getSheetListContextMenu=function(e,ex,iw){var ix=new bf;ix.c['sheetName']=e;ix.c['addAsFloating']=ex;var iy=ix;iy.invoke().then(iw)};gJ.getLayoutTreeContextMenu=function(e,ex,iw){var ix=new bb;ix.c['dashboard']=e;ix.c['zoneId']=ex|0;var iy=ix;iy.invoke().then(iw)};gJ.getCaptionContextMenu=function(e,ex){var iw=new X;iw.c['sheetName']=e;var ix=iw;ix.invoke().then(ex)};gJ.getTitleContextMenu=function(e,ex){var iw=new bh;iw.c['sheetName']=e;var ix=iw;ix.invoke().then(ex)};gJ.$1=function(e){return{h:Math.floor(e.h),w:Math.floor(e.w)}};gJ.setPortSize=function(e){var ex=bO.newCommand$1('set-port-size',null);ex.commandParams={};ex.commandParams['sheet']=tsConfig.current_sheet_name;var iw,ix;if(tsConfig.is_authoring){iw=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');ix=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet')}else{iw=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?cj.calculateDashboardSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard'));ix=iw}ex.commandParams['worksheetPort']=gJ.$1({h:ix.h,w:ix.w});ex.commandParams['dashboardPort']=gJ.$1({h:iw.h,w:iw.w});ex.commandParams['storyPort']=gJ.$1({h:iw.h,w:iw.w});gt.executeServerCommand(ex,'immediately');R.get_instance().get_workbook().withOuterDashboard(function(iy){iy.set_portSize(e)})};global.tab.SheetClientCommands=gJ;var gK=function(e,ex){eQ.call(this,e,new fx(ex.toString()))};gK.__typeName='tab.SheetListItemModel';global.tab.SheetListItemModel=gK;var gL=function(e){this.$2=null;this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('sheetList'.toString()));this.$1=new n(this)};gL.__typeName='tab.SheetListModel';global.tab.SheetListModel=gL;var gM=function(e,ex,iw){this.sheetId=null;T.call(this,e,iw);this.sheetId=ex};gM.__typeName='tab.SheetSession';gM.add_sheetDataChanged=function(e){gM.$2$1=ss.delegateCombine(gM.$2$1,e)};gM.remove_sheetDataChanged=function(e){gM.$2$1=ss.delegateRemove(gM.$2$1,e)};gM.fireSheetDataChanged=function(){if(ss.isValue(gM.$2$1)){gM.$2$1()}};global.tab.SheetSession=gM;var gN=function(e){eQ.call(this,e,new fx('shelfItems'.toString(),1))};gN.__typeName='tab.ShelfItemsArrayModel';global.tab.ShelfItemsArrayModel=gN;var gO=function(e){eQ.call(this,e,new fx('shelfList'.toString(),1))};gO.__typeName='tab.ShelfListArrayModel';global.tab.ShelfListArrayModel=gO;var gP=function(e,ex){this.$2=null;this.$2$1=null;eQ.call(this,e,new fx(ex.toString()))};gP.__typeName='tab.ShelfModel';global.tab.ShelfModel=gP;var gQ=function(e){this.$3=[];this.$2$1=null;eQ.call(this,e,new fx('shelves'.toString()))};gQ.__typeName='tab.ShelvesModel';gQ.createShelfModel=function(e,ex,iw,ix,iy){var iz=new gP(new gO(e),ix);iz.update(ex,iw,iy);return iz};global.tab.ShelvesModel=gQ;var gR=function(){ss.makeGenericType(S,[Object,gS]).call(this)};gR.__typeName='tab.ShowDashboardTitleCmd';global.tab.ShowDashboardTitleCmd=gR;var gS=function(e){this.$$c=null;this.$$c=e};gS.__typeName='tab.ShowDashboardTitleCmd$Response';global.tab.ShowDashboardTitleCmd$Response=gS;var gT=function(){ss.makeGenericType(S,[Object,gU]).call(this)};gT.__typeName='tab.ShowEditAxisDialogCmd';global.tab.ShowEditAxisDialogCmd=gT;var gU=function(e){this.$$c=null;this.$$c=e};gU.__typeName='tab.ShowEditAxisDialogCmd$Response';global.tab.ShowEditAxisDialogCmd$Response=gU;var gV=function(e){this.$0=null;this.$0=e};gV.__typeName='tab.SimpleCommandsPresModelWrapper';gV.create=function(e){if(ss.isNullOrUndefined(e)){return null}return new gV(e)};global.tab.SimpleCommandsPresModelWrapper=gV;var gW=function(e,ex){this.$2$1=null;eQ.call(this,e,new fx(ex.toString()))};gW.__typeName='tab.SizeItemModel';global.tab.SizeItemModel=gW;var gX=function(e){this.$2$1=null;eQ.call(this,e,new fx('sortIndicators'.toString()))};gX.__typeName='tab.SortIndicatorsModel';global.tab.SortIndicatorsModel=gX;var gY=function(){};gY.__typeName='tab.SortServerCommands';gY.sortFromIndicator=function(e,ex,iw){var ix=eT.getZoneIdForSheetName(iw.worksheet);var iy=gY.$2(e,ex,iw,ix);var iz=bO.newCommand('sort-from-indicator',iy);var iA=new bs('afterDelay',function(iB){if(gY.$0(ix)){gl.setActiveZoneLocal(ix,iB)}},iz);by.SendCommand(iA)};gY.quickSort=function(e,ex){var iw=gY.$1(e,ex);var ix=bO.newCommand('quick-sort',iw);var iy=new bs('afterDelay',null,ix);by.SendCommand(iy)};gY.$2=function(e,ex,iw,ix){var iy={};var iz={x:Math.floor(e.x),y:Math.floor(e.y)};var iA={x:Math.floor(ex.x),y:Math.floor(ex.y)};bO.addVisualIdToCommand(iy,iw);iy['vizLocation']=JSON.stringify(tab.PointUtil.toPresModel(iz));iy['scrollOffset']=JSON.stringify(tab.PointUtil.toPresModel(iA));if(gY.$0(ix)){iy['dashboardPm']=eT.findContentDashboard().pm.sheetPath;iy['zoneId']=ix}return iy};gY.$0=function(e){return tsConfig.allow_select&&e!==-1&&!eT.isActiveZone(e)};gY.$1=function(e,ex){var iw={};bO.addVisualIdToCommand(iw,e);iw['sortOrder']=ex;return iw};global.tab.SortServerCommands=gY;var gZ=function(e,ex,iw,ix,iy){this.defaultSpace=null;this.left=null;this.right=null;this.bottom=null;this.top=null;this.$0=null;this.defaultSpace=e;this.left=ex;this.right=iw;this.top=ix;this.bottom=iy};gZ.__typeName='tab.SpacingDefinition';global.tab.SpacingDefinition=gZ;var ha=function(){ss.makeGenericType(S,[Object,hb]).call(this);this.set_uiBlocking('immediately')};ha.__typeName='tab.StartNewDataAlertCmd';global.tab.StartNewDataAlertCmd=ha;var hb=function(e){this.$$c=null;this.$$c=e};hb.__typeName='tab.StartNewDataAlertCmd$Response';global.tab.StartNewDataAlertCmd$Response=hb;var hc=function(){};hc.__typeName='tab.StartupUtils';hc.add_modelsInitialized=function(e){hc.$1$1=ss.delegateCombine(hc.$1$1,e)};hc.remove_modelsInitialized=function(e){hc.$1$1=ss.delegateRemove(hc.$1$1,e)};hc.add_clientFullyLoaded=function(e){hc.$1$2=ss.delegateCombine(hc.$1$2,e)};hc.remove_clientFullyLoaded=function(e){hc.$1$2=ss.delegateRemove(hc.$1$2,e)};hc.reset=function(){hc.$1=false;hc.$2=false;R.resetInstance()};hc.callAfterBootstrap=function(e){if(hc.$1){e()}else{var ex=null;ex=function(){e();hc.remove_clientFullyLoaded(ex)};hc.add_clientFullyLoaded(ex)}};hc.resetTsConfig=function(e){window['tsConfig']=e};hc.callAfterModelsInitialized=function(e){if(hc.$2){e()}else{var ex=null;ex=function(){e();hc.remove_modelsInitialized(ex)};hc.add_modelsInitialized(ex)}};hc.notifyModelsInitialized=function(){if(hc.$2){return}hc.$2=true;if(!ss.staticEquals(hc.$1$1,null)){hc.$1$1()}};hc.$0=function(){if(hc.$1){return}hc.$1=true;if(!ss.staticEquals(hc.$1$2,null)){hc.$1$2()}};global.tab.StartupUtils=hc;var hd=function(e,ex){this.$4=null;this.$2$1=null;this.$2$2=null;eQ.call(this,e,new fx(ex.toString(),0));this.$4=new ch(this)};hd.__typeName='tab.StoryPointModel';global.tab.StoryPointModel=hd;var he=function(e){this.$1=null;eQ.call(this,e,new fx('storyPoints'.toString()))};he.__typeName='tab.StoryPointsModel';global.tab.StoryPointsModel=he;var hf=function(){this.$3=null;this.$3=new(ss.makeGenericType(eJ,[String,A]))(hf.$6);io.get().add_onCommandResponse(ss.mkdel(this,this.$0));hf.$5=new ss.Lazy(function(){return['capture-story-point'.toString(),'delete-story-point'.toString(),'duplicate-active-story-point'.toString(),'edit-story-point-caption'.toString(),'ensure-layout-for-sheet'.toString(),'get-storyboard'.toString(),'insert-story-point'.toString(),'next-story-point'.toString(),'new-blank-story-point'.toString(),'previous-story-point'.toString(),'replace-story-point'.toString(),'revert'.toString(),'revert-story-point'.toString(),'revert-workbook'.toString(),'save-active-story-point-as-new'.toString(),'set-active-story-point'.toString(),'toggle-storypoints-nav-arrows'.toString()]});if(ss.isValue(hf.$4)){this.$3.add(hf.$4.item1.toString(),hf.$4.item2);hf.$4=null}};hf.__typeName='tab.StoryPointsPresModelCache';hf.$0=function(e){if(!hf.$3(e)){return}var ex=hf.$1(e);if(ss.isValue(ex)){var iw=new A(ex);hf.$4={item1:ex.storyPointId,item2:iw}}io.get().remove_onBootstrapResponse(hf.$0)};hf.$3=function(e){if(hf.$2(e)||!e.workbookPresModel.dashboardPresModel.isStory||e.renderMode!=='render-mode-client'){return false}return true};hf.$2=function(e){if(ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.zones)){return true}return false};hf.$1=function(e){if(e.renderMode!=='render-mode-client'){return null}if(hf.$2(e)){return null}var ex=null;var iw=e.workbookPresModel.dashboardPresModel.zones;var ix=_.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];var iA=iw[iz];if(ss.isNullOrUndefined(iA)){continue}ex=iu.getContent(iA,'flipboard');if(ss.isValue(ex)){break}}if(ss.isNullOrUndefined(ex)){return null}var iB=ex.activeStoryPointId.toString();var iC=ex.storyPoints[iB];return iC};global.tab.StoryPointsPresModelCache=hf;var hg=function(e){this.$1=null;this.$2=null;this.$2$1=null;eQ.call(this,e,new fx('styledBox'.toString(),0));this.$1=new eN;this.$2=new fc};hg.__typeName='tab.StyledBoxModel';global.tab.StyledBoxModel=hg;var hh=function(e){this.$1=null;this.$0=null;this.update(e)};hh.__typeName='tab.TableCalcIdentifierModel';global.tab.TableCalcIdentifierModel=hh;var hi=function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;eQ.call(this,e,new fx('tableCalculationPresModel'.toString()));this.set_tableCalcIdentifier(new hh(null));this.$3=new hj(this)};hi.__typeName='tab.TableCalcModel';hi.$0=function(e,ex){if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]};global.tab.TableCalcModel=hi;var hj=function(e){this.$2$1=null;eQ.call(this,e,new fx('tableCalcOrderingPresModel'.toString()))};hj.__typeName='tab.TableCalcOrderingModel';global.tab.TableCalcOrderingModel=hj;var hk=function(e){this.$2$1=null;eQ.call(this,e,new fx('tableCalcReferenceOptionsPresModel'.toString()))};hk.__typeName='tab.TableCalcReferenceModel';global.tab.TableCalcReferenceModel=hk;var hl=function(){};hl.__typeName='tab.TabResources';hl.getResourceName=function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))};hl.lookupResourceAlias=function(e){return(ss.keyExists(hl.$0,e)?hl.$0[e]:'')};hl.lookupFullResourceAlias=function(e){var ex=e.split('/');var iw=((ex.length>0)?ex[ex.length-1]:e);return hl.lookupResourceAlias(iw)};hl.lookupTabRes=function(e){return hl.lookupResourceAlias(e)};hl.lookupDefaultTabRes=function(e){return':/'+tsConfig.locale+'/'+hl.lookupResourceAlias(e)};global.tab.TabResources=hl;var hm=function(e,ex){this.$2$1=null;eQ.call(this,e,new fx(ex))};hm.__typeName='tab.TextRegionModel';global.tab.TextRegionModel=hm;var hn=function(){ss.makeGenericType(S,[Object,ho]).call(this)};hn.__typeName='tab.ToggleINDJoinSemanticsCmd';global.tab.ToggleINDJoinSemanticsCmd=hn;var ho=function(e){this.$$c=null;this.$$c=e};ho.__typeName='tab.ToggleINDJoinSemanticsCmd$Response';global.tab.ToggleINDJoinSemanticsCmd$Response=ho;var hp=function(){ss.makeGenericType(hY,[Object,hq]).call(this)};hp.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd';hp.get_commandName=function(){return'toggle-indjoin-semantics-wrapper'};global.tab.ToggleINDJoinSemanticsWrapperCmd=hp;var hq=function(e){this.$$c=null;this.$$c=e};hq.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd$Response';global.tab.ToggleINDJoinSemanticsWrapperCmd$Response=hq;var hr=function(e){this.$2$1=null;eQ.call(this,e,new fx('toolbarPresModel'.toString()))};hr.__typeName='tab.ToolbarModel';global.tab.ToolbarModel=hr;var hs=function(){};hs.__typeName='tab.ToolbarServerCommands';hs.get_authoringVizUri=function(){var e;var ex=null;if(ss.isNullOrEmptyString(ex)){e=hU.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=hU.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,ex)}e.trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar();e.removeHash();return e};hs.setAutoUpdate=function(e){var ex={};ex['state']=e;var iw=bO.newCommand$1('set-auto-update-server',ex);gt.executeServerCommand(iw,'immediately')};hs.refreshData=function(){var e={};e['deltaTime']=0;e['shouldRefreshDs']=true;var ex=bO.newCommand$1('refresh-data-server',e);gt.executeServerCommand(ex,'immediately')};hs.launchEditing=function(){var e=hs.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.Utility.get_isEmbedded()||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}};hs.downloadWorkbook=function(e){var ex;if(ss.isValue(e)){ex=e}else{ex=tsConfig.downloadURI}var iw;if(tsConfig.is_metrics_view){iw=by.get().get_legacySession().metricsViewDownloadUrl()}else{iw=hs.$0(ex)}window.open(iw)};hs.exportData=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(eT.findActiveOrDefaultVisual())){e=eT.findActiveOrDefaultVisual().get_worksheetName()}var ex=eT.findContentDashboard().getViewSession(e);if(ss.isValue(ex)){window.open(ex.formatUnderlyingDataURL(null),ex.getWindow('vud'),'scrollbars,resizable')}};hs.exportImage=function(e){var ex=R.get_instance().get_workbook().get_currentSheetStoryPointId();var iw=tableau.types.ExportDialogType['ExportImage'];var ix=[];var iy=[];if(eT.findContentDashboard().get_isDashboard()){var iz=e.get_sheetScrollPositions();if(ss.isValue(iz)){var iA=ss.getEnumerator(Object.keys(iz));try{while(iA.moveNext()){var iB=iA.current();var iC=iz[iB];var iD=iC.x;var iE=iC.y;if(iD!==0||iE!==0){iy.push({x:iD,y:iE});ix.push(iB)}}}finally{iA.dispose()}}}dc.exportImage(tsConfig.current_sheet_name,ex,iw,ix,iy)};hs.exportCrosstab=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(eT.findActiveOrDefaultVisual())){e=eT.findActiveOrDefaultVisual().get_worksheetName()}var ex=eT.findContentDashboard().getViewSession(e);if(ss.isValue(ex)){var iw=tableau.types.ExportDialogType['ExportCrosstab'];ex.fileDownloadHelper.openDownload(ex.formatExportCrossTabURL('utf16'),iw)}};hs.exportPdf=function(e){e.triggerExportPdfUI()};hs.$0=function(e){if(ss.isValue(e)){var ex=e.match(hs.$1);if(ss.isValue(ex)&&ex.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+ex[1]}}return e};global.tab.ToolbarServerCommands=hs;var ht=function(){this.$2=[];this.$3=null};ht.__typeName='tab.TrackingCommandDispatcher';global.tab.TrackingCommandDispatcher=ht;var hu=function(e){this.$2=null;this.$1=null;this.modelUpdateContext=null;this.modelUpdateContext=e;this.$2=[];this.$1=[]};hu.__typeName='tab.Transaction';hu.$0=function(e){if(e.length===0){return null}e=_.sortBy(e,function(iA){return iA.$1().get_pathList().length});var ex=R.get_instance().pm;var iw=fv.cloneObjWithScalarsOnly(ex);if(ss.isNullOrUndefined(iw)){iw=new Object}var ix=iw;for(var iy=0;iy<e.length;iy++){var iz=e[iy];fv.insertAtPath(ex,ix,iz.$1(),iz.$0())}return ix};global.tab.Transaction=hu;var hv=function(){this.$1=null;this.$0={}};hv.__typeName='tab.Transactor';global.tab.Transactor=hv;var hw=function(e,ex){eQ.call(this,e,ex)};hw.__typeName='tab.TypeSpecificTableCalcModel';global.tab.TypeSpecificTableCalcModel=hw;var hx=function(){bD.call(this)};hx.__typeName='tab.UbertipButtonMenuModel';global.tab.UbertipButtonMenuModel=hx;var hy=function(){this.$2$1=null;this.$2$2=false;this.$2$3=null;eQ.call(this,null,new fx('ubertipButton'))};hy.__typeName='tab.UbertipButtonModel';global.tab.UbertipButtonModel=hy;var hz=function(){};hz.__typeName='tab.UberTipClientCommands';hz.$5=function(){return tab.MiscUtil.lazyInitStaticField(hz,'commandPermissions',function(){return fo.buildCommandPermission()})};hz.executeUbertipAction=function(e,ex,iw){var ix=new D(function(iy){K.executeAction(e,ex,iw,iy)});by.SendCommand(ix)};hz.executeUbertipCommand=function(e){switch(e.get_commandType()){case 1:{gl.clearAllSelections(eT.findActiveOrDefaultVisual().get_visualId());break}case 2:case 10:{var ex=hz.$4(e);gt.executeServerCommand(ex,'immediately');break}case 4:case 11:case 12:case 13:case 15:case 17:case 18:case 22:case 16:{gt.executeServerCommand(e.command,'immediately');break}case 21:{gt.executeServerCommand(e.command,'immediately',bO.createCommandRedirectSuccessHandler(null),null);break}case 23:{var iw=bO.newCommand('select-by-tuple-value',e.command.commandParams);gt.executeServerCommand(iw,'immediately');break}case 6:case 9:case 7:default:{return}}};hz.localAndRemoteUberTipCommand=function(e,ex,iw,ix,iy,iz,iA,iB,iC,iD){var iE=hz.$0(e,ex,iw,ix,iz,iA,iB,iC,iD,iy);by.SendCommand(iE)};hz.filterUbertipButtonsByCommandPermissions=function(e,ex){return _.filter(e,function(iw){if(iw.get_isMenuButton()){return true}if(!ex.test(iw)){return false}return true})};hz.$0=function(e,ex,iw,ix,iy,iz,iA,iB,iC,iD){var iE=new o(hz.$1(e,iw,iy,iz),hz.$3(ex,iw,ix,iC,null,iD),hz.$2(true,iA),iB);return iE};hz.localOnlyUbertipCommand=function(e,ex,iw,ix){var iy=hz.buildLocalOnlyUbertipCommand(e,ex,iw,ix);iy.set_commandName('render-tooltip-server'.toString());by.SendCommand(iy)};hz.buildLocalOnlyUbertipCommand=function(e,ex,iw,ix){var iy=new o(hz.$1(e,ex,iw,ix),null,null,null);return iy};hz.remoteOnlyUbertipCommand=function(e,ex,iw,ix,iy,iz,iA,iB,iC,iD){var iE=hz.buildRemoteOnlyUberTipCommand(e,ex,iw,ix,iy,iz,iA,iB,iC,iD);by.SendCommand(iE)};hz.buildRemoteOnlyUberTipCommand=function(e,ex,iw,ix,iy,iz,iA,iB,iC,iD){var iE=null;if(iC&&ss.isValue(iB)){iE=function(iG){K.executeActions(ex.worksheet,'on-hover',iB,iG,false)}}var iF=new o(iE,hz.$3(e,ex,iw,iz,iA,iD),hz.$2(false,ix),iy);return iF};hz.$1=function(e,ex,iw,ix){return function(iy){var iz=hA.createLocalUberTipModel(e,eT.getVisualModelFromVisualId(ex),iw,tsConfig.is_authoring);if(ss.isValue(iz)){iz.isUpdate=false;iz.buttonModels=hz.filterUbertipButtonsByCommandPermissions(iz.buttonModels,hz.$5())}ix(iz);K.executeActions(ex.worksheet,'on-hover',[iw.get_interactedTupleId()],iy,false)}};hz.$3=function(e,ex,iw,ix,iy,iz){var iA={};bO.addVisualIdToCommand(iA,ex);if(ss.isValue(iz)){iA['tupleIds']=[ss.unbox(iz)]}var iB=new Object;var iC=hT.create(iB);iC.set_r(e);iC.set_x(Math.round(iw.x));iC.set_y(Math.round(iw.y));iC.set_w(Math.round(iw.w));iC.set_h(Math.round(iw.h));iC.set_fns(iy);iA['vizRegionRect']=iB;iA['allowHoverActions']=tsConfig.is_mobile||ix==='on-hover';iA['allowPromptText']=true;iA['allowWork']=tsConfig.is_mobile;iA['useInlineImages']=true;return bO.newCommand$1('render-tooltip-server',iA)};hz.$2=function(e,ex){return function(iw){if(!ss.isValue(iw)){return}var ix=iw.toString();var iy=(ss.isNullOrEmptyString(ix)?null:JSON.parse(ix));ds.notifyFontsFromUberTipPresModel(iy);var iz=hA.deserializeUbertip(iy);if(ss.isValue(iz)){iz.isUpdate=e;iz.buttonModels=hz.filterUbertipButtonsByCommandPermissions(iz.buttonModels,hz.$5())}if(ss.isValue(ex)){ex(iz)}ds.$5()}};hz.$4=function(e){var ex=bO.duplicateCommand(e.command);var iw=ex.commandParams;var ix=iw['tupleId'];delete iw['tupleId'];if(!ss.keyExists(iw,'selectAtPoint')&&ss.isValue(ix)){var iy=[parseInt(ix.toString())];var iz={};iz.objectIds=iy;iz.selectionType='tuples';iw['selection']=iz}return ex};global.tab.UberTipClientCommands=hz;var hA=function(){};hA.__typeName='tab.UbertipSerializer';hA.deserializeUbertip=function(e){if(ss.isNullOrUndefined(e)){return null}var ex=[];if(ss.isValue(e.selectionRelaxationCommands)){hA.$1(e.selectionRelaxationCommands,ex,0)}var iw=[];if(ss.isValue(e.actions)){hA.$1(e.actions,iw,0)}var ix={};if(ss.isValue(e.commands)){ix.buttonModels=hA.$2(e,null)}ix.tooltipHtml=hA.$b(e.htmlTooltip);ix.selectionHtml=hA.$b(e.htmlSelection);ix.overlayImage=hA.$b(e.overlayImage);ix.overlayImageKey=hA.$b(e.overlayImageKey);ix.tupleId=e.tupleId;ix.interactedTupleId=e.tupleId;ix.imageRegion=e.r;ix.tupleSelected=e.tupleSelected||false;ix.refLineSelected=e.refLineSelected||false;ix.trendLineSelected=e.trendLineSelected||false;ix.isExplicitlyEmpty=e.isEmpty||false;ix.tooltipOffset=tab.PointUtil.fromPresModel(e.tooltipOffset);ix.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.markTooltipRect);ix.contentCommands=ex;ix.actions=iw;if(ss.isValue(ix.overlayImage)||ss.isValue(ix.overlayImageKey)){var iy=e.overlayAnchors.length;ix.overlayAnchors=new Array(iy);for(var iz=0;iz<iy;++iz){var iA=e.overlayAnchors[iz];var iB=tab.PointUtil.fromPresModel(iA);ix.overlayAnchors[iz]={x:iB.x,y:iB.y}}}if(ss.isValue(ix.tooltipHtml)||ss.isValue(ix.selectionHtml)||ss.isValue(ix.buttonModels)&&ix.buttonModels.length>0||iw.length>0){return ix}return null};hA.createLocalUberTipModel=function(e,ex,iw,ix){var iy=iw.get_interactedTupleId();var iz=iw.get_affectedTupleIds();var iA=iw.get_paneDescriptorKey();var iB=ex.get_vizDataModel();if(ss.isNullOrUndefined(iB)){return null}var iC=iB.get_ubertipData();var iD=hA.$9(iC,iA);var iE=hA.$7(iD.htmlTooltip,ex.get_visualId(),iy);var iF=R.get_instance().get_dataDictionary();var iG=iD.htmlTooltip;var iH=iB.getVizDataField(iC.fn);if(ss.isValue(iH)){var iI=hO.lookupRawDataValue(iy,iH,iF);if(ss.contains(iD.fieldVector,iI)){iG=iD.htmlTooltipModified}}var iJ=hQ.constructHtml(iF,iG,iB,[iy]);var iK=null;var iL=false;if(iz.length>1&&iD.showButtons){iL=true;iK=hA.$8(iF,iB,iz,iD.summaryField)}var iM=[];var iN=iy;if(iN<0){iN=0}var iO=hQ.hasTupleWithNonTotalValue(iB,iF,iz);if(iD.showButtons&&iB.hasDimensionColumnNotMeasureNames()){if(iO){var iP=hA.$d(null,e);iM=hA.$3(iC.standardCommands,e,iN,iP)}if(iL){var iQ=hA.$d(null,e);iM=hA.$3(iC.multiselectCommands,e,iN,iQ)}iM=_.filter(iM,function(iV){return iV.get_commandType()!==10});if(ix){var iR=hA.$5();iM.push(iR)}}var iS;if(iO){iS=K.getApplicableActions(ex.get_visualId().worksheet,'explicitly',null);iS=_.filter(iS,function(iV){if(iV.activation==='explicitly'&&K.getActionType(iV)!=='url'&&iV.targetWorksheets.length===0){return false}return true})}else{iS=[]}var iT=iD.htmlTooltip.toString().length===0;if(ss.isValue(iJ)||ss.isValue(iK)||iM.length>0||iS.length>0){var iU={tooltipHtml:iJ,selectionHtml:iK,tupleId:iN,interactedTupleId:iy,isExplicitlyEmpty:iT,actionPMs:iS,buttonModels:iM,contentCommands:iE,visualId:ex.get_visualId()};return iU}return null};hA.$5=function(){var e=new bF;e.set_commandType(10);e.imageRes=hl.lookupResourceAlias('TQRC_SPLIT');e.set_name('');var ex=e;if(tsConfig.is_mobile){var iw=tab.Strings.UbertipTooltip_GroupMobile;var ix=tab.Strings.UbertipTooltip_SplitMobile;ex.description=((ix.length>iw.length)?ix:iw)}var iy=new bG;iy.update(ex,true);return iy};hA.paneContainsViT=function(e,ex){if(ss.isNullOrUndefined(e)){return false}var iw=e.get_vizDataModel();if(ss.isNullOrUndefined(iw)){return false}var ix=iw.get_ubertipData();if(ss.isNullOrUndefined(ix)){return false}if(ss.isNullOrUndefined(ex)){for(var iy=0;iy<ix.ubertipPaneDatas.length;iy++){var iz=ix.ubertipPaneDatas[iy];if(hQ.objectContainsVizInTooltip($(iz.htmlTooltip))){return true}}return false}else{return hQ.objectContainsVizInTooltip($(hA.$9(ix,ex).htmlTooltip))}};hA.$9=function(e,ex){if(e.ubertipPaneDatas.length===1){return e.ubertipPaneDatas[0]}for(var iw=0;iw<e.ubertipPaneDatas.length;iw++){var ix=e.ubertipPaneDatas[iw];if(ss.isValue(ix.paneDescriptor)){if(ss.referenceEquals(ix.paneDescriptor.paneDescrKey,ex)){return ix}}}return null};hA.$7=function(e,ex,iw){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')){return[]}if(iw===0){return[]}var ix=$(e);var iy=ix.find('a.relax-selection');var iz=iy.length;var iA=[];for(var iB=0;iB<iz;iB++){var iC=iy.eq(iB);var iD=iC.children().eq(0);var iE=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(iD.text(),'<[','['),']>',']'),'>>','>'),'<<','<');var iF=iC.attr('href');var iG=hA.$0(ex,iE,iF,iw);iA[iB]=iG}return iA};hA.$0=function(e,ex,iw,ix){var iy={};iy['visualIdPresModel']=e;iy['worksheet']=e.worksheet;iy['fn']=ex;iy['tupleId']=ix.toString();var iz=bO.newCommand('select-by-tuple-value',iy);var iA=new bF;iA.set_commandType(23);iA.set_name(iw);iA.command=iz;var iB=iA;return iB};hA.$8=function(e,ex,iw,ix){var iy=ex.getVizDataField(ix||'');if(ss.isValue(iy)){var iz=[];$.extend.apply(null,[true,iz].concat(hA.$e));iz[2]=iw.length.toString();iz[4]=tab.Strings.UbertipItemsSelected;if(iy.get_aggType()!=='sum'){iz[8]=tab.Strings.SumOf}iz[10]=ix;iz[14]='&lt;'+ix+'&gt;';var iA=iz.join('');return hQ.constructHtml(e,iA,ex,iw)}else{hA.$f[2]=iw.length.toString();hA.$f[4]=tab.Strings.UbertipItemsSelected;return hA.$f.join('')}};hA.$d=function(e,ex){var iw=ss.isNullOrUndefined(ex);var ix=false;if(ss.isValue(e)&&ss.isValue(e.r)){switch(e.r){case'viz':case'xheader':case'yheader':case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':{ix=true;break}}ix=ix&&!e.refLineSelected&&!e.trendLineSelected}return!tsConfig.previewMode&&(ix||!iw)};hA.$c=function(){return tsConfig.is_mobile};hA.$1=function(e,ex,iw){var ix=bM.create(e);if(ss.isNullOrUndefined(ix)||ss.isNullOrUndefined(ix.get_commandItems())){return}var iy=ix.get_commandItems();for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];var iB=bE.create(iA);var iC=new bF;iC.command=bK.deserialize(iB.get_command());var iD=iC;if(ss.isValue(iD.command)){hA.buildCommandModelFromWrapper(iD,iB,iw);ex.push(iD)}if(ss.isValue(iB.get_commands())){hA.$1(iB.get_commands(),ex,iw)}}};hA.$2=function(e,ex){var iw=e.commands;var ix=hA.$d(e,ex);return hA.$3(iw,ex,0,ix)};hA.$3=function(e,ex,iw,ix){var iy=bM.create(e);if(ss.isNullOrUndefined(iy)||ss.isNullOrUndefined(iy.get_commandItems())){return[]}var iz=[];var iA=iy.get_commandItems();for(var iB=0;iB<iA.length;iB++){var iC=iA[iB];var iD=bE.create(iC).get_command();var iE=ss.isNullOrUndefined(iD);if(iE){var iF=new hx;iF.update(iC,iw);iz.push(iF)}else{var iG=new bD;iG.update(iC,iw);iz.push(iG)}}if(ix&&iz.length>0){var iH=ss.isNullOrUndefined(ex);iz.push(hA.$6(iz,iH,ex))}if(hA.$c()){iz.push(hA.$4())}return iz};hA.$6=function(e,ex,iw){var ix=new bF;ix.set_commandType(7);ix.status='enabled';ix.description=tab.Strings.UbertipTooltip_ViewData;ix.command=bO.newCommand('viewData',{});var iy=ix;var iz=hA.$a(e,ex,iw);if(ss.isValue(iz)){iy.command.commandParams['selectAtPoint']=iz}var iA=new bG;iA.update(iy,false);return iA};hA.$a=function(e,ex,iw){if(ex){for(var ix=0;ix<e.length;ix++){var iy=e[ix];if(ss.isValue(iy.get_serializedCommand())&&ss.isValue(iy.get_serializedCommand().commandParams)&&ss.keyExists(iy.get_serializedCommand().commandParams,'selectAtPoint')){return iy.get_serializedCommand().commandParams['selectAtPoint']}}return null}else{return JSON.stringify(tab.PointUtil.toPresModel(iw))}};hA.$4=function(){var e=new bF;e.set_commandType(1);e.set_name(tab.Strings.UbertipClearSelection);e.status='enabled';var ex=e;var iw=new bG;iw.update(ex,false);return iw};hA.buildCommandModelFromWrapper=function(e,ex,iw){hA.setCommandType(e);e.set_name(ex.get_name());e.description=ex.get_description();if(!tab.MiscUtil.isNullOrEmpty$3(ex.get_iconRes())){e.imageRes=hl.lookupFullResourceAlias(ex.get_iconRes())}var ix=ex.get_enabled();e.status=((ss.isNullOrUndefined(ix)||ix)?'enabled':'disabled');if(iw!==0&&!ss.isValue(e.command.commandParams['selectAtPoint'])){e.command.commandParams['tupleId']=iw.toString()}};hA.setCommandType=function(e){var ex=bK.getCommandType(e.command);if(ss.isValue(ex)){e.set_commandType(ss.unbox(ex))}};hA.$b=function(e){return(ss.isNullOrEmptyString(e)?null:e)};global.tab.UbertipSerializer=hA;var hB=function(){ss.makeGenericType(S,[Object,hC]).call(this)};hB.__typeName='tab.UpdateDataAlertCmd';global.tab.UpdateDataAlertCmd=hB;var hC=function(e){this.$$c=null;this.$$c=e};hC.__typeName='tab.UpdateDataAlertCmd$Response';global.tab.UpdateDataAlertCmd$Response=hC;var hD=function(){};hD.__typeName='tab.UriPathStripper';hD.getModuleFromPath=function(e,ex){var iw=tsConfig.site_root||'';var ix=e.indexOf(iw,0);var iy;if(ix===-1){iy=e.substr(1)}else{var iz=ix+iw.length;iy=e.substr(iz+1)}for(var iA=0;iA<ex.length;iA++){var iB=ex[iA];if(ss.startsWithString(iy,iB+'/')||ss.referenceEquals(iy,iB)){return iB}}return''};hD.getMeatFromPath=function(e,ex){var iw=hD.getModuleFromPath(e,ex);var ix=e.indexOf(iw,0);return e.substr(ix+iw.length+1)};global.tab.UriPathStripper=hD;var hE=function(){};hE.__typeName='tab.UrlStringReplacementOutcome';global.tab.UrlStringReplacementOutcome=hE;var hF=function(){};hF.__typeName='tab.UserFactory';hF.currentUser=function(){return{id:tsConfig.current_user_id,friendlyName:tsConfig.current_user_friendly_name,username:tsConfig.current_user_name,hasEmail:!ss.isNullOrEmptyString(tsConfig.current_user_email)}};global.tab.UserFactory=hF;var hG=function(e){eQ.call(this,e,new fx('geometry'))};hG.__typeName='tab.ViewGeometryModel';global.tab.ViewGeometryModel=hG;var hH=function(e,ex,iw,ix){this.viewid=null;gM.call(this,e,ex,ix);this.viewid=iw};hH.__typeName='tab.ViewSession';global.tab.ViewSession=hH;var hI=function(){};hI.__typeName='tab.VisualColumnHelpers';hI.transformColumn=function(e,ex){if(ss.isNullOrUndefined(e)){return false}e.transform(ex);return true};hI.createDataArray=function(e,ex,iw){var ix=Array.prototype.slice.call(e.dataValues,ex,ex+iw);return hJ.create(ix)};hI.parseColumns=function(e,ex,iw){var ix=hI.$0(e);var iy=_.keys(e.encodingColumns);for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];ix.set(iA,hI.createDataArray(e.encodingColumns[iA],ex,iw))}return ix};hI.buildColorTable=function(e,ex,iw,ix){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)||!ex.has('color_idx')){return null}var iy=1;if(ex.has('alpha')&&ex.get('alpha').c){var iz=ex.get('alpha');iy=iz.v[(iz.c?0:0)]}var iA=[];var iB={};var iC=ex.get('color_idx');var iD=iC.length;for(var iE=0;iE<iD;iE++){var iF=iC.v[(iC.c?0:iE)];if(ss.keyExists(iB,iF)){iC.v[(iC.c?0:iE)]=iB[iF]}else{var iG=bw.fromArgbInt(e.colorList[iF]);iG=new bw(iG.get_r(),iG.get_g(),iG.get_b(),iy*iG.get_a());iA.push(gc.createColorCollection(iG,iw,ix));iC.v[(iC.c?0:iE)]=iA.length-1;iB[iF]=iC.v[(iC.c?0:iE)]}}return iA};hI.buildOpaqueColorTable=function(e){if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var iw=0,ix=e.length;iw<ix;iw++){ex[iw]=gc.createOpaqueColorCollection(e[iw])}return ex};hI.$0=function(e){var ex=new Map;var iw=[e.intMap,e.floatMap,e.boolMap];for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(ss.isNullOrUndefined(iy)){continue}var iz=Object.keys(iy);for(var iA=0;iA<iz.length;iA++){var iB=iz[iA];var iC=[iy[iB]];ex.set(iB,hJ.create(iC))}}return ex};global.tab.VisualColumnHelpers=hI;var hJ=function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false};hJ.__typeName='tab.VisualColumnIterator';hJ.create=function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new E(e)}return new hJ(e)};global.tab.VisualColumnIterator=hJ;var hK=function(e){this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('visuallist'))};hK.__typeName='tab.VisualListModel';global.tab.VisualListModel=hK;var hL=function(e){this.$p=null;this.$k=null;this.$b=null;this.$f={};this.$h=null;this.$9=null;this.$q=null;this.$o=null;this.$l=null;this.$n=null;this.$m=null;this.$r=null;this.$v=null;this.$d=null;this.$t=null;this.$s=null;this.$i=null;this.$j=null;this.$8=null;this.$g=null;this.$7=null;this.$c=null;this.$u=false;this.$a=false;this.$e=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.resizeInfoModel=null;eQ.call(this,e,new fx('visual'.toString()));this.$j=new Map;this.$8=new Map;this.$g=new Map;this.$7=new Map;this.$p=new gp(this,'selectionList'.toString());this.$k=new gm(null,-1);this.$b=new gp(this,'brushingSelectionList'.toString());this.$u=true;this.$a=false;this.$e=false;this.$k.update(gp.$1('tuples'),eX.get_noopContext())};hL.__typeName='tab.VisualModel';hL.$1=function(){return tab.Logger.lazyGetLogger(hL)};hL.$0=function(e){var ex=e.scene;if(ss.isValue(ex)&&ss.isValue(ex.runtimeFinalDatastore)){var iw=tab.RuntimeUtil.constructRuntimeData(ex.runtimeFinalDatastore);if(ss.isValue(iw.finalDataStore.PDMarks)){ex.pdMarksMap=iw.getPDMarksPresModels()}if(ss.isValue(iw.finalDataStore.AnnexedData)&&ss.isValue(iw.finalDataStore.AnnexedData.LabelStore)){if(ss.isNullOrUndefined(e.markLabels)){e.markLabels={}}iw.populateLabels(e.markLabels,ex.currentPage)}for(var ix=0;ix<ex.panes.length;ix++){var iy=ex.panes[ix];for(var iz=0;iz<iy.drawPane.length;iz++){var iA=iy.drawPane[iz];if(ss.isValue(iA.paneMarks)){var iB=iA.paneMarks;iw.populatePaneMarks(iB,ex.currentPage)}}}}};global.tab.VisualModel=hL;var hM=function(){};hM.__typeName='tab.VizClientCommands';hM.invalidateVisualModel=function(e){hM.$0(e,false)};hM.validateVisualModel=function(e){hM.$0(e,true)};hM.$0=function(e,ex){var iw=new D(function(ix){eT.setVisualValidStateOnModel(ix,e,ex)});by.SendCommand(iw)};hM.setUIMode=function(e,ex){var iw=R.get_instance().get_workbook();if(iw.get_uiMode()===e){return}var ix=e!=='document'||ss.referenceEquals(ex,tsConfig.current_sheet_name);ix=ix&&e!=='data-tab';var iy=new bq;iy.c['uiMode']=e;iy.set_uiBlocking((ix?'none':'immediately'));var iz=iy;if(!ss.isNullOrEmptyString(ex)){iz.c['sheetName']=ex}if(ix){iz.set_localWork(function(iA){var iB=iA.makeMutablePresModel(iw,false);iB.uiMode=e})}iz.invoke()};global.tab.VizClientCommands=hM;var hN=function(e,ex){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=ex;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()};hN.__typeName='tab.VizDataField';global.tab.VizDataField=hN;var hO=function(){};hO.__typeName='tab.VizDataLookup';hO.lookupDisplayValue=function(e,ex,iw){if(!ex.isTupleIdValid(e)){hO.$2(e,ex.get_fieldCaption());return null}if(ex.get_hasAliases()){var ix=hO.lookupAlias(e,ex,iw);if(ss.isValue(ix)){return ix}}if(ex.get_hasDataValues()){var iy=hO.$3(e,ex,iw);if(ss.isValue(iy)){return iy}}hO.$2(e,ex.get_fieldCaption());return null};hO.$2=function(e,ex){var iw=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,ex)};hO.$1=function(e){return ss.Nullable$1.lt(e,0)};hO.$0=function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)};hO.lookupAlias=function(e,ex,iw){if(!ex.isTupleIdValid(e)){hO.$2(e,ex.get_fieldCaption());return null}var ix=ex.getAliasIndex(e);return hO.lookupAliasFromIndex(ix,ex,iw)};hO.lookupAliasFromIndex=function(e,ex,iw){var ix=null;if(ss.isValue(e)){if(hO.$1(e)){e=hO.$0(e);ix=iw.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(ix)){ix=tableau.format.formatSpecial(ix,ex.get_specialValuesOverride())}}else{var iy=e;ix=hO.$4(iy,ex,iw)}}return ix};hO.lookupRawDataValue=function(e,ex,iw){var ix=ex.getDataValueIndex(e);return hO.lookupRawDataValueFromIndex(ix,ex,iw)};hO.lookupRawDataValueFromIndex=function(e,ex,iw){var ix=null;if(ss.isValue(e)){var iy;var iz=ss.unbox(e);if(iz>=0){iy=ex.get_dataType()}else{iz=-iz-1;iy='cstring'}var iA=iw.getRawValue(iy,iz);if(ss.isValue(iA)){ix=iA.toString()}}return ix};hO.$3=function(e,ex,iw){var ix=ex.getDataValueIndex(e);return hO.$4(ix,ex,iw)};hO.$4=function(e,ex,iw){var ix=null;var iy=hO.lookupRawDataValueFromIndex(e,ex,iw);if(ss.isValue(iy)){if(tableau.format.isSpecialValue(iy)){ix=tableau.format.formatSpecial(iy,ex.get_specialValuesOverride())}else{ix=tableau.format.formatString(iy,ex.get_vizColumnDoNotUse())}}return ix};hO.reverseLookupAlias=function(e,ex,iw,ix){var iy=null;if(iw.get_hasAliases()){ex.forEachTupleId(function(iz){var iA=hO.lookupAlias(iz,iw,ix);if(ss.compareStrings(iA,e,false)===0){iy=iw.getAliasIndex(iz);return false}return true})}return iy};hO.buildAliasReverseLookup=function(e,ex,iw){var ix={};if(ex.get_hasAliases()){e.forEachTupleId(function(iy){var iz=hO.lookupAlias(iy,ex,iw);if(ss.isNullOrUndefined(ix[iz])){ix[iz]=ex.getAliasIndex(iy)}return true})}return ix};hO.isSpecial=function(e,ex,iw,ix){var iy=hO.lookupRawDataValue(e,ex,iw);if(ss.isNullOrUndefined(iy)){var iz=ex.getAliasIndex(e);if(ss.isValue(iz)){if(hO.$1(iz)){iz=hO.$0(iz)}var iA=iz;iy=hO.lookupRawDataValueFromIndex(iA,ex,iw)}if(ss.isNullOrUndefined(iy)){return false}}return(ss.isNullOrUndefined(ix)?tableau.format.isSpecialValue(iy):ss.referenceEquals(iy,ix))};global.tab.VizDataLookup=hO;var hP=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;eQ.call(this,e,new fx('vizData'.toString()));this.$4=[];this.$5=[]};hP.__typeName='tab.VizDataModel';global.tab.VizDataModel=hP;var hQ=function(){};hQ.__typeName='tab.VizDataUtils';hQ.constructUrl=function(e,ex,iw,ix,iy){var iz=function(iA,iB,iC){if(ss.isNullOrEmptyString(iB)){if(ss.isValue(ix)){return hQ.$6(e,iA,ix,1,ex)}return null}var iD=hQ.$1(e,iA,iB,ex.delimiter);if(ex.shouldUrlEscape){iD=encodeURIComponent(iD)}return iD};return hQ.decodeAndReplaceData(ex.url,'<','>',iw,iz)};hQ.constructUrlForFilterActionFromTargetURL=function(e,ex,iw,ix,iy){var iz=function(iH,iI,iJ){return hQ.$5(e,iH,iy,iJ,iw)};var iA=ex.toString().split('?');if(iA.length===1){return ex}var iB=iA[0]+'?';var iC=iA[1].split('&');var iD=[];for(var iE=0;iE<iC.length;iE++){var iF=iC[iE];var iG=hQ.decodeAndReplaceData(iF,'<','>',ix,iz);if(iG.item2==='success'){iD.push(iG.item1)}}iB+=iD.join('&');return iB};hQ.constructUrlFromString=function(e,ex,iw,ix,iy,iz){var iA=function(iC,iD,iE){if(ss.isNullOrEmptyString(iD)){return hQ.$2(e,iC,ix,1)}else{return hQ.$1(e,iC,iD,iz)}};var iB=hQ.decodeAndReplaceData(ex,'<','>',iw,iA);return iB.item1};hQ.constructHtml=function(e,ex,iw,ix){var iy=function(iC,iD,iE){return hQ.$2(e,iC,ix,0)};var iz=hQ.decodeAndReplaceData(ex,'&lt;','&gt;',iw,iy);var iA=$(iz.item1);var iB=[];hQ.getNodesOfInvalidFields(iA,iB);hQ.$0(iA,iB);hQ.replaceLastVizInTooltipSizes(iA);return(hQ.shouldShowUbertipHTML(iA)?iA.wrap('<div>').parent().html():'')};hQ.replaceLastVizInTooltipSizes=function(e){if(tab.FeatureFlags.isEnabled('VizInTooltip')){var ex=e.find('span[data-tableau="VizInTooltip"]');var iw=Math.min(ex.length,hQ.lastWidthAndHeightForVizInTooltips.length);for(var ix=0;ix<iw;ix++){ex[ix].style.width=hQ.lastWidthAndHeightForVizInTooltips[ix].item1;ex[ix].style.height=hQ.lastWidthAndHeightForVizInTooltips[ix].item2;ex[ix].style.display='inline-block'}}};hQ.updateLastVizInTooltipSizes=function(e){var ex=$(e);var iw=ex.find('span[data-tableau="VizInTooltip"] img');var ix=iw.length;hQ.widestVizInTooltip=0;for(var iy=0;iy<ix;iy++){var iz=iw[iy].getAttribute('height')+'px';var iA=parseInt(iw[iy].getAttribute('width'));var iB=(iA+'px').toString();hQ.lastWidthAndHeightForVizInTooltips[iy]={item1:iB,item2:iz};if(iA>hQ.widestVizInTooltip){hQ.widestVizInTooltip=iA}}};hQ.decodeAndReplaceData=function(e,ex,iw,ix,iy){var iz='success';var iA=hQ.$4(e,'escaped_open_tag');var iB=hQ.$4(e,'escaped_close_tag');var iC=ss.replaceAllString(ss.replaceAllString(e,ex+ex,iA),iw+iw,iB);var iD=iC.split(ex);var iE=new ss.StringBuilder(iD.shift());for(var iF=0;iF<iD.length;iF++){var iG=iD[iF];var iH=iG.split(iw);var iI=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(iH[0],iA,ex),iB,iw));var iJ=iH[1];var iK=true;var iL=iI.lastIndexOf(String.fromCharCode(126));var iM=iI.lastIndexOf(String.fromCharCode(93));if(iL>=0&&(iM===-1||iM<iL)){var iN=iI.substr(iL);iI=iI.substr(0,iL);if(iN==='~na'){iK=false}}var iO=null;if(hQ.$7(iI)){var iP=iI.indexOf('(');iO=iI.substring(0,iP);iI=iI.substring(iP+1,iI.length-1)}var iQ=iI.indexOf(String.fromCharCode(91));var iR=iI.lastIndexOf(String.fromCharCode(93));if(iQ>=0&&iQ<iR){iI=iI.substring(iQ+1,iR)}if(ss.startsWithString(iI,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var iS=ix.getVizDataField(iI);if(ss.isNullOrUndefined(iS)){return{item1:'',item2:'urlConstructionFail'}}var iT=iy(iS,iO,iK);if(ss.isNullOrUndefined(iT)){iz='urlConstructionFail'}else{iE.append(iT)}iE.append(iJ)}var iU=ss.replaceAllString(ss.replaceAllString(iE.toString(),iA,ex),iB,iw);return{item1:iU,item2:iz}};hQ.hasTupleWithNonTotalValue=function(e,ex,iw){for(var ix=0;ix<iw.length;ix++){var iy={$:iw[ix]};var iz={$:false};e.forEachVizDataField(ss.mkdel({tupleId:iy,tupleHasTotal:iz},function(iA,iB){if(iA.get_role()==='dimension'){if(hO.isSpecial(this.tupleId.$,iA,ex,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!iz.$){return true}}return false};hQ.isFieldNameOfColumn=function(e,ex){var iw=hQ.stripNewlines(e.fn);var ix=hQ.stripNewlines(ex);var iy='['+ix+']';return ss.referenceEquals(ix,iw)||ss.referenceEquals(ix,hQ.stripNewlines(e.fnDisagg))||ss.referenceEquals(iy,iw)||ss.referenceEquals(iy,hQ.stripNewlines(e.localBaseColumnName))};hQ.isFieldCaptionOfColumn=function(e,ex){return ss.referenceEquals(hQ.stripNewlines(ex),hQ.stripNewlines(e.fieldCaption))};hQ.$4=function(e,ex){var iw=ex;while(e.indexOf(iw)>-1){iw+=Math.random()*10000|0}return iw};hQ.stripNewlines=function(e){return(ss.isValue(e)?e.replace(hQ.$8,''):null)};hQ.objectContainsVizInTooltip=function(e){return tab.FeatureFlags.isEnabled('VizInTooltip')&&e.has('span[data-tableau="VizInTooltip"]').length!==0};hQ.shouldShowUbertipHTML=function(e){return!tab.MiscUtil.isNullOrEmpty$3(e.text().trim())||hQ.objectContainsVizInTooltip(e)};hQ.getNodesOfInvalidFields=function(e,ex){var iw='';var ix=e.contents().get();for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(iz.nodeType===3){iw+=iz.textContent||(iz.textContent||'')}else{hQ.getNodesOfInvalidFields($(iz),ex)}}if(iw.indexOf('~~~???~~~')!==-1){ex.push(e)}};hQ.addVizDataToZones=function(e,ex){var iw=_.keys(ex);var ix=_.keys(e);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];for(var iA=0;iA<iw.length;iA++){var iB=iw[iA];var iC=ex[iB];if(iC.zoneCommon.zoneType==='viz'&&ss.referenceEquals(iC.sheet,iz)){var iD=iC.presModelHolder['visual'.toString()];if(ss.isValue(iD)){var iE=e[iz].presModelHolder;iD.vizData=iE['genVizDataPresModel']}break}}}};hQ.$0=function(e,ex){for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];var iy=hQ.$3(e,ix,'tr');if(ss.isValue(iy)){iy.remove()}else{var iz=hQ.$3(e,ix,'div');if(ss.isValue(iz)){iz.remove()}else{ix.remove()}}}};hQ.$3=function(e,ex,iw){var ix=ex;if(ss.isValue(e)&&ss.isValue(ex)&&e.find(ex).length===1){while(!ss.referenceEquals(ix[0],e[0])){if(ss.referenceEquals(ix[0].tagName.toLowerCase(),iw)){return ix}ix=ix.parent()}}return null};hQ.$6=function(e,ex,iw,ix,iy){var iz=[];for(var iA=0;iA<iw.length;iA++){var iB=iw[iA];var iC=hO.lookupAlias(iB,ex,e);if(ss.isNullOrUndefined(iC)){continue}if(hO.isSpecial(iB,ex,e,null)){continue}if(iC.indexOf(iy.delimiter)!==-1){iC=ss.replaceAllString(iC,iy.delimiter,iy.escapeString+iy.delimiter)}if(iy.shouldUrlEscape){iC=encodeURIComponent(iC)}iz.push(iC)}if(iz.length===0){return null}if(iz.length>1&&ss.isNullOrUndefined(iy.delimiter)){return null}var iD=iz.join(iy.delimiter);if(ix===0){iD=tableau.format.escapeHTML(iD)}return iD};hQ.$5=function(e,ex,iw,ix,iy){var iz=[];for(var iA=0;iA<iw.length;iA++){var iB=iw[iA];var iC=(ix?hO.lookupAlias(iB,ex,e):hO.lookupRawDataValue(iB,ex,e));iC=hQ.replaceUrlStringSpecialValues(iC);iC=ss.replaceAllString(iC,iy.delimiter,iy.escapeString+iy.delimiter);iz.push(iC)}return encodeURIComponent(iz.join(iy.delimiter))};hQ.replaceUrlStringSpecialValues=function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}};hQ.$2=function(e,ex,iw,ix){var iy;if(iw.length>1){if(!ex.get_hasDataValues()){return'...'}var iz=new Array(iw.length);for(var iA=0;iA<iw.length;++iA){var iB=hO.lookupRawDataValue(iw[iA],ex,e);if(iB===null||tableau.format.isSpecialValue(iB)){iB='0'}else if(typeof(iB)==='undefined'||iB.length===0){return'...'}iz[iA]=iB}var iC=0;for(var iD=0;iD<iz.length;++iD){iC+=parseFloat(iz[iD])}iy=tableau.format.formatString(iC.toString(),ex.get_vizColumnDoNotUse())}else if(iw.length===1){var iE=hO.lookupDisplayValue(iw[0],ex,e);if(ss.isNullOrUndefined(iE)){return'~~~???~~~'}iy=iE}else{return''}if(ix===0){return tableau.format.escapeHTML(iy)}else{return iy}};hQ.$7=function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')};hQ.$1=function(e,ex,iw,ix){if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_filterContext())){return''}var iy=ex.get_filterContext();var iz;switch(iw){case'FILTERMIN':{iz=iy.filterMinIndices;break}case'FILTERMAX':{iz=iy.filterMaxIndices;break}case'FILTERVALUES':{iz=iy.filterValueIndices;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty$2(iz)){return''}var iA=[];for(var iB=0;iB<iz.length;iB++){var iC=iz[iB];var iD=hO.lookupRawDataValueFromIndex(iC,ex,e);iA.push(iD)}return iA.join(ix||',')};global.tab.VizDataUtils=hQ;var hR=function(){};hR.__typeName='tab.VizPortalServer';hR.createRequest=function(e,ex,iw,ix){var iy=function(iz){if(hR.$5(iz)){ix(hR.$2(iz))}else{iw(iz)}};return hR.$1(e,ex,iy,ix)};hR.createRequestWithPartialFailureHandling=function(e,ex,iw,ix,iy){var iz=function(iA){if(hR.$5(iA)){ix(iA)}else{iw(iA)}};return hR.$1(e,ex,iz,iy)};hR.$0=function(e){return hR.$1(e.methodName,e.methodParams,e.success,e.error)};hR.$1=function(e,ex,iw,ix){var iy=new Object;iy.type='POST';iy.contentType='application/json;charset=UTF-8';iy.dataType='json';iy.url='/vizportal/api/web/v1/'+e;var iz=hR.$4();if(ss.isValue(iz)){iy.headers=ss.mkdict(['X-XSRF-TOKEN',iz])}iy.data=JSON.stringify(ss.mkdict(['method',e,'params',ex]));iy.success=function(iA,iB,iC){iw(hR.$3(iA))};iy.error=function(){ix(0)};return iy};hR.$4=function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)};hR.$5=function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];return ex.length>0}else{return false}};hR.$2=function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];if(ex.length>0&&ss.keyExists(ex[0],'code')){return ex[0]['code']}}return 0};hR.$3=function(e){var ex=e;return ex['result']};global.tab.VizPortalServer=hR;var hS=function(e,ex,iw,ix){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=iw;this.error=ix};hS.__typeName='tab.VizqlSessionRequest';global.tab.VizqlSessionRequest=hS;var hT=function(e){this.$0=null;this.$0=e};hT.__typeName='tab.VizRegionRectWrapper';hT.create=function(e){return new hT(e)};global.tab.VizRegionRectWrapper=hT;var hU=function(e){this.explicitNotGuest=false;this.$l=0;this.$m='';this.$k='';this.$e='';this.$i={};this.$f='';this.$g='';this.$h='';this.$j='';if(ss.getKeyCount(hU.$9)===0){hU.$2()}if(ss.isValue(e)){this.$5(e)}};hU.__typeName='tab.VizUriModel';hU.createForCurrentWindowLocation=function(e){return new hU(tab.WindowHelper.getLocation(e||tabBootstrap.Utility.get_locationWindow()))};hU.createForViewingSheet=function(e){var ex=hU.$0(null);ex.$l=(tsConfig.is_revision_history_preview?6:(ex.$l=1));var iw=new fN(e);ex.$m=iw.get_workbookId();ex.$k=iw.get_sheetId();ex.$f=iw.get_customizedView();ex.$e='';return ex};hU.createForViewingSheets=function(e,ex){if(ss.isNullOrUndefined(e)||e.length===0){return[]}var iw=e.length;var ix=new Array(iw);var iy=hU.$0(null);iy.$l=1;iy.$e='';if(!ex){iy.removeAllQueryParams()}for(var iz=0;iz<iw;iz++){var iA=iy.clone();var iB=e[iz];var iC=new fN(iB);iA.$m=iC.get_workbookId();iA.$k=iC.get_sheetId();iA.$f=iC.get_customizedView();ix[iz]=iA}return ix};hU.createForCurrentWindowLocationAndVizState=function(e,ex){var iw=hU.createForCurrentWindowLocation();var ix=new fN(e);iw.$m=ix.get_workbookId();iw.$k=ix.get_sheetId();iw.$f=ix.get_customizedView();iw.$e=ex;return iw};hU.createForAuthoringUnpublishedSheet=function(e,ex){var iw=hU.createForAuthoringPublishedSheet(e);iw.$e=ex;return iw};hU.createForAuthoringPublishedSheet=function(e){var ex=hU.$0(null);ex.$l=2;var iw=new fN(e);ex.$m=iw.get_workbookId();ex.$k=iw.get_sheetId();ex.$e='';return ex};hU.createInvalid=function(){var e=new hU;e.$l=0;return e};hU.$2=function(){var e=ss.getEnumerator(Object.keys(hU.$d));try{while(e.moveNext()){var ex=e.current();hU.$9[hU.$d[ex]]=ex}}finally{e.dispose()}};hU.$0=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}var ex=tab.WindowHelper.getLocation(e);var iw=new hU(ex);iw.$i=hU.$1(ex);iw.$g=ex.hash;iw.$h=tab.BrowserSupport.getOrigin(ex);return iw};hU.$1=function(e){var ex=tab.MiscUtil.getUriQueryParameters(e.href);for(var iw=0;iw<hU.$c.length;iw++){var ix=hU.$c[iw];if(ss.keyExists(ex,ix)){delete ex[ix]}}return ex};hU.encodeUserName=function(e){var ex=tab.MiscUtil.percentEncode(e,hU.$a);return ss.replaceAllString(ex,'%40','@')};global.tab.VizUriModel=hU;var hV=function(){};hV.__typeName='tab.VizUriType';global.tab.VizUriType=hV;var hW=function(){};hW.__typeName='tab.WaitFeedbackType';global.tab.WaitFeedbackType=hW;var hX=function(){this.$d=null;this.$j=null;this.$h=0;this.$e=null;this.$k=null;this.$i=null;this.$g=false;this.$f=false;this.$c=null;this.$d=$('#loadingGlassPane');this.$d.on('mousedown',function(ex){ex.stopImmediatePropagation()});this.$d.on(tab.BrowserSupport.get_mouseWheelEvent(),function(ex){ex.preventDefault()});this.$j=$('#loadingSpinner');if(tab.FeatureFlags.isEnabled('CommandCancellation')){this.$1()}this.$h=0;this.$g=true;this.$f=false;var e=ss.mkdel(this,this.$7);document.body.addEventListener('keydown',e,true);document.body.addEventListener('keyup',e,true);document.body.addEventListener('keypress',e,true)};hX.__typeName='tab.WaitHandler';global.tab.WaitHandler=hX;var hY=function(e,ex){var iw=function(){this.$2$1=false;this.$2$2=false;this.$2$3=false;this.$2$4=false;this.$2$5=false;ss.makeGenericType(S,[e,ex]).call(this)};ss.registerGenericClassInstance(iw,hY,[e,ex],{get_isChecked:function(){return this.$2$1},set_isChecked:function(ix){this.$2$1=ix},get_isDefault:function(){return this.$2$2},set_isDefault:function(ix){this.$2$2=ix},get_isEnabled:function(){return this.$2$3},set_isEnabled:function(ix){this.$2$3=ix},get_isRadioOn:function(){return this.$2$4},set_isRadioOn:function(ix){this.$2$4=ix},get_isVisible:function(){return this.$2$5},set_isVisible:function(ix){this.$2$5=ix},createCommand:function(){return new D(ss.mkdel(this,function(ix){this.do$1()}))},transfer:function(ix){if(ss.isValue(ix)){_.each(_.difference(Object.keys(ix),Object.keys(this.c)),ss.mkdel(this,function(iy){this.c[iy]=ix[iy]}))}},do$1:null,invoke:function(){var ix=$.Deferred();this.do$1();ix.resolve();return ix.promise()}},function(){return ss.makeGenericType(S,[e,ex])},function(){return[]});return iw};hY.__typeName='tab.WebBaseCmd$2';ss.initGenericClass(hY,a,2);global.tab.WebBaseCmd$2=hY;var hZ=function(){this.$1=null;bE.call(this)};hZ.__typeName='tab.WebCommandItemWrapper';hZ.$ctor1=function(e){this.$1=null;bE.call(this,e);var ex=bK.deserialize(this.get_command());if(ss.isValue(ex)&&ia.hasCommand(ex.commandName)){this.$1=ia.createCommand(ex.commandName);this.$1.set_isChecked(bE.prototype.get_isChecked.call(this));this.$1.set_isDefault(bE.prototype.get_isDefault.call(this));this.$1.set_isEnabled(bE.prototype.get_enabled.call(this));this.$1.set_isRadioOn(bE.prototype.get_isRadioOn.call(this));this.$1.set_isVisible(bE.prototype.get_isVisible.call(this));this.$1.transfer(ex.commandParams)}else{}};global.tab.WebCommandItemWrapper=hZ;var ia=function(){};ia.__typeName='tab.WebCommandRegistry';ia.registerCommand=function(e,ex){ia.$0[e]=ex};ia.hasCommand=function(e){return ss.keyExists(ia.$0,e)};ia.createCommand=function(e){if(ss.keyExists(ia.$0,e)){var ex=ia.$0[e];return ss.createInstance(ex)}throw new ss.Exception('creating unregistered web command')};ia.createCommandWithParams=function(e,ex){if(ss.keyExists(ia.$0,e)){var iw=ia.$0[e];var ix=ss.createInstance(iw);ix.transfer(ex);return ix}throw new ss.Exception('creating unregistered web command')};global.tab.WebCommandRegistry=ia;var ib=function(e){this.$1=null;this.$2$1=null;eQ.call(this,e,new fx('webZone'.toString()));this.$1=e.get_zone()};ib.__typeName='tab.WebZoneModel';global.tab.WebZoneModel=ib;var ic=function(e){this.$3$1=null;hw.call(this,e,new fx('windowTableCalcPresModel'.toString()))};ic.__typeName='tab.WindowTableCalcModel';global.tab.WindowTableCalcModel=ic;var id=function(e){this.$4=null;this.$6=null;this.$7=null;this.$8=null;this.$5=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;eQ.call(this,e,new fx('workbookPresModel'.toString()));this.$4=new bL(this);this.$7=new cz(this);this.set_formatPaneModel(new du(this))};id.__typeName='tab.WorkbookModel';id.add_workbookModifiedChanged=function(e){id.$2$1=ss.delegateCombine(id.$2$1,e)};id.remove_workbookModifiedChanged=function(e){id.$2$1=ss.delegateRemove(id.$2$1,e)};id.$1=function(e){if(id.$0(e)){return e.dashboardPresModel.sheetLayoutInfo.sheetType}return null};id.$0=function(e){return ss.isValue(e)&&ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)};id.fireWorkbookModifiedChanged=function(e){if(!ss.staticEquals(id.$2$1,null)){id.$2$1(e)}I.get().onWorkbookModifiedChanged(e)};global.tab.WorkbookModel=id;var ie=function(e,ex){this.$1=null;this.$0=null;this.$1=e;this.$0=ex};ie.__typeName='tab.WorkgroupDataAlert';global.tab.WorkgroupDataAlert=ie;var ig=function(e,ex,iw){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=ex;this.$0=iw};ig.__typeName='tab.WorkgroupDataSource';ig.$0=function(e){var ex=(ss.isValue(e)?e.match(ig.$1):null);return(ss.isValue(ex)?ex[1]:e)};global.tab.WorkgroupDataSource=ig;var ih=function(){};ih.__typeName='tab.WorkgroupServerCommands';ih.get_getSessionInfo=function(){var e=$.Deferred();if(!tsConfig.is_guest){iq.helper(hR.createRequest('getSessionInfo',null,function(ex){e.resolve(ex)},function(ex){e.reject(ex)}))}else{e.reject()}return e};ih.getWritableProjects=function(e){var ex=[];f.$0(Object).call(null,'getWritableProjects',new h,ss.mkdel(this,function(iw){var ix=f.$3(Object).call(null,iw,ih.$c);ss.arrayAddRange(ex,ix.items);return ix}),function(){e(ex)})};ih.getDestinationProjects=function(e,ex){var iw=$.Deferred();var ix=[];f.$1(Object).call(null,'getDestinationProjects',ih.$3(0,e,ex),ss.mkdel(this,function(iy){var iz=f.$3(Object).call(null,iy,ih.$a);ix=ix.concat.apply(ix,iz.items);return iz}),function(){iw.resolve(ix)},function(){iw.reject()});return iw.promise()};ih.extendWorkgroupSession=function(){if(!tsConfig.is_guest){iq.helper(hR.createRequest('getSessionInfo',null,function(){},function(){}))}};ih.getSchedules=function(e){var ex=[];f.$0(gg).call(null,'getSchedules',new h,ss.mkdel(this,function(iw){var ix=f.$3(gg).call(null,iw,ih.$d);ss.arrayAddRange(ex,ix.items);return ix}),function(){e(ex)})};ih.getSiteUsers=function(e,ex){var iw=[];f.$0(Object).call(null,'getUsers',ih.$5(e),ss.mkdel(this,function(ix){var iy=f.$3(Object).call(null,ix,ih.$e);_.each(iy.items,function(iz){iw.push(iz)});return iy}),function(){ex(iw)})};ih.retrieveAllWorkbookTemplates=function(){var e=$.Deferred();var ex=function(ix){var iy=ix['workbookTemplates'];e.resolve(new ik(iy))};var iw=function(ix){e.reject()};iq.helper(hR.createRequest('getAllWorkbookTemplates',{},ex,iw));return e};ih.getDataAlertForDataAlertId=function(e,ex){var iw=$.Deferred();var ix=[];f.$1(Object).call(null,'getDataAlerts',ih.$1(0,e,ex),ss.mkdel(this,function(iy){var iz=f.$3(Object).call(null,iy,ih.$8);var iA=_.indexBy(ih.$e(iy),'id');if(ss.isValue(iz)){ix=ix.concat(_.map(iz.items,function(iB){var iC=iA[iB.ownerId];return new ie(iB,iC)}))}return iz}),function(){iw.resolve(ix)},function(){iw.reject()});return iw};ih.getUsersForDataAlertId=function(e){var ex=$.Deferred();var iw=[];f.$1(Object).call(null,'getUsersForDataAlert',ih.$6(0,e),ss.mkdel(this,function(ix){var iy=f.$3(Object).call(null,ix,ih.$e);if(ss.isValue(iy)){_.each(iy.items,function(iz){iw.push(iz)})}return iy}),function(){ex.resolve(iw)},function(){ex.reject()});return ex};ih.fetchPageOfDataSources=function(e,ex,iw){var ix=$.Deferred();f.$2(Object).call(null,'getDatasources',ih.$2(e,ex,iw),ss.mkdel(this,function(iy){var iz=f.$3(Object).call(null,iy,ih.$9);var iA=_.indexBy(ih.$c(iy),'id');var iB=_.indexBy(ih.$e(iy),'id');var iC={items:_.map(iz.items,function(iD){var iE=iA[iD.projectId.toString()];var iF=iB[iD.ownerId.toString()];return new ig(iD,iE,iF)}),moreItems:iz.moreItems};ix.resolve(iC);return iz}));return ix.promise()};ih.getDatasources=function(e,ex,iw){var ix=[];f.$0(Object).call(null,'getDatasources',ih.$2(0,ex,iw),ss.mkdel(this,function(iy){var iz=f.$3(Object).call(null,iy,ih.$9);var iA=_.indexBy(ih.$c(iy),'id');var iB=_.indexBy(ih.$e(iy),'id');if(ss.isValue(iz)){ix=ix.concat(_.map(iz.items,function(iC){var iD=iA[iC.projectId.toString()];var iE=iB[iC.ownerId.toString()];return new ig(iC,iD,iE)}))}return iz}),function(){e(ix)})};ih.fetchPageOfSiteUsers=function(e,ex){var iw=$.Deferred();var ix=ih.$5(e);ix.$1(ex);ix.$2()['includeGuestIfEnabled']=false;f.$2(Object).call(null,'getUsers',ix,ss.mkdel(this,function(iy){var iz=f.$3(Object).call(null,iy,ih.$e);iw.resolve(iz);return iz}));return iw.promise()};ih.fetchPageOfGroups=function(e,ex){var iw=$.Deferred();var ix=ih.$4(e);ix.$1(ex);f.$2(Object).call(null,'getGroups',ix,ss.mkdel(this,function(iy){var iz=f.$3(Object).call(null,iy,ih.$b);iw.resolve(iz);return iz}));return iw.promise()};ih.$3=function(e,ex,iw){var ix={field:'name',ascending:true};var iy=new h.$1(ix,{});iy.$1(e);iy.$2()['contentType']=ex;iy.$2()['sourceIds']=iw;return iy};ih.$4=function(e){var ex={field:'name',ascending:true};var iw={operator:'and',clauses:[{operator:'matches',value:e}]};return new h.$1(ex,iw)};ih.$5=function(e){var ex={field:'displayName',ascending:true};var iw={operator:'and',clauses:[{operator:'matches',value:e}]};return new h.$1(ex,iw)};ih.$1=function(e,ex,iw){var ix={operator:'and',clauses:[{field:'viewId',operator:'eq',value:ex},{field:'id',operator:'eq',value:iw}]};var iy={field:'title',ascending:true};var iz=new h.$1(iy,ix);iz.$1(e);return iz};ih.$6=function(e,ex){var iw={field:'displayName',ascending:true};var ix=new h.$1(iw,null);ix.$1(e);ix.$2()['dataAlertId']=ex;return ix};ih.$2=function(e,ex,iw){var ix={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};if(ss.isValue(iw)){ix.clauses=ix.clauses.concat([{operator:'matches',value:iw}])}var iy=new h.$0(ex,ix);iy.$1(e);return iy};ih.setUserEmail=function(e,ex,iw){ih.$7(function(ix){var iy=ss.mkdict(['userId',ix,'email',e]);iq.helper(hR.createRequest('updateUserEmail',iy,ex,iw))},iw)};ih.$7=function(e,ex){var iw=tsConfig.current_user_name;var ix=tsConfig.current_user_domain_name;var iy=[{field:'username',operator:'eq',value:iw},{field:'domainName',operator:'eq',value:ix}];var iz=ss.mkdict(['filter',{clauses:iy}]);iq.helper(hR.createRequest('getServerUsers',iz,function(iA){var iB=iA['users'];if(ss.isValue(iB)&&iB.length>0&&ss.keyExists(iB[0],'id')){var iC=iB[0]['id'];e(iC)}else{ex(hR.$2(iA))}},ex))};ih.createSubscription=function(e,ex,iw,ix,iy,iz){var iA=ih.$0(iw.get_schedulePresModel().id,e,ex,ss.coalesce(ix,'Always'),null);iq.helper(hR.createRequest('createSubscription',iA,iy,iz))};ih.createSubscriptions=function(e,ex,iw,ix,iy,iz,iA,iB,iC,iD){var iE=ih.$0(ix.get_schedulePresModel().id,e,ex,ss.coalesce(iy,'Always'),iC);iE['userIds']=iw;if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){iE['groupIds']=iD}iq.helper(hR.createRequestWithPartialFailureHandling('createSubscriptions',iE,iz,iA,iB))};ih.createDataAlert=function(e,ex,iw){var ix=ih.buildCreateDataAlertRequestParams(e);iq.helper(hR.createRequest('createDataAlert',ix,ex,iw))};ih.updateDataAlert=function(e,ex,iw,ix,iy,iz){var iA=ih.buildUpdateDataAlertRequestParams(e,ex,iw.map(function(iB){return iB.id.toString()}),ix.map(function(iB){return iB.id.toString()}));iq.helper(hR.createRequest('updateDataAlert',iA,iy,iz))};ih.buildCreateDataAlertRequestParams=function(e){var ex;var iw;if(ss.isValue(tsConfig.current_custom_view_id)){ex='customizedView';iw=tsConfig.current_custom_view_id+''}else{ex='view';iw=tsConfig.current_view_id}var ix=ss.mkdict(['title',e.get_title(),'device',e.get_deviceType(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIds',e.get_userIds(),'context',ss.mkdict(['contextType',ex,'id',iw])]);return ix};ih.buildUpdateDataAlertRequestParams=function(e,ex,iw,ix){var iy=ss.mkdict(['dataAlertId',ex,'title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIdsToAdd',iw,'userIdsToRemove',ix]);return iy};ih.logOff=function(e){var ex=function(iw){var ix=iw['redirectUrl'];tab.WindowHelper.setLocationHref(window.self,(ss.isValue(ix)?ix:'/'))};iq.helper(hR.createRequest('logout',{},ex,e))};ih.createCommentingServer=function(){return new bP(hR.$0,by.get().get_legacySession())};ih.$0=function(e,ex,iw,ix,iy){return ss.mkdict(['scheduleId',e,'subject',ex.trim(),'targetType',(iw?'Workbook':'View'),'targetId',(iw?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',ix,'subscriptionMessage',iy])};ih.$c=function(e){return _.map(e['projects'],function(ex){return ex})};ih.$a=function(e){return _.map(e['projects'],function(ex){return ex})};ih.$d=function(e){return _.map(e['schedules'],function(ex){return new gg(ex)})};ih.$e=function(e){return _.map(e['users'],function(ex){return{username:ex['username'].toString(),friendlyName:ex['displayName'].toString(),id:parseInt(ex['id'].toString()),hasEmail:ex['hasEmail']}})};ih.$b=function(e){return _.map(e['groups'],function(ex){return{name:ex['name'].toString(),id:parseInt(ex['id'].toString()),userCount:parseInt(ex['userCount'].toString())}})};ih.$8=function(e){return e['dataAlerts']};ih.$9=function(e){return e['datasources']};global.tab.WorkgroupServerCommands=ih;var ii=function(){};ii.__typeName='tab.WorkgroupServerErrorCode';global.tab.WorkgroupServerErrorCode=ii;var ij=function(e,ex,iw,ix){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=iw;this.error=ix};ij.__typeName='tab.WorkgroupServerRequest';global.tab.WorkgroupServerRequest=ij;var ik=function(e){this.$0=null;this.$0=e};ik.__typeName='tab.WorkgroupWorkbookTemplates';global.tab.WorkgroupWorkbookTemplates=ik;var il=function(){};il.__typeName='tab.WorksheetServerCommands';il.revert=function(){var e=bO.newCommand$1('revert-workbook',null);by.SendCommand(fJ.create(e,'immediately'))};il.undo=function(){var e=bO.newCommand('undo',null);e.commandParams={};by.SendCommand(fJ.create(e,'immediately'))};il.undo$1=function(e,ex){var iw=bO.newCommand('undo',null);iw.commandParams={};by.SendCommand(fJ.create(iw,'immediately',e,ex))};il.undoToPosition=function(e){var ex=bO.newCommand('undo',null);ex.commandParams=il.$0(e);by.SendCommand(fJ.create(ex,'immediately'))};il.redo=function(){var e=bO.newCommand('redo',null);e.commandParams={};by.SendCommand(fJ.create(e,'immediately'))};il.redo$1=function(e,ex){var iw=bO.newCommand('redo',null);iw.commandParams={};by.SendCommand(fJ.create(iw,'immediately',e,ex))};il.redoToPosition=function(e){var ex=bO.newCommand('redo',null);ex.commandParams=il.$0(e);by.SendCommand(fJ.create(ex,'immediately'))};il.clearFuture=function(){var e=bO.newCommand('clear-future',null);e.commandParams={};by.SendCommand(fJ.create(e,'immediately'))};il.$0=function(e){var ex={};ex['undoPosition']=e;return ex};global.tab.WorksheetServerCommands=il;var im=function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false};im.__typeName='tab.WorldCheckpointHolder';global.tab.WorldCheckpointHolder=im;var io=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null};io.__typeName='tab.WorldUpdateInterceptor';io.get=function(){return io.$0.value()};global.tab.WorldUpdateInterceptor=io;var ip=function(){};ip.__typeName='tab.WorldUpdateServerCommands';ip.getWorldUpdate=function(e){var ex=bO.newCommand('get-world-update',ip.$0());gt.executeServerCommand(ex,'immediately',e,e)};ip.$0=function(){var e={};e['sheet']=tsConfig.current_sheet_name;return e};global.tab.WorldUpdateServerCommands=ip;var iq=function(){};iq.__typeName='tab.XhrUtil';iq.get_currentTabName=function(){return iq.$0};iq.set_currentTabName=function(e){iq.$0=e};iq.helper=function(e,ex){var iw=new iq;if(!ss.isValue(e.success)&&ss.isValue(ex)){e.success=ex.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(ex)){e.complete=ex.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(ex)){e.error=ex.get_errorDelegate()}return iw.request(e)};iq.getMultipartData=function(e,ex){var iw=iq.randomString();var ix='--'+iw;var iy='\r\n';var iz=new ss.StringBuilder;if(ss.isValue(e)){iz.append(ix);iz.append(iy);iz.append('Content-Disposition: form-data; name="');iz.append(e['name']);iz.append('"');if('filename'in e){iz.append('; filename="');iz.append(e['filename']);iz.append('"')}iz.append(iy);iz.append('Content-Type: ');iz.append(e['contentType']);iz.append(iy);iz.append(iy);iz.append(e['content']);iz.append(iy)}if(ss.isValue(ex)){var iA=new ss.ObjectEnumerator(ex);try{while(iA.moveNext()){var iB=iA.current();iz.append(ix);iz.append(iy);iz.append('Content-Disposition: form-data; name="');iz.append(iB.key);iz.append('"');iz.append(iy);iz.append(iy);if(ss.isInstanceOfType(iB.value,String)){iz.append(iB.value)}else{iz.append(JSON.stringify(iB.value))}iz.append(iy)}}finally{iA.dispose()}}iz.append(ix);iz.append('--');iz.append(iy);var iC={};iC.header=iw;iC.body=iz.toString();return iC};iq.randomString=function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var ex=8;var iw='';for(var ix=0;ix<ex;ix++){var iy=Math.random()*e.length;var iz=iy|0;iw+=e.substring(iz,iz+1)}return iw};global.tab.XhrUtil=iq;var ir=function(e,ex){this.$2=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;eQ.call(this,e,new fx(ex.toString(),0));this.$2=new hg(this);this.$1=new hg(this)};ir.__typeName='tab.ZoneCommonModel';global.tab.ZoneCommonModel=ir;var it=function(e){eQ.call(this,e,new fx('presModelHolder'.toString()))};it.__typeName='tab.ZoneContentWrapperModel';global.tab.ZoneContentWrapperModel=it;var iu=function(e,ex,iw){this.$7=null;this.$9=null;this.$8=null;this.$5=null;this.$2=null;this.$6=null;this.$4=false;this.$3=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;eQ.call(this,e,new fx(iw.toString(),0));this.$7=ex;this.$8=new ir(this,iw);this.$2=new bL(this)};iu.__typeName='tab.ZoneModel';iu.$2=function(e){var ex=e.presModelHolder;if(ss.isNullOrUndefined(ex)){return null}if(ss.getKeyCount(ex)===1){var iw=ss.getEnumerator(Object.keys(ex));try{while(iw.moveNext()){var ix=iw.current();return ix}}finally{iw.dispose()}}return''};iu.getContent=function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.presModelHolder)){return null}if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]};iu.$1=function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))};iu.$0=function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'};global.tab.ZoneModel=iu;var iv=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;eQ.call(this,e,new fx('zones'.toString()));this.set_zonePresModels({});this.$7={};this.$6={}};iv.__typeName='tab.ZonesModel';iv.$0=function(e){return'z_'+e};global.tab.ZonesModel=iv;ss.initClass(b,a,{$6:function(){return this.$1$1},$7:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$0:function(){return this.$1$3},$1:function(e){this.$1$3=e},$2:function(){return this.$1$4},$3:function(e){this.$1$4=e}});b.$0.prototype=b.prototype;ss.initClass(c,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(d,a,{get_waitingOnCommands:function(){return this.$1()},get_deferredServerResponseQueueSize:function(){return this.$0()},get_currentWorldDiffersFromCheckpoint:function(){return this.$2.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$2.worldCheckpoint()}});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(h,a,{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(ex){return ss.mkdict(['field',ex.field,'ascending',ex.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}});h.$1.prototype=h.$0.prototype=h.prototype;ss.initClass(eQ,a,{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new fw)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var ex=(e?tab.MiscUtil.cloneObject(this.pm):fv.cloneObjWithScalarsOnly(this.pm));return ex||new Object},swapAndCopyPresModel:function(e){var ex=this.pm;if(ss.isValue(ex)&&ss.isValue(e)){var iw=e;var ix=ex;var iy=Object.keys(ix);for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];if((!ss.keyExists(iw,iA)||typeof(iw[iA])==='undefined')&&(!_.isBoolean(ix[iA])||!eQ.removeUndefinedBoolsOnSwapCopy)){iw[iA]=ix[iA]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(ex,iw,ix,iy){this.simpleSwapToUpdate(ex,function(){if(!ss.staticEquals(iw,null)){iw(ix)}},iy)}},simpleSwapToUpdate:function(e,ex,iw){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(ex,iw);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(ex,iw,ix){if(ss.staticEquals(ex,null)){return}this.raiseEvent(function(){ex(iw)},ix)}},raiseEvent$2:function(e,ex){return function(iw,ix,iy,iz){if(ss.staticEquals(iw,null)){return}this.raiseEvent(function(){iw(ix,iy)},iz)}},raiseEvent:function(e,ex){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.eventHandler)){return}ex.eventHandler.processEvent(e)},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var ex=this.parent;return ex.$0(e)}});ss.initClass(l,a,{},eQ);ss.initClass(m,a,{},eQ);ss.initClass(n,a,{},eQ);ss.initClass(bs,a,{get_isBlocking:function(){return this.$4!=='none'},get_blockType:function(){return this.$4},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$1},set_commandName:function(e){this.$1=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},execute:function(e,ex,iw){var ix=iw;iw=function(iy){_.defer(function(){ix(iy)})};this.$0(ex,iw);this.executeLocal(e)},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var ex=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),8,this.buildCommandMetricsParameters());try{this.doLocalWork(e)}finally{if(ss.isValue(ex)){ex.dispose()}}}}},$0:function(e,ex){this.$3=new Array;this.executeNextRemoteCommand(e,function(iw){gx.onVizqlPinged();ex(iw)})},buildCommandMetricsParameters:function(){var e={};e['cn']=this.get_commandName();return e},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$3)){return}var e=this.$3;var ex=this.$2;while(ex.length>0){e.push(ex.shift())}this.$2=e;this.$3=ex},enqueueCommand:function(e){this.$2.push(new fK(e))},handleRemoteCommandResponse:function(e,ex){if(ss.isValue(e.get_successCallback())){e.get_successCallback()(ex)}},handleRemoteCommandException:function(e,ex){if(ss.isValue(e.get_errorCallback())){e.get_errorCallback()(ex)}},executeNextRemoteCommand:function(e,ex){if(this.$2.length===0){if(ss.isValue(ex)){ex(bB.successResult)}return}var iw=this.$2.shift();this.$3.push(iw);e.executeSingleRemoteCommand(iw.get_commandToExecute(),ss.mkdel(this,function(ix){try{this.handleRemoteCommandResponse(iw,ix)}finally{this.executeNextRemoteCommand(e,ex)}}),ss.mkdel(this,function(ix){try{this.handleRemoteCommandException(iw,ix)}finally{if(ss.isValue(ex)){ex(new bB(false,ix))}}}))}});ss.initClass(o,a,{get_isOneAtATime:function(){return true}},bs);ss.initEnum(p,a,{$0:60011});ss.initClass(q,a,{$3:function(){return this.$4.length},$1:function(e){if(e.get_isOneAtATime()){this.$2(ss.getInstanceType(e))}this.$4.push(e)},$0:function(){if(this.$4.length<=0){return null}var e=this.$4[0];ss.removeAt(this.$4,0);return e},$2:function(e){var ex=0;for(var iw=this.$4.length-1;iw>=0;--iw){if(ss.referenceEquals(ss.getInstanceType(this.$4[iw]),e)){++ex;ss.removeAt(this.$4,iw)}}if(ex>0){}}});ss.initClass(r,a,{$0:function(){return this.$2},$1:function(){return this.$3}});ss.initClass(s,a,{});ss.initEnum(t,a,{$0:16,$1:20,$2:22});ss.initEnum(u,a,{$0:60011});ss.initClass(v,a,{$4:function(){return this.$9},$5:function(){return this.$a.size===0},$6:function(){var e=[];this.$a.forEach(function(ex){e.push(ex)});return e},$0:function(e,ex){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(v.$0(ex,e));this.$7=this.$7||this.$2(e);e=v.$1(ex,e);this.$a.set(e.join(','),e)},$1:function(e,ex){if(ss.isNullOrUndefined(ex)||ex.length===0){return false}var iw;if(this.$7||this.$2(ex)){iw=this.$3(e,ex)}else{var ix=v.$1(e,ex);iw=this.$a.has(ix.join(','))}return iw},$2:function(e){for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(!ss.isValue(iw)){return true}}return false},$3:function(e,ex){var iw=v.$0(e,ex);for(var ix=0;ix<this.$8.length;ix++){var iy=this.$8[ix];var iz=true;var iA=false;var iB=0;var iC=0;while(iz&&iC<iy.length&&iB<iw.length){var iD=iy[iC];var iE=iw[iB];if(iD.item1<iE.item1){++iC}else if(iD.item1>iE.item1){++iB}else{iz=!ss.isValue(iD.item2)||!ss.isValue(iE.item2)||ss.referenceEquals(iD.item2,iE.item2);iA=iA||ss.referenceEquals(iD.item2,iE.item2);++iC;++iB}}if(iz&&iA){return true}}return false}});ss.initEnum(w,a,{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});ss.initClass(x,a,{});ss.initClass(y,a,{});ss.initInterface(eo,a,{add_onRemoteCommandResponse:null,remove_onRemoteCommandResponse:null,add_onRemoteCommandException:null,remove_onRemoteCommandException:null,executeSingleRemoteCommand:null,cancelAllCommands:null});ss.initClass(z,a,{add_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onRemoteCommandException:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onRemoteCommandException:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(e){var ex=e['vqlCmdResponse'.toString()];if(ss.isValue(ex)&&ex.cmdResultList.length>0){var iw=ex.cmdResultList[0];var ix=iw.commandReturn;if(ss.isValue(ix)&&ss.keyExists(ix,'commandValidationPresModel')){var iy=ix['commandValidationPresModel'];if(!iy.valid){return new ss.Exception(ss.formatString('{0}: {1}',iw.commandName,iy.errorMessage))}}}return null},cancelAllCommands:function(e,ex){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$7.cancelAllCommands(function(iw){e(iw)},ex)},executeSingleRemoteCommand:function(e,ex,iw){for(var ix=0;ix<this.$6.length;ix++){var iy=this.$6[ix];if(iy.$2(e,ex,iw)===0){return}}var iz={};iz['cn']=e.commandName;var iA=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),8,iz);var iB=this.$5;var iC=ss.mkdel(this,function(iE){iA.dispose();if(ss.isValue(this.$1$2)){this.$1$2(iB,e,iE)}iw(iE)});var iD=ss.mkdel(this,function(iE){iA.dispose();var iF=this.$0(iE);if(ss.isNullOrUndefined(iF)){if(ss.isValue(this.$1$1)){this.$1$1(iB,e,iE)}var iG=fv.fromCommand(iE,e);ex(iG)}else{iC(iF)}});this.$7.executeServerCommand(e,iD,iC);++this.$5},$3:function(e,ex,iw){var ix=new bN;ix.commandNamespace=e;ix.commandName=ex;this.$2([ix],iw)},$2:function(e,ex){this.$4(e,ex,null,null)},$4:function(e,ex,iw,ix){var iy=new C(this,e,ex,iw,ix);iy.$g(ss.mkdel(this,this.$1));this.$6.push(iy)},$1:function(e,ex,iw){var ix=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');if(!ss.staticEquals(this.$1$2,null)){this.$1$2(0,e,ix)}iw(ix)}},null,[eo]);ss.initClass(A,a,{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var ex=this.$2.dashboardPresModel.zones;var iw=this.$1;for(var ix=0,iy=e.length;ix<iy;ix++){var iz=e[ix];ex[iz].presModelHolder=iw[iz]}return this.$2}});ss.initEnum(B,a,{$0:0,$1:1});ss.initClass(C,a,{$g:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$h:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,ex,iw){var ix=false;for(var iy=0;iy<this.$5.length;iy++){var iz=this.$5[iy];if(ss.referenceEquals(iz.commandName,e.commandName)&&ss.referenceEquals(iz.commandNamespace,e.commandNamespace)){ix=true;break}}if(!ix){return 1}if(this.$6){return 1}if(ss.isValue(this.$b)&&ss.isValue(this.$f)){this.$1(this.$b,this.$d,this.$c);this.$b=e;this.$d=ex;this.$c=iw;return 0}var iA=Math.floor(tabBootstrap.MetricsController.getTiming());var iB=iA-this.$7;if(this.$e!==-1&&iB<this.$e){this.$3(e,ex,iw,this.$e-iB)}else if(this.$a!==-1&&this.$8>=this.$a){this.$3(e,ex,iw,this.$9*this.$8)}else{this.$6=true;++this.$8;try{this.$4.executeSingleRemoteCommand(e,ss.mkdel(this,function(iC){if(this.$8>0){--this.$8}ex(iC)}),ss.mkdel(this,function(iC){if(this.$8>0){--this.$8}iw(iC)}))}finally{this.$6=false;this.$7=iA}}return 0},$0:function(){var e=this.$b;var ex=this.$d;var iw=this.$c;this.$b=null;this.$d=null;this.$c=null;if(!ss.isValue(e)){return}this.$4.executeSingleRemoteCommand(e,ex,iw)},$3:function(e,ex,iw,ix){this.$b=e;this.$d=ex;this.$c=iw;this.$f=window.setTimeout(ss.mkdel(this,function(){this.$f=null;this.$0()}),ix)},$1:function(e,ex,iw){if(ss.isValue(this.$1$1)){this.$1$1(e,ex,iw)}}});ss.initClass(D,a,{},bs);ss.initClass(hJ,a,{gv:function(e){return this.v[e]},setValue:function(e,ex){this.v[e]=ex},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var ex=0;ex<this.length;ex++){this.v[ex]=e(this.v[ex])}}}});ss.initClass(E,a,{gv:function(e){return this.v[0]},setValue:function(e,ex){this.v[0]=ex}},hJ);ss.initClass(F,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$2:function(e){this.$4(this.$3()+1);T.get_waitHandler().addrefAndShowFullWaitHandlerNow(e)},$1:function(e,ex){if(ex){this.$2(ex)}else{this.$4(this.$3()+1);this.$5.incrementWait(e)}},$0:function(){while(this.$3()>0){this.$4(this.$3()-1);this.$5.decrementWait()}}});ss.initClass(G,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$2:function(){return this.$1$3},$3:function(e){this.$1$3=e}});ss.initClass(fG,a,{fractionToValue:null,valueToFraction:null});ss.initClass(H,a,{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var ex=(this.$6-this.$5)/(this.$4-this.$3);var iw=this.$5-ex*this.$3;return e*ex+iw}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var ex=(this.$6-this.$5)/(this.$4-this.$3);var iw=this.$5-ex*this.$3;return(e-iw)/ex}var ix=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+ix)/(2*this.$0)}},fG);ss.initClass(I,a,{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}},onWorkbookModifiedChanged:function(e){var ex=this.$1$3;if(!ss.staticEquals(ex,null)){ex(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}});ss.initEnum(J,a,{highlight:'highlight',filter:'filter',url:'url'},true);ss.initClass(K,a,{});ss.initClass(L,a,{invoke:function(){return this.invoke$1(bO.newCommand$1('add-dataserver-data-source',this.c))}},ss.makeGenericType(S,[Object,M]));ss.initClass(M,a,{});ss.initClass(N,a,{invoke:function(){return this.invoke$1(bO.newCommand('add-object-to-dashboard',this.c))}},ss.makeGenericType(S,[Object,O]));ss.initClass(O,a,{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});ss.initClass(P,a,{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(Q,a,{});ss.initClass(R,a,{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_toolbar:function(){return this.$b},get_workbook:function(){return this.$d},get_colorPalettes:function(){return this.$4},get_calculationModel:function(){return this.$3},get_compoundTableCalcModel:function(){return this.$5},get_isTableCalcHighlightingMode:function(){return this.$5.get_hasTableCalc()},get_typeInPillCalculationModel:function(){return this.$c},get_calculationFunctionListModel:function(){return this.$2},get_shapeManager:function(){return this.$a},get_dataDictionary:function(){return this.$7},get_dataAlertDialogModel:function(){return this.$6},get_serverFonts:function(){return this.$2$3},set_serverFonts:function(e){this.$2$3=e},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().renderMode:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$3(this.get_appPresModel().dateFormat))?this.get_appPresModel().dateFormat:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$3(this.get_appPresModel().timeFormat))?this.get_appPresModel().timeFormat:'h:mm tt')},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=eT.findContentDashboard();return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var ex=eT.findContentDashboard();if(ss.isValue(ex)){ex.autoUpdate=e}},get_invalid:function(){return eT.findContentDashboard().invalid},set_invalid:function(e){var ex=eT.findContentDashboard();if(ss.isValue(ex)){ex.invalid=e}},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return tab.FeatureParamsLookup.getBool(41)},registerNotificationHandler:function(e,ex){var iw=this.$9[e];if(ss.isNullOrUndefined(iw)){iw=[];this.$9[e]=iw}for(var ix=0;ix<iw.length;ix++){if(ss.staticEquals(iw[ix],ex)){throw new ss.Exception('This handler for '+e.toString()+' already registered')}}iw.push(ex);return ex},unRegisterNotificationHandler:function(e,ex){var iw=this.$9[e];if(ss.isValue(iw)){for(var ix=iw.length-1;ix>=0;ix--){if(ss.staticEquals(iw[ix],ex)){ss.removeAt(iw,ix);if(iw.length===0){delete this.$9[e];return}}}}},$1:function(e,ex){var iw=e.presModelMap;if(ss.isNullOrUndefined(iw)){return}var ix=new ss.ObjectEnumerator(iw);try{while(ix.moveNext()){var iy=ix.current();var iz=iy.key;var iA=this.$9[iz];if(ss.isNullOrUndefined(iA)){continue}var iB=iy.value.presModelHolder;var iC=new ss.ObjectEnumerator(iB);var iD=(iC.moveNext()?iC.current().value:null);for(var iE=0;iE<iA.length;iE++){var iF=iA[iE];iF(iD,ex)}}}finally{ix.dispose()}},addModel:function(e){return function(){var ex=ss.createInstance(e);var iw=ss.safeCast(ex,ej);if(ss.isValue(iw)){this.registerNotificationHandler(iw.get_notificationId(),ss.mkdel(iw,iw.onNotify))}this.$8[e]=ex;return ex}},removeModel:function(e){return function(){var ex=this.$8[e];if(ss.isNullOrUndefined(ex)){return}var iw=ss.safeCast(ex,ej);if(ss.isValue(iw)){this.unRegisterNotificationHandler(iw.get_notificationId(),ss.mkdel(iw,iw.onNotify))}delete this.$8[e]}},modelInstance:function(e){return function(){var ex=this.$8[e];if(ss.isNullOrUndefined(ex)){ex=this.addModel(e).call(this)}return ex}},update:function(e,ex){if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.renderMode)){this.get_appPresModel().renderMode=e.renderMode}if(ss.isValue(e.dataDictionary)){this.$7.update(e.dataDictionary)}if(ss.isValue(e.presentationLayerNotifications)){this.$1(e.presentationLayerNotifications,ex)}if(ss.isValue(e.workbookPresModel)){if(!ss.isValue(this.$d)){this.$d=new id(this);this.raiseEvent$1(id).call(this,this.$2$1,this.$d,ex)}this.$d.update(e.workbookPresModel,ex)}if(ss.isValue(e.colorPaletteCollection)){this.$4.update(e.colorPaletteCollection,ex)}if(ss.isValue(e.calculation)){this.$3.update(e.calculation,ex)}if(ss.isValue(e.typeInPill)){this.$c.update(e.typeInPill,ex)}if(ss.isValue(e.calculation)&&ss.isValue(e.calculation.expressionFuncPm)){this.$2.update(e.calculation.expressionFuncPm,ex)}if(ss.isValue(e.compoundTableCalculationPresModel)){this.$5.update(e.compoundTableCalculationPresModel,ex)}if(ss.isValue(e.toolbarPresModel)){this.$b.update(e.toolbarPresModel,ex)}if(tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){if(ss.isValue(e.dataAlertDialogPresModel)){this.$6.update(e.dataAlertDialogPresModel)}}if(ss.isValue(e.serverFonts)){this.set_serverFonts(ss.arrayClone(e.serverFonts.fontFamilies))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e}},eQ);ss.initClass(T,a,{get_urlRoot:function(){return this.$j},get_id:function(){return tsConfig.sessionid},get_historyPosition:function(){return T.$2},set_historyPosition:function(e){T.$2=e},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_commonDialogProvider:function(){return this.$f},$d:function(){return this.$j+'/sessions/'+tsConfig.sessionid},formatThumbnailReference:function(e){return this.$i+'/thumb/views/'+e},formatSessionTempfileReference:function(e,ex,iw){return this.$j+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(ex?'&keepfile=yes':'')+(iw?'&attachment=yes':'')},railsEncode:function(e){var ex=new ss.ObjectEnumerator(T.$1);try{while(ex.moveNext()){var iw=ex.current();e=e.replace(iw.value,iw.key)}}finally{ex.dispose()}return e},nudgeWait:function(){if(ss.isNullOrUndefined(T.$3)){return false}T.$3.nudge();return true},incrementWait:function(e){if(ss.isNullOrUndefined(T.$3)){return false}T.$3.addref(e);return true},decrementWait:function(){if(ss.isNullOrUndefined(T.$3)){return false}T.$3.release();return true},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},getWindow:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},$7:function(e,ex,iw){var ix={};ix.type='POST';ix.url=this.$4('inform');ix.headers=ss.mkdict(['Accept','text/plain']);ix.contentType='text/plain';var iy=tsConfig.clientErrorReportingMaxRequestSizeBytes;var iz=new ss.StringBuilder;iz.appendLine('url: '+e);iz.appendLine('user-agent: '+ex);var iA=ss.Int32.div(iy-iz.toString().length,ss.getKeyCount(iw));var iB=new ss.ObjectEnumerator(iw);try{while(iB.moveNext()){var iC=iB.current();iz.appendLine(iC.key);iz.appendLine(iC.value.substr(0,iA-iC.key.length-2))}}finally{iB.dispose()}ix.data=iz.toString();this.$b(ix)},$c:function(e,ex){if(ex){il.redoToPosition(e)}else{il.undoToPosition(e)}},executeServerCommand:function(e,ex,iw){var ix={};this.$8(ix,e);ix.headers=ss.mkdict(['Accept','text/javascript']);var iy=this.$e;var iz=ss.mkdel(this,function(iC,iD,iE){delete this.$h[iy];if(ss.isValue(ex)){iC=tab.RleDecoder.decode(iC);ex(iC)}});var iA=ss.mkdel(this,function(iC,iD,iE){delete this.$h[iy];if(tab.FeatureFlags.isEnabled('CommandCancellation')&&iD==='abort'){return}this.$6(iE,iC,e.noExceptionDialog,e);if(ss.isValue(iw)){var iF=new ss.Exception(iC.responseText);iF['status']=iC.status;iw(iF)}});var iB=this.$1(null,iz,(ss.isValue(iw)?iA:null));this.$h[this.$e]=this.$b(ix,iB);++this.$e},basicPostOpts:function(e,ex){var iw={};iw.type='POST';iw.url=e;iw.headers=ss.mkdict(['Accept','text/javascript']);iw.dataType='json';iw.data=ex;return iw},basicGetOpts:function(e){var ex={};ex.type='GET';ex.url=e;ex.headers=ss.mkdict(['Accept','text/javascript']);ex.dataType='json';return ex},$8:function(e,ex){var iw=iq.getMultipartData(null,ex.commandParams);e.type='POST';e.dataType='json';e.contentType='multipart/form-data; boundary='+iw.header;e.data=iw.body;e.url=this.$3(ex.commandNamespace,ex.commandName)},$9:function(e){var ex=this.get_historyPosition();var iw=ss.mkdel(this,function(){this.$c(ex,false)});var ix=ss.mkdel(this,function(){this.$c(ex+1,true)});this.$a(iw,ix);++T.$2},$2:function(e){return this.$j+'/'+e},$4:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$j)},$3:function(e,ex){return this.$d()+'/commands/'+e+'/'+ex},$a:function(e,ex){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(T.$0)){T.$0.onBack=e}else{dW.setInitialState(e)}T.$0=dW.addToHistory(null,ex)}},$6:function(e,ex,iw,ix){this.$g.handle(e,ex,ix,iw)},$b:function(e,ex){return iq.helper(e,ex)},$1:function(e,ex,iw){return new gu(this,e,ex,iw,false,false)},$0:function(e,ex,iw,ix){var iy=ix!=='none';var iz=ix==='immediately'||ix==='immediatelySubtle';return new gu(this,e,ex,iw,iy,iz)},formatLayoutMethod:function(e,ex){var iw=(ss.isValue(ex)?this.$4(ex):this.$d());iw+='/layouts/'+e;return iw},formatViewMethod:function(e,ex){var iw=(ss.isValue(ex)?this.$4(ex):this.$d());iw+='/views/'+e;return iw},formatFilterReference:function(e,ex,iw){return this.$5(e,ex,iw,'filters')},$5:function(e,ex,iw,ix){e=encodeURIComponent(this.railsEncode(e));var iy;if(ss.isValue(iw)){iy=this.$4(iw)}else{iy=this.$d()}iy+='/sheets/'+e+'/'+ix;if(ss.isValue(ex)){iy+='/'+encodeURIComponent(this.railsEncode(ex))}return iy},cancelAllCommands:function(e,ex){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}var iw=_.values(this.$h);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];iy.abort()}ss.clearKeys(this.$h);var iz=this.$j+'/cancel/sessions/'+tsConfig.sessionid;var iA=this.basicGetOpts(iz);var iB=function(iE,iF,iG){if(ss.isValue(e)){iE=tab.RleDecoder.decode(iE);e(iE)}};var iC=function(iE,iF,iG){if(ss.isValue(ex)){ex(iG)}};var iD=this.$1(null,iB,iC);this.$b(iA,iD)}});ss.initClass(U,a,{get_hasColor:function(){return this.color!=='rgba(0, 0, 0, 0)'},get_hasWidth:function(){return this.width>0},get_hasStyle:function(){return this.style!=='bs-none'},get_cssDictionary:function(){var e={};switch(this.side){case 0:{e['border-width']=this.width+'px';e['border-style']=U.borderStyleToCss(this.style);e['border-color']=this.color;break}case 1:{e['border-top-width']=this.width+'px';e['border-top-style']=U.borderStyleToCss(this.style);e['border-top-color']=this.color;break}case 2:{e['border-left-width']=this.width+'px';e['border-left-style']=U.borderStyleToCss(this.style);e['border-left-color']=this.color;break}case 4:{e['border-bottom-width']=this.width+'px';e['border-bottom-style']=U.borderStyleToCss(this.style);e['border-bottom-color']=this.color;break}case 3:{e['border-right-width']=this.width+'px';e['border-right-style']=U.borderStyleToCss(this.style);e['border-right-color']=this.color;break}}return e},get_styledBoxPresModel:function(){var e={};switch(this.side){case 0:{e.uw=this.width;e.borderStyle=this.style;e.borderColor=this.color;break}case 1:{e.uwt=this.width;e.borderStyleTop=this.style;e.borderColorTop=this.color;break}case 2:{e.uwl=this.width;e.borderStyleLeft=this.style;e.borderColorLeft=this.color;break}case 4:{e.uwb=this.width;e.borderStyleBottom=this.style;e.borderColorBottom=this.color;break}case 3:{e.uwr=this.width;e.borderStyleRight=this.style;e.borderColorRight=this.color;break}}return e}});ss.initEnum(V,a,{all:0,top:1,left:2,right:3,bottom:4});ss.initClass(W,a,{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,ex,iw,ix,iy){var iz=e.get_vizDataModel();var iA=eT.getModelsForViz(bo).call(null,eT.findContentDashboard(),e);for(var iB=0;iB<iA.length;iB++){var iC=iA[iB];if(ss.isNullOrUndefined(iz)){continue}if(!iC.get_isHighlightEnabled()||iy.length===0&&iC.get_isOneWay()){continue}var iD=_.intersection(ex.get_vizDataModel().get_fieldCaptions(),iC.get_fieldCaptions());iD=W.getHighlightFieldCaptions(ix,ex.get_vizDataModel().get_highlightCaptions(),iD);var iE=x.$3(ex.get_vizDataModel(),iw,iD);var iF=x.$6(iE,iz,iC);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][W.$0(iC.get_legendTypeEnum(),iC.get_legendNames())]=iF}}});ss.initClass(X,a,{invoke:function(){return this.invoke$1(bO.newCommand('build-caption-context-menu',this.c))}},ss.makeGenericType(S,[Object,Y]));ss.initClass(Y,a,{});ss.initClass(Z,a,{invoke:function(){return this.invoke$1(bO.newCommand('build-data-tab-field-context-menu',this.c))}},ss.makeGenericType(S,[Object,ba]));ss.initClass(ba,a,{});ss.initClass(bb,a,{invoke:function(){return this.invoke$1(bO.newCommand('build-layout-tree-context-menu',this.c))}},ss.makeGenericType(S,[Object,bc]));ss.initClass(bc,a,{});ss.initClass(bd,a,{invoke:function(){return this.invoke$1(bO.newCommand('build-schema-change-data-type-menu',this.c))}},ss.makeGenericType(S,[Object,be]));ss.initClass(be,a,{});ss.initClass(bf,a,{invoke:function(){return this.invoke$1(bO.newCommand('build-sheet-list-context-menu',this.c))}},ss.makeGenericType(S,[Object,bg]));ss.initClass(bg,a,{});ss.initClass(bh,a,{invoke:function(){return this.invoke$1(bO.newCommand('build-title-context-menu',this.c))}},ss.makeGenericType(S,[Object,bi]));ss.initClass(bi,a,{});ss.initClass(bj,a,{invoke:function(){return this.invoke$1(bO.newCommand('calculation-auto-complete',this.c))}},ss.makeGenericType(S,[Object,bk]));ss.initClass(bk,a,{});ss.initClass(bl,a,{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().expressionFuncList||[]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(bm,a,{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$3(this.$1().calculationCaption)||!tab.MiscUtil.isNullOrEmpty$3(this.$1().pendingCalcName)||!tab.MiscUtil.isNullOrEmpty$3(this.$1().datasource))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$3(this.$1().fn)},get_isAdhoc:function(){return this.$2&&this.$1().isTypeInPill},get_adHocShelf:function(){return this.$1().shelfType||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().shelfPosIndex},get_adHocPaneSpecId:function(){return this.$1().paneSpec},$1:function(){return this.pm},get_tokens:function(){return this.$1().styleTokenList||[]},get_name:function(){return this.$1().pendingCalcName||''},get_fieldName:function(){return this.$1().fn||''},get_errors:function(){return this.$1().errorInfoList||[]},get_errorSummary:function(){return this.$1().errorString||''},get_caption:function(){return this.$1().calculationCaption||''},get_formula:function(){return this.$1().calculationFormula||''},get_dependencies:function(){return this.$1().calculationDependencies||''},get_dataSourceName:function(){return this.$1().datasource||''},get_dataSourceCaption:function(){var e=R.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var ex=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(ex)){return null}return ex.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().useParameters,false)},get_calculationContext:function(){return ss.coalesce(this.$1().calculationContext,'calculation-dialog')},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(bn,a,{get_items:function(){return this.$1().domainTables},$1:function(){return this.pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},eQ);ss.initInterface(ea,a,{getItemNamesFromObjectId:null});ss.initClass(bo,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$1().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$2},get_catLegendPresModel:function(){return this.pm},get_isContextMenuAllowed:function(){return this.get_catLegendPresModel().isContextMenuAllowed||false},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().isHighlightEnabled||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().isHighlightAllowed||false},get_isOneWay:function(){return this.get_catLegendPresModel().oneWayBrushing||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().fieldCaptions},get_legendNames:function(){return this.get_catLegendPresModel().legendNames},get_legendTypeEnum:function(){return this.$2},get_items:function(){return bo.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$1:function(){var e=ss.safeCast(this.parent,it);return e.get_zone()},getItemNamesFromObjectId:function(e){var ex=_.find(this.get_items(),function(iw){return iw.objectId===e});return ex.itemValues},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}ds.notifyFontsFromCategoricalLegendPresModel(e);var iw=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);if(ss.isValue(iw)&&!_.isEqual(iw.legendNames,e.legendNames)){this.raiseEvent(this.$2$2,ex)}this.raiseEvent(this.$2$1,ex)}},eQ,[ea]);ss.initClass(fE,a,{update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},eQ);ss.initClass(bp,a,{get_categoricalFilter:function(){return this.$3$1},set_categoricalFilter:function(e){this.$3$1=e},get_mode:function(){return this.$1.categoricalMode},get_isAllButtonVisible:function(){return this.$1.isAllButtonVisible},get_isAllButtonSelected:function(){return this.$1.categoricalFilter.allSelected},get_isSelectionExclusive:function(){return this.$1.categoricalFilter.isSelectionExclusive},get_showApplyAndCancelButtons:function(){return this.$1.showApplyAndCancelButtons},get_showSearchButton:function(){return this.$1.isSearchable},get_showMoreLessButton:function(){return this.$1.canShowMoreFewerButton},get_showClearButton:function(){return this.$1.canShowFilterStateButton},get_getDomainValue:function(){return this.$1.filterDomainType},getDomains:function(){return this.$1.filterDomains},update:function(e,ex){fE.prototype.update.call(this,e,ex);this.$1=e;this.get_categoricalFilter().update(this.$1.categoricalFilter)}},fE);ss.initClass(bq,a,{invoke:function(){return this.invoke$1(bO.newCommand('change-workbook-ui-mode',this.c))}},ss.makeGenericType(S,[Object,br]));ss.initClass(br,a,{});ss.initEnum(bt,a,{clipNone:0,clipX:1,clipY:2,clipXY:3});ss.initClass(bu,a,{invoke:function(){return this.invoke$1(bO.newCommand('close-data-alert-dialog',this.c))}},ss.makeGenericType(S,[Object,bv]));ss.initClass(bv,a,{});ss.initClass(bw,a,{get_r:function(){return this.$7},get_g:function(){return this.$6},get_b:function(){return this.$4},get_a:function(){return this.$3},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},isLuminanceAgainstBackgroundAboveThreshold:function(e,ex){return this.$2(e)>ex},setRGBStr:function(e){this.$8=e},isValueAboveThreshold:function(e){var ex=bw.alphaBlend(this,bw.white);return Math.max(Math.max(ex.get_r(),ex.get_g()),ex.get_b())>e},toString:function(){if(this.$5===''){this.$5=((this.$3>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$5},$0:function(){var e=this.$1();var ex=116*bw.$4(e)-16;return ex},$1:function(){return bw.$5(this.get_r(),this.get_g(),this.get_b())},$2:function(e){var ex=ss.Int32.trunc(this.$3*this.$7+(1-this.$3)*e.get_r());var iw=ss.Int32.trunc(this.$3*this.$6+(1-this.$3)*e.get_g());var ix=ss.Int32.trunc(this.$3*this.$4+(1-this.$3)*e.get_b());return bw.$5(ex,iw,ix)},getApparentColor:function(e){var ex=ss.Int32.trunc((1-bw.$2(this.$7))*e.get_r());var iw=ss.Int32.trunc((1-bw.$2(this.$6))*e.get_g());var ix=ss.Int32.trunc((1-bw.$2(this.$4))*e.get_b());return new bw(ex,iw,ix,this.$3)},toRgba:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+this.$3+')'},toRgba255:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+bw.alphaFractionTo255(this.$3)+')'},toRgb:function(){if(this.$8===''){return'rgb('+this.$7+','+this.$6+','+this.$4+')'}return this.$8},toRgbHex:function(){return'#'+bw.$6(this.$7,2)+bw.$6(this.$6,2)+bw.$6(this.$4,2)},toArgbHex:function(){var e=ss.Int32.trunc(bw.alphaFractionTo255(this.$3));return'#'+bw.$6(e,2)+bw.$6(this.$7,2)+bw.$6(this.$6,2)+bw.$6(this.$4,2)},toArgbInt:function(){var e=ss.Int32.trunc(bw.alphaFractionTo255(this.$3));return(e<<24)+(this.$7<<16)+(this.$6<<8)+this.$4}});ss.initClass(bx,a,{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().qColorPaletteGroups},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().catColorPaletteGroups},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.colorPalettes},colorPaletteGroup:function(e){var ex=e.palettesIndices;return _.map(ex,ss.mkdel(this,function(iw){return this.get_colorPalettes()[iw]}))},update:function(e,ex){this.simpleSwapToUpdate(e,null,ex)}},eQ);ss.initClass(by,a,{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_switchingViz:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_switchingViz:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_destroyView:function(e){this.$1$8=ss.delegateCombine(this.$1$8,e)},remove_destroyView:function(e){this.$1$8=ss.delegateRemove(this.$1$8,e)},add_commandQueueComplete:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_commandQueueComplete:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_undoCommand:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_undoCommand:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_modelsUpdated:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_modelsUpdated:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},add_intermediateUpdate:function(e){this.$1$12=ss.delegateCombine(this.$1$12,e)},remove_intermediateUpdate:function(e){this.$1$12=ss.delegateRemove(this.$1$12,e)},add_remoteCommandFailure:function(e){this.$1$13=ss.delegateCombine(this.$1$13,e)},remove_remoteCommandFailure:function(e){this.$1$13=ss.delegateRemove(this.$1$13,e)},get_loader:function(){return this.$T},$E:function(){return this.$P.length===0&&this.$Y.$3()===0},$D:function(){return _.any(this.$P,by.$5)},get_legacySession:function(){return this.$U},cancel:function(){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$1();this.$X.$1(true,false);this.$I=true;while(ss.isValue(this.$Y.$0())){}ss.clear(this.$P);ss.clearKeys(this.$N);ss.clear(this.$R);this.$M=null;this.$J.cancelAllCommands(ss.mkdel(this,function(e){this.$I=false;this.$V=!!(this.$V|e.isWorldNew);this.$A(e);var ex=new en;ex.primarySheet=null;ex.layoutStatus=e;ex.cmdResult=null;var iw={item1:e.applicationPresModel,item2:ex};this.$5(0,iw);this.$o(null);this.$X.$0()}),function(e){})},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$5=null},setBrowserViewportFunc:function(e){this.$Q=e;if(fz.get_progressiveLoadEnabled()){this.$Q(ss.mkdel(this,function(ex){this.$T.setViewport(ex)}))}},prepareForSheetChange:function(){T.get_waitHandler().showAndLock(false)},switchViz:function(e,ex){if(!ss.staticEquals(this.$1$6,null)){this.$1$6()}this.$G=false;hc.reset();tabBootstrap.ViewerBootstrap.resetInstance();var iw=tsConfig.staticAssetVersion;hc.resetTsConfig(e);var ix=this.$f(tsConfig.cssStaticAssetFiles,tsConfig.jsStaticAssetFiles);var iy=!ss.referenceEquals(iw,tsConfig.staticAssetVersion);if(iy||ix){ex.setWindowLocation(null);return}by.$b=false;ex.updateForViewingSheet(tsConfig.repositoryUrl).replaceState(null);tabBootstrap.ViewerBootstrap.get_instance().bootstrap();if(!ss.staticEquals(by.$1$7,null)){by.$1$7()}},$f:function(e,ex){for(var iw=0;iw<e.length;iw++){var ix=e[iw];if(!eU.isCssLoaded(ix)){return true}}for(var iy=0;iy<ex.length;iy++){var iz=ex[iy];if(!eU.isScriptLoaded(iz)){return true}}return false},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var ex=ss.mkdel(this,function(iy){{var iz=tabBootstrap.MetricsController.createContext('RLE Decode Primary',32,null);try{iy=tab.RleDecoder.decode(iy)}finally{if(ss.isValue(iz)){iz.dispose()}}}if(tab.ObjectCoverage.shouldTrack('bootstrap-initial')){iy=(new tab.ObjectCoverage('bootstrap-initial')).instrument(iy,'')}var iA=iy;try{this.$B(iA);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}var iB=hU.createForCurrentWindowLocation();if(iB.get_retry()){iB.set_retry(false);iB.replaceState(null)}this.$b(iA.worldUpdate.applicationPresModel);this.$L.handlePotentialBootstrapDataSourceException(iA)}catch(iC){var e=ss.Exception.wrap(iC);by.handleBootstrapException(e,this.$K)}});var iw=ss.mkdel(this,function(e){var iy=e;if(ss.isValue(iy)){_.defer(ss.mkdel(this,function(){{var iz=tabBootstrap.MetricsController.createContext('RLE Decode Secondary',32,null);try{iy=tab.RleDecoder.decode(iy)}finally{if(ss.isValue(iz)){iz.dispose()}}}{var iA=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{try{this.$e(iy)}catch(iB){var e1=ss.Exception.wrap(iB);by.handleBootstrapException(e1,this.$K)}}finally{if(ss.isValue(iA)){iA.dispose()}}}if(fz.get_progressiveLoadEnabled()){this.$y()}else{this.$k()}}))}});var ix=ss.mkdel(this,function(e){gx.onVizqlPinged();var iy=e['status'];if(iy===200){var iz=e['message'];if(ss.isNullOrUndefined(iz)){iz=e['_message']}var iA=iz;if(ss.isValue(iA)&&iA.substr(0,12)==='Invalid JSON'){by.sendParentCompletedMessage();var iB=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$K.showAlertDialog(iB,tab.Strings.SessionUnknownErrorTitle,true,null);throw new ss.Exception('Invalid JSON')}}else if(iy===403){var iC=0;var iD='';try{var iE=JSON.parse(e['responseText']);if(ss.isValue(iE)){iC=iE.code;iD=iE.message}}catch(iL){}by.sendParentCompletedMessage();this.$U.get_sessionErrorHandler().handleSessionForbiddenAction(iC,iD)}else if(iy===401){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var iF=e['responseText'];var iG=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(iF);var iH=(ss.isNullOrUndefined(iG)?iF:iG.RedirectUrl);tab.WindowHelper.locationReplace(window.self,iH)}else{var iI=e['responseText'];tab.WindowHelper.locationReplace(window.self,iI)}}else if(iy===410){this.$U.get_sessionErrorHandler().handleSessionExpiration(true)}else if(iy===413){by.sendParentCompletedMessage();this.$U.get_sessionErrorHandler().handleSessionLimitExceeded()}else if(iy!==0){by.sendParentCompletedMessage();var iJ=e['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var iK=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(iJ);if(ss.isValue(iK)){iJ=iK.ErrorMessage}}if(iy===502||iy===503){this.$U.get_sessionErrorHandler().handleSessionKilled(iJ)}else{this.$U.get_sessionErrorHandler().handleUnknownErrorStatus(iJ)}this.$U.nudgeWait()}});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(ex,ix,iw)},delayLocalUrlActions:function(e){this.$O=this.$O.concat.apply(this.$O,e)},worldCheckpoint:function(){return this.$Z.worldCheckpoint()},$z:function(e){var ex=function(){e()};var iw={};iw.type='POST';iw.url=by.$2('transitionGuest',this.$U);var ix=tab.MiscUtil.get_urlPathnameParts();var iy=(ss.keyExists(ix,3)?ix[3]:'');var iz=tsConfig.current_sheet_name;var iA=ss.mkdict([':authSheet',iz,'sheet_id',iy]);iw.data=iA;var iB=new gu(this.$U,null,ex,null,true,true);iq.helper(iw,iB)},$l:function(e,ex,iw,ix,iy){var iz=tab.Strings.UnhandledExceptionMessage(this.$U.get_id(),e);var iA=by.$0(this.$U.get_id(),e,iy);this.$K.showAlertDialog(iz,tab.Strings.UnhandledExceptionTitle,true,iA);by.$7(JSON.stringify(e));return false},$n:function(e,ex){if(ss.isValue(e)){eQ.nonWorldUpdate(ss.mkdel(this,function(iw){iw.dialogProvider=this.$K;R.get_instance().update(e,iw);this.$Z.checkpointAppPresModel()}));this.$t();if(!ex){this.$j()}}},$j:function(){if(!ss.staticEquals(this.$1$12,null)){this.$1$12()}},$g:function(){if(fz.get_progressiveLoadEnabled()){this.$T=new fz;this.$T.add_progressiveLoad(ss.mkdel(this,this.$n));this.$T.add_progressiveLoadComplete(ss.mkdel(this,this.$m));this.$H=[]}},$y:function(){this.$T.start()},$1:function(){if(fz.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$T.abort();this.$H=[];this.$m()}},$m:function(){this.$x();this.$k();io.get().raiseOnProgressiveLoadComplete();for(var e=0;e<this.$H.length;e++){var ex=this.$H[e];ex()}this.$H=[]},$b:function(e){{var ex=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{var iw=new cJ;iw.exceptionHandler=ss.mkdel(this,function(iC){by.handleBootstrapException(iC,this.$K)});var ix=iw;var iy={dialogProvider:this.$K,eventHandler:ix};io.get().raiseOnBootstrapResponse(e);if(fz.get_progressiveLoadEnabled()){e=this.$T.extractZoneContent(e)}{var iz=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{var iA=R.get_instance();iA.update(e,iy)}finally{if(ss.isValue(iz)){iz.dispose()}}}this.$Z.checkpointAppPresModel();hc.notifyModelsInitialized();{var iB=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{ix.fireDeferredEvents()}finally{if(ss.isValue(iB)){iB.dispose()}}}}finally{if(ss.isValue(ex)){ex.dispose()}}}this.$t();if(!fz.get_progressiveLoadEnabled()){this.$x()}this.get_legacySession().nudgeWait()},$e:function(e){var ex=e['secondaryInfo'.toString()];if(!ss.isValue(ex)||!ss.isValue(ex.presModelMap)||ss.getKeyCount(ex.presModelMap)===0){return}var iw=R.get_instance().get_appPresModel();if(ss.keyExists(ex.presModelMap,'dataDictionary')){var ix=ex.presModelMap['dataDictionary'].presModelHolder;var iy=ix['genDataDictionaryPresModel'];if(ss.isValue(iy)){iw.dataDictionary=iy}}var iz=new cJ;iz.exceptionHandler=ss.mkdel(this,function(iF){by.handleBootstrapException(iF,this.$K)});var iA=iz;var iB={dialogProvider:this.$K,eventHandler:iA};if(ss.keyExists(ex.presModelMap,'vizData')){var iC=iw.workbookPresModel.dashboardPresModel;var iD=ex.presModelMap['vizData'].presModelHolder;var iE=iD['genPresModelMapPresModel'];if(fz.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$T.updateZonesWithVizData(iE,iB)}else{hQ.addVizDataToZones(iE.presModelMap,iC.zones)}}R.get_instance().update(iw,iB);this.$Z.checkpointAppPresModel();if(eT.hasAnyImpliedSelection()){iA.fireDeferredEvents()}this.$t()},$B:function(e){tsConfig.layoutid=e.layoutId;this.$U.set_layoutId(tsConfig.layoutid);var ex=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$3(ex)){tsConfig.sessionid=ex}var iw=e.workbookLocale;if(!ss.isNullOrEmptyString(iw)){tsConfig.workbookLocale=iw}var ix=e.newClientNum;if(!ss.isNullOrEmptyString(ix)){tsConfig.clientNumber=ix;tabBootstrap.Utility.addToUrlHash(tabBootstrap.Utility.CLIENTNO,ix)}tsConfig.current_sheet_name=e.sheetName;iq.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_allow_subscriptions=e.allowSubscriptions;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel)){tsConfig.current_sheet_type=e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo.sheetType}},$i:function(){while(this.$Y.$3()>0&&!this.$D()){this.$6(this.$Y.$0())}},$6:function(ex){this.$P.push(ex);if(ex.get_isBlocking()){this.$X.$1(ex.get_blockType()==='immediately'||ex.get_blockType()==='immediatelySubtle',ex.get_blockType()==='immediatelySubtle')}var iw=new cJ;var ix={dialogProvider:this.$K,eventHandler:iw};var iy=this.$W.beginTransaction(ix);var iz;try{ex.execute(iy,this.$J,ss.mkdel(this,function(e){this.$3(ex,e)}));iz=this.$W.endTransaction();if(R.get_instance().get_isLocalRenderMode()&&!by.fireDeferredUrlActions){this.$7(this.$O)}}catch(iC){var e=ss.Exception.wrap(iC);tab.ErrorTrace.report(e,false);this.$W.rollbackTransaction();this.$3(ex,new bB(false,e));return}finally{this.$w()}var iA=null;if(ex.get_hasLocalComponent()){iA=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),8,ex.buildCommandMetricsParameters())}{var iB=iA;try{if(ss.isValue(iz)){if(fz.get_progressiveLoadEnabled()){iz=this.$r(iz,ix,true)}R.get_instance().update(iz,ix);this.$Z.markCurrentWorldAsDirty();iw.fireDeferredEvents();this.$t()}}finally{if(ss.isValue(iB)){iB.dispose()}}}if(this.$P.length>0){this.$F=false}},$3:function(e,ex){var iw=null;if(e.get_hasRemoteComponent()){iw=tabBootstrap.MetricsController.createContext('PROREM'.toString(),8,e.buildCommandMetricsParameters())}{var ix=iw;try{try{ss.remove(this.$P,e);if(this.$E()){this.$o(e)}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(ix)){ix.dispose()}}}this.$9(e,ex);if(this.$E()){this.$X.$0()}this.$i()},$9:function(e,ex){if(!ex.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var iw=this.$L.handle(ex.error,e);if(iw){this.$Z.revertLocalChanges();this.$X.$0()}}},$7:function(e){var ex=(ss.isValue(e)?ss.arrayClone(e):[]);this.$w();if(ss.isValue(this.$1$1)){if(ex.length>0){this.$1$1(ex,this.$K)}}},$w:function(){this.$O.length=0},$d:function(e,ex,iw){if(!ss.isValue(ex)||!ss.isValue(iw)){return}var ix=iw['vqlCmdResponse'.toString()];if(!ss.isValue(ix)){return}if(ss.isValue(ix.layoutStatus)){var iy=ix.layoutStatus;if(ss.isValue(iy.isWorldNew)){this.$V=!!(this.$V|iy.isWorldNew)}if(ss.isValue(iy.urlActionList)&&!R.get_instance().get_isLocalRenderMode()||by.fireDeferredUrlActions){if(iy.urlActionList.length>0){by.fireDeferredUrlActions=false;this.$7(iy.urlActionList)}}this.$A(iy);var iz=null;if(ss.isValue(ex.commandParams)&&!ss.referenceEquals(ex.commandName,'render-tooltip-server'.toString())){if(ss.keyExists(ex.commandParams,'worksheet')){iz=ex.commandParams['worksheet']}else if(ss.keyExists(ex.commandParams,'visualIdPresModel')){var iA;if(typeof(ex.commandParams['visualIdPresModel'])==='string'){var iB=ex.commandParams['visualIdPresModel'];iA=JSON.parse(iB)}else{iA=ex.commandParams['visualIdPresModel']}iz=(ss.isValue(iA.worksheet)?iA.worksheet:null)}}var iC=new en;iC.primarySheet=iz;iC.layoutStatus=ix.layoutStatus;iC.cmdResult=ix.cmdResultList[0];var iD=null;if(ss.isValue(ix.layoutStatus.applicationPresModel)){iD=ix.layoutStatus.applicationPresModel}var iE={item1:iD,item2:iC};this.$5(e,iE);var iF=ss.isValue(this.$M)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.sheetName);var iG=new bJ;iG.set_applicationPresModel(iD);iG.set_worldUpdateCommand(ex);iG.set_sheetChanged(iF);iG.set_rebuildTheWorld(this.$V);var iH=iG;io.get().raiseOnCommandResponse(iH)}},$A:function(e){if(ss.isValue(e.applicationPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo)){this.$M=e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo}},$c:function(e,ex,iw){var ix=new en;ix.cmdResult={commandName:ex.commandName,commandReturn:iw};var iy=ix;var iz={item1:null,item2:iy};this.$5(e,iz);this.$u(iw)},$o:function(e){if(R.get_instance().get_isOffline()){return}var ex=new cJ;var iw={dialogProvider:this.$K,eventHandler:ex};var ix=ss.getKeyCount(this.$N)>0;var iy=false;var iz=tsConfig.current_sheet_name;if(ss.isValue(this.$M)){iy=!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.sheetName);iz=this.$M.sheetName;this.get_legacySession().set_layoutId(this.$M.layoutId.toString());if(iy){if(!ss.staticEquals(by.$1$14,null)){by.$1$14()}}if(iy||this.$V){this.$1$8()}}var iA=this._getRenderMode();var iB=this.$8();this.$W.rollbackTransactions(iw);if(this.$V){R.get_instance().get_workbook().handleWorldReset()}if(this.$V||iy){this.$1()}this.$2(iz,iA,iw);ss.clearKeys(this.$N);this.$Z.checkpointAppPresModel();this.$W.resetTransactedState();this.$q(iB);this.$p(iy);if(ix){eT.reValidateVisualModels(iw)}ex.fireDeferredEvents();this.$a(e);this.$t();this.$C()},$C:function(){this.$S.push(ss.mkdel(this,this.$s));this.$S.push(ss.mkdel(this,function(){ek.callWhenImagesLoaded(ss.mkdel(this,function(){this.$F=true}))}));if(fz.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$H.push(ss.mkdel(this,function(){this.$4()}))}else{this.$4()}this.$V=false},$4:function(){for(var e=0;e<this.$S.length;e++){var ex=this.$S[e];ex()}ss.clear(this.$S)},$q:function(e){if(e.$0()){var ex=this.$8();if(ex.$0()&&e.$4()!==ex.$4()&&ss.isValue(e.$2())&&ss.referenceEquals(e.$2(),ex.$2())){this.processingStoryPointChange=true}}},$p:function(e){if(ss.isNullOrUndefined(this.$M)){return}if(!e&&!this.$V){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$M.sheetName,this.$M.repositoryUrl)}}catch(iw){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$M)){this.$M['sheetName']=this.$M.sheetName}var ex={item1:tsConfig.current_sheet_name,item2:this.$M.sheetName};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$M)}I.get().onNewLayoutId([this.$M]);this.$S.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(ex)}}));this.$M=null},$2:function(e,ex,iw){var ix=_.keys(this.$N);ix=ix.sort(function(iF,iG){var iH=parseInt(iF);var iI=parseInt(iG);return((iH>iI)?1:-1)});var iy=R.get_instance();for(var iz=0;iz<ix.length;iz++){var iA=ix[iz];var iB=this.$N[iA];var iC=iB.item1;var iD=iB.item2;if(ss.isNullOrUndefined(iC)||ss.isNullOrUndefined(iD)||ss.isNullOrUndefined(iD.layoutStatus)){continue}var iE=iD.layoutStatus.active_tab||'';if(!ss.referenceEquals(iE,e)){continue}if(fz.get_progressiveLoadEnabled()){iC=this.$r(iC,iw,false)}iy.update(iC,iw);this.$R.push(iD);if(ss.isValue(iD.layoutStatus.undoPosition)){if(iD.layoutStatus.undoPosition<this.get_legacySession().get_historyPosition()){this.$v()}if(iD.layoutStatus.undoPosition>this.get_legacySession().get_historyPosition()){this.$U.$9('')}this.get_legacySession().set_historyPosition(iD.layoutStatus.undoPosition)}if(!this.processingRenderModeChange&&iC.renderMode!==ex){this.processingRenderModeChange=true;this.$X.$2(false)}}},$r:function(e,ex,iw){if(fz.get_progressiveLoadEnabled()){var ix=R.get_instance().get_appPresModel();var iy=false;if(R.get_instance().get_workbook().get_isCurrentSheetStoryboard()&&ss.isValue(R.get_instance().get_workbook().get_storyboard().get_flipboard())){var iz=R.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var iA=by.$4(e);iy=ss.isValue(iA)&&iA!==iz}var iB=by.$3(e);var iC=!ss.isNullOrEmptyString(iB)&&!ss.referenceEquals(iB,by.$3(ix));if(iy||iC){this.$1();e=this.$T.extractZoneContent(e);this.$y()}else{e=this.$T.processModelUpdate(e,ex,iw)}}return e},$a:function(e){for(var ex=0;ex<this.$R.length;ex++){var iw=this.$R[ex];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(iw)}var ix=ss.isValue(iw)&&ss.isValue(iw.cmdResult)&&ss.referenceEquals(iw.cmdResult.commandName,bK.buildQualifiedCommandName('tabsrv','ensure-layout-for-sheet'.toString()));this.$L.handlePotentialDataSourceException(e,iw.layoutStatus,ix)}ss.clear(this.$R)},$k:function(){if(this.$G){return}this.$G=true;by.$6();hc.$0();ek.callWhenImagesLoaded(ss.mkdel(this,function(){this.$F=true}));by.sendParentCompletedMessage();gx.onVizqlPinged();bA.$0();bz.bootstrapCompleteStoryTelemetry()},$5:function(e,ex){if(ss.isValue(ex)){this.$N[e.toString()]=ex}},_getRenderMode:function(){return R.get_instance().get_renderMode()},$8:function(){return new G},$s:function(){if(ss.isValue(this.$1$9)){this.$1$9()}},$v:function(){if(ss.isValue(this.$1$10)){this.$1$10()}},$t:function(){if(ss.isValue(this.$1$11)){this.$1$11()}},$u:function(e){if(ss.isValue(this.$1$13)){this.$1$13(e)}},$x:function(){if(this.$G){return}var e=function(){var ex={};ex['t']=tabBootstrap.MetricsController.getTiming();ex['d']='ALLZNS';var iw=new tabBootstrap.MetricsEvent('gen',2,ex);tabBootstrap.MetricsController.logEvent(iw)};ek.callWhenImagesLoaded(function(){eU.registerModulesLoadedCallback(e)})},$0:function(e){var ex=e.get_commandName();if(ex==='next-story-point'||ex==='previous-story-point'||ex==='set-active-story-point'||ex==='ensure-layout-for-sheet'||ex==='revert-workbook'){this.$1()}},$h:function(){return ss.getKeyCount(this.$N)>0||this.$P.length>0||this.$Y.$3()>0}});ss.initClass(bz,a,{});ss.initClass(bA,a,{});ss.initClass(bB,a,{});ss.initEnum(bC,a,{proceed:0,stop:1});ss.initInterface(ec,a,{get_commandType:null,get_name:null});ss.initClass(hy,a,{get_serializedCommand:function(){return this.$2$1},set_serializedCommand:function(e){this.$2$1=e},get_isMenuButton:function(){return ss.isValue(this.get_wrappedCommandItemPresModel())&&ss.isValue(this.get_wrappedCommandItemPresModel().get_commands())},get_asMenuButton:function(){return this},get_isPlaceholder:function(){return this.$2$2},set_isPlaceholder:function(e){this.$2$2=e},get_legacyCommandModel:function(){return this.$2$3},set_legacyCommandModel:function(e){this.$2$3=e},get_status:null,get_commandType:null,get_name:null,get_description:null,get_imageRes:null,get_wrappedCommandItemPresModel:null},eQ,[ec]);ss.initClass(bD,a,{get_legacyCommandModel:function(){var e=new bF;e.set_commandType(this.get_commandType());e.command=this.get_serializedCommand();e.set_name(this.get_name());e.description=this.get_description();e.imageRes=this.get_imageRes();e.status=this.get_status();return e},set_legacyCommandModel:function(e){},get_status:function(){var e=this.get_wrappedCommandItemPresModel().get_enabled();return((ss.isNullOrUndefined(e)||e)?'enabled':'disabled')},get_commandType:function(){if(ss.isNullOrUndefined(this.get_serializedCommand())){return 99}var e=bK.getCommandType(this.get_serializedCommand());return(ss.isValue(e)?ss.unbox(e):99)},get_name:function(){return this.get_wrappedCommandItemPresModel().get_name()},get_description:function(){return this.get_wrappedCommandItemPresModel().get_description()},get_imageRes:function(){if(ss.isNullOrUndefined(this.get_wrappedCommandItemPresModel().get_iconRes())){return null}return ss.coalesce(hl.lookupFullResourceAlias(this.get_wrappedCommandItemPresModel().get_iconRes()),null)},get_wrappedCommandItemPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}return bE.create(this.pm)},update:function(e,ex){this.pm=e;this.set_serializedCommand(bK.deserialize(this.get_wrappedCommandItemPresModel().get_command()));if(ss.isValue(this.get_serializedCommand())&&ex!==0&&!ss.isValue(this.get_serializedCommand().commandParams['selectAtPoint'])){this.get_serializedCommand().commandParams['tupleId']=ex.toString()}}},hy,[ec]);ss.initClass(bE,a,{get_item:function(){return this.$0},get_name:function(){return this.$0['name'.toString()]},set_name:function(e){this.$0['name'.toString()]=e},get_description:function(){return this.$0['description'.toString()]},set_description:function(e){this.$0['description'.toString()]=e},get_readId:function(){return this.$0['readId'.toString()]},set_readId:function(e){this.$0['readId'.toString()]=e},get_commandsType:function(){return this.$0['commandsType'.toString()]},set_commandsType:function(e){this.$0['commandsType'.toString()]=e},get_enabled:function(){var e=this.$0['state'.toString()];if(ss.isNullOrUndefined(e)){return true}return e},set_enabled:function(e){this.$0['state'.toString()]=e},get_isChecked:function(){return this.$0['isChecked'.toString()]},set_isChecked:function(e){this.$0['isChecked'.toString()]=e},get_isDefault:function(){return this.$0['isDefault'.toString()]},set_isDefault:function(e){this.$0['isDefault'.toString()]=e},get_isRadioOn:function(){return this.$0['isRadioOn'.toString()]},set_isRadioOn:function(e){this.$0['isRadioOn'.toString()]=e},get_isVisible:function(){return ss.coalesce(this.$0['isVisible'.toString()],true)},set_isVisible:function(e){this.$0['isVisible'.toString()]=e},get_commands:function(){return this.$0['commands'.toString()]},set_commands:function(e){this.$0['commands'.toString()]=e},get_command:function(){return this.$0['command'.toString()]},set_command:function(e){this.$0['command'.toString()]=e},get_argumentParams:function(){return this.$0['argumentParams'.toString()]},set_argumentParams:function(e){this.$0['argumentParams'.toString()]=e},get_hasIcon:function(){return!ss.isNullOrEmptyString(this.get_iconRes())},get_iconRes:function(){return this.$0['iconRes'.toString()]},set_iconRes:function(e){this.$0['iconRes'.toString()]=e}});ss.initClass(bF,a,{get_commandType:function(){return this.$1$1},set_commandType:function(e){this.$1$1=e},get_name:function(){return this.$1$2},set_name:function(e){this.$1$2=e}},null,[ec]);ss.initClass(bG,a,{get_status:function(){return this.get_legacyCommandModel().status},get_commandType:function(){return this.get_legacyCommandModel().get_commandType()},get_name:function(){return this.get_legacyCommandModel().get_name()},get_description:function(){return this.get_legacyCommandModel().description},get_imageRes:function(){return this.get_legacyCommandModel().imageRes},get_wrappedCommandItemPresModel:function(){return null},update:function(e,ex){this.pm=null;this.set_legacyCommandModel(e);this.set_serializedCommand(this.get_legacyCommandModel().command);this.set_isPlaceholder(ex)}},hy,[ec]);ss.initClass(bH,a,{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.get_commandType())){}return ss.isValue(e.get_commandType())&&e.get_commandType()!==99&&ss.keyExists(this.$0,e.get_commandType())&&this.$0[e.get_commandType()]==='granted'}});ss.initClass(bI,a,{});ss.initClass(bJ,a,{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}},ss.EventArgs);ss.initClass(bK,a,{});ss.initClass(bL,a,{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e,ex){if(this.get_shouldUpdate()){this.forceUpdate(e,ex)}},forceUpdate:function(e,ex){this.simpleSwapToUpdate$1(bL).call(this,e,this.$2$1,this,ex)}},eQ);ss.initClass(bM,a,{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['commandItems'.toString()]},set_commandItems:function(e){this.$0['commandItems'.toString()]=e},get_defaultItem:function(){return this.$0['defaultItem'.toString()]},set_defaultItem:function(e){this.$0['defaultItem'.toString()]=e}});bM.$ctor1.prototype=bM.prototype;ss.initClass(bN,a,{});ss.initClass(bO,a,{});ss.initClass(bP,a,{sendRequest:function(e){var ex={$:$.Deferred()};var iw=new ij(e.method,e.params,ss.mkdel({deferred:ex,$this:this},function(iy){this.$this.$0(this.deferred,iy)}),ss.mkdel({deferred:ex},function(iy){var iz={};iz['errors']=[ss.mkdict(['code',iy])];this.deferred.$.reject(iz)}));var ix=this.$3(iw);iq.helper(ix);return ex.$},$0:function(e,ex){if(ss.keyExists(ex,'errors')){e.$.reject(ex)}else{e.$.resolve(ex)}},sendVizqlRequest:function(e){var ex={$:$.Deferred()};var iw=ss.mkdel({deferred:ex,$this:this},function(iz,iA,iB){var iC=iz;delete iC['msg'];delete iC['status'];this.$this.$0(this.deferred,iC)});var ix=ss.mkdel({deferred:ex,$this:this},function(iz,iA,iB){this.deferred.$.reject()});var iy=new hS(e.method,e.params,iw,ix);this.$1(iy);return ex.$},$1:function(e){var ex={};ex.type='POST';ex.url=this.$2.$4(e.methodName);ex.headers=ss.mkdict(['Accept','text/javascript']);ex.dataType='json';if(ss.isValue(e.methodParams)){ex.data=e.methodParams}var iw=this.$2.$0(null,e.success,e.error,'immediately');this.$2.$b(ex,iw)}},null,[Object]);ss.initClass(bQ,a,{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().fieldCaption},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().isSecondaryAllowed},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},get_isCalcAssistanceEnabled:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?true:this.get_tableCalcsPresModel().isCalcAssistanceEnabled)},get_calcAssistanceWidgetState:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?'widget-state-enabled':this.get_tableCalcsPresModel().tableCalcAssistanceWidgetState)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var iw=e;this.$1.update(bQ.$0(iw,0),ex);this.$2.update(bQ.$0(iw,1),ex);this.swapAndCopyPresModel(iw);this.raiseEvent(this.$2$1,ex)}},eQ);ss.initClass(bR,a,{});ss.initClass(bS,a,{invoke:function(){return this.invoke$1(bO.newCommand('connection-select-database-and-add-table',this.c))}},ss.makeGenericType(S,[Object,bT]));ss.initClass(bT,a,{});ss.initClass(bU,a,{invoke:function(){return this.invoke$1(bO.newCommand('create-data-source-from-file-upload',this.c))}},ss.makeGenericType(S,[Object,bV]));ss.initClass(bV,a,{});ss.initClass(bW,a,{invoke:function(){return this.invoke$1(bO.newCommand('create-worksheet-title-rich-text-editor',this.c))}},ss.makeGenericType(S,[Object,bX]));ss.initClass(bX,a,{});ss.initClass(bY,a,{invoke:function(){return this.invoke$1(bO.newCommand('create-zone-rich-text-editor',this.c))}},ss.makeGenericType(S,[Object,bZ]));ss.initClass(bZ,a,{});ss.initClass(dh,a,{get_instanceType:null,get_fieldsModel:function(){return this.parent},get_dataSourceName:function(){if(ss.isNullOrUndefined(this.get_dataSource())){return''}return this.get_dataSource().get_name()},get_canHaveChildren:function(){return false},get_isParameter:function(){return ss.isValue(this.get_dataSource())&&this.get_dataSource().get_isParametersDataSource()},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),dh.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),dh.nameOfMeasureValuesColumn)},get_fieldIconResource:function(){var e=this.pm.fieldIconRes||'';if(e.length===0){return e}if(this.pm.isInvalid){e+='-invalid'}return e},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.isHidden||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.isAutoHidden||false},get_isInvalid:function(){return this.pm.isInvalid},get_isOrphaned:function(){return this.pm.isOrphaned},get_isGenerated:function(){return this.pm.isGenerated||false},get_isAutoColumn:function(){return this.pm.isAutoColumn||false},get_isAllowedInCalcs:function(){return this.pm.isAllowedInCalcs},get_isUnnamedCalc:function(){return this.pm.isUnnamed||false},get_isQuickTableCalc:function(){return this.pm.isQuickTableCalc},get_globalName:function(){return this.pm.fn},get_localName:function(){return this.pm.name},get_qualifiedLocalName:function(){return'['+this.get_localName()+']'},get_description:function(){return this.pm.description},get_userCaption:function(){return this.pm.userCaption},get_ordinal:function(){return this.pm.datasourceOrdinal},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){return this.get_instanceType()==='folder'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.defaultFieldType:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.fieldType:'unknown')},get_displayName:function(){return(this.get_isDrillPath()?(this.get_localName()||this.get_description()):(this.get_description()||this.get_localName()))},get_tooltip:function(){if(this.get_isInvalid()){return this.pm.tooltipText}else{return this.get_userCaption()||(this.get_description()||this.get_displayName())}},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_dataSource:function(){return(ss.isNullOrUndefined(this.get_fieldsModel())?null:this.get_fieldsModel().get_dataSource())},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,df)},asGroup:function(){return ss.safeCast(this,dT)},asDimension:function(){return ss.safeCast(this,ca)},asHierarchy:function(){return ss.safeCast(this,cc)},asCubeFolder:function(){return ss.safeCast(this,cb)},asFolder:function(){return ss.safeCast(this,dr)},asDrillPath:function(){return ss.safeCast(this,cQ)},asRelationalTable:function(){return ss.safeCast(this,fI)}},eQ);ss.initClass(ca,a,{get_hierarchies:function(){return this.$3},get_childToSelect:function(){var e=this.pm.defaultHierarchyName;if(!ss.isNullOrEmptyString(e)){for(var ex=0;ex<this.$3.length;ex++){var iw=this.$3[ex];if(ss.referenceEquals(iw.get_localName(),e)){return iw.get_levels()[0]}}}var ix=[];for(var iy=0;iy<this.$3.length;iy++){var iz=this.$3[iy];ix.push(iz)}for(var iA=0;iA<this.$2.length;iA++){var iB=this.$2[iA];var iC=iB.get_hierarchies();for(var iD=0;iD<iC.length;iD++){var iE=iC[iD];ix.push(iE)}}ix.sort(function(iF,iG){if(iF.get_levels().length>1&&iG.get_levels().length<=1){return-1}else if(iF.get_levels().length<=1&&iG.get_levels().length>1){return 1}else{return 0}});return((ix.length>0)?ix[0].get_levels()[0]:null)},get_folders:function(){return this.$2},get_attributes:function(){return this.$1},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,ex,iw,ix){this.swapAndCopyPresModel(e);this.$3=ex;this.$2=iw;this.$1=ix}},dh);ss.initClass(cb,a,{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex,iw){this.swapAndCopyPresModel(e);this.$2=ex;this.$1=iw}},dh);ss.initClass(cc,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dh);ss.initClass(hw,a,{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new hh(null):e.get_tableCalcIdentifier())},update:null},eQ);ss.initClass(cd,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().aggregationIndex},get_aggregationValues:function(){return this.$1().aggregationValues},get_aggregationCaptions:function(){return this.$1().aggregationCaptions},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},hw);ss.initClass(ce,a,{navigateToCustomizedView:function(e){var ex=tabBootstrap.Utility.get_locationWindow();gy.destroySessionAndForward$1(ex,ce.buildUrl(e,false))},navigateToOriginalView:function(){var e=tabBootstrap.Utility.get_locationWindow();gy.destroySessionAndForward$1(e,ce.buildUrl(null,false))},getCustomizedViews:function(e,ex){var iw=function(ix,iy,iz){if(!ss.isValue(e)){return}var iA;var iB=null;if('customizedViews'in ix){iA=ix['customizedViews']}else{iA=[]}if('defaultCustomizedViewId'in ix){iB=ix['defaultCustomizedViewId']}e(iA,iB)};this.$2(iw,ce.$0(ex),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),'GET','none')},setDefaultCustomizedView:function(e,ex,iw){var ix=function(iz,iA,iB){if(!ss.isValue(ex)){return}var iC=null;if('defaultCv'in iz){iC=iz['defaultCv']}ex(iC)};var iy=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){iy['cvId']=e.id}this.$2(ix,ce.$0(iw),'set_default_customized_view',iy)},destroyCustomizedView:function(e,ex,iw){tab.Param.verifyValue(e,'cv');var ix=function(iy,iz,iA){if(!ss.isValue(ex)){return}ex()};this.$1(ix,ce.$0(iw),'destroy_customized_view',ss.mkdict(['cvId',e.id]))},saveCustomizedView:function(e,ex,iw){tab.Param.verifyValue(e,'cv');var ix=ss.mkdel(this,function(iz,iA,iB){if(!ss.isValue(ex)){return}var iC=null;if('cv'in iz){iC=iz['cv'];this.updateTsConfig(iC,true)}ex(iC)});var iy=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic]);if(ss.isValue(e.id)){iy['cvId']=e.id}this.$2(ix,ce.$0(iw),'save_customized_view',iy)},updateTsConfig:function(e,ex){tsConfig.repositoryUrl=this.$0(e);if(ex){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}},$0:function(e){var ex=new fN(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',ex.get_workbookId(),ex.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',ex.get_workbookId(),ex.get_sheetId(),hU.encodeUserName(e.owner.username),e.urlId)},updateCustomizedView:function(e,ex,iw){tab.Param.verifyValue(e,'cv');var ix=ss.mkdel(this,function(iz,iA,iB){if(!ss.isValue(ex)){return}var iC=null;if('cv'in iz){iC=iz['cv'];this.updateTsConfig(iC,false)}ex(iC)});var iy=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);this.$2(ix,ce.$0(iw),'update_customized_view',iy)},$1:function(e,ex,iw,ix){var iy=this.$3.$0(null,e,ex,'immediately');var iz={};iz.type='POST';iz.url=this.$3.$2(iw);iz.headers=ss.mkdict(['Accept','text/javascript']);iz.dataType='json';if(ss.isValue(ix)){iz.data=ix}this.$3.$b(iz,iy)},$2:function(e,ex,iw,ix,iy,iz){var iA={};iA.type=iy||'POST';iA.url=this.$3.$4(iw);iA.headers=ss.mkdict(['Accept','text/javascript']);iA.dataType='json';if(ss.isValue(ix)){iA.data=ix}var iB=iz||'immediately';var iC=this.$3.$0(null,e,ex,iB);this.$3.$b(iA,iC)}});ss.initClass(cf,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().nullIfIncomplete},get_nullIfIncompleteState:function(){return this.$1().customNullIfIncompleteState},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},get_nestedCalcsWidgetState:function(){return this.$1().nestedCalcsState},get_nestedCalcsIndex:function(){return this.$1().nestedCalcsIndex},get_nestedTableCalcInfoArray:function(){return this.$1().nestedTableCalcInfos},update:function(e,ex){var iw=e;if(this.isNewPresModelSameAsOld(iw)){return}this.swapAndCopyPresModel(iw);this.get_referenceModel().update(iw.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}},hw);ss.initClass(cg,a,{});ss.initClass(ch,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_gridOverlayModeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_gridOverlayModeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_readyZoneChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_readyZoneChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_renderModeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_renderModeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_portSizeChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_portSizeChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_sizeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_sizeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_formatsChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_formatsChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_titleVisibilityChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_titleVisibilityChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_currentDeviceLayoutChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$12=ss.delegateCombine(this.$2$12,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$12=ss.delegateRemove(this.$2$12,e)},add_dashboardNameChanged:function(e){this.$2$13=ss.delegateCombine(this.$2$13,e)},remove_dashboardNameChanged:function(e){this.$2$13=ss.delegateRemove(this.$2$13,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.isStory){this.$d=this.$d||this.$2();return this.$d}return this},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.userActions}return null},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.cssAttrs)){return this.pm.cssAttrs['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$f;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$f=e;return this.$f},get_gridMode:function(){if(ss.isValue(this.pm)){return this.pm.gridOverlayMode}return'gom-off'},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetLayoutInfo)){return this.pm.sheetLayoutInfo.sheetName}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.sheetPath}return null},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.invalidSheets}return[]},get_activeZoneID:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&!e){return this.pm.activeZoneId}return 0},get_readyZoneID:function(){return this.$c},set_readyZoneID:function(e){if(e===this.$c){return}this.$c=e;if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(iw.get_zoneId()===this.get_activeZoneID()){return iw.get_visualModel()}}}return null},get_renderMode:function(){return R.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.cssAttrs}return null},get_portSize:function(){return this.$b},set_portSize:function(e){if(_.isEqual(this.$b,e)){return}this.$b=e;if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.viewportSize:null)},get_dashboardSizeControlModel:function(){return this.$9},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetPath)){return this.pm.sheetPath.isDashboard}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(ex){return ex.get_zoneType()==='flipboard'});return(ss.isNullOrUndefined(e)?null:e.get_model())},get_deviceLayouts:function(){return this.pm.dashboardDeviceLayouts},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||typeof(this.pm.dashboardDeviceLayout)==='undefined'){return'default'}return this.pm.dashboardDeviceLayout},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.hasTitle},get_flipboardNavModel:function(){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(iw.get_zoneType()==='flipboard-nav'){return iw.get_model()}}return null},get_hasDescription:function(){if(ss.isNullOrUndefined(this.get_flipboard())){return false}var e=_.filter(this.get_zoneModels(),function(ex){return ss.equalsT(ex.get_contentType(),'dashboardText'.toString())});return ss.isValue(e)&&e.length>0},getViewId:function(e){if(!ss.keyExists(this.pm.viewIds,e)){return null}return this.pm.viewIds[e]},getViewSession:function(e){return this.$e[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.invalidSheets)&&(e.get_zoneCommonModel().get_zoneType()!=='viz'||!_.any(this.pm.invalidSheets,function(ex){return ss.referenceEquals(ex.worksheet,e.get_worksheetName())}))},getMutableCopyOfPresModel:function(){var e=this.pm.zones;delete this.pm['zones'.toString()];var ex=eQ.prototype.getMutableCopyOfPresModel.call(this);ex.dashboardDeviceLayouts=this.pm.dashboardDeviceLayouts;this.pm.zones=e;return ex},update:function(e,ex){if(ss.isValue(this.$a)&&this.$a!==this.get_renderMode()){this.raiseEvent(this.$2$6,ex)}this.$a=this.get_renderMode();e.isStory=e.isStory||false;e.hasTitle=e.hasTitle||false;e.hasUserSpecificContent=e.hasUserSpecificContent||false;e.gridOverlayMode=e.gridOverlayMode||'gom-off';this.$d=null;if(ss.isValue(e.zones)){this.zonesModel.update(e.zones,ex);if(!this.zonesModel.hasZone(this.get_readyZoneID())){this.set_readyZoneID(0)}}if(ss.isValue(e.hasSelection)){}if(ss.isValue(e.autoUpdate)){this.autoUpdate=e.autoUpdate}this.$8(e,ex.dialogProvider);if(ss.isValue(e.activeZoneId)){if(ss.isNullOrUndefined(this.pm)||this.pm.activeZoneId!==e.activeZoneId){this.raiseEvent(this.$2$3,ex)}}if(!(typeof(e.modifiedSheets)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.modifiedSheets,this.pm.modifiedSheets))){this.raiseEvent(ch.$0,ex)}if(ss.isValue(e.sheetList)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new gL(this)}this.sheetListModel.update(e.sheetList,ex)}if(ss.isValue(e.dashboardZoneHierarchy)){if(ss.isNullOrUndefined(this.layoutTreeModel)){this.layoutTreeModel=new ey(this)}this.layoutTreeModel.update(e.dashboardZoneHierarchy,ex)}if(ss.isValue(this.pm)){if(ss.isValue(e.cssAttrs)&&!_.isEqual(e.cssAttrs,this.pm.cssAttrs)){this.raiseEvent(this.$2$9,ex)}}if(ss.isNullOrUndefined(this.get_sheetName())||ss.isValue(e.sheetLayoutInfo)&&!ss.referenceEquals(e.sheetLayoutInfo.sheetName,this.get_sheetName())){this.raiseEvent(this.$2$13,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.hasTitle!==e.hasTitle){this.raiseEvent(this.$2$10,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.gridOverlayMode!==e.gridOverlayMode){this.raiseEvent(this.$2$4,ex)}this.$5(e,ex);this.$6(e,ex);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex);this.$7(ex)},$8:function(e,ex){if(ss.isValue(e.viewIds)){var iw=_.keys(e.viewIds);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];var iz=e.viewIds[iy];var iA=this.$e[iy];if(ss.isNullOrUndefined(iA)){iA=new hH(by.get().get_legacySession().get_urlRoot(),iy,iz,ex);this.$e[iy]=iA}iA.set_viewId(iz)}var iB=_.keys(this.$e);var iC=_.difference(iB,_.keys(e.viewIds));for(var iD=0;iD<iC.length;iD++){var iE=iC[iD];delete this.$e[iE]}}},$5:function(e,ex){if(ss.isValue(e.dashboardSizeControl)){if(ss.isNullOrUndefined(this.$9)){this.$9=new ck(this)}this.$9.update(e.dashboardSizeControl,ex)}if(ss.isNullOrUndefined(this.$b)){this.set_portSize(e.viewportSize)}if(ss.isValue(this.pm)){if(ss.isValue(e.viewportSize)&&!_.isEqual(e.viewportSize,this.pm.viewportSize)){this.raiseEvent(this.$2$8,ex)}}},$6:function(e,ex){e.dashboardDeviceLayout=ss.coalesce(e.dashboardDeviceLayout,'default');if(ss.isNullOrUndefined(this.pm)||this.pm.dashboardDeviceLayout!==e.dashboardDeviceLayout){this.raiseEvent(this.$2$11,ex);this.raiseEvent(this.$2$3,ex)}if(ss.isNullOrUndefined(e.dashboardDeviceLayouts)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.dashboardDeviceLayouts,e.dashboardDeviceLayouts)){this.raiseEvent(this.$2$12,ex)}},$7:function(e){if(!R.get_instance().get_isLocalRenderMode()){return}var ex=eT.getVisualModelsFromDashboard(this);var iw=_.keys(ex);var ix=_.any(iw,ss.mkdel(this,function(iE){var iF=ex[iE];return this.$4(iF)||this.$3(iF)}));if(ix){for(var iy=0;iy<iw.length;iy++){var iz=iw[iy];ex[iz].setIsBrushedFromAction(true,e)}}else{var iA=ch.$1(iw,ex);for(var iB=0;iB<iw.length;iB++){var iC=iw[iB];var iD=iA.has(iC);ex[iC].setIsBrushedFromAction(iD,e)}}},$4:function(e){var ex=eT.getModelsForViz(bo).call(null,this.get_contentDashboard(),e);return _.any(ex,function(iw){if(!iw.get_isHighlightEnabled()){return false}var ix=e.get_selectionsModel().getLegendSelection(iw.get_legendTypeEnum(),iw.get_legendNames());return!ix.isEmpty})},$3:function(e){var ex=eT.getModelsForViz(cy).call(null,this.get_contentDashboard(),e);return _.any(ex,function(iw){var ix=e.get_selectionsModel().getLegendSelection('highlight',[iw.get_fieldName()]);return!ix.isEmpty})},$2:function(){if(!this.pm.isStory){return null}var e=null;var ex=this.zonesModel.get_zoneModels();for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];if(ss.isInstanceOfType(ix.get_model(),dn)){e=ix.get_model().get_dashboardModel();break}}return e},$1:function(){var e=bw.fromColorCode(this.get_backgroundColor());e=e||bw.white;var ex=e.isLuminanceAboveThreshold(0.314999997615814);var iw=(ex?0.0199999995529652:0.0299999993294477);var ix=(ex?new bw(0,0,0,iw):new bw(255,255,255,iw));var iy=ix.toRgba();return iy}},eQ);ss.initClass(ci,a,{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e}},eQ);ss.initClass(cj,a,{});ss.initClass(ck,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.minSize},get_maxDimension:function(){return this.pm.maxSize},get_stepSize:function(){return this.pm.stepSize},get_sizeModeOptions:function(){return this.pm.sizeModeOptions||[]},update:function(e,ex){if(ss.isValue(e.dashboardSizePresModel)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new cl(this)}this.dashboardSizeModel.update(e.dashboardSizePresModel,ex)}if(ss.isValue(e.deviceLayoutInfoItem)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new cK(this)}this.layoutInfoModel.update(e.deviceLayoutInfoItem,ex)}this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(cl,a,{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.summaryText},get_sizeMode:function(){if(this.pm.dashboardSizingMode!=='unspecified'){return this.pm.dashboardSizingMode}switch(this.pm.sizeMode){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.w},get_currentMinWidth:function(){return this.pm.minWidth},get_currentMaxWidth:function(){return this.pm.maxWidth},get_currentHeight:function(){return this.pm.h},get_currentMinHeight:function(){return this.pm.minHeight},get_currentMaxHeight:function(){return this.pm.maxHeight},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(cm,a,{add_notificationIntervalChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_notificationIntervalChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_titleChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_titleChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_measureChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_measureChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_conditionChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_conditionChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_recipientsChanged:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_recipientsChanged:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_recipients:function(){return this.$1$6},set_recipients:function(e){this.$1$6=e},get_userIds:function(){return _.map(this.get_recipients(),function(e){return e.id.toString()})},get_notificationIntervalInMinutes:function(){return this.$3},set_notificationIntervalInMinutes:function(e){if(this.$3!==e){this.$3=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_title:function(){return this.$5},set_title:function(e){if(!ss.referenceEquals(this.$5,e)){this.$5=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_deviceType:function(){return this.$1$7},set_deviceType:function(e){this.$1$7=e},get_selectionCaption:function(){return this.$1$8},set_selectionCaption:function(e){this.$1$8=e},get_measurePresModel:function(){return this.$2},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$2,e)){this.$2=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_conditionPresModel:function(){return this.$1},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},get_operator:function(){return this.$1.dataAlertConditionOp},get_threshold:function(){return this.$4},set_threshold:function(e){if(ss.referenceEquals(this.$4,e)){return}this.$4=e;if(ss.isNullOrUndefined(this.get_conditionPresModel().dataType)){return}this.set_thresholdIsValid(this.isValidThresholdText(e))},get_thresholdIsValid:function(){return this.$1$9},set_thresholdIsValid:function(e){this.$1$9=e},get_alertConditionMet:function(){return this.$1$10},set_alertConditionMet:function(e){this.$1$10=e},$0:function(e){return this.get_conditionPresModel().dataType==='real'&&tab.DoubleUtil.isValidDouble(e)||this.get_conditionPresModel().dataType==='integer'&&tab.DoubleUtil.isValid64BitInteger(e)},isValidThresholdText:function(e){if(ss.isNullOrEmptyString(e)){return false}else if(ss.isNullOrUndefined(R.get_instance().get_appPresModel())||ss.isNullOrUndefined(R.get_instance().get_appPresModel().numberFormats)){return this.$0(e)}else{var ex=R.get_instance().get_appPresModel().numberFormats;return this.$0(tableau.format.reformatNumberToJsFormat(e,ex))}},updateRecipients:function(e){this.set_recipients(e);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}});cm.$ctor2.prototype=cm.$ctor1.prototype=cm.prototype;ss.initClass(cn,a,{});ss.initClass(co,a,{});ss.initClass(cp,a,{get_operation:function(){return this.pm.dataAlertConditionOp},get_thresholdText:function(){return this.pm.dataAlertThresholdText},update:function(e){if(ss.isValue(e)){this.swapAndCopyPresModel(e)}}},eQ);ss.initClass(cq,a,{});ss.initClass(cr,a,{});ss.initClass(cs,a,{$1:function(){return this.pm},get_connectionName:function(){return this.$1().connectionName||''},get_promptTitle:function(){return this.$1().dialogTitle||''},get_variableListInstruction:function(){return this.$1().valuesTableHeader||''},get_variableListNameLabel:function(){return this.$1().listViewNameLabel||''},get_variableListValueLabel:function(){return this.$1().listViewValueLabel||''},get_addVariableLabel:function(){return this.$1().addVariableLabel||''},get_addVariableTooltip:function(){return this.$1().addVariableTooltip||''},get_deleteVariableTooltip:function(){return this.$1().deleteVariableTooltip||''},get_requiredVariableMessage:function(){return this.$1().requiredVariableMessage||''},get_editSectionTitle:function(){return this.$1().editWidgetHeader||''},get_editSectionInstruction:function(){return this.$1().editWidgetInstruction||''},get_editSectionFromLabel:function(){return this.$1().fromLabel||''},get_editSectionToLabel:function(){return this.$1().toLabel||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().promptVariables)){this.$2=[];for(var ex=0;ex<this.$1().promptVariables.length;ex++){var iw=new cu(new ct(this),ex);iw.update(this.$1().promptVariables[ex]);this.$2.push(iw)}}}},eQ);ss.initClass(ct,a,{},eQ);ss.initClass(cu,a,{$1:function(){return this.pm},get_displayName:function(){return this.$1().variableDisplayName},get_description:function(){return this.$1().variableDescription},get_guid:function(){return this.$1().variableGuid},get_isRequired:function(){return this.$1().isRequired},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().supportsMultipleValues},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().serverVariableMetadata.variableValueOperations},get_selectableValues:function(){return this.$1().serverVariableMetadata.selectionValueList},update:function(e){this.swapAndCopyPresModel(e);this.$2=new cw(null,-1);this.$2.update(this.$1().serverVariableMetadata.variableValue);if(ss.isValue(this.$1().variableValues)){this.$3=[];for(var ex=0;ex<this.$1().variableValues.length;ex++){var iw=new cw(new cv(this),ex);iw.update(this.$1().variableValues[ex]);this.$3.push(iw)}}}},eQ);ss.initClass(cv,a,{},eQ);ss.initClass(cw,a,{$1:function(){return this.pm},get_displayValue:function(){return this.$1().displayValue},get_valueIndex:function(){return this.$1().valueIndex},get_operation:function(){return this.$1().serverVariableValue.variableValueOperation},set_operation:function(e){this.$1().serverVariableValue.variableValueOperation=e},get_firstValue:function(){return this.$1().serverVariableValue.firstValue},get_firstValueIndex:function(){return this.$1().serverVariableValue.firstValueIndex},get_secondValue:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValue:null)},get_secondValueIndex:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValueIndex:-1)},update:function(e){this.swapAndCopyPresModel(e)}},eQ);ss.initClass(cx,a,{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty$2(this.$1())||tab.MiscUtil.isNullOrEmpty$2(this.$1().dataSegments)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var ex=e.dataSegments;if(ss.isValue(ex)){var iw=this.$1().dataSegments;if(ss.isValue(iw)){var ix=new ss.ObjectEnumerator(iw);try{while(ix.moveNext()){var iy=ix.current();if(!ss.keyExists(ex,iy.key)){ex[iy.key]=iy.value}}}finally{ix.dispose()}}var iz=new ss.ObjectEnumerator(ex);try{while(iz.moveNext()){var iA=iz.current();if(iA.value===null){delete ex[iA.key]}}}finally{iz.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,ex){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().dataSegments)){return null}if(ss.isNullOrUndefined(this.$2)){this.$2=ss.getKeyCount(this.$1().dataSegments)}for(var iw=0;ss.Nullable$1.lt(iw,this.$2);iw++){var ix=this.$1().dataSegments[iw.toString()];for(var iy=0;iy<ix.dataColumns.length;iy++){var iz=ix.dataColumns[iy];if(ss.isNullOrUndefined(iz)||iz.dataType!==e){continue}if(ex<iz.dataValues.length){return iz.dataValues[ex]}ex-=iz.dataValues.length;break}}return null}},eQ);ss.initClass(cy,a,{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().fn},get_searchPlaceholderString:function(){return this.$2().searchPlaceholder},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().dataHighlighterItemSet},get_searchText:function(){return this.$2().queryText},get_maxNumberListItems:function(){return this.$2().maxNumberWebListItems},get_isActive:function(){return this.$2().isActive},get_bodyTextStyle:function(){return this.$2().textStyle},get_numHighlighted:function(){return this.$2().numHighlighted},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_zoneCommonModel().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_zoneCommonModel().get_width()},update:function(e,ex){if(ss.isValue(e)){ds.notifyFontsFromTextStylePresModel(e.textStyle)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1,ex)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().dataHighlighterItems;for(var ex=0;ex<e.length;ex++){var iw=e[ex];this.$3[iw.objectId]=iw.text}}},eQ,[ea]);ss.initClass(cz,a,{add_newActiveDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newActiveDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSchema:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSchema:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newDataSourceAdded:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newDataSourceAdded:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$2))},get_dataSchemaPresModel:function(){return this.pm},$1:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().datasource)){return this.get_dataSchemaPresModel().datasource}return''},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$1()))},notifyNewDataSourceAdded:function(e,ex){this.raiseEvent$1(String).call(this,this.$2$3,ex,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var ex=null;if(ss.isValue(this.get_dataSchemaPresModel().worksheetDataSchemaMap)&&ss.keyExists(this.get_dataSchemaPresModel().worksheetDataSchemaMap,e)){ex=this.get_dataSchemaPresModel().worksheetDataSchemaMap[e].primaryDatasource}if(ss.isNullOrEmptyString(ex)){return _.chain(this.dataSources.get_dataSources()).filter(ss.mkdel(this,function(iw){return!ss.referenceEquals(iw.get_name(),this.get_dataSchemaPresModel().parametersDatasource)})).first().value()}return this.dataSources.getDataSource(ex)},getDataSourceCount:function(e){var ex=0;if(ss.isValue(this.dataSources)&&ss.isValue(this.dataSources.get_dataSources())){ex=this.dataSources.get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){ex--}}return ex},findField:function(e){var ex=this.findDataSourceFromGlobalFieldName(e);return(ss.isNullOrUndefined(ex)?null:ex.findField(e))},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(e))},findDataSourceFromGlobalFieldName:function(e){var ex=cC.splitGlobalFieldName(e);if(ex.length<=1){return null}var iw=ex[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(iw)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var iw=(ss.isValue(e.currentBlendingFields)?e.currentBlendingFields:[]);var ix=(ss.isValue(e.blendingFieldCandidates)?e.blendingFieldCandidates:[]);this.currentBlendingFields=ss.arrayClone(iw);this.blendingFieldCandidates=ss.arrayClone(ix);if(ss.isValue(e.parametersDatasource)){this.$2=e.parametersDatasource}var iy=this.getDataSourceCount(true);if(ss.isValue(e.dataSources)){this.dataSources=this.dataSources||new cD(this);this.dataSources.update(e.dataSources,ex)}if(this.getDataSourceCount(true)>iy){this.notifyNewDataSourceAdded(ex,'')}if(ss.isValue(this.pm)){var iz=this.pm.worksheetDataSchemaMap;var iA=e.worksheetDataSchemaMap;eT.mergeMapPresModelDelta(iz,iA)}if(!ss.referenceEquals(e.datasource,this.$1())){this.raiseEvent(this.$2$1,ex)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)}},eQ);ss.initInterface(ej,a,{get_notificationId:null,onNotify:null});ss.initClass(cA,a,{add_selectionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_notificationId:function(){return'data-schema-selection-event'},$2:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var iw=0;iw<e.fieldVector.length;iw++){var ix=e.fieldVector[iw];ex.push(ix)}return ex},onNotify:function(e,ex){this.swapPresModel(e);this.$1()},$1:function(){if(!tab.FeatureFlags.isEnabled('NewFieldHighlightWeb')){return}if(!ss.isValue(this.$2$1)){return}var e=null;e=ss.mkdel(this,function(){this.$2$1(this.$2());by.get().remove_commandQueueComplete(e)});by.get().add_commandQueueComplete(e)}},eQ,[ej]);ss.initInterface(ef,a,{add_stopNotifying:null,remove_stopNotifying:null},[ej]);ss.initClass(cB,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'update-data-source-data-event'},onNotify:function(e,ex){this.onNotify$1(e,ex)},onNotify$1:function(e,ex){if(ss.isValue(e)){this.update(e,ex)}},detachNotifications:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},getColumnByName:function(e){if(ss.isValue(this.columnInfoLookup)){return this.columnInfoLookup[e]}return null},clearModel:function(){this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new cx(this)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}this.pm=e;this.numRows=e.numRows;this.isEmpty=e.isEmpty;this.isExtract=e.isExtract;this.dataDictionaryModel.update(e.dataDictionary);this.columnInfoLookup={};for(var iw=0;iw<e.columnInfos.length;iw++){var ix=e.columnInfos[iw];var iy=new cZ(null);iy.update(ix);var iz=iy.get_fieldName();this.columnInfoLookup[iz]=iy}this.raiseEvent(this.$2$1,ex)}},eQ,[ej,ef]);ss.initClass(cC,a,{add_captionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_captionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_name:function(){return this.pm.datasource},get_caption:function(){return this.pm.datasourceCaption},get_fields:function(){return this.baseColumnsModel.rootFields},get_dataSourceLayoutPresModel:function(){return this.pm.dataSourceLayout},get_isParametersDataSource:function(){return ss.equals(this,R.get_instance().get_workbook().get_dataSchema().get_parametersDataSource())},get_fieldOrderType:function(){return this.pm.fieldOrderType},get_fieldSortOrder:function(){return this.pm.fieldSortOrder},get_isDataTabViewSupported:function(){return this.pm.isWebDataTabViewSupported},get_shouldShowDataSourceConnectionError:function(){return this.pm.shouldShowDataSourceConnectionError},get_canAnalyzeData:function(){return ss.isValue(this.pm)&&this.pm.canAnalyzeData},get_specifiedWidth:function(){return this.$2$3},set_specifiedWidth:function(e){this.$2$3=e},getFilteredFields:function(e){var ex=[];var iw=this.baseColumnsModel.get_allFields();for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(e(iy)){ex.push(iy)}}return ex},findField:function(e){var ex=this.baseColumnsModel.findField(e);if(ss.isValue(ex)){return ex}if(ss.isValue(this.$1)){return this.$1.findField(e)}return null},findDrillPath:function(e){return this.baseColumnsModel.findDrillPath(e)},findFolder:function(e,ex){return this.baseColumnsModel.findFolder(e,ex)},findRelationalTable:function(e){return this.baseColumnsModel.findRelationalTable(e)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.datasourceCaption,e.datasourceCaption)){this.raiseEvent(this.$2$1,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.canAnalyzeData!==e.canAnalyzeData){this.raiseEvent(this.$2$2,ex)}if(ss.isValue(e.fieldList)){this.baseColumnsModel.update(e.fieldList,ex)}if(ss.isValue(e.columnList)){this.$1=this.$1||new di('columnList',this);this.$1.update(e.columnList,ex)}this.swapAndCopyPresModel(e)}},eQ);ss.initClass(cD,a,{get_dataSources:function(){return _.values(this.$1)},get_dataSourceCount:function(){return ss.getKeyCount(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e,ex){var iw=_.keys(e);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];var iz=e[iy];if(iz===null){delete this.$1[iy]}else{var iA=this.$1[iy];if(ss.isNullOrUndefined(iA)){iA=new cC(this,iy);this.$1[iy]=iA}iA.update(iz,ex)}}if(ss.isValue(this.pm)){eT.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}},eQ);ss.initInterface(eb,a,{dispatch:null});ss.initClass(cE,a,{dispatch:function(e,ex){return function(iw){var ix=$.Deferred();var iy=function(iA){ix.resolve(new ex(iA))};var iz=function(iA){ix.reject()};by.SendCommand(new bs(iw.get_uiBlocking(),iw.get_localWork(),iw.get_remoteCommand(),(iw.get_deferSuccess()?by.deferredSuccessHandler(Object).call(null,$.Deferred().done(iy)):iy),(iw.get_deferFailure()?by.$1($.Deferred().fail(iz)):iz)));return ix.promise()}}},null,[eb]);ss.initInterface(ep,a,{handleCommandFailure:null});ss.initClass(cF,a,{handleCommandFailure:function(e,ex,iw,ix){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var iy=null;if(!tab.MiscUtil.isNullOrEmpty$3(ex.responseText)){iy=ex.responseText.match(new RegExp('Fatal exception in vizql engine'))}if(ex.status===410||ex.status===404||ex.status===403){this.handleSessionExpiration(false)}else if(ex.status===401){this.handleAuthenticationFailure()}else if(ex.status===502||ex.status===503){this.handleSessionKilled(null)}else if(ex.status===500&&ss.isValue(iy)&&iy.length>0){this.handleUnknownErrorStatus(ex.responseText)}else if(ex.status===413){this.handleSessionLimitExceeded()}else if(ex.status===0){var iz;if(!tab.MiscUtil.isNullOrEmpty$3(ex.responseText)){var iA=new ss.StringBuilder;iA.append('XHR Response Status: 0\nReadyState:');iA.append(ex.readyState);iA.append('\nHeaders:\n');iA.append(ex.getAllResponseHeaders());iA.append('\nResponse:\n');iA.append(ex.responseText);iz=ss.mkdel(this,function(){this.$5.showAlertDialog(iA.toString(),tab.Strings.RequestAbortedByBrowser,true,null)})}else{iz=ss.mkdel(this,function(){this.$1(e,ex)})}window.setTimeout(iz,5000)}else if(ss.isNullOrUndefined(ix)||!ix){this.$1(e,ex)}return true},handleSessionExpiration:function(e){var ex=hU.createForCurrentWindowLocation();if(e&&ex.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.$2(e)},handleAuthenticationFailure:function(){this.$2(false)},$1:function(e,ex){var iw=ss.safeCast(e,String);var ix=ss.safeCast(e,ss.Exception);var iy='';if(ss.isValue(iw)){iy=ss.replaceAllString(iw,'XMLHttpTransport.watchInFlight Error: ','')}else if(ss.isValue(ix)){iy=ss.replaceAllString(ix.get_message(),'XMLHttpTransport.watchInFlight Error: ','')}iy=ss.replaceAllString(iy,'XMLHttpTransport Error: ','');var iz=tab.Strings.ServerErrorUnexpected;if(ex.status<400){iz=tab.Strings.BrowserErrorProcessing;iy=tab.Strings.BrowserErrorProcessingMessage+'<br>'+iy}else if(ex.status===400){iz=tab.Strings.ServerErrorRejected;iy=tab.Strings.ServerErrorRejectedMessage+'<br>'}else{var iA;try{iA=eval('('+ex.responseText+')');iA=iA.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');iA='<ul><li>'+iA+'</ul>'}catch(iB){iA=ex.responseText;iA=dd.stripOutMarkup(iA)}if(ss.isNullOrEmptyString(iA)){iy=tab.Strings.ServerErrorGeneral(ex.status)+'<br>'}else{iy=iA}}this.$5.showAlertDialog(iy,iz,true,null)},$0:function(e,ex,iw){e=ss.coalesce(e,'').trim();e=dd.stripOutMarkup(e);var ix=new tab.NonApiCommand('tableau.completed',[]);tabBootstrap.Utility.doPostMessage(ix.serialize());var iy=tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,e);if(!ss.isNullOrEmptyString(e)){iy+='<br/><br/>'}iy+=iw;var iz=ss.mkdel(this,function(){this.$4();document.body.style.cursor='wait';this.$2(false)});this.$5.showConfirmationDialog(iy,ex,true,iz,null)},$2:function(e){document.body.style.cursor='wait';var ex=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var iw=hU.createForCurrentWindowLocationAndVizState(ex,tsConfig.current_sheet_name);iw.set_retry(e);iw.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;iw.fullPageLoad(null)},handleSessionForbiddenAction:function(e,ex){var iw=tab.Strings.SessionForbiddenActionTitle;var ix=tab.Strings.SessionForbiddenActionMsg;switch(e){case 16:case 20:case 22:case 60011:{ix=ex;break}}this.$5.showAlertDialog(ix,iw,true,null)},handleSessionLimitExceeded:function(){if(cF.$0){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex=tab.Strings.TimeLimitExceededTitle;cF.$0=true;this.$5.showAlertDialog(e,ex,true,null)},handleSessionKilled:function(e){this.$0(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)},handleUnknownErrorStatus:function(e){this.$0(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},$4:function(){var e={error:null,success:null,type:'POST',url:this.$6+'/setignore/sessions'};var ex=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);e.data=ex;e.async=false;this.$3(e,null)},$3:function(e,ex){return iq.helper(e,ex)}},null,[ep]);ss.initClass(cG,a,{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}});ss.initClass(cH,a,{handle:function(e,ex){if(!this.$5){return false}if(ss.isNullOrUndefined(e)){return false}var iw=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(e.get_message());if(ss.isNullOrUndefined(iw)){return false}var ix=e['status'];if(ss.isNullOrUndefined(ix)){return false}if(!cH.shouldHandleWithGivenStatus(ix)){return false}this.$1(ex,iw,false);return true},$0:function(){var e=gJ.createSwitchSheetsCommand(tsConfig.current_sheet_name);e.commandParams['forceConnectionAttempt']=true;return fJ.create(e,'immediately')},$2:function(e,ex,iw){if(!this.$5){return}if(iw){e=this.$0()}if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.dataSourceConnectionAttemptInfos)||ex.dataSourceConnectionAttemptInfos.length===0){return}var ix=ex.dataSourceConnectionAttemptInfos[0];this.$3(ix).done(ss.mkdel(this,function(iy){if(!iy){var iz=new tab.DataSourceConnectionAttemptErrorResponse;iz.ErrorType=ix.exceptionType;iz.DataSourceCaption=ix.datasourceCaption;iz.ConnectionName=cH.$0(ix.connectionFullName);iz.ConnectionClass=(ss.keyExists(ix.exceptionAttrs,'class')?ix.exceptionAttrs['class']:null);var iA=iz;var iB=cH.$2(ix.exceptionType);if(iB){var iC=cH.$1(ix);iA.RedirectUrl=iC}else{iA.ErrorMessage=ix.exceptionMessage}var iD=!ix.triedToConnect;this.$1(e,iA,iD)}}))},handlePotentialDataSourceException:function(e,ex,iw){if(!this.$5){return}if(!ss.isNullOrUndefined(ex)){this.$2(e,ex.connectionAttemptInfo,iw)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$5){return}if(!ss.isNullOrUndefined(e)){this.$2(null,e.connectionAttemptInfo,true)}},$1:function(e,ex,iw){if(!ss.isNullOrEmptyString(ex.RedirectUrl)){var ix=(iw?'&skippopup=1':'');ex.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',ex.RedirectUrl,ix,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var iy=function(){by.SendCommand(e)};var iz=!ss.isNullOrUndefined(e.get_commandName())&&ss.equalsT(e.get_commandName().toString(),'ensure-layout-for-sheet'.toString());var iA=cH.$2(ex.ErrorType);if(iz){if(iA){this.$4.showSheetAuthenticationOverlay(ex,iy)}else{this.$4.showGenericDataSourceErrorOverlay(ex,iy)}}else if(iA){this.$4.showSheetAuthenticationDialog(ex,iy)}else{this.$4.showGenericDataSourceErrorDialog(ex,iy)}},$3:function(e){var ex=$.Deferred();if(cH.$3()&&e.connectionErrorType==='exception-while-connecting'&&ss.keyExists(e.exceptionAttrs,'class')){var iw=e.exceptionAttrs['class'];if(e.connectionErrorStage==='create-protocol-failed'){var ix=cH.$0(e.connectionFullName);if(iw==='excel'||iw==='excel-direct'){var iy='';if(ss.keyExists(e.exceptionAttrs,'filename')){var iz=e.exceptionAttrs['filename'];iy=cH.$5(iz)}return this.$4.showConnectionMissingFileDialog(iy,ix,'excel-direct')}else if(iw==='textscan'){var iA='';if(ss.keyExists(e.exceptionAttrs,'directory')){var iB=e.exceptionAttrs['directory'];iA=cH.$5(iB)}return this.$4.showConnectionMissingFileDialog(iA,ix,'textscan')}}if(e.connectionErrorStage==='load-metadata-failed'&&R.get_instance().get_workbook().get_uiMode()!=='data-tab'&&cH.$4(iw)){var iC=e.datasourceCaption;this.$4.showEditConnectionInformationDialog(iC);ex.resolve(true);return ex}}ex.resolve(false);return ex.promise()}});ss.initClass(cI,a,{handleCommandFailure:function(e,ex,iw,ix){if(!this.$0){return false}if(!cH.shouldHandleWithGivenStatus(ex.status)){return false}var iy=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(ex.responseText);if(ss.isNullOrUndefined(iy)){return false}return true}},null,[ep]);ss.initInterface(em,a,{processEvent:null});ss.initClass(cJ,a,{dispose:function(){this.fireDeferredEvents()},fireDeferredEvents:function(){var ex=this.$0;this.$0=null;if(ss.isNullOrUndefined(ex)){return}for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];try{ix()}catch(iy){var e=ss.Exception.wrap(iy);if(!ss.staticEquals(this.exceptionHandler,null)){this.exceptionHandler(e)}}}},processEvent:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=[]}this.$0.push(e)}},null,[em,ss.IDisposable]);ss.initClass(cK,a,{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.defaultWidth},get_defaultHeight:function(){return this.pm.defaultHeight},get_defaultMaxWidth:function(){return this.pm.maxWidth},get_defaultMaxHeight:function(){return this.pm.maxHeight},get_defaultMinWidth:function(){return this.pm.minWidth},get_defaultMinHeight:function(){return this.pm.minHeight},update:function(e,ex){if(ss.isValue(e.presetSizesList)){this.$1.length=0;for(var iw=0;iw<e.presetSizesList.sizeItems.length;iw++){var ix=new gW(this.$2,iw);ix.update(e.presetSizesList.sizeItems[iw],ex);this.$1.push(ix)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(cL,a,{});ss.initClass(cM,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().computeCompoundedRate},get_computeCompoundedRateState:function(){return this.$1().computeCompoundedRateState},update:function(e,ex){var iw=e;if(this.isNewPresModelSameAsOld(iw)){return}this.swapAndCopyPresModel(iw);this.get_referenceModel().update(iw.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}},hw);ss.initClass(cN,a,{invoke:function(){return this.invoke$1(bO.newCommand$1('double-click-region-no-return-server',this.c))}},ss.makeGenericType(S,[Object,cO]));ss.initClass(cO,a,{});ss.initInterface(eg,a,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(cP,a,{canExtractFont:function(e){return e.type==='draw-text-props'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e;var iw=ex.fontName;if(ss.isNullOrEmptyString(iw)){return null}var ix=[];var iy=new dt;iy.set_fontFamily(iw);iy.set_weight((ex.isBold?'bold':'normal'));ix.push(iy);return ix}},null,[eg]);ss.initClass(cQ,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dh);ss.initClass(cR,a,{invoke:function(){return this.invoke$1(bO.newCommand('drop-on-dashboard',this.c))}},ss.makeGenericType(S,[Object,cS]));ss.initClass(cS,a,{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});ss.initClass(cT,a,{invoke:function(){return this.invoke$1(bO.newCommand('drop-on-schema-drill-path',this.c))}},ss.makeGenericType(S,[Object,cU]));ss.initClass(cU,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(cV,a,{invoke:function(){return this.invoke$1(bO.newCommand('drop-on-schema-field',this.c))}},ss.makeGenericType(S,[Object,cW]));ss.initClass(cW,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(cX,a,{invoke:function(){return this.invoke$1(bO.newCommand('drop-on-schema-section',this.c))}},ss.makeGenericType(S,[Object,cY]));ss.initClass(cY,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(cZ,a,{get_dataType:function(){if(ss.isNullOrUndefined(this.pm)){return'unknown'}return this.pm.dataType},get_fieldName:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.fn},get_valueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.valueIndices},get_aliasIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.aliasIndices},get_formattedValueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.formatValIdxs},get_stringCollation:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.stringCollation},update:function(e){if(ss.isValue(e)){this.pm=e}}},eQ);ss.initClass(da,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().fieldCaptionPair;if(ss.isNullOrUndefined(e)){return null}return{key:e.fieldCaption,value:e.fn}},get_parameters:function(){return _.map(this.$1().fieldCaptionPairs,function(e){return{key:e.fieldCaption,value:e.fn}})},get_selectedValue:function(){return this.$1().selectedValue},set_selectedValue:function(e){this.$1().selectedValue=e},get_enterValueText:function(){return this.$1().enterValueText},get_isCustomValueEnabled:function(){return this.$1().isCustomValueEnabled},get_precannedValues:function(){var e=[];var ex=this.$1().precannedDataValues;for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];e.push(ix)}return e},update:function(e,ex){this.swapPresModel(e);this.raiseEvent(this.$2$1,ex)}},eQ);ss.initClass(db,a,{handle:function(e,ex,iw,ix){var iy=this.$0;for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];if(iA.handleCommandFailure(e,ex,iw,ix)){return}}}});ss.initClass(dc,a,{});ss.initClass(dd,a,{});ss.initClass(de,a,{});ss.initClass(df,a,{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_baseColumnName:function(){return(this.get_isInstance()?this.pm.baseColumnName:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.get_dataSource().findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.pm.isInstance)&&this.pm.isInstance},get_hasWarning:function(){return this.pm.hasWarning},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?dh.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.pm.isCalculated},get_formattedFamilyName:function(){return this.pm.formattedFamilyName},get_canAddToDrillPath:function(){return this.pm.canAddToDrillPath},get_isInDrillPath:function(){return this.pm.isInDrillPath},get_columnClass:function(){return this.pm.columnClass},update:function(e){this.swapAndCopyPresModel(e)}},dh);ss.initEnum(dg,a,{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple'},true);ss.initClass(di,a,{get_allFields:function(){if(ss.isValue(this.$a)){return this.$a}this.$a=[];var e=_.keys(this.$9);for(var ex=0;ex<e.length;ex++){var iw=e[ex];var ix=this.$9[iw];if(ss.referenceEquals(iw,ix.get_localName())){this.$a.push(ix)}}return this.$a},get_dataSource:function(){return this.$b},findField:function(e){return this.$9[e]},findDrillPath:function(e){return this.$c[e]},findFolder:function(e,ex){var iw=e+ex;return this.$d[iw]},findRelationalTable:function(e){return this.$e[e]},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(this.pm,e)){return}this.$a=null;var iw=this.$9;var ix=this.$e;var iy=this.$d;var iz=this.$c;this.$9={};this.$e={};this.$d={};this.$c={};this.rootFields=[];var iA=[];var iB={};var iC={};for(var iD=0;iD<e.length;iD++){var iE=e[iD];iE.fieldIconRes=iE.fieldIconRes||'';switch(iE.type){case'field-folder':{iA.push(iE);break}case'drill-path':{iC[iE.name]=this.$5(iE,iz,iw);break}case'relational-table':{var iF=this.$8(iE,ix,iw);this.rootFields.push(iF);break}case'group':{iB[iE.fn]=this.$7(iE,iw);break}case'column':{iB[iE.fn]=this.$1(iE,iw);break}case'dimension':{var iG=this.$2(iE,iw);this.rootFields.push(iG);break}case'display-folder':{var iH=this.$3(iE,iw);this.rootFields.push(iH);break}}}for(var iI=0;iI<iA.length;iI++){var iJ=iA[iI];var iK=this.$6(iJ,iy,iB,iC);this.rootFields.push(iK)}var iL=this.rootFields.concat.apply(this.rootFields,_.values(iC));this.rootFields=iL.concat.apply(iL,_.values(iB));var iM=_.keys(this.$9);for(var iN=0;iN<iM.length;iN++){var iO=iM[iN];var iP=this.$9[iO];this.$9[iP.get_localName()]=iP}this.swapPresModel(e);this.raiseEvent(this.fieldsChanged,ex)},$1:function(e,ex){var iw=(ss.keyExists(ex,e.fn)?ex[e.fn].asColumn():new df(this));iw.update(e);this.$9[e.fn]=iw;return iw},$8:function(e,ex,iw){var ix=[];for(var iy=0;iy<e.columnList.length;iy++){var iz=e.columnList[iy];ix.push(this.$1(iz,iw))}var iA=(ss.keyExists(ex,e.name)?ex[e.name].asRelationalTable():new fI(this));iA.update(e,ix);this.$e[e.name]=iA;return iA},$6:function(e,ex,iw,ix){var iy=[];for(var iz=0;iz<e.namesOfFields.length;iz++){var iA=e.namesOfFields[iz];var iB=this.$9[iA];if(ss.isValue(iB)){iy.push(iB);delete iw[iA]}}for(var iC=0;iC<e.drillpathVector.length;iC++){var iD=e.drillpathVector[iC];var iE=this.$c[iD];if(ss.isValue(iE)){iy.push(iE);delete ix[iD]}}var iF=e.name+e.folderRole;var iG=(ss.keyExists(ex,iF)?ex[iF].asFolder():new dr(this));iG.update(e,iy);this.$d[iF]=iG;return iG},$7:function(e,ex){var iw=(ss.keyExists(ex,e.fn)?ex[e.fn].asGroup():new dT(this));iw.update(e);this.$9[e.fn]=iw;return iw},$5:function(e,ex,iw){var ix=[];for(var iy=0;iy<e.columnList.length;iy++){var iz=e.columnList[iy];ix.push(this.$1(iz,iw))}var iA=(ss.keyExists(ex,e.name)?ex[e.name].asDrillPath():new cQ(this));iA.update(e,ix);this.$c[e.name]=iA;return iA},$4:function(e,ex){var iw=[];for(var ix=0;ix<e.columnList.length;ix++){var iy=e.columnList[ix];iw.push(this.$1(iy,ex))}var iz=(ss.keyExists(ex,e.fn)?ex[e.fn].asHierarchy():new cc(this));iz.update(e,iw);this.$9[e.fn]=iz;return iz},$3:function(e,ex){var iw=[];for(var ix=0;ix<e.hierarchyList.length;ix++){var iy=e.hierarchyList[ix];iw.push(this.$4(iy,ex))}var iz=[];for(var iA=0;iA<e.columnList.length;iA++){var iB=e.columnList[iA];iz.push(this.$1(iB,ex))}var iC=((ss.keyExists(ex,e.name)&&ex[e.name].get_isCubeFolder())?ex[e.name].asCubeFolder():new cb(this));iC.update(e,iw,iz);return iC},$2:function(e,ex){var iw=[];for(var ix=0;ix<e.hierarchyList.length;ix++){var iy=e.hierarchyList[ix];iw.push(this.$4(iy,ex))}var iz=[];for(var iA=0;iA<e.displayFolderList.length;iA++){var iB=e.displayFolderList[iA];iz.push(this.$3(iB,ex))}var iC=[];for(var iD=0;iD<e.attributeDimensionList.length;iD++){var iE=e.attributeDimensionList[iD];iC.push(this.$2(iE,ex))}var iF=(ss.keyExists(ex,e.fn)?ex[e.fn].asDimension():new ca(this));iF.update(e,iw,iz,iC);this.$9[e.fn]=iF;return iF}},eQ);ss.initEnum(dj,a,{localName:'localName',globalName:'globalName',qualifiedLocalName:'qualifiedLocalName',description:'description',userCaption:'userCaption',displayName:'displayName'},true);ss.initClass(dk,a,{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,ex){var iw=this.$0[this.$1];delete this.cl[iw];this.$0[this.$1]=e;this.cl[e]=ex;this.$1=(this.$1+1)%this.$2}});ss.initClass(dl,a,{openDownload:function(e,ex){if(ss.isValue(ex.popup)){this.$1(e,ex)}else{this.$0(e,ex)}},$0:function(e,ex){var iw=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=iw+'download=true';var ix='_blank';var iy=e;if(ss.isNullOrUndefined(ex.noping)){var iz=ss.mkdel(this,function(){this.$2.showFileDownloadDialog(ex.title,ex.message,iy,ix)});var iA=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=iA+'nodata=true';var iB=this.$3.$0(null,iz,null,'immediately');var iC={};iC.headers=ss.mkdict(['Accept','text/plain']);iC.dataType='text';iC.type='GET';iC.url=e;this.$3.$b(iC,iB)}else{this.$2.showFileDownloadDialog(ex.title,ex.message,iy,ix)}},$1:function(e,ex){var iw=ex.popup;var ix=window.open('about:blank',iw);window.setTimeout(ss.mkdel(this,function(){var iy=new tab.WindowHelper(ix);if(ss.isValue(ix)&&!ix.closed&&iy.get_innerWidth()!==0&&iy.get_innerHeight()!==0){ix.location.href=e}else{if(ss.isValue(ix)){ix.close()}ex.popup=null;this.openDownload(e,ex)}}),500)}});ss.initClass(dm,a,{});ss.initClass(dn,a,{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().activeStoryPointId},get_isEmpty:function(){return ss.isNullOrEmptyString(this.get_storyPointModel().get_currentSheet())},invalidated:function(e){this.raiseEvent(this.$2$1,e)},update:function(e,ex){if(ss.isValue(e.activeStoryPointId)){var iw=e.storyPoints[e.activeStoryPointId.toString()];this.$1.update(iw,ex)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}},eQ);ss.initClass(dp,a,{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_pointWasCaptured:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_pointWasCaptured:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().currentStorypointIndex},get_storyPoints:function(){return this.get_flipboardNavPresModel().storypointNavItems},get_zone:function(){return this.parent.get_zone()},get_navType:function(){return this.get_flipboardNavPresModel().flipboardNavStyle.flipboardNavType},get_arrowVisibility:function(){return this.get_flipboardNavPresModel().navArrowsVisible},get_width:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().selectedStoryPointStyle.w)},get_height:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().selectedStoryPointStyle.h)},get_isStoryEmpty:function(){return this.get_flipboardNavPresModel().isStoryEmpty},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex){if(ss.isValue(e)){if(ss.isValue(e.selectedStoryPointStyle)){ds.notifyFontsFromTextStylePresModel(e.selectedStoryPointStyle.textStyle)}if(ss.isValue(e.unselectedStoryPointStyle)){ds.notifyFontsFromTextStylePresModel(e.unselectedStoryPointStyle.textStyle)}}var iw=ss.isValue(this.get_flipboardNavPresModel())&&e.navArrowsVisible!==this.get_flipboardNavPresModel().navArrowsVisible;this.$1(e);this.simpleSwapToUpdate(e,this.$2$1,ex);this.$2(ex);if(iw){this.raiseEvent(this.$2$3,ex)}},$1:function(e){if(ss.isNullOrUndefined(this.get_flipboardNavPresModel())){return}ss.clear(this.$3);var ex=this.get_flipboardNavPresModel().currentStorypointIndex;var iw=e.currentStorypointIndex;var ix=this.get_flipboardNavPresModel().storypointNavItems[ex];var iy=e.storypointNavItems[iw];if(ex!==iw&&ix.storyPointId===iy.storyPointId&&!ix.isCaptured&&iy.isCaptured){this.$3.push(iy.storyPointId)}var iz=_.filter(e.storypointNavItems,function(iE,iF){return iE.isCaptured===true&&iF!==e.currentStorypointIndex});for(var iA=0;iA<iz.length;iA++){var iB=iz[iA];var iC={$:iB.storyPointId};var iD=_.find(this.get_flipboardNavPresModel().storypointNavItems,ss.mkdel({currentId:iC},function(iE){return iE.storyPointId===this.currentId.$}));if(ss.isNullOrUndefined(iD)){continue}if(!iD.isCaptured){this.$3.push(iC.$)}}},$2:function(e){for(var ex=0;ex<this.$3.length;ex++){var iw=this.$3[ex];this.raiseEvent$1(ss.Int32).call(this,this.$2$2,iw,e)}}},eQ);ss.initClass(dq,a,{});ss.initClass(dr,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dh);ss.initClass(ds,a,{});ss.initClass(dt,a,{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(dt.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-'+this.$2.toLowerCase()}return this.$0},equals$1:function(e){var ex=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var iw=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(ex,iw,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});ss.initClass(dx,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().typeOfFormatItem},get_widgetIdentifier:function(){return this.$1().widgetUniqueId},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,du)},asFormatControl:function(){return ss.safeCast(this,dv)},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(du,a,{get_typeOfFormatContainer:function(){return this.pm.typeOfFormatContainer},get_items:function(){return this.$5},get_name:function(){if(this.get_isFormatSection()){return this.pm.name}else if(this.get_isFormatPane()){return this.pm.name}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.pickerType}else if(this.get_isTabGroup()){return this.pm.pickerType}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_isCollapsedByDefault:function(){if(this.get_isCollapsibleSection()){return this.pm.collapsed}else{return false}},get_label:function(){if(this.get_isUnitContainer()){return this.pm.label}else if(this.get_isTab()){return this.pm.label}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.isChanged}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.clearFormatCommandModel}else{return null}},get_isVisible:function(){return this.$6},set_isVisible:function(e){if(this.$6!==e){this.$6=e;this.raiseUpdated()}},get_subsections:function(){var e=[];var ex=tab.FeatureFlags.isEnabled('FormatWorkbookWebAll');var iw=this.asFormatContainer().get_items();for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(ex||iy.get_widgetIdentifier()==='font'){e.push(iy)}}return e},$2:function(e){this.set_previewProperties({});for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(!iw.get_isFormatControl()){continue}var ix=iw.asFormatControl();var iy=ix.get_widgetKey();switch(iy){case'fontSize':case'lineSize':{this.get_previewProperties()[iy]=ix.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[iy]=ix.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[iy]=ix.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[iy]=ix.get_toggleValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},$3:function(){return this.pm.formatItemList.filter(ss.mkdel(this,function(e){return!ss.keyExists(this.$4,e.widgetUniqueId)}))},update:function(e,ex){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}),ex);var iw=this.$3();if(ss.isNullOrUndefined(this.$5)){this.$5=[];for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];this.$5.push(dx.createModel(this,iy,ex))}}else if(ss.isValue(iw)){for(var iz=0;iz<iw.length;iz++){var iA=iw[iz];this.$5[iz].update(iA,ex)}}if(this.get_isTabGroup()){this.updatePreviewForTab(0)}else{this.$2(this.get_items())}}},dx);ss.initClass(dv,a,{get_typeOfFormatControl:function(){return this.pm.typeOfFormatControl},get_commandRedirectType:function(){return this.pm.commandRedirectType},get_formatCommand:function(){return this.pm.formatCommandModel},get_simpleCommand:function(){return bK.deserialize(gV.create(this.get_formatCommand()).get_simpleCommand())},get_widgetKey:function(){return this.pm.formatWidgetKey},get_isEnabled:function(){return this.pm.isEnabled},get_textValue:function(){return this.pm.valueString},get_numericValue:function(){return this.pm.valueInt},get_colorValue:function(){return this.pm.color},get_canBeAuto:function(){return this.pm.canBeAuto},get_canBeNone:function(){return this.pm.canBeNone},get_canMatchMarkColor:function(){return this.pm.canMatchMarkColor},get_hasOpacity:function(){return this.pm.hasOpacity},get_colorSwatchType:function(){return this.pm.formatColorSwatchType},get_selectorValue:function(){return this.pm.valueString},get_toggleValue:function(){return this.pm.bool}},dx);ss.initClass(dw,a,{});ss.initClass(dy,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-alert-measures-from-selection',this.c))}},ss.makeGenericType(S,[Object,dz]));ss.initClass(dz,a,{});ss.initClass(dA,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-charset-options',this.c))}},ss.makeGenericType(S,[Object,dB]));ss.initClass(dB,a,{});ss.initClass(dC,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-dashboard-drag-drop',this.c))}},ss.makeGenericType(S,[Object,dD]));ss.initClass(dD,a,{});ss.initClass(dE,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-dashboard-sizing',this.c))}},ss.makeGenericType(S,[Object,dF]));ss.initClass(dF,a,{});ss.initClass(dG,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-datasource-data-pres-model',this.c))}},ss.makeGenericType(S,[Object,dH]));ss.initClass(dH,a,{});ss.initClass(dI,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-locale-options',this.c))}},ss.makeGenericType(S,[Object,dJ]));ss.initClass(dJ,a,{});ss.initClass(dK,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-thumbnail',this.c))}},ss.makeGenericType(S,[Object,dL]));ss.initClass(dL,a,{hasThumbnailImage:function(){return ss.keyExists(this.$$c,'image')}});ss.initClass(dM,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-url-substitution-keywords',this.c))}},ss.makeGenericType(S,[Object,dN]));ss.initClass(dN,a,{});ss.initClass(dO,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-web-categorical-color-dialog',this.c))}},ss.makeGenericType(S,[Object,dP]));ss.initClass(dP,a,{});ss.initClass(dQ,a,{invoke:function(){return this.invoke$1(bO.newCommand('get-web-quantitative-color-dialog',this.c))}},ss.makeGenericType(S,[Object,dR]));ss.initClass(dR,a,{});ss.initClass(dS,a,{canExtractFont:function(e){return e.type==='draw-group'&&!ss.isNullOrUndefined(e.drawItems)},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e.drawItems;return this.$0(ex)},$0:function(e){var ex={};for(var iw=0;iw<e.length;iw++){var ix=e[iw];for(var iy=0;iy<dS.$0.length;iy++){var iz=dS.$0[iy];if(iz.canExtractFont(ix)){var iA=iz.extractFontFromPresModel(ix);if(ss.isValue(iA)){for(var iB=0;iB<iA.length;iB++){var iC=iA[iB];ex[iC.get_hash()]=iC}}break}}}return _.values(ex)}},null,[eg]);ss.initClass(dT,a,{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.pm.isCombinedField||false}},df);ss.initClass(dU,a,{invoke:function(){return this.invoke$1(bO.newCommand('highlight-items-by-pattern-match',this.c))}},ss.makeGenericType(S,[Object,dV]));ss.initClass(dV,a,{hasMatchedItemSet:function(){return ss.keyExists(this.$$c,'dataHighlighterItemSet')}});ss.initClass(dW,a,{});ss.initClass(dX,a,{invoke:function(){return this.invoke$1(bO.newCommand('hit-test-scene',this.c))}},ss.makeGenericType(S,[Object,dY]));ss.initClass(dY,a,{});ss.initEnum(dZ,a,{escape:0,noEscape:1});ss.initInterface(ed,a,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(ee,a,{returnDataSourceDataModel:null});ss.initInterface(eh,a,{get_sheetScrollPositions:null});ss.initInterface(ei,a,{triggerExportPdfUI:null});ss.initClass(ek,a,{});ss.initClass(el,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(en,a,{});ss.initClass(eq,a,{invoke:function(){return this.invoke$1(bO.newCommand('is-web-zone-url-valid',this.c))}},ss.makeGenericType(S,[Object,er]));ss.initClass(er,a,{hasValidationMessage:function(){return ss.keyExists(this.$$c,'validationMessage')}});ss.initClass(es,a,{andMarkAsRawJavaScriptModule:function(){this.moduleBeingConfigured.isRawJavaScriptModule=true;return this},andMarkAsAlreadyLoadedInGlobalNamespace:function(){this.moduleBeingConfigured.loadingMethod='alreadyLoaded';return this},andShowLoadingIndicator:function(){this.moduleBeingConfigured.loadingMethod='synchronous';return this},andLoadOnDemandIf:function(e){this.moduleBeingConfigured.loadingMethod=(e?'asynchronous':'alreadyLoaded');return this},andExportResultAs:function(e){if(ss.isNullOrEmptyString(e)){throw new ss.ArgumentNullException(e)}this.moduleBeingConfigured.shouldExportResult=true;this.moduleBeingConfigured.exportResultName=e;return this}});ss.initClass(et,a,{get_dependencies:function(){return this.$0},get_stylesheetDependencies:function(){return this.$1},get_hasDependencies:function(){return this.$0.length>0},get_hasDependenciesOnStylesheets:function(){return this.$1.length>0},addDependency:function(e){tab.Param.verifyValue(e,'dependency');this.$0.push(e)},addDependencyOnCssFile:function(e){tab.Param.verifyString(e,'cssFile');this.$1.push(e)}});ss.initClass(eu,a,{add_newLayerEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayerEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.paneSpec},get_name:function(){return this.pm.name},get_isTableCalc:function(){return this.pm.isTableCalc},get_paneDescriptorKeys:function(){return this.pm.paneDescriptorKeys},get_encodings:function(){return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(ex){return ex.isSelected});return e},get_primitiveTypes:function(){return _.filter(this.pm.primitiveTypeUiItems,function(e){return e.isVisible&&e.isEnabled})},get_markSizeModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex);if(ss.isNullOrUndefined(this.$1)){this.$1=new eP(this)}this.$1.update(this.getDropdownPresModel('size-encoding'),ex)},equals$1:function(e){return this.get_id()===e.paneSpec},getDropdownPresModel:function(e){var ex=_.filter(this.pm.encodingUiItems,function(iw){return iw.isVisible&&iw.isEnabled&&iw.encodingType===e});if(ss.isNullOrUndefined(ex)||ex.length!==1){return null}return ex[0].marksCardDropdownItem}},eQ);ss.initClass(ev,a,{get_layoutId:function(){return this.layoutid},set_layoutId:function(e){this.layoutid=e},formatDashboardTempfileReference:function(e,ex,iw){return this.formatLayoutMethod(this.layoutid,'tempfile')+'/?key='+e+(ex?'&keepfile=yes':'')+(iw?'&attachment=yes':'')},saveSharedView:function(e,ex,iw){var ix=function(iC,iD,iE){iC['button']=e;if(ss.isValue(iC['guid'])){iq.guid=iC['guid']}};var iy=ss.mkdel(this,function(iC,iD,iE){iq.guid=null;if(iC.status===410||iC.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(iC.status===401){this.handleAuthenticationFailure()}else{var iF=new Object;iF['button']=e;iw(iF)}});var iz=this.$0(null,ix,iy,'none');var iA={};iA['sheet_id']=iq.get_currentTabName();iA['parent_id']=iq.parentID;iA['primary_content_url']=ex;iA['share_button']=e;var iB=this.basicPostOpts(this.$4('save_shared_view'),iA);iB.async=false;iB.timeout=2000;this.$b(iB,iz)},saveAndOpenMetricsView:function(){window.open(this.$4('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.$4('download_metrics_view')},getAutocompleteInfo:function(e,ex,iw){var ix=function(iA,iB,iC){ex(iA['new_value'])};var iy=this.basicGetOpts(this.formatLayoutMethod(this.layoutid,'getautocomplete'));var iz=ss.mkdict(['fieldname',iw,'input_string',e]);iy.data=iz;iy.success=ix;this.$b(iy)},performPostLoadOperations:function(e,ex){var iw=function(iB,iC,iD){if(ss.isValue(ex)){ex(iB)}};var ix=ss.mkdel(this,function(iB,iC,iD){this.$6(iD,iB,true,null)});var iy=this.$0(null,iw,ix,'none');var iz=ss.mkdict(['sheet_id',e]);var iA={};iA.data=iz;iA.async=true;iA.type='GET';iA.headers=ss.mkdict(['Accept','text/javascript']);iA.dataType='json';iA.url=this.formatLayoutMethod(this.layoutid,'performPostLoadOperations');this.$b(iA,iy)}},T);ss.initClass(ew,a,{get_children:function(){return this.$1},get_itemKey:function(){return this.$0.name+this.$0.zoneId},get_isFloating:function(){return this.$0.isFloating},get_zoneType:function(){return this.$0.zoneType},get_isHorizontal:function(){return this.$0.isHorizontal},get_name:function(){return this.$0.name},get_zoneID:function(){return this.$0.zoneId},appendChildren:function(e){this.$1.push(e)}});ss.initClass(ey,a,{add_layoutTreeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutTreeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){if(!_.isEqual(this.pm,e)){this.$3();this.$1(e);this.$2();this.simpleSwapToUpdate(e,this.$2$1,ex)}},saveExpandedState:function(e,ex){this.$4[e]=ex},expandTreeToCurrent:function(e){if(ss.isNullOrUndefined(this.$5[e])){return}var ex=this.$5[e].parent;while(ss.isValue(ex)){var iw=ex.get_zoneID();this.$4[iw]=true;ex=this.$5[iw].parent}},isItemExpanded:function(e){return ss.keyExists(this.$4,e)&&this.$4[e]},getItemFromIndex:function(e){return this.$5[e]},$1:function(e){var ex=e.zoneCommonListItems;this.$5=ey.$0(ex);if(ss.isValue(ex)){for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];var iy=ix.parentZoneId;var iz=this.$5[ix.zoneId];var iA=iy===0;if(iA){this.rootNodes.push(iz)}else{var iB=this.$5[iy];if(!ss.isNullOrUndefined(iB)){iB.appendChildren(iz);iz.parent=iB}}}}},$2:function(){if(ss.getKeyCount(this.$5)===0){this.$4={}}else{var e=new ss.ObjectEnumerator(this.$4);try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$5,ex.key)){delete this.$4[ex.key]}}}finally{e.dispose()}}},$3:function(){this.rootNodes=[]}},eQ);ss.initClass(ez,a,{get_filterField:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});ss.initClass(eB,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var ex=new String;ex='[';for(var iw=0;iw<e.name.length;++iw){if(ss.endsWithString(ex,']')){ex+='.';ex+='['}ex+=e.name[iw];ex+=']'}return ex},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1,ex)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1,ex)}}},eQ);ss.initClass(eA,a,{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples}},eB);ss.initClass(eC,a,{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}},eB);ss.initClass(eD,a,{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){ds.notifyFontsFromServerRenderedLegendPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(eE,a,{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table}},eB);ss.initClass(eF,a,{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().quickFilterTitle},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterCommands},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_frame:function(){return this.$2},get_zoneModel:function(){return this.parent.get_zone()},get_contentStyle:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.get_zoneModel().get_styledBoxModel()}return this.get_zoneModel().get_zoneCommonModel().get_contentStyle()},update:function(e,ex,iw){var ix=!_.isEqual(this.$2,ex);this.$2=ex;if(this.isNewPresModelSameAsOld(e)){if(ix){this.raiseEvent$1(Object).call(this,this.$2$1,e,iw)}return}if(ss.isValue(e)){ds.notifyFontsFromTextStylePresModel(e.textStyle)}if(ss.isValue(e)&&ss.isValue(e.quickFilterCommands)){this.$3=new bL(this)}this.$3.update(e.quickFilterCommands,iw);this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,iw)},$1:function(){var e=[];var ex=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var iw=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var ix=['min-max','min-only','max-only','rel-date','rel-pick'];for(var iy=0;iy<ex.length;iy++){var iz=ex[iy];for(var iA=0;iA<iw.length;iA++){var iB=iw[iA];var iC={};iC.aggregation=iz;iC.categoricalMode=iB;e.push(iC)}for(var iD=0;iD<ix.length;iD++){var iE=ix[iD];var iF={};iF.aggregation=iz;iF.quantitativeMode=iE;e.push(iF)}}return e}},eQ);ss.initClass(eG,a,{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}},eB);ss.initClass(eH,a,{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}},fG);ss.initClass(eI,a,{get_interactedTupleId:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2}});ss.initClass(eK,a,{add_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_lightweightMapOptionsPresModel:function(){return this.pm},get_shouldShowGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().showGeographicSearch},get_shouldShowFloatingZoomToolbar:function(){return this.get_lightweightMapOptionsPresModel().showFloatingZoomToolbar},get_shouldAllowPanZoom:function(){return this.get_lightweightMapOptionsPresModel().allowPanZoom},get_canToggleGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().canToggleGeographicSearch},get_shouldShowMapScale:function(){return this.get_lightweightMapOptionsPresModel().showMapScale},get_canToggleMapScale:function(){return this.get_lightweightMapOptionsPresModel().canToggleMapScale},get_canSetMapUnit:function(){return this.get_lightweightMapOptionsPresModel().canSetMapUnit},get_hasPresModel:function(){return ss.isValue(this.get_lightweightMapOptionsPresModel())},get_dialogTitle:function(){return tab.Strings.MapOptionsDialogTitle},get_notificationId:function(){return'map-options-dialog-event'},get_vizID:function(){return this.get_lightweightMapOptionsPresModel().visualIdPresModel},get_mapUnitSelection:function(){return this.get_lightweightMapOptionsPresModel().defaultMapUnitEnum},get_canToggleAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().canToggleAutomaticDrill},get_shouldShowAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().enableAutomaticDrill},onNotify:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},eQ,[ej,ef]);ss.initClass(eL,a,{add_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_mapScaleInfoPresModel:function(){return this.pm},get_shouldShowMapScale:function(){return this.get_mapScaleInfoPresModel().shouldShowMapScale},get_mapScaleMarginOfError:function(){return this.get_mapScaleInfoPresModel().mapScaleMarginOfError},get_mapScaleWidth:function(){return this.get_mapScaleInfoPresModel().mapScaleWidth},get_mapScaleReadoutString:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutString},get_mapScaleReadoutNumber:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutNumber},get_mapScaleReadoutUnit:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutUnit},get_mapScaleFontSizePixels:function(){return this.get_mapScaleInfoPresModel().mapScaleFontSizePixels},get_mapScaleColor:function(){return this.get_mapScaleInfoPresModel().mapScaleColor},get_mapScaleTooltipString:function(){return this.get_mapScaleInfoPresModel().mapScaleTooltipString},get_mapScaleBorderColor:function(){return this.get_mapScaleInfoPresModel().mapScaleBorderColor},get_hasPresModel:function(){return ss.isValue(this.get_mapScaleInfoPresModel())},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}}},eQ);ss.initClass(eM,a,{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileSourceChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileSourceChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.get_mapServerPresModel().clientRequestsMapTiles},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.get_mapServerPresModel().showAttribution},get_minZoom:function(){return this.get_mapServerPresModel().mapMinZoom},get_maxZoom:function(){return this.get_mapServerPresModel().mapMaxZoom},get_zoom:function(){var e=Math.log(this.get_mapServerPresModel().mapDisplayScale)/Math.LN2;var ex=this.get_mapServerPresModel().mapRequestZoom+e;if(this.get_useFastMaps()){ex-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_tilePixelSize())}return ex},get_centerLatitude:function(){return this.get_mapServerPresModel().mapCenterLatitude},get_centerLongitude:function(){return this.get_mapServerPresModel().mapCenterLongitude},get_tilePixelSize:function(){return this.get_mapServerPresModel().mapTileSize},get_numWorldRepeats:function(){return this.get_mapServerPresModel().mapWorldRepeats},get_tileUrl:function(){var e=this.get_mapServerPresModel();var ex;if(ss.startsWithString(e.mapTileServer.toString(),'http://')||ss.startsWithString(e.mapTileServer.toString(),'https://')){ex=''}else{var iw=tab.WindowHelper.getLocation(window.self).protocol;ex=iw+'//'}ex+=e.mapTileServer;if(!ss.endsWithString(ex,String.fromCharCode(47))&&!ss.startsWithString(e.mapTileUrl.toString(),String.fromCharCode(47))){ex+='/'}ex+=e.mapTileUrl;ex=ss.replaceAllString(ex,'{K}',e.mapServerKey);ex=ss.replaceAllString(ex,'{L}',e.mapLayerRequest);var ix=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(tab.BrowserSupport.get_devicePixelRatio(),2);ex=ss.replaceAllString(ex,'{D}',(ix?'@2x':''));ex=ss.replaceAllString(ex,'{X}','{x}');ex=ss.replaceAllString(ex,'{Y}','{y}');ex=ss.replaceAllString(ex,'{Z}','{z}');ex=ss.replaceAllString(ex,'{P}','{p}');return ex},get_hasValidTileLayer:function(){return this.get_mapServerPresModel().mapHasValidLayer},get_attributionUrl:function(){return this.get_mapServerPresModel().mapAttributionUrl},get_attributionText:function(){return this.get_mapServerPresModel().mapAttributionText},get_attributionTextColor:function(){return this.get_mapServerPresModel().mapAttributionTextColor},get_attributionTextSize:function(){return this.get_mapServerPresModel().mapAttributionTextSize},get_attributionBGColor:function(){return this.$1(this.get_mapServerPresModel().mapAttributionFill)},get_mapBGFillColor:function(){return this.$1(this.get_mapServerPresModel().mapPaneBackgroundFill)},get_hasWashout:function(){return this.get_mapServerPresModel().mapWashout>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.get_mapServerPresModel().mapWashout));return new bw(255,255,255,e)},get_intermediateTileLevels:function(){return this.get_mapServerPresModel().mapIntermediateLevels},get_mapServerPresModel:function(){return this.pm},get_mapScaleInfoModel:function(){return this.$2},get_radialSelectionDistanceInfoModel:function(){return this.$3},update:function(e,ex){var iw=ss.isValue(this.get_mapServerPresModel())&&ss.isValue(e);if(iw){var ix=!ss.referenceEquals(this.get_mapServerPresModel().mapTileServer,e.mapTileServer);var iy=!ss.referenceEquals(this.get_mapServerPresModel().mapLayerRequest,e.mapLayerRequest);if(ix||iy){this.raiseEvent(this.$2$2,ex)}}this.simpleSwapToUpdate(e,this.$2$1,ex);if(this.get_hasPresModel()){this.$3.update(this.get_mapServerPresModel().radialSelectionDistanceInfo);this.$2.update(this.get_mapServerPresModel().mapScaleInfo,ex)}},$1:function(e){return bw.fromColorCode(e||'rgb(255,255,255)').toString()}},eQ);ss.initClass(gZ,a,{get_defaultValue:function(){return ss.coalesce(this.defaultSpace,0)},set_defaultValue:function(e){this.defaultSpace=e},get_leftValue:function(){var e=this.left;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_leftValue:function(e){this.left=e},get_topValue:function(){var e=this.top;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_topValue:function(e){this.top=e},get_rightValue:function(){var e=this.right;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_rightValue:function(e){this.right=e},get_bottomValue:function(){var e=this.bottom;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_bottomValue:function(e){this.bottom=e},get_allSidesTheSame:function(){var e=this.$0;if(ss.isNullOrUndefined(e)){e=ss.isNullOrUndefined(this.bottom)&&ss.isNullOrUndefined(this.top)&&ss.isNullOrUndefined(this.left)&&ss.isNullOrUndefined(this.right)}return e},set_allSidesTheSame:function(e){this.$0=e;if(e){this.top=null;this.bottom=null;this.left=null;this.right=null}},mergeWithExisitingStyle:null});ss.initClass(eN,a,{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.margin=ss.unbox(this.defaultSpace)}else{delete ex.margin}if(ss.isValue(this.top)){ex.marginTop=ss.unbox(this.top)}else{delete ex.marginTop}if(ss.isValue(this.bottom)){ex.marginBottom=ss.unbox(this.bottom)}else{delete ex.marginBottom}if(ss.isValue(this.left)){ex.marginLeft=ss.unbox(this.left)}else{delete ex.marginLeft}if(ss.isValue(this.right)){ex.marginRight=ss.unbox(this.right)}else{delete ex.marginRight}return ex}},gZ);eN.$ctor1.prototype=eN.prototype;ss.initClass(eO,a,{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_layers:function(){return this.$3},get_activePaneSpecId:function(){return this.$2},set_activePaneSpecId:function(e){this.$2=e},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var iw=[];if(ss.isValue(e)&&ss.isValue(e.layer)){this.$1(e.layer,iw,ex)}if(ss.isValue(e)&&ss.isValue(e.layers)){for(var ix=0;ix<e.layers.length;ix++){var iy=e.layers[ix];this.$1(iy,iw,ex)}}this.$3=iw;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)},$1:function(e,ex,iw){var ix=_.find(this.$3,function(iy){return iy.equals$1(e)});if(ss.isNullOrUndefined(ix)){ix=new eu(this,e.paneSpec)}ix.update(e,iw);ex.push(ix)}},eQ);ss.initClass(eP,a,{add_sliderFractionUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sliderFractionUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.minMarkSize},get_maxMarkSize:function(){return this.pm.maxMarkSize},get_currentMarkSize:function(){return this.pm.markSize},get_currentSliderFraction:function(){return tab.DoubleUtil.roundTwoDecimalPlaces(this.$3.valueToFraction(this.get_currentMarkSize()))},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},get_currentFraction:function(){return this.get_currentSliderFraction()},setCurrentFraction:function(e){},markSizeUpdated:function(){if(ss.isValue(this.$2$1)){this.$2$1(this.get_currentSliderFraction())}},update:function(e,ex){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,ss.mkdel(this,this.markSizeUpdated),ex)},$1:function(e){switch(e.inflectionPoints.length){case 0:{this.$3=new eH(e.minMarkSize,e.maxMarkSize);break}case 1:{var ex=e.inflectionPoints[0];this.$3=new H(e.minMarkSize,e.maxMarkSize,ex.inflectionFraction,ex.inflectionValue,ex.inflectionFraction,ex.inflectionValue);break}case 2:default:{var iw=e.inflectionPoints[0];var ix=e.inflectionPoints[1];this.$3=new H(e.minMarkSize,e.maxMarkSize,iw.inflectionFraction,iw.inflectionValue,ix.inflectionFraction,ix.inflectionValue);break}}}},eQ,[ed]);ss.initClass(eT,a,{});ss.initClass(eU,a,{});ss.initClass(eV,a,{loadRequested:function(){this.$3++},moduleLoaded:function(){this.$3=Math.max(this.$3-1,0);if(this.$0()){this.$1()}},registerModulesLoadedCallback:function(e){if(this.$0()){e();return}this.$2.push(e)},$0:function(){return this.$3===0},$1:function(){for(var e=0;e<this.$2.length;e++){var ex=this.$2[e];_.defer(ex)}this.$2.length=0}});ss.initClass(eW,a,{get_instanceType:function(){return'multiple'}},dh);ss.initClass(eX,a,{processEvent:function(e){}},null,[em]);ss.initClass(eY,a,{get_notificationId:function(){return this.$1$1},set_notificationId:function(e){this.$1$1=e},onNotify:function(e,ex){var iw=$.Deferred();var ix=iw.promise();ix.done(ss.mkdel(this,function(){if(ss.isValue(this.$2)){eQ.nonWorldUpdate(ss.mkdel(this,function(iy){this.$2.onNotify(e,iy)}))}}));if(ss.isValue(this.$2)){iw.resolve()}else{this.$1().done(ss.mkdel(this,function(iy){if(ss.isValue(iy)){this.$2=iy;this.$2.add_stopNotifying(ss.mkdel(this,this.$0))}iw.resolve()}))}},$0:function(){this.$2=null}},null,[ej]);ss.initClass(eZ,a,{$3:function(e,ex){this.$1().done([ss.mkdel(this,function(){var ix=this.$6.createEvent();ix.ofType(e);var iy=new ss.ObjectEnumerator(ex);try{while(iy.moveNext()){var iz=iy.current();ix.withProperty(iz.key,iz.value)}}finally{iy.dispose()}ix.withProperty('SiteId',this.$d);ix.withProperty('SiteLuid',this.$e);ix.withProperty('SiteUrlName',this.$f);ix.withProperty('UserId',this.$g);ix.withProperty('Language',tsConfig.language);ix.withProperty('Locale',tsConfig.locale);ix.withProperty('SessionId',tsConfig.sessionIdHash);ix.withProperty('ProjectId',tsConfig.current_project_id);ix.withProperty('WorkbookId',tsConfig.current_workbook_id);ix.withProperty('Public',tsConfig.isPublic);ix.withProperty('SaaS',tsConfig.is_saas);this.$a.reportEvent(ix.build())})]);var iw=eZ.$1$1;if(!ss.staticEquals(iw,null)){iw(e,ex)}},$2:function(){return this.$4||(this.$4=eU.load$1('analytics-client',[]))},$0:function(){return this.$c||(this.$c=ih.get_getSessionInfo().done(ss.mkdel(this,function(e){this.$b=e})).fail(ss.mkdel(this,function(e){})))},$1:function(){return this.$7||(this.$7=$.when(this.$0(),this.$2()).done([ss.mkdel(this,function(){var e=ss.isValue(this.$b);if(e){var ex=this.$b.server;var iw=this.$b.site;var ix=this.$b.user;e=ss.isValue(ex)&&ss.isValue(iw)&&ss.isValue(ix);if(e){this.$5=ex.analyticsEndpoint;this.$9=ex.logicalServerInstanceId;this.$d=iw.id;this.$e=iw.luid;this.$f=iw.urlName;this.$g=ix.id}}if(!e){}this.$a=new AnalyticsClient.Reporter(this.$5);this.$6=new AnalyticsClient.AnalyticsEventFactory('VizClient',this.$9,window.location.hostname)})]))}});ss.initClass(fa,a,{});ss.initClass(fb,a,{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_architecture:function(){return this.$1$2},set_architecture:function(e){this.$1$2=e},get_family:function(){return this.$1$3},set_family:function(e){this.$1$3=e},get_version:function(){return this.$1$4},set_version:function(e){this.$1$4=e}});ss.initClass(fc,a,{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.padding=ss.unbox(this.defaultSpace)}else{delete ex.padding}if(ss.isValue(this.top)){ex.paddingTop=ss.unbox(this.top)}else{delete ex.paddingTop}if(ss.isValue(this.bottom)){ex.paddingBottom=ss.unbox(this.bottom)}else{delete ex.paddingBottom}if(ss.isValue(this.left)){ex.paddingLeft=ss.unbox(this.left)}else{delete ex.paddingLeft}if(ss.isValue(this.right)){ex.paddingRight=ss.unbox(this.right)}else{delete ex.paddingRight}return ex}},gZ);fc.$ctor1.prototype=fc.prototype;ss.initClass(fd,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.title)},get_frame:function(){return this.$1},get_zoneModel:function(){return this.$2},update:function(e,ex,iw,ix){this.$1=ex;if(this.isNewPresModelSameAsOld(e)){return}ds.notifyFontsFromPagePresModel(e);if(iw){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ix)}else{this.swapAndCopyPresModel(e)}}},eQ);ss.initClass(ff,a,{});ss.initClass(fg,a,{});ss.initClass(fh,a,{get_rowIndex:function(){return this.$0['rowIndex']},get_columnIndex:function(){return this.$0['columnIndex']},get_pageIndex:function(){return(ss.keyExists(this.$0,'pageIndex')?this.$0['pageIndex']:0)},get_presModel:function(){return this.$0},update:function(e){if(ss.isValue(e)){this.$0=e}else{this.$0={};this.$0['columnIndex']=0;this.$0['rowIndex']=0}}});fh.$ctor1.prototype=fh.prototype;ss.initClass(fi,a,{});ss.initClass(fj,a,{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().legacyPresModel},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,ex,iw){if(ss.isValue(e)){ds.notifyFontsFromTextStylePresModel(e.textStyle)}this.$1=ex;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,iw)},updateFrame:function(e,ex){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel(),ex)}}},eQ);ss.initClass(fk,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_displayMode:function(){return this.$2().paramDisplayMode},get_fieldName:function(){return this.$2().parameterName},get_titleHtml:function(){return(this.$3().zoneCommon.hasTitle?this.$3().zoneTitle.html:'')},get_titleCaption:function(){return(this.$3().zoneCommon.hasTitle?this.$3().zoneTitle.caption:'')},get_titleHeight:function(){return(this.$3().zoneCommon.hasTitle?this.$3().titleHeight:0)},get_zoneBackgroundColor:function(){return this.$3().zoneCommon.styledBox.fillColor},get_itemsHeight:function(){return this.$2().lineHeight},get_itemsFontName:function(){return this.$2().textStyle.fontName.toString()},get_itemsFontSize:function(){return this.$2().textStyle.fontSize+'pt'},get_itemsTextColor:function(){return this.$2().textStyle.color},get_itemsFontWeight:function(){return this.$2().textStyle.fontWeight},get_itemsFontStyle:function(){return this.$2().textStyle.fontStyle},get_itemsTextDecoration:function(){return this.$2().textStyle.textDecoration},get_items:function(){var e=[];for(var ex=0;ex<this.$2().formattedValues.length;ex++){e.push(new fl(this.$2().formattedValues[ex],this.$1().domain[ex]))}return e},get_selectedItem:function(){return this.$2().formattedValue},$2:function(){return this.pm},$1:function(){return this.$2().legacyPresModel},$3:function(){return this.parent.get_zone().pm},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent$1(Object).call(this,this.$2$1,e,ex)}}},eQ);ss.initClass(fl,a,{});ss.initClass(fm,a,{});ss.initClass(fn,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},hw);ss.initClass(fo,a,{});ss.initClass(fp,a,{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingType)){return'invalid-encoding'}return this.pm.encodingType},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingUiItems)){return[]}return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.filterIconType)){return'no-filter'}return this.pm.filterIconType},get_hasDrill:function(){return this.pm.hasDrill||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm.shouldDrill||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.tooltip)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.iconTooltip)},get_displayName:function(){return this.pm.displayText},get_contextMenuCommands:function(){return this.pm.commands},get_isMultipleFields:function(){return this.pm.encodingType!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,eW)},get_isSortPill:function(){return this.pm.isSortPill},get_sortMeasure:function(){return this.pm.sortMeasureName},get_sortDirection:function(){return this.pm.sortOrder},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.$1=ex;this.swapAndCopyPresModel(e)}},eQ);ss.initClass(fq,a,{invoke:function(){return this.invoke$1(bO.newCommand$1('ping-session',this.c))}},ss.makeGenericType(S,[Object,fr]));ss.initClass(fr,a,{});ss.initClass(fs,a,{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_layout:function(){return this.$1$2},set_layout:function(e){this.$1$2=e},get_manufacturer:function(){return this.$1$3},set_manufacturer:function(e){this.$1$3=e},get_name:function(){return this.$1$4},set_name:function(e){this.$1$4=e},get_prerelease:function(){return this.$1$5},set_prerelease:function(e){this.$1$5=e},get_product:function(){return this.$1$6},set_product:function(e){this.$1$6=e},get_userAgent:function(){return this.$1$7},set_userAgent:function(e){this.$1$7=e},get_version:function(){return this.$1$8},set_version:function(e){this.$1$8=e},get_OS:function(){return this.$1$9},set_OS:function(e){this.$1$9=e}});ss.initClass(ft,a,{add_stopNotifying:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_stopNotifying:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_notificationId:function(){return this.$1$2},set_notificationId:function(e){this.$1$2=e},onNotify:function(e,ex){if(ss.isValue(this.$2)){return}this.$2=ss.createInstance(this.$3);this.$4=document.createElement('div');this.$1.appendChild(this.$4);this.$2.showDialog(e,this.$4,ss.mkdel(this,this.$0))},$0:function(){this.$2=null;if(ss.isValue(this.$4)){this.$1.removeChild(this.$4);this.$4=null}},dispose:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}this.$0()}},null,[ej,ef,ss.IDisposable]);ss.initClass(fu,a,{invokeCommand:function(e,ex,iw){var ix=$.Deferred();var iy=function(iB){ix.resolve(iB)};var iz=function(iB){ix.reject()};var iA={commandName:ex,commandNamespace:e,commandParams:iw,preserveRootResult:true};by.SendCommand(new bs('immediatelySubtle',null,iA,iy,iz));return ix.promise()},dispose:function(){this.$0.dispose()},registerNotificationHandler:function(e,ex){var iw=R.get_instance();var ix=iw.registerNotificationHandler(e,function(iz,iA){ex(iz)});var iy=function(){iw.unRegisterNotificationHandler(e,ix)};this.$0.add(iy);return iy}},null,[ss.IDisposable]);ss.initClass(fv,a,{});ss.initClass(fw,a,{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});ss.initClass(fx,a,{});ss.initEnum(fy,a,{simple:0,array:1});ss.initClass(fz,a,{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){return true}if(ss.isNullOrUndefined(this.$j)){return false}for(var e=0;e<fz.$7.length;e++){var ex=fz.$7[e];if(ss.isNullOrUndefined(this.$j[ex])){continue}return true}return false},extractZoneContent:function(e){if(!fz.$4(e)){return e}var ex=this.$4(e);if(ss.isNullOrUndefined(ex)){return e}this.$h(ex);ex.zones=this.$5(ex.zones);return e},updateZonesWithVizData:function(e,ex){if(ss.isNullOrUndefined(this.$p)||ss.getKeyCount(this.$p)===0){return}hQ.addVizDataToZones(e.presModelMap,this.$p);var iw=_.keys(this.$p);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];var iz=this.$q[iy]||this.$3(this.$p[iy]);if(ss.isValue(iz)&&ss.isValue(iz.get_visualModel())){var iA=iz.get_visualModel();iA.update(iA.pm,ex)}}},processModelUpdate:function(e,ex,iw){if(!fz.$4(e)||!this.get_hasZonesToLoad()){return e}var ix=this.$4(e);if(ss.isNullOrUndefined(ix)){return e}this.$h(ix);var iy=eQ.removeUndefinedBoolsOnSwapCopy;if(iw){eQ.removeUndefinedBoolsOnSwapCopy=false}try{var iz=ix.zones;var iA=_.keys(iz);for(var iB=0;iB<iA.length;iB++){var iC=iA[iB];var iD=iz[iC];if(ss.isNullOrUndefined(iD)){continue}var iE=this.$9(iD);if(!ss.contains(fz.zonesThatDeferContentCreation,iE)){continue}var iF=false;var iG=iD.zoneId;var iH=[fz.$8[iE],6];for(var iI=0;iI<iH.length;iI++){var iJ=iH[iI];var iK=this.$j[iJ];if(ss.isValue(iK)){var iL=iK.length;for(var iM=0;iM<iL;iM++){var iN=iK[iM];if(ss.isValue(iN)&&iN.zoneId===iG){iF=true;iK[iM]=this.$1(iN,iD,ex);break}}}if(iF){break}}if(!iF&&iE==='viz'){var iO=_.keys(this.$k);for(var iP=0;iP<iO.length;iP++){var iQ=iO[iP];var iR=this.$k[iQ];if(iG===iR.zoneId){iF=true;this.$k[iQ]=this.$1(iR,iD,ex);break}}}if(iF){iD=fz.removeZoneContent(iD)}}}finally{eQ.removeUndefinedBoolsOnSwapCopy=iy}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$d();return}this.$e();this.$c();this.$f()},abort:function(){this.stopTimers();this.$d()},setViewport:function(e){var ex=e.get_dimensions();if(ex.w===1&&ex.h===1){return}this.$o={x:ex.l,y:ex.t,w:ex.w,h:ex.h};this.$c()},getPendingVisuals:function(){var e={};var ex=_.keys(this.$p);for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];var iy=this.$p[ix].worksheet;var iz=this.getPendingVisual(iy);if(ss.isValue(iz)){e[iy]=iz}}return e},getPendingVisual:function(e){var ex=null;var iw=_.keys(this.$p);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];if(ss.referenceEquals(this.$p[iy].worksheet,e)){ex=this.$p[iy];break}}if(ss.isNullOrUndefined(ex)){return null}var iz=this.$q[ex.zoneId]||this.$3(ex);return iz.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$l)){return null}return this.$l[e]},stopTimers:function(){if(ss.isValue(this.$m)){if(ss.isValue(tab.FeatureParamsLookup.getInt(39))){window.clearTimeout(ss.unbox(this.$m))}else{tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$m))}this.$m=null}},$d:function(){this.$j=null;this.$k=null;this.$p=null;this.$q=null;this.$l=null;this.$n=null;this.$m=null;this.$o=null;ss.clearKeys(this.$r)},$8:function(){var e={};for(var ex=0;ex<fz.$7.length;ex++){var iw=fz.$7[ex];if(iw===6&&ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){this.$j[6]=this.$j[6]||[];var ix=_.keys(this.$k);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];this.$j[6].push(this.$k[iz])}this.$k=null}var iA=this.$j[iw];if(ss.isNullOrUndefined(iA)){continue}var iB=iA.length;var iC=fz.$6[iw];var iD=0;if(iC.item1===-1){iD=iB}else{var iE=iC.item2*iB;if(iC.item1<iE){var iF=0;for(var iG=0;iG<iA.length;iG++){var iH=iA[iG];if(ss.isValue(iH)){++iF}}iD=Math.floor(iE);if(iF%iD>0){iD=iD+1}}else{iD=iC.item1}}var iI=0;var iJ=0;while(iI<iD&&iJ<iB){var iK=iA[iJ];iA[iJ]=null;iJ++;if(ss.isNullOrUndefined(iK)){continue}if(fz.$3(this.$9(iK))){var iL=iK.worksheet;if(ss.isValue(this.$k)&&ss.keyExists(this.$k,iL)){var iM=this.$k[iL];delete this.$k[iL];delete this.$p[iM.zoneId];e[iM.zoneId.toString()]=iM}}delete this.$p[iK.zoneId];var iN=this.$q[iK.zoneId];if(ss.isValue(iN)){delete this.$q[iK.zoneId];this.$l=this.$l||{};this.$l[iK.zoneId]=iN.get_model()}e[iK.zoneId.toString()]=iK;++iI}if(iJ===iB){this.$j[iw]=null}break}return e},$a:function(e){if(ss.isNullOrUndefined(this.$o)){var ex=new tab.WindowHelper(window.self);var iw=ex.get_innerWidth();var ix=ex.get_innerHeight();var iy=ex.get_pageXOffset();var iz=ex.get_pageYOffset();this.$o={x:iy,y:iz,w:iw,h:ix}}var iA={x:e.zoneCommon.x,y:e.zoneCommon.y,w:e.zoneCommon.w,h:e.zoneCommon.h};return tab.RectXYUtil.intersectsWith(iA,this.$o)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var ex=tab.MiscUtil.cloneObject(this.$n);fz.getZoneRoot(ex).zones=e;return ex},$e:function(){var e=tab.FeatureParamsLookup.getInt(39);if(ss.isValue(e)){this.$m=window.setTimeout(ss.mkdel(this,this.$b),ss.unbox(e))}else{this.$m=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){var e=this.$0();var ex=this.get_hasZonesToLoad();if(ex){this.$e()}this.$7(e,!ex);if(!ex){this.$6();this.$d()}},$7:function(e,ex){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ex)}},$6:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=fz.getZoneRoot(e);if(ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(this.$n)){return null}this.$2(e);return ex},$5:function(e){if(ss.isNullOrUndefined(e)){return null}fz.$2();this.$p={};this.$j={};this.$q={};var ex=_.keys(e);for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];var iy=e[ix];if(!ss.contains(fz.zonesThatDeferContentCreation,this.$9(iy))){continue}var iz=fz.cloneZone(iy);iy=fz.removeZoneContent(iy);var iA=this.$9(iz);if(iA==='viz'){this.$p[ix]=iz}var iB=5;if(ss.keyExists(fz.$8,iA)){iB=fz.$8[iA]}this.$j[iB]=this.$j[iB]||[];this.$j[iB].push(iz)}return e},$c:function(){if(ss.isNullOrUndefined(this.$j)||this.$i){return}this.$k=this.$k||{};for(var e=0;e<fz.$7.length;e++){var ex=fz.$7[e];if(ex===6){continue}var iw=this.$j[ex];if(ss.isNullOrUndefined(iw)||iw.length===0){continue}var ix=0;var iy=new Array(iw.length);for(var iz=0;iz<iw.length;iz++){var iA=iw[iz];if(this.$a(iA)){iy[ix]=iA;ix++}else if(this.$9(iA)==='viz'){this.$k[iA.worksheet]=iA}else{this.$j[6]=this.$j[6]||[];this.$j[6].push(iA)}}if(ix>0){iy.length=ix;this.$j[ex]=iy}else{this.$j[ex]=null}}this.$i=true},$g:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var ex=e.length;var iw={};var ix=new Array(ex);for(var iy=0;iy<ex;iy++){var iz=e[iy];var iA=iz.zoneCommon.y*5000+iz.zoneCommon.x;while(ss.isValue(iw[iA])){iA+=1}iw[iA]=iz;ix[iy]=iA}ix=ix.sort(function(iE,iF){return((iE>iF)?1:-1)});for(var iB=0;iB<ex;iB++){var iC=ix[iB];var iD=iw[iC];e[iB]=iD}return e},$f:function(){if(ss.isNullOrUndefined(this.$j)){return}for(var e=0;e<fz.$7.length;e++){var ex=fz.$7[e];if(ex===6){continue}var iw=this.$j[ex];this.$j[ex]=this.$g(iw)}},$3:function(e){var ex=eT.findContentDashboard();var iw=new iu(ex.zonesModel,ex,e.zoneId);iw.update(e,eX.get_noopContext());this.$q[e.zoneId]=iw;return iw},$1:function(e,ex,iw){var ix=this.$q[e.zoneId]||this.$3(e);var iy=fz.cloneZone(ex);ix.update(iy,iw);return iy},$h:function(e){$.extend(this.$r,fz.$0(e))},$9:function(e){if(ss.isValue(e.zoneCommon)){return e.zoneCommon.zoneType}return ss.coalesce(this.$r[e.zoneId],'invalid')},$2:function(e){if(ss.isNullOrUndefined(e)){return}var ex=this.$n;var iw=e;var ix=null;this.$n=fz.$1(iw,ex);ix=this.$n;iw=iw.workbookPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.workbookPresModel);ix.workbookPresModel=fz.$1(iw,ex);if(ss.isNullOrUndefined(iw)){return}ix=ix.workbookPresModel;iw=iw.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);ix.dashboardPresModel=fz.$1(iw,ex);if(ss.isNullOrUndefined(iw)){return}if(e.workbookPresModel.dashboardPresModel.isStory){ix=ix.dashboardPresModel;iw=iw.zones;ex=(ss.isNullOrUndefined(ex)?null:ex.zones);var iy=null;var iz='';if(ss.isValue(iw)){var iA=iw;var iB=_.keys(iA);for(var iC=0;iC<iB.length;iC++){var iD=iB[iC];if(this.$9(iA[iD])!=='flipboard'){continue}iy=iA[iD];iz=iD;break}}if(ss.isNullOrUndefined(iy)){ix.zones=ex;return}ix.zones={};ix.zones[iz]=fv.cloneObjWithScalarsOnly(iy);ix=ix.zones[iz];iw=iw[iz].presModelHolder;ex=(ss.isNullOrUndefined(ex)?null:ex[iz].presModelHolder);ix.presModelHolder=fz.$1(iw,ex);if(ss.isNullOrUndefined(iw)){return}ix=ix.presModelHolder;iw=iw['flipboard'];ex=(ss.isNullOrUndefined(ex)?null:ex['flipboard']);ix['flipboard']=fz.$1(iw,ex);if(ss.isNullOrUndefined(iw)){return}var iE=iw.activeStoryPointId;ix=ix['flipboard'];iw=iw.storyPoints;ex=(ss.isNullOrUndefined(ex)?null:ex.storyPoints);ix.storyPoints=fz.$1(iw,ex);if(ss.isNullOrUndefined(iw)){return}ix=ix.storyPoints;iw=iw[iE.toString()];ex=(ss.isNullOrUndefined(ex)?null:ex[iE.toString()]);ix[iE.toString()]=fz.$1(iw,ex);if(ss.isNullOrUndefined(iw)){return}ix=ix[iE.toString()];iw=iw.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);ix.dashboardPresModel=fz.$1(iw,ex)}}});ss.initClass(fA,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}ds.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},eQ);ss.initClass(fB,a,{get_filterField:function(){return this.$2},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var ex=true;if(ss.isValue(this.$1)){ex=ex&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){ex=ex&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return ex}});ss.initClass(fC,a,{});ss.initClass(fD,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterModel:function(){return this.$2$2},set_quickFilterModel:function(e){this.$2$2=e},get_quickFilterType:function(){return this.$2$3},set_quickFilterType:function(e){this.$2$3=e},get_quickFilterCommands:function(){return this.$2().quickFilterCommands},get_zoneHasTitle:function(){return this.parent.get_zone().get_hasTitle()},get_titleCaption:function(){return this.$2().quickFilterTitle.caption},get_titleHtml:function(){return this.$2().quickFilterTitle.html},get_titleHeight:function(){return this.$2().quickFilterTitle.h},get_itemsHeight:function(){return this.$2().lineHeight},get_itemsFontName:function(){return this.$2().textStyle.fontName.toString()},get_itemsFontSize:function(){return this.$2().textStyle.fontSize+'pt'},get_itemsTextColor:function(){return this.$2().textStyle.color},get_itemsFontWeight:function(){return this.$2().textStyle.fontWeight},get_itemsFontStyle:function(){return this.$2().textStyle.fontStyle},get_itemsTextDecoration:function(){return this.$2().textStyle.textDecoration},get_zoneBackgroundColor:function(){var e=this.parent;return e.get_zone().pm.zoneCommon.styledBox.fillColor},get_visualId:function(){var e=this.parent;return eT.getVisualId(e.get_zone().pm.sheet)},get_fieldName:function(){return this.$2().quickFilter.fn},$2:function(){return this.pm},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){if(ss.isValue(e)){ds.notifyFontsFromTextStylePresModel(e.textStyle)}this.swapAndCopyPresModel(e);if(e.quickFilter.quickFilterType!==this.get_quickFilterType()){this.set_quickFilterModel(this.$1(e.quickFilter));this.set_quickFilterType(e.quickFilter.quickFilterType)}if(ss.isValue(this.get_quickFilterModel())){this.get_quickFilterModel().update(e.quickFilter,ex)}this.raiseEvent(this.$2$1,ex)}},$1:function(e){switch(e.quickFilterType){case'categorical':{return new bp(this)}default:{return null}}}},eQ);ss.initClass(fF,a,{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().earthRadius},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fontSize},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().largeUnitDisplay},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().mapLatLongRect},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().h},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().w},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().readoutOffset},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().shouldShowDistance},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().sigFigs},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().unitDivisor},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().smallUnitDisplay},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().unitTransition},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().decimalMark},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().distanceFontColor},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},eQ);ss.initClass(fH,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().rankTypeValues},get_rankTypeCaptions:function(){return this.$1().rankTypeCaptions},get_rankTypeIndex:function(){return this.$1().rankTypeIndex},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().rankTypeState},get_sortDirectionValues:function(){return this.$1().sortDirectionValues},get_sortDirectionCaptions:function(){return this.$1().sortDirectionCaptions},get_sortDirectionIndex:function(){return this.$1().sortDirectionIndex},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},hw);ss.initClass(fI,a,{get_columns:function(){return this.$1},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dh);ss.initClass(fJ,a,{},bs);ss.initClass(fK,a,{get_commandToExecute:function(){return this.$0},get_successCallback:function(){return this.$2},get_errorCallback:function(){return this.$1}});ss.initClass(fL,a,{invoke:function(){return this.invoke$1(bO.newCommand('replace-file-connection-from-file-upload',this.c))}},ss.makeGenericType(S,[Object,fM]));ss.initClass(fM,a,{});ss.initClass(fN,a,{get_workbookId:function(){return this.$2},get_sheetId:function(){return this.$1},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())}});ss.initClass(fO,a,{},ss.makeGenericType(hY,[Object,fP]));ss.initClass(fP,a,{});ss.initClass(fQ,a,{invoke:function(){return this.invoke$1(bO.newCommand('reset-field-caption',this.c))}},ss.makeGenericType(S,[Object,fR]));ss.initClass(fR,a,{});ss.initClass(fS,a,{invoke:function(){return this.invoke$1(bO.newCommand('resize-axis-region',this.c))}},ss.makeGenericType(S,[Object,fT]));ss.initClass(fT,a,{});ss.initClass(fU,a,{get_count:function(){return this.pm.count},get_fieldName:function(){return this.pm.fn},get_height:function(){return this.pm.h},get_width:function(){return this.pm.w},update:function(e){this.swapAndCopyPresModel(e)}},eQ);ss.initClass(fV,a,{invoke:function(){return this.invoke$1(bO.newCommand('resize-header-region',this.c))}},ss.makeGenericType(S,[Object,fW]));ss.initClass(fW,a,{});ss.initClass(fX,a,{invoke:function(){return this.invoke$1(bO.newCommand('resize-header-web',this.c))}},ss.makeGenericType(S,[Object,fY]));ss.initClass(fY,a,{});ss.initClass(fZ,a,{get_totalCols:function(){return(ss.isValue(this.pm)?this.pm.colCount:0)},get_totalRows:function(){return(ss.isValue(this.pm)?this.pm.rowCount:0)},get_sheetHeight:function(){return this.pm.h},get_sheetWidth:function(){return this.pm.w},get_areRowHeadersWidthAdjustable:function(){return ss.isValue(this.rowHeaders)&&this.rowHeaders.length!==0&&this.rowHeaders[this.rowHeaders.length-1].get_width()!==0},get_areColHeadersHeightAdjustable:function(){return ss.isValue(this.columnHeaders)&&this.columnHeaders.length!==0&&this.columnHeaders[this.columnHeaders.length-1].get_height()!==0},get_totalColumnHeadersHeight:function(){var e=0;for(var ex=0;ex<this.columnHeaders.length;ex++){var iw=this.columnHeaders[ex];e+=iw.get_height()}return e},update:function(e,ex){if(ss.isNullOrUndefined(this.cellSize)){this.cellSize=new fU(this)}if(ss.isValue(e.resizeEntity)){this.cellSize.update(e.resizeEntity)}if(ss.isValue(e.rowResizers)){this.rowHeaders=[];for(var iw=0;iw<e.rowResizers.length;iw++){var ix=e.rowResizers[iw];var iy=new fU(this);iy.update(ix);this.rowHeaders.push(iy)}}if(ss.isValue(e.colResizers)){this.columnHeaders=[];for(var iz=0;iz<e.colResizers.length;iz++){var iA=e.colResizers[iz];var iB=new fU(this);iB.update(iA);this.columnHeaders.push(iB)}}this.simpleSwapToUpdate(e,this.resizeInfoUpdated,ex)}},eQ);ss.initClass(ga,a,{});ss.initClass(gb,a,{});ss.initClass(gc,a,{});ss.initClass(gd,a,{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().uindex},get_paneIndex:function(){return this.get_sceneElementPM().paneIndex},get_tupleId:function(){return this.get_sceneElementPM().tupleId},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().visualPart},get_detail:function(){return this.get_sceneElementPM().sceneModelDetailEnum},get_hitType:function(){return this.get_sceneElementPM().sceneModelHitType},get_detailId:function(){return this.get_sceneElementPM().detailId},get_cellId:function(){return this.get_sceneElementPM().cellId},get_worldOffset:function(){return this.get_sceneElementPM().worldOffset},get_markState:function(){return this.get_sceneElementPM().markState},get_hitDistance:function(){return this.get_sceneElementPM().distance},get_overlayHit:function(){return this.get_sceneElementPM().useForOverlayHitTest}},eQ);ss.initClass(ge,a,{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListModels:function(){return this.$8},get_refLineVisualLists:function(){return this.$6},get_trendLineVisualLists:function(){return this.$7},get_drawFirstParts:function(){return this.$4},get_drawLastParts:function(){return this.$5},get_backgroundColor:function(){return this.$3},get_paneDescriptorCount:function(){return ss.getKeyCount(this.pm.pdMarksMap)},update:function(e,ex){if(ss.isValue(e.markShapeList)){R.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}this.$2(e);if(ss.isValue(e.drawFirst)){ss.clear(this.$4);for(var iw=0;iw<e.drawFirst.length;iw++){var ix=e.drawFirst[iw];ds.notifyFontsFromVisualListPresModel(ix);var iy=ix.visualPart;if(!ss.keyExists(this.$8,iy)){this.$8[iy]=new hK(this)}if(ss.contains(this.$4,iy)){continue}this.$4.push(iy);this.$8[iy].update(ix,ex)}}if(ss.isValue(e.drawLast)){ss.clear(this.$5);for(var iz=0;iz<e.drawLast.length;iz++){var iA=e.drawLast[iz];ds.notifyFontsFromVisualListPresModel(iA);var iB=iA.visualPart;if(!ss.keyExists(this.$8,iB)){this.$8[iB]=new hK(this)}this.$5.push(iB);this.$8[iB].update(iA,ex)}}if(ss.isValue(e.panes)){for(var iC=0;iC<e.panes.length;iC++){var iD=e.panes[iC];for(var iE=0;iE<iD.drawPane.length;iE++){var iF=iD.drawPane[iE];ds.notifyFontsFromVisualListPresModel(iF)}}}if(ss.isValue(e.pdMarksMap)){var iG=_.values(e.pdMarksMap);for(var iH=0;iH<iG.length;iH++){var iI=iG[iH];if(ss.isValue(iI)){ds.notifyFontsFromPDMarksPresModel(iI)}}}var iJ=ss.isNullOrUndefined(e.userPaneInfo);e.currentPage=e.currentPage||0;this.swapAndCopyPresModel(e);if(iJ){this.pm.userPaneInfo=null}this.$3=ge.$0(this.$8,e);this.$1();this.raiseEvent(this.$2$1,ex)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$1:function(){ss.clear(this.$6);ss.clear(this.$7);if(ss.isValue(this.pm.panes)){for(var e=0;e<this.pm.panes.length;e++){var ex=this.pm.panes[e];if(ss.isValue(ex.drawPane)){for(var iw=0;iw<ex.drawPane.length;iw++){var ix=ex.drawPane[iw];if(ss.isValue(ix)){if(ix.visualPart==='ref-lines'){this.$6.push(ix)}else if(ix.visualPart==='trend-lines'){this.$7.push(ix)}}}}}}},$2:function(e){var ex=new ss.ObjectEnumerator(this.get_visualListModels());try{while(ex.moveNext()){var iw=ex.current();var ix={$:iw.key};var iy=_.find(e.drawFirst,ss.mkdel({currentPart:ix},function(iz){return this.currentPart.$===iz.visualPart}));if(ss.isNullOrUndefined(iy)){iy=_.find(e.drawLast,ss.mkdel({currentPart:ix},function(iz){return this.currentPart.$===iz.visualPart}))}if(ss.isNullOrUndefined(iy)){delete this.get_visualListModels()[ix.$]}}}finally{ex.dispose()}}},eQ);ss.initClass(gf,a,{});ss.initClass(gg,a,{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var ex=0-e.getTimezoneOffset();var iw=0;var ix=this.$9.scheduleDetails.startTime;var iy=0;var iz='';if(tsConfig.display_schedules_in_client_timezone){iw=ex-this.$9.serverTimezoneOffset;ix=gg.$2(this.$9.scheduleDetails.startTime,iw);iy=gg.$0(this.$9.scheduleDetails.startTime,iw)}switch(this.$9.scheduleType){case'Hourly':{iz=this.$2(ix,iw);break}case'Daily':{iz=this.$0(ix);break}case'Weekly':{iz=this.$4(ix,iy);break}case'Monthly':{iz=this.$3(ix,iy);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){iz=tab.Strings.SerialScheduleDescription(iz,tab.Strings.SerialScheduleDescriptionSuffix)}return iz},$7:function(e,ex,iw){var ix=ss.Int32.div(e,60);if(ex===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(ix===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.Int32.div(e,60),gg.$1(iw))}}else if(ex===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(ix===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ix,gg.$1(iw))}}else if(ex===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(ix===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ix,gg.$1(iw))}}else if(ex===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(ix===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ix,gg.$1(iw))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+ex)}},$2:function(e,ex){var iw=(this.$9.scheduleDetails.endTime+ex)%1440;if(e===iw){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,e%60,e)}var ix;if(this.$9.scheduleDetails.recurrenceMinutes<60){ix=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){ix=tab.Strings.Hours(ss.Int32.div(this.$9.scheduleDetails.recurrenceMinutes,60))}else{ix=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(ix,gg.$1(e),gg.$1(iw))},$0:function(e){return tab.Strings.ScheduleDailyDescription(gg.$1(e))},$4:function(e,ex){var iw=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(ex!==0){iw=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,ex)}var ix=this.$1(iw);return tab.Strings.ScheduleWeeklyDescription(gg.$1(e),ix)},$6:function(e,ex){var iw=[];for(var ix=0;ix<e.length;ix++){var iy=ss.indexOf(gg.$7,e[ix]);var iz=(iy+ex+gg.$7.length)%gg.$7.length;iw.push(gg.$7[iz])}return iw},$1:function(e){switch(e.length){case 1:{return gg.$6[e[0]]}case 2:{return tab.Strings.ListLengthTwo(gg.$6[e[0]],gg.$6[e[1]])}case 3:{return tab.Strings.ListLengthThree(gg.$6[e[0]],gg.$6[e[1]],gg.$6[e[2]])}case 4:{return tab.Strings.ListLengthFour(gg.$6[e[0]],gg.$6[e[1]],gg.$6[e[2]],gg.$6[e[3]])}case 5:{return tab.Strings.ListLengthFive(gg.$6[e[0]],gg.$6[e[1]],gg.$6[e[2]],gg.$6[e[3]],gg.$6[e[4]])}case 6:{return tab.Strings.ListLengthSix(gg.$6[e[0]],gg.$6[e[1]],gg.$6[e[2]],gg.$6[e[3]],gg.$6[e[4]],gg.$6[e[5]])}case 7:{return tab.Strings.ListLengthSeven(gg.$6[e[0]],gg.$6[e[1]],gg.$6[e[2]],gg.$6[e[3]],gg.$6[e[4]],gg.$6[e[5]],gg.$6[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,ex){var iw=this.$9.scheduleDetails.recurrenceDayOfMonth;if(ex!==0){iw=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,ex)}if(iw==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(gg.$1(e))}else if(iw==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(gg.$1(e))}var ix=iw.charCodeAt(iw.length-1);var iy='';if(ix===49){iy=tab.Strings.FirstEnding(iw)}else if(ix===50&&iw!=='12'){iy=tab.Strings.SecondEnding(iw)}else if(ix===51&&iw!=='13'){iy=tab.Strings.ThirdEnding(iw)}else{iy=tab.Strings.NumberEnding(iw)}return tab.Strings.ScheduleMonthlyDescription(iy,gg.$1(e))},$5:function(e,ex){var iw=new Date;var ix=(new Date(iw.getFullYear(),iw.getMonth()+1,0)).getDate();if(e==='Last'){if(ex>0){return'1'}else if(ex<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&ex<0){return'Last'}var iy=parseInt(e);var iz=(iy+ex+ix)%ix;return iz.toString()}});ss.initClass(gh,a,{});ss.initClass(gi,a,{});ss.initClass(gj,a,{invoke:function(){return this.invoke$1(bO.newCommand('select-by-tuple-value',this.c))}},ss.makeGenericType(S,[Object,gk]));ss.initClass(gk,a,{});ss.initClass(gl,a,{});ss.initClass(gm,a,{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$5)){var e={};e.selectionType='tuples';e.objectIds=this.$5;return e}return this.$4()},get_selectionType:function(){return this.$4().selectionType},get_nodes:function(){return this.$4().selectedNodes},get_ids:function(){if(ss.isValue(this.$5)){return this.$5}return this.$4().objectIds},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().legendSelectionInfo.legendType+':'+this.get_selectionPresModel().legendSelectionInfo.legendColumns.join(';')}return e},$4:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$4())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$6)){this.$6={};if(ss.isValue(this.get_ids())){var ex=this.get_ids();for(var iw=0;iw<ex.length;iw++){var ix=ex[iw];this.$6[ix]=true}}}return ss.keyExists(this.$6,e.objectId)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected:function(e){if(this.isEmpty||ss.isNullOrUndefined(e.node)){return false}return ss.isValue(this.$1(e.node))},findNodeSelection:function(e){return this.$1(e.node)},isNodeAncestorSelected:function(e){if(ss.isNullOrUndefined(e.node)||ss.isNullOrUndefined(e.node.columnIndices)){return false}var ex=e.node;var iw=ex.columnIndices;var ix=ex.aliasIndices;for(var iy=0;iy<ex.columnIndices.length;iy++){var iz=ss.arrayExtract(iw,iy);var iA=ss.arrayExtract(ix,iy);if(ss.isValue(this.$2(iz,iA,ex.axisOrientation,null,ex.duplicateIndex,ex.pageIndex))){return true}}return false},setOverriddenTupleIds:function(e,ex){if(this.$4().selectionType!=='tuples'){return}if(_.isEqual(this.$5,e)||tab.MiscUtil.isNullOrEmpty$2(this.$5)&&tab.MiscUtil.isNullOrEmpty$2(e)){return}this.$5=e;this.$3();this.raiseEvent(this.$2$1,ex)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$5)){return}this.$7=null;this.$6=null;this.$5=null;this.swapAndCopyPresModel(e);this.$3();this.raiseEvent(this.$2$1,ex)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var ex=e;if(ex.selectionType!==this.get_selectionPresModel().selectionType){return false}if(ss.isValue(ex.objectIds)&&!_.isEqual(ex.objectIds,this.get_selectionPresModel().objectIds)){return false}if(ss.isValue(ex.selectedNodes)&&!_.isEqual(ex.selectedNodes,this.get_selectionPresModel().selectedNodes)){return false}if(ss.isValue(ex.legendSelectionInfo)&&!_.isEqual(ex.legendSelectionInfo,this.get_selectionPresModel().legendSelectionInfo)){return false}return true},$1:function(e){return this.$2(e.columnIndices,e.aliasIndices,e.axisOrientation,e.fn,e.duplicateIndex,e.pageIndex)},$2:function(e,ex,iw,ix,iy,iz){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(ix)&&ss.isNullOrUndefined(iw)){return null}if(ss.isNullOrUndefined(this.$7)){this.$7={};var iA=this.$4();if(ss.isValue(iA.selectedNodes)){for(var iB=0;iB<iA.selectedNodes.length;iB++){var iC=iA.selectedNodes[iB];this.$7[gm.$0(iC.columnIndices,iC.aliasIndices,iC.axisOrientation,iC.fn,iC.duplicateIndex,iC.pageIndex)]=iC}}}if(ss.getKeyCount(this.$7)===0){return null}return this.$7[gm.$0(e,ex,iw,ix,iy,iz)]},createSelectionToken:function(){return this.get_selectionPresModel()},$3:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty$2(this.get_ids())&&tab.MiscUtil.isNullOrEmpty$2(this.$4().selectedNodes)}},eQ);ss.initClass(gn,a,{get_invalidateViz:function(){return this.$1$1},set_invalidateViz:function(e){this.$1$1=e},get_reason:function(){return this.$1$2},set_reason:function(e){this.$1$2=e},get_objectIds:function(){return this.$1$3},set_objectIds:function(e){this.$1$3=e}});ss.initEnum(go,a,{none:0,noPreviousToCompare:1,differentTuples:2,differentTrendOrRefLines:3});ss.initClass(gp,a,{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty&&ex.get_selectionType()!=='legend-items'&&ex.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(gr.isCategoricalAndTupleAssociatedHeader(iw)){return true}}return false},getLegendSelection:function(e,ex){var iw=_.find(this.selectionModels,function(ix){return ix.get_selectionType()==='legend-items'&&ss.isValue(ix.get_selectionPresModel())&&ix.get_selectionPresModel().legendSelectionInfo.legendType===e&&_.isEqual(ix.get_selectionPresModel().legendSelectionInfo.legendColumns,ex)});if(ss.isNullOrUndefined(iw)){iw=this.$1('legend-items',eX.get_noopContext());iw.get_selectionPresModel().legendSelectionInfo.legendType=e;iw.get_selectionPresModel().legendSelectionInfo.legendColumns=ex}return iw},update:function(e,ex){var iw=_.compact(e);var ix=[];var iy=[];for(var iz=0;iz<iw.length;iz++){var iA=iw[iz];var iB;if(iA.selectionType==='legend-items'){iB=this.getLegendSelection(iA.legendSelectionInfo.legendType,iA.legendSelectionInfo.legendColumns)}else{iB=this.$2(iA.selectionType)}if(ss.isNullOrUndefined(iB)){iB=new gm(this,this.selectionModels.length);this.selectionModels.push(iB)}var iC=parseInt(iB.presModelKey.name);ix[iC]=iA;iB.update(iA,ex);iy.push(iB.get_hashKey())}for(var iD=0;iD<this.selectionModels.length;iD++){var iE=this.selectionModels[iD];if(ss.contains(iy,iE.get_hashKey())){continue}var iF=gp.$1(iE.get_selectionType());if(iF.selectionType==='legend-items'){iF.legendSelectionInfo=iE.get_selectionPresModel().legendSelectionInfo}iE.update(iF,ex);var iG=parseInt(iE.presModelKey.name);ix[iG]=iE.get_selectionPresModel()}for(var iH=0;iH<ix.length;++iH){e[iH]=ix[iH]}var iI=new gq;iI.selections=e;if(this.isNewPresModelSameAsOld(iI)){return}this.swapAndCopyPresModel(iI);this.raiseEvent(this.$2$1,ex)},$2:function(e){return _.find(this.selectionModels,function(ex){return ex.get_selectionType()===e})},$1:function(e,ex){var iw=new gm(this,this.selectionModels.length);this.selectionModels.push(iw);var ix=gp.$1(e);iw.update(ix,ex);return iw},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,ex,iw){if(ss.isNullOrUndefined(e)){return new gn(true,1,null)}var ix=gn.noDifference();for(var iy=0;iy<e.selections.length;iy++){var iz=e.selections[iy];switch(iz.selectionType){case'ref-lines':case'trend-lines':{var iA=iz.objectIds||[];var iB=gp.$0(iA,this.$2(iz.selectionType).get_ids());if(iB.length>0){return new gn(true,3,null)}break}case'tuples':{var iC=iz.objectIds;var iD=this.tupleSelection.get_ids();var iE=(ss.isValue(ex)?ex.objectIds:[]);var iF=(ss.isValue(iw)?iw.get_ids():[]);var iG=iC.length+iE.length!==0!==(iD.length+iF.length!==0);if(iG){return new gn(true,2,null)}var iH=gp.$0(iC,iD);var iI=gp.$0(iE,iF);var iJ=[];ss.arrayAddRange(iJ,iH);ss.arrayAddRange(iJ,iI);ix=new gn(false,2,Array.prototype.slice.call(iJ));break}default:{break}}}return ix},hasTupleSelection:function(){if(ss.isNullOrUndefined(this.pm)){return false}var e=this.pm.selections;return _.any(e,function(ex){return ex.selectionType==='tuples'&&ex.objectIds.length>0})}},eQ);ss.initClass(gq,a,{});ss.initClass(gr,a,{});ss.initClass(gs,a,{});ss.initClass(gt,a,{});ss.initClass(gu,a,{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,ex){try{if(ss.isValue(this.$2)){this.$2(e,ex)}}finally{this.$0()}},onSuccess:function(e,ex,iw){try{var ix=ss.isInstanceOfType(e,Error);if(ix){this.$5.$6(e,iw,false,null)}else if(iw.status===202){var iy=iw['args'];var iz=new gv(this.$5,iy);iz.requestStatus();ix=true}if(!ix){if(ss.isValue(this.$4)){this.$4(e,ex,iw)}}}finally{this.$0()}},onError:function(e,ex,iw){try{if(ss.isValue(this.$3)){this.$3(e,ex,iw)}else{this.$5.$6(iw,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;this.$5.decrementWait()}}});ss.initClass(gv,a,{requestStatus:function(){var e=ss.mkdel(this,function(iy,iz,iA){this.$1(iz,iA)});var ex=ss.mkdel(this,function(iy,iz,iA){this.$0(iy,iz)});var iw=new gu(this.$8,null,e,ex,false,false);var ix={};ix.type='GET';ix.url=this.$9;ix.cache=false;iq.helper(ix,iw)},$1:function(e,ex){if(ex.status===204){this.$6=true}this.$2(e,ex)},$0:function(e,ex){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,ex)}},$2:function(e,ex){++this.$7;if(this.$7%10===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var iw=this.$5['skipResendOriginal'];if(ss.isValue(iw)&&iw){if(ss.isValue(this.$5.complete)){this.$5.complete(ex,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}iq.helper(this.$5)}});ss.initClass(gw,a,{});ss.initClass(gx,a,{});ss.initClass(gy,a,{});ss.initClass(gz,a,{invoke:function(){return this.invoke$1(bO.newCommand('set-dashboard-current-layout',this.c))}},ss.makeGenericType(S,[Object,gA]));ss.initClass(gA,a,{});ss.initClass(gB,a,{invoke:function(){return this.invoke$1(bO.newCommand('set-dashboard-sizing-with-validation',this.c))}},ss.makeGenericType(S,[Object,gC]));ss.initClass(gC,a,{});ss.initClass(gD,a,{invoke:function(){return this.invoke$1(bO.newCommand('set-data-source-data-row-count',this.c))}},ss.makeGenericType(S,[Object,gE]));ss.initClass(gE,a,{});ss.initClass(gF,a,{invoke:function(){return this.invoke$1(bO.newCommand('set-variables-prompt-responded',this.c))}},ss.makeGenericType(S,[Object,gG]));ss.initClass(gG,a,{});ss.initClass(gH,a,{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$2)},getImageElement:function(e){return this.$2[e].imageElement},getCachedCanvas:function(e){return this.$1[e]},generateCachedCanvas:function(e,ex){var iw=null;if(ss.isValue(ex)){iw=ex();if(ss.isValue(iw)){this.$1[e]=iw}}return iw},getCachedStampCanvas:function(e){return this.$3[e]},generateCachedStampCanvas:function(e,ex){var iw=null;if(ss.getKeyCount(this.$3)<gH.get_canvasCacheCapacity()){if(ss.isValue(ex)){iw=ex();if(ss.isValue(iw)){this.$3[e]=iw}}}return iw},updateCustomImageMap:function(e){for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(ss.isValue(iw)){var ix={$:iw.shapeId};var iy=ix.$.toString();var iz=null;var iA=0;var iB={$:false};if(ss.keyExists(this.$2,iy)){iB.$=true;iz=this.$2[iy].imageElement;iA=this.$2[iy].imageSize}var iC=iw.image;var iD=iC.length;if(!iB.$||ss.isValue(iz)&&iD>iA){var iE={$:document.createElement('img')};iE.$.src='data:image/png;base64,'+iC;this.$2[iy]={imageElement:iE.$,imageSize:iD};var iF={$:null};iF.$=ss.thisFix(ss.mkdel({doesMapContainImage:iB,shapeId:ix,imgElt:iE,imageFinishedLoad:iF,$this:this},function(){if(this.doesMapContainImage.$){ss.clearKeys(this.$this.$1)}this.$this.$0(this.shapeId.$);this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)}));iE.$.addEventListener('load',iF.$,false)}}}},hasShape:function(e){return ss.keyExists(this.$2,e.toString())&&this.$2[e.toString()].imageElement.complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$3)}});ss.initClass(gI,a,{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}});ss.initClass(gJ,a,{});ss.initClass(gK,a,{get_isDashboard:function(){return this.pm.isDashboard},get_isIncluded:function(){return this.pm.isIncluded},get_name:function(){return this.pm.name},update:function(e){this.swapAndCopyPresModel(e)}},eQ);ss.initClass(gL,a,{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e,ex){if(ss.isValue(e.sheetListItems)){this.$2=[];for(var iw=0;iw<e.sheetListItems.length;iw++){var ix=new gK(this.$1,iw);ix.update(e.sheetListItems[iw]);this.$2.push(ix)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(gM,a,{get_visualId:function(){return eT.getVisualId(this.sheetId)},requestHSMChildren:function(e,ex,iw,ix){if(!tsConfig.allow_filter){return}var iy=function(iE,iF,iG){iw(iE)};var iz=this.$0(null,iy,null,'none');var iA=new Object;iA['name']='file';iA['filename']='file';iA['contentType']='text/javascript';iA['content']=JSON.stringify(ex);var iB=ss.mkdict(['_method','PUT']);var iC=iq.getMultipartData(iA,iB);var iD={};iD.type='POST';iD.url=this.formatFilterReference(this.sheetId,e,'show_children');iD.dataType='json';iD.contentType='multipart/form-data; boundary='+iC.header;iD.data=iC.body;this.$b(iD,iz)},getFilterItems:function(e,ex,iw,ix,iy){if(!tsConfig.allow_filter){return}var iz=function(iD,iE,iF){ix(iD)};var iA=this.$0(null,iz,null,'none');var iB={};iB['fromIndex']=iw.get_from();iB['toIndex']=iw.get_to();iB['domain']=ex;var iC=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,'getfilteritems'));iC.data=iB;this.$b(iC,iA)},searchFilter:function(e,ex,iw,ix,iy,iz,iA){if(!tsConfig.allow_filter){return null}var iB=function(iH,iI,iJ){var iK=iH;iz(iK)};var iC=function(iH,iI,iJ){iA(iJ)};var iD=this.$0(null,iB,iC,'none');var iE=(ix?'searchwithindex':'search');var iF=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,iE));var iG=ss.mkdict(['query',ex,'maxRows',iw,'domain',iy]);iF.data=iG;return this.$b(iF,iD)}},T);ss.initClass(gN,a,{},eQ);ss.initClass(gO,a,{},eQ);ss.initClass(gP,a,{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().paneSpec)?this.$1().paneSpec:0)},get_shelfType:function(){return this.$1().shelfType},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().tooltip)},get_isVisible:function(){return this.$1().showShelf},get_sortPillCanBeDragged:function(){return this.$1().sortPillCanBeDragged},$1:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex,iw){if(this.isNewPresModelSameAsOld(e)){return}if(e.shelfItems===null){this.$2=[]}else if(ss.isValue(e.shelfItems)){var ix=[];var iy=new gN(this);for(var iz=0;iz<e.shelfItems.length;iz++){var iA=e.shelfItems[iz];var iB=iA.fn;var iC;if(ss.isNullOrEmptyString(iB)&&e.shelfType==='encoding-shelf'){iC=new eW}else{iC=ex.findField(iB)}if(ss.isNullOrUndefined(iC)){iA.isInvalid=true}if(iA.isInvalid){var iD=new df(new di('',ex.findDataSourceFromGlobalFieldName(iB)));var iE={type:'column',fn:iB,description:iB,fieldIconIdx:0};iD.update(iE);iC=iD}var iF=new fp(iy,iz);iF.update(iA,iC);ix.push(iF)}this.$2=ix}this.swapAndCopyPresModel(e);this.raiseEvent$1(gP).call(this,this.$2$1,this,iw)}},eQ);ss.initClass(gQ,a,{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,ex,iw,ix){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,ex,iw,ix);this.raiseEvent(this.$2$1,ix)},$1:function(e,ex,iw,ix){if(ss.isValue(e)){var iy=ss.arrayClone(this.$3);for(var iz=0;iz<e.shelfList.length;iz++){var iA={$:e.shelfList[iz]};if(ss.isNullOrUndefined(iA.$.paneSpec)&&ss.isValue(iw)){iA.$.paneSpec=ss.unbox(iw)}var iB=_.find(this.$3,ss.mkdel({shelf:iA},function(iE){return iE.get_shelfType()===this.shelf.$.shelfType&&iE.get_paneId()===(this.shelf.$.paneSpec||0)}));if(ss.isValue(iB)){ss.remove(iy,iB);iB.update(iA.$,ex,ix)}else{this.$3.push(gQ.createShelfModel(this,iA.$,ex,iz,ix))}}for(var iC=0;iC<iy.length;iC++){var iD=iy[iC];ss.remove(this.$3,iD)}}},$2:function(e,ex){return _.find(e,function(iw){return iw.get_shelfType()===ex})}},eQ);ss.initClass(gR,a,{invoke:function(){return this.invoke$1(bO.newCommand('show-dashboard-title',this.c))}},ss.makeGenericType(S,[Object,gS]));ss.initClass(gS,a,{});ss.initClass(gT,a,{invoke:function(){return this.invoke$1(bO.newCommand('show-edit-axis-dialog',this.c))}},ss.makeGenericType(S,[Object,gU]));ss.initClass(gU,a,{});ss.initClass(gV,a,{get_simpleCommand:function(){return this.$0['simpleCommand'.toString()]},set_simpleCommand:function(e){this.$0['simpleCommand'.toString()]=e}});ss.initClass(gW,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.name},get_width:function(){return this.pm.w},get_height:function(){return this.pm.h},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(gX,a,{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ex)}},eQ);ss.initClass(gY,a,{});ss.initClass(ha,a,{invoke:function(){return this.invoke$1(bO.newCommand('start-new-data-alert',this.c))}},ss.makeGenericType(S,[Object,hb]));ss.initClass(hb,a,{});ss.initClass(hc,a,{});ss.initClass(hd,a,{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$4},get_isBackingSheetDashboard:function(){return this.$3().isBackingSheetDashboard},$3:function(){return this.pm},get_storyPointId:function(){return this.$3().storyPointId},get_currentSheet:function(){return this.$3().currentSheet},update:function(e,ex){if(ss.isValue(this.$3())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.storyPointId||this.$1(e))){R.get_instance().get_shapeManager().clearShapeStampCache();this.presModelKey=new fx(e.storyPointId.toString(),0);if(ss.isValue(this.$4)){this.raiseEvent(this.$2$1,ex);this.$4=null}this.$4=new ch(this);this.$2(e.dashboardPresModel,ex);this.raiseEvent(this.$2$2,ex)}else{this.$2(e.dashboardPresModel,ex)}this.swapPresModel(e)},$2:function(e,ex){if(ss.isValue(e)){this.get_dashboardModel().update(e,ex)}},$1:function(e){return ss.isNullOrEmptyString(e.currentSheet.toString())&&!ss.isNullOrEmptyString(this.get_currentSheet())}},eQ);ss.initClass(he,a,{get_currentStoryPoint:function(){return this.$1},update:function(e,ex){if(!ss.isValue(this.$1)){this.$1=new hd(this,e.storyPointId)}this.$1.update(e,ex)}},eQ);ss.initClass(hf,a,{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var ex=this.$3.get(e.toString());return ex.$0()},addStoryPoint:function(e,ex){this.$3.add(e.toString(),new A(ex))},$0:function(e){var ex=e.get_worldUpdateCommand();var iw=e.get_applicationPresModel();var ix=e.get_sheetChanged();if(this.$2(iw,ix)){this.$1()}if(!hf.$3(iw)){return}if(!_.contains(hf.$5.value(),ex.commandName)){return}var iy=hf.$1(iw);if(ss.isNullOrUndefined(iy)){return}var iz=iy.storyPointId.toString();this.$3.add(iz,new A(iy))},$2:function(e,ex){if(hf.$2(e)){return false}if(!e.workbookPresModel.dashboardPresModel.isStory||ex){return true}return false},$1:function(){this.$3.clear();hf.$4=null},dispose:function(){this.$1();io.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},null,[ss.IDisposable]);ss.initClass(hg,a,{add_styleUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_styledBoxPresModel:function(){return ss.coalesce(this.pm,new Object)},get_hasFill:function(){return ss.coalesce(this.get_styledBoxPresModel().hasFill,false)},get_fillColor:function(){return ss.coalesce(this.get_styledBoxPresModel().fillColor,'rgba(0, 0, 0, 0)')},get_margin:function(){return this.$1.get_defaultValue()},get_marginTop:function(){return this.$1.get_topValue()},get_marginLeft:function(){return this.$1.get_leftValue()},get_marginBottom:function(){return this.$1.get_bottomValue()},get_marginRight:function(){return this.$1.get_rightValue()},get_marginDefinition:function(){return new eN.$ctor1(this.get_styledBoxPresModel())},get_padding:function(){return this.$2.get_defaultValue()},get_paddingTop:function(){return this.$2.get_topValue()},get_paddingLeft:function(){return this.$2.get_leftValue()},get_paddingBottom:function(){return this.$2.get_bottomValue()},get_paddingRight:function(){return this.$2.get_rightValue()},get_paddingDefinition:function(){return new fc.$ctor1(this.get_styledBoxPresModel())},get_borderStyle:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyle,'bs-none')},get_borderStyleTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleTop,this.get_borderStyle())},get_borderStyleLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleLeft,this.get_borderStyle())},get_borderStyleBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleBottom,this.get_borderStyle())},get_borderStyleRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleRight,this.get_borderStyle())},get_borderColor:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColor,'rgba(0, 0, 0, 0)')},get_borderColorTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorTop,this.get_borderColor())},get_borderColorLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorLeft,this.get_borderColor())},get_borderColorBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorBottom,this.get_borderColor())},get_borderColorRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorRight,this.get_borderColor())},get_borderWidth:function(){return ss.coalesce(this.get_styledBoxPresModel().uw,0)},get_borderWidthTop:function(){return ss.coalesce(this.get_styledBoxPresModel().uwt,this.get_borderWidth())},get_borderWidthLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().uwl,this.get_borderWidth())},get_borderWidthBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().uwb,this.get_borderWidth())},get_borderWidthRight:function(){return ss.coalesce(this.get_styledBoxPresModel().uwr,this.get_borderWidth())},get_border:function(){return new U(this.get_borderWidth(),this.get_borderStyle(),this.get_borderColor(),0)},get_borderTop:function(){return new U(this.get_borderWidthTop(),this.get_borderStyleTop(),this.get_borderColorTop(),1)},get_borderLeft:function(){return new U(this.get_borderWidthLeft(),this.get_borderStyleLeft(),this.get_borderColorLeft(),2)},get_borderBottom:function(){return new U(this.get_borderWidthBottom(),this.get_borderStyleBottom(),this.get_borderColorBottom(),4)},get_borderRight:function(){return new U(this.get_borderWidthRight(),this.get_borderStyleRight(),this.get_borderColorRight(),3)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.pm=e;this.$2=new fc.$ctor1(this.get_styledBoxPresModel());this.$1=new eN.$ctor1(this.get_styledBoxPresModel());this.raiseEvent(this.$2$1,ex)}},eQ);ss.initClass(hh,a,{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.calcNestingLevel;this.$0=e.fn}});ss.initClass(hi,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().tableCalcTypeState},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().tableCalcTypeIndex},get_tableCalcTypeCaptions:function(){return this.$2().tableCalcTypeCaptions},get_tableCalcTypeValues:function(){return this.$2().tableCalcTypeValues},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e,ex){var iw=e;if(this.isNewPresModelSameAsOld(iw)){return}this.swapAndCopyPresModel(iw);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(iw.tableCalcIdentifier);this.$3.update(iw.tableCalcOrderingPresModel,ex);this.$1(ex)}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null,ex)}this.raiseEvent(this.$2$1,ex)},$1:function(e){var ex=null;var iw=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{ex=cM;iw='differenceTableCalcPresModel'.toString();break}case'pct-total':{ex=fn;iw='percentTotalTableCalcPresModel'.toString();break}case'rank':case'pct-rank':{ex=fH;iw='rankTableCalcPresModel'.toString();break}case'cumulative':{ex=cd;iw='cumulativeTableCalcPresModel'.toString();break}case'window':{ex=ic;iw='windowTableCalcPresModel'.toString();break}case'custom':{ex=cf;iw='customTableCalcPresModel'.toString();break}default:{break}}if(ss.isNullOrUndefined(ex)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),ex)){this.$4=new ex(this)}this.$4.update(hi.$0(this.$2(),iw),e)}},eQ);ss.initClass(hj,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().orderingTypeValues},get_orderingTypeIndex:function(){return this.get_ordering().orderingTypeIndex},get_orderingTypeCaptions:function(){return this.get_ordering().orderingTypeCaptions},get_addressingIndexes:function(){return this.get_ordering().addressingIndices},get_addressingInvalidIndexes:function(){return this.get_ordering().addressingInvalidIndices},get_addressingCaptions:function(){return this.get_ordering().addressingCaptions},get_addressingValues:function(){return this.get_ordering().addressingValues},get_addressingState:function(){return this.get_ordering().addressingState},get_atTheLevelState:function(){return this.get_ordering().atTheLevelState},get_atTheLevelCaptions:function(){return this.get_ordering().atTheLevelCaptions},get_atTheLevelValues:function(){return this.get_ordering().atTheLevelValues},get_atTheLevelIndex:function(){return this.get_ordering().atTheLevelIndex},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().atTheLevelFieldIsInvalid},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().atTheLevelInvalidFieldCaption},get_atTheLevelSpecialCaption:function(){return this.get_ordering().atTheLevelSpecialCaption},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().restartEveryState},get_restartEveryCaptions:function(){return this.get_ordering().restartEveryCaptions},get_restartEveryIndex:function(){return this.get_ordering().restartEveryIndex},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().restartEveryFieldIsInvalid},get_restartEveryValues:function(){return this.get_ordering().restartEveryValues},get_restartEverySpecialCaption:function(){return this.get_ordering().restartEverySpecialCaption},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().sortState},get_sortAggState:function(){return this.get_ordering().sortAggState},get_sortModeIsAuto:function(){return this.get_ordering().sortModeIsAuto},get_sortModeCaption:function(){return this.get_ordering().sortModeCaption},get_sortField:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortFieldValues[this.get_ordering().sortFieldIndex]},get_isSortFieldInvalid:function(){return this.get_ordering().sortFieldIsInvalid},get_sortFieldCaptions:function(){return this.get_ordering().sortFieldCaptions},get_sortFieldIndex:function(){return this.get_ordering().sortFieldIndex},get_sortFieldValues:function(){return this.get_ordering().sortFieldValues},get_sortAgg:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortAggValues[this.get_ordering().sortAggIndvValues]},get_sortAggCaptions:function(){return this.get_ordering().sortAggCaptions},get_sortAggIndex:function(){return this.get_ordering().sortAggIndvValues},get_sortAggValues:function(){return this.get_ordering().sortAggValues},get_sortDirectionValues:function(){return this.get_ordering().sortDirectionValues},get_sortDirectionIndex:function(){return this.get_ordering().sortDirectionIndex},get_sortDirectionCaptions:function(){return this.get_ordering().sortDirectionCaptions},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new hh(null):this.parent.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(hk,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm.relativeValues},get_relativeCaptions:function(){return this.pm.relativeCaptions},get_fixedValues:function(){return this.pm.fixedValues},get_fixedCaptions:function(){return this.pm.fixedCaptions},get_paramValues:function(){return this.pm.paramValues},get_paramCaptions:function(){return this.pm.paramCaptions},get_referenceOptionsSets:function(){return this.pm.referenceOptionsSets},get_selectionIndex:function(){return this.pm.referenceIndex},get_referenceWidgetState:function(){return this.pm.referenceOptionsState},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new hh(null):e.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(hl,a,{});ss.initClass(hm,a,{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.halign},get_html:function(){return this.pm.html},get_orientation:function(){return this.pm.orientation},get_styledBox:function(){return this.pm.styledBox},get_vAlign:function(){return this.pm.valign},update:function(e,ex){ds.notifyFontsFromTextRegionPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(hn,a,{invoke:function(){return this.invoke$1(bO.newCommand('toggle-ind-join-semantics',this.c))}},ss.makeGenericType(S,[Object,ho]));ss.initClass(ho,a,{});ss.initClass(hp,a,{},ss.makeGenericType(hY,[Object,hq]));ss.initClass(hq,a,{});ss.initClass(hr,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var ex=bM.create(this.pm.vizCommands);e=ex.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=bM.create(this.pm.nonVizCommands);return e.get_commandItems()},get_legacyMenuItems:function(){return this.pm.legacyMenus},update:function(e,ex){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1,ex)}},isLegacyMenuItemEnabled:function(e){if(ss.isNullOrUndefined(this.get_legacyMenuItems())){return false}var ex=_.find(this.get_legacyMenuItems(),function(iw){return iw.legacyMenuName===e});return ss.isValue(ex)&&_.every(ex.legacyMenuStates,function(iw){return iw!=='grayed'})}},eQ);ss.initClass(hs,a,{});ss.initClass(ht,a,{dispatch:function(e,ex){return function(iw){if(!ss.staticEquals(this.$3,null)){return $.Deferred().reject()}this.$0(e,ex).call(this,iw);var ix=$.Deferred();var iy=cE.get_instance();iy.dispatch(e,ex).call(iy,iw).done(function(iz){ix.resolve(iz)}).fail(function(){ix.reject()}).always(ss.mkdel(this,function(){this.$1(e,ex).call(this,iw)}));return ix}},deferUntilCommandsComplete:function(e){this.$3=e;if(this.$2.length===0){this.$3()}},$0:function(e,ex){return function(iw){this.$2.push(iw)}},$1:function(e,ex){return function(iw){ss.remove(this.$2,iw);if(this.$2.length===0&&!ss.staticEquals(this.$3,null)){this.$3()}}}},null,[eb]);ss.initClass(hu,a,{$0:function(){return this.$1},get_transactedChange:function(){return hu.$0(this.$2)},makeMutablePresModel:function(e,ex){var iw=e.getPresModelPath();for(var ix=0;ix<this.$2.length;ix++){var iy=this.$2[ix];if(_.isEqual(iy.$1(),iw)){return iy.$0()}}var iz=e.getMutableCopyOfPresModel();this.$2.push(new r(iw,iz));if(!ex){this.$1.push(new r(iw,e.pm))}return iz}});ss.initClass(hv,a,{beginTransaction:function(e){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new hu(e);return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$0,ex.$1().get_pathAsString())){this.$0[ex.$1().get_pathAsString()]=ex}}}finally{e.dispose()}var iw=this.$1.get_transactedChange();this.$1=null;return iw},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(ss.getKeyCount(this.$0)>0){R.get_instance().update(hu.$0(_.values(this.$0)),e)}}});ss.initClass(hx,a,{get_itemCount:function(){return this.$1().get_commandItems().length},get_hasItems:function(){return this.get_itemCount()>0},get_defaultItem:function(){return this.$1().get_defaultItem()},$1:function(){return bM.create(this.get_wrappedCommandItemPresModel().get_commands())}},bD,[ec]);ss.initClass(hz,a,{});ss.initClass(hA,a,{});ss.initClass(hB,a,{invoke:function(){return this.invoke$1(bO.newCommand('update-data-alert',this.c))}},ss.makeGenericType(S,[Object,hC]));ss.initClass(hC,a,{});ss.initClass(hD,a,{});ss.initEnum(hE,a,{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);ss.initClass(hF,a,{});ss.initClass(hG,a,{update:function(e){this.pm=e}},eQ);ss.initClass(hH,a,{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},$l:function(e){return this.formatViewMethod(this.viewid,'region')+'?r='+e},formatRegionTileURL:function(e,ex,iw){if(e.useUrl){return this.formatTileURL(e,ex,0,0,'',iw)}return this.$l(ex)+'&'+iw},$k:function(e,ex){var iw='';if(!tab.MiscUtil.isNullOrEmpty$3(ex)){iw='&fn='+encodeURIComponent(ex)}return this.formatViewMethod(this.viewid,'region')+'?r='+e+iw},formatLegendRegionTileURL:function(e,ex,iw,ix,iy){ix=(ss.isNullOrUndefined(ix)?'':ix);if(e.useUrl){return this.formatTileURL(e,ex+ix,0,0,iw,iy)}return this.$k(ex,iw)+'&'+iy},formatTileURL:function(e,ex,iw,ix,iy,iz){if(e.useUrl){var iA=e.url;var iB;if(!tab.MiscUtil.isNullOrEmpty$3(iy)){iB='?fn='+encodeURIComponent(iy)+'&'+iz}else{iB='?='+iz}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(iA,'%SESSIONID%',tsConfig.sessionid),'[r]',ex),'[x]',iw.toString()),'[y]',ix.toString())+iB}var iC=this.formatViewMethod(this.viewid,'tile');return iC+'?r='+ex+'&x='+iw+'&y='+ix+'&'+iz},formatUnderlyingDataURL:function(e){var ex=new ss.StringBuilder(this.formatViewMethod(this.viewid,'viewData'));ex.append('?maxrows=200');if(ss.isValue(e)){ex.append('&select_x=').append(e.x);ex.append('&select_y=').append(e.y)}return ex.toString()},formatExportCrossTabURL:function(e){if(ss.isNullOrUndefined(e)){e='utf8'}return this.formatViewMethod(this.viewid,'exportcrosstab')+'?charset='+e},executeAction:function(e,ex,iw){if(e.get_commandType()===9){this.executeCommand(e)}else{var ix=bO.newCommand('run-action',e.command.commandParams);gt.executeServerCommand(ix,'immediately',ex,iw)}},executeCommand:function(e){if(ss.isNullOrUndefined(e)){return}switch(e.get_commandType()){case 9:{var ex={};ex.url=e.command.commandParams.url;ex.target=e.command.commandParams.target;K.launchActionUrls([ex],this.get_commonDialogProvider());break}case 7:{var iw=null;if(ss.isValue(e.command)&&ss.isValue(e.command.commandParams)&&ss.keyExists(e.command.commandParams,'selectAtPoint')){var ix=JSON.parse(e.command.commandParams['selectAtPoint']);iw=tab.PointUtil.fromPresModel(ix)}window.open(this.formatUnderlyingDataURL(iw),this.getWindow('vud'),'scrollbars,resizable');break}case 1:case 2:case 4:case 6:case 11:case 12:case 10:case 13:{break}default:{break}}}},gM);ss.initClass(hI,a,{});ss.initClass(hK,a,{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().drawItems;for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(iw.type==='draw-group'){this.$1.push(iw)}}}return this.$1},update:function(e,ex){ds.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},eQ);ss.initClass(hL,a,{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_worksheetName:function(){return this.get_visualId().worksheet},get_visualId:function(){return this.pm.visualIdPresModel},get_containerGeometry:function(){return this.get_zone().get_zoneCommonModel().get_zoneContentRectXY()},get_tooltipMode:function(){return this.pm.tooltipMode},get_scenePresModel:function(){return this.pm.scene},get_shelves:function(){return this.$q},get_analyticsModel:function(){return this.$9},get_marksCardModel:function(){return this.$n},get_selectionsModel:function(){return this.$p},get_impliedSelectionModel:function(){return this.$k},get_brushingsModel:function(){return this.$b},get_showMeModel:function(){return this.$r},get_sceneModel:function(){return this.$o},get_labelsModel:function(){return this.$l},get_mapServerModel:function(){return this.$m},get_filters:function(){return _.values(this.$f)},get_filterModels:function(){return this.$f},get_geometryModel:function(){return this.$i},get_sortIndicatorsModel:function(){return this.$s},get_vizDataModel:function(){return this.$v},get_titleModel:function(){return this.$t},get_captionModel:function(){return this.$d},get_hiddenTuples:function(){return this.$8},get_filteredTuples:function(){return this.$7},get_isMap:function(){return this.pm.isMap},get_hasBackgroundImage:function(){return this.pm.hasBackgroundImage},get_floatingToolbarVisibility:function(){return this.pm.floatingToolbarVisibility},get_geoSearchVisibility:function(){return this.pm.geographicSearchVisibility},get_vizNavigationSetting:function(){return this.pm.vizNavigationSetting},get_defaultMapTool:function(){return this.pm.defaultMapToolEnum},get_cacheUrlInfo:function(){return this.$c},get_hasModifiedAxes:function(){return this.pm.hasModifiedAxes},get_backgroundColor:function(){return this.pm.bgColor},get_paneBGColor:function(){return this.pm.paneColor},get_headerBGColor:function(){return this.pm.headerColor},get_shouldUpdate:function(){return R.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=eT.findContentDashboard();return e.get_invalidSheets()},get_isVisualValid:function(){return this.$u},get_isBrushedFromAction:function(){return this.$a},get_emptyHighlightFogAll:function(){return this.$e},get_zone:function(){var e=ss.safeCast(this.parent,it);return e.get_zone()},setIsVisualValid:function(e,ex){if(this.pm.valid&&e!==this.$u){this.$u=e;this.raiseEvent(this.$2$5,ex)}},setIsBrushedFromAction:function(e,ex){if(this.$a!==e){this.$a=e;this.raiseEvent(this.$2$6,ex)}},setEmptyHighlightFogAll:function(e,ex){if(this.$e!==e){this.$e=e;this.raiseEvent(this.$2$9,ex)}},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(ex){return ss.referenceEquals(ex,e)}).length>1},setFilteredTuples:function(e,ex){this.$g.set(e,ex);var iw=new Map;this.$g.forEach(function(iy){for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];iw.set(iA.toString(),iA)}});var ix=this.$7.size!==iw.size;if(!ix){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$7,function(iy,iz){if(!iw.has(iz)){ix=true;throw new tab.LoopBreakException}})}if(ix){this.$7=iw;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,ex){this.$j.set(e,ex);var iw=new Map;this.$j.forEach(function(iy){for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];iw.set(iA.toString(),iA)}});var ix=this.$8.size!==iw.size;if(!ix){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$8,function(iy,iz){if(!iw.has(iz)){ix=true;throw new tab.LoopBreakException}})}if(ix){this.$8=iw;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.scene;var ex=this.pm.markLabels;var iw=this.pm.vizData;delete this.pm['scene'.toString()];delete this.pm['vizData'.toString()];delete this.pm['markLabels'.toString()];var ix=eQ.prototype.getMutableCopyOfPresModel.call(this);this.pm.scene=e;this.pm.vizData=iw;this.pm.markLabels=ex;return ix},reValidate:function(e){if(this.get_isVisualValid()!==this.pm.valid){this.$u=this.pm.valid;this.raiseEvent(this.$2$5,e)}},update:function(e,ex){hL.$0(e);if(ss.isNullOrUndefined(this.$q)){this.$q=new gQ(this)}if(ss.isValue(e.shelves)){var iw=this.$2(e);this.$q.update(e.shelves,R.get_instance().get_workbook().get_dataSchema(),iw,ex)}if(ss.isValue(e.analyticsPane)){if(ss.isNullOrUndefined(this.$9)){this.$9=new P(this)}this.$9.update(e.analyticsPane,ex)}if(ss.isValue(e.vizData)){if(ss.isNullOrUndefined(this.$v)){this.$v=new hP(this)}this.$v.update(e.vizData,ex)}if(ss.isNullOrUndefined(this.$o)){this.$o=new ge(this)}if(ss.isValue(e.scene)){if(ss.isValue(this.$j)){var ix=this.$8.size>0;this.$j=new Map;this.$8=new Map;if(ix){this.raiseEvent(this.$2$2,ex)}}if(ss.isValue(this.$g)){var iy=this.$7.size>0;this.$g=new Map;this.$7=new Map;if(iy){this.raiseEvent(this.$2$3,ex)}}this.$o.update(e.scene,ex)}if(ss.isValue(e.colorDictionary)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.colorDictionary,e.colorDictionary)){this.raiseEvent(this.$2$7,ex)}}if(ss.isValue(e.vizNavigationSetting)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.vizNavigationSetting,e.vizNavigationSetting)){this.raiseEvent(this.$2$8,ex)}}if(ss.isNullOrUndefined(this.$l)){this.$l=new ge(this)}if(ss.isValue(e.markLabels)){this.$l.update(e.markLabels,ex)}if(ss.isNullOrUndefined(this.$n)){this.$n=new eO(this)}if(ss.isValue(e.marksCardPresModel)){this.$n.update(e.marksCardPresModel,ex)}if(ss.isValue(e.selectionList)&&e.selectionList.length>0){this.$p.update(e.selectionList,ex)}if(ss.isValue(e.brushingSelectionList)){this.$b.update(e.brushingSelectionList,ex)}this.$4(this.$p.nodeSelection.get_nodes(),ex);if(!ss.isValue(this.$r)){this.$r=new bL(this)}if(ss.isValue(e.showMeCommands)){this.$r.update(e.showMeCommands,ex)}if(ss.isNullOrUndefined(this.$m)){this.$m=new eM(this)}if(ss.isValue(e.mapServer)||!e.isMap){var iz=(e.isMap?e.mapServer:null);this.$m.update(iz,ex)}var iA=e.filtersJson||'';var iB=(ss.isNullOrEmptyString(iA)?null:JSON.parse(iA));if(this.$5(iB,iA)){this.$h=iA;if(ss.isValue(iB)){var iC={};for(var iD=0;iD<iB.length;iD++){var iE=iB[iD];var iF=tableau.format.formatQualifiedName(iE.name);var iG=this.$f[iF];if(ss.isNullOrUndefined(iG)){iG=eT.createFilterModel(this,iE)}iG.update(iE,ex);iC[iF]=iG}this.$f=iC}}var iH=e.cacheUrlInfoJson||'';var iI=(ss.isNullOrEmptyString(iH)?null:JSON.parse(iH));if(!_.isEqual(iI,this.get_cacheUrlInfo())){this.$c=iI;this.$3(ex)}var iJ=e.geometryJson||'';if(!ss.isValue(this.$i)){this.$i=new hG(this)}var iK=(ss.isNullOrEmptyString(iJ)?null:JSON.parse(iJ));this.$i.update(iK);if(ss.isNullOrUndefined(this.$t)){this.$t=new hm(this,'visualTitle'.toString())}if(ss.isValue(e.visualTitle)){this.$t.update(e.visualTitle,ex)}if(!ss.isValue(this.$d)){this.$d=new hm(this,'visualCaption'.toString())}if(ss.isValue(e.visualCaption)){this.$d.update(e.visualCaption,ex)}if(!ss.isValue(this.$s)){this.$s=new gX(this)}if(ss.isValue(e.sortIndicators)){this.$s.update(e.sortIndicators,ex)}this.setEmptyHighlightFogAll(e.emptyHighlightFogAll,ex);if(tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')){if(ss.isNullOrUndefined(this.resizeInfoModel)){this.resizeInfoModel=new fZ(this)}if(ss.isValue(e.resizeInfo)){this.resizeInfoModel.update(e.resizeInfo,ex)}}if(!ss.referenceEquals(e,this.pm)){this.swapAndCopyPresModel(e);this.reValidate(ex);this.$6(ex)}},$6:function(e){this.raiseEvent(this.$2$1,e)},$3:function(e){if(ss.isValue(this.get_cacheUrlInfo())){this.raiseEvent(this.$2$4,e)}},$5:function(e,ex){if(ss.isNullOrUndefined(this.$h)){return true}if(ss.isValue(e)){var iw=_.find(e,function(ix){return ix.isTiled});if(ss.isValue(iw)){return true}}return!ss.referenceEquals(this.$h,ex)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var ex;var iw=this.$k.get_ids();if(tab.MiscUtil.isNullOrEmpty$2(iw)){ex=e}else if(tab.MiscUtil.isNullOrEmpty$2(e)){ex=iw}else{var ix=[];ss.arrayAddRange(ix,e);ss.arrayAddRange(ix,iw);ex=Array.prototype.slice.call(ix)}return ex},$4:function(e,ex){var iw=W.getTuplesAssociatedWithSelectedNodes(this,e);this.$k.setOverriddenTupleIds(iw,ex)},$1:function(e){this.$k.setOverriddenTupleIds([],e)},$2:function(e){if(ss.isValue(e)&&ss.isValue(e.marksCardPresModel)&&ss.isValue(e.marksCardPresModel.paneSpec)){return e.marksCardPresModel.paneSpec}return eT.findActivePaneSpecId()}},eQ);ss.initClass(hM,a,{});ss.initClass(hN,a,{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.dataType},get_fieldName:function(){return this.$a.fn},get_fieldCaption:function(){return this.$a.fieldCaption},get_baseColumnName:function(){return this.$a.baseColumnName},get_role:function(){return this.$a.fieldRole},get_aggType:function(){return this.$a.aggregation},get_specialValuesOverride:function(){return this.$a.specialValueText},get_filterContext:function(){return this.$a.filterContext},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.paneIndices},$9:function(){return this.$a.columnIndices},$7:function(){return tab.Logger.lazyGetLogger(hN)},isTupleIdValid:function(e){for(var ex=0;ex<this.$a.paneIndices.length;++ex){var iw=this.$a.paneIndices[ex];var ix=this.$5(e,iw);if(ss.isValue(ix)){return true}}return false},tupleIdsThatPass:function(e){var ex=[];for(var iw=0;iw<this.$a.paneIndices.length;iw++){var ix=this.$a.paneIndices[iw];var iy=this.$d[ix].vizPaneColumns[0];for(var iz=0;iz<iy.tupleIds.length;iz++){var iA=iy.tupleIds[iz];if(e(iA)){ex.push(iA)}}}return ex},$2:function(e){var ex=this.$3(e,0);var iw={};var ix=0;for(var iy=0;iy<ex.tupleIds.length;iy++){var iz=ex.tupleIds[iy];iw[iz]=ix++}this.$e[e]=iw},$5:function(e,ex){if(!ss.keyExists(this.$e,ex)){this.$2(ex)}return this.$e[ex][e]},getAliasIndex:function(e){var ex=null;if(!this.get_hasAliases()){return ex}for(var iw=0;iw<this.$a.paneIndices.length;++iw){var ix=this.$a.paneIndices[iw];var iy=this.$5(e,ix);if(ss.isValue(iy)){var iz=this.$a.columnIndices[iw];var iA=this.$3(ix,iz);ex=iA.aliasIndices[iy];break}}return ex},getDataValueIndex:function(e){var ex=null;if(this.get_hasDataValues()){for(var iw=0;iw<this.$a.paneIndices.length;++iw){var ix=this.$a.paneIndices[iw];var iy=this.$5(e,ix);if(ss.isValue(iy)){var iz=this.$a.columnIndices[iw];var iA=this.$3(ix,iz);ex=iA.valueIndices[iy];break}}}return ex},getPaneDescriptorKey:function(e){var ex=null;for(var iw=0;iw<this.$a.paneIndices.length;++iw){var ix=this.$8()[iw];var iy=this.$5(e,ix);if(ss.isValue(iy)){var iz=this.$4(ix);ex=iz.paneDescriptor.paneDescrKey;break}}return ex},$4:function(e){var ex=null;if(this.$d.length>e){ex=this.$d[e]}else{}return ex},$3:function(e,ex){var iw=null;var ix=this.$4(e);if(ss.isValue(ix)){if(ix.vizPaneColumns.length>ex){iw=ix.vizPaneColumns[ex]}else{}}return iw},$1:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var iw=this.$8()[ex];var ix=this.$9()[ex];var iy=this.$3(iw,ix);if(ss.isValue(iy)){e=e||ss.isValue(iy.valueIndices)&&iy.valueIndices.length>0}}return e},$0:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var iw=this.$8()[ex];var ix=this.$9()[ex];var iy=this.$3(iw,ix);if(ss.isValue(iy)){e=e||ss.isValue(iy.aliasIndices)&&iy.aliasIndices.length>0}}return e},$6:function(){}});ss.initClass(hO,a,{});ss.initClass(hP,a,{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().highlightCaptions},get_filterFields:function(){return this.$3().filterFields},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().ubertipData},$3:function(){return this.pm},$1:function(){return this.$3().paneColumnsData},$2:function(){return this.$1().paneColumnsList},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var ex=this.$1().vizDataColumns;for(var iw=0;iw<ex.length;++iw){if(hQ.isFieldCaptionOfColumn(ex[iw],e)){return iw}}for(var ix=0;ix<ex.length;++ix){if(hQ.isFieldNameOfColumn(ex[ix],e)){return ix}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().vizDataColumns;for(var ex=0;ex<e.length;ex++){var iw=e[ex];if(iw.fieldRole==='dimension'&&iw.localBaseColumnName!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var ex=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(iw,ix){if(iw.isTupleIdValid(e)){ex=true;return false}return true})}return ex},forEachTupleId:function(e){for(var ex=0;ex<this.$2().length;++ex){var iw=this.$2()[ex].vizPaneColumns[0];for(var ix=0;ix<iw.tupleIds.length;ix++){var iy=iw.tupleIds[ix];var iz=!e(iy);if(iz){break}}}},forEachVizDataField:function(e){var ex=this.$4.length;for(var iw=0;iw<ex;++iw){var ix=this.$4[iw];if(ss.isNullOrUndefined(ix)){continue}var iy=!e(ix,iw);if(iy){break}}},update:function(e,ex){var iw=this.simpleSwapToUpdate(e,this.$2$1,ex);if(!iw){return}if(ss.isValue(e.ubertipData)){ds.notifyFontsFromUberTipDataPresModel(e.ubertipData)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var ix=this.$1().vizDataColumns;for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(iz.fn==='[system:visual].[tuple_id]'){this.$6=iz;this.$4.push(null);continue}this.$5.push(iz.fieldCaption);var iA=new hN(iz,this.$1().paneColumnsList);this.$4.push(iA)}}}},eQ);ss.initClass(hQ,a,{});ss.initClass(hR,a,{});ss.initClass(hS,a,{});ss.initClass(hT,a,{get_r:function(){return this.$0['r'.toString()]},set_r:function(e){this.$0['r'.toString()]=e},get_fns:function(){return this.$0['fieldVector'.toString()]},set_fns:function(e){this.$0['fieldVector'.toString()]=e},get_x:function(){return this.$0['x'.toString()]},set_x:function(e){this.$0['x'.toString()]=e},get_y:function(){return this.$0['y'.toString()]},set_y:function(e){this.$0['y'.toString()]=e},get_w:function(){return this.$0['w'.toString()]},set_w:function(e){this.$0['w'.toString()]=e},get_h:function(){return this.$0['h'.toString()]},set_h:function(e){this.$0['h'.toString()]=e}});ss.initClass(hU,a,{get_isViewingUri:function(){return this.$l===1},get_isAuthoringUri:function(){return this.$l===2},get_isAuthorNewWorkbookUri:function(){return this.$l===3||this.$l===7},get_isInvalid:function(){return this.$l===0},get_isAdminUri:function(){return this.$l===4},get_isSharedViewUri:function(){return this.$l===5},get_isRevisionHistoryUri:function(){return this.$l===6},get_absoluteUri:function(){return this.$6()},get_uri:function(){return this.$a()},get_path:function(){return this.$9()},get_queryParams:function(){return this.$i},get_retry:function(){return this.$7(':retry')},set_retry:function(e){this.$d(':retry',e)},get_originalView:function(){return this.$7(':original_view')},set_originalView:function(e){this.$d(':original_view',e);if(e){this.$f=''}},get_showSaveAs:function(){return this.$7(':showSaveAs')},set_showSaveAs:function(e){this.$d(':showSaveAs',e)},$7:function(e){return ss.keyExists(this.$i,e)&&tab.MiscUtil.toBoolean(this.$i[e][0],false)},$d:function(e,ex){if(ex){this.$i[e]=[];this.$i[e].push('yes')}else{delete this.$i[e]}},removeQueryParam:function(e){delete this.$i[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$i);return this},clone:function(){var e=new hU;e.$l=this.$l;e.$m=this.$m;e.$k=this.$k;e.$e=this.$e;e.$i=this.$i;e.$f=this.$f;e.$g=this.$g;e.$h=this.$h;e.explicitNotGuest=this.explicitNotGuest;return e},trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar:function(){var e={};var ex=ss.getEnumerator(Object.keys(this.$i));try{while(ex.moveNext()){var iw=ex.current();var ix=decodeURIComponent(iw);if(ss.startsWithString(ix,':ff_')||ss.contains(hU.$b,ix)){e[iw]=this.$i[iw]}}}finally{ex.dispose()}this.$i=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation(null);window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),hU.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),hU.createForCurrentWindowLocation().get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),hU.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$g=''},$6:function(){var e=this.$a();var ex=this.$h;if(!ss.startsWithString(e,'/')){ex+='/'}ex+=e;return ex},$a:function(){var e=new ss.StringBuilder;e.append(this.$9());var ex=tab.MiscUtil.replaceUriQueryParameters('',this.$i);if(!tab.MiscUtil.isNullOrEmpty$3(ex)){e.append(ex)}e.append(this.$8());return e.toString()},$9:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$c(this.$l));if(this.$l===2){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$3(this.$e)){e.push(encodeURIComponent(this.$e))}}else if(this.$l===1){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$3(this.$f)){e.push(this.$f)}}else if(this.$l===4){e.push(this.$m);e.push(this.$k)}else if(this.$l===3||this.$l===7){e.push(this.$m)}else if(this.$l===5){e.push(tsConfig.guid)}else if(this.$l===6){e.push(this.$m);if(!tab.MiscUtil.isNullOrEmpty$3(this.$k)){e.push(this.$k)}e.push('history');e.push(this.$j)}return e.join('/')},$8:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$g},$5:function(e){var ex=_.keys(hU.$d);var iw=hD.getModuleFromPath(e.pathname,ex);this.$l=this.$b(iw);var ix=hD.getMeatFromPath(e.pathname,ex);if(this.$l===1){this.$4(ix)}else if(this.$l===2){this.$2(ix)}else if(this.$l===3||this.$l===7){this.$1(ix)}else if(this.$l===4){this.$0(ix)}else if(this.$l===6){this.$3(ix)}this.$i=hU.$1(e);this.$g=e.hash;this.$h=tab.BrowserSupport.getOrigin(e)},$4:function(e){var ex=e.split('/');this.$m=ex[0];this.$k=ex[1];if(ex.length>2){if(ex.length===3){this.$f=ex[2]}this.$f=ex[2]+'/'+ex[3]}},$2:function(e){var ex=e.split('/');this.$m=ex[0];this.$k=ex[1];if(ex.length>2){this.$e=decodeURIComponent(ex[2])}},$0:function(e){var ex=e.split('/');this.$m=ex[0];this.$k=ex[1]},$1:function(e){this.$m=e},$3:function(e){var ex=e.split('/');this.$m=ex[0];if(ex.length>3){this.$k=decodeURIComponent(ex[1]);this.$j=decodeURIComponent(ex[3])}else{this.$j=decodeURIComponent(ex[2])}},$c:function(e){return hU.$9[e]},$b:function(e){return hU.$d[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var ex=new fN(e);this.$m=ex.get_workbookId();this.$k=ex.get_sheetId();this.$e='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var ex=e.startViewId;if(ss.isNullOrUndefined(ex)){ex=this.$k}this.$k=ex;this.$f=ss.formatString('{0}/{1}',hU.encodeUserName(e.owner.username),e.urlId);this.$e='';this.set_originalView(false);return this}});ss.initEnum(hV,a,{invalid:0,viewing:1,authoring:2,authorNewWorkbookFromDataSource:3,admin:4,sharedView:5,revisionHistory:6,authorNewWorkbook:7});ss.initEnum(hW,a,{immediateGlassAndSpinner:0,immediateGlassDelayedSpinner:1,delayedGlassAndSpinner:2});ss.initClass(hX,a,{$1:function(){var e=document.createElement('button');e.name='Cancel';e.textContent='Cancel';this.$c=$(e);this.$j.after(this.$c);var ex={position:'fixed',top:'50%',left:'50%','z-index':'1005'};this.$c.css(ex);this.$c.click(function(iw){by.get().cancel()});this.$c.hide().css('opacity','0')},$7:function(e){if(this.$g&&this.$h>0){e.preventDefault();e.stopImmediatePropagation()}},isBusy:function(){return this.$h>0},addref:function(e){this.$h+=1;if(this.$h===1&&!this.$g&&!this.$f){var ex=(e?1:2);this.$b(ex,false)}},addrefAndShowFullWaitHandlerNow:function(e){this.$h+=1;this.$b(0,e)},showAndLock:function(e){if(!this.$g){this.$b(0,e)}this.$6()},$6:function(){this.$f=true},unlock:function(){this.$f=false},release:function(){this.$h-=1;if(this.$h<0){this.$h=0}this.nudge()},nudge:function(){if(this.$h>0||this.$f){return}this.$4()},reset:function(){this.$0();this.$j.hide().css('opacity','0');if(tab.FeatureFlags.isEnabled('CommandCancellation')){this.$c.hide().css('opacity','0')}if(this.$d.length===0){return}var e=ss.mkdel(this,function(ex){ex.css('cursor','default').hide();var iw=$('.facadedom');if(iw.length>0){iw.remove()}});this.loadingElementFadeOut(this.$d,300,e)},onNextHide:function(e){this.$i=e},$0:function(){this.$e=tab.MiscUtil.clearTimeout(this.$e);this.$k=tab.MiscUtil.clearTimeout(this.$k)},$4:function(){if(ss.isValue(this.$i)){this.$i();this.$i=null;this.$0()}else{this.reset()}this.$g=false},$b:function(e,ex){this.$0();this.$9(e,ex);this.$g=true},$9:function(e,ex){var iw=(ex?0:0.419999986886978);switch(e){case 0:{this.$8(iw);if(!ex){this.$a()}break}case 1:{this.$8(iw);if(!ex){this.$3()}break}case 2:{this.$2(iw);if(!ex){this.$3()}break}}},$2:function(e){this.$e=window.setTimeout(ss.mkdel(this,function(){this.$8(e)}),400)},$8:function(e){if(this.$d.css('display')!=='none'){return}this.$d.css('cursor','wait');this.$5(this.$d,500,e);if(tab.FeatureFlags.isEnabled('CommandCancellation')){this.$5(this.$c,500,1)}},$3:function(){this.$k=window.setTimeout(ss.mkdel(this,function(){this.$a()}),1900)},$a:function(){this.$5(this.$j,250,1)},$5:function(e,ex,iw){e.css('opacity','0');e.css('transition',ex+'ms opacity');e.show();e.css('display');e.css('opacity',iw.toString())},loadingElementFadeOut:function(e,ex,iw){e.css('transition',ex+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){iw(e)},ex)}});ss.initClass(hZ,a,{get_isChecked:function(){return(ss.isValue(this.$1)?this.$1.get_isChecked():bE.prototype.get_isChecked.call(this))},get_isDefault:function(){return(ss.isValue(this.$1)?this.$1.get_isDefault():bE.prototype.get_isDefault.call(this))},get_enabled:function(){return(ss.isValue(this.$1)?this.$1.get_isEnabled():bE.prototype.get_enabled.call(this))},get_isRadioOn:function(){return(ss.isValue(this.$1)?this.$1.get_isRadioOn():bE.prototype.get_isRadioOn.call(this))},get_isVisible:function(){return(ss.isValue(this.$1)?this.$1.get_isVisible():bE.prototype.get_isVisible.call(this))}},bE);hZ.$ctor1.prototype=hZ.prototype;ss.initClass(ia,a,{});ss.initClass(ib,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_url:function(){return this.$1.pm.url},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},eQ);ss.initClass(ic,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().aggregationIndex},get_aggregationValues:function(){return this.$2().aggregationValues},get_aggregationCaptions:function(){return this.$2().aggregationCaptions},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().numberOfPrevValues},get_numberOfNextValues:function(){return this.$2().numberOfNextValues},get_minPrevOrNextValues:function(){return this.$2().minPrevOrNextValues},get_maxPrevOrNextValues:function(){return this.$2().maxPrevOrNextValues},get_summaryCaption:function(){return this.$2().summaryCaption},get_includeCurrentValue:function(){return this.$2().includeCurrent},get_nullIfIncomplete:function(){return this.$2().nullIfIncomplete},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},hw);ss.initClass(id,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_sheetTypeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_sheetTypeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},get_sheetType:function(){return ss.coalesce(id.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$7},get_commands:function(){return this.$4},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.uiMode)},$3:function(){return this.$6},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&this.$6.pm.isStory},get_isCurrentSheetDashboard:function(){return ss.isValue(this.$6)&&this.$6.get_isDashboard()},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6.get_sheetName())){return null}return this.$6},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.isPublished})},get_sheetsInfo:function(){return this.$8},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.workbookModified},get_isCurrentDashboardModified:function(){return ss.isValue(this.$3())&&ss.isValue(this.$3().pm)&&ss.isValue(this.$3().pm.modifiedSheets)&&this.$3().pm.modifiedSheets.length>0},get_removedDataSourceCount:function(){return this.pm.removedDatasourceCount||0},get_removedSheetCount:function(){return this.pm.removedSheetCount||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&ss.isValue(this.$6.pm.sheetLayoutInfo))?this.$6.pm.sheetLayoutInfo.repositoryUrl:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6)){return null}var e=this.$6.get_dashboardSize();return{w:e.w,h:e.h}},get_connectionPromptModel:function(){return this.$5},get_formatPaneModel:function(){return this.$2$9},set_formatPaneModel:function(e){this.$2$9=e},handleWorldReset:function(){this.$6=null;this.$7=null},withOuterDashboard:function(e){if(ss.isValue(this.$3())){e(this.$3());return}var ex=null;ex=ss.mkdel(this,function(iw){e(iw);this.remove_newDashboard(ex)});this.add_newDashboard(ex)},withDashboard:function(e){var ex=this.findContentDashboard();if(ss.isValue(ex)){e(ex);return}var iw=null;iw=ss.mkdel(this,function(ix){e(ix);this.remove_newDashboard(iw)});this.add_newDashboard(iw)},$2:function(e){return id.$0(e)&&ss.isValue(id.$1(this.pm))&&this.get_sheetType()!==e.dashboardPresModel.sheetLayoutInfo.sheetType},addNewDashboardHandler:function(e){this.add_newDashboard(e);if(ss.isValue(this.$6)){e(this.$6)}},removeDashboardHandler:function(e){this.remove_newDashboard(e)},findContentDashboard:function(){if(ss.isNullOrUndefined(this.$6)){return null}return this.$6.get_contentDashboard()},$1:function(e){return ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)&&!ss.referenceEquals(e.dashboardPresModel.sheetLayoutInfo.sheetName,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.$5)&&!ss.isNullOrEmptyString(this.$5.get_connectionName())},update:function(e,ex){if(ss.isValue(e.variablePromptDialog)){this.$5=new cs(this);this.get_connectionPromptModel().update(e.variablePromptDialog);if(!ss.isNullOrEmptyString(this.$5.get_connectionName())){this.raiseEvent$1(cs).call(this,this.$2$6,this.get_connectionPromptModel(),ex)}else{this.raiseEvent(this.$2$7,ex)}}if(ss.isValue(e.workbookModified)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.workbookModified)){this.raiseEvent(function(){id.fireWorkbookModifiedChanged(e.workbookModified)},ex)}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$8,e.dashboardPresModel.sheetLayoutInfo.sheetType,ex)}var iw=false;if(this.$1(e)){this.handleWorldReset();iw=true}if(!ss.isValue(this.$7)){this.$7=new cz(this)}if(ss.isValue(e.dataSchema)){this.$7.update(e.dataSchema,ex)}if(typeof(e.dashboardPresModel)==='undefined'){}else if(e.dashboardPresModel===null){var ix=this.$6;this.$6=null;this.raiseEvent$1(ch).call(this,this.$2$3,ix,ex)}else{if(!ss.isValue(this.$6)){this.$6=new ch(this);this.raiseEvent$1(ch).call(this,this.$2$2,this.$6,ex)}this.$6.update(e.dashboardPresModel,ex)}if(ss.isValue(e.commands)){this.$4.update(e.commands,ex)}if(ss.isValue(e.sheetsInfo)&&!_.isEqual(e.sheetsInfo,this.$8)){this.$8=e.sheetsInfo;iw=true}if(iw){this.raiseEvent$1(id).call(this,this.$2$4,this,ex)}e.uiMode=e.uiMode||'document';if(ss.isNullOrUndefined(this.pm)||this.pm.uiMode!==e.uiMode){this.raiseEvent(this.$2$5,ex)}if(ss.isValue(e.formatPane)){this.get_formatPaneModel().update(e.formatPane,ex)}this.swapAndCopyPresModel(e)}},eQ);ss.initClass(ie,a,{get_id:function(){return this.$1.id},get_title:function(){return this.$1.title},get_deviceType:function(){return this.$1.deviceType},get_owner:function(){return this.$0},get_recipientsCount:function(){return this.$1.recipientsCount},get_notificationIntervalInMinutes:function(){return this.$1.notificationIntervalInMinutes},get_isCurrentUserSubscribed:function(){return this.$1.isCurrentUserSubscribed}});ss.initClass(ig,a,{get_certificationDetails:function(){return this.$1.certificationDetails},get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedAt:function(){return this.$1.lastRefreshedAt},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$3(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e=tableau.format.formatToJSCompliantFormat(this.$1.lastRefreshedAt,tableau.format.get_isO8601DateTimeFormat(),2,tableau.format.get_baseTimestamp());var ex={};ex.format=R.get_instance().get_localeDateFormat();ex.locale=tsConfig.locale;ex.timeFormat=R.get_instance().get_localeTimeFormat();ex.locale_formatting_strings=tableau.format.get_defaultLocaleStrings();return tableau.format.formatJsDateTime(new Date(e),ex,2,'t')},get_connectsToDescription:function(){if(ss.isNullOrUndefined(this.get_connectionDetails())){return''}var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=ig.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}});ss.initClass(ih,a,{});ss.initEnum(ii,a,{none:0,userInvalidEmailAddress:10011,ddaDatasourceError:210006});ss.initClass(ij,a,{});ss.initClass(ik,a,{get_templates:function(){return this.$0}});ss.initClass(il,a,{});ss.initClass(im,a,{checkpointAppPresModel:function(){this.$1=R.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){eQ.nonWorldUpdate(ss.mkdel(this,function(e){e.dialogProvider=this.$0;R.get_instance().update(this.$1,e)}));this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});ss.initClass(io,a,{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var ex=this.$1$1;if(!ss.staticEquals(ex,null)){ex(e)}},raiseOnCommandResponse:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}}});ss.initClass(ip,a,{});ss.initClass(iq,a,{request:function(e){var ex='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,ex)&&e.headers[ex]===false){delete e.headers[ex]}else{e.headers[ex]=true}if(ss.isValue(iq.$0)&&iq.$0.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(iq.$0)}if(ss.isValue(e.complete)){var iw=e.complete;e.complete=function(iB,iC){iB['args']=e;iw(iB,iC)}}if(ss.isValue(e.success)){var ix=e.success;e.success=function(iB,iC,iD){iD['args']=e;ix(iB,iC,iD)}}if(ss.isValue(e.error)){var iy=e.error;e.error=function(iB,iC,iD){iB['args']=e;iy(iB,iC,iD)}}if(ss.isValue(e.beforeSend)){var iz=e.beforeSend;e.beforeSend=function(iB){iB['args']=e;iz(iB)}}var iA=e;return $.ajax(iA)}});ss.initClass(ir,a,{add_resizeZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_changeZoneFloatingState:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_changeZoneFloatingState:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_zoneDescription:function(){return this.get_zoneCommonPresModel().name},get_zoneCommonPresModel:function(){return ss.coalesce(this.pm,new Object)},get_zoneId:function(){return this.get_zoneCommonPresModel().zoneId},get_parentZoneId:function(){return this.get_zoneCommonPresModel().parentZoneId},get_zoneType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneType,'invalid')},get_zoneLayoutType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneLayoutType,'trivial')},get_contentX:function(){return this.get_zoneCommonPresModel().contentX},get_contentY:function(){return this.get_zoneCommonPresModel().contentY},get_contentHeight:function(){return this.get_zoneCommonPresModel().contentH-2*this.get_contentBorderWidth()},get_contentWidth:function(){return this.get_zoneCommonPresModel().contentW-2*this.get_contentBorderWidth()},get_height:function(){return this.get_zoneCommonPresModel().h},get_width:function(){return this.get_zoneCommonPresModel().w},get_x:function(){return this.get_zoneCommonPresModel().x},get_y:function(){return this.get_zoneCommonPresModel().y},get_heightWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_height():(this.get_height()+8))}return this.get_height()},get_widthWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_width():(this.get_width()+8))}return this.get_width()},get_xWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_x():(this.get_x()-4))}return this.get_x()},get_yWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_y():(this.get_y()-4))}return this.get_y()},get_zoneContentRectXY:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_isFloating:function(){return this.get_zoneCommonPresModel().isFloating},get_hasTitle:function(){return this.get_zoneCommonPresModel().hasTitle},get_canHaveTitle:function(){return this.get_zoneCommonPresModel().canHaveTitle},get_canFloat:function(){return this.get_zoneCommonPresModel().canFloat},get_isHorizontal:function(){return this.get_zoneCommonPresModel().isHorizontal},get_hasBorder:function(){return eT.hasBorder(this.get_zoneStyle())},get_contentBorderWidth:function(){if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){if(eT.hasBorder(this.get_contentStyle())){return this.get_contentStyle().get_borderWidth()}}else if(this.get_hasBorder()){return this.get_zoneStyle().get_borderWidth()}return 0},get_zoneStyle:function(){return this.$2},get_contentStyle:function(){return this.$1},update:function(e,ex){if(ss.isValue(e)){e.parentZoneId=e.parentZoneId||0;e.isFloating=e.isFloating||false;e.isHorizontal=e.isHorizontal||false;e.canHaveTitle=ss.coalesce(e.canHaveTitle,true);e.canFloat=ss.coalesce(e.canFloat,true);e.contentW=e.contentW||e.w;e.contentH=e.contentH||e.h;e.contentX=e.contentX||e.x;e.contentY=e.contentY||e.y;if(!this.isNewZoneSizeSameAsOld(e)){this.raiseEvent(this.$2$1,ex)}if(ss.isValue(e.styledBox)){this.$2.update(e.styledBox,ex)}if(ss.isValue(e.globalStyledBox)){this.$1.update(e.globalStyledBox,ex)}}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().hasTitle!==e.hasTitle){this.raiseEvent(this.$2$2,ex)}if(ss.isValue(this.get_zoneCommonPresModel())&&(this.get_zoneCommonPresModel().isFloating!==e.isFloating||this.get_zoneCommonPresModel().canFloat!==e.canFloat)){this.raiseEvent(this.$2$3,ex)}this.swapAndCopyPresModel(e)},isNewZoneSizeSameAsOld:function(e){if(!ss.isValue(e)){return true}if(ss.isValue(this.pm)){return ss.coalesce(e.contentH,e.h)===this.get_contentHeight()&&ss.coalesce(e.contentW,e.w)===this.get_contentWidth()&&ss.coalesce(e.contentX,e.x)===this.get_contentX()&&ss.coalesce(e.contentY,e.y)===this.get_contentY()&&e.h===this.get_height()&&e.w===this.get_width()&&e.x===this.get_x()&&e.y===this.get_y()}return false}},eQ);ss.initClass(it,a,{get_zone:function(){return ss.safeCast(this.parent,iu)}},eQ);ss.initClass(iu,a,{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removeZoneContent:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removeZoneContent:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_updateZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_updateZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_childrenAdded:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_childrenAdded:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$9},get_dashboardModel:function(){return this.$7},get_zoneCommonModel:function(){return this.$8},get_visualModel:function(){if(this.$8.get_zoneType()==='viz'){return this.$9}return null},get_worksheetName:function(){return this.pm.worksheet},get_zoneDescription:function(){return this.get_zoneCommonModel().get_zoneDescription()},get_zoneId:function(){return this.pm.zoneId},get_parentZoneId:function(){return this.get_zoneCommonModel().get_parentZoneId()},get_zoneType:function(){return this.get_zoneCommonModel().get_zoneType()},get_isStorySpecific:function(){return!ss.isNullOrUndefined(this.pm.storyPointId)&&!ss.isNullOrUndefined(this.pm.flipboardZoneId)&&this.pm.storyPointId!==0&&this.pm.flipboardZoneId!==0},get_contentHeight:function(){return this.get_zoneCommonModel().get_contentHeight()},get_contentWidth:function(){return this.get_zoneCommonModel().get_contentWidth()},get_contentX:function(){return this.get_zoneCommonModel().get_contentX()},get_contentY:function(){return this.get_zoneCommonModel().get_contentY()},get_zoneContentBounds:function(){return{l:0,t:0,w:this.get_contentWidth(),h:this.get_contentHeight()}},get_height:function(){return this.get_zoneCommonModel().get_height()},get_width:function(){return this.get_zoneCommonModel().get_width()},get_x:function(){return this.get_zoneCommonModel().get_x()},get_y:function(){return this.get_zoneCommonModel().get_y()},get_heightWithMargin:function(){return this.get_zoneCommonModel().get_heightWithMargin()},get_widthWithMargin:function(){return this.get_zoneCommonModel().get_widthWithMargin()},get_xWithMargin:function(){return this.get_zoneCommonModel().get_xWithMargin()},get_yWithMargin:function(){return this.get_zoneCommonModel().get_yWithMargin()},get_isFloating:function(){return this.get_zoneCommonModel().get_isFloating()},get_hasTitle:function(){return this.get_zoneCommonModel().get_hasTitle()},get_canHaveTitle:function(){return this.get_zoneCommonModel().get_canHaveTitle()},get_canFloat:function(){return this.get_zoneCommonModel().get_canFloat()},get_isHorizontal:function(){return this.get_zoneCommonModel().get_isHorizontal()},get_hasBorder:function(){return this.get_zoneCommonModel().get_hasBorder()},get_styledBoxModel:function(){return this.get_zoneCommonModel().get_zoneStyle()},get_contentType:function(){return iu.$2(this.pm)},get_titleHeight:function(){return this.pm.titleHeight},get_titleWidth:function(){return this.pm.titleWidth},get_hasSpace:function(){return this.pm.hasSpace},get_isSelectionDisabled:function(){return this.pm.isSelectionDisabled},get_contextMenuCommands:function(){if(this.$8.get_zoneType()==='filter'){if(tab.FeatureFlags.isEnabled('VizCatQF')&&!this.$4){var e=this.get_model();return e.get_quickFilterCommands()}else{var ex=this.get_model();return ex.get_quickFilterCommands()}}return{}},get_chromeCommands:function(){return this.$2},get_backgroundColor:function(){if(ss.isValue(this.pm.bgColor)){this.$6=this.$6||bw.convertColorForCanvas(this.pm.bgColor);return this.$6}return null},get_relativeZoneZIndex:function(){return this.pm.zoneZOrder+1},get_associatedSheet:function(){return this.pm.sheet},get_isDependentOnViz:function(){switch(this.$8.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasContent:function(){if(ss.isNullOrUndefined(this.pm)){return false}return ss.isNullOrUndefined(this.pm.presModelHolder)||Object.keys(this.pm.presModelHolder).length>0},raiseRemoveZoneContent:function(e){this.raiseEvent(this.$2$2,e)},raiseChildrenAdded:function(e){this.raiseEvent(this.$2$4,e)},update:function(e,ex){if(ss.isValue(e)){{e.sheet=e.sheet||'';e.titleWidth=e.titleWidth||0;e.titleHeight=e.titleHeight||0;e.isSelectionDisabled=e.isSelectionDisabled||false;e.hasSpace=e.hasSpace||false}var iw=!this.get_zoneCommonModel().isNewZoneSizeSameAsOld(e.zoneCommon);if(ss.isValue(e.zoneCommon)){this.$8.update(e.zoneCommon,ex)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.bgColor,e.bgColor)){this.$6=null}if(ss.isValue(e.zoneChromeCommands)){this.$2.update(e.zoneChromeCommands,ex)}if(ss.isValue(e.presModelHolder)){if(!ss.isValue(this.$5)){this.$5=new it(this)}var ix=iu.$2(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),ix)){this.$9=null}var iy=false;if(ss.isNullOrUndefined(this.$9)&&this.get_zoneCommonModel().get_zoneType()!=='filter'){var iz=eT.getPendingZoneContentModel(this.$8.get_zoneId());if(ss.isValue(iz)){iy=true;this.$9=iz;this.$9.reparent(this.$5);this.raiseNewZoneContent(this.$9,ex)}}if(!iy){this.$1(ix,e,iw,ex)}}else if(ss.isValue(this.pm)&&ss.isValue(this.$9)&&!ss.referenceEquals(e.frameJson,this.pm.frameJson)){var iA=iu.$1(e.frameJson);var iB=e.zoneCommon;var iC=ss.isValue(iB)&&iB.zoneType==='filter'||ss.keyExists(iA.attributes,'type')&&ss.referenceEquals(iA.attributes['type'].toString(),'filter'.toString());if(this.$4&&iC){var iD=this.$9;iD.update(iD.get_quickFilterDisplayPresModel(),iA,ex)}if(ss.referenceEquals(iu.$2(this.pm),iu.$a)){var iE=iu.getContent(e,iu.$a);if(tab.FeatureFlags.isEnabled('VizParam')&&fk.supportsParameterType(iE)){}else{var iF=this.$9;iF.updateFrame(iA,ex)}}}if(ss.isValue(e.zoneTitle)){ds.notifyFontsFromTextRegionPresModel(e.zoneTitle)}}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$3,ex)},$1:function(e,ex,iw,ix){if(ss.referenceEquals(e,iu.$k)){var iy=iu.getContent(ex,iu.$k);if(ss.isNullOrUndefined(this.$9)){this.$9=new hL(this.$5);this.raiseNewZoneContent(this.$9,ix)}var iz=this.$9;iz.update(iy,ix)}else if(ss.referenceEquals(e,iu.$h)){var iA=iu.getContent(ex,iu.$h);if(ss.isNullOrUndefined(this.$9)){this.$9=new hm(this.$5,iu.$h);this.raiseNewZoneContent(this.$9,ix)}var iB=this.$9;iB.update(iA,ix)}else if(ss.referenceEquals(e,iu.$g)){var iC=iu.getContent(ex,iu.$g);if(ss.isNullOrUndefined(this.$9)){this.$9=new hm(this.$5,iu.$g);this.raiseNewZoneContent(this.$9,ix)}var iD=this.$9;iD.update(iC,ix)}else if(ss.referenceEquals(e,iu.$c)){var iE=iu.getContent(ex,iu.$c);var iF=this.$4;if(tab.FeatureFlags.isEnabled('VizCatQF')&&fD.supportsQuickFilterType(iE)){this.$4=false;if(ss.isNullOrUndefined(this.$9)||iF){this.$9=new fD(this.$5);this.raiseNewZoneContent(this.$9,ix)}var iG=this.$9;iG.update(iE,ix)}else{this.$4=true;if(ss.isNullOrUndefined(this.$9)||!iF){this.$9=new eF(this.$5);this.raiseNewZoneContent(this.$9,ix)}var iH=iu.$1(ex.frameJson);var iI=this.$9;iI.update(iE,iH,ix)}}else if(ss.referenceEquals(e,iu.$b)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||R.get_instance().get_isLocalRenderMode()){var iJ=iu.getContent(ex,e);if(ss.isNullOrUndefined(this.$9)){this.$9=new fA(this.$5,e);this.raiseNewZoneContent(this.$9,ix)}var iK=this.$9;iK.update(iJ,ix)}}else if(ss.referenceEquals(e,iu.$3)||ss.referenceEquals(e,iu.$f)||ss.referenceEquals(e,iu.$e)||ss.referenceEquals(e,iu.$8)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||R.get_instance().get_isLocalRenderMode()){var iL=iu.getContent(ex,e);if(ss.isNullOrUndefined(this.$9)){var iM=this.$8.get_zoneType();this.$9=new bo(this.$5,e,iu.$0(iM));this.raiseNewZoneContent(this.$9,ix)}var iN=this.$9;iN.update(iL,ix)}}else if(ss.referenceEquals(e,iu.$a)){var iO=iu.getContent(ex,iu.$a);var iP=iu.$1(iO.parameterCtrlJson);iO.legacyPresModel=iP;var iQ=this.$3;if(tab.FeatureFlags.isEnabled('VizParam')&&fk.supportsParameterType(iO)){this.$3=false;if(ss.isNullOrUndefined(this.$9)||iQ){this.$9=new fk(this.$5);this.raiseNewZoneContent(this.$9,ix)}var iR=this.$9;iR.update(iO,ix)}else{this.$3=true;if(ss.isNullOrUndefined(this.$9)||!iQ){this.$9=new fj(this.$5);this.raiseNewZoneContent(this.$9,ix)}var iS=iu.$1(ex.frameJson);var iT=this.$9;iT.update(iO,iS,ix)}}else if(ss.referenceEquals(e,iu.$9)){var iU=iu.getContent(ex,iu.$9);if(ss.isNullOrUndefined(this.$9)){this.$9=new fd(this.$5);this.raiseNewZoneContent(this.$9,ix)}var iV=!iw||ss.isNullOrUndefined(this.pm);var iW=iu.$1(ex.frameJson);var iX=this.$9;iX.update(iU,iW,iV,ix)}else if(ss.referenceEquals(e,iu.$6)){var iY=iu.getContent(ex,iu.$6);if(ss.isNullOrUndefined(this.$9)){this.$9=new dp(this.$5);this.raiseNewZoneContent(this.$9,ix)}var iZ=this.$9;iZ.update(iY,ix)}else if(ss.referenceEquals(e,iu.$5)){var ja=iu.getContent(ex,iu.$5);if(ss.isNullOrUndefined(this.$9)){this.$9=new dn(this.$5);this.raiseNewZoneContent(this.$9,ix)}var jb=this.$9;jb.update(ja,ix)}else if(!tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&ss.referenceEquals(e,iu.$d)){var jc=iu.getContent(ex,iu.$d);if(ss.isNullOrUndefined(this.$9)){this.$9=new eD(this.$5);this.raiseNewZoneContent(this.$9,ix)}var jd=this.$9;jd.update(jc,ix)}else if(ss.referenceEquals(e,iu.$l)){var je=iu.getContent(ex,iu.$l);if(ss.isNullOrUndefined(this.$9)){this.$9=new ib(this.$5);this.raiseNewZoneContent(this.$9,ix)}var jf=this.$9;jf.update(je,ix)}else if(ss.referenceEquals(e,iu.$7)){var jg=iu.getContent(ex,iu.$7);if(ss.isNullOrUndefined(this.$9)){this.$9=new el(this.$5);this.raiseNewZoneContent(this.$9,ix)}var jh=this.$9;jh.update(jg,ix)}else if(ss.referenceEquals(e,iu.$4)){var ji=iu.getContent(ex,iu.$4);if(ss.isNullOrUndefined(this.$9)){this.$9=new cy(this.$5);this.raiseNewZoneContent(this.$9,ix)}var jj=this.$9;jj.update(ji,ix)}},contentBorderWidth:function(){return this.$8.get_contentBorderWidth()},raiseNewZoneContent:function(e,ex){this.raiseEvent$1(eQ).call(this,this.$2$1,e,ex)}},eQ);ss.initClass(iv,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$5)){this.$5=_.values(this.$7)}return this.$5},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},getZone:function(e){return this.$7[iv.$0(e)]},hasZone:function(e){return ss.keyExists(this.$7,iv.$0(e))},getChildren:function(e){var ex=iv.$0(e);if(!ss.keyExists(this.$6,ex)){this.$6[ex]=_.filter(this.get_zoneModels(),function(iw){return iw.get_parentZoneId()===e})}return this.$6[iv.$0(e)].slice(0)},update:function(ex,iw){this.$2('Zones before update: ');this.$3(ex,iw);this.$6={};var ix={};var iy=_.keys(ex);for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];var iB=ex[iA];if(ss.isValue(iB)){var iC=iB.zoneId;try{var iD=iv.$0(iC);if(!ss.isValue(this.$7[iD])){var iE=new iu(this,this.parent,iC);this.$7[iD]=iE;this.raiseEvent$1(iu).call(this,this.$2$1,this.$7[iD],iw);this.$5=null;ix[iB.zoneCommon.parentZoneId]=true}else{if(ss.isValue(iB.zoneCommon)&&this.$7[iD].get_parentZoneId()!==iB.zoneCommon.parentZoneId){ix[iB.zoneCommon.parentZoneId]=true}if(ss.isValue(iB.presModelHolder)&&(this.$1(iD,iB)||this.$4(iD,iB))){this.$7[iD].raiseRemoveZoneContent(iw);this.raiseEvent$1(iu).call(this,this.$2$1,this.$7[iD],iw)}}this.$7[iD].update(iB,iw)}catch(iJ){var e=ss.Exception.wrap(iJ);tab.ErrorTrace.report(e,false)}}}this.swapAndCopyPresModel(ex);if(tsConfig.is_authoring){var iF=_.keys(ix);for(var iG=0;iG<iF.length;iG++){var iH=iF[iG];var iI=this.getZone(iH);if(ss.isValue(iI)){iI.raiseChildrenAdded(iw)}}}this.$2('Zones after update: ')},$1:function(e,ex){if(tab.FeatureFlags.isEnabled('VizCatQF')){var iw=this.$7[e].pm;if(ss.isValue(iw.presModelHolder)){var ix='quickFilterDisplay'.toString();if(ss.referenceEquals(iu.$2(ex),ix)){var iy=iu.getContent(iw,ix);var iz=iu.getContent(ex,ix);if(fD.supportsQuickFilterType(iy)!==fD.supportsQuickFilterType(iz)){return true}}}}return ss.isValue(this.$7[e].get_contentType())&&!ss.referenceEquals(this.$7[e].get_contentType(),iu.$2(ex))},$4:function(e,ex){return ss.isValue(this.$7[e].get_worksheetName())&&!ss.referenceEquals(this.$7[e].get_worksheetName(),ex.sheet)},$3:function(e,ex){var iw=_.keys(this.$7);for(var ix=0;ix<iw.length;ix++){var iy=iw[ix];var iz=this.$7[iy];var iA=e[iz.get_zoneId().toString()];if(iA===null){var iB=iz.get_zoneId().toString();delete e[iB];delete this.get_zonePresModels()[iB];this.removeZone(iz,ex);continue}if(ss.isValue(iA)&&ss.isValue(iA.zoneCommon)&&iz.get_zoneCommonModel().get_zoneType()!==iA.zoneCommon.zoneType){this.removeZone(iz,ex)}}},removeZone:function(e,ex){e.raiseRemoveZoneContent(ex);this.raiseEvent$1(iu).call(this,this.$2$2,e,ex);delete this.$7[iv.$0(e.get_zoneId())];this.$5=null},$2:function(e){var ex=new ss.StringBuilder;ex.appendLine(e);var iw=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(iw.moveNext()){var ix=iw.current();if(ss.isValue(ix.value)&&ss.isValue(ix.value.zoneCommon)){ex.append('[ ');ex.append(ix.value.zoneId);ex.append(' ');ex.append(ix.value.zoneCommon.zoneType);ex.append(' ] ');ex.appendLine()}}}finally{iw.dispose()}}},eQ);(function(){bI.$0=null})();(function(){hQ.vizInTooltipSpanTag='span[data-tableau="VizInTooltip"]';hQ.unknownFieldMarker='~~~???~~~';hQ.noLocalSummary='...';hQ.invalidTupleId=0;hQ.urlStringNull='~~null~';hQ.urlStringSkipped='~~skipped~';hQ.urlStringRagged='~~ragged~';hQ.lastWidthAndHeightForVizInTooltips=[];hQ.widestVizInTooltip=0;hQ.$8=new RegExp('(\\r|\\n)','g')})();(function(){bK.$5=15;bK.$8={};bK.$6={};bK.$7=[];bK.$8['keep-only-or-exclude']=2;bK.$8['quick-sort']=4;bK.$8['clear-sorts']=6;bK.$8['run-action']=8;bK.$8['load-url']=9;bK.$8['merge-or-split']=10;bK.$8['ranged-by-value-merge']=10;bK.$8['ranged-by-index-merge']=10;bK.$8['legend-group-or-ungroup']=13;bK.$8['label-drill']=12;bK.$8['level-drill']=12;bK.$8['level-drill-up-down']=12;bK.$8['remove-reference-line']=15;bK.$8['show-reference-line-constant-value-editor']=21;bK.$8['trend-lines']=17;bK.$8['show-trend-line-editor']=16;bK.$8['show-col-totals']=18;bK.$8['show-row-totals']=18;bK.$8['remove-subtotals']=18;bK.$8['set-totals-type']=19;bK.$8['set-reference-line-formula']=20;bK.$8['show-reference-line-editor']=22;bK.$8['select-by-tuple-value']=23})();(function(){eQ.removeUndefinedBoolsOnSwapCopy=true})();(function(){dh.nameOfMeasuresColumn=':Measure Names';dh.nameOfMeasureValuesColumn='Multiple Values'})();(function(){bB.successResult=new bB(true,null)})();(function(){bw.defaultAlpha=1;bw.white=new bw(255,255,255,1);bw.black=new bw(0,0,0,1);bw.alphaMultiplier=1.5;bw.luminanceThresholdForFakingLineColor=0.800000011920929;bw.luminanceThresholdForLightColor=0.314999997615814;bw.$8=0.999989986419678;bw.$e=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];bw.$9=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');bw.$a=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');bw.$b=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');bw.$c=null;bw.$d=new dk(100)})();(function(){dt.defaultWeight='normal';dt.defaultStyle='normal';dt.hashSeparator='-<%>-';dt.matchQuotes=new RegExp('[\'"]','g')})();(function(){cP.boldWeight='bold';cP.normalWeight='normal'})();(function(){dS.$0=[new dS,new cP]})();(function(){ds.fontPropertyName='font';ds.$1$1=null;ds.$1$2=null})();(function(){hP.tupleIdColumnName='[system:visual].[tuple_id]';hP.measureNamesColumnName='[:Measure Names]'})();(function(){eM.$1='@2x';eM.$0='rgb(255,255,255)'})();(function(){eX.$0=new ss.Lazy(function(){return{eventHandler:new eX}})})();(function(){io.$0=new ss.Lazy(function(){return new io})})();(function(){U.$1=U.$0()})();(function(){iq.guid='';iq.parentID='';iq.$0=''})();(function(){dW.$6='_vql_state_';dW.$5=new Map;dW.$8=0;dW.$7=0;tab.WindowHelper.addListener(window.self,'popstate',dW.$3)})();(function(){hU.$7=':retry';hU.$5=':original_view';hU.$8=':showSaveAs';hU.$4=':jsdebug';hU.$6=':render';hU.$3=':app';hU.$b=[':app',':jsdebug',':render'];hU.$d=ss.mkdict(['authoring',2,'authoringNewWorkbook',3,'newWorkbook',7,'views',1,'vizql/showadminview',4,'shared',5,'workbooks',6]);hU.$c=[':bootstrapWhenNotified'];hU.$9={};hU.$a={};var e=function(ex,iw){for(var ix=ex;ix<=iw;ix++){var iy=String.fromCharCode(ix);hU.$a[iy]=iy}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){cF.$0=false})();(function(){I.instance=null})();(function(){bQ.primaryTableCalcIndex=0;bQ.secondaryTableCalcIndex=1})();(function(){gH.$0='data:image/png;base64,';gH.selectionBorderSize=1})();(function(){ek.$2=null})();(function(){gg.$4='Last';gg.$5='SecondToLast';gg.$3=1440;gg.$7=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];gg.$6=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){C.$0=35;C.$1=1})();(function(){iu.zoneMargin=4;iu.rootZoneID=0;iu.$j=0;iu.$i=0;iu.$k='visual'.toString();iu.$h='dashboardTitle'.toString();iu.$g='dashboardText'.toString();iu.$b='quantitativeColorLegend'.toString();iu.$3='colorLegend'.toString();iu.$f='categoricalSizeLegend'.toString();iu.$e='categoricalShapeLegend'.toString();iu.$8='categoricalMapLegend'.toString();iu.$a='parameterControl'.toString();iu.$9='pageModel'.toString();iu.$d='serverRenderedLegend'.toString();iu.$7='imageZone'.toString();iu.$l='webZone'.toString();iu.$c='quickFilterDisplay'.toString();iu.$4='dataHighlighter'.toString();iu.$6='flipboardNav'.toString();iu.$5='flipboard'.toString()})();(function(){fz.$5=6;fz.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','highlighter'];fz.$7=[1,2,3,4,5,6];fz.$8=null;fz.$6=null})();(function(){by.$9=135;by.$a=false;by.$b=false;by._instance=null;by.$1$7=null;by.$1$14=null;by.fireDeferredUrlActions=false})();(function(){de.$0=5000;de.$1=120;de.$2=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();de.$2=window.setInterval(de.reportFailures,5000)}})();(function(){R._instance=null})();(function(){hX.waitGlassId='loadingGlassPane';hX.waitSpinnerId='loadingSpinner';hX.$0=300;hX.glassShowDelay=400;hX.$2=500;hX.spinnerShowDelay=1900;hX.$3=250;hX.$1=0.419999986886978})();(function(){T.linkTarget=null;T.autoUpdate=true;T.$0=null;T.$1=null;T.$2=0;T.$3=null;T.$1$1=null;T.$1=ss.mkdict(['%25',new RegExp('%','g'),'%3B',new RegExp(';','g'),'%2C',new RegExp(',','g'),'%2E',new RegExp('\\.','g'),'%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g'),'%2B',new RegExp('\\+','g'),'%20',new RegExp(' ','g'),'%5C',new RegExp('\\\\','g')])})();(function(){eU.$d='vql';eU.$c=60;eU.$i={};eU.$f={};eU.$g={};eU.$e=new Set;eU.$j=false;eU.$h=new eV})();(function(){eZ.analyticsClientLibrary='analytics-client';eZ.analyticsClientMinifiedLibrary='analytics-client.min';eZ.serviceName='VizClient';eZ.$1=null;eZ.$1$1=null})();(function(){eT.visualPartToRegionMap=null;eT.regionToVisualPartMap=null;eT.visualPartToRegionMap={};eT.visualPartToRegionMap['left-axis']='leftaxis';eT.visualPartToRegionMap['right-axis']='rightaxis';eT.visualPartToRegionMap['top-axis']='topaxis';eT.visualPartToRegionMap['bottom-axis']='bottomaxis';eT.visualPartToRegionMap['y-labels']='yheader';eT.visualPartToRegionMap['x-labels']='xheader';eT.regionToVisualPartMap={};eT.regionToVisualPartMap['leftaxis']='left-axis';eT.regionToVisualPartMap['rightaxis']='right-axis';eT.regionToVisualPartMap['topaxis']='top-axis';eT.regionToVisualPartMap['bottomaxis']='bottom-axis';eT.regionToVisualPartMap['yheader']='y-labels';eT.regionToVisualPartMap['xheader']='x-labels'})();(function(){bz.$b=new RegExp('\\S+','g')})();(function(){fs.platformLibrary='platform';fs.platformMinifiedLibrary='platform.min';fs.$4=null;fs.$3=null;fs.$2=tab.Logger.getLogger(fs,4)})();(function(){ig.$1=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){gx.$2=300000;gx.$0=tab.DateUtil.get_nowAsTime();gx.$3=300000;gx.$1=tab.DateUtil.get_nowAsTime()})();(function(){hc.$1=false;hc.$2=false;hc.$1$1=null;hc.$1$2=null})();(function(){du.$0='font'})();(function(){gt.$1={}})();(function(){K.$f=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:','sms:','tel:'];K.$e=false;K.$d=false})();(function(){gl.$k=null;gl.$k={};gl.$k['simple']='select-options-simple';gl.$k['toggle']='select-options-toggle';gl.$k['range']='select-options-range';gl.$k['menu']='select-options-menu'})();(function(){W.$5='date-time';W.$4='all'})();(function(){gM.$2$1=null})();(function(){cE.$0=null})();(function(){cH.sheetChangedEventName='SheetChangedEvt';cH.$7='badpassword';cH.$6='badoauthcredentials';cH.$b='NoAssociatedCustomOAuthKey';cH.$8='class';cH.$a='filename';cH.$9='directory'})();(function(){ir.zoneMargin=4;ir.rootZoneID=0})();(function(){hf.$6=(tsConfig.is_mobile?4:8);hf.$5=null;hf.$4=null;if(!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache')){io.get().add_onBootstrapResponse(hf.$0)}})();(function(){dn.presModelCache=null})();(function(){ge.$1=new bw(0,0,0,1)})();(function(){ch.facadeDomId='facadedom';ch.$2$1=null})();(function(){id.$2$1=null})();(function(){hl.$0={};hl.$0['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';hl.$0['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';hl.$0['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';hl.$0['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';hl.$0['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';hl.$0['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';hl.$0['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';hl.$0['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';hl.$0['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';hl.$0['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';hl.$0['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';hl.$0['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';hl.$0['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';hl.$0['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';hl.$0['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';hl.$0['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';hl.$0['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';hl.$0['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';hl.$0['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';hl.$0['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';hl.$0['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';hl.$0['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';hl.$0['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';hl.$0['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';hl.$0['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';hl.$0['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';hl.$0['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';hl.$0['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';hl.$0['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';hl.$0['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';hl.$0['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';hl.$0['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';hl.$0['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';hl.$0['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';hl.$0['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';hl.$0['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';hl.$0['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';hl.$0['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';hl.$0['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';hl.$0['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';hl.$0['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';hl.$0['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';hl.$0['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';hl.$0['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';hl.$0['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';hl.$0['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';hl.$0['TQRC_SHOWME_GLOW']='tableau-1.3/res/showme/glow.png';hl.$0['TQRC_SHOWME_GLOW_2X']='tableau-1.3/res/showme/glow@2x.png';hl.$0['TQRC_SHOWME_GRIPPER']='tableau-1.3/res/showme/gripper.png';hl.$0['TQRC_SHOWME_GRIPPER_2X']='tableau-1.3/res/showme/gripper@2x.png';hl.$0['TQRC_SHOWME_SHOWME']='tableau-1.3/res/showme/showme.png';hl.$0['TQRC_SHOWME_SHOWME_2X']='tableau-1.3/res/showme/showme@2x.png';hl.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER']='tableau-1.3/res/showme/Title-background-hover.png';hl.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER_2X']='tableau-1.3/res/showme/Title-background-hover@2x.png';hl.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST']='tableau-1.3/res/showme/Title-background-rest.png';hl.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST_2X']='tableau-1.3/res/showme/Title-background-rest@2x.png';hl.$0['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';hl.$0['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';hl.$0['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';hl.$0['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';hl.$0['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';hl.$0['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';hl.$0['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';hl.$0['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';hl.$0['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';hl.$0['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';hl.$0['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';hl.$0['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';hl.$0['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';hl.$0['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';hl.$0['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';hl.$0['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';hl.$0['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';hl.$0['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';hl.$0['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';hl.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';hl.$0['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';hl.$0['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';hl.$0['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';hl.$0['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';hl.$0['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';hl.$0['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';hl.$0['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';hl.$0['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';hl.$0['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';hl.$0['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';hl.$0['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';hl.$0['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';hl.$0['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';hl.$0['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';hl.$0['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';hl.$0['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';hl.$0['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';hl.$0['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';hl.$0['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';hl.$0['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';hl.$0['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';hl.$0['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';hl.$0['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';hl.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';hl.$0['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';hl.$0['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';hl.$0['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';hl.$0['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';hl.$0['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';hl.$0['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';hl.$0['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';hl.$0['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';hl.$0['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';hl.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';hl.$0['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';hl.$0['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';hl.$0['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';hl.$0['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';hl.$0['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';hl.$0['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';hl.$0['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';hl.$0['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';hl.$0['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';hl.$0['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';hl.$0['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';hl.$0['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';hl.$0['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';hl.$0['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';hl.$0['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';hl.$0['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';hl.$0['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';hl.$0['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';hl.$0['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';hl.$0['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';hl.$0['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';hl.$0['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';hl.$0['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';hl.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';hl.$0['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';hl.$0['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';hl.$0['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';hl.$0['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';hl.$0['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';hl.$0['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';hl.$0['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';hl.$0['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';hl.$0['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';hl.$0['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';hl.$0['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';hl.$0['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';hl.$0['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';hl.$0['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';hl.$0['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';hl.$0['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';hl.$0['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';hl.$0['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';hl.$0['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';hl.$0['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';hl.$0['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';hl.$0['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';hl.$0['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';hl.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';hl.$0['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';hl.$0['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';hl.$0['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';hl.$0['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';hl.$0['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';hl.$0['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';hl.$0['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';hl.$0['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';hl.$0['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';hl.$0['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';hl.$0['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';hl.$0['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';hl.$0['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';hl.$0['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';hl.$0['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';hl.$0['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';hl.$0['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';hl.$0['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';hl.$0['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';hl.$0['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';hl.$0['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';hl.$0['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';hl.$0['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';hl.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';hl.$0['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';hl.$0['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';hl.$0['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';hl.$0['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';hl.$0['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';hl.$0['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';hl.$0['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';hl.$0['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';hl.$0['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';hl.$0['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';hl.$0['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';hl.$0['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';hl.$0['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';hl.$0['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';hl.$0['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';hl.$0['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';hl.$0['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';hl.$0['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';hl.$0['TQRC_TREE_MINUS']='tableau-1.3/res/others/TreeMinus.png';hl.$0['TQRC_TREE_MINUS_2X']='tableau-1.3/res/others/TreeMinus@2x.png';hl.$0['TQRC_TREE_PLUS']='tableau-1.3/res/others/TreePlus.png';hl.$0['TQRC_TREE_PLUS_2X']='tableau-1.3/res/others/TreePlus@2x.png';hl.$0['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';hl.$0['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';hl.$0['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';hl.$0['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';hl.$0['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';hl.$0['TQRC_ANALYTICSPANE_DROP_POWER']='tableau-1.3/res/analyticspane/drop/trend-power.png';hl.$0['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';hl.$0['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';hl.$0['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';hl.$0['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';hl.$0['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';hl.$0['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';hl.$0['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';hl.$0['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';hl.$0['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';hl.$0['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';hl.$0['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';hl.$0['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';hl.$0['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';hl.$0['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';hl.$0['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';hl.$0['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';hl.$0['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';hl.$0['TQRC_ANALYTICSPANE_OUTLIER']='tableau-1.3/res/analyticspane/outliers.png'})();(function(){ia.$0={}})();(function(){bH.$0='granted'})();(function(){bR.excel='excel';bR.excelDirect='excel-direct';bR.ibmdb2='db2';bR.microsoftSqlServer='sqlserver';bR.mySql='mysql';bR.oracle='oracle';bR.postgreSql='postgres';bR.redshift='redshift';bR.server='sqlproxy';bR.teradata='teradata';bR.text='csv';bR.textScan='textscan'})();(function(){gy.$1=0})();(function(){ce.$4='get_customized_views';ce.$6='set_default_customized_view';ce.$3='destroy_customized_view';ce.$5='save_customized_view';ce.$7='update_customized_view';ce.$2=tab.Logger.getLogger(ce)})();(function(){cq.everyTime=0;cq.hourly=60;cq.daily=1440;cq.weekly=10080;cq.onlyOnce=2147483647})();(function(){cG.$0=null})();(function(){cL.$2=null;if(tab.FeatureFlags.isEnabled('TAA_HybridDialogs')){cL.$2=cL.$1();if(tab.FeatureFlags.isEnabled('BinHybridDialog')){cL.$0('@tableau/numeric-bin-dialog','numeric-bin-dialog','update-numeric-bin-edit-dialog-event')}if(tab.FeatureFlags.isEnabled('EditAxisDialog')){cL.$0('@tableau/edit-axis-dialog','edit-axis-dialog','update-edit-axis-dialog-event')}if(tab.FeatureFlags.isEnabled('DetailedErrorDialogWeb')){cL.$0('@tableau/detailed-error-dialog','detailed-error-dialog','update-detailed-error-dialog-event')}}})();(function(){gc.shapeMapping=null;gc.reverseShapeMapping=null;gc.$1=null;gc.$0=null;gc.lineInterpolationMapping=null;gc.lineMarkerPositionMapping=null;gc.$1={};gc.$1['enable-pan-x']=1;gc.$1['enable-pan-y']=2;gc.$1['enable-zoom-x']=4;gc.$1['enable-zoom-y']=8;gc.$1['enable-scale-x']=16;gc.$1['enable-scale-y']=32;gc.$1['clip-to-cell-x']=64;gc.$1['clip-to-cell-y']=128;gc.$1['clip-to-cell-for-selection']=256;gc.$1['x-axis-on-top']=512;gc.$1['y-axis-on-right']=1024;gc.$1['has-cells-x']=2048;gc.$1['has-cells-y']=4096;gc.$0={};gc.$0['end']=1;gc.$0['endprimitive']=2;gc.$0['closedprimitive']=4;gc.$0['marked']=8;gc.$0['markediflabel']=16;gc.$0['debug']=128;gc.$0['user']=65536;gc.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);gc.reverseShapeMapping={};var e=_.keys(gc.shapeMapping);for(var ex=0;ex<e.length;ex++){var iw=e[ex];gc.reverseShapeMapping[gc.shapeMapping[iw]]=iw}gc.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump']);gc.lineMarkerPositionMapping=ss.mkdict(['0','lmp-left','1','lmp-center','2','lmp-right'])})();(function(){fh.currentPage=4294967295})();(function(){fu.$0=null})();(function(){gf.blackColor=null;var e=(new bw(0,0,0,1)).toRgba();gf.blackColor={};gf.blackColor['colorOverrideNone']=e;gf.blackColor['colorOverrideFog']=e;gf.blackColor['colorOverrideOpaque']=e})();(function(){gi.maxDatasourceCaptionLength=254})();(function(){hs.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){hA.$e=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];hA.$f=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})()})();;
/*! BEGIN TableauRuntime */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabruntime');var b=function(s){this.$b=0;this.$9=0;this.$e=0;this.$a=new Array;this.$d=new Array;this.$7=new Array;this.$c=null;this.$8=null;this.$c=s;this.$a.push(true);this.$8={};this.$d.push(this.$8);this.$7.push([])};b.__typeName='tab.$0';var c=function(){};c.__typeName='tab.Base64HeapDecoder';c.$0=function(s){if(ss.isNullOrUndefined(c.$1)){c.$1=new Array(4);for(var t=0;t<c.$2.length;++t){c.$1[c.$2.charCodeAt(t)]=t}}if(s===61){return 0}else{return c.$1[s]}};c.decodedLength=function(s){var t=0;var u=s.length;var v=u;if(s.charCodeAt(u-2)===61){t=4;v-=2;if(s.charCodeAt(u-1)!==61){throw new ss.Exception('Received incorrectly formatted base64 string!')}}else if(s.charCodeAt(u-1)===61){v-=1;t=2}return ss.Int32.div(v*6-t,8)};c.run=function(s,t,u){var v=u.length;var w=0,x=0,y=0,z=0;var A=0;var B=c.decodedLength(u);for(var C=0;C<v;C+=4){w=c.$0(u.charCodeAt(C));x=c.$0(u.charCodeAt(C+1));y=c.$0(u.charCodeAt(C+2));z=c.$0(u.charCodeAt(C+3));t[s++]=w<<2|x>>>4;A++;if(A<B){t[s++]=(x&15)<<4|y>>>2;A++}if(A<B){t[s++]=(y&3)<<6|z&63;A++}}};global.tab.Base64HeapDecoder=c;var d=function(){};d.__typeName='tab.DataStoreKey';global.tab.DataStoreKey=d;var e=function(){};e.__typeName='tab.DataStoreUtils';e.$0=function(s,t,u,v){if(!tab.MiscUtil.isNullOrEmpty$2(t)){var w={};w.dataType=v;w.stringCollation={};w.stringCollation.name='';w.stringCollation.charsetId=0;w.dataValues=t;s[u]=w}};e.encodingsFromStoreTable=function(s){var t={};e.$0(t,s.cell_x,'cell_x','integer');e.$0(t,s.cell_y,'cell_y','integer');e.$0(t,s.clip_height,'clip_height','real');e.$0(t,s.clip_width,'clip_width','real');e.$0(t,s.color,'color','integer');e.$0(t,s.geometry,'geometry','integer');e.$0(t,s.height,'height','real');e.$0(t,s.mark_flags,'mark_flags','integer');e.$0(t,s.MarkId,'mark_id','integer');e.$0(t,s.pane_page,'pane_page','integer');e.$0(t,s.rho,'rho','real');e.$0(t,s.rho1,'rho1','real');e.$0(t,s.shape_id,'shape_id','integer');e.$0(t,s.size,'size','real');e.$0(t,s.size_label,'size_label','real');e.$0(t,s.text_run_count,'text_run_count','integer');e.$0(t,s.text_run_offset,'text_run_offset','integer');e.$0(t,s.theta,'theta','real');e.$0(t,s.theta1,'theta1','real');e.$0(t,s.trail_id,'trail_id','integer');e.$0(t,s.tuple_id,'tuple_id','integer');e.$0(t,s.width,'width','real');e.$0(t,s.user_pane_row,'user_pane_row','integer');e.$0(t,s.user_pane_col,'user_pane_col','integer');e.$0(t,s.x,'x','real');e.$0(t,s.x1,'x1','real');e.$0(t,s.x_next,'x_next','real');e.$0(t,s.x_prev,'x_prev','real');e.$0(t,s.y,'y','real');e.$0(t,s.y1,'y1','real');e.$0(t,s.y_next,'y_next','real');e.$0(t,s.y_prev,'y_prev','real');return t};e.$2=function(s,t){if(!ss.isNullOrUndefined(t.alpha)){s.intMap['alpha']=t.alpha}if(!ss.isNullOrUndefined(t.background_color)){s.intMap['background_color']=t.background_color}if(!ss.isNullOrUndefined(t.border_color)){s.intMap['border_color']=t.border_color}if(!ss.isNullOrUndefined(t.clip_height)){s.floatMap['clip_height']=t.clip_height}if(!ss.isNullOrUndefined(t.clip_width)){s.floatMap['clip_width']=t.clip_width}if(!ss.isNullOrUndefined(t.draw_border)){s.boolMap['draw_border']=t.draw_border}if(!ss.isNullOrUndefined(t.drop_line_flags)){s.intMap['drop_line_flags']=t.drop_line_flags}if(!ss.isNullOrUndefined(t.halo_color)){s.intMap['halo_color']=t.halo_color}if(!ss.isNullOrUndefined(t.has_folded_axis)){s.boolMap['has_folded_axis']=t.has_folded_axis}if(!ss.isNullOrUndefined(t.has_halos)){s.boolMap['has_halos']=t.has_halos}if(!ss.isNullOrUndefined(t.handle_specials_x)){s.intMap['handle_specials_x']=t.handle_specials_x}if(!ss.isNullOrUndefined(t.handle_specials_y)){s.intMap['handle_specials_y']=t.handle_specials_y}if(!ss.isNullOrUndefined(t.has_empty_or_equal_axis)){s.boolMap['has_empty_or_equal_axis']=t.has_empty_or_equal_axis}if(!ss.isNullOrUndefined(t.height)){s.floatMap['height']=t.height}if(!ss.isNullOrUndefined(t.highlighted_halo_color)){s.intMap['highlighted_halo_color']=t.highlighted_halo_color}if(!ss.isNullOrUndefined(t.is_log_x)){s.boolMap['is_log_x']=t.is_log_x}if(!ss.isNullOrUndefined(t.is_log_y)){s.boolMap['is_log_y']=t.is_log_y}if(!ss.isNullOrUndefined(t.label_one_per_group)){s.boolMap['label_one_per_group']=t.label_one_per_group}if(!ss.isNullOrUndefined(t.label_target_primitive_id)){s.intMap['label_target_primitive_id']=t.label_target_primitive_id}if(!ss.isNullOrUndefined(t.line_interp)){s.intMap['line_interp']=t.line_interp}if(!ss.isNullOrUndefined(t.line_mark_pos)){s.intMap['line_mark_pos']=t.line_mark_pos}if(!ss.isNullOrUndefined(t.mark_flags)){s.intMap['mark_flags']=t.mark_flags}if(!ss.isNullOrUndefined(t.mark_label_padding)){s.intMap['mark_label_padding']=t.mark_label_padding}if(!ss.isNullOrUndefined(t.mark_trail_auto_color)){s.boolMap['mark_trail_auto_color']=t.mark_trail_auto_color}if(!ss.isNullOrUndefined(t.mark_trail_color)){s.intMap['mark_trail_color']=t.mark_trail_color}if(!ss.isNullOrUndefined(t.mark_trail_count)){s.intMap['mark_trail_count']=t.mark_trail_count}if(!ss.isNullOrUndefined(t.mark_trail_end_effect)){s.floatMap['mark_trail_end_effect']=t.mark_trail_end_effect}if(!ss.isNullOrUndefined(t.mark_trail_start_effect)){s.floatMap['mark_trail_start_effect']=t.mark_trail_start_effect}if(!ss.isNullOrUndefined(t.mark_trail_transparency)){s.boolMap['mark_trail_transparency']=t.mark_trail_transparency}if(!ss.isNullOrUndefined(t.min_bar_height)){s.intMap['min_bar_height']=t.min_bar_height}if(!ss.isNullOrUndefined(t.min_bar_width)){s.intMap['min_bar_width']=t.min_bar_width}if(!ss.isNullOrUndefined(t.page_trail_marks_to_trail)){s.intMap['page_trail_marks_to_trail']=t.page_trail_marks_to_trail}if(!ss.isNullOrUndefined(t.pane_flags)){s.intMap['pane_flags']=t.pane_flags}if(!ss.isNullOrUndefined(t.pane_has_background)){s.boolMap['pane_has_background']=t.pane_has_background}if(!ss.isNullOrUndefined(t.selected_halo_color)){s.intMap['selected_halo_color']=t.selected_halo_color}if(!ss.isNullOrUndefined(t.selected_multi_prim_halo_color)){s.intMap['selected_multi_prim_halo_color']=t.selected_multi_prim_halo_color}if(!ss.isNullOrUndefined(t.shape_id)){s.intMap['shape_id']=t.shape_id}if(!ss.isNullOrUndefined(t.ShowRunningOrderLabels)){s.boolMap['ShowRunningOrderLabels']=t.ShowRunningOrderLabels}if(!ss.isNullOrUndefined(t.size)){s.floatMap['size']=t.size}if(!ss.isNullOrUndefined(t.width)){s.floatMap['width']=t.width}if(!ss.isNullOrUndefined(t.wrap_domain)){s.boolMap['wrap_domain']=t.wrap_domain}};e.$1=function(s,t){e.$2(s,t.Parameters)};e.pdMarksPresModelFromKeyMap=function(s){var t={};t.markLayoutPrimitive=f.primitiveFromInt(s.MarkLayoutData.Parameters.PrimitiveType);t.markLayoutVizType=f.vizTypeFromInt(s.MarkLayoutData.Parameters.VizType);t.boolMap={};t.intMap={};t.floatMap={};e.$3(t,s);t.encodingColumns=e.encodingsFromStoreTable(s.Encodings);if(!ss.isNullOrUndefined(s.TextRunTable)){t.textRunColumns=e.textRunsFromTable(s.TextRunTable)}if(!ss.isNullOrUndefined(s.TextStyleTable)){t.textStyleColumns=e.textStylesFromTable(s.TextStyleTable)}if(!ss.isNullOrUndefined(s.MarkLayoutData.geoTable)){t.markGeometries=s.MarkLayoutData.geoTable}return t};e.$3=function(s,t){s.intMap['color']=t.color;s.boolMap['has_per_mark_color_encoding']=t.has_per_mark_color_encoding;s.boolMap['has_per_mark_size_encoding']=t.has_per_mark_size_encoding;s.boolMap['is_mark_stacked']=t.is_mark_stacked;s.boolMap['ShowLabels']=t.ShowLabels;s.intMap['LabelMode']=t.LabelMode;e.$1(s,t.MarkLayoutData)};e.textRunsFromTable=function(s){if(!ss.isNullOrUndefined(s.text_run_x_remote)&&ss.isValue(s.text_run_x_remote)){s.text_run_x=s.text_run_x_remote}if(!ss.isNullOrUndefined(s.text_run_y_remote)&&ss.isValue(s.text_run_y_remote)){s.text_run_y=s.text_run_y_remote}var t={};e.$0(t,s.has_font_size_override,'has_font_size_override','boolean');e.$0(t,s.text_run,'text_run','cstring');e.$0(t,s.text_run_x,'text_run_x','real');e.$0(t,s.text_run_x_remote,'text_run_x_remote','real');e.$0(t,s.text_run_y,'text_run_y','real');e.$0(t,s.text_run_y_remote,'text_run_y_remote','real');e.$0(t,s.text_style_id,'text_style_id','integer');return t};e.textStylesFromTable=function(s){var t={};e.$0(t,s.ascent,'ascent','real');e.$0(t,s.font,'font','cstring');e.$0(t,s.font_height,'font_height','real');e.$0(t,s.font_size,'font_size','integer');e.$0(t,s.font_style,'font_style','integer');e.$0(t,s.font_weight,'font_weight','integer');e.$0(t,s.hAlign,'hAlign','integer');e.$0(t,s.leading,'leading','real');e.$0(t,s.strikethrough,'strikethrough','boolean');e.$0(t,s.text_alignment,'text_alignment','integer');e.$0(t,s.text_decoration,'text_decoration','integer');e.$0(t,s.text_orientation,'text_orientation','integer');e.$0(t,s.text_style_color,'text_style_color','cstring');e.$0(t,s.text_wrap_mode,'text_wrap_mode','integer');e.$0(t,s.underline,'underline','boolean');e.$0(t,s.vAlign,'vAlign','integer');return t};global.tab.DataStoreUtils=e;var f=function(){};f.__typeName='tab.EnumConversions';f.visualPartFromInt=function(s){if(ss.isNullOrUndefined(f.$1)){f.$1=['misc','annotations','axis-rules','top-axis','bottom-axis','left-axis','right-axis','background','borders','caption','cell-borders','decoration','drop-lines','x-labels','y-labels','legends','marks','mark-labels','mark-trails','ref-bands','ref-lines','pane-borders','scroll-bars','title','trend-lines','upper-map-layers']}return f.$1[s]};f.primitiveFromInt=function(s){if(ss.isNullOrUndefined(f.$0)){f.$0=['shape','line','bar','polar-bar','text','label','pie','area','polygon','multipolygon','square']}return f.$0[s]};f.vizTypeFromInt=function(s){if(ss.isNullOrUndefined(f.$2)){f.$2=['standard','oo-stacked','gantt-stacked','treemap','bubble','wordle','highlight']}return f.$2[s]};global.tab.EnumConversions=f;var g=function(){};g.__typeName='tab.FallbackTextDecoder';g.decode=function(s){var t,u,v,w,x,y;var z=0;var A='';while(z<s.byteLength){t=s[z++];if(t===0){return A}if((t&128)===0){A+=String.fromCharCode(t);continue}u=s[z++]&63;if((t&224)===192){A+=String.fromCharCode((t&31)<<6|u);continue}v=s[z++]&63;if((t&240)===224){t=(t&15)<<12|u<<6|v}else{w=s[z++]&63;if((t&248)===240){t=(t&7)<<18|u<<12|v<<6|w}else{x=s[z++]&63;if((t&252)===248){t=(t&3)<<24|u<<18|v<<12|w<<6|x}else{y=s[z++]&63;t=(t&1)<<30|u<<24|v<<18|w<<12|x<<6|y}}}if(t<65536){A+=String.fromCharCode(t)}else{var B=t-65536;A+=String.fromCharCode(55296|B>>10,56320|B&1023)}}return A};global.tab.FallbackTextDecoder=g;var h=function(){};h.__typeName='tab.HuttUtils';h.getMappedArray=function(s,t,u,v){switch(s){case 32:{return new Uint8Array(t,u,v)}case 33:{return new Uint16Array(t,u,v)}case 34:{return new Uint32Array(t,u,v)}case 40:{return new Int8Array(t,u,v)}case 41:{return new Int16Array(t,u,v)}case 42:{return new Int32Array(t,u,v)}case 50:{return new Float32Array(t,u,v)}case 51:{return new Float64Array(t,u,v)}}throw new ss.Exception('Unsupported array type: '+s)};h.getMappedArrayJabba=function(s,t,u,v){var w=h.$0(s);var x=ss.Int32.div(v,h.$0(s));switch(s){case 32:{return new Uint8Array(t,u,x)}case 33:{return new Uint16Array(t,u,x)}case 34:{return new Uint32Array(t,u,x)}case 40:{return new Int8Array(t,u,x)}case 41:{return new Int16Array(t,u,x)}case 42:{return new Int32Array(t,u,x)}case 50:{return new Float32Array(t,u,x)}case 51:{return new Float64Array(t,u,x)}}throw new ss.Exception('Unsupported array type: '+s)};h.$0=function(s){var t=s;return 1<<(t&7)};global.tab.HuttUtils=h;var i=function(s,t){this.typeId=0;this.encoding=0;this.dataOffset=0;this.dataSize=0;this.typeId=s[t+0];this.encoding=s[t+1];this.dataOffset=s[t+2];this.dataSize=s[t+3]};i.__typeName='tab.JabbaManifest';global.tab.JabbaManifest=i;var j=function(s){this.$8=null;this.$b=null;this.$c=0;this.$9=0;this.$a=0;this.$d=[];this.unpacked=[];this.$b=s;this.$7()};j.__typeName='tab.JabbaUnpacker';global.tab.JabbaUnpacker=j;var k=function(s){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=s;this.jabba=new j(s);this.data=new m(this.jabba);this.$0()};k.__typeName='tab.JsHeapMarshaller';k.$1=function(s,t){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=s;this.jabba=null;var u=new Int32Array(this.heap,t,10);this.data=new m.$ctor1(u,this.heap);this.$0()};k.unmarshall$1=function(s,t){var u=new k.$1(s,t);var v=new b(u);return v.$0()};k.unmarshall=function(s){var t=new k(s);var u=new b(t);return u.$0()};k.unmarshallHex=function(s){return k.unmarshall(k.$0(s))};k.unmarshallBase64=function(s){var t=c.decodedLength(s);var u=new Uint8Array(t);c.run(0,u,s);return k.unmarshall(u.buffer)};k.$0=function(s){var t=new Uint8Array(ss.Int32.div(s.length,2));for(var u=0;u<s.length;u+=2){t[ss.Int32.div(u,2)]=parseInt(s.substr(u,2),16)}return t.buffer};global.tab.JsHeapMarshaller=k;var l=function(s){this.$6=0;this.$5=null;this.$6=0;this.$5=s};l.__typeName='tab.LinearFloatGeometryDecoder';global.tab.LinearFloatGeometryDecoder=l;var m=function(s){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;var t=s.unpacked.length-5;this.stringBuffer=s.unpacked[t];this.stringLengths=s.unpacked[t+1];this.opCodes=s.unpacked[t+2];this.intBuffer=s.unpacked[t+3];this.doubleBuffer=s.unpacked[t+4]};m.__typeName='tab.MarshalledVectors';m.$ctor1=function(s,t){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;this.stringBuffer=new Uint8Array(t,s[0],s[1]);this.stringLengths=new Uint32Array(t,s[2],s[3]);this.opCodes=new Uint8Array(t,s[4],s[5]);this.intBuffer=new Int32Array(t,s[6],s[7]);this.doubleBuffer=new Float64Array(t,s[8],s[9])};global.tab.MarshalledVectors=m;var n=function(s,t){this.$0=null;if(!ss.isNullOrUndefined(s.StartIndex)){var u=s.StartIndex.length;var v=s.PaneCol;var w=s.PanePage;var x=s.PaneRow;var y=t.ColumnCount;var z=t.RowCount;var A=s.StartIndex;var B=s.EndIndex;this.$0=new Array(y*z);for(var C=0;C<this.$0.length;++C){this.$0[C]=new Array(2*t.PageCount);for(var D=0;D<this.$0[C].length;++D){this.$0[C][D]=0}}for(var E=0;E<u;++E){var F=v[E]+x[E]*y;var G=w[E];this.$0[F][G*2]=A[E];this.$0[F][G*2+1]=B[E]}}};n.__typeName='tab.PaneDataStoreTable';global.tab.PaneDataStoreTable=n;var o=function(s){this.finalDataStore=null;this.paneStoreTable=null;this.labelsPaneStoreTable=null;if(s.charCodeAt(0)===123){{var t=tabBootstrap.MetricsController.createContext('RTCONV'.toString(),4,null);try{this.finalDataStore=JSON.parse(s)}finally{if(ss.isValue(t)){t.dispose()}}}}else if(tab.FeatureFlags.isEnabled('RuntimeWebUseHuttSerialization')){if(tab.FeatureFlags.isEnabled('RuntimeWebUseHexEncoding')){this.finalDataStore=k.unmarshallHex(s)}else{this.finalDataStore=k.unmarshallBase64(s)}}if(tab.ObjectCoverage.shouldTrack('runtime-datastore')){this.finalDataStore=(new tab.ObjectCoverage('runtime-datastore')).instrument(this.finalDataStore,'')}this.paneStoreTable=new n(this.finalDataStore.PageIntervalTable,this.finalDataStore.PaneCount);this.labelsPaneStoreTable=new n(this.finalDataStore.AnnexedData.LabelStore.PageIntervalTable,this.finalDataStore.PaneCount)};o.__typeName='tab.RuntimeData';global.tab.RuntimeData=o;var p=function(){};p.__typeName='tab.RuntimeUtil';p.constructRuntimeData=function(s){if(!p.$0&&tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){Module.registerCollatorPool();Module.registerExternals();p.$0=true}return new o(s)};p.toRectanglePresModel=function(s,t,u,v){var w={};w.doubleLeft=s;w.doubleTop=t;w.width=u-s;w.height=v-t;return w};p.toRectanglePresModel$1=function(s,t,u,v){var w={};w.x=s;w.y=t;w.w=u-s;w.h=v-t;return w};global.tab.RuntimeUtil=p;var q=function(){};q.__typeName='tab.Utf8TextDecoder';q.decode=function(s){if(q.$1){return g.decode(s)}else{return q.$0.decode(s)}};global.tab.Utf8TextDecoder=q;var r=function(){};r.__typeName='tab.VisualKeys';global.tab.VisualKeys=r;ss.initClass(b,a,{$0:function(){var s=this.$c.data.opCodes.length;this.$e=0;while(this.$e<s){var t=this.$c.data.opCodes[this.$e];if(3===t){this.$3()}else{this.$1(t)}++this.$e}return this.$8},$2:function(s){var t=null;if(s===5){t=this.$c.data.intBuffer[this.$b++]}else if(s===4){t=this.$c.data.doubleBuffer[this.$9++]}else if(s===6){t=true}else if(s===7){t=false}var u=[];var v=this.$c.data.intBuffer[this.$b++];for(var w=0;w<v;++w){u[w]=t}return u},$3:function(){if(ss.arrayPeekBack(this.$a)){this.$d.pop()}else{this.$7.pop()}this.$a.pop()},$1:function(s){var t=null;var u='';var v=ss.arrayPeekBack(this.$a);var w=ss.arrayPeekBack(this.$d);var x=ss.arrayPeekBack(this.$7);if(v){var y=this.$c.data.intBuffer[this.$b++];if(y<0){u=-y}else{u=this.$c.stringTable[y]}}if(65===s){++this.$e;var z=this.$c.data.opCodes[this.$e];t=this.$2(z)}else if(64===s){t=this.$5()}else if(s>=32&&s<64){t=this.$6(s)}else{t=this.$4(s)}if(v){w[u]=t}else{x.push(t)}},$5:function(){var s=this.$c.data.intBuffer[this.$b++];var t=this.$c.data.intBuffer[this.$b++];var u=[];var v;if(ss.isValue(this.$c.jabba)){v=this.$c.jabba.unpacked[s]}else{v=new Uint32Array(this.$c.heap,s,t)}var w=this.$c.stringTable;for(var x=0;x<v.length;x++){var y=v[x];u.push(w[y])}return u},$6:function(s){var t=this.$c.data.intBuffer[this.$b++];var u=this.$c.data.intBuffer[this.$b++];if(ss.isValue(this.$c.jabba)){return this.$c.jabba.unpacked[t]}else{return h.getMappedArray(s,this.$c.heap,t,u)}},$4:function(s){switch(s){case 1:{this.$a.push(true);this.$d.push({});return ss.arrayPeekBack(this.$d)}case 2:{this.$a.push(false);this.$7.push([]);return ss.arrayPeekBack(this.$7)}case 4:{return this.$c.data.doubleBuffer[this.$9++]}case 5:{return this.$c.data.intBuffer[this.$b++]}case 6:{return true}case 7:{return false}case 8:{return this.$c.stringTable[this.$c.data.intBuffer[this.$b++]]}case 9:{return null}}throw new ss.Exception('Invalid OpCode: '+s.toString())}});ss.initClass(c,a,{});ss.initEnum(d,a,{x:1,x1:2,y:3,y1:4,tupleId:5,min:6,max:7,paneId:8,uniqueID:9,dataType:10,rangeType:11,isLog:12,foldState:13,isReversed:14,includeZero:15,omitSpecials:16,xAxisModelData:17,yAxisModelData:18,xAxisRangeData:19,yAxisRangeData:20,xAxisTable:21,yAxisTable:22,isValid:23,displayScale:24,actualZoomLevel:25,coverage:26,minResult:27,maxResult:28,zeroResult:29,minRangeResult:30,maxRangeResult:31,pixelSize:32,barLabelsOverflow:33,cellCount:34,axisSizes:35,ranges:36,uniqueRanges:37,rangeMap:38,pointExtendedRanges:39,beforeMarkExtendRanges:40,afterMarkExtendRanges:41,relevantRanges:42,refLineExtents:43,showEntireImagePaneIndex:44,showEntireImageMax:45,showEntireImageMin:46,paneCol:47,key:48,paneRow:49,pxLeft:50,pxTop:51,pxRight:52,pxBottom:53,domainLeft:54,domainTop:55,domainRight:56,domainBottom:57,mapDomainLeft:58,mapDomainTop:59,mapDomainRight:60,mapDomainBottom:61,originX:62,originY:63,xRangeMin:64,xRangeMax:65,yRangeMin:66,yRangeMax:67,rowCount:68,columnCount:69,pageCount:70,panePage:71,startIndex:72,endIndex:73,isMap:74,hasPosition:75,lockedRatioOfScales:76,defaultMinX:77,defaultMaxX:78,defaultMinY:79,defaultMaxY:80,defaultXSize:81,defaultYSize:82,singleItemMapDelta:83,hasMapProvider:84,pixelsPerCRSUnitAtZoomLevel1:85,maxScaleLevel:86,intermediateLevels:87,tileSize:88,isTileSizeAdjustable:89,minShrink:90,maxStretch:91,haveAnyMarks:92,paneExtentsStaticInput:93,paneExtentsPixelPositions:94,paneExtents:95,paneCount:96,pageIntervalTable:97,noMarksColumnTemplate:98,noPanesColumnTemplate:99,paneRowCol:100,mappedRows:101,mappedCols:102,rangePaddingMin:103,boundingBoxTops:104,boundingBoxBottoms:105,boundingBoxLefts:106,boundingBoxRights:107,latitudesForNullGeometries:108,longitudesForNullGeometries:109,latitudes:110,longitudes:111,showEntireImageHasImages:112,lockedRatio:113,mapLayersModelUpdate:114,color:115,colors:116,defaultParamID:117,haloColor:118,lineTupleIds:119,lowerEnds:120,maxAlpha:121,oppositeAxes:122,renderOnTop:123,tupleIds:124,type:125,upperEnds:126,useYAxis:127,widths:128,fieldType:129,domainMin:130,domainMax:131,rangeMin:132,rangeMax:133,column:134,drawPanes:135,rect:136,predictionMarks:137,row:138,xNumberMap:139,yNumberMap:140,pdMarks:141,panes:142,userPaneInfo:143,mapCode:144,mapLayersModel:145,mapProvider:146,mappedImageModel:147,modelNumber:148,sourceName:149,waitForImages:150,waitTileFill:151,wrapCount:152,drawFirsts:153,drawLasts:154,inheritedSceneBackgroundColor:155,isSceneBackgroundOpaque:156,labelStore:157,mapPackage:158,perPaneExtents:159,activePages:160,annexedData:161,axisOutput:162,gridLines:163,refLines:164,supportedIncrementalUpdates:165,tickPlacement:166,viewpoint:167,headerCount:168,lineColor:169,lineStyle:170,lineWidth:171,zeroLineColor:172,zeroLineStyle:173,zeroLineWidth:174,zeroPointIsMeaningful:175,zeroPoint:176,gridLinePlacement:177,dataTable:178,flattenedColorEncodings:179,flattenedShapeEncodings:180,flattenedSizeEncodings:181,markId:182,cellX:183,cellY:184,xProj:185,yProj:186,currentStackValue:187,previousStackValue:188,primitiveId:189,scaledStartPoint:190,scaledEndPoint:191,prevLowerValue:192,nextLowerValue:193,lookup:194,paneIndex:195,cellIndex:196,supportedClientUpdates:197,supportedDesktopUpdates:198,axisProducerData:199,encodingData:200,extendedDomain:201,gridLineProducerData:202,markLayoutTempKeys:203,tickProducerData:204,pdMarksData:205,partition:206,incrementalUpdateData:207,viewParametersData:208,paneStyles:209,height:210,markFlags:211,textRunCount:212,textRunOffset:213,userPaneCol:214,userPaneRow:215,width:216,textEncodingTable:217,textRunTable:218,textStyleTable:219,xCellOffsets:220,xPixelOffsets:221,yCellOffsets:222,yPixelOffsets:223,colorEncodingKeys:224,shapeEncodingKeys:225,sizeEncodingKeys:226,measureNamesKeys:227,palette:228,isDiverging:229,fixedMin:230,fixedMax:231,fixedCenter:232,steps:233,divergingPalette:234,reversedPalette:235,defaultPalette:236,size:237,unscaledSize:238,hasPerMarkEncoding:239,defaultMarkColor:240,defaultShape:241,defaultSize:242,xFloat:243,yFloat:244,clipHeight:245,clipWidth:246,geometry:247,rho:248,rho1:249,shapeId:250,sizeLabel:251,theta:252,theta1:253,trailId:254,xNext:255,xPrev:256,yNext:257,yPrev:258,alpha:259,backgroundColor:260,borderColor:261,drawBorder:262,dropLineFlags:263,hasFoldedAxis:264,hasHalos:265,handleSpecialsX:266,handleSpecialsY:267,hasEmptyOrEqualAxis:268,highlightedHaloColor:269,isLogX:270,isLogY:271,labelOnePerGroup:272,labelTargetPrimitiveId:273,lineInterpolation:274,lineMarkerPosition:275,markLabelPadding:276,markTrailAutoColor:277,markTrailColor:278,markTrailCount:279,markTrailEndEffect:280,markTrailStartEffect:281,markTrailTransparency:282,minBarHeight:283,minBarWidth:284,pageTrailMarksToTrail:285,paneFlags:286,paneHasBackground:287,primitiveType:288,selectedHaloColor:289,selectedMultiPrimHaloColor:290,showRunningOrderLabels:291,trailOverrides:292,vizType:293,wrapDomain:294,parameters:295,geometryTable:296,textCompositionInputKeys:297,textTableHelper:298,wordleRandomKeys:299,xDomains:300,xHiddenMarks:301,yDomains:302,yHiddenMarks:303,domain:304,ellipses:305,encodings:306,hasPerMarkColorEncoding:307,hasPerMarkSizeEncoding:308,isMarkStacked:309,markLayoutData:310,textTable:311,treemapKeys:312,showLabels:313,labelMode:314,cellSizeDefault:315,cellSizeDefaultConst:316,colorBeforeAlpha:317,markStackIndex:318,markFlagsX:319,markFlagsY:320,predictionIntervalLowerEnd:321,predictionIntervalUpperEnd:322,predictionWhiskerWidth:323,sizeGantt:324,sizeOutputs:325,xRawInput:326,yRawInput:327,lookupColor:328,xPriorToWrap:329,packedLayout:330,hierarchyDepth:331,hierarchyTables:332,referenceLineSpecId:333,linePattern:334,lineCap:335,lineJoin:336,labelBackgroundColor:337,axisKeyPath:338,referenceLineType:339,formulaType:340,labelType:341,enableInstantRefline:342,calculationScope:343,confidencePercentage:344,constantValue:345,formattedConstantValue:346,tileCount:347,standardDevType:348,fillBelow:349,fillAbove:350,customLabel:351,zOrder:352,referenceLineStyleId:353,axisOrientation:354,xDomainLookup:355,yDomainLookup:356,pageNumber:357,value:358,labelText:359,referenceLineDetails:360,xAxisStyles:361,yAxisStyles:362,xFillColors:363,yFillColors:364,applicablePanes:365,referenceLineTotalTableMap:366,hAligns:367,vAligns:368,layoutElements:369,xValues:370,yValues:371,labels:372,textRun:373,textStyle:374,index:375,labelIndex:376,pxAbove:377,pxBelow:378,perTable:379,perPane:380,perCell:381,minPageNumber:382,maxPageNumber:383,currentPage:384,layoutSize:385,hasFontSizeOverride:386,textRunString:387,textRunX:388,textRunXRemote:389,textRunY:390,textRunYRemote:391,textStyleId:392,ascent:393,font:394,fontHeight:395,fontSize:396,fontStyle:397,fontWeight:398,hAlign:399,leading:400,strikethrough:401,textAlignment:402,textDecoration:403,textOrientation:404,textStyleColor:405,textWrapMode:406,underline:407,vAlign:408,isTextTable:409,formattedTextStyleTable:410,formattedTextRunOffset:411,formattedTextRunCount:412,formattedTextRunTable:413,textMaxWidth:414,textMaxHeight:415,textScaleFactor:416,textRangeFactor:417,textFontMin:418,textFitStyle:419,textRunPosition:420,vtlBlockIndex:421,columnFormatIndex:422,dateTimeOriginReference:423,dateTimeSpacingReference:424,dateTimeSpacingUnitsReference:425,daysLabelWidth:426,hoursLabelWidth:427,fiscalYearStart:428,labelFontIndex:429,labelHeight:430,logBaseReference:431,minSpacing:432,monthsLabelWidth:433,originReference:434,minutesLabelWidth:435,perpendicularLabels:436,quartersLabelWidth:437,secondsLabelWidth:438,spacingReference:439,targetTickSpacing:440,weeksLabelWidth:441,yearsLabelWidth:442,formatters:443,formatterIndex:444,perHeaderData:445,daysPossibleFreqs:446,hoursPossibleFreqs:447,monthsPossibleFreqs:448,minutesPossibleFreqs:449,quartersPossibleFreqs:450,secondsPossibleFreqs:451,weeksPossibleFreqs:452,yearsPossibleFreqs:453,columnFormat:454,labelFont:455,numericFormatDivisor:456,numericFormatSuffix:457,encodedTickPositionsIndex:458,spacing:459,origin:460,includeViewEdges:461,dateTimeSpacing:462,dateTimeSpacingUnit:463,dateTimeOrigin:464,encodingMin:465,encodingMax:466,perHeaderTickPlacement:467,encodedTickPositions:468,count:469});ss.initClass(e,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{$5:function(s){var t=0;for(var u=0;u<s.length;u+=2){t+=ss.Int32.trunc(s[u])}var v=new Float32Array(t);var w=0;for(var x=0;x<s.length;x+=2){var y=ss.Int32.trunc(s[x]);var z=s[x+1];for(var A=0;A<y;A++){v[w++]=z}}return v},$6:function(s){var t=0;for(var u=0;u<s.length;u+=2){t+=ss.Int32.trunc(s[u])}var v=new Float64Array(t);var w=0;for(var x=0;x<s.length;x+=2){var y=ss.Int32.trunc(s[x]);var z=s[x+1];for(var A=0;A<y;A++){v[w++]=z}}return v},$7:function(){this.$3();this.$4();this.$8=new Uint8Array(this.$a);var s=0;var t=0;for(var u=0;u<this.$d.length;u++){var v=this.$d[u];t=s;var w=this.$2(v,s);s+=w;s+=this.$0(s,8);if(v.encoding===3){if(v.typeId===51){var x=h.getMappedArrayJabba(51,this.$8.buffer,t,w);var y=this.$6(x);this.unpacked.push(y)}else if(v.typeId===50){var z=h.getMappedArrayJabba(50,this.$8.buffer,t,w);var A=this.$5(z);this.unpacked.push(A)}}else{this.unpacked.push(h.getMappedArrayJabba(v.typeId,this.$8.buffer,t,w))}}},$0:function(s,t){return(t-s%t)%t},$2:function(s,t){var u=new Uint8Array(this.$b,this.$9+s.dataOffset,s.dataSize);if(s.encoding===0||s.encoding===3){this.$8.set(u,t)}else if(s.encoding===2){return this.$1(u,t)}else{throw new ss.Exception('Unsupported encoding: '+s.encoding)}return s.dataSize},$1:function(s,t){var u=0;var v=0;var w=0;var x=new Int32Array(this.$8.buffer,t);while(v<s.length){if(s[v]<=240){var y=s[v];u=(y>>>1^-(y&1))+u;v+=1}else if(s[v]<=248){var z=240+256*(s[v]-241)+s[v+1];u=(z>>>1^-(z&1))+u;v+=2}else if(s[v]===249){var A=2288+256*s[v+1]+s[v+2];u=(A>>>1^-(A&1))+u;v+=3}else if(s[v]===250){var B=s[v+1]*65536+s[v+2]*256+s[v+3];u=(B>>>1^-(B&1))+u;v+=4}else if(s[v]===251){var C=s[v+1]*16777216+s[v+2]*65536+s[v+3]*256+s[v+4];u=(C>>>1^-(C&1))+u;v+=5}else if(s[v]===252){var D=s[v+1]*1+s[v+2]*16777216+s[v+3]*65536+s[v+4]*256+s[v+5];u=(D>>>1^-(D&1))+u;v+=6}x[w++]=ss.Int32.trunc(u)}return w*4},$3:function(){var s=new DataView(this.$b);var t=s.getUint16(0,true);var u=s.getUint16(2,true);this.$a=s.getInt32(4,true);this.$c=s.getInt32(8,true);this.$9=s.getInt32(12,true);if(t!==43962){throw new ss.Exception('Magic number mismatch: '+t)}if(u!==1){throw new ss.Exception('Unsupported JABBA version '+u)}},$4:function(){var s=new Uint32Array(this.$b,16,this.$c*Uint32Array.BYTES_PER_ELEMENT);for(var t=0;t<this.$c;t++){this.$d.push(new i(s,t*Uint32Array.BYTES_PER_ELEMENT))}}});ss.initClass(k,a,{$0:function(){var s=this.data.stringBuffer.byteOffset;var t=this.data.stringLengths.length;for(var u=0;u<t;u++){var v=this.data.stringLengths[u];this.stringTable[u]=q.decode(new Uint8Array(this.data.stringBuffer.buffer,s,v));s+=v}}});k.$1.prototype=k.prototype;ss.initClass(l,a,{processEncodedGeometry:function(){switch(ss.Int32.trunc(this.$5[this.$6++])){case 1:{return this.$4()}case 2:{return this.$2()}case 3:{return this.$3()}default:{this.$1();return null}}},$3:function(){var s={};s.geometryType='multiPoint';var t={};s.multiPoint=t;t.pointsF=this.$0();return s},$2:function(){var s={};s.geometryType='multiLineString';var t={};var u=null;while(this.$5[this.$6]!==7&&this.$6<this.$5.length){switch(ss.Int32.trunc(this.$5[this.$6++])){case 4:{t={};t.lineList=[];s.multiLine=t;break}case 6:{u={};t.lineList.push(u);u.pointsF=this.$0();break}default:{this.$1();break}}}return s},$4:function(){var s={};s.geometryType='multiPolygon';var t=null;var u=null;var v=null;while(this.$5[this.$6]!==7&&this.$6<this.$5.length){switch(ss.Int32.trunc(this.$5[this.$6++])){case 4:{t={};s.multiPolygon=t;t.polygonList=[];break}case 5:{u={};u.lineList=[];t.polygonList.push(u);break}case 6:{v={};u.lineList.push(v);v.pointsF=this.$0();break}default:{this.$1();break}}}return s},$0:function(){var s=ss.Int32.trunc(this.$5[this.$6++]);var t=new Array(s);for(var u=0;u<s;u++){t[u]=this.$5[this.$6++]}return t},$1:function(){throw new ss.Exception('Invalid geometry data around position '+this.$6)}});ss.initClass(m,a,{});m.$ctor1.prototype=m.prototype;ss.initClass(n,a,{getStartIndex:function(s,t){return this.$0[s][t*2]},getEndIndex:function(s,t){return this.$0[s][t*2+1]},getPageIndices:function(s){return this.$0[s]}});ss.initClass(o,a,{populateLabels:function(s,t){var u=this.finalDataStore.AnnexedData.LabelStore;s.pdMarksMap=this.getLabelsPDMarks();s.panes=new Array(u.Panes.length);for(var v=0;v<u.Panes.length;++v){var w={};var x=u.Panes[v];var y=x.DrawPanes;w.columnIndex=x.Column;w.rowIndex=x.Row;w.paneRect=p.toRectanglePresModel$1(x.Rect[0],x.Rect[1],x.Rect[2],x.Rect[3]);w.drawPane=new Array(y.length);for(var z=0;z<w.drawPane.length;++z){var A={};var B=y[z];A.visualPart=f.visualPartFromInt(B[0]);var C={};C.paneIndex=B[1];this.populateLabelsPaneMarks(C,t);var D={};D['columnIndex'.toString()]=x.Column;D['rowIndex'.toString()]=x.Row;C.paneId=D;A.paneMarks=C;w.drawPane[z]=A}s.panes[v]=w}},$0:function(s,t,u,v){if(ss.isNullOrUndefined(v)){v=0}var w=s.paneIndex;s.paneDescrKey=t.PaneKey[w];var x=p.toRectanglePresModel$1(t.pane_px_left[w],t.pane_px_top[w],t.pane_px_right[w],t.pane_px_bottom[w]);var y=p.toRectanglePresModel(t.DomainLeft[w],t.DomainTop[w],t.DomainRight[w],t.DomainBottom[w]);var z=p.toRectanglePresModel(t.MapDomainLeft[w],t.MapDomainTop[w],t.MapDomainRight[w],t.MapDomainBottom[w]);s.pixelExtents=x;s.domainExtents=y;s.domainOrigin={};s.mapDomainExtents=z;if(!ss.isNullOrUndefined(t.OriginX)&&!ss.isNullOrUndefined(t.OriginY)){s.domainOrigin.floatX=t.OriginX[w];s.domainOrigin.floatY=t.OriginY[w]}else{s.domainOrigin.floatX=0;s.domainOrigin.floatY=0}s.startIndex=u.getStartIndex(s.paneIndex,v);s.endIndex=u.getEndIndex(s.paneIndex,v);s.pageIndices=u.getPageIndices(s.paneIndex)},populatePaneMarks:function(s,t){this.$0(s,this.finalDataStore.Viewpoint.PerPaneExtents,this.paneStoreTable,t)},populateLabelsPaneMarks:function(s,t){this.$0(s,this.finalDataStore.Viewpoint.PerPaneExtents,this.labelsPaneStoreTable,t)},getPDMarksPresModels:function(){var s={};var t=new ss.ObjectEnumerator(this.finalDataStore.PDMarks);try{while(t.moveNext()){var u=t.current();s[u.key]=e.pdMarksPresModelFromKeyMap(this.finalDataStore.PDMarks[u.key])}}finally{t.dispose()}return s},getLabelsPDMarks:function(){var s={};var t=this.finalDataStore.AnnexedData.LabelStore;var u=new ss.ObjectEnumerator(t.PDMarks);try{while(u.moveNext()){var v=u.current();s[v.key]=e.pdMarksPresModelFromKeyMap(t.PDMarks[v.key])}}finally{u.dispose()}return s}});ss.initClass(p,a,{});ss.initClass(q,a,{});ss.initClass(r,a,{});(function(){c.$2='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';c.$1=null})();(function(){f.$1=null;f.$0=null;f.$2=null})();(function(){q.$0=null;q.$1=!(typeof(TextDecoder)!=='undefined');if(!q.$1){q.$0=new TextDecoder}})();(function(){p.$0=false})();(function(){r.tupleId='tuple_id';r.groupId='group_id';r.trailId='trail_id';r.primitiveId='primitive_id';r.paneIndex='pane_index';r.paneCol='pane_col';r.paneRow='pane_row';r.panePage='pane_page';r.rangeMin='range_min';r.rangeMax='range_max';r.domainMin='domain_min';r.domainMax='domain_max';r.xDomains='x_domains_lookup';r.yDomains='y_domains_lookup';r.lookup='lookup';r.xNumberMap='x_numbermap';r.yNumberMap='y_numbermap';r.dataType='dataType';r.fieldType='fieldType';r.cellX='cell_x';r.cellY='cell_y';r.markFirst='mark_first';r.markLast='mark_last';r.x='x';r.y='y';r.x1='x1';r.y1='y1';r.width='width';r.height='height';r.size='size';r.sizeLabel='size_label';r.hasPerMarkSizeEncoding='has_per_mark_size_encoding';r.rho='rho';r.rho1='rho1';r.theta='theta';r.theta1='theta1';r.xPrev='x_prev';r.yPrev='y_prev';r.xNext='x_next';r.yNext='y_next';r.color='color';r.hasPerMarkColorEncoding='has_per_mark_color_encoding';r.alpha='alpha';r.haloColor='halo_color';r.haloAlpha='halo_alpha';r.hasHalos='has_halos';r.shapeId='shape_id';r.clipWidth='clip_width';r.clipHeight='clip_height';r.userPaneCol='user_pane_col';r.userPaneRow='user_pane_row';r.userPaneIndex='user_pane_index';r.xCellOffsets='x_cell_offsets';r.yCellOffsets='y_cell_offsets';r.xPixelOffsets='x_pixel_offsets';r.yPixelOffsets='y_pixel_offsets';r.userPaneInfo='user_pane_info';r.minBarHeight='min_bar_height';r.minBarWidth='min_bar_width';r.drawBorder='draw_border';r.borderColor='border_color';r.selectedHaloColor='selected_halo_color';r.selectedMultiPrimHaloColor='selected_multi_prim_halo_color';r.highlightedHaloColor='highlighted_halo_color';r.backgroundColor='background_color';r.wrapDomain='wrap_domain';r.hasFoldedAxis='has_folded_axis';r.markFlags='mark_flags';r.paneFlags='pane_flags';r.handleSpecialsX='handle_specials_x';r.handleSpecialsY='handle_specials_y';r.isLogX='is_log_x';r.isLogY='is_log_y';r.hasEmptyOrEqualAxis='has_empty_or_equal_axis';r.dropLineFlags='drop_line_flags';r.lineInterpolation='line_interp';r.lineMarkerPosition='line_mark_pos';r.markStackIndex='tc_stack_index';r.isMarkStacked='is_mark_stacked';r.currStackedVal='tc_curr_stack_value';r.prevStackedVal='tc_prev_stack_value';r.scaledStartPoint='scaled_start_point';r.scaledEndPoint='scaled_end_point';r.exclPrevLowerStackedVal='tc_prev_excl_stack_value';r.exclNextLowerStackedVal='tc_next_excl_stack_value';r.isMarkTotal='is_mark_total';r.xProj='x_proj';r.yProj='y_proj';r.paneHasBackground='pane_has_background';r.panePxLeft='pane_px_left';r.panePxRight='pane_px_right';r.panePxTop='pane_px_top';r.panePxBottom='pane_px_bottom';r.textRunOffset='text_run_offset';r.textRunCount='text_run_count';r.formattedTextRunOffset='formatted_text_run_offset';r.formattedTextRunCount='formatted_text_run_count';r.geometry='geometry';r.geometryTable='geoTable';r.pageTrailMarksToTrail='page_trail_marks_to_trail';r.markTrailCount='mark_trail_count';r.markTrailAutoColor='mark_trail_auto_color';r.markTrailColor='mark_trail_color';r.markTrailTransparency='mark_trail_transparency';r.markTrailStartEffect='mark_trail_start_effect';r.markTrailEndEffect='mark_trail_end_effect';r.isTextTable='is_text_table';r.textMaxWidth='text_max_width';r.textMaxHeight='text_max_height';r.textScaleFactor='text_scale_factor';r.textRangeFactor='text_range_factor';r.textFontMin='text_font_min';r.textFitStyle='text_fit_style';r.textRunPosition='text_run_position';r.textCompositionOutput='text_composition_output';r.textRunTable='TextRunTable';r.formattedTextRunTable='FormattedTextRunTable';r.textRun='text_run';r.textRunX='text_run_x';r.textRunY='text_run_y';r.textRunXRemote='text_run_x_remote';r.textRunYRemote='text_run_y_remote';r.textStyleID='text_style_id';r.hasFontSizeOverride='has_font_size_override';r.textStyleTable='TextStyleTable';r.formattedTextStyleTable='FormattedTextStyleTable';r.font='font';r.fontSize='font_size';r.textStyleColor='text_style_color';r.fontStyle='font_style';r.fontWeight='font_weight';r.textDecoration='text_decoration';r.textOrientation='text_orientation';r.textAlignment='text_alignment';r.underline='underline';r.strikethrough='strikethrough';r.ascent='ascent';r.leading='leading';r.fontHeight='font_height';r.hAlign='hAlign';r.vAlign='vAlign';r.textWrapMode='text_wrap_mode';r.labelTargetPrimitiveId='label_target_primitive_id';r.labelOnePerGroup='label_one_per_group';r.showLabels='ShowLabels';r.showRunningOrderLabels='ShowRunningOrderLabels';r.labelMode='LabelMode';r.predictionIntervalUpperEnd='prediction_interval_upper_end';r.predictionIntervalLowerEnd='prediction_interval_lower_end';r.predictionIntervalUpperEndMeasure='prediction_interval_upper_end_measure';r.predictionIntervalLowerEndMeasure='prediction_interval_lower_end_measure';r.predictionWhiskerWidth='prediction_whisker_width';r.colors='Colors';r.column='Column';r.encodingDomains='EncodingDomains';r.encodingData='EncodingData';r.defaultParamID='DefaultParamID';r.domain='Domain';r.domainExtents='DomainExtents';r.domainOrigin='DomainOrigin';r.drawFirsts='DrawFirsts';r.drawLasts='DrawLasts';r.drawPanes='DrawPanes';r.encodings='Encodings';r.endIndex='EndIndex';r.geometries='Geometries';r.left='Left';r.lineTupleIds='LineTupleIds';r.lowerEnds='LowerEnds';r.mapDomainExtents='MapDomainExtents';r.markType='MarkType';r.maxAlpha='MaxAlpha';r.oppositeAxes='OppositeAxes';r.pageIndexes='PageIndexes';r.paneId='PaneId';r.paneKey='PaneKey';r.panes='Panes';r.part='Part';r.pixelExtents='PixelExtents';r.presModel='PresModel';r.rect='Rect';r.renderNodes='RenderNodes';r.renderOnTop='RenderOnTop';r.row='Row';r.startIndex='StartIndex';r.textAttributes='TextAttributes';r.textTable='TextTable';r.textTableHelper='TextTableHelper';r.textEncodingTable='TextEncodingTable';r.top='Top';r.trailOverrides='TrailOverrides';r.tupleIds='TupleIds';r.type='Type';r.upperEnds='UpperEnds';r.useYAxis='UseYAxis';r.vizType='VizType';r.widths='Widths';r.extendedDomain='ExtendedDomain';r.markLayoutTempKeys='MarkLayoutTempKeys';r.partition='Partition';r.pdMarks='PDMarks';r.axisEncodings='AxisEncodings';r.inheritedSceneBackgroundColor='SceneBGColor';r.isSceneBackgroundOpaque='IsSceneBGOpaque';r.labelStore='LabelStore';r.primitiveType='PrimitiveType';r.mapPackage='MapPackage';r.mappedImageModel='MappedImageModel';r.modelNumber='ModelNumber';r.waitForImages='WaitForImages';r.waitTileFill='WaitTileFill';r.wrapCount='WrapCount';r.mapCode='MapCode';r.sourceName='SourceName';r.mapProvider='MapProvider';r.mapLayersModel='MapLayersModel';r.markLabelPadding='mark_label_padding'})()})();;
/*! BEGIN SpiffUI */
var IScroll=function(n,t,i){function u(n,i){this.wrapper=typeof n=="string"?t.querySelector(n):n;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var u in i)this.options[u]=i[u];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"";this.options.useTransition=r.hasTransition&&this.options.useTransition;this.options.useTransform=r.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;this.options.tap===!0&&(this.options.tap="tap");this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=i;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(n.PointerEvent?(r.addEvent(this.indicator,"pointerdown",this),r.addEvent(n,"pointerup",this)):n.MSPointerEvent&&(r.addEvent(this.indicator,"MSPointerDown",this),r.addEvent(n,"MSPointerUp",this))),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)))}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.momentum=function(n,t,r,u,f){var s=n-t,o=i.abs(s)/r,e,h,c=.0006;return e=n+o*o/(2*c)*(s<0?-1:1),h=o/c,e<u?(e=f?u-f/2.5*(o/8):u,s=i.abs(e-n),h=s/o):e>0&&(e=f?f/2.5*(o/8):0,s=i.abs(n)+e,h=s/o),{destination:i.round(e),duration:h}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:navigator.msPointerEnabled,hasTransition:u("transition")in f}),r.isAndroidBrowser=/Android/.test(n.navigator.appVersion)&&/Version\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t);n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0);r.pageX=n.pageX;r.pageY=n.pageY;n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;i.tagName!="SELECT"&&i.tagName!="INPUT"&&i.tagName!="TEXTAREA"&&(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();return u.prototype={version:"5.0.6",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isAndroidBrowser||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.isAnimating=!1;this.startTime=r.getTime();this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd"),this.isInTransition=!1);this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=u.pageX;this.pointY=u.pageY;this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0;u=this.hasVerticalScroll?u:0;f=this.x+t;e=this.y+u;(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+t/3:f>0?0:this.maxScrollX);(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.y+u/3:e>0?0:this.maxScrollY);this.directionX=t>0?-1:t<0?1:0;this.directionY=u>0?-1:u<0?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(f,e);c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y);this._execEvent("scroll")}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.scrollTo(t,u),this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved){this.options.tap&&r.tap(n,this.options.tap);this.options.click&&r.click(n);return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic);this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=r.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(n,t){this._events[n]||(this._events[n]=[]);this._events[n].push(t)},_execEvent:function(n){if(this._events[n]){var t=0,i=this._events[n].length;if(i)for(;t<i;t++)this._events[n][t].call(this)}},scrollBy:function(n,t,i,r){n=this.x+n;t=this.y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular;!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn);this._execEvent("scroll")},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left;o.top-=this.wrapperOffset.top;u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2));f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left;o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top;t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t;this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=n+"px",this.scrollerStyle.top=t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this);i(n,"resize",this);this.options.click&&i(this.wrapper,"click",this,!0);this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this));r.hasPointer&&!this.options.disablePointer&&(n.PointerEvent?(i(this.wrapper,"pointerdown",this),i(u,"pointermove",this),i(u,"pointercancel",this),i(u,"pointerup",this)):n.MSPointerEvent&&(i(this.wrapper,"MSPointerDown",this),i(u,"MSPointerMove",this),i(u,"MSPointerCancel",this),i(u,"MSPointerUp",this)));r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this));i(this.scroller,"transitionend",this);i(this.scroller,"webkitTransitionEnd",this);i(this.scroller,"oTransitionEnd",this);i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d]/g,""),u=+t.top.replace(/[^-\d]/g,"")),{x:i,y:u}},_initIndicators:function(){var i=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="object",u=typeof this.options.scrollbars!="string",n=[],t,r;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),r=n.length;r--;)this.indicators[r]=new e(this,n[r]);this.on("refresh",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].refresh()});this.on("destroy",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].destroy();delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"mousewheel",this);r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"mousewheel",this);r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){var f,t,r,u,e=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd")},400),"wheelDeltaX"in n)f=n.wheelDeltaX/120,t=n.wheelDeltaY/120;else if("wheelDelta"in n)f=t=n.wheelDelta/120,n.shiftKey?t=0:f=0;else if("detail"in n)f=t=-n.detail/3,n.shiftKey?t=0:f=0;else return;if(f*=this.options.mouseWheelSpeed,t*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(f=t,t=0),this.options.snap){r=this.currentPage.pageX;u=this.currentPage.pageY;f>0?r--:f<0&&r++;t>0?u--:t<0&&u++;this.goToPage(r,u);return}r=this.x+i.round(this.hasHorizontalScroll?f*this.options.invertWheelDirection:0);u=this.y+i.round(this.hasVerticalScroll?t*this.options.invertWheelDirection:0);r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX);u>0?u=0:u<this.maxScrollY&&(u=this.maxScrollY);(r!==this.x||u!==this.y)&&n.preventDefault();this.scrollTo(r,u,0)}},_initSnap:function(){this.currentPage={};typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var n=0,f,e=0,h,o,s,r=0,u,c=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,t;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(c/2),s=i.round(l/2);r>-this.scrollerWidth;){for(this.pages[n]=[],f=0,u=0;u>-this.scrollerHeight;)this.pages[n][f]={x:i.max(r,this.maxScrollX),y:i.max(u,this.maxScrollY),width:c,height:l,cx:r-o,cy:u-s},u-=l,f++;r-=c;n++}else for(t=this.options.snap,f=t.length,h=-1;n<f;n++)(n===0||t[n].offsetLeft<=t[n-1].offsetLeft)&&(e=0,h++),this.pages[e]||(this.pages[e]=[]),r=i.max(-t[n].offsetLeft,this.maxScrollX),u=i.max(-t[n].offsetTop,this.maxScrollY),o=r-i.round(t[n].offsetWidth/2),s=u-i.round(t[n].offsetHeight/2),this.pages[e][h]={x:r,y:u,width:t[n].offsetWidth,height:t[n].offsetHeight,cx:o,cy:s},r>this.maxScrollX&&e++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing;n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0);t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r;this.currentPage={x:f,y:e,pageX:n,pageY:t};this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++;i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++);this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--;i<0&&this.hasVerticalScroll&&(i=0,r--);this.goToPage(i,r,n,t)},_initKeys:function(){var i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},t;if(typeof this.options.keyBindings=="object")for(t in this.options.keyBindings)typeof this.options.keyBindings[t]=="string"&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in i)this.options.keyBindings[t]=this.options.keyBindings[t]||i[t];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1);this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+.25,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX;f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0;f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0);f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0);this.scrollTo(u,f,0);this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1;f._translate(n,t);f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i;v=u(a);y=(n-e)*v+e;p=(t-s)*v+s;f._translate(y,p);f.isAnimating&&o(c)}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0;c()},handleEvent:function(n){if(n.type!="MSPointerDown"&&n.type!="MSPointerMove"&&n.type!="MSPointerCancel"&&n.type!="MSPointerUp"&&n.type!="pointerdown"&&n.type!="pointermove"&&n.type!="pointercancel"&&n.type!="pointerup"||n.pointerType!="mouse"&&n.pointerType!=4)switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case"keydown":this._key(n);break;case"click":n._constructed||(n.preventDefault(),n.stopPropagation())}}},e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,"MSPointerDown",this),r.removeEvent(this.indicator,"pointerdown",this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,"MSPointerUp",this),r.removeEvent(n,"pointerup",this),r.removeEvent(n,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault();t.stopPropagation();this.transitionTime(0);this.initiated=!0;this.moved=!1;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=r.getTime();this.options.disableTouch||r.addEvent(n,"touchmove",this);this.options.disablePointer||(n.PointerEvent?r.addEvent(n,"pointermove",this):n.MSPointerEvent&&r.addEvent(n,"MSPointerMove",this));this.options.disableMouse||r.addEvent(n,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;i=t.pageX-this.lastPointX;this.lastPointX=t.pageX;u=t.pageY-this.lastPointY;this.lastPointY=t.pageY;f=this.x+i;e=this.y+u;this._pos(f,e);n.preventDefault();n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0;this.indicatorStyle[r.style.transitionDuration]=n+"ms"},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0);this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var n=i.round(this.sizeRatioX*this.scroller.x)||0,t=i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY));this.x=n;this.y=t;this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=n+"px",this.indicatorStyle.top=t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX);t<0?t=0:t>this.maxPosY&&(t=this.maxPosY);n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x;t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(n,t)}},u.ease=r.ease,u}(window,document,Math);!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(39),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{39:39}],2:[function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],3:[function(e,t,n){"use strict";var r=e(17),o=e(20),i={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};t.exports=i},{17:17,20:20}],4:[function(e,t,n){"use strict";var r=e(33),o=(e(42),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=o,l=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=10),n.release=u,n},p={addPoolingTo:l,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=p},{33:33,42:42}],5:[function(e,t,n){"use strict";var r=e(45),o=e(7),i=e(10),a=e(13),s=e(14),u=e(19),c=e(24),l=e(28),p=e(32),f=s.createElement,d=s.createFactory,h=s.cloneElement,y=r,m=function(e){return e},v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o.Component,PureComponent:o.PureComponent,createElement:f,cloneElement:h,isValidElement:s.isValidElement,PropTypes:u,createClass:l,createFactory:d,createMixin:m,DOM:a,version:c,__spread:y};t.exports=v},{10:10,13:13,14:14,19:19,24:24,28:28,32:32,45:45,7:7}],6:[function(e,t,n){"use strict";function r(){if(!o){var t=e(26);o=t.__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}return o}var o;n.getReactDOM=r},{26:26}],7:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=c,this.updater=n||u}function o(e,t,n){this.props=e,this.context=t,this.refs=c,this.updater=n||u}function i(){}var a=e(33),s=e(45),u=e(18),c=(e(27),e(41));e(42),e(31);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&a("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};i.prototype=r.prototype,o.prototype=new i,o.prototype.constructor=o,s(o.prototype,r.prototype),o.prototype.isPureReactComponent=!0,t.exports={Component:r,PureComponent:o}},{18:18,27:27,31:31,33:33,41:41,42:42,45:45}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=e(45),u=e(5),c=e(47),l=c(u.isValidElement),p=e(23),f=e(9),d=function(e){function t(){var n,i,a;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=o(this,e.call.apply(e,[this].concat(c))),i._wrapChild=function(e){return u.createElement(f,{name:i.props.transitionName,appear:i.props.transitionAppear,enter:i.props.transitionEnter,leave:i.props.transitionLeave,appearTimeout:i.props.transitionAppearTimeout,enterTimeout:i.props.transitionEnterTimeout,leaveTimeout:i.props.transitionLeaveTimeout},e)},a=n,o(i,a)}return i(t,e),t.prototype.render=function(){return u.createElement(p,s({},this.props,{childFactory:this._wrapChild}))},t}(u.Component);d.displayName="ReactCSSTransitionGroup",d.propTypes={transitionName:f.propTypes.name,transitionAppear:l.bool,transitionEnter:l.bool,transitionLeave:l.bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.exports=d},{23:23,45:45,47:47,5:5,9:9}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e(5),s=e(6),u=e(47),c=u(a.isValidElement),l=e(38),p=e(22),f=e(32),d=17,h=function(e){function t(){var n,i,a;r(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=i=o(this,e.call.apply(e,[this].concat(c))),i._isMounted=!1,i.transition=function(e,t,n){var r=s.getReactDOM().findDOMNode(i);if(!r)return void(t&&t());var o=i.props.name[e]||i.props.name+"-"+e,a=i.props.name[e+"Active"]||o+"-active",u=null,c=function(e){e&&e.target!==r||(clearTimeout(u),l.removeClass(r,o),l.removeClass(r,a),p.removeEndEventListener(r,c),t&&t())};l.addClass(r,o),i.queueClassAndNode(a,r),n?(u=setTimeout(c,n),i.transitionTimeouts.push(u)):p.addEndEventListener(r,c)},i.queueClassAndNode=function(e,t){i.classNameAndNodeQueue.push({className:e,node:t}),i.timeout||(i.timeout=setTimeout(i.flushClassNameAndNodeQueue,d))},i.flushClassNameAndNodeQueue=function(){i._isMounted&&i.classNameAndNodeQueue.forEach(function(e){l.addClass(e.node,e.className)}),i.classNameAndNodeQueue.length=0,i.timeout=null},i.componentWillAppear=function(e){i.props.appear?i.transition("appear",e,i.props.appearTimeout):e()},i.componentWillEnter=function(e){i.props.enter?i.transition("enter",e,i.props.enterTimeout):e()},i.componentWillLeave=function(e){i.props.leave?i.transition("leave",e,i.props.leaveTimeout):e()},a=n,o(i,a)}return i(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.render=function(){return f(this.props.children)},t}(a.Component);h.propTypes={name:c.oneOfType([c.string,c.shape({enter:c.string,leave:c.string,active:c.string}),c.shape({enter:c.string,enterActive:c.string,leave:c.string,leaveActive:c.string,appear:c.string,appearActive:c.string})]).isRequired,appear:c.bool,enter:c.bool,leave:c.bool,appearTimeout:c.number,enterTimeout:c.number,leaveTimeout:c.number},t.exports=h},{22:22,32:32,38:38,47:47,5:5,6:6}],10:[function(e,t,n){"use strict";function r(e){return(""+e).replace(E,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);v(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?c(u,o,n,m.thatReturnsArgument):null!=u&&(y.isValidElement(u)&&(u=y.cloneAndReplaceKey(u,i+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),o.push(u))}function c(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=s.getPooled(t,a,o,i);v(e,u,c),s.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function p(e,t,n){return null}function f(e,t){return v(e,p,null)}function d(e){var t=[];return c(e,t,null,m.thatReturnsArgument),t}var h=e(4),y=e(14),m=e(40),v=e(35),g=h.twoArgumentPooler,b=h.fourArgumentPooler,E=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,b);var _={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:f,toArray:d};t.exports=_},{14:14,35:35,4:4,40:40}],11:[function(e,t,n){"use strict";var r=e(34),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};t.exports=o},{34:34}],12:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],13:[function(e,t,n){"use strict";var r=e(14),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=i},{14:14}],14:[function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var i=e(45),a=e(12),s=(e(44),e(27),Object.prototype.hasOwnProperty),u=e(15),c={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,n,r,o,i,a){return{$$typeof:u,type:e,key:t,ref:n,props:a,_owner:i}};l.createElement=function(e,t,n){var i,u={},p=null,f=null;if(null!=t){r(t)&&(f=t.ref),o(t)&&(p=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source;for(i in t)s.call(t,i)&&!c.hasOwnProperty(i)&&(u[i]=t[i])}var d=arguments.length-2;if(1===d)u.children=n;else if(d>1){for(var h=Array(d),y=0;y<d;y++)h[y]=arguments[y+2];u.children=h}if(e&&e.defaultProps){var m=e.defaultProps;for(i in m)void 0===u[i]&&(u[i]=m[i])}return l(e,p,f,0,0,a.current,u)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneElement=function(e,t,n){var u,p=i({},e.props),f=e.key,d=e.ref,h=(e._self,e._source,e._owner);if(null!=t){r(t)&&(d=t.ref,h=a.current),o(t)&&(f=""+t.key);var y;e.type&&e.type.defaultProps&&(y=e.type.defaultProps);for(u in t)s.call(t,u)&&!c.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==y?p[u]=y[u]:p[u]=t[u])}var m=arguments.length-2;if(1===m)p.children=n;else if(m>1){for(var v=Array(m),g=0;g<m;g++)v[g]=arguments[g+2];p.children=v}return l(e.type,f,d,0,0,h,p)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},t.exports=l},{12:12,15:15,27:27,44:44,45:45}],15:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},{}],16:[function(e,t,n){"use strict";var r=e(33),o=e(10),i=e(14),a=e(40),s=(e(42),e(44),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(i.isValidElement(e))return e;1===e.nodeType&&r("0");var t=[];for(var n in e)o.mapIntoWithKeyPrefixInternal(e[n],t,n,a.thatReturnsArgument);return t}});t.exports=s},{10:10,14:14,33:33,40:40,42:42,44:44}],17:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}t.exports=r},{}],18:[function(e,t,n){"use strict";var r=(e(44),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}});t.exports=r},{44:44}],19:[function(e,t,n){"use strict";var r=e(14),o=r.isValidElement,i=e(47);t.exports=i(o)},{14:14,47:47}],20:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,i,a,s){var u=t.call(e,n,r,o,i,a,s);u&&e.setState(u)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},t.exports=o},{}],21:[function(e,t,n){"use strict";var r=e(29),o={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};t.exports=o},{29:29}],22:[function(e,t,n){"use strict";function r(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var i=e(39),a=e(1),s=[];i.canUseDOM&&function(){var e=a("animationend"),t=a("transitionend");e&&s.push(e),t&&s.push(t)}();var u={addEndEventListener:function(e,t){if(0===s.length)return void window.setTimeout(t,0);s.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){o(e,n,t)})}};t.exports=u},{1:1,39:39}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e(45),s=e(5),u=e(21),c=e(47),l=c(s.isValidElement),p=e(40),f=function(e){function t(){var n,i,s;r(this,t);for(var c=arguments.length,l=Array(c),p=0;p<c;p++)l[p]=arguments[p];return n=i=o(this,e.call.apply(e,[this].concat(l))),i.state={children:u.getChildMapping(i.props.children)},i.performAppear=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e)):i._handleDoneAppearing(e)},i._handleDoneAppearing=function(e){var t=i.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performEnter=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e)):i._handleDoneEntering(e)},i._handleDoneEntering=function(e){var t=i.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performLeave=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e)):i._handleDoneLeaving(e)},i._handleDoneLeaving=function(e){var t=i.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)?i.performEnter(e):i.setState(function(t){var n=a({},t.children);return delete n[e],{children:n}})},s=n,o(i,s)}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},t.prototype.componentWillReceiveProps=function(e){var t=u.getChildMapping(e.children),n=this.state.children;this.setState({children:u.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},t.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var r=a({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,s.createElement(this.props.component,r,e)},t}(s.Component);f.displayName="ReactTransitionGroup",f.propTypes={component:l.any,childFactory:l.func},f.defaultProps={component:"span",childFactory:p.thatReturnsArgument},t.exports=f},{21:21,40:40,45:45,47:47,5:5}],24:[function(e,t,n){"use strict";t.exports="15.6.1"},{}],25:[function(e,t,n){"use strict";var r=e(3),o=e(5),i=(e(6),e(11)),a=e(8),s=e(16),u=e(23),c=e(34),l=e(36);o.addons={CSSTransitionGroup:a,LinkedStateMixin:r,PureRenderMixin:i,TransitionGroup:u,createFragment:s.create,shallowCompare:c,update:l},t.exports=o},{11:11,16:16,23:23,3:3,34:34,36:36,5:5,6:6,8:8}],26:[function(e,t,n){"use strict";var r=e(45),o=e(25),i=r(o,{__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:null,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:e(12)}});t.exports=i},{12:12,25:25,45:45}],27:[function(e,t,n){"use strict";t.exports=!1},{}],28:[function(e,t,n){"use strict";var r=e(7),o=r.Component,i=e(14),a=i.isValidElement,s=e(18),u=e(37);t.exports=u(o,a,s)},{14:14,18:18,37:37,7:7}],29:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e;void 0===o[n]&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(2),e(35));e(44);void 0!==n&&n.env,t.exports=o}).call(this,void 0)},{2:2,35:35,44:44}],30:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],31:[function(e,t,n){"use strict";var r=function(){};t.exports=r},{}],32:[function(e,t,n){"use strict";function r(e){return i.isValidElement(e)||o("143"),e}var o=e(33),i=e(14);e(42);t.exports=r},{14:14,33:33,42:42}],33:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],34:[function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=e(43);t.exports=r},{43:43}],35:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||"object"===f&&e.$$typeof===s)return n(i,e,""===t?l+r(e,0):t),1;var d,h,y=0,m=""===t?l:t+p;if(Array.isArray(e))for(var v=0;v<e.length;v++)d=e[v],h=m+r(d,v),y+=o(d,h,n,i);else{var g=u(e);if(g){var b,E=g.call(e);if(g!==e.entries)for(var _=0;!(b=E.next()).done;)d=b.value,h=m+r(d,_++),y+=o(d,h,n,i);else for(;!(b=E.next()).done;){var w=b.value;w&&(d=w[1],h=m+c.escape(w[0])+p+r(d,0),y+=o(d,h,n,i))}}else if("object"===f){var x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,"")}}return y}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(33),s=(e(12),e(15)),u=e(30),c=(e(42),e(2)),l=(e(44),"."),p=":";t.exports=i},{12:12,15:15,2:2,30:30,33:33,42:42,44:44}],36:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function o(e,t,n){Array.isArray(e)||a("1",n,e);var r=t[n];Array.isArray(r)||a("2",n,r)}function i(e,t){if("object"!=typeof t&&a("3",y.join(", "),f),u.call(t,f))return 1!==Object.keys(t).length&&a("4",f),t[f];var n=r(e);if(u.call(t,d)){var v=t[d];v&&"object"==typeof v||a("5",d,v),n&&"object"==typeof n||a("6",d,n),s(n,t[d])}u.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),u.call(t,l)&&(o(e,t,l),t[l].forEach(function(e){n.unshift(e)})),u.call(t,p)&&(Array.isArray(e)||a("7",p,e),Array.isArray(t[p])||a("8",p,t[p]),t[p].forEach(function(e){Array.isArray(e)||a("8",p,t[p]),n.splice.apply(n,e)})),u.call(t,h)&&("function"!=typeof t[h]&&a("9",h,t[h]),n=t[h](n));for(var g in t)m.hasOwnProperty(g)&&m[g]||(n[g]=i(e[g],t[g]));return n}var a=e(33),s=e(45),u=(e(42),{}.hasOwnProperty),c="$push",l="$unshift",p="$splice",f="$set",d="$merge",h="$apply",y=[c,l,p,f,d,h],m={};y.forEach(function(e){m[e]=!0}),t.exports=i},{33:33,42:42,45:45}],37:[function(e,t,n){"use strict";function r(e){return e}function o(e,t,n){function o(e,t){var n=g.hasOwnProperty(t)?g[t]:null;w.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function c(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;n.hasOwnProperty(u)&&b.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==u){var c=n[a],l=r.hasOwnProperty(a);if(o(l,a),b.hasOwnProperty(a))b[a](e,c);else{var p=g.hasOwnProperty(a),h="function"==typeof c,y=h&&!p&&!l&&!1!==n.autobind;if(y)i.push(a,c),r[a]=c;else if(l){var m=g[a];s(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?r[a]=f(r[a],c):"DEFINE_MANY"===m&&(r[a]=d(r[a],c))}else r[a]=c}}}else;}function l(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in b;s(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in e;s(!i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function p(e,t){s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return p(o,n),p(o,r),o}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function y(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=h(e,o)}}function m(e){var t=r(function(e,r,o){this.__reactAutoBindPairs.length&&y(this),this.props=e,this.context=r,this.refs=a,this.updater=o||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;s("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=i});t.prototype=new x,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(c.bind(null,t)),c(t,E),c(t,e),c(t,_),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in g)t.prototype[o]||(t.prototype[o]=null);return t}var v=[],g={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)c(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){l(e,t)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},_={componentWillUnmount:function(){this.__isMounted=!1}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},x=function(){};return i(x.prototype,e.prototype,w),m}var i=e(45),a=e(41),s=e(42),u="mixins";t.exports=o},{41:41,42:42,44:44,45:45}],38:[function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return-1!==Array.prototype.indexOf.call(r,e)}var o=e(42),i={addClass:function(e,t){return/\s/.test(t)&&o(!1),t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)&&o(!1),t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)&&o(!1),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)}).call(e,t)}};t.exports=i},{42:42}],39:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],40:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],41:[function(e,t,n){"use strict";var r={};t.exports=r},{}],42:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,s,u],p=0;c=new Error(t.replace(/%s/g,function(){return l[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};t.exports=r},{}],43:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],44:[function(e,t,n){"use strict";var r=e(40),o=r;t.exports=o},{40:40}],45:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(o){s=o(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},{}],46:[function(e,t,n){"use strict";function r(e,t,n,r,o){}t.exports=r},{42:42,44:44,49:49}],47:[function(e,t,n){"use strict";var r=e(48);t.exports=function(e){return r(e,!1)}},{48:48}],48:[function(e,t,n){"use strict";var r=e(40),o=e(42),i=e(44),a=e(49),s=e(46);t.exports=function(e,t){function n(e){var t=e&&(A&&e[A]||e[T]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function l(e){function n(n,r,i,s,u,l,p){if(s=s||O,l=l||i,p!==a)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[i]?n?new c(null===r[i]?"The "+u+" `"+l+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+u+" `"+l+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,i,s,u,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function p(e){function t(t,n,r,o,i,a){var s=t[n];if(E(s)!==e)return new c("Invalid "+o+" `"+i+"` of type `"+_(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return l(t)}function f(e){function t(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new c("Invalid "+o+" `"+i+"` of type `"+E(s)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var l=e(s,u,r,o,i+"["+u+"]",a);if(l instanceof Error)return l}return null}return l(t)}function d(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||O;return new c("Invalid "+o+" `"+i+"` of type `"+x(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return l(t)}function h(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new c("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(t):r.thatReturnsNull}function y(e){function t(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=E(s);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var p=e(s,l,r,o,i+"."+l,a);if(p instanceof Error)return p}return null}return l(t)}function m(e){function t(t,n,r,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,i,a))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(o),n),r.thatReturnsNull}return l(t)}function v(e){function t(t,n,r,o,i){var s=t[n],u=E(s);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var p=e[l];if(p){var f=p(s,l,r,o,i+"."+l,a);if(f)return f}}return null}return l(t)}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!g(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!g(a[1]))return!1}return!0;default:return!1}}function b(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":b(t,e)?"symbol":t}function _(e){if(void 0===e||null===e)return""+e;var t=E(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:O}var A="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",O="<<anonymous>>",P={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return l(r.thatReturnsNull)}(),arrayOf:f,element:function(){function t(t,n,r,o,i){var a=t[n];if(!e(a)){return new c("Invalid "+o+" `"+i+"` of type `"+E(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return l(t)}(),instanceOf:d,node:function(){function e(e,t,n,r,o){return g(e[t])?null:new c("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return l(e)}(),objectOf:y,oneOf:h,oneOfType:m,shape:v};return c.prototype=Error.prototype,P.checkPropTypes=s,P.PropTypes=P,P}},{40:40,42:42,44:44,46:46,49:49}],49:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}]},{},[26])(26)});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return function(t){return function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};t.exports=r},{}],2:[function(e,t,n){"use strict";var r=e(33),o=e(132),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},{132:132,33:33}],3:[function(e,t,n){"use strict";function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case"topCompositionStart":return T.compositionStart;case"topCompositionEnd":return T.compositionEnd;case"topCompositionUpdate":return T.compositionUpdate}}function i(e,t){return"topKeyDown"===e&&t.keyCode===y}function a(e,t){switch(e){case"topKeyUp":return-1!==g.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==y;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r){var u,l;if(_?u=o(e):P?a(e,n)&&(u=T.compositionEnd):i(e,n)&&(u=T.compositionStart),!u)return null;E&&(P||u!==T.compositionStart?u===T.compositionEnd&&P&&(l=P.getData()):P=h.getPooled(r));var c=m.getPooled(u,t,n,r);if(l)c.data=l;else{var p=s(n);null!==p&&(c.data=p)}return d.accumulateTwoPhaseDispatches(c),c}function l(e,t){switch(e){case"topCompositionEnd":return s(t);case"topKeyPress":return t.which!==x?null:(k=!0,w);case"topTextInput":var n=t.data;return n===w&&k?null:n;default:return null}}function c(e,t){if(P){if("topCompositionEnd"===e||!_&&a(e,t)){var n=P.getData();return h.release(P),P=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!r(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return E?null:t.data;default:return null}}function p(e,t,n,r){var o;if(!(o=b?l(e,n):c(e,n)))return null;var i=v.getPooled(T.beforeInput,t,n,r);return i.data=o,d.accumulateTwoPhaseDispatches(i),i}var d=e(19),f=e(124),h=e(20),m=e(78),v=e(82),g=[9,13,27,32],y=229,_=f.canUseDOM&&"CompositionEvent"in window,C=null;f.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var b=f.canUseDOM&&"TextEvent"in window&&!C&&!function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}(),E=f.canUseDOM&&(!_||C&&C>8&&C<=11),x=32,w=String.fromCharCode(x),T={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},k=!1,P=null,S={eventTypes:T,extractEvents:function(e,t,n,r){return[u(e,t,n,r),p(e,t,n,r)]}};t.exports=S},{124:124,19:19,20:20,78:78,82:82}],4:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],5:[function(e,t,n){"use strict";var r=e(4),o=e(124),i=(e(58),e(126),e(94)),a=e(137),s=e(141),u=(e(143),s(function(e){return a(e)})),l=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=0===r.indexOf("--"),a=e[r];null!=a&&(n+=u(r)+":",n+=i(r,a,t,o)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=0===a.indexOf("--"),u=i(a,t[a],n,s);if("float"!==a&&"cssFloat"!==a||(a=c),s)o.setProperty(a,u);else if(u)o[a]=u;else{var p=l&&r.shorthandPropertyExpansions[a];if(p)for(var d in p)o[d]="";else o[a]=""}}}};t.exports=d},{124:124,126:126,137:137,141:141,143:143,4:4,58:58,94:94}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(113),i=e(24),a=(e(138),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&o("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());t.exports=i.addPoolingTo(a)},{113:113,138:138,24:24}],7:[function(e,t,n){"use strict";function r(e,t,n){var r=k.getPooled(I.change,e,t,n);return r.type="change",E.accumulateTwoPhaseDispatches(r),r}function o(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=r(R,e,S(e));T.batchedUpdates(a,t)}function a(e){b.enqueueEvents(e),b.processEventQueue(!1)}function s(e,t){O=e,R=t,O.attachEvent("onchange",i)}function u(){O&&(O.detachEvent("onchange",i),O=null,R=null)}function l(e,t){var n=P.updateValueIfChanged(e),r=!0===t.simulated&&L._allowSimulatedPassThrough;if(n||r)return e}function c(e,t){if("topChange"===e)return t}function p(e,t,n){"topFocus"===e?(u(),s(t,n)):"topBlur"===e&&u()}function d(e,t){O=e,R=t,O.attachEvent("onpropertychange",h)}function f(){O&&(O.detachEvent("onpropertychange",h),O=null,R=null)}function h(e){"value"===e.propertyName&&l(R,e)&&i(e)}function m(e,t,n){"topFocus"===e?(f(),d(t,n)):"topBlur"===e&&f()}function v(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return l(R,n)}function g(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function y(e,t,n){if("topClick"===e)return l(t,n)}function _(e,t,n){if("topInput"===e||"topChange"===e)return l(t,n)}function C(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var b=e(16),E=e(19),x=e(124),w=e(33),T=e(71),k=e(80),P=e(108),S=e(102),N=e(110),M=e(111),I={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},O=null,R=null,A=!1;x.canUseDOM&&(A=N("change")&&(!document.documentMode||document.documentMode>8));var D=!1;x.canUseDOM&&(D=N("input")&&(!("documentMode"in document)||document.documentMode>9));var L={eventTypes:I,_allowSimulatedPassThrough:!0,_isInputEventSupported:D,extractEvents:function(e,t,n,i){var a,s,u=t?w.getNodeFromInstance(t):window;if(o(u)?A?a=c:s=p:M(u)?D?a=_:(a=v,s=m):g(u)&&(a=y),a){var l=a(e,t,n);if(l)return r(l,n,i)}s&&s(e,u,t),"topBlur"===e&&C(t,u)}};t.exports=L},{102:102,108:108,110:110,111:111,124:124,16:16,19:19,33:33,71:71,80:80}],8:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(m(e,o,r),o===n)break;o=i}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&m(r,document.createTextNode(n),o):n?(h(o,n),u(r,o,t)):u(r,e,t)}var c=e(9),p=e(13),d=(e(33),e(58),e(93)),f=e(115),h=e(116),m=d(function(e,t,n){e.insertBefore(t,n)}),v=p.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":o(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":i(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":f(e,s.content);break;case"TEXT_CONTENT":h(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};t.exports=g},{115:115,116:116,13:13,33:33,58:58,9:9,93:93}],9:[function(e,t,n){"use strict";function r(e){if(h){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&f(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){h?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){h?e.html=t:p(e.node,t)}function s(e,t){h?e.text=t:f(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=e(10),p=e(115),d=e(93),f=e(116),h="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=d(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=m,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},{10:10,115:115,116:116,93:93}],10:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],11:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(113),i=(e(138),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)&&o("48",p);var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||o("50",p),u.hasOwnProperty(p)){var m=u[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),s.properties[p]=h}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++)if((0,s._isCustomAttributeFunctions[t])(e))return!0;return!1},injection:i};t.exports=s},{113:113,138:138}],12:[function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var i=e(11),a=(e(33),e(58),e(112)),s=(e(143),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=c},{11:11,112:112,143:143,33:33,58:58}],13:[function(e,t,n){"use strict";var r=e(113),o=e(9),i=e(124),a=e(129),s=e(130),u=(e(138),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});t.exports=u},{113:113,124:124,129:129,130:130,138:138,9:9}],14:[function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];t.exports=r},{}],15:[function(e,t,n){"use strict";var r=e(19),o=e(33),i=e(84),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u;if(s.window===s)u=s;else{var l=s.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var c,p;if("topMouseOut"===e){c=t;var d=n.relatedTarget||n.toElement;p=d?o.getClosestInstanceFromNode(d):null}else c=null,p=t;if(c===p)return null;var f=null==c?u:o.getNodeFromInstance(c),h=null==p?u:o.getNodeFromInstance(p),m=i.getPooled(a.mouseLeave,c,n,s);m.type="mouseleave",m.target=f,m.relatedTarget=h;var v=i.getPooled(a.mouseEnter,p,n,s);return v.type="mouseenter",v.target=h,v.relatedTarget=f,r.accumulateEnterLeaveDispatches(m,v,c,p),[m,v]}};t.exports=s},{19:19,33:33,84:84}],16:[function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function o(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var i=e(113),a=e(17),s=e(18),u=e(50),l=e(91),c=e(98),p=(e(138),{}),d=null,f=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return f(e,!0)},m=function(e){return f(e,!1)},v=function(e){return"."+e._rootNodeID},g={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&i("94",t,typeof n);var r=v(e);(p[t]||(p[t]={}))[r]=n;var o=a.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=p[t];if(o(t,e._currentElement.type,e._currentElement.props))return null;var r=v(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];r&&delete r[v(e)]},deleteAllListeners:function(e){var t=v(e);for(var n in p)if(p.hasOwnProperty(n)&&p[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete p[n][t]}},extractEvents:function(e,t,n,r){for(var o,i=a.plugins,s=0;s<i.length;s++){var u=i[s];if(u){var c=u.extractEvents(e,t,n,r);c&&(o=l(o,c))}}return o},enqueueEvents:function(e){e&&(d=l(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,m),d&&i("95"),u.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};t.exports=g},{113:113,138:138,17:17,18:18,50:50,91:91,98:98}],17:[function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1||a("96",e),!l.plugins[n]){t.extractEvents||a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)||a("98",i,e)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)&&a("99",n),l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]&&a("100",e),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(113),s=(e(138),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]&&a("102",n),u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var o=l.registrationNameModules[n[r]];if(o)return o}}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{113:113,138:138}],18:[function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function o(e){return"topMouseMove"===e||"topTouchMove"===e}function i(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=g.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(o,n,e):m.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&h("103"),e.currentTarget=t?g.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(113),m=e(50),v=(e(138),e(143),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),g={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:v};t.exports=g},{113:113,138:138,143:143,50:50}],19:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function o(e,t,n){var o=r(e,n,t);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=g(e,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){v(e,i)}function c(e){v(e,a)}function p(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function d(e){v(e,u)}var f=e(16),h=e(18),m=e(91),v=e(98),g=(e(143),f.getListener),y={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=y},{143:143,16:16,18:18,91:91,98:98}],20:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(144),i=e(24),a=e(106);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{106:106,144:144,24:24}],21:[function(e,t,n){"use strict";var r=e(11),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};t.exports=l},{11:11}],22:[function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],23:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink&&s("87")}function o(e){r(e),(null!=e.value||null!=e.onChange)&&s("88")}function i(e){r(e),(null!=e.checked||null!=e.onChange)&&s("89")}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(113),u=e(64),l=e(146),c=e(121),p=l(c.isValidElement),d=(e(138),e(143),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:p.func},h={},m={checkPropTypes:function(e,t,n){for(var r in f){if(f.hasOwnProperty(r))var o=f[r](t,r,e,"prop",null,u);o instanceof Error&&!(o.message in h)&&(h[o.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=m},{113:113,121:121,138:138,143:143,146:146,64:64}],24:[function(e,t,n){"use strict";var r=e(113),o=(e(138),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=o,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=10),n.release=u,n},p={addPoolingTo:c,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=p},{113:113,138:138}],25:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=f++,p[e[m]]={}),p[e[m]]}var o,i=e(144),a=e(17),s=e(51),u=e(90),l=e(107),c=e(110),p={},d=!1,f=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=i({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=a.registrationNameDependencies[e],s=0;s<i.length;s++){var u=i[s];o.hasOwnProperty(u)&&o[u]||("topWheel"===u?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),o.topBlur=!0,o.topFocus=!0):h.hasOwnProperty(u)&&v.ReactEventListener.trapBubbledEvent(u,h[u],n),o[u]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=v.supportsEventPageXY()),!o&&!d){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),d=!0}}});t.exports=v},{107:107,110:110,144:144,17:17,51:51,90:90}],26:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var o=e(66),i=e(109),a=(e(22),e(117)),s=e(118);e(143);void 0!==n&&n.env;var u={instantiateChildren:function(e,t,n,o){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var d,f;for(d in t)if(t.hasOwnProperty(d)){f=e&&e[d];var h=f&&f._currentElement,m=t[d];if(null!=f&&a(h,m))o.receiveComponent(f,m,s,c),t[d]=f;else{f&&(r[d]=o.getHostNode(f),o.unmountComponent(f,!1));var v=i(m,!0);t[d]=v;var g=o.mountComponent(v,s,u,l,c,p);n.push(g)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(f=e[d],r[d]=o.getHostNode(f),o.unmountComponent(f,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}};t.exports=u}).call(this,void 0)},{109:109,117:117,118:118,143:143,22:22,66:66}],27:[function(e,t,n){"use strict";var r=e(8),o=e(37),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},{37:37,8:8}],28:[function(e,t,n){"use strict";var r=e(113),o=(e(138),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&r("104"),i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{113:113,138:138}],29:[function(e,t,n){"use strict";function r(e){}function o(e){return!(!e.prototype||!e.prototype.isReactComponent)}function i(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=e(113),s=e(144),u=e(121),l=e(28),c=e(120),p=e(50),d=e(57),f=(e(58),e(62)),h=e(66),m=e(131),v=(e(138),e(142)),g=e(117),y=(e(143),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return t};var _=1,C={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var l,c=this._currentElement.props,p=this._processContext(s),f=this._currentElement.type,h=e.getUpdateQueue(),v=o(f),g=this._constructComponent(v,c,p,h);v||null!=g&&null!=g.render?i(f)?this._compositeType=y.PureClass:this._compositeType=y.ImpureClass:(l=g,null===g||!1===g||u.isValidElement(g)||a("105",f.displayName||f.name||"Component"),g=new r(f),this._compositeType=y.StatelessFunctional),g.props=c,g.context=p,g.refs=m,g.updater=h,this._instance=g,d.set(g,this);var C=g.state;void 0===C&&(g.state=C=null),("object"!=typeof C||Array.isArray(C))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var b;return b=g.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,s):this.performInitialMount(l,t,n,e,s),g.componentDidMount&&e.getReactMountReady().enqueue(g.componentDidMount,g),b},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var a=f.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==f.EMPTY);return this._renderedComponent=s,h.mountComponent(s,r,t,n,this._processChildContext(o),0)},getHostNode:function(){return h.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(h.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return m;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var o in t)o in n.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",o);return s({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?h.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i&&a("136",this.getName()||"ReactCompositeComponent");var s,u=!1;this._context===o?s=i.context:(s=this._processContext(o),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,s);var p=this._processPendingState(c,s),d=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?d=i.shouldComponentUpdate(c,p,s):this._compositeType===y.PureClass&&(d=!v(l,c)||!v(i.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,s,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=p,i.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=s({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var u=r[a];s(i,"function"==typeof u?u.call(n,i,e,t):u)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(g(r,o))h.receiveComponent(n,o,e,this._processChildContext(t));else{var i=h.getHostNode(n);h.unmountComponent(n,!1);var a=f.getType(o);this._renderedNodeType=a;var s=this._instantiateReactComponent(o,a!==f.EMPTY);this._renderedComponent=s;var u=h.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(i,u,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==y.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||u.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&a("110");var r=t.getPublicInstance();(n.refs===m?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===y.StatelessFunctional?null:e},_instantiateReactComponent:null};t.exports=C},{113:113,117:117,120:120,121:121,131:131,138:138,142:142,143:143,144:144,28:28,50:50,57:57,58:58,62:62,66:66}],30:[function(e,t,n){"use strict";var r=e(33),o=e(47),i=e(60),a=e(66),s=e(71),u=e(72),l=e(96),c=e(103),p=e(114);e(143);o.inject();var d={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});t.exports=d},{103:103,114:114,143:143,33:33,47:47,60:60,66:66,71:71,72:72,96:96}],31:[function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e,t){t&&(Q[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&v("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&v("60"),"object"==typeof t.dangerouslySetInnerHTML&&H in t.dangerouslySetInnerHTML||v("61")),null!=t.style&&"object"!=typeof t.style&&v("62",r(e)))}function i(e,t,n,r){if(!(r instanceof A)){var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===K,s=i?o._node:o._ownerDocument;j(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;w.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;N.postMountWrapper(e)}function u(){var e=this;O.postMountWrapper(e)}function l(){var e=this;M.postMountWrapper(e)}function c(){L.track(this)}function p(){var e=this;e._rootNodeID||v("63");var t=V(e);switch(t||v("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[k.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in z)z.hasOwnProperty(n)&&e._wrapperState.listeners.push(k.trapBubbledEvent(n,z[n],t));break;case"source":e._wrapperState.listeners=[k.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[k.trapBubbledEvent("topError","error",t),k.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[k.trapBubbledEvent("topReset","reset",t),k.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[k.trapBubbledEvent("topInvalid","invalid",t)]}}function d(){I.postUpdateWrapper(this)}function f(e){Z.call($,e)||(G.test(e)||v("65",e),$[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){var t=e.type;f(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var v=e(113),g=e(144),y=e(2),_=e(5),C=e(9),b=e(10),E=e(11),x=e(12),w=e(16),T=e(17),k=e(25),P=e(32),S=e(33),N=e(38),M=e(39),I=e(40),O=e(43),R=(e(58),e(61)),A=e(68),D=(e(130),e(95)),L=(e(138),e(110),e(142),e(108)),U=(e(119),e(143),P),F=w.deleteListener,V=S.getNodeFromInstance,j=k.listenTo,B=T.registrationNameModules,W={string:!0,number:!0},H="__html",q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},K=11,z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},Q=g({menuitem:!0},Y),G=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$={},Z={}.hasOwnProperty,J=1;m.displayName="ReactDOMComponent",m.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=J++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(p,this);break;case"input":N.mountWrapper(this,i,t),i=N.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(p,this);break;case"option":M.mountWrapper(this,i,t),i=M.getHostProps(this,i);break;case"select":I.mountWrapper(this,i,t),i=I.getHostProps(this,i),e.getReactMountReady().enqueue(p,this);break;case"textarea":O.mountWrapper(this,i,t),i=O.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(p,this)}o(this,i);var a,d;null!=t?(a=t._namespaceURI,d=t._tag):n._tag&&(a=n._namespaceURI,d=n._tag),(null==a||a===b.svg&&"foreignobject"===d)&&(a=b.html),a===b.html&&("svg"===this._tag?a=b.svg:"math"===this._tag&&(a=b.mathml)),this._namespaceURI=a;var f;if(e.useCreateElement){var h,m=n._ownerDocument;if(a===b.html)if("script"===this._tag){var v=m.createElement("div"),g=this._currentElement.type;v.innerHTML="<"+g+"></"+g+">",h=v.removeChild(v.firstChild)}else h=i.is?m.createElement(this._currentElement.type,i.is):m.createElement(this._currentElement.type);else h=m.createElementNS(a,this._currentElement.type);S.precacheNode(this,h),this._flags|=U.hasCachedChildNodes,this._hostParent||x.setAttributeForRoot(h),this._updateDOMProperties(null,i,e);var _=C(h);this._createInitialChildren(e,i,r,_),f=_}else{var E=this._createOpenTagMarkupAndPutListeners(e,i),w=this._createContentMarkup(e,i,r);f=!w&&Y[this._tag]?E+"/>":E+">"+w+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"select":case"button":i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return f},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(B.hasOwnProperty(r))o&&i(this,r,o,e);else{"style"===r&&(o&&(o=this._previousStyleCopy=g({},t.style)),o=_.createMarkupForStyles(o,this));var a=null;null!=this._tag&&h(this._tag,t)?q.hasOwnProperty(r)||(a=x.createMarkupForCustomAttribute(r,o)):a=x.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+x.createMarkupForRoot()),n+=" "+x.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=W[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=D(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return X[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&C.queueHTML(r,o.__html);else{var i=W[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)""!==i&&C.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)C.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,a=this._currentElement.props;switch(this._tag){case"input":i=N.getHostProps(this,i),a=N.getHostProps(this,a);break;case"option":i=M.getHostProps(this,i),a=M.getHostProps(this,a);break;case"select":i=I.getHostProps(this,i),a=I.getHostProps(this,a);break;case"textarea":i=O.getHostProps(this,i),a=O.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,r),this._tag){case"input":N.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(d,this)}},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else B.hasOwnProperty(r)?e[r]&&F(this,r):h(this._tag,e)?q.hasOwnProperty(r)||x.deleteValueForAttribute(V(this),r):(E.properties[r]||E.isCustomAttribute(r))&&x.deleteValueForProperty(V(this),r);for(r in t){var u=t[r],l="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if("style"===r)if(u?u=this._previousStyleCopy=g({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(B.hasOwnProperty(r))u?i(this,r,u,n):l&&F(this,r);else if(h(this._tag,t))q.hasOwnProperty(r)||x.setValueForAttribute(V(this),r,u);else if(E.properties[r]||E.isCustomAttribute(r)){var c=V(this);null!=u?x.setValueForProperty(c,r,u):x.deleteValueForProperty(c,r)}}a&&_.setValueForStyles(V(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=W[typeof e.children]?e.children:null,i=W[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return V(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":L.stopTracking(this);break;case"html":case"head":case"body":v("66",this._tag)}this.unmountChildren(e),S.uncacheNode(this),w.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return V(this)}},g(m.prototype,m.Mixin,R.Mixin),t.exports=m},{10:10,108:108,11:11,110:110,113:113,119:119,12:12,130:130,138:138,142:142,143:143,144:144,16:16,17:17,2:2,25:25,32:32,33:33,38:38,39:39,40:40,43:43,5:5,58:58,61:61,68:68,9:9,95:95}],32:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],33:[function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(h)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function o(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=o(e);n._hostNode=t,t[v]=n}function a(e){var t=e._hostNode;t&&(delete t[v],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],l=o(u)._domID;if(0!==l){for(;null!==a;a=a.nextSibling)if(r(a,l)){i(u,a);continue e}p("32",l)}}e._flags|=m.hasCachedChildNodes}}function u(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&s(r,e);return n}function l(e){var t=u(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode&&p("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||p("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var p=e(113),d=e(11),f=e(32),h=(e(138),d.ID_ATTRIBUTE_NAME),m=f,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:u,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:i,uncacheNode:a};t.exports=g},{11:11,113:113,138:138,32:32}],34:[function(e,t,n){"use strict";function r(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}var o=(e(119),9);t.exports=r},{119:119}],35:[function(e,t,n){"use strict";var r=e(144),o=e(9),i=e(33),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},{144:144,33:33,9:9}],36:[function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};t.exports=r},{}],37:[function(e,t,n){"use strict";var r=e(8),o=e(33),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};t.exports=i},{33:33,8:8}],38:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function i(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);p.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=c.getNodeFromInstance(this),s=i;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==i&&f.form===i.form){var h=c.getInstanceFromNode(f);h||a("90"),p.asap(r,h)}}}return n}var a=e(113),s=e(144),u=e(12),l=e(23),c=e(33),p=e(71),d=(e(138),e(143),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t);return s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:i.bind(e),controlled:o(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),o=l.getValue(t);if(null!=o)if(0===o&&""===r.value)r.value="0";else if("number"===t.type){var i=parseFloat(r.value,10)||0;(o!=i||o==i&&r.value!=o)&&(r.value=""+o)}else r.value!==""+o&&(r.value=""+o);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=d},{113:113,12:12,138:138,143:143,144:144,23:23,33:33,71:71}],39:[function(e,t,n){"use strict";function r(e){var t="";return i.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var o=e(144),i=e(121),a=e(33),s=e(40),u=(e(143),!1),l={mountWrapper:function(e,t,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&a.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=r(t.children);return i&&(n.children=i),n}};t.exports=l},{121:121,143:143,144:144,33:33,40:40}],40:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=u.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=e(144),s=e(23),u=e(33),l=e(71),c=(e(143),!1),p={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=p},{143:143,144:144,23:23,33:33,71:71}],41:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length;return{start:i,end:i+r}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,f=d+l,h=document.createRange();h.setStart(n,o),h.setEnd(i,a);var m=h.collapsed;return{start:m?f:d,end:m?d:f}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=e(124),l=e(105),c=e(106),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:s};t.exports=d},{105:105,106:106,124:124}],42:[function(e,t,n){"use strict";var r=e(113),o=e(144),i=e(8),a=e(9),s=e(33),u=e(95),l=(e(138),e(119),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var l=n._ownerDocument,c=l.createComment(i),p=l.createComment(" /react-text "),d=a(l.createDocumentFragment());return a.queueChild(d,a(c)),this._stringText&&a.queueChild(d,a(l.createTextNode(this._stringText))),a.queueChild(d,a(p)),s.precacheNode(this,c),this._closingComment=p,d}var f=u(this._stringText);return e.renderToStaticMarkup?f:"\x3c!--"+i+"--\x3e"+f+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n&&r("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=l},{113:113,119:119,138:138,144:144,33:33,8:8,9:9,95:95}],43:[function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var i=e(113),a=e(144),s=e(23),u=e(33),l=e(71),c=(e(138),e(143),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,u=t.children;null!=u&&(null!=a&&i("92"),Array.isArray(u)&&(u.length<=1||i("93"),u=u[0]),a=""+u),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});t.exports=c},{113:113,138:138,143:143,144:144,23:23,33:33,71:71}],44:[function(e,t,n){"use strict";function r(e,t){"_hostNode"in e||u("33"),"_hostNode"in t||u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){"_hostNode"in e||u("35"),"_hostNode"in t||u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e||u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var o;for(o=r.length;o-->0;)t(r[o],"captured",n);for(o=0;o<r.length;o++)t(r[o],"bubbled",n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],"bubbled",o);for(l=u.length;l-->0;)n(u[l],"captured",i)}var u=e(113);e(138);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},{113:113,138:138}],45:[function(e,t,n){"use strict";var r=e(121),o=e(30),i=o;r.addons&&(r.__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i),t.exports=i},{121:121,30:30}],46:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(144),i=e(71),a=e(89),s=e(130),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;return d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};t.exports=d},{130:130,144:144,71:71,89:89}],47:[function(e,t,n){"use strict";function r(){x||(x=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(d),y.EventPluginUtils.injectTreeTraversal(h),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:a,SelectEventPlugin:b,BeforeInputEventPlugin:i}),y.HostComponent.injectGenericComponentClass(p),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(o),y.DOMProperty.injectDOMPropertyConfig(l),y.DOMProperty.injectDOMPropertyConfig(C),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new f(e)}),y.Updates.injectReconcileTransaction(_),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c))}var o=e(1),i=e(3),a=e(7),s=e(14),u=e(15),l=e(21),c=e(27),p=e(31),d=e(33),f=e(35),h=e(44),m=e(42),v=e(46),g=e(52),y=e(55),_=e(65),C=e(73),b=e(74),E=e(75),x=!1;t.exports={inject:r}},{1:1,14:14,15:15,21:21,27:27,3:3,31:31,33:33,35:35,42:42,44:44,46:46,52:52,55:55,65:65,7:7,73:73,74:74,75:75}],48:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},{}],49:[function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,t.exports=i},{}],50:[function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===o&&(o=e)}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=i},{}],51:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(16),i={handleTopLevel:function(e,t,n,i){r(o.extractEvents(e,t,n,i))}};t.exports=i},{16:16}],52:[function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){e(h(window))}var s=e(144),u=e(123),l=e(124),c=e(24),p=e(33),d=e(71),f=e(102),h=e(135);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?u.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?u.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},{102:102,123:123,124:124,135:135,144:144,24:24,33:33,71:71}],53:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],54:[function(e,t,n){"use strict";function r(e){return s||a("111",e.type),new s(e)}function o(e){return new u(e)}function i(e){return e instanceof u}var a=e(113),s=(e(138),null),u=null,l={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){u=e}},c={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:l};t.exports=c},{113:113,138:138}],55:[function(e,t,n){"use strict";var r=e(11),o=e(16),i=e(18),a=e(28),s=e(49),u=e(25),l=e(54),c=e(71),p={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};t.exports=p},{11:11,16:16,18:18,25:25,28:28,49:49,54:54,71:71}],56:[function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e(41),i=e(127),a=e(132),s=e(133),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{127:127,132:132,133:133,41:41}],57:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],58:[function(e,t,n){"use strict";t.exports={debugTool:null}},{}],59:[function(e,t,n){"use strict";var r=e(92),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};t.exports=a},{92:92}],60:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===A?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(I)||""}function a(e,t,n,r,o){var i;if(b.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=w.mountComponent(e,n,null,_(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,V._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var o=k.ReactReconcileTransaction.getPooled(!n&&C.useCreateElement);o.perform(a,null,e,t,o,n,r),k.ReactReconcileTransaction.release(o)}function u(e,t,n){for(w.unmountComponent(e,n),t.nodeType===A&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==R&&e.nodeType!==A&&e.nodeType!==D)}function p(e){var t=o(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var f=e(113),h=e(9),m=e(11),v=e(121),g=e(25),y=(e(120),e(33)),_=e(34),C=e(36),b=e(53),E=e(57),x=(e(58),e(59)),w=e(66),T=e(70),k=e(71),P=e(131),S=e(109),N=(e(138),e(115)),M=e(117),I=(e(143),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,R=1,A=9,D=11,L={},U=1,F=function(){this.rootID=U++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props.child},F.isReactTopLevelWrapper=!0;var V={TopLevelWrapper:F,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return V.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),o&&T.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)||f("37"),g.ensureScrollValueMonitoring();var o=S(e,!1);k.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return L[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&E.has(e)||f("38"),V._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)||f("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=v.createElement(F,{child:t});if(e){var u=E.get(e);a=u._processChildContext(u._context)}else a=P;var c=d(n);if(c){var p=c._currentElement,h=p.props.child;if(M(h,t)){var m=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(m)};return V._updateRootComponent(c,s,a,n,g),m}V.unmountComponentAtNode(n)}var y=o(n),_=y&&!!i(y),C=l(n),b=_&&!c&&!C,x=V._renderNewRootComponent(s,n,b,a)._renderedComponent.getPublicInstance();return r&&r.call(x),x},render:function(e,t,n){return V._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)||f("40");var t=d(e);return t?(delete L[t._instance.rootID],k.batchedUpdates(u,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(O),!1)},_mountImageIntoNode:function(e,t,n,i,a){if(c(t)||f("41"),i){var s=o(t);if(x.canReuseMarkup(e,s))return void y.precacheNode(n,s);var u=s.getAttribute(x.CHECKSUM_ATTR_NAME);s.removeAttribute(x.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(x.CHECKSUM_ATTR_NAME,u);var p=e,d=r(p,l),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===A&&f("42",m)}if(t.nodeType===A&&f("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else N(t,e),y.precacheNode(n,t.firstChild)}};t.exports=V},{109:109,11:11,113:113,115:115,117:117,120:120,121:121,131:131,138:138,143:143,25:25,33:33,34:34,36:36,53:53,57:57,58:58,59:59,66:66,70:70,71:71,9:9}],61:[function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=e(113),p=e(28),d=(e(57),e(58),e(120),e(66)),f=e(26),h=(e(130),e(97)),m=(e(138),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a;return a=h(t,0),f.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,0),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=d.mountComponent(s,t,this,this._hostContainerInfo,n,0);s._mountIndex=i++,o.push(u)}return o},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");l(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");l(this,[a(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,c=null,p=0,f=0,h=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=u(c,this.moveChild(v,m,p,f)),f=Math.max(v._mountIndex,f),v._mountIndex=p):(v&&(f=Math.max(v._mountIndex,f)),c=u(c,this._mountChildAtIndex(g,i[h],m,p,t,n)),h++),p++,m=d.getHostNode(g)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return o(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});t.exports=m},{113:113,120:120,130:130,138:138,26:26,28:28,57:57,58:58,66:66,97:97}],62:[function(e,t,n){"use strict";var r=e(113),o=e(121),i=(e(138),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});t.exports=i},{113:113,121:121,138:138}],63:[function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var o=e(113),i=(e(138),{addComponentAsRefTo:function(e,t,n){r(n)||o("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)||o("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});t.exports=i},{113:113,138:138}],64:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],65:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e(144),i=e(6),a=e(24),s=e(25),u=e(56),l=(e(58),e(89)),c=e(70),p={initialize:u.getSelectionInformation,close:u.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l,m),a.addPoolingTo(r),t.exports=r},{144:144,24:24,25:25,56:56,58:58,6:6,70:70,89:89}],66:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(67),i=(e(58),e(143),{mountComponent:function(e,t,n,o,i,a){var s=e.mountComponent(t,n,o,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=i},{143:143,58:58,67:67}],67:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e(63),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var o=null,i=null;return null!==t&&"object"==typeof t&&(o=t.ref,i=t._owner),n!==o||"string"==typeof o&&i!==r},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{63:63}],68:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=e(144),i=e(24),a=e(89),s=(e(58),e(69)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a,c),i.addPoolingTo(r),t.exports=r},{144:144,24:24,58:58,69:69,89:89}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(70),i=(e(143),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&o.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&o.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&o.enqueueSetState(e,t)},e}());t.exports=i},{143:143,70:70}],70:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);return n||null}var a=e(113),s=(e(120),e(57)),u=(e(58),e(71)),l=(e(138),e(143),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=i(e);if(!o)return null;o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],r(o)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var o=i(e,"replaceState");o&&(o._pendingStateQueue=[t],o._pendingReplaceState=!0,void 0!==n&&null!==n&&(l.validateCallback(n,"replaceState"),o._pendingCallbacks?o._pendingCallbacks.push(n):o._pendingCallbacks=[n]),r(o))},enqueueSetState:function(e,t){var n=i(e,"setState");n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),r(n))},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&a("122",t,o(e))}});t.exports=l},{113:113,120:120,138:138,143:143,57:57,58:58,71:71}],71:[function(e,t,n){"use strict";function r(){P.ReactReconcileTransaction&&b||c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=P.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){return r(),b.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length&&c("124",t,g.length),g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(h.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)e.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(e){if(r(),!b.isBatchingUpdates)return void b.batchedUpdates(u,e);g.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=y+1)}function l(e,t){b.isBatchingUpdates||c("125"),_.enqueue(e,t),C=!0}var c=e(113),p=e(144),d=e(6),f=e(24),h=e(53),m=e(66),v=e(89),g=(e(138),[]),y=0,_=d.getPooled(),C=!1,b=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[E,x];p(o.prototype,v,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,P.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var T=function(){for(;g.length||C;){if(g.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(C){C=!1;var t=_;_=d.getPooled(),t.notifyAll(),d.release(t)}}},k={injectReconcileTransaction:function(e){e||c("126"),P.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||c("127"),"function"!=typeof e.batchedUpdates&&c("128"),"boolean"!=typeof e.isBatchingUpdates&&c("129"),b=e}},P={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:T,injection:k,asap:l};t.exports=P},{113:113,138:138,144:144,24:24,53:53,6:6,66:66,89:89}],72:[function(e,t,n){"use strict";t.exports="15.6.1"},{}],73:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),t.exports=i},{}],74:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(y||null==m||m!==c())return null;var n=r(m);if(!g||!d(g,n)){g=n;var o=l.getPooled(h.select,v,e,t);return o.type="select",o.target=m,i.accumulateTwoPhaseDispatches(o),o}return null}var i=e(19),a=e(124),s=e(33),u=e(56),l=e(80),c=e(133),p=e(111),d=e(142),f=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,v=null,g=null,y=!1,_=!1,C={eventTypes:h,extractEvents:function(e,t,n,r){if(!_)return null;var i=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(i)||"true"===i.contentEditable)&&(m=i,v=t,g=null);break;case"topBlur":m=null,v=null,g=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,o(n,r);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return o(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(_=!0)}};t.exports=C},{111:111,124:124,133:133,142:142,19:19,33:33,56:56,80:80}],75:[function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function o(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var i=e(113),a=e(123),s=e(19),u=e(33),l=e(76),c=e(77),p=e(80),d=e(81),f=e(83),h=e(84),m=e(79),v=e(85),g=e(86),y=e(87),_=e(88),C=e(130),b=e(99),E=(e(138),{}),x={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,o={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};E[e]=o,x[r]=o});var w={},T={eventTypes:E,extractEvents:function(e,t,n,r){var o=x[e];if(!o)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=p;break;case"topKeyPress":if(0===b(n))return null;case"topKeyDown":case"topKeyUp":a=f;break;case"topBlur":case"topFocus":a=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=v;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=l;break;case"topTransitionEnd":a=g;break;case"topScroll":a=y;break;case"topWheel":a=_;break;case"topCopy":case"topCut":case"topPaste":a=c}a||i("86",e);var u=a.getPooled(o,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if("onClick"===t&&!o(e._tag)){var i=r(e),s=u.getNodeFromInstance(e);w[i]||(w[i]=a.listen(s,"click",C))}},willDeleteListener:function(e,t){if("onClick"===t&&!o(e._tag)){var n=r(e);w[n].remove(),delete w[n]}}};t.exports=T},{113:113,123:123,130:130,138:138,19:19,33:33,76:76,77:77,79:79,80:80,81:81,83:83,84:84,85:85,86:86,87:87,88:88,99:99}],76:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],77:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{80:80}],78:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],79:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{84:84}],80:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e(144),i=e(24),a=e(130),s=(e(143),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},{130:130,143:143,144:144,24:24}],81:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{87:87}],82:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],83:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(99),a=e(100),s=e(101),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{100:100,101:101,87:87,99:99}],84:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(90),a=e(101),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{101:101,87:87,90:90}],85:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(101),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{101:101,87:87}],86:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],87:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i=e(102),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{102:102,80:80}],88:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{84:84}],89:[function(e,t,n){"use strict";var r=e(113),o=(e(138),{}),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()&&r("27");var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};t.exports=i},{113:113,138:138}],90:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],91:[function(e,t,n){"use strict";function r(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(113);e(138);t.exports=r},{113:113,138:138}],92:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=-4&i;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],93:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],94:[function(e,t,n){"use strict";function r(e,t,n,r){if(null==t||"boolean"==typeof t||""===t)return"";var o=isNaN(t);return r||o||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(4),i=(e(143),o.isUnitlessNumber);t.exports=r},{143:143,4:4}],95:[function(e,t,n){"use strict";function r(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function o(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var i=/["'&<>]/;t.exports=o},{}],96:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);if(t)return t=s(t),t?i.getNodeFromInstance(t):null;"function"==typeof e.render?o("44"):o("45",Object.keys(e))}var o=e(113),i=(e(120),e(33)),a=e(57),s=e(103);e(138),e(143);t.exports=r},{103:103,113:113,120:120,138:138,143:143,33:33,57:57}],97:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e;void 0===o[n]&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(22),e(118));e(143);void 0!==n&&n.env,t.exports=o}).call(this,void 0)},{118:118,143:143,22:22}],98:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}t.exports=r},{}],99:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}t.exports=r},{}],100:[function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e(99),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{99:99}],101:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],102:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],103:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(62);t.exports=r},{62:62}],104:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],105:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],106:[function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e(124),i=null;t.exports=r},{124:124}],107:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(124),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{124:124}],108:[function(e,t,n){"use strict";function r(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function o(e){return e._wrapperState.valueTracker}function i(e,t){e._wrapperState.valueTracker=t}function a(e){delete e._wrapperState.valueTracker}function s(e){var t;return e&&(t=r(e)?""+e.checked:e.value),t}var u=e(33),l={_getTrackerFromNode:function(e){return o(u.getInstanceFromNode(e))},track:function(e){if(!o(e)){var t=u.getNodeFromInstance(e),n=r(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];t.hasOwnProperty(n)||"function"!=typeof s.get||"function"!=typeof s.set||(Object.defineProperty(t,n,{enumerable:s.enumerable,configurable:!0,get:function(){return s.get.call(this)},set:function(e){l=""+e,s.set.call(this,e)}}),i(e,{getValue:function(){return l},setValue:function(e){l=""+e},stopTracking:function(){a(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=o(e);if(!t)return l.track(e),!0;var n=t.getValue(),r=s(u.getNodeFromInstance(e));return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=o(e);t&&t.stopTracking()}};t.exports=l},{33:33}],109:[function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if(null===e||!1===e)n=l.create(i);else if("object"==typeof e){var s=e,u=s.type;if("function"!=typeof u&&"string"!=typeof u){var d="";d+=r(s._owner),a("130",null==u?u:typeof u,d)}"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=e(113),s=e(144),u=e(29),l=e(49),c=e(54),p=(e(122),e(138),e(143),function(e){this.construct(e)});s(p.prototype,u,{_instantiateReactComponent:i}),t.exports=i},{113:113,122:122,138:138,143:143,144:144,29:29,49:49,54:54}],110:[function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e(124);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=r},{124:124}],111:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],112:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(95);t.exports=r},{95:95}],113:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],114:[function(e,t,n){"use strict";var r=e(60);t.exports=r.renderSubtreeIntoContainer},{60:60}],115:[function(e,t,n){"use strict";var r,o=e(124),i=e(10),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=e(93),l=u(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}t.exports=l},{10:10,124:124,93:93}],116:[function(e,t,n){"use strict";var r=e(124),o=e(95),i=e(115),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){if(3===e.nodeType)return void(e.nodeValue=t);i(e,o(t))})),t.exports=a},{115:115,124:124,95:95}],117:[function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],118:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(i,e,""===t?c+r(e,0):t),1;var f,h,m=0,v=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var _,C=y.call(e);if(y!==e.entries)for(var b=0;!(_=C.next()).done;)f=_.value,h=v+r(f,b++),m+=o(f,h,n,i);else for(;!(_=C.next()).done;){var E=_.value;E&&(f=E[1],h=v+l.escape(E[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){var x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,"")}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(113),s=(e(120),e(48)),u=e(104),l=(e(138),e(22)),c=(e(143),"."),p=":";t.exports=i},{104:104,113:113,120:120,138:138,143:143,22:22,48:48}],119:[function(e,t,n){"use strict";var r=(e(144),e(130)),o=(e(143),r);t.exports=o},{130:130,143:143,144:144}],120:[function(t,n,r){"use strict";var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n.exports=o.ReactCurrentOwner},{}],121:[function(t,n,r){"use strict";n.exports=e},{}],122:[function(t,n,r){"use strict";var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n.exports=o.getNextDebugID},{}],123:[function(e,t,n){"use strict";var r=e(130),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{130:130}],124:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],125:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],126:[function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e(125),i=/^-ms-/;t.exports=r},{125:125}],127:[function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=e(140);t.exports=r},{140:140}],128:[function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&a(!1),"number"!=typeof t&&a(!1),0===t||t-1 in e||a(!1),"function"==typeof e.callee&&a(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(138);t.exports=i},{138:138}],129:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l||u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t||u(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e(124),a=e(128),s=e(134),u=e(138),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{124:124,128:128,134:134,138:138}],130:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],131:[function(e,t,n){"use strict";var r={};t.exports=r},{}],132:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],133:[function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}t.exports=r},{}],134:[function(e,t,n){"use strict";function r(e){return a||i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var o=e(124),i=e(138),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=p,s[e]=!0}),t.exports=r},{124:124,138:138}],135:[function(e,t,n){"use strict";function r(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],136:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],137:[function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e(136),i=/^ms-/;t.exports=r},{136:136}],138:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u){if(o(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,u],p=0;l=new Error(t.replace(/%s/g,function(){return c[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(e){};t.exports=r},{}],139:[function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],140:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(139);t.exports=r},{139:139}],141:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],142:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],143:[function(e,t,n){"use strict";var r=e(130),o=r;t.exports=o},{130:130}],144:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)i.call(n,c)&&(u[c]=n[c]);if(o){s=o(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},{}],145:[function(e,t,n){"use strict";function r(e,t,n,r,o){}t.exports=r},{138:138,143:143,148:148}],146:[function(e,t,n){"use strict";var r=e(147);t.exports=function(e){return r(e,!1)}},{147:147}],147:[function(e,t,n){"use strict";var r=e(130),o=e(138),i=e(143),a=e(148),s=e(145);t.exports=function(e,t){function n(e){var t=e&&(w&&e[w]||e[T]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,r,i,s,u,c,p){if(s=s||k,c=c||i,p!==a)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[i]?n?new l(null===r[i]?"The "+u+" `"+c+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+u+" `"+c+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,i,s,u,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function p(e){function t(t,n,r,o,i,a){var s=t[n];if(C(s)!==e)return new l("Invalid "+o+" `"+i+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return c(t)}function d(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new l("Invalid "+o+" `"+i+"` of type `"+C(s)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var c=e(s,u,r,o,i+"["+u+"]",a);if(c instanceof Error)return c}return null}return c(t)}function f(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||k;return new l("Invalid "+o+" `"+i+"` of type `"+x(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function h(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new l("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):r.thatReturnsNull}function m(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=C(s);if("object"!==u)return new l("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var p=e(s,c,r,o,i+"."+c,a);if(p instanceof Error)return p}return null}return c(t)}function v(e){function t(t,n,r,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,i,a))return null}return new l("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",E(o),n),r.thatReturnsNull}return c(t)}function g(e){function t(t,n,r,o,i){var s=t[n],u=C(s);if("object"!==u)return new l("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var p=e[c];if(p){var d=p(s,c,r,o,i+"."+c,a);if(d)return d}}return null}return c(t)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!y(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function C(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function b(e){if(void 0===e||null===e)return""+e;var t=C(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function E(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var w="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",k="<<anonymous>>",P={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return c(r.thatReturnsNull)}(),arrayOf:d,element:function(){function t(t,n,r,o,i){var a=t[n];if(!e(a)){return new l("Invalid "+o+" `"+i+"` of type `"+C(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return c(t)}(),instanceOf:f,node:function(){function e(e,t,n,r,o){return y(e[t])?null:new l("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:m,oneOf:h,oneOfType:v,shape:g};return l.prototype=Error.prototype,P.checkPropTypes=s,P.PropTypes=P,P}},{130:130,138:138,143:143,145:145,148:148}],148:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}]},{},[45])(45)}()}()});;!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.SharedWidgets=t(require("react"),require("react-dom")):e.SharedWidgets=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="/dist/",t(0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1);t.SuppressClickBustingClass=n.SuppressClickBustingClass;var i=o(2);t.setConfig=i.setConfig;var r=o(3);t.TabStyles=r.TabStyles;var s=o(4);t.assign=s.assign;var a=o(9);t.conditional=a.conditional,t.testId=a.testId,t.isAlphabeticChar=a.isAlphabeticChar;var l=o(10);t.InteractiveDomHoC=l.InteractiveDomHoC,t.InteractiveDomHoCDecorator=l.InteractiveDomHoCDecorator,t.InteractiveDomWrapper=l.InteractiveDomWrapper;var c=o(17);t.VerticalOriginOption=c.VerticalOriginOption,t.HorizontalOriginOption=c.HorizontalOriginOption,t.Overlay=c.Overlay;var d=o(14);t.PointerEventAdapterManager=d.PointerEventAdapterManager;var p=o(12);t.PointerEventWrapper=p.PointerEventWrapper,t.PointerEventHoC=p.PointerEventHoC,t.PointerEventHoCDecorator=p.PointerEventHoCDecorator;var u=o(15);t.mergeEventHandlers=u.mergeEventHandlers,t.convertToStatefulComponentClass=u.convertToStatefulComponentClass,t.getComponentName=u.getComponentName;var h=o(27);t.StackingComponentHOC=h.StackingComponentHOC,t.StackingComponentWrapper=h.StackingComponentWrapper;var g=o(28);t.HostedStackedElementContainer=g.HostedStackedElementContainer;var y=o(29);t.SingletonStyleSheet=y.SingletonStyleSheet,t.StyleSheet=y.StyleSheet;var I=o(30);t.Unicode=I.Unicode;var f=o(31);t.isMouseEvent=f.isMouseEvent,t.isTouchEvent=f.isTouchEvent,t.getClientPosition=f.getClientPosition;var b=o(32);t.ButtonType=b.ButtonType,t.ButtonWidget=b.ButtonWidget;var m=o(37);t.CheckBoxWidget=m.CheckBoxWidget;var M=o(40);t.CheckBoxWithLabelGroupWidget=M.CheckBoxWithLabelGroupWidget;var v=o(41);t.CheckBoxWithLabelWidget=v.CheckBoxWithLabelWidget;var L=o(43);t.DateTimeInputWidget=L.DateTimeInputWidget,t.DateTimeInputType=L.DateTimeInputType;var w=o(50);t.DialogPositioningBehavior=w.DialogPositioningBehavior,t.DialogType=w.DialogType,t.DialogWidget=w.DialogWidget;var D=o(65);t.DialogFooterButtonsWidget=D.DialogFooterButtonsWidget;var C=o(66);t.DiscreteProgressBarWidget_UNFINISHED=C.DiscreteProgressBarWidget_UNFINISHED;var S=o(38);t.Block=S.Block,t.InlineBlock=S.InlineBlock,t.Img=S.Img;var T=o(68);t.DropdownWidget=T.DropdownWidget;var j=o(69);t.DropdownType=j.DropdownType,t.GenericDropdownWidget=j.GenericDropdownWidget;var P=o(36);t.DynamicThemeComponent=P.DynamicThemeComponent;var N=o(78);t.FlyoutListMenuWidget=N.FlyoutListMenuWidget;var x=o(71);t.GenericFlyoutListMenuWidget=x.GenericFlyoutListMenuWidget;var A=o(79);t.IconButtonWidget=A.IconButtonWidget;var H=o(42);t.InputLabelWidget=H.InputLabelWidget;var O=o(80);t.LineTextFieldWidget=O.LineTextFieldWidget;var z=o(77);t.TextMenuDisplayFormatter=z.TextMenuDisplayFormatter;var B=o(44);t.OutlineTextFieldWidget=B.OutlineTextFieldWidget;var E=o(81);t.RadioLayoutType=E.RadioLayoutType,t.RadioButtonWithLabelGroupWidget=E.RadioButtonWithLabelGroupWidget;var k=o(84);t.RichTextEditOutlineWidget_UNFINISHED=k.RichTextEditOutlineWidget_UNFINISHED;var W=o(85);t.RichTextEditWidget_UNFINISHED=W.RichTextEditWidget_UNFINISHED;var Z=o(86);t.SearchFieldWidget=Z.SearchFieldWidget;var R=o(87);t.StepperType=R.StepperType,t.StepperWidget=R.StepperWidget;var _=o(45);t.TextInputType=_.TextInputType,t.TextFieldInputWidget=_.TextFieldInputWidget;var G=o(92);t.ToggleTextWidget=G.ToggleTextWidget,t.SelectedToggle=G.SelectedToggle;var F=o(94);t.ColorGridWidget=F.ColorGridWidget,t.ColorGridPreset=F.ColorGridPreset;var U=o(95);t.ColorPickerWidget=U.ColorPickerWidget;var Y=o(96);t.ActivitySpinnerWidget=Y.ActivitySpinnerWidget;var J=o(98);t.ContinuousSliderWidget=J.ContinuousSliderWidget;var V=o(110);t.DiscreteSliderWidget=V.DiscreteSliderWidget;var Q=o(111);t.OpenEndedRangeSliderWidget=Q.OpenEndedRangeSliderWidget;var X=o(112);t.RangeSliderWidget=X.RangeSliderWidget},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuppressClickBustingClass="tabDontBustMyClicks"},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),i=o(5),r=o(6),s=o(7),a=o(8),l=function(e){e.styleMediaQueries&&s.StyleMediaQueryManager.setMediaStyleQueries(e.styleMediaQueries)},c=function(e){e.styles&&(n.overrideTabStyles(e.styles),a.WidgetManager.rerenderWidgets())},d=function(e){e.defaultStackingRootId&&r.StackingRootConfig.setDefaultRootContainerId(e.defaultStackingRootId)},p=function(e){e.defaultScrollingRootId&&i.ScrollingRootConfig.setDefaultRootContainerId(e.defaultScrollingRootId)},u=function(e){c(e),d(e),p(e),l(e)};t.setConfig=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(4),i=6,r=i,s="Benton Sans, Arial, Helvetica, sans-serif",a=["#000000","#1B1B1B","#333333","#555555","#666666","#898989","#FFFFFF","#F5F5F5","#E6E6E6","#D4D4D4","#C0C0C0","#B4B4B4"],l=["#F28E2B","#F9A655","#FFBE7D","#B07AA1","#C290B4","#D4A6C8","#B6992D","#D3B348","#F1CE63","#D37295","#E799B3","#FABFD2","#59A14F","#72B966","#8CD17D","#E15759","#F17B79","#FF9D9A","#499894","#69AAA5","#86BCB6","#9D7660","#BA9582","#D7B5A6","#4E79A7","#75A1C7","#A0CBE8","#79706E","#998F8C","#BAB0AC","#606B76","#818B91","#A7ACAD","#76B7B2","#FF9DA7","#EDC948"],c=["#EFEBE8","#F5F1F0","#F9F8F7","#F0EAE8","#F5F0EF","#FAF5F4","#F5EDDC","#FAF4E7","#FEFAF1","#E9EBE0","#F0F1E8","#F7F7F0","#EBEBEB","#F2F2F2","#F9F9F9","#DFE7E8","#E9F0F1","#F2F9F9","#F3EBF3","#F7F1F6","#FBF7FB","#E2E6F0","#E9EDF5","#F0F3FA","#E6ECF0","#EEF1F3","#F2F6F7","#DDEBF0","#E7F1F5","#F0F7FA","#DFEDEB","#E9F3F2","#F3FAF9","#E8EDDA","#EFF3E3","#F7FAF0","#F5EAD7","#F6EEE3","#FAF5F0","#F9E9E0","#F9EEE8","#F9F3EF"],d={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},p={PrimaryDark:"rgba(0, 0, 0, 0.90)",Primary:"rgba(0, 0, 0, 0.80)",PrimaryMedium:"rgba(0, 0, 0, 0.70)",PrimaryLight:"rgba(0, 0, 0, 0.60)",Secondary:"rgba(0, 0, 0, 0.56)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 1)",InvertedSecondary:"rgba(255, 255, 255, .56)",InvertedDisabled:"rgba(255, 255, 255, .35)"},u={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.35)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.20)"},h={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",WhiteTransparentLine:"rgba(255, 255, 255, 0.5)",WhiteTransparentLineHover:"rgba(255, 255, 255, 0.8)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",OpaqueGlass:u.Grey245,Focus:"rgb(52, 152, 219)",L1:u.Grey250,L2:u.Grey245,L2_5:u.Grey235,L3:u.Grey230,L4:u.Grey225,L5:u.Grey212,L6:u.Grey203,L7:u.Grey180,L8:u.Grey102,L9:u.Grey51,L9Disabled:u.Grey51Disabled,F1:u.Grey250,F2:u.Grey245,F2_5:u.Grey235,F3:u.Grey230,F4:u.Grey225,F5:u.Grey212,F6:u.Grey203,F7:u.Grey180,F7Disabled:u.Grey180Disabled,F8:u.Grey102,F9:u.Grey51},g={Colors:h,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:i/2,DefaultSpace:i,MediumSpace:2*i,LargeSpace:3*i,ExtraLargeSpace:4*i},Sizing:{BaseUnit:r,RowHeight:24,ButtonMinWidth:15*r,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:r/2,ListRowHeight:20,ColorSwatchSize:15},Typography:{FontFamily:s,Sizing:d,Color:p},Opacity:{OpaqueGlass:.33,ClearGlass:.01},ColorPickerPresets:{Dark:a.concat(l),Light:a.concat(c)}};t.TabStyles=g;var y=function(e){g.Colors=n.assign({},g.Colors,e.Colors),g.Opacity=n.assign({},g.Opacity,e.Opacity),g.Shadow=n.assign({},g.Shadow,e.Shadow),g.Sizing=n.assign({},g.Sizing,e.Sizing),g.Spacing=n.assign({},g.Spacing,e.Spacing),e.Typography&&(g.Typography.FontFamily=e.Typography.FontFamily?e.Typography.FontFamily:g.Typography.FontFamily,g.Typography.Color=n.assign({},g.Typography.Color,e.Typography.Color),g.Typography.Sizing=n.assign({},g.Typography.Sizing,e.Typography.Sizing))};t.overrideTabStyles=y},function(e,t){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("assign cannot be called with null or undefined");return Object(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=Object.assign||function(e,t){for(var r,s,a=o(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r)n.call(r,c)&&(a[c]=r[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var d=0;d<s.length;d++)i.call(r,s[d])&&(a[s[d]]=r[s[d]])}}return a};t.assign=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultScrollingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultScrollingRootId?document.getElementById(e.defaultScrollingRootId):document.body;if(!t)throw Error("Could not find scrolling root with the id scrollingRootId.");return t},e}();t.ScrollingRootConfig=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultStackingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultStackingRootId?document.getElementById(e.defaultStackingRootId):document.body;if(!t)throw Error("Could not find stacking root.");return t},e}();t.StackingRootConfig=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=function(){function e(){}return e.setMediaStyleQueries=function(t){e.mediaQueryLists={};for(var o=0;o<t.length;o++){var n=t[o],i=e.registerMediaQuery(n),r=e.getMediaQueryListListener(n);r(i),i.addListener(r)}},e.registerMediaQuery=function(t){var o=t.mediaQuery;return o in e.mediaQueryLists||(e.mediaQueryLists[o]=window.matchMedia(o)),e.mediaQueryLists[o]},e.getMediaQueryListListener=function(e){return function(t){t.matches?n.setConfig({styles:e.matchingStyle}):n.setConfig({styles:e.nonMatchingStyle})}},e}();t.StyleMediaQueryManager=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.registerWidget=function(t){e.widgets.push(t)},e.unregisterWidget=function(t){e.widgets=e.widgets.filter(function(e){return e!==t})},e.rerenderWidgets=function(){for(var t=0;t<e.widgets.length;t++)e.widgets[t].forceUpdate()},e.widgets=[],e}();t.WidgetManager=o},function(e,t){"use strict";function o(e,t){return e?t:null}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("-")}function i(e){return e&&/^[a-z0-9]$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.conditional=o,t.testId=n,t.isAlphabeticChar=i},function(e,t,o){"use strict";function n(e,t){var o=t.props,n=o.disabled,i=o.interactiveStyles;return i?l.assign({},e,t.state.hover&&!n&&i.hover,t.state.focus&&!n&&i.focus,t.state.active&&!n&&i.active,n&&i.disabled):e}function i(e,t){var o=n(t.props.style,e),i=e.props.pointerDown,r={pointerDown:d.mergeEventHandlers(i,function(){e.interactiveIsMounted&&(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0),e.removePointerUpListener||u(e))})},s=t.props,p=s.onMouseOver,h=s.onMouseOut,g=s.onKeyDown,y=s.onKeyUp,I=s.onFocus,f=s.onBlur,b={onMouseOver:d.mergeEventHandlers(p,function(){e.interactiveIsMounted&&(e.setState({hover:!0}),e.props.handleHover&&e.props.handleHover(!0))}),onMouseOut:d.mergeEventHandlers(h,function(){e.interactiveIsMounted&&(e.setState({hover:!1}),e.props.handleHover&&e.props.handleHover(!1))}),onKeyDown:d.mergeEventHandlers(g,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0)))}),onKeyUp:d.mergeEventHandlers(y,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1)))}),onFocus:d.mergeEventHandlers(I,function(){e.interactiveIsMounted&&(e.setState({focus:!0}),e.props.handleFocus&&e.props.handleFocus(!0))}),onBlur:d.mergeEventHandlers(f,function(){e.interactiveIsMounted&&(e.setState({focus:!1}),e.props.handleFocus&&e.props.handleFocus(!1))})},m=l.assign({style:o,disabled:e.props.disabled},b),M=l.assign({},e.props,r),v=a.createElement(c.PointerEventWrapper,M,a.cloneElement(t,m));return v}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s,a=o(11),l=o(4),c=o(12),d=o(15),p=o(16);!function(e){e[e.Keyboard=0]="Keyboard",e[e.MouseOrTouch=1]="MouseOrTouch",e[e.None=2]="None"}(s||(s={})),t.InputInteractionType=s;var u=function(e){var t=function(){e.interactiveIsMounted&&(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1),e.removePointerUpListener(),e.removePointerUpListener=void 0)};e.removePointerUpListener=p.GlobalPointerUpListener.subscribe(t)},h=function(e){function t(t){var o=e.call(this,t)||this;return o.state=l.assign({},o.state,{hover:!1,active:!1,focus:!1}),o.interactiveIsMounted=!0,o}return r(t,e),t.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},t.prototype.render=function(){var e=a.Children.only(this.props.children);return i(this,e)},t}(a.Component);t.InteractiveDomWrapper=h;var g=function(e){var t=d.convertToStatefulComponentClass(e),o=(n=function(e){function o(t){var o=e.call(this,t)||this;return o.state=l.assign({},o.state,{hover:!1,active:!1,focus:!1}),o.interactiveIsMounted=!0,o}return r(o,e),o.prototype.callComponentClassWillUnmount=function(){var e=t.prototype.componentWillUnmount;e&&e.apply(this)},o.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},o.prototype.render=function(){return i(this,e.prototype.render.call(this))},o}(t),n.displayName="InteractiveDom("+d.getComponentName(e)+")",n);return o;var n};t.InteractiveDomHoC=g;var y=g;t.InteractiveDomHoCDecorator=y},function(t,o){t.exports=e},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(14),a=o(15),l=function(e){function t(t){var o=e.call(this,t)||this;return o.pointerEventAdapter=s.PointerEventAdapterManager.adapterFactory(),o}return n(t,e),t.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var e=r.findDOMNode(this);this.pointerEventAdapter.didMount(e,this.props)}},t.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},t.prototype.render=function(){var e=this.pointerEventAdapter.getHtmlAttributes(this.props),t=i.Children.only(this.props.children),o={};Object.keys(e).forEach(function(n){o[n]=a.mergeEventHandlers(e[n],t.props[n])});var n=i.cloneElement(t,o,t.props.children);return n},t}(i.PureComponent);t.PointerEventWrapper=l;var c=function(e){var t=a.convertToStatefulComponentClass(e),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return i.createElement(l,this.props,e.prototype.render.call(this))},t}(t);return o.displayName="PointerEventHoC("+a.getComponentName(e)+")",o};t.PointerEventHoC=c;var d=c;t.PointerEventHoCDecorator=d},function(e,o){e.exports=t},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.getHtmlAttributes=function(e){var t={onDoubleClick:e.pointerDoubleClick?function(t){e.disabled||e.pointerDoubleClick(t)}:void 0,onMouseDown:e.pointerDown?function(t){e.disabled||e.pointerDown(t)}:void 0,onMouseUp:e.pointerUp?function(t){e.disabled||e.pointerUp(t)}:void 0,onClick:e.pointerClick?function(t){e.disabled||e.pointerClick(t)}:void 0};return t},e}(),n=function(){function e(){}return e.adapterFactory=function(){return new o},e}();t.PointerEventAdapterManager=n},function(e,t,o){"use strict";function n(e){return!e.prototype.render}function i(e){if(n(e)){var t=e;return o=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return a(o,e),o.prototype.render=function(){return t(this.props)},o}(l.Component),o.displayName=s(t),o}return e;var o}function r(e,t){return e&&t&&function(o){e(o),t(o)}||e||t}function s(e){return e.displayName||e.name||"AnonymousComponent"}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=o(11);t.convertToStatefulComponentClass=i,t.mergeEventHandlers=r,t.getComponentName=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeWindows=function(t,o,n){o?(t.addEventListener("mouseup",n),t.addEventListener("touchend",n)):(t.removeEventListener("mouseup",n),t.removeEventListener("touchend",n));for(var i=t.document.getElementsByTagName("iframe"),r=0;r<i.length;r++)e.trySubscribeOrUnscribeWindows(i[r].contentWindow,o,n)},e.trySubscribeOrUnscribeWindows=function(t,o,n){try{e.subscribeOrUnsubscribeWindows(t,o,n)}catch(i){}},e.subscribe=function(t){return e.trySubscribeOrUnscribeWindows(window,!0,t),function(){e.trySubscribeOrUnscribeWindows(window,!1,t)}},e}();t.GlobalPointerUpListener=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(11),a=o(13),l=o(18),c=o(27),d=o(6),p=o(5),u=100,h=50;!function(e){e[e.top=0]="top",e[e.centerY=1]="centerY",e[e.bottom=2]="bottom"}(i||(i={})),t.VerticalOriginOption=i;var g;!function(e){e[e.left=0]="left",e[e.centerX=1]="centerX",e[e.right=2]="right"}(g||(g={})),t.HorizontalOriginOption=g;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResize=l(function(){return t.setPlacement()},u),t}return n(t,e),t.prototype.componentDidMount=function(){this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize)},t.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},t.prototype.componentDidUpdate=function(e){this.resetScrollingRootBehaviorIfNeeded(e),this.setPlacement()},t.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.setScrollingRoot(),this.onScroll&&(this.scrollingRoot.addEventListener("scroll",this.onScroll),this.scrollingRoot.addEventListener("wheel",this.onScroll))},t.prototype.removeScrollingRootBehavior=function(){this.onScroll&&(this.scrollingRoot.removeEventListener("scroll",this.onScroll),this.scrollingRoot.removeEventListener("wheel",this.onScroll))},t.prototype.resetScrollingRootBehaviorIfNeeded=function(e){e.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&e.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},t.prototype.setOnScroll=function(){var e=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){var t=function(){e.props.shouldAutoPositionOnScrollingRootScroll&&e.setPlacement(),e.props.handleScrollOnScrollingRoot&&e.props.handleScrollOnScrollingRoot()};this.onScroll=l(t,h)}else this.onScroll=null},t.prototype.setScrollingRoot=function(){if(this.scrollingRoot=this.props.scrollingRootId?document.getElementById(this.props.scrollingRootId):p.ScrollingRootConfig.getDefaultRootContainer(),!this.scrollingRoot)throw Error("Could not find scrolling root with the id scrollingRootId.")},t.prototype.getAnchorPosition=function(){var e=this.props.anchorEl?this.props.anchorEl:a.findDOMNode(this),t=e.getBoundingClientRect(),o=e.offsetWidth,n=e.offsetHeight,i={top:t.top,left:t.left};return i.right=t.right||i.left+o,i.bottom=t.bottom||i.top+n,i.centerX=i.left+(i.right-i.left)/2,i.centerY=i.top+(i.bottom-i.top)/2,i},t.prototype.getStackedElCurrentShapeInPositionCoords=function(){var e=this.getStackedEl();return{top:0,centerY:e.offsetHeight/2,bottom:e.offsetHeight,left:0,centerX:e.offsetWidth/2,right:e.offsetWidth}},t.prototype.getContainerRect=function(){var e=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):d.StackingRootConfig.getDefaultRootContainer();if(!e)throw Error("Could not find stacking root.");return e.getBoundingClientRect()},t.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var e=this.getStackedElAdjustedPosition(),t=this.getStackedEl();t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.position="absolute"}},t.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},t.prototype.getStackedElAdjustedPosition=function(){var e=this.getDefaultStackedElViewportPosition();this.props.allowAutoPosition&&(e=this.getAutoPositionIfNeeded(e));var t=this.getAdjustStackedElPositionForContainer(e);return t=this.getAdjustedStackedElPositionFromProps(t)},t.prototype.getDefaultStackedElViewportPosition=function(){return this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin)},t.prototype.getAdjustStackedElPositionForContainer=function(e){var t=this.getContainerRect(),o={top:e.top-t.top,left:e.left-t.left};return o},t.prototype.getAdjustedStackedElPositionFromProps=function(e){return{top:e.top+(this.props.topFromOverlaidPosition||0),left:e.left+(this.props.leftFromOverlaidPosition||0)}},t.prototype.getStackedElViewportPosition=function(e,t){var o=this.getAnchorPosition(),n=this.getStackedElCurrentShapeInPositionCoords(),r=i[e.vertical],s=g[e.horizontal],a=i[t.vertical],l=g[t.horizontal],c=o[r],d=o[s],p=n[a],u=n[l],h={top:c-p,left:d-u};return h},t.prototype.getAutoPositionIfNeeded=function(e){var t=this.getStackedElCurrentShapeInPositionCoords(),o=this.getOppositeOriginPosition(),n=document.documentElement.clientHeight,i=document.documentElement.clientWidth,r=e.top<0||e.top+t.bottom>n,s=e.left<0||e.left+t.right>i;return r&&(o.top+t.bottom<=n?e.top=Math.max(0,o.top):t.bottom<=n&&(e.top=Math.max(0,n-t.bottom))),s&&(o.left+t.right<=i?e.left=Math.max(0,o.left):t.right<=i&&(e.left=Math.max(0,i-t.right))),e},t.prototype.getOppositeOriginPosition=function(){var e=this.getOppositeOriginsOptions(this.props.anchorOrigin),t=this.getOppositeOriginsOptions(this.props.stackedOrigin);return this.getStackedElViewportPosition(e,t)},t.prototype.getOppositeOriginsOptions=function(e){return{horizontal:this.getOppositeHorizontalOption(e.horizontal),vertical:this.getOppositeVerticalOption(e.vertical)}},t.prototype.getOppositeVerticalOption=function(e){return e===i.centerY?i.centerY:e===i.top?i.bottom:i.top},t.prototype.getOppositeHorizontalOption=function(e){return e===g.centerX?g.centerX:e===g.left?g.right:g.left},t.prototype.setStackingWrapper=function(e){this.stackingWrapper=e,this.setPlacement()},t.prototype.render=function(){var e=this;return s.createElement("div",{style:{display:"none"}},s.createElement(c.StackingComponentWrapper,{stackingRootId:this.props.stackingRootId,ref:function(t){return e.setStackingWrapper(t)},zIndex:this.props.zIndex},this.props.children))},t.defaultProps={anchorOrigin:{vertical:i.top,horizontal:g.left},stackedOrigin:{vertical:i.top,horizontal:g.left}},t}(r.Component);t.Overlay=y},function(e,t,o){function n(e,t,o){var n=!0,a=!0;if("function"!=typeof e)throw new TypeError(s);return r(o)&&(n="leading"in o?!!o.leading:n,a="trailing"in o?!!o.trailing:a),i(e,t,{leading:n,maxWait:t,trailing:a})}var i=o(19),r=o(20),s="Expected a function";e.exports=n},function(e,t,o){function n(e,t,o){function n(t){var o=b,n=m;return b=m=void 0,D=t,v=e.apply(n,o)}function d(e){return D=e,L=setTimeout(h,t),C?n(e):v}function p(e){var o=e-w,n=e-D,i=t-o;return S?c(i,M-n):i}function u(e){var o=e-w,n=e-D;return void 0===w||o>=t||o<0||S&&n>=M}function h(){var e=r();return u(e)?g(e):void(L=setTimeout(h,p(e)))}function g(e){return L=void 0,T&&b?n(e):(b=m=void 0,v)}function y(){void 0!==L&&clearTimeout(L),D=0,b=w=m=L=void 0}function I(){return void 0===L?v:g(r())}function f(){var e=r(),o=u(e);if(b=arguments,m=this,w=e,o){if(void 0===L)return d(w);if(S)return L=setTimeout(h,t),n(w)}return void 0===L&&(L=setTimeout(h,t)),v}var b,m,M,v,L,w,D=0,C=!1,S=!1,T=!0;if("function"!=typeof e)throw new TypeError(a);return t=s(t)||0,i(o)&&(C=!!o.leading,S="maxWait"in o,M=S?l(s(o.maxWait)||0,t):M,T="trailing"in o?!!o.trailing:T),f.cancel=y,f.flush=I,f}var i=o(20),r=o(21),s=o(24),a="Expected a function",l=Math.max,c=Math.min;e.exports=n},function(e,t){function o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=o},function(e,t,o){var n=o(22),i=function(){return n.Date.now()};e.exports=i},function(e,t,o){var n=o(23),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();e.exports=r},function(e,t){(function(t){var o="object"==typeof t&&t&&t.Object===Object&&t;e.exports=o}).call(t,function(){return this}())},function(e,t,o){function n(e){if("number"==typeof e)return e;if(r(e))return s;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var o=c.test(e);return o||d.test(e)?p(e.slice(2),o?2:8):l.test(e)?s:+e}var i=o(20),r=o(25),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt;e.exports=n},function(e,t,o){function n(e){return"symbol"==typeof e||i(e)&&a.call(e)==r}var i=o(26),r="[object Symbol]",s=Object.prototype,a=s.toString;e.exports=n},function(e,t){function o(e){return null!=e&&"object"==typeof e}e.exports=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(6),a=o(15),l=function(e){function t(t){var o=e.call(this,t)||this;if(o.stackingRoot=o.props.stackingRootId?document.getElementById(o.props.stackingRootId):s.StackingRootConfig.getDefaultRootContainer(),!o.stackingRoot)throw Error("Could not find stacking root.");return o.warnIfRootIsNotPositioned(),o}return n(t,e),t.prototype.warnIfRootIsNotPositioned=function(){var e=window.getComputedStyle(this.stackingRoot).position;if("relative"!==e&&"absolute"!==e)throw Error("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")},t.prototype.componentDidMount=function(){this.renderLayer()},t.prototype.componentDidUpdate=function(){this.renderLayer()},t.prototype.componentWillUnmount=function(){this.unrenderLayer()},t.prototype.getMountPoint=function(){return this.mountPoint},t.prototype.renderLayer=function(){this.createMountPointIfNeeded();var e=i.Children.only(this.props.children);r.unstable_renderSubtreeIntoContainer(this,e,this.mountPoint)},t.prototype.createMountPointIfNeeded=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.style.position="absolute",this.mountPoint.style.top="0",this.mountPoint.style.left="0",this.stackingRoot.appendChild(this.mountPoint))},t.prototype.unrenderLayer=function(){this.mountPoint&&(r.unmountComponentAtNode(this.mountPoint),this.stackingRoot.removeChild(this.mountPoint),this.mountPoint=null)},t.prototype.render=function(){return null},t}(i.Component);t.StackingComponentWrapper=l,t.StackingComponentHOC=function(e){var t=a.convertToStatefulComponentClass(e),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return i.createElement(l,this.props,e.prototype.render.call(this))},t}(t);return o.displayName="StackingComponentHOC("+a.getComponentName(e)+")",o}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(13),i=function(){function e(){var e=this;this.internalEncapsulatedIsShown=!1,this.render=function(t){if(e.internalEncapsulatedIsShown)throw new Error("Cannot render the element; it is already shown");e.anchor=document.createElement("div"),n.render(t,e.anchor),e.internalEncapsulatedIsShown=!0},this.remove=function(){e.internalEncapsulatedIsShown&&(n.unmountComponentAtNode(e.anchor),e.anchor=null),e.internalEncapsulatedIsShown=!1},this.isShown=function(){return e.internalEncapsulatedIsShown}}return e}();t.HostedStackedElementContainer=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="shared-widgets",n=function(){function e(e){this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document&&this.initializeStyleSheet(e)}return e.prototype.addRawSelector=function(e,t){var o=this.toRuleBody(t);if(e in this.rawSelectorLookup)throw new Error(e+" has already been defined.");this.rawSelectorLookup[e]=!0,this.addRule(e+" {"+o+"}")},e.prototype.addClass=function(e,t){var n=this.toRuleBody(e),i=this.classNameLookup[n];if(i){if(t&&t!==i)throw new Error("Attempting to define css rule using class name '"+t+"', but a class with the given\n           rule body already exists under class name '"+i+"'. Rule body: "+n+".");return i}return t||(t=o+"_"+this.idCounter++),this.classNameLookup[n]=t,this.addRule("."+t+" {"+n+"}"),t},e.prototype.addAnimation=function(e,t){var o=e.options,n=JSON.stringify(e),i=this.classNameLookup[n];if(i){if(t&&t!==i)throw new Error("Attempting to define css animation using class name '"+t+"', but a css rule with that\n           definition already exists under class name '"+i+"'. Definition: "+e);return i}var r=this.addKeyframes(e.keyframes),s=this.addClass({"animation-duration":o.durationMs/1e3+"s","animation-timing-function":o.timingFunction,"animation-iteration-count":""+(o.count===1/0?"infinite":o.count),"animation-direction":o.direction,"animation-name":r},t);return this.classNameLookup[n]=s,s},e.prototype.dispose=function(){var e=this.styleSheet.ownerNode;e.parentElement.removeChild(e)},e.prototype.addKeyframes=function(e){var t=this,n=e.fromCSSLines,i=e.toCSSLines,r=e.tweenFrames,s=o+"_"+this.idCounter++,a=[{percent:0,cssLines:n},{percent:100,cssLines:i}].concat(r),l=a.map(function(e){return e?e.percent+"% { "+t.toRuleBody(e.cssLines)+" }":""});return this.addRule("@keyframes "+s+" { "+l.join(" ")+"}"),s},e.prototype.toRuleBody=function(e){return Object.keys(e).map(function(t){if(t.toLowerCase()!==t)throw new Error("The CSS prop '"+t+"' should be written kebab-case, not camelCase");return t+": "+e[t]+";"}).join("")},e.prototype.addRule=function(e){try{this.styleSheet.insertRule(e,this.styleSheet.cssRules.length)}catch(t){throw new Error(t+". Stylesheet injection of "+e+" failed.  This browser may not support the given CSS rule or selector")}},e.prototype.initializeStyleSheet=function(e){var t="tableau-widgets-appendedCustomStyle-"+e,o=document.createElement("style");o.setAttribute("type","text/css"),o.id=t,o.appendChild(document.createTextNode("")),document.head.appendChild(o),this.styleSheet=document.getElementById(t).sheet},e}();t.StyleSheet=n;var i=new n("singleton");t.SingletonStyleSheet=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={NonBreakingSpace:""};t.Unicode=o},function(e,t){"use strict";function o(e){var t=e;return"number"==typeof t.clientX}function n(e){var t=e;return!!t.touches}function i(e){if(o(e))return{x:e.clientX,y:e.clientY};if(n(e))return{x:e.touches[0].clientX,y:e.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMouseEvent=o,t.isTouchEvent=n,t.getClientPosition=i},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(4),a=o(33),l=o(35),c=o(36),d=o(9);!function(e){e[e.Attention=0]="Attention",e[e.Grey=1]="Grey",e[e.Go=2]="Go",e[e.Outline=3]="Outline",e[e.LightOutline=4]="LightOutline",e[e.OutlineGo=5]="OutlineGo",e[e.OutlineAttention=6]="OutlineAttention",e[e.Text=7]="Text",e[e.DarkText=8]="DarkText",e[e.DarkBoldText=9]="DarkBoldText"}(i||(i={})),t.ButtonType=i;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=a.getButtonStyle(this.props.buttonType),t={disabled:this.props.disabled,handleClick:this.props.handleClick,interactiveStyle:e.interactive,label:this.props.label,style:s.assign({},e.base,this.props.style),testId:d.testId(this.props.testId,"Button"),title:this.props.title};return r.createElement(l.ButtonBase,t,this.props.children)},t}(c.DynamicThemeComponent);t.ButtonWidget=p},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(4),i=o(32),r=o(34),s=o(3),a=s.TabStyles.Colors,l=s.TabStyles.Sizing,c=s.TabStyles.Typography,d=function(){return l.RowHeight},p=function(){return{backgroundColor:a.F7Disabled,borderColor:a.Transparent,color:c.Color.Disabled}},u=function(){return n.assign({fontSize:c.Sizing.Default,fontFamily:c.FontFamily,fontWeight:"normal",color:c.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:d(),paddingRight:d(),paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:l.BorderWidth,borderRadius:l.BorderRadius,height:l.RowHeight,lineHeight:l.RowHeight-2*l.BorderWidth+"px",minWidth:l.ButtonMinWidth,boxSizing:"border-box",outline:"none",whiteSpace:"nowrap"},r.PreventUserSelect)},h=function(){return{base:n.assign({},u(),{backgroundColor:a.AttentionLight,borderColor:a.AttentionLight,color:c.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:a.AttentionLight,borderColor:a.L8,color:c.Color.InvertedPrimary},focus:{backgroundColor:a.AttentionLight,borderColor:a.L8,color:c.Color.InvertedPrimary},active:{backgroundColor:a.AttentionDark,borderColor:a.AttentionDark,color:c.Color.InvertedPrimary},disabled:p()}}},g=function(){return{base:n.assign({},u(),{backgroundColor:a.F5,borderColor:a.L5,color:c.Color.Primary}),interactive:{hover:{backgroundColor:a.F5,borderColor:a.L8,color:c.Color.Primary},focus:{backgroundColor:a.F5,borderColor:a.L8,color:c.Color.Primary},active:{backgroundColor:a.F8,borderColor:a.L8,color:c.Color.InvertedPrimary},disabled:p()}}},y=function(){return{base:n.assign({},u(),{backgroundColor:a.GoLight,borderColor:a.GoLight,color:c.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:a.GoLight,borderColor:a.L8,color:c.Color.InvertedPrimary},focus:{backgroundColor:a.GoLight,borderColor:a.L8,color:c.Color.InvertedPrimary},active:{backgroundColor:a.GoDark,borderColor:a.GoDark,color:c.Color.InvertedPrimary},disabled:p()}}},I=function(){return{base:n.assign({},u(),{backgroundColor:a.White,borderColor:a.L6,color:c.Color.PrimaryMedium}),interactive:{hover:{backgroundColor:a.White,borderColor:a.L8,color:c.Color.Primary},focus:{backgroundColor:a.White,borderColor:a.L8,color:c.Color.PrimaryMedium},active:{backgroundColor:a.F2,borderColor:a.L9,color:c.Color.Primary},disabled:n.assign({},p(),{backgroundColor:a.White,borderColor:a.L9Disabled,color:c.Color.Disabled})}}},f=function(){return{base:n.assign({},u(),{backgroundColor:a.Transparent,borderColor:a.L6,color:c.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:a.Transparent,borderColor:a.White,color:c.Color.InvertedPrimary},focus:{backgroundColor:a.Transparent,borderColor:a.White,color:c.Color.InvertedPrimary},active:{backgroundColor:a.WhiteTransparent,borderColor:a.White,color:c.Color.InvertedPrimary},disabled:n.assign({},p(),{borderColor:a.WhiteDisabled,backgroundColor:a.Transparent,color:c.Color.InvertedDisabled})}}},b=function(){return{base:n.assign({},u(),{backgroundColor:a.White,borderColor:a.GoLight,color:c.Color.PrimaryDark,borderWidth:l.ButtonBorderWidth,lineHeight:l.RowHeight-2*l.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:a.White,borderColor:a.GoDark,color:a.Black},focus:{backgroundColor:a.White,borderColor:a.L8,color:a.Black},active:{backgroundColor:a.F2,borderColor:a.GoDark,color:a.Black},disabled:n.assign({},p(),{backgroundColor:a.White,borderColor:a.GoDarkDisabled,color:c.Color.Disabled})}}},m=function(){return{base:n.assign({},u(),{backgroundColor:a.White,borderColor:a.AttentionLight,color:c.Color.PrimaryDark,borderWidth:l.ButtonBorderWidth,lineHeight:l.RowHeight-2*l.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:a.White,borderColor:a.AttentionDark,color:a.Black},focus:{backgroundColor:a.White,borderColor:a.L8,color:a.Black},active:{backgroundColor:a.F2,borderColor:a.AttentionDark,color:a.Black},disabled:n.assign({},p(),{backgroundColor:a.White,borderColor:a.AttentionDarkDisabled,color:c.Color.Disabled})}}},M=function(){return{base:n.assign({},u(),{fontWeight:"bold",backgroundColor:a.Transparent,borderColor:a.Transparent,color:a.GoLight}),interactive:{hover:{backgroundColor:a.F2,borderColor:a.F2,color:a.GoLight},focus:{backgroundColor:a.F2,borderColor:a.F2,color:a.GoLight},active:{backgroundColor:a.F2,borderColor:a.F2,color:a.GoDark},disabled:n.assign({},p(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:a.GoDarkDisabled})}}},v=function(){return{base:n.assign({},u(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:c.Color.Primary}),interactive:{hover:{backgroundColor:a.F2,borderColor:a.F2,color:c.Color.Primary},focus:{backgroundColor:a.F2,borderColor:a.F2,color:c.Color.Primary},active:{backgroundColor:a.F2_5,borderColor:a.F2_5,color:a.Black},disabled:n.assign({},p(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:c.Color.Disabled})}}},L=function(){return{base:n.assign({},u(),{fontWeight:"bold",backgroundColor:a.Transparent,borderColor:a.Transparent,color:c.Color.Primary}),interactive:{hover:{backgroundColor:a.F2,borderColor:a.F2,color:c.Color.Primary},focus:{backgroundColor:a.F2,borderColor:a.F2,color:c.Color.Primary},active:{backgroundColor:a.F2_5,borderColor:a.F2_5,color:a.Black},disabled:n.assign({},p(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:c.Color.Disabled})}}},w=function(e){var t;switch(e){case i.ButtonType.Attention:t=h();break;case i.ButtonType.Grey:t=g();break;case i.ButtonType.Go:t=y();break;case i.ButtonType.Outline:t=I();break;case i.ButtonType.LightOutline:t=f();break;case i.ButtonType.OutlineGo:t=b();break;case i.ButtonType.OutlineAttention:t=m();break;case i.ButtonType.Text:t=M();break;case i.ButtonType.DarkText:t=v();break;case i.ButtonType.DarkBoldText:t=L();break;default:throw new Error("Attempted to retrieve style for unsupported ButtonType: "+e)}return t};t.getButtonStyle=w},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreventUserSelect={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none"}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(10),s=o(36),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isKeyboardPressed=!1,t.handleActive=function(e){t.props.handleActive&&t.props.handleActive(e)},t.handleFocus=function(e){t.props.handleFocus&&t.props.handleFocus(e)},t.handleHover=function(e){t.props.handleHover&&t.props.handleHover(e)},t.handleClick=function(e){t.props.disabled||t.props.handleClick(e)},t.handleKeyUp=function(e){t.props.disabled||t.props.disableTabAccessibility||(!t.isKeyboardPressed||" "!==e.key&&"Enter"!==e.key?t.props.handleKeyUp&&t.props.handleKeyUp(e):(t.props.handleClick(e),t.isKeyboardPressed=!1))},t.handleKeyDown=function(e){t.props.disabled||t.props.disableTabAccessibility||(" "!==e.key&&"Enter"!==e.key||(t.isKeyboardPressed=!0,e.preventDefault()),t.props.handleKeyDown&&t.props.handleKeyDown(e))},t.handleBlur=function(){t.isKeyboardPressed=!1,t.props.handleBlur&&t.props.handleBlur()},t}return n(t,e),t.prototype.render=function(){return i.createElement(r.InteractiveDomWrapper,{disabled:this.props.disabled,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover,interactiveStyles:this.props.interactiveStyle,pointerClick:this.handleClick},i.createElement("div",{onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,role:"button",style:this.props.style,tabIndex:this.props.disabled||this.props.disableTabAccessibility?-1:0,title:this.props.title?this.props.title:this.props.label,"data-tb-test-id":this.props.testId},this.props.label,this.props.children))},t}(s.DynamicThemeComponent);t.ButtonBase=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(8),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.componentDidMount=function(){r.WidgetManager.registerWidget(this)},t.prototype.componentWillUnmount=function(){r.WidgetManager.unregisterWidget(this)},t}(i.Component);t.DynamicThemeComponent=s},function(e,t,o){"use strict";function n(e,t){var o;return o=e.checked?e.disabled?p.CheckBoxIcon.selectedDisabled:e.hover||t.hover||t.focus?p.CheckBoxIcon.selectedActive:p.CheckBoxIcon.selected:e.disabled?p.CheckBoxIcon.unselectedDisabled:e.hover||t.hover||t.focus?p.CheckBoxIcon.unselectedActive:p.CheckBoxIcon.unselected}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(4),l=o(9),c=o(38),d=o(10),p=o(39),u=o(36),h=o(3),g=function(){return{baseDiv:{marginLeft:h.TabStyles.Spacing.DefaultSpace-p.CheckBoxIcon.padding,marginRight:h.TabStyles.Spacing.DefaultSpace-p.CheckBoxIcon.padding,verticalAlign:"middle",height:p.CheckBoxIcon.height,width:p.CheckBoxIcon.width,minWidth:p.CheckBoxIcon.width,flexShrink:0},noLeftMargin:{marginLeft:-p.CheckBoxIcon.padding},checkbox:{opacity:0,height:p.CheckBoxIcon.height,width:p.CheckBoxIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeCheckBox:{height:p.CheckBoxIcon.height,width:p.CheckBoxIcon.width,position:"absolute",verticalAlign:"top"}}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.handleFormChange=function(e){this.props.disabled||this.props.handleChange(e.target.checked)},t.prototype.render=function(){var e=this,t=n(this.props,this.state),o=g(),i=a.assign({},o.baseDiv,l.conditional(this.props.removeLeftMargin,o.noLeftMargin));return s.createElement(c.InlineBlock,{style:i},s.createElement(c.Img,{style:o.fakeCheckBox,src:t}),s.createElement("input",{style:o.checkbox,type:"checkbox",onChange:function(t){return e.handleFormChange(t)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-CheckBox",id:this.props.id,name:this.props.name}))},t=r([d.InteractiveDomHoCDecorator],t)}(u.DynamicThemeComponent);t.CheckBoxWidget=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(34),l={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},l,this.props.style)}))},t}(i.Component);t.Block=c;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},l,{display:"inline-block"},this.props.style)}))},t}(i.Component);t.InlineBlock=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return r.createElement("img",s.assign({},this.props,{role:this.props.role||"presentation",style:s.assign({},a.PreventUserSelect,this.props.style)}))},t}(i.Component);t.Img=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseButtonIcon={height:14,width:14,enabled:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg==",active:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg=="},t.CheckBoxIcon={height:16,width:16,padding:1,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgeD0iMiIgeT0iMiIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIvPg0KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMzU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTIgICBjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyQzE1LDEuNSwxNC42LDEsMTQsMUwxNCwxeiIvPg0KPC9nPg0KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4zNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGQ9Ik03LjIsMTIuM2MtMC4yLDAtMC40LTAuMS0wLjUtMC4ybC0zLTNMNC44LDhsMi4zLDIuM2w0LTYuNyAgbDEuMywwLjhMNy45LDEyQzcuNywxMi4yLDcuNSwxMi4zLDcuMiwxMi4zTDcuMiwxMi4zeiIvPg0KPC9zdmc+",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgeD0iMiIgeT0iMiIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIvPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjUsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC41LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPg0KPC9nPg0KPC9zdmc+",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjQsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgeD0iMiIgeT0iMiIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIvPg0KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMzU7ZmlsbDojMzMzMzMzOyIgZD0iTTE0LDJ2MTJIMlYySDE0IE0xNCwxSDJDMS41LDEsMSwxLjQsMSwydjEyYzAsMC42LDAuNSwxLDEsMWgxMmMwLjYsMCwxLTAuNCwxLTFWMiAgIEMxNSwxLjQsMTQuNiwxLDE0LDFMMTQsMXoiLz4NCjwvZz4NCjwvc3ZnPg=="},t.OutlineDropdownArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNmMwLjEtMC4yLDAtMC4zLTAuMi0wLjNINkM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6IzMzMzMzMzsiIGQ9Ik01LjgsNy4zbDMuNSw0LjZjMC4xLDAuMSwwLjIsMC4xLDAuMywwbDMuNi00LjZDMTMuMyw3LjEsMTMuMiw3LDEzLDdINg0KCUM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4="},t.OutlineDropdownArrowDarkBackgroundIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjU7ZmlsbDojRkZGRkZGOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNmMwLjEtMC4yLDAtMC4zLTAuMi0wLjNINkM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjgsNy4zbDMuNSw0LjZjMC4xLDAuMSwwLjIsMC4xLDAuMywwbDMuNi00LjZDMTMuMyw3LjEsMTMuMiw3LDEzLDdINg0KCUM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4="},t.LineAndTextDropdownArrowIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6IzY2NjY2NjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6IzMzMzMzMzsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMaW5lX2Fycm93X2Ryb3Bkb3duX2Fycm93X2Rpc2FibGVkIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IlRyaWFuZ2xlIiBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzMzMzMzMzsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg=="},t.LineAndTextDropdownArrowDarkBackgroundIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9Im9wYWNpdHk6MC41O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMaW5lX2Fycm93X2Ryb3Bkb3duX2Fycm93X2Rpc2FibGVkIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IlRyaWFuZ2xlIiBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg=="},t.MenuItemArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOCAgQzcuMSw1LjcsNyw1LjgsNyw2djdDNywxMy4yLDcuMSwxMy4zLDcuMywxMy4yeiIvPgo8L3N2Zz4="},t.RadioButtonIcon={height:16,width:16,padding:1,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9yZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4NCjxjaXJjbGUgc3R5bGU9ImZpbGw6IzY2NjY2NjsiIGN4PSI4IiBjeT0iOCIgcj0iMyIvPg0KPHBhdGggc3R5bGU9ImZpbGw6IzY2NjY2NjsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMUM0LjEsMSwxLDQuMSwxLDhzMy4xLDcsNyw3czctMy4xLDctNyAgUzExLjksMSw4LDFMOCwxeiIvPg0KPC9zdmc+",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPGNpcmNsZSBzdHlsZT0iZmlsbDojMzMzMzMzOyIgY3g9IjgiIGN5PSI4IiByPSIzIi8+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNOCwyYzMuMywwLDYsMi43LDYsNnMtMi43LDYtNiw2cy02LTIuNy02LTZTNC43LDIsOCwyIE04LDFDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTcgIFMxMS45LDEsOCwxTDgsMXoiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPg0KPGNpcmNsZSBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzMzMzMzMztlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgOyIgY3g9IjgiIGN5PSI4IiByPSIzIi8+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzMzMzMzMztlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxICBDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTdTMTEuOSwxLDgsMUw4LDF6Ii8+DQo8L3N2Zz4=",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJSZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNOCwyYzMuMywwLDYsMi43LDYsNnMtMi43LDYtNiw2cy02LTIuNy02LTZTNC43LDIsOCwyIE04LDFDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTcgIFMxMS45LDEsOCwxTDgsMXoiLz4NCjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJVbnNlbGVjdGVkX2hvdmVyIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaXNhYmxlZCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBkPSJNOCwxLjVDNC40LDEuNSwxLjUsNC40LDEuNSw4czIuOSw2LjUsNi41LDYuNXM2LjUtMi45LDYuNS02LjVTMTEuNiwxLjUsOCwxLjVMOCwxLjV6Ii8+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzMzMzMzMztlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxICBDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTdTMTEuOSwxLDgsMUw4LDF6Ii8+DQo8L3N2Zz4="},t.StepperRightIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBpZD0ic3ZnXzEiIGZpbGw9IiMzMzMzMzMiIGQ9Im03LjMsMTUuNDM5MjNsNC42LC0zLjVjMC4xLC0wLjEgMC4xLC0wLjIgMCwtMC4zbC00LjYsLTMuNmMtMC4yLC0wLjEgLTAuMywwIC0wLjMsMC4ybDAsN2MwLDAuMiAwLjEsMC4zIDAuMywwLjJ6Ii8+CiA8L2c+Cjwvc3ZnPg==",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg=="},t.StepperLeftIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTEuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xIiBmaWxsPSIjMzMzMzMzIiBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIiBzdHJva2U9Im51bGwiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA5LjQ4NzUwMDE5MDczNDg2MywxMS43MzkyMzAxNTU5NDQ4MjQpICIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPg0KIDwvZz4NCg0KIDxnPg0KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+DQogIDxwYXRoIGQ9Im03LjMsMTUuNDM5MjNsNC42LC0zLjVjMC4xLC0wLjEgMC4xLC0wLjIgMCwtMC4zbC00LjYsLTMuNmMtMC4yLC0wLjEgLTAuMywwIC0wLjMsMC4ybDAsN2MwLDAuMiAwLjEsMC4zIDAuMywwLjJ6IiBmaWxsPSIjMzMzMzMzIiBvcGFjaXR5PSIwLjI1IiBpZD0ic3ZnXzEiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA5LjQ4NzUwMDE5MDczNDg2MywxMS43MzkyMzAxNTU5NDQ4MjQpICIgc3Ryb2tlPSJudWxsIi8+DQogPC9nPg0KPC9zdmc+"},t.StepperUpIcon={height:11,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},t.StepperDownIcon={height:10,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},t.TextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM2NjY2NjY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4="},t.DarkThemeTextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6I2ZmZmZmZjtvcGFjaXR5OjAuNX0NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC45LDIuOUwzLDguOWMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwbDAsMEMyLDguNywyLDguMywyLjIsOC4xbDUuOS01LjlDOC4zLDIsOC43LDIsOC45LDIuMmwwLDAgICBDOS4xLDIuNCw5LjEsMi43LDguOSwyLjl6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMsMi4ybDUuOSw1LjljMC4yLDAuMiwwLjIsMC42LDAsMC44bDAsMGMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwTDIuMiwzQzIsMi44LDIsMi40LDIuMiwyLjJsMCwwICAgQzIuNSwyLDIuOCwyLDMsMi4yeiIvPg0KPC9nPg0KPC9zdmc+",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6I2ZmZmZmZn0NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC45LDIuOUwzLDguOWMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwbDAsMEMyLDguNywyLDguMywyLjIsOC4xbDUuOS01LjlDOC4zLDIsOC43LDIsOC45LDIuMmwwLDAgICBDOS4xLDIuNCw5LjEsMi43LDguOSwyLjl6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMsMi4ybDUuOSw1LjljMC4yLDAuMiwwLjIsMC42LDAsMC44bDAsMGMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwTDIuMiwzQzIsMi44LDIsMi40LDIuMiwyLjJsMCwwICAgQzIuNSwyLDIuOCwyLDMsMi4yeiIvPg0KPC9nPg0KPC9zdmc+"},t.SearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNy41LDBDNS4wMTUsMCwzLDIuMDE1LDMsNC41UzUuMDE1LDksNy41LDlTMTIsNi45ODUsMTIsNC41ICAgUzkuOTg1LDAsNy41LDB6IE03LjUsOEM1LjU2Nyw4LDQsNi40MzMsNCw0LjVTNS41NjcsMSw3LjUsMVMxMSwyLjU2NywxMSw0LjVTOS40MzMsOCw3LjUsOHoiLz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNS4wMjYsNy44NThsLTMuOTYsMy45NmMtMC4yNDMsMC4yNDMtMC42NDEsMC4yNDMtMC44ODQsMGwwLDAgICBjLTAuMjQzLTAuMjQzLTAuMjQzLTAuNjQxLDAtMC44ODRsMy45Ni0zLjk2YzAuMjQzLTAuMjQzLDAuNjQxLTAuMjQzLDAuODg0LDBsMCwwQzUuMjY5LDcuMjE3LDUuMjY5LDcuNjE1LDUuMDI2LDcuODU4eiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy41LDBDNSwwLDMsMiwzLDQuNVM1LDksNy41LDlTMTIsNywxMiw0LjVTMTAsMCw3LjUsMHogTTcuNSw4QzUuNiw4LDQsNi40LDQsNC41UzUuNiwxLDcuNSwxICAgUzExLDIuNiwxMSw0LjVTOS40LDgsNy41LDh6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPgo8L2c+Cjwvc3ZnPg=="},t.DarkThemeSearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I2ZmZmZmZjtvcGFjaXR5OjAuNSIgZD0iTTcuNSwwQzUuMDE1LDAsMywyLjAxNSwzLDQuNVM1LjAxNSw5LDcuNSw5UzEyLDYuOTg1LDEyLDQuNSAgIFM5Ljk4NSwwLDcuNSwweiBNNy41LDhDNS41NjcsOCw0LDYuNDMzLDQsNC41UzUuNTY3LDEsNy41LDFTMTEsMi41NjcsMTEsNC41UzkuNDMzLDgsNy41LDh6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I2ZmZmZmZjtvcGFjaXR5OjAuNSIgZD0iTTUuMDI2LDcuODU4bC0zLjk2LDMuOTZjLTAuMjQzLDAuMjQzLTAuNjQxLDAuMjQzLTAuODg0LDBsMCwwICAgYy0wLjI0My0wLjI0My0wLjI0My0wLjY0MSwwLTAuODg0bDMuOTYtMy45NmMwLjI0My0wLjI0MywwLjY0MS0wLjI0MywwLjg4NCwwbDAsMEM1LjI2OSw3LjIxNyw1LjI2OSw3LjYxNSw1LjAyNiw3Ljg1OHoiLz4NCjwvZz4NCjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggc3R5bGU9ImZpbGw6I2ZmZmZmZjsiIGQ9Ik03LjUsMEM1LDAsMywyLDMsNC41UzUsOSw3LjUsOVMxMiw3LDEyLDQuNVMxMCwwLDcuNSwweiBNNy41LDhDNS42LDgsNCw2LjQsNCw0LjVTNS42LDEsNy41LDEgICBTMTEsMi42LDExLDQuNVM5LjQsOCw3LjUsOHoiLz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojZmZmZmZmOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPg0KPC9nPg0KPC9zdmc+"},t.ActivitySpinnerIcon={underlaySize:65,size:50,edgeBrowserImage:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCIgc3R5bGU9ImN1cnNvcjp3YWl0O292ZXJmbG93OmhpZGRlbjstd2Via2l0LWFuaW1hdGlvbjpzdmctc3Bpbm5lci1hbmltYXRpb24gMXMgbGluZWFyIGluZmluaXRlO2FuaW1hdGlvbjpzdmctc3Bpbm5lci1hbmltYXRpb24gMXMgbGluZWFyIGluZmluaXRlO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyOyI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj5ALXdlYmtpdC1rZXlmcmFtZXMgc3ZnLXNwaW5uZXItYW5pbWF0aW9uezEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7fX1Aa2V5ZnJhbWVzIHN2Zy1zcGlubmVyLWFuaW1hdGlvbnsxMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt9fTwvc3R5bGU+PGc+PHBhdGggZD0iTTQyLjcsNy4zTDQwLDEwYzMuOCwzLjgsNi4yLDkuMSw2LjIsMTVjMCwxMS43LTkuNSwyMS4xLTIxLjEsMjEuMUMxMy4zLDQ2LjEsMy45LDM2LjcsMy45LDI1SDBjMCwxMy44LDExLjIsMjUsMjUsMjVjMTMuOCwwLDI1LTExLjIsMjUtMjVDNTAsMTguMSw0Ny4yLDExLjksNDIuNyw3LjN6IiBzdHlsZT0iZmlsbDojNjE2NTcwOyIvPjwvZz48L3N2Zz4=",animation:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHN0eWxlPSJjdXJzb3I6d2FpdDtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1hbmltYXRpb246c3ZnLXNwaW5uZXItYW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246c3ZnLXNwaW5uZXItYW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZTt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjsiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QC13ZWJraXQta2V5ZnJhbWVzIHN2Zy1zcGlubmVyLWFuaW1hdGlvbnsxMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBzdmctc3Bpbm5lci1hbmltYXRpb257MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7fX08L3N0eWxlPjxnPjxwYXRoIGQ9Ik00Mi43LDcuM0w0MCwxMGMzLjgsMy44LDYuMiw5LjEsNi4yLDE1YzAsMTEuNy05LjUsMjEuMS0yMS4xLDIxLjFDMTMuMyw0Ni4xLDMuOSwzNi43LDMuOSwyNUgwYzAsMTMuOCwxMS4yLDI1LDI1LDI1YzEzLjgsMCwyNS0xMS4yLDI1LTI1QzUwLDE4LjEsNDcuMiwxMS45LDQyLjcsNy4zeiIgc3R5bGU9ImZpbGw6IzYxNjU3MDsiLz48L2c+PGc+PGRlZnM+PHBhdGggaWQ9InN2Zy1zcGlubmVyLWNpcmNsZSIgZD0iTTI1LDUwQzExLjIsNTAsMCwzOC44LDAsMjVDMCwxMS4yLDExLjIsMCwyNSwwYzEzLjgsMCwyNSwxMS4yLDI1LDI1QzUwLDM4LjgsMzguOCw1MCwyNSw1MHogTTI1LDMuOUMxMy4zLDMuOSwzLjksMTMuMywzLjksMjVjMCwxMS43LDkuNSwyMS4xLDIxLjEsMjEuMVM0Ni4xLDM2LjcsNDYuMSwyNUM0Ni4xLDEzLjMsMzYuNywzLjksMjUsMy45eiIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9InN2Zy1zcGlubmVyLWNsaXBwYXRoIj48dXNlIHhsaW5rOmhyZWY9IiNzdmctc3Bpbm5lci1jaXJjbGUiIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIvPjwvY2xpcFBhdGg+PGxpbmVhckdyYWRpZW50IGlkPSJzdmctc3Bpbm5lci1ncmFkaWVudCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIwIiB5MT0iMTIuNDk5OCIgeDI9IjUwIiB5Mj0iMTIuNDk5OCI+PHN0b3Agb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojNjE2NTcwO3N0b3Atb3BhY2l0eTowIi8+PHN0b3Agb2Zmc2V0PSIwLjE1IiBzdHlsZT0ic3RvcC1jb2xvcjojNjE2NTcwO3N0b3Atb3BhY2l0eTowLjA0Ii8+PHN0b3Agb2Zmc2V0PSIwLjMiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuMTYiLz48c3RvcCBvZmZzZXQ9IjAuNDUiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuMzYiLz48c3RvcCBvZmZzZXQ9IjAuNjEiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuNjQiLz48c3RvcCBvZmZzZXQ9IjAuNzYiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzAiLz48L2xpbmVhckdyYWRpZW50Pjxwb2x5Z29uIHBvaW50cz0iMjUsMjUgMCwyNSAwLDAgNTAsMCIgc3R5bGU9ImNsaXAtcGF0aDp1cmwoI3N2Zy1zcGlubmVyLWNsaXBwYXRoKTtmaWxsOnVybCgjc3ZnLXNwaW5uZXItZ3JhZGllbnQpOyIvPjwvZz48L3N2Zz4="},t.SliderHandleIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmQiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzJfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNFQkVCRUI7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+DQo="},t.SliderLeftHandleIcon={height:20,width:20,artworkOffsetFromRightSide:4,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmQiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPHBhdGggaWQ9IkxlZnRIYWxmQ2lyY2xlXzJfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNg0KCUM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjJMMTYsMnoiLz4NCjwvc3ZnPg0K",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPHBhdGggaWQ9IkxlZnRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNg0KCUM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjJMMTYsMnoiLz4NCjwvc3ZnPg0K",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNFQkVCRUI7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPGcgaWQ9IkxlZnRIYWxmQ2lyY2xlXzJfIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNkM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjINCgkJTDE2LDJ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="},t.SliderRightHandleIcon={height:20,width:20,artworkOffsetFromLeftSide:2,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+DQo=",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+DQo=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRUJFQkVCOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+"}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(41),a=o(38),l=o(36),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getContainerStyleOfIndex=function(e){return{}},t.prototype.render=function(){var e=this;return i.createElement(a.Block,{role:"group"},this.props.checkBoxWithLabelPropsList.map(function(t,o){var n=r.assign({},t.containerStyle,e.getContainerStyleOfIndex(o)),a=r.assign({},t,{containerStyle:n,key:o});return i.createElement(s.CheckBoxWithLabelWidget,a)}))},t}(l.DynamicThemeComponent);t.CheckBoxWithLabelGroupWidget=c},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(37),a=o(38),l=o(1),c=o(36),d=o(10),p=o(42),u=o(3),h=function(){return{label:{display:"flex",alignItems:"flex-start",marginTop:u.TabStyles.Spacing.SmallSpace},text:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",paddingTop:"1px"}}},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=h();return r.createElement(a.Block,{className:l.SuppressClickBustingClass,style:this.props.containerStyle,role:"checkbox","aria-checked":this.props.checked},r.createElement(p.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:e.label},r.createElement(s.CheckBoxWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,removeLeftMargin:this.props.removeLeftMargin,testId:this.props.testId}),r.createElement(a.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t=i([d.InteractiveDomHoCDecorator],t)}(c.DynamicThemeComponent);t.CheckBoxWithLabelWidget=g},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(3),l=o(10),c=o(36),d=a.TabStyles.Typography,p=function(){return{base:{fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Primary,lineHeight:"normal"},disabled:{color:d.Color.Disabled}}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t=p();return e=this.props.disabled?s.assign({},t.base,this.props.style,t.disabled):s.assign({},t.base,this.props.style),r.createElement("label",{style:e,"data-tb-test-id":this.props.testId+"-Label"},this.props.children)},t=i([l.InteractiveDomHoCDecorator],t)}(c.DynamicThemeComponent);t.InputLabelWidget=u},function(e,t,o){"use strict";function n(e){var t=2-e.toString().length+1;return Array(+(t>0&&t)).join("0")+e}function i(e,t){if(!e)return null;if("string"==typeof e||e instanceof String)return e.toString();if(e instanceof Date){if(e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()),isNaN(e.getDate()))return null;if(t===h.Date)return e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate());if(t===h.Time)return n(e.getHours())+":"+n(e.getMinutes());if(t===h.DateTime)return e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+"T"+n(e.getHours())+":"+n(e.getMinutes())}return null}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(4),l=o(38),c=o(36),d=o(44),p=o(9),u=o(45),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.Date=new t("date"),t.DateTime=new t("datetime-local"),t.Time=new t("time"),t}(u.TextInputType);t.DateTimeInputType=h;var g=function(e){function t(t){var o=e.call(this,t)||this;return o.handleChangeWrapper=function(e){var t=o.dateFromString(e);t&&null!==t&&!isNaN(t.getTime())&&o.props.handleChange(t)},o.handleKeyDown=function(e){o.props.disabled},o.state={inputFocus:!1,inputActive:!1,inputHover:!1},o}return r(t,e),t.prototype.getInputStyle=function(){var e=d.getTextOutlineStyles({});return a.assign({},e.input.base,{paddingRight:0},this.props.inputStyle)},t.prototype.dateFromString=function(e){switch(this.props.type){case h.Date:e+="T00:00";break;case h.Time:e=(new Date).toISOString().substr(0,10)+"T"+e}e+="+0000";var t=new Date(e);return t},t.prototype.render=function(){var e={style:this.props.containerStyle},t=d.getTextOutlineStyles({}),o=this.getInputStyle(),n={style:o,interactiveStyles:t.input.interactive,text:i(this.props.value,this.props.type),testId:p.testId(this.props.testId,"DateTimeWidget"),type:this.props.type,handleChange:this.handleChangeWrapper,handleEnter:this.props.handleEnter,shouldSelectTextOnFocus:!1,disabled:this.props.disabled,readOnly:this.props.readOnly,onKeyDown:this.handleKeyDown,name:this.props.name};return s.createElement(l.Block,e,s.createElement(u.TextFieldInputWidget,n))},t}(c.DynamicThemeComponent);t.DateTimeInputWidget=g},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(39),l=o(9),c=o(38),d=o(3),p=o(45);t.TextInputType=p.TextInputType;var u=o(46),h=o(48),g=o(49),y=o(30),I=d.TabStyles.Colors,f=d.TabStyles.Sizing,b=d.TabStyles.Spacing,m=d.TabStyles.Typography,M=function(e){return{input:{base:{borderWidth:f.BorderWidth,borderRadius:f.BorderRadius,borderColor:e.onDarkBackground?I.WhiteTransparentLine:I.L6,borderStyle:"solid",height:f.RowHeight,paddingLeft:b.DefaultSpace,paddingRight:a.TextFieldClearIcon.width+2*b.DefaultSpace,outline:"none",backgroundColor:I.Transparent,fontSize:m.Sizing.Default,fontFamily:m.FontFamily,color:e.onDarkBackground?m.Color.InvertedPrimary:m.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderColor:e.onDarkBackground?I.WhiteTransparentLineHover:I.L8},active:{borderColor:e.onDarkBackground?I.WhiteTransparentLineHover:I.L8},focus:{borderColor:e.onDarkBackground?I.WhiteTransparentLineHover:I.L8},disabled:{borderColor:e.onDarkBackground?I.WhiteDisabled:I.L9Disabled,color:e.onDarkBackground?m.Color.InvertedDisabled:m.Color.Disabled}},noClearIconButton:{paddingRight:b.DefaultSpace}},errorInput:{borderColor:I.AttentionLight},errorLabel:{fontSize:m.Sizing.Tiny,fontFamily:m.FontFamily,fontWeight:"normal",color:I.AttentionLight,lineHeight:"normal"},errorContainer:{paddingTop:b.SmallSpace},placeholder:{base:s.assign({fontSize:m.Sizing.Default,fontFamily:m.FontFamily,fontWeight:"normal",color:e.onDarkBackground?m.Color.InvertedSecondary:m.Color.Secondary,position:"absolute",left:b.DefaultSpace,textAlign:"start",lineHeight:f.RowHeight+"px",maxWidth:"calc(100% - "+2*b.DefaultSpace+"px)"},g.TextEllipsis),disabled:{color:e.onDarkBackground?m.Color.InvertedDisabled:m.Color.Disabled}}}};t.getTextOutlineStyles=M;var v=function(e){function t(t){var o=e.call(this,t)||this;return o.handleClearHover=function(e){o.props.disabled||o.setState({clearHover:e})},o.state=s.assign({},o.state,{clearHover:!1}),o}return n(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||(this.state=s.assign({},this.state,{clearHover:!1}))},t.prototype.getInputStyle=function(){var e=M({onDarkBackground:this.props.onDarkBackground});return s.assign({},e.input.base,l.conditional(!this.props.handleClearText,e.input.noClearIconButton),l.conditional(this.state.clearHover,e.input.interactive.hover),this.props.hasError?e.errorInput:null,this.props.inputStyle)},t.prototype.render=function(){var e=this,t=M({onDarkBackground:this.props.onDarkBackground}),o=s.assign({},t.placeholder.base,this.props.placeholderStyle,l.conditional(this.props.disabled,t.placeholder.disabled)),n={style:o,"data-tb-test-id":l.testId(this.props.testId,"Placeholder")},a=this.props.hasError?null:t.input.interactive,d={type:this.props.type,style:this.getInputStyle(),interactiveStyles:a,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},handleBlur:this.props.handleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder,inputRef:this.props.inputRef,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus},h={pointerClick:this.props.handleClearText,handleHover:this.handleClearHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled},g=this.props.handleClearText?r.createElement(u.TextFieldWithClearIcon,{handleClearText:this.props.handleClearText,textFieldInputProps:d,textFieldClearButtonProps:h}):r.createElement(p.TextFieldInputWidget,i({},d));return r.createElement(c.Block,{style:this.props.containerStyle},r.createElement(c.Block,{},this.isPlaceholderShowing()?r.createElement("label",n,this.props.placeholder):null,g),this.props.displayErrorTextSection?r.createElement(c.Block,{style:t.errorContainer},r.createElement("label",{style:t.errorLabel,"data-tb-test-id":l.testId(this.props.testId,"ErrorLabel")},this.props.hasError?this.props.errorText:y.Unicode.NonBreakingSpace)):null)},t}(h.TextFieldBase);t.OutlineTextFieldWidget=v},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(11),a=o(4),l=o(10),c=o(29),d=o(3),p="shared-widgets-text-input";c.SingletonStyleSheet.addRawSelector("."+p+":focus",{"background-color":d.TabStyles.Colors.Transparent});try{c.SingletonStyleSheet.addRawSelector("."+p+"::-ms-clear",{display:"none"})}catch(u){}var h=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value},e.Text=new e("text"),e.Password=new e("password"),e}();t.TextInputType=h;var g={input:{width:"100%",boxSizing:"border-box"}},y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputRef=function(e){t.props.inputRef&&t.props.inputRef(e)},t.handleInputChange=function(e){t.props.disabled||t.props.handleChange(e.target.value)},t.handleInputFocus=function(e){if(t.props.shouldSelectTextOnFocus){var o=e.target;o.value&&o.setSelectionRange(0,o.value.length)}},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props.type?this.props.type.toString():"text",o={className:p,type:t,style:a.assign({},g.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:this.handleInputChange,onKeyDown:function(t){!e.props.disabled&&e.props.onKeyDown&&e.props.onKeyDown(t)},onKeyUp:function(t){e.props.disabled||!e.props.handleEnter&&!e.props.handleEscape||("Enter"===t.key&&e.props.handleEnter&&e.props.handleEnter(),"Escape"===t.key&&e.props.handleEscape&&e.props.handleEscape())},onFocus:this.handleInputFocus,disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,"aria-label":this.props.ariaLabel,onBlur:this.props.handleBlur,ref:this.handleInputRef};return s.createElement("input",o)},t.defaultProps={shouldSelectTextOnFocus:!0},t=i([l.InteractiveDomHoCDecorator],t)}(r.Component);t.TextFieldInputWidget=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(13),a=o(4),l=o(45),c=o(47),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasClearTextFired=!1,t.handleInputRef=function(e){t.props.textFieldInputProps.inputRef&&t.props.textFieldInputProps.inputRef(e),t.inputElement=e},t.handleClearTextWrapper=function(){t.props.textFieldInputProps.disabled||(t.wasClearTextFired=!0,t.props.handleClearText(),t.inputElement.focus(),setTimeout(function(){t.resetWasClearTextFired()},50))},t.handleBlur=function(){setTimeout(function(){return t.wasClearTextFired||t.isTextFieldClearButtonActiveElement()?void t.resetWasClearTextFired():void(t.props.textFieldInputProps.handleBlur&&t.props.textFieldInputProps.handleBlur())},0)},t.handleTextFieldClearButtonRef=function(e){t.textFieldClearButton=e},t}return n(t,e),t.prototype.isTextFieldClearButtonActiveElement=function(){return!!this.textFieldClearButton&&document.activeElement===s.findDOMNode(this.textFieldClearButton)},t.prototype.resetWasClearTextFired=function(){this.wasClearTextFired=!1},t.prototype.render=function(){var e={inputRef:this.handleInputRef,handleBlur:this.handleBlur},t=a.assign({},this.props.textFieldInputProps,e),o={ref:this.handleTextFieldClearButtonRef,pointerClick:this.handleClearTextWrapper},n=a.assign({},this.props.textFieldClearButtonProps,o),s=this.props.textFieldInputProps.text&&!this.props.textFieldInputProps.disabled?r.createElement(c.TextFieldClearButton,i({},n)):void 0;return r.createElement("span",{style:{lineHeight:"normal"}},r.createElement(l.TextFieldInputWidget,i({},t)),s)},t}(r.Component);t.TextFieldWithClearIcon=d},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(38),l=o(3),c=o(10),d=o(9),p=o(39),u=l.TabStyles.Sizing,h=l.TabStyles.Spacing,g=function(){var e=(u.RowHeight-p.TextFieldClearIcon.height)/2,t=u.RowHeight-e-p.TextFieldClearIcon.height;return{position:"absolute",right:0,top:0,bottom:0,margin:"auto",paddingRight:h.DefaultSpace,paddingLeft:h.DefaultSpace,paddingTop:e,paddingBottom:t}},y=function(e){function t(t){var o=e.call(this,t)||this;return o.handlePointerClick=function(e){e.stopPropagation(),o.props.pointerClick&&o.props.pointerClick(e)},o.handleHover=function(e){o.setState({hover:e}),o.props.handleHover&&o.props.handleHover(e)},o.handleActive=function(e){o.setState({active:e}),o.props.handleActive&&o.props.handleActive(e)},o.handleFocus=function(e){o.setState({focus:e}),o.props.handleFocus&&o.props.handleFocus(e)},o.state={active:!1,hover:!1,focus:!1},o}return n(t,e),t.prototype.getIcon=function(e,t){return!e.disabled&&(e.active||t.active||t.focus||t.hover)?this.props.onDarkBackground?p.DarkThemeTextFieldClearIcon.clearActive:p.TextFieldClearIcon.clearActive:this.props.onDarkBackground?p.DarkThemeTextFieldClearIcon.clear:p.TextFieldClearIcon.clear},t.prototype.render=function(){var e={pointerClick:this.handlePointerClick,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover},t=s.assign({},this.props,e);return r.createElement(c.InteractiveDomWrapper,t,r.createElement(a.Img,{style:g(),tabIndex:-1,src:this.getIcon(this.props,this.state),"data-tb-test-id":d.testId(this.props.testId,"ClearIcon")}))},t}(i.Component);t.TextFieldClearButton=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),r=o(36),s=function(e){function t(t){var o=e.call(this,t)||this;return o.handleInputActive=function(e){o.props.disabled||o.setState({inputActive:e})},o.handleInputFocus=function(e){o.props.disabled||o.setState({inputFocus:e})},o.handleBlur=function(){o.props.disabled||o.props.handleBlur&&o.props.handleBlur()},o.handleInputHover=function(e){o.props.disabled||o.setState({inputHover:e})},o.state=i.assign({},o.state,{inputFocus:!1,inputActive:!1,inputHover:!1}),o}return n(t,e),t.prototype.isPlaceholderShowing=function(){return!this.props.text&&this.props.disabled||!(this.props.text||this.state.inputActive||this.state.inputFocus)},t.defaultProps={shouldSelectTextOnFocus:!0},t}(r.DynamicThemeComponent);t.TextFieldBase=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};t.TextEllipsis=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(13),a=o(18),l=o(4),c=o(51),d=o(3),p=o(9),u=o(59),h=o(36),g=o(60),y=o(62),I=o(17),f=o(63),b=o(64);!function(e){e[e.Centered=0]="Centered",e[e.Maximized=1]="Maximized",e[e.Draggable=2]="Draggable",e[e.Anchored=3]="Anchored"}(i||(i={})),t.DialogPositioningBehavior=i;var m;!function(e){e[e.NormalWithTitleBar=0]="NormalWithTitleBar",e[e.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",e[e.Uber=2]="Uber"}(m||(m={})),t.DialogType=m;var M="SharedWidgetsDialogLabel";t.SharedWidgetsDialogLabel=M;var v=500,L=100,w=0,D=function(){return{Dialog:{borderWidth:d.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:d.TabStyles.Colors.L5,borderRadius:d.TabStyles.Sizing.BorderRadius,backgroundColor:d.TabStyles.Colors.White,cursor:"default",boxShadow:d.TabStyles.Shadow.Medium,display:"flex",flexDirection:"column"}}},C=function(e){function t(t){var o=e.call(this,t)||this;return o.throttledHandleAdjustPositionOnResize=a(function(){return o.handleAdjustPositionOnResize()},L),o.handleAdjustPositionOnResize=function(){o.props.shouldAdjustPositionOnWindowResize&&(o.sizingWrapper&&o.sizingWrapper.updateSize(),o.repositionDialog())},o.handleFloaterWidgetRef=function(e){o.floaterWidget=e},o.handleOverlayRef=function(e){o.overlay=e},o.handleSizingWrapperRef=function(e){o.sizingWrapper=e},o.getDialogFloaterClientRect=function(){return o.floaterWidget?o.floaterWidget.getFloaterClientRect():null},o.dragBoundedDialogFloaterPosition=function(e){o.state.hasBeenDragged||o.setState({hasBeenDragged:!0}),o.floaterWidget&&o.floaterWidget.setPosition(o.getBoundedFloaterPos(e))},o.handleOrientationChange=function(){return o.resizeAndRepositionTimeoutId?(clearTimeout(o.resizeAndRepositionTimeoutId),void(o.resizeAndRepositionTimeoutId=setTimeout(o.resizeAndRepositionCallback,v))):void o.hideDialogAndThen(function(e){o.forceRepaintHack(),o.resizeAndRepositionCallback=function(){o.resizeAndRepositionTimeoutId=null,o.resizeAndRepositionCallback=null,o.sizingWrapper.updateSize(),e&&e(),o.repositionDialog()},o.resizeAndRepositionTimeoutId=setTimeout(o.resizeAndRepositionCallback,v)})},o.handleGlassEscape=function(){o.props.onCloseRequest()},o.instanceId=w++,o.state={hasBeenDragged:!1},o}return n(t,e),t.prototype.addResizeEventListener=function(){window.addEventListener("resize",this.throttledHandleAdjustPositionOnResize)},t.prototype.removeResizeEventListener=function(){window.removeEventListener("resize",this.throttledHandleAdjustPositionOnResize)},t.prototype.repositionDialog=function(){switch(this.props.positioningBehavior){case i.Centered:case i.Maximized:this.floaterWidget.centerInVisualViewport();break;case i.Draggable:this.state.hasBeenDragged?this.repositionDraggedDialog():this.floaterWidget.centerInVisualViewport();break;case i.Anchored:this.overlay&&this.overlay.setPlacement();break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},t.prototype.saveDraggedDialogPositionBeforeHide=function(){this.dragPositionBeforeHide=this.getDialogFloaterClientRect()},t.prototype.repositionDraggedDialog=function(){var e;this.dragPositionBeforeHide?(e=this.dragPositionBeforeHide,this.dragPositionBeforeHide=void 0):e=this.getDialogFloaterClientRect(),this.floaterWidget.setPosition(this.getBoundedFloaterPos(e))},t.prototype.hideDialogAndThen=function(e){var t;switch(this.props.positioningBehavior){case i.Centered:case i.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case i.Draggable:this.saveDraggedDialogPositionBeforeHide(),this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case i.Anchored:var o=s.findDOMNode(this.sizingWrapper),n=o.style.display;o.style.display="none",t=function(){o.style.display=n};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}e(t)},t.prototype.forceRepaintHack=function(){var e=s.findDOMNode(this),t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},t.prototype.getBoundedFloaterPos=function(e){var t=this.floaterWidget.getFloaterClientRect(),o={top:e.top,left:e.left,width:t.width,height:t.height},n={top:0,left:0,width:window.innerWidth,height:window.innerHeight};return g.computePositionToContainBounds(o,n)},t.prototype.getPositionedDialogElem=function(e){switch(this.props.positioningBehavior){case i.Centered:case i.Draggable:case i.Maximized:return r.createElement(u.FloaterWidget,{testId:p.testId(this.props.testId,"Dialog"),stackingRootId:this.props.stackingRootId,ref:this.handleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged},e);case i.Anchored:return r.createElement(I.Overlay,{anchorEl:this.props.anchorEl,anchorOrigin:this.props.anchorOrigin||{vertical:I.VerticalOriginOption.bottom,horizontal:I.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:I.VerticalOriginOption.top,horizontal:I.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,leftFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.left:void 0,topFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.top:void 0,ref:this.handleOverlayRef},e);default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},t.prototype.getGlassElem=function(){return r.createElement(y.GlassWidget,{testId:p.testId(this.props.testId,"Dialog"),handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,handleEscape:this.handleGlassEscape})},t.prototype.componentDidMount=function(){b.OrientationChange.addListener(this.handleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.addResizeEventListener()},t.prototype.componentDidUpdate=function(e){this.props.shouldAdjustPositionOnWindowResize!==e.shouldAdjustPositionOnWindowResize&&(this.props.shouldAdjustPositionOnWindowResize?this.addResizeEventListener():this.removeResizeEventListener())},t.prototype.componentWillUnmount=function(){b.OrientationChange.removeListener(this.handleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.removeResizeEventListener()},t.prototype.render=function(){var e=l.assign({},this.props,{getDraggableDialogClientRect:this.getDialogFloaterClientRect,setDraggableDialogPosition:this.dragBoundedDialogFloaterPosition,instanceId:this.instanceId,testId:p.testId(this.props.testId,"Dialog")}),t=l.assign({},{isMaximized:this.props.positioningBehavior===i.Maximized,style:l.assign({},D().Dialog,this.props.dialogStyle,{width:this.props.dialogWidth}),ref:this.handleSizingWrapperRef},p.conditional(this.props.positioningBehavior===i.Anchored,{testId:p.testId(this.props.testId,"Dialog")})),o=r.createElement(f.ViewportConstrainedDomWrapper,t,r.createElement(c.DialogContent,e));return r.createElement("div",{style:{display:"none"}},p.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(o))},t}(h.DynamicThemeComponent);t.DialogWidget=C},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(13),a=o(52),l=o(4),c=o(9),d=o(53),p=o(54),u=o(55),h=o(50),g=o(38),y=o(58),I=function(){return{DialogContent:{outline:"none",display:"flex",flexDirection:"column",overflow:"hidden"}}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDialogHeaderRef=function(e){t.dialogHeader=s.findDOMNode(e)},t.handleDialogKeyUp=function(e){"Escape"===e.key&&t.props.onCloseRequest()},t.handleDialogKeyDown=function(e){if("Tab"===e.key){var o=a(t.dialog),n=o.length>0?o[0]:null,i=o.length>0?o[o.length-1]:null;e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&(e.preventDefault(),i.focus()):(e.preventDefault(),n.focus())}},t}return n(t,e),t.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=s.findDOMNode(this),this.props.disableAutoFocus||this.initializeFocusOnMount(),this.setFocusEventListener(),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},t.prototype.initializeFocusOnMount=function(){var e=a(this.dialog);if(0===e.length)throw Error("Something within the dialog must be focusable as to dismiss it");var t=0;if(this.dialogHeader)for(var o=0;o<e.length;o++)if(!this.dialogHeader.contains(e[o])){t=o;break}var n=e[t];y.timeoutFocus(n)},t.prototype.setFocusEventListener=function(){var e=this;this.focusEventListener=function(t){if(!e.props.isModal){var o=t.target;e.dialog.contains(o)||(e.elementToReturnFocus=o)}}},t.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},t.prototype.returnFocusToElement=function(){y.timeoutFocus(this.elementToReturnFocus)},t.prototype.render=function(){var e=I(),t=l.assign({},this.props,{ref:this.handleDialogHeaderRef});return r.createElement(g.Block,{"data-tb-test-id":c.testId(this.props.testId,"Content"),tabIndex:-1,style:l.assign({},e.DialogContent,this.props.dialogContentStyle),onKeyDown:this.handleDialogKeyDown,onKeyUp:this.handleDialogKeyUp,role:"dialog","aria-labelledby":c.conditional(!!this.props.title,h.SharedWidgetsDialogLabel+String(this.props.instanceId))},c.conditional(this.props.type!==h.DialogType.Uber,r.createElement(u.DialogHeader,t)),r.createElement(d.DialogBody,this.props),c.conditional(this.props.showFooter,r.createElement(p.DialogFooter,this.props)))},t}(i.Component);t.DialogContent=f},function(e,t){function o(){var e=[];return function t(o){if(o===document.documentElement)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n][0]===o)return e[n][1];var r=!1,s=window.getComputedStyle(o);return"hidden"===s.visibility||"none"===s.display?r=!0:o.parentNode&&(r=t(o.parentNode)),e.push([o,r]),r}}e.exports=function(e){for(var t,n,i=[],r=[],s=o(),a=e.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,c=a.length;l<c;l++)t=a[l],n=t.tabIndex,n<0||"INPUT"===t.tagName&&"hidden"===t.type||t.disabled||s(t)||(0===n?i.push(t):r.push({tabIndex:n,node:t}));var d=r.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(d,i),d}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(9),l=o(50),c=o(38),d=o(3),p=function(){return{Body:{outline:"none",overflow:"auto"}}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPaddingStyle=function(){var e=d.TabStyles.Spacing.LargeSpace,t=d.TabStyles.Spacing.LargeSpace,o=d.TabStyles.Spacing.LargeSpace,n=0;switch(this.props.type){case l.DialogType.NormalWithTitleBar:n=d.TabStyles.Spacing.LargeSpace;break;case l.DialogType.NormalWithoutTitleBar:n=0;break;case l.DialogType.Uber:n=d.TabStyles.Spacing.MediumSpace;break;default:throw Error("Dialog type not handled")}return this.props.showFooter&&(o=0),{padding:n+"px "+t+"px "+o+"px "+e+"px"}},t.prototype.render=function(){var e=p(),t=s.assign({},e.Body,this.getPaddingStyle(),this.props.dialogBodyStyle);return r.createElement(c.Block,{"data-tb-test-id":a.testId(this.props.testId,"Body"),style:t,id:a.testId(this.props.testId,"Body-Id")},this.props.children)},t}(i.Component);t.DialogBody=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(9),r=o(38),s=o(3),a=8*s.TabStyles.Sizing.BaseUnit,l=function(){return{Footer:{paddingLeft:s.TabStyles.Spacing.LargeSpace,paddingRight:s.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:0,height:a,flexShrink:0},FooterContent:{height:"100%"}}},c=function(e){var t=l();return n.createElement(r.Block,{"data-tb-test-id":i.testId(e.testId,"Footer"),style:t.Footer},i.conditional(!!e.footerContent,n.createElement(r.Block,{style:t.FooterContent},e.footerContent)))};t.DialogFooter=c},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(13),a=o(4),l=o(56),c=o(9),d=o(50),p=o(38),u=o(12),h=o(3),g=o(49),y=o(31),I=o(57),f=5*h.TabStyles.Sizing.BaseUnit,b=function(){return{DraggableHeader:{cursor:"move"},Header:{height:f,flexShrink:0},TitleBar:a.assign({},g.TextEllipsis,{color:h.TabStyles.Colors.F8,backgroundColor:h.TabStyles.Colors.F2,height:"100%",paddingRight:h.TabStyles.Spacing.LargeSpace,paddingLeft:h.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"}),TitleBarWithCloseButton:{paddingRight:0},Title:a.assign({},g.TextEllipsis,{fontFamily:h.TabStyles.Typography.FontFamily,fontSize:h.TabStyles.Typography.Sizing.Default,flexGrow:1})}},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleStart=function(e){if(!t.isEventWithinCloseButton(e)&&t.props.positioningBehavior===d.DialogPositioningBehavior.Draggable){e.preventDefault();var o=y.getClientPosition(e),n=t.props.getDraggableDialogClientRect();t.startXPosition=o.x-n.left,t.startYPosition=o.y-n.top,window.addEventListener("touchmove",t.handleMove),window.addEventListener("mousemove",t.handleMove)}},t.handleMove=function(e){e.preventDefault();var o=y.getClientPosition(e);t.props.setDraggableDialogPosition({top:o.y-t.startYPosition,left:o.x-t.startXPosition})},t.handleStop=function(e){window.removeEventListener("mousemove",t.handleMove),window.removeEventListener("touchmove",t.handleMove)},t.handleCloseButtonRef=function(e){t.closeButton=s.findDOMNode(e)},t}return n(t,e),t.prototype.componentDidMount=function(){this.titleBar=s.findDOMNode(this),this.props.positioningBehavior===d.DialogPositioningBehavior.Draggable&&this.addMouseEventListeners()},t.prototype.componentDidUpdate=function(e){this.props.positioningBehavior!==e.positioningBehavior&&(e.positioningBehavior===d.DialogPositioningBehavior.Draggable&&this.removeMouseEventListeners(),this.props.positioningBehavior===d.DialogPositioningBehavior.Draggable&&this.addMouseEventListeners())},t.prototype.componentWillUnmount=function(){this.props.positioningBehavior===d.DialogPositioningBehavior.Draggable&&this.removeMouseEventListeners()},t.prototype.addMouseEventListeners=function(){window.addEventListener("touchend",this.handleStop),window.addEventListener("mouseup",this.handleStop)},t.prototype.removeMouseEventListeners=function(){window.removeEventListener("touchend",this.handleStop),window.removeEventListener("touchmove",this.handleMove),window.removeEventListener("mouseup",this.handleStop),window.removeEventListener("mousemove",this.handleMove)},t.prototype.isEventWithinCloseButton=function(e){var t=e.target;return!!this.closeButton&&this.closeButton.contains(t)},t.prototype.render=function(){var e=b(),t=a.assign({},e.Header,c.conditional(this.props.positioningBehavior===d.DialogPositioningBehavior.Draggable,e.DraggableHeader)),o=this.props.type===d.DialogType.NormalWithTitleBar,n=a.assign({},e.TitleBar,c.conditional(this.props.showCloseButton,e.TitleBarWithCloseButton)),i={testId:this.props.testId,tooltip:I.Messages.closeDialog(),requestClose:this.props.onCloseRequest,ref:this.handleCloseButtonRef};return r.createElement(u.PointerEventWrapper,{pointerDown:this.handleStart},r.createElement(p.Block,{"data-tb-test-id":c.testId(this.props.testId,"Header"),style:t},c.conditional(o,r.createElement(p.Block,{"data-tb-test-id":c.testId(this.props.testId,"TitleBar"),style:n},c.conditional(!!this.props.title,r.createElement(p.Block,{style:e.Title,id:d.SharedWidgetsDialogLabel+String(this.props.instanceId)},this.props.title)),c.conditional(this.props.showCloseButton,r.createElement(l.CloseButtonWidget,i))))))},t}(i.Component);t.DialogHeader=m},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(3),a=o(10),l=o(9),c=o(38),d=o(39),p=o(36),u=o(57),h=function(){return{containerBase:{width:5*s.TabStyles.Sizing.BaseUnit,height:5*s.TabStyles.Sizing.BaseUnit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"auto",outline:"none",flexShrink:0},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:3*s.TabStyles.Sizing.BaseUnit,height:3*s.TabStyles.Sizing.BaseUnit}}},g=function(e){function t(t){var o=e.call(this,t)||this;return o.handleHover=function(e){o.setState({hover:e})},o.handleFocus=function(e){o.setState({focus:e})},o.handleActive=function(e){o.setState({active:e})},o.handleKeyDown=function(e){"Enter"!==e.key&&" "!==e.key||o.props.requestClose()},o.state={hover:!1,active:!1,focus:!1},o}return n(t,e),t.prototype.render=function(){var e,t,o=h();return this.state.hover||this.state.focus||this.state.active?(e=d.CloseButtonIcon.active,t=r.assign({},o.imageContainer,{backgroundColor:s.TabStyles.Colors.F3})):(e=d.CloseButtonIcon.enabled,t=o.imageContainer),i.createElement(a.InteractiveDomWrapper,{pointerClick:this.props.requestClose,handleHover:this.handleHover,handleActive:this.handleActive,handleFocus:this.handleFocus},i.createElement(c.Block,{style:o.containerBase,tabIndex:0,onKeyDown:this.handleKeyDown,role:"button",title:this.props.tooltip||u.Messages.close(),"data-tb-test-id":l.testId(this.props.testId,"CloseButton")},i.createElement(c.Block,{style:t},i.createElement(c.Img,{src:e,draggable:!1,style:{width:d.CloseButtonIcon.width,height:d.CloseButtonIcon.height}}))))},t}(p.DynamicThemeComponent);t.CloseButtonWidget=g},function(e,t){"use strict";function o(){if("undefined"==typeof Localize)throw Error("The messages.<locale>.js file has not been loaded");return Localize}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleData={get:function(){return o().localeData}};var n=function(e,t){return o().msg.formatMessage(e,t)};t.Messages={close:function(){return n("@tableau__widgets/close")},closeDialog:function(){return n("@tableau__widgets/closeDialog")}}},function(e,t){"use strict";function o(e){for(;e;){if(e===window.document.body)return!0;e=e.parentElement}return!1}function n(e){setTimeout(function(){e&&o(e)&&e.focus()})}Object.defineProperty(t,"__esModule",{value:!0}),t.isAttachedToDocument=o,t.timeoutFocus=n},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(11),a=o(4),l=o(38),c=o(9),d=o(60),p=o(27),u=o(61),h={Floater:{position:"absolute",outline:0,pointerEvents:"auto"}},g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.floaterRefHandler=function(e){t.floater=r.findDOMNode(e),t.props.handleFloaterRef&&t.props.handleFloaterRef(e)},t}return n(t,e),t.prototype.getCenteredFloaterRectInLayoutCoords=function(){var e=u.getVisualViewportRectRelativeToLayoutViewport(),t={width:this.floater.offsetWidth,height:this.floater.offsetHeight},o=d.computePositionToCenterAreaInBounds(t,e);return d.makeClientRect(o,t)},t.prototype.getMinimumPageRectInLayoutCoords=function(){var e=u.getElementPositionRelativeToLayoutViewport(document.documentElement),t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},o=u.getVisualViewportRectRelativeToLayoutViewport(),n={width:o.right-e.left,height:o.bottom-e.top},i=d.getMaxWidthAndHeight(t,n);return d.makeClientRect(e,i)},t.prototype.centerInVisualViewport=function(){var e=this.getCenteredFloaterRectInLayoutCoords(),t=this.getMinimumPageRectInLayoutCoords(),o=d.computePositionToContainBounds(e,t);this.setPosition(o)},t.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},t.prototype.setPosition=function(e){var t=this.floater.offsetParent||document.documentElement,o=u.getElementPositionRelativeToLayoutViewport(t),n=d.subtractPositions(e,o);this.floater.style.top=n.top+"px",this.floater.style.left=n.left+"px"},t.prototype.componentDidMount=function(){this.centerInVisualViewport()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.shouldRecenterOnUpdate&&(this.clearDeferredCentering(),this.centerTimeoutHandle=setTimeout(function(){t.centerInVisualViewport()},0))},t.prototype.clearDeferredCentering=function(){this.centerTimeoutHandle&&(clearTimeout(this.centerTimeoutHandle),this.centerTimeoutHandle=null)},t.prototype.componentWillUnmount=function(){this.clearDeferredCentering()},t.prototype.render=function(){var e={"data-tb-test-id":c.testId(this.props.testId,"Floater"),style:a.assign({},h.Floater,this.props.customFloaterStyle||{}),ref:this.floaterRefHandler};return s.createElement(l.Block,e,this.props.children)},t}(i.Component);t.FloaterWidgetDefault=g;var y=p.StackingComponentHOC(g);t.FloaterWidget=y},function(e,t){"use strict";function o(e){return{top:e.top+e.height/2,left:e.left+e.width/2}}function n(e,t){return{top:e.top-t.top,left:e.left-t.left}}function i(e,t){return{width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)}}function r(e,t){var n=o(t);return{top:n.top-e.height/2,left:n.left-e.width/2}}function s(e,t){var o=t.top+t.height,n=t.left+t.width;return{top:Math.max(t.top,Math.min(e.top,o-e.height)),left:Math.max(t.left,Math.min(e.left,n-e.width))}}function a(e,t){return{top:e.top,left:e.left,bottom:e.top+t.height,right:e.left+t.width,width:t.width,height:t.height}}function l(e,t){return t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height}function c(e,t){return a({left:e.left+t,top:e.top},{width:e.width-t,height:e.height})}function d(e,t){return a({left:isNaN(t)?NaN:e.left,top:e.top},{width:e.width+t,height:e.height})}Object.defineProperty(t,"__esModule",{value:!0}),t.computeCenter=o,t.subtractPositions=n,t.getMaxWidthAndHeight=i,t.computePositionToCenterAreaInBounds=r,t.computePositionToContainBounds=s,t.makeClientRect=a,t.doesRectangleContainPoint=l,t.addClientRectLeft=c,t.addClientRectRight=d},function(e,t,o){"use strict";function n(e){return e.getBoundingClientRect()}function i(){var e=document.documentElement.getBoundingClientRect();return{top:-e.top,left:-e.left}}function r(){var e=s(),t=a();return l.makeClientRect(e,t)}function s(){var e=i(),t={top:window.pageYOffset,left:window.pageXOffset};return l.subtractPositions(t,e)}function a(){return{width:window.innerWidth,height:window.innerHeight}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(60);t.getElementPositionRelativeToLayoutViewport=n,t.getLayoutViewportPositionRelativeToPage=i,t.getVisualViewportRectRelativeToLayoutViewport=r,t.getVisualViewportPositionRelativeToLayoutViewport=s,t.getVisualViewportSize=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(38),a=o(9),l=o(3),c=o(10),d=o(36),p=o(27),u=function(){return{Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:l.TabStyles.Colors.White,opacity:l.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:l.TabStyles.Colors.OpaqueGlass,opacity:l.TabStyles.Opacity.OpaqueGlass}}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation())},t.handleKeyUp=function(e){t.props.handleEscape&&"Escape"===e.key&&(t.props.handleEscape(),e.preventDefault(),e.stopPropagation())},t}return n(t,e),t.prototype.render=function(){var e=this,t=u(),o=r.assign({},t.Glass,this.props.isTransparent?t.Clear:t.Opaque);return i.createElement(c.InteractiveDomWrapper,{pointerClick:function(t){t.preventDefault(),e.props.handleClick&&e.props.handleClick()}},i.createElement(s.Block,{style:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:0,"data-tb-test-id":a.testId(this.props.testId,"Glass")}))},t}(d.DynamicThemeComponent);t.GlassWidgetBase=h;var g=p.StackingComponentHOC(h);t.GlassWidget=g},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(9),l=o(61),c=20,d=function(e){function t(t){var o=e.call(this,t)||this;return o.state=o.getStateForCurrentViewport(),o}return n(t,e),t.prototype.getStateForCurrentViewport=function(){return{visualViewportSize:l.getVisualViewportSize(),documentClientSize:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}},t.prototype.getMaxSize=function(){var e={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&(this.props.style.minWidth||(e.width=Math.max(e.width,this.state.documentClientSize.width)),this.props.style.minHeight||(e.height=Math.max(e.height,this.state.documentClientSize.height))),{width:e.width-2*c,height:e.height-2*c}},t.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},t.prototype.render=function(){var e=this.getMaxSize(),t=s.assign({},{style:s.assign({},{maxWidth:e.width,maxHeight:e.height},this.props.style,a.conditional(this.props.isMaximized,{width:e.width,height:e.height}))},a.conditional(!!this.props.testId,{"data-tb-test-id":this.props.testId}));return r.createElement("div",t,this.props.children)},t}(i.Component);t.ViewportConstrainedDomWrapper=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=250;t.PendingOrientationChangeTimeoutMs=o;var n=200;t.PendingResizeTimeoutMs=n;var i=function(){function e(){}return e.init=function(){window.addEventListener("orientationchange",e.handleOrientationChange),window.addEventListener("resize",e.handleResize)},e.handleOrientationChange=function(){null!==e.latestPendingResizeTimestamp&&Date.now()-e.latestPendingResizeTimestamp<=n?e.fireOrientationChange():e.latestPendingOrientationChangeTimestamp=Date.now()},e.handleResize=function(){null!==e.latestPendingOrientationChangeTimestamp&&Date.now()-e.latestPendingOrientationChangeTimestamp<=o?e.fireOrientationChange():e.latestPendingResizeTimestamp=Date.now()},e.fireOrientationChange=function(){e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners.forEach(function(e){e()})},e.addListener=function(t){t&&e.listeners.push(t)},e.removeListener=function(t){e.listeners=e.listeners.filter(function(e){return e!==t})},e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners=[],e}();t.OrientationChange=i,i.init()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(32),r=o(9),s=o(38),a=o(3),l=function(){return{ButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},FooterButton:{paddingLeft:a.TabStyles.Spacing.MediumSpace}}},c=function(e){var t=l();return n.createElement(s.Block,{"data-tb-test-id":r.testId(e.testId,"Confirm-Cancel-Footer"),style:t.ButtonsContainer},e.buttons.map(function(e,o){return n.createElement(s.InlineBlock,{style:r.conditional(0!==o,t.FooterButton),key:o},n.createElement(i.ButtonWidget,e))}))};t.DialogFooterButtonsWidget=c},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(67),s=o(36),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props.currentStep/this.props.totalSteps;return i.createElement(r.ProgressBarContainer,{width:this.props.width},i.createElement(r.ProgressCompleteBar,{fractionComplete:e},1===e?null:i.createElement(r.ProgressBarAnimation,{containerWidth:this.props.width*e})))},t}(s.DynamicThemeComponent);t.DiscreteProgressBarWidget_UNFINISHED=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(4),r=o(29),s=o(3),a=o(38),l=function(){return{backgroundColor:s.TabStyles.Colors.F3,borderRadius:s.TabStyles.Sizing.BorderRadius,height:s.TabStyles.Sizing.BaseUnit}},c=function(e){var t=i.assign({},l(),{width:e.width});return n.createElement(a.Block,{style:t},e.children)};t.ProgressBarContainer=c;var d=function(){return{backgroundColor:s.TabStyles.Colors.GoLight,position:"absolute",top:0,left:0,height:"100%"}},p=function(e){var t=i.assign({},d(),{width:100*e.fractionComplete+"%"});return n.createElement(a.Block,{style:t},e.children)};t.ProgressCompleteBar=p;var u=function(){return s.TabStyles.Sizing.BaseUnit},h=function(){return{position:"absolute",top:0,width:u(),height:"100%",backgroundColor:s.TabStyles.Colors.GoDark}},g=function(e){var t=e.containerWidth,o=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(t-u())+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return n.createElement(a.Block,{style:h(),className:o})};t.ProgressBarAnimation=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(4),r=o(69),s=o(76),a=function(e){var t=i.assign({},e,{menuItemInfos:s.convertMenuItemInfoToGeneric(e.menuItemInfos)});return n.createElement(r.GenericDropdownWidget,t)};t.DropdownWidget=a},function(e,t,o){"use strict";function n(e){return{container:{},button:{base:h.assign({borderWidth:S.BorderWidth,borderRadius:S.BorderRadius,borderColor:e.primaryLineColors.normal,borderStyle:"solid",backgroundColor:T.Transparent,height:S.RowHeight,paddingLeft:j.DefaultSpace,paddingRight:j.LargeSpace+j.DefaultSpace,outline:"none",fontSize:P.Sizing.Default,fontFamily:P.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default"},f.TextEllipsis,b.PreventUserSelect),interactive:{hover:{borderColor:e.primaryLineColors.hover},active:{borderColor:e.primaryLineColors.active},focus:{borderColor:e.primaryLineColors.focus},disabled:{borderColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:0,height:e.innerRowHeight,borderWidth:S.BorderWidth,borderColor:e.secondaryLineColors.normal,borderStyle:"none none none solid"},icon:{marginTop:(e.innerRowHeight-L.OutlineDropdownArrowIcon.height)/2}}}function i(e){return{container:{},button:{base:h.assign({borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:S.BorderWidth,borderBottomColor:e.primaryLineColors.normal,borderBottomStyle:"solid",backgroundColor:T.Transparent,height:S.RowHeight,paddingRight:j.LargeSpace+j.DefaultSpace,outline:"none",fontSize:P.Sizing.Default,fontFamily:P.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default"},f.TextEllipsis,b.PreventUserSelect),interactive:{hover:{borderBottomColor:e.primaryLineColors.hover},active:{borderBottomColor:e.primaryLineColors.active},focus:{borderBottomColor:e.primaryLineColors.focus},disabled:{borderBottomColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{top:S.BorderWidth,lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:-4,border:"none"},icon:{marginTop:(e.innerRowHeight-L.LineAndTextDropdownArrowIcon.height)/2},label:{display:"block",boxSizing:"border-box",position:"relative",fontSize:P.Sizing.Tiny,fontFamily:P.FontFamily,fontWeight:"normal",color:e.secondaryTextColors.normal,lineHeight:P.Sizing.Small+"px"}}}function r(e){return{container:{display:"inline-block",width:"auto"},button:{base:h.assign({border:"none",backgroundColor:T.Transparent,height:S.RowHeight,outline:"none",fontSize:P.Sizing.Default,fontFamily:P.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default",lineHeight:S.RowHeight+"px",display:"inline-block",paddingRight:L.LineAndTextDropdownArrowIcon.width},b.PreventUserSelect),interactive:{active:{color:e.primaryTextColors.active},disabled:{color:e.primaryTextColors.disabled}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(S.RowHeight-L.LineAndTextDropdownArrowIcon.height)/2}}}function s(e,t){var o=N();switch(e){case c.Outline:return t?o.OutlineDropdownDarkBackgroundStyle:o.OutlineDropdownStyle;case c.Line:return t?o.LineDropdownDarkBackgroundStyle:o.LineDropdownStyle;case c.Text:return t?o.TextDropdownDarkBackgroundStyle:o.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+e)}}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var c,d=o(11),p=o(11),u=o(13),h=o(4),g=o(9),y=o(70),I=o(9),f=o(49),b=o(34),m=o(3),M=o(10),v=o(38),L=o(39),w=o(71),D=o(17),C=o(36),S=m.TabStyles.Sizing,T=m.TabStyles.Colors,j=m.TabStyles.Spacing,P=m.TabStyles.Typography;!function(e){e[e.Outline=0]="Outline",e[e.Line=1]="Line",e[e.Text=2]="Text"}(c||(c={})),t.DropdownType=c;var N=function(){var e=S.RowHeight-2*S.BorderWidth,t={normal:T.L6,hover:T.L8,active:T.L9,focus:T.L8,disabled:T.L9Disabled},o={normal:T.L3,hover:T.L3,active:T.L3,focus:T.L3,disabled:T.L3},s={normal:P.Color.Primary,disabled:P.Color.Disabled,active:T.Black},a={normal:P.Color.Secondary,disabled:P.Color.Disabled,active:T.Black},l={normal:T.WhiteTransparentLine,hover:T.WhiteTransparentLineHover,active:T.White,focus:T.WhiteTransparentLineHover,disabled:T.WhiteDisabled},c={normal:T.WhiteTransparentLine,hover:T.WhiteTransparentLine,active:T.WhiteTransparentLine,focus:T.WhiteTransparentLine,disabled:T.WhiteTransparentLine},d={normal:P.Color.InvertedPrimary,disabled:P.Color.InvertedDisabled,active:T.White},p={normal:P.Color.InvertedSecondary,disabled:P.Color.InvertedDisabled,active:T.White},u={innerRowHeight:e,primaryLineColors:t,secondaryLineColors:o,primaryTextColors:s,secondaryTextColors:a},h={innerRowHeight:e,primaryLineColors:l,secondaryLineColors:c,primaryTextColors:d,secondaryTextColors:p},g=n(u),y=n(h),I=i(u),f=i(h),b=r(u),m=r(h);return{OutlineDropdownStyle:g,OutlineDropdownDarkBackgroundStyle:y,LineDropdownStyle:I,LineDropdownDarkBackgroundStyle:f,TextDropdownStyle:b,TextDropdownDarkBackgroundStyle:m}};t.getDropdownStylesByType=s;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState({active:!1})},t.prototype.getDropdownIconSet=function(){switch(this.props.dropdownType){default:case c.Outline:return this.props.onDarkBackground?L.OutlineDropdownArrowDarkBackgroundIcon:L.OutlineDropdownArrowIcon;case c.Line:case c.Text:return this.props.onDarkBackground?L.LineAndTextDropdownArrowDarkBackgroundIcon:L.LineAndTextDropdownArrowIcon}},t.prototype.getDropdownIcon=function(){var e=this.getDropdownIconSet();return this.props.disabled?e.disabled:this.state.active||this.props.dropdownOpen||this.props.dropdownType===c.Text&&this.state.hover?e.active:e.enabled},t.prototype.render=function(){var e=s(this.props.dropdownType,this.props.onDarkBackground),t=h.assign({},e.button.base,I.conditional(this.props.dropdownOpen,e.button.interactive.active)),o={disabled:this.props.disabled,style:t,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0,role:"button","aria-haspopup":!0,"aria-labelledby":this.props.labelledById,"data-tb-test-id":this.props.testId},n=h.assign({},{style:e.value},I.conditional("string"==typeof this.props.children,{title:this.props.children}));return p.createElement(v.Block,o,p.createElement("span",n,this.props.children),p.createElement(v.InlineBlock,{style:e.iconContainer},p.createElement(v.Img,{style:e.icon,src:this.getDropdownIcon()})))},t=l([M.InteractiveDomHoCDecorator],t)}(d.Component);t.DropdownButtonWidget=x;var A="SharedWidgetsDropdownLabel",H=0,O=function(e){function t(t){var o=e.call(this,t)||this;return o.toggleMenu=function(){o.props.disabled||o.setState({isOpen:!o.state.isOpen})},o.handleSelect=function(e){o.props.onSelect(e,o.state.isOpen),o.onRequestClose()},o.handleKeyDown=function(e){if(!o.state.isOpen){var t=o.getIndexOfSelectedItem();if(I.isAlphabeticChar(e.key)){var n=y.findIndex(o.enabledItems,function(t){return!!t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.key.toUpperCase()},t+1,o);n>-1&&o.props.onSelect(o.enabledItems[n].value,o.state.isOpen)}else{var i=null;switch(e.key){case" ":case"Enter":o.toggleMenu();break;case"ArrowUp":i=t>0?o.enabledItems[t-1].value:o.enabledItems[o.enabledItems.length-1].value;break;case"ArrowDown":i=t<o.enabledItems.length-1?o.enabledItems[t+1].value:o.enabledItems[0].value;break;case"Home":i=o.enabledItems[0].value;break;case"End":i=o.enabledItems[o.enabledItems.length-1].value;break;default:return}i&&o.props.onSelect(i,o.state.isOpen),e.preventDefault(),e.stopPropagation()}}},o.onRequestClose=function(){o.toggleMenu()},o.setButtonElement=function(e){o.buttonEl=u.findDOMNode(e)},o.labelId=A+String(H++),o.setEnabledItems(o.props),o.state={isOpen:!1},o}return a(t,e),t.prototype.componentDidMount=function(){this.domNode=u.findDOMNode(this)},t.prototype.componentWillReceiveProps=function(e){this.setEnabledItems(e)},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe()},t.prototype.getMenuWidth=function(){var e=void 0;if(this.props.flyoutStyle){var t=this.props.flyoutStyle.width;if("auto"===t)return t;e=parseInt(t,10)}else this.props.containerStyle&&(e=parseInt(this.props.containerStyle.width,10));if(this.buttonEl){var o=this.buttonEl.getBoundingClientRect().width;e=Math.max(o,e||0)}return e},t.prototype.getIndexOfSelectedItem=function(){var e=this;return y.findIndex(this.enabledItems,function(t){return t.value===e.props.selectedValue},0,this)},t.prototype.setEnabledItems=function(e){e.menuItemInfos?this.enabledItems=e.menuItemInfos.filter(function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable}):this.enabledItems=[]},t.prototype.getButtonDisplayValue=function(){var e=this.getIndexOfSelectedItem();return e>-1?this.enabledItems[e].textForDropdownButton||"":this.props.placeholder||""},t.prototype.render=function(){var e=s(this.props.dropdownType,this.props.onDarkBackground),t=this.props.dropdownType===c.Line&&!!this.props.label,o=h.assign({},this.props.containerStyle,e.container),n=this.getMenuWidth(),i=h.assign({},this.props.flyoutStyle,{width:n});return p.createElement(v.Block,{style:o,"data-tb-test-id":g.testId(this.props.testId,"Dropdown")},I.conditional(t,p.createElement("label",{style:e.label,id:this.labelId},this.props.label)),p.createElement(v.Block,{},p.createElement(x,{disabled:this.props.disabled,dropdownOpen:this.state.isOpen,dropdownType:this.props.dropdownType,onDarkBackground:this.props.onDarkBackground,interactiveStyles:e.button.interactive,onKeyDown:this.handleKeyDown,pointerClick:this.toggleMenu,labelledById:I.conditional(t,this.labelId),ref:this.setButtonElement,testId:g.testId(this.props.testId,"DropdownButton")},this.getButtonDisplayValue())),I.conditional(this.state.isOpen,p.createElement(w.GenericFlyoutListMenuWidget,{toggleEl:this.buttonEl,anchorEl:this.buttonEl,stackingRootId:this.props.stackingRootId,shouldReturnFocusToToggleEl:this.props.shouldReturnFocusOnClose,anchorOrigin:{vertical:D.VerticalOriginOption.bottom,horizontal:D.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.toggleMenu,onSelect:this.handleSelect,_INTERNAL_focusValue:this.props.selectedValue,maxHeight:this.props.maxHeight,menuStyle:i,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.onRequestClose,zIndex:this.props.zIndex,testId:this.props.testId})))},t.defaultProps={shouldReturnFocusOnClose:!0},t}(C.DynamicThemeComponent);t.GenericDropdownWidget=O},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o,n){void 0===o&&(o=0);for(var i=o;i<e.length+o;i++){var r=i%e.length;if(t.call(n,e[r],r))return r}return-1};t.findIndex=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(72),s=o(36),a=o(17),l=o(75),c=o(58),d={vertical:a.VerticalOriginOption.bottom,horizontal:a.HorizontalOriginOption.left},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.componentDidMount=function(){this.props.toggleEl&&(this.pointerDownOutsideListenerUnsubscribe=l.GlobalPointerDownOutsideListener.subscribe(this.props.toggleEl,this.props.requestCloseAll))},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe(),this.props.toggleEl&&this.props.shouldReturnFocusToToggleEl&&c.timeoutFocus(this.props.toggleEl)},t.prototype.render=function(){return i.createElement(a.Overlay,{anchorEl:this.props.anchorEl,stackingRootId:this.props.stackingRootId,anchorOrigin:this.props.anchorOrigin||d,stackedOrigin:this.props.stackedOrigin,allowAutoPosition:this.props.allowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,scrollingRootId:this.props.scrollingRootId,zIndex:this.props.zIndex},i.createElement(r.ListMenuWidget,{menuItemInfos:this.props.menuItemInfos,onSelect:this.props.onSelect,requestCloseAll:this.props.requestCloseAll,_INTERNAL_focusValue:this.props._INTERNAL_focusValue,menuStyle:this.props.menuStyle,maxHeight:this.props.maxHeight,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,testId:this.props.testId,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onEscapeKeyUp:this.props.onEscapeKeyUp,subMenuAllowAutoPosition:this.props.allowAutoPosition,scrollingRootId:this.props.scrollingRootId,subMenuShouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll}))},t.defaultProps={shouldReturnFocusToToggleEl:!0},t}(s.DynamicThemeComponent);t.GenericFlyoutListMenuWidget=p},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(13),r=o(11),s=o(4),a=o(38),l=o(9),c=o(70),d=o(3),p=o(73),u=o(36),h=o(74),g=o(75),y=d.TabStyles.Sizing,I=d.TabStyles.Colors,f=d.TabStyles.Spacing,b=d.TabStyles.Typography,m=d.TabStyles.Shadow,M=function(){return{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:I.L6,borderStyle:"solid",backgroundColor:I.White,padding:f.DefaultSpace,outline:"none",fontSize:b.Sizing.Default,fontFamily:b.FontFamily,fontWeight:"normal",color:b.Color.Primary,boxShadow:m.Low}},v=function(e){function t(t){var o=e.call(this,t)||this;o.stopPropagation=function(e){e.stopPropagation()},o.handleKeyDown=function(e){if(l.isAlphabeticChar(e.key)){var t=c.findIndex(o.state.enabledMenuItems,function(t){return t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.key.toUpperCase()},o.state.highlightedItemIndex+1,o);t>-1&&o.setHighlightedItemIndexAndKeyboardFocus(t,!0)}else{switch(e.key){case"Tab":o.props.requestCloseAll();break;case"ArrowUp":o.state.highlightedItemIndex>0?o.setHighlightedItemIndexAndKeyboardFocus(o.state.highlightedItemIndex-1,!0):o.setHighlightedItemIndexAndKeyboardFocus(o.state.enabledMenuItems.length-1,!0);break;case"ArrowDown":o.state.highlightedItemIndex<o.state.enabledMenuItems.length-1?o.setHighlightedItemIndexAndKeyboardFocus(o.state.highlightedItemIndex+1,!0):o.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"ArrowLeft":o.props.onLeftArrowKeyDown&&o.props.onLeftArrowKeyDown();break;case"Home":o.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"End":o.setHighlightedItemIndexAndKeyboardFocus(o.state.enabledMenuItems.length-1,!0);break;default:return}e.preventDefault(),e.stopPropagation()}},o.handleKeyUp=function(e){switch(e.key){case"Escape":o.props.onEscapeKeyUp?o.props.onEscapeKeyUp():o.props.requestCloseAll();break;default:return}e.preventDefault(),e.stopPropagation()};var n=[];o.props.menuItemInfos&&(n=o.props.menuItemInfos.filter(function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable}));var i=c.findIndex(n,function(e){return e.value===o.props._INTERNAL_focusValue},0,o);return o.state={highlightedItemIndex:i>-1?i:0,enabledMenuItems:n,keyboardFocused:!0},o}return n(t,e),t.prototype.componentDidMount=function(){this.domNode=i.findDOMNode(this),this.pointerDownOutsideListenerUnsubscribe=g.GlobalPointerDownOutsideListener.subscribe(this.domNode,this.props.requestCloseAll),this.addStopPropogationListeners()},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe(),this.removeStopPropogationListeners()},t.prototype.addStopPropogationListeners=function(){this.domNode.addEventListener("scroll",this.stopPropagation),this.domNode.addEventListener("wheel",this.stopPropagation)},t.prototype.removeStopPropogationListeners=function(){this.domNode.removeEventListener("scroll",this.stopPropagation),this.domNode.removeEventListener("wheel",this.stopPropagation)},t.prototype.setHighlightedItemIndexAndKeyboardFocus=function(e,t){this.setState({highlightedItemIndex:e,keyboardFocused:t}),t||this.domNode.focus()},t.prototype.buildMenuFromMenuItemInfos=function(){var e,t=this,o=0,n=0;return this.props.menuItemInfos.map(function(i){if(i.isDivider)e=r.createElement(h.DividerWidget,{key:"divider"+n++});else{var s=t.setHighlightedItemIndexAndKeyboardFocus.bind(t,o,!!i.menuItemInfos),a=function(e){return t.props.onSelect(e)};if(e=r.createElement(p.MenuItemWidget,{value:i.value,key:i.value,isHighlighted:!i.disabled&&!i.isUnselectable&&t.state.highlightedItemIndex===o,onHover:i.disabled||i.isUnselectable?null:s,onSelect:a,keyboardFocused:t.state.keyboardFocused,disabled:i.disabled,isUnselectable:i.isUnselectable,menuItemInfos:i.menuItemInfos,subMenuStyle:i.subMenuStyle,subMenuMaxHeight:i.subMenuMaxHeight,subMenuAllowAutoPosition:t.props.subMenuAllowAutoPosition,subMenuShouldAutoPositionOnScrollingRootScroll:t.props.subMenuShouldAutoPositionOnScrollingRootScroll,stackingRootId:t.props.stackingRootId,scrollingRootId:t.props.scrollingRootId,requestCloseAll:t.props.requestCloseAll,displayFormatterBoundWithData:i.displayFormatterBoundWithData,zIndex:t.props.zIndex,testId:t.props.testId}),i.disabled||i.isUnselectable||o++,!i.value)throw new Error("Each non-divider menu item requires a value")}return e})},t.prototype.render=function(){var e=s.assign({},M(),this.props.menuStyle,{maxHeight:this.props.maxHeight,overflowY:this.props.maxHeight?"auto":null});return r.createElement(a.Block,{style:e,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:-1,role:"menu","data-tb-test-id":this.props.testId+"-ListMenu"},this.buildMenuFromMenuItemInfos())},t}(u.DynamicThemeComponent);t.ListMenuWidget=v},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(9),a=o(17),l=o(10),c=o(36),d=o(71),p=o(58),u=function(e){function t(t){var o=e.call(this,t)||this;return o.handleKeyDown=function(e){switch(e.key){case" ":case"Enter":o.onSelect();break;case"ArrowRight":o.hasSubMenu&&o.onSelect();break;default:return}e.preventDefault(),e.stopPropagation()},o.onSelect=function(){o.props.disabled||o.props.isUnselectable||(o.hasSubMenu?o.setState({menuItemActive:!0}):o.props.onSelect(o.props.value))},o.onHover=function(e){e&&(o.props.onHover&&o.props.onHover(),o.hasSubMenu&&o.setState({menuItemActive:!0}))},o.onActive=function(e){o.hasSubMenu||o.setState({menuItemActive:e})},o.setDomNode=function(e){o.domNode=e},o.requestClose=function(){o.setState({menuItemActive:!1})},o.hasSubMenu=!!o.props.menuItemInfos,o.state={menuItemActive:!1},o}return n(t,e),t.prototype.componentDidMount=function(){this.updateFocus()},t.prototype.componentDidUpdate=function(){!this.props.isHighlighted&&this.state.menuItemActive&&this.setState({menuItemActive:!1}),this.updateFocus()},t.prototype.updateFocus=function(){var e=r.findDOMNode(this);this.props.isHighlighted&&!this.state.menuItemActive&&this.props.keyboardFocused&&p.timeoutFocus(e)},t.prototype.getDisplayElement=function(){var e={disabled:this.props.disabled,active:this.state.menuItemActive,isHighlighted:this.props.isHighlighted,hasSubMenu:this.hasSubMenu,testId:this.props.testId};return i.createElement(this.props.displayFormatterBoundWithData,e)},t.prototype.shouldShowOverlay=function(){return this.state.menuItemActive&&this.props.isHighlighted&&!this.props.disabled&&!this.props.isUnselectable&&this.hasSubMenu},t.prototype.render=function(){var e=this.shouldShowOverlay(),t=this.getDisplayElement();return i.createElement(l.InteractiveDomWrapper,{pointerClick:this.onSelect,handleHover:this.onHover,handleActive:this.onActive,disabled:this.props.disabled},i.createElement("div",{onKeyDown:this.handleKeyDown,tabIndex:this.props.disabled?null:-1,ref:this.setDomNode,role:"menuitem","aria-haspopup":this.hasSubMenu,"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem"},t,s.conditional(e,i.createElement(d.GenericFlyoutListMenuWidget,{anchorEl:this.domNode,stackingRootId:this.props.stackingRootId,scrollingRootId:this.props.scrollingRootId,anchorOrigin:{vertical:a.VerticalOriginOption.top,horizontal:a.HorizontalOriginOption.right},stackedOrigin:{vertical:a.VerticalOriginOption.top,horizontal:a.HorizontalOriginOption.left},allowAutoPosition:this.props.subMenuAllowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.subMenuShouldAutoPositionOnScrollingRootScroll,zIndex:this.props.zIndex,onSelect:this.props.onSelect,menuItemInfos:this.props.menuItemInfos,maxHeight:this.props.subMenuMaxHeight,menuStyle:this.props.subMenuStyle,onLeftArrowKeyDown:this.requestClose,onEscapeKeyUp:this.requestClose,requestCloseAll:this.props.requestCloseAll,testId:this.props.testId+"-"+this.props.value}))))},t}(c.DynamicThemeComponent);t.MenuItemWidget=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(3),r=i.TabStyles.Sizing,s=i.TabStyles.Colors,a=function(){return{marginTop:r.ListRowHeight/2,marginBottom:r.ListRowHeight/2,marginRight:0,marginLeft:0,borderStyle:"solid",borderWidth:r.BorderWidth,borderColor:s.L3,borderBottom:"none"}},l=function(e){return n.createElement("hr",{style:a(),role:"separator","aria-orientation":"horizontal"})};t.DividerWidget=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeDocument=function(t,o){o?(t.addEventListener("mousedown",this.handleClickAway.bind(this)),t.addEventListener("touchstart",this.handleClickAway.bind(this))):(t.removeEventListener("mousedown",this.handleClickAway.bind(this)),t.removeEventListener("touchstart",this.handleClickAway.bind(this)));for(var n=t.getElementsByTagName("iframe"),i=0;i<n.length;i++)e.trySubscribeOrUnscribeDocument(n[i].contentDocument,o)},e.trySubscribeOrUnscribeDocument=function(t,o){try{e.subscribeOrUnsubscribeDocument(t,o)}catch(n){}},e.subscribe=function(t,o){return!this.callback&&o&&(this.callback=o),0===this.domNodes.length&&e.trySubscribeOrUnscribeDocument(document,!0),this.domNodes.push(t),function(){e.unsubscribe(t)}},e.unsubscribe=function(t){this.domNodes=this.domNodes.filter(function(e){return e!==t}),0===this.domNodes.length&&(this.callback=null,e.trySubscribeOrUnscribeDocument(document,!1))},e.handleClickAway=function(e){if(this.callback){for(var t=e.target,o=0,n=this.domNodes;o<n.length;o++){var i=n[o];if(i.contains(t))return}this.callback()}},e.domNodes=[],e}();t.GlobalPointerDownOutsideListener=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(77),i=function(e){var t=[];return e.forEach(function(e){t.push({menuItemInfos:e.menuItemInfos?i(e.menuItemInfos):void 0,displayFormatterBoundWithData:n.TextMenuDisplayFormatter(e.displayValue),keyboardAccessibleValue:e.displayValue,textForDropdownButton:e.displayValue,value:e.value,disabled:e.disabled,isDivider:e.isDivider,subMenuStyle:e.subMenuStyle,isUnselectable:!1,subMenuMaxHeight:e.subMenuMaxHeight})}),t};t.convertMenuItemInfoToGeneric=i},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(13),a=o(4),l=o(9),c=o(38),d=o(49),p=o(34),u=o(3),h=o(39),g=u.TabStyles.Sizing,y=u.TabStyles.Colors,I=u.TabStyles.Spacing,f=u.TabStyles.Typography,b=function(){return{MenuItem:a.assign({height:g.ListRowHeight,paddingLeft:I.DefaultSpace,paddingRight:I.DefaultSpace,lineHeight:g.ListRowHeight+"px",cursor:"default",outline:"none"},d.TextEllipsis,p.PreventUserSelect),Highlighted:{backgroundColor:y.F2_5},Active:{backgroundColor:y.F3},WithSubMenu:{paddingRight:h.MenuItemArrowIcon.width},Disabled:{color:f.Color.Disabled},ArrowIcon:{position:"absolute",right:I.DefaultSpace}}},m=function(e){return function(t){function o(o){var n=t.call(this,o)||this;return n.handleMouseOver=function(t){var o=s.findDOMNode(n);n.setState({title:o.clientWidth<o.scrollWidth?e:void 0})},n.state={title:void 0},n}return n(o,t),o.prototype.getSubMenuIcon=function(){var e=b(),t=this.props.disabled?h.MenuItemArrowIcon.disabled:h.MenuItemArrowIcon.enabled;return this.props.hasSubMenu?r.createElement(c.Img,{style:e.ArrowIcon,src:t}):null},o.prototype.render=function(){var t=b(),o=a.assign({},t.MenuItem,l.conditional(this.props.hasSubMenu,t.WithSubMenu),l.conditional(this.props.isHighlighted,t.Highlighted),l.conditional(this.props.active,t.Active),l.conditional(this.props.disabled,t.Disabled)),n={style:o,title:this.state.title,onMouseOver:this.handleMouseOver,"data-tb-test-id":l.testId(this.props.testId,"TextMenuItem")};return r.createElement("div",i({},n),this.getSubMenuIcon(),e)},o}(r.Component)};t.TextMenuDisplayFormatter=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(4),r=o(76),s=o(71),a=function(e){var t=i.assign({},e,{menuItemInfos:r.convertMenuItemInfoToGeneric(e.menuItemInfos)});return n.createElement(s.GenericFlyoutListMenuWidget,t)};t.FlyoutListMenuWidget=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(35),l=o(38),c=o(3),d=o(9),p=c.TabStyles.Colors,u=function(){return{base:{alignItems:"center",display:"flex",justifyContent:"center"},interactive:{hover:{backgroundColor:p.F3},focus:{backgroundColor:p.F3},active:{backgroundColor:p.F5},disabled:{opacity:.35}}}},h=function(e){function t(t){var o=e.call(this,t)||this;return o.handleActive=function(e){o.setState({active:e})},o.handleFocus=function(e){o.setState({focus:e})},o.handleHover=function(e){o.setState({hover:e})},o.handleClick=function(e){o.props.handleClick(e)},o.state={hover:!1,active:!1,focus:!1},o}return n(t,e),t.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon?this.props.disabledIcon:this.props.activeIcon:this.state.active?this.props.activeIcon:this.state.hover?this.props.hoverIcon?this.props.hoverIcon:this.props.activeIcon:this.state.focus?this.props.focusIcon?this.props.focusIcon:this.props.activeIcon:this.props.defaultIcon},t.prototype.render=function(){var e={disabled:this.props.disabled,handleClick:this.handleClick,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover,interactiveStyle:s.assign({},u().interactive,this.props.interactiveStyle),style:s.assign({},u().base,this.props.style),testId:d.testId(this.props.testId,"IconButton")},t={src:this.getIcon(),draggable:!1};return r.createElement(a.ButtonBase,e,r.createElement(l.Img,t))},t}(i.Component);t.IconButtonWidget=h},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(9),a=o(38),l=o(3),c=o(48),d=o(45);t.TextInputType=d.TextInputType;var p=o(30),u=l.TabStyles.Colors,h=l.TabStyles.Sizing,g=l.TabStyles.Spacing,y=l.TabStyles.Typography,I=function(e){return{baseInput:{base:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottomWidth:h.BorderWidth,borderBottomRadius:h.BorderRadius,borderBottomColor:e.onDarkBackground?u.WhiteTransparentLine:u.L6,borderBottomStyle:"solid",height:h.RowHeight,outline:"none",backgroundColor:u.Transparent,fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:e.onDarkBackground?y.Color.InvertedPrimary:y.Color.Primary,position:"relative",paddingBottom:g.DefaultSpace,marginBottom:g.DefaultSpace,lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderBottomColor:e.onDarkBackground?u.WhiteTransparentLineHover:u.L8},active:{borderBottomColor:e.onDarkBackground?u.WhiteTransparentLineHover:u.GoLight},focus:{borderBottomColor:e.onDarkBackground?u.WhiteTransparentLineHover:u.GoLight},disabled:{borderBottomColor:e.onDarkBackground?u.WhiteDisabled:u.L9Disabled,color:e.onDarkBackground?y.Color.InvertedDisabled:y.Color.Disabled}}},errorInput:{borderBottomColor:u.AttentionLight},placeholder:{base:{fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:e.onDarkBackground?y.Color.InvertedSecondary:y.Color.Secondary,position:"absolute",textAlign:"start",lineHeight:h.RowHeight+"px",bottom:g.DefaultSpace},disabled:{color:e.onDarkBackground?y.Color.InvertedDisabled:y.Color.Disabled}},errorLabel:{fontSize:y.Sizing.Tiny,fontFamily:y.FontFamily,fontWeight:"normal",color:u.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:y.Sizing.Small,fontFamily:y.FontFamily,fontWeight:"normal",color:e.onDarkBackground?y.Color.InvertedSecondary:y.Color.Secondary,lineHeight:h.RowHeight+"px"}}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this,t=I({onDarkBackground:this.props.onDarkBackground}),o=r.assign({},t.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,t.placeholder.disabled)),n=r.assign({},t.floatingLabel,this.props.floatingLabelStyle),l=this.isPlaceholderShowing(),c=r.assign({},t.baseInput.base,this.props.hasError?t.errorInput:null,this.props.inputStyle),u=this.props.hasError?null:t.baseInput.interactive,h={type:this.props.type,style:c,interactiveStyles:u,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},handleBlur:this.props.handleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.floatingLabel||this.props.placeholder,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus};return i.createElement(a.Block,{style:this.props.containerStyle},s.conditional(Boolean(this.props.floatingLabel),i.createElement(a.Block,{},i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-FloatingLabel"},l?p.Unicode.NonBreakingSpace:this.props.floatingLabel))),i.createElement(a.Block,{},s.conditional(l,i.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder||this.props.floatingLabel)),i.createElement(d.TextFieldInputWidget,h)),i.createElement(a.Block,{},i.createElement("label",{style:t.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.hasError?this.props.errorText:p.Unicode.NonBreakingSpace)))},t}(c.TextFieldBase);t.LineTextFieldWidget=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(11),a=o(4),l=o(38),c=o(3),d=o(82),p="RadioButtonWithLabelGroup";!function(e){e[e.Veritical=0]="Veritical",e[e.Horizontal=1]="Horizontal"}(i||(i={})),t.RadioLayoutType=i;var u=function(e){function t(o){var n=e.call(this,o)||this;return n.groupId=t.groupIdIncrementor++,n}return n(t,e),t.prototype.getContainerStyleOfIndex=function(e){return e!==this.props.buttonList.length-1&&this.props.layout===i.Horizontal?{paddingRight:c.TabStyles.Spacing.ExtraLargeSpace}:{}},t.prototype.getContainerStyle=function(){var e={};return this.props.layout===i.Horizontal&&(a.assign(e,{display:"flex",flexWrap:"wrap"}),this.props.justifyHorizontalItems&&a.assign(e,{justifyContent:"space-between"})),e},t.prototype.render=function(){var e=this,t=this.props.buttonList.map(function(t,o){var n=e.getContainerStyleOfIndex(o);return s.createElement(d.RadioButtonWithLabelWidget,{index:o,groupName:e.props.name||p+e.groupId.toString(),value:t.value,testId:t.testId,checked:o===e.props.checkedIndex,disabled:t.disabled,handleChange:e.props.handleChange,label:t.label,containerStyle:n,removeLeftMargin:e.props.removeLeftMargin,key:o})});return s.createElement(l.Block,{role:"radiogroup","aria-label":this.props.ariaLabel,style:this.getContainerStyle(),"data-tb-test-id":"RadioButtonWithLabelGroupWidget-"+this.props.testId},t)},t.groupIdIncrementor=0,t}(r.Component);t.RadioButtonWithLabelGroupWidget=u},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(83),l=o(38),c=o(1),d=o(10),p=o(42),u=o(3),h=o(36),g=function(){return{label:{display:"flex",alignItems:"flex-start",marginTop:u.TabStyles.Spacing.SmallSpace},text:{width:"100%",paddingTop:"1px"}}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=g();return r.createElement(l.Block,{className:c.SuppressClickBustingClass,role:"radio","aria-checked":this.props.checked},r.createElement(p.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:s.assign({},e.label,this.props.containerStyle)},r.createElement(a.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,removeLeftMargin:this.props.removeLeftMargin,value:this.props.value,index:this.props.index}),r.createElement(l.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t=i([d.InteractiveDomHoCDecorator],t)}(h.DynamicThemeComponent);t.RadioButtonWithLabelWidget=y},function(e,t,o){"use strict";function n(e,t){var o;return o=e.checked?e.disabled?u.RadioButtonIcon.selectedDisabled:e.hover||t.hover||t.focus?u.RadioButtonIcon.selectedActive:u.RadioButtonIcon.selected:e.disabled?u.RadioButtonIcon.unselectedDisabled:e.hover||t.hover||t.focus?u.RadioButtonIcon.unselectedActive:u.RadioButtonIcon.unselected}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(11),l=o(4),c=o(9),d=o(38),p=o(10),u=o(39),h=o(3),g=o(36),y=function(){return{baseDiv:{marginLeft:h.TabStyles.Spacing.DefaultSpace-u.RadioButtonIcon.padding,marginRight:h.TabStyles.Spacing.DefaultSpace-u.RadioButtonIcon.padding,height:u.RadioButtonIcon.height,width:u.RadioButtonIcon.width,minWidth:u.RadioButtonIcon.width,flexShrink:0},noLeftMargin:{marginLeft:-u.RadioButtonIcon.padding},radioButton:{opacity:0,height:u.RadioButtonIcon.height,width:u.RadioButtonIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeRadioButton:{height:u.RadioButtonIcon.height,width:u.RadioButtonIcon.width,position:"absolute",verticalAlign:"top"}}},I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.handleFormChange=function(e){this.props.disabled||this.props.handleChange(this.props.value,this.props.index)},t.prototype.render=function(){var e=this,t=n(this.props,this.state),o=y(),i=l.assign({},o.baseDiv,c.conditional(this.props.removeLeftMargin,o.noLeftMargin));return s.createElement(d.InlineBlock,{style:i},a.createElement(d.Img,{style:o.fakeRadioButton,src:t}),s.createElement("input",{style:o.radioButton,type:"radio",name:this.props.groupName,readOnly:this.props.checked,onChange:this.props.checked?null:function(t){return e.handleFormChange(t)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton",id:this.props.id}))},t=r([p.InteractiveDomHoCDecorator],t)}(g.DynamicThemeComponent);t.RadioButtonWidget=I},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(13),a=o(11),l=o(4),c=o(38),d=o(9),p=o(10),u=o(3),h=o(85),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=u.TabStyles.Spacing,f=u.TabStyles.Typography,b=function(){var e=5*y.ListRowHeight+2*y.BorderWidth;return{container:{background:g.White},input:{base:{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:g.L6,borderStyle:"solid",paddingLeft:I.DefaultSpace,paddingRight:I.DefaultSpace,outline:"none",backgroundColor:g.Transparent,fontSize:f.Sizing.Default,fontFamily:f.FontFamily,color:f.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:y.ListRowHeight+"px",minHeight:y.RowHeight,maxHeight:e,overflowY:"auto",overflowX:"hidden",wordWrap:"break-word"},interactive:{hover:{borderColor:g.L8},active:{borderColor:g.L8},focus:{borderColor:g.L8},disabled:{borderColor:g.L9Disabled,color:f.Color.Disabled}}},placeholder:{position:"absolute",fontWeight:"normal",fontSize:f.Sizing.Default,fontFamily:f.FontFamily,color:f.Color.Disabled,top:I.SmallSpace,left:I.DefaultSpace,textAlign:"start",lineHeight:y.ListRowHeight+"px"}}};t.getRichTextEditOutlineStyles=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputRef=function(e){t.textInputRef=s.findDOMNode(e),t.props.handleInputRef(e)},t.shouldShowPlaceholder=function(){if(t.state.focus)return!1;var e=!t.textInputRef||0===t.textInputRef.innerText.length;return e},t}return n(t,e),t.prototype.render=function(){var e=b(),t=this.shouldShowPlaceholder(),o={style:l.assign({},e.container,this.props.containerStyle)},n={style:e.placeholder,"data-tb-test-id":d.testId(this.props.testId,"Placeholder")},i={style:e.input.base,interactiveStyles:e.input.interactive,testId:this.props.testId,handleInputRef:this.handleInputRef,disabled:this.props.disabled,handleEnter:this.props.handleEnter,handleChange:this.props.handleChange};return a.createElement(c.Block,o,d.conditional(t,a.createElement("label",n,this.props.placeholder)),a.createElement(h.RichTextEditWidget_UNFINISHED,i))},t=i([p.InteractiveDomHoCDecorator],t)}(r.Component);t.RichTextEditOutlineWidget_UNFINISHED=m},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(13),a=o(4),l=o(38),c=o(11),d=o(10),p="shared-widgets-content-editable-div",u=function(){return{userSelect:"text",WebkitUserSelect:"text"}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){t.props.disabled||"Enter"!==e.key||e.shiftKey||t.props.handleEnter&&(t.props.handleEnter(),e.preventDefault(),e.stopPropagation())},t.changeObserver=new MutationObserver(function(){return t.handleChange()}),t.handleKeyUp=function(){return t.handleChange()},t}return n(t,e),t.prototype.handleChange=function(){this.props.disabled||this.props.handleChange&&this.props.handleChange()},t.prototype.componentDidMount=function(){this.changeObserver.observe(s.findDOMNode(this),{childList:!0,characterData:!0})},t.prototype.componentWillUnmount=function(){this.changeObserver.disconnect()},t.prototype.render=function(){var e={className:p,"data-tb-test-id":this.props.testId+"-TextInput",style:a.assign({},u(),this.props.style),contentEditable:!0,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.props.handleInputRef};return c.createElement(l.Block,e)},t=i([d.InteractiveDomHoCDecorator],t)}(r.Component);t.RichTextEditWidget_UNFINISHED=h},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(9),a=o(38),l=o(39),c=o(3),d=o(44),p=o(48),u=o(45);t.TextInputType=u.TextInputType;var h=o(46),g=c.TabStyles.Sizing,y=c.TabStyles.Spacing,I=function(){return{iconPadding:{paddingRight:l.SearchIcon.width+2*y.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:y.DefaultSpace,paddingLeft:y.DefaultSpace,marginTop:(g.RowHeight-l.SearchIcon.height)/2},outlineContainer:{width:"100%"}}},f=function(e){function t(t){var o=e.call(this,t)||this;return o.handleCancelSearchWrapper=function(){o.props.disabled||o.props.handleCancelSearch()},o.handleCancelHover=function(e){o.props.disabled||o.setState({cancelHover:e})},o.state=r.assign({},o.state,{cancelHover:!1}),o}return n(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||(this.state=r.assign({},this.state,{cancelHover:!1}))},t.prototype.getIcon=function(){return!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover)?this.props.onDarkBackground?l.DarkThemeSearchIcon.searchActive:l.SearchIcon.searchActive:this.props.onDarkBackground?l.DarkThemeSearchIcon.search:l.SearchIcon.search},t.prototype.getInputStyle=function(){var e=d.getTextOutlineStyles({onDarkBackground:this.props.onDarkBackground}),t=I();return r.assign({},e.input.base,t.iconPadding,this.state.cancelHover?e.input.interactive.hover:{},this.props.inputStyle)},t.prototype.render=function(){var e=this,t=I(),o=d.getTextOutlineStyles({onDarkBackground:this.props.onDarkBackground}),n=r.assign({},o.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,o.placeholder.disabled),{maxWidth:"calc(100% - "+t.iconPadding.paddingRight+"px)"}),l=this.isPlaceholderShowing(),c=this.getInputStyle(),p={type:this.props.type,style:c,interactiveStyles:o.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},handleHover:function(t){return e.handleInputHover(t)},handleBlur:this.props.handleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus},u={pointerClick:this.props.handleCancelSearch,handleHover:this.handleCancelHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled,onDarkBackground:this.props.onDarkBackground};return i.createElement(a.Block,{style:this.props.containerStyle},s.conditional(!this.props.text,i.createElement(a.Img,{src:this.getIcon(),style:t.icon,"data-tb-test-id":this.props.testId+"-SearchIcon"})),s.conditional(l,i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder)),i.createElement(h.TextFieldWithClearIcon,{handleClearText:this.props.handleCancelSearch,textFieldInputProps:p,textFieldClearButtonProps:u}))},t}(p.TextFieldBase);t.SearchFieldWidget=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(4),a=o(38),l=o(44),c=o(88),d=o(39),p=o(3),u=o(9),h=o(48),g=o(45),y=o(91);!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(i||(i={})),t.StepperType=i;var I=p.TabStyles.Spacing,f=p.TabStyles.Sizing,b=p.TabStyles.Typography,m=function(){return{verticalIconPadding:{paddingRight:d.StepperDownIcon.width+I.DefaultSpace},horizontalIconPadding:{paddingRight:d.StepperRightIcon.width+d.StepperLeftIcon.width+I.DefaultSpace+2*f.BorderWidth},label:{fontSize:b.Sizing.Default,fontFamily:b.FontFamily,fontWeight:"normal",color:b.Color.Primary,lineHeight:f.RowHeight+"px",paddingRight:I.DefaultSpace}}},M=function(e){function t(t){var o=e.call(this,t)||this;return o.handleIncrementWrapper=function(){o.props.disabled||o.props.isIncrementDisabled||o.props.handleIncrement()},o.handleDecrementWrapper=function(){o.props.disabled||o.props.isDecrementDisabled||o.props.handleDecrement()},o.handleChangeWrapper=function(e){o.props.disabled||o.props.readOnly||o.props.handleNumberVerification&&!o.props.handleNumberVerification(e)||o.props.handleChange(e)},o.handleStepperHover=function(e){o.props.disabled||o.setState({stepperHover:e})},o.handleKeyDown=function(e){o.props.disabled||("ArrowUp"===e.key?o.handleIncrementWrapper():"ArrowDown"===e.key&&o.handleDecrementWrapper())},o.state=s.assign({},o.state,{stepperHover:!1}),o}return n(t,e),t.prototype.getInputStyle=function(){var e=this.props.stepperLayoutType===i.Vertical,t=l.getTextOutlineStyles({}),o=m();return s.assign({},t.input.base,u.conditional(this.state.stepperHover,t.input.interactive.hover),this.props.inputStyle,e?o.verticalIconPadding:o.horizontalIconPadding)},t.prototype.getPlaceholderStyle=function(){var e=this.props.stepperLayoutType===i.Vertical,t=l.getTextOutlineStyles({}),o=m(),n=e?o.verticalIconPadding.paddingRight:o.horizontalIconPadding.paddingRight;return s.assign({},t.placeholder.base,this.props.placeholderStyle,u.conditional(this.props.disabled,t.placeholder.disabled),{maxWidth:"calc(100% - "+(I.DefaultSpace+n)+"px)"})},t.prototype.render=function(){var e={style:this.props.containerStyle},t=m(),o=void 0!==this.props.stepperLabel,n=this.isPlaceholderShowing(),d=this.props.stepperLayoutType===i.Vertical,p=d?y.VerticalStepperArrowGroup:c.HorizontalStepperArrowGroup,h=l.getTextOutlineStyles({}),I=this.getInputStyle(),f=this.getPlaceholderStyle(),b=s.assign({},t.label,this.props.labelStyle),M={style:I,interactiveStyles:h.input.interactive,text:String(this.props.text),testId:u.testId(this.props.testId,"StepperWidget"),handleChange:this.handleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:this.handleInputActive,handleFocus:this.handleInputFocus,handleHover:this.handleInputHover,readOnly:this.props.readOnly,maxLength:this.props.maxLength,onKeyDown:this.handleKeyDown,name:this.props.name},v={testId:u.testId(this.props.testId,"StepperWidget"),isIncrementDisabled:this.props.isIncrementDisabled,isDecrementDisabled:this.props.isDecrementDisabled,disabled:this.props.disabled,inputStyle:this.props.inputStyle,handleIncrement:this.handleIncrementWrapper,handleDecrement:this.handleDecrementWrapper,handleHover:this.handleStepperHover},L={style:b,"data-tb-test-id":u.testId(this.props.testId,"OptionalLabel")},w={style:f,"data-tb-test-id":u.testId(this.props.testId,"Placeholder")};return r.createElement(a.Block,e,r.createElement(a.InlineBlock,{},u.conditional(o,r.createElement("label",L,this.props.stepperLabel))),r.createElement(a.InlineBlock,{},u.conditional(n,r.createElement("label",w,this.props.placeholder)),r.createElement(g.TextFieldInputWidget,M),r.createElement(p,v)))},t}(h.TextFieldBase);t.StepperWidget=M},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(38),l=o(89),c=o(10),d=o(90),p=o(39),u=o(3),h=o(9),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=function(){return{iconContainer:{position:"absolute",top:y.BorderWidth,borderWidth:y.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"none",outline:"none",backgroundColor:g.Transparent},arrowLayout:{position:"static"},incrementStyle:{right:y.BorderWidth},decrementStyle:{borderLeft:"solid",borderRight:"solid",right:y.BorderWidth+p.StepperRightIcon.width}}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getIncrementIconStyle=function(){var e=I();return s.assign({},e.incrementStyle,e.iconContainer,this.props.inputStyle)},t.prototype.getDecrementIconStyle=function(){var e=I();return s.assign({},e.decrementStyle,e.iconContainer,this.props.inputStyle)},t.prototype.render=function(){var e={style:I().arrowLayout},t={activeIcon:p.StepperLeftIcon.active,defaultIcon:p.StepperLeftIcon.enabled,disabled:this.props.disabled||this.props.isDecrementDisabled,disabledIcon:p.StepperLeftIcon.disabled,handleClick:this.handleDecrementWrapper,iconStyle:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","DecrementIcon")},o={activeIcon:p.StepperRightIcon.active,defaultIcon:p.StepperRightIcon.enabled,disabled:this.props.disabled||this.props.isIncrementDisabled,disabledIcon:p.StepperRightIcon.disabled,handleClick:this.handleIncrementWrapper,iconStyle:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","IncrementIcon")};return r.createElement(a.Block,e,r.createElement(l.InternalIconButton,t),r.createElement(l.InternalIconButton,o))},t=i([c.InteractiveDomHoCDecorator],t)}(d.StepperArrowGroup);t.HorizontalStepperArrowGroup=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(35),a=o(38),l=o(9),c=function(e){function t(t){var o=e.call(this,t)||this;return o.handleActive=function(e){o.setState({active:e})},o.state={active:!1},o}return n(t,e),t.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon?this.props.disabledIcon:this.props.activeIcon:this.state.active?this.props.activeIcon:this.props.defaultIcon},t.prototype.render=function(){var e={disabled:this.props.disabled,handleActive:this.handleActive,handleClick:this.props.handleClick,disableTabAccessibility:!0,testId:l.testId(this.props.testId,"InternalIconButton")},t={src:this.getIcon(),draggable:!1,style:this.props.iconStyle};return r.createElement(s.ButtonBase,e,r.createElement(a.Img,t))},t}(i.Component);t.InternalIconButton=c},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleIncrementWrapper=function(){t.props.disabled||t.props.handleIncrement()},t.handleDecrementWrapper=function(){t.props.disabled||t.props.handleDecrement()},t.handleHoverWrapper=function(e){t.props.disabled||t.props.handleHover(e)},t}return n(t,e),t}(i.Component);t.StepperArrowGroup=r},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(38),l=o(89),c=o(10),d=o(90),p=o(39),u=o(3),h=o(9),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=function(){return{arrowLayout:{borderLeft:y.BorderWidth+"px solid "+g.L6,borderRight:y.BorderWidth+"px solid transparent",bottom:0,boxSizing:"border-box",margin:y.BorderWidth,position:"absolute",right:0,top:0,width:19},icon:{backgroundColor:"transparent",left:"50%",position:"absolute",transform:"translateX(-50%)"},incrementStyle:{top:y.BorderWidth},decrementStyle:{bottom:2}}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getIncrementIconStyle=function(){var e=I();return s.assign({},e.incrementStyle,e.icon,this.props.inputStyle)},t.prototype.getDecrementIconStyle=function(){var e=I();return s.assign({},e.decrementStyle,e.icon,this.props.inputStyle)},t.prototype.render=function(){var e={style:I().arrowLayout},t={activeIcon:p.StepperUpIcon.active,defaultIcon:p.StepperUpIcon.enabled,disabled:this.props.disabled||this.props.isIncrementDisabled,disabledIcon:p.StepperUpIcon.disabled,handleClick:this.handleIncrementWrapper,iconStyle:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","IncrementIcon")},o={activeIcon:p.StepperDownIcon.active,defaultIcon:p.StepperDownIcon.enabled,disabled:this.props.disabled||this.props.isDecrementDisabled,disabledIcon:p.StepperDownIcon.disabled,handleClick:this.handleDecrementWrapper,iconStyle:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","DecrementIcon")};return r.createElement(a.Block,e,r.createElement(l.InternalIconButton,t),r.createElement(l.InternalIconButton,o))},t=i([c.InteractiveDomHoCDecorator],t)}(d.StepperArrowGroup);t.VerticalStepperArrowGroup=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(4),a=o(36),l=o(34),c=o(3),d=o(93);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(i||(i={})),t.SelectedToggle=i;var p=function(){return{container:{display:"flex"},toggleBase:s.assign({flexBasis:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:c.TabStyles.Spacing.MediumSpace,paddingRight:c.TabStyles.Spacing.MediumSpace,borderWidth:c.TabStyles.Sizing.BorderWidth,borderStyle:"solid",lineHeight:c.TabStyles.Sizing.RowHeight-2*c.TabStyles.Sizing.BorderWidth+"px"},l.PreventUserSelect),selectedToggle:{backgroundColor:c.TabStyles.Colors.F8,color:c.TabStyles.Typography.Color.InvertedPrimary,borderColor:c.TabStyles.Colors.F8},unselectedToggle:{backgroundColor:c.TabStyles.Colors.F1,color:c.TabStyles.Typography.Color.Primary,borderColor:c.TabStyles.Colors.L6},hoverSelectedToggle:{borderColor:c.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:c.TabStyles.Colors.L9},focusSelectedToggle:{borderColor:c.TabStyles.Colors.L9},focusUnselectedToggle:{borderColor:c.TabStyles.Colors.L9},activeSelectedToggle:{backgroundColor:c.TabStyles.Colors.F8,color:c.TabStyles.Typography.Color.InvertedPrimary,borderColor:c.TabStyles.Colors.L9},activeUnselectedToggle:{backgroundColor:c.TabStyles.Colors.F8,color:c.TabStyles.Typography.Color.InvertedPrimary,borderColor:c.TabStyles.Colors.L9},unactiveToggle:{backgroundColor:c.TabStyles.Colors.F1,color:c.TabStyles.Typography.Color.Primary,borderColor:c.TabStyles.Colors.L6},firstToggle:{borderTopLeftRadius:c.TabStyles.Sizing.BorderRadius,borderBottomLeftRadius:c.TabStyles.Sizing.BorderRadius},lastToggle:{borderTopRightRadius:c.TabStyles.Sizing.BorderRadius,borderBottomRightRadius:c.TabStyles.Sizing.BorderRadius}}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){1===e?t.props.handleRightToggleSelected():t.props.handleLeftToggleSelected()},t}return n(t,e),t.prototype.render=function(){var e=p();return e.container=s.assign({},e.container,this.props.containerStyle),r.createElement(d.SwitcherTextBase,{checkedIndex:this.props.selectedToggle===i.Right?1:0,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText],handleChange:this.handleChange,style:e,testId:this.props.testId,name:this.props.name,ariaLabel:this.props.ariaLabel})},t}(a.DynamicThemeComponent);t.ToggleTextWidget=u},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(38),l=o(1),c=o(9),d=o(42),p="SwitcherTextGroup",u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.handleChange(t.props.idx)},t.handleActive=function(e){t.props.handleActive(e?t.props.idx:-1)},t}return n(t,e),t.prototype.render=function(){return r.createElement(d.InputLabelWidget,{style:this.props.style,testId:this.props.testId,interactiveStyles:{hover:this.props.hoverStyle,focus:this.props.focusStyle},handleActive:this.handleActive},r.createElement("input",{style:{opacity:0,position:"absolute"},onChange:this.props.checked?null:this.handleChange,type:"radio",checked:this.props.checked,name:this.props.groupName,readOnly:this.props.checked,"data-tb-test-id":c.testId(this.props.testId,"input")}),this.props.children)},t}(i.Component),h=function(e){function t(o){var n=e.call(this,o)||this;return n.handleActive=function(e){n.setState({activerSwitcherIdx:e})},n.groupId=t.groupIdIncrementor++,n.state={activerSwitcherIdx:-1},n}return n(t,e),t.prototype.getToggleStyling=function(e){var t=s.assign({},this.props.style.toggleBase,0===e?this.props.style.firstToggle:null,e===this.props.toggleTexts.length-1?this.props.style.lastToggle:null);return t=this.state.activerSwitcherIdx>=0?s.assign({},t,this.state.activerSwitcherIdx!==e?this.props.style.unactiveToggle:this.props.checkedIndex===e?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle):s.assign({},t,this.props.checkedIndex===e?this.props.style.selectedToggle:this.props.style.unselectedToggle)},t.prototype.render=function(){var e=this,t=p+String(this.groupId),o=this.props.toggleTexts.map(function(o,n){var i=e.getToggleStyling(n),s=e.props.checkedIndex===n?e.props.style.hoverSelectedToggle:e.props.style.hoverUnselectedToggle,a=e.props.checkedIndex===n?e.props.style.focusSelectedToggle:e.props.style.focusUnselectedToggle;return r.createElement(u,{groupName:e.props.name||t,handleChange:e.props.handleChange,checked:e.props.checkedIndex===n,testId:c.testId(e.props.testId,o),idx:n,style:i,hoverStyle:s,focusStyle:a,key:n,handleActive:e.handleActive},o)});return r.createElement(a.Block,{style:this.props.style.container,className:l.SuppressClickBustingClass,role:"radiogroup","aria-label":this.props.ariaLabel},o)},t.groupIdIncrementor=0,t}(i.Component);t.SwitcherTextBase=h},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(38),a=o(9),l=o(11),c=o(10),d=o(3),p=function(){return{border:"1px solid white"}},u=function(e){var t=p();return{base:{width:e.size,height:e.size,backgroundColor:e.color.toLowerCase(),boxSizing:"border-box",cursor:"pointer"},interactive:{hover:t,active:t,disabled:{cursor:"normal"}}}},h=function(e){function t(t){var o=e.call(this,t)||this;return o.handleHover=function(e){o.setState({hover:e})},o.handleActive=function(e){o.setState({active:e})},o.handleClick=function(){o.props.disabled||o.props.handleClick(o.props.color.toLowerCase())},o.handleTouchEnd=function(e){e.preventDefault(),o.handleClick()},o.state={hover:!1,active:!1},o}return n(t,e),t.prototype.render=function(){var e=u(this.props),t={interactiveStyles:e.interactive,handleHover:this.handleHover,handleActive:this.handleActive,disabled:this.props.disabled};return l.createElement(c.InteractiveDomWrapper,t,l.createElement("div",{style:r.assign({},e.base,this.props.selected?p():{}),onClick:this.handleClick,onTouchEnd:this.handleTouchEnd,"aria-selected":this.props.selected,"data-tb-test-id":a.testId(this.props.testId,"ColorSwatch",this.props.color.toLowerCase())},a.conditional(!this.props.disabled,l.createElement("div",{style:this.getInnerBorderStyle()}))))},t.prototype.getInnerBorderStyle=function(){var e=this.props.selected||this.state.hover||this.state.active,t=e&&d.TabStyles.Colors?d.TabStyles.Colors.F9:"transparent";return{borderWidth:1,borderStyle:"solid",borderColor:t,width:"100%",height:"100%",boxSizing:"border-box"}},t}(i.Component);t.ColorSwatchWidget=h;var g;!function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light"}(g||(g={})),t.ColorGridPreset=g;var y=function(e){function t(t){var o=e.call(this,t)||this;return o.handleSwatchClicked=function(e){o.props.disabled||o.props.handleSwatchClicked(e.toLowerCase())},o.preset=o.props.colorsPreset||g.Dark,o}return n(t,e),t.prototype.render=function(){return this.props.colorsPreset&&this.props.colorsPreset!==this.preset&&(this.preset=this.props.colorsPreset),l.createElement(s.Block,{"data-tb-test-id":a.testId(this.props.testId,"ColorGrid"),tabIndex:0},l.createElement(c.InteractiveDomWrapper,{interactiveStyles:{focus:{outline:"none"}}},this.buildColorSwatchGrid()))},t.prototype.getColorPreset=function(){return this.preset===g.Light?d.TabStyles.ColorPickerPresets.Light:d.TabStyles.ColorPickerPresets.Dark},t.prototype.buildColorSwatchGrid=function(){for(var e=[],o=this.getColorPreset(),n=[],i=[],r=0,s=0;s<o.length;s++){var a=o[s].toLowerCase(),c={color:a,handleClick:this.handleSwatchClicked,key:"swatch-"+a,size:d.TabStyles.Sizing.ColorSwatchSize,selected:this.props.selectedColor===a,disabled:this.props.disabled,testId:this.props.testId};i.push(l.createElement(h,c)),r+=1;var p=1===r&&e.length<2||3===r&&e.length>=2;(r===t.colorsPerColumn||p)&&(n.push(l.createElement("div",{style:{border:"1px solid "+d.TabStyles.Colors.L6},key:"group-"+s},i)),p&&n.push(l.createElement("div",{style:{width:d.TabStyles.Sizing.ColorSwatchSize,height:t.dividerHeight},key:"divider-"+s})),r===t.colorsPerColumn&&(e.push(l.createElement("div",{key:"column-"+s,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:e.length?t.groupSpacing:0}},n)),n=[],r=0),i=[])}return l.createElement("div",{style:{display:"flex"},tabIndex:0},e)},t.colorsPerColumn=6,t.groupSpacing=4,t.dividerHeight=5,t}(i.Component);t.ColorGridWidget=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(94),a=o(9),l=o(11),c=o(69),d=o(3),p=o(75),u=function(e){var t=d.TabStyles.Sizing.RowHeight,o=.5*t;return{display:"inline-block",width:e.colorLabelWidth||40,height:o,boxSizing:"border-box",backgroundColor:(e.color||"").toLowerCase(),marginTop:(t-(o+2*d.TabStyles.Sizing.BorderWidth))/2}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e={dropdownType:c.DropdownType.Outline,pointerClick:this.props.handleClick,onKeyDown:this.props.onKeyDown,dropdownOpen:this.props.isPickerOpen,disabled:this.props.disabled,interactiveStyles:c.getDropdownStylesByType(c.DropdownType.Outline).button.interactive,testId:a.testId(this.props.testId,"ColorPickerButton")};return l.createElement(c.DropdownButtonWidget,e,l.createElement("div",{style:u(this.props)}))},t}(i.Component);t.ColorPickerButton=h;var g=function(e){function t(t){var o=e.call(this,t)||this;return o.onColorSelected=function(e){o.togglePicker(),o.props.handleColorSelected(e.toLowerCase())},o.togglePicker=function(){o.props.disabled||o.setState({isPickerVisible:!o.state.isPickerVisible})},o.togglePickerOnKeyEvent=function(e){o.togglePicker(),e.preventDefault(),e.stopPropagation()},o.handleKeyDown=function(e){" "!==e.key&&"Enter"!==e.key||o.togglePickerOnKeyEvent(e)},o.handleGridKeyUp=function(e){"Escape"===e.key&&o.state.isPickerVisible&&o.togglePickerOnKeyEvent(e)},o.colorGrid=null,o.state={isPickerVisible:!1},o}return n(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.isPickerVisible&&!t.isPickerVisible&&this.colorGrid?(this.pointerDownOutsideListenerUnsubscribe=p.GlobalPointerDownOutsideListener.subscribe(r.findDOMNode(this),this.togglePicker),this.colorGrid.focus()):!this.state.isPickerVisible&&t.isPickerVisible&&this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe()},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe()},t.prototype.render=function(){var e={handleClick:this.togglePicker,color:this.props.selectedColor,disabled:this.props.disabled,isPickerOpen:this.state.isPickerVisible,colorLabelWidth:this.props.colorLabelWidth,onKeyDown:this.handleKeyDown,testId:this.props.testId};return l.createElement("div",{style:{display:"inline-block"},"data-tb-test-id":a.testId(this.props.testId,"ColorPicker")},l.createElement(h,e),a.conditional(this.state.isPickerVisible,this.buildColorGridWidget()))},t.prototype.buildColorGridWidget=function(){var e=this,t={handleSwatchClicked:this.onColorSelected,selectedColor:(this.props.selectedColor||"").toLowerCase(),colorsPreset:this.props.colorsPreset,testId:"colorgrid",ref:function(t){return e.colorGrid=r.findDOMNode(t)}},o={backgroundColor:d.TabStyles.Colors.White,zIndex:this.props.dropdownZIndex,position:"absolute",padding:d.TabStyles.Spacing.LargeSpace,borderWidth:d.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:d.TabStyles.Colors.L5,borderRadius:d.TabStyles.Sizing.BorderRadius};return l.createElement("div",{style:o,onKeyUp:this.handleGridKeyUp},l.createElement(s.ColorGridWidget,t))},t.defaultProps={shouldReturnFocusOnClose:!0},t}(i.Component);t.ColorPickerWidget=g},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(38),a=o(39),l=o(9),c=o(97),d=function(){return{underlay:{background:"rgba(255,255,255,.6)",borderRadius:10,textAlign:"center",width:a.ActivitySpinnerIcon.underlaySize,height:a.ActivitySpinnerIcon.underlaySize},spinnerWithUnderlay:{width:a.ActivitySpinnerIcon.size,height:"100%"},spinner:{width:a.ActivitySpinnerIcon.size,height:a.ActivitySpinnerIcon.size}}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return this.props.shouldShowUnderlay?r.createElement(s.InlineBlock,{style:d().underlay,"data-tb-test-id":"spinner-underlay"},this.getSpinnerElement()):this.getSpinnerElement()},t.prototype.getSpinnerElement=function(){var e=d();return c.isMSEdgeBrowser()?r.createElement("iframe",{frameBorder:"0",scrolling:"no",src:a.ActivitySpinnerIcon.edgeBrowserImage,type:"image/svg+xml",style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,"data-tb-test-id":l.testId(this.props.testId,"Spinner")}):r.createElement("object",{data:a.ActivitySpinnerIcon.animation,type:"image/svg+xml",style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,"data-tb-test-id":l.testId(this.props.testId,"Spinner")})},t}(i.Component);t.ActivitySpinnerWidget=p},function(e,t){"use strict";function o(){return null!==navigator&&/Edge\//.test(navigator.userAgent)}Object.defineProperty(t,"__esModule",{value:!0}),t.isMSEdgeBrowser=o},function(e,t,o){"use strict";function n(e){return r.createElement(s.SliderWidget,i({},e,{handleCountAndRangeType:s.SINGLE_HANDLE_SINGLE_VALUE,continuous:!0}))}var i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(99);t.ContinuousSliderWidget=n},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(9),a=o(100),l=o(108),c=o(109),d=o(104),p=o(102);t.SINGLE_HANDLE_SINGLE_VALUE="SINGLE_HANDLE_SINGLE_VALUE",t.SINGLE_HANDLE_RANGE_TO_MIN="SINGLE_HANDLE_RANGE_TO_MIN",t.SINGLE_HANDLE_RANGE_TO_MAX="SINGLE_HANDLE_RANGE_TO_MAX",t.TWO_HANDLES_RANGE_BETWEEN="TWO_HANDLES_RANGE_BETWEEN";var u=function(e){function o(o){var n=e.call(this,o)||this;return n.hasSingleValue=function(e){return"number"==typeof n.props.value},n.determineTickCount=function(){return n.props.continuous?0:Math.floor(n.props.max)-Math.ceil(n.props.min)+1},n.determineTrackIndicatorAndDataBarPositions=function(e,o){switch(n.props.handleCountAndRangeType||t.SINGLE_HANDLE_SINGLE_VALUE){case t.SINGLE_HANDLE_RANGE_TO_MIN:return{indicatorBarPosition:{start:0,end:e}};case t.SINGLE_HANDLE_RANGE_TO_MAX:return{indicatorBarPosition:{start:e,end:1}};case t.TWO_HANDLES_RANGE_BETWEEN:var i=void 0;if(n.props.trackDataBarRange){var r=n.sliderValueLogic.calculateSliderPositionAsProportion(n.props.trackDataBarRange.from),s=n.sliderValueLogic.calculateSliderPositionAsProportion(n.props.trackDataBarRange.to);i={start:Math.max(e,r),end:Math.min(o,s)}}return{indicatorBarPosition:{start:e,end:o},dataBarPosition:i};default:return{}}},n.fireOnChangeForSingleValue=function(e,t){n.props.onChange&&(n.hasSingleValue(n.props.value)?t!==n.props.value&&n.props.onChange(t):e===a.FIRST_HANDLE&&t!==n.props.value.from?n.props.onChange({from:Math.min(t,n.props.value.to),to:n.props.value.to}):e===a.SECOND_HANDLE&&t!==n.props.value.to&&n.props.onChange({from:n.props.value.from,to:Math.max(t,n.props.value.from)}))},n.fireOnChangeForTwoValues=function(e,t){!n.props.onChange||n.hasSingleValue(n.props.value)||e>t||n.props.onChange({from:e,to:t})},n.onHandleDragStart=function(e,t){n.setState({areHandlesBeingDragged:!0});var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForSingleValue(e,o)},n.onHandleDragMove=function(e,t){var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForSingleValue(e,o)},n.onHandleDragEnd=function(){n.setState({areHandlesBeingDragged:!1})},n.onBothHandleDragStart=function(){n.setState({areHandlesBeingDragged:!0})},n.onBothHandleDragMove=function(e,t){var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(e),i=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForTwoValues(o,i)},n.onBothHandleDragEnd=function(){n.setState({areHandlesBeingDragged:!1})},n.onHandleKeyDown=function(e,t){var o;o=n.hasSingleValue(n.props.value)?n.props.value:e===a.FIRST_HANDLE?n.props.value.from:n.props.value.to;var i=n.sliderValueLogic.calculateNewSliderValueForKey(t,o);"undefined"!=typeof i&&n.fireOnChangeForSingleValue(e,i)},n.state={areHandlesBeingDragged:!1},n.sliderValueLogic=new d.SliderValueLogic(o.min,o.max,(!o.continuous)),n}return n(o,e),o.prototype.componentWillReceiveProps=function(e){this.props.continuous===e.continuous&&this.props.min===e.min&&this.props.max===e.max||(this.sliderValueLogic=new d.SliderValueLogic(e.min,e.max,(!e.continuous)))},o.prototype.render=function(){var e=this.props.handleCountAndRangeType===t.TWO_HANDLES_RANGE_BETWEEN,o=this.hasSingleValue(this.props.value);if(e&&o||!e&&!o)return null;var n=s.testId(this.props.testId,"Slider"),d=p.getSliderStyles(),u=void 0,h=void 0;this.hasSingleValue(this.props.value)?u=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value):(u=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.from),h=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.to));var g=this.determineTickCount(),y=this.determineTrackIndicatorAndDataBarPositions(u,h),I=y.indicatorBarPosition,f=y.dataBarPosition;return r.createElement("div",{style:i({},d.OuterContainer,this.props.style||{}),"data-tb-test-id":n},r.createElement("div",{style:d.TrackAndHandleContainer},g>1&&r.createElement(l.SliderTickBarWidget,{testId:this.props.testId,tickCount:g}),r.createElement(c.SliderTrackWidget,{rangeIndicatorBarPosition:I,dataBarPosition:f,handleIsBeingDragged:this.state.areHandlesBeingDragged,testId:this.props.testId}),r.createElement(a.SliderHandleContainer,{onHandleDragStart:this.onHandleDragStart,onHandleDragMove:this.onHandleDragMove,onHandleDragEnd:this.onHandleDragEnd,onHandleKeyDown:this.onHandleKeyDown,onBothHandleDragStart:this.onBothHandleDragStart,onBothHandleDragMove:this.onBothHandleDragMove,onBothHandleDragEnd:this.onBothHandleDragEnd,handles:{firstHandlePosition:u,secondHandlePosition:h},disabled:this.props.disabled,testId:this.props.testId})))},o}(r.Component);t.SliderWidget=u},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(97),a=o(12),l=o(31),c=o(101),d=o(9),p=o(102),u=o(103),h=o(104),g=o(106),y=o(107),I=o(106);t.FIRST_HANDLE=I.FIRST_HANDLE,t.SECOND_HANDLE=I.SECOND_HANDLE;var f=function(e){function t(t){var o=e.call(this,t)||this;return o.getHandleCount=function(){return"undefined"==typeof o.props.handles.secondHandlePosition?1:2},o.isSingleHandleBeingDragged=function(e){return e===g.FIRST_HANDLE||e===g.SECOND_HANDLE},o.determineSingleHandleDragOffsetIfNeeded=function(e,t,n){if(t){var i;return e===g.FIRST_HANDLE?i=o.props.handles.firstHandlePosition:e===g.SECOND_HANDLE&&(i=o.props.handles.secondHandlePosition),i?i-n:void 0}},o.determineWhichHandleShouldBeDraggedForEvent=function(e,t){return e?1===o.getHandleCount()?g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndOneHandle(t,o.firstHandleWidgetRef.getBoundingClientRectForInteractiveArea()):g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles(t,o.firstHandleWidgetRef.getBoundingClientRectForInteractiveArea(),o.secondHandleWidgetRef.getBoundingClientRectForInteractiveArea()):1===o.getHandleCount()?g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndOneHandle(t,o.firstHandleWidgetRef.getBoundingClientRectForIcon()):g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles(t,o.firstHandleWidgetRef.getBoundingClientRectForIcon(),o.secondHandleWidgetRef.getBoundingClientRectForIcon())},o.fireHandleDragStartEvents=function(e,t,n){o.isSingleHandleBeingDragged(e)?o.props.onHandleDragStart&&!isNaN(t)&&o.props.onHandleDragStart(e,t+(n||0)):o.props.onBothHandleDragStart&&o.props.onBothHandleDragStart()},o.fireHandleDragMoveEvents=function(e,t){o.isSingleHandleBeingDragged(o.state.handleBeingDragged)?o.props.onHandleDragMove&&!isNaN(e)&&o.props.onHandleDragMove(o.state.handleBeingDragged,e+(o.state.singleHandleDragOffsetAsProportion||0)):!o.props.onBothHandleDragMove||"undefined"==typeof t||isNaN(e)||isNaN(t)||o.props.onBothHandleDragMove(e,t)},o.fireHandleDragEndEvents=function(e){var t=o.isSingleHandleBeingDragged(e);t&&o.props.onHandleDragEnd?o.props.onHandleDragEnd(e):!t&&o.props.onBothHandleDragEnd&&o.props.onBothHandleDragEnd()},o.setKeyboardFocusOnHandle=function(e){var t=o.state.handleBeingDragged===g.SECOND_HANDLE?o.secondHandleWidgetRef:o.firstHandleWidgetRef;t&&t.focus()},o.dragStart=function(e,t,n){if(o.containerElementRef){var i=y.SliderHandleContainerCoordinateLogic.convertClientCoordinateIntoProportionOfContainer(t.x,o.containerElementRef.getBoundingClientRect());o.globalPointerEventCapturer&&o.globalPointerEventCapturer.addListeners();var r=o.determineSingleHandleDragOffsetIfNeeded(e,n,i);o.setState({handleBeingDragged:e,dragOriginInClientCoordinates:t,handlePositionsAtDragStart:o.props.handles,singleHandleDragOffsetAsProportion:r}),o.fireHandleDragStartEvents(e,i,r),o.setKeyboardFocusOnHandle(e)}},o.dragMove=function(e){if(o.containerElementRef){var t=o.isSingleHandleBeingDragged(o.state.handleBeingDragged);if(t&&o.props.onHandleDragMove){var n=y.SliderHandleContainerCoordinateLogic.convertClientCoordinateIntoProportionOfContainer(e.x,o.containerElementRef.getBoundingClientRect());o.fireHandleDragMoveEvents(n)}else if(!t&&o.props.onBothHandleDragMove){var i=y.SliderHandleContainerCoordinateLogic.calculateProportionalPositionsWhenDraggingBothHandles(o.state.dragOriginInClientCoordinates.x,o.state.handlePositionsAtDragStart.firstHandlePosition,o.state.handlePositionsAtDragStart.secondHandlePosition,e.x,o.containerElementRef.getBoundingClientRect());o.fireHandleDragMoveEvents(i.firstHandlePosition,i.secondHandlePosition)}}},o.dragEnd=function(){if(o.state.handleBeingDragged){o.globalPointerEventCapturer&&o.globalPointerEventCapturer.removeListeners();var e=o.state.handleBeingDragged;o.setState({handleBeingDragged:void 0,dragOriginInClientCoordinates:void 0,handlePositionsAtDragStart:void 0}),o.fireHandleDragEndEvents(e)}},o.setContainerRef=function(e){o.containerElementRef=e,o.globalPointerEventCapturer=new c.GlobalPointerEventCapturer(o.containerElementRef,o.onPointerMove,o.onPointerUp)},o.setFirstHandleWidgetRef=function(e){o.firstHandleWidgetRef=e},o.setSecondHandleWidgetRef=function(e){o.secondHandleWidgetRef=e},o.onPointerDown=function(e){if(!o.props.disabled&&o.firstHandleWidgetRef&&(2!==o.getHandleCount()||o.secondHandleWidgetRef)){var t=e,n=l.getClientPosition(t),i=o.determineWhichHandleShouldBeDraggedForEvent(l.isTouchEvent(t),n);i&&(e.preventDefault(),e.stopPropagation(),o.dragStart(i.handle,n,i.directlyOnIcon))}},o.onPointerMove=function(e){!o.props.disabled&&o.containerElementRef&&(e.preventDefault(),e.stopPropagation(),o.dragMove(l.getClientPosition(e)))},o.onPointerUp=function(e){o.dragEnd(),o.props.disabled||(e.preventDefault(),e.stopPropagation())},o.onFirstHandleKeyDown=function(e){o.props.disabled||o.props.onHandleKeyDown&&h.SliderValueLogic.KeysRelevantForManipulatingSlider[e.key]&&(o.props.onHandleKeyDown(g.FIRST_HANDLE,e.key),e.preventDefault(),e.stopPropagation())},o.onSecondHandleKeyDown=function(e){o.props.disabled||o.props.onHandleKeyDown&&h.SliderValueLogic.KeysRelevantForManipulatingSlider[e.key]&&(o.props.onHandleKeyDown(g.SECOND_HANDLE,e.key),e.preventDefault(),e.stopPropagation())},o.renderFirstHandle=function(){if(isNaN(o.props.handles.firstHandlePosition))return null;var e=o.state.handleBeingDragged===g.FIRST_HANDLE||o.state.handleBeingDragged===g.BOTH_HANDLES,t=1===o.getHandleCount()?u.NORMAL_HANDLE_ICON:u.LEFT_HANDLE_ICON;return r.createElement(u.SliderHandleWidget,{ref:o.setFirstHandleWidgetRef,disabled:o.props.disabled,position:o.props.handles.firstHandlePosition,icon:t,isBeingDragged:e,onKeyDown:o.onFirstHandleKeyDown,testId:o.props.testId})},o.renderSecondHandle=function(){if(1===o.getHandleCount()||!o.props.handles.secondHandlePosition||isNaN(o.props.handles.secondHandlePosition))return null;var e=o.state.handleBeingDragged===g.SECOND_HANDLE||o.state.handleBeingDragged===g.BOTH_HANDLES;return r.createElement(u.SliderHandleWidget,{ref:o.setSecondHandleWidgetRef,disabled:o.props.disabled,icon:u.RIGHT_HANDLE_ICON,position:o.props.handles.secondHandlePosition,isBeingDragged:e,onKeyDown:o.onSecondHandleKeyDown,testId:o.props.testId})},o.state={},o}return n(t,e),t.prototype.componentWillUnmount=function(){this.globalPointerEventCapturer&&this.globalPointerEventCapturer.removeListeners()},t.prototype.renderInnerHandleMouseCursorArea=function(e){if(this.props.disabled||isNaN(this.props.handles.firstHandlePosition)||1===this.getHandleCount()||!this.props.handles.secondHandlePosition||isNaN(this.props.handles.secondHandlePosition))return null;var t=100*this.props.handles.firstHandlePosition,o=100-100*this.props.handles.secondHandlePosition;return r.createElement("span",{style:i({},e,{left:t+"%",right:o+"%"})})},t.prototype.render=function(){var e=d.testId(this.props.testId,"SliderHandleContainer"),t=p.getSliderHandleContainerStyles(),o=t.Container;return s.isMSEdgeBrowser()&&(o.touchAction="none"),r.createElement(a.PointerEventWrapper,{pointerDown:this.onPointerDown,disabled:this.props.disabled},r.createElement("div",{style:o,onTouchStart:this.onPointerDown,ref:this.setContainerRef,"data-tb-test-id":e},this.renderFirstHandle(),this.renderSecondHandle(),this.renderInnerHandleMouseCursorArea(t.InnerHandleMouseCursorArea)))},t}(r.Component);t.SliderHandleContainer=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,o){this.listenersAdded=!1,this.elementRef=e,this.onPointerMove=t,this.onPointerUp=o}return e.prototype.addListeners=function(){this.listenersAdded||(window.addEventListener("touchend",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("touchmove",this.onPointerMove),window.addEventListener("mousemove",this.onPointerMove),this.elementRef.setCapture&&this.elementRef.setCapture(),this.listenersAdded=!0)},e.prototype.removeListeners=function(){this.listenersAdded&&(window.removeEventListener("touchend",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("touchmove",this.onPointerMove),window.removeEventListener("mousemove",this.onPointerMove),this.elementRef.releaseCapture&&this.elementRef.releaseCapture(),this.listenersAdded=!1)},e}();t.GlobalPointerEventCapturer=o},function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),r=o(39),s={w:Math.ceil(r.SliderHandleIcon.width/2),h:Math.ceil(r.SliderHandleIcon.height/2)},a=40,l=4,c=4,d={w:40,h:40},p={w:d.w/2,h:d.h/2},u=16,h=11,g=14;t.getSliderTrackStyles=function(){var e={Track:{position:"absolute",left:s.w,right:s.w,backgroundColor:i.TabStyles.Colors.F3,height:c,top:(a-c)/2},RangeIndicatorBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.F7},DataBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.L8}};return n({},e,{RangeIndicatorBarDarkened:n({},e.RangeIndicatorBar,{backgroundColor:i.TabStyles.Colors.L8}),DataBarDarkened:n({},e.DataBar,{backgroundColor:i.TabStyles.Colors.L9})})},t.getSliderTickBarStyles=function(){return{Bar:{position:"absolute",left:s.w,right:s.w+1,height:l,top:(a-c)/2-h-l},Tick:{position:"absolute",borderLeft:"solid 1px "+i.TabStyles.Colors.F6,height:l,width:0}}},t.getSliderHandleStyles=function(){var e={PositioningContainer:{position:"absolute"},PressIndicationBar:{position:"absolute",borderLeft:"solid 2px "+i.TabStyles.Colors.F9,marginLeft:-1,width:0,height:u,top:-3},HandleInteractiveArea:{position:"absolute",touchAction:"none",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,boxSizing:"content-box",paddingTop:p.h-s.h,paddingBottom:p.h-s.h,paddingLeft:p.w-s.w,paddingRight:p.w-s.w,marginLeft:-1*p.w,WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},HandleIcon:{position:"absolute",touchAction:"none",cursor:"pointer",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,marginLeft:-1*s.w,marginTop:p.h-s.h,outline:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"}};return n({},e,{HandleInteractiveAreaLeft:n({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft-5,paddingRight:e.HandleInteractiveArea.paddingRight+5}),HandleInteractiveAreaRight:n({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft+6,paddingRight:e.HandleInteractiveArea.paddingRight-4}),HandleIconLeft:n({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft-5}),HandleIconRight:n({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft+6}),DisabledHandleMixin:{touchAction:void 0},DisabledHandleInnerFocusAreaMixin:n({},e.HandleIcon,{touchAction:void 0,cursor:void 0})})},t.getSliderHandleContainerStyles=function(){return{Container:{position:"absolute",top:0,bottom:0,left:0,right:0,marginLeft:s.w+1,marginRight:s.w},InnerHandleMouseCursorArea:{position:"absolute",cursor:"pointer",height:r.SliderHandleIcon.height,top:p.h-s.h}}},t.getSliderStyles=function(){return{OuterContainer:{paddingLeft:g,paddingRight:g,WebkitTapHighlightColor:"transparent",TapHighlightColor:"transparent"},TrackAndHandleContainer:{position:"relative",height:a}}}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(10),a=o(39),l=o(9),c=o(60),d=o(102);t.NORMAL_HANDLE_ICON="NORMAL_HANDLE_ICON",t.LEFT_HANDLE_ICON="LEFT_HANDLE_ICON",t.RIGHT_HANDLE_ICON="RIGHT_HANDLE_ICON";var p=function(e){function o(o){var n=e.call(this,o)||this;return n.chooseIconAndStylesForRender=function(){var e=d.getSliderHandleStyles(),o=void 0,r=void 0,s=void 0;switch(n.props.icon){case t.LEFT_HANDLE_ICON:o=a.SliderLeftHandleIcon,r=e.HandleInteractiveAreaLeft,s=e.HandleIconLeft;break;case t.RIGHT_HANDLE_ICON:o=a.SliderRightHandleIcon,r=e.HandleInteractiveAreaRight,s=e.HandleIconRight;break;default:o=a.SliderHandleIcon,r=e.HandleInteractiveArea,s=e.HandleIcon}n.props.disabled&&(r=i({},r,e.DisabledHandleMixin),s=i({},s,e.DisabledHandleInnerFocusAreaMixin));var l=n.props.disabled?o.disabled:n.state.isHovered||n.props.isBeingDragged||n.state.isFocused?o.active:o.enabled;return{positioningContainerStyle:e.PositioningContainer,pressIndicationBarStyle:e.PressIndicationBar,interactiveAreaStyle:r,imgStyle:s,iconImageDataUrl:l}},n.setImgRef=function(e){n.imgRef=e},n.setInteractiveAreaRef=function(e){n.interactiveAreaRef=e},n.onFocus=function(e){n.props.disabled||n.setState({isFocused:e})},n.onHover=function(e){n.props.disabled||n.setState({isHovered:e})},n.state={isHovered:!1,isFocused:!1},n}return n(o,e),o.prototype.focus=function(){this.imgRef&&this.imgRef.focus()},o.prototype.getBoundingClientRectForIcon=function(){if(this.imgRef){var e=this.imgRef.getBoundingClientRect();return this.props.icon===t.LEFT_HANDLE_ICON?c.addClientRectRight(e,-1*a.SliderLeftHandleIcon.artworkOffsetFromRightSide):this.props.icon===t.RIGHT_HANDLE_ICON?c.addClientRectLeft(e,a.SliderRightHandleIcon.artworkOffsetFromLeftSide):e}},o.prototype.getBoundingClientRectForInteractiveArea=function(){if(this.interactiveAreaRef)return this.interactiveAreaRef.getBoundingClientRect()},o.prototype.render=function(){var e=l.testId(this.props.testId,"SliderHandle"),t=100*this.props.position,o=this.chooseIconAndStylesForRender(),n=o.positioningContainerStyle,a=o.pressIndicationBarStyle,c=o.interactiveAreaStyle,d=o.imgStyle,p=o.iconImageDataUrl;return r.createElement(s.InteractiveDomWrapper,{handleHover:this.onHover,handleFocus:this.onFocus},r.createElement("span",{style:i({},n,{left:t+"%"}),"data-tb-test-id":e},this.props.isBeingDragged&&r.createElement("span",{style:a}),r.createElement("span",{style:c,ref:this.setInteractiveAreaRef}),r.createElement("img",{style:d,src:p,tabIndex:this.props.disabled?void 0:0,onKeyDown:this.props.onKeyDown,ref:this.setImgRef,"data-tb-test-id":l.testId(this.props.testId,"SliderHandleIconArea")})))},o}(r.Component);t.SliderHandleWidget=p},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(105),i=function(){function e(e,t,o){this.min=o?Math.ceil(e):e,this.max=o?Math.floor(t):t,this.roundToIntegers=o}return e.prototype.calculateSliderPositionAsProportion=function(e){if(this.min>this.max)return NaN;var t=this.roundToIntegers?Math.round(e):e,o=(t-this.min)/(this.max-this.min);return n.clamp(o,0,1)},e.prototype.calculateNewSliderValueFromProportion=function(e){if(this.min>this.max)return NaN;if(e<0)return this.min;if(e>1)return this.max;var t=this.roundToIntegers?Math.round(e*(this.max-this.min))+this.min:e*(this.max-this.min)+this.min;return n.clamp(t,this.min,this.max)},e.prototype.calculateNewSliderValueForKey=function(e,t){var o=this.roundToIntegers?Math.round(t):t,i=(this.max-this.min)/100,r=(this.max-this.min)/10,s=this.roundToIntegers?1:i,a=this.roundToIntegers?Math.max(Math.round(r),1):r,l=o;switch(e){case"ArrowLeft":case"ArrowDown":l=o-s;break;case"ArrowUp":case"ArrowRight":l=o+s;break;case"PageDown":l=o-a;break;case"PageUp":l=o+a;break;case"Home":l=this.min;break;case"End":l=this.max;break;default:return}return n.clamp(l,this.min,this.max)},e.KeysRelevantForManipulatingSlider={ArrowLeft:!0,ArrowRight:!0,ArrowUp:!0,ArrowDown:!0,PageUp:!0,PageDown:!0,Home:!0,End:!0},e}();t.SliderValueLogic=i},function(e,t){"use strict";function o(e,t,o){return o<t?NaN:Math.min(Math.max(e,t),o)}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(60);t.FIRST_HANDLE="FIRST_HANDLE",t.SECOND_HANDLE="SECOND_HANDLE",t.BOTH_HANDLES="BOTH_HANDLES";var i;!function(e){function o(e,o){var i={left:e.x,top:e.y},r=n.doesRectangleContainPoint(o,i);return{handle:t.FIRST_HANDLE,directlyOnIcon:r}}function i(e,o,i){var r={left:e.x,top:e.y};return n.doesRectangleContainPoint(o,r)?{handle:t.FIRST_HANDLE,directlyOnIcon:!0}:n.doesRectangleContainPoint(i,r)?{handle:t.SECOND_HANDLE,directlyOnIcon:!0}:e.x>=o.right&&e.x<=i.left?{handle:t.BOTH_HANDLES,directlyOnIcon:!1}:e.x<=o.right?{handle:t.FIRST_HANDLE,directlyOnIcon:!1}:{handle:t.SECOND_HANDLE,directlyOnIcon:!1}}function r(e,o){var i={left:e.x,top:e.y},r=n.doesRectangleContainPoint(o,i);if(r)return{handle:t.FIRST_HANDLE,directlyOnIcon:!0}}function s(e,o,i){var r={left:e.x,top:e.y},s=n.doesRectangleContainPoint(o,r),a=n.doesRectangleContainPoint(i,r);if(s&&a){var l=Math.abs(r.left-o.left),c=Math.abs(r.left-i.right),d=l<c;return{handle:d?t.FIRST_HANDLE:t.SECOND_HANDLE,directlyOnIcon:!0}}return s?{handle:t.FIRST_HANDLE,directlyOnIcon:!0}:a?{handle:t.SECOND_HANDLE,directlyOnIcon:!0}:void 0}e.determineWhichHandleShouldBeDraggedForMouseAndOneHandle=o,e.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles=i,e.determineWhichHandleShouldBeDraggedForTouchAndOneHandle=r,e.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles=s}(i=t.SliderHandleContainerDragHandleLogic||(t.SliderHandleContainerDragHandleLogic={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=o(105);!function(e){function t(e,t){var o=e-t.left,n=o/Math.max(1,t.width);return i.clamp(n,0,1)}function o(e,t,o,n,i){var r=n-e,s=r/i.width,a=t+s,l=o+s,c=o-t;return a<0?{firstHandlePosition:0,secondHandlePosition:c}:l>1?{firstHandlePosition:1-c,secondHandlePosition:1}:{firstHandlePosition:a,secondHandlePosition:l}}e.convertClientCoordinateIntoProportionOfContainer=t,e.calculateProportionalPositionsWhenDraggingBothHandles=o}(n=t.SliderHandleContainerCoordinateLogic||(t.SliderHandleContainerCoordinateLogic={}))},function(e,t,o){"use strict";function n(e){var t=[];if(1===e)t.push(.5);else if(e>1)for(var o=e-1,n=0;n<e;n++)t.push(n/o);return t}function i(e){var t=n(e.tickCount),o=t.map(function(e){return 100*e}),i=l.getSliderTickBarStyles();return s.createElement("div",{style:i.Bar,"data-tb-test-id":a.testId(e.testId,"SliderTickBar")},o.map(function(e,t){return s.createElement("span",{key:t,style:r({},i.Tick,{left:e+"%"})})}))}var r=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(9),l=o(102);t.calculateTickProportionalPositions=n,t.SliderTickBarWidget=i},function(e,t,o){"use strict";function n(e){var t,o=a.getSliderTrackStyles();if(e.rangeIndicatorBarPosition){var n=100*e.rangeIndicatorBarPosition.start,l=100*(1-e.rangeIndicatorBarPosition.end),c=e.handleIsBeingDragged?o.RangeIndicatorBarDarkened:o.RangeIndicatorBar;t=r.createElement("div",{style:i({},c,{left:n+"%",right:l+"%"})})}var d;if(e.dataBarPosition){var n=100*e.dataBarPosition.start,l=100*(1-e.dataBarPosition.end),c=e.handleIsBeingDragged?o.DataBarDarkened:o.DataBar;d=r.createElement("div",{style:i({},c,{left:n+"%",right:l+"%"})})}return r.createElement("div",{style:o.Track,"data-tb-test-id":s.testId(e.testId,"SliderTrack")},t,d)}var i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(9),a=o(102);t.SliderTrackWidget=n},function(e,t,o){"use strict";function n(e){return r.createElement(s.SliderWidget,i({},e,{handleCountAndRangeType:s.SINGLE_HANDLE_SINGLE_VALUE,continuous:!1}))}var i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(99);t.DiscreteSliderWidget=n},function(e,t,o){"use strict";function n(e){var t=e.value,o=e.max,n=e.min,s=e.testId,a=e.onChange,l=e.disabled,c=e.style;return i.createElement(r.SliderWidget,{value:t,max:o,min:n,testId:s,onChange:a,disabled:l,style:c,continuous:!0,handleCountAndRangeType:"MIN"===e.openTo?r.SINGLE_HANDLE_RANGE_TO_MIN:r.SINGLE_HANDLE_RANGE_TO_MAX})}Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(99);t.OpenEndedRangeSliderWidget=n},function(e,t,o){"use strict";function n(e){var t=e.value,o=e.max,n=e.min,s=e.testId,a=e.onChange,l=e.disabled,c=e.style,d=e.trackDataBarRange;return i.createElement(r.SliderWidget,{value:t,max:o,min:n,testId:s,onChange:a,disabled:l,style:c,trackDataBarRange:d,continuous:!0,handleCountAndRangeType:r.TWO_HANDLES_RANGE_BETWEEN})}Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(99);t.RangeSliderWidget=n}])});;(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=function(eb,ec){dl.call(this,eb,ec)};b.__typeName='spiff.$0';b.$1=function(){var eb=new ch;eb.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};eb.ref='iscroll-component';return eb};b.$0=function(eb){var ec=b.$1();ec.augmentedScrollX=eb.augmentedScrollX;ec.augmentedScrollY=eb.augmentedScrollY;ec.extraCssClass=eb.extraCssClass;ec.iScrollOptions.scrollX=eb.scrollX;ec.iScrollOptions.scrollY=eb.scrollY;ec.scrollStopCallback=eb.onScrollStop;ec.scrollCallback=eb.onScroll;ec.alwaysShowScrollbarsIfScrollable=eb.alwaysShowScrollbarsIfScrollable;ec.startingY=ss.Nullable$1.neg(eb.startingY);ec.customStyle=eb.customStyle;if(eb.scrollbars){ec.iScrollOptions.scrollbars='custom'}return ec};var c=function(eb){this.$1=null;this.$1=eb};c.__typeName='spiff.$1';var d=function(){dH.call(this,$("<span class='tabTabLabel' />"))};d.__typeName='spiff.$10';var e=function(eb){this.$0=null;this.$0=eb};e.__typeName='spiff.$11';var f=function(eb){this.$0=null;this.$0=eb};f.__typeName='spiff.$12';var g=function(eb,ec){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,eb,ec.iScrollOptions);this.$2=eb;this.$0=ec.augmentedScrollX;this.$1=ec.augmentedScrollY};g.__typeName='spiff.$2';var h=function(){};h.__typeName='spiff.$3';h.$0=function(eb,ec,ed){var ee=new cS(eb,ec,ed);ee.source=h.$3[ee.type];ee.inputType=h.$1(ee.type);return ee};h.$1=function(eb){var ec=6;if(ss.keyExists(h.$9,eb)){ec=0}else if(ss.keyExists(h.$6,eb)){ec=1}else if(ss.keyExists(h.$5,eb)){ec=2}else if(ss.keyExists(h.$7,eb)){ec=3}else if(ss.keyExists(h.$4,eb)){ec=5}else if(ss.keyExists(h.$8,eb)){ec=4}return ec};h.$2=function(){h.$9['touchstart']=2;h.$6['touchmove']=2;h.$5['touchend']=2;h.$4['touchcancel']=2;if(tsConfig.is_mobile){if(!tab.BrowserSupport.get_isTouch()){h.$9['mousedown']=1;h.$6['mousemove']=1;h.$5['mouseup']=1;h.$7['mouseout']=1}}else{h.$9['mousedown']=1;h.$6['mousemove']=1;h.$5['mouseup']=1;h.$7['mouseout']=1;h.$8['scroll']=1;h.$5['contextmenu']=1}$.extend(h.$3,h.$9,h.$6,h.$5,h.$7,h.$8,h.$4)};var i=function(){};i.__typeName='spiff.$4';i.$2=function(eb,ec){if(eb===9){i.$3[0]=ec}else if(eb===27){i.$3[1]=ec}else if(eb>=33&&eb<=40){i.$3[eb-31]=ec}};i.$0=function(){i.$3=new Array(10)};i.$1=function(){for(var eb=0;eb<i.$3.length;eb++){if(i.$3[eb]){return true}}return false};var j=function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;dH.call(this,$("\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"))};j.__typeName='spiff.$5';var k=function(eb,ec){this.$6=new j;this.$6.$6=this.$6.getElementBySelector('.tabMenuItemName');this.$6.$6.text(eb);if(!ec){this.$6.domRoot.addClass('tabDisabled').attr('aria-disabled','true')}};k.__typeName='spiff.$6';var l=function(){this.$3=null;this.$2=null;this.$4=null;dH.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('.text-span')};l.__typeName='spiff.$7';var m=function(){this.$0=null;dH.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')};m.__typeName='spiff.$8';var n=function(){this.$1=null;this.$0=null;dH.call(this,$("<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')};n.__typeName='spiff.$9';var o=function(){};o.__typeName='spiff.AnchorTarget';global.spiff.AnchorTarget=o;var p=function(){};p.__typeName='spiff.AriaAttrName';global.spiff.AriaAttrName=p;var q=function(){};q.__typeName='spiff.AriaRole';global.spiff.AriaRole=q;var r=function(eb){da.call(this,eb)};r.__typeName='spiff.ArrowDropdownButtonComponent';global.spiff.ArrowDropdownButtonComponent=r;var s=function(eb){var ec=function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(eb);w.call(this)};ss.registerGenericClassInstance(ec,s,[eb],{add_propsUpdated:function(ed){this.$2$1=ss.delegateCombine(this.$2$1,ed)},remove_propsUpdated:function(ed){this.$2$1=ss.delegateRemove(this.$2$1,ed)},get_props:function(){return this.$2$2},set_props:function(ed){this.$2$2=ed},updateProps$1:function(ed){this.set_props(ed);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},function(){return w},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cc,[eb])]});return ec};s.__typeName='spiff.BaseComponentViewModel$1';ss.initGenericClass(s,a,1);global.spiff.BaseComponentViewModel$1=s;var t=function(eb){var ec=function(ed,ee){ss.makeGenericType(v,[eb]).call(this,ed,ee)};ss.registerGenericClassInstance(ec,t,[eb],{positionMenu:function(ed,ee,ef){var eg=Math.min(document.documentElement.clientWidth,tab.WindowHelper.get_windowSelf().innerWidth)-10;ef.domRoot.css('max-width',eg+'px');var eh=(tsConfig.is_mobile?tab.WindowHelper.get_windowSelf().innerWidth:document.documentElement.clientWidth);var ei=$(window).scrollLeft()+5;var ej=ei+eh-10;var ek=ef.domRoot.outerHeight(false);var el=Math.min(ef.domRoot.outerWidth(false),eg);var em=ek-ef.domRoot.height();var en=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset(ee.relativeDom));var eo=ee.relativeDom.outerWidth(false);var ep=ee.relativeDom.outerHeight(false);if(ss.isValue(ee.cursorPosition)){en=tab.PointUtil.fromPosition(ee.cursorPosition);eo=0;ep=0}var eq,er;var es=ed.getVisibleRoom(en);var et=null;if(!ee.preferUp&&es.roomBelow>=ek+ep){er=en.y+ep}else if(es.roomAbove>ek){er=en.y-ek}else if(es.roomBelow-ep>=es.roomAbove){er=en.y+ep;et=es.roomBelow-ep-em-5}else{er=en.y-es.roomAbove+5;et=es.roomAbove-em-5}if(ee.preferLeft){eq=en.x+eo-el}else{eq=en.x}eq=Math.max(eq,ei);if(eq+el>ej){eq=ej-el}eq=Math.max(5,eq);er-=tab.FullscreenUtil.centeringContainerOffset();var eu={};eu['top']=er+'px';eu['left']=eq+'px';eu['max-height']=(ss.isValue(et)?(et+'px'):'');ef.domRoot.css(eu)}},function(){return ss.makeGenericType(v,[eb])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eb])]});ec.$0=5;return ec};t.__typeName='spiff.BaseMenuView$1';ss.initGenericClass(t,a,1);global.spiff.BaseMenuView$1=t;var u=function(eb){var ec=function(){this.$1=null;this.$2$1=null;w.call(this)};ss.registerGenericClassInstance(ec,u,[eb],{add_propsUpdated:function(ed){this.$2$1=ss.delegateCombine(this.$2$1,ed)},remove_propsUpdated:function(ed){this.$2$1=ss.delegateRemove(this.$2$1,ed)},get_props:function(){if(ss.isNullOrUndefined(this.$1)){this.$0()}return this.$1},set_props:function(ed){this.$1=ed},incrementProps:function(){var ed=this.createUpdatedProps();var ee=$.extend(false,new Object,this.get_props(),ed);this.set_props(ee);if(ss.isNullOrUndefined(ed)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(ed){var ee=ss.mkdel(this,this.incrementProps);ed.add_propsUpdated(ee);return new tab.CallOnDispose(function(){ed.remove_propsUpdated(ee)})},$0:function(){this.set_props(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return new Object},createUpdatedProps:function(){return null}},function(){return w},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cc,[eb])]});return ec};u.__typeName='spiff.BaseReactViewModel$1';ss.initGenericClass(u,a,1);global.spiff.BaseReactViewModel$1=u;var v=function(eb){var ec=function(ed,ee){this.$3=null;this.$4=ss.getDefaultValue(eb);dZ.call(this,ee.domRoot);tab.Param.verifyValue(ed,'viewModel');tab.Param.verifyValue(ee,'t');this.$3=ee;this.$4=ed;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))};ss.registerGenericClassInstance(ec,v,[eb],{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();dZ.prototype.dispose.call(this)},onViewModelPropertyChanged:function(ed,ee){},$2:function(ed){this.dispose()}},function(){return dZ},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eb])]});return ec};v.__typeName='spiff.BaseView$1';ss.initGenericClass(v,a,1);global.spiff.BaseView$1=v;var w=function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null};w.__typeName='spiff.BaseViewModel';global.spiff.BaseViewModel=w;var x=function(eb){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dZ.call(this,eb);this.$2()};x.__typeName='spiff.Button';global.spiff.Button=x;var y=function(eb){var ec=function(ed){React.Component.call(this,ed)};ss.registerGenericClassInstance(ec,y,[eb],{get_className:function(){var ed=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){ed.push(this.props.customClassName)}if(this.props.border){ed.push('bordered')}if(this.props.disabled){ed.push('disabled')}return ed.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var ed={className:this.get_className(),style:this.props.buttonStyle,title:(ss.isNullOrUndefined(this.props.tooltip)?this.props.label:this.props.tooltip),onKeyDown:ss.mkdel(this,function(ee){var ef=ee.keyCode;if(ef===32||ef===13){this.$0(cS.create(ee,ReactDOM.findDOMNode(this),null));ee.preventDefault();ee.stopPropagation()}}),'data-test-id':this.props.testId,role:'button'};if(ss.isValue(this.props.tabIndex)){ed.tabIndex=ss.unbox(this.props.tabIndex)}if(ss.isValue(this.props.additionalRoles)&&this.props.additionalRoles.length>0){ed.role+=' '+this.props.additionalRoles.join(' ')}return bs.div({tap:ss.mkdel(this,this.$0)},ed,[this.customContentBefore(),React.DOM.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter()])},$0:function(ed){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(ed)}}},function(){return React.Component},function(){return[]});return ec};y.__typeName='spiff.ButtonBaseComponent$1';ss.initGenericClass(y,a,1);global.spiff.ButtonBaseComponent$1=y;var z=function(eb){ss.makeGenericType(y,[Object]).call(this,eb)};z.__typeName='spiff.ButtonComponent';z.create=function(eb,ec,ed){return React.createElement(z,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+eb,label:ec,onTap:ed})};global.spiff.ButtonComponent=z;var A=function(){};A.__typeName='spiff.ButtonSize';global.spiff.ButtonSize=A;var B=function(eb,ec){ss.makeGenericType(df,[cq,Object,Object]).call(this,cq.newCheckbox(eb.label,eb.isSelected),eb,ec);this.get_widget().set_disabled(eb.disabled)};B.__typeName='spiff.CheckboxComponent';global.spiff.CheckboxComponent=B;var C=function(eb,ec,ed,ee){this.$a=null;this.$b=null;this.$3$1=null;dJ.call(this,eb,ec,ed,null,false);this.$a=eb;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new x(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(ee);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()};C.__typeName='spiff.ClearableTextInputView';C.newClearableTextInputView=function(eb,ec,ed){var ee=new D;return new C(ee,eb,ec,ed)};global.spiff.ClearableTextInputView=C;var D=function(){this.$0=null;this.$1=null;this.$2=null;dH.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')};D.__typeName='spiff.ClearableTextInputViewTemplate';global.spiff.ClearableTextInputViewTemplate=D;var E=function(){};E.__typeName='spiff.ClickBuster';E.add_clickBustDetected=function(eb){E.$1$1=ss.delegateCombine(E.$1$1,eb)};E.remove_clickBustDetected=function(eb){E.$1$1=ss.delegateRemove(E.$1$1,eb)};E.preventGhostClick=function(eb,ec,ed){if(!tab.BrowserSupport.get_isTouch()||!tab.BrowserSupport.get_addEventListener()){return}if(ss.isNullOrUndefined(E.$3)){E.$3=[];document.addEventListener('click',E.$0,true)}var ee=$(ed).closest('.'+E.suppressClickBustingClass).length>0;if(!ee){E.$3.push({item1:eb,item2:ec});window.setTimeout(E.$1,600)}};E.$1=function(){ss.removeAt(E.$3,0)};E.$0=function(eb){var ec=eb;var ed=ec.pageX;var ee=ec.pageY;for(var ef=0;ef<E.$3.length;ef++){var eg=E.$3[ef];if(Math.abs(eg.item1-ed)<25&&Math.abs(eg.item2-ee)<25){eb.stopPropagation();eb.preventDefault();if(ss.isValue(E.$1$1)){E.$1$1(eb)}}}};global.spiff.ClickBuster=E;var F=function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+F.$2++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};F.__typeName='spiff.ClickHandler';F.targetAndClick=function(eb,ec){return(new F).setTarget(eb).onClick(ec)};F.targetAndRightClick=function(eb,ec){return(new F).setTarget(eb).onRightClick(ec)};F.targetAndPress=function(eb,ec){return(new F).setTarget(eb).onPress(ec)};global.spiff.ClickHandler=F;var G=function(){React.Component.call(this);var eb=new N;eb.isSelecting=false;this.state=eb};G.__typeName='spiff.ComboBoxComponent';G.createCustomIconElements=function(eb){if(ss.isNullOrEmptyString(eb)){return null}return[React.DOM.div({className:'tab-Icon '+eb})]};global.spiff.ComboBoxComponent=G;var H=function(eb){cK.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+eb};H.__typeName='spiff.ComboBoxDropdownMenuTheme';global.spiff.ComboBoxDropdownMenuTheme=H;var I=function(eb,ec,ed,ee){this.$2=null;this.$3=null;this.$0=null;this.$1=null;this.$2=eb;this.$3=ec;this.$0=ed;this.$1=ee};I.__typeName='spiff.ComboBoxItem';global.spiff.ComboBoxItem=I;var J=function(){cK.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'};J.__typeName='spiff.ComboBoxMenuTheme';global.spiff.ComboBoxMenuTheme=J;var K=function(){};K.__typeName='spiff.ComboBoxMenuThemeChoice';global.spiff.ComboBoxMenuThemeChoice=K;var L=function(){this.styleClass=null;this.buttonStyleClass=null;this.selectedText=null;this.selectedIconClass=null;this.hasTooltip=false;this.enabled=false;Object.call(this)};L.__typeName='spiff.ComboBoxProps';global.spiff.ComboBoxProps=L;var M=function(){};M.__typeName='spiff.ComboBoxSizing';global.spiff.ComboBoxSizing=M;var N=function(){this.isSelecting=false};N.__typeName='spiff.ComboBoxState';global.spiff.ComboBoxState=N;var O=function(){this.icon=null;this.name=null;this.button=null;dH.call(this,$("<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')};O.__typeName='spiff.ComboBoxTemplate';global.spiff.ComboBoxTemplate=O;var P=function(){};P.__typeName='spiff.ComboBoxTheme';global.spiff.ComboBoxTheme=P;var Q=function(eb,ec){this.clickHandler=null;this.$d=null;this.$c=null;ss.makeGenericType(v,[R]).call(this,eb,ec);this.$d=eb;this.$c=ec;this.$d.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$d.add_itemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_itemsChanged(ss.mkdel(this,this.$7))})));this.$d.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$d.add_isSelectionInvalidChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$6))})));this.clickHandler=dE.targetAndClick(this.$c.domRoot[0],ss.mkdel(this,this.$9));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$c.domRoot.keydown(ss.mkdel(this,this.$a));this.$c.domRoot.addClass(Q.classesForTheme[this.$d.get_theme()]);this.$d.add_menuHidden(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_menuHidden(ss.mkdel(this,this.$8))})));this.$b(this.$d.get_selectedItem());this.$5();this.$6()};Q.__typeName='spiff.ComboBoxView';global.spiff.ComboBoxView=Q;var R=function(){this.$j=[];this.$m=null;this.$f=null;this.$p=0;this.$l=0;this.$o=0;this.$n=true;this.$g=true;this.$i=false;this.$k='';this.$e=null;this.$h=true;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=false;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$8=false;this.$3$9=null;ss.makeGenericType(u,[L]).call(this);this.set_showDropdownIcon(false);this.generateProps=false};R.__typeName='spiff.ComboBoxViewModel';R.newUnificationComboBoxViewModel=function(){var eb=new R;eb.set_theme(2);eb.set_menuTheme(2);return eb};R.newLineAndArrowComboBoxViewModel=function(){var eb=new R;eb.set_theme(3);eb.set_menuTheme(2);return eb};R.newReactLineAndArrowComboBoxViewModel=function(){var eb=new R;eb.set_theme(3);eb.set_menuTheme(2);eb.generateProps=true;return eb};global.spiff.ComboBoxViewModel=R;var S=function(eb){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dZ.call(this,eb.get_domRootElement());this.compositeSearchWidgetTemplate=eb;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(by.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(by.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')};S.__typeName='spiff.CompositeSearchWidget';global.spiff.CompositeSearchWidget=S;var T=function(){this.initialSearchText='';this.initialSearchTextDomClassName=''};T.__typeName='spiff.CompositeSearchWidgetInitialSearchTextInfo';global.spiff.CompositeSearchWidgetInitialSearchTextInfo=T;var U=function(){this.searchTextInputView=null;this.$1=null;this.$0=null;dH.call(this,$("<div class='tabCompositeSearchWidget'><div>"));this.searchTextInputView=dJ.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=cp.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.get_searchButton().element.attr('title',tab.Strings.MapsSearchViewInitialText);this.$0=cp.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.$0.element.attr('title',tab.Strings.MapsSearchViewClearInputTooltip);this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)};U.__typeName='spiff.CompositeSearchWidgetTemplate';global.spiff.CompositeSearchWidgetTemplate=U;var V=function(eb,ec){this.$2=null;da.$ctor1.call(this,eb,ec);this.$2={tap:ss.mkdel(this,function(ed){this.$0()})}};V.__typeName='spiff.CustomButtonComponent';V.create=function(eb){return React.createElement(V,eb)};global.spiff.CustomButtonComponent=V;var W=function(eb,ec,ed,ee,ef){this.$4=null;I.call(this,ec,ed,ee,ef);this.$4=eb};W.__typeName='spiff.CustomComboBoxItem';global.spiff.CustomComboBoxItem=W;var X=function(eb,ec){this.$0=null;if(ss.isValue(eb)){this.$0='url('+tableau.util.assetUrl(eb,true)+'), '+ec}else{this.$0=ec}};X.__typeName='spiff.CustomCursor';X.copyFromElement=function(eb){var ec=(ss.isValue(eb)?eb.css('cursor'):'');return new X(null,ec)};global.spiff.CustomCursor=X;var Y=function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;ci.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')};Y.__typeName='spiff.CustomIScrollTemplate';global.spiff.CustomIScrollTemplate=Y;var Z=function(eb){cj.call(this,eb,new Y);this.$9();this.$a();if(eb.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}};Z.__typeName='spiff.CustomIScrollView';Z.$0=function(eb,ec,ed){return Math.max(ss.round(eb*ec/Math.max(ed,1)),8)};global.spiff.CustomIScrollView=Z;var ba=function(){this.$0=null;cD.call(this)};ba.__typeName='spiff.CustomMenuItem';ba.newCustomMenuItem=function(eb){var ec=new ba;ec.set_domRoot(eb);return ec};global.spiff.CustomMenuItem=ba;var bb=function(){ci.call(this,"<div class='tabScroller'><span class='tabScrollerContent'/></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};bb.__typeName='spiff.DefaultIScrollTemplate';global.spiff.DefaultIScrollTemplate=bb;var bc=function(eb){this.$a=null;this.$9=null;cj.call(this,eb,new bb);this.addScroller();this.setUpEvents()};bc.__typeName='spiff.DefaultIScrollView';global.spiff.DefaultIScrollView=bc;var bd=function(){this.canAccept=null;this.onFeedbackType=null;this.onDragOver=null;this.onDragExit=null;this.onAcceptDrop=null;this.onGetDropTarget=null;this.onGetDropCursor=null};bd.__typeName='spiff.DelegateDropTarget';global.spiff.DelegateDropTarget=bd;var be=function(eb,ec){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;dZ.call(this,$("\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(eb);this.set_body(ec);this.$f=cp.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var ed=$('#loadingSpinner');if(ed.length===1){this.$s.append(ed.html())}this.set_resizeable(false);this.$g.attr('tabindex','-1');bF.add_firstTouch(ss.mkdel(this,this.$4));bF.add_lastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bF.remove_firstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bF.remove_lastTouch(ss.mkdel(this,this.$5))})));bk.attachDropTarget(this.$g,be.$3)};be.__typeName='spiff.Dialog';global.spiff.Dialog=be;var bf=function(eb){this.$g=null;this.$j=0;this.$k=0;this.$h=false;this.$i=0;bD.call(this,eb,'discrete',true)};bf.__typeName='spiff.Discrete';global.spiff.Discrete=bf;var bg=function(){I.call(this,null,null,null,null)};bg.__typeName='spiff.DividerComboBoxItem';global.spiff.DividerComboBoxItem=bg;var bh=function(eb,ec,ed,ee){this.$z=false;this.$A=0;this.$y=null;this.template=null;be.call(this,eb,ec);this.template=new dH(ec);this.$z=ed;this.$A=ee;this.$w()};bh.__typeName='spiff.DockableSideDialog';global.spiff.DockableSideDialog=bh;var bi=function(){};bi.__typeName='spiff.DocumentBodySizeUsage';global.spiff.DocumentBodySizeUsage=bi;var bj=function(eb){this.$a=false;this.$c=null;this.$b=null;this.$9=false;bD.call(this,eb,'drag',true)};bj.__typeName='spiff.Drag';global.spiff.Drag=bj;var bk=function(){};bk.__typeName='spiff.DragDropManager';bk.add_dragStarted=function(eb){bk.$1$1=ss.delegateCombine(bk.$1$1,eb)};bk.remove_dragStarted=function(eb){bk.$1$1=ss.delegateRemove(bk.$1$1,eb)};bk.add_dragMoved=function(eb){bk.$1$2=ss.delegateCombine(bk.$1$2,eb)};bk.remove_dragMoved=function(eb){bk.$1$2=ss.delegateRemove(bk.$1$2,eb)};bk.add_dragEnded=function(eb){bk.$1$3=ss.delegateCombine(bk.$1$3,eb)};bk.remove_dragEnded=function(eb){bk.$1$3=ss.delegateRemove(bk.$1$3,eb)};bk.add_currentTargetChanged=function(eb){bk.$1$4=ss.delegateCombine(bk.$1$4,eb)};bk.remove_currentTargetChanged=function(eb){bk.$1$4=ss.delegateRemove(bk.$1$4,eb)};bk.get_isDragging=function(){return ss.isValue(bk.get_currentDrag())};bk.$f=function(){return tab.Logger.lazyGetLogger(bk)};bk.get_lastDragEvent=function(){return bk.$y};bk.get_currentTarget=function(){return bk.$o};bk.set_currentTarget=function(eb){var ec=!ss.referenceEquals(bk.$o,eb);bk.$o=eb;if(ec&&!ss.staticEquals(bk.$1$4,null)){bk.$1$4(bk.$o)}};bk.get_currentDrag=function(){return bk.$1$5};bk.set_currentDrag=function(eb){bk.$1$5=eb};bk.init=function(){bk.$r=new dF.$ctor1(document.body,bk.$u)};bk.$0=function(eb,ec){var ed=eb.get(0);var ee=ed.getAttribute('class');if(ss.isNullOrEmptyString(ee)){ed.setAttribute('class',ec);return}var ef=ee.split(' ');if(ss.indexOf(ef,ec)===-1){ed.setAttribute('class',ef.concat([ec]).join(' '))}};bk.$b=function(eb,ec){var ed=eb.get(0);var ee=ed.getAttribute('class');if(ss.isNullOrEmptyString(ee)){return}var ef=ee.split(' ');var eg=ss.indexOf(ef,ec);if(eg>=0){ef.splice(eg,1);ed.setAttribute('class',ef.join(' '))}};bk.attachDropTarget=function(eb,ec){eb.attr('data-tab-drop-target','1');bk.$0(eb,'tabDropTarget');eb.data('tabDropTarget',ec)};bk.detachDropTarget=function(eb){eb.removeAttr('data-tab-drop-target');eb.removeData('tabDropTarget');bk.$b(eb,'tabDropTarget')};bk.isDropTarget=function(eb){return ss.isValue(eb.attr('data-tab-drop-target'))};bk.attachDragSource=function(eb,ec){eb.attr('data-tab-drag-source','1');eb.data('tabDragSource',ec)};bk.removeDragSource=function(eb){eb.removeData('tabDragSource');eb.removeAttr('data-tab-drag-source')};bk.isDragSource=function(eb){return ss.isValue(eb.attr('data-tab-drag-source'))};bk.$2=function(){bk.$s=new bm;bk.$s.show();if(bk.get_currentDrag().get_hasPayload()&&bk.get_currentDrag().get_dragType()==='dragmove'){bk.setDragCursor(X.copyFromElement(bk.$v))}bk.$t=new dF.$ctor1(bk.$s.element.get(0),bk.$u);bk.$q=new tab.DisposableHolder;bk.$q.add$1(bk.$s);bk.$q.add$1(bk.$t);bk.$q.add$1(by.bindWithDispose($(document.body),'keydown',bk.$9));bk.$q.add$1(by.bindWithDispose($(document.body),'keyup',bk.$a))};bk.$3=function(){bk.$q=tab.MiscUtil.dispose$1(bk.$q)};bk.startDrag=function(eb,ec,ed){if(ss.isNullOrUndefined(eb)||ss.isNullOrUndefined(ec)||!eb.get_hasPayload()){return}if(ss.isValue(ed)){bk.$v=ed}bk.$y=ec;bk.cancelDrag(null);bk.set_currentDrag(eb);bk.$c(bk.get_currentDrag().get_dragAvatar());bk.$e();bk.$n=tab.WindowHelper.requestAnimationFrame(bk.$e);bk.$2();bk.$d(ec);if(ss.isValue(bk.$1$1)){bk.$1$1(bk.get_currentDrag())}};bk.cancelDrag=function(eb){if(ss.isNullOrUndefined(bk.get_currentDrag())){return}if(ss.isNullOrUndefined(eb)||ss.referenceEquals(eb,bk.get_currentDrag())){bk.get_currentDrag().cancelDrag();bk.$6(null,true,false,function(){return $.Deferred().resolve(false).promise()})}};bk.drop=function(eb,ec,ed){bk.get_currentDrag().isCopyDrag=ss.isValue(ec)&&ec;bk.get_currentDrag().set_isShiftDrag(ss.isValue(ed)&&ed);bk.$6(eb,false,bk.get_currentDrag().isCopyDrag,function(){if(ss.isValue(eb)){return eb.acceptDrop(bk.get_currentDrag()).always(function(ee){})}else{bk.get_currentDrag().dropToNowhereAction();return $.Deferred().resolve(true).promise()}})};bk.firstTouch=function(eb){var ec=$(eb.target).closest('[data-tab-drag-source]');if(ss.isNullOrUndefined(ec)||ec.length===0){bk.$w=null;bk.$v=null;return}bk.$w=ec.data('tabDragSource');bk.$v=ec};bk.dragEnd=function(eb){if(ss.isNullOrUndefined(bk.get_currentDrag())){return}switch(bk.get_currentDrag().get_dragType()){case'dragdrop':{bk.drop(bk.get_currentTarget(),eb.get_isCtrlKey(),eb.shiftKey);break}case'dragmove':{bk.$6(null,false,false,function(){bk.get_currentDrag().endDragAt(eb);return $.Deferred().resolve(true).promise()});break}}};bk.dragMove=function(eb){if(ss.isNullOrUndefined(bk.get_currentDrag())){return}by.stopEvent(eb);bk.$y=eb;bk.get_currentDrag().isCopyDrag=eb.get_isCtrlKey();bk.get_currentDrag().set_isShiftDrag(eb.shiftKey);tab.WindowHelper.clearSelection();var ec=tab.DateUtil.get_nowAsTime();if(ec-bk.$x>75){if(ss.isValue(bk.$n)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bk.$n))}bk.$e()}bk.$d(eb);if(ss.isValue(bk.$1$2)){bk.$1$2(bk.get_currentDrag())}};bk.$9=function(eb){if(ss.isNullOrUndefined(bk.get_currentDrag())){return}by.stopEvent(eb);switch(eb.which){case 16:{bk.get_lastDragEvent().shiftKey=true;bk.dragMove(bk.get_lastDragEvent());break}}};bk.$a=function(eb){if(ss.isNullOrUndefined(bk.get_currentDrag())){return}by.stopEvent(eb);switch(eb.which){case 16:{bk.get_lastDragEvent().shiftKey=false;bk.dragMove(bk.get_lastDragEvent());break}case 27:{bk.cancelDrag(bk.get_currentDrag());break}}};bk.$d=function(eb){switch(bk.get_currentDrag().get_dragType()){case'dragdrop':{var ec=bk.findDropTarget(eb);if(ss.isValue(bk.get_currentTarget())){if(!ss.referenceEquals(bk.get_currentTarget(),ec)){bk.get_currentTarget().dragExit(bk.get_currentDrag())}else if(bk.get_currentTarget().get_feedbackType()==='dropfeedbackuponentry'){return}}if(ss.isValue(ec)){var ed=ec.dragOver(bk.get_currentDrag());while(ss.isValue(ed)&&!ss.referenceEquals(ed,ec)){ec=ed;ed=ec.dragOver(bk.get_currentDrag())}ec=ed}if(ss.isValue(ec)){bk.setDragCursor(ec.getDropCursor(bk.get_currentDrag()))}else{bk.setDragCursor(bk.get_currentDrag().get_defaultDropCursor())}bk.set_currentTarget(ec);break}case'dragmove':{bk.get_currentDrag().moveTo(eb);break}default:{break}}};bk.setDragCursor=function(eb){eb.setCursor(bk.$s.element)};bk.dragStart=function(eb){if(bk.get_isDragging()){return}var ec=bk.$w;if(ss.isNullOrUndefined(ec)){var ed=$(eb.target).closest('[data-tab-drag-source]');ec=ed.data('tabDragSource')}if(ss.isNullOrUndefined(ec)){return}var ee=ec.startDrag(eb);if(ss.isNullOrUndefined(ee)){return}bk.startDrag(ee,eb,null)};bk.$6=function(eb,ec,ed,ee){bk.$c(null);bk.$3();if(ss.isValue(bk.$n)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bk.$n));bk.$n=null}ee().always(function(ef){if(ss.isValue(bk.$1$3)){bk.$1$3({drag:bk.get_currentDrag(),target:eb,dropAccepted:ef,canceled:ec,isCopyDrop:ed})}bk.set_currentDrag(null);bk.set_currentTarget(null)})};bk.$c=function(eb){if(ss.isValue(bk.$p)){bk.$p.get_rootElement().detach();var ec=bk.$p;ec.dispose();bk.$p=null}bk.$p=eb;if(ss.isValue(bk.$p)){bk.$p.get_rootElement().addClass('dragAvatar').css('position','absolute').css('pointer-events','none');bk.$p.addToDom($('body'))}};bk.$e=function(){if(ss.isNullOrUndefined(bk.$p)){return}var eb=function(ed,ee,ef){if(ee<ss.Int32.div(ef,2)){return 0}else if(ee>ed-ss.Int32.div(ef,2)){return ed-ef}else{return ee-ss.Int32.div(ef,2)}};var ec=tab.DomUtil.get_documentBody();tab.DomUtil.setElementPosition(bk.$p.get_rootElement(),eb(ec.scrollWidth,bk.$y.pageX,tab.DoubleUtil.roundToInt(bk.$p.get_rootElement().outerWidth())),eb(ec.scrollHeight,bk.$y.pageY,tab.DoubleUtil.roundToInt(bk.$p.get_rootElement().outerHeight())));bk.$x=tab.DateUtil.get_nowAsTime();bk.$n=tab.WindowHelper.requestAnimationFrame(bk.$e)};bk.$7=function(eb){bk.$4();var ec=eb.clientX;var ed=eb.clientY;if(tab.BrowserSupport.get_useAlternateHitStrategy()){if(ss.isValue(eb.touches)&&eb.touches.length>0&&ss.isValue(eb.touches[0].screenX)){ec=eb.touches[0].screenX;ed=eb.touches[0].screenY}else{ec=eb.originalEvent['screenX'];ed=eb.originalEvent['screenY']}}var ee=$(document.elementFromPoint(ec,ed));bk.$5();return ee};bk.$4=function(){for(var eb=0;eb<bk.$z.length;eb++){var ec=bk.$z[eb];ec.disableHitTests()}};bk.$5=function(){for(var eb=0;eb<bk.$z.length;eb++){var ec=bk.$z[eb];ec.enableHitTests()}};bk.findDropTarget=function(eb){if(!bk.get_isDragging()){return null}var ec=bk.get_currentDrag();var ed=bk.$8(eb);for(var ee=0;ee<ed.length;ee++){var ef=ed[ee];var eg=ef.data('tabDropTarget');if(bk.$1(eg,ec)){return eg.getDropTarget(ef)}}return null};bk.$8=function(eb){var ec=[];var ed=bk.$7(eb).closest('[data-tab-drop-target]');if(ed.length>0){ec.push(ed);ed.parents('[data-tab-drop-target]').each(function(ee,ef){ec.push($(ef))})}return ec};bk.$1=function(eb,ec){return ss.isValue(eb)&&ss.isValue(ec)&&ss.isValue(eb.dragOver(ec))};bk.registerDragGlass=function(eb){bk.$z.push(eb)};bk.unregisterDragGlass=function(eb){ss.remove(bk.$z,eb)};global.spiff.DragDropManager=bk;var bl=function(eb,ec){this.isCopyDrag=false;this.draggedObject=null;this.$0=null;this.$1=false;this.$1$1=null;this.draggedObject=eb;this.$0=ec;this.isCopyDrag=false;this.$1=false};bl.__typeName='spiff.DragInstance';global.spiff.DragInstance=bl;var bm=function(eb){bE.call(this,eb,false);bk.registerDragGlass(this)};bm.__typeName='spiff.DragSafeGlass';global.spiff.DragSafeGlass=bm;var bn=function(eb){this.$0=null;this.$0=eb.element.clone(false).addClass('dragAvatar')};bn.__typeName='spiff.DragSortListItemDragAvatar';global.spiff.DragSortListItemDragAvatar=bn;var bo=function(){React.Component.call(this);this.state={isSelecting:false}};bo.__typeName='spiff.DropdownComponent';global.spiff.DropdownComponent=bo;var bp=function(eb,ec){ss.makeGenericType(df,[bq,Object,Object]).call(this,bp.$0(eb),eb,ec)};bp.__typeName='spiff.EditableTextLabelComponent';bp.$0=function(eb){var ec=bq.newEditableTextView(eb.initialContent,eb.placeHolderText,eb.editOnDoubleClick);if(!tab.MiscUtil.isNullOrEmpty$3(eb.tooltip)){ec.get_inputElement().attr('title',eb.tooltip);ec.get_textElement().find('.text-span').get(0).title=eb.tooltip}ec.showHover=ss.isNullOrUndefined(eb.showHover)||eb.showHover;ec.showTooltip=eb.showTooltip;ec.add_committed(function(){eb.onCommit(ec.get_text())});if(!ss.isNullOrEmptyString(eb.styleOverrideClass)){tab.StyleUtil.appendCSSRuleToStyleSheet$1(eb.styleOverrideClass+'-override-style','.'+eb.styleOverrideClass+' .tab-editable-text-view > div',eb.styleOverride)}return ec};global.spiff.EditableTextLabelComponent=bp;var bq=function(eb,ec,ed,ee){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;this.showHover=false;this.showTooltip=false;dJ.call(this,eb,ec,ed,null,false);this.$9=eb;this.updateTextElement(ec);var ef=new x(this.get_textElement());if(ee){this.disposables.add$1(dE.targetAndDoubleClick(ef.element.get(0),ss.mkdel(this,function(eh){this.edit()})))}else{ef.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ef.remove_click(ss.mkdel(this,this.edit));ef.dispose()})))}this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(eh){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var eg=new bL(this,null,ss.mkdel(this,function(eh){if(this.showHover){this.element.addClass('hover');this.$8(true)}}),ss.mkdel(this,function(eh){if(this.showHover){this.element.removeClass('hover');this.$8(false)}}));this.disposables.add$1(eg)}this.set_isEditing(false);this.showHover=true};bq.__typeName='spiff.EditableTextView';bq.newEditableTextView=function(eb,ec,ed){var ee=new l;return new bq(ee,eb,ec,ed)};global.spiff.EditableTextView=bq;var br=function(){this.$1=null;this.$0=null;this.$1=null;this.$0=ss.mkdel(this,function(eb){this.$1=eb})};br.__typeName='spiff.EnsureElementVisibleHelper';br.create=function(){return new br};global.spiff.EnsureElementVisibleHelper=br;var bs=function(eb){this.$2=null;this.$1=null;this.$3=null;React.Component.call(this,eb,null);this.$2=dG.createEmpty()};bs.__typeName='spiff.EventForwarder';bs.$0=function(eb,ec,ed,ee){var ef=new bt;ef.tagName=eb;ef.htmlAttributes=ed;ef.spec=ec;ef.key=ed.key;var eg=ef;if(ss.isValue(ed.ref)){eg.ref=ed.ref;delete ed['ref']}if(ss.isValue(ee)&&ee.length===1){return React.createElement(bs,eg,ee[0])}return React.createElement(bs,eg,ee)};bs.div=function(eb,ec,ed){return bs.$0('div',eb,ec,ed)};bs.span=function(eb,ec,ed){return bs.$0('span',eb,ec,ed)};bs.$1=function(eb,ec){return!_.every(Object.keys(ec),function(ed){return ss.contains(Object.keys(eb),ed)})};global.spiff.EventForwarder=bs;var bt=function(){this.tagName=null;this.htmlAttributes=null;this.spec=null};bt.__typeName='spiff.EventForwarderProps';global.spiff.EventForwarderProps=bt;var bu=function(){};bu.__typeName='spiff.EventHandleSpecExtensions';bu.isHandling=function(eb,ec){var ed=eb;return ss.isValue(ed[ec])};bu.isUsingHover=function(eb){return bu.isHandling(eb,'hover')||bu.isHandling(eb,'moving')};bu.setHandler=function(eb,ec,ed){eb[ec]=ed};bu.removeHandler=function(eb,ec){eb[ec]=null};bu.usingPressDrag=function(eb){return bu.isHandling(eb,'pressDragStart')||bu.isHandling(eb,'pressDragMove')||bu.isHandling(eb,'pressDragEnd')||bu.isHandling(eb,'doublePressDragStart')||bu.isHandling(eb,'doublePressDragMove')||bu.isHandling(eb,'doublePressDragEnd')};global.spiff.EventHandleSpecExtensions=bu;var bv=function(){};bv.__typeName='spiff.EventInputType';global.spiff.EventInputType=bv;var bw=function(eb){this.$1=null;this.$0=null;this.$6=null;this.$3=null;this.$5=false;this.$4=null;this.$2=false;this.$1=new bj(eb);this.$0=new bf(eb);this.$6=new cW(eb);if(bu.isUsingHover(eb)){this.$3=new bJ(eb)}};bw.__typeName='spiff.EventRecognizer';bw.$0=function(){return bw.$2};bw.$1=function(eb){if(bw.$2!==eb){bw.$2=eb}};global.spiff.EventRecognizer=bw;var bx=function(){};bx.__typeName='spiff.EventSource';global.spiff.EventSource=bx;var by=function(){};by.__typeName='spiff.EventUtil';by.bindWithDispose=function(eb,ec,ed){var ee=ss.formatString('{0}.{1}',ec,++by.$0);eb.on(ee,ed);return new tab.CallOnDispose(function(){eb.off(ee)})};by.addEventListenerWithDispose=function(eb,ec,ed,ee){eb.addEventListener(ec.toString(),ed,ee);return new tab.CallOnDispose(function(){eb.removeEventListener(ec.toString(),ed,ee)})};by.isCtrlKey=function(eb){if(ss.isNullOrUndefined(eb)){return false}return(tab.BrowserSupport.get_isMac()?eb.metaKey:eb.ctrlKey)};by.getDragFileList=function(eb){if(ss.isNullOrUndefined(eb)||ss.isNullOrUndefined(eb.dataTransfer)||ss.isNullOrUndefined(eb.dataTransfer.files)||eb.dataTransfer.files.length===0){return null}return eb.dataTransfer.files};by.stopEvent=function(eb){eb.stopPropagation();eb.preventDefault()};global.spiff.EventUtil=by;var bz=function(eb){cQ.call(this,eb)};bz.__typeName='spiff.ExclusiveMultiSelectGroupSelection';bz.buildExclusiveMultiSelectGroupSelection=function(eb){return function(ec,ed){var ee=new bz(ec.length);var ef=ec.length;for(var eg=0;eg<ef;++eg){if(ed(ec[eg])){ee.get_selectedIndexes()[eg]=true}}ee.validateAllSelectedState();return ee}};global.spiff.ExclusiveMultiSelectGroupSelection=bz;var bA=function(eb){dw.call(this,eb)};bA.__typeName='spiff.ExclusiveSingleSelectGroupSelection';bA.buildExclusiveSingleSelectGroupSelection=function(eb){return function(ec,ed){var ee=new bA(ec.length);var ef=ec.length;for(var eg=0;eg<ef;++eg){if(ed(ec[eg])){ee.get_selectedIndexes()[eg]=true}}ee.validateAllSelectedState();return ee}};global.spiff.ExclusiveSingleSelectGroupSelection=bA;var bB=function(){{bB.$0('focus',bB.$3);bB.$0('blur',bB.$1);bB.$0('keydown',bB.$4);bB.$0('keyup',bB.$4);bF.add_firstTouch(bB.$2)}};bB.__typeName='spiff.FocusManager';bB.shutdown=function(){if(ss.isNullOrUndefined(bB.$9)){return}bB.$6('focus',bB.$3);bB.$6('blur',bB.$1);bB.$6('keydown',bB.$4);bB.$6('keyup',bB.$4);bF.remove_firstTouch(bB.$2);bB.$9=null};bB.initialize=function(){if(ss.isNullOrUndefined(bB.$9)){bB.$9=new bB}};bB.$0=function(eb,ec){document.body.addEventListener(eb,ec,true)};bB.$6=function(eb,ec){document.body.removeEventListener(eb,ec,true)};bB.updateFocusIndicatorVisibility=function(){$(document.activeElement).toggleClass('tab-showFocusIndicator',!bB.$a)};bB.$3=function(eb){if(ss.referenceEquals(document.activeElement,document.body)){return}if(document.hasFocus()&&ss.referenceEquals(document.activeElement,eb.target)&&i.$1()){bB.$a=false}bB.updateFocusIndicatorVisibility()};bB.$1=function(eb){window.setTimeout(function(){if(document.hasFocus()){$(eb.target).removeClass('tab-showFocusIndicator')}else{i.$0()}})};bB.$4=function(eb){var ec=eb.keyCode;i.$2(ec,eb.type==='keydown')};bB.$2=function(eb,ec){bB.$a=true};bB.wasFocusedByClick=function(){return bB.$a};bB.trapFocus=function(eb){eb.off(bB.$7).on(bB.$7,bB.$5)};bB.untrapFocus=function(eb){eb.off(bB.$7)};bB.$5=function(eb){if(eb.which===9){var ec=$(eb.currentTarget).find(':tabbable');if(ss.referenceEquals(eb.target,ec.last()[0])&&!eb.shiftKey){ec.first().focus()}else if(ss.referenceEquals(eb.target,ec.first()[0])&&eb.shiftKey){ec.last().focus()}else if(ec.length>0){return}eb.preventDefault();eb.stopPropagation()}};global.spiff.FocusManager=bB;var bC=function(eb){da.call(this,eb)};bC.__typeName='spiff.GenericDropdownButtonComponent';bC.create=function(eb){return React.createElement(bC,eb)};global.spiff.GenericDropdownButtonComponent=bC;var bD=function(eb,ec,ed,ee){this.$2=null;this.$3=5;this.numTouches=1;this.type='gesture';this.isPotentialPress=false;this.isActivePress=false;this.pressTimer=null;this.doubleTapTimer=null;this.potentialPressTimer=null;if(ss.isValue(ec)){this.type=ec}if(ss.isValue(ed)){this.$3=(ed?bD.defaultSlop:0)}if(ss.isValue(ee)){this.numTouches=ee}this.$2={};this.update(eb)};bD.__typeName='spiff.Gesture';bD.$0=function(eb,ec){return eb.data('tab-'+ec)};global.spiff.Gesture=bD;var bE=function(eb,ec){this.$3=null;this.$2=null;this.$2$1=null;dZ.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$3=eb||document.body;if(!ss.referenceEquals(this.$3,document.body)){this.element.css('position','absolute')}var ed={};bu.setHandler(ed,'firstTouch',ss.mkdel(this,this.handleClick));if(ec){ed.doubleTap=function(ee){ee.preventDefault()};ed.pinchStart=function(ee){ee.preventDefault()}}this.$2=dE.targetAndConfig(this.element[0],ed).onClick(ss.mkdel(this,this.handleClick)).onRightClick(ss.mkdel(this,this.handleClick))};bE.__typeName='spiff.Glass';global.spiff.Glass=bE;var bF=function(){};bF.__typeName='spiff.GlobalUIEvents';bF.add_firstTouch=function(eb){bF.$1$1=ss.delegateCombine(bF.$1$1,eb)};bF.remove_firstTouch=function(eb){bF.$1$1=ss.delegateRemove(bF.$1$1,eb)};bF.add_press=function(eb){bF.$1$2=ss.delegateCombine(bF.$1$2,eb)};bF.remove_press=function(eb){bF.$1$2=ss.delegateRemove(bF.$1$2,eb)};bF.add_tap=function(eb){bF.$1$3=ss.delegateCombine(bF.$1$3,eb)};bF.remove_tap=function(eb){bF.$1$3=ss.delegateRemove(bF.$1$3,eb)};bF.add_lastTouch=function(eb){bF.$1$4=ss.delegateCombine(bF.$1$4,eb)};bF.remove_lastTouch=function(eb){bF.$1$4=ss.delegateRemove(bF.$1$4,eb)};bF.add_rightClick=function(eb){bF.$1$5=ss.delegateCombine(bF.$1$5,eb)};bF.remove_rightClick=function(eb){bF.$1$5=ss.delegateRemove(bF.$1$5,eb)};bF.add_dragEnd=function(eb){bF.$1$6=ss.delegateCombine(bF.$1$6,eb)};bF.remove_dragEnd=function(eb){bF.$1$6=ss.delegateRemove(bF.$1$6,eb)};bF.add_dismissTemporaryElements=function(eb){bF.$1$7=ss.delegateCombine(bF.$1$7,eb)};bF.remove_dismissTemporaryElements=function(eb){bF.$1$7=ss.delegateRemove(bF.$1$7,eb)};bF.fireFirstTouch=function(eb,ec){bF.$0(bF.$1$1,eb,ec)};bF.firePress=function(eb,ec){bF.$0(bF.$1$2,eb,ec)};bF.fireTap=function(eb,ec){bF.$0(bF.$1$3,eb,ec)};bF.fireLastTouch=function(eb,ec){bF.$0(bF.$1$4,eb,ec)};bF.fireRightClick=function(eb,ec){bF.$0(bF.$1$5,eb,ec)};bF.fireDragEnd=function(eb,ec){bF.$0(bF.$1$6,eb,ec)};bF.fireDismissTemporaryElements=function(){if(!ss.staticEquals(bF.$1$7,null)){bF.$1$7()}};bF.$0=function(eb,ec,ed){if(!ss.staticEquals(eb,null)){eb(ec,ed)}};global.spiff.GlobalUIEvents=bF;var bG=function(eb){this.$2=null;this.$0=null;this.$1=null;React.Component.call(this,eb);this.state={};this.$0=ss.mkdel(this,function(ec){this.$2=ec})};bG.__typeName='spiff.GridIScrollHandler';global.spiff.GridIScrollHandler=bG;var bH=function(eb){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=eb;this.allSelected=false;this.set_selectedIndexes({})};bH.__typeName='spiff.GroupSelection';global.spiff.GroupSelection=bH;var bI=function(eb,ec){this.$2=false;da.$ctor1.call(this,eb,ec);this.state={value:eb.initialValue,emptyTextBox:false}};bI.__typeName='spiff.HorizontalSliderComponent';global.spiff.HorizontalSliderComponent=bI;var bJ=function(eb){this.$b=0;this.$c=0;this.$a=true;this.$9=false;this.$8=null;this.$7=0;bD.call(this,eb,'hover',false);this.$7=(ss.isValue(eb.hoverDelay)?eb.hoverDelay:150)};bJ.__typeName='spiff.Hover';global.spiff.Hover=bJ;var bK=function(){};bK.__typeName='spiff.HoverAddClassBehavior';bK.attach=function(eb,ec,ed){ec=ss.coalesce(ec,'hover');return new bL(eb,ed,function(ee){bK.$0(ee,ec)},function(ee){bK.$1(ee,ec)})};bK.$0=function(eb,ec){$(eb.currentTarget).addClass(ec)};bK.$1=function(eb,ec){$(eb.currentTarget).removeClass(ec)};global.spiff.HoverAddClassBehavior=bK;var bL=function(eb,ec,ed,ee){this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$7=eb;this.$4=ec;this.$5=ed;this.$6=ee;this.$7.add_disposed(ss.mkdel(this,this.$2));if(ss.isValue(ec)){this.$7.element.on('mouseenter'+this.$3(),ec,ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ec,ss.mkdel(this,this.$1))}else{this.$7.element.on('mouseenter'+this.$3(),ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ss.mkdel(this,this.$1))}};bL.__typeName='spiff.HoverBehavior';global.spiff.HoverBehavior=bL;var bM=function(){};bM.__typeName='spiff.ICompositeSearchWidgetTemplate';global.spiff.ICompositeSearchWidgetTemplate=bM;var bN=function(){this.iconElement=null;x.call(this,$('<a>').addClass('tab-iconButton'));this.setEnabled(true)};bN.__typeName='spiff.IconButton';global.spiff.IconButton=bN;var bO=function(eb){React.Component.call(this,eb);this.state=this.$0()};bO.__typeName='spiff.IconButtonComponent';global.spiff.IconButtonComponent=bO;var bP=function(){this.isActive=false};bP.__typeName='spiff.IconButtonState';global.spiff.IconButtonState=bP;var bQ=function(){};bQ.__typeName='spiff.IContent';global.spiff.IContent=bQ;var bR=function(){};bR.__typeName='spiff.IDialogContent';global.spiff.IDialogContent=bR;var bS=function(){};bS.__typeName='spiff.IDragResponder';global.spiff.IDragResponder=bS;var bT=function(){};bT.__typeName='spiff.IDragSource';global.spiff.IDragSource=bT;var bU=function(){};bU.__typeName='spiff.IDropTarget';global.spiff.IDropTarget=bU;var bV=function(){};bV.__typeName='spiff.IHasEnabledState';global.spiff.IHasEnabledState=bV;var bW=function(){};bW.__typeName='spiff.IListItemContentCreator';global.spiff.IListItemContentCreator=bW;var bX=function(){};bX.__typeName='spiff.IListItemDragAvatarCreator';global.spiff.IListItemDragAvatarCreator=bX;var bY=function(){};bY.__typeName='spiff.IListViewDragFeedback';global.spiff.IListViewDragFeedback=bY;var bZ=function(){};bZ.__typeName='spiff.IListViewScrollHandler';global.spiff.IListViewScrollHandler=bZ;var ca=function(){};ca.__typeName='spiff.IMouseCaptureEventHandler';global.spiff.IMouseCaptureEventHandler=ca;var cb=function(){};cb.__typeName='spiff.InputType';global.spiff.InputType=cb;var cc=function(eb){var ec=function(){};ss.registerGenericInterfaceInstance(ec,cc,[eb],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null},function(){return[]});return ec};cc.__typeName='spiff.IPropsProvider$1';ss.initGenericInterface(cc,a,1);global.spiff.IPropsProvider$1=cc;var cd=function(){};cd.__typeName='spiff.IScrollable';global.spiff.IScrollable=cd;var ce=function(eb,ec){this.$4=null;this.$5=null;this.iScroll=null;React.Component.call(this,eb,ec);this.state={hovered:false,scrolling:false}};ce.__typeName='spiff.IScrollComponent';global.spiff.IScrollComponent=ce;var cf=function(){};cf.__typeName='spiff.IScroller';global.spiff.IScroller=cf;var cg=function(){};cg.__typeName='spiff.IScrollingControl';global.spiff.IScrollingControl=cg;var ch=function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.customStyle=null;this.scrollStopCallback=null;this.scrollCallback=null};ch.__typeName='spiff.IScrollProps';global.spiff.IScrollProps=ch;var ci=function(eb){this.content=null;this.scroll=null;dH.call(this,$(eb))};ci.__typeName='spiff.IScrollTemplate';global.spiff.IScrollTemplate=ci;var cj=function(eb,ec){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;dh.call(this,eb,ec)};cj.__typeName='spiff.IScrollView';global.spiff.IScrollView=cj;var ck=function(){};ck.__typeName='spiff.ISelectable';global.spiff.ISelectable=ck;var cl=function(){};cl.__typeName='spiff.ITabControlTemplate';global.spiff.ITabControlTemplate=cl;var cm=function(){};cm.__typeName='spiff.ITextInputViewTemplate';global.spiff.ITextInputViewTemplate=cm;var cn=function(){};cn.__typeName='spiff.IUberPopupContent';global.spiff.IUberPopupContent=cn;var co=function(){};co.__typeName='spiff.JQueryGestureExtensions';co.fireTableauGesture=function(eb,ec,ed,ee){if(ss.isNullOrUndefined(ed)){var ef=new Object;ef.type='touchend';ef.timeStamp=tab.DateUtil.get_nowAsTime();ef.keyCode=null;ef.ctrlKey=false;ef.altKey=false;ef.metaKey=false;ef.shiftKey=false;ef.charOrCode=null;ef.clientX=0;ef.clientY=0;ef.touches=new Array;ef.targetTouches=new Array;ef.changedTouches=new Array;ef.target=eb;ed=ef}var eg;switch(ec){case'dragMove':case'dragStart':case'dragEnd':{eg='drag';break}case'hover':case'moving':case'mouseleave':{eg='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{eg='pinch';break}default:{eg='discrete';break}}var eh=cS.create(ed,eb,null);bD.$0($(eb),eg).$0(ec,eh,ee||{})};global.spiff.JQueryGestureExtensions=co;var cp=function(eb,ec){this.$b='.label';x.call(this,eb);this.$b=ec};cp.__typeName='spiff.LabelButton';cp.newAnchorButton=function(){return new cp($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')};cp.newAnchorButton$1=function(eb,ec){var ed=new cp($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label');ed.element.attr('href',eb);ed.element.attr('target',ss.coalesce(ec,'_blank').toString());return ed};cp.newNativeButton=function(){return new cp($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')};cp.newMenuButton=function(){return new cp($("<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>"),'.label')};cp.newTextButton=function(eb,ec){var ed=new cp($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(eb)){ed.add_click(eb);ed.disposables.add$1(new tab.CallOnDispose(function(){ed.remove_click(eb)}))}if(ss.isValue(ec)){ed.set_label(ec)}return ed};global.spiff.LabelButton=cp;var cq=function(eb,ec){this.$e='.label';dK.call(this,eb);this.$e=ec};cq.__typeName='spiff.LabelToggleButton';cq.newCheckbox=function(eb,ec){var ed=cq.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",eb,ec);ed.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return ed};cq.newRadioButton=function(eb,ec){var ed=cq.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",eb,ec);ed.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return ed};cq.newNativeCheckbox=function(eb,ec){return cq.$0("<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>",eb,ec)};cq.newNativeRadioButton=function(eb,ec){var ed=cq.$0("<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>",eb,ec);ed.set_preventMouseDeselect(true);return ed};cq.newLabelToggleButton=function(eb,ec){return cq.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",eb,ec)};cq.$0=function(eb,ec,ed){var ee=new cq($(eb),'.label');ee.set_label(ec);ee.set_selected(ed);var ef=ee;var eg=ef.get_inputElement();if(ss.isValue(eg)){eg.click(function(eh){eh.preventDefault()})}return ef};global.spiff.LabelToggleButton=cq;var cr=function(eb){this.$3=null;this.$4=null;React.Component.call(this,eb,null);this.state=this.$0();this.$3={firstTouch:ss.mkdel(this,function(ec){this.handleEnterPress()})};this.$4=ss.coalesce(this.props.textBoxWidth,'auto')};cr.__typeName='spiff.LineEditWithButtonComponent';global.spiff.LineEditWithButtonComponent=cr;var cs=function(eb,ec){var ed=function(ee,ef){React.Component.call(this,ee,ef)};ss.registerGenericClassInstance(ed,cs,[eb,ec],{render:function(){var ee=_.map(this.props.items,ss.mkdel(this,function(ef){var eg=this.getEventHandleSpecForItem(ef);var eh={className:'tabListItem',key:this.getItemKey(ef.data)};if(ss.isNullOrUndefined(eg)){return React.DOM.div(eh,this.buildItem(ef.data))}else{return bs.div(eg,eh,[this.buildItem(ef.data)])}}));return React.DOM.div({className:'tabList'},ee)},getItemKey:null,buildItem:null,getEventHandleSpecForItem:function(ee){return null}},function(){return React.Component},function(){return[]});return ed};cs.__typeName='spiff.ListComponent$2';ss.initGenericClass(cs,a,2);global.spiff.ListComponent$2=cs;var ct=function(eb,ec){this.$1$1=null;this.$1$2=null;this.set_parentListView(eb);this.set_draggableListItemView(ec)};ct.__typeName='spiff.ListItemDragSource';global.spiff.ListItemDragSource=ct;var cu=function(eb){this.$f=null;this.$g=null;dr.call(this);this.set_selectionType(eb)};cu.__typeName='spiff.ListItemGroup';global.spiff.ListItemGroup=cu;var cv=function(eb,ec){this.$g=null;this.$f=null;dK.call(this,cv.$0(eb));tab.Param.verifyValue(ec,'viewModel');tab.Param.verifyValue(ec.get_id(),'viewModel.Id');this.$g=ec;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(ec.get_id());this.set_widgetId(ec.get_id());this.$f=eb};cv.__typeName='spiff.ListItemView';cv.$0=function(eb){var ec=$('<div/>').addClass('tab-list-item');ec.append(eb);return ec};global.spiff.ListItemView=cv;var cw=function(eb,ec,ed,ee,ef){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;w.call(this);this.$2=eb;if(ss.isValue(ec)){this.$0=ec}this.$5=ed;this.$4=ee;this.$3=ef};cw.__typeName='spiff.ListItemViewModel';cw.newListItem=function(eb,ec,ed,ee,ef){tab.Param.verifyString(eb,'id');return new cw(eb,ec,ed,ee,ef)};global.spiff.ListItemViewModel=cw;var cx=function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null};cx.__typeName='spiff.ListItemViewModelCollectionBuilder';global.spiff.ListItemViewModelCollectionBuilder=cx;var cy=function(eb,ec){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(v,[cA]).call(this,eb,new cB);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new f(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=ec;this.$5()};cy.__typeName='spiff.ListView';cy.createListView=function(eb,ec){return new cy(eb,ec)};global.spiff.ListView=cy;var cz=function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};cz.__typeName='spiff.ListViewDragSortFeedback';global.spiff.ListViewDragSortFeedback=cz;var cA=function(eb,ec){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;w.call(this);this.$8={};this.$6=new cu(ec);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(eb)};cA.__typeName='spiff.ListViewModel';global.spiff.ListViewModel=cA;var cB=function(){this.$0=null;dH.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')};cB.__typeName='spiff.ListViewTemplate';global.spiff.ListViewTemplate=cB;var cC=function(eb){this.menuItems=null;this.defaultItem=null;this.menuItems=eb;this.defaultItem=_.find(eb,function(ec){return ec.isDefault})};cC.__typeName='spiff.Menu';global.spiff.Menu=cC;var cD=function(){this.name=null;this.description=null;this.readId=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cD.$0;this.id='menuItem'+cD.$0};cD.__typeName='spiff.MenuItem';cD.newDivider=function(){var eb=new cD;eb.isDivider=true;eb.enabled=false;return eb};cD.newTextInput=function(eb,ec){var ed=new cD;ed.isTextInput=true;if(!ss.staticEquals(eb,null)){ed.data=eb;ed.enabled=true}ed.description=ec;return ed};cD.newActionItem=function(eb,ec,ed,ee){var ef=new cD;ef.name=eb;ef.readId=ee;if(ss.isValue(ec)){ef.data=ec;ef.enabled=ed}return ef};cD.newActionItemWithItemClass=function(eb,ec,ed){var ee=new cD;ee.name=eb;ee.itemClass=ed;if(ss.isValue(ec)){ee.data=ec;ee.enabled=true}return ee};cD.newItemWithIcon=function(eb,ec,ed){var ee=new cD;ee.data=eb;ee.name=ec;ee.iconClass=ed;ee.iconClassTwo=null;ee.enabled=true;return ee};cD.newItemWithIconAndDescription=function(eb,ec,ed,ee){var ef=new cD;ef.data=eb;ef.name=ec;ef.iconClass=ed;ef.enabled=true;ef.description=ee;return ef};cD.newItem=function(eb,ec,ed,ee){var ef=new cD;ef.data=eb;ef.name=ec;if(ss.isValue(ed)){ef.checkState=ed}if(ss.isValue(ee)){ef.subMenu=ee;ef.enabled=ee.menuItems.some(function(eg){return eg.enabled})}else{ef.enabled=true}return ef};global.spiff.MenuItem=cD;var cE=function(){};cE.__typeName='spiff.MenuItemCheckState';global.spiff.MenuItemCheckState=cE;var cF=function(){dH.call(this,$("<div class='tabMenuItemDivider' role='separator' />"))};cF.__typeName='spiff.MenuItemDividerTemplate';global.spiff.MenuItemDividerTemplate=cF;var cG=function(){this.textInput=null;dH.call(this,$("\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')};cG.__typeName='spiff.MenuItemTextInputTemplate';global.spiff.MenuItemTextInputTemplate=cG;var cH=function(){this.content=null;dH.call(this,$("<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"));this.content=this.getElementBySelector('.tabMenuContent')};cH.__typeName='spiff.MenuTemplate';global.spiff.MenuTemplate=cH;var cI=function(eb,ec){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$b={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(t,[cJ]).call(this,eb,ec);this.menuViewModel=eb;this.dom=ec;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$9));this.element.addClass(this.menuViewModel.get_theme().menuClass);this.element.on('blur',ss.mkdel(this,this.onBlur))};cI.__typeName='spiff.MenuView';cI.getMenuItem=function(eb){return eb.data('tabMenuMenuItem')};cI.getMenuItemLevel=function(eb){return ss.coalesce(eb.data('tabMenuMenuItemLevel'),1)};cI.$0=function(eb){eb.stopPropagation()};global.spiff.MenuView=cI;var cJ=function(eb){this.$0=null;this.$2=null;this.$3=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;this.$2$9=false;this.$2$10=null;w.call(this);this.set_shouldAnimateOnClose(eb);this.set_theme(new dW);this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))};cJ.__typeName='spiff.MenuViewModel';cJ.createForMenu=function(eb,ec,ed,ee,ef){var eg=new cJ(ef);eg.set_menu(eb);var eh=eg;if(ss.isValue(ec)){eh.add_menuItemClicked(ec);eh.disposables.add$1(new tab.CallOnDispose(function(){eh.remove_menuItemClicked(ec)}))}eh.set_disposeOnHide(true);eh.set_theme(ed||new dW);if(ss.isValue(ee)){eh.add_hidden(ee);eh.disposables.add$1(new tab.CallOnDispose(function(){eh.remove_hidden(ee)}))}tab.ObjectRegistry.newView(cI).call(null,[eh]);return eh};cJ.handleMenuActionItemClicked=function(eb){if($.isFunction(eb.data)){eb.data()}};global.spiff.MenuViewModel=cJ;var cK=function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'};cK.__typeName='spiff.MenuViewTheme';global.spiff.MenuViewTheme=cK;var cL=function(eb,ec){this.$y=null;this.template=null;be.call(this,eb,ec.domRoot);this.template=ec;this.$w()};cL.__typeName='spiff.ModalDialog';cL.$ctor1=function(eb,ec){this.$y=null;this.template=null;be.call(this,eb,ec);this.template=new dH(ec);this.$w()};global.spiff.ModalDialog=cL;var cM=function(){};cM.__typeName='spiff.MouseCapture';cM.$6=function(){return tab.Logger.lazyGetLogger(cM)};cM.$7=function(){return!tsConfig.is_mobile&&tab.BrowserSupport.get_addEventListener()};cM.$5=function(){return tab.BrowserSupport.get_isIE()&&tabBootstrap.Utility.get_isEmbedded()};cM.setCapture=function(eb,ec,ed){tab.Param.verifyValue(eb,'element');tab.Param.verifyValue(ec,'handler');if(cM.$7()){if(ss.isNullOrUndefined(cM.$8)||ss.isNullOrUndefined(ed)||!ed){cM.releaseCapture();document.addEventListener('mousemove',cM.$2,true);document.addEventListener('mouseup',cM.$4,true);document.addEventListener('mouseout',cM.$3,true);cM.$8=ec}else{}}};cM.releaseCapture=function(){if(cM.$7()){document.removeEventListener('mousemove',cM.$2,true);document.removeEventListener('mouseup',cM.$4,true);document.removeEventListener('mouseout',cM.$3,true)}};cM.$2=function(eb){if(ss.isValue(cM.$8)){cM.$8.handleCapturedMouseMove(eb)}};cM.$4=function(eb){cM.$1(eb)};cM.$3=function(eb){if(cM.$5()&&cM.$0(eb)){cM.$1(eb)}};cM.$1=function(eb){cM.releaseCapture();if(ss.isValue(cM.$8)){cM.$8.handleCapturedMouseComplete(eb);cM.$8=null}};cM.$0=function(eb){var ec=eb.toElement;return ss.isNullOrUndefined(ec)||ec.nodeName==='HTML'};global.spiff.MouseCapture=cM;var cN=function(){};cN.__typeName='spiff.MouseEventUtil';cN.get_clickEvent=function(){return(tab.BrowserSupport.get_isTouch()?'touchstart':'click')};cN.getMouseButtonEnum=function(eb){cN.$0();var ec='none';var ed=eb['which'];if(ss.isValue(ed)){var ee=ed;if(ss.keyExists(cN.$3,ee)){ec=cN.$3[ee]}}else if(ss.isValue(eb['button'])){var ef=eb['button'];if(ss.keyExists(cN.$2,ef)){ec=cN.$2[ef]}}return ec};cN.$0=function(){if(!cN.$1){cN.$2={};cN.$2[1]='left';cN.$2[4]='middle';cN.$2[2]='right';cN.$3={};cN.$3[1]='left';cN.$3[2]='middle';cN.$3[3]='right';cN.$1=true}};global.spiff.MouseEventUtil=cN;var cO=function(eb,ec,ed,ee){cO.$ctor1.call(this,eb,ec,ed,cO.$0,ee)};cO.__typeName='spiff.MoveDragInstance';cO.$ctor1=function(eb,ec,ed,ee,ef){this.$4=null;this.$3=null;this.$2=null;bl.call(this,eb,ef);this.$4=ec;this.$3=ed;this.$2=ee};global.spiff.MoveDragInstance=cO;var cP=function(eb,ec,ed){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=eb;this.$2=ec;this.$1='useScrollSize';this.$0=ed;bk.attachDragSource(this.$3,this)};cP.__typeName='spiff.MoveDragSource';global.spiff.MoveDragSource=cP;var cQ=function(eb){bH.call(this,eb)};cQ.__typeName='spiff.MultiSelectGroupSelection';cQ.buildMultiSelectGroupSelection$1=function(eb){return function(ec,ed){var ee=new cQ(ec.length);var ef=ec.length;for(var eg=0;eg<ef;++eg){if(ed(ec[eg])){ee.get_selectedIndexes()[eg]=true}}ee.validateAllSelectedState();return ee}};cQ.buildMultiSelectGroupSelection=function(eb){return function(ec,ed){var ee=new cQ(ec.length);if(ed){ee.handleTapAll()}return ee}};global.spiff.MultiSelectGroupSelection=cQ;var cR=function(){bd.call(this);this.onFeedbackType=function(){return'dropfeedbackuponentry'};this.onDragOver=function(eb,ec){return ec};this.onAcceptDrop=function(eb){return $.Deferred().resolve(false)};this.onGetDropCursor=function(eb){return X.noOp}};cR.__typeName='spiff.NoopDropTarget';global.spiff.NoopDropTarget=cR;var cS=function(eb,ec,ed){this.originalEvent=null;this.reactEvent=null;this.inputType=0;this.source=0;this.type=null;this.target=null;this.currentTarget=null;this.timeStamp=0;this.keyCode=0;this.ctrlKey=false;this.altKey=false;this.metaKey=false;this.shiftKey=false;this.clientX=0;this.clientY=0;this.pageX=0;this.pageY=0;this.touches=null;this.targetTouches=null;this.changedTouches=null;this.touchesById=null;this.gestureName=null;this.$0=null;this.originalEvent=eb;this.reactEvent=ed;this.type=eb.type;this.timeStamp=eb.timeStamp;this.keyCode=eb['keyCode'];this.ctrlKey=eb.ctrlKey;this.altKey=eb.altKey;this.metaKey=eb.metaKey;this.shiftKey=eb.shiftKey;this.clientX=eb['clientX'];this.clientY=eb['clientY'];if(ss.isValue(eb.touches)){this.touches=eb.touches;this.targetTouches=eb.targetTouches;this.changedTouches=eb.changedTouches;var ee=eb.target;this.target=((ee.nodeType===3)?ee.parentNode:ee);this.currentTarget=ec}else{this.targetTouches=((eb.type==='mouseup')?[]:[eb]);this.touches=this.targetTouches;this.changedTouches=[eb];this.currentTarget=eb.currentTarget;this.target=eb.target}var ef=this.touches.length;this.touchesById=new Array(ef);while(ef>0){ef-=1;var eg=this.touches[ef].identifier||0;this.touchesById[eg]=this.touches[ef]}ef=this.changedTouches.length;while(ef>0){ef-=1;var eh=this.changedTouches[ef].identifier||0;this.touchesById[eh]=this.changedTouches[ef]}};cS.__typeName='spiff.NormalizedEvent';cS.get_allHandledEvents=function(){return Object.keys(h.$3)};cS.create=function(eb,ec,ed){return h.$0(eb,ec,ed)};global.spiff.NormalizedEvent=cS;var cT=function(){};cT.__typeName='spiff.OnBlurBehavior';global.spiff.OnBlurBehavior=cT;var cU=function(){};cU.__typeName='spiff.OrientationHandler';cU.add_orientationChanged=function(eb){cU.$1$1=ss.delegateCombine(cU.$1$1,eb)};cU.remove_orientationChanged=function(eb){cU.$1$1=ss.delegateRemove(cU.$1$1,eb)};cU.get_isLandscape=function(){return cU.$e===90||cU.$e===-90};cU.get_isPortrait=function(){return cU.$e===0||cU.$e===180};cU.get_windowInstHelper=function(){return cU.$k};cU.init=function(){if(!tsConfig.is_mobile_device){cU.$e=0;return}cU.$j=cU.$1();cU.$k=new tab.WindowHelper(cU.$j);cU.$e=cU.$3();cU.$f=cU.$k.get_innerWidth();if(tab.BrowserSupport.get_orientationChange()){$(cU.$j).on('orientationchange'.toString(),cU.$6)}$(cU.$j).on('resize'.toString(),cU.$7);if('addEventListener'in window.self){window.addEventListener('unload',cU.$a,true)}};cU.$a=function(eb){cU.unbindEvents()};cU.unbindEvents=function(){if(ss.isNullOrUndefined(cU.$j)){return}$(cU.$j).off('orientationchange'.toString(),cU.$6);$(cU.$j).off('resize'.toString(),cU.$7)};cU.$1=function(){var eb=tab.WindowHelper.get_windowSelf();if(tabBootstrap.Utility.get_isEmbedded()){try{while(ss.isValue(eb.parent)&&!ss.referenceEquals(eb.parent,eb)){var ec=eb.parent;var ed=new tab.WindowHelper(ec);if(ss.isNullOrUndefined(ed.get_outerWidth())){break}eb=ec}}catch(ee){}}return eb};cU.$6=function(eb){cU.$h=new Date;cU.$5()};cU.$5=function(){var eb=new Date;if(eb-cU.$h>=2500||cU.$g||cU.$9()||cU.$8()){cU.$b();cU.$2()}else{cU.$0();cU.$i=window.setTimeout(cU.$5,75)}};cU.$7=function(eb){if(cU.$g||cU.$9()){cU.$b();cU.$2()}};cU.$2=function(){cU.$0();if(cU.$8()){cU.$e=cU.$3();cU.$g=false;if(ss.isValue(cU.$1$1)){cU.$1$1()}}};cU.$9=function(){var eb=cU.$k.get_innerWidth();if(cU.$f!==eb){return true}return false};cU.$8=function(){var eb=cU.$3();if(cU.$e!==eb){return true}return false};cU.$b=function(){cU.$f=cU.$k.get_innerWidth();cU.$g=true};cU.$3=function(){var eb;if(!tab.BrowserSupport.get_isAndroid()){eb=cU.$4();if(ss.isValue(eb)){return ss.unbox(eb)}}eb=((cU.$k.get_innerWidth()<cU.$k.get_innerHeight())?0:90);return ss.unbox(eb)};cU.$4=function(){try{return cU.$j.orientation}catch(eb){}return null};cU.$0=function(){cU.$i=tab.MiscUtil.clearTimeout(cU.$i)};global.spiff.OrientationHandler=cU;var cV=function(eb,ec){var ed=function(ee){React.Component.call(this,ee)};ss.registerGenericClassInstance(ed,cV,[eb,ec],{render:function(){var ee=_.map(this.props.items,ss.mkdel(this,function(ei,ej){var ek=this.getEventHandleSpecForItem(ei);var el=['tabListItem'];if(ej%2===1){el.push('tabListItemAlternate')}var em={className:el.join(' '),key:this.getUniqueKey(ei.data)};if(ss.isNullOrUndefined(ek)){return React.DOM.div(em,this.buildItem(ei.data))}else{return bs.div(ek,em,[this.buildItem(ei.data)])}}));var ef=new dm;ef.scrollY=true;ef.scrollbars=true;ef.onScrollStop=ss.mkdel(this,this.onScrollStop);ef.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();ef.startingY=this.props.startingY;var eg=ef;var eh=dl.createScroller(eg,ee);return React.DOM.div({className:'tabPagableList'},eh)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(ee){return null},shouldScrollbarAlwaysBeShown:function(){return false}},function(){return React.Component},function(){return[]});return ed};cV.__typeName='spiff.PagableListComponent$2';ss.initGenericClass(cV,a,2);global.spiff.PagableListComponent$2=cV;var cW=function(eb){this.$7=false;this.$9=null;this.$a=null;this.$8=null;this.$6=null;bD.call(this,eb,'pinch',true,2)};cW.__typeName='spiff.Pinch';global.spiff.Pinch=cW;var cX=function(eb){cy.call(this,eb,eb.get_listItemCreator())};cX.__typeName='spiff.PopupListView';global.spiff.PopupListView=cX;var cY=function(eb,ec,ed){this.$b=null;cA.call(this,eb,ed);this.$b=ec};cY.__typeName='spiff.PopupListViewModel';global.spiff.PopupListViewModel=cY;var cZ=function(){};cZ.__typeName='spiff.PureRender';cZ.mixIn=function(eb){var ec=function(ed,ee){return cZ.$0(eb,ed,ee)};eb['shouldComponentUpdate']=ec};cZ.$0=function(eb,ec,ed){var ee=!tab.MiscUtil.shallowEquals(eb.props,ec)||!tab.MiscUtil.shallowEquals(eb.state,ed);if(!ee){}return ee};global.spiff.PureRender=cZ;var da=function(eb){React.Component.call(this,eb)};da.__typeName='spiff.PureRenderComponent';da.$ctor1=function(eb,ec){React.Component.call(this,eb,ec)};global.spiff.PureRenderComponent=da;var db=function(){};db.__typeName='spiff.ReactComponentExtensions';db.generateUniqueKeys=function(eb){return function(ec,ed){var ee={};for(var ef=0;ef<ec.length;++ef){ee[ec[ef].toString()]=0}for(var eg=0;eg<ed.length;++eg){ee[ed[eg]]=1}return _.map(ec,function(eh){var ei=eh.toString();var ej=ee[ei];if(ej===0){ee[ei]=1;return ei}var ek=null;do ek=[ei,'_',++ej].join('');while(ss.isValue(ee[ek]));ee[ei]=ej;ee[ek]=1;return ek})}};global.spiff.ReactComponentExtensions=db;var dc=function(){};dc.__typeName='spiff.ReactElement';dc.div$1=function(eb,ec){return React.DOM.div.apply(null,[{className:eb}].concat(ec))};dc.div=function(eb,ec){var ed=(ss.isValue(eb)?eb.join(' '):null);return React.DOM.div.apply(null,[{className:ed}].concat(ec))};dc.span$1=function(eb,ec){return React.DOM.span.apply(null,[{className:eb}].concat(ec))};dc.span=function(eb,ec){var ed=(ss.isValue(eb)?eb.join(' '):null);return React.DOM.span.apply(null,[{className:ed}].concat(ec))};dc.br=function(eb){return React.DOM.br({className:eb})};global.spiff.ReactElement=dc;var dd=function(eb,ec,ed){var ee=function(ef){this.$5=ss.getDefaultValue(eb);this.$1$1=null;this.$1$2=null;this.set_rootElement($("<div class='tab-ReactView' />"));this.$4(this.get_rootElement().get(0));this.$5=ef;this.$5.add_disposed(ss.mkdel(this,this.$1));this.$5.add_propsUpdated(ss.mkdel(this,this.$0))};ss.registerGenericClassInstance(ee,dd,[eb,ec,ed],{get_viewModel:function(){return this.$5},get_rootElement:function(){return this.$1$1},set_rootElement:function(ef){this.$1$1=ef},$3:function(){return this.$1$2},$4:function(ef){this.$1$2=ef},addToDom:function(ef){ef.append(this.$3());this.$2(this.$5.get_props())},onAddedToDom:function(){},$0:function(){this.$2(this.$5.get_props())},$2:function(ef){ReactDOM.render(React.createElement(ec,ef),this.$3())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$3());this.get_rootElement().remove();this.$5.remove_propsUpdated(ss.mkdel(this,this.$0));this.$5.remove_disposed(ss.mkdel(this,this.$1))},$1:function(ef){this.dispose()},addClass:function(ef){this.get_rootElement().addClass(ef)}},function(){return null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[eb])]});ee.$0="<div class='tab-ReactView' />";tab.ObjectRegistry.registerType(ee,ee).call(null);return ee};dd.__typeName='spiff.ReactHostView$3';ss.initGenericClass(dd,a,3);global.spiff.ReactHostView$3=dd;var de=function(){};de.__typeName='spiff.ReactRefs';de.attachDragSource=function(eb){var ec=null;return function(ed){if(ss.isValue(ed)){ec=ReactDOM.findDOMNode(ed);bk.attachDragSource($(ec),eb())}else{bk.removeDragSource($(ec))}}};de.attachDropTarget=function(eb){var ec=null;return function(ed){if(ss.isValue(ed)){ec=ReactDOM.findDOMNode(ed);bk.attachDropTarget($(ec),eb())}else{bk.detachDropTarget($(ec))}}};global.spiff.ReactRefs=de;var df=function(eb,ec,ed){var ee=function(ef,eg,eh){this.$3$1=null;React.Component.call(this,eg,eh);this.set_widget(ef);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))};ss.registerGenericClassInstance(ee,df,[eb,ec,ed],{get_widget:function(){return this.$3$1},set_widget:function(ef){this.$3$1=ef},render:function(){return React.DOM.div(null,'')},componentDidMount:function(){var ef=$(ReactDOM.findDOMNode(this));this.get_widget().addToDom(ef)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(ef){this.updateWidgetState(ef)},handleWidgetPropertyChanged:null,updateWidgetState:null},function(){return React.Component},function(){return[]});return ee};df.__typeName='spiff.ReactSpiffAdapter$3';ss.initGenericClass(df,a,3);global.spiff.ReactSpiffAdapter$3=df;var dg=function(eb,ec,ed){this.$5='bottomRight';cP.call(this,eb,ec,false);this.$5=ed};dg.__typeName='spiff.ResizeDragSource';global.spiff.ResizeDragSource=dg;var dh=function(eb,ec){ss.makeGenericType(v,[di]).call(this,eb,ec)};dh.__typeName='spiff.ScrollableView';dh.createScrollableView=function(eb){if(eb.get_hasCustomIndicator()){return new Z(eb)}else{return new bc(eb)}};global.spiff.ScrollableView=dh;var di=function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(true)};di.__typeName='spiff.ScrollableViewModel';di.$ctor1=function(eb){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(eb)};global.spiff.ScrollableViewModel=di;var dj=function(eb){var ec=function(ed){this.$0=null;this.$1=0;da.call(this,ed);var ee=new bd;ee.canAccept=function(ef){return ss.isInstanceOfType(ef.get_payload(),eb)};ee.onAcceptDrop=ss.mkdel(this,function(ef){window.clearInterval(this.$1);return $.Deferred().resolve(true)});ee.onDragOver=ss.mkdel(this,function(ef,eg){this.props.scrollCallback();window.clearInterval(this.$1);this.$1=window.setInterval(this.props.scrollCallback,100);return eg});ee.onDragExit=ss.mkdel(this,function(ef){window.clearInterval(this.$1)});this.$0=ee};ss.registerGenericClassInstance(ec,dj,[eb],{render:function(){return React.DOM.div({style:this.props.cssProps,ref:this.props.dropTargetRefConnectorCallback(this.$0)})},componentWillUnmount:function(){window.clearInterval(this.$1)}},function(){return da},function(){return[]});ec.$0=100;return ec};dj.__typeName='spiff.ScrollEdgeAreaComponent$1';ss.initGenericClass(dj,a,1);global.spiff.ScrollEdgeAreaComponent$1=dj;var dk=function(){};dk.__typeName='spiff.ScrollerType';global.spiff.ScrollerType=dk;var dl=function(eb,ec){React.Component.call(this,eb,ec)};dl.__typeName='spiff.ScrollingComponent';dl.$0=function(eb){var ec=eb.forceScrollerType;if(ss.isNullOrUndefined(ec)){ec=0}return ss.unbox(ec)};dl.createScroller=function(eb,ec){var ed=dl.$0(eb);var ee=dl.$1[ed];if(ec.length===1){return React.createElement(ee,eb,ec[0])}return React.createElement(ee,eb,ec)};global.spiff.ScrollingComponent=dl;var dm=function(){this.extraCssClass=null;this.customStyle=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.onScroll=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.onScrollingControlRefUpdated=null};dm.__typeName='spiff.ScrollingProps';global.spiff.ScrollingProps=dm;var dn=function(eb){ss.makeGenericType(y,[Object]).call(this,eb)};dn.__typeName='spiff.SelectableButtonComponent';global.spiff.SelectableButtonComponent=dn;var dp=function(eb){React.Component.call(this,eb);this.state=this.$1(this.props.selection)};dp.__typeName='spiff.SelectableButtonGroupComponent';dp.getDesiredHeight=function(eb){return $('.tab-vScrollable',eb).get(0).scrollHeight};dp.getMinimumWidth=function(eb){return $('.tab-vScrollable',eb).get(0).scrollWidth};global.spiff.SelectableButtonGroupComponent=dp;var dq=function(){this.disabled=false;this.isTabbable=false;this.label=null;this.tooltip=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null;this.testId=null};dq.__typeName='spiff.SelectableButtonGroupItem';global.spiff.SelectableButtonGroupItem=dq;var dr=function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}};dr.__typeName='spiff.SelectableGroup';global.spiff.SelectableGroup=dr;var ds=function(eb,ec,ed){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=eb;this.$2=ec;this.$0=ed};ds.__typeName='spiff.SelectionEventArgs';global.spiff.SelectionEventArgs=ds;var dt=function(){};dt.__typeName='spiff.SelectionMethod';global.spiff.SelectionMethod=dt;var du=function(){this.$0=null;this.$0=dG.createEmpty()};du.__typeName='spiff.SharedWidgetsPointerEventAdapter';global.spiff.SharedWidgetsPointerEventAdapter=du;var dv=function(eb,ec){this.relativeDom=null;this.preferUp=false;this.preferLeft=false;this.expanded=false;this.additionalMenuClass=null;this.cursorPosition=null;this.$1$1=0;this.relativeDom=eb;this.set_minWidth((ec?tab.DoubleUtil.roundToInt(eb.outerWidth()):0))};dv.__typeName='spiff.ShowMenuOptions';global.spiff.ShowMenuOptions=dv;var dw=function(eb){bH.call(this,eb)};dw.__typeName='spiff.SingleSelectGroupSelection';dw.buildSingleSelectGroupSelection$1=function(eb){return function(ec,ed){var ee=new dw(ec.length);var ef=ec.length;if(ef===0){}for(var eg=0;eg<ef;++eg){if(ed(ec[eg])){ee.get_selectedIndexes()[eg]=true}}ee.validateAllSelectedState();return ee}};dw.buildSingleSelectGroupSelection=function(eb){return function(ec,ed){var ee=new dw(ec.length);if(ed){ee.handleTapAll()}return ee}};global.spiff.SingleSelectGroupSelection=dw;var dx=function(eb,ec){this.$0=null;this.$1=null;this.$0=eb;this.$1=ec};dx.__typeName='spiff.SpiffBrowserViewport';dx.getViewport=function(eb){if(!ss.staticEquals(dx.getSpiffBrowserViewportFunc,null)){dx.getSpiffBrowserViewportFunc(eb)}else{eb(new dx(null,null))}};global.spiff.SpiffBrowserViewport=dx;var dy=function(eb,ec){this.$5=null;this.$6=null;React.Component.call(this,eb,ec);this.$5=ss.mkdel(this,function(ed){this.$6=ed})};dy.__typeName='spiff.StatelessDropdownComponent';global.spiff.StatelessDropdownComponent=dy;var dz=function(eb){this.$j=null;this.$i=null;this.$h=false;da.call(this,eb)};dz.__typeName='spiff.StatelessHorizontalSliderComponent';dz.create=function(eb){return React.createElement(dz,eb)};global.spiff.StatelessHorizontalSliderComponent=dz;var dA=function(eb){cp.call(this,dA.$0(eb),'.tab-styled-button-middle');this.set_focusClass('tab-focus');this.set_disabledClass('tab-disabled')};dA.__typeName='spiff.StyledButton';dA.createStyledButton=function(eb,ec,ed,ee){var ef=new dA(ed);ef.set_label(ec);ef.add_click(eb);ef.disposables.add$1(new tab.CallOnDispose(function(){ef.remove_click(eb)}));if(ss.isValue(ee)){ef.tabIndex(ss.unbox(ee))}return ef};dA.$0=function(eb){return $('<span>').addClass('tab-styled-button').addClass(eb).append($('<span>').addClass('tab-styled-button-left')).append($('<span>').addClass('tab-styled-button-middle')).append($('<span>').addClass('tab-styled-button-right'))};global.spiff.StyledButton=dA;var dB=function(eb,ec){ss.makeGenericType(df,[cp,Object,Object]).call(this,dC.createUnificationLabelButton(eb.clickHandler,eb.label,eb.buttonClass,ss.coalesce(eb.buttonStyle,0),eb.tabIndex),eb,ec);this.get_widget().set_disabled(ss.coalesce(eb.disabled,false));this.get_widget().set_hoverTooltipText(eb.tooltipText)};dB.__typeName='spiff.StyledButtonComponent';global.spiff.StyledButtonComponent=dB;var dC=function(){};dC.__typeName='spiff.StyledTextButton';dC.createUnificationLabelButton=function(eb,ec,ed,ee,ef){var eg=dC.$0(eb,ec,ed,1,ef);var eh;switch(ee){case 0:{eh='tabStyledTextButtonFilledGreen';break}case 1:{eh='tabStyledTextButtonFilledRed';break}case 2:{eh='tabStyledTextButtonFilledGrey';break}case 3:{eh='tabStyledTextButtonOutline';break}default:{eh='';break}}eg.addClass(eh);return eg};dC.createUnificationIconTextButton=function(eb,ec,ed){var ee=new cp($("<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"),'.label');if(!ss.staticEquals(eb,null)){ee.onClick(function(ef){eb()})}if(!ss.isNullOrEmptyString(ec)){ee.set_label(ec)}if(!ss.isNullOrEmptyString(ed)){ee.addClass(ed)}return ee};dC.createActionButton=function(eb,ec,ed,ee,ef){var eg=dC.$0(eb,ec,ed,ee,ef);eg.addClass('tabStyledTextButtonAction');return eg};dC.$0=function(eb,ec,ed,ee,ef){var eg=cp.newTextButton(eb,ec);eg.addClass('tabStyledTextButton');switch(ee){case 2:{eg.addClass('tabLargeStyledTextButton');break}case 1:{eg.addClass('tabMediumStyledTextButton');break}}eg.addClass(ed);if(ss.isValue(ef)){eg.tabIndex(ss.unbox(ef))}return eg};global.spiff.StyledTextButton=dC;var dD=function(eb){this.$1=new dr;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;if(ss.isNullOrUndefined(eb)){eb=new n}this.$5=eb};dD.__typeName='spiff.TabControl';global.spiff.TabControl=dD;var dE=function(eb,ec){this.eventConfig=null;this.handler=null;this.$1=new tab.DisposableHolder;this.$2=0;this.$3=0;this.$4=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.eventConfig=ec||{};bu.setHandler(this.eventConfig,'firstTouch',ss.mkdel(this,this.handlePressEvent));bu.setHandler(this.eventConfig,'tap',ss.mkdel(this,this.handleClickEvent));bu.setHandler(this.eventConfig,'rightClick',ss.mkdel(this,this.handleRightClickEvent));this.handler=new dF.$ctor1(eb,this.eventConfig)};dE.__typeName='spiff.TableauClickHandler';dE.target=function(eb){return new dE(eb,null)};dE.targetAndConfig=function(eb,ec){return new dE(eb,ec)};dE.targetAndClick=function(eb,ec){return(new dE(eb,null)).onClick(ec)};dE.targetAndPress=function(eb,ec){return(new dE(eb,null)).onPress(ec)};dE.targetAndRightClick=function(eb,ec){return(new dE(eb,null)).onRightClick(ec)};dE.targetAndDoubleClick=function(eb,ec){return(new dE(eb,null)).onDoubleClick(ec)};global.spiff.TableauClickHandler=dE;var dF=function(){this.config=null;this.$2=null;this.$3=null};dF.__typeName='spiff.TableauEventHandler';dF.$ctor1=function(eb,ec){this.config=null;this.$2=null;this.$3=null;this.config=ec||{};this.config.domElem=eb;this.configureDomElem(eb);this.setupEventRecognizer(this.config);this.$0(eb)};dF.$0=function(eb,ec){return eb[ec]};global.spiff.TableauEventHandler=dF;var dG=function(){this.$2$1=null;dF.call(this);this.set_eventHandlingAttributesForReact(this.$4())};dG.__typeName='spiff.TableauEventHandlerForReact';dG.createEmpty=function(){return new dG};dG.$0=function(eb){if(ss.isNullOrUndefined(dG.$1)){dG.$1={};dG.$1['touchstart']='onTouchStart';dG.$1['touchmove']='onTouchMove';dG.$1['touchend']='onTouchEnd';dG.$1['touchcancel']='onTouchCancel';dG.$1['mousedown']='onMouseDown';dG.$1['mousemove']='onMouseMove';dG.$1['mouseup']='onMouseUp';dG.$1['mouseout']='onMouseOut';dG.$1['scroll']='onScroll';dG.$1['contextmenu']='onContextMenu'}return dG.$1[eb]};global.spiff.TableauEventHandlerForReact=dG;var dH=function(eb){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=eb};dH.__typeName='spiff.Template';dH.fromHtml=function(eb){return new dH($(eb))};global.spiff.Template=dH;var dI=function(eb,ec){da.$ctor1.call(this,eb,ec)};dI.__typeName='spiff.TextDropdownButtonComponent';global.spiff.TextDropdownButtonComponent=dI;var dJ=function(eb,ec,ed,ee,ef){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;dZ.call(this,eb.get_domRootElement());this.$5=eb;this.$6=ec;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',ed);this.$5.get_inputElement().attr('title',ed);if(ss.isValue(ee)){var eg='textinput-'+this.get_instanceId();eb.get_inputElement().attr('id',eg);eb.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",eg,ee)))}if(ef){eb.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(eh){this.$4=true})).on('compositionend',ss.mkdel(this,function(eh){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))};dJ.__typeName='spiff.TextInputView';dJ.newTextInputView=function(eb,ec,ed,ee){var ef=new m;return new dJ(ef,eb,ec,ed,ee)};global.spiff.TextInputView=dJ;var dK=function(eb,ec){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;x.call(this,eb);this.$d=dK.$0();this.$c=ss.coalesce(ec,'selected')};dK.__typeName='spiff.ToggleButton';dK.createButton=function(eb,ec,ed){var ee=new dK(eb,ec);ee.set_selected(ed.get_toggleValue());var ef=function(eg,eh){if(eh.get_propertyName()==='selected'){ed.raiseToggled()}};ee.add_propertyChanged(ef);ee.disposables.add$1(new tab.CallOnDispose(function(){ee.remove_propertyChanged(ef)}));return ee};dK.$0=function(){dK.$1++;return'toggleBtn-'+dK.$1.toString()};global.spiff.ToggleButton=dK;var dL=function(eb,ec){this.$0=false;this.$2$1=null;this.$2$2=null;w.call(this);this.$0=ec;this.set_data({});this.add_toggled(eb);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(eb)})))};dL.__typeName='spiff.ToggleButtonViewModel';global.spiff.ToggleButtonViewModel=dL;var dM=function(){};dM.__typeName='spiff.UberPopupHorizontalAlign';global.spiff.UberPopupHorizontalAlign=dM;var dN=function(){};dN.__typeName='spiff.UberPopupHorizontalAttach';global.spiff.UberPopupHorizontalAttach=dN;var dO=function(){};dO.__typeName='spiff.UberPopupMode';global.spiff.UberPopupMode=dO;var dP=function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dP.startingGlassZIndex;this.useCaret=false};dP.__typeName='spiff.UberPopupShowOptions';dP.$ctor1=function(eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dP.startingGlassZIndex;this.useCaret=false;this.horizontalAlign=eb;this.horizontalAttach=ec;this.theme=ed;this.preferUp=ee;this.coverRelativeElement=ef;this.limitPopupHeight=eg;this.maxPopupHeight=eh;this.additionalClassNames=ei;this.isToolbarFlyout=ej;this.popupMode=ek;this.globalTouchWhitelist=el;this.glassZIndex=em;this.focusOnShown=en};global.spiff.UberPopupShowOptions=dP;var dQ=function(){this.content=null;this.caret=null;this.caretBorder=null;dH.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>"));this.content=this.getElementBySelector('.tabUberPopupContent');this.caret=this.getElementBySelector('.tabUberArrow');this.caretBorder=this.getElementBySelector('.tabUberArrow2');this.caret.hide();this.caretBorder.hide()};dQ.__typeName='spiff.UberPopupTemplate';global.spiff.UberPopupTemplate=dQ;var dR=function(){};dR.__typeName='spiff.UberPopupTheme';global.spiff.UberPopupTheme=dR;var dS=function(eb,ec){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(v,[dT]).call(this,eb,ec);this.popupViewModel=eb;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden));this.$6()};dS.__typeName='spiff.UberPopupView';global.spiff.UberPopupView=dS;var dT=function(eb){this.$0=null;this.$1=null;this.options=new dP;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;w.call(this);this.$1=eb;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))};dT.__typeName='spiff.UberPopupViewModel';dT.$ctor1=function(eb){dT.call(this,function(){return eb})};dT.createForContent=function(eb,ec,ed,ee){var ef=new dT(ec);if(!ss.staticEquals(ed,null)){ef.add_hidden(ed);ef.addDisposables(new tab.CallOnDispose(function(){ef.remove_hidden(ed)}))}ef.set_content(eb);ef.set_disposeOnHide(true);tab.ObjectRegistry.newView(dS).call(null,[ef]);if(ee){ef.disposables.add$1(new tab.CallOnDispose(function(){eb.disposeViewModel()}))}return ef};dT.createForContent$1=function(eb,ec,ed,ee){return dT.createForContent(eb,function(){return ec},ed,ee)};dT.createForContentUsingCaretStyle=function(eb,ec,ed,ee,ef){var eg=dT.createForContent(eb,function(){return ec},ee,ef);eg.set_mode(2);var eh=new dP;eh.popupMode=2;eh.preferUp=true;eh.additionalClassNames=['tabUberCaretStyle',ed];eh.horizontalAttach=0;eh.horizontalAlign=1;eh.useCaret=true;eg.options=eh;return eg};global.spiff.UberPopupViewModel=dT;var dU=function(){};dU.__typeName='spiff.UnificationClassNames';global.spiff.UnificationClassNames=dU;var dV=function(){cK.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};dV.__typeName='spiff.UnificationDarkMenuTheme';global.spiff.UnificationDarkMenuTheme=dV;var dW=function(){cK.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};dW.__typeName='spiff.UnificationLightMenuTheme';global.spiff.UnificationLightMenuTheme=dW;var dX=function(eb,ec){this.$b=null;React.Component.call(this,eb,ec);this.state=dX.$0(this.props.initialValue)};dX.__typeName='spiff.VerticalSpinnerComponent';dX.$0=function(eb){return{value:eb,pendingValue:eb,displayValue:eb.toString()}};global.spiff.VerticalSpinnerComponent=dX;var dY=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.disabledText=null;this.onValueChanged=null;this.actionDelay=0};dY.__typeName='spiff.VerticalSpinnerProps';global.spiff.VerticalSpinnerProps=dY;var dZ=function(eb){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(eb,'element');this.element=eb;eb.addClass('tab-widget');eb.data('widgetInstance',this);dZ.$3++;this.$0=dZ.$3};dZ.__typeName='spiff.Widget';dZ.enableTextSelectionOnElement=function(eb){eb.removeClass('tab-unselectable');eb.addClass(dZ.selectableNodeClass);eb.off('.tab-disableSelection')};dZ.disableTextSelectionOnElement=function(eb){if(tab.BrowserSupport.get_isIE()){return}if(tab.BrowserSupport.get_isMobile()){return}eb.removeClass(dZ.selectableNodeClass);eb.addClass('tab-unselectable');if(tab.BrowserSupport.get_selectStart()){var ec='selectstart'+'.tab-disableSelection';eb.on(ec,function(ed){if(tab.DomUtil.isFocusableTextElement(ed.target)){return}ed.preventDefault()})}};dZ.findWidget=function(eb,ec){tab.Param.verifyValue(eb,'element');var ed=eb;var ee;ec=ec||dZ;do{ee=ed.data('widgetInstance');if(ss.isValue(ee)&&!ss.isAssignableFrom(ec,ss.getInstanceType(ee))){ee=null}ed=ed.parent('.tab-widget')}while(ss.isNullOrUndefined(ee)&&!ed.is('body')&&ed.length>0);return(ss.isNullOrUndefined(ee)?null:ee)};dZ.getWidgets=function(eb,ec){var ed=[];ec=ec||dZ;var ee;eb.each(function(ef,eg){ee=$(eg).data('widgetInstance');if(ss.isValue(ee)&&ss.isAssignableFrom(ec,ss.getInstanceType(ee))){ed.push(ee)}});return ed};global.spiff.Widget=dZ;var ea=function(){};ea.__typeName='spiff.ZoomScaleUtil';ea.$3=function(){var eb=document.documentElement.clientWidth;var ec=window.innerWidth;if(!tsConfig.is_mobile_device){ec-=17}return eb/ec};ea.$2=function(){return ss.isValue(ea.$7)};ea.$0=function(eb,ec){var ed=ec;if(typeof(ed.data)!=='string'){return}var ee=tab.NonApiCommand.parse(ed.data.toString());if(ee.get_name()==='sf'){var ef=ss.getItem(ee.get_parameters(),0);ea.$5=ss.getItem(ee.get_parameters(),1);var eg=ss.getItem(ee.get_parameters(),2);var eh=ss.getItem(ee.get_parameters(),3);var ei=ea.$4[ef];delete ea.$4[ef];ea.$7=ed.source;if(!ss.staticEquals(ei,null)){ei(ea.$5,eg,eh)}}};ea.$1=function(eb){var ec=(++ea.$6).toString();ea.$4[ec]=eb;var ed=new tab.NonApiCommand('sf?',[ec]);ea.$7.postMessage(ed.serialize(),'*')};ea.getScaleAsync=function(eb){if(ea.$2()){ea.$1(eb)}else if(!ss.staticEquals(eb,null)){eb(ea.$3(),0,0)}};ea.getScaleSync=function(){if(ea.$2()){ea.$1(null);return ea.$5}else{return ea.$3()}};global.spiff.ZoomScaleUtil=ea;ss.initClass(dl,a,{get_scrollingControl:null,componentDidMount:null,componentWillUnmount:null,render:null},React.Component);ss.initClass(b,a,{get_scrollingControl:function(){var eb=this.refs['iscroll-component'];if(ss.isValue(eb)&&ss.isValue(eb.iScroll)){return new c(eb.iScroll)}return null},componentDidMount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(this.get_scrollingControl())}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(null)}},render:function(){var eb=b.$0(this.props);return React.createElement(ce,eb,this.props.children)}},dl);ss.initInterface(cg,a,{get_x:null,get_y:null,get_maxScrollX:null,get_maxScrollY:null,get_canScroll:null,scrollBy:null,scrollTo:null,scrollToElement:null,destroy:null,resetPosition:null,refresh:null,handleEvent:null});ss.initClass(c,a,{get_x:function(){return this.$1.x},get_y:function(){return-this.$1.y},get_maxScrollX:function(){return this.$1.maxScrollX},get_maxScrollY:function(){return-this.$1.maxScrollY},get_canScroll:function(){return this.$1.hasHorizontalScroll||this.$1.hasVerticalScroll},scrollBy:function(eb,ec){this.$0(ss.mkdel(this,function(){this.$1.scrollBy(-eb,-ec,0,null)}))},scrollTo:function(eb,ec){this.$0(ss.mkdel(this,function(){this.$1.scrollTo(-eb,-ec,0,null)}))},scrollToElement:function(eb,ec,ed){this.$0(ss.mkdel(this,function(){this.$1.scrollToElement(eb,0,ec,ed)}))},destroy:function(){this.$1.destroy()},resetPosition:function(){this.$1.resetPosition()},refresh:function(){this.$1.refresh()},handleEvent:function(eb){this.$1.handleEvent(eb)},$0:function(eb){window.setTimeout(ss.mkdel(this,function(){this.$1.refresh();eb()}),0)}},null,[cg]);ss.initClass(dH,a,{getElementsBySelector:function(eb){return this.domRoot.find(eb)},getElementBySelector:function(eb){var ec=this.getElementsBySelector(eb);return ec},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(eb){if(ss.isValue(eb)){this.disposables.add$1(eb)}}},null,[ss.IDisposable]);ss.initClass(d,a,{},dH,[ss.IDisposable]);ss.initInterface(bZ,a,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(e,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(eb,ec){var ed=eb.offsetTop;var ee=ed+eb.offsetHeight;var ef=this.$0.get_scrollerY();var eg=ef+tab.DoubleUtil.roundToInt(this.$0.element.height());if(ed<ef){var eh=((ed<=ec)?0:ed);this.$0.scrollTo(this.$0.get_scrollerX(),eh,0,null)}else if(ee>eg){this.$0.scrollTo(this.$0.get_scrollerX(),ef+ee-eg,0,null)}}},null,[bZ]);ss.initClass(f,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(eb,ec){var ed=eb.offsetTop;var ee=ed+eb.offsetHeight;var ef=tab.DoubleUtil.roundToInt(this.$0.scrollTop());var eg=ef+this.$0[0].offsetHeight;if(ed<ef){var eh=((ed<=ec)?0:ed);this.$0.scrollTop(eh)}else if(ee>eg){this.$0.scrollTop(ef+ee-eg)}}},null,[bZ]);ss.initClass(g,a,{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var eb=$(this.$2).find('.iScrollHorizontalScrollbar');eb.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var ec=$(this.$2).find('.iScrollVerticalScrollbar');ec.toggleClass('noScroll',!this.hasVerticalScroll)}}},IScroll);ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}},dH,[ss.IDisposable]);ss.initClass(k,a,{$2:function(eb,ec){switch(eb){case 1:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}case 2:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}default:{if(eb===0&&!ss.isNullOrEmptyString(ec)){this.$6.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'/>",ec));this.$6.domRoot.prepend(this.$6.$4);this.$6.$2=true}break}}return this},$3:function(eb){if(ss.isNullOrEmptyString(eb)){return this}this.$6.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'/>",eb));this.$6.$7().append(this.$6.$5);this.$6.$3=true;return this},$1:function(eb){if(ss.isNullOrEmptyString(eb)){return this}this.$6.$0=$("<div class='tabMenuItemDesc'/>");this.$6.$0.text(eb);this.$6.$7().append(this.$6.$0);this.$6.$1=true;return this},$4:function(eb){if(ss.isNullOrUndefined(eb)){return this}this.$6.$8=$("<div class='tabMenuItemSubMenuIcon'/>");this.$6.domRoot.append(this.$6.$8);return this},$5:function(eb){for(var ec=0;ec<eb.length;ec++){var ed=eb[ec];if(ss.isValue(ed)){this.$6.domRoot.addClass(ed)}}return this},$0:function(){var eb=this.$6;this.$6=null;return eb},dispose:function(){this.$6.dispose()}},null,[ss.IDisposable]);ss.initInterface(cm,a,{get_domRootElement:null,get_inputElement:null});ss.initClass(l,a,{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}},dH,[ss.IDisposable,cm]);ss.initClass(m,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}},dH,[ss.IDisposable,cm]);ss.initInterface(cl,a,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(n,a,{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(eb,ec){return new d}},dH,[ss.IDisposable,cl]);ss.initEnum(o,a,{_blank:'_blank',_self:'_self',_top:'_top'},true);ss.initClass(p,a,{});ss.initClass(q,a,{});ss.initClass(da,a,{render:null,shouldComponentUpdate:function(eb,ec){return cZ.$0(this,eb,ec)}},React.Component);da.$ctor1.prototype=da.prototype;ss.initClass(r,a,{render:function(){return React.DOM.div({className:'tab-ArrowDropdownButton'},React.DOM.div({className:'arrow down'}))}},da);ss.initClass(w,a,{add_disposed:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},remove_disposed:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},add_propertyChanged:function(eb){this.$1$2=ss.delegateCombine(this.$1$2,eb)},remove_propertyChanged:function(eb){this.$1$2=ss.delegateRemove(this.$1$2,eb)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(eb){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new tab.PropertyChangedEventArgs(eb))}},raiseEvent:function(eb,ec){if(ss.isValue(eb)){eb(this,ec||ss.EventArgs.Empty)}},raiseActionEvent$1:function(eb){return function(ec,ed){if(ss.isValue(ec)){ec(ed)}}},raiseActionEvent:function(eb){if(ss.isValue(eb)){eb()}}},null,[ss.IDisposable,tab.IViewModel]);ss.initClass(dZ,a,{add_disposed:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},remove_disposed:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},add_propertyChanged:function(eb){this.$1$2=ss.delegateCombine(this.$1$2,eb)},remove_propertyChanged:function(eb){this.$1$2=ss.delegateRemove(this.$1$2,eb)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(eb){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=eb;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(eb){tab.DomUtil.setNativeTooltip(this.element,eb)},enableTextSelection:function(){dZ.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){dZ.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(eb){if(ss.isValue(this.$1$2)){this.$1$2(this,new tab.PropertyChangedEventArgs(eb))}},createNamespacedEventName:function(eb){return eb+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(eb){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),eb)},onDisposed:function(eb){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(eb){eb.append(this.element);this.onAddedToDom()},prependToDom:function(eb){eb.prepend(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(eb){this.element.addClass(eb)}},null,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(x,a,{add_press:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_press:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_click:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_click:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},add_shiftClick:function(eb){this.$2$3=ss.delegateCombine(this.$2$3,eb)},remove_shiftClick:function(eb){this.$2$3=ss.delegateRemove(this.$2$3,eb)},add_ctrlClick:function(eb){this.$2$4=ss.delegateCombine(this.$2$4,eb)},remove_ctrlClick:function(eb){this.$2$4=ss.delegateRemove(this.$2$4,eb)},add_hover:function(eb){this.$2$5=ss.delegateCombine(this.$2$5,eb)},remove_hover:function(eb){this.$2$5=ss.delegateRemove(this.$2$5,eb)},add_mouseEnter:function(eb){this.$2$6=ss.delegateCombine(this.$2$6,eb)},remove_mouseEnter:function(eb){this.$2$6=ss.delegateRemove(this.$2$6,eb)},add_mouseLeave:function(eb){this.$2$7=ss.delegateCombine(this.$2$7,eb)},remove_mouseLeave:function(eb){this.$2$7=ss.delegateRemove(this.$2$7,eb)},$9:function(eb){this.$2$8=ss.delegateCombine(this.$2$8,eb)},$a:function(eb){this.$2$8=ss.delegateRemove(this.$2$8,eb)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(eb){this.element.prop('disabled',eb);this.element.toggleClass(this.$5,eb);if(eb){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(eb){this.$7=eb},get_focusClass:function(){return this.$6},set_focusClass:function(eb){this.$6=eb},get_disabledClass:function(){return this.$5},set_disabledClass:function(eb){this.$5=eb},get_context:function(){return this.$4},set_context:function(eb){this.$4=eb},get_tableauClickHandler:function(){return this.$8},tabIndex:function(eb){this.element.attr('tabindex',eb.toString());return this},onClick:function(eb){var ec=ss.mkdel(this,function(){eb(this)});this.add_click(ec);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(ec)}))},onDoubleClick:function(eb){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var ec=ss.mkdel(this,function(){eb(this)});this.$9(ec);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(ec)}))},onShiftClick:function(eb){var ec=ss.mkdel(this,function(){eb(this)});this.add_shiftClick(ec);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(ec)}))},onMouseEnter:function(eb){var ec=ss.mkdel(this,function(){eb(this)});this.add_mouseEnter(ec);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(ec)}))},onMouseMove:function(eb){var ec=ss.mkdel(this,function(){eb(this)});this.add_hover(ec);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(ec)}))},onMouseLeave:function(eb){var ec=ss.mkdel(this,function(){eb(this)});this.add_mouseLeave(ec);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(ec)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(by.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var eb={};eb.hoverDelay=0;bu.setHandler(eb,'mouseleave',ss.mkdel(this,this.handleMouseLeave));bu.setHandler(eb,'hover',ss.mkdel(this,this.handleHover));this.$8=dE.targetAndConfig(this.element.get(0),eb).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(eb){if(ss.isValue(eb)){eb()}},$3:function(eb){if(eb.which===13){by.stopEvent(eb);this.handleClick(null)}if(eb.which===32){by.stopEvent(eb);this.handleClick(null)}},handleFocusOut:function(eb){this.element.removeClass(this.$6)},handleFocusIn:function(eb){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(eb){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(eb){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(eb)&&eb.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&by.isCtrlKey(eb)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(eb){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}},dZ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(z,a,{},ss.makeGenericType(y,[Object]));ss.initEnum(A,a,{medium:1,large:2});ss.initClass(B,a,{updateWidgetState:function(eb){this.get_widget().set_label(eb.label);this.get_widget().set_disabled(eb.disabled);this.get_widget().set_selected(eb.isSelected)},handleWidgetPropertyChanged:function(eb,ec){if(ec.get_propertyName()==='selected'){if(!ss.staticEquals(this.props.onSelectedChanged,null)&&this.props.isSelected!==this.get_widget().get_selected()){this.props.onSelectedChanged(this.get_widget().get_selected())}}}},ss.makeGenericType(df,[cq,Object,Object]));ss.initClass(dJ,a,{add_enterKeyPressed:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_enterKeyPressed:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_escapeKeyPressed:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_escapeKeyPressed:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},get_text:function(){return this.$6},set_text:function(eb){if(ss.referenceEquals(this.$6,eb)){return}this.get_inputElement().val(eb).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(eb){var ec=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,ec)){this.$6=ec;this.raisePropertyChanged('text')}},$3:function(eb){if(this.$4){return}switch(eb.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){by.stopEvent(eb);this.$2$1()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2();eb.stopPropagation()}break}}}},dZ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(C,a,{add_clearButtonClicked:function(eb){this.$3$1=ss.delegateCombine(this.$3$1,eb)},remove_clearButtonClicked:function(eb){this.$3$1=ss.delegateRemove(this.$3$1,eb)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(eb,ec){this.$7()},$8:function(eb){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},dJ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(D,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}},dH,[ss.IDisposable,cm]);ss.initClass(E,a,{});ss.initClass(F,a,{$j:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},$k:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},$h:function(eb){this.$1$2=ss.delegateCombine(this.$1$2,eb)},$i:function(eb){this.$1$2=ss.delegateRemove(this.$1$2,eb)},$l:function(eb){this.$1$3=ss.delegateCombine(this.$1$3,eb)},$m:function(eb){this.$1$3=ss.delegateRemove(this.$1$3,eb)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(eb){this.$j(eb);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(eb)})));return this},onClick:function(eb){this.$h(eb);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(eb)})));return this},onRightClick:function(eb){this.$l(eb);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(eb)})));return this},setTarget:function(eb){this.$g=eb;eb.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eb.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!tab.BrowserSupport.get_isTouch()){eb.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eb.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{eb.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eb.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(eb){return eb+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(eb){this.$e=eb.pageX;this.$f=eb.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(eb)}},$1:function(eb){var ec=(ss.isValue(eb)?eb['originalEvent']:null);if(ss.isValue(ec)&&ss.isValue(ec.touches)&&ss.isValue(ec.touches[0])){return ec.touches[0]}return null},$7:function(eb){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eb.target)){eb.preventDefault()}else{return}}var ec=this.$1(eb);var ed=0;var ee=0;if(ss.isValue(ec)){ed=ss.coalesce(ec.pageX,0);ee=ss.coalesce(ec.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(tab.BrowserSupport.get_addEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=ed;this.$f=ee;if(ss.isValue(this.$1$1)){this.$1$1(eb)}},$5:function(eb){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eb.target)){eb.preventDefault()}else{return}}this.$2(eb)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(eb,ec){var ed=ec;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eb)){ec.preventDefault()}else{return}}var ee=ed.touches[0].pageX;var ef=ed.touches[0].pageY;if(Math.abs(ee-this.$e)>10||Math.abs(ef-this.$f)>10){this.$8()}},$4:function(eb){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eb.target)){eb.preventDefault()}else{return}}this.$8()},$2:function(eb){eb.stopPropagation();this.$8();if(eb.type==='contextmenu'){eb.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(eb)}}else{if(ss.isValue(this.$1$2)){this.$1$2(eb)}if(eb.type==='touchend'){E.preventGhostClick(this.$e,this.$f,eb.target)}}}},null,[ss.IDisposable]);ss.initClass(G,a,{render:function(){var eb=$.extend(new Object,this.props);eb.onSelectionChanged=ss.mkdel(this,function(ef){this.onSelect(ef,this.props.onSelectionChanged)});var ec=React.createElement(dp,eb);var ed=new Object;ed.styleClass=this.props.styleClass;ed.isSelecting=this.state.isSelecting;ed.getDesiredHeight=dp.getDesiredHeight;ed.getMinimumWidth=dp.getMinimumWidth;ed.onSelectorToggled=ss.mkdel(this,this.$1);ed.onFocusLost=ss.mkdel(this,this.$0);ed.tabIndex=-1;ed.renderButton=ss.mkdel(this,function(){return React.createElement(dI,{styleClass:this.props.buttonStyleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var ee=React.createElement(dy,ed,ec);return ee},onSelect:function(eb,ec){var ed=new N;ed.isSelecting=false;this.setState(ed);if(!ss.staticEquals(ec,null)){ec(eb)}},$1:function(){if(!this.props.enabled){var eb=new N;eb.isSelecting=false;this.setState(eb)}else{var ec=new N;ec.isSelecting=!this.state.isSelecting;this.setState(ec)}},$0:function(){var eb=new N;eb.isSelecting=false;this.setState(eb)}},React.Component);ss.initClass(cK,a,{});ss.initClass(H,a,{},cK);ss.initClass(I,a,{get_iconClass:function(){return this.$2},get_name:function(){return this.$3},get_data:function(){return this.$0},get_description:function(){return this.$1},asMenuItem:function(){return cD.newItemWithIconAndDescription(this,this.get_name(),this.get_iconClass(),this.get_description())}});ss.initClass(J,a,{},cK);ss.initEnum(K,a,{standard:0,dropdown:1,unification:2});ss.initClass(L,a,{},Object);ss.initEnum(M,a,{standard:0,autoFit:1});ss.initClass(N,a,{});ss.initClass(O,a,{},dH,[ss.IDisposable]);ss.initEnum(P,a,{standard:0,compact:1,unification:2,lineAndArrow:3});ss.initClass(Q,a,{$8:function(){this.$c.icon.removeClass('tabComboBoxNoIconPressed');this.$c.domRoot.removeClass(Q.pressedClass)},$9:function(eb){if(!this.$d.get_enabled()){return}this.$c.domRoot.addClass(Q.pressedClass);if(this.$d.get_showDropdownIcon()){this.$c.icon.addClass('tabComboBoxNoIconPressed')}this.$d.comboClicked(this.$c.domRoot)},$a:function(eb){var ec=0;switch(eb.which){case 40:{ec=1;break}case 38:{ec=-1;break}default:{return}}eb.preventDefault();eb.stopPropagation();var ed=ss.indexOf(this.$d.get_items(),this.$d.get_selectedItem());if(ed<0){return}ed+=ec;if(ed>=0&&ed<this.$d.get_items().length){this.$d.set_selectedItem(this.$d.get_items()[ed])}},$b:function(eb){if(ss.isInstanceOfType(eb,W)){return}this.$c.icon.remove();if(ss.isNullOrUndefined(eb)){var ec=(ss.isValue(this.$d.get_summary())?this.$d.get_summary():'&nbsp;');this.$c.name.html(ec);return}this.$c.icon=$('<span/>').addClass('tabComboBoxIcon').addClass(eb.get_iconClass()).appendTo(this.$c.domRoot);if(!ss.isValue(eb.get_iconClass())){this.$c.domRoot.addClass(Q.noIconClass)}this.$c.name.text(eb.get_name())},$7:function(){this.$b(this.$d.get_selectedItem())},$5:function(){this.$c.domRoot.toggleClass(Q.disabledClass,!this.$d.get_enabled())},$6:function(){this.$c.domRoot.toggleClass('invalid',this.$d.get_isSelectionInvalid())},onAddedToDom:function(){dZ.prototype.onAddedToDom.call(this);if(this.$d.get_sizing()===1){var eb=tab.ObjectRegistry.newView(cI).call(null,[this.$d.get_menu()]);var ec=$('<div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(ec);eb.addToDom(ec);this.$c.domRoot.css({width:eb.element.width()+'px'});eb.dispose();ec.remove()}}},ss.makeGenericType(v,[R]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[R])]);ss.initInterface(bV,a,{add_enabledChanged:null,remove_enabledChanged:null,get_enabled:null,set_enabled:null});ss.initClass(R,a,{add_itemsChanged:function(eb){this.$3$1=ss.delegateCombine(this.$3$1,eb)},remove_itemsChanged:function(eb){this.$3$1=ss.delegateRemove(this.$3$1,eb)},add_selectedItemChanged:function(eb){this.$3$2=ss.delegateCombine(this.$3$2,eb)},remove_selectedItemChanged:function(eb){this.$3$2=ss.delegateRemove(this.$3$2,eb)},add_menuHidden:function(eb){this.$3$3=ss.delegateCombine(this.$3$3,eb)},remove_menuHidden:function(eb){this.$3$3=ss.delegateRemove(this.$3$3,eb)},add_enabledChanged:function(eb){this.$3$4=ss.delegateCombine(this.$3$4,eb)},remove_enabledChanged:function(eb){this.$3$4=ss.delegateRemove(this.$3$4,eb)},add_isSelectionInvalidChanged:function(eb){this.$3$5=ss.delegateCombine(this.$3$5,eb)},remove_isSelectionInvalidChanged:function(eb){this.$3$5=ss.delegateRemove(this.$3$5,eb)},get_hasTooltip:function(){return this.$h},set_hasTooltip:function(eb){this.$h=eb},get_theme:function(){return this.$p},set_theme:function(eb){this.$p=eb},get_menu:function(){if(ss.isNullOrUndefined(this.$f)){this.$5()}return this.$f},get_menuTheme:function(){return this.$l},set_menuTheme:function(eb){this.$l=eb},get_sizing:function(){return this.$o},set_sizing:function(eb){this.$o=eb},get_menuStyleClass:function(){return this.$k},set_menuStyleClass:function(eb){this.$k=eb},get_items:function(){return this.$j},get_selectedItem:function(){return this.$m},set_selectedItem:function(eb){if(ss.referenceEquals(this.$m,eb)&&!this.get_allowSetToSameValue()){return}this.$m=eb;this.$b();this.raiseActionEvent$1(I).call(this,this.$3$2,this.$m)},get_summary:function(){return this.$3$6},set_summary:function(eb){this.$3$6=eb},get_showSelectedItem:function(){return this.$n},set_showSelectedItem:function(eb){this.$n=eb},get_showDropdownIcon:function(){return this.$3$7},set_showDropdownIcon:function(eb){this.$3$7=eb},get_enabled:function(){return this.$g},set_enabled:function(eb){if(this.$g===eb){return}this.$g=eb;this.$b();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$i},set_isSelectionInvalid:function(eb){if(this.$i===eb){return}this.$i=eb;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$e},set_additionalMenuClass:function(eb){this.$e=eb},get_allowSetToSameValue:function(){return this.$3$8},set_allowSetToSameValue:function(eb){this.$3$8=eb},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$c:function(){var eb=this.get_items();for(var ec=0;ec<eb.length;ec++){var ed=eb[ec];if(!tab.MiscUtil.isNullOrEmpty$3(ed.get_iconClass())){return true}}return false},get_dropdownStyleClass:function(){return this.$3$9},set_dropdownStyleClass:function(eb){this.$3$9=eb},$d:function(){var eb='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){eb+=' disabled'}if(this.$c()){eb+=' hasIcons'}return eb},dispose:function(){if(ss.isValue(this.$f)){this.$f.dispose()}w.prototype.dispose.call(this);this.$f=null},setItems:function(eb){ss.clear(this.$j);var ec=ss.getEnumerator(eb);try{while(ec.moveNext()){var ed=ec.current();this.$j.push(ed)}}finally{ec.dispose()}this.$8();this.$b()},setItemsWithInitialSelection:function(eb,ec){ss.clear(this.$j);var ed=ss.getEnumerator(eb);try{while(ed.moveNext()){var ee=ed.current();this.$j.push(ee)}}finally{ed.dispose()}this.$m=ec;this.$8();this.$b()},addItem:function(eb){this.$j.push(eb);this.$8();this.$b()},clearItems:function(){ss.clear(this.$j);this.$8();this.set_selectedItem(null);this.$b()},$a:function(){return this.$j.length>0&&(this.$g||this.get_sizing()===1)},updateCurrentMenu:function(){if(!this.$a()||!ss.isValue(this.$f)){return}this.$2();this.$f.set_menu(new cC(this.menuItems));this.$f.set_selectedItem(this.selectedMenuItem)},$5:function(){if(!this.$a()){return}this.$2();this.$f=cJ.createForMenu(new cC(this.menuItems),ss.mkdel(this,this.$6),this.$3(),null,true);this.$f.set_selectedItem(this.selectedMenuItem);this.$f.set_focusedItem(this.selectedMenuItem);this.$f.add_hidden(ss.mkdel(this,this.$9))},comboClicked:function(eb){if(!this.$a()){return}this.$5();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_hidden(ss.mkdel(this,this.$9))})));var ec=new dv(eb,true);ec.additionalMenuClass='tabComboBoxMenu';var ed=ec;if(ss.isValue(this.$e)){ed.additionalMenuClass+=' '+this.$e}this.$f.show(ed)},$b:function(){if(this.generateProps){this.incrementProps()}},$2:function(){var eb=[];var ec=null;if(ss.isValue(this.$j)){for(var ed=0;ed<this.$j.length;ed++){var ee=this.$j[ed];if(this.$n||!ss.referenceEquals(ee,this.$m)){var ef=ee.asMenuItem();if(ss.referenceEquals(ee,this.$m)){ec=ef}eb.push(ef)}}}this.menuItems=eb;this.selectedMenuItem=ec},$3:function(){switch(this.$l){case 0:{return new J}case 1:{return new H(this.get_menuStyleClass())}case 2:{return new dW}default:{return new J}}},$9:function(){if(ss.isValue(this.$3$3)){this.$3$3()}},$8:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$6:function(eb){var ec=eb.data;this.set_selectedItem(ec)},$7:function(eb){this.set_selectedItem(eb.mapSelected(I).call(eb,ss.mkdel(this,function(ec){return this.get_items()[ec]}))[0])},$4:function(eb){return G.createCustomIconElements(eb.get_iconClass())},createUpdatedProps:function(){if(!this.generateProps){return null}var eb=new L;eb.items=_.map(this.get_items(),ss.mkdel(this,function(ec){var ed=new dq;ed.label=ec.get_name();ed.getCustomContentBefore=ss.mkdel(this,function(){return this.$4(ec)});ed.tooltip=(!this.get_props().hasTooltip?'':null);return ed}));eb.selection=dw.buildSingleSelectGroupSelection$1(I).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(ec){return ss.equals(ec,this.get_selectedItem())}));eb.selectedText=this.get_selectedText();eb.selectedIconClass=this.get_selectedIconClass();eb.onSelectionChanged=ss.mkdel(this,this.$7);eb.hasTooltip=this.get_hasTooltip();eb.hasAnyIcons=this.$c();eb.buttonStyleClass=this.$d();eb.styleClass=this.get_dropdownStyleClass();eb.enabled=this.get_enabled();return eb}},ss.makeGenericType(u,[L]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cc,[L]),bV]);ss.initClass(S,a,{add_inputTextChanged:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_inputTextChanged:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_listItemClicked:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_listItemClicked:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},add_listItemMouseEnter:function(eb){this.$2$3=ss.delegateCombine(this.$2$3,eb)},remove_listItemMouseEnter:function(eb){this.$2$3=ss.delegateRemove(this.$2$3,eb)},add_listItemMouseMove:function(eb){this.$2$4=ss.delegateCombine(this.$2$4,eb)},remove_listItemMouseMove:function(eb){this.$2$4=ss.delegateRemove(this.$2$4,eb)},add_textInputElementClicked:function(eb){this.$2$5=ss.delegateCombine(this.$2$5,eb)},remove_textInputElementClicked:function(eb){this.$2$5=ss.delegateRemove(this.$2$5,eb)},add_textInputClearButtonClicked:function(eb){this.$2$6=ss.delegateCombine(this.$2$6,eb)},remove_textInputClearButtonClicked:function(eb){this.$2$6=ss.delegateRemove(this.$2$6,eb)},add_textInputSearchButtonClicked:function(eb){this.$2$7=ss.delegateCombine(this.$2$7,eb)},remove_textInputSearchButtonClicked:function(eb){this.$2$7=ss.delegateRemove(this.$2$7,eb)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(eb){this.$2$8=eb},setPlaceholderText:function(eb){this.get_textInputView().get_inputElement().attr('placeholder',eb)},showList:function(eb,ec,ed){this.removeList();if(eb.length>0){this.set_listViewModel(new cY(eb,ec,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(ef){this.$2$3(ef)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(ef){this.$2$4(ef)}))}var ee=new cX(this.get_listViewModel());ee.addClass('tabCompositeSearchWidgetList');ee.addToDom(ed||this.get_domRoot())}},showListInsideUberPopup:function(eb,ec,ed,ee,ef){if(eb.length<=0){this.removeList();return}this.set_listViewModel(new cY(eb,ec,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(ej){this.$2$3(ej)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(ej){this.$2$4(ej)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=dT.createForContent$1(this.get_listViewModel(),ed,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var eg=(ss.isValue(ee)?['tabCompositeSearchWidgetList',ee]:['tabCompositeSearchWidgetList']);var eh=this.$8;var ei=new dP;ei.additionalClassNames=eg;ei.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];ei.horizontalAttach=1;ei.limitPopupHeight=true;ei.maxPopupHeight=ef;ei.popupMode=1;ei.theme=1;ei.focusOnShown=false;eh.options=ei;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(eb,ec){var ed=eb.children('.tab-list').eq(0);var ee=ed.prop('scrollHeight');if(ee<1){ec.show();ee=ed.prop('scrollHeight');ec.hide()}var ef=this.$8.get_relativeElement().outerWidth();ed.css('min-width',ef+'px').css('max-width',Math.max(ef,400)+'px');var eg=this.$8.options;if(ss.isValue(eg.maxPopupHeight)&&ee>ss.unbox(eg.maxPopupHeight)){ed.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(eb){this.$7=true;this.get_textInputView().set_text(eb);this.$7=false},$3:function(eb,ec){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(eb){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}},dZ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(T,a,{});ss.initInterface(bM,a,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(U,a,{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}},dH,[ss.IDisposable,bM]);ss.initClass(V,a,{render:function(){var eb='tab-custom-button';var ec={role:'button'};if(!this.props.disabled){ec.onKeyDown=ss.mkdel(this,this.$1);ec.tabIndex=0}else{eb+=' disabled'}ec.className=eb;return bs.div(this.$2,ec,[this.props.buttonContent()])},$1:function(eb){switch(eb.which){case 13:case 32:{this.$0();break}default:{return}}eb.stopPropagation();eb.preventDefault()},$0:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleClick,null)){this.props.handleClick()}}},da);ss.initClass(W,a,{get_domRoot:function(){return this.$4},asMenuItem:function(){return ba.newCustomMenuItem(this.get_domRoot())}},I);ss.initClass(X,a,{setCursor:function(eb){eb.css('cursor',this.$0)}});ss.initClass(ci,a,{},dH,[ss.IDisposable]);ss.initClass(Y,a,{},ci,[ss.IDisposable]);ss.initClass(dh,a,{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},ss.makeGenericType(v,[di]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[di])]);ss.initClass(cj,a,{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(F.targetAndClick(this.get_verticalScrollbar(),function(eb){eb.stopPropagation()}));this.disposables.add$1(F.targetAndClick(this.get_horizontalScrollbar(),function(eb){eb.stopPropagation()}));this.get_dom().domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),function(eb){eb.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){dZ.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(tab.BrowserSupport.get_mouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(tab.BrowserSupport.get_addEventListener()&&!tsConfig.is_mobile){var eb=ss.mkdel(this,function(ed){this.sendEventToScroller(ed)});var ec=ss.mkdel(this,function(ed){var ee=ed.toElement;if(ss.isNullOrUndefined(ee)||ee.nodeName==='HTML'){if('createEvent'in document){var ef=document.createEvent('MouseEvent');ef.initEvent('mouseup',false,false);this.sendEventToScroller(ef)}}});document.addEventListener('mousemove',eb,true);document.addEventListener('mouseup',eb,true);document.addEventListener('mouseout',ec,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',eb,true);document.removeEventListener('mouseup',eb,true);document.removeEventListener('mouseout',ec,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(eb){this.scroller.handleEvent(eb);for(var ec=0;ec<this.scroller.indicators.length;ec++){var ed=this.scroller.indicators[ec];if(!ss.referenceEquals(eb.type,'mousemove'.toString())||ed.moved){ed.handleEvent(eb)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(eb,ec,ed,ee){this.scroller.scrollTo(-eb,-ec,ed,ee)},scrollToElement:function(eb,ec,ed,ee){this.scroller.scrollToElement(eb,ec,ed,ee)}},dh,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[di])]);ss.initClass(Z,a,{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(tab.BrowserSupport.get_addEventListener()){var eb=ss.mkdel(this,function(ec){this.sendEventToScroller(ec)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener(tab.BrowserSupport.get_mouseWheelEvent(),eb,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener(tab.BrowserSupport.get_mouseWheelEvent(),eb,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(Z.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(Z.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},cj,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[di])]);ss.initClass(cD,a,{get_selectable:function(){return this.enabled&&!this.isDivider}});ss.initClass(ba,a,{get_domRoot:function(){return this.$0},set_domRoot:function(eb){this.$0=eb}},cD);ss.initClass(bb,a,{},ci,[ss.IDisposable]);ss.initClass(bc,a,{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 10},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}},cj,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[di])]);ss.initInterface(bU,a,{get_feedbackType:null,dragOver:null,dragExit:null,acceptDrop:null,getDropTarget:null,getDropCursor:null});ss.initClass(bd,a,{get_feedbackType:function(){return(!ss.staticEquals(this.onFeedbackType,null)?this.onFeedbackType():'dropfeedbackuponentry')},dragOver:function(eb){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(eb)){return null}return(!ss.staticEquals(this.onDragOver,null)?this.onDragOver(eb,this):this)},dragExit:function(eb){if(!ss.staticEquals(this.onDragExit,null)){this.onDragExit(eb)}},acceptDrop:function(eb){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(eb)){return $.Deferred().resolve(false)}return(!ss.staticEquals(this.onAcceptDrop,null)?this.onAcceptDrop(eb):$.Deferred().resolve(false))},getDropTarget:function(eb){return(!ss.staticEquals(this.onGetDropTarget,null)?this.onGetDropTarget(eb,this):this)},getDropCursor:function(eb){return(!ss.staticEquals(this.onGetDropCursor,null)?this.onGetDropCursor(eb):X.noOp)}},null,[bU]);ss.initClass(be,a,{add_closing:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_closing:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_closed:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_closed:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},add_resizeMove:function(eb){this.$2$3=ss.delegateCombine(this.$2$3,eb)},remove_resizeMove:function(eb){this.$2$3=ss.delegateRemove(this.$2$3,eb)},add_resizeEnd:function(eb){this.$2$4=ss.delegateCombine(this.$2$4,eb)},remove_resizeEnd:function(eb){this.$2$4=ss.delegateRemove(this.$2$4,eb)},get_body:function(){return this.$e},set_body:function(eb){if(ss.referenceEquals(this.$e,eb)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=eb;this.element.find('.tab-dialogBodyContainer').html('').append(eb);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(eb){if(this.get_maximized()){return}if(ss.isNullOrUndefined(eb)){this.positionInWindow()}else{this.$m=eb.x;this.$n=eb.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(eb){if(eb!==this.$h){this.$h=eb;this.$g.toggleClass('active',eb);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(eb){if(this.get_maximized()){return}if(eb){if(ss.isNullOrUndefined(this.$o)){this.$o=new dg(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(eb){this.element.css('z-index',eb.toString())},get_maximized:function(){return this.$j},set_maximized:function(eb){this.$j=eb;this.$g.toggleClass('maximized',eb)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(eb){this.$2$5=eb},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(eb){this.$2$6=eb},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(eb){this.get_titleElement().text(eb);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(eb){this.$r=eb},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(eb){if(eb){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.get_stayInWindow()},set_stayInWindow:function(eb){if(eb&&!this.$t){this.$2()}else if(!eb){this.$9()}this.$t=eb},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(eb){this.$v=eb},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(eb){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=eb(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(eb){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(eb,null)){eb()}return}var ec=new ss.CancelEventArgs;this.onClosing(ec);if(ec.cancel){return}tab.DomUtil.blur();this.$d=eb;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(eb){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,eb)}},onClosed:function(eb){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,eb)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(eb,ec){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(eb)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],eb.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],eb.target)){this.moveToTop();this.$k=true}},$5:function(eb,ec){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),eb.target)||ss.isNullOrUndefined(eb)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){cU.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){cU.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(be.$9,this)){be.$9=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();dZ.prototype.dispose.call(this);if(ss.referenceEquals(be.$9,this)){be.$9=null}},setInitialFocus:function(){if(this.$i){var eb=this.element.find('.tab-dialogBodyContainer :tabbable');if(eb.length>0){eb.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}dx.getViewport(ss.mkdel(this,function(eb){if(ss.isNullOrUndefined(eb)||ss.isNullOrUndefined(eb.get_dimensions())){return}var ec=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var ed=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(ec>eb.get_dimensions().w){var ee=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(eb.get_dimensions().w-(ec-ee));ec=eb.get_dimensions().w}if(ed>eb.get_dimensions().h){var ef=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(eb.get_dimensions().h-(ed-ef));ed=eb.get_dimensions().h}}var eg=null;if(this.$m+ec>eb.get_dimensions().w){eg=Math.max(0,eb.get_dimensions().w-ec)}var eh=null;if(this.$n+ed>eb.get_dimensions().h){eh=Math.max(0,eb.get_dimensions().h-ed)}if(ss.isValue(eg)||ss.isValue(eh)){var ei=eg;if(ss.isNullOrUndefined(ei)){ei=this.$m}eg=ei;var ej=eh;if(ss.isNullOrUndefined(ej)){ej=this.$n}eh=ej;this.set_position({x:ss.unbox(eg),y:ss.unbox(eh)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(eb,ec){if(this.get_maximized()){return}dx.getViewport(ss.mkdel(this,function(ed){var ee=0;var ef=0;var eg=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+eb;var eh=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+ec;var ei=tab.DoubleUtil.roundToInt($(window).width());var ej=tab.DoubleUtil.roundToInt($(window).height());var ek=0;var el=0;if(ss.isValue(ed.get_dimensions())){ei=ed.get_dimensions().w;ej=ed.get_dimensions().h;var em=new tab.WindowHelper(window.self);ek=ed.get_dimensions().l-em.get_pageXOffset();el=ed.get_dimensions().t-em.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var en=Math.min(ss.unbox(this.get_startingPositionX())+eg,ei);ee=Math.max(0,en-eg)}else{ee=Math.max(0,Math.round((ei-eg)/2)+ek)}if(ss.isValue(this.get_startingPositionY())){var eo=Math.min(ss.unbox(this.get_startingPositionY())+eh,ej);ef=Math.max(0,eo-eh)}else{ef=Math.max(0,Math.round((ej-eh)/2)+el)}this.set_position({x:ee,y:ef})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(be.$9)){be.$9=this}else if(!ss.referenceEquals(be.$9,this)){be.$9.set_isActive(false);be.$9=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(eb){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(eb){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(eb){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(eb){if(eb.which===9){this.$6(eb);return}},$6:function(eb){var ec=this.element.find(':tabbable');var ed=ec.filter(':first');var ee=ec.filter(':last');if(ss.referenceEquals(eb.target,ed[0])&&eb.shiftKey){ee.focusDelayed(1);by.stopEvent(eb)}else if(ss.referenceEquals(eb.target,ee[0])&&!eb.shiftKey){ed.focusDelayed(1);by.stopEvent(eb)}}},dZ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bD,a,{$1:function(){return'tab-'+this.type},get_zoomAdjustedSlop:function(){var eb=ea.getScaleSync();return ss.round(this.$3/eb)},update:function(eb){if(ss.isValue(eb)){$.extend(this.$2,eb);$(this.$2.domElem).data(this.$1(),this)}},start:function(eb){},move:function(eb){},end:function(eb){},cancel:function(){},$0:function(eb,ec,ed){if(bu.isHandling(this.$2,eb)){var ee=ec;$.extend(ee,ed);ee.gestureName=this.type;ee.$0=eb;var ef=dF.$0(this.$2,eb);ef(ee)}},dispose:function(){this.cancel();$(this.$2.domElem).removeData(this.$1())}},null,[ss.IDisposable]);ss.initClass(bf,a,{start:function(eb){var ec=eb.touches[0];if(eb.touches.length!==this.numTouches){this.reset();return}var ed=this.$d(eb);if(!this.$f(bF.fireFirstTouch,eb)){return}this.$0('firstTouch',eb,ed);this.$j=ec.pageX;this.$k=ec.pageY;this.$h=true;this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(!ss.isValue(this.$g)){this.$i=(new Date).getTime();this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){this.$7(eb,ed)}),500);this.pressTimer=window.setTimeout(ss.mkdel(this,function(){this.$8(eb,ed)}),750)}},move:function(eb){if(this.$e(eb)){this.reset()}if(eb.type==='touchmove'){this.$0('touchMove',eb,this.$d(eb))}},end:function(eb){var ec=this.$d(eb);if(this.isActivePress){this.$9(eb,ec)}this.$4();if(this.$h){if(ss.isValue(this.$g)&&ss.unbox(this.$g)){this.$5(eb,ec)}else{this.$b(eb,ec)}}if(eb.type==='contextmenu'){if(!this.$f(bF.fireRightClick,eb)){return}this.$a(eb,ec)}if(eb.touches.length===0){if(!this.$f(bF.fireLastTouch,eb)){return}this.$0('lastTouch',eb,ec)}},cancel:function(){this.reset()},reset:function(){this.$4();this.$h=false;this.$g=null;this.isPotentialPress=false;this.isActivePress=false;this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer)},$6:function(eb,ec,ed,ee){this.$0(eb,ec,ed);if(ss.isValue(ee)&&ee['reset']===true){this.reset()}},$5:function(eb,ec){this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer);this.$6('doubleTap',eb,ec,ss.mkdict(['reset',true]))},$8:function(eb,ec){this.isPotentialPress=false;if(!this.$f(bF.firePress,eb)){return}this.$6('press',eb,ec,ss.mkdict(['reset',true]));this.isActivePress=true},$7:function(eb,ec){this.isPotentialPress=true;this.$6('potentialPress',eb,ec)},$9:function(eb,ec){this.$6('pressEnd',eb,ec);this.isActivePress=false},$4:function(){this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer);this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(this.isPotentialPress){this.$6('cancelPotentialPress',{},null)}},$b:function(eb,ec){this.$g=true;if(!this.$f(bF.fireTap,eb)){return}if(bu.isHandling(this.$2,'doubleTap')){this.doubleTapTimer=window.setTimeout(ss.mkdel(this,function(){this.reset();this.$0('cancelPotentialDoubleTap',eb,ec)}),390-this.$c())}else{this.reset()}this.$0('tap',eb,ec)},$a:function(eb,ec){this.$0('rightClick',eb,ec)},$f:function(eb,ec){var ed=false;var ee=ss.mkdel(this,function(ef){this.reset();if(ef){by.stopEvent(ec)}ed=true});eb(ec,ee);return!ed},$c:function(){var eb=(new Date).getTime()-this.$i;return eb},$e:function(eb){var ec=eb.changedTouches[0];var ed=this.get_zoomAdjustedSlop();return Math.abs(ec.pageX-this.$j)>ed||Math.abs(ec.pageY-this.$k)>ed},$d:function(eb){var ec={};ec.pageX=eb.changedTouches[0].pageX;ec.pageY=eb.changedTouches[0].pageY;ec.clientX=eb.changedTouches[0].clientX;ec.clientY=eb.changedTouches[0].clientY;ec.startX=eb.changedTouches[0].pageX;ec.startY=eb.changedTouches[0].pageY;return ec}},bD,[ss.IDisposable]);ss.initClass(bg,a,{asMenuItem:function(){return cD.newDivider()}},I);ss.initClass(bh,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}if(this.$z){this.$y=new bE;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString())}be.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){be.prototype.bindToEvents.call(this);this.disposables.add$1(by.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(by.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();be.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}be.prototype.dispose.call(this)},$x:function(){if(this.$z&&ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(be.defaultStationaryDialogConfigurer);if(tsConfig.is_mobile){this.set_startingPositionY(100);this.set_startingPositionX(0);this.get_dialogElement().css('height','50%')}else{this.set_startingPositionX(2000);this.set_startingPositionY(this.$A);this.get_dialogElement().css('height','95%')}},onWindowResize:function(eb){this.positionInWindow()},onDocumentKeyDown:function(eb){if(eb.which===27){this.close(null);eb.preventDefault();return}}},be,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initEnum(bi,a,{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);ss.initInterface(ca,a,{handleCapturedMouseMove:null,handleCapturedMouseComplete:null});ss.initClass(bj,a,{start:function(eb){var ec=eb.touches[0];if(ss.isValue(eb.target)&&eb.target.tagName.toUpperCase()==='IMG'&&!tsConfig.is_mobile){eb.preventDefault()}if(eb.touches.length!==this.numTouches){if(this.$a){this.$0('dragEnd',eb,this.$b)}this.$7();this.$9=true;return}if(ss.isValue(this.$c)&&!tab.BrowserSupport.get_isTouch()){this.end(eb)}this.$9=false;this.$c=this.$4(ec);this.$b=this.$c;this.isPotentialPress=false;if(bu.isHandling(this.$2,'potentialPress')){this.$8()}},move:function(eb){if(this.$9){return}if(this.isPotentialPress&&eb.touches.length===this.numTouches){eb.preventDefault()}this.$b=this.$5(eb);if(this.$a){this.$0('dragMove',eb,this.$b)}else if(this.$6(eb)){this.$a=true;this.$0('dragStart',eb,this.$b);this.$0('dragMove',eb,this.$b);if(ss.isValue(this.$2.dragEnd)){cM.setCapture(document.body,this,false)}}},end:function(eb){var ec;if(!this.$a){var ed=eb.touches.length===this.numTouches&&ss.isValue(eb.touches[0].identifier)&&this.$6(eb);if(!ed){this.$7();return}this.$c=this.$4(eb.touches[0]);this.$b=this.$c;ec=this.$5(eb);this.$9=false;this.$a=true;this.$0('dragStart',eb,ec);return}cM.releaseCapture();ec=this.$5(eb);this.$7();if(bu.isHandling(this.$2,'dragEnd')){var ee=cS.create(eb.originalEvent,null,null);$.extend(ee,this.$b);var ef=function(){bk.cancelDrag(null)};bF.fireDragEnd(ee,ef)}this.$0('dragEnd',eb,ec)},cancel:function(){this.$9=true},$4:function(eb){return{pageX:eb.pageX,pageY:eb.pageY}},$5:function(eb){var ec=eb.changedTouches[0];if(ss.isNullOrUndefined(this.$c)){this.$c=this.$4(ec)}if(ss.isNullOrUndefined(this.$b)){this.$b=this.$c}var ed={clientX:ec.clientX,clientY:ec.clientY};ed.pageX=ec.pageX;ed.pageY=ec.pageY;ed.startX=this.$c.pageX;ed.startY=this.$c.pageY;ed.deltaX=ed.pageX-this.$c.pageX;ed.deltaY=ed.pageY-this.$c.pageY;ed.deltaXSinceLast=ed.pageX-this.$b.pageX;ed.deltaYSinceLast=ed.pageY-this.$b.pageY;ed.scale=1;return ed},$6:function(eb){var ec=eb.touches[0];if(ss.isNullOrUndefined(this.$c)){return false}var ed=this.get_zoomAdjustedSlop();return Math.abs(ec.pageX-this.$c.pageX)>ed||Math.abs(ec.pageY-this.$c.pageY)>ed},$7:function(){this.$c=null;this.$a=false;this.isPotentialPress=false;this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer)},$8:function(){this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){if(!this.$a){this.isPotentialPress=true}}),500)},handleCapturedMouseMove:function(eb){var ec=eb['offsetX'];var ed=eb['offsetY'];if(ec<0||ec>document.body.offsetWidth||ed<0||ed>document.body.offsetHeight){var ee=cS.create(eb,this.$2.domElem,null);this.move(ee)}},handleCapturedMouseComplete:function(eb){var ec=document.createEvent('MouseEvents');ec.initMouseEvent('mouseup'.toString(),false,true,window.self,null,this.$b.pageX,this.$b.pageY,this.$b.clientX,this.$b.clientY,eb.ctrlKey,eb.altKey,eb.shiftKey,eb.metaKey,null,null);document.body.dispatchEvent(ec)}},bD,[ss.IDisposable,ca]);ss.initClass(bk,a,{});ss.initClass(bl,a,{add_shiftStateChanged:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},remove_shiftStateChanged:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},get_payload:function(){return this.draggedObject},get_hasPayload:function(){return ss.isValue(this.draggedObject)},get_isShiftDrag:function(){return this.$1},set_isShiftDrag:function(eb){if(this.$1!==eb){this.$1=eb;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_dragAvatar:function(){return this.$0},get_dragType:function(){return'dragdrop'},get_readyToDrop:function(){return true},get_defaultDropCursor:function(){return X.noOp},moveTo:function(eb){},endDragAt:function(eb){},cancelDrag:function(){},payloadEquals:function(eb){if(ss.referenceEquals(this.draggedObject,eb)){return true}if($.isArray(this.draggedObject)){var ec=this.draggedObject;if(ec.length===1&&ss.referenceEquals(ec[0],eb)){return true}}return false},dropToNowhereAction:function(){}});ss.initClass(bE,a,{add_click:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_click:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(eb){this.element.css('z-index',eb.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(eb){this.element.toggleClass('clear-glass',!eb);this.element.toggleClass('opaque-glass',eb)},set_preventWebPageScroll:function(eb){if(eb){this.element.on(tab.BrowserSupport.get_mouseWheelEvent(),function(ec){ec.preventDefault()})}else{this.element.off(tab.BrowserSupport.get_mouseWheelEvent(),function(ec){ec.preventDefault()})}},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$3)){this.element.appendTo(this.$3)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(eb){this.element.css('background-color',eb)},dispose:function(){this.set_preventWebPageScroll(false);if(ss.isValue(this.$2)){this.$2.dispose();this.$2=null}dZ.prototype.dispose.call(this)},handleClick:function(eb){if(ss.isValue(this.$2$1)){this.$2$1()}}},dZ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bm,a,{dispose:function(){bk.unregisterDragGlass(this);bE.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}},bE,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bn,a,{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(eb){eb.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}},null,[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[tab.IViewModel])]);ss.initClass(bo,a,{componentWillReceiveProps:function(eb){if(eb.resetSelector){this.setState({isSelecting:false})}},render:function(){var eb=new Object;eb.styleClass=this.props.styleClass;eb.isSelecting=this.state.isSelecting;eb.getDesiredHeight=this.props.getDesiredHeight;eb.getMinimumWidth=this.props.getMinimumWidth;eb.children=this.props.children;eb.renderButton=this.props.renderButton;eb.tabIndex=this.props.tabIndex;eb.onSelectorToggled=ss.mkdel(this,this.$1);eb.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(dy,eb)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}},React.Component);ss.initClass(bp,a,{handleWidgetPropertyChanged:function(eb,ec){},updateWidgetState:function(eb){if(!this.get_widget().get_isEditing()){this.get_widget().set_text(eb.initialContent);this.get_widget().updateTextElement(eb.initialContent);this.get_widget().get_inputElement().val(eb.initialContent);if(!tab.MiscUtil.isNullOrEmpty$3(eb.tooltip)){this.get_widget().get_textElement().find('.text-span').get(0).title=eb.tooltip;this.get_widget().get_inputElement().attr('title',eb.tooltip)}}}},ss.makeGenericType(df,[bq,Object,Object]));ss.initClass(bq,a,{add_hoverStateChanged:function(eb){this.$3$1=ss.delegateCombine(this.$3$1,eb)},remove_hoverStateChanged:function(eb){this.$3$1=ss.delegateRemove(this.$3$1,eb)},add_editing:function(eb){this.$3$2=ss.delegateCombine(this.$3$2,eb)},remove_editing:function(eb){this.$3$2=ss.delegateRemove(this.$3$2,eb)},add_committed:function(eb){this.$3$3=ss.delegateCombine(this.$3$3,eb)},remove_committed:function(eb){this.$3$3=ss.delegateRemove(this.$3$3,eb)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(eb){this.$3$4=eb},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(eb){if(ss.isValue(this.$3$1)){this.$3$1(eb)}},updateTextElement:function(eb){this.$9.$1().text(eb);var ec=this.$9.$1().get(0);ec.title=(this.showTooltip?eb:'')},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){if(this.get_isEditing()){this.set_isEditing(false);this.get_inputElement().hide();this.get_textElement().show();this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}}},$7:function(){var eb=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(eb);var ec=this.element.children('div');var ed=tab.DoubleUtil.roundToInt(ec.height());this.get_textElement().css('height',ed+'px');this.get_textElement().css('line-height',ed+'px');this.get_inputElement().css('height',ed+'px');this.get_inputElement().css('line-height',ed+'px')},onAddedToDom:function(){this.$7();dZ.prototype.onAddedToDom.call(this)}},dJ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(br,a,{get_scrollingComponentRef:function(){return this.$0},ensureVisible:function(eb){window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1)){var ec=$(ReactDOM.findDOMNode(this.$1));var ed=$(eb);var ee=ed;var ef=0;var eg=0;while(ec.find(ee[0]).length>0){var eh=ee.position();ef+=eh.top;eg+=eh.left;ee=ee.offsetParent()}var ei=ef<0||eg<0||ef+ed.height()>ec.height()||eg+ed.width()>ec.width();if(ei){this.$1.get_scrollingControl().scrollToElement(eb)}}}),0)}});ss.initClass(bs,a,{render:function(){return React.createElement(this.props.tagName,$.extend({},this.$2.get_eventHandlingAttributesForReact(),this.props.htmlAttributes),this.props.children)},componentDidMount:function(){this.$0()},componentDidUpdate:function(){this.$0()},componentWillUnmount:function(){if(ss.isValue(this.$2)){this.$2.dispose()}},$0:function(){if(ss.isValue(this.props.spec)){var eb=ReactDOM.findDOMNode(this);if(!ss.referenceEquals(this.$1,eb)||bs.$1(this.$3,this.props.spec)){this.$2.updateEventHandleSpec(eb,this.props.spec);this.$1=eb;this.$3=this.props.spec}}}},React.Component);ss.initClass(bt,a,{});ss.initClass(bu,a,{});ss.initEnum(bv,a,{start:0,move:1,end:2,out:3,scroll:4,cancel:5,unSupported:6});ss.initClass(bw,a,{suppressHover:function(){this.$3.suppressHover()},unsuppressHover:function(){this.$3.unsuppressHover()},cancelHover:function(){this.$3.cancel()},handleEvent:function(eb,ec){if(this.$5&&bw.$0()!=='left'){this.$5=false}if(eb.get_isScrollEvent()){this.$5=false}else if(eb.get_isOutEvent()){if(bu.isUsingHover(ec)){this.$3.out(eb)}}else if(eb.get_isStartEvent()){this.handleStartEvent(eb,ec)}else if(eb.get_isMoveEvent()){this.handleMoveEvent(eb,ec)}else{this.handleEndCancelEvent(eb,ec)}},handleStartEvent:function(eb,ec){this.$2=false;this.$4=cN.getMouseButtonEnum(eb.originalEvent);if(eb.get_isMouseEvent()){if(!eb.get_isLeftMouseEvent()){return}this.$5=true;bw.$1(this.$4)}this.handleStart(eb,bu.isUsingHover(ec))},handleMoveEvent:function(eb,ec){if(bu.isUsingHover(ec)){this.$3.move(eb)}if(eb.get_isMouseEvent()){if(this.$4!=='left'||!this.$5){return}}this.$0.move(eb);this.$1.move(eb);if(ss.isValue(this.$6)){this.$6.move(eb)}},handleEndCancelEvent:function(eb,ec){bw.$1('none');if(bu.isUsingHover(ec)){this.$3.end(eb)}if(ss.isValue(this.$6)){this.$6.end(eb)}this.$1.end(eb);if(eb.get_isMouseEvent()){this.$5=false;if(eb.get_isRightClickEvent()||this.$4==='right'){this.$2=true}if(tab.BrowserSupport.get_isMac()&&this.$2&&eb.type==='mouseup'||this.$2&&!eb.get_isRightClickEvent()){return}}this.$0.end(eb)},cancelAllGestures:function(){if(ss.isValue(this.$1)){this.$1.cancel()}if(ss.isValue(this.$0)){this.$0.cancel()}if(ss.isValue(this.$6)){this.$6.cancel()}if(ss.isValue(this.$3)){this.$3.cancel()}},updateAllGestures:function(eb){if(ss.isValue(this.$1)){this.$1.update(eb)}if(ss.isValue(this.$0)){this.$0.update(eb)}if(ss.isValue(this.$6)){this.$6.update(eb)}if(ss.isValue(this.$3)){this.$3.update(eb)}},setupPressDrag:function(eb){var ec=bu.usingPressDrag(eb);if(!ec){return}var ed=ss.mkdel(this,function(eg){if(bu.isHandling(eb,'press')){var eh=dF.$0(eb,'press');eh(eg)}var ei={};bu.setHandler(ei,'dragStart',dF.$0(eb,'pressDragStart'));bu.setHandler(ei,'dragMove',dF.$0(eb,'pressDragMove'));bu.setHandler(ei,'dragEnd',dF.$0(eb,'pressDragEnd'));bu.setHandler(ei,'pinchStart',dF.$0(eb,'doublePressDragStart'));bu.setHandler(ei,'pinchMove',dF.$0(eb,'doublePressDragMove'));bu.setHandler(ei,'pinchEnd',dF.$0(eb,'doublePressDragEnd'));this.$1.update(ei);if(ss.isValue(this.$6)){this.$6.update(ei)}});var ee=ss.mkdel(this,function(eg){if(bu.isHandling(eb,'lastTouch')){var eh=dF.$0(eb,'lastTouch');eh(eg)}this.$1.update(eb);if(ss.isValue(this.$6)){this.$6.update(eb)}});var ef={};bu.setHandler(ef,'press',ed);bu.setHandler(ef,'lastTouch',ee);this.$0.update(ef)},handleStart:function(eb,ec){if(ec){this.$3.start(eb)}this.$0.start(eb);this.$1.start(eb);if(ss.isValue(this.$6)){this.$6.start(eb)}},dispose:function(){if(ss.isValue(this.$0)){this.$0.dispose()}if(ss.isValue(this.$1)){this.$1.dispose()}if(ss.isValue(this.$3)){this.$3.dispose()}if(ss.isValue(this.$6)){this.$6.dispose()}}},null,[ss.IDisposable]);ss.initEnum(bx,a,{mouse:1,touch:2});ss.initClass(by,a,{});ss.initClass(bH,a,{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(eb){if(this.groupSize>0){this.allSelected=eb;if(eb===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(eb){this.$1$1=eb},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(eb){return function(ec){return this.mapSelected$1(eb).call(this,ec,true)}},mapSelected$1:function(eb){return function(ec,ed){var ee;if(this.get_theAllItemIsSelected()&&ed){ee=[];var ef=this.groupSize;for(var eg=0;eg<ef;++eg){ee.push(eg)}}else{ee=_.map(this.get_selectedIndexes(),function(eh,ei){return ei}).sort()}return _.map(ee,function(eh){return ec(eh)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});ss.initClass(cQ,a,{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(eb){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var ec=0;ec<this.groupSize;++ec){if(ec!==eb){this.get_selectedIndexes()[ec]=true}}}else if(this.get_selectedIndexes()[eb]){delete this.get_selectedIndexes()[eb]}else{this.get_selectedIndexes()[eb]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var eb=new cQ(this.groupSize);eb.allSelected=this.allSelected;eb.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eb},isSelected:function(eb){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),eb)}},bH);ss.initClass(bz,a,{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(eb){return function(ec){return this.mapSelected$1(eb).call(this,ec,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(eb){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[eb]=true}else if(this.get_selectedIndexes()[eb]){delete this.get_selectedIndexes()[eb];this.validateAllSelectedState()}else{this.get_selectedIndexes()[eb]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var eb=0;eb<this.groupSize;++eb){this.get_selectedIndexes()[eb]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var eb=new bz(this.groupSize);eb.allSelected=this.allSelected;eb.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eb},isSelected:function(eb){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),eb)}},cQ);ss.initClass(dw,a,{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(eb){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[eb]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[eb]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var eb=new dw(this.groupSize);eb.allSelected=this.allSelected;eb.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eb},isSelected:function(eb){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),eb)},selectNext:function(eb){var ec=0;var ed=ec;if(this.get_selectedCount()===1){ec=this.mapSelected(ss.Int32).call(this,function(ee){return ee-0})[0];ed=ec+eb}if(ed>=this.groupSize){if(ec===this.groupSize-1){ed=0}else{ed=this.groupSize-1}}this.$0(ed)},selectPrevious:function(eb){var ec=this.groupSize-1;var ed=ec;if(this.get_selectedCount()===1){ec=this.mapSelected(ss.Int32).call(this,function(ee){return ee-0})[0];ed=ec-eb}if(ed<0){if(ec===0){ed=this.groupSize-1}else{ed=0}}this.$0(ed)},selectFirst:function(){this.$0(0)},selectLast:function(){this.$0(this.groupSize-1)},$0:function(eb){eb=Math.max(0,eb);eb=Math.min(this.groupSize-1,eb);if(this.groupSize>0){this.allSelected=false;this.set_selectedIndexes({});this.get_selectedIndexes()[eb]=true}}},bH);ss.initClass(bA,a,{mapSelected:function(eb){return function(ec){return this.mapSelected$1(eb).call(this,ec,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var eb=new bA(this.groupSize);eb.allSelected=this.allSelected;eb.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eb}},dw);ss.initClass(bB,a,{});ss.initClass(bC,a,{render:function(){var eb=ss.coalesce(this.props.styleClass,'tab-unification-line-arrow-dropdown');var ec=null;if(this.props.isDisabled){eb=eb+' disabled'}if(this.props.disableArrowDown){ec={display:'none'}}return React.DOM.div({className:'tab-GenericDropdownButton '+eb},React.DOM.div({className:'tab-SelectionDisplay'},this.props.selectionDisplay()),React.DOM.div({className:'tab-DownArrowButton',style:ec},React.DOM.div({className:'arrow down'})))}},da);ss.initClass(bF,a,{});ss.initClass(bG,a,{render:function(){var eb=new dm;eb.customStyle={top:this.props.marginTop};eb.extraCssClass=this.props.rootCssClass;eb.scrollX=true;eb.scrollY=true;eb.onScroll=ss.mkdel(this,function(ec){this.props.onScroll(-ec.x,-ec.y)});eb.onScrollStop=ss.mkdel(this,function(ec,ed){this.props.onScroll(-ec.x,-ec.y);if(ec.y===ed.y&&!ss.staticEquals(this.$1,null)){this.$1()}});eb.startingY=this.state.writeOnlyScrollTop;eb.onScrollingControlRefUpdated=this.$0;return dl.createScroller(eb,[this.props.children])},componentDidMount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(this)}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(null)}},callOnScrollToEnd:function(eb){this.$1=eb},setScrollPosition$1:function(eb,ec){this.setState({writeOnlyScrollTop:ec})},scrollBy$1:function(eb,ec){var ed=this.$2;this.scrollBy$2(eb,ec,ed.get_x(),ed.get_y(),ed.get_maxScrollX(),ed.get_maxScrollY())},scrollBy$2:function(eb,ec,ed,ee,ef,eg){var eh=ed+eb;var ei=Math.min(Math.max(eh,0),ef);var ej=ee+ec;var ek=Math.min(Math.max(ej,0),eg);this.setScrollPosition$1(ei,ek)},setScrollPosition:function(eb,ec){this.$2.scrollTo(eb,ec)},scrollBy:function(eb,ec){var ed=this.$2;this.scrollBy$2(eb,ec,ed.get_x(),ed.get_y(),ed.get_maxScrollX(),ed.get_maxScrollY())},getScrollbarWidth:function(){return 9},canScroll:function(){return this.$2.get_canScroll()},dispose:function(){this.$2.destroy()},resetPosition:function(){this.$2.resetPosition()},refresh:function(){this.$2.refresh()},handleEvent:function(eb){this.$2.handleEvent(eb)},getScrollContainer:function(){return ReactDOM.findDOMNode(this)}},React.Component,[Object]);ss.initClass(bI,a,{render:function(){return dz.create({commitValue:ss.mkdel(this,this.$0),disabled:this.props.disabled,emptyTextBox:this.state.emptyTextBox,extraCssClass:this.props.extraCssClass,maxValue:this.props.maxValue,minValue:this.props.minValue,showPercentageSign:this.props.showPercentageSign,styleClass:this.props.styleClass,tabIndex:this.props.tabIndex,value:this.state.value,displayValueChanged:ss.mkdel(this,this.$1),width:this.props.width})},$1:function(eb){if(this.props.disabled){return}if(ss.isNullOrUndefined(eb)){this.setState({value:0,emptyTextBox:true})}else{this.setState({value:ss.unbox(eb),emptyTextBox:false})}this.$2=true},$0:function(eb,ec){if(this.props.disabled){return}var ed=this.$2||eb!==this.state.value||ec;if(!ss.staticEquals(this.props.onValueChanged,null)&&ed){this.props.onValueChanged(eb);this.$2=false}}},da);ss.initClass(bJ,a,{start:function(eb){this.cancel();this.$a=false},move:function(eb){var ec=eb.touches[0];if(!this.$a){return}if(!this.$6(eb)){return}var ed=this.$5(eb);if(ss.isValue(this.$8)){this.cancel()}this.$0('moving',eb,ed);this.$b=ec.pageX;this.$c=ec.pageY;this.$8=window.setTimeout(ss.mkdel(this,function(){if(!this.$9){this.$0('hover',eb,ed)}this.$4()}),this.$7)},end:function(eb){if(eb.touches.length===0){this.$a=true}},out:function(eb){var ec=eb.originalEvent['relatedTarget'];if(!ss.referenceEquals(this.$2.domElem,ec)&&!tab.DomUtil.isAncestorOf(this.$2.domElem,ec)){this.cancel();this.$0('mouseleave',eb,this.$5(eb))}},suppressHover:function(){if(!this.$9){}this.$9=true},unsuppressHover:function(){if(this.$9){}this.$9=false;this.$a=true},cancel:function(){this.$4();this.$b=0;this.$c=0;this.$a=true},$4:function(){this.$8=tab.MiscUtil.clearTimeout(this.$8)},$6:function(eb){var ec=eb.touches[0];var ed=Math.abs(ec.pageX-this.$b);var ee=Math.abs(ec.pageY-this.$c);return ed+ee>this.get_zoomAdjustedSlop()},$5:function(eb){var ec={};ec.pageX=eb.changedTouches[0].pageX;ec.pageY=eb.changedTouches[0].pageY;ec.clientX=eb.changedTouches[0].clientX;ec.clientY=eb.changedTouches[0].clientY;return ec}},bD,[ss.IDisposable]);ss.initClass(bK,a,{});ss.initClass(bL,a,{$3:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$7)){return}this.$7.remove_disposed(ss.mkdel(this,this.$2));if(ss.isValue(this.$4)){var eb=this.$7.element;var ec=this.$4;eb.off(this.$3(),ec)}else{this.$7.element.off(this.$3())}this.$7=null},$0:function(eb){if(ss.isValue(this.$5)){this.$5(eb)}},$1:function(eb){if(ss.isValue(this.$6)){this.$6(eb)}},$2:function(eb,ec){this.dispose()}},null,[ss.IDisposable]);ss.initClass(bN,a,{get_buttonElement:function(){return this.element},setEnabled:function(eb){if(eb){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(eb){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(eb);return this}},x,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bO,a,{get_className:function(){var eb=['tab-IconBtn'];eb.push(this.props.customClassName);if(this.props.disabled){eb.push('disabled')}return eb.join(' ')},$0:function(){var eb=new bP;eb.isActive=(ss.isValue(this.state)?this.state.isActive:false);return eb},render:function(){return bs.div({tap:ss.mkdel(this,this.$1),firstTouch:ss.mkdel(this,function(eb){if(tsConfig.is_mobile){var ec=new bP;ec.isActive=true;this.setState(ec)}}),lastTouch:ss.mkdel(this,function(eb){if(tsConfig.is_mobile){var ec=new bP;ec.isActive=false;this.setState(ec)}})},{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(eb){if(!tsConfig.is_mobile){var ec=new bP;ec.isActive=true;this.setState(ec)}}),onMouseLeave:ss.mkdel(this,function(eb){if(!tsConfig.is_mobile){var ec=new bP;ec.isActive=false;this.setState(ec)}})},[React.DOM.div({className:'tab-Icon '+this.props.iconClassName+(this.state.isActive?' active':'')})])},$1:function(eb){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(eb)}}},React.Component);ss.initClass(bP,a,{});ss.initInterface(bQ,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initInterface(bR,a,{add_hideDialogRequested:null,remove_hideDialogRequested:null,onDialogHidden:null},[ss.makeGenericType(cc,[Object])]);ss.initInterface(bS,a,{dragStarted:null,dragEnded:null});ss.initInterface(bT,a,{startDrag:null});ss.initInterface(bW,a,{createListItemContent:null});ss.initInterface(bX,a,{createListItemDragAvatar:null});ss.initInterface(bY,a,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initEnum(cb,a,{integer:0,string:1});ss.initInterface(cd,a,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(ce,a,{render:function(){var eb=['tab-iscroll-component'];if(this.state.hovered){eb.push('hover')}if(this.state.scrolling){eb.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){eb.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){eb.push('showIfScrollable')}var ec=ss.arrayFromEnumerable(eb).join(' ');return React.DOM.div({ref:'iscroll-wrapper',className:ec,style:this.props.customStyle,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},React.DOM.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){this.$5=by.bindWithDispose($(window),'resize',ss.mkdel(this,this.$1));var eb=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.iScroll=new g(eb,this.props);this.iScroll.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.iScroll.on('scroll',ss.mkdel(this,this.$2));this.iScroll.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$3()},componentWillUnmount:function(){this.$5=tab.MiscUtil.dispose$1(this.$5);this.iScroll.destroy();this.iScroll=null;this.$4=tab.MiscUtil.clearTimeout(this.$4)},componentDidUpdate:function(eb){if(!ss.referenceEquals(this.props.startingY,eb.startingY)&&ss.isValue(this.props.startingY)){this.iScroll.scrollTo(this.iScroll.x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$3()},handleOnMouseOver:function(eb){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(eb){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},$2:function(){if(!ss.staticEquals(this.props.scrollCallback,null)){this.props.scrollCallback(this.iScroll.getComputedPosition())}},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(eb){this.$3()},$3:function(){this.$4=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.iScroll)){this.iScroll.refresh()}}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var eb=new Object;eb.x=this.iScroll.maxScrollX;eb.y=this.iScroll.maxScrollY;var ec=eb;this.props.scrollStopCallback(this.iScroll.getComputedPosition(),ec)}}},React.Component);ss.initInterface(cf,a,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(ch,a,{});ss.initInterface(ck,a,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(cn,a,{updateUberPopupViewModel:null},[bQ]);ss.initClass(co,a,{});ss.initClass(cp,a,{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(eb){this.get_labelElement().text(eb);if(ss.isNullOrEmptyString(eb)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(eb){if(ss.isValue(eb)){this.get_labelElement().html(eb);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},x,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dK,a,{add_selectableDisposed:function(eb){this.$3$1=ss.delegateCombine(this.$3$1,eb)},remove_selectableDisposed:function(eb){this.$3$1=ss.delegateRemove(this.$3$1,eb)},add_selectedChanging:function(eb){this.$3$2=ss.delegateCombine(this.$3$2,eb)},remove_selectedChanging:function(eb){this.$3$2=ss.delegateRemove(this.$3$2,eb)},add_selectedChanged:function(eb){this.$3$3=ss.delegateCombine(this.$3$3,eb)},remove_selectedChanged:function(eb){this.$3$3=ss.delegateRemove(this.$3$3,eb)},get_selectedClass:function(){return this.$c},set_selectedClass:function(eb){if(ss.referenceEquals(this.$c,eb)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(eb,true)}this.$c=eb},get_selectionId:function(){return this.$d},set_selectionId:function(eb){this.$d=eb},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(eb){if(this.get_selected()===eb){return}this.element.toggleClass(this.$c,eb);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(eb){this.$3$4=eb},handleClick:function(eb){if(this.get_disabled()){return}var ec=!this.get_selected();if(this.get_preventMouseDeselect()&&!ec){return}if(!ss.staticEquals(this.$3$2,null)){var ed=new ds(ec,ss.isValue(eb)&&eb.shiftKey,by.isCtrlKey(eb));this.$3$2(this,ed);if(ed.cancel){return}}this.set_selected(ec);x.prototype.handleClick.call(this,eb)},$b:function(eb,ec){if(!ss.staticEquals(eb,null)){eb(this,ec)}},onDisposed:function(eb){this.$b(this.$3$1,null);dZ.prototype.onDisposed.call(this,eb)}},x,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ck]);ss.initClass(cq,a,{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(eb){this.get_labelElement().text(eb);if(ss.isNullOrEmptyString(eb)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return dK.prototype.get_selected.call(this)},set_selected:function(eb){if(this.get_selected()===eb){return}var ec=this.get_inputElement();if(ss.isValue(ec)){ec.prop('checked',(eb?'checked':''))}dK.prototype.set_selected.call(this,eb)},get_disabled:function(){return x.prototype.get_disabled.call(this)},set_disabled:function(eb){var ec=this.get_inputElement();if(ss.isValue(ec)){ec.prop('disabled',eb)}x.prototype.set_disabled.call(this,eb)}},dK,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ck]);ss.initClass(cr,a,{handleBlur:function(eb){if(this.props.blurBehavior===0){this.$2()}else if(this.props.blurBehavior===1){this.handleEnterPress()}},componentWillReceiveProps:function(eb){if(!ss.referenceEquals(this.props.initialValue,eb.initialValue)){this.setState({displayedText:eb.initialValue})}},$2:function(){this.setState({displayedText:this.props.initialValue})},$0:function(){return{displayedText:(tab.MiscUtil.isNullOrEmpty$3(this.props.initialValue)?'':this.props.initialValue)}},handleInput:function(eb){if(this.props.inputFilter===0){eb=ss.replaceAllString(eb,',','');eb=ss.replaceAllString(eb,'.','');var ec={};if(ss.isNullOrEmptyString(eb)||ss.Int32.tryParse(eb,ec)){this.setState({displayedText:eb})}}else{this.setState({displayedText:eb})}},$1:function(eb){if(eb.keyCode===27){eb.preventDefault();eb.stopPropagation();this.$2()}},handleEnterPress:function(){if(!ss.staticEquals(this.props.onCommit,null)&&!ss.referenceEquals(this.props.initialValue,this.state.displayedText)){this.props.onCommit(this.state.displayedText)}if(this.props.blurBehavior===0){this.$2()}},render:function(){var eb=this.$3;var ec=new Object;ec.iconClassName='confirmArrowIcon';ec.customClassName='confirmButton';var ed=bs.div(eb,{className:'confirmButtonDiv'},[React.createElement(bO,ec)]);var ee=React.createElement(SharedWidgets.TextFieldInputWidget,{text:this.state.displayedText,maxLength:9,handleChange:ss.mkdel(this,this.handleInput),handleEnter:ss.mkdel(this,this.handleEnterPress),name:'rowCount-input',style:{display:'inline-block',lineHeight:'24px',paddingBottom:'0px',paddingTop:'0px',marginBottom:'0px',marginLeft:'3px',borderStyle:'none',width:this.$4,height:'24px'}});return React.DOM.div({className:'lineEditWithButtonComponent',onKeyDown:ss.mkdel(this,this.$1),onBlur:ss.mkdel(this,this.handleBlur)},ee,ed)}},React.Component);ss.initClass(ct,a,{get_parentListView:function(){return this.$1$1},set_parentListView:function(eb){this.$1$1=eb},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(eb){this.$1$2=eb},startDrag:function(eb){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())}},null,[bT]);ss.initClass(dr,a,{add_selectionChanged:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},remove_selectionChanged:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},get_selectedClass:function(){return this.$8},set_selectedClass:function(eb){this.$8=eb},get_selectionType:function(){return this.$a},set_selectionType:function(eb){this.$a=eb},get_items:function(){return this.$7},get_selectedItems:function(){var eb=[];var ec=ss.getEnumerator(Object.keys(this.$9));try{while(ec.moveNext()){var ed=ec.current();eb.push(this.$9[ed])}}finally{ec.dispose()}return eb},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var eb=Object.keys(this.$9)[0];return this.$9[eb]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(eb){eb.set_selectedClass(this.$8);this.$7.push(eb);if(eb.get_selected()){this.$6(eb,false,false)}this.$0(eb)},containsItem:function(eb){return ss.contains(this.get_items(),eb)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(eb,ec){var ed=eb;this.$5(ed);if(this.isItemSelected$1(ed)){delete this.$9[ed.get_selectionId()]}ss.remove(this.$7,ed)},$0:function(eb){eb.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));eb.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));eb.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(eb){eb.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));eb.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));eb.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(eb){return ss.isValue(eb)&&ss.keyExists(this.$9,eb.get_selectionId())},isItemSelected:function(eb){return ss.keyExists(this.$9,eb)},selectItem:function(eb){this.$6(eb,false,true)},selectSingleItem:function(eb){this.$6(eb,true,true)},$6:function(eb,ec,ed){var ee=false;if(ec||this.get_selectionType()===0){ee=this.$1(eb)}ee=this.$2(eb)||ee;if(ed&&ee){this.$4()}},selectItems:function(eb,ec){switch(this.get_selectionType()){case 0:{var ed=((ss.isValue(eb)&&eb.length>0)?eb[0]:null);this.selectItem(ed);break}case 1:case 2:{var ee=false;if(ec){ee=this.$1(null)}if(ss.isValue(eb)){for(var ef=0,eg=eb.length;ef<eg;ef++){ee=this.$2(eb[ef])||ee}}if(ee){this.$4()}break}}},$2:function(eb){if(ss.isNullOrUndefined(eb)){return false}if(ss.isNullOrUndefined(eb.get_selectionId())){return false}if(this.isItemSelected$1(eb)){return false}if(!this.containsItem(eb)){return false}this.$9[eb.get_selectionId()]=eb;eb.set_selected(true);return true},clearSelection:function(eb){if(this.$1(eb)){this.$4()}},$1:function(eb){var ec=ss.getKeyCount(this.$9);var ed=ss.getEnumerator(Object.keys(this.$9));try{while(ed.moveNext()){var ee=ed.current();if(ss.isValue(eb)&&ss.referenceEquals(ee,eb.get_selectionId())){continue}this.$3(this.$9[ee])}}finally{ed.dispose()}return ec>0&&ss.getKeyCount(this.$9)!==ec},unselectItem:function(eb){if(!this.isItemSelected$1(eb)){return}this.$3(eb);this.$4()},$3:function(eb){delete this.$9[eb.get_selectionId()];eb.set_selected(false)},handleSelectionChanging:function(eb,ec){var ed=eb;if(ec.get_selecting()){this.selectItem(ed)}else if(this.get_selectionType()!==0){this.unselectItem(ed)}else if(ss.referenceEquals(this.get_selectedItem(),ed)){ec.cancel=true}},handleSelectionChanged:function(eb,ec){var ed=eb;var ee=this.isItemSelected$1(ed);if(ed.get_selected()&&!ee){this.$2(ed)}else if(!ed.get_selected()&&ee){this.$3(ed)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[ss.IDisposable]);ss.initClass(cu,a,{$e:function(eb){this.$d(ss.indexOf(this.get_items(),eb))},$d:function(eb){if(eb<0||eb>=this.get_items().length){return}this.$f=eb;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(eb){dr.prototype.addItem.call(this,eb);if(eb.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(eb)}},onItemDisposed:function(eb,ec){this.$b();dr.prototype.onItemDisposed.call(this,eb,ec)},dispose:function(){this.$b();dr.prototype.dispose.call(this)},selectItem:function(eb){this.selectItemAtIndex(ss.indexOf(this.get_items(),eb))},selectSingleItem:function(eb){var ec=ss.indexOf(this.get_items(),eb);if(ec<0){return}dr.prototype.selectSingleItem.call(this,eb);this.$d(ec)},selectItemAtIndex:function(eb){dr.prototype.selectItem.call(this,this.get_items()[eb]);this.$d(eb)},selectItems:function(eb,ec){this.$c(eb,ec);this.$g=null},$c:function(eb,ec){dr.prototype.selectItems.call(this,eb,ec)},clearSelection:function(eb){dr.prototype.clearSelection.call(this,eb);this.$b()},selectItemForKey:function(eb,ec){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var ed=eb===38;var ee=eb===40;if(ed||ee){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var ef=ss.unbox(this.$f)+(ed?-1:1);if(ef<0||ef>=this.get_items().length){return null}if(this.get_selectionType()===1&&ec){var eg=this.$g;if(ss.isValue(this.$g)){var eh=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var ei=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(ef>=eh&&ef<=ei){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{eg=this.$f}this.selectItem(this.get_items()[ef]);this.$g=eg}else{this.selectSingleItem(this.get_items()[ef]);this.$g=null}this.$f=ef;return this.get_items()[ef]}return null},handleSelectionChanging:function(eb,ec){var ed=eb;var ee=ss.indexOf(this.get_items(),ed);if(ee<0){return}if(this.get_selectionType()===0){dr.prototype.handleSelectionChanging.call(this,eb,ec);return}var ef=this.$f;var eg=this.$g;this.$d(ee);if(this.get_selectionType()===2||ec.get_ctrlKey()){if(ec.get_selecting()){this.selectItem(ed)}else{this.unselectItem(ed)}return}if(ec.get_shiftKey()&&(ss.isValue(ef)||ss.isValue(eg))){this.$g=ss.coalesce(eg,ef);var eh=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var ei=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var ej=[];for(var ek=eh;ek<=ei;ek++){ej.push(this.get_items()[ek])}this.$c(ej,true);ec.cancel=true;return}this.selectSingleItem(ed);if(ss.referenceEquals(this.get_selectedItem(),ed)){ec.cancel=true}},handleSelectionChanged:function(eb,ec){dr.prototype.handleSelectionChanged.call(this,eb,ec);this.$e(eb)}},dr,[ss.IDisposable]);ss.initClass(cv,a,{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?dK.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(eb){dK.prototype.set_selected.call(this,eb);this.get_viewModel().set_selected(eb)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(eb){this.$f.toggleClass('invalid',eb);this.get_viewModel().set_isInvalid(eb)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(eb){this.$f.toggleClass('bold',eb);this.get_viewModel().set_isBold(eb)},get_disabled:function(){return x.prototype.get_disabled.call(this)},set_disabled:function(eb){this.$f.toggleClass(this.get_disabledClass(),eb);x.prototype.set_disabled.call(this,eb)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(eb,ec){switch(ec.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},dK,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ck]);ss.initClass(cw,a,{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(eb){if(this.$5===eb){return}this.$5=eb;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(eb){if(this.$4===eb){return}this.$4=eb;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(eb){if(this.$3===eb){return}this.$3=eb;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(eb){if(this.$1===eb){return}this.$1=eb;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(eb){if(this.$6===eb){return}this.$6=eb;this.notifyPropertyChanged('spotlighted')}},w,[ss.IDisposable,tab.IViewModel]);ss.initClass(cx,a,{create:function(){this.$0();var eb=[];for(var ec=0,ed=this.itemDatas.length;ec<ed;ec++){var ee=this.itemIds[ec];var ef=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,ec):false);var eg=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,ec):false);var eh=this.itemDatas[ec];var ei=new cw(ee,eh,ef,eg,false);ei.set_draggable(ed>1);var ej=ei;eb.push(ej)}return eb},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});ss.initClass(cy,a,{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(eb){this.$3$1=eb},add_listItemsUpdated:function(eb){this.$3$2=ss.delegateCombine(this.$3$2,eb)},remove_listItemsUpdated:function(eb){this.$3$2=ss.delegateRemove(this.$3$2,eb)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(eb){this.$m=eb||new f(this.element)},useScrollableView:function(eb){this.set_scrollHandler(new e(eb))},$5:function(){for(var eb=0;eb<this.get_viewModel().get_collection().length;eb++){var ec={$:this.get_viewModel().get_collection()[eb]};if(ss.isValue(ec.$)){var ed=this.$k.createListItemContent(ec.$);var ee=new cv(ed,ec.$);ee.init();ee.onDoubleClick(ss.mkdel(this,this.$8));ee.set_disabled(!this.get_viewModel().get_enabled());ee.set_isInvalid(ec.$.get_isInvalid());ee.set_isBold(ec.$.get_isBold());ee.onMouseEnter(ss.mkdel({itemViewModel:ec,$this:this},function(ef){this.$this.$a(this.itemViewModel.$)}));ee.onMouseMove(ss.mkdel({itemViewModel:ec,$this:this},function(ef){this.$this.$b(this.itemViewModel.$)}));this.$i(ee);this.$l.push(ee);this.get_viewModel().addItemToGroup(ee);ee.addToDom(this.get_dom().get_listItemContainer());ec.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(eb){if(!ss.isValue(eb)){return}this.$h(this.$l[ss.unbox(eb)])},$d:function(eb){if(ss.isValue(eb)){this.$h(this.$l[ss.unbox(eb)])}},$8:function(eb){this.get_viewModel().selectionSubmitted()},$a:function(eb){this.get_viewModel().handleListItemMouseEnter(eb)},$b:function(eb){this.get_viewModel().handleListItemMouseMove(eb)},$9:function(eb){var ec=this.get_viewModel().get_listItemGroup().selectItemForKey(eb.which,eb.shiftKey);if(ss.isValue(ec)){by.stopEvent(eb);this.$h(ec)}},onViewModelPropertyChanged:function(eb,ec){if(ec.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(ec.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(ed){ed.set_disabled(!this.get_viewModel().get_enabled());this.$i(ed)}))}ss.makeGenericType(v,[cA]).prototype.onViewModelPropertyChanged.call(this,eb,ec)},$f:function(eb,ec){if(ec.get_propertyName()==='draggable'){var ed=this.$7(eb);this.$i(ed)}},$i:function(eb){if(eb.get_viewModel().get_draggable()&&!eb.get_disabled()){eb.element.addClass('tabDraggable');bk.attachDragSource(eb.element,new ct(this,eb))}else{eb.element.removeClass('tabDraggable');bk.removeDragSource(eb.element)}},tabIndex:function(eb){this.get_dom().get_listItemContainer().attr('tabindex',eb.toString());return this},showItemAtIndex:function(eb){this.$h(this.get_itemViews()[eb])},$h:function(eb){if(ss.isNullOrUndefined(eb)){return}var ec=eb.element[0];this.$m.scrollToElement(ec,this.$j())},$e:function(eb,ec){if(eb===ec||eb<0||eb>=this.get_itemViews().length||ec<0||ec>=this.get_itemViews().length){return}var ed=this.get_itemViews()[eb];ed.element.hide();if(ec<eb){ed.element.insertBefore(this.get_itemViews()[ec].element)}else{ed.element.insertAfter(this.get_itemViews()[ec].element)}ed.element.fadeIn();ss.removeAt(this.get_itemViews(),eb);ss.insert(this.get_itemViews(),ec,ed)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(v,[cA]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(eb){eb.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));eb.dispose()}));ss.clear(this.$l)},$g:function(eb){if(ss.isValue(eb)){eb()}},$7:function(eb){for(var ec=0,ed=this.$l.length;ec<ed;ec++){if(ss.referenceEquals(this.$l[ec].get_selectionId(),eb.get_id())){return this.$l[ec]}}return null}},ss.makeGenericType(v,[cA]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cA])]);ss.initClass(cz,a,{add_dragStarting:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},remove_dragStarting:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},add_dragEnded:function(eb){this.$1$2=ss.delegateCombine(this.$1$2,eb)},remove_dragEnded:function(eb){this.$1$2=ss.delegateRemove(this.$1$2,eb)},get_dragClassName:function(){return this.$b},set_dragClassName:function(eb){this.$b=eb},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(eb){this.$c=eb},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(eb){this.$1$3=eb},dispose:function(){bk.remove_dragStarted(ss.mkdel(this,this.$8));bk.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(eb,ec){if(ss.isNullOrUndefined(eb)||ss.isNullOrUndefined(eb.get_itemViews())){return null}var ed=ss.indexOf(eb.get_itemViews(),ec);if(ed<0){return null}this.$5(eb,ed);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}bk.add_dragStarted(ss.mkdel(this,this.$8));bk.add_dragEnded(ss.mkdel(this,this.$7));var ee=this.$1(eb.get_itemViews()[ed]);return new cO(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),ee)},$5:function(eb,ec){this.$k=eb;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=ec;this.$l=ec;var ed=eb.get_itemViews()[ec];this.$f=ed.get_viewModel();this.$e=ed.element},$6:function(eb){this.$g=this.$2(eb).appendTo($('body')).hide();this.$h=ss.Int32.div(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(eb){return $("<div class='tab-list-item-insertion-pointer'>").width(eb)},$1:function(eb){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(eb.get_viewModel())}return new bn(eb)},$8:function(eb){bk.remove_dragStarted(ss.mkdel(this,this.$8));bk.setDragCursor(new X(null,'move'));bk.setDragCursor(new X(null,'-webkit-grabbing'));bk.setDragCursor(new X(null,'-moz-grabbing'));bk.setDragCursor(new X(null,'grabbing'))},$7:function(eb){bk.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(eb){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var ec=this.$k.get_itemViews()[this.$l].element;var ed=tab.DomUtil.getElementPosition(ec);var ee=this.$l>0&&(eb.pageY<this.$j||eb.pageY<ed.y);var ef=this.$l<this.$m-1&&(eb.pageY>this.$i||eb.pageY>ed.y+ec.outerHeight());if(!ee&&!ef){return}var eg=(ee?-1:1);this.$l+=eg;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(bk.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var eb=this.$k.get_itemViews()[this.$l].element;var ec=tab.DomUtil.getElementPosition(eb);if(this.$l>this.$n){ec.y+=tab.DoubleUtil.roundToInt(eb.outerHeight())}tab.DomUtil.setElementPosition(this.$g,ec.x,ec.y-this.$h,null,false);this.$g.show()},$4:function(eb){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}},null,[bY,ss.IDisposable]);ss.initClass(cA,a,{add_propsUpdated:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_propsUpdated:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_selectionChanged:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_selectionChanged:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},add_submitSelection:function(eb){this.$2$3=ss.delegateCombine(this.$2$3,eb)},remove_submitSelection:function(eb){this.$2$3=ss.delegateRemove(this.$2$3,eb)},add_listItemMouseEnter:function(eb){this.$2$4=ss.delegateCombine(this.$2$4,eb)},remove_listItemMouseEnter:function(eb){this.$2$4=ss.delegateRemove(this.$2$4,eb)},add_listItemMouseMove:function(eb){this.$2$5=ss.delegateCombine(this.$2$5,eb)},remove_listItemMouseMove:function(eb){this.$2$5=ss.delegateRemove(this.$2$5,eb)},add_selectionModelUpdated:function(eb){this.$2$6=ss.delegateCombine(this.$2$6,eb)},remove_selectionModelUpdated:function(eb){this.$2$6=ss.delegateRemove(this.$2$6,eb)},add_spotlightedItemChanged:function(eb){this.$2$7=ss.delegateCombine(this.$2$7,eb)},remove_spotlightedItemChanged:function(eb){this.$2$7=ss.delegateRemove(this.$2$7,eb)},add_itemMoved:function(eb){this.$2$8=ss.delegateCombine(this.$2$8,eb)},remove_itemMoved:function(eb){this.$2$8=ss.delegateRemove(this.$2$8,eb)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(eb){this.$4=eb;this.$0()},get_sort:function(){return this.$9},set_sort:function(eb){this.$9=eb;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var eb=this.$1(1);return((eb.length>0)?eb[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(eb){if(this.$3===eb){return}this.$3=eb;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);w.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(eb){this.raiseActionEvent$1(cw).call(this,this.$2$4,eb)},handleListItemMouseMove:function(eb){this.raiseActionEvent$1(cw).call(this,this.$2$5,eb)},update:function(eb){this.$7=ss.arrayClone(eb);this.$0();this.$8.items=_.map(this.get_collection(),function(ec){return{data:ec.get_data()}});this.raiseActionEvent(this.$2$1)},addItemToGroup:function(eb){this.$6.addItem(eb)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(eb){var ec=[];var ed=this.$6.get_numberOfSelectedItems();if(ed===1){ec.push(this.$6.get_selectedItem().get_viewModel());return ec}var ee=Math.min(ed,eb);for(var ef=0,eg=this.get_collection().length;ef<eg&&ec.length<ee;ef++){if(this.$6.isItemSelected(this.get_collection()[ef].get_id())){ec.push(this.get_collection()[ef])}}return ec},setSelectedItems:function(eb){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var ec=null;for(var ed=0,ee=eb.length;ed<ee;ed++){var ef=eb[ed];ec=Math.min(ss.coalesce(ec,ef),ef);this.get_collection()[ef].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ss.coalesce(ec,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(eb){for(var ec=0,ed=this.get_collection().length;ec<ed;++ec){this.get_collection()[ec].set_isInvalid(ss.contains(eb,ec))}},selectItemById:function(eb){for(var ec=0,ed=this.get_collection().length;ec<ed;ec++){var ee=this.get_collection()[ec];if(ss.referenceEquals(ee.get_id(),eb)){this.selectItemAtIndex(ec);break}}},selectItemAtIndex:function(eb){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var ec=this.get_collection()[eb];var ed=!ec.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}ec.set_selected(true);if(ed){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,eb);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(eb){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var ec=this.get_collection()[eb];if(ss.isNullOrUndefined(ec)){return}ec.set_spotlighted(true);this.$a=eb;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(eb,ec){if(eb===ec){return}var ed=this.get_collection()[eb];ss.removeAt(this.get_collection(),eb);ss.insert(this.get_collection(),ec,ed);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(eb,ec)}}},w,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cc,[Object])]);ss.initClass(cB,a,{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}},dH,[ss.IDisposable]);ss.initClass(cC,a,{});ss.initEnum(cE,a,{none:0,check:1,radio:2});ss.initClass(cF,a,{},dH,[ss.IDisposable]);ss.initClass(cG,a,{},dH,[ss.IDisposable]);ss.initClass(cH,a,{},dH,[ss.IDisposable]);ss.initClass(cI,a,{$a:function(){var eb=this.dom.domRoot;for(var ec=0;ec<this.menuStack.length;ec++){var ed=this.menuStack[ec];eb=eb.add(ed.domRoot)}return eb},dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$9));var eb=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var ec=0;ec<this.menuStack.length;ec++){var ed=this.menuStack[ec];ed.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(v,[cJ]).prototype.dispose.call(this)});this.$5(eb)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(eb){return(ss.isValue(eb)?this.$b[eb.id]:null)},getMenuElementForMenuItem:function(eb){var ec=this.getElementForMenuItem(eb);if(ss.isNullOrUndefined(ec)){return null}var ed=this.menuStack[cI.getMenuItemLevel(ec)-1];if(ss.isNullOrUndefined(ed)){return null}else{return ed.domRoot}},updateMenu:function(){this.dom.content.children().remove();this.$b={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var eb=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});this.$5(eb)},shown:function(eb){if(eb.get_minWidth()!==0){var ec=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',eb.get_minWidth()-ec+'px')}var ed=989;if(eb.relativeDom.length>0){var ee=tab.DomUtil.getComputedZIndex(eb.relativeDom[0]);if(ee>=ed){ed=Math.max(1000,ee+1)}}this.removeGlass();var ef=new bE;ef.set_zIndex(ed-1);this.glass=ef;this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',ed);if(ss.isValue(eb.additionalMenuClass)){this.dom.domRoot.addClass(eb.additionalMenuClass)}dx.getViewport(ss.mkdel(this,function(eh){this.dom.domRoot.appendTo($('body'));this.positionMenu(eh,eb,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show();this.onSized()}));this.disposables.add$1(by.bindWithDispose($(window),'resize',ss.mkdel(this,function(eh){this.menuViewModel.hide()})));var eg=ss.mkdel(this,function(eh){this.menuViewModel.hide()});tab.WindowHelper.addListener(window.self,'popstate',eg);this.disposables.add$1(new tab.CallOnDispose(function(){tab.WindowHelper.removeListener(window.self,'popstate',eg)}));bF.add_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bF.remove_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements))})))},onSized:function(){},$9:function(eb,ec){var ed=this.$b[eb.id];if(ss.isValue(ed)&&ed.is(':visible')){ed.toggleClass('tabMenuSelectedItem',ec);if(ec){this.scrollToMenuItem(ed)}}},scrollToMenuItem:function(eb){eb.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(eb.position().top))},glassClicked:function(){this.menuViewModel.hide()},onDismissTemporaryElements:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(eb,ec){var ed=ec.data('tabMenuMenuItemLevel');if(ss.isValue(ed)&&ed<this.menuStack.length){return}var ee=new cH;ee.domRoot.addClass(this.menuViewModel.get_theme().menuClass);ee.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(ee);this.buildMenu(ee,eb.subMenu);this.showSubmenu(eb,ec,ee);ee.domRoot.focus();ee.domRoot.on('blur',ss.mkdel(this,this.onBlur))},buildMenu:function(eb,ec){var ed=false;var ee=false;var ef=false;var eg=[];var eh=dE.targetAndClick(eb.domRoot.get(0),ss.mkdel(this,this.$8));this.menuDisposables.add$1(eh);for(var ei=0;ei<ec.menuItems.length;ei++){var ej=ec.menuItems[ei];var ek;if(ej.isDivider){ek=(new cF).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(ej.isTextInput){var el=this.$6(ej);ek=el.domRoot}else if(ss.isInstanceOfType(ej,ba)){ek=ej.get_domRoot()}else{var em=(new k(ej.name,ej.enabled)).$2(ej.checkState,ej.iconClass).$3(ej.iconClassTwo).$1(ej.description).$4(ej.subMenu).$5([this.menuViewModel.get_theme().itemClass,ej.itemClass]).$0();ed=ed||em.$2;ee=ee||em.$3;ef=ef||em.$1;em.domRoot.data('tabMenuMenuItem',ej);em.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);ek=em.domRoot}ek.addClass('tabMenuMenuItem');if(ej.isDefault){ek.addClass('tabMenuDefaultItem')}}eg.push(ek);this.$b[ej.id]=ek}eb.content.append(eg);if(!ed){eb.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(ee){eb.domRoot.addClass('tabMenuHasIconTwo')}if(!ef){eb.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$9(this.menuViewModel.get_selectedItem(),true)}},$8:function(eb){var ec=$(eb.target).closest('.tabMenuMenuItem');var ed=ec.data('tabMenuMenuItem');if(ss.isNullOrUndefined(ed)){return}else if(ss.isValue(ed.subMenu)){this.activateSubmenu(ed,ec)}else{this.menuViewModel.clickMenuItem(ed)}},onBlur:function(eb){window.setTimeout(ss.mkdel(this,function(){var ec=this.$a();if(ec.index(document.activeElement)<0&&ec.find(document.activeElement).length===0){this.get_viewModel().hide()}}))},$7:function(eb){eb.stopPropagation();switch(eb.which){case 13:{var ec=eb.data['callback'];if($.isFunction(ec)){ec($(eb.target).val())}break}case 9:{eb.preventDefault();eb.target.blur();this.menuViewModel.iterateFocus((eb.shiftKey?-1:1),null);break}}},$6:function(eb){var ec=new cG;ec.textInput.keydown(ss.mkdict(['callback',eb.data]),ss.mkdel(this,this.$7)).keypress(cI.$0).focus(ss.mkdel(this,function(ed){this.get_viewModel().set_focusedItem(eb)})).attr('placeholder',eb.description);if(!ss.isNullOrEmptyString(eb.itemClass)){ec.domRoot.addClass(eb.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){ec.textInput.off()}));return ec},$5:function(eb){if($.fx.off||!this.menuViewModel.get_shouldAnimateOnClose()){eb()}else{this.$a().fadeOut(50,eb)}}},ss.makeGenericType(t,[cJ]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cJ])]);ss.initClass(cJ,a,{add_shown:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_shown:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_hidden:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_hidden:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},add_menuChanged:function(eb){this.$2$3=ss.delegateCombine(this.$2$3,eb)},remove_menuChanged:function(eb){this.$2$3=ss.delegateRemove(this.$2$3,eb)},add_menuItemClicked:function(eb){this.$2$4=ss.delegateCombine(this.$2$4,eb)},remove_menuItemClicked:function(eb){this.$2$4=ss.delegateRemove(this.$2$4,eb)},add_menuItemSelectionChanged:function(eb){this.$2$5=ss.delegateCombine(this.$2$5,eb)},remove_menuItemSelectionChanged:function(eb){this.$2$5=ss.delegateRemove(this.$2$5,eb)},add_menuItemFocusChanged:function(eb){this.$2$6=ss.delegateCombine(this.$2$6,eb)},remove_menuItemFocusChanged:function(eb){this.$2$6=ss.delegateRemove(this.$2$6,eb)},get_visible:function(){return this.$2$7},set_visible:function(eb){this.$2$7=eb},get_isExpanded:function(){return this.$2$8},set_isExpanded:function(eb){this.$2$8=eb},get_shouldAnimateOnClose:function(){return this.$2$9},set_shouldAnimateOnClose:function(eb){this.$2$9=eb},set_disposeOnHide:function(eb){this.remove_hidden(this.$0);if(eb){this.add_hidden(this.$0)}},get_menu:function(){return this.$2},set_menu:function(eb){if(_.isEqual(this.$2,eb)){return}this.$2=eb;if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_theme:function(){return this.$2$10},set_theme:function(eb){this.$2$10=eb},get_selectedItem:function(){return this.$3},set_selectedItem:function(eb){if(ss.isValue(this.$3)){if(ss.isValue(this.$2$5)){this.$2$5(this.$3,false)}}if(ss.isNullOrUndefined(eb)){this.$3=null;return}this.$3=eb;if(!ss.staticEquals(this.$2$5,null)){this.$2$5(this.$3,true)}},get_focusedItem:function(){return this.$1},set_focusedItem:function(eb){if(ss.referenceEquals(this.$1,eb)){return}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,false)}if(ss.isNullOrUndefined(eb)||!eb.enabled){this.$1=null;return}this.$1=eb;if(!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,true)}},show:function(eb){this.set_isExpanded(eb.expanded);if(this.get_visible()){return}this.set_visible(true);if(!ss.staticEquals(this.$2$1,null)){this.$2$1(eb)}},dispose:function(){this.hide();w.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(eb){if(!eb.enabled){return}this.hide();if(!ss.staticEquals(this.$2$4,null)){this.$2$4(eb)}},iterateFocus:function(eb,ec){var ed=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(ed)){return}var ee=ec;if(ss.isNullOrUndefined(ee)){ee=ss.indexOf(ed.menuItems,this.get_focusedItem())}var ef=ee;var eg=ef;do{eg+=eb;if(eg>=ed.menuItems.length){eg=0}else if(eg<0){eg=ed.menuItems.length-1}}while(!ed.menuItems[eg].get_selectable()&&eg!==ef);if(eg!==ef){this.set_focusedItem(ed.menuItems[eg])}},focusByNamePrefix:function(eb){eb=eb.toLowerCase();var ec=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(ec)){return}var ed=ss.indexOf(ec.menuItems,this.get_focusedItem())+1;if(ed>=ec.menuItems.length){ed=0}var ee=ed;do{if(ec.menuItems[ee].enabled&&!ec.menuItems[ee].isDivider){if(ss.isValue(ec.menuItems[ee].name)&&ss.startsWithString(ec.menuItems[ee].name.toLowerCase(),eb)){this.set_focusedItem(ec.menuItems[ee]);return}}++ee;if(ee>=ec.menuItems.length){ee=0}}while(ee!==ed)},findMenuForMenuItem:function(eb){if(ss.isNullOrUndefined(eb)){return null}var ec=null;ec=function(ed){if(ss.contains(ed.menuItems,eb)){return ed}for(var ee=0;ee<ed.menuItems.length;ee++){var ef=ed.menuItems[ee];if(ss.isValue(ef.subMenu)){var eg=ec(ef.subMenu);if(ss.isValue(eg)){return eg}}}return null};return ec(this.get_menu())},findItemContainingSubMenu:function(eb){if(ss.isNullOrUndefined(eb)||ss.referenceEquals(this.get_menu(),eb)){return null}var ec=null;ec=function(ed){var ee=null;for(var ef=0;ef<ed.menuItems.length;ef++){var eg=ed.menuItems[ef];if(ss.isValue(eg.subMenu)){ee=(ss.referenceEquals(eg.subMenu,eb)?eg:ec(eg.subMenu));if(ss.isValue(ee)){break}}}return ee};return ec(this.get_menu())}},w,[ss.IDisposable,tab.IViewModel]);ss.initClass(cL,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bE;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());be.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){be.prototype.bindToEvents.call(this);this.disposables.add$1(by.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(by.bindWithDispose($(window),'keyup',ss.mkdel(this,this.onDocumentKeyUp)))},detach:function(){this.$x();be.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}be.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(be.defaultStationaryDialogConfigurer)},onWindowResize:function(eb){this.positionInWindow()},onDocumentKeyUp:function(eb){if(eb.which===27){this.close(null);eb.preventDefault();eb.stopPropagation();return}}},be,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);cL.$ctor1.prototype=cL.prototype;ss.initClass(cM,a,{});ss.initClass(cN,a,{});ss.initClass(cO,a,{get_dragType:function(){return'dragmove'},moveTo:function(eb){if(ss.isValue(this.$4)){this.$4(eb)}},endDragAt:function(eb){if(ss.isValue(this.$3)){this.$3(eb)}},cancelDrag:function(){if(ss.isValue(this.$2)){this.$2()}}},bl);cO.$ctor1.prototype=cO.prototype;ss.initClass(cP,a,{add_moveAction:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},remove_moveAction:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},add_endAction:function(eb){this.$1$2=ss.delegateCombine(this.$1$2,eb)},remove_endAction:function(eb){this.$1$2=ss.delegateRemove(this.$1$2,eb)},get_offset:function(){return this.$4},set_offset:function(eb){this.$4=eb},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(eb){this.$1=eb},dispose:function(){bk.removeDragSource(this.$3)},calculateOffset:function(eb){var ec=this.$2.position();return{x:eb.pageX-tab.DoubleUtil.roundToInt(ec.left),y:eb.pageY-tab.DoubleUtil.roundToInt(ec.top)}},startDrag:function(eb){this.$4=this.calculateOffset(eb);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new cO(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},dragMove:function(eb){this.performMove(eb);if(ss.isValue(this.$1$1)){this.$1$1(eb)}},performMove:function(eb){var ec=eb.pageX-this.$4.x;var ed=eb.pageY-this.$4.y;var ee=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var ef=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);ec=Math.max(0,Math.min(ee-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),ec));ed=Math.max(0,Math.min(ef-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),ed));tab.DomUtil.setElementPosition(this.$2,ec,ed)},dragEnd:function(eb){this.performMove(eb);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(eb)}}},null,[ss.IDisposable,bT]);ss.initClass(cR,a,{},bd,[bU]);ss.initClass(cS,a,{get_isMouseEvent:function(){return this.source===1},get_isTouchEvent:function(){return this.source===2},get_isStartEvent:function(){return this.inputType===0},get_isMoveEvent:function(){return this.inputType===1},get_isOutEvent:function(){return this.inputType===3},get_isEndEvent:function(){return this.inputType===2},get_isScrollEvent:function(){return this.inputType===4},get_isRightClickEvent:function(){return this.type==='contextmenu'&&this.source===1},get_isLeftMouseEvent:function(){if(this.get_isMouseEvent()){var eb=cN.getMouseButtonEnum(this.originalEvent);if(eb==='left'){if(tab.BrowserSupport.get_isMac()&&this.ctrlKey){return false}return true}}return false},get_isCtrlKey:function(){return(tab.BrowserSupport.get_isMac()?this.metaKey:this.ctrlKey)},get_gestureInfo:function(){return this},get_allTouchesShareCurrentTarget:function(){var eb=this.touches[0].target;var ec=this.touches[1].target;if(!ss.isInstanceOfType(eb,Element)||!ss.isInstanceOfType(ec,Element)){return false}var ed=document.body;var ee=this.currentTarget;var ef=false;while(!ef&&ss.isValue(eb)&&ss.isValue(ec)){ef=true;if(!ss.referenceEquals(eb,ee)&&!ss.referenceEquals(eb,ed)&&ss.isInstanceOfType(eb,Element)){eb=eb.parentNode;ef=false}if(!ss.referenceEquals(ec,ee)&&!ss.referenceEquals(ec,ed)&&ss.isInstanceOfType(ec,Element)){ec=ec.parentNode;ef=false}if(ss.referenceEquals(eb,ec)){ef=true}}return ss.referenceEquals(eb,ec)},getSelectAction:function(){var eb='simple';var ec=this.get_isCtrlKey();if(this.shiftKey){eb='range'}if(ec){eb='toggle'}return eb},preventDefault:function(){if(typeof(this.originalEvent['preventDefault'])==='function'){this.originalEvent.preventDefault()}},stopPropagation:function(){if(typeof(this.originalEvent['stopPropagation'])==='function'){this.originalEvent.stopPropagation()}if(ss.isValue(this.reactEvent)){this.reactEvent.stopPropagation()}}});ss.initEnum(cT,a,{reset:0,commit:1,none:2});ss.initClass(cU,a,{});ss.initClass(cW,a,{start:function(eb){if(eb.touches.length<this.numTouches){return}if(this.$7){return}this.$9=eb.touches[0];this.$a=eb.touches[1];this.$8=this.$5();this.$6=this.$8;var ec=this.$4();this.$0('pinchStart',eb,ec);this.$7=true},move:function(eb){if(!this.$7){return}if(eb.touches.length<2){this.end(eb);return}this.$9=eb.touches[0];this.$a=eb.touches[1];this.$6=this.$4();this.$0('pinchMove',eb,this.$6)},end:function(eb){if(eb.touches.length>this.numTouches){return}if(this.$7){this.$7=false;var ec=this.$4();this.$0('pinchEnd',eb,ec)}},$5:function(){var eb=this.$9;var ec=this.$a;var ed=ec.pageX-eb.pageX;var ee=ec.pageY-eb.pageY;var ef=Math.sqrt(ed*ed+ee*ee);var eg=ss.Int32.div(ed,2)+eb.pageX;var eh=ss.Int32.div(ee,2)+eb.pageY;var ei={pageX:eg,pageY:eh,distance:ef};return ei},$4:function(){var eb=this.$9;var ec=this.$a;var ed=ec.pageX-eb.pageX;var ee=ec.pageY-eb.pageY;var ef=Math.sqrt(ed*ed+ee*ee);var eg=ss.Int32.div(ed,2)+eb.pageX;var eh=ss.Int32.div(ee,2)+eb.pageY;var ei={pageX:eg,pageY:eh,scale:ef/this.$8.distance,deltaX:eg-this.$8.pageX,deltaY:eh-this.$8.pageY,startX:this.$8.pageX,startY:this.$8.pageY,deltaXSinceLast:eg-this.$6.pageX,deltaYSinceLast:eh-this.$6.pageY};return ei}},bD,[ss.IDisposable]);ss.initClass(cX,a,{},cy,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cA])]);ss.initClass(cY,a,{get_viewType:function(){return cX},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(eb){}},cA,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cc,[Object]),bQ,cn]);ss.initClass(cZ,a,{});ss.initClass(db,a,{});ss.initClass(dc,a,{});ss.initClass(de,a,{});ss.initClass(dg,a,{calculateOffset:function(eb){var ec=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ed={x:0,y:0};switch(this.$5){case'bottomRight':{ed.x=ec.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-eb.pageX;ed.y=ec.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-eb.pageY;break}case'topLeft':{ed.x=eb.pageX-ec.x;ed.y=eb.pageY-ec.y;break}case'left':{ed.x=eb.pageX-ec.x;break}case'right':{ed.x=ec.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-eb.pageX;break}case'top':{ed.y=eb.pageY-ec.y;break}case'bottom':{ed.y=ec.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-eb.pageY;break}}return ed},performMove:function(eb){var ec=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ed=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var ee=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var ef=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var eg=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(eb.pageX+this.get_offset().x,ef)-ec.x);this.get_elementToChange().height(Math.min(eb.pageY+this.get_offset().y,eg)-ec.y);break}case'topLeft':{this.get_elementToChange().width(ed+(ec.x-Math.max(eb.pageX-this.get_offset().x,0)));this.get_elementToChange().height(ee+(ec.y-Math.max(eb.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ec.x+ed-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),ec.y+ee-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'left':{this.get_elementToChange().width(ed+(ec.x-Math.max(eb.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ec.x+ed-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),ec.y);break}case'right':{this.get_elementToChange().width(Math.min(eb.pageX+this.get_offset().x,ef)-ec.x);break}case'top':{this.get_elementToChange().height(ee+(ec.y-Math.max(eb.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ec.x,ec.y+ee-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'bottom':{this.get_elementToChange().height(Math.min(eb.pageY+this.get_offset().y,eg)-ec.y);break}}}},cP,[ss.IDisposable,bT]);ss.initClass(di,a,{add_contentChanged:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_contentChanged:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_refresh:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_refresh:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},get_content:function(){return this.$3},set_content:function(eb){this.$3=eb;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(eb){this.$4.scrollX=eb;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=eb}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(eb){this.$4.scrollY=eb;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=eb}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(eb){if(eb){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(eb){this.$4={};this.set_hasCustomIndicator(eb);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},w,[ss.IDisposable,tab.IViewModel]);di.$ctor1.prototype=di.prototype;ss.initEnum(dk,a,{iScroll:0});ss.initClass(dm,a,{});ss.initClass(dn,a,{get_className:function(){var eb=[ss.makeGenericType(y,[Object]).prototype.get_className.call(this)];eb.push('selectable');if(this.props.isSelected){eb.push('selected');if(this.props.isButtonTextMarkedAsExcluded){eb.push('excluded')}}else{eb.push('unselected');eb.push('tab-DesignTint')}return eb.join(' ')}},ss.makeGenericType(y,[Object]));ss.initClass(dp,a,{$7:function(){return this.state.currentSelection},$6:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(eb){var ec=eb;if(ss.isValue(ec)){ec=ec.clone()}return{currentlyAppliedSelection:eb,currentSelection:ec}},componentWillReceiveProps:function(eb){if(!ss.referenceEquals(eb.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(eb.selection))}},$0:function(){if(ss.referenceEquals(this.$7(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$7()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$7())}},$5:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var eb=this.props.allOption&&this.$7().groupSize>0;var ec;ec=db.generateUniqueKeys(String).call(null,_.map(this.props.items,function(ef){return ef.label}),[(eb?'__ALL__':null)]);var ed=(!ss.isNullOrEmptyString(this.props.className)?('tab-vScrollable '+this.props.className):'tab-vScrollable');if(this.props.showApplyAndCancelButtons){ed+=' apply-cancel'}var ee='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return React.DOM.div({className:ee},React.DOM.div({className:ed,role:'listbox'},(eb?ss.mkdel(this,function(){return React.createElement(dn,{border:this.props.borders,label:this.props.allItem.label,tooltip:this.props.allItem.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(ef){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter,additionalRoles:['option']})})():null),_.map(this.props.items,ss.mkdel(this,function(ef,eg){return React.createElement(dn,{border:this.props.borders,disabled:ef.disabled,label:ef.label,tooltip:ef.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().isSelected(eg),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(eh){this.$4(eg)}),key:ec[eg],testId:ef.testId,getCustomContentBefore:ef.getCustomContentBefore,getCustomContentAfter:ef.getCustomContentAfter,tabIndex:(ef.isTabbable?0:null),additionalRoles:['option']})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return React.DOM.div({className:'tab-ApplyCancelPanel'},React.createElement(z,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(ef){this.$0()}),disabled:!this.$6()}),React.createElement(z,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(ef){this.$5()}),disabled:!this.$6()}))})():null))},$3:function(){this.$7().handleTapAll();this.$2()},$4:function(eb){this.$7().handleTap(eb);this.$2()},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},React.Component);ss.initClass(dq,a,{});ss.initClass(ds,a,{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}},ss.CancelEventArgs);ss.initEnum(dt,a,{single:0,multiGrouped:1,multiToggle:2});ss.initClass(du,a,{didMount:function(eb,ec){var ed={};if(!ss.staticEquals(ec.pointerClick,null)){ed.tap=function(ee){ec.pointerClick(ee.reactEvent)}}if(!ss.staticEquals(ec.pointerDown,null)){ed.firstTouch=function(ee){ec.pointerDown(ee.reactEvent)}}if(!ss.staticEquals(ec.pointerUp,null)){ed.lastTouch=function(ee){ec.pointerUp(ee.reactEvent)}}this.$0.updateEventHandleSpec(eb,ed)},getHtmlAttributes:function(eb){return this.$0.get_eventHandlingAttributesForReact()},willUnmount:function(){this.$0.dispose()}},null,[Object]);ss.initClass(dv,a,{get_minWidth:function(){return this.$1$1},set_minWidth:function(eb){this.$1$1=eb}});ss.initClass(dx,a,{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(eb){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(eb)}var ec=2147483647;return{roomAbove:2147483647,roomBelow:2147483647,roomLeft:2147483647,roomRight:2147483647}}});ss.initClass(dy,a,{componentDidMount:function(){bF.add_firstTouch(ss.mkdel(this,this.$2));bF.add_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).on('resize'.toString(),ss.mkdel(this,this.$0))},componentWillUnmount:function(){bF.remove_firstTouch(ss.mkdel(this,this.$2));bF.remove_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).off('resize'.toString(),ss.mkdel(this,this.$0))},componentDidUpdate:function(){if(this.props.isSelecting){dx.getViewport(ss.mkdel(this,this.$4))}},$2:function(eb,ec){if(ss.isValue(this.$6)&&this.$6.contains(eb.target)){return}this.props.onFocusLost()},$1:function(){this.props.onFocusLost()},$0:function(eb){if(this.props.isSelecting){dx.getViewport(ss.mkdel(this,this.$4))}},$4:function(eb){var ec=ReactDOM.findDOMNode(this.refs['selector']);var ed=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(ec)||ss.isNullOrUndefined(ed)){return}var ee=$(ec);var ef=this.props.getDesiredHeight(ee);var eg=$(ed);var eh=tab.PointUtil.fromPosition(eg.offset());var ei=eb.getVisibleRoom(eh);var ej=eg.innerHeight();var ek=ei.roomBelow-ej-3;var el=ei.roomAbove-3;var em=ek>=Math.min(ef,el);var en=(em?ek:el);ef=Math.min(ef,ss.Int32.trunc(en));var eo=(em?'auto':(ej+'px'));var ep=(em?(ej+'px'):'auto');ee.css('bottom',eo);ee.css('top',ep);ee.height(ef);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var eq=this.props.getMinimumWidth(ee);if(eq>ei.roomRight){var er=eq-ei.roomRight+13;ee.css('left',-1*er+'px')}ee.css('min-width',eq)}},$3:function(eb){if(!ss.staticEquals(this.props.onKeyDown,null)){this.props.onKeyDown(eb)}},render:function(){var eb='tab-Dropdown';if(!ss.isNullOrUndefined(this.props.styleClass)){eb+=' '+this.props.styleClass}return React.DOM.div({className:eb,role:'combobox',onKeyDown:ss.mkdel(this,this.$3),'aria-expanded':this.props.isSelecting,ref:this.$5},bs.div({tap:ss.mkdel(this,function(ec){this.props.onSelectorToggled()})},{className:'tab-DropdownButton',role:'button',tabIndex:ss.coalesce(this.props.tabIndex,0),ref:'relative'},[this.props.renderButton()]),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[React.DOM.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},React.DOM.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]}},React.Component);ss.initClass(dz,a,{$f:function(){if(ss.isNullOrUndefined(this.$i)){return null}var eb=this.$i.value;if(ss.isNullOrEmptyString(eb)){return null}var ec=parseInt(tableau.format.convertFullwidthNumberToAscii(eb));return this.$c(ec)},$g:function(){if(ss.isNullOrUndefined(this.$j)){return 0}var eb=parseInt(this.$j.value);return this.$c(eb)},componentWillMount:function(){this.$0()},componentWillUnmount:function(){this.$a()},$0:function(){this.$b();bF.add_dragEnd(ss.mkdel(this,this.$3))},$a:function(){bF.remove_dragEnd(ss.mkdel(this,this.$3))},$b:function(){this.$h=false},$3:function(eb,ec){if(this.$h){this.$2(this.$g(),false);this.$b()}},render:function(){var eb=React.DOM.input({type:'range',value:this.props.value.toString(),min:this.props.minValue,max:this.props.maxValue,className:'tabHorizontalSlider',style:{width:this.props.width},disabled:this.props.disabled,onInput:ss.mkdel(this,this.$4),onChange:ss.mkdel(this,this.$4),onMouseUp:ss.mkdel(this,this.$6),onMouseDown:ss.mkdel(this,this.$5),ref:ss.mkdel(this,this.$e),key:'sliderInput'});var ec={type:'text',value:(this.props.emptyTextBox?'':this.props.value.toString()),className:'tabHorizontalSliderPercentageText',disabled:this.props.disabled,onInput:ss.mkdel(this,this.$8),onChange:ss.mkdel(this,this.$8),onKeyUp:ss.mkdel(this,this.$9),onBlur:ss.mkdel(this,this.$7),ref:ss.mkdel(this,this.$d),key:'sliderBox'};if(ss.isValue(this.props.tabIndex)){ec.tabIndex=ss.unbox(this.props.tabIndex)}var ed=React.DOM.input(ec);var ee=[];ee.push(ed);if(this.props.showPercentageSign){ee.push(React.DOM.div({className:'tabHorizontalSliderPercentageSign',key:'percentageSign'},'%'))}return React.DOM.div({className:this.props.styleClass+(this.props.disabled?' disabled':'')+(ss.isNullOrUndefined(this.props.extraCssClass)?'':(' '+this.props.extraCssClass))},React.DOM.div({className:'unification-slider-control tabHorizontalSliderContainer'},eb),ee)},$7:function(eb){this.$2(ss.coalesce(this.$f(),0),false)},$9:function(eb){if(eb.which===13){this.$2(ss.coalesce(this.$f(),0),true)}},$8:function(eb){this.$1(this.$f())},$6:function(eb){if(this.$h){this.$2(this.$g(),false)}else{this.$1(this.$g())}},$5:function(eb){this.$h=true},$4:function(eb){this.$1(this.$g())},$1:function(eb){if(this.props.disabled){return}this.props.displayValueChanged(eb)},$2:function(eb,ec){if(this.props.disabled){return}this.props.commitValue(eb,ec)},$e:function(eb){this.$j=null;if(ss.isValue(eb)){this.$j=eb}},$d:function(eb){this.$i=null;if(ss.isValue(eb)){this.$i=eb}},$c:function(eb){if(_.isNaN(eb)||eb<this.props.minValue){return this.props.minValue}else if(eb>this.props.maxValue){return this.props.maxValue}return eb}},da);ss.initClass(dA,a,{},cp,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dB,a,{updateWidgetState:function(eb){this.get_widget().set_label(eb.label);this.get_widget().set_disabled(ss.coalesce(eb.disabled,false));this.get_widget().set_hoverTooltipText(eb.tooltipText)},handleWidgetPropertyChanged:function(eb,ec){}},ss.makeGenericType(df,[cp,Object,Object]));ss.initClass(dC,a,{});ss.initClass(dD,a,{add_tabChanged:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},remove_tabChanged:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(eb){if(!ss.referenceEquals(this.$4,eb)){this.$4=eb;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(eb,ec,ed,ee){if(ss.keyExists(this.$3,eb)){return}var ef=this.$5.createTabLabel(eb,ec);ef.domRoot.addClass('tabTabLabelId-'+eb);var eg=new dK(ef.domRoot);var eh=ss.mkdel(this,function(ei,ej){if(ej.get_propertyName()==='selected'&&eg.get_selected()){this.$0(ed.get_rootElement(),eb)}});eg.add_propertyChanged(eh);this.$2.add$1(new tab.CallOnDispose(function(){eg.remove_propertyChanged(eh)}));this.$2.add$1(eg);this.$1.addItem(eg);this.$3[eb]=eg;this.$5.get_tabs().append(ef.domRoot);ed.addToDom(this.$5.get_contentArea());if(ee){this.selectTab(eb)}else{eg.set_disabled(true)}},selectTab:function(eb){if(!ss.keyExists(this.$3,eb)){return}this.$1.selectItem(this.$3[eb])},enableTab:function(eb,ec){if(!ss.keyExists(this.$3,eb)){return}this.$3[eb].set_disabled(!ec);this.selectTab(this.get_activeTabId())},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(eb,ec){this.$5.get_contentArea().children().hide();eb.show();this.set_activeTabId(ec)}},null,[ss.IDisposable]);ss.initClass(dE,a,{$9:function(eb){this.$1$1=ss.delegateCombine(this.$1$1,eb)},$a:function(eb){this.$1$1=ss.delegateRemove(this.$1$1,eb)},$5:function(eb){this.$1$2=ss.delegateCombine(this.$1$2,eb)},$6:function(eb){this.$1$2=ss.delegateRemove(this.$1$2,eb)},$7:function(eb){this.$1$3=ss.delegateCombine(this.$1$3,eb)},$8:function(eb){this.$1$3=ss.delegateRemove(this.$1$3,eb)},$b:function(eb){this.$1$4=ss.delegateCombine(this.$1$4,eb)},$c:function(eb){this.$1$4=ss.delegateRemove(this.$1$4,eb)},get_stopPropagationOnEvent:function(){return this.$4},set_stopPropagationOnEvent:function(eb){this.$4=eb},dispose:function(){if(ss.isValue(this.handler)){this.handler.dispose();this.handler=null}this.$1.dispose()},onPress:function(eb){this.$9(eb);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(eb)})));return this},onClick:function(eb){this.$5(eb);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6(eb)})));return this},onDoubleClick:function(eb){this.$7(eb);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8(eb)})));this.$0('doubleTap',ss.mkdel(this,this.handleDoubleClickEvent));return this},onRightClick:function(eb){this.$b(eb);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c(eb)})));return this},$0:function(eb,ec){if(!bu.isHandling(this.eventConfig,eb)){var ed={};bu.setHandler(ed,eb,ec);this.handler.update(ed);$.extend(this.eventConfig,ed)}},raiseEvent:function(eb,ec,ed){if(ss.isValue(ec)){if(ed){eb.stopPropagation()}ec(eb)}},handlePressEvent:function(eb){this.$2=eb.pageX;this.$3=eb.pageY;this.raiseEvent(eb,this.$1$1,false)},handleClickEvent:function(eb){this.raiseEvent(eb,this.$1$2,this.$4);if(eb.type==='touchend'){E.preventGhostClick(this.$2,this.$3,eb.target)}},handleDoubleClickEvent:function(eb){this.raiseEvent(eb,this.$1$3,this.$4)},handleRightClickEvent:function(eb){eb.preventDefault();this.raiseEvent(eb,this.$1$4,this.$4)}},null,[ss.IDisposable]);ss.initClass(dF,a,{get_domElement:function(){return this.config.domElem},setupEventRecognizer:function(eb){this.$2=new bw(eb);this.$2.setupPressDrag(eb)},suppressHover:function(){if(bu.isUsingHover(this.config)){this.$2.suppressHover()}},unsuppressHover:function(){if(bu.isUsingHover(this.config)){this.$2.unsuppressHover()}},cancelHover:function(){if(bu.isUsingHover(this.config)){this.$2.cancelHover()}},getHandledEvents:function(){var eb=[];var ec=this.config;var ed=ss.getEnumerator(Object.keys(ec));try{while(ed.moveNext()){var ee=ed.current();if(ss.isValue(ec[ee])&&ss.referenceEquals(ss.getInstanceType(ec[ee]),Function)){eb.push(ee)}}}finally{ed.dispose()}return eb},update:function(eb){$.extend(this.config,eb);this.$2.updateAllGestures(this.config);this.$2.setupPressDrag(this.config)},destroy:function(){this.dispose()},dispose:function(){if(ss.isValue(this.$3)){var eb=ss.getEnumerator(cS.get_allHandledEvents());try{while(eb.moveNext()){var ec=eb.current();this.$3.domElement.removeEventListener(ec.toString(),this.$3.eventHandler)}}finally{eb.dispose()}}if(ss.isValue(this['debugger'])){this['debugger']['destroy']()}this.$2.dispose()},configureDomElem:function(eb){if(!ss.equalsT(eb.tagName.toLowerCase(),'input')&&(ss.isNullOrUndefined(eb.style['user-select'])||ss.staticEquals(eb.style['user-select'],''))&&(ss.isNullOrUndefined(eb.style['-webkit-user-select'])||ss.staticEquals(eb.style['-webkit-user-select'],''))){eb.style['-webkit-user-select']='none'}eb.style['-webkit-touch-callout']='none';eb.style['-webkit-tap-highlight-color']='transparent';eb.style['-ms-touch-action']='none'},$1:function(eb){if(eb.touches.length>1&&!eb.get_allTouchesShareCurrentTarget()){this.$2.cancelAllGestures();return true}return false},handler:function(eb){var ec=!tsConfig.is_mobile&&eb.get_isTouchEvent();var ed=tab.DomUtil.handleTouchEvents(eb.target);if(ec&&!ed){return}else if(ec&&ed){if(ss.keyExists(eb.originalEvent,'preventDefault')){eb.originalEvent.preventDefault()}}if(this.$1(eb)){return}this.$2.handleEvent(eb,this.config)},$0:function(eb){var ec=ss.mkdel(this,function(ef){var eg=cS.create(ef,this.config.domElem,null);this.handler(eg)});this.$3={domElement:eb,eventHandler:ec};var ed=ss.getEnumerator(cS.get_allHandledEvents());try{while(ed.moveNext()){var ee=ed.current();eb.addEventListener(ee.toString(),ec,false)}}finally{ed.dispose()}}},null,[ss.IDisposable]);dF.$ctor1.prototype=dF.prototype;ss.initClass(dG,a,{get_eventHandlingAttributesForReact:function(){return this.$2$1},set_eventHandlingAttributesForReact:function(eb){this.$2$1=eb},updateEventHandleSpec:function(eb,ec){this.config=ec||{};this.config.domElem=eb;this.configureDomElem(eb);this.setupEventRecognizer(this.config)},$4:function(){var eb={};var ec=ss.mkdel(this,function(eg){var eh=cS.create(eg.nativeEvent,this.config.domElem,eg);this.handler(eh)});var ed=ss.getEnumerator(cS.get_allHandledEvents());try{while(ed.moveNext()){var ee=ed.current();var ef=dG.$0(ee);if(ss.isValue(ef)){eb[ef]=ec}else{}}}finally{ed.dispose()}return eb}},dF,[ss.IDisposable]);ss.initClass(dI,a,{render:function(){var eb='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var ec=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.createElement(bC,{styleClass:'tab-TextDropdownButton '+ec,selectionDisplay:ss.mkdel(this,function(){return[(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return React.DOM.span({className:'tab-Icon '+this.props.selectionIconClass,key:'icon'})})():null),React.DOM.span({className:eb,key:'text'},this.props.selectionText)]})})}},da);ss.initClass(dL,a,{add_toggled:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_toggled:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},get_toggleValue:function(){return this.$0},set_toggleValue:function(eb){if(eb!==this.get_toggleValue()){this.raiseToggled()}this.$0=eb},get_data:function(){return this.$2$2},set_data:function(eb){this.$2$2=eb},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},w,[ss.IDisposable,tab.IViewModel]);ss.initEnum(dM,a,{left:0,center:1,right:2});ss.initEnum(dN,a,{left:0,right:1});ss.initEnum(dO,a,{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});ss.initClass(dP,a,{isPopupHeightLimited:function(){return this.limitPopupHeight||ss.isValue(this.maxPopupHeight)}});dP.$ctor1.prototype=dP.prototype;ss.initClass(dQ,a,{get_caretHeight:function(){if(!ss.isValue(dQ.$1)){dQ.$1=tab.DoubleUtil.roundToInt(this.caret.outerHeight())}return ss.unbox(dQ.$1)}},dH,[ss.IDisposable]);ss.initEnum(dR,a,{standard:0,minimalist:1});ss.initClass(dS,a,{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},get_height:function(){return this.element.outerHeight(false)},get_dom:function(){return this.get_template()},$6:function(){this.element.attr('tabindex','-1').on('keydown',ss.mkdel(this,function(eb){if(eb.which===27&&!(eb.metaKey||eb.shiftKey||eb.ctrlKey||eb.altKey)){this.get_viewModel().hide(false);eb.preventDefault();eb.stopPropagation()}}));if(this.get_viewModel().options.popupMode===0){this.get_viewModel().add_shown(ss.mkdel(this,function(){bB.trapFocus(this.element)}))}},dispose:function(){this.disposeContent();this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$a();ss.makeGenericType(v,[dT]).prototype.dispose.call(this)},disposeContent:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$a();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$a();this.hideGlass();break}}},onViewModelPropertyChanged:function(eb,ec){if(ec.get_propertyName()==='mode'){this.updateMode()}else if(ec.get_propertyName()==='size'){this.positionPopup()}else if(ec.get_propertyName()==='content'){this.updateContent()}},shown:function(){var eb=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(eb.theme===1){this.element.addClass('tabUberPopupMinimal')}if(eb.useCaret){this.get_dom().domRoot.addClass('tabUberCaretStyle')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(eb.additionalClassNames)){eb.additionalClassNames.forEach(ss.mkdel(this,function(ec){this.element.addClass(ec)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show();if(this.get_viewModel().options.focusOnShown){window.setTimeout(ss.mkdel(this,function(){if(!$.contains(this.element[0],document.activeElement)){this.element.focus()}}))}}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bE;this.glass.set_zIndex(this.popupViewModel.options.glassZIndex);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){bF.add_firstTouch(ss.mkdel(this,this.$8));bF.add_dismissTemporaryElements(ss.mkdel(this,this.$7))},$a:function(){bF.remove_firstTouch(ss.mkdel(this,this.$8));bF.remove_dismissTemporaryElements(ss.mkdel(this,this.$7))},$8:function(eb,ec){if(this.get_template().domRoot.get(0).contains(eb.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var ed=0;ed<this.popupViewModel.options.globalTouchWhitelist.length;ed++){var ee=this.popupViewModel.options.globalTouchWhitelist[ed];if(ee.contains(eb.target)){return}}}this.popupViewModel.hide(false)},$7:function(){this.popupViewModel.hide(false)},positionPopup:function(){if(ss.isNullOrUndefined(this.get_viewModel().get_relativeElement())||this.get_viewModel().get_relativeElement().length<1){return}this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.element.css('z-index',this.popupViewModel.options.glassZIndex+1);var eb=this.get_viewModel().options;if(!eb.isPopupHeightLimited()){this.element.css('max-height','100%')}this.positionPopupHorizontally();if(eb.isToolbarFlyout){this.$9()}else{this.positionPopupVertically()}this.get_dom().caret.toggle(eb.useCaret);this.get_dom().caretBorder.toggle(eb.useCaret)},positionPopupHorizontally:function(){var eb=this.get_viewModel().options;var ec=this.get_viewModel().get_relativeElement();var ed=$(ec.prop('ownerDocument'));var ee=this.get_width();var ef=tab.DomUtil.getPageOffset(ec).left;if(eb.horizontalAlign===1){ef+=ec.outerWidth(false)/2;ef-=ee/2}else if(eb.horizontalAlign===2){ef+=ec.outerWidth(false);ef-=ee}var eg=ef+ee-ed.width();if(eg>0){ef-=eg}if(eb.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(ef,0)+'px')}else{var eh=$('body').outerWidth(true);var ei=eh-(ef+ee);ei-=Math.max(0,ei+ee-eh);this.element.css('left','');this.element.css('right',ei+'px')}if(eb.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(ec.outerWidth(false)))}},$9:function(){var eb=this.get_viewModel().options;var ec=this.get_viewModel().get_relativeElement();var ed=$('body');var ee=tab.DomUtil.getPageOffset(ec).top;if(eb.preferUp){ee+=1;ee+=(eb.coverRelativeElement?ec.outerHeight(false):0);var ef=ed.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.Int32.trunc(ef-ee)+'px')}else{ee-=1;ee+=(eb.coverRelativeElement?0:ec.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.Int32.trunc(ee)+'px')}},positionPopupVertically:function(){var eb=this.get_viewModel().options;var ec=this.get_viewModel().get_relativeElement();var ed=tab.DomUtil.getPageOffset(ec);var ee=tab.DomUtil.roomAroundPosition(ed);var ef=ec.outerHeight(false);var eg=((eb.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());if(eb.isPopupHeightLimited()){this.$b(ee,eg,ef)}var eh=this.get_height();var ei=ee.roomBelow>=eh+ef+eg;var ej=ee.roomAbove>eh+eg;var ek=this.popupViewModel.options.useCaret;if(ek){ej=ee.roomAbove>eh+this.get_dom().get_caretHeight()+4+eg}var el=ed.top+ef;var em=ed.top-eh;var en;if(eb.preferUp&&ej){en=em}else if(ei&&!ek){en=el}else if(ej){en=em}else if(ee.roomBelow>=ee.roomAbove&&!ek){en=ed.top-(eh-ee.roomBelow+eg)}else{en=ed.top-ee.roomAbove+eg}if(ek){en-=this.get_dom().get_caretHeight()+4}this.element.css('top',en+'px')},$b:function(eb,ec,ed){var ee=this.get_viewModel().options;var ef=null;if(ee.limitPopupHeight){ef=Math.max(eb.roomAbove,eb.roomBelow-ed)-ec}if(ss.isValue(ee.maxPopupHeight)){var eg=ef;if(ss.isNullOrUndefined(eg)){eg=Number.MAX_VALUE}var eh=eg;ef=Math.min(eh,ss.unbox(ee.maxPopupHeight))}if(ss.isValue(ef)){this.element.css('max-height',ef+'px')}},updateContent:function(){this.disposeContent();var eb=this.get_template().content;eb.children().detach();this.contentView=this.get_viewModel().createContentView();if(this.visible){this.contentView.addToDom(eb)}}},ss.makeGenericType(v,[dT]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dT])]);ss.initClass(dT,a,{add_shown:function(eb){this.$2$1=ss.delegateCombine(this.$2$1,eb)},remove_shown:function(eb){this.$2$1=ss.delegateRemove(this.$2$1,eb)},add_hidden:function(eb){this.$2$2=ss.delegateCombine(this.$2$2,eb)},remove_hidden:function(eb){this.$2$2=ss.delegateRemove(this.$2$2,eb)},add_commit:function(eb){this.$2$3=ss.delegateCombine(this.$2$3,eb)},remove_commit:function(eb){this.$2$3=ss.delegateRemove(this.$2$3,eb)},get_mode:function(){return this.options.popupMode},set_mode:function(eb){if(this.options.popupMode===eb){return}this.options.popupMode=eb;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(eb){this.$0=eb;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(eb){this.remove_hidden(ss.mkdel(this,this.dispose));if(eb){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(eb){this.$1=function(){return eb}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(eb){this.$2$4=eb},createContentView:function(){return tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.get_content().get_viewType(),[this.get_content().get_viewModel()])},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(eb){if(eb&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(eb){this.disposables.add$1(eb)}},w,[ss.IDisposable,tab.IViewModel]);dT.$ctor1.prototype=dT.prototype;ss.initClass(dU,a,{});ss.initClass(dV,a,{},cK);ss.initClass(dW,a,{},cK);ss.initClass(dX,a,{render:function(){var eb=this.state.displayValue;if(this.props.disabled&&ss.isValue(this.props.disabledText)){eb=this.props.disabledText}var ec=React.DOM.input({type:'text',value:eb,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)});var ed=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-vertical'},bs.div({tap:ss.mkdel(this,function(ef){this.$7()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-up'})]),bs.div({tap:ss.mkdel(this,function(ef){this.$2()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-down'})]));var ee=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},ec,ed);if(ss.isValue(this.props.label)){ee=React.DOM.div(null,React.DOM.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),ee)}ee=React.DOM.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},ee);if(ss.isValue(this.props.extraCssClass)){ee=React.DOM.div({className:this.props.extraCssClass},ee)}return ee},componentWillReceiveProps:function(eb){this.setState(dX.$0(eb.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(eb){this.$1();var ec=eb.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:ec.value})},$0:function(eb){this.$1();var ec={};if(!ss.Int32.tryParse(this.state.displayValue,ec)){ec.$=this.state.value}this.$a(ec.$)},$5:function(eb){switch(eb.keyCode){case 38:{this.$1();this.$9(this.state.pendingValue+this.props.stepSize);break}case 40:{this.$1();this.$9(this.state.pendingValue-this.props.stepSize);break}case 13:{this.$0(null);break}}},$6:function(eb){switch(eb.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(eb){this.$1();if(this.props.actionDelay===0){this.$a(eb)}else{this.$9(eb);this.$b=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b)},$a:function(eb){eb=this.$4(eb);var ec=eb!==this.state.value;this.setState(dX.$0(eb));if(ec&&!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(eb)}},$4:function(eb){if(ss.isValue(this.props.minValue)){eb=Math.max(eb,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){eb=Math.min(eb,ss.unbox(this.props.maxValue))}return eb},$9:function(eb){eb=this.$4(eb);this.setState({value:this.state.value,pendingValue:eb,displayValue:eb.toString()})}},React.Component);ss.initClass(dY,a,{});ss.initClass(ea,a,{});(function(){by.$0=0})();(function(){dl.$1=null;dl.$1={};dl.$1[0]=b})();(function(){d.$0="<span class='tabTabLabel' />"})();(function(){cN.$2=null;cN.$3=null;cN.$1=false})();(function(){h.$3={};h.$9={};h.$6={};h.$5={};h.$7={};h.$8={};h.$4={};h.$2()})();(function(){cS.$0=0})();(function(){i.$3=new Array(10)})();(function(){j.$0="\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"})();(function(){l.$0="<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"})();(function(){m.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){n.$0="<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"})();(function(){dZ.$2='widgetInstance';dZ.$1='tab-widget';dZ.$0='.tab-disableSelection';dZ.$3=0;dZ.selectableNodeClass=null;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}dZ.selectableNodeClass='tab-selectable'})();(function(){E.suppressClickBustingClass=SharedWidgets.SuppressClickBustingClass;E.$2=25;E.$3=null;E.$1$1=null})();(function(){cM.$8=null})();(function(){X.noOp=new X('cursors/dragnop-black.cur','auto');X.delete$1=new X('cursors/dragdel-black.cur','auto');X.copy=new X('cursors/dragcopy-black.cur','auto');X.move=new X('cursors/dragmove-black.cur','auto')})();(function(){bF.$1$1=null;bF.$1$2=null;bF.$1$3=null;bF.$1$4=null;bF.$1$5=null;bF.$1$6=null;bF.$1$7=null})();(function(){ea.$4={};ea.$7=null;ea.$6=1;ea.$5=1;window.addEventListener('message',ss.thisFix(ea.$0),false)})();(function(){bJ.hoverTime=150;bJ.fastHoverTime=120})();(function(){bD.doubleTapTime=390;bD.potentialPressTime=500;bD.pressTime=750;bD.defaultSlop=5;bD.$1='tab-'})();(function(){bE.glassClass='tab-glass';bE.$1="<div class='tab-glass clear-glass'></div>";bE.$0='clear-glass';bE.$2='opaque-glass'})();(function(){bk.$g='data-tab-drag-source';bk.$i='[data-tab-drag-source]';bk.$h='tabDragSource';bk.$j='data-tab-drop-target';bk.$k='tabDropTarget';bk.$m='[data-tab-drop-target]';bk.$l='tabDropTarget';bk.$o=null;bk.$p=null;bk.$w=null;bk.$v=null;bk.$y=null;bk.$x=0;bk.$n=null;bk.$u=null;bk.$r=null;bk.$s=null;bk.$z=[];bk.$t=null;bk.$q=null;bk.$1$1=null;bk.$1$2=null;bk.$1$3=null;bk.$1$4=null;bk.$1$5=null;bk.$u={};bk.$u.dragStart=bk.dragStart;bk.$u.dragMove=bk.dragMove;bk.$u.dragEnd=bk.dragEnd;bk.$u.pressEnd=bk.dragEnd;bk.$u.firstTouch=bk.firstTouch})();(function(){bw.$2='none'})();(function(){dG.$1=null})();(function(){dK.defaultSelectedClassName='selected';dK.selectedProperty='selected';dK.toggleClassProperty='selectedClass';dK.$1=0})();(function(){cq.$2="<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>";cq.$4="<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>";cq.$5="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";cq.$3="<span class='innerIcon'></span>";cq.$6='.label';cq.$1='hide';cq.$7='tab-unification-check';cq.$8='tab-img-check';cq.$9='tab-unification-radio'})();(function(){dJ.textPropertyName='text'})();(function(){D.$0="<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"})();(function(){F.$1=10;F.$0=300;F.$2=0})();(function(){dp.$0='__ALL__'})();(function(){dx.getSpiffBrowserViewportFunc=null})();(function(){dy.$2='selector';dy.$0='relative';dy.$1=3;dy.$3=13})();(function(){cD.$0=0})();(function(){O.$0="<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"})();(function(){cH.$0="<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"})();(function(){cF.$0="<div class='tabMenuItemDivider' role='separator' />"})();(function(){cG.$0="\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"})();(function(){cI.defaultMenuItem='tabMenuDefaultItem';cI.classMenuItem='tabMenuMenuItem';cI.keyMenuItem='tabMenuMenuItem';cI.menuFadeDurationMs=50;cI.$4='tabMenuMenuItemLevel';cI.$2='tabMenuHasIconTwo';cI.$1=989;cI.$3=1000})();(function(){R.$0='hasIcons'})();(function(){Q.iconPressedClass='tabComboBoxNoIconPressed';Q.invalidClass='invalid';Q.noIconClass='tabComboBoxNoIcon';Q.pressedClass='pressed';Q.disabledClass='disabled';Q.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){cv.listItemSpotlightedClassName='tab-list-item-spotlighted';cv.boldClass='bold';cv.invalidClass='invalid'})();(function(){cw.selectedProperty='selected';cw.invalidProperty='invalid';cw.draggableProperty='draggable';cw.spotlightedProperty='spotlighted';cw.boldProperty='bold'})();(function(){cA.collectionProperty='collection';cA.enabledProperty='enabled'})();(function(){cB.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){tab.ObjectRegistry.registerType(cX,cX).call(null)})();(function(){dP.startingGlassZIndex=987})();(function(){bB.$8='tab-showFocusIndicator';bB.$7='keydown.'+ss.getTypeName(bB);bB.$a=false;bB.$9=null})();(function(){dS.minimalistThemeClass='tabUberPopupMinimal'})();(function(){S.listClassName='tabCompositeSearchWidgetList';S.$0=400})();(function(){cp.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";cp.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";cp.$2="<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>";cp.$3="<span class='tab-text-button'><span class='label hide'></span></span>";cp.$4='.label'})();(function(){U.$0="<div class='tabCompositeSearchWidget'><div>"})();(function(){Y.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>"})();(function(){bb.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){bc.$1=1;bc.$0=9})();(function(){Z.centeredVerticallyClassName='centeredVertically';Z.scrollableClassName='scrollable';Z.$1=8})();(function(){cO.$0=function(){}})();(function(){cU.$c=2500;cU.$d=75;cU.$j=null;cU.$k=null;cU.$e=0;cU.$f=0;cU.$i=null;cU.$h=null;cU.$g=false;cU.$1$1=null;cU.init()})();(function(){be.positionProperty='position';be.isActiveProperty='isActive';be.$0='active';be.$2='.tab-dialogCloseButton';be.$1='.tab-dialogBodyContainer';be.$7='.tab-dialogTitleBar';be.$8='.tab-dialogTitle';be.$5='.tab-dialogResizer';be.$6='.tab-dialogSpinnerContainer';be.$4="\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";be.$9=null;be.$3=new cR;be.defaultDraggableDialogConfigurer=null;be.defaultStationaryDialogConfigurer=null;be.defaultDraggableDialogConfigurer=function(eb){var ec=new cP(eb.$u,eb.$g,false);ec.set_documentBodySize('useClientSize');return ec};be.defaultStationaryDialogConfigurer=function(){return null}})();(function(){bq.$0='editing';bq.$1='hover'})();(function(){cz.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new du}})();(function(){dC.$1="<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"})();(function(){tab.ObjectRegistry.registerType(dD,dD).call(null)})();(function(){dQ.contentClassName='tabUberPopupContent';dQ.caretClassName='tabUberArrow';dQ.caretBorderClassName='tabUberArrow2';dQ.$0="<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>";dQ.$1=null})();(function(){dU.designTint='tab-DesignTint';dU.text='tab-Text';dU.bold='tab-bold';dU.italic='tab-italic';dU.underline='tab-underline';dU.darkBackground='tab-darkBackground';dU.title='tab-Title';dU.button='tab-UnifiedButton';dU.icon='tab-Icon';dU.iconButton='tab-IconBtn';dU.vScrollable='tab-vScrollable';dU.selectableButtonGroup='tab-SelectableButtonGroup';dU.selectionMark='tab-SelectionMark';dU.active='active';dU.hover='hover';dU.hitTestArea='tab-HitTestArea';dU.focused='focused';dU.bordered='bordered';dU.disabled='disabled';dU.selectable='selectable';dU.selected='selected';dU.unselected='unselected';dU.excluded='excluded';dU.search='tab-Search';dU.searchField='tab-UnifiedSearchField';dU.searchClearButton='tab-SearchClearButton';dU.positioningContainer='tab-PositioningContainer';dU.searchInput='tab-SearchInput';dU.ghostText='tab-GhostText';dU.textInput='tab-TextInput';dU.glass='tab-Glass';dU.catQF='tab-NewQF-CategoricalQuickFilter';dU.titleAndCtrl='tab-TitleAndControls';dU.horizontalLayout='tab-HorizontalLayout';dU.qfTitleBarButton='tab-NewQFTitleBarBtn';dU.dropdownButtonIcon='tab-NewQFTitleBarDropdownBtnIcon';dU.searchButtonIcon='tab-NewQFTitleBarSearchBtnIcon';dU.clearButtonEnabledIcon='tab-NewQFTitleBarFilteredBtnIcon';dU.clearButtonDisabledIcon='tab-NewQFTitleBarNonFilteredBtnIcon';dU.domainButtonAllIcon='tab-NewQFTitleBarDomainAllIcon';dU.domainButtonContextIcon='tab-NewQFTitleBarDomainContextIcon';dU.domainButtonRelevantIcon='tab-NewQFTitleBarDomainRelevantIcon';dU.applyCancelPanel='tab-ApplyCancelPanel';dU.applyCancel='apply-cancel';dU.apply$1='apply';dU.cancel='cancel';dU.sliderControlClass='unification-slider-control';dU.sliderContainerClass='tabHorizontalSliderContainer';dU.sliderInputClass='tabHorizontalSlider';dU.sliderTextBoxClass='tabHorizontalSliderPercentageText';dU.sliderPercentageClass='tabHorizontalSliderPercentageSign'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,b,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};b.__typeName='tab.ICategoricalLegendView$1';ss.initGenericInterface(b,a,1);global.tab.ICategoricalLegendView$1=b;var c=function(){};c.__typeName='tab.ICategoricalLegendViewModel';global.tab.ICategoricalLegendViewModel=c;var d=function(){};d.__typeName='tab.IContinuousSlider';global.tab.IContinuousSlider=d;var e=function(){};e.__typeName='tab.IContinuousSliderViewModel';global.tab.IContinuousSliderViewModel=e;var f=function(){};f.__typeName='tab.ICurrentPagePanelWidgetShim';global.tab.ICurrentPagePanelWidgetShim=f;var g=function(){};g.__typeName='tab.IFilterPanelWidgetShim';global.tab.IFilterPanelWidgetShim=g;var h=function(){};h.__typeName='tab.ILegacyDojoUIModule';global.tab.ILegacyDojoUIModule=h;var i=function(){};i.__typeName='tab.ILegacyDojoWidgetMaker';global.tab.ILegacyDojoWidgetMaker=i;var j=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,j,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};j.__typeName='tab.ILegacyLegendView$1';ss.initGenericInterface(j,a,1);global.tab.ILegacyLegendView$1=j;var k=function(){};k.__typeName='tab.ILegacyLegendViewModel';global.tab.ILegacyLegendViewModel=k;var l=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,l,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};l.__typeName='tab.ILegacyQuickFilterDisplayView$1';ss.initGenericInterface(l,a,1);global.tab.ILegacyQuickFilterDisplayView$1=l;var m=function(){};m.__typeName='tab.ILegacyQuickFilterDisplayViewModel';global.tab.ILegacyQuickFilterDisplayViewModel=m;var n=function(){};n.__typeName='tab.ILegacyWidgetShim';global.tab.ILegacyWidgetShim=n;var o=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,o,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};o.__typeName='tab.IPageView$1';ss.initGenericInterface(o,a,1);global.tab.IPageView$1=o;var p=function(){};p.__typeName='tab.IPageViewModel';global.tab.IPageViewModel=p;var q=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,q,[w],{updateViewProperties:null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};q.__typeName='tab.IParameterControlView$1';ss.initGenericInterface(q,a,1);global.tab.IParameterControlView$1=q;var r=function(){};r.__typeName='tab.IParameterControlViewModel';global.tab.IParameterControlViewModel=r;var s=function(){};s.__typeName='tab.IParameterControlWidgetShim';global.tab.IParameterControlWidgetShim=s;var t=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,t,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};t.__typeName='tab.IQuantitativeColorLegendView$1';ss.initGenericInterface(t,a,1);global.tab.IQuantitativeColorLegendView$1=t;var u=function(){};u.__typeName='tab.IQuantitativeColorLegendViewModel';global.tab.IQuantitativeColorLegendViewModel=u;var v=function(){};v.__typeName='tab.ITabbedNavigation';global.tab.ITabbedNavigation=v;ss.initInterface(c,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(d,a,{get_widgetNode:null,onAddedToDomShim:null});ss.initInterface(e,a,{add_sliderValueChange:null,remove_sliderValueChange:null,add_intermediateChange:null,remove_intermediateChange:null,get_sliderClassName:null,set_sliderClassName:null,get_currentFraction:null,set_currentFraction:null,get_pixelWidth:null,set_pixelWidth:null,get_ruleTickCount:null,set_ruleTickCount:null,currentFractionUpdated:null},[ss.IDisposable,tab.IViewModel,spiff.IHasEnabledState]);ss.initInterface(n,a,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(f,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[n]);ss.initInterface(g,a,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[n,ss.IDisposable]);ss.initInterface(h,a,{createTabbedNavigation:null,createPageViewModel:null,createCategoricalLegendViewModel:null,createQuantitativeColorLegendViewModel:null,createLegacyLegendViewModel:null,createLegacyQuickFilterDisplayViewModel:null,createParameterControlViewModel:null,createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:null,createContinuousSliderViewModel:null,createLegacyLegendView:null,createContinuousSlider:null});ss.initInterface(i,a,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(k,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(m,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(p,a,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(r,a,{get_parameterCtrlModel:null,get_hasBorder:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(s,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[n]);ss.initInterface(u,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(v,a,{get_widgetDomNode:null,destroyShim:null,startupShim:null,resizeShim:null});ss.setMetadata(b,{variance:[1]});ss.setMetadata(j,{variance:[1]});ss.setMetadata(l,{variance:[1]});ss.setMetadata(o,{variance:[1]});ss.setMetadata(q,{variance:[1]});ss.setMetadata(t,{variance:[1]})})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=function(){};b.__typeName='tab.HitResultObjectType';global.tab.HitResultObjectType=b;var c=function(){};c.__typeName='tab.IAliasDialogModule';global.tab.IAliasDialogModule=c;var d=function(){};d.__typeName='tab.IAuthoringStoryboardView';global.tab.IAuthoringStoryboardView=d;var e=function(){};e.__typeName='tab.IAuthoringStoryboardViewModel';global.tab.IAuthoringStoryboardViewModel=e;var f=function(){};f.__typeName='tab.IBinDialogModule';global.tab.IBinDialogModule=f;var g=function(){};g.__typeName='tab.ICertificationMarkFactory';global.tab.ICertificationMarkFactory=g;var h=function(){};h.__typeName='tab.ICommentingFactory';global.tab.ICommentingFactory=h;var i=function(){};i.__typeName='tab.ICommentingModuleViewModel';global.tab.ICommentingModuleViewModel=i;var j=function(){};j.__typeName='tab.IConnectionDialogModule';global.tab.IConnectionDialogModule=j;var k=function(){};k.__typeName='tab.IDataConnectionModule';global.tab.IDataConnectionModule=k;var l=function(Q){var R=function(){};ss.registerGenericInterfaceInstance(R,l,[Q],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[Q])]});ss.setMetadata(R,{variance:[1]});return R};l.__typeName='tab.IDataConnectionPromptView$1';ss.initGenericInterface(l,a,1);global.tab.IDataConnectionPromptView$1=l;var m=function(){};m.__typeName='tab.IDataConnectionPromptViewModel';global.tab.IDataConnectionPromptViewModel=m;var n=function(){};n.__typeName='tab.IDataTabModule';global.tab.IDataTabModule=n;var o=function(){};o.__typeName='tab.IDownloadDialogModule';global.tab.IDownloadDialogModule=o;var p=function(){};p.__typeName='tab.IGroupDialogModule';global.tab.IGroupDialogModule=p;var q=function(){};q.__typeName='tab.IHitTestResult';global.tab.IHitTestResult=q;var r=function(){};r.__typeName='tab.IPaneContent';global.tab.IPaneContent=r;var s=function(){};s.__typeName='tab.IPaneTableView';global.tab.IPaneTableView=s;var t=function(){};t.__typeName='tab.IPaneTableViewModel';global.tab.IPaneTableViewModel=t;var u=function(){};u.__typeName='tab.IParameterFilterViewModel';global.tab.IParameterFilterViewModel=u;var v=function(){};v.__typeName='tab.IPdfExportDialogModule';global.tab.IPdfExportDialogModule=v;var w=function(){};w.__typeName='tab.IQuickFilterViewModel';global.tab.IQuickFilterViewModel=w;var x=function(){};x.__typeName='tab.IRegionResizerViewModel';global.tab.IRegionResizerViewModel=x;var y=function(){};y.__typeName='tab.IResizeHeadersModule';global.tab.IResizeHeadersModule=y;var z=function(){};z.__typeName='tab.IResizeHeadersViewModel';global.tab.IResizeHeadersViewModel=z;var A=function(){};A.__typeName='tab.IRichTextAuthoringModule';global.tab.IRichTextAuthoringModule=A;var B=function(){};B.__typeName='tab.ISelfServiceSchedulesModule';global.tab.ISelfServiceSchedulesModule=B;var C=function(){};C.__typeName='tab.ISharedWidgetsDataGrid';global.tab.ISharedWidgetsDataGrid=C;var D=function(){};D.__typeName='tab.ISharedWidgetsPlayground';global.tab.ISharedWidgetsPlayground=D;var E=function(){};E.__typeName='tab.IStoryAuthoringModule';global.tab.IStoryAuthoringModule=E;var F=function(){};F.__typeName='tab.IStoryContentPaneViewModel';global.tab.IStoryContentPaneViewModel=F;var G=function(){};G.__typeName='tab.IStoryLayoutPaneViewModel';global.tab.IStoryLayoutPaneViewModel=G;var H=function(){};H.__typeName='tab.IStoryModule';global.tab.IStoryModule=H;var I=function(){};I.__typeName='tab.ITrendLineDialogModule';global.tab.ITrendLineDialogModule=I;var J=function(){};J.__typeName='tab.IUnificationStyleQuickFiltersModule';global.tab.IUnificationStyleQuickFiltersModule=J;var K=function(){};K.__typeName='tab.IViewController';global.tab.IViewController=K;var L=function(){};L.__typeName='tab.IViewUnderlyingDataTableModule';global.tab.IViewUnderlyingDataTableModule=L;var M=function(){};M.__typeName='tab.IVizHitInfo';global.tab.IVizHitInfo=M;var N=function(){};N.__typeName='tab.IVizHitTester';global.tab.IVizHitTester=N;var O=function(){};O.__typeName='tab.IVizZoneModule';global.tab.IVizZoneModule=O;var P=function(){};P.__typeName='tab.IZoneViewModel';global.tab.IZoneViewModel=P;ss.initEnum(b,a,{none:0,misc:1,trendLine:2,referenceLine:3,referenceLineLabel:4,mark:5,markLabel:6});ss.initInterface(c,a,{showDialog:null});ss.initInterface(d,a,{addToDom$1:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[e])]);ss.initInterface(e,a,{get_leftPanelContentPaneViewModel:null,get_leftPanelLayoutPaneViewModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(f,a,{showDialog:null});ss.initInterface(g,a,{createCertificationMark:null});ss.initInterface(h,a,{createCommentingModuleViewModel:null});ss.initInterface(i,a,{get_closeCommentingDrawer:null,set_closeCommentingDrawer:null,get_loadDrawerFonts:null,set_loadDrawerFonts:null,get_showNotification:null,set_showNotification:null},[spiff.IContent]);ss.initInterface(j,a,{showCreateConnectionDialog:null,showReplaceFileDialog:null,showEditConnectionDialog:null,showSignInDialog:null});ss.initInterface(k,a,{createDataConnectionPromptViewModel:null,createDataConnectionPromptView:null});ss.initInterface(m,a,{get_promptUpdated:null,set_promptUpdated:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(n,a,{showDataTab:null,hideDataTab:null});ss.initInterface(o,a,{buildDialogContent:null});ss.initInterface(p,a,{showGroupDialog:null});ss.initInterface(q,a,{get_hitObjectType:null,get_id:null});ss.initInterface(r,a,{get_title:null,get_id:null,get_contentViewType:null,get_contentViewModel:null,get_additionalContentViewClass:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(s,a,{get_scrollPosition:null,get_vizHitTester:null,doTiledViewerRefreshImages:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[t])]);ss.initInterface(t,a,{add_differentMarkBrushing:null,remove_differentMarkBrushing:null,add_differentMarkSelection:null,remove_differentMarkSelection:null,get_visualModel:null,get_sheetId:null,get_viewController:null,set_viewController:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(u,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(v,a,{createSpiffPdfExportDialog:null,showExportPdfDialog:null});ss.initInterface(w,a,{get_filterType:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(x,a,{get_visualId:null,get_resizerObject:null,set_resizerObject:null,get_resizerOffset:null,get_resizerLength:null,get_resizerMinimumOffset:null,get_resizerMaximumOffset:null},[spiff.IDragSource]);ss.initInterface(y,a,{getRegionResizerViewModel:null,getResizeHeadersViewModel:null});ss.initInterface(z,a,{add_updateResizeHeader:null,remove_updateResizeHeader:null,get_rowHeaderResizers:null,get_columnHeaderResizers:null,get_totalColumnHeadersHeight:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(A,a,{showRichTextEditorDialog:null});ss.initInterface(B,a,{createSubscriptionWithSelfServiceSchedule:null,createSubscriptionsWithSelfServiceSchedule:null});ss.initInterface(C,a,{createGrid:null,createArrayRowStore:null,createRowBandingStylist:null});ss.initInterface(D,a,{show:null});ss.initInterface(H,a,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null,insertStoryPoint:null,replaceStoryPoint:null,fireCloseStoryUberMenu:null,fireShowUpdateToast:null});ss.initInterface(E,a,{newAuthoringStoryboardViewModel:null},[H]);ss.initInterface(F,a,{},[ss.IDisposable,tab.IViewModel,r]);ss.initInterface(G,a,{},[ss.IDisposable,tab.IViewModel,r]);ss.initInterface(I,a,{showDialog:null});ss.initInterface(J,a,{newQuickFilterViewModel:null,newParameterFilterViewModel:null,getQuickFilterView:null,getParameterFilterView:null});ss.initInterface(K,a,{get_viewSession:null,get_sheetName:null,get_cacheVersion:null,setTiledViewer:null,incrementCacheVersion:null},[ss.IDisposable]);ss.initClass(L,a,{showDialog:null});ss.initInterface(M,a,{get_result:null,get_visualId:null,get_sheetId:null,get_paneColumnIndex:null,get_paneRowIndex:null,get_pageCoordinates:null});ss.initInterface(N,a,{add_updated:null,remove_updated:null,get_current:null,getAsync:null,isWithinLastHitTestDistance:null,getLastHitTestDistance:null,update:null},[ss.IDisposable]);ss.initInterface(O,a,{createPaneTableView:null,createPaneTableViewModel:null,addVizDragHandler:null,addAsyncVizDragHandler:null,addVizDragApprover:null});ss.initInterface(P,a,{add_resizeZone:null,remove_resizeZone:null,add_zoneResized:null,remove_zoneResized:null,add_validStateChanged:null,remove_validStateChanged:null,get_width:null,get_height:null,get_contentWidth:null,get_contentHeight:null,get_contentContainerStyle:null,get_titleSize:null,get_zoneId:null,get_hasTitle:null,get_associatedSheet:null,get_valid:null,get_model:null,forceZoneValidState:null});ss.setMetadata(l,{variance:[1]})})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};ss.initAssembly(a,'vqlui');global.onhelp=function(){return false};var b=function(){};b.__typeName='FontFace$FontFaceLoadStatus';global.FontFace$FontFaceLoadStatus=b;var c=function(){};c.__typeName='FontFaceSet$FontFaceSetLoadStatus';global.FontFaceSet$FontFaceSetLoadStatus=c;var d=function(){};d.__typeName='tab.$0';d.$0=function(e,eZ,fa){var fb=e.worksheetDataSchemaMap[eZ].primaryDatasource;var fc=e.parametersDatasource;var fd=[];var fe=e.dataSources;var ff=_.keys(fe);for(var fg=0;fg<ff.length;fg++){var fh=ff[fg];if(ss.referenceEquals(fh,fc)){continue}var fi=fe[fh];if(!ss.isNullOrEmptyString(fa)&&!ss.referenceEquals(fi.datasource,fa)){continue}var fj=[];for(var fk=0;fk<fi.fieldList.length;fk++){var fl=fi.fieldList[fk];if(ss.isValue(fl.baseColumnName)){continue}if(fl.type==='field-folder'){continue}var fm=fl;if(ss.isValue(fm.columnList)){for(var fn=0;fn<fm.columnList.length;fn++){var fo=fm.columnList[fn];var fp=w.newField(fo.name,u.convertFieldRole(fo.fieldRole),u.convertFieldAggregation(fo.aggregation));fj.push(fp)}}else{var fq=w.newField(fl.name,u.convertFieldRole(fl.defaultFieldRole),u.convertFieldAggregation(fl.defaultAggregation));fj.push(fq)}}var fr=ss.referenceEquals(fi.datasource,fb);var fs=w.newDataSource(fi.datasourceCaption,Array.prototype.slice.call(fj),fr);fd.push(fs)}var ft=w.newDataSourcesForWorksheet(eZ,Array.prototype.slice.call(fd));return ft};var f=function(){};f.__typeName='tab.$1';f.$0=function(e,eZ){var fa={};fa['api.commandResult']=e;fa['api.commandData']=eZ;var fb=JSON.stringify(fa);return fb};var g=function(){};g.__typeName='tab.$2';g.$8=function(e){var eZ=e;var fa=[];if(ss.isValue(eZ)){for(var fb=0;fb<eZ.length;fb++){var fc=eZ[fb];var fd=g.$1(fc);if(ss.isValue(fd)&&fd.isValidPresModel){fa.push(fd)}}}var fe=new Object;fe.parameters=Array.prototype.slice.call(fa);return fe};g.$6=function(e){var eZ=e;if(ss.isValue(eZ.valid)&&!eZ.valid){var fa=new Object;fa.isValidPresModel=false;return fa}else{var fb=e;if(ss.isValue(fb)){return g.$1(fb)}}return null};g.$0=function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}};g.$1=function(e){if(!ss.isValue(e.parameterName)||!ss.isValue(e.fieldCaption)){return null}var eZ=e.dataType;var fa=[];for(var fb=0;fb<e.valuesAliases.length;fb++){var fc=e.valuesAliases[fb];var fd=e.formattedValues[fb];fa.push(g.$4(eZ,fc,fd))}var fe=new Object;fe.isValidPresModel=true;fe.parameterName=e.parameterName;fe.name=e.fieldCaption;fe.currentValue=g.$4(eZ,e.valueAlias,e.formattedValue);fe.dataType=g.$0(eZ);fe.allowableValuesType=u.convertParameterDomainType(e.parameterDomainType);fe.allowableValues=Array.prototype.slice.call(fa);fe.stepSize=g.$7(eZ,e.valueInc);fe.minValue=g.$5(eZ,e.valueMin,e.formattedMin,null);fe.maxValue=g.$5(eZ,e.valueMax,e.formattedMax,null);if(eZ==='date'||eZ==='datetime'){fe.dateStepPeriod=u.convertPeriodType(e.datePeriodType)}return fe};g.$5=function(e,eZ,fa,fb){var fc=new Object;fc.type=u.convertDataType(e);fc.value=o.serializeDataValue(eZ,e);if(!tab.MiscUtil.isNullOrEmpty$3(fb)){fc.aliasedValue=fb}if(!tab.MiscUtil.isNullOrEmpty$3(fa)){fc.formattedValue=fa}return fc};g.$4=function(e,eZ,fa){return g.$5(e,g.$3(eZ),fa,g.$2(eZ))};g.$7=function(e,eZ){if(ss.isValue(eZ)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(eZ)}if(e==='real'){return parseFloat(eZ)}}return null};g.$3=function(e){return e[0]};g.$2=function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]};var h=function(){};h.__typeName='tab.$3';h.$0=function(){if(tsConfig.isUnitTestRun){return}l.$2();if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){cV.setupLocateFileOverride()}h.$1();h.$2()};h.$1=function(){if(tab.FeatureFlags.isEnabled('AsyncLoadDojo')){$(E.startup)}else{dojo.addOnLoad(E.startup)}};h.$2=function(){tab.CommandController.add_switchedViz(function(){E.startup()})};var i=function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]};i.__typeName='tab.$4';var j=function(e,eZ,fa,fb,fc){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=eZ;this.$4=fa;this.$2=fb;this.$3=fc};j.__typeName='tab.$5';var k=function(e,eZ,fa,fb,fc,fd,fe){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=eZ;this.$2=fa;this.$6=fb;this.$3=fc;this.$4=fd;this.$7=fe.clone()};k.__typeName='tab.$6';var l=function(){};l.__typeName='tab.$7';l.$2=function(){if(tsConfig.embedded){var e=document.getElementById('staticImage');if(ss.isNullOrUndefined(e)){return}l.$0(e);l.$1(e);l.$3(e)}};l.$3=function(e){if(e.style.width!=='auto'){return}var eZ=l.$4(e,0);if(ss.isNullOrUndefined(eZ)){return}e.style.width=ss.unbox(eZ)+'px'};l.$1=function(e){if(e.style.height!=='auto'){return}var eZ=l.$4(e,1);if(ss.isNullOrUndefined(eZ)){return}e.style.height=ss.unbox(eZ)+'px'};l.$0=function(e){var eZ=e.parentElement;var fa={h:eZ.offsetHeight,w:eZ.offsetWidth};var fb=tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize();if(fb.maxWidth===0&&fb.maxHeight===0){return}if(fa.w<fb.minWidth){fa.w=fb.minWidth}else if(fb.maxWidth!==0&&fa.w>fb.maxWidth){fa.w=fb.maxWidth}if(fa.h<fb.minHeight){fa.h=fb.minHeight}else if(fb.maxHeight!==0&&fa.h>fb.maxHeight){fa.h=fb.maxHeight}e.style.height=fa.h-(tsConfig.showTabs?31:9)+'px';e.style.width=fa.w-8+'px'};l.$4=function(e,eZ){if(ss.isNullOrUndefined(e.style.backgroundSize)){return null}var fa=e.style.backgroundSize.split(' ');if(fa.length<=1){return null}return parseInt(fa[eZ],10)};var m=function(){this.$4=0;this.$5=0;this.$3=null;this.$1$1=null};m.__typeName='tab.$8';var n=function(e,eZ){this.$1$1=null;this.$1$2=null;this.$1(e);this.$3(eZ)};n.__typeName='tab.$9';var o=function(){};o.__typeName='tab._ApiSerializer';o.serializeClientInfo=function(e,eZ){var fa=e.get_applicationPresModel().workbookPresModel.dashboardPresModel;var fb=e.get_toolbarCommands().$1();var fc=!ss.isNullOrEmptyString(fa.sheetLayoutInfo.downloadLink)||e.get_toolbarCommands().$2();var fd=tsConfig.current_sheet_name;var fe=tsConfig.workbookName;var ff=z.getApiDashboardZonePresModels(fa.zones);var fg=o.serializePublishedSheets(e.get_applicationPresModel().workbookPresModel.sheetsInfo);var fh=o.serializeStory(eZ);var fi=w.newClientInfo(fb,fc,fe,fd,ss.coalesce(tsConfig.clientNumber,''),fg,ff,fh);return fi};o.serializeSheetInfo=function(e,eZ){var fa;if(e.isStory){fa='story'}else if(e.isDashboard){fa='dashboard'}else{fa='worksheet'}var fb=w.newSheetInfo(e.sheet,fa,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight,eZ);return fb};o.serializePublishedSheets=function(e){var eZ={};for(var fa=0;fa<e.length;fa++){var fb=e[fa];eZ[fb.sheet]=fb}var fc=[];var fd=o.$0(tsConfig.repository_urls);for(var fe=0;fe<tsConfig.visible_sheets.length;fe++){var ff=eZ[tsConfig.visible_sheets[fe]];var fg=o.serializeSheetInfo(ff,fd[fe]);fc.push(fg)}return fc};o.serializeStory=function(e){var eZ=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(eZ)){return null}var fa=eZ.get_currentPointIndex();var fb=o.serializeStoryPoints(eZ.get_captions(),e);var fc=w.newStory(fa,fb);return fc};o.serializeStoryPoints=function(e,eZ){var fa=[];var fb=ss.getEnumerator(e);try{while(fb.moveNext()){var fc=fb.current();var fd=o.serializeStoryPoint(fc,eZ);fa.push(fd)}}finally{fb.dispose()}return fa};o.serializeStoryPoint=function(e,eZ){var fa=null;if(e.get_isCurrentPoint()&&eZ.get_hasContainedSheet()){var fb=eZ.get_containedSheetName();var fc=eZ.get_containedSheetType();var fd=z.getApiDashboardZonePresModels(eZ.get_containedDashboardZones());fa=w.newContainedSheetInfo(fb,fc,ss.unbox(eZ.get_containedSheetZoneId()),fd)}var fe=w.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),fa);return fe};o.serializeDataValue=function(e,eZ){if(eZ==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(eZ){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var fa=null;if(_.isDate(e)){fa=e}else if(_.isNumber(e)){if(isNaN(e)){fa=null}else{fa=new Date(tableau.types.JsDateFromOleDate(e))}}else{fa=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(fa)||isNaN(fa)){return null}return fa.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fb=parseInt(e.toString(),10);return(isNaN(fb)?null:fb)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fc=parseFloat(e.toString());return(isNaN(fc)?null:fc)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};o.serializeCustomView=function(e,eZ){return w.newCustomView(e.id,e.name,e.urlId,eZ,e.startViewId,e.isPublic,o.serializeUser(e.owner))};o.serializeUser=function(e){return w.newUser(e.id,e.friendlyName,e.username)};o.convertToCustomizedView=function(e){var eZ=new Object;eZ.id=e.id;eZ.isPublic=e.isPublic;eZ.name=e.name;eZ.owner=o.convertToUser(e.owner);eZ.startViewId=e.startViewId;eZ.urlId=e.urlId;return eZ};o.convertToUser=function(e){var eZ={friendlyName:e.friendlyName,id:e.id,username:e.username};return eZ};o.$0=function(e){var eZ=e.length;var fa=tab.VizUriModel.createForViewingSheets(e,false);var fb=new Array(eZ);for(var fc=0;fc<eZ;fc++){var fd=fa[fc];fb[fc]=fd.get_absoluteUri()}return fb};global.tab._ApiSerializer=o;var p=function(){this.action=null;ss.EventArgs.call(this)};p.__typeName='tab.ActionExecutedEventArgs';global.tab.ActionExecutedEventArgs=p;var q=function(e,eZ){React.Component.call(this,e,eZ);this.state={users:e.users,groups:e.groups}};q.__typeName='tab.AddSubscribersComponent';global.tab.AddSubscribersComponent=q;var r=function(){};r.__typeName='tab.AddSubscribersComponentConstants';global.tab.AddSubscribersComponentConstants=r;var s=function(){};s.__typeName='tab.AddSubscribersComponentProps';s.createInstance=function(){return s.$ctor()};s.$ctor=function(){var e={};e.userPillsComponentProps=null;e.users=null;e.addUser=null;e.removeUser=null;e.groups=null;e.addGroup=null;e.removeGroup=null;e.removeRecipientByIndex=null;e.isUsers=false;e.cancelSelection=null;e.confirmSelection=null;e.confirmUsersSelection=null;e.confirmGroupsSelection=null;return e};s.isInstanceOfType=function(){return true};global.tab.AddSubscribersComponentProps=s;var t=function(e,eZ,fa){this.originalUsers=null;this.users=null;this.originalGroups=null;this.groups=null;this.isUsers=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.originalUsers=e;this.originalGroups=eZ;this.users=ss.arrayClone(e);this.groups=ss.arrayClone(eZ);this.isUsers=fa;var fb=s.$ctor();fb.users=this.users;fb.addUser=ss.mkdel(this,this.addUser);fb.removeUser=ss.mkdel(this,this.removeUser);fb.groups=this.groups;fb.addGroup=ss.mkdel(this,this.addGroup);fb.removeGroup=ss.mkdel(this,this.removeGroup);fb.removeRecipientByIndex=ss.mkdel(this,this.removeRecipientByIndex);fb.isUsers=this.isUsers;fb.cancelSelection=ss.mkdel(this,this.cancelSelection);fb.confirmSelection=ss.mkdel(this,this.confirmSelection);this.set_props(fb)};t.__typeName='tab.AddSubscribersViewModel';global.tab.AddSubscribersViewModel=t;var u=function(){};u.__typeName='tab.ApiCrossDomainEnumConverter';u.convertDataType=function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}};u.convertUnderlyingDataType=function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}};u.convertFieldAggregation=function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}};u.convertFieldRole=function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}};u.convertParameterDomainType=function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}};u.convertPeriodType=function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}};u.convertRangeType=function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}};u.convertZoneType=function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}};global.tab.ApiCrossDomainEnumConverter=u;var v=function(){};v.__typeName='tab.ApiCrossDomainParamConverter';v.convertFilterUpdateType=function(e){var eZ=e.toString();if(eZ.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(eZ.toLowerCase()==='all'){return'filter-all'.toString()}else if(eZ.toLowerCase()==='add'){return'filter-add'.toString()}else if(eZ.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}};global.tab.ApiCrossDomainParamConverter=v;var w=function(){};w.__typeName='tab.ApiCrossDomainPresModelsFactory';w.newClientInfo=function(e,eZ,fa,fb,fc,fd,fe,ff){var fg=new Object;fg.isAutoUpdate=e;fg.isDownloadAllowed=eZ;fg.workbookName=fa;fg.instanceId=fc;fg.currentSheetName=fb;fg.publishedSheets=fd;fg.dashboardZones=fe;fg.story=ff;return fg};w.newAutoUpdateState=function(e){var eZ=new Object;eZ.isAutoUpdate=e;return eZ};w.newCommandError=function(e,eZ){var fa=new Object;fa.errorCode=e;fa.additionalInformation=eZ;return fa};w.newSheetInfo=function(e,eZ,fa,fb,fc,fd,fe){var ff=new Object;ff.maxHeight=fd;ff.maxWidth=fc;ff.minHeight=fb;ff.minWidth=fa;var fg=new Object;fg.name=e;fg.sizeConstraints=ff;fg.repositoryUrl=fe;fg.sheetType=eZ;return fg};w.newContainedSheetInfo=function(e,eZ,fa,fb){var fc=new Object;fc.name=e;fc.sheetType=eZ;fc.zoneId=fa;fc.dashboardZones=fb;return fc};w.newDashboardZone=function(e,eZ,fa,fb,fc,fd,fe){var ff=new Object;ff.name=e;ff.zoneId=eZ;ff.zoneType=fa;ff.height=fb;ff.width=fc;ff.x=fd;ff.y=fe;return ff};w.newStory=function(e,eZ){var fa=new Object;fa.activeStoryPointIndex=e;fa.storyPoints=eZ;return fa};w.newStoryPoint=function(e,eZ,fa,fb,fc){var fd=new Object;fd.caption=e;fd.index=eZ;fd.storyPointId=fa;fd.isUpdated=fb;fd.containedSheetInfo=fc;return fd};w.$0=function(e,eZ,fa,fb,fc,fd){var fe=new Object;fe.fieldName=e;fe.filterType=eZ;fe.caption=fa;fe.dataSourceName=fb;fe.fieldRole=fc;fe.fieldAggregation=fd;return fe};w.newCategoricalFilter=function(e,eZ,fa,fb,fc,fd,fe,ff){var fg=w.$0(e,eZ,fa,fb,fc,fd);fg.isExclude=fe;fg.appliedValues=ff;return fg};w.newQuantitativeFilter=function(e,eZ,fa,fb,fc,fd,fe,ff,fg,fh,fi){var fj=w.$0(e,eZ,fa,fb,fc,fd);fj.domainMinValue=fe;fj.domainMaxValue=ff;fj.minValue=fg;fj.maxValue=fh;fj.includeNullValues=fi;return fj};w.newHierarchicalFilter=function(e,eZ,fa,fb,fc,fd,fe){var ff=w.$0(e,eZ,fa,fb,fc,fd);ff.levels=fe;return ff};w.newRelativeDateFilter=function(e,eZ,fa,fb,fc,fd,fe,ff,fg){var fh=w.$0(e,eZ,fa,fb,fc,fd);fh.periodType=fe;fh.rangeType=ff;fh.rangeN=fg;return fh};w.newDataSourcesForWorksheet=function(e,eZ){var fa=new Object;fa.worksheetName=e;fa.dataSources=eZ;return fa};w.newDataSource=function(e,eZ,fa){var fb=new Object;fb.name=e;fb.fields=eZ;fb.isPrimary=fa;return fb};w.newField=function(e,eZ,fa){var fb=new Object;fb.name=e;fb.role=eZ;fb.aggregation=fa;return fb};w.newCustomViewsInfo=function(e,eZ,fa,fb){var fc=new Object;fc.customViewLoaded=e;fc.defaultCustomViewId=eZ;fc.currentView=fa;fc.customViews=fb;return fc};w.newCustomView=function(e,eZ,fa,fb,fc,fd,fe){var ff=new Object;ff.id=e;ff.name=eZ;ff.urlId=fa;ff.url=fb;ff.startViewId=fc;ff.isPublic=fd;ff.owner=fe;return ff};w.newUser=function(e,eZ,fa){var fb=new Object;fb.id=e;fb.friendlyName=eZ;fb.username=fa;return fb};w.newUnderlyingDataTablePM=function(e,eZ,fa){var fb=new Object;fb.dataTable=e;fb.headers=eZ;fb.isSummary=fa;return fb};w.newUnderlyingDataColumnsPM=function(e,eZ,fa,fb){var fc=new Object;fc.dataType=e;fc.fieldName=eZ;fc.isReferenced=fa;fc.index=fb;return fc};w.newToolbarStatePM=function(e,eZ,fa,fb,fc,fd,fe,ff,fg,fh,fi){var fj=new Object;fj.canUndo=e;fj.canRedo=eZ;fj.canRevert=fa;fj.isPaused=fb;fj.canRefreshData=fc;fj.canShowCustomViews=fd;fj.canShowPerformance=fe;fj.canShowDataAlert=ff;fj.canShowSubscribe=fg;fj.canShowShare=fh;fj.canShowDownload=fi;return fj};w.newAddInInstancePM=function(e){var eZ=new Object;eZ.locator=w.newAddInLocatorPM(e.addInLocatorPresModel);eZ.url=e.addInRegistrationPresModel.url;return eZ};w.newAddInLocatorPM=function(e){var eZ=new Object;eZ.dashboardPath=w.newSheetPathPM(e.sheetPath);eZ.instanceId=e.addInInstanceId;return eZ};w.newSheetPathPM=function(e){var eZ=new Object;eZ.flipboardZoneID=e.flipboardZoneId;eZ.storyPointID=e.storyPointId;eZ.storyboard=e.storyboard;eZ.sheetName=e.sheetName;eZ.isDashboard=e.isDashboard;return eZ};w.newVisualIdPM=function(e){var eZ=new Object;eZ.worksheet=e.worksheet;eZ.dashboard=e.dashboard;eZ.storyboard=e.storyboard;eZ.flipboardZoneID=e.flipboardZoneId;eZ.storyPointID=e.storyPointId;return eZ};w.newAddInBootstrapInfoPM=function(e){var eZ=new Object;eZ.addinDashboardInfo=w.newAddInDashboardInfoPM(e.addInDashboardInfoPresModel);eZ.addInSettingsInfo=w.newAddInSettingsInfoPM(e.addInSettingsInfo);eZ.addInEnvironment=w.newAddInEnvironmentInfoPM(e.addInEnvironmentPresModel);return eZ};w.newAddInDashboardInfoPM=function(e){var eZ=new Object;eZ.name=e.dashboardPresModel.sheetPath.sheetName;eZ.addInZoneId=e.zoneId;eZ.zones=z.getApiDashboardZonePresModels(e.dashboardPresModel.zones);return eZ};w.newAddInSettingsInfoPM=function(e){var eZ=new Object;eZ.settingsValues=e.addInSettings||{};return eZ};w.newAddInEnvironmentInfoPM=function(e){var eZ=new Object;eZ.addInContext=e.addInContext;eZ.addInMode=e.addInMode;eZ.addInLanguage=e.addInLanguage;eZ.addInLocale=e.addInLocale;eZ.tableauVersion=e.tableauVersion;eZ.operatingSystem=e.operatingSystem;eZ.apiVersion=e.apiVersion||'0.0.1';return eZ};global.tab.ApiCrossDomainPresModelsFactory=w;var x=function(e,eZ,fa){this.$13=new tab.DisposableHolder;this.$10=null;this.$18={};this.$11=null;this.$15=null;this.$16=null;this.$12=false;this.$14=false;this.$17=null;this.$10=fa;this.updateClients(e,eZ);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))};x.__typeName='tab.ApiEventHandler';x.$2=function(e,eZ){var fa=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);if(ss.isValue(fa)){var fb=_.find(fa.get_filters(),function(fc){return ss.referenceEquals(fc.get_globalFieldName(),eZ)});if(ss.isValue(fb)){return fb.get_filterPresModel().fieldCaption}}return null};x.$0=function(e){var eZ=new ss.StringBuilder;for(var fa=0;fa<e.length;fa++){var fb=e[fa];if(!(eZ.length===0)){eZ.append('.')}eZ.append('['+fb+']')}return eZ.toString()};x.$1=function(){var e={};var eZ=tab.ModelUtils.findContentDashboard();var fa=eZ.get_zoneModels();for(var fb=0;fb<fa.length;fb++){var fc=fa[fb];if(fc.get_zoneType()==='filter'&&ss.referenceEquals(fc.get_worksheetName(),tsConfig.current_sheet_name)){var fd=JSON.parse(fc.pm.frameJson);e[fd.param]=true}}var fe={};var ff=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(ff)){var fg=ff.get_filters();for(var fh=0;fh<fg.length;fh++){var fi=fg[fh];var fj=x.$0(fi.get_filterPresModel().name);if(ss.keyExists(e,fj)){var fk=fi.get_filterPresModel().fieldCaption;if(fi.get_filterPresModel().type!=='H'){fe[fk]=fi.get_filterPresModel().type}else{fk='';var fl=fi.get_filterPresModel().table[0].table;if(ss.isValue(fl)&&ss.isValue(fl.schema)&&ss.isValue(fl.schema[0])&&ss.isValue(fl.schema[0].name)){var fm=fl.schema[0].name;for(var fn=1;fn<fm.length;fn++){fk+='['+fm[fn]+']';fe[fk]=fi.get_filterPresModel().type;fk+='.'}}}}}}return fe};x.$3=function(e){return null};x.$4=function(e){var eZ=e;if(ss.isValue(eZ['invalidFields'])){return w.newCommandError('invalidSelectionFieldName',eZ['invalidFields'])}else if(ss.isValue(eZ['invalidValues'])){return w.newCommandError('invalidSelectionValue',eZ['invalidValues'])}else if(ss.isValue(eZ['invalidDates'])){return w.newCommandError('invalidSelectionDate',eZ['invalidDates'])}return null};global.tab.ApiEventHandler=x;var y=function(){};y.__typeName='tab.ApiFilterHandler';y.processFilters=function(e){var eZ=JSON.parse(e.toString());var fa=[];if(ss.isValue(eZ)){for(var fb=0;fb<eZ.length;fb++){var fc=eZ[fb];var fd=y.$5(fc);if(ss.isValue(fd)){fa.push(fd)}}}var fe=new Object;fe.filters=Array.prototype.slice.call(fa);return fe};y.processFilterCommandReturningFieldName=function(e){var eZ=y.$0(e);if(ss.isValue(eZ)){return eZ}return e};y.processSingleFilter=function(e){var eZ=y.$0(e);if(ss.isValue(eZ)){return eZ}var fa=JSON.parse(e.toString());if(ss.isValue(fa)){return y.$5(fa)}return null};y.$0=function(e){var eZ=e;if(ss.keyExists(eZ,'parameterError')){if(ss.isValue(eZ['invalidFieldCaption'])){return w.newCommandError('invalidFilterFieldName',eZ['invalidFieldCaption'])}else if(ss.isValue(eZ['invalidValues'])){return w.newCommandError('invalidFilterFieldValue',eZ['invalidValues'])}else if(ss.isValue(eZ['invalidAggFieldName'])){return w.newCommandError('invalidAggregationFieldName',eZ['fieldCaption'])}else{return w.newCommandError('serverError',null)}}return null};y.$2=function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}};y.$5=function(e){var eZ=y.$2(e.type);switch(eZ){case'categorical':{return y.$7(e)}case'relativedate':{return y.$a(e)}case'hierarchical':{return y.$8(e)}case'quantitative':{return y.$9(e)}default:{throw new ss.Exception('Unknown FilterType: '+eZ)}}};y.$6=function(e,eZ){var fa=e.fieldName;var fb=e.fieldCaption;var fc=y.$2(e.type);var fd=null;var fe=null;var ff=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){fd=e.fieldDatasource;var fg=JSON.parse(e.fieldDetailsJson);var fh=fg['genFieldColumnPresModel'];fe=u.convertFieldRole(fh.fieldRole);ff=u.convertFieldAggregation(fh.aggregation)}return eZ(fa,fc,fb,fd,fe,ff)};y.$7=function(e){var eZ=e.exclude||false;var fa=null;if(ss.isValue(e.table)){var fb=e.table;if(ss.isValue(fb.tuples)){var fc=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var fd=fb.tuples;var fe=[];for(var ff=0;ff<fd.length;ff++){var fg=fd[ff];if(fc||ss.isValue(fg.s)&&fg.s){var fh=fg.t[0];var fi=fg.d;fe.push(y.$4(e,fh,fi))}}fa=Array.prototype.slice.call(fe)}}var fj=function(fk,fl,fm,fn,fo,fp){return w.newCategoricalFilter(fk,fl,fm,fn,fo,fp,eZ,fa)};return y.$6(e,fj)};y.$9=function(e){var eZ=null;var fa=null;var fb=null;var fc=null;var fd=false;if(ss.isValue(e.range)){var fe=e.range;if(ss.isValue(fe.min)&&ss.isValue(fe.min.v)){eZ=y.$3(e,fe.min,null)}if(ss.isValue(fe.max)&&ss.isValue(fe.max.v)){fa=y.$3(e,fe.max,null)}}if(ss.isValue(e.table)){var ff=e.table;if(ss.isValue(ff.min)&&ss.isValue(ff.min.v)){fb=y.$3(e,ff.min,null)}if(ss.isValue(ff.max)&&ss.isValue(ff.max.v)){fc=y.$3(e,ff.max,null)}if(ss.isValue(ff.included)){var fg=ff.included;fd=fg==='include-all'||fg==='include-null'||fg==='include-range-or-null'}}var fh=function(fi,fj,fk,fl,fm,fn){return w.newQuantitativeFilter(fi,fj,fk,fl,fm,fn,eZ,fa,fb,fc,fd)};return y.$6(e,fh)};y.$a=function(e){var eZ=null;var fa=null;var fb=null;var fc=e.table;if(ss.isValue(fc)){if(ss.isValue(fc.periodType)){eZ=u.convertPeriodType(fc.periodType)}if(ss.isValue(fc.rangeType)){fa=u.convertRangeType(fc.rangeType)}if(ss.isValue(fc.rangeN)){fb=fc.rangeN}}var fd=function(fe,ff,fg,fh,fi,fj){return w.newRelativeDateFilter(fe,ff,fg,fh,fi,fj,eZ,fa,fb)};return y.$6(e,fd)};y.$4=function(e,eZ,fa){return y.$3(e,eZ,fa)};y.$3=function(e,eZ,fa){var fb=new Object;if(ss.isNullOrUndefined(eZ)){return fb}var fc=y.$1(eZ.t);var fd=[eZ];if(ss.isValue(e.range)){fd.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){fd.push(e.table.min,e.table.max)}var fe=tab.QuickFilterDateFormatUtil.getDateTimeFormatMode(fd,'none',e.date_format,null);fb.type=u.convertDataType(fc);var ff=((fc==='date'||fc==='datetime')?e.date_format:e.format);fb.formattedValue=tableau.format.formatDataValue(eZ,e.role,ff,null,fe);if(ss.isValue(fa)){fb.aliasedValue=fa}fb.value=z.serializeDataValue(eZ.v,fc);return fb};y.$1=function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case null:{return'unknown'}}return'unknown'};y.$8=function(e){var eZ=0;if(ss.isValue(e.levels)){eZ=e.levels.length}var fa=function(fb,fc,fd,fe,ff,fg){return w.newHierarchicalFilter(fb,fc,fd,fe,ff,fg,eZ)};return y.$6(e,fa)};global.tab.ApiFilterHandler=y;var z=function(){};z.__typeName='tab.ApiPresModelsConverter';z.getApiAddInInstancePresModel=function(e){return w.newAddInInstancePM(e)};z.getApiAddInBootstrapInfoPresModel=function(e){return w.newAddInBootstrapInfoPM(e)};z.getApiUnderlyingDataTablePresModel=function(e,eZ){var fa=e.dataDictionary;var fb=e.underlyingDataTableColumns;var fc=z.$1(fb);var fd=z.$0(fa,fb);var fe=w.newUnderlyingDataTablePM(fd,fc,eZ);return fe};z.getApiDashboardZonePresModels=function(e){var eZ=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return eZ}var fa=Object.keys(e);fa.sort(function(fm,fn){return parseInt(fm,10)-parseInt(fn,10)});for(var fb=0;fb<fa.length;fb++){var fc=fa[fb];var fd=e[fc];if(ss.isNullOrUndefined(fd)){continue}var fe=u.convertZoneType(fd.zoneCommon.zoneType);if(!ss.isValue(fe)){continue}var ff=(ss.isValue(fd.worksheet)?fd.worksheet:null);var fg=fd.zoneCommon.x;var fh=fd.zoneCommon.y;var fi=fd.zoneCommon.w;var fj=fd.zoneCommon.h;var fk=fd.zoneCommon.zoneId;var fl=w.newDashboardZone(ff,fk,ss.unbox(fe),fj,fi,fg,fh);eZ.push(fl)}return eZ};z.processSelectedMarks=function(e){var eZ=e.dataDictionary;var fa=e.vizData;return z.$4(eZ,fa)};z.processHighlightedMarks=function(e){var eZ=e.dataDictionary;var fa=e.vizData;return z.$4(eZ,fa)};z.getAddInLocatorPresModel=function(e){return cY.newAddInLocatorPresModel(e)};z.$4=function(e,eZ){var fa=new Object;var fb=new tab.DataDictionaryModel(null);fb.update(e);var fc=new tab.VizDataModel(null);fc.update(eZ,tab.NoopModelEventsHandler.get_noopContext());var fd=[];fa.marks=fd;if(ss.isNullOrUndefined(fb)||fb.get_isEmpty()){return fa}fc.forEachTupleId(function(fe){var ff=new Object;ff.tupleId=fe;var fg=[];ff.pairs=fg;fd.push(ff);fc.forEachVizDataField(function(fh,fi){var fj=new Object;fj.fieldName=fh.get_fieldCaption();fj.formattedValue=tab.VizDataLookup.lookupAlias(fe,fh,fb);fj.valueDataType=u.convertDataType(fh.get_dataType());var fk=null;if(!tab.VizDataLookup.isSpecial(fe,fh,fb,null)&&fh.get_hasDataValues()&&fh.isTupleIdValid(fe)){fk=tab.VizDataLookup.lookupRawDataValue(fe,fh,fb)}var fl=z.serializeDataValue(fk,fh.get_dataType());fj.value=fl;fg.push(fj);return true});return true});return fa};z.serializeDataValue=function(e,eZ){if(eZ==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(eZ){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var fa=null;if(_.isDate(e)){fa=e}else if(_.isNumber(e)){if(isNaN(e)){fa=null}else{fa=new Date(tableau.types.JsDateFromOleDate(e))}}else{fa=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(fa)||isNaN(fa)){return null}return fa.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fb=parseInt(e.toString(),10);return(isNaN(fb)?null:fb)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fc=parseFloat(e.toString());return(isNaN(fc)?null:fc)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};z.$1=function(e){var eZ=[];for(var fa=0;fa<e.length;fa++){var fb=e[fa];var fc=u.convertUnderlyingDataType(fb.dataType);var fd=w.newUnderlyingDataColumnsPM(fc,fb.fieldCaption,fb.isReferenced,fa);eZ.push(fd)}return eZ};z.$0=function(e,eZ){var fa=eZ[0].formatValIdxs.length;var fb=new Array(fa);for(var fc=0;fc<fa;fc++){fb[fc]=new Array(eZ.length)}for(var fd=0;fd<eZ.length;fd++){var fe=eZ[fd];for(var ff=0;ff<fe.formatValIdxs.length;ff++){var fg=new Object;fg.formattedValue=z.$3(e,fe.formatValIdxs[ff],'cstring');fg.value=z.$3(e,fe.valueIndices[ff],fe.dataType);fg.aliasedValue=fg.formattedValue;fb[ff][fd]=fg}}return fb};z.$3=function(e,eZ,fa){var fb=null;var fc;if(eZ>=0){fc=fa}else{fc='cstring';eZ=-eZ-1}var fd=z.$2(e,fc,eZ);if(ss.isValue(fd)){fb=fd.toString()}return fb};z.$2=function(e,eZ,fa){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dataSegments)){return null}var fb=ss.getEnumerator(Object.keys(e.dataSegments));try{while(fb.moveNext()){var fc=fb.current();var fd=e.dataSegments[fc];for(var fe=0;fe<fd.dataColumns.length;fe++){var ff=fd.dataColumns[fe];if(ss.isNullOrUndefined(ff)||ff.dataType!==eZ){continue}if(fa<ff.dataValues.length){return ff.dataValues[fa]}fa-=ff.dataValues.length;break}}}finally{fb.dispose()}return null};global.tab.ApiPresModelsConverter=z;var A=function(e,eZ){this.$7=null;this.$b=null;this.$8=new tab.DisposableHolder;this.$a=false;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(eZ,'responder');this.$7=e;this.$b=eZ;var fa=ss.mkdel(this,function(){var fb=e.get_flipboardNavigatorViewModel();if(ss.isValue(fb)){fb.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$a=true;this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fb.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(fb)});if(!fa()){_.defer(ss.mkdel(this,function(){if(this.$9){return}fa()}))}};A.__typeName='tab.ApiStorytellingHandler';A.$0=function(e,eZ){var fa=($.isArray(eZ)?eZ:[eZ]);var fb=_.any(fa,function(fc){return fc===e.get_name()});if(!fb){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}};global.tab.ApiStorytellingHandler=A;var B=function(e,eZ){this.$4=new tab.DisposableHolder;this.$5=null;this.$3=null;this.$1$1=null;if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('responder')}if(ss.isNullOrUndefined(eZ)){throw new ss.ArgumentNullException('toolbarViewModel')}this.$5=eZ;this.$3=e;this.$1();this.$5.add_newToolbar(ss.mkdel(this,this.$1));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$1))})))};B.__typeName='tab.ApiToolbarStateManager';B.$1=function(e,eZ){var fa=e[eZ];return ss.isValue(fa)&&fa.get_enabled()};B.$2=function(e,eZ,fa){var fb=e[eZ];if(ss.isNullOrUndefined(fb)){return false}var fc=new tab.CommandsPresModelWrapper.$ctor1(fb.get_commands());var fd=fc.get_commandItems();for(var fe=0;fe<fd.length;fe++){var ff=fd[fe];var fg=new tab.CommandItemWrapper(ff);if(ss.equals(fg.get_name(),fa)){return fg.get_enabled()}}return false};B.$0=function(e,eZ){var fa=ss.getEnumerator(eZ);try{while(fa.moveNext()){var fb=fa.current();var fc=new tab.CommandItemWrapper(fb);e[fc.get_iconRes()]=fc}}finally{fa.dispose()}};global.tab.ApiToolbarStateManager=B;var C=function(){};C.__typeName='tab.ApiUnderlyingDataHandler';C.processSummaryData=function(e){var eZ=e;var fa=C.processDataDictionary(eZ,true);return fa};C.processUnderlyingData=function(e){var eZ=e;var fa=C.processDataDictionary(eZ,false);return fa};C.prepareSummaryCommand=function(e,eZ){eZ['maxRows']=e['api.maxRows'];eZ['ignoreAliases']=e['api.ignoreAliases'];eZ['ignoreSelection']=e['api.ignoreSelection']};C.prepareUnderlyingCommand=function(e,eZ){C.prepareSummaryCommand(e,eZ);eZ['includeAllColumns']=e['api.includeAllColumns']};C.processDataDictionary=function(e,eZ){var fa=new tab.DataDictionaryModel(null);fa.update(e.dataDictionary);var fb=e.underlyingDataTableColumns;var fc=C.$1(fb);var fd=C.$0(fa,fb);var fe=w.newUnderlyingDataTablePM(fd,fc,eZ);return fe};C.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}var eZ=[];for(var fa=0;fa<e.length;fa++){var fb=e[fa];var fc=u.convertUnderlyingDataType(fb.dataType);var fd=w.newUnderlyingDataColumnsPM(fc,fb.fieldCaption,fb.isReferenced,fa);eZ.push(fd)}return eZ};C.$0=function(e,eZ){if(ss.isNullOrUndefined(eZ)||eZ.length===0){return[]}var fa=eZ[0].formatValIdxs.length;var fb=new Array(fa);for(var fc=0;fc<fa;fc++){fb[fc]=new Array(eZ.length)}for(var fd=0;fd<eZ.length;fd++){var fe=eZ[fd];for(var ff=0;ff<fe.formatValIdxs.length;ff++){var fg=new Object;fg.formattedValue=C.$2(e,fe.formatValIdxs[ff],'cstring');fg.value=C.$2(e,fe.valueIndices[ff],fe.dataType);fg.aliasedValue=fg.formattedValue;fb[ff][fd]=fg}}return fb};C.$2=function(e,eZ,fa){var fb=null;var fc;if(eZ>=0){fc=fa}else{fc='cstring';eZ=-eZ-1}var fd=e.getRawValue(fc,eZ);if(ss.isValue(fd)){fb=fd.toString()}return fb};global.tab.ApiUnderlyingDataHandler=C;var C=function(){};C.__typeName='tab.ApiUnderlyingDataHandler';C.processSummaryData=function(e){var eZ=e;var fa=C.$5(eZ,true);return fa};C.$6=function(e){var eZ=e;var fa=C.$5(eZ,false);return fa};C.$3=function(e,eZ){eZ['maxRows']=e['api.maxRows'];eZ['ignoreAliases']=e['api.ignoreAliases'];eZ['ignoreSelection']=e['api.ignoreSelection']};C.$4=function(e,eZ){C.$3(e,eZ);eZ['includeAllColumns']=e['api.includeAllColumns']};C.$5=function(e,eZ){var fa=new tab.DataDictionaryModel(null);fa.update(e.dataDictionary);var fb=e.underlyingDataTableColumns;var fc=C.$1(fb);var fd=C.$0(fa,fb);var fe=w.newUnderlyingDataTablePM(fd,fc,eZ);return fe};C.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}var eZ=[];for(var fa=0;fa<e.length;fa++){var fb=e[fa];var fc=u.convertUnderlyingDataType(fb.dataType);var fd=w.newUnderlyingDataColumnsPM(fc,fb.fieldCaption,fb.isReferenced,fa);eZ.push(fd)}return eZ};C.$0=function(e,eZ){if(ss.isNullOrUndefined(eZ)||eZ.length===0){return[]}var fa=eZ[0].formatValIdxs.length;var fb=new Array(fa);for(var fc=0;fc<fa;fc++){fb[fc]=new Array(eZ.length)}for(var fd=0;fd<eZ.length;fd++){var fe=eZ[fd];for(var ff=0;ff<fe.formatValIdxs.length;ff++){var fg=new Object;fg.formattedValue=C.$2(e,fe.formatValIdxs[ff],'cstring');fg.value=C.$2(e,fe.valueIndices[ff],fe.dataType);fg.aliasedValue=fg.formattedValue;fb[ff][fd]=fg}}return fb};C.$2=function(e,eZ,fa){var fb=null;var fc;if(eZ>=0){fc=fa}else{fc='cstring';eZ=-eZ-1}var fd=e.getRawValue(fc,eZ);if(ss.isValue(fd)){fb=fd.toString()}return fb};global.tab.ApiUnderlyingDataHandler=C;var D=function(){spiff.BaseViewModel.call(this)};D.__typeName='tab.AppBannerViewModel';global.tab.AppBannerViewModel=D;var E=function(){this.$q=null;this.$o=null;this.$p=null;this.$n=new tab.DisposableHolder;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;var e=null;e=ss.mkdel(this,function(eZ,fa){E.remove_starting(e);this.$j();this.$i();tab.ApplicationModel.get_instance().get_workbook().add_dashboardDeleted(ss.mkdel(this,this.$m));tab.ApplicationModel.get_instance().get_workbook().add_uiModeChanged(ss.mkdel(this,this.$9));var fb=new tab.LayoutSession(null,null,E.get_commonDialogProvider());var fc=tab.CommandController.create(fb,E.get_commonDialogProvider());fc.setBrowserViewportFunc(R.getViewport);fc.add_newLayoutId(ss.mkdel(this,this.$6));fc.add_tabChangeCompleted(ss.mkdel(this,this.$8));E.add_onTabSelect(ss.mkdel(this,this.$3));fc.add_destroyView(ss.mkdel(this,this.$2));fc.add_intermediateUpdate(ss.mkdel(this,this.$k));fc.add_switchingViz(ss.mkdel(this,this.$7));this.$n.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$6));tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$8));tab.CommandController.get().remove_switchingViz(ss.mkdel(this,this.$7));E.remove_onTabSelect(ss.mkdel(this,this.$3))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$5));var fd=E.$0(false,fb);this.set_client(fd);this.$q=fd;this.get_client().startup();this.$c(this.get_client(),this.$q);if(tab.BrowserSupport.get_isIE()){this.$0()}this.$p=new cU;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(fe){R.getViewport(function(ff){var fg=new spiff.SpiffBrowserViewport(ff.get_dimensions(),function(fh){return ff.getVisibleRoom(fh,0)});fe(fg)})}});E.add_starting(e)};E.__typeName='tab.Application';E.add_starting=function(e){E.$1$1=ss.delegateCombine(E.$1$1,e)};E.remove_starting=function(e){E.$1$1=ss.delegateRemove(E.$1$1,e)};E.add_started=function(e){E.$1$2=ss.delegateCombine(E.$1$2,e)};E.remove_started=function(e){E.$1$2=ss.delegateRemove(E.$1$2,e)};E.add_onTabSelect=function(e){E.$1$3=ss.delegateCombine(E.$1$3,e)};E.remove_onTabSelect=function(e){E.$1$3=ss.delegateRemove(E.$1$3,e)};E.get_instance=function(){if(ss.isNullOrUndefined(E.$4)){E.$4=new E}return E.$4};E.get_isHostedInApiContext=function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app};E.get_commonDialogProvider=function(){return E.$3||(E.$3=new V)};E.startup=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPSTR'.toString();var eZ=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(eZ);if(ss.isValue(E.$5)&&E.$5){throw new ss.Exception('Application.Startup() can only be called once')}var fa=E.get_instance();if(!ss.staticEquals(E.$1$1,null)){E.$1$1(fa,ss.EventArgs.Empty)}if(!ss.staticEquals(E.$1$2,null)){E.$1$2(fa,ss.EventArgs.Empty)}spiff.DragDropManager.init();SharedWidgets.setConfig(E.$1());E.$5=true};E.$1=function(){var e={styles:{Typography:{FontFamily:'inherit'}}};return e};E.$0=function(e,eZ){var fa=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new fa(e,eZ)};E.handleAllFontsFound=function(){dF.get_instance().downloadFonts();dF.get_instance().allFontsFound()};E.$2=function(){X.get_instance().reset(1);X.get_instance().addCompletedHandler(1,bZ.logUIStabilized);dF.get_instance().initialize(true);var e=dF.effectiveBentonSans;dF.get_instance().registerServerLoadedFonts(e);if(tab.FeatureFlags.isEnabled('TableauFontWeb')){dF.get_instance().registerServerLoadedFonts(dF.tableauFontNames)}dF.get_instance().notifyDownloadableFont(e)};E.fireOnTabSelect=function(e){if(!ss.staticEquals(E.$1$3,null)){E.$1$3(e)}};global.tab.Application=E;var F=function(){this.domNode=null;this.toolbarContainer=null;spiff.Template.call(this,F.$0());this.domNode=this.domRoot;this.toolbarContainer=$((tab.FeatureFlags.isEnabled('IframeSizedToWindow')?G.toolbarContainerSelector:'.tab-toolbar-container'))};F.__typeName='tab.ApplicationTemplate';F.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-viewport'></div>"):$("<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>"))};global.tab.ApplicationTemplate=F;var G=function(e){this.$h=null;this.$g=null;this.$f=null;ss.makeGenericType(spiff.BaseView$1,[I]).call(this,e,new F);tab.FullscreenUtil.add_fullscreenStateChanged(G.$0);this.disposables.add(function(){tab.FullscreenUtil.remove_fullscreenStateChanged(G.$0)})};G.__typeName='tab.ApplicationView';G.$0=function(){if(tab.FullscreenUtil.get_inFullscreenMode()){var e=document.body;if(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight){$('html, body').css('overflow','scroll')}if(tsConfig.isPublic){$(G.vizContainerSelector).css({width:'',height:''})}}else{$('html, body').css('overflow','');if(tsConfig.isPublic){var eZ=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(G.vizContainerSelector).css({width:eZ.w+'px',height:eZ.h+'px'})}}var fa=E.get_instance().get_tabbedNavigation();if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(fa)){fa.resizeShim()}};global.tab.ApplicationView=G;var H=function(e,eZ){this.session=null;this._connections=[];this.skipInit=false;this.$A=null;this.$w=false;this.$z=null;this.$C=null;this.$v=null;this.$u=null;this.$x=false;this.$y=false;this.$B=0;this.$D=null;spiff.Widget.call(this,$(null));this.session=eZ;this.skipInit=e;var fa=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(fa)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(fa.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$C=new eL(this);this.enableTextSelection()};H.__typeName='tab.ApplicationViewModel';H.selectCenteringContainer=function(){return $('#centeringContainer')};H.getClientBounds=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var eZ=tabBootstrap.VizLayoutConstants.get_tabsHeight();var fa={l:0,t:eZ,w:e.w,h:e.h};if(!ev.get_toolbarIsBottom()&&!tsConfig.is_authoring){fa.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}return fa};H.calculateDashboardViewportBounds=function(){var e=tab.DashboardSizeCalculator.get_dashboardViewportSize();var eZ={l:0,t:0,w:e.w,h:e.h};if(!ev.get_toolbarIsBottom()&&!tsConfig.is_authoring){eZ.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}return eZ};global.tab.ApplicationViewModel=H;var I=function(e){this.$6=null;this.$8=null;this.$5=null;this.$7=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$6=e;this.$6.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$6.get_workbook())){this.handleNewWorkbook(this.$6.get_workbook())}this.$6.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));this.$5=new D;if(!tsConfig.is_authoring&&!this.$6.get_isOffline()){this.$7=new ev(this.$6.get_toolbar());this.$7.set_shouldShowCommenting(this.get_shouldShowCommenting());tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,this.$3))}};I.__typeName='tab.ApplicationViewModelReal';global.tab.ApplicationViewModelReal=I;var J=function(e){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.Widget.call(this,e.domRoot);this.$9=e;this.$8()};J.__typeName='tab.AreYouSureButtons';J.create=function(e,eZ){var fa=new J(new K);if(ss.isValue(e)){fa.$a(e);fa.disposables.add$1(new tab.CallOnDispose(function(){fa.$b(e)}))}if(ss.isValue(eZ)){fa.$c(eZ);fa.disposables.add$1(new tab.CallOnDispose(function(){fa.$d(eZ)}))}return fa};global.tab.AreYouSureButtons=J;var K=function(){this.container=null;this.label=null;this.cancelButton=null;this.confirmButton=null;spiff.Template.call(this,$("<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"));this.container=this.domRoot;this.label=this.getElementBySelector('.tab-areYouSure-label');this.cancelButton=this.getElementBySelector('.tab-areYouSure-no');this.confirmButton=this.getElementBySelector('.tab-areYouSure-yes')};K.__typeName='tab.AreYouSureTemplate';global.tab.AreYouSureTemplate=K;var L=function(e,eZ){this.$2=null;M.call(this,e,eZ);this.$2=e.RedirectUrl};L.__typeName='tab.BadPasswordAuthPromptOverlayWidget';global.tab.BadPasswordAuthPromptOverlayWidget=L;var M=function(e,eZ){N.call(this,e,eZ)};M.__typeName='tab.BaseDataSourceConnectionErrorOverlayWidget';global.tab.BaseDataSourceConnectionErrorOverlayWidget=M;var N=function(e,eZ){this.onProceed=null;this.dataSourceConnectionAttemptErrorResponse=null;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=eZ};N.__typeName='tab.BaseDataSourceConnectionErrorWidget';global.tab.BaseDataSourceConnectionErrorWidget=N;var O=function(){this.parentNode=null};O.__typeName='tab.BaseDisposableDialog';global.tab.BaseDisposableDialog=O;var P=function(e,eZ){var fa=function(fb,fc,fd){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eZ,ss.makeGenericType(em,[e]),Object]).call(this,fb(fc.viewModel),fc,fd);this.$1=fb};ss.registerGenericClassInstance(fa,P,[e,eZ],{handleWidgetPropertyChanged:function(fb,fc){},updateWidgetState:function(fb){if(!ss.referenceEquals(this.props.viewModel,fb.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(fb.viewModel));var fc=$(ReactDOM.findDOMNode(this));if(ss.isValue(fc)){fc.append(this.get_widget().element)}}}},function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eZ,ss.makeGenericType(em,[e]),Object])},function(){return[]});return fa};P.__typeName='tab.BaseToolbarButtonComponent$2';ss.initGenericClass(P,a,2);global.tab.BaseToolbarButtonComponent$2=P;var Q=function(){this.$1$1=null;this.$1$2=null};Q.__typeName='tab.BasicFontLoader';global.tab.BasicFontLoader=Q;var R=function(e){this.$0=null;this.$0=e};R.__typeName='tab.BrowserViewport';R.$8=function(){return tab.Logger.lazyGetLogger(R)};R.$7=function(){var e=new tab.WindowHelper(window.self);return{l:e.get_pageXOffset(),t:e.get_pageYOffset(),w:e.get_clientWidth(),h:e.get_clientHeight()}};R.getViewport=function(e){tab.Param.verifyValue(e,'callback');if(tab.FullscreenUtil.get_inFullscreenMode()){e(new R(R.$7()))}else if(R.$a){R.$b=e;R.$6()}else{e(new R(R.$7()))}};R.$0=function(e){if(tabBootstrap.Utility.get_isEmbedded()){if(ss.isValue(R.$c)){e.y+=R.$c.y;e.x+=R.$c.x}}else{try{var eZ=window.self;while(ss.isValue(eZ.frameElement)){var fa=$(eZ.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(fa.top);e.x+=tab.DoubleUtil.roundToInt(fa.left);eZ=eZ.parent}}catch(fb){var e=ss.Exception.wrap(fb)}}};R.$3=function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var eZ=e.data;if(ss.isNullOrUndefined(eZ)||typeof(eZ)!=='string'){return}var fa=eZ;var fb=tab.NonApiCommand.parse(fa);if(fb.get_name()==='layoutInfoResp'){var fc={l:parseInt(ss.getItem(fb.get_parameters(),0),10),t:parseInt(ss.getItem(fb.get_parameters(),1),10),w:parseInt(ss.getItem(fb.get_parameters(),2),10),h:parseInt(ss.getItem(fb.get_parameters(),3),10)};R.$2(fc)}else if(fb.get_name()==='tableau.enableVisibleRectCommunication'){R.$a=true}else if(fb.get_name()==='vizOffsetResp'){R.$c={x:parseInt(ss.getItem(fb.get_parameters(),0),10),y:parseInt(ss.getItem(fb.get_parameters(),1),10)};R.$a=true}};R.$2=function(e){var eZ=new R(e);if(ss.isValue(R.$b)){R.$b(eZ);R.$b=null}};R.$6=function(){if(tab.BrowserSupport.get_postMessage()){var e=new tab.NonApiCommand('layoutInfoReq',[]);window.parent.postMessage(e.serialize(),'*')}else{R.$2(R.$7())}};R.$5=function(){if(R.$9){if('removeEventListener'in window.self){window.removeEventListener('message',R.$3,true)}else{window.self.detachEvent('onmessage',R.$3)}R.$9=false}};R.$1=function(){if('addEventListener'in window.self){window.addEventListener('unload',R.$4,true)}else{window.self.attachEvent('onunload',R.$4)}};R.$4=function(e){R.$5()};global.tab.BrowserViewport=R;var S=function(e,eZ){this.$0=null;this.$1=null;this.$3=null;this.$4=null;this.$6=false;this.$2=null;this.$5=null;this.$7=null;this.cachedVisibleRect=null;this.$0=e;this.$1=eZ;this.$6=false;this.$7={x:0,y:0}};S.__typeName='tab.CanvasRenderer';S.$7=function(e,eZ,fa){if(Math.round(fa)%2===1){var fb=eZ.x-e.x;var fc=eZ.y-e.y;if(fb!==0||fc!==0){var fd=fb*fb+fc*fc;fd=Math.sqrt(fd);var fe=Math.abs(0.5*(fb/fd));var ff=Math.abs(0.5*(fc/fd));e.x+=ff;e.y+=fe;eZ.x+=ff;eZ.y+=fe}}};S.getRenderContext=function(e,eZ){var fa;if(eZ==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var fb=ss.mkdict(['alpha',false]);fa=e.getContext('2d',fb)}else{fa=e.getContext('2d')}return new ed(fa)};S.addMultipolygonPath=function(e,eZ){var fa=eZ.polygonList;var fb=fa.length;for(var fc=0;fc<fb;fc++){var fd=fa[fc].lineList;var fe=fd.length;for(var ff=0;ff<fe;ff++){var fg=fd[ff].pointsF;var fh=fg.length;if(fh<2){continue}e.moveTo(fg[0],fg[1]);for(var fi=2;fi<fh;fi=fi+2){e.lineTo(fg[fi],fg[fi+1])}}}};S.addMultipointPath=function(e,eZ,fa){var fb=eZ.pointsF;var fc=fb.length;for(var fd=0;fd<fc;fd=fd+2){var fe=fb[fd];var ff=fb[fd+1];e.moveTo(fe+fa,ff);e.arc(fe,ff,fa,0,S.twoPI,true)}};S.addMultilinePath=function(e,eZ){var fa=eZ.lineList;var fb=fa.length;for(var fc=0;fc<fb;fc++){var fd=fa[fc].pointsF;var fe=fd.length;if(fe===0||fe%2===1){continue}e.moveTo(fd[0],fd[1]);for(var ff=2;ff<fd.length;ff=ff+2){e.lineTo(fd[ff],fd[ff+1])}}};S.boundsCoordinateArray=function(e,eZ){var fa=e.length;for(var fb=0;fb<fa;fb=fb+2){var fc=e[fb];var fd=e[fb+1];eZ.minX=Math.min(eZ.minX,fc);eZ.minY=Math.min(eZ.minY,fd);eZ.maxX=Math.max(eZ.maxX,fc);eZ.maxY=Math.max(eZ.maxY,fd)}};S.boundsMultipolygon=function(e,eZ){for(var fa=0;fa<e.polygonList.length;fa++){var fb=e.polygonList[fa];for(var fc=0;fc<fb.lineList.length;fc++){var fd=fb.lineList[fc];S.boundsCoordinateArray(fd.pointsF,eZ)}}};S.boundsMultilineString=function(e,eZ){for(var fa=0;fa<e.lineList.length;fa++){var fb=e.lineList[fa];S.boundsCoordinateArray(fb.pointsF,eZ)}};S.getBasisVectorsBetweenTwoPoints=function(e,eZ,fa){var fb=eZ.x-e.x;var fc=eZ.y-e.y;var fd=Math.sqrt(fb*fb+fc*fc);var fe={x:fa*(fb/fd),y:fa*(fc/fd)};var ff={x:-fe.y,y:fe.x};return{item1:fe,item2:ff}};S.fillPath=function(e,eZ,fa){var fb=Math.floor(eZ.length/2);if(fb<2){return}e.beginPath();e.moveTo(eZ[0],eZ[1]);for(var fc=2;fc<fb*2;fc+=2){e.lineTo(eZ[fc],eZ[fc+1])}if(fa){e.closePath()}e.fill()};S.strokePath=function(e,eZ,fa,fb){var fc=Math.floor(eZ.length/2);if(fc<2){return}e.beginPath();var fd=e.get_lineWidth();for(var fe=0;fe<fc*2-2;fe+=2){var ff={x:eZ[fe],y:eZ[fe+1]};var fg={x:eZ[fe+2],y:eZ[fe+3]};if(fc<=2&&fb){S.$7(ff,fg,fd)}if(fe===0){e.moveTo(ff.x,ff.y)}S.$3(e,ff,fg)}if(fa){e.closePath();var fh=fc*2;var fi={x:eZ[fh-2],y:eZ[fh-1]};var fj={x:eZ[0],y:eZ[1]};if(fc<=2&&fb){S.$7(fi,fj,fd)}S.$3(e,fi,fj)}e.stroke()};S.toCanvasAngle=function(e){return e*S.twoPI-S.halfPI};S.toCanvasLineCap=function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'};S.toCanvasLineJoin=function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'};S.renderRectangle=function(e,eZ,fa,fb,fc,fd,fe){var ff=fb/2;var fg=fc/2;e.set_lineJoin('miter');e.set_lineWidth(fe);e.set_strokeStyle(fd);e.strokeRect(eZ-ff,fa-fg,fb,fc)};S.renderCircle=function(e,eZ,fa,fb,fc,fd){e.beginPath();e.arc(eZ,fa,fb/2,0,S.twoPI,true);e.closePath();e.set_lineWidth(fd);e.set_strokeStyle(fc);e.stroke()};S.renderFilledCircle=function(e,eZ,fa,fb,fc){e.beginPath();e.arc(eZ,fa,fb/2,0,S.twoPI,true);e.closePath();e.set_shapeFillStyle(fc);e.fill()};S.renderWedge=function(e,eZ,fa,fb,fc,fd,fe,ff,fg,fh){var fi=S.toCanvasAngle(fc);var fj=S.toCanvasAngle(fd);if(Math.abs(fj-fi)<S.angleEpsilon){return}if(ss.isNullOrUndefined(fg)){fg=false}var fk=Math.abs(fd-fc)>=1;e.beginPath();if(!fk){e.moveTo(eZ,fa)}fi=S.$6(fi);fj=S.$6(fj);e.arc(eZ,fa,fb,fi,fj,fg);e.closePath();e.set_lineJoin((fh?'miter':'round'));e.set_lineWidth(ff);e.set_strokeStyle(fe);e.stroke()};S.createPlaceholderPath=function(e,eZ,fa,fb){e.beginPath();e.arc(eZ,fa,fb/2,0,S.twoPI,true);e.closePath()};S.createMultipolygonPath=function(e,eZ){e.beginPath();S.addMultipolygonPath(e,eZ.multiPolygon);e.closePath()};S.createMultipointPath=function(e,eZ,fa){e.beginPath();S.addMultipointPath(e,fa.multiPoint,eZ/2);e.closePath()};S.fillMultiLineStringPath=function(e,eZ,fa){e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(fa);e.set_lineWidth(eZ);e.stroke()};S.fillClearMultiLineStringPath=function(e,eZ,fa){var fb=e.get_globalCompositeOperation();e.set_globalCompositeOperation('destination-out');e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(fa);e.set_lineWidth(eZ);e.stroke();e.set_globalCompositeOperation(fb)};S.$2=function(e,eZ,fa){e.beginPath();e.moveTo(eZ.x,eZ.y);e.lineTo(fa.x,fa.y);e.stroke()};S.$0=function(e,eZ,fa){var fb=e[0];var fc=e[1];var fd=S.getBasisVectorsBetweenTwoPoints(fb,fc,eZ);var fe=S.$8(fd.item1);var ff={x:fe.x*(fa/2),y:fe.y*(fa/2)};var fg=fd.item2;var fh={x:fb.x-ff.x+fg.x,y:fb.y-ff.y+fg.y};var fi={x:fb.x-ff.x-fg.x,y:fb.y-ff.y-fg.y};var fj=new Array(2);fj[0]=fh;fj[1]=fi;return fj};S.fillMultiLineStringEndCaps=function(e,eZ,fa,fb,fc){e.set_strokeStyle(fc);e.set_lineWidth(fb);var fd=fa/2;var fe=eZ.lineList;var ff=fe.length;for(var fg=0;fg<ff;fg++){var fh=fe[fg].pointsF;var fi=fh.length;if(fi<4||fi%2===1){continue}var fj={x:fh[0],y:fh[1]};var fk={x:fh[2],y:fh[3]};var fl=new Array(2);fl[0]=fj;fl[1]=fk;var fm=S.$0(fl,fd,fb);S.$2(e,fm[0],fm[1]);fj.x=fh[fi-2];fj.y=fh[fi-1];fk.x=fh[fi-4];fk.y=fh[fi-3];fl[0]=fj;fl[1]=fk;fm=S.$0(fl,fd,fb);S.$2(e,fm[0],fm[1])}e.beginPath();S.addMultilinePath(e,eZ)};S.$8=function(e){var eZ=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/eZ,y:e.y/eZ}};S.createMultiLinePath=function(e,eZ){e.beginPath();S.addMultilinePath(e,eZ.multiLine)};S.$3=function(e,eZ,fa){if(tab.BrowserSupport.get_canvasLinePattern()){e.lineTo(fa.x,fa.y)}else{switch(e.get_linePattern()){case'dashed':{S.$1(e,eZ,fa,ed.defaultLineDashDashed[0],ed.defaultLineDashDashed[1]);break}case'dotted':{S.$1(e,eZ,fa,ed.defaultLineDashDotted[0],ed.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(fa.x,fa.y);break}}}};S.$1=function(e,eZ,fa,fb,fc){var fd=e.get_lineWidth();fb=fd*fb;fc=fd*fc;e.moveTo(eZ.x,eZ.y);var fe=false;var ff=fb;var fg=eZ.x;var fh=eZ.y;var fi=fa.x-eZ.x;var fj=fa.y-eZ.y;var fk=fi*fi+fj*fj;fk=Math.sqrt(fk);var fl=fi/fk;var fm=fj/fk;while(fk>0){var fn=((fk>ff)?ff:fk);var fo=fg+fn*fl;var fp=fh+fn*fm;if(fe){e.moveTo(fo,fp)}else{e.lineTo(fo,fp)}fk-=fn;ff-=fn;if(ff===0){fe=!fe;ff=(fe?fc:fb)}fg=fo;fh=fp}};S.$5=function(e,eZ){var fa=tab.DomUtil.parseWidthFromStyle(e.style);fa=(isNaN(fa)?eZ:fa);return fa};S.$4=function(e,eZ){var fa=tab.DomUtil.parseHeightFromStyle(e.style);fa=(isNaN(fa)?eZ:fa);return fa};S.$6=function(e){return ss.Int32.trunc(e*100000)/100000};global.tab.CanvasRenderer=S;var T=function(){};T.__typeName='tab.CanvasUtil';T.sizeCanvasWithHighDPISupport=function(e,eZ,fa){var fb=dz.calculatePixelRatio();T.setCanvasSizeAndDensify(e,fb,fa);if(!tab.DoubleUtil.isApproximatelyEqual(fb,1)){T.scaleCanvasDrawing(eZ,fb)}};T.setCanvasSizeAndDensify=function(e,eZ,fa){if(ss.isValue(e)){var fb={w:ss.Int32.trunc(fa.w*eZ),h:ss.Int32.trunc(fa.h*eZ)};T.densifyCanvasUsingSize(e,fb,fa)}};T.densifyCanvasUsingSize=function(e,eZ,fa){if(ss.isValue(e)&&ss.isValue(eZ)&&ss.isValue(fa)){e.width=eZ.w;e.height=eZ.h;e.style.width=T.$0(fa.w);e.style.height=T.$0(fa.h)}};T.scaleCanvasDrawing=function(e,eZ){if(ss.isValue(e)){e.pixelRatio=eZ;e.scale(eZ,eZ)}};T.isOverCanvasSizeLimit=function(e,eZ,fa){var fb=Math.floor(fa*e*fa*eZ+0.5);return fb>tabBootstrap.ViewerBootstrap.get_canvasPixelLimit()};T.canvasDensified=function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,T.$0(e.height))};T.$0=function(e){return e+'px'};global.tab.CanvasUtil=T;var U=function(){this.command=null;ss.EventArgs.call(this)};U.__typeName='tab.CommandExecutedEventArgs';global.tab.CommandExecutedEventArgs=U;var V=function(){this.$1=new tab.DisposableHolder};V.__typeName='tab.CommonDialogProviderImpl';V.$0=function(){var e=document.createElement('div');return e};global.tab.CommonDialogProviderImpl=V;var W=function(){};W.__typeName='tab.CommonDialogProviderTelemetry';W.$1=function(e,eZ,fa){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Error.Alert',['Title',e,'Content',eZ,'Links',(_.isArray(fa)?JSON.stringify(fa):'')])}};W.$0=function(e,eZ){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){var fa=ss.coalesce(eZ.ErrorType,'');var fb=ss.coalesce(eZ.ErrorMessage,'');var fc=ss.coalesce(eZ.RedirectUrl,'');tab.OnlineAnalyticsClient.logEvent('Error.DataSourceConnection',['Context',e,'ErrorType',fa,'Message',fb,'RedirectUrl',fc])}};global.tab.CommonDialogProviderTelemetry=W;var X=function(){this.$2=null;this.$1=null;this.$2={};this.$1={}};X.__typeName='tab.CompletionMonitor';X.get_instance=function(){if(ss.isNullOrUndefined(X.$0)){X.$0=new X}return X.$0};global.tab.CompletionMonitor=X;var Y=function(){};Y.__typeName='tab.CompletionMonitorType';global.tab.CompletionMonitorType=Y;var Z=function(e,eZ){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=eZ};Z.__typeName='tab.CompletionToken';global.tab.CompletionToken=Z;var ba=function(e,eZ,fa){this.$3=null;this.$2=null;this.$1=null;this.$4=null;this.$2$1=null;O.call(this);this.$3=e;this.$2=eZ;this.$1=fa;this.$4=ss.mkdel(this,this.$0)};ba.__typeName='tab.ConnectionMissingFileDialog';global.tab.ConnectionMissingFileDialog=ba;var bb=function(e,eZ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[be,bc,Object]).call(this,tab.ObjectRegistry.newView(be).call(null,[e.viewModel]),e,eZ)};bb.__typeName='tab.CustomViewsComponent';global.tab.CustomViewsComponent=bb;var bc=function(){this.viewModel=null};bc.__typeName='tab.CustomViewsProps';global.tab.CustomViewsProps=bc;var bd=function(){this.customViewsArea=null;this.manageModeControlArea=null;this.myViewsTitle=null;this.myViewsListArea=null;this.otherViewsTitle=null;this.otherViewsListArea=null;this.myViewsListWrapper=null;this.otherViewsListWrapper=null;this.saveViewArea=null;spiff.Template.call(this,$("\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"));this.customViewsArea=this.domRoot;this.manageModeControlArea=this.getElementBySelector('.tab-cv-manageModeControls');this.myViewsListArea=this.getElementBySelector('.tab-cv-myViews .tab-cv-viewsList');this.myViewsTitle=this.getElementBySelector('.tab-cv-myViews .tab-toolbarFlyoutTitle');this.otherViewsTitle=this.getElementBySelector('.tab-cv-otherViews .tab-toolbarFlyoutTitle');this.otherViewsListArea=this.getElementBySelector('.tab-cv-otherViews .tab-cv-viewsList');this.myViewsListWrapper=this.getElementBySelector('.tab-cv-myViews .tab-cv-listWrapper');this.otherViewsListWrapper=this.getElementBySelector('.tab-cv-otherViews .tab-cv-listWrapper');this.saveViewArea=this.getElementBySelector('.tab-customViews-saveView')};bd.__typeName='tab.CustomViewsTemplate';global.tab.CustomViewsTemplate=bd;var be=function(e){this.$15=null;this.$14=null;this.$12=null;this.$X=null;this.$Y=null;this.$Z=null;this.$10={};this.$11=null;this.$W=null;this.$13=null;ss.makeGenericType(spiff.BaseView$1,[bf]).call(this,e,new bd);this.$a();this.get_viewModel().add_customViewListChanged(ss.mkdel(this,this.$P));this.get_viewModel().updateCustomizedViews(null,null)};be.__typeName='tab.CustomViewsView';global.tab.CustomViewsView=be;var bf=function(){this.$s=null;this.$q=[];this.$r=[];this.$p=bf.modeSelect;this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.hideView=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.$s=new tab.CustomizedViewSession(tab.CommandController.get().get_legacySession());if(tsConfig.allow_custom_views){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$5(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$9))})))}};bf.__typeName='tab.CustomViewsViewModel';bf.$0=function(e,eZ){return ss.compareStrings(e.name,eZ.name,true)};global.tab.CustomViewsViewModel=bf;var bg=function(e,eZ){this.dashboardNode=null;spiff.Template.call(this,$(e));if(eZ){this.dashboardNode=this.getElementBySelector('.tab-dashboard')}else{this.dashboardNode=this.domRoot}};bg.__typeName='tab.DashboardTemplate';bg.newDashboardTemplate=function(e){var eZ=(e?"<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>":"<div id='tab-dashboard-region' class='tab-dashboard'/>");return new bg(eZ,e)};global.tab.DashboardTemplate=bg;var bh=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[bi]).call(this,e,bg.newDashboardTemplate(e.get_hasGutter()));this.$e=e;this.$e.add_formatsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_formatsChanged(ss.mkdel(this,this.$9))})));this.$e.add_newZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_newZone(ss.mkdel(this,this.$a))})));this.$e.add_vizRebuildStart(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_vizRebuildStart(ss.mkdel(this,this.$c))})));this.$e.add_sizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_sizeChanged(ss.mkdel(this,this.$b))})))};bh.__typeName='tab.DashboardView';bh.findDashboard=function(){return $('.tab-dashboard')};bh.uniquefyClonedFilterRadioElements=function(e){var eZ=e.find('input:radio');for(var fa=0;fa<eZ.length;++fa){var fb=eZ[fa];var fc=ss.coalesce(fb.getAttribute('name'),'');fc+='_%%%CLONE%%%';fb.setAttribute('name',fc)}};global.tab.DashboardView=bh;var bi=function(e){this.$m={};this.$l=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.ViewerBootstrap.get_instance().authoringGutter;this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$8));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$9));tab.SheetSession.add_sheetDataChanged(ss.mkdel(this,this.$k));tab.BaseSession.add_stateChanged(ss.mkdel(this,this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.BaseSession.remove_stateChanged(ss.mkdel(this,this.$h))})));this.disposables.add$1(new tab.CallOnDispose(tab.StyleUtil.clearDefaultStyleSheet));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.add_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.remove_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$e))})));this.viewControllers=[];this.$2()};bi.__typeName='tab.DashboardViewModel';bi.new$1=function(e){return new bi(e)};global.tab.DashboardViewModel=bi;var bj=function(e,eZ){React.Component.call(this,e,eZ)};bj.__typeName='tab.DataAlertCreateComponent';global.tab.DataAlertCreateComponent=bj;var bk=function(){bt.call(this);this.successMessage=tab.Strings.DataAlertCreateSuccess;this.failureMessage=tab.Strings.DataAlertCreateFailure};bk.__typeName='tab.DataAlertCreatePersister';bk.new$1=function(){return new bk};global.tab.DataAlertCreatePersister=bk;var bl=function(e){this.$0=null;bu.call(this);this.$0=e};bl.__typeName='tab.DataAlertCreatePreparer';bl.new$1=function(e){return new bl(e)};global.tab.DataAlertCreatePreparer=bl;var bm=function(e,eZ){this.$C=null;this.$B=null;this.$A=null;this.$H=null;this.$G=false;this.$F=false;this.$D='';this.$E=null;this.users=null;this.$3$1=false;this.$3$2=false;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);this.set_emptySearch(true);if(tsConfig.is_guest){return}this.$B=e;this.$A=eZ;this.$o();this.$m();this.refresh()};bm.__typeName='tab.DataAlertCreateViewModel';bm.new$1=function(e,eZ){return new bm(e,eZ)};global.tab.DataAlertCreateViewModel=bm;var bn=function(e,eZ){this.$h=null;this.$k=null;this.$f=null;this.$g=null;this.$j=null;this.$i=null;this.$3$1=null;this.dialogPosition=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$j=eZ;tab.CommandController.get().add_undoCommand(ss.mkdel(this,this.$c));if(ss.isValue(e)){this.$i=e;this.updateFromDialogPresModel(e)}};bn.__typeName='tab.DataAlertDialogViewModel';bn.get_dataAlertModelExistsAndVisibleInApplicationModel=function(){return ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel())&&ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)&&tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm.isDataAlertDialogVisible};bn.new$1=function(e,eZ){return new bn(e,eZ)};bn.handleDataAlertClick=function(e){if(!ss.isNullOrEmptyString(e)){db.showNotification(e);return}tab.DataAlertCommands.newDataAlert(function(){db.showNotification(tab.Strings.DataAlertInitFailure)})};global.tab.DataAlertDialogViewModel=bn;var bo=function(e){this.$0='';bt.call(this);this.$0=e;this.successMessage=tab.Strings.DataAlertUpdateSuccess;this.failureMessage=tab.Strings.DataAlertUpdateFailure};bo.__typeName='tab.DataAlertEditPersister';bo.new$1=function(e){return new bo(e)};bo.getDifferenceInUserLists=function(e,eZ){var fa=_.difference(eZ.map(function(fe){return fe.id}),e.map(function(fe){return fe.id}));var fb=[];for(var fc=0;fc<fa.length;fc++){var fd={$:fa[fc]};ss.arrayAddRange(fb,eZ.filter(ss.mkdel({id:fd},function(fe){return fe.id===this.id.$})))}return fb};bo.getOldUsersToRemove=function(e,eZ){return bo.getDifferenceInUserLists(eZ,e)};global.tab.DataAlertEditPersister=bo;var bp=function(e,eZ){this.$7=null;this.$5=false;this.$6=false;bu.call(this);this.dataAlert=new tab.DataAlert.$ctor1(e);this.$7=eZ};bp.__typeName='tab.DataAlertEditPreparer';bp.new$1=function(e,eZ){return new bp(e,eZ)};global.tab.DataAlertEditPreparer=bp;var bq=function(){};bq.__typeName='tab.DataAlertEditUrlHelper';bq.isDataAlertEdit=function(){var e=bq.editDataAlertId();if(ss.isNullOrEmptyString(e)){return false}return true};bq.editDataAlertId=function(){if(!tab.FeatureFlags.isEnabled('AlertEditing')){return''}var e=tabBootstrap.Utility.get_urlLocationSearchParams()[bq.editDataAlertUrlParam];return(ss.isNullOrEmptyString(e)?'':e)};global.tab.DataAlertEditUrlHelper=bq;var br=function(e){spiff.PureRenderComponent.call(this,e)};br.__typeName='tab.DataAlertErrorComponent';global.tab.DataAlertErrorComponent=br;var bs=function(e,eZ){this.$b=null;this.$a=null;this.$9=null;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$b=e;this.$a=eZ;this.$7()};bs.__typeName='tab.DataAlertErrorViewModel';global.tab.DataAlertErrorViewModel=bs;var bt=function(){this.successMessage=null;this.failureMessage=null;this.$1$1=null;this.$1$2=null};bt.__typeName='tab.DataAlertPersisterBase';global.tab.DataAlertPersisterBase=bt;var bu=function(){this.dataAlert=null;this.$1$1=null;this.$1$2=null};bu.__typeName='tab.DataAlertPreparerBase';global.tab.DataAlertPreparerBase=bu;var bv=function(e,eZ){this.dataHighlighterViewModel=null;this.$l=null;this.$m=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.$p=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$o=false;this.$n=null;ss.makeGenericType(spiff.BaseView$1,[bx]).call(this,e,eZ);this.dataHighlighterViewModel=e;this.$m=eZ.domRoot;this.dataHighlighterContentElement=eZ.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=eZ.get_dataHighlighterViewRootElement();this.zoneTitleRegionRootElement=eZ.get_zoneTitleRegionRootElement();this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$l.get_domRoot());this.$l.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$k();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_domainItemsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$d)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$d)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_domainItemsChanged(ss.mkdel(this,this.$9));this.$g()})))};bv.__typeName='tab.DataHighlighterView';global.tab.DataHighlighterView=bv;var bw=function(){};bw.__typeName='tab.DataHighlighterView$ListPopulationMode';global.tab.DataHighlighterView$ListPopulationMode=bw;var bx=function(e,eZ,fa){this.$5=null;this.$a=null;this.$b=null;this.$8=null;this.$7=false;this.$9=null;this.$6=null;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$5=e;this.$a=eZ;this.$8=fa;this.$7=this.$5.get_isActive();this.set_searchText(this.$5.get_searchText());this.$6=ss.arrayClone(this.$5.get_fullDomainItemSet().dataHighlighterItems);if(ss.isValue(this.$8)){if(ss.isValue(this.$8.get_model().pm)&&this.$8.get_hasTitle()){this.$b=this.$8.get_model().pm.zoneTitle}this.$8.add_updateZone(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updateZone(ss.mkdel(this,this.$4))})))}this.$5.add_newDataHighlighterPresModel(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$3))})))};bx.__typeName='tab.DataHighlighterViewModel';bx.$0=function(e,eZ){if(e.length!==eZ.length){return true}else{for(var fa=0;fa<e.length;fa++){if(!ss.referenceEquals(e[fa].text,eZ[fa].text)){return true}}}return false};global.tab.DataHighlighterViewModel=bx;var by=function(){this.$1=null;this.$2=null;this.$3=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$2=this.domRoot.find('.tabDataHighlighterView');this.$3=this.domRoot.find('.tab-zone-titleregion')};by.__typeName='tab.DataHighlighterViewTemplate';global.tab.DataHighlighterViewTemplate=by;var bz=function(e,eZ){this.$0=null;N.call(this,e,eZ);this.$0=new bQ(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')};bz.__typeName='tab.DataSourceConnectionErrorDialog';global.tab.DataSourceConnectionErrorDialog=bz;var bA=function(e){this.$q=0;this.$C=null;this.$y=null;this.$r=null;this.$p=null;this.$B=null;this.$u=null;this.$v=null;this.$s=null;this.$t=null;this.$x=null;this.$A=null;this.$z=null;this.$w=null;this.$E=null;this.$D=null;this.$F=false;spiff.Widget.call(this,$('<span>'));this.$q=e.firstDayOfWeek;this.$C=e.shortDayOfWeekNames;this.$D=e.todayFormatTemplate;this.$y=e.monthYearFormatter;this.$r=e.fullDateFormatter;this.$F=false;var eZ=new Date;this.$p=bA.$4(bA.$2(e.monthToShow)||eZ);this.$B=bA.$2(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$d().appendTo(this.element);var fa=$('<div>').addClass('tab-datepicker-month-table-wrapper').append($('<div>').addClass('tab-datepicker-week-shade')).append(this.$e());fa.appendTo(this.element);this.$c().appendTo(this.element);this.element.mousedown(function(fb){spiff.EventUtil.stopEvent(fb)});this.$l()};bA.__typeName='tab.DatePicker';bA.$2=function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)};bA.$3=function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)};bA.$4=function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)};bA.$1=function(e,eZ,fa,fb){if(e+eZ>fb){e=fb-eZ;if(e<fa){e+=Math.ceil((fa-e)/2)}}return e};bA.$0=function(e,eZ){return(e+eZ+14)%7};bA.$5=function(e,eZ){return e.getFullYear()===eZ.getFullYear()&&e.getMonth()===eZ.getMonth()&&e.getDate()===eZ.getDate()};global.tab.DatePicker=bA;var bB=function(e,eZ,fa,fb,fc,fd,fe,ff,fg){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(eZ)?null:new Date(eZ.getTime()));this.minDate=(ss.isNullOrUndefined(fa)?null:new Date(fa.getTime()));this.maxDate=(ss.isNullOrUndefined(fb)?null:new Date(fb.getTime()));this.firstDayOfWeek=ss.coalesce(fc,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(fd)?['S','M','T','W','T','F','S']:ss.arrayClone(fd));this.todayFormatTemplate=(ss.isNullOrUndefined(fe)?'Today: {0}':fe);this.monthYearFormatter=(ss.isNullOrUndefined(ff)?function(fh){return ss.localeFormatDate(bA.$2(fh),'MMMM yyyy')}:ff);this.fullDateFormatter=(ss.isNullOrUndefined(fg)?function(fh){return ss.localeFormatDate(bA.$2(fh),'MMMM d, yyyy')}:fg)};bB.__typeName='tab.DatePickerSettings';global.tab.DatePickerSettings=bB;var bC=function(){};bC.__typeName='tab.DetailedErrorDialogCommands';bC.showDetailedErrorDialog=function(e,eZ,fa,fb){var fc=fb||[];if(ss.isValue(fa)){for(var fd=0;fd<fa.length;fd++){var fe=fa[fd];fc.push(fe.toString())}}var ff=new dN;ff.c['errorDialogTitle']=eZ;ff.c['errorShortMessage']=e;ff.c['errorDetails']=fc;ff.c['errorHelpLink']='https://www.tableau.com/support/';ff.invoke()};global.tab.DetailedErrorDialogCommands=bC;var bD=function(){React.Component.call(this)};bD.__typeName='tab.DialogHostComponent';global.tab.DialogHostComponent=bD;var bE=function(){this.$8=false;this.$7=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};bE.__typeName='tab.DialogHostViewModel';global.tab.DialogHostViewModel=bE;var bF=function(){};bF.__typeName='tab.DisabledTooltipBehavior';global.tab.DisabledTooltipBehavior=bF;var bG=function(){this.woffLocation=null;tab.FontProperties.call(this)};bG.__typeName='tab.DownloadableFontProperties';global.tab.DownloadableFontProperties=bG;var bH=function(){};bH.__typeName='tab.DownloadableFontPropertiesExtensions';bH.toDownloadableFontProperties=function(e,eZ){var fa=new bG;fa.set_fontFamily(e.get_fontFamily());fa.set_style(e.get_style());fa.set_weight(e.get_weight());fa.woffLocation=eZ;return fa};global.tab.DownloadableFontPropertiesExtensions=bH;var bI=function(e,eZ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bM,bK,Object]).call(this,tab.ObjectRegistry.newView(bM).call(null,[e.viewModel]),e,eZ)};bI.__typeName='tab.DownloadComponent';global.tab.DownloadComponent=bI;var bJ=function(e,eZ,fa,fb){this.$4=null;this.$3=null;this.$5=null;this.$6=null;this.$2=null;tab.Param.verifyString(e,'title');tab.Param.verifyString(eZ,'message');tab.Param.verifyString(fa,'url');tab.Param.verifyString(fb,'urlTarget');this.$4=e;this.$3=eZ;this.$5=fa;this.$6=fb};bJ.__typeName='tab.DownloadFileDialog';bJ.$0=function(e){var eZ=React.createElement(SharedWidgets.ButtonWidget,{handleClick:function(fb){e()},buttonType:1,testId:'CancelBtn',label:tab.Strings.DialogButtonCancel});var fa=React.createElement(SharedWidgets.InlineBlock,{children:eZ});return fa};global.tab.DownloadFileDialog=bJ;var bK=function(){this.viewModel=null};bK.__typeName='tab.DownloadProps';global.tab.DownloadProps=bK;var bL=function(){this.downloadArea=null;this.menuArea=null;this.applicationArea=null;this.explanationTitle=null;this.explanationBody=null;this.actionArea=null;this.availablePlatforms=null;this.downloadAppButton=null;spiff.Template.call(this,$("<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"));this.downloadArea=this.domRoot;this.menuArea=this.getElementBySelector('.tab-downloadButtons');this.applicationArea=this.getElementBySelector('.tab-downloadApplication');this.explanationTitle=this.getElementBySelector('.tab-explanationTitle');this.explanationBody=this.getElementBySelector('.tab-explanationBody');this.actionArea=this.getElementBySelector('.tab-downloadAction');this.availablePlatforms=this.getElementBySelector('.tab-availablePlatforms');this.downloadAppButton=this.getElementBySelector('.tab-downloadAppButton');if(tsConfig.is_mobile){this.downloadArea.addClass('tab-mobileDownloadView')}};bL.__typeName='tab.DownloadTemplate';global.tab.DownloadTemplate=bL;var bM=function(e){this.$i=null;this.$h=null;this.$g=null;this.$j=false;ss.makeGenericType(spiff.BaseView$1,[bN]).call(this,e,new bL);this.$i=e;this.$j=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<715;if(this.$j){this.get_dom().downloadArea.addClass('tab-narrowDownloadView')}this.$a()};bM.__typeName='tab.DownloadView';global.tab.DownloadView=bM;var bN=function(){this.$2$1=null;spiff.BaseViewModel.call(this)};bN.__typeName='tab.DownloadViewModel';global.tab.DownloadViewModel=bN;var bO=function(e){spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))};bO.__typeName='tab.DynamicallyLoadedContentDialog';global.tab.DynamicallyLoadedContentDialog=bO;var bP=function(e,eZ){this.$P=null;bO.call(this,e);this.$P=eZ;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')};bP.__typeName='tab.DynamicallyLoadedContentIntoDomDialog';global.tab.DynamicallyLoadedContentIntoDomDialog=bP;var bQ=function(e,eZ,fa){this.$P=null;this.urlToLoadDialogContent=null;bO.call(this,e);this.$P=fa;this.urlToLoadDialogContent=eZ;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')};bQ.__typeName='tab.DynamicallyLoadedContentIntoIframeDialog';global.tab.DynamicallyLoadedContentIntoIframeDialog=bQ;var bR=function(e){this.$1=null;this.$2=null;O.call(this);this.$1=e;this.$2=ss.mkdel(this,this.$0)};bR.__typeName='tab.EditConnectionInformationDialog';global.tab.EditConnectionInformationDialog=bR;var bS=function(){};bS.__typeName='tab.EmailValidator';bS.validate=function(e){if(ss.isNullOrEmptyString(e)){return false}if(e.length>bS.maxEmailLength){return false}var eZ=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return eZ.test(e)};global.tab.EmailValidator=bS;var bT=function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutMessage)};bT.__typeName='tab.EmptyFloatingLayoutTemplate';global.tab.EmptyFloatingLayoutTemplate=bT;var bU=function(e){ss.makeGenericType(spiff.BaseView$1,[bV]).call(this,e,new bT)};bU.__typeName='tab.EmptyFloatingLayoutView';global.tab.EmptyFloatingLayoutView=bU;var bV=function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))};bV.__typeName='tab.EmptyFloatingLayoutViewModel';global.tab.EmptyFloatingLayoutViewModel=bV;var bW=function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null};bW.__typeName='tab.EventHandlerParam';global.tab.EventHandlerParam=bW;var bX=function(){this.$0=null;this.$0={}};bX.__typeName='tab.ExportHelper';global.tab.ExportHelper=bX;var bY=function(e){ss.makeGenericType(dM,[Object]).call(this,e)};bY.__typeName='tab.FileReconnectWidget';global.tab.FileReconnectWidget=bY;var bZ=function(){};bZ.__typeName='tab.FontMetricsLogger';bZ.logUIStabilized=function(){bZ.$0('UI Stabilized')};bZ.logFontsLoaded=function(){bZ.$0('AllFontsDownloaded')};bZ.$0=function(e){var eZ={};eZ['t']=tabBootstrap.MetricsController.getTiming();eZ['d']=e;var fa=new tabBootstrap.MetricsEvent('gen',128,eZ);tabBootstrap.MetricsController.logEvent(fa)};global.tab.FontMetricsLogger=bZ;var ca=function(){this.normalizeFont=null;this.normalizeFont=(tab.BrowserSupport.get_isIE()?ca.$0:ca.$2)};ca.__typeName='tab.FontNormalizer';ca.instance=function(){if(ss.isNullOrUndefined(ca.$4)){ca.$4=new ca;ca.$1()}return ca.$4};ca.$0=function(e){var eZ=e.split(' ');var fa;var fb=false;for(var fc=0;fc<eZ.length;++fc){fa=ca.$3[eZ[fc]];if(!(typeof(fa)==='undefined')){fb=true;eZ[fc]=fa}}if(fb){return eZ.join(' ')}return e};ca.$2=function(e){return e};ca.$1=function(){if(ss.isValue(ca.$3)){return}if(tab.BrowserSupport.get_isIE()){ca.$3={};ca.$3['']='DLCMingMedium';ca.$3['']='DLCMingBold';ca.$3['']='Ming Light';ca.$3['']='PMingLiU';ca.$3['-ExtB']='MingLiU-ExtB';ca.$3['-ExtB']='PMingLiU-ExtB';ca.$3['MS']='MS Song';ca.$3['']='NSimSun';ca.$3['']='SimSun';ca.$3['']='SimSun';ca.$3['-18030']='SimSun-18030';ca.$3['-18030']='NSimSun-18030';ca.$3['']='SimSun (Founder Extended)';ca.$3['ExtA']='SimSun-ExtA';ca.$3['ExtB']='SimSun-ExtB';ca.$3['']='STSong';ca.$3['']='STZhongsong';ca.$3['']='MS';ca.$3['']='Mincho';ca.$3['']='PMincho';ca.$3['']='Heisei Minch';ca.$3['']='Rybund Minch';ca.$3['']='Kozuka Minch';ca.$3['']='Batang';ca.$3['']='BatangChe';ca.$3['']='Gungsuh';ca.$3['']='GungsuhChe';ca.$3['']='STHeiti Light';ca.$3['']='Microsoft JhengHei';ca.$3['']='Microsoft YaHei';ca.$3['MS']='MS Hei';ca.$3['']='MHei';ca.$3['']='SimHei';ca.$3['']='Meiryo';ca.$3['']='Gothic';ca.$3['']='PGothic';ca.$3['']='Dotum';ca.$3['']='DotumChe';ca.$3['']='Gulim';ca.$3['']='GulimChe';ca.$3['']='Malgun';ca.$3['']='Gothic';ca.$3['']='New Gulim';ca.$3['']='KaiU';ca.$3['']='SimKai';ca.$3['_GB2312']='SimKai';ca.$3['']='STKaiti';ca.$3['']='SimLi';ca.$3['']='SimLi';ca.$3['']='SimFang';ca.$3['']='SimFang';ca.$3['']='SimYou';ca.$3['']='HuaWen Xingkai';ca.$3['']='HuaWen CaiYun';ca.$3['']='FangZheng ShuTi';ca.$3['']='FangZheng QiTi';ca.$3['']='HanYi XueJun';ca.$3['']='HuaKang ShaoNu';ca.$3['']='HuaKang WuaWua'}};global.tab.FontNormalizer=ca;var cb=function(){};cb.__typeName='tab.FormattingConverters';cb.getCSSBorderStyle=function(e){var eZ='solid';switch(e){case'bs-dashed':{eZ='dashed';break}case'bs-dotted':{eZ='dotted';break}case'bs-double':{eZ='double';break}case'bs-groove':{eZ='groove';break}case'bs-hidden':{eZ='hidden';break}case'bs-inset':{eZ='inset';break}case'bs-outset':{eZ='outset';break}case'bs-ridge':{eZ='ridge';break}case'bs-solid':{eZ='solid';break}case'bs-none':{eZ='none';break}default:{break}}return eZ};cb.makeStyledBoxCssDict=function(e,eZ){var fa={};if(ss.isValue(e)){fa=cb.makeBorderStyleDict(e);if(e.hasFill){var fb=tab.ColorModel.fromColorCode(e.fillColor);fa['background-color']=(eZ?fb.toString():fb.toRgb())}}return fa};cb.makeFormatStyleDict=function(e,eZ){if(ss.isNullOrUndefined(e)){return{}}var fa={'font-size':e.fontSize+'pt',color:e.color};if(ss.isValue(e.fontName)&&ss.keyExists(cb.$2,e.fontName)){fa['font-family']=cb.$2[e.fontName]}else if(ss.isValue(e.fontName)){var fb=e.fontName.split(',');cb.addDefaultFontForTableau(fb);for(var fc=0;fc<fb.length;fc++){fb[fc]=cb.addQuotationMarks(fb[fc].trim(),false)}fa['font-family']=fb.join(',');cb.$2[e.fontName]=fa['font-family']}if(ss.isValue(eZ)){fa.color=eZ}if(e.fontStyle==='font-style-italic'){fa['font-style']='italic'}if(e.fontWeight==='font-weight-bold'){fa['font-weight']='bold'}var fd='none';switch(e.textDecoration){case'text-decoration-overline':{fd='overline';break}case'text-decoration-strikethrough':{fd='line-through';break}case'text-decoration-underline':{fd='underline';break}}if(fd!=='none'){fa['text-decoration']=fd}if(ss.isValue(e.wrapMode)){switch(e.wrapMode){case'text-wrap-off':{fa['white-space']='nowrap';break}case'text-wrap-truncate':{fa['overflow-x']='hidden';break}}}return fa};cb.addQuotationMarks=function(e,eZ){if(tab.MiscUtil.isNullOrEmpty$3(e)){return(eZ?"''":'""')}var fa=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(fa)===39||e.charCodeAt(0)===34&&e.charCodeAt(fa)===34){return e}if(e.indexOf(' ')!==-1){var fb=(eZ?"'":'"');e=fb+e+fb}return e};cb.makeBorderStyleDict=function(e){var eZ={};if(ss.isValue(e.uw)){eZ['border-width']=e.uw+'px'}if(ss.isValue(e.borderColor)){eZ['border-color']=e.borderColor}if(ss.isValue(e.uw)){eZ['border-style']=cb.getCSSBorderStyle(e.borderStyle)}return eZ};cb.getTextBaseline=function(e){var eZ='bottom';switch(e){case'v-align-bottom':{eZ='bottom';break}case'v-align-top':{eZ='top';break}case'v-align-center':{eZ='middle';break}default:{break}}return eZ};cb.cleanUpFontFamilyStyles=function(e){var eZ=e.find('span');for(var fa=0;fa<eZ.length;++fa){var fb=eZ.eq(fa);var fc=fb.css('font-family');if(!ss.isNullOrEmptyString(fc)){var fd={};var fe=[];fe.push(fc);if(ss.startsWithString(fc,"'")||ss.startsWithString(fc,'"')){fc=fc.substr(1,fc.length-2)}fc=cb.$1(fb,fe,fd,fc,cb.$4,'font-style','fontStyle');fc=cb.$1(fb,fe,fd,fc,cb.$5,'font-weight','fontWeight');cb.$1(fb,fe,fd,fc,cb.$3,'font-stretch','fontStretch');cb.addDefaultFontForTableau(fe);if(fe.length>1){fd['font-family']=fe.join(',');fb.css(fd)}}}};cb.addDefaultFontForTableau=function(e){var eZ='tableau';var fa=false;var fb=e.length;for(var fc=0;fc<fb;fc++){var fd=e[fc].trim();for(var fe=0;fe<2;fe++){if(ss.startsWithString(fd,"'")||ss.startsWithString(fd,'"')){fd=fd.substr(1)}}if(ss.compareStrings(fd.substr(0,eZ.length),eZ,true)===0){fa=true;break}}if(fa){e.push('Arial');e.push('sans-serif')}};cb.$1=function(e,eZ,fa,fb,fc,fd,fe){var ff=fb.toLowerCase();for(var fg=0;fg<fc.length;fg++){var fh=fc[fg];if(ss.endsWithString(ff,fh.item1)){fb=fb.substr(0,ff.lastIndexOf(fh.item1)).trim();eZ.push("'"+fb+"'");if(!cb.$0(e,fe)){fa[fd]=fh.item2}}}return fb};cb.$0=function(e,eZ){return!ss.isNullOrEmptyString(e.prop('style')[eZ])};global.tab.FormattingConverters=cb;var cc=function(){};cc.__typeName='tab.FormattingTelemetrySchemaConstants';cc.get_richTextEditingOnlineTelemetryEnabled=function(){return tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')};global.tab.FormattingTelemetrySchemaConstants=cc;var cd=function(e,eZ){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var fa=$('.tb-data-source-button-retry',this.element);fa.text(tab.Strings.DataSourceGenericErrorButtonLabel);fa.on('click',function(fb){if(ss.isValue(eZ)){eZ()}});fa.on('keypress',function(fb){if(fb.which===13||fb.which===32){if(ss.isValue(eZ)){eZ()}fb.stopPropagation()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)};cd.__typeName='tab.GenericDataSourceErrorWidget';global.tab.GenericDataSourceErrorWidget=cd;var ce=function(e,eZ){this.$1=tab.Strings.DataSourceGenericTitle;this.$0=null;N.call(this,e,eZ);var fa=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var fb=new cd(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fa);this.$0=new bP(this.$1,fb.element)};ce.__typeName='tab.GenericDataSourceExceptionDialogWidget';global.tab.GenericDataSourceExceptionDialogWidget=ce;var cf=function(e,eZ){M.call(this,e,eZ)};cf.__typeName='tab.GenericDataSourceExceptionOverlayWidget';global.tab.GenericDataSourceExceptionOverlayWidget=cf;var cg=function(e){da.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()};cg.__typeName='tab.GeoLocationNotificationView';global.tab.GeoLocationNotificationView=cg;var ch=function(){ss.makeGenericType(tab.BaseCmd$2,[Object,ci]).call(this)};ch.__typeName='tab.GetRuntimeDataModelCmd';global.tab.GetRuntimeDataModelCmd=ch;var ci=function(e){this.$$c=null;this.$$c=e};ci.__typeName='tab.GetRuntimeDataModelCmd$Response';global.tab.GetRuntimeDataModelCmd$Response=ci;var cj=function(e){cM.call(this,e)};cj.__typeName='tab.GlobalKeyboardShortcut';global.tab.GlobalKeyboardShortcut=cj;var ck=function(){cj.call(this,true)};ck.__typeName='tab.HelpKeyboardShortcut';global.tab.HelpKeyboardShortcut=ck;var cl=function(){};cl.__typeName='tab.HitTargetColliders';global.tab.HitTargetColliders=cl;var cm=function(){};cm.__typeName='tab.HitTargetType';global.tab.HitTargetType=cm;var cn=function(){cK.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>")};cn.__typeName='tab.HorizontalIteratorButtonTemplate';global.tab.HorizontalIteratorButtonTemplate=cn;var co=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"));this.$1().text(tab.Strings.WebZoneHttpsEmbedHttpAuthoring);if(ss.startsWithString(e,'http://')){e=e.replace('http://','')}this.$2().text(unescape(e))};co.__typeName='tab.HttpsEmbedHttpAuthoringMessage';global.tab.HttpsEmbedHttpAuthoringMessage=co;var cp=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"));this.$2().text(tab.Strings.WebZoneHttpsEmbedHttpView);this.$1().prop('href',e);this.$1().text(unescape(e))};cp.__typeName='tab.HttpsEmbedHttpViewMessage';global.tab.HttpsEmbedHttpViewMessage=cp;var cq=function(){};cq.__typeName='tab.IApiStorytellingClient';global.tab.IApiStorytellingClient=cq;var cr=function(){};cr.__typeName='tab.IAppBannerView';global.tab.IAppBannerView=cr;var cs=function(){};cs.__typeName='tab.IClient';global.tab.IClient=cs;var ct=function(){};ct.__typeName='tab.IDashboardViewport';global.tab.IDashboardViewport=ct;var cu=function(){};cu.__typeName='tab.IDataAlertPreparer';global.tab.IDataAlertPreparer=cu;var cv=function(){};cv.__typeName='tab.IFilterTypeViewModel';global.tab.IFilterTypeViewModel=cv;var cw=function(){};cw.__typeName='tab.IFlipboardNavigatorViewModel';global.tab.IFlipboardNavigatorViewModel=cw;var cx=function(){};cx.__typeName='tab.IFlipboardViewModel';global.tab.IFlipboardViewModel=cx;var cy=function(){};cy.__typeName='tab.IFontLoader';global.tab.IFontLoader=cy;var cz=function(e,eZ){spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.get_frame().prop('name',e);var fa={position:'absolute',top:0+'px',left:0+'px'};if(tsConfig.is_mobile){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos()){this.get_container().css('-webkit-overflow-scrolling','touch');fa.height=eZ.get_contentHeight()+'px';fa.width=eZ.get_contentWidth()+'px'}fa.overflow='auto'}this.get_container().css(fa);this.get_frame().css({border:'0px none'})};cz.__typeName='tab.IFrameTemplate';global.tab.IFrameTemplate=cz;var cA=function(){};cA.__typeName='tab.IHitTargetGeom';global.tab.IHitTargetGeom=cA;var cB=function(){};cB.__typeName='tab.IKeyboardShortcut';global.tab.IKeyboardShortcut=cB;var cC=function(){};cC.__typeName='tab.ImageUtil';cC.scaleImage=function(e,eZ,fa,fb,fc){var fd=document.createElement('canvas');fd.width=eZ;fd.height=fa;if(eZ>0&&fa>0){var fe=document.createElement('canvas');fe.width=fb;fe.height=fc;var ff=fe.getContext('2d');ff.drawImage(e,0,0);var fg=ff.getImageData(0,0,fb,fc);var fh=fd.getContext('2d');var fi=fh.createImageData(eZ,fa);cC.bilinearDownSampleAlgorithm(fg,fi);fh.putImageData(fi,0,0)}return fd};cC.bilinearDownSampleAlgorithm=function(e,eZ){var fa=e.width;var fb=e.height;var fc=fa/eZ.width;var fd=fb/eZ.height;var fe=fc;var ff=fd;var fg=e.data;var fh=eZ.data;var fi=new Array(fh.length);for(var fj=0;fj<fi.length;fj++){fi[fj]=0}var fk=1/(fc*fd);var fl=0;var fm=0;var fn=false;var fo,fp;fo=fp=0;var fq=fk;var fr=0;var fs=0;var ft=0;var fu=4*eZ.width;for(var fv=0;fv<fb;fv++){fe=fc;for(var fw=0;fw<fa;fw++){var fx=fg[fl];var fy=fg[fl+1];var fz=fg[fl+2];var fA=fg[fl+3];fq=fk;if(fn){fq=fo;fs=fp;if(fe<1){fs*=fe}var fB=fm+fu;fi[fB]+=fx*fs;fi[fB+1]+=fy*fs;fi[fB+2]+=fz*fs;fi[fB+3]+=fA*fs}if(fe<1){fr=fq*(1-fe);fq*=fe;if(fn){ft=fp*(1-fe);var fC=fm+fu;fi[fC+4]+=fx*ft;fi[fC+5]+=fy*ft;fi[fC+6]+=fz*ft;fi[fC+7]+=fA*ft}fi[fm+4]+=fx*fr;fi[fm+5]+=fy*fr;fi[fm+6]+=fz*fr;fi[fm+7]+=fA*fr}fi[fm++]+=fx*fq;fi[fm++]+=fy*fq;fi[fm++]+=fz*fq;fi[fm++]+=fA*fq;fl+=4;fe-=1;if(fe<cC.$0){fe+=fc}else{fm-=4}}ff-=1;if(ff<cC.$0){ff+=fd}else{fm-=fu}if(ff<1){fn=true;fo=ff/(fc*fd);fp=(1-ff)/(fc*fd)}else{fn=false}}for(var fD=0;fD<fi.length;fD++){fh[fD]=fi[fD]+0.5}};global.tab.ImageUtil=cC;var cD=function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))};cD.__typeName='tab.ImageZoneTemplate';global.tab.ImageZoneTemplate=cD;var cE=function(e,eZ){this.$k=null;this.$j=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[cF]).call(this,e,new cD);this.$k=eZ;this.$h().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.add_resizeZone(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.remove_resizeZone(ss.mkdel(this,this.$d));this.$k=null})))};cE.__typeName='tab.ImageZoneView';global.tab.ImageZoneView=cE;var cF=function(e){this.$2=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))};cF.__typeName='tab.ImageZoneViewModel';global.tab.ImageZoneViewModel=cF;var cG=function(){};cG.__typeName='tab.IMovable';global.tab.IMovable=cG;var cH=function(){};cH.__typeName='tab.ISlider';global.tab.ISlider=cH;var cI=function(){};cI.__typeName='tab.IStoryPointCaptionViewModel';global.tab.IStoryPointCaptionViewModel=cI;var cJ=function(e,eZ,fa){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(eZ){this.$c=new cn}else{this.$c=new eJ}this.$b=100;this.$9=eZ;this.$c.$1();this.$c.nextButton.width(fa).height(fa).css('line-height',fa+'px');this.$c.prevButton.width(fa).height(fa).css('line-height',fa+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()};cJ.__typeName='tab.IteratorButtons';global.tab.IteratorButtons=cJ;var cK=function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')};cK.__typeName='tab.IteratorButtonTemplate';global.tab.IteratorButtonTemplate=cK;var cL=function(){};cL.__typeName='tab.ITooltipBehavior';global.tab.ITooltipBehavior=cL;var cM=function(e){this.$1$1=false;this.$1(e)};cM.__typeName='tab.KeyboardShortcut';global.tab.KeyboardShortcut=cM;var cN=function(){};cN.__typeName='tab.KeyboardShortcutManager';cN.$3=function(){return tab.Log.get(cN)};cN.registerShortcut=function(e){if(!tab.FeatureFlags.isEnabled('WebKeyboardShortcuts')){return}if(ss.keyExists(cN.$4,e.toString())){}var eZ=function(fa){cN.$0(fa,e)};cN.$4[e.toString()]=eZ;e.get_element().on('keydown'.toString(),eZ)};cN.unregisterShortcut=function(e){if(!tab.FeatureFlags.isEnabled('WebKeyboardShortcuts')){return}e.get_element().off('keydown'.toString(),cN.$4[e.toString()]);delete cN.$4[e.toString()]};cN.isGloballyAllowed=function(e){var eZ=$('.'+spiff.Glass.glassClass);var fa=$('#loadingGlassPane');var fb=cN.$2(eZ);var fc=cN.$2(fa);var fd=$(e.target);var fe=!fd.is('input')&&!fd.is('textarea');return!fb&&!fc&&fe};cN.$0=function(e,eZ){if(!eZ.get_keyCombos().hasValidCombo(e)){return}eZ.onValidKeyCombo(e);if(eZ.isAllowed(e)){eZ.executeShortcut(e)}};cN.$2=function(e){if(!cN.$1(e)){return false}var eZ=$(document.body);var fa=2;var fb=Math.abs(e.width()-eZ.width())<=2;var fc=Math.abs(e.height()-eZ.height())<=2;return fb&&fc};cN.$1=function(e){return e.length>0&&e.css('display')!=='none'};global.tab.KeyboardShortcutManager=cN;var cO=function(e){cO.$ctor2.call(this,new cQ(false,false,false,false,false,false,false,false),e)};cO.__typeName='tab.KeyCombo';cO.$ctor2=function(e,eZ){this.$1$1=null;this.$1$2=0;this.set_qualifiers(e);this.set_triggerKey(eZ)};cO.$ctor3=function(e,eZ){cO.$ctor2.call(this,e,eZ)};cO.$ctor1=function(e){cO.$ctor3.call(this,new cQ(false,false,false,false,false,false,false,false),e)};global.tab.KeyCombo=cO;var cP=function(e,eZ){this.$1$1=null;this.$1([e].concat(eZ))};cP.__typeName='tab.KeyCombos';cP.op_Implicit=function(e){return new cP(e,[])};global.tab.KeyCombos=cP;var cQ=function(e,eZ,fa,fb,fc,fd,fe,ff){this.alt=false;this.command=false;this.control=false;this.controlOrCommand=false;this.macControl=false;this.shift=false;this.winControl=false;this.windows=false;this.alt=e;this.command=eZ;this.control=fa||fe||fc;this.controlOrCommand=fb;this.macControl=fc;this.shift=fd;this.winControl=fe;this.windows=ff;if(this.controlOrCommand){this.$1()}};cQ.__typeName='tab.KeyQualifiers';cQ.$0=function(e){return tab.BrowserSupport.get_isMac()&&e.metaKey};cQ.$3=function(e){return tab.BrowserSupport.get_isWindows()&&e.metaKey};cQ.$1=function(e){return tab.BrowserSupport.get_isMac()&&e.ctrlKey};cQ.$2=function(e){return tab.BrowserSupport.get_isWindows()&&e.ctrlKey};global.tab.KeyQualifiers=cQ;var cR=function(e,eZ){React.Component.call(this,e,eZ)};cR.__typeName='tab.MapScaleComponent';global.tab.MapScaleComponent=cR;var cS=function(e){this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$5=e;this.$5.add_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo));this.disposables.add(ss.mkdel(this,function(){this.$5.remove_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo))}))};cS.__typeName='tab.MapScaleViewModel';global.tab.MapScaleViewModel=cS;var cT=function(){};cT.__typeName='tab.Metrics';cT.get_scrollW=function(){return cT.$1()};cT.get_minScrollWidth=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return cT.get_scrollW()*2};cT.get_scrollH=function(){return cT.$1()};cT.get_minScrollHeight=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return cT.get_scrollH()*2};cT.$1=function(){return tab.MiscUtil.lazyInitStaticField(cT,'_scrollBarSize',function(){return cT.$0()})};cT.$0=function(){if(tsConfig.is_mobile){return 0}var e=document.createElement('div');var eZ=e.style;eZ.width='100px';eZ.height='100px';eZ.overflow='scroll';eZ.position='absolute';eZ.top='0px';eZ.filter='alpha(opacity=0)';eZ.opacity='0';eZ.left='0px';var fa=document.createElement('div');fa.style.width='400px';fa.style.height='400px';e.appendChild(fa);document.body.appendChild(e);var fb=e.offsetWidth-e.clientWidth;document.body.removeChild(e);e.removeChild(fa);e=fa=null;fb=((fb>0)?fb:9);return fb};global.tab.Metrics=cT;var cU=function(){$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$0))};cU.__typeName='tab.ModifierKeyState';cU.add_modifierKeysChanged=function(e){cU.$1$1=ss.delegateCombine(cU.$1$1,e)};cU.remove_modifierKeysChanged=function(e){cU.$1$1=ss.delegateRemove(cU.$1$1,e)};cU.fireModifierKeysChanged=function(e){if(!ss.staticEquals(cU.$1$1,null)){cU.$1$1(e)}};global.tab.ModifierKeyState=cU;var cV=function(){};cV.__typeName='tab.ModuleLocateFileOverride';cV.setupLocateFileOverride=function(){var e=function(fb){if(fb==='runtimeweb.js.mem'){return tsConfig.external_static_asset_prefix+'/javascripts/runtimeweb.js.mem'}return fb};var eZ=null;var fa=window.self;if('Module'in fa){eZ=fa['Module']}else{eZ=new Object}eZ['locateFile']=e};global.tab.ModuleLocateFileOverride=cV;var cW=function(){};cW.__typeName='tab.ModulesRegistration';cW.$1=function(e){var eZ=[];if(tab.FeatureFlags.isEnabled('AsyncLoadDojo')){cW.$0(eZ)}var fa;if(tsConfig.debugMode||tsConfig.isUnitTestRun){var fb='vqllegacydojoui.debug';var fc=tab.ModuleManager.registerDependencyModule(fb,fb).andLoadOnDemandIf(e).moduleBeingConfigured;if(tsConfig.is_mobile){fa=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{fa=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}eZ.push(fc)}else if(tsConfig.is_mobile){fa=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{fa=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}for(var fd=0;fd<eZ.length;fd++){var fe=eZ[fd];fa.addDependency(fe)}};cW.$0=function(e){var eZ='.js.uncompressed';var fa='built-dojo/tableau/client{0}';var fb='built-dojo/dojo/dojo';var fc=(tsConfig.is_mobile?'mobile':'web');var fd=ss.formatString(fa,fc);var fe=tab.ModuleManager.registerRawJsModule(fb,fb,'built-dojo/dojo/dojo.js.uncompressed').moduleBeingConfigured;var ff=tab.ModuleManager.registerRawJsModule(fd,fd,fd+eZ).moduleBeingConfigured;e.push(fe);e.push(ff)};global.tab.ModulesRegistration=cW;var cX=function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]};cX.__typeName='tab.NativeFontLoader';cX.$0=function(){return document['fonts']};global.tab.NativeFontLoader=cX;var cY=function(){};cY.__typeName='tab.NativePresModelsFactory';cY.newAddInLocatorPresModel=function(e){var eZ=new Object;eZ.addInInstanceId=e.instanceId;eZ.sheetPath=new Object;eZ.sheetPath.flipboardZoneId=e.dashboardPath.flipboardZoneID;eZ.sheetPath.isDashboard=e.dashboardPath.isDashboard;eZ.sheetPath.sheetName=e.dashboardPath.sheetName;eZ.sheetPath.storyboard=e.dashboardPath.storyboard;eZ.sheetPath.storyPointId=e.dashboardPath.storyPointID;return eZ};cY.newVisualIdPresModel=function(e){var eZ=new Object;eZ.worksheet=e.worksheet;eZ.dashboard=e.dashboard;eZ.storyboard=e.storyboard;eZ.storyPointId=e.storyPointID;eZ.flipboardZoneId=e.flipboardZoneID;return eZ};global.tab.NativePresModelsFactory=cY;var cZ=function(){};cZ.__typeName='tab.NeedRemoteTooltip';global.tab.NeedRemoteTooltip=cZ;var da=function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$b=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[db]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'>"));this.notificationViewModel=e;this.element.attr('role','alert');this.messageDom=$('<div>').addClass('tabNotificationMessage').appendTo(this.element);var eZ=$('<div>').addClass('tabNotificationClose').attr('tabindex','0').attr('aria-label',tab.Strings.AccessbilityNotificationButtonDismissLabel).attr('role','button').keydown(ss.mkdel(this,function(fa){if(fa.which===13||fa.which===32){fa.preventDefault();fa.stopPropagation();this.$9(fa)}}));this.closeDom=spiff.ClickHandler.targetAndClick(eZ,ss.mkdel(this,this.$9)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))};da.__typeName='tab.NotificationView';global.tab.NotificationView=da;var db=function(){this.$6=null;this.$7=false;this.$4=5000;this.$3=0;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};db.__typeName='tab.NotificationViewModel';db.$0=function(e,eZ){var fa=new db;fa.set_message(e);if(ss.isValue(eZ)){fa.set_autoHideTimeout(eZ)}return fa};db.showGeoLocationNotification=function(e,eZ,fa){var fb=db.$0(e,eZ);fb.set_displayPosition(fa);tab.ObjectRegistry.newView(cg).call(null,[fb]);spiff.GlobalUIEvents.add_firstTouch(ss.mkdel(fb,fb.$2));spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(fb,fb.hide));fb.disposables.add$1(new tab.CallOnDispose(function(){spiff.GlobalUIEvents.remove_firstTouch(ss.mkdel(fb,fb.$2));spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(fb,fb.hide))}));fb.disposeOnHide();fb.show()};db.showNotification=function(e,eZ){db.showCustomNotification(da).call(null,e,eZ)};db.showCustomNotification=function(e){return function(eZ,fa){var fb=db.$0(eZ,fa);tab.ObjectRegistry.newView(e).call(null,[fb]);fb.disposeOnHide();fb.show();return fb}};global.tab.NotificationViewModel=db;var dc=function(e,eZ){this.$8=null;this.$7=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$8=$(e);this.element.on('load',ss.mkdel(this,function(){this.$6()}));this.element.attr('src',eZ)};dc.__typeName='tab.OverlayImage';global.tab.OverlayImage=dc;var dd=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};dd.__typeName='tab.PagableGroupListComponent';global.tab.PagableGroupListComponent=dd;var de=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};de.__typeName='tab.PagableUserListComponent';global.tab.PagableUserListComponent=de;var df=function(e){ss.makeGenericType(spiff.BaseView$1,[dg]).call(this,e,spiff.Template.fromHtml('<div />'))};df.__typeName='tab.PresModelBrowserView';global.tab.PresModelBrowserView=df;var dg=function(e,eZ,fa){this.data=null;this.$2=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(dg.$1(eZ)){if($.isArray(eZ)){this.data=dg.$2(eZ)}else{this.data=dg.$3(eZ)}}else{this.data=eZ.toString()}this.$2=fa};dg.__typeName='tab.PresModelBrowserViewModel';dg.$1=function(e){return ss.isValue(e)&&typeof(e)==='object'};dg.$2=function(e){var eZ=[];for(var fa=0;fa<e.length;++fa){eZ.push(dg.$4(fa.toString(),e[fa]))}return eZ};dg.$3=function(e){var eZ=[];var fa=new ss.ObjectEnumerator(e);try{while(fa.moveNext()){var fb=fa.current();eZ.push(dg.$4(fb.key,fb.value))}}finally{fa.dispose()}return eZ};dg.$0=function(e){return'<strong>'+e+':</strong> '};dg.$4=function(e,eZ){if(dg.$1(eZ)){if($.isArray(eZ)){return ss.mkdict(['text',dg.$0(e),'children',dg.$2(eZ)])}else{return ss.mkdict(['text',dg.$0(e),'children',dg.$3(eZ)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(eZ,'{')||ss.startsWithString(eZ,'['))){var fa=null;try{fa=JSON.parse(eZ)}catch(fb){}if(ss.isValue(fa)){return dg.$4(e,fa)}}return dg.$0(e)+eZ};global.tab.PresModelBrowserViewModel=dg;var dh=function(e,eZ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dk,di,Object]).call(this,tab.ObjectRegistry.newView(dk).call(null,[e.viewModel]),e,eZ)};dh.__typeName='tab.PublicInfoComponent';global.tab.PublicInfoComponent=dh;var di=function(){this.viewModel=null};di.__typeName='tab.PublicInfoProps';global.tab.PublicInfoProps=di;var dj=function(){this.publicInfoArea=null;this.moreAboutPublicSection=null;this.viewAndAuthorInfoSection=null;spiff.Template.call(this,$("<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"));this.publicInfoArea=this.domRoot;this.moreAboutPublicSection=this.getElementBySelector('.tab-moreAboutPublicSection');this.viewAndAuthorInfoSection=this.getElementBySelector('.tab-viewAndAuthorInfoSection')};dj.__typeName='tab.PublicInfoTemplate';global.tab.PublicInfoTemplate=dj;var dk=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[dl]).call(this,e,new dj);this.$e=e;this.$d()};dk.__typeName='tab.PublicInfoView';global.tab.PublicInfoView=dk;var dl=function(){spiff.BaseViewModel.call(this)};dl.__typeName='tab.PublicInfoViewModel';global.tab.PublicInfoViewModel=dl;var dm=function(e,eZ,fa){var fb=function(fc){this.$1=ss.getDefaultValue(e);this.$0=null;spiff.PureRenderComponent.call(this,fc);this.$0=this.fetchAsyncDependencies().done(ss.mkdel(this,function(fd){this.$1=fd}))};ss.registerGenericClassInstance(fb,dm,[e,eZ,fa],{render:function(){if(ss.isNullOrUndefined(this.$1)){this.$0.done(ss.mkdel(this,function(fc){this.forceUpdate()}));return this.renderWhileWaiting()}return this.renderWithDependencies(this.$1)},fetchAsyncDependencies:null,renderWhileWaiting:null,renderWithDependencies:null},function(){return spiff.PureRenderComponent},function(){return[]});return fb};dm.__typeName='tab.PureComponentWithAsyncDependencies$3';ss.initGenericClass(dm,a,3);global.tab.PureComponentWithAsyncDependencies$3=dm;var dn=function(e,eZ,fa){var fb=function(fc){ss.makeGenericType(dm,[e,eZ,fa]).call(this,fc)};ss.registerGenericClassInstance(fb,dn,[e,eZ,fa],{fetchAsyncDependencies:function(){return tab.ModuleManager.load(e).call(null,[])},renderWhileWaiting:function(){return null},renderWithDependencies:function(fc){return this.renderWithModule(fc)},renderWithModule:null},function(){return ss.makeGenericType(dm,[e,eZ,fa])},function(){return[]});return fb};dn.__typeName='tab.PureComponentWithModule$3';ss.initGenericClass(dn,a,3);global.tab.PureComponentWithModule$3=dn;var dp=function(){};dp.__typeName='tab.QuickFilterConstants';global.tab.QuickFilterConstants=dp;var dq=function(e){spiff.PureRenderComponent.call(this,e)};dq.__typeName='tab.QuickFilterNoninteractiveDropdownComponent';global.tab.QuickFilterNoninteractiveDropdownComponent=dq;var dr=function(e){spiff.PureRenderComponent.call(this,e)};dr.__typeName='tab.QuickFilterReadoutComponent';global.tab.QuickFilterReadoutComponent=dr;var ds=function(e){React.Component.call(this,e)};ds.__typeName='tab.RecipientPillComponent';global.tab.RecipientPillComponent=ds;var dt=function(e){React.Component.call(this,e)};dt.__typeName='tab.RecipientPillsComponent';global.tab.RecipientPillsComponent=dt;var du=function(e){this.$8=null;this.$9=false;this.$a=null;this.disposables=new tab.DisposableHolder;this.$3$1=null;this.$3$2=null;React.Component.call(this,e);this.$8=new tab.Debouncer(ss.mkdel(this,function(){this.$9=true}),200);this.state=this.createNewDefaultState();this.$9=false;this.$a=null};du.__typeName='tab.RecipientSearchComponent';global.tab.RecipientSearchComponent=du;var dv=function(e,eZ){this.numberOfRowsInViewport=6;this.$a=false;this.$b=null;React.Component.call(this,e,eZ);this.state=this.createNewDefaultState();if(this.props.isBulkSubscribe){this.numberOfRowsInViewport=11}};dv.__typeName='tab.RecipientSearchSelectorComponent';global.tab.RecipientSearchSelectorComponent=dv;var dw=function(e){this.$0=null;this.$0=e};dw.__typeName='tab.RectangleGeom';global.tab.RectangleGeom=dw;var dx=function(){eE.call(this)};dx.__typeName='tab.RedoKeyboardShortcut';global.tab.RedoKeyboardShortcut=dx;var dy=function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}};dy.__typeName='tab.RenderAndCheckFontLoader';dy.$0=function(e,eZ){var fa=$('<span/>').text('The quick brown fox jumps over the lazy dog iiilllest');var fb=$('<div/>').css(dy.$4).css('font-family',eZ.join(', ')).addClass(e);fb.append(fa);return fb};dy.$3=function(e,eZ){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(eZ)){return false}var fa=e.children('span')[0];var fb=eZ.children('span')[0];return dy.$1(fa,fb)===0&&dy.$2(fa,fb)===0};dy.$1=function(e,eZ){var fa=e.getBoundingClientRect().height;var fb=(ss.isNullOrUndefined(eZ)?0:eZ.getBoundingClientRect().height);return ss.compare(fa,fb)};dy.$2=function(e,eZ){var fa=e.getBoundingClientRect().width;var fb=(ss.isNullOrUndefined(eZ)?0:eZ.getBoundingClientRect().width);return ss.compare(fa,fb)};global.tab.RenderAndCheckFontLoader=dy;var dz=function(){};dz.__typeName='tab.RenderUtil';dz.calculatePixelRatio=function(e){var eZ=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){eZ=tsConfig.pixelRatio}else if(ss.isValue(e)&&!e){eZ=tab.BrowserSupport.get_devicePixelRatio()}else{eZ=tab.BrowserSupport.get_devicePixelRatio()/tab.BrowserSupport.get_backingStoragePixelRatio()}}return eZ};dz.manualFadeAnimation=function(e,eZ,fa,fb,fc,fd){var fe=eZ;var ff=fa;var fg=ss.Int32.div(fc,1000)*fb;var fh=(fa-eZ)/fg;var fi=ss.Int32.div(1000,fb);var fj=null;fj=function(){if(fe>ff){e.css('filter','alpha(opacity='+ff+')');e.css('opacity',(ff/100).toString());return}e.css('filter','alpha(opacity='+fe+')');e.css('opacity',(fe/100).toString());fe+=fh;if(ss.isValue(fd)){fi+=fi}window.setTimeout(fj,fi)};window.setTimeout(fj,fi)};dz.compareBoundingClientHeight=function(e,eZ){var fa=e.getBoundingClientRect().height;var fb=(ss.isNullOrUndefined(eZ)?0:eZ.getBoundingClientRect().height);return ss.compare(fa,fb)};dz.compareBoundingClientWidth=function(e,eZ){var fa=e.getBoundingClientRect().width;var fb=(ss.isNullOrUndefined(eZ)?0:eZ.getBoundingClientRect().width);return ss.compare(fa,fb)};dz.ensureImageEltSize=function(e,eZ){var fa=dz.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(fa,1)){var fb=$(e);fb.css('max-width',eZ.w+'px');fb.css('max-height',eZ.h+'px')}};global.tab.RenderUtil=dz;var dA=function(){this.drawerContainer=null;spiff.Template.call(this,dA.$0());this.drawerContainer=this.domRoot};dA.__typeName='tab.RightAreaDrawerTemplate';dA.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$('#right-panel'):$("<div class='tab-right-area-drawer'></div>"))};global.tab.RightAreaDrawerTemplate=dA;var dB=function(e){this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[dC]).call(this,e,new dA);this.$f=e;this.$f.add_open(ss.mkdel(this,this.$a));this.$f.add_close(ss.mkdel(this,this.$9));this.$f.add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_open(ss.mkdel(this,this.$a));this.get_viewModel().remove_close(ss.mkdel(this,this.$9));this.get_viewModel().remove_refresh(ss.mkdel(this,this.$c))})));this.$b()};dB.__typeName='tab.RightAreaDrawerView';global.tab.RightAreaDrawerView=dB;var dC=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;spiff.BaseViewModel.call(this);this.set_isOpen(false);this.$3=e};dC.__typeName='tab.RightAreaDrawerViewModel';global.tab.RightAreaDrawerViewModel=dC;var dD=function(){};dD.__typeName='tab.SelectActionResolver';dD.fromNormalizedEvent=function(e,eZ){var fa=e.getSelectAction();switch(eZ){case 0:{return((fa==='toggle')?'range':fa)}case 1:{return((fa==='range')?'simple':fa)}case 2:default:{return fa}}};global.tab.SelectActionResolver=dD;var dE=function(){};dE.__typeName='tab.SelectActionResolverEvent';global.tab.SelectActionResolverEvent=dE;var dF=function(){this.$6={};this.$5=null;this.$8=false;this.$7=false;this.$3=null;this.$4=null;this.$1$1=null;this.$5=dF.$0();this.$5.add_fontsReady(ss.mkdel(this,this.$1));this.$5.add_fontDownloading(ss.mkdel(this,this.$0));this.$7=true};dF.__typeName='tab.ServerFontLoader';dF.get_instance=function(){if(ss.isNullOrUndefined(dF.$1)){dF.$1=new dF}return dF.$1};dF.get_allCustomFonts=function(){return _.union(dF.tableauFontNames,dF.effectiveBentonSans)};dF.loadFonts=function(e){var eZ=$.Deferred();dF.get_instance().get_fontsLoadedPromise().then(function(){dF.get_instance().initialize(false);dF.get_instance().registerServerLoadedFonts(e);dF.get_instance().notifyDownloadableFont(e);dF.get_instance().downloadFonts();dF.get_instance().allFontsFound();dF.get_instance().get_fontsLoadedPromise().then(function(){eZ.resolve()},null)},null);return eZ};dF.downloadAdditionalDrawerFonts=function(){var e=(tab.BrowserSupport.get_isHighDpi()?dF.drawerFontNames:dF.drawerLowDpiFontNames);return dF.loadFonts(e)};dF.$0=function(){if(tab.FeatureFlags.isEnabled('RenderAndCheckFontLoader')){if(tab.BrowserSupport.get_fontLoaderApi()&&(tab.BrowserSupport.get_isFF()||tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos())){return new cX}else{return new dy}}else{return new Q}};global.tab.ServerFontLoader=dF;var dG=function(e,eZ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dK,dH,Object]).call(this,tab.ObjectRegistry.newView(dK).call(null,[e.viewModel]),e,eZ)};dG.__typeName='tab.ShareComponent';global.tab.ShareComponent=dG;var dH=function(){this.viewModel=null};dH.__typeName='tab.ShareProps';global.tab.ShareProps=dH;var dI=function(){this.shareArea=null;this.shareStateArea=null;this.shareCurrentView=null;this.shareOriginalView=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"));this.shareArea=this.domRoot};dI.__typeName='tab.ShareTemplate';global.tab.ShareTemplate=dI;var dJ=function(){this.$6=0;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};dJ.__typeName='tab.ShareToggleButtonViewModel';global.tab.ShareToggleButtonViewModel=dJ;var dK=function(e){this.$k=(tsConfig.is_mobile?390:300);this.$j=null;this.$i=false;this.$h=null;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[dL]).call(this,e,new dI);this.$j=e;this.$j.saveSharedView();this.$a();this.$i=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<=this.$k;this.$j.add_selectedViewChanged(ss.mkdel(this,this.$g));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_selectedViewChanged(ss.mkdel(this,this.$g))})))};dK.__typeName='tab.ShareView';global.tab.ShareView=dK;var dL=function(){this.embedCodeVersion=3;this.shareToggleButtonViewModel=null;this.$b=true;this.$2$1=null;spiff.BaseViewModel.call(this);this.$b=!this.$a();this.shareToggleButtonViewModel=new dJ;this.shareToggleButtonViewModel.add_originalViewSelected(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.shareToggleButtonViewModel.remove_originalViewSelected(ss.mkdel(this,this.$9))})))};dL.__typeName='tab.ShareViewModel';dL.$6=function(e){var eZ='/javascripts/api/viz_v1.js';var fa=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(fa+'//'+e['hostname']+eZ)};dL.$0=function(){var e;var eZ=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));eZ.append(dL.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('desktop'),0.75));eZ.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));eZ.append(dL.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('tablet'),0.75));eZ.append('} else { ');eZ.append(dL.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('phone'),1.77));eZ.append('} ');var fa=$.Deferred();e=fa.resolve(eZ.toString()).promise();return e};dL.$2=function(e,eZ){return dL.$1({minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight},eZ)};dL.$1=function(e,eZ){var fa=new ss.StringBuilder('');var fb=dL.$5();if(e.dashboardSizingMode==='automatic'||e.minWidth===0&&e.maxWidth===0){fa.append("vizElement.style.width='100%';")}else if(e.minWidth===e.maxWidth){fa.append(ss.formatString("vizElement.style.width='{0}px';",e.minWidth))}else{if(e.minWidth>0){fa.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.minWidth))}else{fa.append("vizElement.style.width='100%';")}if(e.maxWidth>0){fa.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.maxWidth))}else{fa.append("vizElement.style.maxWidth='100%';")}if(e.minWidth>0&&e.maxWidth>0&&e.minWidth!==e.maxWidth){fa.append("vizElement.style.width='100%';")}}if(e.dashboardSizingMode==='automatic'||e.minHeight===0&&e.maxHeight===0){fa.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",eZ))}else if(e.minHeight===e.maxHeight){fa.append(ss.formatString("vizElement.style.height='{0}px';",e.minHeight+fb))}else{if(e.minHeight>0){fa.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.minHeight+fb))}else{fa.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",eZ))}if(e.maxHeight>0){fa.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.maxHeight+fb))}else{fa.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",eZ))}if(e.minHeight>0&&e.maxHeight>0&&e.minHeight!==e.maxHeight){fa.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",eZ))}}return fa.toString()};dL.$8=function(e){var eZ=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+eZ+"'></script>"};dL.$5=function(){var e=0;if(ev.$0()){if(tab.FeatureFlags.isEnabled('UsePublicSpecificToolbar')){e+=27}else{e+=60}}else if(tsConfig.toolbarvis){e+=27}e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};dL.$7=function(){return tsConfig.facebookRedirectURI||dL.$c};dL.$3=function(e,eZ,fa,fb){var fc=eZ!==fa;var fd=e;var fe=':'+fb+'='+(eZ?'yes':'no');var ff=new RegExp(':'+fb+'=[^&]+');if(!!fd.match(ff)){if(fc){fd=fd.replace(ff,fe)}else{fd=fd.replace(ff,'');fd=fd.replace(new RegExp('&&'),'&');fd=fd.replace(new RegExp('\\?&'),'?');fd=fd.replace(new RegExp('&$'),'');fd=fd.replace(new RegExp('\\?$'),'')}}else if(fc){if(!!fd.match(new RegExp('[?]'))){fd=fd+'&'+fe}else{fd=fd+'?'+fe}}return fd};dL.$4=function(){var e=(new Date).getTime().toString();return'viz'+e};global.tab.ShareViewModel=dL;var dM=function(e){var eZ=function(fa){spiff.PureRenderComponent.call(this,fa)};ss.registerGenericClassInstance(eZ,dM,[e],{render:function(){return React.DOM.div({className:'tab-reconnect-sheetWidget'},React.DOM.div({className:'tab-reconnect-sheetWidget-title'},tab.Strings.SheetReconnectTitle),React.DOM.div({className:'tab-reconnect-sheetWidget-subtitle'},tab.Strings.SheetReconnectSubtitle(this.props.dataSourceCaption)),React.createElement(SharedWidgets.ButtonWidget,this.createEditConnectionButtonProps()),React.createElement(SharedWidgets.ButtonWidget,this.createPrimaryButtonProps()))},createEditConnectionButtonProps:function(){var fa=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(fb){fb.showEditConnectionDialog(this.props.connectionClass)}))});return{handleClick:function(fb){fa()},buttonType:3,testId:'SheetReconnectEditConnection',label:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}},createPrimaryButtonProps:function(){var fa=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(fb){fb.showSignInDialog(this.props.connectionClass)}))});return{handleClick:function(fb){fa()},buttonType:1,testId:'SheetReconnectSignIn',label:tab.Strings.SheetReconnectSignInLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'30px',marginRight:'auto'}}}},function(){return spiff.PureRenderComponent},function(){return[]});eZ.$0='SheetReconnectEditConnection';eZ.$1='SheetReconnectSignIn';return eZ};dM.__typeName='tab.SheetReconnectWidget$1';ss.initGenericClass(dM,a,1);global.tab.SheetReconnectWidget$1=dM;var dN=function(){ss.makeGenericType(tab.BaseCmd$2,[Object,dO]).call(this)};dN.__typeName='tab.ShowDetailedErrorDialogCmd';global.tab.ShowDetailedErrorDialogCmd=dN;var dO=function(e){this.$$c=null;this.$$c=e};dO.__typeName='tab.ShowDetailedErrorDialogCmd$Response';global.tab.ShowDetailedErrorDialogCmd$Response=dO;var dP=function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)};dP.__typeName='tab.ShownEventArgs';dP.areShownArgsSame=function(e,eZ){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(eZ)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(eZ)||ss.isValue(e)&&ss.isNullOrUndefined(eZ)){return false}var fa;fa=e.origX===eZ.origX;fa=fa&&e.origY===eZ.origY;fa=fa&&e.shownX===eZ.shownX;fa=fa&&e.shownY===eZ.shownY;fa=fa&&e.position===eZ.position;fa=fa&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),eZ.viewport.get_dimensions());return fa};global.tab.ShownEventArgs=dP;var dQ=function(){this.tooltipAnchorY=0;dP.call(this)};dQ.__typeName='tab.ShownTooltipEventArgs';dQ.areShownArgsSame=function(e,eZ){return dP.areShownArgsSame(e,eZ)&&e.tooltipAnchorY===eZ.tooltipAnchorY};global.tab.ShownTooltipEventArgs=dQ;var dR=function(e){React.Component.call(this,e)};dR.__typeName='tab.SimpleTextContentDialog';global.tab.SimpleTextContentDialog=dR;var dS=function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var eZ=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(eZ)){this.$6=ss.coalesce(eZ,0)}};dS.__typeName='tab.SmoothTooltipBehavior';global.tab.SmoothTooltipBehavior=dS;var dT=function(){};dT.__typeName='tab.Social';dT.twitterPopup=function(e,eZ){var fa=$('#twitter_creator');var fb=(ss.isValue(fa)?fa.attr('content'):null);if(!ss.isNullOrEmptyString(fb)){fb=' '+fb}eZ+=fb;var fc={};fc['url']=e;fc['via']='tableaupublic';fc['text']=eZ;fc['related']='tableau';var fd='https://twitter.com/share?'+$.param(fc);var fe=null;var ff='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(fd,fe,ff)};dT.facebookPopup=function(e,eZ,fa,fb,fc,fd){var fe={};fe['app_id']=e;fe['link']=eZ;fe['picture']=fa;fe['name']=fb;fe['description']=fc;if(!!fd&&fd.length>0){fe['redirect_uri']=fd}var ff='http://www.facebook.com/dialog/feed?'+$.param(fe);var fg=null;var fh='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var fi=window.open(ff,fg,fh);if(ss.isValue(fi)&&typeof(fi['focus'])==='function'){fi.focus()}};dT.mailTo=function(e,eZ){var fa=ss.mkdict(['body',e]);if(!!eZ){fa['subject']=eZ}var fb='mailto:?'+$.param(fa);if(tsConfig.is_mobile&&!tsConfig.is_mobile_app&&tab.BrowserSupport.get_isSafari()){window.location.href=fb}else{var fc=window.open(fb,'MailWindow');if(ss.isValue(fc)){window.setTimeout(function(){try{if(fc.location.href==='about:blank'){fc.close()}}catch(fd){}},999)}}};global.tab.Social=dT;var dU=function(e,eZ){React.Component.call(this,e,eZ);var fa=e.users;var fb=((fa.length===0)?'':fa[0].friendlyName);var fc=e.groups;var fd=((fc.length===0)?'':fc[0].name);this.state={mode:0,message:null,subject:e.defaultSubject,includeValue:'0',scheduleValue:'0',email:e.email,users:e.users,groups:e.groups,usersText:this.$0(fa.length,fb,tab.Strings.ToolbarSubscribeAddUsersPlaceholder),groupsText:this.$0(fc.length,fd,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder),sendOnlyWhenDataPresent:false,selfSubscribe:!e.isSelfSubscribeCheckboxEnabled};if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).then(ss.mkdel(this,function(){this.setState({recurrenceModel:SelfServiceSchedules.StaticInitializers.defaultRecurrence()})}),function(){})}};dU.__typeName='tab.SubscribeComponent';global.tab.SubscribeComponent=dU;var dV=function(e,eZ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dY,dX,Object]).call(this,tab.ObjectRegistry.newView(dY).call(null,[e.viewModel]),e,eZ)};dV.__typeName='tab.SubscribeComponentDeprecated';global.tab.SubscribeComponentDeprecated=dV;var dW=function(){this.schedules=null;this.defaultSubject=null;this.email=null;this.emailIsValid=null;this.users=null;this.groups=null;this.onCancel=null;this.addSubscribersComponentProps=null;this.createSubscriptions=null;this.createSubscriptionsWithSelfServiceSchedule=null;this.setEmail=null;this.subscriptionsPageUrl=null;this.userSettingsPageUrl=null;this.sendOnlyWhenDataPresentCheckboxVisible=false;this.isSelfSubscribeCheckboxEnabled=false};dW.__typeName='tab.SubscribeProps';global.tab.SubscribeProps=dW;var dX=function(){this.viewModel=null};dX.__typeName='tab.SubscribePropsDeprecated';global.tab.SubscribePropsDeprecated=dX;var dY=function(e,eZ){this.$E=null;this.$z=null;this.$C=null;this.$x=null;this.$B=null;this.$D=null;this.$A=null;this.menuTheme=0;this.$y=null;ss.makeGenericType(spiff.BaseView$1,[dZ]).call(this,e,new ea);this.menuTheme=eZ;this.$E=e;tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fa){this.$9();this.$q(SelfServiceSchedules.StaticInitializers.defaultRecurrence())}));this.$E.add_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$E.add_usersChanged(ss.mkdel(this,this.$m));this.$E.add_groupsChanged(ss.mkdel(this,this.$k));this.$E.add_addSubscribersPopupStateChanged(ss.mkdel(this,this.$w))};dY.__typeName='tab.SubscribeView';dY.get_sendOnlyWhenDataPresentCheckboxClass=function(){return'tab-sendOnlyWhenDataPresentCheckbox'};global.tab.SubscribeView=dY;var dZ=function(){this.$f=[];this.$b=[];this.$d=[];this.addSubscribersViewModel=null;this.$e=false;this.$c=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;this.$3$8=null;this.$3$9=null;this.$3$10=false;this.$3$11=null;this.$3$12=null;this.$3$13=null;this.$3$14=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);if(!tsConfig.is_guest||tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){this.$d=e.filter(function(eZ){return eZ.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}this.incrementProps()}))}))}this.set_email(tsConfig.current_user_email);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.$6)));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.disposeViewModel)));if(tab.FeatureFlags.isEnabled('SubscribeOthers')){this.set_subscriptionsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/workbooks/{0}/subscriptions',tsConfig.current_workbook_id):ss.formatString('/#/site/{0}/workbooks/{1}/subscriptions',tsConfig.site_url_name,tsConfig.current_workbook_id)))}if(tab.FeatureFlags.isEnabled('UserTimeZone')){this.set_userSettingsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/user/{0}/{1}/settings',tsConfig.current_user_domain_name,tsConfig.current_user_name):ss.formatString('/#/site/{0}/user/{1}/{2}/settings',tsConfig.site_url_name,tsConfig.current_user_domain_name,tsConfig.current_user_name)))}};dZ.__typeName='tab.SubscribeViewModel';global.tab.SubscribeViewModel=dZ;var ea=function(){this.subscribeViewArea=null;this.subscribeViewsToggleLabel=null;this.subscribeThisView=null;this.subscribeAllViews=null;this.subscribeSelfArea=null;this.subscribeScheduleDropdown=null;this.subscribeEmail=null;this.addSubscribersLabel=null;this.addUsersPlaceholder=null;this.addGroupsPlaceholder=null;this.manageSubscribersLabel=null;this.subscribeSubject=null;this.subscribeMessage=null;this.subscribeButton=null;spiff.Template.call(this,$("<div class='tab-subscribeView tab-toolbarFlyout'></div>"));this.subscribeViewArea=this.domRoot};ea.__typeName='tab.SubscribeViewTemplate';global.tab.SubscribeViewTemplate=ea;var eb=function(e){this.$6=(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')?24:25);this.textAreaElement=null;this.$5=null;this.$4=null;React.Component.call(this,e);this.$5=ss.mkdel(this,function(fa){this.textAreaElement=fa});this.$4=ss.mkdel(this,function(fa){this.props.onDoneButtonClick(this.textAreaElement.value)});var eZ=ss.isValue(this.props.message)&&this.props.message.length>=eb.characterWarningLimit;this.state={isError:false,isWarning:eZ,warningMessage:(eZ?tab.Strings.MessageCharacterLimit(this.props.message.length,eb.characterLimit):null)}};eb.__typeName='tab.SubscriptionMessageEditor';global.tab.SubscriptionMessageEditor=eb;var ec=function(e,eZ,fa){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=eZ;this.tabIndex=fa};ec.__typeName='tab.TabEventArgs';global.tab.TabEventArgs=ec;var ed=function(e){this.$6=null;this.$b=null;this.$c=null;this.$l=null;this.$e=null;this.$j=0;this.$g=null;this.$k=null;this.$h=false;this.$7=null;this.$8=null;this.$9=null;this.$a=null;this.$i=false;this.$d=0;this.$f=0;this.dirtyRect=null;this.pixelRatio=0;this.$6=e;this.$b=new Array;this.$c=ca.instance();this.$l=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()};ed.__typeName='tab.TabRenderContext2D';ed.$0=function(e){var eZ=e.split(' ');for(var fa=0;fa<eZ.length;fa++){var fb=eZ[fa];var fc=parseFloat(fb);if(isFinite(fc)){return fc}}return 8};global.tab.TabRenderContext2D=ed;var ee=function(e){this.textSelectable=false;this.textSelectable=e};ee.__typeName='tab.TextRegionOptions';global.tab.TextRegionOptions=ee;var ef=function(e){this.textRegionBoundaryElem=null;this.contentElem=null;spiff.Template.call(this,$(ef.$0(e)));var eZ=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=eZ('.tab-textRegion-boundary');this.contentElem=eZ('.tab-textRegion-content')};ef.__typeName='tab.TextRegionTemplate';ef.$0=function(e){var eZ='';if(e>0){eZ=ss.formatString("role='heading' aria-level='{0}'",e)}return ss.formatString("<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>",eZ)};global.tab.TextRegionTemplate=ef;var eg=function(e){eg.$ctor1.call(this,e,-1)};eg.__typeName='tab.TextRegionView';eg.$ctor1=function(e,eZ){ss.makeGenericType(spiff.BaseView$1,[eh]).call(this,e,new ef(eZ));this.$e().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)));if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('RichTextEditing')&&tab.FeatureFlags.isEnabled('RichTextEditingWorksheetTitle')&&this.get_viewModel().isTitle()){this.disposables.add$1(spiff.TableauClickHandler.targetAndDoubleClick(this.element[0],ss.mkdel(this,this.handleDoubleClick)))}};eg.$3=function(e){return Math.round(e)===90};eg.$2=function(e){return Math.round(e)===-90};eg.$0=function(e,eZ,fa){var fb={};fb['transform-origin']=eZ;fb['transform']='rotate('+fa+'deg)';e.css(fb)};eg.$1=function(e,eZ,fa,fb){var fc=0;if(eZ>e){fa=(eg.$3(fb)?'h-align-right':'h-align-left')}switch(fa){case'h-align-left':{fc=0;break}case'h-align-right':{fc=e-eZ;break}case'h-align-center':{fc=ss.Int32.div(e,2)-ss.Int32.div(eZ,2);break}}return fc+'px'};global.tab.TextRegionView=eg;var eh=function(e){this.$3=null;this.options=new ee(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))};eh.__typeName='tab.TextRegionViewModel';global.tab.TextRegionViewModel=eh;var ei=function(){this.container=null;spiff.Template.call(this,$("<div class='tvimagesContainer'></div>"));this.container=this.getElementBySelector('.tvimagesContainer')};ei.__typeName='tab.TiledImageTemplate';global.tab.TiledImageTemplate=ei;var ej=function(e){ss.makeGenericType(spiff.BaseView$1,[ek]).call(this,e,new ei)};ej.__typeName='tab.TiledImageView';global.tab.TiledImageView=ej;var ek=function(){spiff.BaseViewModel.call(this)};ek.__typeName='tab.TiledImageViewModel';global.tab.TiledImageViewModel=ek;var el=function(){cj.call(this,false)};el.__typeName='tab.ToggleFullScreenKeyboardShortcut';global.tab.ToggleFullScreenKeyboardShortcut=el;var em=function(e){var eZ=function(){this.viewModel=null};ss.registerGenericClassInstance(eZ,em,[e],{},function(){return null},function(){return[]});return eZ};em.__typeName='tab.ToolbarButtonProps$1';ss.initGenericClass(em,a,1);global.tab.ToolbarButtonProps$1=em;var en=function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"));this.set_image(this.getElementBySelector('.tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.tabToolbarButtonText'))};en.__typeName='tab.ToolbarButtonTemplate';global.tab.ToolbarButtonTemplate=en;var eo=function(e){this.$d=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[ep]).call(this,e,new en);this.get_viewModel().add_flyoverShown(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverShown(ss.mkdel(this,this.$b))})));this.get_viewModel().add_flyoverHidden(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverHidden(ss.mkdel(this,this.$a))})));this.$c()};eo.__typeName='tab.ToolbarButtonView';eo.create=function(e){return new eo(e)};global.tab.ToolbarButtonView=eo;var ep=function(e,eZ,fa){this.$7=null;this.action=null;this.popupContent=null;this.dialogContent=null;this.$d=null;this.$e=null;this.$8=null;this.$9=null;this.$6=false;this.$b=false;this.$a=false;this.popupViewModel=null;this.$c=new spiff.UberPopupShowOptions.$ctor1(2,1,0,ev.get_toolbarIsBottom(),false,false,null,null,true,0,null,987,true);this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$d=e;this.$8=eZ;this.action=fa;this.$6=!ss.staticEquals(fa,null)};ep.__typeName='tab.ToolbarButtonViewModel';ep.shouldShowButton=function(e,eZ){if(ss.isNullOrUndefined(eZ)){return false}switch(e.get_iconRes()){case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!ev.$0()&&(!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()||tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb'))&&!tsConfig.is_mobile_app&&!eZ.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!eZ.get_forceHideCustomViewsButton()&&!eZ.get_useSmallScreenToolbar()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_allow_subscriptions}case'download':{return!tsConfig.previewMode}case'alert':{return tsConfig.allow_data_alert}case'public-logo':{return tab.FeatureFlags.isEnabled('UsePublicSpecificToolbar')&&tsConfig.isPublic}default:{return true}}};ep.createSeparator=function(){var e=new ep('-',null,null);e.$b=true;return e};ep.createFromCommandItem=function(e,eZ,fa){var fb=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fc=new ep(fb.get_name(),eZ+fb.get_iconRes(),null);fc.$6=ss.isNullOrUndefined(fb.get_enabled())||fb.get_enabled();fc.$9=fb.get_iconRes();if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app||ss.isNullOrUndefined(fa)){fc.$7=function(){return ep.fetchDialogContent(fa,fc)}}else{fc.popupContent=ep.$1(e,fa,fc)}var fd=tab.CommandSerializer.deserialize(fb.get_command());if(fc.$9==='edit'){fc.action=function(){tab.ToolbarServerCommands.launchEditing()}}else if(fc.$9==='alert'&&tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){fc.action=function(){bn.handleDataAlertClick(fb.get_description())};fa.handleDataAlertUpdate()}else if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')&&ss.isValue(fd)&&ss.referenceEquals(fd.commandName,'toggle-mark-labels'.toString())){fc.action=function(){tab.PaneClientCommands.setShowMarkLabels(fb.get_iconRes()==='show-labels',null)}}else if(ss.isValue(fd)){fc.action=function(){fc.set_isActive(true);if(tab.WebCommandRegistry.hasCommand(fd.commandName)){var fe=tab.WebCommandRegistry.createCommandWithParams(fd.commandName,fd.commandParams);fe.invoke();fc.set_isActive(false)}else{tab.ServerCommands.executeServerCommand(fd,'immediately',function(ff){fc.set_isActive(false)},function(ff){fc.set_isActive(false)})}}}return fc};ep.fetchDialogContent=function(e,eZ){var fa=$.Deferred();if(eZ.$9==='download'){tab.ModuleManager.load(tab.IDownloadDialogModule).call(null,[]).done(function(fb){eZ.dialogContent=eZ.dialogContent||fb.buildDialogContent();fa.resolve(eZ.dialogContent)})}else{eZ.dialogContent=eZ.dialogContent||ep.$0(eZ.get_iconType(),e);fa.resolve(eZ.dialogContent)}return fa.promise()};ep.$1=function(e,eZ,fa){var fb=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fc=function(){var fg=ss.getEnumerator(eZ.get_nonVizItems());try{while(fg.moveNext()){var fh=fg.current();if(!ss.referenceEquals(fh,fa)){fh.$3()}}}finally{fg.dispose()}};fa.add_flyoverShown(fc);fa.disposables.add$1(new tab.CallOnDispose(function(){fa.remove_flyoverShown(fc)}));switch(fb.get_iconRes()){case'download':{var fd=new bN;fd.add_downloadInitiated(ss.mkdel(fa,fa.$3));fa.disposables.add$1(new tab.CallOnDispose(function(){fd.remove_downloadInitiated(ss.mkdel(fa,fa.$3))}));return fd}case'share':{return new dL}case'customviews':{var fe=eZ.get_customViewsViewModel();fe.hideView=ss.delegateCombine(fe.hideView,ss.mkdel(fa,fa.$3));fa.disposables.add$1(new tab.CallOnDispose(function(){var fg=eZ.get_customViewsViewModel();fg.hideView=ss.delegateRemove(fg.hideView,ss.mkdel(fa,fa.$3))}));return eZ.get_customViewsViewModel()}case'subscribe':{var ff=new dZ;ff.add_subscribeSuccess(ss.mkdel(fa,fa.$3));fa.disposables.add$1(new tab.CallOnDispose(function(){ff.remove_subscribeSuccess(ss.mkdel(fa,fa.$3))}));return ff}case'public-logo':{return new dl}default:{return null}}};ep.$0=function(e,eZ){switch(e){case'download':{if(!tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app){return new bN}else{return null}}case'share':{return new dL}case'customviews':{return(ss.isNullOrUndefined(eZ)?null:eZ.get_customViewsViewModel())}case'subscribe':{return new dZ}case'public-logo':{return new dl}default:{return null}}};global.tab.ToolbarButtonViewModel=ep;var eq=function(e,eZ,fa){this.$f=null;ep.call(this,e,eZ,null);tab.Param.verifyValue(fa,'menuBuilder');this.$f=fa;this.set_enabled(this.createMenu().menuItems.some(function(fb){return fb.enabled}))};eq.__typeName='tab.ToolbarDropdownButtonViewModel';global.tab.ToolbarDropdownButtonViewModel=eq;var er=function(e,eZ,fa){this.$h=null;this.$g=null;this.$3$1=null;this.$3$2=null;ep.call(this,e,eZ,null);tab.Param.verifyValue(fa,'menuBuilder');this.$h=fa;this.$g=this.createMenu();this.set_enabled(this.$g.menuItems.some(function(ff){return ff.enabled}));if(this.get_enabled()){var fb=0;var fc=0;for(var fd=0;fd<this.$g.menuItems.length;fd++){var fe=this.$g.menuItems[fd];if(fe.checkState!==0){fb=fc;break}fc++}fc=0;this.set_props({dropdownType:0,menuItemInfos:_.map(this.$g.menuItems,function(ff){return{displayValue:ff.name,disabled:!ff.enabled,value:(fc++).toString()}}),containerStyle:{width:'97px'},selectedValue:fb.toString(),onSelect:ss.mkdel(this,this.$f),testId:'FitDropdown'})}};er.__typeName='tab.ToolbarDropdownMenuViewModel';global.tab.ToolbarDropdownMenuViewModel=er;var es=function(){this.toolbar=null;this.leftItems=null;this.publicItems=null;this.publicLogo=null;this.publicBelowLogo=null;this.rightItems=null;spiff.Template.call(this,$((ev.get_isPublicSpecificToolbar()?"\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>":"\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>")));this.toolbar=this.domRoot;this.leftItems=this.getElementBySelector('.tab-vizItems');if(!ev.get_isPublicSpecificToolbar()){this.publicItems=this.getElementBySelector('.tab-publicItems');this.publicLogo=this.getElementBySelector('.tab-publicLogoLink');this.publicBelowLogo=this.getElementBySelector('.tab-belowPublicLogo')}this.rightItems=this.getElementBySelector('.tab-nonVizItems')};es.__typeName='tab.ToolbarTemplate';global.tab.ToolbarTemplate=es;var et=function(e,eZ,fa,fb){this.$f=null;ep.call(this,e,eZ,fa);this.$f=fb};et.__typeName='tab.ToolbarToggleButtonViewModel';et.createFromCommandItems=function(e,eZ,fa){var fb;var fc;var fd=tab.CommandItemWrapper.create(e);var fe=tab.CommandItemWrapper.create(eZ);if(!ss.isValue(fd.get_enabled())||fd.get_enabled()){fb=fd;fc=fe}else if(!ss.isValue(fe.get_enabled())||fe.get_enabled()){fb=fe;fc=fd}else{return null}var ff=ep.createFromCommandItem(fb.get_item(),fa);var fg=new et(ff.get_text(),ff.get_iconClass(),ff.get_buttonAction(),fc.get_name());fg.disposables.add$1(ff);fg.set_enabled(ss.isValue(fc)&&!fc.get_enabled());if(fg.get_enabled()){return fg}return null};global.tab.ToolbarToggleButtonViewModel=et;var eu=function(e){this.$N=null;this.$Q=0;this.$P=0;this.$O=0;this.$L=0;this.$K=0;this.$J=0;this.$M=0;this.$I=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;ss.makeGenericType(spiff.BaseView$1,[ev]).call(this,e,new es);this.$N=e;this.$N.add_newToolbar(ss.mkdel(this,this.$n));this.$N.add_viewCountLoaded(ss.mkdel(this,this.$j));dF.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$i));tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$h));this.disposables.add(ss.mkdel(this,function(){this.$N.remove_newToolbar(ss.mkdel(this,this.$n));this.$N.remove_viewCountLoaded(ss.mkdel(this,this.$j));dF.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$i));tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$h))}));if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.on('keydown',ss.mkdel(this,this.$m));this.element.attr('role','toolbar')}if(tsConfig.allow_custom_views){var eZ=ss.mkdel(this,function(){this.updateCustomViewsButton();this.$k()});this.$w().add_dirtyChanged(eZ);this.$w().add_customViewListChanged(eZ);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$w().remove_dirtyChanged(eZ);this.$w().remove_customViewListChanged(eZ)})))}var fa=_.throttle(ss.mkdel(this,this.$i),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(fb){fa()}))};eu.__typeName='tab.ToolbarView';eu.$3=function(e){if(ss.isValue(e)){e.element.show()}};eu.$0=function(e){e.children('.tabToolbarButton').each(function(eZ,fa){var fb=$(fa);fb.css('width',tab.DoubleUtil.roundToInt(fb.outerWidth(false))+1)})};eu.$2=function(e){e.children('.tabToolbarButton').css('width','')};eu.$1=function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(eZ,fa){var fb=$(fa);var fc=fb.find('.tabToolbarButtonText').text();fb.attr('title',fc);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){fb.removeAttr('aria-label')}})};eu.$4=function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(eZ,fa){fa.removeAttribute('title');if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){var fb=$(fa);var fc=fb.find('.tabToolbarButtonText').text();fb.attr('aria-label',fc)}})};global.tab.ToolbarView=eu;var ev=function(e){this.$c=null;this.$d=[];this.$b=[];this.$9=new bf;this.dataAlertDialogViewModel=null;this.$a=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;this.$2$5=null;spiff.BaseViewModel.call(this);this.$c=e;if(!tsConfig.allow_custom_view_save){this.$a=true;this.$9.add_customViewListChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9.remove_customViewListChanged(ss.mkdel(this,this.$7))})))}this.set_dialogHostViewModel(new bE);if(ss.isValue(this.$c.get_vizCommandItems())){this.$6(null)}var eZ=ss.mkdel(this,function(){this.$6(null)});this.$c.add_newToolbar(eZ);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$6));var fa=ss.mkdel(this,function(){this.get_dialogHostViewModel().show(this.dataAlertDialogViewModel)});this.add_dataAlertDialogVMCreated(fa);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_newToolbar(eZ);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6));this.remove_dataAlertDialogVMCreated(fa)})))};ev.__typeName='tab.ToolbarViewModel';ev.get_toolbarHeight=function(){return tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()};ev.$0=function(){return tsConfig.isPublic};ev.get_isPublicSpecificToolbar=function(){return tsConfig.isPublic&&tab.FeatureFlags.isEnabled('UsePublicSpecificToolbar')};ev.get_toolbarIsBottom=function(){return(ev.$0()||tsConfig.embedded)&&!tsConfig.forceToolbarTop};global.tab.ToolbarViewModel=ev;var ew=function(e){this.tupleId=null;this.$i=null;this.$m=[];this.$k=false;this.$o=null;this.$n=false;this.$s=16;this.$j=16;this.$l=null;this.$r=null;this.$q=false;this.$p=false;this.$h=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;spiff.Widget.call(this,(e||ew.$0()).domRoot);this.$i=e||ew.$0();this.$n=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$r=null}))}};ew.__typeName='tab.Tooltip';ew.$0=function(){return ew.$4||(ew.$4=new eB)};global.tab.Tooltip=ew;var ex=function(e,eZ){ey.call(this,'sticky',e,eZ);var fa=this.get_currentBehavior();fa.attach()};ex.__typeName='tab.TooltipBaseLegacyMode';global.tab.TooltipBaseLegacyMode=ex;var ey=function(e,eZ,fa){this.disposables=new tab.DisposableHolder;this.$j=null;this.$k=null;this.$g=null;this.tooltipBehaviors=null;this.$e=null;this.$f=null;this.visualId=null;this.readyForHover=true;this.$h=false;this.$l=null;this.$i=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$e=eZ;this.visualId=fa;this.$j=new ew;this.$j.add_closed(ss.mkdel(this,this.$5));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.$j.get_body().on('mouseleave.basemode',ss.mkdel(this,this.$7));this.$k=new eC(this.$j,this.get_ubertipShouldEnforceButtonOrdering(),this.shouldAddCommandButtonsAndActions());this.$k.add_actionExecuted(ss.mkdel(this,this.$8));this.$k.add_commandExecuted(ss.mkdel(this,this.$9));this.$k.add_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$k.add_ubertipMenuClosed(ss.mkdel(this,this.$a));this.$g=e;this.$f=e;this.tooltipBehaviors={};this.buildBehaviorsDictionary();this.$h=tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'on-hover',null).length>0||tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'explicitly',null).length>0;if(tsConfig.is_mobile){eN.add_mobileVizReduceTransform(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eN.remove_mobileVizReduceTransform(ss.mkdel(this,this.$6))})))}};ey.__typeName='tab.TooltipBaseMode';ey.isUbertipHtmlEmpty=function(e){return ss.isValue(e)&&tab.MiscUtil.isNullOrEmpty$3(e.tooltipHtml)};global.tab.TooltipBaseMode=ey;var ez=function(){};ez.__typeName='tab.TooltipBehaviorType';global.tab.TooltipBehaviorType=ez;var eA=function(e){this.$0=null;this.$0=e};eA.__typeName='tab.TooltipContextProvider';global.tab.TooltipContextProvider=eA;var eB=function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))};eB.__typeName='tab.TooltipTemplate';global.tab.TooltipTemplate=eB;var eC=function(e,eZ,fa){this.$1e=null;this.$16=new tab.DisposableHolder;this.$19=null;this.$1a=null;this.$17=false;this.$11=false;this.$18=false;this.$Z=null;this.$1b=-1;this.$12=null;this.$15=null;this.$13=null;this.$10=null;this.$14=null;this.$1d=[];this.$1c=[];this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$15=this.element.find('.tab-ubertipContent');this.$13=this.element.find('.tab-ubertipCommandArea');this.$10=this.element.find('.tab-ubertipActions');this.$14=this.element.find('.tab-ubertipCommands');this.$1e=e;this.$1e.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1e.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$11=fa;this.$17=eZ};eC.__typeName='tab.Ubertip';eC.$b=function(e){return e.get_commandType()===10};eC.$7=function(e){return _.find(e.buttonModels,eC.$b)};eC.$c=function(e){var eZ=e.get_wrappedCommandItemPresModel();if(ss.isNullOrUndefined(eZ)){return false}return eZ.get_iconRes()===':/en_US/TQRC_MERGE'};eC.$8=function(e){return _.find(e.buttonModels,eC.$c)};eC.$4=function(e,eZ){return _.find(e.buttonModels,function(fa){return fa.get_isPlaceholder()&&fa.get_commandType()===eZ})};eC.$6=function(e){var eZ;if(ss.isNullOrEmptyString(e.get_imageRes())){eZ='Command'+e.get_commandType()}else if(ss.endsWithString(e.get_imageRes().toString(),'png')){eZ=tab.TabResources.getResourceName(e.get_imageRes())}else{eZ=tab.TabResources.lookupFullResourceAlias(e.get_imageRes())}return eZ};eC.$a=function(e,eZ){if(tab.MiscUtil.isNullOrEmpty$3(e)){return eZ}var fa=ss.formatString('Ubertip{0}Mobile',e);var fb=tab.Strings.getString(fa);if(ss.referenceEquals(fb,ss.formatString('!{0}!',fa))){return eZ}return fb};eC.$1=function(e){var eZ=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){eZ.set_label(eC.$a(eC.$6(e),e.get_name()))}else{eZ.set_label(e.get_name());eZ.set_hoverTooltipText(e.get_description())}eZ.set_disabled(true);var fa=new ss.StringBuilder('tab-command');fa.append(eC.$6(e));eZ.element.addClass(fa.toString());eZ.element.css('visibility','hidden');return eZ};eC.$5=function(e){var eZ=e.find('.tab-selection-relaxation');for(var fa=0;fa<eZ.length;fa++){if(ss.isValue(eZ.eq(fa).data('isSelected'))){return fa}}return-1};eC.$2=function(e){var eZ=spiff.LabelButton.newNativeButton();eZ.set_label(e.get_name());eZ.set_hoverTooltipText(e.get_description());$('<span>').addClass('tabComboBoxButton').appendTo(eZ.element);return eZ};eC.$d=function(e,eZ,fa){if(tsConfig.is_mobile&&!tab.MiscUtil.isNullOrEmpty$3(fa)){var fb=eC.$a(fa,eZ.get_description());e.setLabelContents($('<div>'+fb+'</div>'))}else{e.set_label(eZ.get_name())}};eC.$0=function(e,eZ){e.element.addClass(ss.formatString('tab-command{0}',eZ))};eC.$3=function(e){e.element.addClass('enabled'.toString())};eC.$9=function(e){return tab.TabResources.getResourceName(tab.TabResources.lookupFullResourceAlias(e))};global.tab.Ubertip=eC;var eD=function(){eE.call(this)};eD.__typeName='tab.UndoKeyboardShortcut';global.tab.UndoKeyboardShortcut=eD;var eE=function(){cj.call(this,true)};eE.__typeName='tab.UndoRedoKeyboardShortcut';eE.get_logger=function(){return tab.Logger.getLogger(eE)};eE.get_isUndoingOrRedoing=function(){return eE.$3$1};eE.set_isUndoingOrRedoing=function(e){eE.$3$1=e};eE.undoRedoFailure=function(e){eE.set_isUndoingOrRedoing(false);throw e};eE.undoRedoSuccess=function(e){eE.set_isUndoingOrRedoing(false)};global.tab.UndoRedoKeyboardShortcut=eE;var eF=function(){};eF.__typeName='tab.URIUtil';eF.absolutizeURI=function(e,eZ){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var fa=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var fb=e.match(fa);if(ss.isValue(fb)&&fb[1]!=='http'&&fb[1]!=='https'){if(eZ){return''}return e}var fc='//';var fd=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var fe=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(fd.test(e)){fc='https://'}else if(fe.test(e)){fc='http://'}var ff=new RegExp('^(https?:)?/?/?');e=e.replace(ff,fc);return e};global.tab.URIUtil=eF;var eG=function(e){React.Component.call(this,e)};eG.__typeName='tab.UserPillComponent';global.tab.UserPillComponent=eG;var eH=function(e){React.Component.call(this,e)};eH.__typeName='tab.UserPillsComponent';global.tab.UserPillsComponent=eH;var eI=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.set_props({users:ss.arrayClone(e),userValidator:function(eZ){return eZ.hasEmail},userInvalidText:tab.Strings.UserHasNoEmailAddressWarning,addUser:ss.mkdel(this,this.addUser),removeUser:ss.mkdel(this,this.removeUser)})};eI.__typeName='tab.UserPillsViewModel';global.tab.UserPillsViewModel=eI;var eJ=function(){cK.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>")};eJ.__typeName='tab.VerticalIteratorButtonTemplate';global.tab.VerticalIteratorButtonTemplate=eJ;var eK=function(e){this.$4=null;this.$3=0;this.$5=null;this.$2=new tab.DisposableHolder;this.$1$2=null;this.$4=e};eK.__typeName='tab.ViewController';eK.add_selectionChanged=function(e){eK.$1$1=ss.delegateCombine(eK.$1$1,e)};eK.remove_selectionChanged=function(e){eK.$1$1=ss.delegateRemove(eK.$1$1,e)};global.tab.ViewController=eK;var eL=function(e){this.$g=null;this.$h=null;this.$g=e};eL.__typeName='tab.ViewingToolbarCommands';global.tab.ViewingToolbarCommands=eL;var eM=function(){this.$4=0;this.$1$1=null;this.$1$2=null};eM.__typeName='tab.ViewportChangeDetector';eM.get_instance=function(){if(ss.isNullOrUndefined(eM.$0)){eM.$0=new eM}return eM.$0};global.tab.ViewportChangeDetector=eM;var eN=function(){};eN.__typeName='tab.VizEvent';eN.add_mobileVizExpandTransform=function(e){eN.$1$1=ss.delegateCombine(eN.$1$1,e)};eN.remove_mobileVizExpandTransform=function(e){eN.$1$1=ss.delegateRemove(eN.$1$1,e)};eN.add_mobileVizReduceTransform=function(e){eN.$1$2=ss.delegateCombine(eN.$1$2,e)};eN.remove_mobileVizReduceTransform=function(e){eN.$1$2=ss.delegateRemove(eN.$1$2,e)};eN.notifyMobileVizExpandTransform=function(){if(ss.isValue(eN.$1$1)){eN.$1$1()}};eN.notifyMobileVizReduceTransform=function(){if(ss.isValue(eN.$1$2)){eN.$1$2()}};global.tab.VizEvent=eN;var eO=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))};eO.__typeName='tab.WebZoneTemplate';global.tab.WebZoneTemplate=eO;var eP=function(e,eZ){this.$j=null;this.$i=null;this.$g=null;this.$h=null;ss.makeGenericType(spiff.BaseView$1,[eQ]).call(this,e,new eO);this.$j=e;this.$i=eZ;this.$j.add_newWebZone(ss.mkdel(this,this.$b));this.$i.add_propertyChanged(ss.mkdel(this,this.$d));this.$i.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_newWebZone(ss.mkdel(this,this.$b));this.$i.remove_propertyChanged(ss.mkdel(this,this.$d));this.$i.remove_resizeZone(ss.mkdel(this,this.$c))})))};eP.__typeName='tab.WebZoneView';global.tab.WebZoneView=eP;var eQ=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))};eQ.__typeName='tab.WebZoneViewModel';global.tab.WebZoneViewModel=eQ;var eR=function(){};eR.__typeName='tab.WidgetUtil';eR.newMenuItemsFromCommands=function(e,eZ,fa,fb){if(ss.isNullOrUndefined(eZ)){return}var fc=tab.CommandsPresModelWrapper.create(eZ);if(!ss.isValue(fc.get_commandItems())){return}var fd=ss.coalesce(fc.get_defaultItem(),-1);var fe=-1;var ff=true;var fg=fc.get_commandItems();for(var fh=0;fh<fg.length;fh++){var fi=fg[fh];fe++;var fj=null;var fk=tab.CommandItemWrapper.create(fi);if(!eR.$2(fk,fb)){continue}var fl=fe===fd||fk.get_isDefault();switch(fk.get_commandsType()){case'item':{fj=spiff.MenuItem.newItem(fa(fi),fk.get_name());fj.description=fk.get_description();fj.enabled=ss.isNullOrUndefined(fk.get_enabled())||fk.get_enabled();break}case'separator':{if(!ff){fj=spiff.MenuItem.newDivider()}break}case'subcommands':{var fm=[];eR.newMenuItemsFromCommands(fm,fk.get_commands(),fa,fb);if(fm.length>0){fj=spiff.MenuItem.newItem(null,fk.get_name(),0,new spiff.Menu(fm))}break}}if(ss.isValue(fj)){fj.enabled=fk.get_enabled();fj.isDefault=fl&&fj.enabled;if(fk.get_isRadioOn()){fj.checkState=2}else if(fk.get_isChecked()){fj.checkState=1}e.push(fj);ff=fj.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}};eR.$2=function(e,eZ){if(!e.get_isVisible()){return false}if(ss.isValue(e.get_command())&&ss.isValue(eZ)){var fa=new tab.CommandModel;fa.command=tab.CommandSerializer.deserialize(e.get_command());tab.UbertipSerializer.setCommandType(fa);return eZ.test(fa)}return true};eR.createDropdownMenuCommandHandler=function(e){var eZ=tab.CommandItemWrapper.create(e);var fa=tab.CommandSerializer.deserialize(eZ.get_command());var fb;fb=function(){if(tab.WebCommandRegistry.hasCommand(fa.commandName)){var fc=tab.WebCommandRegistry.createCommandWithParams(fa.commandName,fa.commandParams);fc.invoke()}else{var fd=eR.$1(fa);tab.ServerCommands.executeServerCommand(fa,fd,tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)}if(cc.get_richTextEditingOnlineTelemetryEnabled()&&eR.$3(fa)){tab.OnlineAnalyticsClient.logEvent('Formatting.RichTextEditing',['RichTextEditorOpenedBy','ContextMenu'])}};return fb};eR.$3=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandName)){return false}return e.commandName.toString().indexOf(eR.richTextEditorCreationCommandName)!==-1};eR.createDropdownMenuCommand=function(e){var eZ=tab.CommandItemWrapper.create(e);var fa=tab.CommandSerializer.deserialize(eZ.get_command());return fa};eR.$1=function(e){var eZ='immediately';if(ss.contains(eR.$4,e.commandName)){eZ='none'}return eZ};eR.commandMenuItemClicked=function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var eZ=e.data;tab.ServerCommands.executeServerCommand(eZ,'immediately')}};eR.menuViewModelFromCommands=function(e,eZ,fa){tab.Param.verifyValue(e,'commands');var fb=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty$1(fb.get_commandItems())){if(ss.isValue(fa)){fa()}return null}var fc=[];eR.newMenuItemsFromCommands(fc,e,eR.createDropdownMenuCommandHandler);var fd=new spiff.Menu(fc);var fe=spiff.MenuViewModel.createForMenu(fd,eZ);if(ss.isValue(fa)){fe.add_hidden(fa)}return fe};eR.getMenuItemsInFlatList=function(e){var eZ=[];if(ss.isValue(e)){for(var fa=0;fa<e.length;fa++){var fb=e[fa];eR.addMenuItemToList(fb,eZ)}}return eZ};eR.addMenuItemToList=function(e,eZ){if(e.isDivider){}else if(ss.isValue(e.subMenu)&&ss.isValue(e.subMenu.menuItems)){for(var fa=0;fa<e.subMenu.menuItems.length;fa++){var fb=e.subMenu.menuItems[fa];eR.addMenuItemToList(fb,eZ)}}else{eZ.push(e)}};eR.getMenuItemInfos=function(e){var eZ=[];if(ss.isValue(e)){for(var fa=0;fa<e.length;fa++){var fb=e[fa];eR.addMenuItemInfoToList(fb,eZ)}}return eZ};eR.addMenuItemInfoToList=function(e,eZ){if(e.isDivider){eZ.push({isDivider:true})}else if(ss.isValue(e.subMenu)){var fa=[];for(var fb=0;fb<e.subMenu.menuItems.length;fb++){var fc=e.subMenu.menuItems[fb];eR.addMenuItemInfoToList(fc,fa)}var fd=eR.$0(e);eZ.push({value:e.name,displayValue:fd+e.name,disabled:!e.enabled,menuItemInfos:fa})}else{var fe=eR.$0(e);eZ.push({value:e.name,displayValue:fe+e.name,disabled:!e.enabled})}};eR.$0=function(e){var eZ=e.checkState;switch(eZ){case 2:{return' '}case 1:{return' '}default:{return''}}};global.tab.WidgetUtil=eR;var eS=function(){this.dashboardSpacer=null;this.centeringContainer=null;spiff.Template.call(this,eS.$0());this.dashboardSpacer=this.domRoot;this.centeringContainer=$('#centeringContainer')};eS.__typeName='tab.WorkbookTemplate';eS.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"):$("<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"))};global.tab.WorkbookTemplate=eS;var eT=function(e){this.$i=null;this.$h=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[eU]).call(this,e,new eS);this.$i=e;if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$f))}this.$i.add_newDashboard(ss.mkdel(this,this.$a));this.$i.add_newDataConnectionPrompt(ss.mkdel(this,this.$b));if(this.$i.get_hasPrompt()){this.$b()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$f))}this.$i.remove_newDashboard(ss.mkdel(this,this.$a));this.$i.remove_newDataConnectionPrompt(ss.mkdel(this,this.$b))})))};eT.__typeName='tab.WorkbookView';eT.findDashboardContainer=function(){return $(eT.dashboardSpacerSelector)};global.tab.WorkbookView=eT;var eU=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$7=e;this.$7.addNewDashboardHandler(ss.mkdel(this,this.$2));this.$7.add_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$4));if(this.$7.get_hasPrompt()){this.$3(this.$7.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$4))})))};eU.__typeName='tab.WorkbookViewModel';eU.add_workbookResized=function(e){eU.$2$3=ss.delegateCombine(eU.$2$3,e)};eU.remove_workbookResized=function(e){eU.$2$3=ss.delegateRemove(eU.$2$3,e)};global.tab.WorkbookViewModel=eU;var eV=function(){spiff.Template.call(this,$((tab.FeatureFlags.isEnabled('NewDashboardSpacing')?"<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>":"<div class='tab-zone no-spacing'></div>")))};eV.__typeName='tab.ZoneTemplate';global.tab.ZoneTemplate=eV;var eW=function(e){this.$q=null;this.$o=null;this.$p=0;this.$n='';ss.makeGenericType(spiff.BaseView$1,[eX]).call(this,e,new eV);this.$m().add_updateZone(ss.mkdel(this,this.$e));this.$m().add_resizeZone(ss.mkdel(this,this.$d));this.$m().add_newZoneContent(ss.mkdel(this,this.$c));this.$m().add_validStateChanged(ss.mkdel(this,this.$g));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$f),null))}this.$p=0};eW.__typeName='tab.ZoneView';eW.add_zoneBecameValid=function(e){eW.$3$1=ss.delegateCombine(eW.$3$1,e)};eW.remove_zoneBecameValid=function(e){eW.$3$1=ss.delegateRemove(eW.$3$1,e)};eW.$0=function(e){return'tabZoneId'+e};eW.getZoneElement=function(e){return $('#'+eW.$0(e)).get(0)};global.tab.ZoneView=eW;var eX=function(e){this.$j=null;this.zoneContentViewModel=null;this.$i=null;this.$h=false;this.$f=false;this.$g=false;this.$e=false;this.$d=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$h=true;this.$j=e;this.$j.add_updateZone(ss.mkdel(this,this.$7));this.$j.get_zoneCommonModel().add_resizeZone(ss.mkdel(this,this.$5));this.$j.add_newZoneContent(ss.mkdel(this,this.$3));this.$j.add_removeZoneContent(ss.mkdel(this,this.$4));this.$j.get_zoneCommonModel().add_changeZoneTitleVisibility(ss.mkdel(this,this.$6));this.$a();this.$b();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$3(e.get_model())}else if(tsConfig.is_authoring){this.$2()}};eX.__typeName='tab.ZoneViewModel';eX.calculateZoneZIndex=function(e){return 10+e.get_relativeZoneZIndex()};global.tab.ZoneViewModel=eX;var eY=function(){};eY.__typeName='tableau.ApiCommandExecutor';eY.execute=function(e,eZ,fa){var fb=tab._ApiCommand.generateNextCommandId();var fc=new tab._ApiCommand(e,fb,eZ,fa);E.get_instance().get_apiEventHandler().routeCommand(fc);return fb};eY.installResponderOverride=function(e){var eZ=ss.safeCast(tabBootstrap.ViewerBootstrap.get_instance().apiResponder,tabBootstrap.ApiNativeHostResponder);if(ss.isValue(eZ)){eZ.set_responseAction(e)}else{}};global.tableau.ApiCommandExecutor=eY;ss.initEnum(b,a,{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);ss.initEnum(c,a,{loading:'loading',loaded:'loaded'},true);ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{$0:function(e,eZ){var fa;if(this.$3==='horizontal'){fa=Math.round(this.$6)===Math.round(eZ)}else{fa=Math.round(this.$5)===Math.round(e)}return fa},$1:function(e,eZ){var fa=this.$4;var fb=e;var fc=eZ;switch(this.$3){case'horizontal':{if(this.$2){fa=-fa}fb=this.$5+fa;break}case'up':{if(!this.$2){fa=-fa}fc=this.$6+fa;break}case'down':{if(this.$2){fa=-fa}fc=this.$6+fa;break}default:{break}}return{x:fb,y:fc}}});ss.initClass(k,a,{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});ss.initClass(l,a,{});ss.initClass(m,a,{$6:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$7:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$3=new Date;this.$4=e.pageX;this.$5=e.pageY},$1:function(e){this.$2(e)},$2:function(e){var eZ=new Date-this.$3;var fa=Math.abs(e.pageX-this.$4);var fb=Math.abs(e.pageY-this.$5);if(eZ<=600&&fa<=10&&fb<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});ss.initClass(n,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(o,a,{});ss.initClass(p,a,{},ss.EventArgs);ss.initClass(q,a,{addUser:function(e){if(_.any(this.state.users,function(eZ){return eZ.id===e.id})){return}this.setState(function(eZ,fa){var fb=ss.arrayClone(eZ.users);fb.push(e);return{users:fb,groups:eZ.groups}})},addGroup:function(e){if(_.any(this.state.groups,function(eZ){return eZ.id===e.id})){return}this.setState(function(eZ,fa){var fb=ss.arrayClone(eZ.groups);fb.push(e);return{users:eZ.users,groups:fb}})},setUsers:function(e){this.setState(function(eZ,fa){return{users:e,groups:eZ.groups}})},removeUser:function(e){this.setState(function(eZ,fa){var fb=ss.arrayClone(eZ.users);ss.remove(fb,e);return{users:fb,groups:eZ.groups}})},removeGroup:function(e){this.setState(function(eZ,fa){var fb=ss.arrayClone(eZ.groups);ss.remove(fb,e);return{users:eZ.users,groups:fb}})},removeRecipientByIndex:function(e){if(this.props.isUsers){this.removeUserByIndex(e)}else{this.removeGroupByIndex(e)}},removeUserByIndex:function(e){this.setState(function(eZ,fa){var fb=ss.arrayClone(eZ.users);ss.removeAt(fb,e);return{users:fb,groups:eZ.groups}})},removeGroupByIndex:function(e){this.setState(function(eZ,fa){var fb=ss.arrayClone(eZ.groups);ss.removeAt(fb,e);return{users:eZ.users,groups:fb}})},confirmSelection:function(){this.props.confirmSelection();if(this.props.isUsers){this.props.confirmUsersSelection(this.state.users)}else{this.props.confirmGroupsSelection(this.state.groups)}},render:function(){var e='tabAddSubscribersContent';if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e+='BulkSubscribeOthers'}return React.DOM.div({className:e},this.$2(),this.$3(),this.$1())},$2:function(){var e='';if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e=(this.props.isUsers?tab.Strings.ToolbarSubscribeAddUsersHeader:tab.Strings.ToolbarSubscribeAddGroupsHeader)}else{e=tab.Strings.AddSubscribersHeader}return React.DOM.div({className:'tabAddSubscribersHeader'},e)},$0:function(e,eZ,fa,fb,fc,fd,fe){return{users:e,addUser:eZ,removeUser:fa,groups:fb,addGroup:fc,removeRecipientByIndex:fd,isUsers:this.props.isUsers,userValidator:function(ff){return ff.hasEmail},placeholderMessage:fe,emptySearch:function(ff){},noResults:function(ff){},isBulkSubscribe:tab.FeatureFlags.isEnabled('BulkSubscribeOthers')}},$3:function(){var e;if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e=this.$0(this.state.users,ss.mkdel(this,this.addUser),ss.mkdel(this,this.removeUser),this.state.groups,ss.mkdel(this,this.addGroup),ss.mkdel(this,this.removeRecipientByIndex),'')}else{e=this.$0(this.props.users,this.props.addUser,this.props.removeUser,this.props.groups,this.props.addGroup,this.props.removeRecipientByIndex,tab.Strings.SubscribeOthersSearchPlaceholder)}return React.createElement(dv,e)},$1:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){return React.DOM.div({className:'tabAddSubscribersButtons'},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fc){this.props.cancelSelection()}),buttonType:3,testId:'add-subscribers-cancel',label:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fc){this.confirmSelection()}),buttonType:2,testId:'add-subscribers-done',label:tab.Strings.SubscribeDone}))}else{var e={clickHandler:this.props.cancelSelection,label:tab.Strings.SubscribeCancel,buttonClass:'tabAddSubscribersCancelButton',buttonStyle:3,tabIndex:0};var eZ={clickHandler:this.props.confirmSelection,label:tab.Strings.DialogButtonOK,buttonClass:'tabAddSubscribersConfirmButton',buttonStyle:0,tabIndex:0};var fa=React.createElement(spiff.StyledButtonComponent,eZ);var fb=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tabAddSubscribersButtons'},fb,fa)}}},React.Component);ss.initClass(r,a,{});ss.initClass(s,a,{});ss.initClass(t,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_selectionCanceled:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_selectionCanceled:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_selectionConfirmedUser:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_selectionConfirmedUser:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_selectionConfirmedGroup:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_selectionConfirmedGroup:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_viewModel:function(){return this},get_props:function(){return this.$2$5},set_props:function(e){this.$2$5=e},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[t,q,s])},updateUberPopupViewModel:function(e){},addUser:function(e){if(_.any(this.users,function(eZ){return eZ.id===e.id})){return}this.users.push(e);this.$2()},addGroup:function(e){if(_.any(this.groups,function(eZ){return eZ.id===e.id})){return}this.groups.push(e);this.$2()},setUsers:function(e){this.users=e;this.$2()},removeUser:function(e){ss.remove(this.users,e);this.$2()},removeGroup:function(e){ss.remove(this.groups,e);this.$2()},removeRecipientByIndex:function(e){if(this.get_props().isUsers){this.removeUserByIndex(e)}else{this.removeGroupByIndex(e)}this.$2()},removeUserByIndex:function(e){ss.removeAt(this.users,e)},removeGroupByIndex:function(e){ss.removeAt(this.groups,e)},disposeViewModel:function(){this.dispose()},cancelSelection:function(){this.users=this.originalUsers;this.groups=this.originalGroups;this.$2();this.raiseActionEvent(this.$2$2)},confirmSelection:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.isUsers){this.raiseActionEvent$1(Array).call(this,this.$2$4,this.groups)}else{this.raiseActionEvent$1(Array).call(this,this.$2$3,this.users)}},updateProps:function(){var e=s.$ctor();e.users=this.users;e.addUser=ss.mkdel(this,this.addUser);e.removeUser=ss.mkdel(this,this.removeUser);e.groups=this.groups;e.addGroup=ss.mkdel(this,this.addGroup);e.removeGroup=ss.mkdel(this,this.removeGroup);e.removeRecipientByIndex=ss.mkdel(this,this.removeRecipientByIndex);e.isUsers=this.isUsers;e.cancelSelection=ss.mkdel(this,this.cancelSelection);e.confirmSelection=ss.mkdel(this,this.confirmSelection);e.confirmGroupsSelection=this.$2$4;e.confirmUsersSelection=this.$2$3;this.set_props(e)},$2:function(){this.updateProps();this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[s])]);ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initClass(w,a,{});ss.initClass(x,a,{dispose:function(){this.$13.dispose();if(ss.isValue(this.$17)){this.$17.dispose();this.$17=null}if(ss.isValue(this.$16)){this.$16.dispose();this.$16=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))},updateClients:function(e,eZ){if(!ss.referenceEquals(this.$11,e)){var fa=this.$11;this.$11=e;if(tsConfig.allow_custom_views){var fb=(ss.isValue(fa)?fa.get_customViewsViewModel():null);if(ss.isValue(fb)){fb.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fb.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fb.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fb.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var fc=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(fc)){fc.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fc.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fc.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fc.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$12=false;if(ss.isValue(this.$17)){this.$17.dispose();this.$17=null}if(ss.isValue(this.$10)&&ss.isValue(this.$11.get_toolbarCommands().get_toolbarViewModel())){this.$17=new B(this.$10,this.$11.get_toolbarCommands().get_toolbarViewModel())}}if(!ss.referenceEquals(this.$15,eZ)||ss.isValue(this.$16)&&!this.$16.get_eventHandlerAttached()&&ss.isValue(eZ.get_flipboardNavigatorViewModel())){if(ss.isValue(this.$16)){this.$16.dispose()}this.$15=eZ;if(ss.isValue(this.$15)){this.$16=new A(eZ,this.$10)}}_.defer(ss.mkdel(this,this.$X));if(!this.$14){var fd=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(fd)){fd.addNewDashboardHandler(ss.mkdel(this,this.onNewDashboard));this.$14=true}}else{this.onNewDashboard(null)}},$X:function(){var e={};var eZ=this.$11.get_viewControllers();for(var fa=0;fa<eZ.length;fa++){var fb=eZ[fa];e[fb.get_sheetName()]=fb}var fc=_.keys(this.$18);for(var fd=0;fd<fc.length;fd++){var fe=fc[fd];if(!ss.keyExists(e,fe)){this.$18[fe].dispose();delete this.$18[fe]}else{delete e[fe]}}this.$R(e)},$R:function(e){_.each(_.keys(e),ss.mkdel(this,function(eZ){var fa=e[eZ];var fb=ss.mkdel(this,function(fc,fd){if(ss.referenceEquals(fa.get_sheetName(),fc)){this.onSelectionChanged(fc,fd)}});eK.add_selectionChanged(fb);this.$18[eZ]=new tab.CallOnDispose(function(){eK.remove_selectionChanged(fb)})}))},handleEvent:function(e){var eZ=e.data;if(ss.isNullOrUndefined(eZ)||typeof(eZ)!=='string'){return}var fa=eZ;var fb=tab._ApiCommand.parse(fa);if(ss.isNullOrUndefined(fb.get_rawName())){return}this.routeCommand(fb)},routeCommand:function(e){switch(e.get_name()){case'api.GetClientInfoCommand':{this.$E(e);break}case'api.GetCurrentUrlCommand':{this.$G(e);break}case'api.ClearFilterCommand':{this.$6(e);break}case'api.ApplyCategoricalFilterCommand':{this.$2(e);break}case'api.ApplyRangeFilterCommand':{this.$4(e);break}case'api.ApplyRelativeDateFilterCommand':{this.$5(e);break}case'api.ApplyHierarchicalFilterCommand':{this.$3(e);break}case'api.RefreshDataCommand':{this.$y(e);break}case'api.RevertAllCommand':{this.$A(e);break}case'api.SwitchActiveSheetCommand':{this.$S(e);break}case'api.UpdateActiveSheetCommand':{this.$V(e);break}case'api.SelectMarksCommand':{this.$C(e);break}case'api.ClearSelectedMarksCommand':{this.$8(e);break}case'api.FetchSelectedMarksCommand':{this.$e(e);break}case'api.FetchParametersCommand':{this.$d(e);break}case'api.SetParameterValueCommand':{this.$H(e);break}case'api.InvokeCommandCommand':{this.$o(e);break}case'api.SetSheetSizeCommand':{this.$I(e);break}case'api.ShowHideToolbarCommand':{this.$N(e);break}case'api.GetFiltersListCommand':{this.$h(e);break}case'api.GetOneFilterInfoCommand':{this.$i(e);break}case'api.GetDataSourceCommand':{this.$f(e);break}case'api.GetDataSourcesCommand':{this.$g(e);break}case'api.FetchCustomViewsCommand':{this.$b(e);break}case'api.ShowCustomViewCommand':{this.$J(e);break}case'api.UpdateCustomViewCommand':{this.$W(e);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$q(e);break}case'api.RemoveCustomViewCommand':{this.$z(e);break}case'api.SaveNewCustomViewCommand':{this.$B(e);break}case'api.ActivateStoryPoint':{this.$16.activateStoryPoint(e);break}case'api.ActivatePreviousStoryPoint':{this.$16.activatePreviousStoryPoint(e);break}case'api.ActivateNextStoryPoint':{this.$16.activateNextStoryPoint(e);break}case'api.SwitchViz':{var eZ=JSON.parse(e.get_parameters());tab.SessionServerCommands.switchToViz(eZ['api.invokeCommandParam']);break}case'api.RevertStoryPoint':{this.$16.revertStoryPoint(e);break}case'api.GetSummaryTableCommand':{this.$j(e);break}case'api.GetUnderlyingTableCommand':{this.$l(e);break}case'api.ClearHighlightedMarksCommand':{this.$7(e);break}case'api.HighlightMarksCommand':{this.$m(e);break}case'api.HighlightMarksByPatternMatch':{this.$n(e);break}case'api.FetchHighlightedMarksCommand':{this.$c(e);break}case'api.GetToolbarState':{this.$k(e);break}case'api.Undo':{this.$U(e);break}case'api.Redo':{this.$x(e);break}case'api.ToggleUpdates':{this.$T(e);break}case'api.ShowShareDialog':{this.$P();break}case'api.ShowDataAlertDialog':{this.$L();break}case'api.ShowSubscribeDialog':{this.$Q();break}case'api.ShowCustomViewsDialog':{this.$K();break}case'api.ShowPerformanceDialog':{this.$O();break}case'api.ShowDownloadDialog':{this.$M();break}}},handleNewLayout:function(e){var eZ=e.item1;var fa=e.item2;this.$10.sendEventNotification('api.TabSwitchEvent',eZ,fa)},handleMarkSelectionEvent:function(e,eZ){if(ss.referenceEquals(e,eZ.primarySheet)){this.$10.sendEventNotification('api.MarksSelectionChangedEvent',e,null)}},handleFilterChangeEvent:function(e,eZ){if(ss.isNullOrUndefined(eZ.primarySheet)){return}var fa=eZ.cmdResult.commandReturn;var fb=fa['fn'];if(ss.isNullOrUndefined(fa['invalidValues'])&&ss.isNullOrUndefined(fa['invalidFieldCaption'])&&ss.isValue(fb)){var fc=null;var fd=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),eZ.primarySheet);if(ss.isValue(fd)){var fe=_.find(fd.get_filters(),function(fg){return ss.referenceEquals(fg.get_globalFieldName(),fb)});if(ss.isValue(fe)){fc=fe.get_filterPresModel().fieldCaption}}var ff=[fb,ss.coalesce(fc,fb)];this.$10.sendEventNotification('api.FilterChangedEvent',e,JSON.stringify(ff))}},$p:function(e){return e==='reset-filter'||e==='clear-existing-filter'||e==='range-filter'||e==='categorical-filter'||e==='categorical-filter-by-index'||e==='hierarchical-filter'||e==='relative-date-filter'},removeEditDataAlertUrlParam:function(e){this.$10.sendEventNotification('api.RemoveEditDataAlertUrlParamEvent',e,'')},onSelectionChanged:function(e,eZ){if(ss.isNullOrUndefined(eZ)||ss.isNullOrUndefined(eZ.cmdResult)||ss.isNullOrUndefined(eZ.cmdResult.commandName)){return}var fa=eZ.cmdResult.commandName.split(':');if(ss.referenceEquals(fa[0],'tabdoc'.toString())){if(ss.startsWithString(fa[1],'highlight')||ss.startsWithString(fa[1],'select-legend')){this.$10.sendEventNotification('api.MarksHighlightChangedEvent',e,null)}var fb=fa[1];if(ss.startsWithString(fa[1],'select')&&!ss.startsWithString(fa[1],'select-legend')){this.handleMarkSelectionEvent(e,eZ)}else if(this.$p(fb)){this.handleFilterChangeEvent(e,eZ)}}else if(ss.referenceEquals(fa[0],'tabsrv'.toString())&&(ss.startsWithString(fa[1],'select')&&!ss.startsWithString(fa[1],'select-legend'))){this.handleMarkSelectionEvent(e,eZ)}},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$10.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onCommandComplete:function(){this.$10.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onNewDashboard:function(e){e=tab.ModelUtils.findContentDashboard();this.$13.dispose();if(ss.isNullOrUndefined(e)){return}var eZ=e.get_zoneModels();_.each(eZ,ss.mkdel(this,function(fa,fb){if(fa.get_zoneType()==='paramctrl'&&ss.isValue(fa.get_model())){if(ss.referenceEquals(ss.getInstanceType(fa.get_model()),tab.ParameterCtrlModel)){var fc=fa.get_model();fc.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$13.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fc.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}else if(ss.referenceEquals(ss.getInstanceType(fa.get_model()),tab.ParameterFilterDisplayModel)){var fd=fa.get_model();fd.add_filterUpdated(ss.mkdel(this,this.onParameterChange));this.$13.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fd.remove_filterUpdated(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var eZ=e.fieldCaption;this.$10.sendEventNotification('api.ParameterChangedEvent',null,eZ)},onCustomViewDestroyed:function(e,eZ){this.$10.sendEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$9()))},onCustomViewUpdated:function(e,eZ){this.$10.sendEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$9()))},onCustomViewSetDefault:function(e,eZ){this.$10.sendEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$9()))},onCustomViewListLoaded:function(e,eZ){this.$10.sendEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$9()));this.$12=true},$d:function(e){var eZ=tab.CommandUtils.newCommand('get-parameter-models',null);this.$F(e,eZ,g.$8)},$H:function(e){var eZ=JSON.parse(e.get_parameters());var fa={};fa['fieldCaption']=eZ['api.setParameterName'];fa['valueString']=eZ['api.setParameterValue'];var fb=tab.CommandUtils.newCommand('set-parameter-value',fa);this.$F(e,fb,g.$6)},$h:function(e){var eZ=function(fb,fc){fc['ignoreDomain']=fb['api.ignoreDomain']};var fa=this.$t(e,'get-filter-info',eZ);this.$F(e,fa,y.processFilters)},$i:function(e){var eZ=function(fb,fc){if(ss.isValue(fb['api.fieldCaption'])){fc['fieldCaption']=fb['api.fieldCaption']}else{fc['fn']=fb['api.fieldName']}if(ss.isValue(fb['api.filterHierarchicalLevels'])){fc['filterLevel']=fb['api.filterHierarchicalLevels']}fc['ignoreDomain']=fb['api.ignoreDomain']};var fa=this.$t(e,'get-filter-info',eZ);this.$F(e,fa,y.processSingleFilter)},$e:function(e){var eZ=function(fb,fc){};var fa=this.$s(e,'get-selection',eZ);this.$F(e,fa,ss.mkdel(this,this.$w))},$u:function(e,eZ){var fa=new Object;var fb=new tab.DataDictionaryModel(null);fb.update(e);var fc=new tab.VizDataModel(null);fc.update(eZ,tab.NoopModelEventsHandler.get_noopContext());var fd=[];fa.marks=fd;if(ss.isNullOrUndefined(fb)||fb.get_isEmpty()){return fa}fc.forEachTupleId(function(fe){var ff=new Object;ff.tupleId=fe;var fg=[];ff.pairs=fg;fd.push(ff);fc.forEachVizDataField(function(fh,fi){var fj=new Object;fj.fieldName=fh.get_fieldCaption();fj.formattedValue=tab.VizDataLookup.lookupAlias(fe,fh,fb);fj.valueDataType=u.convertDataType(fh.get_dataType());var fk=null;if(!tab.VizDataLookup.isSpecial(fe,fh,fb,null)&&fh.get_hasDataValues()&&fh.isTupleIdValid(fe)){fk=tab.VizDataLookup.lookupRawDataValue(fe,fh,fb)}var fl=o.serializeDataValue(fk,fh.get_dataType());fj.value=fl;fg.push(fj);return true});return true});return fa},$w:function(e){var eZ=e;var fa=eZ.dataDictionary;var fb=eZ.vizData;return this.$u(fa,fb)},$3:function(e){var eZ=function(fb,fc){fc['qualifiedFieldCaption']=fb['api.fieldCaption'];if(ss.isValue(fb['api.filterReset'])&&fb['api.filterReset']){fc['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fb['api.exclude'])){fc['exclude']=fb['api.exclude']}var fd=v.convertFilterUpdateType(fb['api.filterUpdateType'].toString());fc['filterUpdateType']=fd;if(ss.isValue(fb['api.filterHierarchicalValues'])){fc['filterValues']=fb['api.filterHierarchicalValues']}if(ss.isValue(fb['api.filterHierarchicalLevels'])){fc['filterLevels']=fb['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(fb['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(fb['api.filterHierarchicalLevels'])){fc['filterLevels']='[]'}}};var fa=this.$s(e,'hierarchical-filter',eZ);this.$F(e,fa,y.processFilterCommandReturningFieldName)},$4:function(e){var eZ=function(fb,fc){fc['qualifiedFieldCaption']=fb['api.fieldCaption'];if(ss.isValue(fb['api.filterReset'])&&fb['api.filterReset']){fc['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fb['api.filterRangeMax'])){fc['rangeMax']=fb['api.filterRangeMax']}if(ss.isValue(fb['api.filterRangeMin'])){fc['rangeMin']=fb['api.filterRangeMin']}if(ss.isValue(fb['api.filterRangeNullOption'])){if(fb['api.filterRangeNullOption']==='NULL_VALUES'){fc['included']='include-null'.toString()}else if(fb['api.filterRangeNullOption']==='NON_NULL_VALUES'){fc['included']='include-non-null'.toString()}else{fc['included']='include-all'.toString()}}}};var fa=this.$s(e,'range-filter',eZ);this.$F(e,fa,y.processFilterCommandReturningFieldName)},$5:function(e){var eZ=function(fb,fc){fc['qualifiedFieldCaption']=fb['api.fieldCaption'];if(ss.isValue(fb['api.filterReset'])&&fb['api.filterReset']){fc['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fb['api.filterDateArchorValue'])){fc['anchorDate']=fb['api.filterDateArchorValue']}fc['datePeriodType']=fb['api.filterPeriodType'].toLowerCase();fc['dateRangeType']=fb['api.filterDateRangeType'].toLowerCase();if(ss.isValue(fb['api.filterDateRange'])){fc['rangeN']=fb['api.filterDateRange']}}};var fa=this.$s(e,'relative-date-filter',eZ);this.$F(e,fa,y.processFilterCommandReturningFieldName)},$Z:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$Y:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$6:function(e){var eZ=JSON.parse(e.get_parameters());var fa=x.$1();var fb=eZ['api.fieldCaption'];var fc=ss.keyExists(fa,fb);var fd;if(fc){if(fa[fb]==='RD'){var fe=f.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$10.sendResponse(e,fe);return}fd='reset-filter'}else{fd='clear-existing-filter'}var ff=function(fh,fi){fi['qualifiedFieldCaption']=fb};var fg=this.$s(e,fd,ff);this.$F(e,fg,y.processFilterCommandReturningFieldName)},$2:function(e){var eZ=function(fb,fc){fc['qualifiedFieldCaption']=fb['api.fieldCaption'];if(ss.isValue(fb['api.filterReset'])&&fb['api.filterReset']){fc['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fb['api.exclude'])){fc['exclude']=fb['api.exclude'].toString()}var fd=v.convertFilterUpdateType(fb['api.filterUpdateType'].toString());fc['filterUpdateType']=fd;if(ss.isValue(fb['api.filterCategoricalValues'])){fc['filterValues']=JSON.stringify(fb['api.filterCategoricalValues'])}else{fc['filterValues']='[""]'}}};var fa=this.$s(e,'categorical-filter',eZ);this.$F(e,fa,y.processFilterCommandReturningFieldName)},$0:function(e,eZ){var fa=new ss.StringBuilder;fa.append('[');for(var fb=0;fb<e.length;fb++){if(fb>0){fa.append(',')}fa.append('{');fa.append('"'+'qualifiedFieldCaption'.toString()+'":');fa.append('"'+e[fb]+'"');fa.append(',');fa.append('"'+'selectValues'.toString()+'":');fa.append(eZ[fb]);fa.append('}')}fa.append(']');return fa.toString()},$1:function(e,eZ){var fa=new ss.StringBuilder;fa.append('[');for(var fb=0;fb<e.length;fb++){if(fb>0){fa.append(',')}fa.append('{');fa.append('"'+'qualifiedFieldCaption'+'":');fa.append('"'+e[fb]+'"');fa.append(',');var fc=JSON.parse(eZ[fb]);var fd=JSON.parse(fc[0]);if(ss.isValue(fd['max'])){fa.append('"'+'maxValue'+'":');fa.append('"'+fd['max'].toString()+'"')}if(ss.isValue(fd['min'])){if(ss.isValue(fd['max'])){fa.append(',')}fa.append('"'+'minValue'.toString()+'":');fa.append('"'+fd['min'].toString()+'"')}if(ss.isValue(fd['nullOption'])){var fe=this.$Y(fd['nullOption'].toString());fa.append(',');fa.append('"'+'included'.toString()+'":');fa.append('"'+fe+'"')}fa.append('}')}fa.append(']');return fa.toString()},$j:function(e){var eZ=this.$s(e,'get-summary-data',C.$3);this.$F(e,eZ,C.processSummaryData)},$l:function(e){var eZ=this.$s(e,'get-underlying-data',C.$4);this.$F(e,eZ,C.$6)},$7:function(e){var eZ=function(fb,fc){};var fa=this.$t(e,'select-none',eZ);this.$F(e,fa,x.$3)},$m:function(e){var eZ=function(fb,fc){fc['qualifiedFieldCaption']=fb['api.fieldCaption'];fc['objectTextIds']=fb['api.ObjectTextIDs']};var fa=this.$s(e,'highlight-items',eZ);this.$F(e,fa,x.$3)},$n:function(e){var eZ=function(fb,fc){fc['qualifiedFieldCaption']=fb['api.fieldCaption'];fc['valueString']=fb['api.Pattern']};var fa=this.$s(e,'highlight-items-by-pattern-match',eZ);this.$F(e,fa,x.$3)},$c:function(e){var eZ=function(fb,fc){};var fa=this.$s(e,'get-highlighted-data',eZ);this.$F(e,fa,ss.mkdel(this,this.$v))},$v:function(e){var eZ=e;var fa=eZ.dataDictionary;var fb=eZ.vizData;return this.$u(fa,fb)},$C:function(e){var eZ=ss.mkdel(this,function(fb,fc){if(tab.MiscUtil.isNullOrEmpty$2(fb)){fc['selectionUpdateType']='select-replace'.toString()}else{fc['selectionUpdateType']=this.$Z(fb['api.filterUpdateType'].toString());if(ss.isValue(fb['api.categoricalFieldCaption'])&&ss.isValue(fb['api.categoricalMarkValues'])){var fd=JSON.parse(fb['api.categoricalFieldCaption']);var fe=JSON.parse(fb['api.categoricalMarkValues']);var ff=this.$0(fd,fe);fc['dimensionValueSelectionModels']=ff}if(ss.isValue(fb['api.hierarchicalFieldCaption'])&&ss.isValue(fb['api.hierarchicalMarkValues'])){var fg=JSON.parse(fb['api.hierarchicalFieldCaption']);var fh=JSON.parse(fb['api.hierarchicalMarkValues']);var fi=this.$0(fg,fh);fc['hierarchicalValueSelectionModels']=fi}if(ss.isValue(fb['api.rangeFieldCaption'])&&ss.isValue(fb['api.rangeMarkValues'])){var fj=JSON.parse(fb['api.rangeFieldCaption']);var fk=JSON.parse(fb['api.rangeMarkValues']);var fl=this.$1(fj,fk);fc['quantativeRangeSelectionModels']=fl}if(ss.isValue(fb['api.tupleIds'])){var fm=new ss.StringBuilder;fm.append('{');fm.append('"'+'selectionType'+'":');fm.append('"tuples"');fm.append(',');fm.append('"'+'objectIds'+'":');fm.append(fb['api.tupleIds']);fm.append('}');fc['selection']=fm.toString()}}});var fa=this.$s(e,'select-by-value',eZ);this.$F(e,fa,x.$4)},$8:function(e){var eZ=function(fb,fc){};var fa=this.$t(e,'select-none',eZ);this.$F(e,fa,x.$4)},$9:function(){var e=this.$11.get_customViewsViewModel();var eZ=e.get_currentCustomView();var fa=null;if(ss.isValue(eZ)){fa=o.serializeCustomView(e.get_currentCustomView(),e.buildUrl(e.get_currentCustomView(),true))}var fb=[];var fc=this.$11.get_customViewsViewModel().get_myCustomViews();var fd=ss.getEnumerator(fc);try{while(fd.moveNext()){var fe=fd.current();var ff=e.buildUrl(fe,true);var fg=o.serializeCustomView(fe,ff);fb.push(fg)}}finally{fd.dispose()}var fh=this.$11.get_customViewsViewModel().get_otherCustomViews();var fi=ss.getEnumerator(fh);try{while(fi.moveNext()){var fj=fi.current();var fk=e.buildUrl(fj,true);var fl=o.serializeCustomView(fj,fk);fb.push(fl)}}finally{fi.dispose()}return w.newCustomViewsInfo(this.$12,e.get_defaultCustomViewId(),fa,fb)},$b:function(e){this.$11.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(eZ,fa){var fb=f.$0('api.success',this.$9());this.$10.sendResponse(e,fb)}),ss.mkdel(this,function(eZ){var fa=f.$0('api.remotefailed',eZ);this.$10.sendResponse(e,fa)}))},$J:function(e){var eZ=JSON.parse(e.get_parameters());var fa=null;if(ss.isValue(eZ['api.customViewParam'])){var fb=eZ['api.customViewParam'];fa=o.convertToCustomizedView(fb)}this.$11.get_customViewsViewModel().select(fa)},$z:function(e){var eZ=JSON.parse(e.get_parameters());var fa=eZ['api.customViewParam'];var fb=o.convertToCustomizedView(fa);this.$11.get_customViewsViewModel().destroy(fb,ss.mkdel(this,function(){var fc=f.$0('api.success',this.$9());this.$10.sendResponse(e,fc)}),ss.mkdel(this,function(fc){var fd=f.$0('api.remotefailed',fc);this.$10.sendResponse(e,fd)}))},$W:function(e){var eZ=JSON.parse(e.get_parameters());var fa=eZ['api.customViewParam'];var fb=o.convertToCustomizedView(fa);this.$11.get_customViewsViewModel().update(fb,ss.mkdel(this,function(fc){var fd=f.$0('api.success',this.$9());this.$10.sendResponse(e,fd)}),ss.mkdel(this,function(fc){var fd=f.$0('api.remotefailed',fc);this.$10.sendResponse(e,fd)}))},$q:function(e){this.$11.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(eZ){var fa=f.$0('api.success',this.$9());this.$10.sendResponse(e,fa)}),ss.mkdel(this,function(eZ){var fa=f.$0('api.remotefailed',eZ);this.$10.sendResponse(e,fa)}))},$B:function(e){var eZ=JSON.parse(e.get_parameters());var fa=eZ['api.customViewName'];this.$11.get_customViewsViewModel().save(fa,ss.mkdel(this,function(fb){var fc=this.$9();fc.newView=o.serializeCustomView(fb,this.$11.get_customViewsViewModel().buildUrl(fb,false));var fd=f.$0('api.success',fc);this.$10.sendResponse(e,fd)}),ss.mkdel(this,function(fb){var fc=f.$0('api.remotefailed',fb);this.$10.sendResponse(e,fc)}))},$f:function(e){var eZ=JSON.parse(e.get_parameters());var fa=eZ['api.dataSourceName'];var fb=eZ['api.worksheetName'];var fc={};var fd=tab.CommandUtils.newCommand('get-schema',fc);var fe=function(ff){var fg=ff;var fh=d.$0(fg,fb,fa);return fh.dataSources[0]};this.$F(e,fd,fe)},$g:function(e){var eZ=JSON.parse(e.get_parameters());var fa=eZ['api.worksheetName'];var fb=tab.CommandUtils.newCommand('get-schema',null);var fc=function(fd){var fe=fd;var ff=d.$0(fe,fa,null);return ff};this.$F(e,fb,fc)},$o:function(e){var eZ=JSON.parse(e.get_parameters());var fa=eZ['api.invokeCommandName'];if(fa==='showExportImageDialog'){this.$11.get_toolbarCommands().exportImage()}else if(fa==='showExportDataDialog'){var fb=null;if(ss.isValue('api.invokeCommandParam')){fb=eZ['api.invokeCommandParam']}this.$11.get_toolbarCommands().exportData(fb)}else if(fa==='showExportCrosstabDialog'){var fc=null;if(ss.isValue('api.invokeCommandParam')){fc=eZ['api.invokeCommandParam']}this.$11.get_toolbarCommands().exportCrosstab(fc)}else if(fa==='showExportPDFDialog'){this.$11.get_toolbarCommands().exportPdf()}else if(fa==='pauseAutomaticUpdates'){this.$11.get_toolbarCommands().$3();this.$D(e)}else if(fa==='resumeAutomaticUpdates'){this.$11.get_toolbarCommands().$5();this.$D(e)}else if(fa==='toggleAutomaticUpdates'){this.$T(e)}else if(fa==='showShareDialog'){this.$11.get_toolbarCommands().$d()}else if(fa==='showDownloadWorkbookDialog'){var fd=this.$11.get_applicationPresModel().workbookPresModel.dashboardPresModel;this.$11.get_toolbarCommands().$0(fd.sheetLayoutInfo.downloadLink)}else if(fa==='selectedMarksKeepOnly'){this.$11.get_toolbarCommands().$8()}else if(fa==='selectedMarksExclude'){this.$11.get_toolbarCommands().$7()}},$k:function(e){if(ss.isValue(this.$17)){var eZ=f.$0('api.success',this.$17.get_toolbarState());this.$10.sendResponse(e,eZ)}},$U:function(e){tab.WorksheetServerCommands.undo();var eZ=f.$0('api.success','');this.$10.sendResponse(e,eZ)},$x:function(e){tab.WorksheetServerCommands.redo();var eZ=f.$0('api.success','');this.$10.sendResponse(e,eZ)},$T:function(e){this.$11.get_toolbarCommands().$f();this.$D(e)},$P:function(){this.$11.get_toolbarCommands().$d()},$L:function(){this.$11.get_toolbarCommands().$a()},$Q:function(){this.$11.get_toolbarCommands().$e()},$O:function(){this.$11.get_toolbarCommands().$c()},$K:function(){this.$11.get_toolbarCommands().$9()},$M:function(){this.$11.get_toolbarCommands().$b()},$D:function(e){var eZ=w.newAutoUpdateState(this.$11.get_toolbarCommands().$1());var fa=f.$0('api.success',eZ);this.$10.sendResponse(e,fa)},$I:function(e){var eZ=JSON.parse(e.get_parameters());var fa={};fa['sheet']=eZ['api.setSheetSizeName'];fa['minWidth']=eZ['api.minWidth'];fa['minHeight']=eZ['api.minHeight'];fa['maxWidth']=eZ['api.maxWidth'];fa['maxHeight']=eZ['api.maxHeight'];var fb=tab.CommandUtils.newCommand('set-sheet-size',fa);this.$F(e,fb,null)},$y:function(e){this.$11.get_toolbarCommands().$4();var eZ=f.$0('api.success','');this.$10.sendResponse(e,eZ)},$A:function(e){tab.WorksheetServerCommands.revert();var eZ=f.$0('api.success','');this.$10.sendResponse(e,eZ)},$N:function(e){var eZ=JSON.parse(e.get_parameters());var fa=eZ['api.showHideToolbarValue'];this.$11.set_toolbarDisplayed(fa);this.$11.doResize()},$S:function(e){var eZ=JSON.parse(e.get_parameters());var fa=new Object;fa.oldRepositoryUrl=eZ['api.oldRepositoryUrl'];fa.repositoryUrl=eZ['api.switchToRepositoryUrl'];fa.sheetName=eZ['api.switchToSheetName'];fa.oldSheetName=tsConfig.current_sheet_name;fa.noUndo=true;fa.successCallback=ss.mkdel(this,function(fb){var fc=f.$0('api.success','');this.$10.sendResponse(e,fc)});fa.errorCallback=ss.mkdel(this,function(fb){var fc=f.$0('api.remotefailed',fb);this.$10.sendResponse(e,fc)});E.fireOnTabSelect(fa)},$V:function(e){this.$11.doResize()},$E:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){var eZ=o.serializeClientInfo(this.$11,this.$15);var fa=f.$0('api.success',eZ);this.$10.sendResponse(e,fa)}))},$G:function(e){var eZ=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var fa=f.$0('api.success',eZ);this.$10.sendResponse(e,fa)},$s:function(e,eZ,fa){return this.$r(e,tab.CommandUtils.newCommand(eZ,null),fa)},$t:function(e,eZ,fa){return this.$r(e,tab.CommandUtils.newCommand$1(eZ,null),fa)},$r:function(e,eZ,fa){var fb=JSON.parse(e.get_parameters());var fc=this.$a(fb);eZ.commandParams=fc;fa(fb,fc);return eZ},$a:function(e){var eZ={};if(ss.isValue(e['api.visualId'])){eZ['visualIdPresModel']=JSON.stringify(e['api.visualId'])}else{eZ['worksheet']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){eZ['dashboard']=e['api.dashboardName']}}return eZ},$F:function(e,eZ,fa){eZ.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(eZ,ss.mkdel(this,function(fb){var fc=fb;if(ss.isValue(fa)){fc=fa(fb)}var fd=f.$0('api.success',fc);this.$10.sendResponse(e,fd)}),ss.mkdel(this,function(fb){var fc=f.$0('api.remotefailed',fb);this.$10.sendResponse(e,fc)}))}},null,[ss.IDisposable]);ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{get_eventHandlerAttached:function(){return this.$a},dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(eZ){return this.$1(eZ,function(fa){return fa.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(eZ){return this.$1(eZ,function(fa){return fa.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(eZ){return eZ.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(eZ){return eZ.clickStoryPoint()})},$3:function(e,eZ,fa){A.$0(e,eZ);var fb=JSON.parse(e.get_parameters());var fc=fb['api.storyPointIndex'];if(!ss.isValue(fc)||isNaN(ss.unbox(fc))){throw new ss.Exception('Missing index parameter.')}var fd=this.$0();if(ss.Nullable$1.lt(fc,0)||ss.Nullable$1.ge(fc,ss.count(fd.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var fe=$.Deferred();var ff=ss.getItem(fd.get_captions(),ss.unbox(fc));fa(ff).then(ss.mkdel(this,function(fg){var fh=o.serializeStoryPoint(fg,this.$7);fe.resolve(fh)}),function(fg){fe.reject(fg)});return fe.promise()},$1:function(e,eZ){A.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var fa=this.$0();var fb=$.Deferred();eZ(fa).then(ss.mkdel(this,function(fc){var fd=ss.getItem(fa.get_captions(),fc);var fe=o.serializeStoryPoint(fd,this.$7);fb.resolve(fe)}),function(fc){fb.reject(fc)});return fb.promise()},$4:function(){var e=o.serializeStory(this.$7);var eZ=JSON.stringify(e);this.$b.sendEventNotification('api.StorytellingStateChangedEvent',null,eZ)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(eZ,fa){try{fa(eZ).then(ss.mkdel(this,function(e){var fb=f.$0('api.success',e);this.$b.sendResponse(eZ,fb)}),ss.mkdel(this,function(e){var fb=f.$0('api.remotefailed',e);this.$b.sendResponse(eZ,fb)}))}catch(fb){var e=ss.Exception.wrap(fb);var errorResult1=f.$0('api.localfailed',e.get_message());this.$b.sendResponse(eZ,errorResult1)}}},null,[ss.IDisposable]);ss.initClass(B,a,{get_toolbarState:function(){return this.$1$1},set_toolbarState:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var eZ=f.$0('api.success',this.get_toolbarState());this.$3.sendResponse(e,eZ);this.$3.sendEventNotification('api.ToolbarStateChangedEvent',null,JSON.stringify(this.get_toolbarState()))},$0:function(e,eZ){var fa=e[eZ];return ss.isValue(fa)&&ep.shouldShowButton(fa,this.$5)},$1:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};B.$0(e,this.$5.get_vizCommandItems());B.$0(e,this.$5.get_nonVizCommandItems());var eZ=w.newToolbarStatePM(B.$1(e,'undo'),B.$1(e,'redo'),B.$1(e,'revert'),!B.$2(e,'toggle-updates','Pause'),B.$1(e,'refresh'),this.$0(e,'customviews'),tsConfig.is_metrics_enabled,this.$0(e,'alert'),this.$0(e,'subscribe'),this.$0(e,'share'),this.$0(e,'download'));this.set_toolbarState(eZ);this.$2()}},null,[ss.IDisposable]);ss.initClass(C,a,{});ss.initClass(C,a,{});ss.initClass(D,a,{shouldShowAppBanner:function(){if(!tsConfig.is_mobile||tsConfig.is_mobile_app||!tsConfig.showAppBanner||tsConfig.isPublic||tsConfig.is_authoring||tabBootstrap.Utility.get_isEmbedded()){return false}var e=tab.CookieHelper.getCookie().match(new RegExp('(^|;) ?hideAppBanner=([^;]*)(;|$)'));var eZ=ss.isValue(e)&&e.length>2&&tab.MiscUtil.toBoolean(e[2],false);return!eZ&&tab.FeatureFlags.isEnabled('CustomAppBannerOnVizPage')},createHideAppBannerCookie:function(){var e=new Date;e.setTime(e.getTime()+tab.DateUtil.oneWeek);tab.CookieHelper.setCookie('hideAppBanner=true;path=/;expires='+e.toUTCString())},redirectToApp:function(){var e=tab.WindowHelper.getLocation(window.self);var eZ=ss.replaceAllString(e.href,e.protocol,'tableau:');tab.WindowHelper.locationReplace(window.self,eZ);window.setTimeout(ss.mkdel(this,function(){this.$2()}),1000)},$2:function(){if(tab.BrowserSupport.get_isAndroid()){tab.WindowHelper.locationReplace(window.self,'https://play.google.com/store/apps/details?id=com.Tableau.TableauApp')}else if(tab.BrowserSupport.get_isIos()){if(window.confirm(tab.Strings.RedirectToApp)){tab.WindowHelper.locationReplace(window.self,'https://itunes.apple.com/app/tableau-mobile/id434633927')}}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(E,a,{add_clientChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_clientChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_tabHeight:function(){var e=$(this.get_tabbedNavigation().get_widgetDomNode());return e.outerHeight(true)},get_tabbedNavigation:function(){return this.$1$5},set_tabbedNavigation:function(e){this.$1$5=e},get_rightAreaDrawerViewModel:function(){return this.$1$6},set_rightAreaDrawerViewModel:function(e){this.$1$6=e},get_client:function(){return this.$1$7},set_client:function(e){this.$1$7=e},get_apiEventHandler:function(){return this.$1$8},set_apiEventHandler:function(e){this.$1$8=e},initRightAreaDrawer:function(){if(ss.isValue(this.get_rightAreaDrawerViewModel())){return}this.set_rightAreaDrawerViewModel($.Deferred());tab.ModuleManager.load(tab.ICommentingFactory).call(null,[]).done(ss.mkdel(this,function(e){this.$b(e,this.get_rightAreaDrawerViewModel())}))},$b:function(e,eZ){var fa=ss.mkdel(this,function(){this.get_client().doResize()});var fb=e.createCommentingModuleViewModel();var fc=new dC(fb);fb.set_closeCommentingDrawer(ss.mkdel(fc,fc.closeDrawer));fb.set_loadDrawerFonts(dF.downloadAdditionalDrawerFonts);fb.set_showNotification(db.showNotification);eZ.resolve(fc);fc.add_open(fa);fc.add_close(fa);this.$n.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fc.remove_open(fa);fc.remove_close(fa);tab.MiscUtil.dispose$1(fc);this.set_rightAreaDrawerViewModel(null)})));this.$o=tab.ObjectRegistry.newView(dB).call(null,[fc]);if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.$o.addToDom($(G.rightPanelSelector))}else{this.$1(this.$o)}},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigationWrapper');if(e.length>0){if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim()}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(eZ){var fa=$("<div dojoAttachPoint='tabbed_navigation' class='tabbedNavigation'></div>").get(0);fa.id=(tsConfig.features['IframeSizedToWindow']?'tabs':'tabbedNavigation');e.append(fa);this.set_tabbedNavigation(eZ.createTabbedNavigation({},fa));this.get_tabbedNavigation().startupShim()}))}},dispose:function(){if(!ss.isValue(E.$4)){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().dispose();this.set_apiEventHandler(null)}this.$2();this.$n.dispose();this.$f();this.$p.dispose();if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim();this.set_tabbedNavigation(null)}tab.ApplicationModel.get_instance().get_workbook().remove_dashboardDeleted(ss.mkdel(this,this.$m));tab.ApplicationModel.get_instance().get_workbook().remove_uiModeChanged(ss.mkdel(this,this.$9));E.$4=null},$1:function(e){if(ss.isValue(e)){e.element.insertAfter(this.get_client().get_domNode())}},$m:function(e){this.$2()},$2:function(){if(ss.isNullOrUndefined(this.get_client())){return}this.get_client().destroyRecursive();this.set_client(null);this.$q=null},$3:function(e){tab.SheetClientCommands.switchSheets(e)},$f:function(){if(!E.get_isHostedInApiContext()){return}if(ss.isValue(this.get_apiEventHandler())){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$4),true)}else{var eZ=ss.mkdel(this,this.$4);window.self.detachEvent('onmessage',eZ)}this.set_apiEventHandler(null)}},$c:function(e,eZ){if(!E.get_isHostedInApiContext()){return}this.set_apiEventHandler(new x(e,eZ,tabBootstrap.ViewerBootstrap.get_instance().apiResponder));var fa=window.addEventListener;if(ss.isValue(fa)){fa('message',ss.mkdel(this,this.$4),true)}else{var fb=ss.mkdel(this,this.$4);window.self.attachEvent('onmessage',fb)}},$0:function(){if(!E.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$e),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$e))}},$e:function(e){this.$f()},$5:function(){this.$k();this.$a();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$5))},$7:function(){E.$4.dispose();if(ss.isValue(E.$3)){E.$3.dispose()}E.$5=false},$i:function(){if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){X.get_instance().addCompletedHandler(1,ss.mkdel(this,function(){var e=ss.mkdel(this,function(fa){});var eZ=function(fa){};(new ch).invoke().then(e,eZ)}))}},$j:function(){var e=function(fb){var fc=[];for(var fd=0;fd<fb.length;fd++){var fe=fb[fd];fc.push(bH.toDownloadableFontProperties(fe,''))}dF.get_instance().notifyDownloadableFont(fc)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(function(fb){var fc=!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&fb.get_applicationPresModel().renderMode==='render-mode-client';if(ss.referenceEquals(fb.get_worldUpdateCommand().commandName,'set-active-story-point'.toString())||ss.referenceEquals(fb.get_worldUpdateCommand().commandName,'render-tooltip-server'.toString())||fb.get_sheetChanged()||fb.get_rebuildTheWorld()||fc){E.$2();if(fc){var fd=null;fd=function(){tab.CommandController.get().remove_modelsUpdated(fd);E.handleAllFontsFound()};tab.CommandController.get().add_modelsUpdated(fd)}}});tab.FontNotificationUtil.add_allFontsFound(E.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var eZ=null;eZ=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(eZ);E.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(eZ)}var fa=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){dF.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(fa)});tab.StartupUtils.callAfterBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){E.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(fa)});E.$2()},$a:function(){tabBootstrap.MetricsController.initSessionInfo();tab.MetricsLogger.get_instance().attach()},$4:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().handleEvent(e)}},$6:function(e){this.$l(e);var eZ=tab.CommandController.get().get_legacySession();this.$2();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var fa=E.$0(true,eZ);this.set_client(fa);this.$q=fa;this.get_client().startup();if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}this.$k();if(!tabBootstrap.Utility.get_isEmbedded()){this.$g(e)}},$8:function(e){this.$k();E.handleAllFontsFound()},$k:function(){if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().updateClients(this.get_client(),this.$q)}},$g:function(e){if(tsConfig.is_authoring){this.$h(e.repositoryUrl,e.sheetName)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.repositoryUrl)}},$h:function(e,eZ){if(this.$d(e)){var fa=tab.VizUriModel.createForAuthoringPublishedSheet(e);fa.replaceState(null)}else{var fb=tab.VizUriModel.createForCurrentWindowLocation();if(fb.get_isAuthorNewWorkbookUri()){}else if(tab.MiscUtil.isNullOrEmpty$3(e)){var fc=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,eZ);fc.replaceState(null)}}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$d(e)){var eZ=tab.VizUriModel.createForViewingSheet(e);eZ.replaceState(null)}else{}},$d:function(e){return!tab.MiscUtil.isNullOrEmpty$3(e)&&!ss.startsWithString(e,'ds:')},$l:function(e){tsConfig.current_sheet_name=e.sheetName;tsConfig.current_sheet_type=e.sheetType;tsConfig.current_view_id=e.viewId;if(e.isCurrentCustViewIdValid){tsConfig.current_custom_view_id=e.currentCustomViewId}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.layoutId;tsConfig.embeddedTitle=e.embeddedTitle;tsConfig.blogURI=e.blogLink;tsConfig.requestURI=e.shareLink;tsConfig.downloadURI=e.downloadLink;tsConfig.staticImage=e.staticImage;tsConfig.guid=e.guid;var eZ=e.repositoryUrl;tsConfig.repositoryUrl=(this.$d(eZ)?eZ:'')},$9:function(){if(tab.ApplicationModel.get_instance().get_workbook().get_uiMode()==='data-tab'){spiff.GlobalUIEvents.fireDismissTemporaryElements()}}},null,[ss.IDisposable]);ss.initClass(F,a,{},spiff.Template,[ss.IDisposable]);ss.initInterface(ct,a,{add_scrolled:null,remove_scrolled:null,get_visibleRect:null,appendToDom:null,convertPointFromPageToDashboardCoords:null});ss.initClass(G,a,{add_scrolled:function(e){this.get_dom().domNode[0].addEventListener('scroll',e)},remove_scrolled:function(e){this.get_dom().domNode[0].removeEventListener('scroll',e)},get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$h.get_dashboardNode()},get_containerNode:function(){return this.$h.get_containerNode()},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$e:function(){return this.get_viewModel()},get_visibleRect:function(){return{l:this.get_dom().domNode[0].scrollLeft,t:this.get_dom().domNode[0].scrollTop,w:this.get_dom().domNode[0].clientWidth,h:this.get_dom().domNode[0].clientHeight}},onAddedToDom:function(){if(!this.addedToDom){this.$d();this.$c();this.$a();this.$9();this.$b();spiff.FocusManager.initialize();if(tab.FeatureFlags.isEnabled('MobileQFZoneInteractiveRedesign')){$(document.body).addClass('ff-MobileQFZoneInteractiveRedesign')}if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){$(document.body).addClass('ff-IFrameSizedToWindow')}if(this.$e().get_shouldShowCommenting()){$(document.body).addClass('ff-CommentingPane')}if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){$(document.body).addClass('ff-TouchSmoothTooltips')}}spiff.Widget.prototype.onAddedToDom.call(this)},$d:function(){if(ev.get_toolbarIsBottom()){this.get_toolbarContainer().detach().appendTo($(G.vizContainerSelector))}},resizeToolbar:function(){this.$g.forceResizeToolbar()},resizeAppBanner:function(e){if(ss.isValue(this.$f)){this.$f.get_rootElement().width(e.w)}},$9:function(){if(this.$e().get_appBannerViewModel().shouldShowAppBanner()){this.$f=tab.ObjectRegistry.newView(cr).call(null,[this.$e().get_appBannerViewModel()]);this.$f.get_rootElement().insertBefore(H.selectCenteringContainer()).width(H.getClientBounds().w)}},$c:function(){this.$h=tab.ObjectRegistry.newView(eT).call(null,[this.$e().get_workbookViewModel()]);this.$h.addToDom(this.get_dom().domNode)},$a:function(){if(ss.isNullOrUndefined(this.$e().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$g=tab.ObjectRegistry.newView(eu).call(null,[this.$e().get_toolbarViewModel()]);this.$g.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.VizLayoutConstants.get_vizToolbarHeight())}finally{if(ss.isValue(e)){e.dispose()}}}},$b:function(){if(ss.isNullOrUndefined(this.$e().get_toolbarViewModel())||ss.isNullOrUndefined(this.$e().get_toolbarViewModel().get_dialogHostViewModel())){return}var e=this.$e().get_toolbarViewModel().get_dialogHostViewModel();var eZ=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bE,bD,Object])).call(null,[e]);eZ.addToDom(this.get_toolbarContainer());eZ.addClass('tab-toolbar-dialoghost');if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){$(document.body).addClass('ff-ViewingToolbarModalDialog')}},appendToDom:function(e){e.addToDom(this.get_dom().domNode)},convertPointFromPageToDashboardCoords:function(e){var eZ=tab.DomUtil.toPoint(tab.DomUtil.getPageOffset(this.get_dom().domNode));var fa=tab.PointUtil.subtract(e,eZ);var fb={x:this.get_dom().domNode[0].scrollLeft,y:this.get_dom().domNode[0].scrollTop};var fc=tab.PointUtil.add(fa,fb);return fc}},ss.makeGenericType(spiff.BaseView$1,[I]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[I]),ct]);ss.initInterface(cs,a,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_toolbarCommands:null,get_customViewsViewModel:null,get_dashboardViewport:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(cq,a,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(H,a,{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$v)&&ss.isValue(this.$v.get_dashboardViewModel())){return this.$v.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.zones},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$p().get_isDashboard()},$s:function(){return tabBootstrap.VizLayoutConstants.get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.session},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_viewControllers:function(){var e=this.$o();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$C},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$v)){return this.$v.get_toolbarViewModel()}else{return null}},$r:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(H)+tsConfig.layoutid)},$q:function(){if(ss.isValue(this.$v)&&ss.isValue(this.$v.get_dashboardViewModel())){return this.$v.get_dashboardViewModel().get_flipboardViewModel()}return null},$t:function(){return(ss.isValue(this.$v)?this.$v.get_workbookViewModel():null)},$p:function(){if(ss.isValue(this.$v)){return this.$v.get_dashboardViewModel()}return null},$o:function(){if(ss.isValue(this.$v)){return this.$v.get_contentDashboardViewModel()}return null},get_domNode:function(){return this.$u.get_dom().domNode},get_toolbarContainer:function(){return this.$u.get_toolbarContainer()},get_vizClientContainerSize:function(){var e=document.getElementById('viz-client-container');return{w:e.clientWidth,h:e.clientHeight}},get_dashboardViewport:function(){return this.$u},startup:function(){this.$v=new I(tab.ApplicationModel.get_instance());this.$u=tab.ObjectRegistry.newView(G).call(null,[this.$v]);this.$v.add_applicationUpdate(ss.mkdel(this,this.$h));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_applicationUpdate(ss.mkdel(this,this.$h))})));this.setupDomAndEvents();if(this.$v.get_shouldShowRightAreaDrawer()){E.get_instance().initRightAreaDrawer()}this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$C.dispose();this.$C=null;for(var e=0;e<this._connections.length;e++){var eZ=this._connections[e];eZ.dispose()}ss.clear(this._connections);if(ss.isValue(this.$v)){this.$v.dispose();this.$v=null}$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$u.dispose();this.$u=null;this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$B++}this.$k(!this.$w)},$6:function(e){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(ss.mkdel(this,function(eZ){var fa=eZ.createSpiffPdfExportDialog(this.get_session(),tsConfig.is_mobile);e(fa)}))},resize:function(e){if(!e&&ss.isValue(this.$z)){var eZ=null;if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')||tsConfig.isPublic){eZ=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type)}else{eZ=this.get_vizClientContainerSize()}if(eZ.w===this.$z.w&&eZ.h===this.$z.h){this.$y=false;return}if(this.$y){this.$z=eZ;this.$y=false;return}this.$y=true}else{this.$y=false}this.doResize()},$a:function(){tab.CommandController.get().resetInvalidationHandlers();tab.CommandController.get().add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);this._connections.push(new tab.CallOnDispose(function(){tab.CommandController.get().remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls)}));tab.CommandController.get().add_onInvalidation(ss.mkdel(this,this.$g));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onInvalidation(ss.mkdel(this,this.$g))})));tab.CommandController.get().add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$e));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$e))})))},$i:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$u.get_dashboardNode().get(0))||ss.referenceEquals(e.target,this.$u.get_containerNode().get(0))||ss.referenceEquals(e.target,eT.findDashboardContainer().get(0))){tab.SelectionClientCommands.clearActiveZone()}return}if(ss.isValue(e.target)){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$u.get_dashboardNode().get(0))||$(e.target).hasClass('wcLayoutContainer')){var eZ=tab.ModelUtils.findActiveOrDefaultVisual();if(ss.isValue(eZ)){tab.SelectionClientCommands.clearAllSelections(eZ.get_visualId())}e.preventDefault()}}},setupDomAndEvents:function(){$('html').attr('lang',tsConfig.language).toggleClass('ie',tab.BrowserSupport.get_isIE());var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$(G.applicationContainerSelector):$('#centeringContainer'));e.append(this.get_domNode());var eZ=new m;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$f)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(eZ,eZ.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(eZ,eZ.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));eZ.$6(ss.mkdel(this,this.$i));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){eZ.$7(ss.mkdel(this,this.$i))})));this.$u.onAddedToDom();tab.BaseSession.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$n();tab.BaseSession.linkTarget=tsConfig.linktarget;tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$7));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$7))})));this.$a();this.$t().add_newDashboard(ss.mkdel(this,this.sizeVizContainerToZoomInMobileEmbedMode));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$t().remove_newDashboard(ss.mkdel(this,this.sizeVizContainerToZoomInMobileEmbedMode))})))},sizeVizContainerToZoomInMobileEmbedMode:function(){if(tsConfig.is_mobile_device&&!tsConfig.isVizPortal&&!tsConfig.isPublic&&ss.isValue(this.get_vizSize())){this.sizeVizContainerToVizSize()}},sizeVizContainerToVizSize:function(){$(G.vizContainerSelector).css({width:this.get_vizSize().w+'px',height:this.get_vizSize().h+tabBootstrap.VizLayoutConstants.get_tabsHeight()+tabBootstrap.VizLayoutConstants.get_displayToolbarHeight()+'px'})},$7:function(){tab.ToolbarServerCommands.launchEditing()},$9:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$h:function(){if(ss.isNullOrUndefined(this.$p())){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,this.$n));if(!this.get_skipInit()&&!this.$x){tab.BaseSession.get_waitHandler().onNextHide(ss.mkdel(this,this.$8));this.$l()}this.$x=true;if(!this.$s()){this.$c()}this.$u.resizeAppBanner(H.getClientBounds());this.resize(false)},$n:function(){},$l:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$9())}},$f:function(e){var eZ=$(e.target);if(eZ.filter('input[type=text]').length===0&&eZ.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$e:function(){E.get_instance().initTabbedNavigation();this.$z=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type));if(this.$B>1){this.$m()}},$g:function(e){var eZ=e.layoutStatus;this.set_invalid(!ss.isNullOrUndefined(eZ.invalidatedLayout)&&eZ.invalidatedLayout);if(ss.isValue(eZ.vizStateList)&&eZ.vizStateList.length>0){var fa=[];for(var fb=0;fb<eZ.vizStateList.length;fb++){var fc=eZ.vizStateList[fb];if(!ss.contains(fa,fc.sheet)&&fc.vizRegionRectList.length>0){fa.push(fc.sheet)}}var fd=this.get_viewControllers();for(var fe=0;fe<fa.length;fe++){var ff=fa[fe];var fg={$:ff};var fh=_.find(fd,ss.mkdel({name:fg},function(fi){return ss.referenceEquals(fi.get_sheetName(),this.name.$)}));if(ss.isValue(fh)){fh.$1(e)}}}},$k:function(e){var eZ=(e?0:1000);this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$A=window.setTimeout(ss.mkdel(this,this.$j),eZ)},$j:function(){if(!tab.BaseSession.get_waitHandler().isBusy()&&(!this.$w||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$v)){this.$b();return}this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$A=window.setTimeout(ss.mkdel(this,this.$j),100)},$b:function(){var e=tab.FeatureFlags.isEnabled('IframeSizedToWindow');this.$z=(e?this.get_vizClientContainerSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type));if(tsConfig.isPublic){var eZ=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(G.vizContainerSelector).css({width:eZ.w+'px',height:eZ.h+'px'})}this.$m();tab.CommandController.get().refreshLayout();this.$c();var fa=E.get_instance().get_tabbedNavigation();if(this.$s()&&ss.isValue(fa)){if(tsConfig.is_mobile_app){var fb=(e?this.get_vizClientContainerSize().w:H.getClientBounds().w);fa.get_widgetDomNode().style.width=fb+'px';if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){fa.get_widgetDomNode().style.maxWidth=$('body').width()+'px'}}fa.resizeShim()}this.$w=true},$c:function(){var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize().w:H.getClientBounds().w);if(ss.isValue(this.$D)&&this.$D===e){return}this.$D=e;{var eZ=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){if(ev.get_toolbarIsBottom()&&!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_domNode().after(this.get_toolbarContainer())}this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile_app){this.get_toolbarContainer().css('width',this.$D+'px');if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){this.get_toolbarContainer().css('max-width',tab.DoubleUtil.roundToInt($('body').width()))}}else if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){if(ev.get_toolbarIsBottom()||!this.$s()){this.get_toolbarContainer().css('max-width',this.$D+'px')}this.$u.resizeToolbar()}}}finally{if(ss.isValue(eZ)){eZ.dispose()}}}},$m:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()||this.skipInit&&!this.$w){return}var e=null;if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){e=tab.DashboardSizeCalculator.asSizePresModel(tab.DashboardSizeCalculator.get_dashboardViewportSize())}else{var eZ=H.getClientBounds();e={w:eZ.w,h:eZ.h}}tab.SheetClientCommands.setPortSize(e)},$d:function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPINT'.toString();var eZ=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(eZ);tab.BrowserSupport.sendCommandWithContext('tableau.responsive')},$8:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$d();var eZ=$('#staticImage');var fa=$('#loadingGlassPane');var fb=$('#loadingSpinner');var fc=$('#svg-spinner-container');if(tsConfig.animateTransition){tab.BaseSession.get_waitHandler().loadingElementFadeOut(fb,e,function(fd){fd.hide();fc.css('background','rgba(255,255,255,0.6)')});tab.BaseSession.get_waitHandler().loadingElementFadeOut(fa,e,function(fd){fd.hide().css('cursor','default')});if(eZ.length>0){tab.BaseSession.get_waitHandler().loadingElementFadeOut(eZ,e,function(fd){fd.hide()})}}else{fb.hide();eZ.hide();fa.hide()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cs,cq]);ss.initClass(I,a,{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$8.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$8.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$8},get_appBannerViewModel:function(){return this.$5},get_toolbarViewModel:function(){return this.$7},get_shouldShowCommenting:function(){var e=!tsConfig.is_authoring&&!tsConfig.is_mobile_app&&tsConfig.commentingEnabled&&tab.FeatureFlags.isEnabled('CommentingPane')&&tab.FeatureFlags.isEnabled('CommentingOnSingleVizWithContext')&&tsConfig.allow_commenting&&tsConfig.allow_view_comments;return e},get_shouldShowRightAreaDrawer:function(){return this.get_shouldShowCommenting()},$3:function(){tab.CommandController.get().get_legacySession().performPostLoadOperations(tsConfig.current_sheet_name,ss.mkdel(this,this.$4))},dispose:function(){if(ss.isValue(this.$7)){this.$7.dispose()}this.$5.dispose();this.$2();this.$6.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$2();this.$8=new eU(e)},$2:function(){if(ss.isValue(this.$8)){this.$8.dispose();this.$8=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){var eZ=e;if(ss.isValue(eZ['viewCount'])){this.get_toolbarViewModel().set_viewCount(parseInt(eZ['viewCount'],10))}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(J,a,{$c:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},$d:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$a:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},$b:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},dismiss:function(){this.element.remove()},$8:function(){this.$9.label.text(tab.Strings.AreYouSureText);var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$6),tab.Strings.AreYouSureCancel,null,2,null);this.disposables.add$1(e);this.$9.cancelButton.append(e.element);var eZ=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$7),tab.Strings.AreYouSureDelete,null,1,null);this.disposables.add$1(eZ);this.$9.confirmButton.append(eZ.element)},$6:function(){this.dismiss();if(ss.isValue(this.$2$2)){this.$2$2()}},$7:function(){this.dismiss();if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(K,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(N,a,{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},onAuthDialogMessage:function(e,eZ){if(ss.isNullOrUndefined(e)){return}var fa=e;var fb=fa.data.toString();if(ss.isNullOrEmptyString(fb)||!ss.equalsT(fb,'tableau.authCompleted')){return}if(!ss.equalsT(tab.BrowserSupport.getOrigin(document.location),fa.origin)){return}this.cleanup(eZ);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});ss.initClass(M,a,{cleanup:function(e){var eZ=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(eZ)){eZ.parentElement.removeChild(eZ)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}},dispose:function(){this.cleanup(null)}},N,[ss.IDisposable]);ss.initClass(L,a,{show:function(){this.createOverlay();var e=new bW;var eZ=ss.mkdel(this,function(){this.cleanup(e)});eW.add_zoneBecameValid(eZ);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){eW.remove_zoneBecameValid(eZ)});var fa=ss.mkdel(this,function(fc){this.onAuthDialogMessage(fc,e)});e.eventHandler=fa;var fb=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(fb);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(fb)});tab.WindowHelper.addListener(window.self,'message',fa)},createOverlay:function(){var e=$('.dashboardSpacer');var eZ=$("<div id='auth-overlay'></div>");if(tab.FeatureFlags.isEnabled('DataToTheWebSheetReconnect')){this.$1(eZ)}else{this.$0(eZ)}e.append(eZ)},$0:function(e){var eZ=document.createElement('iframe');eZ.setAttribute('src',this.$2);eZ.setAttribute('tb-test-id','dse-frame');e.append(eZ)},$1:function(e){var eZ={connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption};ReactDOM.render(React.createElement(ss.makeGenericType(dM,[Object]),eZ),e.get(0))}},M,[ss.IDisposable]);ss.initClass(O,a,{dispose:function(){if(ss.isValue(this.parentNode)){ReactDOM.unmountComponentAtNode(this.parentNode);this.parentNode.remove()}}},null,[ss.IDisposable]);ss.initInterface(cy,a,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(Q,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-simpleFontLoader','@font-face',fa.toCSSRules())}},downloadFonts:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},finishDownloadingFonts:function(){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$0()}))},$0:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[cy]);ss.initClass(R,a,{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var eZ={x:e.x,y:e.y};R.$0(eZ);eZ.y-=this.$0.t;eZ.x-=this.$0.l;return eZ},getVisibleRoom:function(e,eZ){var fa=this.translatePositionToViewport(e);var fb=function(fg){return Math.max(0,fg-eZ)};var fc=fb(Math.min(this.get_dimensions().w-fa.x,window.pageXOffset+window.innerWidth-e.x));var fd=fb(Math.min(fa.x,e.x));var fe=fb(Math.min(fa.y,e.y));var ff=fb(Math.min(this.get_dimensions().h-fa.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:fe,roomBelow:ff,roomLeft:fd,roomRight:fc}},getDocumentViewport:function(e){var eZ=this.getVisibleRoom(e,0);return{l:ss.Int32.trunc(e.x-eZ.roomLeft),t:ss.Int32.trunc(e.y-eZ.roomAbove),w:ss.Int32.trunc(eZ.roomLeft+eZ.roomRight),h:ss.Int32.trunc(eZ.roomAbove+eZ.roomBelow)}}},null,[tab.IBrowserViewport]);ss.initClass(S,a,{get_renderOffset:function(){return this.$7},set_renderOffset:function(e){this.$7=e;this.get_currentContext().translate(-this.$7.x,-this.$7.y)},get_currentCanvas:function(){return(this.$6?this.$3:this.$0)},get_currentContext:function(){return(this.$6?this.$4:this.$1)},get_visibleRect:function(){if(ss.isValue(this.cachedVisibleRect)){return this.cachedVisibleRect}var e=S.$5(this.get_currentCanvas(),this.get_currentCanvas().width);var eZ=S.$4(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$7.x,y:this.$7.y,w:e,h:eZ}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$6=false;this.$4=null;this.$3=null;this.get_currentContext().reset();this.$7={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$7=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$6){return}if(ss.isValue(e)){this.$2=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$2=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$3)){this.$3=document.createElement('canvas');var eZ={w:this.$0.width,h:this.$0.height};var fa={w:S.$5(this.$0,0),h:S.$4(this.$0,0)};T.densifyCanvasUsingSize(this.$3,eZ,fa)}if(ss.isNullOrUndefined(this.$4)){this.$4=S.getRenderContext(this.$3,'transparent')}else{this.$4.reset()}var fb=this.$0.width/S.$5(this.$0,this.$0.width);if(fb!==1){T.scaleCanvasDrawing(this.$4,fb)}this.$4.setTransform(this.$1.get_transformation());this.$6=true;var fc=tab.RectXYUtil.outsetRect(this.$2,1,1);tab.RectXYUtil.intersectInPlace(fc,this.get_visibleRect());this.clearRect(fc)},endOffScreenRender:function(e){if(!this.$6){return}this.$6=false;this.$1.save();this.$1.set_alpha(e);this.$1.resetTransform();if(ss.isNullOrUndefined(this.$2)){this.$1.drawImage1(this.$3,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$2)){var eZ=this.$1.pixelRatio;var fa=Math.max(0,Math.floor((this.$2.x-this.$7.x)*eZ));var fb=Math.max(0,Math.floor((this.$2.y-this.$7.y)*eZ));var fc=Math.min(this.$0.width,Math.ceil(this.$2.w*eZ));var fd=Math.min(this.$0.height,Math.ceil(this.$2.h*eZ));this.$1.drawImage5(this.$3,fa,fb,fc,fd,fa,fb,fc,fd)}this.$1.restore()},renderFilledRectangle:function(e,eZ,fa,fb,fc){var fd=fa/2;var fe=fb/2;var ff=this.get_currentContext();ff.set_shapeFillStyle(fc);ff.fillRect(e-fd,eZ-fe,fa,fb)},renderFilledWedge:function(e,eZ,fa,fb,fc,fd,fe){var ff=S.toCanvasAngle(fb);var fg=S.toCanvasAngle(fc);if(Math.abs(fg-ff)<S.angleEpsilon){return}if(ss.isNullOrUndefined(fe)){fe=false}var fh=this.get_currentContext();fh.beginPath();fh.moveTo(e,eZ);ff=S.$6(ff);fg=S.$6(fg);fh.arc(e,eZ,fa,ff,fg,fe);fh.closePath();fh.set_shapeFillStyle(fd);fh.fill()},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(fb){}}var eZ=[];e.forEach(ss.mkdel(this,function(fb,fc){var fd=true;var fe=fb.v[(fb.c?0:0)];for(var ff=1;ff<fb.length;++ff){if(!ss.referenceEquals(fe,fb.v[(fb.c?0:ff)])){fd=false;break}}if(fd){this.setTextStyleProperty(fc,fe)}else if(fc!=='text_style_color'){eZ.push(fc)}}));var fa=ss.mkdel(this,function(fb){for(var fc=0;fc<eZ.length;fc++){var fd=eZ[fc];var fe=e.get(fd);this.setTextStyleProperty(fd,fe.v[(fe.c?0:fb)])}});return fa},setTextStyleProperty:function(e,eZ){switch(e){case'font':{this.get_currentContext().set_font(eZ);break}case'text_orientation':{this.get_currentContext().set_textAngle(eZ);break}case'text_alignment':{this.get_currentContext().set_textAlign(eZ);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!eZ);break}default:{break}}},renderText:function(e,eZ,fa,fb,fc,fd){if(fd&&ss.isValue(this.$5)&&this.$5.$0(eZ,fa)){var fe=this.$5.$1(eZ,fa);eZ=fe.x;fa=fe.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(fc)){this.get_currentContext().set_textFillStyle(fc)}if(fb>0){if(!fd){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,eZ,fa,fb)}else{this.get_currentContext().fillText1(e,eZ,fa)}if(fd){var ff=this.get_currentContext().measureText(e).width;var fg=this.get_currentContext().get_textAlign()==='end';var fh=this.get_currentContext().get_textAngle();var fi;if(fh>1){fi='down'}else if(fh<-1){fi='up'}else{fi='horizontal'}this.$5=new j(eZ,fa,ff,fg,fi)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$5=null},strokeCurrentPath:function(e,eZ){var fa=this.get_currentContext();fa.set_lineWidth(e);fa.set_strokeStyle(eZ);fa.stroke()},fillCurrentPath:function(e){var eZ=this.get_currentContext();eZ.set_shapeFillStyle(e);eZ.fill()}});ss.initClass(T,a,{});ss.initClass(U,a,{},ss.EventArgs);ss.initClass(V,a,{showAlertDialog:function(e,eZ,fa,fb){if(tab.FeatureFlags.isEnabled('DetailedErrorDialogWeb')&&fa){this.showErrorDialog(e,eZ,fb)}else{var fc=V.$0();var fd={content:e,title:eZ,contentSelectable:fa,onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fc)},additionalLinks:fb};if(fa){W.$1(eZ,e,fb)}var fe=React.createElement(dR,fd);ReactDOM.render(fe,fc);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fc)})))}},showConfirmationDialog:function(e,eZ,fa,fb,fc){var fd=V.$0();var fe={content:e,title:eZ,contentSelectable:fa,dialogButtons:[],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fd)}};if(fa){W.$1(eZ,e,null)}fe.dialogButtons.push({buttonClickHandler:fb,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});fe.dialogButtons.push({buttonClickHandler:fc,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var ff=React.createElement(dR,fe);ReactDOM.render(ff,fd);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fd)})))},showErrorDialog:function(e,eZ,fa){if(tab.FeatureFlags.isEnabled('DetailedErrorDialogWeb')){W.$1(eZ,e,fa);bC.showDetailedErrorDialog(e,eZ,fa,null)}else{var fb=V.$0();var fc={content:e,title:eZ,contentSelectable:true,dialogButtons:[{buttonClickHandler:null,buttonText:tab.Strings.DialogButtonOK,testId:'OKBtn',buttonType:2}],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fb)},dialogWidth:250};W.$1(eZ,e,null);var fd=React.createElement(dR,fc);ReactDOM.render(fd,fb);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fb)})))}},showSheetAuthenticationOverlay:function(e,eZ){W.$0('AuthenticationOverlay',e);var fa=new L(e,eZ);fa.show();this.$1.add$1(fa)},showGenericDataSourceErrorOverlay:function(e,eZ){W.$0('GenericErrorOverlay',e);var fa=new cf(e,eZ);fa.show();this.$1.add$1(fa)},showSheetAuthenticationDialog:function(e,eZ){W.$0('AuthenticationDialog',e);var fa=new bz(e,eZ);fa.show();this.$1.add$1(fa)},showGenericDataSourceErrorDialog:function(e,eZ){W.$0('GenericErrorDialog',e);var fa=new ce(e,eZ);fa.show();this.$1.add$1(fa)},showFileDownloadDialog:function(e,eZ,fa,fb){var fc=new bJ(e,eZ,fa,fb);fc.show();this.$1.add$1(fc)},showConnectionMissingFileDialog:function(e,eZ,fa){var fb=$.Deferred();var fc=new ba(e,eZ,fa);fc.add_handled(function(fd){fb.resolve(fd)});fc.show();this.$1.add$1(fc);return fb.promise()},showEditConnectionInformationDialog:function(e){var eZ=new bR(e);eZ.show();this.$1.add$1(eZ)},dispose:function(){this.$1.dispose()},$0:function(e){ReactDOM.unmountComponentAtNode(e);e.remove()}},null,[ss.IDisposable,tab.ICommonDialogProvider]);ss.initClass(W,a,{});ss.initClass(X,a,{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new Z(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,eZ){var fa=null;fa=ss.mkdel(this,function(){if(!ss.staticEquals(eZ,null)){eZ()}this.$1[e]=ss.delegateRemove(this.$1[e],fa)});this.$1[e]=ss.delegateCombine(this.$1[e],fa)}});ss.initEnum(Y,a,{unspecified:0,twoPassRendering:1});ss.initClass(Z,a,{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}},null,[ss.IDisposable]);ss.initClass(ba,a,{add_handled:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_handled:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},show:function(){this.parentNode=document.createElement('div');var e={key:'ConnectionMissingFileDialog',content:tab.Strings.ConnectionMissingFileDialogText(this.$3),title:tab.Strings.ConnectionMissingFileDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,function(){ReactDOM.unmountComponentAtNode(this.parentNode)})};e.dialogButtons.push({buttonClickHandler:this.$4,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:ss.mkdel(this,function(){this.$2$1(false)}),buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var eZ=React.createElement(dR,e);ReactDOM.render(eZ,this.parentNode)},$0:function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(e){e.showReplaceFileDialog(this.$2,this.$1).done(ss.mkdel(this,function(eZ){this.$2$1(eZ)}))}))}},O,[ss.IDisposable]);ss.initClass(bb,a,{handleWidgetPropertyChanged:function(e,eZ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[be,bc,Object]));ss.initClass(bc,a,{});ss.initClass(bd,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(be,a,{get_dom:function(){return this.get_template()},dispose:function(){this.get_viewModel().exitManageMode();this.get_viewModel().remove_customViewListChanged(ss.mkdel(this,this.$P));ss.makeGenericType(spiff.BaseView$1,[bf]).prototype.dispose.call(this)},$a:function(){this.$k();this.$f();this.$g();this.$e()},$k:function(){var e=tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height);this.get_dom().saveViewArea.empty();if(this.get_viewModel().get_mode()===bf.modeSelect){if(tsConfig.allow_custom_view_save){var eZ=$('<span/>').addClass('tab-cv-viewNameInputWrapper');this.$15=this.$r();eZ.append(this.$15.get_inputElement());this.$14=this.$q();eZ.append(this.$14.element);this.get_dom().saveViewArea.append(eZ);this.$U();if(tsConfig.allow_custom_view_default){this.$X=this.$o(tab.Strings.ToolbarCustomViewsMakeItMyDefault,this.get_viewModel().$h());this.get_dom().saveViewArea.append(this.$X.element)}if(tsConfig.allow_custom_view_share){this.$12=this.$o(tab.Strings.ToolbarCustomViewsShareItWithOthers,this.get_viewModel().$i());this.get_dom().saveViewArea.append(this.$12.element)}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextSelect))}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextManage))}if(ss.isValue(e)){var fa=ss.coalesce(tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height),0);this.get_dom().saveViewArea.height(Math.max(ss.unbox(e),fa)+'px')}},$f:function(){this.get_dom().myViewsTitle.text(tab.Strings.ToolbarCustomViewsMyViews);this.get_dom().myViewsListArea.empty();if(ss.count(this.get_viewModel().get_myCustomViews())>0){var e=ss.getEnumerator(this.get_viewModel().get_myCustomViews());try{while(e.moveNext()){var eZ=e.current();var fa=this.$9(eZ,false);this.$10[ss.unbox(eZ.id)]=fa;this.$V(eZ);this.get_dom().myViewsListArea.append(fa)}}finally{e.dispose()}}else{this.$R(this.get_dom().myViewsListArea)}},$g:function(){this.get_dom().otherViewsTitle.text(tab.Strings.ToolbarCustomViewsOtherViews);this.get_dom().otherViewsListArea.empty();var e=this.$9(null,true);this.$11=e;this.$V(null);this.get_dom().otherViewsListArea.append(e);var eZ=ss.getEnumerator(this.get_viewModel().get_otherCustomViews());try{while(eZ.moveNext()){var fa=eZ.current();var fb=this.$9(fa,true);this.$10[ss.unbox(fa.id)]=fb;this.$V(fa);this.get_dom().otherViewsListArea.append(fb)}}finally{eZ.dispose()}},$e:function(){if(!tsConfig.allow_custom_view_default&&!tsConfig.allow_custom_view_save){this.get_dom().manageModeControlArea.hide();return}this.$Y=this.$b();this.get_dom().manageModeControlArea.append(this.$Y.element);this.$Z=this.$c();this.get_dom().manageModeControlArea.append(this.$Z.element);this.$T();this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$J));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$J))})))},$r:function(){var e=spiff.TextInputView.newTextInputView(this.get_viewModel().$k(),tab.Strings.ToolbarCustomViewsViewNamePlaceholder,null,false);e.get_inputElement().attr('maxlength',bf.maxCustomViewNameLength.toString());e.add_propertyChanged(ss.mkdel(this,this.$H));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_propertyChanged(ss.mkdel(this,this.$H))})));e.add_enterKeyPressed(ss.mkdel(this,this.$D));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_enterKeyPressed(ss.mkdel(this,this.$D))})));this.disposables.add$1(e);return e},$q:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$N),tab.Strings.ToolbarCustomViewsSave,null,0,null);this.disposables.add$1(e);return e},$o:function(e,eZ){var fa=spiff.LabelToggleButton.newCheckbox(e,false);fa.set_selected(eZ);this.disposables.add$1(fa);return fa},$R:function(e){var eZ=$('<div/>').addClass('tab-cv-emptyList').text(tab.Strings.ToolbarCustomViewsEmptyPlaceholder);e.append(eZ)},$j:function(e){return $('<div/>').addClass('tab-customViews-saveAreaTitle').text(e)},$9:function(e,eZ){var fa=$('<div/>').addClass('tab-cv-viewListItem');if(eZ){var fb=this.$h(e);fa.addClass('tab-cv-viewListItem-showOwner').append(fb)}else if(tsConfig.allow_custom_view_save){var fc=this.$m(e);fa.append(fc)}var fd=this.$d(e);fa.append(fd);fa.click(ss.mkdel(this,function(fe){this.$I(e)}));return fa},$d:function(e){var eZ=this.$u(e);var fa=$('<div/>').addClass('tab-cv-viewListItem-leftSide');var fb=this.$l(e);var fc=$('<span/>').addClass('tab-cv-viewListItem-viewName').text(eZ).attr('title',eZ);fa.append(fb);fa.append(' ');fa.append(fc);return fa},$l:function(e){var eZ=this.get_viewModel().isDefault(e);var fa=new spiff.IconButton;if(tsConfig.allow_custom_view_default){fa.addClass('tab-customViews-viewListItem-setDefaultButton');fa.onClick(ss.mkdel(this,function(fd){this.$O(e)}));var fb;var fc;if(eZ){fb='tab-icons-customView-toggled';fc=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltipWhenCurrent}else{fb='tab-icons-customView-menu';fc=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltip}fa.set_disabled(eZ);fa.setIcon(fb);fa.set_hoverTooltipText(fc)}this.disposables.add$1(fa);return fa.element},$h:function(e){var eZ=this.$v(e);var fa=$('<span/>').addClass('tab-cv-viewListItem-ownerName').text(eZ).attr('title',eZ);return fa},$m:function(e){var eZ=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var fa=new spiff.IconButton;fa.addClass('tab-customViews-viewListItem-renameButton');fa.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameButtonTooltip);fa.setIcon('tab-icons-edit');fa.onClick(ss.mkdel(this,function(fd){this.$L(e)}));this.disposables.add$1(fa);eZ.append(fa.element);var fb=new spiff.IconButton;fb.addClass('tab-customViews-viewListItem-deleteButton');fb.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsDeleteButtonTooltip);fb.setIcon('tab-icons-delete');fb.onClick(ss.mkdel(this,function(fd){this.$A(e)}));this.disposables.add$1(fb);eZ.append(fb.element);if(tsConfig.allow_custom_view_share){var fc=new spiff.IconButton;fc.addClass('tab-customViews-viewListItem-toggleHideButton');if(e.isPublic){fc.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPublic);fc.setIcon('tab-icons-view-public')}else{fc.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPrivate);fc.setIcon('tab-icons-view-private')}if(this.get_viewModel().get_mode()===bf.modeSelect){fc.set_disabled(true)}fc.onClick(ss.mkdel(this,function(fd){this.$K(e)}));this.disposables.add$1(fc);eZ.append(fc.element)}return eZ},$i:function(e,eZ){var fa=tab.DomUtil.getTransformScale(this.get_rootElement());var fb=$('<div/>').addClass('tab-customViews-rename-container');fb.click(ss.mkdel(this,this.$M));var fc=$('<div/>').addClass('tab-cv-viewListItem').width(eZ.width()/fa);var fd=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var fe=new spiff.IconButton;fe.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameUIClearButtonTooltip);var ff=fe;ff.setIcon('tab-icons-canceledit');ff.onClick(ss.mkdel(this,function(fj){this.$z(eZ)}));fd.append(ff.element);fc.append(fd);fc.append(this.$p(e));fb.append(fc);this.get_dom().domRoot.append(fb);this.$13.get_inputElement().focus();var fg=eZ.position().top;var fh=eZ.position().left;if(!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.$13.get_inputElement())}else{fg/=fa;fh/=fa;var fi=eZ[0].parentElement;while(ss.isValue(fi)&&fi.style.position!=='absolute'&&fi.style.position!=='relative'){fi=fi.parentElement}if(ss.isValue(fi)){fg+=fi.offsetTop;fh+=fi.offsetLeft}}fc.css('top',fg+'px').css('left',fh+'px')},$p:function(e){var eZ=$('<div/>').addClass('tab-customViews-rename-inputWrapper');this.$13=spiff.TextInputView.newTextInputView(e,tab.Strings.ToolbarCustomViewsRenameUIPlaceholderText,null,false);this.$13.get_inputElement().attr('maxlength',bf.maxCustomViewNameLength.toString());this.$13.get_inputElement().addClass('tab-customView-rename-textInput');this.$13.add_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.add_escapeKeyPressed(ss.mkdel(this,this.$F));eZ.append(this.$13.get_inputElement());return eZ},$s:function(e){if(this.$w()){this.$t(this.$x())}this.$W=e;var eZ=this.$x();eZ.children().hide();this.$i(e.name,eZ)},$t:function(e){if(!this.$w()){return}this.get_dom().domRoot.children('.tab-customViews-rename-container').remove();e.children().show();this.$W=null;this.$13.remove_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.remove_escapeKeyPressed(ss.mkdel(this,this.$F));this.$13.dispose();this.$13=null},$b:function(){var e=spiff.StyledTextButton.createUnificationIconTextButton(ss.mkdel(this,this.$E),tab.Strings.ToolbarCustomViewsEnterManageButtonText,'tab-customViews-enterManageModeButton');this.disposables.add$1(e);return e},$c:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$G),tab.Strings.ToolbarCustomViewsExitManageButtonText,'tab-customViews-exitManageModeButton',0,null);this.disposables.add$1(e);return e},$U:function(){var e=!this.get_viewModel().shouldSaveButtonBeEnabled(this.$15);if(ss.isValue(this.$14)&&this.$14.get_disabled()!==e){var eZ=(e?tab.Strings.ToolbarCustomViewsSaveButtonDisabledTitle:'');this.$14.set_hoverTooltipText(eZ);this.$14.set_disabled(e)}},updateViewListsState:function(){if(ss.count(this.get_viewModel().get_myCustomViews())===0&&ss.count(this.get_viewModel().get_otherCustomViews())===0&&this.get_viewModel().get_mode()===bf.modeManage){this.get_viewModel().exitManageMode()}else{this.$k();this.$f();this.$g()}},$V:function(e){var eZ;if(this.get_viewModel().isOriginalView(e)){eZ=this.$11}else{eZ=this.$y(e)}if(this.get_viewModel().isDefault(e)){eZ.addClass('tab-cv-viewListItem-defaultView')}if(this.get_viewModel().isCurrentCustomView(e)){eZ.addClass('tab-cv-viewListItem-currentView')}if(ss.isValue(e)&&e.isPublic){eZ.addClass('tab-cv-viewListItem-publicView')}var fa=this.$u(e);eZ.children('.tab-cv-viewListItem-viewName').text(fa).attr('title',fa)},$T:function(){if(this.get_viewModel().get_mode()===bf.modeSelect){this.$Z.element.css('display','none');this.$Y.element.css('display','');if(this.get_viewModel().get_hasCustomViews()){this.$Y.set_disabled(false);this.$Y.set_hoverTooltipText(null)}else{this.$Y.set_disabled(true);this.$Y.set_hoverTooltipText(tab.Strings.ManageCustomViewsDisabledExplanation)}}else if(this.get_viewModel().get_mode()===bf.modeManage){this.$Y.element.css('display','none');this.$Z.element.css('display','');this.$Z.set_disabled(false)}},$P:function(e,eZ){this.updateViewListsState()},$N:function(){this.$S()},$S:function(){var e=this.get_viewModel().cleanCustomViewName(this.$15.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){return}var eZ=this.get_viewModel().getMyCustomViewByName(e);if(ss.isNullOrUndefined(eZ)){eZ=new Object}eZ.name=e;eZ.isPublic=this.$n(this.$12);this.get_viewModel().save$1(eZ,null,function(fa){db.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView)},this.$n(this.$X));this.$15.get_inputElement().blur()},$H:function(e,eZ){if(ss.equalsT(eZ.get_propertyName(),'text')){this.$U()}},$D:function(){if(!this.$14.get_disabled()){this.$N()}},$I:function(e){if(this.get_viewModel().get_mode()===bf.modeSelect){this.get_viewModel().select(e);this.updateViewListsState()}},$O:function(e){this.get_viewModel().setDefault(e,ss.mkdel(this,function(eZ){this.updateViewListsState()}),function(eZ){db.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault)})},$A:function(e){var eZ=J.create(null,ss.mkdel(this,function(){this.$B(e)}));this.get_dom().customViewsArea.append(eZ.element)},$B:function(e){this.get_viewModel().destroyCustomView(e,ss.mkdel(this,this.updateViewListsState),ss.mkdel(this,function(eZ){db.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting);this.updateViewListsState()}))},$z:function(e){this.$t(e)},$L:function(e){this.$s(e)},$C:function(){this.$Q()},$F:function(){this.$t(this.$x())},$M:function(e){var eZ=$(e.target);var fa=eZ.hasClass('tab-customView-rename-textInput');if(!fa){this.$Q()}},$Q:function(){var e=this.get_viewModel().cleanCustomViewName(this.$13.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){db.showNotification(tab.Strings.ToolbarCustomViewsErrorInvalidName);return}var eZ=this.$x();if(ss.equalsT(e,this.$W.name)){this.$t(eZ);return}this.get_viewModel().updateCustomizedViewName(this.$W,e,ss.mkdel(this,function(fa){this.$t(eZ);this.updateViewListsState()}),ss.mkdel(this,function(fa){db.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming);this.$t(eZ);this.updateViewListsState()}))},$K:function(e){if(!ss.isValue(e)||this.get_viewModel().get_mode()!==bf.modeManage){return}this.get_viewModel().updateCustomizedViewPublicState(e,!e.isPublic,ss.mkdel(this,function(eZ){this.updateViewListsState()}),ss.mkdel(this,function(eZ){db.showNotification(tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState);this.updateViewListsState()}))},$E:function(){this.get_viewModel().startManage()},$G:function(){this.get_viewModel().exitManageMode()},$J:function(e,eZ){var fa=this.get_viewModel().get_mode();if(fa===bf.modeManage){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',true)}else if(fa===bf.modeSelect){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',false)}this.$k();this.updateViewListsState();this.$T()},$w:function(){return ss.isValue(this.$W)},$y:function(e){if(ss.isNullOrUndefined(e)){return this.$11}else{return this.$10[ss.unbox(e.id)]}},$x:function(){return this.$y(this.$W)},$n:function(e){if(ss.isValue(e)){return e.get_selected()}else{return false}},$u:function(e){var eZ;if(this.get_viewModel().isOriginalView(e)){eZ=tab.Strings.CustomViewsOriginalView}else{eZ=e.name}if(this.get_viewModel().isDefault(e)){eZ=tab.Strings.ToolbarCustomViewsDefault(eZ)}return eZ},$v:function(e){var eZ;if(this.get_viewModel().isOriginalView(e)){eZ=tsConfig.workbook_owner_friendly_name}else{eZ=e.owner.friendlyName}return eZ}},ss.makeGenericType(spiff.BaseView$1,[bf]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bf])]);ss.initClass(bf,a,{add_modeChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modeChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_customViewListChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_customViewListChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_customViewDestroyed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_customViewDestroyed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_dirtyChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_dirtyChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideDialogRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_mode:function(){return this.$p},get_myCustomViews:function(){return this.$q},get_otherCustomViews:function(){return this.$r},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$q.length>0||this.$r.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_viewType:function(){return be},get_viewModel:function(){return this},get_props:function(){var e=new bc;e.viewModel=this;return{children:React.createElement(bb,e),isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'customViews',title:tab.Strings.CustomViewsDialogTitle,type:0}},$j:function(){return!this.isOriginalView(this.get_currentCustomView())&&this.belongsToCurrentUser(this.get_currentCustomView())},$k:function(){return(this.$j()?this.get_currentCustomView().name:'')},$h:function(){return this.$j()&&this.isDefault(this.get_currentCustomView())},$i:function(){return this.$j()&&this.get_currentCustomView().isPublic},isDefault:function(e){if(tsConfig.allow_custom_view_default){if(this.isOriginalView(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},isOriginalView:function(e){return ss.isNullOrUndefined(e)},belongsToCurrentUser:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},isCurrentCustomView:function(e){if(this.isOriginalView(e)){return this.isCurrentCustomViewTheOriginalView()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},isCurrentCustomViewTheOriginalView:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},shouldSaveButtonBeEnabled:function(e){return this.isValidCustomViewName(this.cleanCustomViewName(e.get_text()))},isValidCustomViewName:function(e){var eZ=this.cleanCustomViewName(e);return eZ.length>0&&eZ.length<=bf.maxCustomViewNameLength},cleanCustomViewName:function(e){return e.trim().substr(0,bf.maxCustomViewNameLength)},$4:function(){this.raiseActionEvent(this.hideView);this.raiseActionEvent(this.$2$6)},save:function(e,eZ,fa){var fb=this.getMyCustomViewByName(e);if(ss.isNullOrUndefined(fb)){fb=new Object;fb.name=e}this.save$1(fb,eZ,fa,false)},save$1:function(e,eZ,fa,fb){this.$s.saveCustomizedView(e,ss.mkdel(this,function(fc){var fd=ss.mkdel(this,function(fe){this.$c(fe);if(ss.isValue(eZ)){eZ(fe)}});if(fb){this.setDefault(fc,fd,function(fe){fd(fc)})}else if(this.isDefault(fc)){this.setDefault(null,function(fe){fd(fc)},function(fe){fd(fc)})}else{fd(fc)}}),ss.mkdel(this,function(fc){this.$b(fc);if(ss.isValue(fa)){fa(fc)}}))},getMyCustomViewByName:function(e){var eZ=null;for(var fa=0;fa<this.$q.length;fa++){var fb=this.$q[fa];if(ss.equalsT(fb.name,e)){eZ=fb}}return eZ},select:function(e){if(this.isOriginalView(e)){this.$s.navigateToOriginalView();tsConfig.current_custom_view_id=null}else{this.$s.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,eZ,fa){this.destroyCustomView(e,eZ,fa)},update:function(e,eZ,fa){this.$g(e,null,eZ,fa)},buildUrl:function(e,eZ){return tab.CustomizedViewSession.buildUrl(e,eZ)},makeCurrentDefault:function(e,eZ){this.setDefault(this.$l,e,eZ)},setDefault:function(e,eZ,fa){this.$s.setDefaultCustomizedView(e,ss.mkdel(this,function(fb){this.$e(fb);if(ss.isValue(eZ)){eZ(fb)}}),ss.mkdel(this,function(fb){this.$d(fb);if(ss.isValue(fa)){fa(fb)}}))},startManage:function(){if(this.$p===bf.modeSelect&&this.get_hasCustomViews()){this.$f(bf.modeManage)}},exitManageMode:function(){this.$f(bf.modeSelect)},updateCustomizedViews:function(e,eZ){this.$5(e,eZ)},destroyCustomView:function(e,eZ,fa){this.$o=true;this.$s.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;this.$s.updateTsConfig(null,true);if(ss.isValue(tsConfig.requestURI)&&ss.isValue(e.owner)){var fb=tsConfig.requestURI;var fc=ss.replaceAllString(encodeURIComponent(e.owner.username),'%40','@');var fd='/'+fc+'/'+e.urlId;tsConfig.requestURI=ss.replaceAllString(fb,fd,'')}}this.$5(null,null);if(ss.isValue(eZ)){eZ()}}),ss.mkdel(this,function(fb){this.$5(null,null);if(ss.isValue(fa)){fa(fb)}}))},updateCustomizedViewPublicState:function(e,eZ,fa,fb){if(!ss.isValue(e)||eZ===e.isPublic){return}var fc=new Object;fc.id=e.id;fc.isPublic=eZ;fc.name=e.name;fc.owner=e.owner;fc.startViewId=e.startViewId;fc.urlId=e.urlId;this.$g(fc,e,fa,fb)},updateCustomizedViewName:function(e,eZ,fa,fb){if(ss.equalsT(e.name,eZ)){return}var fc=new Object;fc.id=e.id;fc.isPublic=e.isPublic;fc.name=eZ;fc.owner=e.owner;fc.startViewId=e.startViewId;fc.urlId=e.urlId;this.$g(fc,e,fa,fb)},$g:function(e,eZ,fa,fb){this.$s.updateCustomizedView(e,ss.mkdel(this,function(fc){if(ss.isValue(eZ)){var fd=ss.indexOf(this.$q,eZ);if(fd>=0){ss.removeAt(this.$q,fd);ss.insert(this.$q,fd,e)}if(ss.isValue(eZ)&&ss.referenceEquals(e.id,eZ.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}this.$5(null,null);if(ss.isValue(fa)){fa(fc)}}),ss.mkdel(this,function(fc){this.$5(null,null);if(ss.isValue(fb)){fb(fc)}}))},$f:function(e){this.$p=e;this.$a()},$5:function(e,eZ){this.$s.getCustomizedViews(ss.mkdel(this,function(fa,fb){this.$3(fa,fb);if(ss.isValue(e)){e(fa,fb)}}),ss.mkdel(this,function(fa){this.$2(fa);if(ss.isValue(eZ)){eZ(fa)}}))},$c:function(e){var eZ=tabBootstrap.Utility.get_isEmbedded()&&!tsConfig.reloadOnCustomViewSave;if(eZ||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$4();if(eZ){var fa;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(fa=0;fa<this.$q.length;fa++){if(ss.referenceEquals(this.$q[fa].name,e.name)){this.$q[fa]=e;break}}if(fa>=this.$q.length){this.$q.push(e);this.$q.sort(bf.$0)}}else{for(fa=0;fa<this.$r.length;fa++){if(ss.referenceEquals(this.$r[fa].name,e.name)){this.$r[fa]=e;break}}if(fa>=this.$r.length){this.$r.push(e);this.$r.sort(bf.$0)}}}this.$l=e}else{this.$s.navigateToCustomizedView(e)}this.$9()},$b:function(e){this.$4()},$e:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$8()},$d:function(e){},$3:function(e,eZ){ss.clear(this.$q);ss.clear(this.$r);this.$l=null;this.$m=tab.Strings.ToolbarCustomViewsOriginalView;for(var fa=0;fa<e.length;fa++){var fb=e[fa];if(this.belongsToCurrentUser(fb)){this.$q.push(fb)}else{this.$r.push(fb)}if(this.isCurrentCustomView(fb)){this.$l=fb;this.$m=fb.name}}this.$q.sort(bf.$0);this.$r.sort(bf.$0);this.$n=eZ;this.$7()},$2:function(e){this.$m=null;this.$o=false},$a:function(){if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}},$7:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}if(this.$o){this.$6();this.$o=false}},$8:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},$6:function(){if(ss.isValue(this.$2$4)){this.$2$4(this,ss.EventArgs.Empty)}},$9:function(){this.raiseEvent(this.$2$5)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bg,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bh,a,{$d:function(){return this.get_template()},get_dashboardNode:function(){return this.$d().dashboardNode},get_containerNode:function(){return this.$d().domRoot},get_dashboardSize:function(){return tab.DashboardSizeCalculator.asMetric(this.$e.get_size())},$9:function(){if(ss.isValue(this.$e.get_formats())){this.$d().dashboardNode.css(this.$e.get_formats());if(this.$e.get_hasGutter()){var e={top:this.$e.gutter.top+'px',left:this.$e.gutter.left+'px'};this.$d().dashboardNode.css(e)}}},$b:function(){this.$d().dashboardNode.height(this.$e.get_size().h).width(this.$e.get_size().w);if(this.$e.get_hasGutter()){$('.tab-gutter').height(this.$e.get_size().h+this.$e.gutter.top+this.$e.gutter.bottom).width(this.$e.get_size().w+this.$e.gutter.left+this.$e.gutter.right)}},$a:function(e){var eZ=tab.ObjectRegistry.newView(eW).call(null,[e]);if(e.get_zoneType()==='title'){eZ.prependToDom(this.$d().dashboardNode)}else{eZ.addToDom(this.$d().dashboardNode)}},onAddedToDom:function(){if(!this.addedToDom){if(tsConfig.showTabs){this.$d().dashboardNode.attr('role','tabpanel')}this.$b();this.$9();var e=_.keys(this.$e.get_zoneViewModels());for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];this.$a(this.$e.get_zoneViewModels()[fa])}}spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){if(this.$e.get_renderMode()==='render-mode-client'){var e=this.$d().dashboardNode.find('img');var eZ=e.length;for(var fa=0;fa<eZ;fa++){var fb=e[fa];if(ss.isNullOrUndefined(fb)||fb.naturalHeight===0||fb.naturalWidth===0){continue}var fc=document.createElement('canvas');fc.width=fb.naturalWidth;fc.height=fb.naturalHeight;var fd=fc.getContext('2d');fd.drawImage(fb,0,0);try{var fe=fc.toDataURL('image/png',new Object);fb.src=fe}catch(fn){}}}var ff=this.$d().dashboardNode.clone(false,false);ff.addClass('facadedom');bh.uniquefyClonedFilterRadioElements(ff);if(this.$e.get_renderMode()==='render-mode-server'){var fg=this.$d().dashboardNode.find('canvas');var fh=ff.find('canvas');var fi=fg.length;for(var fj=0;fj<fi;fj++){var fk=fg[fj];var fl=fh[fj];if(!ss.isValue(fl)){continue}var fm=fl.getContext('2d');if(ss.isValue(fk)&&fk.width>0&&fk.height>0&&ss.isValue(fm)){fm.drawImage(fk,0,0)}}}this.$d().dashboardNode.parent().append(ff)}},ss.makeGenericType(spiff.BaseView$1,[bi]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bi])]);ss.initClass(bi,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isStory:function(){return this.dashboardModel.pm.isStory},get_zoneViewModels:function(){return this.$m},get_formats:function(){return this.dashboardModel.get_formats()},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$l||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$l=e;this.raiseActionEvent(this.$2$3)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.get_isStory()){return null}return this.$5('flipboard-nav')},get_flipboardViewModel:function(){return this.$5('flipboard')},get_hasGutter:function(){return tsConfig.is_authoring&&(tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='story'&&this.get_isStory())},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$m));try{while(e.moveNext()){var eZ=e.current();this.$m[eZ].dispose()}}finally{e.dispose()}ss.clearKeys(this.$m);tab.SheetSession.remove_sheetDataChanged(ss.mkdel(this,this.$k));for(var fa=0;fa<this.viewControllers.length;fa++){var fb=this.viewControllers[fa];fb.dispose()}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$8));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$9));spiff.BaseViewModel.prototype.dispose.call(this)},$8:function(e){if(ss.keyExists(this.$m,e.get_zoneId())){this.$c(e.get_zoneId())}var eZ=this.$4(e);if(eZ.get_zoneType()==='viz'){if(ss.isValue(eZ.get_zoneContentViewModel())){this.$b(eZ)}else{var fa=null;fa=ss.mkdel(this,function(){eZ.remove_newZoneContent(fa);this.$b(eZ)});eZ.add_newZoneContent(fa)}}eZ.set_isActiveZone(eZ.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$i(eZ)},$b:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var eZ=this.$3(e.get_associatedSheet());e.get_zoneContentViewModel().set_viewController(eZ)},$4:function(e){var eZ=new eX(e);this.$m[e.get_zoneId()]=eZ;return eZ},$5:function(e){var eZ=new ss.ObjectEnumerator(this.$m);try{while(eZ.moveNext()){var fa=eZ.current();if(fa.value.get_zoneType()===e){return fa.value.get_zoneContentViewModel()}}}finally{eZ.dispose()}return null},$i:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}},$7:function(){this.$j(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$g:function(){this.raiseActionEvent(this.$2$3)},$f:function(){this.raiseActionEvent(this.$2$4)},$e:function(){this.raiseActionEvent(this.$2$5)},$a:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard())){return}this.raiseActionEvent(this.$2$2);this.$j(function(e){return e.get_zoneType()==='viz'})},$j:function(e){var eZ=[];var fa=_.keys(this.$m);for(var fb=0;fb<fa.length;fb++){var fc=fa[fb];var fd=this.$m[fc];if(e(fd)){eZ.push(fc)}}this.$d(eZ);this.$2()},$d:function(e){for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];this.$c(fa)}},$c:function(e){var eZ=this.$m[e];if(ss.isValue(eZ)){if(eZ.get_zoneType()==='viz'){var fa=this.viewControllersBySheet['v_'+eZ.get_associatedSheet()];if(ss.isValue(fa)){delete this.viewControllersBySheet['v_'+eZ.get_associatedSheet()];ss.remove(this.viewControllers,fa);fa.dispose()}}eZ.dispose();delete this.$m[e]}},$2:function(){var e=this.dashboardModel.get_zoneModels();for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];if(!ss.keyExists(this.$m,fa.get_zoneId())&&this.dashboardModel.isValidSheet(fa)){this.$8(fa)}}},$h:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$k:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$6:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_activeZoneID();var eZ=ss.getEnumerator(Object.keys(this.$m));try{while(eZ.moveNext()){var fa=eZ.current();var fb=this.$m[fa];fb.set_isActiveZone(fb.get_zoneId()===e)}}finally{eZ.dispose()}},$9:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_readyZoneID();var eZ=ss.getEnumerator(Object.keys(this.$m));try{while(eZ.moveNext()){var fa=eZ.current();var fb=this.$m[fa];fb.set_isReadyZone(fb.get_zoneId()===e)}}finally{eZ.dispose()}},$3:function(e){var eZ=this.dashboardModel.getViewSession(e);var fa=new eK(eZ);this.viewControllersBySheet['v_'+e]=fa;this.viewControllers.push(fa);return fa}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bj,a,{render:function(){return React.DOM.div({className:'tab-dataAlertDialog tab-dataAlertCreateComponent'},this.$5(),this.$4(),this.$b(),this.$8(),this.$3(),this.$7(),this.$6(),this.$9())},$5:function(){var e;if(tab.FeatureFlags.isEnabled('AlertOnMoreChartTypes')){e=tab.Strings.DataAlertOnConstantThreshold2(this.props.selectionCaption)}else{e=tab.Strings.DataAlertOnConstantThreshold(this.props.selectionCaption)}return React.DOM.div({className:'tab-dataAlertConditionMessage'},e)},$4:function(){return React.DOM.div({className:'tab-dataAlertConditionArea'},React.DOM.div({className:'tab-dataAlertOperatorArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.conditionProps)),React.DOM.div({className:'tab-dataAlertThresholdArea'},React.DOM.label({className:'tab-dataAlertThresholdLabel'},tab.Strings.DataAlertThreshold),this.$a(),React.DOM.span(this.$1(this.props.thresholdIsValid),this.props.thresholdMessage)))},$1:function(e){return{className:(e?'tab-dataAlertStandardText':'tab-dataAlertErrorText')}},$0:function(e){return{className:'tab-dataAlertErrorText',style:{visibility:(e?'hidden':'visible')}}},$a:function(){var e='tab-dataAlertThreshold tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}return React.DOM.input({type:'text',value:this.props.threshold,className:e,disabled:!this.props.readyForInteraction,onBeforeInput:tableau.util.maxLengthEnforcingBeforeInputHandler(this.props.maxThresholdLength),onChange:ss.mkdel(this,function(eZ){this.props.onThresholdInputTextChanged(eZ.target.value)})})},$b:function(){var e='tab-dataAlertTitleInput tab-TextInput';var eZ=!tab.MiscUtil.isNullOrEmpty$3(this.props.title);if(!eZ){e+=' error'}return React.DOM.div({className:'tab-dataAlertTitleInputArea'},React.DOM.label({className:'tab-dataAlertTitleInputLabel'},tab.Strings.DataAlertSubject),React.DOM.input({type:'text',className:e,disabled:!this.props.readyForInteraction,maxLength:bm.maxTitleLength,value:this.props.title,onChange:ss.mkdel(this,function(fa){this.props.onTitleInputTextChanged(fa.target.value)})}),React.DOM.span(this.$0(eZ),tab.Strings.DataAlertNoSubjectErrorMessage))},$8:function(){return React.DOM.div({className:'tab-dataAlertNotificationIntervalInputArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.notificationIntervalProps))},$3:function(){return React.DOM.div({className:'tab-dataAlertAddRecipients',disabled:!this.props.readyForInteraction},React.DOM.label({className:'tab-dataAlertAddRecipientsLabel'},tab.Strings.DataAlertRecipients),React.createElement(dv,this.props.recipientSearchSelectorProps))},$7:function(){var e='tab-dataAlertEmailInput tab-TextInput';if(!tab.MiscUtil.isNullOrEmpty$3(this.props.emailErrorText)){e+=' error'}return React.DOM.div({className:'tab-dataAlertEmailInputArea',disabled:!this.props.readyForInteraction,style:{visibility:(this.props.showEmailInput?'visible':'hidden'),height:(this.props.showEmailInput?'auto':'0px'),padding:(this.props.showEmailInput?'':'0px')}},React.DOM.label({className:'tab-dataAlertEmailInputLabel'},tab.Strings.ToolbarSubscribeEmailPlaceholder),React.DOM.input({type:'text',className:e,maxLength:bS.maxEmailLength,onChange:ss.mkdel(this,function(eZ){this.props.onEmailInputTextChanged(eZ.target.value)})}))},$6:function(){return React.DOM.span(this.$0(ss.isNullOrEmptyString(this.props.emailErrorText)),this.props.emailErrorText)},$9:function(){var e={clickHandler:ss.mkdel(this,this.$2),label:this.props.submitButtonText,buttonClass:'tab-dataAlertSubmitButton tab-UnifiedButton',buttonStyle:0,tabIndex:0,disabled:!this.props.enableSubmitButton};var eZ=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tab-dataAlertSubmitButtonArea'},eZ)},$2:function(){this.props.onSave()}},React.Component);ss.initClass(bt,a,{add_persistSuccess:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_persistSuccess:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_persistFailure:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_persistFailure:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},getSubmitButtonText:function(){return''},saveDataAlert:function(e,eZ){},onPersistSuccess:function(){db.showNotification(this.successMessage);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},onPersistFailure:function(){db.showNotification(this.failureMessage,0);if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}});ss.initClass(bk,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertCreateButton},saveDataAlert:function(e,eZ){var fa=ss.mkdel(this,function(fb){this.failureMessage=((fb===210006)?tab.Strings.DataAlertDatasourceError:tab.Strings.DataAlertCreateFailure);this.onPersistFailure()});tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),fa)}},bt);ss.initInterface(cu,a,{add_dataAlertPrepared:null,remove_dataAlertPrepared:null,add_dataAlertPrepareFailed:null,remove_dataAlertPrepareFailed:null,get_preparedDataAlert:null,prepareDataAlert:null});ss.initClass(bu,a,{add_dataAlertPrepared:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_dataAlertPrepared:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_preparedDataAlert:function(){return this.dataAlert},prepareDataAlert:null,raiseActionEvent:function(e){if(!ss.staticEquals(e,null)){e()}},raiseDataAlertPrepared:function(){this.raiseActionEvent(this.$1$1)},raiseDataAlertPrepareFailed:function(){this.raiseActionEvent(this.$1$2)}},null,[cu]);ss.initClass(bl,a,{prepareDataAlert:function(){this.dataAlert=new tab.DataAlert.$ctor1(this.$0);this.raiseDataAlertPrepared()}},bu,[cu]);ss.initClass(bm,a,{get_emptySearch:function(){return this.$3$1},set_emptySearch:function(e){this.$3$1=e},get_noResults:function(){return this.$3$2},set_noResults:function(e){this.$3$2=e},$s:function(){return{label:tab.Strings.DataAlertCondition,testId:'data-alert-condition-operation',onSelect:ss.mkdel(this,this.$b),disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_operator().toString():''),menuItemInfos:_.map(tab.DataAlertConditionOperation.supportedOperations(),function(e){return{value:e.toString(),displayValue:tab.DataAlertConditionOperation.displayString(e),isDivider:false}})}},$w:function(){var e=ss.mkdel(this,this.$f);return{label:tab.Strings.DataAlertNotificationInterval,testId:'data-alert-notification-interval',onSelect:e,disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_notificationIntervalInMinutes().toString():''),menuItemInfos:_.map(tab.DataAlertNotificationInterval.supportedIntervals(),function(eZ){return{value:eZ.toString(),displayValue:tab.DataAlertNotificationInterval.convertToString(eZ),isDivider:false}})}},$x:function(){return{users:this.users,addUser:ss.mkdel(this,this.addUser),removeUser:ss.mkdel(this,this.removeUser),isUsers:true,userValidator:ss.mkdel(this,this.$r),noResults:ss.mkdel(this,this.setNoResults),emptySearch:ss.mkdel(this,this.setIsSearchEmpty),placeholderMessage:tab.Strings.DataAlertsRecipientsSearchPlaceholder,removeRecipientByIndex:ss.mkdel(this,this.removeUserByIndex)}},$z:function(){return ss.isValue(this.$C)&&this.$C.get_thresholdIsValid()&&!this.$G&&this.$t()&&!ss.isNullOrEmptyString(this.$C.get_title())&&this.get_emptySearch()&&this.$F},$t:function(){if(this.$5()){return this.$v()&&this.$y()===1}return this.$y()===0},$y:function(){return this.users.filter(function(e){return!e.hasEmail}).length},$v:function(){return bS.validate(this.$D)},$u:function(){return this.$F},$o:function(){this.users=[];this.set_emptySearch(true)},$l:function(){this.$C.add_titleChanged(ss.mkdel(this,this.refresh));this.$C.add_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.add_measureChanged(ss.mkdel(this,this.refresh));this.$C.add_conditionChanged(ss.mkdel(this,this.refresh));this.$C.add_recipientsChanged(ss.mkdel(this,this.refresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$C.remove_titleChanged(ss.mkdel(this,this.refresh));this.$C.remove_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.remove_measureChanged(ss.mkdel(this,this.refresh));this.$C.remove_conditionChanged(ss.mkdel(this,this.refresh));this.$C.remove_recipientsChanged(ss.mkdel(this,this.refresh))})))},$m:function(){this.$B.add_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.add_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.remove_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed))})))},$n:function(){this.$H=new tab.Debouncer(ss.mkdel(this,function(){var e=tab.DataAlertCommands.updateDataAlert(this.$C);e.done(ss.mkdel(this,function(eZ){this.$C.set_alertConditionMet(eZ);this.refresh()}))}),bm.debounceTimeout);this.disposables.add$1(this.$H)},$9:function(){if(ss.isNullOrUndefined(this.$C)){return''}if(this.$C.get_thresholdIsValid()){return(this.$C.get_alertConditionMet()?tab.Strings.DataAlertThresholdConditionMet:tab.Strings.DataAlertThresholdConditionUnmet)}var e=this.$C.get_conditionPresModel().dataType;if(e==='integer'){if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_appPresModel())){if(tab.DoubleUtil.isValidDouble(this.$C.get_threshold())){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}else{var eZ=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;if(tab.DoubleUtil.isValidDouble(tableau.format.reformatNumberToJsFormat(this.$C.get_threshold(),eZ))){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}return tab.Strings.DataAlertThresholdErrorIntegerInputNonNumeric}if(e==='real'){return tab.Strings.DataAlertThresholdErrorDouble}throw new ss.ArgumentException('ThresholdType.DataType is not among the supported data types')},$8:function(){if(this.$G){return tab.Strings.DataAlertCreateButtonSaving}return this.$A.getSubmitButtonText()},refresh:function(){this.updateProps$1({readyForInteraction:this.$u(),onThresholdInputTextChanged:ss.mkdel(this,this.$h),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$i),onSave:ss.mkdel(this,this.$a),title:(ss.isValue(this.$C)?this.$C.get_title():this.$7()),selectionCaption:(ss.isValue(this.$C)?this.$C.get_selectionCaption():''),threshold:(ss.isValue(this.$C)?this.$C.get_threshold():''),thresholdIsValid:ss.isValue(this.$C)&&this.$C.get_thresholdIsValid(),alertConditionMet:ss.isValue(this.$C)&&this.$C.get_alertConditionMet(),thresholdMessage:this.$9(),onEmailInputTextChanged:ss.mkdel(this,this.$e),showEmailInput:this.$5(),recipientSearchSelectorProps:this.$x(),enableSubmitButton:this.$z(),notificationIntervalProps:this.$w(),emailErrorText:this.$6(),submitButtonText:this.$8(),conditionProps:this.$s()})},addUser:function(e){if(_.any(this.users,function(eZ){return eZ.id===e.id})){return}this.users.push(e);this.refresh()},setUsers:function(e){this.users=e;this.refresh()},removeUser:function(e){ss.remove(this.users,e);this.refresh()},removeUserByIndex:function(e){ss.removeAt(this.users,e);this.refresh()},setIsSearchEmpty:function(e){this.set_emptySearch(e);this.refresh()},setNoResults:function(e){this.set_noResults(e);this.refresh()},$6:function(){if(this.$5()){if(this.$t()){return''}return tab.Strings.SubscribeInvalidAddress}else if(this.$y()>0){return tab.Strings.DataAlertRecipientWithNoEmail}else if(this.get_noResults()){return tab.Strings.DataAlertNoUsersMatchSearch}return''},$5:function(){return this.$4()&&tab.MiscUtil.isNullOrEmpty$3(tsConfig.current_user_email)},$4:function(){return this.users.filter(function(e){return e.id===tsConfig.current_user_id}).length===1},$e:function(e){this.$D=e;this.refresh()},$i:function(e){if(ss.isNullOrUndefined(this.$C)){return}if(ss.referenceEquals(e,this.$C.get_title())){return}this.$C.set_title(e)},$d:function(){this.$C=this.$B.get_preparedDataAlert();this.$E=ss.arrayClone(this.$C.get_recipients());this.$l();this.$n();this.$g();var e=this.$C.get_title();if(ss.isNullOrUndefined(e)){e=this.$7()}var eZ=e;this.$i(eZ);this.$C.set_deviceType(tabBootstrap.ViewerBootstrap.get_instance().get_deviceType());this.$F=true;this.refresh()},onDataAlertPrepareFailed:function(){this.$G=false;this.$F=false;this.refresh()},onDataAlertPreparing:function(){this.$F=false;this.refresh()},$7:function(){var e=tab.Strings.DataAlertSubjectTemplate(tsConfig.current_sheet_name);if(e.length>bm.maxTitleLength){e=e.substr(0,bm.maxTitleLength-3)+'...'}return e},$f:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isValue(this.$C)){this.$C.set_notificationIntervalInMinutes(e)}},$h:function(e){if(ss.referenceEquals(e,this.$C.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$3(e)){this.$H.cancel()}else{this.$q()}this.$p(this.$C.get_operator(),e)},$b:function(e){if(ss.isNullOrUndefined(e)){return}var eZ=e;this.$c(eZ)},$c:function(e){if(e===this.$C.get_operator()){return}this.$q();this.$p(e,this.$C.get_threshold())},$q:function(){if(ss.isValue(this.$H)){this.$H.invokeActionDelayed()}},$a:function(){this.$G=true;this.refresh();if(tab.MiscUtil.isNullOrEmpty$3(tsConfig.current_user_email)){this.$k()}else{this.$j()}},$k:function(){var e=ss.mkdel(this,this.$j);var eZ=ss.mkdel(this,function(fa){var fb=((fa===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.DataAlertCreateFailure);db.showNotification(fb);this.$G=false;this.refresh()});tab.WorkgroupServerCommands.setUserEmail(this.$D,e,eZ)},$j:function(){this.$C.updateRecipients(this.users);this.$A.saveDataAlert(this.$C,this.$E)},$g:function(){this.users=this.$C.get_recipients()},$p:function(e,eZ){var fa=this.$C.get_conditionPresModel().dataAlertThresholdText;if(this.$C.isValidThresholdText(eZ)){fa=eZ}this.$C.set_threshold(eZ);this.$C.set_conditionPresModel({dataAlertConditionOp:e,dataAlertThresholdText:fa,dataType:this.$C.get_conditionPresModel().dataType})},$r:function(e){if(e.id===tsConfig.current_user_id){return this.$v()||e.hasEmail}return e.hasEmail}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bn,a,{add_hideDialogRequested:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_hideDialogRequested:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$e:function(){return!ss.isNullOrEmptyString(this.$j)},get_createViewModel:function(){return this.$h},updateFromDialogPresModel:function(e){this.$i=e;if(this.$d()){this.$5()}else{this.$6()}this.incrementProps();return this},$d:function(){return!ss.isNullOrEmptyString(this.$i.dataAlertErrorText)},$5:function(){this.$k=new bs(this.$i.dataAlertErrorText,this.$j);this.$k.add_okButtonClicked(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.remove_okButtonClicked(ss.mkdel(this,this.$c))})));this.disposables.add$1(this.addChildViewModel(this.$k));this.disposables.add$1(this.$k)},$6:function(){if(this.$e()){this.$f=bo.new$1(this.$j);this.$g=bp.new$1(this.$i,this.$j)}else{this.$f=bk.new$1();this.$g=bl.new$1(this.$i)}this.$h=bm.new$1(this.$g,this.$f);var e=ss.mkdel(this,function(){db.showNotification(tab.Strings.DataAlertLoadForEditFailure);this.$c()});this.$f.add_persistSuccess(ss.mkdel(this,this.$c));this.$f.add_persistFailure(ss.mkdel(this,this.$c));this.$g.add_dataAlertPrepareFailed(e);this.disposables.add$1(this.$h);this.disposables.add$1(this.addChildViewModel(this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_persistSuccess(ss.mkdel(this,this.$c));this.$f.remove_persistFailure(ss.mkdel(this,this.$c));this.$g.remove_dataAlertPrepareFailed(e)})));this.$g.prepareDataAlert()},createInitialProps:function(){return{dialogWidth:400,isModal:true,positioningBehavior:2,shouldAdjustPositionOnWindowResize:true,shouldReturnFocusOnClose:true,showCloseButton:true,testId:'dataAlertDialog',type:0}},createUpdatedProps:function(){return(this.$d()?this.$b():this.$9())},$9:function(){return{children:this.$8(),footerContent:null,shouldReturnFocusOnClose:true,showFooter:false,title:this.$a()}},$a:function(){return(this.$e()?tab.Strings.DataAlertDialogTitleEditMode:tab.Strings.DataAlertDialogTitle)},$8:function(){return React.createElement(bj,this.$h.get_props())},$b:function(){return this.$k.get_dialogProps()},$c:function(){tab.CommandController.get().remove_undoCommand(ss.mkdel(this,this.$c));this.raiseActionEvent(this.$3$1)},onDialogHidden:function(){this.$7()},$7:function(){tab.DataAlertCommands.closeDataAlertDialog();if(this.$e()){var e=tab.VizUriModel.createForCurrentWindowLocation();e.removeQueryParam(bq.editDataAlertUrlParam);e.replaceState(null);if(ss.isValue(E.get_instance().get_apiEventHandler())){E.get_instance().get_apiEventHandler().removeEditDataAlertUrlParam(tsConfig.current_sheet_name)}}_.defer(ss.mkdel(this,this.dispose))},onCancel:function(e,eZ){this.$7()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bo,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertUpdateButton},saveDataAlert:function(e,eZ){var fa=bo.getDifferenceInUserLists(eZ,e.get_recipients());var fb=bo.getDifferenceInUserLists(e.get_recipients(),eZ);tab.WorkgroupServerCommands.updateDataAlert(e,this.$0,fa,fb,ss.mkdel(this,this.onPersistSuccess),ss.mkdel(this,this.onPersistFailure))}},bt);ss.initClass(bp,a,{prepareDataAlert:function(){this.$0()},$1:function(e){if(ss.isNullOrUndefined(e)||e.length===0){this.raiseDataAlertPrepareFailed();return}if(e.length>1){this.raiseDataAlertPrepareFailed();return}this.$4(e);this.$5=true;this.$3()},$4:function(e){var eZ=e[0];this.dataAlert.set_title(eZ.get_title());this.dataAlert.set_deviceType(eZ.get_deviceType());this.dataAlert.set_notificationIntervalInMinutes(eZ.get_notificationIntervalInMinutes())},$3:function(){if(this.$5&&this.$6){this.raiseDataAlertPrepared()}},$2:function(e){this.$6=true;_.each(e,function(eZ){eZ.hasEmail=true});this.dataAlert.updateRecipients(e);this.$3()},$0:function(){this.$5=false;this.$6=false;tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$7).done(ss.mkdel(this,this.$1)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed));tab.WorkgroupServerCommands.getUsersForDataAlertId(this.$7).done(ss.mkdel(this,this.$2)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed))}},bu,[cu]);ss.initClass(bq,a,{});ss.initClass(br,a,{render:function(){return React.DOM.div({className:br.$0},this.renderGenericMessage(),this.renderPlatformErrorMessage())},renderGenericMessage:function(){var e=(tab.MiscUtil.isNullOrEmpty$3(this.props.alertSubject)?tab.Strings.DataAlertErrorDialogViewChanged(this.props.sheetName):tab.Strings.DataAlertErrorDialogViewChangedWithSubject(this.props.sheetName,this.props.alertSubject));return React.DOM.div({className:br.$1},e)},renderPlatformErrorMessage:function(){return React.DOM.div({className:br.$2},this.props.errorText)}},spiff.PureRenderComponent);ss.initClass(bs,a,{add_okButtonClicked:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_okButtonClicked:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_dialogProps:function(){return{children:this.$5(),title:tab.Strings.DataAlertErrorDialogTitle,showFooter:true,footerContent:this.$6()}},$7:function(){tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$a).done(ss.mkdel(this,this.$8))},$8:function(e){if(e.length===1){this.$9=e[0].get_title()}this.incrementProps()},$5:function(){return React.createElement(br,this.get_props())},createUpdatedProps:function(){return{errorText:this.$b,sheetName:tsConfig.current_sheet_name,alertSubject:this.$9}},$6:function(){return React.createElement(SharedWidgets.DialogFooterButtonsWidget,{buttons:[{handleClick:ss.mkdel(this,function(e){this.raiseActionEvent(this.$3$1)}),buttonType:2,testId:'OK',label:tab.Strings.DialogButtonOK,disabled:false}]})}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bv,a,{get_compositeSearchWidget:function(){return this.$l},$a:function(e){this.$g();this.$k();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$j()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$k:function(){if(this.$l.get_textInputView().get_text().trim().length>0){this.$l.get_searchButton().element.hide();this.$l.get_clearButton().element.show()}else{this.$l.get_searchButton().element.show();this.$l.get_clearButton().element.hide()}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$f),200)},$g:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$f:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$g()},handleNewSearchQueryResults:function(e,eZ){if(!ss.referenceEquals(e,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(eZ)){return}this.populateAndDisplayList(eZ,2)},populateAndDisplayList:function(e,eZ){this.currentListPopulationMode=eZ;this.$p=tab.MiscUtil.dispose(this.$p);this.$p=[];var fa=Math.min(e.dataHighlighterItems.length,this.get_viewModel().get_maxNumberListItems());for(var fb=0;fb<fa;fb++){var fc=e.dataHighlighterItems[fb];this.$p.push(spiff.ListItemViewModel.newListItem(fc.objectId.toString(),fc,false,false,false))}if(fa<e.totalNumberOfItemsInSet){var fd=e.totalNumberOfItemsInSet-fa;var fe=((fd>1)?tab.Strings.SearchResultsNotShownPlural(fd.toString()):tab.Strings.SearchResultsNotShownSingular);this.$p.push(spiff.ListItemViewModel.newListItem(fe,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$p,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var eZ="<div class='{0}' title='{1}'>{1}</div>";var fa;if(ss.isValue(e.get_data())){var fb=e.get_data();fa=fb.text}else{fa=e.get_id()}var fc=ss.formatString(eZ,'tab-list-item-label',tableau.format.escapeHTML(fa));return $(fc).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var eZ=e.get_data();this.get_compositeSearchWidget().setSearchText(eZ.text);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([eZ.objectId]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();this.get_viewModel().lastSatisfiedSearchResults={dataHighlighterItems:[eZ]};this.get_viewModel().saveSearchTextForItem(eZ.text,eZ.objectId)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}else{this.zoneTitleRegionRootElement.height('')}var eZ=this.dataHighlighterViewModel.get_titleAreaWidth();if(eZ>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$m.addClass('tab-HorizontalLayout')}else{this.$m.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$m.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$n=(this.$e()?this.$h():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$e()){this.$i()}},$h:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var eZ=e.prop('selectionStart');var fa=e.prop('selectionEnd');var fb=eZ!==fa;if(fb){return null}return eZ},$e:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$i:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$b:function(e){this.get_viewModel().set_isActive(true);this.$o=true},$c:function(e){tab.WindowHelper.clearSelection();this.$o=false},$d:function(e){var eZ=this.$h();var fa=ss.isValue(eZ);var fb=ss.isValue(this.$n);if(this.$o){if(fa&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$o=false}else if(this.$e()&&fb&&fa){var fc=ss.unbox(this.$n);var fd=ss.unbox(eZ);if(fc===fd){var fe=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(fd===fe){this.removeList()}}}this.$n=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$o=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$o=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$k()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$9:function(){if(!this.$e()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$i()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}},ss.makeGenericType(spiff.BaseView$1,[bx]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bx]),spiff.IListItemContentCreator]);ss.initEnum(bw,a,{none:0,fullDomain:1,searchResults:2});ss.initClass(bx,a,{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_domainItemsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_domainItemsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$b)){return this.$b.html}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().h!==0)?this.$b.h:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().w!==0)?this.$b.w:0)},get_zoneHasBorder:function(){return this.$5.get_zoneHasBorder()},get_zoneWidth:function(){return this.$5.get_zoneWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$b)?this.$b.caption:'')},get_searchPlaceholderString:function(){return this.$5.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$5.get_fullDomainItemSet()},get_searchText:function(){return this.$9},set_searchText:function(e){var eZ=!ss.referenceEquals(e,this.$9);this.$9=e;if(eZ&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$5.get_numHighlighted()},get_isActive:function(){return this.$7},set_isActive:function(e){var eZ=e!==this.$7;this.$7=e;if(eZ&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$5.get_maxNumberListItems()}return e},get_formatStyle:function(){return cb.makeFormatStyleDict(this.$5.get_bodyTextStyle())},alertIfDomainItemsChanged:function(){if(bx.$0(this.$6,this.get_fullDomainItemSet().dataHighlighterItems)){this.$6=ss.arrayClone(this.get_fullDomainItemSet().dataHighlighterItems);this.raiseActionEvent(this.$2$5)}},$2:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,eZ){if(tab.ApplicationModel.get_instance().get_isOffline()){var fa=e.toLowerCase();var fb=[];var fc=[];var fd=this.$5.get_fullDomainItemSet().dataHighlighterItems;for(var fe=0;fe<fd.length;fe++){var ff=fd[fe];if(ff.text.toString().toLowerCase().indexOf(fa)!==-1){fc.push(ff.objectId);fb.push(ff)}}this.lastSatisfiedSearchTerm=e;var fg={dataHighlighterItems:Array.prototype.slice.call(fb),totalNumberOfItemsInSet:fb.length};this.lastSatisfiedSearchResults=fg;if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,fg)}this.highlightItems(Array.prototype.slice.call(fc))}else{var fh=new tab.HighlightItemsByPatternMatchCmd;fh.c['fn']=this.$5.get_fieldName();fh.c['valueString']=e;fh.c['visualIdPresModel']=this.$a;fh.set_uiBlocking('none');fh.invoke().done(ss.mkdel(this,function(fi){if(eZ){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=fi.$$c['dataHighlighterItemSet'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,fi.$$c['dataHighlighterItemSet'])}}))}},saveSearchTextForItem:function(e,eZ){var fa=new tab.HighlightItemsByPatternMatchCmd;fa.c['fn']=this.$5.get_fieldName();fa.c['valueString']=e;fa.c['visualIdPresModel']=this.$a;fa.c['objectIds']=[eZ];fa.invoke()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$5,this.$5.get_fieldName(),e,this.$a,this.$2())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$5,this.$5.get_fieldName(),this.$a,this.$2())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.dataHighlighterItems.map(function(e){return e.objectId}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$4:function(){var e=this.$8.get_model();var eZ=ss.isValue(e.pm)&&ss.isValue(e.pm.zoneTitle);if(eZ){var fa=(this.$8.get_model().get_hasTitle()?e.pm.zoneTitle:null);if(!ss.referenceEquals(fa,this.$b)){this.$b=fa;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$3:function(){this.set_isActive(this.$5.get_isActive());this.set_searchText(this.$5.get_searchText());this.alertIfDomainItemsChanged()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(by,a,{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$2},get_zoneTitleRegionRootElement:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(bz,a,{show:function(){var e=new bW;var eZ=ss.mkdel(this,function(fa){this.onAuthDialogMessage(fa,e)});e.eventHandler=eZ;tab.WindowHelper.addListener(window.self,'message',eZ);this.$0.add_closed(ss.mkdel(this,function(fa,fb){this.cleanup(e)}));this.$0.show()},cleanup:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);this.$0.close(null)},dispose:function(){this.$0.dispose()}},N,[ss.IDisposable]);ss.initClass(bA,a,{setDateRange:function(e,eZ){this.$u=bA.$2(e);this.$s=bA.$2(eZ);this.$v=bA.$4(this.$u);this.$t=bA.$4(this.$s)},show:function(e,eZ){if(ss.isValue(e)){this.$p=bA.$4(bA.$2(e));this.$B=bA.$2(eZ||e)}this.$l();return this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))},hide:function(){this.$F=false;this.element.height('auto');return this.element.hide()},positionCalendarByElement:function(e){R.getViewport(ss.mkdel(this,function(eZ){var fa=e.offset();var fb=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fc=this.getMaxHeight();var fd=tab.DoubleUtil.roundToInt(e.outerHeight());fa=this.$8(eZ,fd,fa,fb,fc);this.element.offset(fa)}))},$8:function(e,eZ,fa,fb,fc){var fd=tab.DoubleUtil.roundToInt(fa.left);var fe=tab.DoubleUtil.roundToInt(fa.top);var ff=e.getDocumentViewport({x:fd,y:fe});var fg=ff.l+ff.w;var fh=ff.t+ff.h;if(fe+eZ-1+fc<=fh){fe+=eZ-1;fd=bA.$1(fd,fb,ff.l,fg)}else if(fe-(fc-1)>ff.t){this.useMaxHeight();fe-=fc-1;fd=bA.$1(fd,fb,ff.l,fg)}else if(fd-(fb-1)>ff.l){fd-=fb-1;fe=bA.$1(fe,fc,ff.t,fh)}else{var fi=fd;fd=ff.l;fd=bA.$1(fd,fb,ff.l,fi);fe=bA.$1(fe,fc,ff.t,fh)}return{left:fd,top:fe}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$F){this.$F=true;this.$l();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$d:function(){var e=$('<div>').addClass('tab-datepicker-header');this.$x=$('<span>').addClass('tab-datepicker-header-text').appendTo(e);this.$A=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$j));this.$z=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$i));return e},$c:function(){var e=$('<div>').addClass('tab-datepicker-footer');$('<span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$D,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$E=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$6));return e},$e:function(){this.$w=$('<table>').addClass('tab-datepicker-month-table');this.$w.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$7));return this.$w},$7:function(e){var eZ=$(e.target);if(!eZ.hasClass('tab-disabled')){this.$h(eZ)}},$h:function(e){this.$w.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var eZ=e.data();this.$B=new Date(eZ['year'],eZ['month'],eZ['dayOfMonth']);var fa=new Date(Date.UTC(eZ['year'],eZ['month'],eZ['dayOfMonth']));this.$k(fa)},$k:function(e){this.element.trigger('dateSelected',[e])},$j:function(e){if(this.$g()){if(this.$p.getMonth()===0){if(this.$p.getFullYear()>1){this.$p.setMonth(11);this.$p.setFullYear(this.$p.getFullYear()-1)}}else{this.$p.setMonth(this.$p.getMonth()-1)}this.$l()}},$i:function(e){if(this.$f()){if(this.$p.getMonth()===11){this.$p.setMonth(0);this.$p.setFullYear(this.$p.getFullYear()+1)}else{this.$p.setMonth(this.$p.getMonth()+1)}this.$l()}},$g:function(){return ss.isNullOrUndefined(this.$v)||this.$p>this.$v},$f:function(){return ss.isNullOrUndefined(this.$t)||this.$p<this.$t},$6:function(e){var eZ=bA.$3(new Date);if(!this.$9(eZ)){this.$k(eZ)}},$l:function(){this.$n();this.$o();this.$m();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$n:function(){this.$x.text(this.$y(bA.$3(this.$p)));this.$A.toggleClass('tab-disabled',!this.$g());this.$z.toggleClass('tab-disabled',!this.$f())},$m:function(){this.$E.text(this.$r(bA.$3(new Date)));this.$E.toggleClass('tab-disabled',this.$a(bA.$4(new Date)))},$b:function(e){return $('<td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',bA.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$B&&bA.$5(e,this.$B)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$p.getMonth()).toggleClass('tab-disabled',this.$9(e))},$9:function(e){return ss.isValue(this.$u)&&e<this.$u||ss.isValue(this.$s)&&e>this.$s},$a:function(e){return ss.isValue(this.$v)&&e<this.$v||ss.isValue(this.$t)&&e>this.$t},$o:function(){var e=(new Date(this.$p.getFullYear(),this.$p.getMonth(),1)).getDay();var eZ;var fa,fb;var fc,fd,fe;this.$w.html('');fc=$('<thead>').appendTo(this.$w);fe=$('<tr>').appendTo(fc);eZ=this.$q;do{$('<th>').addClass('tab-datepicker-header-cell').text(this.$C[eZ]).appendTo(fe);eZ=bA.$0(eZ,1)}while(eZ!==this.$q);fd=$('<tbody>').appendTo(this.$w);fe=$('<tr>').appendTo(fd);fa=new Date(this.$p.getFullYear(),this.$p.getMonth(),1);fa.setDate(fa.getDate()-bA.$0(e,-this.$q));fb=new Date(this.$p.getFullYear(),this.$p.getMonth()+1,1);fb.setDate(fb.getDate()+bA.$0(this.$q,-fb.getDay()));while(!bA.$5(fa,fb)){this.$b(fa).appendTo(fe);fa.setDate(fa.getDate()+1);if(fa.getDay()===this.$q&&!bA.$5(fa,fb)){fe=$('<tr>').appendTo(fd)}}if(this.$F){var ff=fd.find('tr');if(ff.length<6){var fg=tab.DoubleUtil.roundToInt(ff.height());for(var fh=ff.length;fh<6;++fh){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(fg).insertAfter(ff.last())}}}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bB,a,{});ss.initClass(bC,a,{});ss.initClass(bD,a,{render:function(){return(this.props.isShown?this.$0():null)},$0:function(){return React.createElement(SharedWidgets.DialogWidget,this.props.dialogProps)}},React.Component);ss.initClass(bE,a,{$6:function(){var e={onCloseRequest:ss.mkdel(this,this.hide),handleGlassClick:ss.mkdel(this,this.$5)};if(ss.isValue(this.$7)){$.extend(e,this.$7.get_props())}return e},dispose:function(){if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide))}spiff.BaseViewModel.prototype.dispose.call(this)},show:function(e){if(ss.isNullOrUndefined(e)){return}if(this.$8&&ss.isValue(this.$7)){this.$7.onDialogHidden()}spiff.GlobalUIEvents.fireDismissTemporaryElements();this.$8=true;this.$7=e;this.$7.add_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.add_propsUpdated(ss.mkdel(this,this.incrementProps));this.incrementProps()},hide:function(){if(!this.$8){return}if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.remove_propsUpdated(ss.mkdel(this,this.incrementProps));this.$7.onDialogHidden();this.$7=null}this.$8=false;this.incrementProps()},createUpdatedProps:function(){return{isShown:this.$8,dialogProps:this.$6()}},$5:function(){if(tsConfig.is_mobile){this.hide()}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initInterface(cL,a,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(bF,a,{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,eZ,fa,fb){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,eZ){}},null,[cL,ss.IDisposable]);ss.initClass(bG,a,{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new bG;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=cb.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}},tab.FontProperties);ss.initClass(bH,a,{});ss.initClass(bI,a,{handleWidgetPropertyChanged:function(e,eZ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bM,bK,Object]));ss.initClass(bJ,a,{show:function(){var e=document.createElement('div');this.$2=function(){_.defer(function(){ReactDOM.unmountComponentAtNode(e)})};var eZ={testId:'FileDownload-Dlg',isModal:true,title:this.$4,showCloseButton:false,type:0,positioningBehavior:0,onCloseRequest:ss.mkdel(this,this.dispose),shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,children:this.$3,zIndex:1000};var fa=this.$1(ss.mkdel(this,this.dispose));eZ.footerContent=fa;eZ.showFooter=true;var fb=React.createElement(SharedWidgets.DialogWidget,eZ);ReactDOM.render(fb,e)},dispose:function(){this.$2()},$1:function(e){var eZ=bJ.$0(e);var fa=this.$0(e);var fb=[];fb.push(eZ);fb.push(fa);var fc=fb;var fd=React.createElement(SharedWidgets.Block,{style:{display:'flex',alignItems:'center',justifyContent:'flex-end',height:'100%'},children:fc});return fd},$0:function(e){var eZ=React.DOM.a({href:this.$5,target:this.$6,className:'tabDownloadFileButton',style:{textDecoration:'none',wordBreak:'keep-all'},onClick:function(fb){e()},'data-test-id':'DownloadLink'},tab.Strings.DialogButtonDownload);var fa=React.createElement(SharedWidgets.InlineBlock,{children:eZ,className:spiff.ClickBuster.suppressClickBustingClass,style:{paddingLeft:SharedWidgets.TabStyles.Spacing.MediumSpace}});return fa}},null,[ss.IDisposable]);ss.initClass(bK,a,{});ss.initClass(bL,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bM,a,{get_dom:function(){return this.get_template()},$f:function(){return(tsConfig.is_mobile?tab.Strings.ToolbarPublicDownloadLabelMobile:tab.Strings.ToolbarPublicDownloadLabelWeb)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();window.setTimeout(ss.mkdel(this,function(){var e=this.$h.get_menu().menuItems;for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];if(fa.enabled){this.$h.set_focusedItem(fa);break}}}),0)},$9:function(){this.get_dom().downloadArea.find('.tabDisabled .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDownloadExplanation);if(!this.$i.get_exportCrosstabEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadCrosstab .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledCrosstabDownloadExplanation)}if(!this.$i.get_exportDataEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadData .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDataDownloadExplanation)}if(!this.$i.get_downloadWorkbookEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadWorkbook .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledWorkbookDownloadExplanation)}},$b:function(){var e=[];if(this.$i.get_shouldShowImage()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportImage,ss.mkdel(this.$i,this.$i.exportImage),'tabDownloadImage'))}var eZ=(this.$i.get_exportDataEnabled()?ss.mkdel(this.$i,this.$i.exportData):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportData,eZ,'tabDownloadData'));var fa=(this.$i.get_exportCrosstabEnabled()?ss.mkdel(this.$i,this.$i.exportCrosstab):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportCrosstab,fa,'tabDownloadCrosstab'));if(this.$i.get_shouldShowPdf()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarPrintToPdf,ss.mkdel(this.$i,this.$i.exportPdf),'tabDownloadPdf'))}if(this.$i.get_shouldShowDownloadWorkbook()){var fb=(this.$i.get_downloadWorkbookEnabled()?ss.mkdel(this.$i,this.$i.downloadWorkbook):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarWorkbook,fb,'tabDownloadWorkbook'))}if(this.$j&&ev.$0()){e.push(spiff.MenuItem.newActionItemWithItemClass(this.$f(),ss.mkdel(this,this.$e),'tabPublicApp'))}if(ev.get_toolbarIsBottom()){e.reverse()}return e},$d:function(){if(ev.$0()){return new spiff.UnificationDarkMenuTheme}else{return new spiff.UnificationLightMenuTheme}},$e:function(){window.open(this.$i.get_downloadAppUrl())},$c:function(){this.get_dom().explanationTitle.append(tab.Strings.ToolbarPublicExplanationTitle);this.get_dom().explanationBody.append(tab.Strings.ToolbarPublicExplanationText);var e='<span class=tabWindowsLogo />';var eZ='<span class=tabAppleLogo />';this.get_dom().availablePlatforms.append(tab.Strings.ToolbarPublicAvailablePlatforms(e,eZ));var fa=spiff.LabelButton.newTextButton();fa.set_label(this.$f());fa.add_click(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fa.remove_click(ss.mkdel(this,this.$e))})));this.get_dom().downloadAppButton.append(fa.element)},$a:function(){var e=new spiff.Menu(this.$b());this.$h=spiff.MenuViewModel.createForMenu(e,null,this.$d(),null,true);this.$h.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked)})));this.$g=tab.ObjectRegistry.newView(spiff.MenuView).call(null,[this.$h]);this.get_dom().menuArea.append(this.$g.element);if(!this.$j&&ev.$0()){this.$c()}}},ss.makeGenericType(spiff.BaseView$1,[bN]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bN])]);ss.initClass(bN,a,{add_downloadInitiated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_downloadInitiated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hideDialogRequested:function(e){this.add_downloadInitiated(e)},remove_hideDialogRequested:function(e){this.remove_downloadInitiated(e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return bM},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarDownload;var eZ=!tsConfig.is_mobile;var fa=new bK;fa.viewModel=this;return{title:e,testId:'download',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldAdjustPositionOnWindowResize:eZ,shouldRecenterOnUpdate:true,children:React.createElement(bI,fa)}},get_shouldShowDownloadWorkbook:function(){return!tsConfig.is_mobile},get_downloadWorkbookEnabled:function(){return!tsConfig.is_mobile&&(!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view)},get_downloadAppUrl:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return'http://public.tableau.com/s/download?source=viz_toolbar&ref='+e.split('?')[0]},get_shouldShowPdf:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('print')},get_shouldShowImage:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportimage')},get_exportDataEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportdata')},get_exportCrosstabEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportcrosstab')},disposeViewModel:function(){this.dispose()},downloadWorkbook:function(){tab.ToolbarServerCommands.downloadWorkbook();this.$2()},exportImage:function(){var e=new bX;e.setSheetScrollPositions(E.get_instance().get_client().get_viewControllers());tab.ToolbarServerCommands.exportImage(e);this.$2()},exportData:function(){tab.ToolbarServerCommands.exportData();this.$2()},exportCrosstab:function(){tab.ToolbarServerCommands.exportCrosstab();this.$2()},exportPdf:function(){tab.ToolbarServerCommands.exportPdf(new bX);this.$2()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bO,a,{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null},spiff.ModalDialog,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bP,a,{showInternal:function(){this.get_body().append(this.$P)}},bO,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bQ,a,{showInternal:function(){var e=$('<iframe />');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$P);this.get_body().append(e)}},bO,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bR,a,{show:function(){this.parentNode=document.createElement('div');var e={key:'EditConnectionInformationDialog',content:tab.Strings.EditConnectionInformationDialogText(this.$1),title:tab.Strings.EditConnectionInformationDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,function(){ReactDOM.unmountComponentAtNode(this.parentNode)})};e.dialogButtons.push({buttonClickHandler:this.$2,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:function(){},buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var eZ=React.createElement(dR,e);ReactDOM.render(eZ,this.parentNode)},$0:function(){var e=new tab.ChangeWorkbookUIModeCmd;e.c['uiMode']='data-tab';e.set_uiBlocking('none');var eZ=e;eZ.invoke()}},O,[ss.IDisposable]);ss.initClass(bS,a,{});ss.initClass(bT,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bU,a,{},ss.makeGenericType(spiff.BaseView$1,[bV]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bV])]);ss.initClass(bV,a,{onChildrenAdded:function(){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bW,a,{});ss.initClass(bX,a,{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];this.$0[fa.get_sheetName()]=fa.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(function(e){if(tab.FeatureFlags.isEnabled('NewPdfDialog')){e.showExportPdfDialog(tab.CommandController.get().get_legacySession())}else{var eZ=e.createSpiffPdfExportDialog(tab.CommandController.get().get_legacySession(),tsConfig.is_mobile);eZ.add_closed(function(){eZ.dispose();eZ=null});eZ.show()}})}},null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(bY,a,{createEditConnectionButtonProps:function(){var e=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(eZ){eZ.showReplaceFileDialog(this.props.connectionName,this.props.connectionClass)}))});return{handleClick:function(eZ){e()},buttonType:3,testId:'FileReconnectEditConnection',label:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}},createPrimaryButtonProps:function(){var e=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(eZ){eZ.showReplaceFileDialog(this.props.connectionName,this.props.connectionClass)}))});return{handleClick:function(eZ){e()},buttonType:1,testId:'FileReconnectLocateFile',label:tab.Strings.SheetReconnectLocateFileLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'30px',marginRight:'auto'}}}},ss.makeGenericType(dM,[Object]));ss.initClass(bZ,a,{});ss.initClass(ca,a,{});ss.initClass(cb,a,{});ss.initClass(cc,a,{});ss.initClass(cd,a,{},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(ce,a,{show:function(){this.$0.show()},cleanup:function(e){this.$0.closeAndDispose()},dispose:function(){this.$0.dispose()}},N,[ss.IDisposable]);ss.initClass(cf,a,{createOverlay:function(e){var eZ=$('.dashboardSpacer');var fa=$("<div id='auth-overlay' tabindex='0'></div>");var fb=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(e)});if(tab.FeatureFlags.isEnabled('DataToTheWeb')&&tsConfig.is_authoring&&(this.dataSourceConnectionAttemptErrorResponse.ConnectionClass==='excel-direct'||this.dataSourceConnectionAttemptErrorResponse.ConnectionClass==='textscan')){this.$0(fa)}else{var fc=new cd(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fb);fa.append(fc.element)}eZ.append(fa)},$0:function(e){var eZ={connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,connectionName:this.dataSourceConnectionAttemptErrorResponse.ConnectionName,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption};ReactDOM.render(React.createElement(bY,eZ),e.get(0))},show:function(){var e=new bW;var eZ=ss.mkdel(this,function(){this.cleanup(e)});eW.add_zoneBecameValid(eZ);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){eW.remove_zoneBecameValid(eZ)});this.createOverlay(e)}},M,[ss.IDisposable]);ss.initClass(da,a,{dispose:function(){if(this.get_viewModel().get_visible()){this.$b=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[db]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,eZ){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$a))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));this.element.fadeIn('fast');this.updateContent();if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}},$a:function(){if(this.$b){this.dispose()}else{this.element.detach()}},$9:function(e){this.get_viewModel().hide()}},ss.makeGenericType(spiff.BaseView$1,[db]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[db])]);ss.initClass(cg,a,{},da,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[db])]);ss.initClass(ch,a,{invoke:function(){return this.invoke$1(tab.CommandUtils.newCommand('get-runtime-data-model',this.c))}},ss.makeGenericType(tab.BaseCmd$2,[Object,ci]));ss.initClass(ci,a,{});ss.initInterface(cB,a,{get_keyCombos:null,get_element:null,onValidKeyCombo:null,isAllowed:null,executeShortcut:null});ss.initClass(cM,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},get_keyCombos:null,get_element:null,onValidKeyCombo:function(e){if(this.$0()){e.stopPropagation();e.preventDefault()}},isAllowed:null,executeShortcut:null,toString:function(){return this.get_element().attr('class')+this.get_element().attr('id')+this.get_keyCombos()}},null,[cB]);ss.initClass(cj,a,{get_element:function(){return $(document.body)},isAllowed:function(e){return cN.isGloballyAllowed(e)}},cM,[cB]);ss.initClass(ck,a,{get_keyCombos:function(){return cP.op_Implicit(new cO.$ctor1(112))},isAllowed:function(e){return tsConfig.is_authoring||tab.FeatureFlags.isEnabled('WebExperimentalKeyboardShortcuts')},executeShortcut:function(e){window.open(ck.$0)}},cj,[cB]);ss.initClass(cl,a,{});ss.initEnum(cm,a,{rectangle:0,circle:1,line:2,polygon:3});ss.initClass(cK,a,{$1:null},spiff.Template,[ss.IDisposable]);ss.initClass(cn,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}},cK,[ss.IDisposable]);ss.initClass(co,a,{$1:function(){return this.domRoot.find('.message')},$2:function(){return this.domRoot.find('.path')}},spiff.Template,[ss.IDisposable]);ss.initClass(cp,a,{$2:function(){return this.domRoot.find('.message')},$1:function(){return this.domRoot.find('a')}},spiff.Template,[ss.IDisposable]);ss.initInterface(cr,a,{},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[D])]);ss.initInterface(cv,a,{get_filterType:null},[ss.IDisposable]);ss.initInterface(cw,a,{add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,get_captions:null,get_currentPointIndex:null,clickNext:null,clickPrevious:null});ss.initInterface(cx,a,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initClass(cz,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},setSrc:function(e,eZ){if(!ss.referenceEquals(this.get_frame().prop('original_url'),eZ)){this.get_frame().prop('src',e);this.get_frame().prop('original_url',eZ)}}},spiff.Template,[ss.IDisposable]);ss.initInterface(cA,a,{get_type:null});ss.initClass(cC,a,{});ss.initClass(cD,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cE,a,{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$j},$h:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.$j=this.$b()},$b:function(){var e=$('<img>');var eZ=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$j)){window.setTimeout(ss.mkdel(this,function(){this.$i=e.get(0);this.$f()}),1)}else{this.$i=e.get(0);this.$f()}e.off('load')});e.on('load',eZ);var fa=this.$h().get_imageUrl();if(!ss.isNullOrEmptyString(this.$h().get_imageZonePresModel().image)){fa='data:image/jpeg;base64,'+this.$h().get_imageZonePresModel().image}e.css('border','none').css('display','block').attr('src',fa);return e},$9:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$d:function(){this.$f()},$f:function(){var e=this.$h().get_imageZonePresModel();if(e.isScaled){this.$e()}var eZ=this.$g();this.$9(eZ);if(e.isCentered){this.$a(eZ)}return eZ},$c:function(){var e=this.$h().get_zoneModel();var eZ=this.$h().get_imageZonePresModel();var fa=eF.absolutizeURI(eZ.url,false);var fb=e.get_zoneCommonModel().get_zoneType()==='bitmap'&&!tab.MiscUtil.isNullOrEmpty$3(eZ.imageKey)&&!tab.MiscUtil.isNullOrEmpty$3(fa);if(fb){return $('<a/>').attr('href',fa).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div/>')}},$g:function(){var e=this.get_image();var eZ=this.$c();eZ.append(e);return eZ},$e:function(){var e=this.$h().get_zoneModel();var eZ=this.$i['width'];var fa=this.$i['height'];if(tab.BrowserSupport.get_isIE()){eZ=this.$i['naturalWidth'];fa=this.$i['naturalHeight']}var fb=0;var fc=0;var fd;if(eZ/e.get_zoneCommonModel().get_contentWidth()>=fa/e.get_zoneCommonModel().get_contentHeight()){fd={width:e.get_zoneCommonModel().get_contentWidth()+'px',height:'auto'};fb=e.get_zoneCommonModel().get_contentWidth();fc=ss.Int32.trunc(e.get_zoneCommonModel().get_contentWidth()/eZ*fa)}else{fd={height:e.get_zoneCommonModel().get_contentHeight()+'px',width:'auto'};fc=e.get_zoneCommonModel().get_contentHeight();fb=ss.Int32.trunc(e.get_zoneCommonModel().get_contentHeight()/fa*eZ)}if(tab.BrowserSupport.get_isIE()){var fe=window.screen['deviceXDPI'];var ff=window.screen['systemXDPI'];var fg=fe/ff>1;if(!fg&&fb>0&&fc>0&&fb/eZ<0.75&&eZ<500&&fa<500){var fh=this.$j.get(0).getAttribute('src');var fi=cC.scaleImage(this.$i,fb,fc,ss.Int32.trunc(eZ),ss.Int32.trunc(fa));this.$j=$(fi);this.$j.get(0).setAttribute('src',fh);fd=ss.mkdict(['width',fb+'px','height',fc+'px'])}else{this.$j=$(this.$i)}}this.$j.css(fd)},$a:function(e){var eZ=this.$h().get_zoneModel();var fa=ss.Int32.div(eZ.get_zoneCommonModel().get_contentHeight()-tab.DoubleUtil.roundToInt(this.get_image().height()),2);var fb=ss.Int32.div(eZ.get_zoneCommonModel().get_contentWidth()-tab.DoubleUtil.roundToInt(this.get_image().width()),2);e.css(ss.mkdict(['position','absolute','top',fa.toString()+'px','left',fb.toString()+'px']))}},ss.makeGenericType(spiff.BaseView$1,[cF]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cF])]);ss.initClass(cF,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$2.get_zoneModel()},get_imageZonePresModel:function(){return this.$2.pm},get_imageUrl:function(){var e=tab.CommandController.get().get_legacySession();var eZ=e.formatDashboardTempfileReference(this.get_imageZonePresModel().imageKey,true,false);return eZ},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initInterface(cG,a,{get_location:null,set_location:null});ss.initInterface(cH,a,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initInterface(cI,a,{add_pointCaptured:null,remove_pointCaptured:null,get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initClass(cJ,a,{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():tab.DoubleUtil.roundToInt(this.$a.scrollTop()))},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,eZ){e.toggleClass('tabIterButtonDisabled',!eZ)}},null,[ss.IDisposable]);ss.initClass(cN,a,{});ss.initClass(cO,a,{get_qualifiers:function(){return this.$1$1},set_qualifiers:function(e){this.$1$1=e},get_triggerKey:function(){return this.$1$2},set_triggerKey:function(e){this.$1$2=e},toString:function(){return String.fromCharCode(this.get_triggerKey())+this.get_qualifiers()}});cO.$ctor2.prototype=cO.$ctor3.prototype=cO.$ctor1.prototype=cO.prototype;ss.initClass(cP,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},hasValidCombo:function(e){var eZ=e.which;return _.any(this.$0(),function(fa){return eZ===fa.get_triggerKey()&&fa.get_qualifiers().hasValidQualifiers(e)})},toString:function(){return this.$0().toString()}});ss.initClass(cQ,a,{$1:function(){if(tab.BrowserSupport.get_isMac()){this.command=true}else{this.control=true}if(tab.BrowserSupport.get_isWindows()){this.winControl=true}},hasValidQualifiers:function(e){return this.alt===e.altKey&&this.command===cQ.$0(e)&&this.control===e.ctrlKey&&this.controlOrCommand===this.$0(e)&&this.macControl===cQ.$1(e)&&this.shift===e.shiftKey&&this.winControl===cQ.$2(e)&&this.windows===cQ.$3(e)},$0:function(e){if(!this.controlOrCommand&&(this.winControl||this.macControl)){return false}return(tab.BrowserSupport.get_isMac()?e.metaKey:e.ctrlKey)},toString:function(){return this.alt.toString()+this.command+this.control+this.controlOrCommand+this.macControl+this.shift+this.winControl+this.windows}});ss.initClass(cR,a,{render:function(){var e=((this.props.marginOfError>0.1)?this.props.tooltipText:'');return React.DOM.div({className:'tab-MapScale',title:e,style:this.$2()},React.DOM.div({className:'tab-MapScaleOuterHalo',style:this.$0()}),React.DOM.div({className:'tab-MapScaleInnerHalo',style:this.$0()}),React.DOM.label({className:'tab-MapScaleReadout',style:this.$1()},this.props.readoutText))},$2:function(){var e=(this.props.shouldShowMapScale?'':'none');return{width:this.props.width+'px',color:this.props.readoutColor,borderColor:this.props.readoutColor,display:e}},$1:function(){var e='1px 1px 0 '+this.props.borderColor+', 1px -1px 0 '+this.props.borderColor+', -1px 1px 0 '+this.props.borderColor+', -1px -1px 0 '+this.props.borderColor;return{textShadow:e}},$0:function(){return{borderColor:this.props.borderColor}}},React.Component);ss.initClass(cS,a,{createUpdatedProps:function(){var e=this.$5;if(!e.get_hasPresModel()){return cS.$0}return{width:e.get_mapScaleWidth(),readoutText:e.get_mapScaleReadoutString(),readoutColor:e.get_mapScaleColor(),borderColor:e.get_mapScaleBorderColor(),shouldShowMapScale:e.get_shouldShowMapScale(),marginOfError:e.get_mapScaleMarginOfError(),tooltipText:e.get_mapScaleTooltipString()}},handleUpdatedMapScaleInfo:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(cT,a,{});ss.initClass(cU,a,{dispose:function(){$(document).off('.ModifierKeyState')},$0:function(e){cU.fireModifierKeysChanged(e)}},null,[ss.IDisposable]);ss.initClass(cV,a,{});ss.initClass(cW,a,{});ss.initClass(cX,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];var fb=ss.mkdict(['style',fa.get_style(),'weight',fa.get_weight()]);var fc=new FontFace(fa.get_fontFamily(),fa.get_source(),fb);if(ss.keyExists(this.$2,fa.get_hash())){continue}cX.$0().add(fc);this.$2[fa.get_hash()]=fc}},downloadFonts:function(){var e=_.values(this.$2);for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];if(fa.status==='unloaded'){this.$3.push(fa.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},null,[cy]);ss.initClass(cY,a,{});ss.initEnum(cZ,a,{localOnly:0,needRemote:1,needRemoteForViTOnly:2});ss.initClass(db,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$6},set_message:function(e){this.$6=e},get_visible:function(){return this.$7},get_autoHideTimeout:function(){return this.$4},set_autoHideTimeout:function(e){this.$4=e},get_displayPosition:function(){return this.$5},set_displayPosition:function(e){this.$5=e},show:function(){if(this.$7){return}this.$7=true;if(this.$4>0){this.$3=window.setTimeout(ss.mkdel(this,this.hide),this.$4)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$7===false){return}this.$7=false;window.clearTimeout(this.$3);this.raiseActionEvent(this.$2$2)},$2:function(e,eZ){this.hide()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dc,a,{get_location:function(){return{x:ss.Int32.trunc(this.$7.x),y:ss.Int32.trunc(this.$7.y)}},set_location:function(e){this.$7={x:e.x,y:e.y};this.$6()},clone:function(){return new dc(this.$8.get(0),this.element.attr('src'))},show:function(e){this.$7=e;this.$6()},hide:function(){this.element.detach()},$6:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$8[0])){this.$8.append(this.element)}if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7.y;var eZ=this.$7.x;this.element.css(ss.mkdict(['top',e+'px','left',eZ+'px']))}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cG]);ss.initClass(dd,a,{buildItem:function(e){var eZ=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeGroup)){eZ.push('active')}return React.DOM.div({className:eZ.join(' '),style:{whiteSpace:'nowrap'},title:e.name},e.name)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(eZ){this.props.onGroupSelected(e.data)})}},onScrollStop:function(e,eZ){if(e.y===eZ.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(de,a,{buildItem:function(e){var eZ=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){eZ.push('active')}return React.DOM.div({className:eZ.join(' '),style:{whiteSpace:'nowrap'},title:e.friendlyName},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(eZ){this.props.onUserSelected(e.data)})}},onScrollStop:function(e,eZ){if(e.y===eZ.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(df,a,{},ss.makeGenericType(spiff.BaseView$1,[dg]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dg])]);ss.initClass(dg,a,{activate:function(){if(!ss.staticEquals(this.$2,null)){this.$2()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dh,a,{handleWidgetPropertyChanged:function(e,eZ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dk,di,Object]));ss.initClass(di,a,{});ss.initClass(dj,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dk,a,{get_dom:function(){return this.get_template()},$d:function(){this.get_dom().moreAboutPublicSection.empty();this.get_dom().viewAndAuthorInfoSection.empty();this.$b();if(this.$e.get_shouldShowViewCount()){this.$c();if(this.$e.get_shouldShowAuthorByLine()){this.$a()}}if(this.$e.get_shouldShowAuthorByLine()){this.$9()}},$b:function(){this.get_dom().moreAboutPublicSection.attr('href',this.$e.get_publicLogoLink());this.get_dom().moreAboutPublicSection.text(tab.Strings.ToolbarLearnMoreAboutTableau)},$c:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(this.$e.get_localizedViewCount()));this.get_dom().viewAndAuthorInfoSection.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().viewAndAuthorInfoSection.append(e)},$9:function(){var e=$('<span>').html(this.$e.get_authorProfileLink());this.get_dom().viewAndAuthorInfoSection.append(e)},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)}},ss.makeGenericType(spiff.BaseView$1,[dl]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dl])]);ss.initClass(dl,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return dk},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarMoreInfo;var eZ=new di;eZ.viewModel=this;return{title:e,testId:'public-info',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(dh,eZ)}},get_shouldShowAuthorByLine:function(){return ev.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return ev.$0()&&tsConfig.showViewCount&&ev.publicViewCount>tsConfig.viewCountThreshold},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var eZ=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(eZ),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_localizedViewCount:function(){var e=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;var eZ=e[2];var fa=e[8];var fb=e[9];return tableau.format.formatIntAuto(ev.publicViewCount,eZ,fa,fb)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(dp,a,{});ss.initClass(dq,a,{render:function(){var e=['tab-legacy-dropdown-container','tab-legacy-qf-bordered'].join(' ');var eZ={borderColor:this.props.borderColor};return React.DOM.div({className:e,style:eZ},React.DOM.div({className:'tab-legacy-dropdown-summary'},this.props.children),(!this.props.hideIcon?ss.mkdel(this,this.renderIcon)():null))},renderIcon:function(){var e={borderColor:this.props.borderColor};return React.DOM.div({className:'tab-legacy-dropdown-icon-container',style:e},React.DOM.div({className:'tab-legacy-dropdown-icon'}))}},spiff.PureRenderComponent);ss.initClass(dr,a,{render:function(){var e=['tab-legacy-qf-readout-container','tab-legacy-qf-bordered'].join(' ');var eZ={borderColor:this.props.borderColor};return React.DOM.div({className:e,style:eZ},this.$1(),(!this.props.hideIcon?ss.mkdel(this,this.$0)():null))},$1:function(){var e=(ss.isNullOrEmptyString(this.props.text)?'':this.props.text);var eZ=['tab-legacy-qf-readout-text',this.props.textClass].join(' ');return React.DOM.div({className:eZ},e)},$0:function(){var e=['tab-legacy-qf-readout-icon',this.props.iconClass].join(' ');return React.DOM.div({className:e})}},spiff.PureRenderComponent);ss.initClass(ds,a,{render:function(){var e={tap:ss.mkdel(this,function(fb){this.props.removeRecipientByIndex(this.props.recipientIndex)})};var eZ=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['']);var fa=React.DOM.span({className:'tabUserPillName'},this.props.recipientName);return React.DOM.div(this.$0(),fa,eZ)},$0:function(){var e='tabUserPill';if(!this.props.valid){e+=' error'}return{className:e,title:(this.props.valid?this.props.recipientName:this.props.errorText)}}},React.Component);ss.initClass(dt,a,{render:function(){var e=null;if(this.props.isUsers){e=_.map(this.props.users,ss.mkdel(this,function(fa,fb){return React.createElement(ds,{removeRecipientByIndex:this.props.removeRecipientByIndex,recipientIndex:fb,recipientName:fa.friendlyName,valid:ss.staticEquals(this.props.userValidator,null)||this.props.userValidator(fa),errorText:this.props.invalidItemText,key:fa.id})}))}else{e=_.map(this.props.groups,ss.mkdel(this,function(fa,fb){return React.createElement(ds,{removeRecipientByIndex:this.props.removeRecipientByIndex,recipientIndex:fb,recipientName:fa.name,valid:true,errorText:this.props.invalidItemText,key:fa.id})}))}var eZ=React.createElement(SharedWidgets.OutlineTextFieldWidget,{text:this.props.searchText,handleChange:this.props.newSearch,maxLength:50,containerStyle:{minWidth:'25px',maxWidth:'100px'},inputStyle:{border:'0px'},inputRef:function(fa){if(ss.isValue(fa)){fa.focus()}},key:'input-search',testId:'subscriber-search-input'});e.push(eZ);return React.DOM.div({className:'tabUserPillsComponent',onKeyDown:this.props.handleInputKeyDown,style:{overflowY:'auto'}},e)}},React.Component);ss.initClass(du,a,{add_disposed:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_disposed:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_propertyChanged:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_propertyChanged:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},createNewDefaultState:function(){return{activeItemIndex:0,moreRecipients:false,firstVisibleIndex:0,users:[],groups:[],activeUser:null,activeGroup:null}},dispose:function(){if(ss.isValue(this.$3$1)){this.$3$1(this);this.$3$1=null}this.$3$2=null;this.disposables.dispose();this.$8.dispose()},notifyPropertyChanged:function(e){if(!ss.staticEquals(this.$3$2,null)){this.$3$2(this,new tab.PropertyChangedEventArgs(e))}},$4:function(e){this.$3()},$2:function(e){this.$3()},$3:function(){var e=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(e)){e.value=null}this.setState(this.createNewDefaultState());this.props.emptySearch(true)},handleInputKeyUp:function(e){var eZ=e.keyCode;if(eZ===40||eZ===38||eZ===13){return}this.$a=e.target.value;this.$8.invokeActionDelayed();if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){this.searchGroups()}else{this.searchUsers()}},handleInputKeyDown:function(e){var eZ=this.state.activeItemIndex;switch(e.keyCode){case 40:{this.state.activeItemIndex=this.$5(1);if(eZ!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 38:{this.state.activeItemIndex=this.$5(-1);if(eZ!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 13:{if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var fa=this.state.groups[this.state.activeItemIndex];if(ss.isValue(fa)){this.props.onGroupSelected(fa.data);this.$2(fa.data)}}else{var fb=this.state.users[this.state.activeItemIndex];if(ss.isValue(fb)){this.props.onUserSelected(fb.data);this.$4(fb.data)}}e.preventDefault();break}}},updateActiveRecipient:function(e){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var eZ=this.state.groups[e];if(ss.isNullOrUndefined(eZ)||ss.referenceEquals(this.state.activeGroup,eZ.data)){this.setState(this.state);return}this.state.activeGroup=eZ.data}else{var fa=this.state.users[e];if(ss.isNullOrUndefined(fa)||ss.referenceEquals(this.state.activeUser,fa.data)){this.setState(this.state);return}this.state.activeUser=fa.data}if(ss.Nullable$1.lt(e,this.state.firstVisibleIndex)){this.state.firstVisibleIndex=ss.Nullable$1.sub(this.state.firstVisibleIndex,1)}else if(ss.Nullable$1.ge(e,ss.Nullable$1.add(this.state.firstVisibleIndex,6))){this.state.firstVisibleIndex=ss.Nullable$1.add(this.state.firstVisibleIndex,1)}this.setState(this.state)},$5:function(e){var eZ=this.state.activeItemIndex+e;var fa=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);if(eZ<0||eZ>=fa){return this.state.activeItemIndex}return eZ},resultsAvailable:function(){this.$9=false},checkCurrentSearchHasNoResults:function(){var e=this.searchFieldIsEmpty();var eZ=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);this.props.noResults(eZ===0&&!e&&!this.$9)},searchFieldIsEmpty:function(){var e=ss.isNullOrEmptyString(ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']).value);this.props.emptySearch(e);return e},searchUsers:function(){var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$a,0);e.done(ss.mkdel(this,function(eZ){this.state.users=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$1(eZ)}))},searchMoreUsers:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$a,this.state.users.length);e.done(ss.mkdel(this,this.$1))},$1:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(eZ){return this.state.users.push({data:eZ})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();this.checkCurrentSearchHasNoResults()},searchGroups:function(){var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$a,0);e.done(ss.mkdel(this,function(eZ){this.state.groups=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$0(eZ)}))},searchMoreGroups:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$a,this.state.groups.length);e.done(ss.mkdel(this,this.$0))},$0:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(eZ){return this.state.groups.push({data:eZ})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();this.checkCurrentSearchHasNoResults()},render:function(){return React.DOM.div({className:'tabUserSearchComponent'},this.$7(),this.$6())},$7:function(){return React.DOM.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.placeholderMessage,onKeyUp:ss.mkdel(this,this.handleInputKeyUp),onKeyDown:ss.mkdel(this,this.handleInputKeyDown),tabIndex:0,autoFocus:true,ref:'tabUserSearchInputRef'})},$6:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){return React.createElement(dd,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onGroupSelected:ss.delegateCombine(this.props.onGroupSelected,ss.mkdel(this,this.$2)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.groups,activeGroup:this.state.activeGroup})}else{return React.createElement(de,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onUserSelected:ss.delegateCombine(this.props.onUserSelected,ss.mkdel(this,this.$4)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.users,activeUser:this.state.activeUser})}}},React.Component,[ss.IDisposable]);ss.initClass(dv,a,{createNewDefaultState:function(){this.$b='';return{activeItemIndex:0,moreRecipients:false,firstVisibleIndex:0,users:[],groups:[],activeUser:null,activeGroup:null,searchText:''}},$4:function(e){this.$3()},$2:function(e){this.$3()},$3:function(){if(!this.props.isBulkSubscribe){var e=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(e)){e.value=null}}this.setState(this.createNewDefaultState());this.props.emptySearch(true)},newSearch:function(e){this.setState(function(eZ,fa){return{searchText:e}});this.$b=e;if(this.props.isUsers){this.searchUsers()}else{this.searchGroups()}},handleInputKeyUp:function(e){var eZ=e.keyCode;if(eZ===40||eZ===38||eZ===13){return}this.$b=e.target.value;if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){this.searchGroups()}else{this.searchUsers()}},handleInputKeyDown:function(e){var eZ=this.state.activeItemIndex;switch(e.keyCode){case 40:{this.state.activeItemIndex=this.$5(1);if(eZ!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 38:{this.state.activeItemIndex=this.$5(-1);if(eZ!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 13:{if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var fa=this.state.groups[this.state.activeItemIndex];if(ss.isValue(fa)){this.props.addGroup(fa.data);this.$2(fa.data)}}else{var fb=this.state.users[this.state.activeItemIndex];if(ss.isValue(fb)){this.props.addUser(fb.data);this.$4(fb.data)}}e.preventDefault();break}}},updateActiveRecipient:function(e){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var eZ=this.state.groups[e];if(ss.isNullOrUndefined(eZ)||ss.referenceEquals(this.state.activeGroup,eZ.data)){this.setState(this.state);return}this.state.activeGroup=eZ.data}else{var fa=this.state.users[e];if(ss.isNullOrUndefined(fa)||ss.referenceEquals(this.state.activeUser,fa.data)){this.setState(this.state);return}this.state.activeUser=fa.data}if(ss.Nullable$1.lt(e,this.state.firstVisibleIndex)){this.state.firstVisibleIndex=ss.Nullable$1.sub(this.state.firstVisibleIndex,1)}else if(ss.Nullable$1.ge(e,ss.Nullable$1.add(this.state.firstVisibleIndex,this.numberOfRowsInViewport))){this.state.firstVisibleIndex=ss.Nullable$1.add(this.state.firstVisibleIndex,1)}this.setState(this.state)},$5:function(e){var eZ=this.state.activeItemIndex+e;var fa=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);if(eZ<0||eZ>=fa){return this.state.activeItemIndex}return eZ},resultsAvailable:function(){this.$a=false},checkCurrentSearchHasNoResults:function(){var e=this.searchFieldIsEmpty();var eZ=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);this.props.noResults(eZ===0&&!e&&!this.$a)},searchFieldIsEmpty:function(){var e=ss.isNullOrEmptyString(ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']).value);this.props.emptySearch(e);return e},searchUsers:function(){var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$b,0);this.$a=true;e.done(ss.mkdel(this,function(eZ){this.state.users=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$1(eZ)}))},searchMoreUsers:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$b,this.state.users.length);e.done(ss.mkdel(this,this.$1))},$1:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(eZ){return this.state.users.push({data:eZ})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();if(!this.props.isBulkSubscribe){this.checkCurrentSearchHasNoResults()}},searchGroups:function(){var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$b,0);this.$a=true;e.done(ss.mkdel(this,function(eZ){this.state.groups=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$0(eZ)}))},searchMoreGroups:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$b,this.state.groups.length);e.done(ss.mkdel(this,this.$0))},$0:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(eZ){return this.state.groups.push({data:eZ})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();if(!this.props.isBulkSubscribe){this.checkCurrentSearchHasNoResults()}},render:function(){return React.DOM.div({className:'tab-UserSearchSelectorComponent'},this.$7(),this.$8())},$7:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&this.props.isBulkSubscribe){return React.createElement(dt,{groups:this.props.groups,users:this.props.users,isUsers:this.props.isUsers,removeRecipientByIndex:this.props.removeRecipientByIndex,userValidator:this.props.userValidator,invalidItemText:this.props.errorMessage,searchText:this.state.searchText,handleInputKeyDown:ss.mkdel(this,this.handleInputKeyDown),newSearch:ss.mkdel(this,this.newSearch)})}else{return React.createElement(eH,{users:this.props.users,addUser:this.props.addUser,removeUser:this.props.removeUser,userValidator:this.props.userValidator,userInvalidText:this.props.errorMessage})}},$8:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&this.props.isBulkSubscribe){var e=React.DOM.div({className:((this.state.users.length!==0||this.state.groups.length!==0)?'has-items':'')},this.$6());return React.DOM.div({className:'results-area'},e)}else{return this.renderRecipientSearch()}},renderRecipientSearch:function(){return React.DOM.div({className:'tabUserSearchComponent'},this.$9(),this.$6())},$9:function(){return React.DOM.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.placeholderMessage,onKeyUp:ss.mkdel(this,this.handleInputKeyUp),onKeyDown:ss.mkdel(this,this.handleInputKeyDown),tabIndex:0,autoFocus:true,ref:'tabUserSearchInputRef'})},$6:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){return React.createElement(dd,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onGroupSelected:ss.delegateCombine(this.props.addGroup,ss.mkdel(this,this.$2)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.groups,activeGroup:this.state.activeGroup})}else{return React.createElement(de,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onUserSelected:ss.delegateCombine(this.props.addUser,ss.mkdel(this,this.$4)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.users,activeUser:this.state.activeUser})}}},React.Component);ss.initClass(dw,a,{get_type:function(){return 0},get_geom:function(){return this.$0}},null,[cA]);ss.initClass(eE,a,{isAllowed:function(e){return cj.prototype.isAllowed.call(this,e)&&!eE.get_isUndoingOrRedoing()},executeShortcut$1:function(e){eE.set_isUndoingOrRedoing(true);e();eE.set_isUndoingOrRedoing(false)}},cj,[cB]);ss.initClass(dx,a,{get_keyCombos:function(){var e=new cO.$ctor2(new cQ(false,false,false,true,false,false,false,false),89);var eZ=new cQ(false,false,false,true,false,true,false,false);var fa=new cO.$ctor2(eZ,90);var fb=new cQ(true,false,false,false,false,true,false,false);var fc=new cO.$ctor3(fb,8);return new cP(e,[fa,fc])},executeShortcut:function(e){this.executeShortcut$1(ss.mkdel(this,function(){tab.WorksheetServerCommands.redo$1(eE.undoRedoSuccess,eE.undoRedoFailure)}))}},eE,[cB]);ss.initClass(dy,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];if(!ss.keyExists(this.$b,fa.woffLocation)){var fb=this.$1(fa);this.$b[fa.woffLocation]=new i(fb)}var fc=this.$b[fa.woffLocation];if(!_.contains(fc.$2,fa)&&!_.contains(fc.$1,fa)){this.$b[fa.woffLocation].$2.push(fa)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=dy.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas/>').css(dy.$4).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];if(ss.isValue(fa.$3)&&!ss.referenceEquals(fa.$3[0].parentElement,document.body)){fa.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];if(ss.isNullOrUndefined(fa.$3)){continue}this.$9.font='100% '+fa.$0;var fb=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!dy.$3(fa.$3,this.$8)&&fb===tab.DoubleUtil.roundToInt(fa.$3.width())){fa.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];if(ss.isValue(fa.$3)){return false}}return true},$1:function(e){var eZ="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var fa=new bG;fa.set_fontFamily(eZ);fa.woffLocation=e.woffLocation;var fb=fa;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fb.toCSSRules());var fc=dy.$0('tab-hiddenFontMeasurer',[fb.get_fontFamily(),"'Courier New', Monaco, monospace"]);return fc},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];while(fa.$2.length>0){var fb=fa.$2.pop();fa.$1.push(fb);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fb.toCSSRules())}}this.$5()}},null,[cy]);ss.initClass(dz,a,{});ss.initClass(dA,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dB,a,{get_dom:function(){return this.get_template()},$a:function(){this.$d();this.$b()},$9:function(){this.$d();this.$b()},$c:function(){this.$b()},$b:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_dom().drawerContainer.css({'flex-grow':'0','flex-shrink':'0','flex-basis':this.get_viewModel().get_drawerWidth()+'px',order:'2',position:'relative'})}else{this.get_dom().drawerContainer.css({position:'absolute',top:this.$f.get_drawerTopOffset()+'px',right:this.$f.get_drawerRightOffset()+'px',width:this.$f.get_drawerWidth()+'px',height:this.$f.get_drawerHeight()+'px',visibility:'visible'})}},$d:function(){tab.MiscUtil.dispose$1(this.$e);this.$e=tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.$f.get_content().get_viewType(),[this.$f.get_content().get_viewModel()]);this.$e.addToDom(this.get_dom().drawerContainer)}},ss.makeGenericType(spiff.BaseView$1,[dC]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dC])]);ss.initClass(dC,a,{add_open:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_open:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_close:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_close:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_refresh:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_refresh:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_content:function(){return this.$3},get_drawerWidth:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()},get_drawerHeight:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?H.calculateDashboardViewportBounds().h:(H.getClientBounds().h+this.$2()))},get_drawerTopOffset:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?H.calculateDashboardViewportBounds().t:(H.getClientBounds().t-this.$2()))},get_drawerRightOffset:function(){return 0},$2:function(){var e=0;if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(E.get_instance().get_tabbedNavigation())){e=E.get_instance().get_tabHeight()}return e},get_isOpen:function(){return this.$2$4},set_isOpen:function(e){this.$2$4=e},toggle:function(){if(this.get_isOpen()){this.closeDrawer()}else{this.openDrawer()}},openDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(320));this.raiseActionEvent(this.$2$1);this.set_isOpen(true)},closeDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(0));this.raiseActionEvent(this.$2$2);this.set_isOpen(false)},refreshDrawer:function(){if(this.get_isOpen()){this.raiseActionEvent(this.$2$3)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dD,a,{});ss.initEnum(dE,a,{dragEnd:0,markTap:1,other:2});ss.initClass(dF,a,{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_fontsLoadedPromise:function(){return this.$4},initialize:function(e){this.$5.reset();this.$8=false;this.$4=$.Deferred();if(e){this.$3=X.get_instance().hold(1)}},registerServerLoadedFonts:function(e){for(var eZ=0;eZ<e.length;eZ++){var fa=e[eZ];var fb=fa.get_hash();if(!ss.keyExists(this.$6,fb)){this.$6[fb]=fa}}},notifyDownloadableFont:function(e){if(this.$8){return}var eZ=[];for(var fa=0;fa<e.length;fa++){var fb=e[fa];var fc=fb.get_hash();if(ss.keyExists(this.$6,fc)){eZ.push(this.$6[fc])}}if(ss.isValue(eZ)&&eZ.length>0){this.$5.addFonts(eZ)}},downloadFonts:function(){var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$5.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}},allFontsFound:function(){this.$8=true;this.$5.finishDownloadingFonts()},$0:function(){this.$7=true},$1:function(){bZ.logFontsLoaded();if(this.$7){this.$2();this.$7=false}if(ss.isValue(this.$3)){this.$3.dispose()}this.$4.resolve()},$2:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}});ss.initClass(dG,a,{handleWidgetPropertyChanged:function(e,eZ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dK,dH,Object]));ss.initClass(dH,a,{});ss.initClass(dI,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dJ,a,{add_originalViewSelected:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_originalViewSelected:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},createUpdatedProps:function(){return{selectedToggle:this.$6,leftToggleText:tab.Strings.ToolbarCurrentView,rightToggleText:tab.Strings.ToolbarOriginalView,handleLeftToggleSelected:ss.mkdel(this,function(){this.$5(false)}),handleRightToggleSelected:ss.mkdel(this,function(){this.$5(true)}),testId:'ShareToggleButton',ariaLabel:tab.Strings.ShareViewOptions}},$5:function(e){this.$6=(e?1:0);this.incrementProps();this.raiseActionEvent$1(Boolean).call(this,this.$3$1,e)}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(dK,a,{get_dom:function(){return this.get_template()},$a:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'/>\n                    <span class='tab-shareLinkInput'/>\n                </label>\n                <div class='tab-shareLinkButtons'/>\n            </div>");var eZ=$("\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                    <span class='tab-shareEmbedInput'/>\n                </label>\n            </div>");if(this.$j.get_allowSharingDifferentViews()){if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n            </div>"))}else{this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection ff-AccessibilityViewingToolbarOff'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>"))}this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection');if(!tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.get_dom().shareCurrentView=this.get_dom().getElementBySelector('.tab-shareCurrentView');this.get_dom().shareOriginalView=this.get_dom().getElementBySelector('.tab-shareOriginalView')}}this.get_dom().shareArea.append(eZ);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$c().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$c().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(ff){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(ff){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$j.get_shouldShowSocialShareOptions()){var fa=new spiff.IconButton;fa.addClass('tab-shareIconButton');fa.addClass('tab-shareSocialMail');this.$9(fa.element,tab.Strings.ShareDialogEmailLink);fa.setIcon('tab-shareMailIcon');fa.onClick(ss.mkdel(this,function(ff){this.$j.doSendEmailAction()}));this.get_dom().shareLinkButtons.append(fa.element);var fb=new spiff.IconButton;fb.addClass('tab-shareIconButton');fb.addClass('tab-shareSocialTwitter');this.$9(fb.element,tab.Strings.ShareDialogTwitterLink);fb.onClick(ss.mkdel(this,function(ff){this.$j.doTwitterShareAction()}));this.get_dom().shareLinkButtons.append(fb.element);var fc=new spiff.IconButton;fc.addClass('tab-shareIconButton');fc.addClass('tab-shareSocialFacebook');this.$9(fc.element,tab.Strings.ShareDialogFacebookLink);fc.onClick(ss.mkdel(this,function(ff){this.$j.doFacebookShareAction()}));this.get_dom().shareLinkButtons.append(fc.element)}else if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){var fd=$('<span/>').appendTo(this.get_dom().shareLinkButtons);this.$h=this.$b();ReactDOM.render(this.$h,fd.get(0))}else{var fe=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this.$j,this.$j.doSendEmailAction),tab.Strings.ShareDialogEmailLink,null,0,null);this.get_dom().shareLinkButtons.append(fe.element)}},$9:function(e,eZ){if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){e.attr('tabindex','0');e.attr('title',eZ)}},$b:function(){var e=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fa){this.$j.doSendEmailAction()}),buttonType:5,testId:'EmailButton',label:tab.Strings.ShareDialogEmailLink});var eZ=React.createElement(SharedWidgets.InlineBlock,{children:e});return eZ},$f:function(){this.get_dom().shareLinkTitle.html(this.$j.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$j.get_embedLabel());if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){if(this.$j.get_allowSharingDifferentViews()){this.$l=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[dJ,SharedWidgets.ToggleTextWidget,Object])).call(null,[this.$j.shareToggleButtonViewModel]);this.$l.addToDom(this.get_dom().shareStateArea)}this.$j.set_shouldShareOriginalView(false)}else{this.$d()}this.$g()},$d:function(){if(!this.$j.get_allowSharingDifferentViews()){return}var e;var eZ;if(this.$i){var fa=$("<input type='radio' name='state' checked>"+this.$j.get_currentViewLabel()+'</input>');this.get_dom().shareCurrentView.append(fa);this.get_dom().shareCurrentView.addClass('narrow');var fb=$("<input type='radio' name='state'>"+this.$j.get_originalViewLabel()+'</input>');this.get_dom().shareOriginalView.append(fb);this.get_dom().shareOriginalView.addClass('narrow');this.get_dom().shareStateArea.height(tab.DoubleUtil.roundToInt(this.get_dom().shareStateArea.height())+15);e=new spiff.ToggleButton(fa);eZ=new spiff.ToggleButton(fb);this.get_dom().shareStateArea.addClass('narrow')}else{this.get_dom().shareCurrentView.html(this.$j.get_currentViewLabel());this.get_dom().shareOriginalView.html(this.$j.get_originalViewLabel());e=new spiff.ToggleButton(this.get_dom().shareCurrentView);eZ=new spiff.ToggleButton(this.get_dom().shareOriginalView)}var fc=new spiff.SelectableGroup;fc.addItem(e);fc.addItem(eZ);fc.selectItem(e);this.$j.set_shouldShareOriginalView(false);eZ.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eZ.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.disposables.add$1(fc)},$e:function(e,eZ){if(eZ.get_propertyName()==='selected'){this.$j.set_shouldShareOriginalView(e.get_selected());this.$g()}},$g:function(){var e=this.$j.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var eZ=this.$j.generateShareUrl();this.get_dom().shareLinkInput.val(eZ);this.get_dom().shareLinkSection.show()}this.$j.generateEmbedCode().always(ss.mkdel(this,function(fa){this.get_dom().shareEmbedInput.val(fa)}))},onAddedToDom:function(){this.$f();spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}},ss.makeGenericType(spiff.BaseView$1,[dL]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dL])]);ss.initClass(dL,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},add_selectedViewChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectedViewChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_viewType:function(){return dK},get_viewModel:function(){return this},get_props:function(){var e=new dH;e.viewModel=this;return{children:React.createElement(dG,e),dialogWidth:260,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'share',title:tab.Strings.ToolbarShare,type:0}},get_allowSharingDifferentViews:function(){if(!ev.$0()||!tsConfig.statefulURL){return false}if(this.$a()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$b},set_shouldShareOriginalView:function(e){this.$b=e},get_shouldShowSocialShareOptions:function(){return ev.$0()},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$a:function(){return!tab.MiscUtil.isNullOrEmpty$3(tsConfig.guid)},disposeViewModel:function(){this.dispose()},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$6();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().get_legacySession().saveSharedView('',e,function(){})}},$9:function(e){this.set_shouldShareOriginalView(e);this.raiseActionEvent(this.$2$1)},generateShareUrl:function(){var e=this.generateShareBaseUrl();e=dL.$3(e,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar');e=dL.$3(e,tabBootstrap.VizLayoutConstants.get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs');e=dL.$3(e,ev.$0()&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count');e=dL.$3(e,false,false,'size');e=dL.$3(e,false,false,'commentingEnabled');e=dL.$3(e,false,false,'isVizPortal');e=dL.$3(e,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome');return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var eZ=tab.XhrUtil.guid;var fa=window.location;var fb=(tsConfig.forceHttpsForPublicEmbed?'https:':fa.protocol);var fc=fb+'//'+fa.hostname+dL.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$3(eZ)){e=fc+eZ}else if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.guid)){e=fc+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation();var eZ=tableau.util.parseUri(e.get_absoluteUri());var fa=dL.$6(eZ);var fb=this.$3(this.$7());var fc=tableau.format.escapeHTML(dL.$4());var fd;var fe=tab.ModelUtils.findContentDashboard();if(fe.get_isDashboard()&&fe.get_deviceLayouts().length>0){fd=dL.$0()}else{var ff=tab.DashboardCommands.getCurrentSheetSizeConstraints().pipe(function(fg){return dL.$1(fg,0.75)},function(fg){return''});fd=ff}return fd.pipe(ss.mkdel(this,function(fg){return this.$2(fa,fb,fc,fg)}),function(fg){return''})},$3:function(e){var eZ='';if(!tab.MiscUtil.isNullOrEmpty$3(e)){var fa=tableau.format.escapeHTML;var fb=ss.coalesce(this.$6(),'#');eZ="<noscript><a href='"+fa(fb)+"'>"+"<img alt='"+fa(tsConfig.embeddedTitle)+" ' src='"+fa(e)+"' style='border: none' /></a></noscript>"}return eZ},$2:function(e,eZ,fa,fb){var fc="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var fd=ss.formatString(fc,fa,fb,e);var fe=window.location;var ff=this.$8(fe,this.$7(),'');var fg=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",fa,eZ,ff);return fg+fd},generateEmbedCode:function(){if(tab.FeatureFlags.isEnabled('APIBasedEmbedCode')){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var eZ=window.location;var fa=tableau.format.escapeHTML;var fb=this.$6();var fc=tsConfig.embeddedTitle;var fd=this.$7();var fe=this.$4();var ff=dL.$8(eZ);var fg="width='"+fe.w+"' height='"+fe.h+"'";var fh=this.$8(eZ,fd,fg);var fi=ss.coalesce(fb,'#');var fj='';if(!tab.MiscUtil.isNullOrEmpty$3(fd)){fj="<noscript><a href='"+fa(fi)+"'>"+"<img alt='"+fa(fc)+" ' src='"+fa(fd)+"' style='border: none' /></a></noscript>"}var fk=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",fe.w,fe.h,fj,fh);var fl=ff+fk;return e.resolve(fl).promise()},$8:function(e,eZ,fa){var fb=tabBootstrap.ViewerBootstrap.get_instance().location.search;var fc=tsConfig.repositoryUrl;var fd=tsConfig.site_root;var fe=tableau.format.escapeHTML;var ff="<object class='tableauViz' "+fa+" style='display:none;'>";var fg=ss.arrayClone(dL.$d);fg.push('embed');fg.push('show_tabs');fg.push('loadOrderID');var fh=(tsConfig.forceHttpsForPublicEmbed?'https:':e.protocol);ff+="<param name='host_url' value='"+fe(encodeURIComponent(fh+'//'+e.host+'/'))+"' /> ";fg.push('host_url');ff+="<param name='embed_code_version' value='"+this.embedCodeVersion+"' /> ";fg.push('embed_code_version');if(!this.get_allowSharingDifferentViews()){ff+="<param name='site_root' value='"+fe(fd)+"' />";ff+="<param name='name' value='"+fe(fc)+"' />";fg.push('site_root');fg.push('name');ff+="<param name='tabs' value='"+(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?'yes':'no')+"' />";fg.push('tabs')}else{var fi=this.generateShareBaseUrl();ff+="<param name='path' value='"+fe(ss.replaceAllString(fi,fh+'//'+e.hostname+'/',''))+"' /> ";fg.push('path')}ff+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";fg.push('toolbar');if(ev.$0()){if(!tab.MiscUtil.isNullOrEmpty$3(eZ)){var fj=ss.replaceAllString(eZ,'_rss.png','.png');ff+="<param name='static_image' value='"+fe(fj)+"' /> "}ff+="<param name='animate_transition' value='yes' />";ff+="<param name='display_static_image' value='yes' />";ff+="<param name='display_spinner' value='yes' />";ff+="<param name='display_overlay' value='yes' />";ff+="<param name='display_count' value='yes' />";fg.push('animate_transition');fg.push('display_static_image');fg.push('display_spinner');fg.push('display_overlay');fg.push('display_count')}if(fb.length>0){var fk=fb.substr(1).split('&');for(var fl=0;fl<fk.length;fl++){var fm=fk[fl].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var fn;var fo;if(ss.isValue(fm)&&fm.length===4){fn=fm[2];fo=fm[3]}else{fn='filter';fo=fk[fl]}if(!tab.MiscUtil.isNullOrEmpty$3(fn)&&!ss.contains(fg,fn)){ff+="<param name='"+fe(fn)+"' value='"+fe(fo)+"' />"}}}ff+='</object>';return ff},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},doSendEmailAction:function(){dT.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){dT.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$5(),tsConfig.shareDescription,tsConfig.facebookDescription,dL.$7())},doTwitterShareAction:function(){dT.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$7:function(){var e=tab.XhrUtil.guid;var eZ=tsConfig.staticImage;if(!ss.isValue(eZ)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var fa=eZ.indexOf('/images/')+8;var fb=eZ.substr(0,fa);eZ=fb+e.substr(0,2)+'/'+e+'/1_rss.png'}if(tsConfig.forceHttpsForPublicEmbed&&!ss.startsWithString(eZ,'https')){eZ.replace('http','https')}return eZ},$6:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$4:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var eZ=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;eZ+=dL.$5();return{w:e,h:eZ}},$5:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var eZ=this.$7();var fa=eZ.split(String.fromCharCode(47));fa[fa.length-1]='thumb.png';var fb=fa.join('/');fb+='?vizqlid='+tab.CommandController.get().get_legacySession().get_id();return fb}return tsConfig.baseViewThumbLink}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(dN,a,{invoke:function(){return this.invoke$1(tab.CommandUtils.newCommand('show-detailed-error-dialog',this.c))}},ss.makeGenericType(tab.BaseCmd$2,[Object,dO]));ss.initClass(dO,a,{});ss.initClass(dP,a,{},ss.EventArgs);ss.initClass(dQ,a,{},dP);ss.initClass(dR,a,{render:function(){var e=this.buildCommonDialogProps();var eZ=React.createElement(SharedWidgets.DialogWidget,e);return eZ},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},dialogWidth:this.props.dialogWidth,onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var eZ=[];var fa=React.DOM.div({children:this.$2(this.props.content),className:spiff.Widget.selectableNodeClass});eZ.push(fa);if(ss.isValue(this.props.additionalLinks)){for(var fb=0;fb<this.props.additionalLinks.length;fb++){var fc=this.props.additionalLinks[fb];eZ.push(React.DOM.p({},React.DOM.a({href:fc.url,target:'_blank',children:fc.displayText})))}}e.children=eZ;this.$1(e);return e},$2:function(e){if(ss.isNullOrEmptyString(e)){return null}var eZ='<br/>';e=ss.replaceAllString(e,'<br>',eZ);e=ss.replaceAllString(e,'\n',eZ);var fa=e.split(eZ);var fb=[];var fc=dR.textArea.value();for(var fd=0;fd<fa.length;fd++){var fe=fa[fd];fc.innerHTML=fe;var ff=React.DOM.p({children:fc.textContent});fb.push(ff)}return fb},$1:function(e){var eZ={buttons:[],testId:'DialogButtons'};if(ss.isValue(this.props.dialogButtons)){for(var fa=0;fa<this.props.dialogButtons.length;fa++){var fb=this.props.dialogButtons[fa];this.$0(fb,eZ)}}if(eZ.buttons.length>0){var fc=React.createElement(SharedWidgets.DialogFooterButtonsWidget,eZ);e.footerContent=fc;e.showFooter=true}},$0:function(e,eZ){var fa={handleClick:ss.mkdel(this,function(fb){if(!ss.staticEquals(e.buttonClickHandler,null)){e.buttonClickHandler()}this.closeDialog()}),buttonType:e.buttonType,testId:e.testId,label:e.buttonText};eZ.buttons.push(fa)}},React.Component);ss.initClass(dS,a,{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,eZ,fa,fb){if(fa){this.$9.close()}else if(ss.isValue(fb)&&fb&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,eZ){},showTooltip:function(e){if(spiff.DragDropManager.get_isDragging()){return}if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var eZ=$.fn.getTouchEvent(e);var fa=spiff.NormalizedEvent.create(eZ,e.target,null);var fb=fa.touches[0];var fc=this.$9.get_lastLocation()||{x:0,y:0};var fd={x:fb.pageX,y:fb.pageY};this.$9.set_lastLocation(fd);this.$9.move(fd);var fe=tab.PointUtil.distance(fc,this.$9.get_lastLocation());if(fe>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(fd);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var ff=ss.Int32.trunc(tab.DomUtil.getPageOffset($(e.target)).left);var fg=ss.Int32.trunc(tab.DomUtil.getPageOffset($(e.target)).top);if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:fb.pageX-ff,y:fb.pageY-fg})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,eZ){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}},null,[cL,ss.IDisposable]);ss.initClass(dT,a,{});ss.initClass(dU,a,{handleIncludeSelection:function(e){this.setState(function(eZ,fa){return _.extend({},eZ,{includeValue:e})})},handleScheduleSelection:function(e){this.setState(function(eZ,fa){return _.extend({},eZ,{scheduleValue:e})})},$3:function(e){var eZ=((e.length===0)?'':e[0].friendlyName);this.setState(ss.mkdel(this,function(fa,fb){return _.extend({},fa,{mode:0,users:e,usersText:this.$0(e.length,eZ,tab.Strings.ToolbarSubscribeAddUsersPlaceholder)})}))},$1:function(e){var eZ=((e.length===0)?'':e[0].name);this.setState(ss.mkdel(this,function(fa,fb){return _.extend({},fa,{mode:0,groups:e,groupsText:this.$0(e.length,eZ,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder)})}))},$0:function(e,eZ,fa){var fb=new ss.StringBuilder;if(e>0){fb.append(eZ);if(e>1){fb.append(' + ');fb.append(e-1)}}else{fb.append(fa)}return fb.toString()},$2:function(e){this.setState(function(eZ,fa){return _.extend({},eZ,{sendOnlyWhenDataPresent:e})})},isSubscribeEnabled:function(){if(ss.isNullOrUndefined(this.props.schedules)||this.props.schedules.length===0){return false}if(ss.isNullOrUndefined(this.state.subject)||this.state.subject.trim().length===0){return false}if(ss.isNullOrEmptyString(this.state.email)||!this.props.emailIsValid(this.state.email)){return false}if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){return this.state.users.length>0||this.state.groups.length>0||this.state.selfSubscribe}else{return true}},$4:function(){if(ss.isNullOrEmptyString(this.props.email)){var e=function(fa){};var eZ=ss.mkdel(this,function(){this.props.setEmail(this.state.email);this.$k()});tab.WorkgroupServerCommands.setUserEmail(this.state.email,eZ,e)}else{this.$k()}},$k:function(){var e=((tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')&&!tab.MiscUtil.isNullOrEmpty$3(this.state.message))?this.state.message:null);var eZ=this.state.selfSubscribe;if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.props.createSubscriptionsWithSelfServiceSchedule(this.state.subject,this.state.includeValue==='1',this.state.recurrenceModel,eZ,e,this.state.users,this.state.groups,this.state.sendOnlyWhenDataPresent)}else{this.props.createSubscriptions(this.state.subject,this.state.includeValue==='1',parseInt(this.state.scheduleValue),eZ,e,this.state.users,this.state.groups,this.state.sendOnlyWhenDataPresent)}},render:function(){return React.DOM.div({className:'tab-subscribeView',style:{padding:'0px'}},this.$8())},$8:function(){switch(this.state.mode){case 0:{return this.$c()}case 1:{return this.$e()}case 2:{return this.$5(true)}case 3:{return this.$5(false)}default:{return this.$c()}}},$c:function(){return React.DOM.div({className:''},((tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others)?this.$j():null),((tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others)?this.$a():null),this.$b(),this.$g(),(ss.isNullOrEmptyString(this.props.email)?this.renderEmail():null),this.$i(),this.$f(),(this.props.sendOnlyWhenDataPresentCheckboxVisible?this.$9():null),(this.props.isSelfSubscribeCheckboxEnabled?this.$h():null),(tsConfig.is_mobile?null:this.$d()),this.$6())},$h:function(){return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.selfSubscribe,label:tab.Strings.SubscribeSelf,handleChange:ss.mkdel(this,function(e){this.setState({selfSubscribe:e})}),testId:'self-subscribe-checkbox',removeLeftMargin:true,containerStyle:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}})},$g:function(){if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){if(ss.isNullOrUndefined(this.state.recurrenceModel)){return null}var e={};e.recurrenceModel=this.state.recurrenceModel;var eZ={};eZ.timeZonesEnabled=tab.FeatureFlags.isEnabled('UserTimeZone');eZ.timeZoneDisplayName=tsConfig.userTimeZoneDisplayName;eZ.linkToUserSettings=this.props.userSettingsPageUrl;e.timeZoneDetails=eZ;e.recurrenceModelChangedCallback=ss.mkdel(this,function(fe){this.setState({recurrenceModel:fe})});var fa=React.createElement(SelfServiceSchedules.SelfServiceSchedulePane,e);return React.DOM.div({className:'tab-subscribeSchedule dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.MediumSpace,marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace}},fa)}else{var fb=ss.mkdel(this,function(fe){this.handleScheduleSelection(fe)});var fc=2;var fd=React.createElement(SharedWidgets.DropdownWidget,{dropdownType:1,containerStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},label:'Schedule',menuItemInfos:this.props.schedules,onSelect:fb,selectedValue:this.state.scheduleValue,testId:'subscribe-schedule-dropdown',maxHeight:10*SharedWidgets.TabStyles.Sizing.ListRowHeight+2*SharedWidgets.TabStyles.Spacing.DefaultSpace+fc});return React.DOM.div({className:'tab-subscribeSchedule ff-BulkSubscribeOthers dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.MediumSpace,marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace}},fd)}},$j:function(){var e=ss.mkdel(this,function(){this.setState(function(fa,fb){return _.extend({},fa,{mode:2})})});var eZ=this.$7(e,tab.Strings.ToolbarSubscribeAddUsersLabel,this.state.usersText,'subscribe-users-input');return React.DOM.div({className:'tab-subscribeUsers',onClick:function(fa){e()}},eZ)},$a:function(){var e=ss.mkdel(this,function(){this.setState(function(fa,fb){return _.extend({},fa,{mode:3})})});var eZ=this.$7(e,tab.Strings.ToolbarSubscribeAddGroupsLabel,this.state.groupsText,'subscribe-groups-input');return React.DOM.div({className:'tab-subscribeGroups',onClick:function(fa){e()}},eZ)},$b:function(){var e=[{value:'0',displayValue:tab.Strings.ToolbarSubscribeThisView},{value:'1',displayValue:tab.Strings.ToolbarSubscribeAllView}];var eZ=ss.mkdel(this,function(fb){this.handleIncludeSelection(fb)});var fa=React.createElement(SharedWidgets.DropdownWidget,{dropdownType:1,label:tab.Strings.ToolbarSubscribeInclude,menuItemInfos:ss.arrayClone(e),onSelect:eZ,selectedValue:this.state.includeValue,testId:'subscribe-include-dropdown'});return React.DOM.div({className:'tab-subscribeViews ff-BulkSubscribeOthers dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}},fa)},renderEmail:function(){var e=React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:ss.mkdel(this,function(eZ){this.setState({email:eZ})}),text:this.state.email,maxLength:dZ.maxSubscriptionEmailLength,floatingLabel:tab.Strings.ToolbarSubscribeEmailPlaceholder,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},testId:'subscribe-email-input',handleEnter:function(){}});return React.DOM.div({className:'tab-subscribeEmail ff-BulkSubscribeOthersTextField'},e)},$i:function(){var e=React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:ss.mkdel(this,function(eZ){this.setState(function(fa,fb){return _.extend({},fa,{subject:eZ})})}),text:this.state.subject,floatingLabel:tab.Strings.ToolbarSubscribeSubjectPlaceholder,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},testId:'subscribe-subject-text',handleEnter:function(){}});return React.DOM.div({className:'tab-subscribeSubject ff-BulkSubscribeOthersTextField'},e)},$f:function(){var e=ss.mkdel(this,function(){this.setState(function(fb,fc){return _.extend({},fb,{mode:1})})});var eZ=(tab.MiscUtil.isNullOrEmpty$3(this.state.message)?tab.Strings.ToolbarSubscribeMessagePlaceholder:this.state.message);eZ=ss.replaceAllString(eZ,'\n',' ');var fa=this.$7(e,tab.Strings.ToolbarSubscribeMessageLabel,eZ,'subscribe-message-input');return React.DOM.div({className:'tab-subscribeMessage',onClick:function(fb){e()}},fa)},$7:function(e,eZ,fa,fb){return React.DOM.div({className:'ff-BulkSubscribeOthersTextField'},React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:function(fc){},text:fa,floatingLabel:eZ,testId:fb,readOnly:true,hasError:false,handleEnter:e,shouldSelectTextOnFocus:false,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.Disabled,fontStyle:'italic',textOverflow:'ellipsis'}}))},$5:function(e){var eZ=s.$ctor();eZ.users=ss.arrayClone(this.state.users);eZ.groups=ss.arrayClone(this.state.groups);eZ.isUsers=e;eZ.cancelSelection=ss.mkdel(this,function(){this.setState(function(fa,fb){return _.extend({},fa,{mode:0})})});eZ.confirmSelection=function(){};eZ.confirmUsersSelection=ss.mkdel(this,function(fa){this.$3(fa)});eZ.confirmGroupsSelection=ss.mkdel(this,function(fa){this.$1(fa)});return React.createElement(q,eZ)},$e:function(){return React.createElement(eb,{message:this.state.message,onCancelButtonClick:ss.mkdel(this,function(){this.setState(function(e,eZ){return _.extend({},e,{mode:0})})}),onDoneButtonClick:ss.mkdel(this,function(e){this.setState(function(eZ,fa){return _.extend({},eZ,{mode:0,message:e})})})})},$9:function(){return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.sendOnlyWhenDataPresent,label:tab.Strings.ToolbarSubscribeDataPresentCheckbox,handleChange:ss.mkdel(this,function(e){this.$2(e)}),testId:'send-when-data-checkbox',disabled:this.state.includeValue==='1',removeLeftMargin:true,containerStyle:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}})},$d:function(){var e={testId:'subscription-manage-label',style:{color:SharedWidgets.TabStyles.Colors.ServerBlue,textDecoration:'none',marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}};var eZ=React.createElement(SharedWidgets.InputLabelWidget,e,tab.Strings.ManageSubscriptions);return React.DOM.a({className:'tab-manageSubscribers',href:this.props.subscriptionsPageUrl,target:'_tab',style:{textDecoration:'none'}},eZ)},$6:function(){var e=!this.isSubscribeEnabled();return React.DOM.div({className:'tabSubscribeButtonContainer'},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(eZ){this.props.onCancel()}),buttonType:3,testId:'subscription-dialog-cancel',label:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(eZ){this.$4()}),buttonType:2,testId:'subscription-dialog-subscribe',label:tab.Strings.ToolbarSubscribeSubmitButton,disabled:e}))}},React.Component);ss.initClass(dV,a,{handleWidgetPropertyChanged:function(e,eZ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dY,dX,Object]));ss.initClass(dW,a,{});ss.initClass(dX,a,{});ss.initClass(dY,a,{get_dom:function(){return this.get_template()},dispose:function(){this.$E.remove_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$E.remove_usersChanged(ss.mkdel(this,this.$m));this.$E.remove_groupsChanged(ss.mkdel(this,this.$k));this.$E.remove_addSubscribersPopupStateChanged(ss.mkdel(this,this.$w));ss.makeGenericType(spiff.BaseView$1,[dZ]).prototype.dispose.call(this)},handleSchedulesUpdated:function(){this.$c();this.$w()},$j:function(){var e=new spiff.ToggleButton(this.get_dom().subscribeThisView);var eZ=new spiff.ToggleButton(this.get_dom().subscribeAllViews);this.get_dom().subscribeThisView[0].tabIndex=0;this.get_dom().subscribeAllViews[0].tabIndex=0;this.get_dom().subscribeViewsToggleLabel.text(tab.Strings.SubscribeViewsToggleLabel);this.get_dom().subscribeThisView.text(tab.Strings.ToolbarSubscribeThisView);this.get_dom().subscribeAllViews.text(tab.Strings.ToolbarSubscribeAllView);var fa=new spiff.SelectableGroup;fa.addItem(e);fa.addItem(eZ);fa.selectItem(e);this.$E.set_shouldSubscribeAllViews(false);eZ.add_propertyChanged(ss.mkdel(this,this.$v));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eZ.remove_propertyChanged(ss.mkdel(this,this.$v))})));this.disposables.add$1(fa)},$c:function(){this.get_dom().subscribeScheduleDropdown.empty();if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(eZ){this.$q(SelfServiceSchedules.StaticInitializers.defaultRecurrence())}))}else{this.$z=this.get_viewModel().generateScheduleViewModel();this.$z.set_theme(3);this.$z.set_menuTheme(this.menuTheme);var e=tab.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$z]);e.element[0].tabIndex=0;this.get_dom().subscribeScheduleDropdown.append($('<label>').text(tab.Strings.ToolbarSubscribeSchedule));this.get_dom().subscribeScheduleDropdown.append(e.element);this.disposables.add$1(this.$z)}},$q:function(e){var eZ={};this.$y=eZ.recurrenceModel=e;var fa={};fa.timeZonesEnabled=tab.FeatureFlags.isEnabled('UserTimeZone');fa.timeZoneDisplayName=tsConfig.userTimeZoneDisplayName;fa.linkToUserSettings=this.get_viewModel().get_userSettingsPageUrl();eZ.timeZoneDetails=fa;eZ.recurrenceModelChangedCallback=ss.mkdel(this,this.$q);ReactDOM.render(React.createElement(SelfServiceSchedules.SelfServiceSchedulePane,eZ),this.get_dom().subscribeScheduleDropdown.get(0))},$b:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(false);this.$A=spiff.LabelToggleButton.newCheckbox(tab.Strings.ToolbarSubscribeDataPresentCheckbox,false);this.$A.addClass(dY.get_sendOnlyWhenDataPresentCheckboxClass());this.$A.add_click(ss.mkdel(this,this.$s));this.$A.element.insertAfter(this.get_dom().subscribeScheduleDropdown);this.get_viewModel().add_sendOnlyWhenDataPresentCheckboxStateChanged(ss.mkdel(this,this.$t));this.disposables.add$1(this.$A)},$s:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(this.$A.get_selected())},$t:function(){this.$A.set_disabled(!this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxEnabled());this.$A.set_selected(this.get_viewModel().get_sendOnlyWhenDataPresent())},$d:function(){if(!ss.isNullOrEmptyString(this.get_viewModel().get_email())){this.get_dom().subscribeEmail.hide()}else{if(ss.isValue(this.$x)){this.$x.remove_propertyChanged(ss.mkdel(this,this.$n));this.$x.remove_enterKeyPressed(ss.mkdel(this,this.$o))}this.$x=spiff.TextInputView.newTextInputView('',null,tab.Strings.ToolbarSubscribeEmailPlaceholder,false);this.$x.get_inputElement().attr('maxlength',dZ.maxSubscriptionEmailLength.toString());this.$x.add_propertyChanged(ss.mkdel(this,this.$n));this.$x.add_enterKeyPressed(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$x.remove_propertyChanged(ss.mkdel(this,this.$n))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$x.remove_enterKeyPressed(ss.mkdel(this,this.$o))})));this.get_dom().subscribeEmail.append(this.$x.element)}},$f:function(){if(ss.isValue(this.$B)){this.$B.remove_propertyChanged(ss.mkdel(this,this.$n));this.$B.remove_enterKeyPressed(ss.mkdel(this,this.$o))}this.$B=spiff.TextInputView.newTextInputView(this.get_viewModel().get_defaultSubject(),null,tab.Strings.ToolbarSubscribeSubjectPlaceholder,false);this.$B.get_inputElement().attr('maxlength',dZ.maxSubscriptionSubjectLength.toString());this.$B.add_propertyChanged(ss.mkdel(this,this.$n));this.$B.add_enterKeyPressed(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_propertyChanged(ss.mkdel(this,this.$n))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_enterKeyPressed(ss.mkdel(this,this.$o))})));this.get_dom().subscribeSubject.append(this.$B.element)},$e:function(){var e=(tab.MiscUtil.isNullOrEmpty$3(this.get_viewModel().get_message())?tab.Strings.ToolbarSubscribeMessagePlaceholder:this.get_viewModel().get_message());this.$a(ss.mkdel(this,function(eZ){this.get_viewModel().showMessageEditor()}),this.get_dom().subscribeMessage.get(0),tab.Strings.ToolbarSubscribeMessageLabel,e,'subscribe-message-input')},$o:function(){if(!this.$C.get_disabled()){this.$r()}},$n:function(e,eZ){if(ss.equalsT(eZ.get_propertyName(),'text')){this.$w()}},$g:function(){this.$C=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$r),tab.Strings.ToolbarSubscribeSubmitButton,null,0,0);this.get_dom().subscribeButton.append(this.$C.element)},isSubscribingSelf:function(){var e=true;if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e=false}else{e=ss.isNullOrUndefined(this.$D)||this.$D.get_selected()}}return e},$w:function(){var e=!this.get_viewModel().shouldSubscribeButtonBeEnabled((ss.isValue(this.$x)?this.$x.get_text():null),this.$B.get_text(),this.isSubscribingSelf());if(this.$C.get_disabled()!==e){var eZ=(e?tab.Strings.ToolbarSubscribeSubmitDisabledTitle:'');this.$C.set_hoverTooltipText(eZ);this.$C.set_disabled(e)}},$h:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){this.$m();this.$k()}else{this.$D=spiff.LabelToggleButton.newCheckbox(tab.Strings.SubscribeSelf,true);this.$D.addClass('tab-subscribeSelf');this.$D.add_click(ss.mkdel(this,this.$w));this.$D.element[0].tabIndex=0;this.get_dom().subscribeSelfArea.append(this.$D.element);this.disposables.add$1(this.$D);var e=spiff.LabelButton.newAnchorButton();e.set_label(tab.Strings.AddSubscribers);e.add_click(ss.mkdel(this,function(){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea,true)}));e.addClass('tab-addSubscribers');this.get_dom().addSubscribersLabel.text(tab.Strings.SubscribeOthers);e.element.insertAfter(this.get_dom().addSubscribersLabel);this.disposables.add$1(e);if(tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')){this.$m()}}if(!tsConfig.is_mobile){var eZ=spiff.LabelButton.newAnchorButton$1(this.get_viewModel().get_subscriptionsPageUrl(),null);eZ.set_label(tab.Strings.ManageSubscriptions);eZ.addClass('tab-manageSubscribers');this.get_dom().manageSubscribersLabel.text(tab.Strings.CurrentSubscribers);eZ.element.insertAfter(this.get_dom().manageSubscribersLabel);this.disposables.add$1(eZ)}},$a:function(e,eZ,fa,fb,fc){ReactDOM.render(React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:function(fd){},text:fb,floatingLabel:fa,testId:fc,readOnly:true,hasError:false,shouldSelectTextOnFocus:false,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.Disabled,fontStyle:'italic'}}),eZ);eZ.getElementsByTagName('label')[1].style.display='none';eZ.onclick=e},$m:function(){var e=this.get_viewModel().get_users();var eZ=((e.length===0)?'':e[0].friendlyName);this.$l(true,e.length,eZ,tab.Strings.ToolbarSubscribeAddUsersPlaceholder,tab.Strings.ToolbarSubscribeAddUsersLabel,'addUsersLineTextField')},$k:function(){var e=this.get_viewModel().get_groups();var eZ=((e.length===0)?'':e[0].name);this.$l(false,e.length,eZ,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder,tab.Strings.ToolbarSubscribeAddGroupsLabel,'addGroupsLineTextField')},$l:function(e,eZ,fa,fb,fc,fd){var fe=new ss.StringBuilder;if(eZ>0){fe.append(fa);if(eZ>1){fe.append(' + ');fe.append(eZ-1)}fe.append(', ')}if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){var ff;if(e){fe.append(fb);ff=this.get_dom().addUsersPlaceholder}else{fe.append(fb);ff=this.get_dom().addGroupsPlaceholder}this.$a(ss.mkdel(this,function(fg){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea,e)}),ff.get(0),fc,fe.toString(),fd)}else{fe.append(tab.Strings.AddSubscribers);this.get_dom().getElementBySelector('.tab-addSubscribers').text(fe.toString())}},$u:function(){var e=this.isSubscribingSelf();var eZ=((tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')&&!tab.MiscUtil.isNullOrEmpty$3(this.get_viewModel().get_message()))?this.get_viewModel().get_message():null);if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionsWithSelfServiceSchedule(this.$B.get_text(),this.$y,e,eZ)}else{this.get_viewModel().createSubscriptions(this.$B.get_text(),this.$z.get_selectedItem().get_data(),e,eZ)}},$r:function(){if(ss.isNullOrEmptyString(this.get_viewModel().get_email())){var e=this.$x.get_text();var eZ=ss.mkdel(this,function(fb){var fc=((fb===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.SubscribeFailure);this.get_dom().subscribeEmail.append($('<div>').addClass('tab-SubscribeError').text(fc))});var fa=ss.mkdel(this,function(){this.get_viewModel().set_email(e);this.$u()});tab.WorkgroupServerCommands.setUserEmail(e,fa,eZ)}else{this.$u()}},$v:function(e,eZ){if(eZ.get_propertyName()==='selected'){this.$E.set_shouldSubscribeAllViews(e.get_selected())}},$9:function(){this.get_dom().addMainDialogContent();this.$f();if(tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')){this.$e()}this.$c();if(this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxVisible()){this.$b()}this.$j();this.$d();this.$g();if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){this.$h()}this.$w();this.$B.get_inputElement().attr('autofocus','true');this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$p))})))},$p:function(e,eZ){switch(this.get_viewModel().get_mode()){case 0:{this.get_dom().subscribeViewArea.empty();this.$9();break}case 1:{this.get_dom().subscribeViewArea.empty();var fa=React.createElement(eb,this.$i());ReactDOM.render(fa,this.get_dom().subscribeViewArea.get(0));break}}},$i:function(){return{message:this.get_viewModel().get_message(),onCancelButtonClick:ss.mkdel(this,function(){this.get_viewModel().showMainDialog()}),onDoneButtonClick:ss.mkdel(this,function(e){this.get_viewModel().set_message(e);this.get_viewModel().showMainDialog()})}}},ss.makeGenericType(spiff.BaseView$1,[dZ]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dZ])]);ss.initClass(dZ,a,{add_schedulesChanged:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_schedulesChanged:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_subscribeSuccess:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_subscribeSuccess:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},add_subscribeCancel:function(e){this.$3$3=ss.delegateCombine(this.$3$3,e)},remove_subscribeCancel:function(e){this.$3$3=ss.delegateRemove(this.$3$3,e)},add_usersChanged:function(e){this.$3$4=ss.delegateCombine(this.$3$4,e)},remove_usersChanged:function(e){this.$3$4=ss.delegateRemove(this.$3$4,e)},add_groupsChanged:function(e){this.$3$5=ss.delegateCombine(this.$3$5,e)},remove_groupsChanged:function(e){this.$3$5=ss.delegateRemove(this.$3$5,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateCombine(this.$3$6,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateRemove(this.$3$6,e)},add_addSubscribersPopupStateChanged:function(e){this.$3$7=ss.delegateCombine(this.$3$7,e)},remove_addSubscribersPopupStateChanged:function(e){this.$3$7=ss.delegateRemove(this.$3$7,e)},add_hideDialogRequested:function(e){this.add_subscribeSuccess(e);this.add_subscribeCancel(e)},remove_hideDialogRequested:function(e){this.remove_subscribeSuccess(e);this.remove_subscribeCancel(e)},add_dialogHidden:function(e){this.$3$8=ss.delegateCombine(this.$3$8,e)},remove_dialogHidden:function(e){this.$3$8=ss.delegateRemove(this.$3$8,e)},add_modeChanged:function(e){this.$3$9=ss.delegateCombine(this.$3$9,e)},remove_modeChanged:function(e){this.$3$9=ss.delegateRemove(this.$3$9,e)},get_shouldShowReactDialog:function(){return tab.FeatureFlags.isEnabled('BulkSubscribeOthers')||tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')},get_mode:function(){return this.$c},get_schedules:function(){return this.$d},get_viewType:function(){return dY},get_viewModel:function(){return this},get_subscribeProps:function(){this.createAddSubscribersViewModel(true);var e=new dW;e.addSubscribersComponentProps=this.addSubscribersViewModel.get_props();e.users=this.get_users();e.groups=this.get_groups();e.email=this.get_email();e.emailIsValid=ss.mkdel(this,this.$7);e.schedules=this.generateSchedules();e.defaultSubject=this.get_defaultSubject();e.onCancel=this.$3$3;e.createSubscriptions=ss.mkdel(this,function(eZ,fa,fb,fc,fd,fe,ff,fg){this.setDataAndCreateSubscriptions(eZ,fa,fb,fc,fd,fe,ff,fg)});e.createSubscriptionsWithSelfServiceSchedule=ss.mkdel(this,function(eZ,fa,fb,fc,fd,fe,ff,fg){this.setDataAndCreateSubscriptionsSelfService(eZ,fa,fb,fc,fd,fe,ff,fg)});e.setEmail=ss.mkdel(this,function(eZ){this.set_email(eZ)});e.subscriptionsPageUrl=this.get_subscriptionsPageUrl();e.userSettingsPageUrl=this.get_userSettingsPageUrl();e.sendOnlyWhenDataPresentCheckboxVisible=this.get_sendOnlyWhenDataPresentCheckboxVisible();e.isSelfSubscribeCheckboxEnabled=tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others;return e},get_shouldSubscribeAllViews:function(){return this.$e},set_shouldSubscribeAllViews:function(e){this.$e=e;if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return}if(ss.staticEquals(this.$3$6,null)){return}this.$3$6()},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$e},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$3$10},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$3$10=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return false}if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$3$11},set_email:function(e){this.$3$11=e},get_message:function(){return this.$3$12},set_message:function(e){this.$3$12=e},get_subscriptionsPageUrl:function(){return this.$3$13},set_subscriptionsPageUrl:function(e){this.$3$13=e},get_userSettingsPageUrl:function(){return this.$3$14},set_userSettingsPageUrl:function(e){this.$3$14=e},get_users:function(){return this.$f},set_users:function(e){this.$f=e;this.raiseActionEvent(this.$3$4)},get_groups:function(){return this.$b},set_groups:function(e){this.$b=e;this.raiseActionEvent(this.$3$5)},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},$a:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},createUpdatedProps:function(){var e;if(this.get_shouldShowReactDialog()){this.createAddSubscribersViewModel(true);e=React.createElement(dU,this.get_subscribeProps())}else{var eZ=new dX;eZ.viewModel=this;e=React.createElement(dV,eZ)}return{children:e,dialogWidth:400,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:!this.get_shouldShowReactDialog(),showFooter:false,testId:'subscribe',title:tab.Strings.SubscribeTitle,type:0}},disposeViewModel:function(){this.set_users([]);this.set_groups([]);this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){this.set_users([]);this.set_groups([]);this.raiseActionEvent(this.$3$8);this.set_message(null)},createAddSubscribersViewModel:function(e){if(ss.isValue(this.addSubscribersViewModel)){this.addSubscribersViewModel.originalGroups=this.get_groups();this.addSubscribersViewModel.originalUsers=this.get_users();this.addSubscribersViewModel.groups=this.get_groups();this.addSubscribersViewModel.users=this.get_users();this.addSubscribersViewModel.isUsers=e;this.addSubscribersViewModel.updateProps();return}var eZ=new t(this.get_users(),this.get_groups(),e);this.addSubscribersViewModel=eZ},createAddSubscribersPopup:function(e,eZ){if(ss.isValue(this.addSubscribersViewModel)){this.addSubscribersViewModel.originalGroups=this.get_groups();this.addSubscribersViewModel.originalUsers=this.get_users();this.addSubscribersViewModel.groups=this.get_groups();this.addSubscribersViewModel.users=this.get_users();this.addSubscribersViewModel.isUsers=eZ;this.addSubscribersViewModel.updateProps();return}var fa=new t(this.get_users(),this.get_groups(),eZ);this.addSubscribersViewModel=fa;var fb=spiff.UberPopupViewModel.createForContent$1(this.addSubscribersViewModel,e,ss.mkdel(this,this.$6),true);if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fb.options.horizontalAlign=1;fb.options.isToolbarFlyout=false;fb.options.isBeingPositionedRelativeToASharedDialogWidget=true}else{fb.options.isToolbarFlyout=true}fb.options.preferUp=ev.get_toolbarIsBottom();fb.options.horizontalAttach=1;fb.options.coverRelativeElement=true;var fc=function(){fb.hide(false)};fa.add_selectionCanceled(fc);var fd=ss.mkdel(this,function(fg){this.set_users(fg);fb.hide(false)});var fe=ss.mkdel(this,function(fg){this.set_groups(fg);fb.hide(false)});fa.add_selectionConfirmedUser(fd);fa.add_selectionConfirmedGroup(fe);fb.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){fa.remove_selectionCanceled(fc);fa.remove_selectionConfirmedUser(fd);fa.remove_selectionConfirmedGroup(fe);this.raiseActionEvent(this.$3$7)})));if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){var ff=function(){fb.hide(false)};this.add_dialogHidden(ff);fb.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_dialogHidden(ff)})))}fb.show();this.raiseActionEvent(this.$3$7);$('.tabUserSearchInput').focus()},shouldSubscribeButtonBeEnabled:function(e,eZ,fa){if(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0){return false}if(ss.isNullOrUndefined(eZ)||eZ.trim().length===0){return false}if(ss.isNullOrEmptyString(this.get_email())&&!this.$7(e)){return false}if(ss.isValue(this.addSubscribersViewModel)){return false}if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){return fa||this.get_users().length>0||this.get_groups().length>0}return fa||this.get_users().length>0},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var eZ=e;var fa=this.get_schedules();for(var fb=0;fb<fa.length;fb++){var fc=fa[fb];var fd=fc.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){fd=fc.get_scheduleFrequencyDescription()}eZ.addItem(new spiff.ComboBoxItem(null,fd,fc,null))}if(eZ.get_items().length>0){eZ.set_selectedItem(eZ.get_items()[0])}return eZ},generateSchedules:function(){var e=this.get_schedules().length;var eZ=new Array(e);for(var fa=0;fa<this.get_schedules().length;fa++){var fb=this.get_schedules()[fa];var fc=fb.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){fc=fb.get_scheduleFrequencyDescription()}eZ[fa]={value:fa.toString(),displayValue:fc}}return ss.arrayClone(eZ)},setDataAndCreateSubscriptions:function(e,eZ,fa,fb,fc,fd,fe,ff){this.set_shouldSubscribeAllViews(eZ);this.set_sendOnlyWhenDataPresentCheckboxSelected(ff);this.set_users(fd);this.set_groups(fe);this.createSubscriptions(e,this.get_schedules()[fa],fb,fc)},setDataAndCreateSubscriptionsSelfService:function(e,eZ,fa,fb,fc,fd,fe,ff){this.set_shouldSubscribeAllViews(eZ);this.set_sendOnlyWhenDataPresentCheckboxSelected(ff);this.set_users(fd);this.set_groups(fe);this.createSubscriptionsWithSelfServiceSchedule(e,fa,fb,fc)},createSubscription:function(e,eZ){var fa=ss.mkdel(this,function(){this.raiseActionEvent(this.$3$2);db.showNotification(tab.Strings.SubscribeSuccess)});var fb=function(){db.showNotification(tab.Strings.SubscribeFailure)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),eZ,this.$a(),fa,fb)},createSubscriptionWithSelfServiceSchedule:function(e,eZ){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fa){fa.createSubscriptionWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),eZ,this.$a(),this.$3$2)}))},createSubscriptions:function(e,eZ,fa,fb){this.$5(e,fa,eZ,false,fb)},createSubscriptionsWithSelfServiceSchedule:function(e,eZ,fa,fb){this.$5(e,fa,eZ,true,fb)},showMessageEditor:function(){this.$9(1)},showMainDialog:function(){this.$9(0)},$5:function(e,eZ,fa,fb,fc){var fd=ss.mkdel(this,function(fi){var fj=(ss.keyExists(fi,'results')?fi['results'].length:0);db.showNotification(tab.Strings.SubscribeOthersSuccess(fj));this.raiseActionEvent(this.$3$2)});var fe=ss.mkdel(this,function(fi){var fj=fi['errors'];if(fj.length===1&&ss.isNullOrUndefined(fj[0]['id'])){db.showNotification(tab.Strings.SubscribeFailure)}else{db.showNotification(tab.Strings.SubscribeOthersFailed(fj.length));this.raiseActionEvent(this.$3$2)}});var ff=function(fi){db.showNotification(tab.Strings.SubscribeFailure)};var fg=_.map(this.get_users(),function(fi){return fi.id.toString()});var fh=_.map(this.get_groups(),function(fi){return fi.id.toString()});if(fh.length===0){fh=null}if(eZ&&!_.contains(fg,tsConfig.current_user_id.toString())){fg.push(tsConfig.current_user_id.toString())}if(fb){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fi){fi.createSubscriptionsWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),fa,this.$a(),fg,fh,fd,fe,ff,fc)}))}else{this.set_users([]);this.set_groups([]);tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),fg,fa,this.$a(),fd,fe,ff,fc,fh)}},$6:function(){this.addSubscribersViewModel=tab.MiscUtil.dispose$1(this.addSubscribersViewModel)},$7:function(e){return bS.validate(e)},$9:function(e){this.$c=e;this.$8()},$8:function(){if(ss.isValue(this.$3$9)){this.$3$9(this,ss.EventArgs.Empty)}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IContent,spiff.IUberPopupContent,spiff.IDialogContent]);ss.initClass(ea,a,{addMainDialogContent:function(){$("\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>").appendTo(this.subscribeViewArea);if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){this.domRoot.addClass('ff-BulkSubscribeOthers')}this.subscribeViewsToggleLabel=this.getElementBySelector('.tab-subscribeViewsToggleLabel');this.subscribeThisView=this.getElementBySelector('.tab-subscribeThisView');this.subscribeAllViews=this.getElementBySelector('.tab-subscribeAllViews');this.subscribeScheduleDropdown=this.getElementBySelector('.tab-subscribeSchedule');this.subscribeEmail=this.getElementBySelector('.tab-subscribeEmail');if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){this.subscribeViewsToggleLabel.before("<div class='tab-addUsers'/>");this.addUsersPlaceholder=this.getElementBySelector('.tab-addUsers');this.addUsersPlaceholder.after("<div class='tab-addGroups'/>");this.addGroupsPlaceholder=this.getElementBySelector('.tab-addGroups');this.addUsersPlaceholder.before("<div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>");this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea')}else{this.subscribeEmail.before("<div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>");this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea');this.subscribeEmail.after("\n                    <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                        <label class='tab-addSubscribersLabel'/>\n                    </div>");this.addSubscribersLabel=this.getElementBySelector('.tab-addSubscribersLabel')}this.manageSubscribersLabel=this.getElementBySelector('.tab-manageSubscribersLabel');this.subscribeSubject=this.getElementBySelector('.tab-subscribeSubject');this.subscribeButton=this.getElementBySelector('.tab-subscribeSubmit');if(tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')){this.subscribeMessage=$("<div class='tab-subscribeMessage'/>");this.subscribeMessage.insertAfter(this.subscribeSubject)}}},spiff.Template,[ss.IDisposable]);ss.initClass(eb,a,{render:function(){return React.DOM.div({},React.DOM.textarea(this.$2()),this.$3(),React.DOM.div({className:'tabSubscribeMessageEditorButtonContainer'},React.createElement(SharedWidgets.ButtonWidget,this.$0()),React.createElement(SharedWidgets.ButtonWidget,this.$1())))},$3:function(){return(this.state.isWarning?React.DOM.div({className:eb.errorMessageClass+' '+(this.state.isError?'error':'warning')},this.state.warningMessage):null)},$2:function(){return{rows:this.$6,placeholder:tab.Strings.ToolbarSubscribeMessageEditorPlaceholder,className:eb.messageEditorClass,ref:this.$5,defaultValue:this.props.message,autoFocus:true,onChange:ss.mkdel(this,this.onChangeMessageHandler)}},onChangeMessageHandler:function(e){if(this.textAreaElement.value.length>=eb.characterWarningLimit){this.setState({isError:this.textAreaElement.value.length>eb.characterLimit,isWarning:true,warningMessage:tab.Strings.MessageCharacterLimit(this.textAreaElement.value.length,eb.characterLimit)})}else if(this.state.isError||this.state.isWarning){this.setState({isError:false,isWarning:false,warningMessage:null})}},$0:function(){return{handleClick:ss.mkdel(this,function(e){this.props.onCancelButtonClick()}),buttonType:3,testId:'subscription-message-editor-cancel',key:'messageEditorCancel',label:tab.Strings.SubscribeCancel,style:{marginRight:12}}},$1:function(){return{handleClick:ss.mkdel(this,function(e){this.$4(e)}),buttonType:2,testId:'subscription-message-editor-done',key:'messageEditorDone',label:tab.Strings.SubscribeDone,disabled:this.state.isError}}},React.Component);ss.initClass(ec,a,{},ss.EventArgs);ss.initClass(ed,a,{get_textAngle:function(){return this.$j},set_textAngle:function(e){this.$j=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$f},get_alpha:function(){return this.$6.globalAlpha},set_alpha:function(e){if(e!==this.$6.globalAlpha){this.$6.globalAlpha=e}},get_globalCompositeOperation:function(){return this.$6.globalCompositeOperation},set_globalCompositeOperation:function(e){this.$6.globalCompositeOperation=e},get_font:function(){return this.$6.font},set_font:function(e){var eZ=this.$c.normalizeFont(e);if(!ss.referenceEquals(eZ,this.$6.font)){this.$6.font=eZ}this.$d=ed.$0(eZ)},get_lineCap:function(){return this.$8},set_lineCap:function(e){if(e!==this.$8){this.$6.lineCap=e;this.$8=e}},get_lineJoin:function(){return this.$9},set_lineJoin:function(e){if(e!==this.$9){this.$6.lineJoin=e;this.$9=e}},get_lineWidth:function(){return this.$6.lineWidth},set_lineWidth:function(e){if(e!==this.$6.lineWidth){this.$6.lineWidth=e;if(this.$e!=='solid'){this.$5()}}},get_linePattern:function(){return this.$e},set_linePattern:function(e){if(e!==this.$e){this.$e=e;this.$5()}},get_transformation:function(){return this.$l},set_transformation:function(e){this.$l.setTransform(e)},get_strokeStyle:function(){return this.$a},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$a)){this.$6.strokeStyle=e;this.$a=e}},get_shapeFillStyle:function(){return this.$g},set_shapeFillStyle:function(e){this.$g=e;this.$3(e)},get_shouldAntialias:function(){return this.$h},set_shouldAntialias:function(e){this.$h=e},get_shouldUnderlineText:function(){return this.$i},set_shouldUnderlineText:function(e){this.$i=e},get_textFillStyle:function(){return this.$k},set_textFillStyle:function(e){this.$k=e},get_textAlign:function(){return this.$6.textAlign},set_textAlign:function(e){this.$6.textAlign=e},get_textBaseline:function(){return this.$6.textBaseline},set_textBaseline:function(e){this.$6.textBaseline=e},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(ed.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(ed.defaultLineJoin);this.set_lineCap(ed.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(ed.defaultTextBaseline);this.set_textAlign(ed.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$h=true;this.$i=false},setClip:function(e){this.beginPath();this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,eZ,fa,fb,fc,fd){this.$6.arc(e,eZ,fa,fb,fc,fd)},beginPath:function(){this.$6.beginPath()},bezierCurveTo:function(e,eZ,fa,fb,fc,fd){this.$6.bezierCurveTo(e,eZ,fa,fb,fc,fd)},clearRect:function(e,eZ,fa,fb){this.$6.clearRect(e,eZ,fa,fb)},closePath:function(){this.$6.closePath()},createLinearGradient:function(e,eZ,fa,fb){return this.$6.createLinearGradient(e,eZ,fa,fb)},drawImage1:function(e,eZ,fa){this.$6.drawImage(e,eZ,fa)},drawImage3:function(e,eZ,fa,fb,fc){this.$6.drawImage(e,eZ,fa,fb,fc)},drawImage4:function(e,eZ,fa,fb,fc){this.$6.drawImage(e,eZ,fa,fb,fc)},drawImage5:function(e,eZ,fa,fb,fc,fd,fe,ff,fg){this.$6.drawImage(e,eZ,fa,fb,fc,fd,fe,ff,fg)},fill:function(){this.$6.fill()},fillRect:function(e,eZ,fa,fb){this.$6.fillRect(e,eZ,fa,fb)},fillText1:function(e,eZ,fa){if(this.$4()){var fb=ss.mkdel(this,function(fc){this.$6.fillText(fc,0,0)});this.$2(fb,e,eZ,fa)}else{this.$6.fillText(e,eZ,fa)}},fillText2:function(e,eZ,fa,fb){if(this.$4()){var fc=ss.mkdel(this,function(fd){this.$6.fillText(fd,0,0,fb)});this.$2(fc,e,eZ,fa)}else{this.$6.fillText(e,eZ,fa,fb)}},lineTo:function(e,eZ){this.$6.lineTo(e,eZ)},measureText:function(e){return this.$6.measureText(e)},moveTo:function(e,eZ){this.$6.moveTo(e,eZ)},rect:function(e,eZ,fa,fb){this.$6.rect(e,eZ,fa,fb)},reset:function(){while(this.$f>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$6.restore();this.$8=this.$6.lineCap;this.$9=this.$6.lineJoin;this.$a=this.$6.strokeStyle;this.$7=this.$6.fillStyle;var e=this.$b.pop();e.$0(this);--this.$f},rotate:function(e){this.$l.rotate(e);this.$0()},save:function(){var e=new k(this.$e,this.$j,this.$g,this.$k,this.$h,this.$i,this.$l);this.$b.push(e);this.$6.save();++this.$f},scale:function(e,eZ){if(e===1&&eZ===1){return}this.$l.scale(e,eZ);this.$0()},setTransform:function(e){this.$l.setTransform(e);this.$0()},resetTransform:function(){this.$l.reset();this.$0()},stroke:function(){this.$6.stroke()},strokeRect:function(e,eZ,fa,fb){this.$6.strokeRect(e,eZ,fa,fb)},strokeText1:function(e,eZ,fa){},strokeText2:function(e,eZ,fa,fb){},translate:function(e,eZ){if(e===0&&eZ===0){return}this.$l.translate(e,eZ);this.$0()},$0:function(){var e=this.$l.get_matrix();this.$6.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$6.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$g)||!ss.referenceEquals(this.$g,this.$k)||this.$i},$2:function(e,eZ,fa,fb){this.$6.save();var fc=this.$l.clone();this.translate(fa,fb);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$k);e(eZ);if(this.$i){var fd=this.measureText(eZ).width;var fe=Math.round(Math.max(1,(this.$d-5)/10));var ff=Math.round((this.$d-5)/10);var fg=0;if(this.get_textAlign()==='center'){fg-=fd/2}else if(this.get_textAlign()==='end'){fg-=fd}this.$6.fillRect(fg,ff,fd,fe)}this.$6.restore();this.$l.setTransform(fc);this.$7=null},$3:function(e){if(!ss.referenceEquals(e,this.$7)){this.$6.fillStyle=e;this.$7=e}},$5:function(){var e=null;var eZ=0;switch(this.$e){case'solid':{e=[];break}case'dashed':{eZ=this.$6.lineWidth;e=[ed.defaultLineDashDashed[0]*eZ,ed.defaultLineDashDashed[1]*eZ];break}case'dotted':{eZ=this.$6.lineWidth;e=[ed.defaultLineDashDotted[0]*eZ,ed.defaultLineDashDotted[1]*eZ];break}}if(typeof(this.$6['setLineDash'])==='function'){this.$6.setLineDash(e)}else if('mozDash'in this.$6){this.$6['mozDash']=e}else if('webkitLineDash'in this.$6){this.$6['webkitLineDash']=e}}});ss.initClass(ee,a,{});ss.initClass(ef,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eg,a,{$e:function(){return this.get_viewModel()},$d:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}if(this.$e().options.textSelectable){this.$d().contentElem.addClass('tab-selectable')}this.handleNewTextRegion()},handleNewTextRegion:function(){if(!this.$e().hasPresModel()){return}this.$a(this.$d().textRegionBoundaryElem);this.$b(this.$d().contentElem)},handleRightClick:function(e){var eZ=new spiff.ShowMenuOptions(this.element,false);eZ.cursorPosition={left:e.clientX,top:e.clientY};var fa=eZ;this.get_viewModel().showContextMenu(fa)},handleDoubleClick:function(e){this.get_viewModel().openRichTextEditorDialogForTitle()},$b:function(e){var eZ={};e.removeAttr('style');e.html(this.$e().get_html());cb.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile_device){var fa=function(fi){fi.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),fa).on(this.createNamespacedEventName('touchend'),fa)}var fb=this.$e().get_orientation();var fc=eg.$3(fb);var fd=eg.$2(fb);if(fc||fd){var fe=tab.DoubleUtil.roundToInt(e.parent().width());var ff=tab.DoubleUtil.roundToInt(e.parent().height());eZ['width']=ff+'px';var fg='0%';if(fc){eZ['bottom']='100%';fg='100%'}else if(fd){eZ['top']='100%';fg='0%'}e.css(eZ);eZ['left']=eg.$1(fe,tab.DoubleUtil.roundToInt(e.height()),this.$e().get_hAlign(),fb);eg.$0(e,'0% '+fg,fb.toString())}else{eZ['width']='100%';var fh=tab.DoubleUtil.roundToInt(this.$d().domRoot.height());if(fh<=tab.DoubleUtil.roundToInt(e.height())&&!this.$c(e,fh)){eZ['top']='0%'}else{switch(this.$e().get_vAlign()){case'v-align-center':{eZ['top']='50%';eZ['margin-top']=ss.Int32.div(-tab.DoubleUtil.roundToInt(e.height()),2)+'px';break}case'v-align-bottom':{eZ['bottom']='0%';break}case'v-align-top':{eZ['top']='0%';break}default:{break}}}}e.css(eZ)},$c:function(e,eZ){var fa=false;e.find('span').each(function(fb,fc){if(!fa&&ss.isValue(fc.style.lineHeight)){fa=parseInt(fc.style.lineHeight)>=eZ}});return fa},$a:function(e){var eZ=this.$e().get_styledBox();var fa=cb.getCSSBorderStyle(eZ.borderStyle);var fb=ss.mkdict(['border-width',eZ.uw+'px','border-color',eZ.borderColor,'border-style',fa]);if(this.$e().get_styledBox().hasFill){this.$9(fb)}e.css(fb)},$9:function(e){var eZ=tab.ColorModel.fromColorCode(this.$e().get_styledBox().fillColor);if(eZ.get_a()<1){e['background-color']=eZ.toString()}else{e['background-color']=eZ.toString()}}},ss.makeGenericType(spiff.BaseView$1,[eh]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eh])]);eg.$ctor1.prototype=eg.prototype;ss.initClass(eh,a,{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.$3.get_hAlign()},get_html:function(){return this.$3.get_html()},get_orientation:function(){return this.$3.get_orientation()},get_vAlign:function(){return this.$3.get_vAlign()},get_styledBox:function(){return this.$3.get_styledBox()},get_presModelKey:function(){return this.$3.presModelKey},handleNewTextRegion:function(){this.$2()},hasPresModel:function(){return!ss.isNullOrUndefined(this.$3.pm)},isTitle:function(){return ss.referenceEquals(this.get_presModelKey().name,'visualTitle'.toString())&&tsConfig.current_sheet_type==='worksheet'},openRichTextEditorDialogForTitle:function(){tab.RichTextCommands.createWorksheetTitleRichTextEditor()},showContextMenu:function(e){if(!tab.FeatureFlags.isEnabled('SeamlessTitlesAndCaptionsWebSP1')||!tsConfig.is_authoring){return}if(this.isTitle()){var eZ=function(fb){var fc=fb.$$c['commands'];var fd=eR.menuViewModelFromCommands(fc,eR.commandMenuItemClicked,null);fd.show(e)};tab.SheetClientCommands.getTitleContextMenu(tsConfig.current_sheet_name,eZ)}if(ss.referenceEquals(this.get_presModelKey().name,'visualCaption'.toString())&&tsConfig.current_sheet_type==='worksheet'){var fa=function(fb){var fc=fb.$$c['commands'];var fd=eR.menuViewModelFromCommands(fc,eR.commandMenuItemClicked,null);fd.show(e)};tab.SheetClientCommands.getCaptionContextMenu(tsConfig.current_sheet_name,fa)}},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(ei,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ej,a,{get_canScrollX:function(){return this.get_docSize().w-this.get_actualViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_actualViewSize().h>0},get_docSize:function(){return{w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(e){throw new ss.NotSupportedException('Setting ActualViewSize is not supported.')},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.element.scrollLeft(),y:tab.DoubleUtil.roundToInt(this.element.scrollTop())}},set_scrollPos:function(e){this.setXPos(e.x);this.setYPos(e.y)},setXPos:function(e){this.element.scrollLeft(e)},setYPos:function(e){this.element.scrollTop(e)}},ss.makeGenericType(spiff.BaseView$1,[ek]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ek]),spiff.IScrollable]);ss.initClass(ek,a,{},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(el,a,{get_keyCombos:function(){return cP.op_Implicit(new cO.$ctor1(122))},executeShortcut:function(e){_.defer(ss.mkdel(this,function(){if(tab.FullscreenUtil.get_inFullscreenMode()){tab.FullscreenUtil.exitFullscreen()}else{tab.FullscreenUtil.requestFullscreen(document.documentElement)}}))}},cj,[cB]);ss.initClass(en,a,{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}},spiff.Template,[ss.IDisposable]);ss.initClass(eo,a,{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$d},$c:function(){this.$d=new spiff.LabelButton(this.get_dom().domRoot,'.tabToolbarButtonText');this.disposables.add$1(this.$d);var e=this.$d;var eZ=this.get_viewModel();e.add_click(ss.mkdel(eZ,eZ.execute));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var fa=this.$d;var fb=this.get_viewModel();fa.remove_click(ss.mkdel(fb,fb.execute))})));this.$d.add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_click(ss.mkdel(this,this.$9))})));this.element.attr('aria-label',this.get_viewModel().get_text());this.element.addClass(this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('iconClass'))},onViewModelPropertyChanged:function(e,eZ){switch(eZ.get_propertyName()){case'isActive':{this.$d.element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var fa=this.get_viewModel().get_enabled();this.$d.set_disabled(!fa);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){if(!fa){this.element.attr('aria-disabled','true')}else{this.element.removeAttr('aria-disabled')}this.element.attr('tabindex','-1')}if(!tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')||tsConfig.is_authoring){this.element.attr('tabindex',(fa?'0':'-1'))}break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.$d.set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$e)){this.get_dom().get_image().removeClass(this.$e)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$e=this.get_viewModel().get_iconClass();break}}},$9:function(){if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){this.get_viewModel().showDialog()}else if(this.$d.element.hasClass('tabToolbarButtonFlyoverShown')){this.get_viewModel().popupViewModel.hide(false)}else{this.get_viewModel().showUberPopup(this.$d.element)}},$b:function(){this.$d.element.addClass('tabToolbarButtonFlyoverShown')},$a:function(){this.$d.element.removeClass('tabToolbarButtonFlyoverShown')}},ss.makeGenericType(spiff.BaseView$1,[ep]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ep])]);ss.initClass(ep,a,{add_showDialogRequested:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_showDialogRequested:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_flyoverShown:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_flyoverShown:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_flyoverHidden:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_flyoverHidden:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_buttonAction:function(){return this.action},get_enabled:function(){return this.$6},set_enabled:function(e){if(!this.$b&&this.$6!==e){this.$6=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$8},set_iconClass:function(e){if(!this.$b&&!(ss.compareStrings(this.$8,e,false)===0)){this.$8=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$9},get_isActive:function(){return this.$a},set_isActive:function(e){if(!this.$b&&this.$a!==e){this.$a=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$d},set_text:function(e){if(!this.$b&&!(ss.compareStrings(this.$d,e,false)===0)){this.$d=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$e},set_tooltipText:function(e){if(!this.$b&&!ss.referenceEquals(this.$e,e)){this.$e=e;this.notifyPropertyChanged('tooltipText')}},get_isSeparator:function(){return this.$b},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showUberPopup:function(e){if(ss.isValue(this.popupContent)){this.$2();this.popupViewModel=spiff.UberPopupViewModel.createForContent$1(this.popupContent,e,null,true);this.popupViewModel.options=this.$c;if(ss.isValue(this.$2$2)){this.popupViewModel.add_shown(this.$2$2)}if(ss.isValue(this.$2$3)){this.popupViewModel.add_hidden(ss.mkdel(this,this.$4))}this.popupViewModel.show()}},showDialog:function(){if(ss.staticEquals(this.$2$1,null)){return}this.$7().done(ss.mkdel(this,function(e){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(e)){this.$2$1(e)}}))},$3:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.hide(false)}},$5:function(){this.raiseActionEvent(this.$2$2)},$4:function(){this.raiseActionEvent(this.$2$3);this.$2()},$2:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.remove_shown(this.$2$2);this.popupViewModel.remove_hidden(ss.mkdel(this,this.$4));this.popupViewModel.dispose();this.popupViewModel=null}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eq,a,{createMenu:function(){return this.$f(null)},execute:function(){},dropdownClicked:function(e){var eZ=this.createMenu();if(!eZ.menuItems.some(function(fd){return fd.enabled})){return null}var fa=spiff.MenuViewModel.createForMenu(eZ,eR.commandMenuItemClicked);fa.add_hidden(ss.mkdel(this,function(){this.set_isActive(false)}));var fb=new spiff.ShowMenuOptions(e,true);fb.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';var fc=fb;fa.show(fc);this.set_isActive(true);return fa}},ep,[ss.IDisposable,tab.IViewModel]);ss.initClass(er,a,{add_propsUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_propsUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_props:function(){return this.$3$2},set_props:function(e){this.$3$2=e},createMenu:function(){return this.$h(null)},$f:function(e){if(ss.compare(e,this.get_props().selectedValue)!==0){this.get_props().selectedValue=e;this.raiseActionEvent(this.$3$1);var eZ=parseInt(e);var fa=this.$g.menuItems[eZ];spiff.MenuViewModel.handleMenuActionItemClicked(fa)}}},ep,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(es,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(et,a,{get_toggleToText:function(){return this.$f},set_toggleToText:function(e){this.$f=e}},ep,[ss.IDisposable,tab.IViewModel]);ss.initClass(eu,a,{get_dom:function(){return this.get_template()},$u:function(){return this.$3$1},$v:function(e){this.$3$1=e},$z:function(){return this.$3$2},$A:function(e){this.$3$2=e},$x:function(){return this.$3$3},$y:function(e){this.$3$3=e},$B:function(){return this.$3$4},$C:function(e){this.$3$4=e},$s:function(){return this.$3$5},$t:function(e){this.$3$5=e},$E:function(){return this.$3$6},$F:function(e){this.$3$6=e},$w:function(){return this.$N.get_customViewsViewModel()},$G:function(e){this.get_dom().toolbar.toggleClass('horizontalLabels',e);this.get_dom().toolbar.toggleClass('stackedLabels',!e)},$D:function(e){if(!ev.get_isPublicSpecificToolbar()){this.get_dom().publicBelowLogo.toggle(e&&!tab.FullscreenUtil.get_inFullscreenMode())}},$H:function(e){if(!ev.get_isPublicSpecificToolbar()){this.$D(!e);this.get_dom().publicItems.toggleClass('narrow',e)}},$r:function(){var e=this.$N.get_shouldShowPublicWatermarkItems();var eZ=this.$N.get_shouldForceLabelsBelowIcons();var fa=this.$N.get_canPutLabelsUnderneath();var fb=this.get_dom().toolbar.width();var fc=(e?this.$M:0);var fd=this.get_dom().leftItems;var fe=this.get_dom().rightItems;this.$G(!eZ);this.$D(true);this.$H(false);eu.$3(this.$u());eu.$3(this.$x());eu.$3(this.$z());eu.$3(this.$s());eu.$3(this.$B());eu.$3(this.$E());if(tab.FullscreenUtil.get_inFullscreenMode()||ev.get_isPublicSpecificToolbar()){eu.$1(fd);eu.$1(fe);this.$D(false);return}if(eZ){if(this.$g(fb,this.$P,fc,this.$K)){eu.$4(fd);eu.$4(fe)}else{eu.$1(fd);eu.$1(fe)}return}if(this.$g(fb,this.$Q,fc,this.$L)&&!eZ){eu.$4(fd);eu.$4(fe)}else if(this.$g(fb,this.$P,fc,this.$K)&&fa){this.$G(false);eu.$4(fd);eu.$4(fe)}else if(this.$g(fb,this.$O,fc,this.$L)){eu.$1(fd);eu.$4(fe)}else if(this.$g(fb,this.$Q,fc,this.$J)){eu.$4(fd);eu.$1(fe)}else{eu.$1(fd);eu.$1(fe);var ff=this.$O;var fg=this.$J;if(ss.isValue(this.$z())){if(!this.$g(fb,ff,fc,fg)){this.$z().element.hide();ff-=this.$I}}if(ss.isValue(this.$u())){if(!this.$g(fb,ff,fc,fg)){this.$u().element.hide();fg-=this.$I}}if(ss.isValue(this.$x())){if(!this.$g(fb,ff,fc,fg)){this.$x().element.hide();fg-=this.$I}}if(ss.isValue(this.$s())){if(!this.$g(fb,ff,fc,fg)){this.$s().element.hide();fg-=this.$I}}if(ss.isValue(this.$E())){if(!this.$g(fb,ff,fc,fg)){this.$E().element.hide();fg-=this.$I}}if(ss.isValue(this.$B())){if(!this.$g(fb,ff,fc,fg)){this.$B().element.hide();fg-=this.$I}}if(!this.$g(fb,ff,fc,fg)){this.$H(true)}}},$n:function(){var e=ev.get_toolbarHeight();if(this.get_viewModel().get_shouldShowCommenting()){e-=1}this.get_dom().toolbar.height(e);this.$o();this.rebuildNonVizItems();if(!ev.get_isPublicSpecificToolbar()){this.rebuildPublicItems()}if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.find('.tabToolbarButton:not(.disabled)').first().attr('tabindex','0')}this.$k()},$o:function(){this.get_dom().leftItems.empty();if(ev.get_isPublicSpecificToolbar()){this.$d(this.get_dom().leftItems)}else{this.$f(this.get_dom().leftItems)}},$d:function(e){var eZ=ss.getEnumerator(this.$N.get_nonVizItems());try{while(eZ.moveNext()){var fa=eZ.current();if(ss.equalsT('public-logo',fa.get_iconType())){var fb=eo.create(fa);e.append(fb.element)}}}finally{eZ.dispose()}},$f:function(e){this.$A(null);var eZ=ss.getEnumerator(this.$N.get_vizItems());try{while(eZ.moveNext()){var fa=eZ.current();var fb=eo.create(fa);e.append(fb.element);if(ss.equalsT('redo',fa.get_iconType())){this.$A(fb)}}}finally{eZ.dispose()}if(tsConfig.is_metrics_enabled){var fc=new ep(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$N,this.$N.showPerformanceMetrics));var fd=eo.create(fc);e.append(fd.element)}},rebuildNonVizItems:function(){this.get_dom().rightItems.empty();if(ev.get_isPublicSpecificToolbar()){this.$f(this.get_dom().rightItems);this.$b(this.get_dom().rightItems)}else{this.$b(this.get_dom().rightItems)}},$b:function(e){if(!tab.FullscreenUtil.get_inFullscreenMode()){this.$v(null);this.$y(null);var eZ=ss.getEnumerator(this.$N.get_nonVizItems());try{while(eZ.moveNext()){var fa=eZ.current();var fb=eo.create(fa);if(!ss.equalsT('public-logo',fa.get_iconType())){e.append(fb.element)}if(ss.equalsT('customviews',fa.get_iconType())){fb.get_dom().get_text().css('max-width','160px');this.$v(fb)}else if(ss.equalsT('edit',fa.get_iconType())){this.$y(fb)}else if(ss.equalsT('share',fa.get_iconType())){this.$C(fb)}else if(ss.equalsT('alert',fa.get_iconType())){this.$t(fb)}else if(ss.equalsT('subscribe',fa.get_iconType())){this.$F(fb)}}}finally{eZ.dispose()}}if(this.get_viewModel().get_shouldShowCommenting()){var fc=E.get_instance().get_rightAreaDrawerViewModel();var fd=function(){fc.done(function(fi){fi.toggle()})};var fe=new ep(tab.Strings.CommentingToolbarButtonLabel,'tab-icon-commenting',fd);var ff=eo.create(fe);e.append(ff.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(ff)}))}if(tab.FeatureFlags.isEnabled('VizToolbarFullscreenButton')){if(tab.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile){var fg=(tab.FullscreenUtil.get_inFullscreenMode()?new ep(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',tab.FullscreenUtil.exitFullscreen):new ep(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){tab.FullscreenUtil.requestFullscreen(document.documentElement)}));var fh=eo.create(fg);e.append(fh.element)}}this.updateCustomViewsButton()},$h:function(){this.$q();this.$n()},updateCustomViewsButton:function(){if(ss.isNullOrUndefined(this.$u())){return}var e=this.$w().get_currentCustomViewName();if(ss.isNullOrUndefined(e)){this.$u().element.css('visibility','hidden')}else{this.$u().element.css('visibility','');this.$u().element.toggleClass('tab-customviews-modified',this.$w().get_dirty());var eZ=tab.Strings.ToolbarCustomViewsTemplate(e);if(!ss.equalsT(this.$u().get_toolbarButton().get_label(),eZ)){this.$u().get_toolbarButton().set_label(eZ)}}},rebuildPublicItems:function(){if(!this.$N.get_shouldShowPublicWatermarkItems()){this.get_dom().publicItems.hide();return}this.get_dom().publicLogo.empty();this.get_dom().publicBelowLogo.empty();this.$c();this.get_dom().publicLogo.attr('title',tab.Strings.ToolbarAboutTableau);if(this.$N.get_shouldShowViewCount()){this.$e();if(this.$N.get_shouldShowAuthorByLine()){this.$a()}}if(this.$N.get_shouldShowAuthorByLine()){this.$9()}this.get_dom().publicItems.show()},$j:function(){if(!ev.get_isPublicSpecificToolbar()){this.rebuildPublicItems();this.$i()}},$c:function(){this.get_dom().publicLogo.prop('href',this.$N.get_publicLogoLink());var e=$('<div />');e.addClass('tab-publicLogo');this.get_dom().publicLogo.append(e)},$e:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(this.$N.get_localizedViewCount()));this.get_dom().publicBelowLogo.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().publicBelowLogo.append(e)},$9:function(){var e=$('<span>').html(this.$N.get_authorProfileLink());this.get_dom().publicBelowLogo.append(e)},$k:function(){if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','-10000px')}this.get_dom().toolbar.width('10000px');eu.$2(this.get_dom().rightItems);eu.$3(this.$u());eu.$3(this.$x());eu.$3(this.$z());eu.$3(this.$s());eu.$3(this.$B());eu.$3(this.$E());if(this.$I===0){this.$G(!this.$N.get_shouldForceLabelsBelowIcons());eu.$1(this.get_dom().leftItems);eu.$1(this.get_dom().rightItems);this.$O=this.get_dom().leftItems.outerWidth(true);this.$J=this.get_dom().rightItems.outerWidth(true);this.$I=ss.coalesce(ss.Int32.trunc(this.get_dom().leftItems.children().first().outerWidth(true)),0)}eu.$4(this.get_dom().leftItems);eu.$4(this.get_dom().rightItems);if(this.$N.get_canPutLabelsUnderneath()){this.$G(false);this.$P=this.get_dom().leftItems.outerWidth(true);this.$K=this.get_dom().rightItems.outerWidth(true)}if(!this.$N.get_shouldForceLabelsBelowIcons()){this.$G(true);this.$Q=this.get_dom().leftItems.outerWidth(true);this.$L=this.get_dom().rightItems.outerWidth(true)}if(this.$N.get_shouldShowPublicWatermarkItems()&&!ev.get_isPublicSpecificToolbar()){this.$H(false);this.$M=this.get_dom().publicItems.outerWidth(true)}this.get_dom().toolbar.width('');if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','')}this.$i()},$q:function(){this.$Q=0;this.$P=0;this.$O=0;this.$L=0;this.$K=0;this.$J=0;this.$M=0;this.$I=0},forceResizeToolbar:function(){this.$i()},$i:function(){var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var eZ=this.get_dom().leftItems;var fa=this.get_dom().rightItems;if(eZ.children().length===0&&fa.children().length===0){return}eu.$2(fa);this.$r();eu.$0(fa);this.$p()}finally{if(ss.isValue(e)){e.dispose()}}},$m:function(e){switch(e.which){case 37:{this.$l(-1);break}case 39:{this.$l(1);break}default:{return}}e.preventDefault();e.stopPropagation()},$l:function(e){var eZ=this.element.find('.tabToolbarButton:not(.disabled):focusable');var fa=this.element.find('.tabToolbarButton:focus');if(ss.isValue(fa[0])){var fb=eZ.index(fa[0]);eZ.eq((fb+e)%eZ.length).focus()}},$p:function(){var e=ss.getEnumerator(this.$N.get_nonVizItems());try{while(e.moveNext()){var eZ=e.current();if(ss.isValue(eZ.popupViewModel)){eZ.popupViewModel.updatePosition()}}}finally{e.dispose()}},$g:function(e,eZ,fa,fb){if(eZ+fa+fb>=e){return false}var fc=Math.max(eZ,fb)+fa/2>=e/2;if(this.$N.get_shouldShowPublicWatermarkItems()&&fa>0&&fc){return false}return true}},ss.makeGenericType(spiff.BaseView$1,[ev]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ev])]);ss.initClass(ev,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_viewCountLoaded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_viewCountLoaded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_shouldShowPublicWatermarkItems:function(){return ev.$0()&&tsConfig.watermarkdisplay},get_shouldShowAuthorByLine:function(){return ev.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return ev.$0()&&tsConfig.showViewCount&&ev.publicViewCount>tsConfig.viewCountThreshold},get_shouldForceLabelsBelowIcons:function(){return this.get_canPutLabelsUnderneath()&&tsConfig.is_mobile},get_shouldShowCommenting:function(){return this.$2$4},set_shouldShowCommenting:function(e){this.$2$4=e},get_canPutLabelsUnderneath:function(){return ev.get_toolbarHeight()>40},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var eZ=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(eZ),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_viewCount:function(){return ev.publicViewCount},set_viewCount:function(e){ev.publicViewCount=e;if(this.get_shouldShowViewCount()){this.raiseActionEvent(this.$2$2)}},get_localizedViewCount:function(){var e=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;var eZ=e[2];var fa=e[8];var fb=e[9];return tableau.format.formatIntAuto(ev.publicViewCount,eZ,fa,fb)},get_vizCommandItems:function(){return this.$c.get_vizCommandItems()},get_nonVizCommandItems:function(){return this.$c.get_nonVizCommandItems()},get_legacyMenuItems:function(){return this.$c.get_legacyMenuItems()},get_vizItems:function(){return this.$d},get_nonVizItems:function(){return this.$b},get_customViewsViewModel:function(){return this.$9},get_dialogHostViewModel:function(){return this.$2$5},set_dialogHostViewModel:function(e){this.$2$5=e},get_forceHideCustomViewsButton:function(){return this.$a},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},dispose:function(){this.$9.dispose();this.get_dialogHostViewModel().dispose();if(ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.dispose()}this.$5();spiff.BaseViewModel.prototype.dispose.call(this)},$4:function(e,eZ){for(var fa=0;fa<e.length;fa++){var fb=e[fa];var fc=tab.CommandItemWrapper.create(fb);tab.Param.verifyValue(fb,'commandItem');switch(fc.get_commandsType()){case'separator':{eZ.push(ep.createSeparator());break}case'item':{if(ep.shouldShowButton(fc,this)){this.$2(fb,eZ)}break}case'subcommands':{if(fc.get_iconRes()==='toggle-updates'){var fd={$:this.$3(tab.CommandsPresModelWrapper.create(fc.get_commands()).get_commandItems(),eZ)};var fe={$:tab.ApplicationModel.get_instance().get_workbook()};fe.$.withDashboard(ss.mkdel({workbook:fe,button:fd},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$5:function(){for(var e=0;e<this.$d.length;e++){var eZ=this.$d[e];eZ.dispose()}ss.clear(this.$d);for(var fa=0;fa<this.$b.length;fa++){var fb=this.$b[fa];fb.dispose()}ss.clear(this.$b)},$7:function(e,eZ){if(this.$a&&this.$9.get_hasCustomViews()){this.$a=false;this.$6(null)}},$2:function(e,eZ){var fa=ep.createFromCommandItem(e,'tab-icon-',this);var fb=this.get_dialogHostViewModel();fa.add_showDialogRequested(ss.mkdel(fb,fb.show));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var fc=this.get_dialogHostViewModel();fa.remove_showDialogRequested(ss.mkdel(fc,fc.show))})));eZ.push(fa)},$3:function(e,eZ){if(e.length!==2){return null}var fa=et.createFromCommandItems(e[0],e[1],'tab-icon-');if(ss.isValue(fa)){eZ.push(fa)}return fa},$6:function(e){var eZ=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$5();if(tsConfig.toolbarvis){this.$4(this.$c.get_vizCommandItems(),this.$d)}this.$4(this.$c.get_nonVizCommandItems(),this.$b);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(eZ)){eZ.dispose()}}},isLegacyMenuItemEnabled:function(e){return this.$c.isLegacyMenuItemEnabled(e)},showPerformanceMetrics:function(){tab.CommandController.get().get_legacySession().saveAndOpenMetricsView()},showDialog:function(e){var eZ=ss.getEnumerator(this.get_nonVizItems());try{while(eZ.moveNext()){var fa=eZ.current();if(ss.equalsT(e,fa.get_iconType())){if(e==='alert'){fa.execute()}else if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fa.showDialog()}else{fa.showUberPopup($('.tabToolbarButton.'+e));$('.tab-glass').css('opacity','0.5').css('background-color','black')}return}}}finally{eZ.dispose()}},createDataAlertDialogViewModel:function(e){if(e.dataAlertDialogMode==='edit'){this.dataAlertDialogViewModel=bn.new$1(e,bq.editDataAlertId())}else{this.dataAlertDialogViewModel=bn.new$1(e,'')}this.dataAlertDialogViewModel.add_disposed(ss.mkdel(this,function(eZ){this.$8()}));this.raiseActionEvent(this.$2$3);return this.dataAlertDialogViewModel},$8:function(){this.dataAlertDialogViewModel=null},handleDataAlertUpdate:function(){if(bn.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){this.createDataAlertDialogViewModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm);return}if(!bn.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){return}if(!bn.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel=null;return}if(bn.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.updateFromDialogPresModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(ew,a,{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$k},get_body:function(){return this.$i.get_body()},get_location:function(){return this.$o},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$j},set_horizontalOffset:function(e){this.$j=e},get_verticalOffset:function(){return this.$s},set_verticalOffset:function(e){this.$s=e},get_lastLocation:function(){return this.$l},set_lastLocation:function(e){this.$l=e},get_calculatedShownArgs:function(){return this.$h},get_showAbove:function(){return this.$n},set_showAbove:function(e){this.$n=e},get_freezePositionWhileOpen:function(){return this.$2$6},set_freezePositionWhileOpen:function(e){this.$2$6=e},setTooltipBodyAndReposition:function(e,eZ){this.requestLayout(ss.mkdel(this,function(){if(ss.isValue(eZ)){eZ()}this.get_body().empty().append(e)}))},isInSafeZone:function(e,eZ){var fa=this.element.position();var fb=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fc=tab.DoubleUtil.roundToInt(this.element.outerHeight());var fd=10;var fe=10;if(eZ){fd+=this.get_horizontalOffset();fe+=this.get_verticalOffset()}return e.x>=fa.left-fd&&e.x<=fa.left+fb+fd&&e.y>=fa.top-fe&&e.y<=fa.top+fc+fe},show:function(e,eZ){if(ss.isNullOrUndefined(eZ)||this.$q){this.close();return}this.set_lastLocation(eZ);this.ensureAttachedAndSized();this.$p=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e)}else{this.get_body().empty().append(e);this.requestLayout()}},move:function(e){if(!this.$k||ss.isNullOrUndefined(e)||ss.isValue(this.$o)&&this.$o.x===e.x&&this.$o.y===e.y){return}this.$l=e;this.requestLayout()},close:function(){this.set_freezePositionWhileOpen(false);this.$p=false;if(!this.$k){return}this.detach();this.$k=false;this.onClosed()},hideUntilReposition:function(){this.element.hide();this.$p=true},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$h=null;this.set_freezePositionWhileOpen(false);this.requestLayout()},requestLayout:function(e,eZ){if(ss.isValue(e)){this.$m.push(e)}if(ss.isValue(eZ)){R.getViewport(ss.mkdel(this,function(fa){this.layoutTooltip(fa,eZ)}))}else{R.getViewport(ss.mkdel(this,this.layoutTooltip))}},onShowed:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},onPrePosition:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},onPositionCalculated:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},onPositioned:function(){if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},onClosed:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},$d:function(){if(tab.DomUtil.nodeHasTextSelection(this.element.get(0))){window.getSelection().removeAllRanges()}},detach:function(){this.$d();this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$6:function(e,eZ){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(eZ)){return null}this.$o=e;var fa=ss.isValue(this.$r)&&e.y>=ss.unbox(this.$r)-16;var fb=tab.DoubleUtil.roundToInt(this.element.height());var fc=tab.DoubleUtil.roundToInt(this.element.width());var fd=eZ.getVisibleRoom(e,1);var fe;if(!(fd.roomRight>=fc+this.get_horizontalOffset())&&fd.roomRight+fd.roomLeft>=fc+this.get_horizontalOffset()){fe=parseInt(Math.max(0,fd.roomRight-fc).toString())}else{fe=this.get_horizontalOffset()}var ff=fb+this.get_verticalOffset();var fg=fc+fe;var fh;var fi;if(fd.roomRight>=fg){fh=true;fi=e.x+fe}else if(fd.roomLeft>=fg){fh=false;fi=e.x+ss.Int32.trunc(fd.roomRight)-fg}else{fh=true;fi=Math.max(0,e.x-fg+ss.Int32.trunc(fd.roomRight))}var fj=(this.get_showAbove()?this.$7(e,fd,ff,fg):this.$8(e,fd,ff,fg,fa));var fk=fj<=e.y;var fl=new dQ;if(fk){if(fh){fl.position='AR'}else{fl.position='AL'}}else if(fh){fl.position='BR'}else{fl.position='BL'}fl.shownX=fi;fl.shownY=fj;fl.tooltipAnchorY=fj;fl.origX=e.x;fl.origY=e.y;fl.viewport=eZ;return fl},$g:function(e){if(ss.isValue(e)){var eZ=this.$b(e.position);if(!this.element.hasClass(eZ)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(eZ)}this.$h=e}},$c:function(){if(ss.isValue(this.$h)){this.element.css(ss.mkdict(['left',this.$h.shownX+'px','top',this.$h.shownY+'px']))}},$b:function(e){var eZ;switch(e){case'AR':{eZ='tab-tooltipAR';break}case'AL':{eZ='tab-tooltipAL';break}case'BL':{eZ='tab-tooltipBL';break}case'BR':default:{eZ='tab-tooltipBR';break}}return eZ},layoutTooltip:function(e,eZ){this.element.css(ss.mkdict(['top','0','left','0']));if(this.get_freezePositionWhileOpen()){this.$a()}else if(eZ){var fa=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(fa)){return}this.$g(fa);this.$c()}else{this.$9();this.onPrePosition();var fb=this.$6(this.get_lastLocation(),e);if(!this.$e(fb)){this.$c();return}this.$g(fb);this.onPositionCalculated();if(this.$p){this.$p=false;this.$f()}this.$c();this.onPositioned()}},$a:function(){this.$9();this.$f();this.$c();this.onPositioned()},$f:function(){this.element.show();this.$k=true;this.onShowed()},$9:function(){for(var e=0;e<this.$m.length;e++){var eZ=this.$m[e];eZ()}ss.clear(this.$m)},$e:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$p){return true}if(dQ.areShownArgsSame(e,this.$h)){return false}return true},$8:function(e,eZ,fa,fb,fc){var fd;if(!fc&&eZ.roomBelow>=fa){fd=e.y+this.get_verticalOffset();this.$r=null}else if(!fc&&eZ.roomAbove>=fa&&eZ.roomRight>=fb){fd=e.y+(ss.Int32.trunc(eZ.roomBelow)-fa+this.get_verticalOffset())}else if(eZ.roomAbove>=fa){fd=e.y-fa;if(!ss.isValue(this.$r)){this.$r=e.y}}else{fd=Math.max(0,e.y-ss.Int32.trunc(eZ.roomAbove))}return fd},$7:function(e,eZ,fa,fb){var fc;if(eZ.roomAbove>=fa){fc=e.y-fa;if(!ss.isValue(this.$r)){this.$r=e.y}}else if(eZ.roomBelow>=fa){fc=e.y+this.get_verticalOffset();this.$r=null}else if(eZ.roomAbove>=fa&&eZ.roomRight>=fb){fc=e.y+(ss.Int32.trunc(eZ.roomBelow)-fa+this.get_verticalOffset())}else{fc=Math.max(0,e.y-ss.Int32.trunc(eZ.roomAbove))}return fc},setSuppressTooltip:function(e){this.$q=e;if(this.$q&&this.$k&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cG]);ss.initClass(ey,a,{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.$j.get_isShown()},get_visualIDPresModel:function(){return this.visualId},get_tooltip:function(){return this.$j},get_ubertip:function(){return this.$k},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$f},get_defaultBehaviorType:function(){return this.$g},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$e)},$d:function(){return ss.mkdel(this,this.$3)},get_testUseOnlyLastHoveredObjectID:function(){return ey.$1},set_testUseOnlyLastHoveredObjectID:function(e){ey.$1=e},close:function(){this.$j.close()},hoverOverObject:function(e,eZ,fa,fb,fc,fd,fe,ff){if(!this.readyForHover){return}if(ss.isNullOrUndefined(fb)){return}var fg=this.getHoverBehavior(fe);this.switchTooltipMode(fg);var fh=ss.referenceEquals(fb.toString(),ey.$1);var fi=ss.mkdel(this,function(fk){var fl=ff==='viz'&&ey.isUbertipHtmlEmpty(fk);this.get_currentBehavior().hoverOverObject(e,fc,fl,fh)});if(fe==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(fd)&&!this.shouldForceRemoteTooltipForObject(fe,fb)){if(fh){fi(this.get_ubertip().get_model())}else{var fj=this.getAffectedObjects('mark',fb);this.runBehaviorWithLocalUbertip(fi,fb,fj,eZ,fa,fd,ff,fe,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(fi,{x:fa.x,y:fa.y,w:0,h:0},ff,'on-hover',fe,null,null,false,null)}},hoverOverWhitespace:function(e,eZ){if(!this.readyForHover){return}var fa='W'===ey.$1;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!fa){var fb=this.needRemoteCommand(eZ,'whitespace','on-hover',0,null);if(fb===1){ey.$1='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},eZ,'on-hover','whitespace',null,null,false,null)}else if(fb===2){ey.$1='W';this.$l=tab.MiscUtil.clearTimeout(this.$l);this.$l=window.setTimeout(ss.mkdel(this,function(){this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},eZ,'on-hover','whitespace',null,null,false,null)}),200)}}}else if(this.$j.get_isShown()){ey.$1='W';this.$j.close()}},hoverOverHeader:function(e,eZ,fa,fb,fc){if(!this.readyForHover){return}var fd=fc.length>0&&tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'on-hover','url').length>0;if(fd){var fe=!ss.referenceEquals(fc.toString(),ey.$1);this.hoverOverCoordinates(e,eZ,fa,fb,null,fc,fe)}else{this.hoverOverCoordinates(e,eZ,fa,fb,null,null,false)}},hoverOverCoordinates:function(e,eZ,fa,fb,fc,fd,fe){if(!this.readyForHover){return}ey.$1=(ss.isValue(fd)?fd.toString():'U');var ff=this.getHoverBehavior(fa);this.switchTooltipMode(ff);var fg=ss.mkdel(this,function(fh){var fi=fb==='viz'&&ey.isUbertipHtmlEmpty(fh);this.get_currentBehavior().hoverOverObject(e,false,fi,false)});this.runBehaviorWithRemoteUbertip(fg,{x:eZ.x,y:eZ.y,w:0,h:0},fb,'on-hover',fa,fc,fd,fe,null)},singleSelectComplete:function(e,eZ,fa,fb,fc,fd,fe){var ff=this.getSingleSelectBehavior(fd);this.switchTooltipMode(ff);this.suppressHoverIfNecesary();var fg=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&fd==='mark'){var fh=this.getAffectedObjects(fd,fb);this.runBehaviorWithLocalUbertip(fg,fb,fh,eZ,fa,fc,fe,fd,'on-select')}else{var fi={x:fa.x,y:fa.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(fg,fi,fe,'on-select',fd,null,null,false,null)}},singleSelectCoordinates:function(e,eZ,fa,fb,fc){var fd=this.getSingleSelectBehavior(fb);this.switchTooltipMode(fd);var fe=ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(fe,{x:eZ.x,y:eZ.y,w:0,h:0},fa,'on-select',fb,fc,null,false,null)},multiSelectComplete:function(e,eZ,fa){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var fb=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);ey.$1='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(fb,eZ,fa,'on-select','unspecified',null,null,false,null)},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){ey.$1='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$5));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$9));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$8));this.$k.remove_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$k.remove_ubertipMenuClosed(ss.mkdel(this,this.$a));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.$j.setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.$g},getHoverBehavior:function(e){return this.$g},shouldForceRemoteTooltipForObject:function(e,eZ){return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){ey.$2=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.$j.setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){var eZ=ss.isValue(e)&&e.tupleId===0;if(!eZ&&!ss.referenceEquals(e.tupleId,ey.$2)){return}var fa=this.$k.get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(!ss.staticEquals(this.$1$3,null)){this.$1$3(e)}if(ss.isValue(fa)&&fa.requestId===e.requestId){this.get_ubertip().updatePartiallyFromRemote(fa)}}))},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.$k.get_model())?this.$k.get_model().tooltipOffset:null);if(!_.isEqual(e,this.$k.get_model())){this.$k.set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var eZ=this.get_currentBehavior();eZ.detach();var fa=this.$2(e);fa.attach();this.$f=e;this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.$k.prepareForPositioning(this.shouldShowCommandButtons()&&this.$k.hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.$k.get_isShowingFullUbertip()){return}this.$j.forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.$k.showCommandAreaAndActions()}else{this.$k.hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},getAffectedObjects:function(e,eZ){var fa=null;if(this.get_hasContextProvider()){if(ss.contains(this.$e.getSelectedObjects(e),eZ)){fa=this.$e.getSelectedObjects(e)}else{fa=[eZ]}}return fa},isCurrentObjectSelected:function(){if(ss.isNullOrUndefined(this.$k.get_model())){return false}var e=this.$k.get_model();var eZ=((this.get_hasContextProvider()&&e.interactedTupleId!==0)?this.$e.isMarkSelected(e.interactedTupleId):e.tupleSelected);if(eZ){return true}var fa=e.refLineSelected||e.trendLineSelected;if(fa){return true}var fb=e.imageRegion;var fc=fb==='bottomaxis'||fb==='leftaxis'||fb==='rightaxis'||fb==='topaxis';if(fc){return true}var fd=fb==='xheader'||fb==='yheader';return fd},runBehaviorWithLocalUbertip:function(e,eZ,fa,fb,fc,fd,fe,ff,fg){var fh=eZ.toString();if(!ss.referenceEquals(ey.$1,fh)){this.$l=tab.MiscUtil.clearTimeout(this.$l)}ey.$4+=1;ey.$3=this.visualId;var fi=ey.$4;var fj=ss.mkdel(this,function(fn){if(!this.$4(fi.toString())){if(!ss.referenceEquals(this.visualId,ey.$3)){this.readyForHover=true}return}if(ss.isValue(fn)){fn.requestId=fi;this.modelUpdateCallback(fn);ey.$1=fh;ey.$2=eZ;if(fe==='viz'&&fn.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(fn)}}});var fk=ss.mkdel(this,function(fn){if(!this.$4(fi.toString())||!ss.isValue(fn)){return}fn.requestId=fi;this.updateModelFromServerResponse(fn)});var fl=new tab.LocalUbertipInfo(eZ,fa,fd,false);var fm=this.needRemoteCommand(fe,ff,fg,eZ,fd);if(fm===1){tab.UberTipClientCommands.localAndRemoteUberTipCommand(fb,fe,this.visualId,{x:fc.x,y:fc.y,w:0,h:0},eZ,fl,fj,fk,this.$d(),fg)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(fb,this.visualId,fl,fj)}if(fm===2){this.$l=window.setTimeout(ss.mkdel(this,function(){tab.UberTipClientCommands.remoteOnlyUbertipCommand(fe,this.visualId,{x:fc.x,y:fc.y,w:0,h:0},fk,this.$d(),fg,null,null,false,ey.$2)}),200)}},runBehaviorWithRemoteUbertip:function(e,eZ,fa,fb,fc,fd,fe,ff,fg){var fh=(ss.isValue(fe)?fe.toString():((fc==='whitespace')?'W':'U'));if(!ss.referenceEquals(ey.$1,fh)){this.$l=tab.MiscUtil.clearTimeout(this.$l)}ey.$4+=1;ey.$3=this.visualId;var fi=ey.$4;var fj=ss.mkdel(this,function(fk){if(!this.$4(fi.toString())){if(!ss.referenceEquals(this.visualId,ey.$3)){this.readyForHover=true}return}if(ss.isValue(fk)){fk.requestId=fi;this.modelUpdateCallback(fk);if(fa==='viz'&&fk.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(fk)}}else{this.$1();ey.$1=fh}});tab.UberTipClientCommands.remoteOnlyUbertipCommand(fa,this.visualId,eZ,fj,this.$d(),fb,fd,fe,ff,fg)},needRemoteCommand:function(e,eZ,fa,fb,fc){if(tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||eZ!=='mark'&&eZ!=='whitespace'||fa!=='on-hover'||this.$h||ss.isNullOrUndefined(this.$e)||this.$e.isMarkSelected(fb)){return 1}if(this.hasViT(fc)){return 2}return 0},hasViT:function(e){return(tab.FeatureFlags.isEnabled('VizInTooltip')?tab.UbertipSerializer.paneContainsViT(tab.ModelUtils.getVisualModelFromVisualId(this.visualId),e):false)},$3:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$1:function(){this.$j.close();this.readyForHover=true},$0:function(){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$5:function(){this.readyForHover=true;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$8:function(e,eZ){this.get_tooltip().close();if(!ss.staticEquals(this.$1$4,null)){this.$1$4(e,eZ)}},$9:function(e,eZ){var fa=tab.FeatureFlags.isEnabled('SelectionRelaxation')&&ss.isValue(eZ.command)&&eZ.command.get_commandType()===23;if(!fa){this.get_tooltip().close()}if(!ss.staticEquals(this.$1$5,null)){this.$1$5(e,eZ)}if(fa){this.$c()}},$c:function(){this.$j.set_freezePositionWhileOpen(true);var e=null;var eZ=ss.isValue(ey.$2)&&ss.unbox(ey.$2)!==0;if(!eZ){return}e=ey.$2;this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},'viz','on-select','mark',null,null,false,e)},$b:function(e){this.$i=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$a:function(){this.$i=false;this.get_currentBehavior().handleUbertipMenuClose()},$6:function(){this.$j.close()},$4:function(e){if(ss.isValue(e)&&!ss.referenceEquals(ey.$4.toString(),e)){return false}return true},$7:function(e){if(!this.get_tooltip().get_isShown()||ss.staticEquals(this.$1$2,null)||this.$i){return}var eZ=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(eZ.x>e.pageX||eZ.x+eZ.w<=e.pageX||eZ.y>e.pageY||eZ.y+eZ.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}});ss.initClass(ex,a,{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,eZ){var fa=this.getAffectedObjects(e,eZ);return e==='mark'&&ss.isValue(fa)&&fa.length>1},showCommandAreaAndActions:function(){this.get_ubertip().showCommandAreaAndActions()}},ey);ss.initEnum(ez,a,{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);ss.initClass(eA,a,{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});ss.initClass(eB,a,{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}},spiff.Template,[ss.IDisposable]);ss.initClass(eC,a,{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$19},set_model:function(e){this.$19=e;this.$y()},get_isShowingFullUbertip:function(){return this.$13.is(':visible')||this.$10.is(':visible')},$Y:function(){return this.$17&&this.hasSummary()},dispose:function(){this.element.detach();this.$1e.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1e.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));tab.MiscUtil.dispose(this.$1c);this.$d();this.$e();spiff.Widget.prototype.dispose.call(this)},$d:function(){if(!ss.staticEquals(this.$12,null)){this.$1e.remove_positioned(this.$12);this.$12=null}},hasActions:function(){if(ss.isNullOrUndefined(this.$19)){return false}var e=ss.isValue(this.$19.actionPMs)&&this.$19.actionPMs.length>0;var eZ=ss.isValue(this.$19.actions)&&this.$19.actions.length>0;return e||eZ},hasCommands:function(){if(ss.isNullOrUndefined(this.$19)){return false}return ss.isValue(this.$19.buttonModels)&&this.$19.buttonModels.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$19)){return false}return ss.isValue(this.$19.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingFullUbertip()&&e){this.$1e.requestLayout(ss.mkdel(this,function(){this.$I();this.$14.css('min-width','')}))}else{this.$I();this.$14.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$1e.get_isShown()){this.element.css('width','');this.$E(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$x()}},showCommandAreaAndActions:function(){if(ss.isNullOrUndefined(this.$1e.get_calculatedShownArgs())){return}if(this.$z()){this.updateTooltipAnchor()}else{this.$F()}},$z:function(){return this.get_isShowingFullUbertip()&&!this.$1e.get_freezePositionWhileOpen()},updateTooltipAnchor:function(){if(!this.$b()){return}var e=this.$1e.get_calculatedShownArgs();if(e.shownY===e.tooltipAnchorY){var eZ=tab.DoubleUtil.roundToInt(this.$13.outerHeight());e.tooltipAnchorY=e.shownY+eZ}},$F:function(){this.$f();var e=this.get_isShowingFullUbertip();this.$I();var eZ=!this.$1e.get_isShown()||tab.DoubleUtil.roundToInt(this.element.outerHeight())===0;if(eZ){this.$E(false)}else{this.$G(e)}},$G:function(e){var eZ=this.$1e.get_calculatedShownArgs();var fa={x:eZ.shownX,y:eZ.tooltipAnchorY};var fb=eZ.viewport.getVisibleRoom(fa,1);var fc=ss.Int32.trunc(fb.roomBelow);var fd=ss.Int32.trunc(fb.roomRight);this.$E(false);this.$14.css('min-width',this.$g()+'px');var fe=this.$o();if(fe>this.$1b){this.$1b=fe}this.$D(this.$1b);var ff=tab.DoubleUtil.roundToInt(this.element.outerHeight());var fg=tab.DoubleUtil.roundToInt(this.$13.outerHeight());var fh=this.$p(ff,fg);if(!e){if(fh>fc||fe>fd){this.$B(fg);fh=this.$p(ff,fg)}}else if(fe>fd){this.$C(fe,fd)}if(fh>fc&&this.$10.outerHeight()>0){this.$S(fc,fh,fa.y)}else{this.$l(fg,fc,fh,fa.y,!e)}},$p:function(e,eZ){return 2+(this.$b()?(e-eZ):e)},$B:function(e){this.$1e.layoutTooltip(this.$1e.get_calculatedShownArgs().viewport,true);this.handleTooltipPositionCalculated();if(this.$1a==='AL'||this.$J()){this.$1e.get_calculatedShownArgs().shownY=this.$1e.get_calculatedShownArgs().shownY+e;this.$1e.get_calculatedShownArgs().tooltipAnchorY=this.$1e.get_calculatedShownArgs().shownY}},$C:function(e,eZ){var fa=this.$1e.get_calculatedShownArgs().shownX;var fb=2+e-eZ;this.$1e.get_calculatedShownArgs().shownX=Math.max(0,fa-fb)},$S:function(e,eZ,fa){var fb=2+eZ-e;var fc=fa-fb;this.$1e.get_calculatedShownArgs().shownY=fc;if(!this.$b()){this.$1e.get_calculatedShownArgs().tooltipAnchorY=fc}},$l:function(e,eZ,fa,fb,fc){var fd=this.$1e.get_calculatedShownArgs().tooltipAnchorY;if(this.$b()){fd-=e}var fe=fb+eZ;var ff=Math.min(fd,fe-fa);this.$I();this.$d();this.$12=ss.mkdel(this,function(){this.$H(eZ,fa,ff,fb,fc)});this.$1e.add_positioned(this.$12)},$H:function(e,eZ,fa,fb,fc){this.$d();this.$E(fc);switch(this.$1a){case'BR':{if(fc){this.$X(fb-tab.DoubleUtil.roundToInt(this.$13.height()),false)}this.$X(fa,fc);break}case'AR':{if(e<eZ||!this.$J()){this.$X(fa,fc)}break}case'BL':case'AL':{this.$X(fa,fc);break}default:{break}}},$X:function(e,eZ){if(eZ){this.$1e.element.animate(ss.mkdict(['top',e+'px']),'fast')}else{this.$1e.element.css('top',e+'px')}},$b:function(){return this.$1a==='BL'||this.$1a==='BR'},$J:function(){return(this.$1a==='AR'||this.$1a==='BR')&&this.$1e.get_calculatedShownArgs().shownX>this.$1e.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$18){this.$18=false;if(tab.BaseSession.get_waitHandler().isBusy()){tab.BaseSession.get_waitHandler().reset()}}},hideSpinner:function(){if(tab.BaseSession.get_waitHandler().isBusy()){tab.BaseSession.get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$1a)&&this.$1a===this.$1e.get_calculatedShownArgs().position){return}switch(this.$1e.get_calculatedShownArgs().position){case'AL':case'AR':{this.$15.after(this.$13);this.$14.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$15.before(this.$13);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$1a=this.$1e.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$8()},$8:function(){if(this.element.width()===0){return}var e=this.$o();this.$D(e)},$o:function(){return Math.ceil(Math.min(this.element.width(),$(document.body).width()-2))},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$19)){this.set_model(e);return}this.$19.requestId=e.requestId;this.$T(e);this.$L(e);this.$P(e);if(tab.VizDataUtils.objectContainsVizInTooltip(this.element)){this.$V(e)}},$P:function(e){var eZ=[];var fa=null;var fb=null;if(ss.isValue(this.$19)){fa=eC.$7(e)||eC.$8(e);fb=eC.$4(this.$19,10)}if(ss.isValue(fa)){if(!this.$Y()){e.buttonModels=_.without(e.buttonModels,fa);e.buttonModels.push(fa);eZ.push(e.buttonModels.length-1)}}else if(ss.isValue(fb)){e.buttonModels.push(fb)}this.$19.buttonModels=e.buttonModels;this.$O(eZ)},$T:function(e){this.$19.selectionHtml=e.selectionHtml;this.$R();if(ss.isValue(this.$19.selectionHtml)&&this.get_isShowingFullUbertip()){this.$x();this.$8()}},$L:function(e){this.$19.actionPMs=e.actionPMs;this.$19.actions=e.actions;this.$K();this.$w()},$V:function(e){if(ss.referenceEquals(this.$19.tooltipHtml,e.tooltipHtml)){return}this.$v(e.tooltipHtml);this.$19.tooltipHtml=e.tooltipHtml;this.$U();this.$Q();this.$1e.requestLayout()},$w:function(){if(this.$18){this.$18=false;if(ss.isValue(this.$19)){for(var e=0;e<this.$19.actions.length;e++){var eZ=this.$19.actions[e];if(ss.referenceEquals(eZ.get_name(),this.$Z)){var fa=new p;fa.action=eZ;this.onActionExecuted(fa)}}}}},onCommandExecuted:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,e)}},onActionExecuted:function(e){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,e)}},$e:function(){this.$16.dispose()},$D:function(e){this.element.css('min-width',e+'px');this.$1b=e},$f:function(){this.element.css('min-width','')},$y:function(){this.$e();this.element.show();this.$U();this.$K();this.$O(null);this.$Q();this.$R();this.$x();var e=tab.MiscUtil.isNullOrEmpty$1(this.$19.actions);var eZ=tab.MiscUtil.isNullOrEmpty$1(this.$19.actionPMs);var fa=ss.isNullOrEmptyString(this.$19.tooltipHtml);var fb=e&&eZ&&fa;if(fb){this.$15.addClass('hide')}else{this.$15.removeClass('hide')}},$x:function(){this.$f();this.$15.css('height','');this.$13.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$D(e)}else if(this.element.width()>0){this.$1b=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$1b=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var eZ=-1;var fa=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(fa)){fa=70}if(e>0&&this.$1b>0&&this.$1b>=e&&this.$1b-e<=ss.unbox(fa)){eZ=this.$1b}return eZ},$g:function(){var e=0;this.$14.find('li').each(function(eZ,fa){e+=fa.firstChild.offsetWidth});return e},$I:function(){this.$1e.element.stop();this.$10.stop();this.$13.stop();this.$10.hide();this.$13.hide()},$E:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$10.show()}else{this.$10.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$13.slideDown('fast')}else{this.$13.show()}}},$U:function(){var e=$(this.$19.tooltipHtml);var eZ=this.element.find('.tab-ubertipTooltip');if(tab.FeatureFlags.isEnabled('SelectionRelaxation')){var fa=eC.$5(eZ);this.$c(e,fa)}eZ.html('').append(e);this.$W()},$v:function(e){var eZ=tab.DomUtil.roomAroundPosition(this.$1e.element.position());var fa=$(e);var fb=fa.find('span[data-tableau="VizInTooltip"] img');var fc=fb.length;var fd=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var fe=0;fe<fc;fe++){var ff=parseInt(fb[fe].getAttribute('width'))+2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;fd+=parseInt(fb[fe].getAttribute('height'));if(ff>=eZ.roomRight||fd>=eZ.roomBelow){this.$1e.hideUntilReposition();return}}var fg=$(this.$19.tooltipHtml);var fh=fg.find('span[data-tableau="VizInTooltip"]');var fi=fh.length;var fj=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var fk=0;fk<fi;fk++){fj+=parseInt(fh[fk].style.height)}if(tab.DoubleUtil.roundToInt(this.$1e.element.outerHeight())-fj+fd>=eZ.roomBelow){this.$1e.hideUntilReposition()}},$W:function(){this.$1e.get_body().css('max-width','');this.$1e.element.css('max-width','');tab.VizDataUtils.updateLastVizInTooltipSizes(this.$19.tooltipHtml);var e=SharedWidgets.TabStyles.Spacing.MediumSpace*2;var eZ=tab.VizDataUtils.widestVizInTooltip+e;if(eZ>740){this.$1e.get_body().css('max-width',(eZ+'px').toString());this.$1e.element.css('max-width',(eZ+2+'px').toString())}},$c:function(e,eZ){ss.clear(this.$1d);var fa=e.find('a.relax-selection');for(var fb=0;fb<fa.length;fb++){this.$A(fa,fb,eZ)}},$A:function(e,eZ,fa){var fb=e.eq(eZ);var fc=fb.children().eq(0);fc.unwrap().unwrap();if(tab.MiscUtil.isNullOrEmpty$3(fc.eq(0).html())){fc.remove();return}if(tsConfig.allow_select){if(fc.css('text-decoration')==='underline'){fc.addClass('tab-selection-relaxation-underlined')}fc.addClass('tab-selection-relaxation');fc.css('text-decoration','');if(eZ===fa){fc.addClass('tab-selection-relaxation-selected')}var fd=fb.attr('href');this.$1d.push(new n(fd,fc))}},$R:function(){if(ss.isNullOrUndefined(this.$19.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$19.selectionHtml).removeClass('hide')}},$a:function(e,eZ,fa,fb){if(!e.get_hasItems()){return false}var fc=[];eR.newMenuItemsFromCommands(fc,e.get_wrappedCommandItemPresModel().get_commands(),eR.createDropdownMenuCommandHandler,tab.PermissionManager.buildCommandPermission());if(fc.length===0){return false}var fd=this.$j(e);var fe=new spiff.MenuViewModel(true);fe.set_menu(new spiff.Menu(fc));var ff=fe;var fg=ss.mkdel(this,function(){this.$t(ff,fd)});fd.add_click(fg);ff.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var fh=function(){ff.hide()};this.$1e.add_closed(fh);this.$16.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fd.remove_click(fg);ff.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);ff.remove_hidden(ss.mkdel(this,this.$u));this.$1e.remove_closed(fh)})));if(fb){fd.element.fadeIn()}if(fa){eZ.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var fi=$('<li></li>');fi.append(fd.element);eZ.append(fi);this.$16.add$1(ff);tab.ObjectRegistry.newView(spiff.MenuView).call(null,[ff]);return true},$u:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},$t:function(e,eZ){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$u));e.hide();if(!ss.staticEquals(this.$2$3,null)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$u));var fa=new spiff.ShowMenuOptions(eZ.element,true);e.show(fa);if(!ss.staticEquals(this.$2$3,null)){this.$2$3(true)}}},$O:function(e){if(!this.$11){return}var eZ=false;var fa=$('<ul></ul>');if(ss.isValue(this.$19.buttonModels)){for(var fb=0;fb<this.$19.buttonModels.length;++fb){var fc=this.$19.buttonModels[fb];if(fc.get_isPlaceholder()){continue}if(fc.get_isMenuButton()){var fd=ss.isValue(e)&&ss.contains(e,fb);eZ=this.$a(fc.get_asMenuButton(),fa,eZ,fd)||eZ}else if(fc.get_status()!=='hidden'){var fe=ss.isValue(e)&&ss.contains(e,fb);this.$9(fc,fa,eZ,fe);eZ=true}}}this.$7(fa,eZ);if(eZ){this.$14.html('').append(fa).removeClass('hide')}else{this.$14.html('').addClass('hide')}},$9:function(e,eZ,fa,fb){var fc=this.$i(e);fc.set_context(e.get_legacyCommandModel());this.$6(fc,ss.mkdel(this,this.$s));if(ss.keyExists(eC.$n,e.get_commandType())){fc.element.width(eC.$n[e.get_commandType()])}if(fb){fc.element.fadeIn()}if(fa){eZ.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var fd=$('<li></li>');fd.append(fc.element);eZ.append(fd)},$i:function(e){var eZ=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var fa=eC.$a(eC.$6(e),e.get_name());var fb=$('<div>'+fa+'</div>');eZ.setLabelContents(fb)}else{eZ.set_label(e.get_name());eZ.set_hoverTooltipText(e.get_description())}var fc=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.get_imageRes())){fc.append(e.get_commandType())}else{fc.append(eC.$6(e))}fc.append(' ').append(e.get_status());eZ.element.addClass(fc.toString());if(e.get_status()==='disabled'){eZ.set_disabled(true)}this.$16.add$1(eZ);return eZ},$j:function(e){var eZ=(ss.isValue(e.get_imageRes())?this.$k(e):eC.$2(e));eC.$3(eZ);this.$16.add$1(eZ);return eZ},$k:function(e){var eZ=spiff.LabelButton.newMenuButton();eZ.set_hoverTooltipText(e.get_description());var fa=eC.$9(e.get_wrappedCommandItemPresModel().get_iconRes());eC.$0(eZ,fa);eC.$d(eZ,e,fa);return eZ},$7:function(e,eZ){if(ss.isValue(this.get_model().buttonModels)){var fa=this.get_model().buttonModels;for(var fb=0;fb<fa.length;fb++){var fc=fa[fb];if(!fc.get_isPlaceholder()){continue}var fd=$("<li><div class='tab-separator'>&nbsp;</div></li>");var fe=eC.$1(fc);this.$16.add$1(fe);var ff=$('<li></li>');ff.append(fe.element);if(fc.get_commandType()===10&&this.$Y()&&eZ){var fg=_.filter(this.$19.buttonModels,function(fj){return fj.get_commandType()===2});if(ss.isValue(fg)){var fh=e.children().get(2);fd.insertAfter(fh);ff.insertAfter(fd)}else{var fi=e.children().get(0);ff.insertBefore(fi);fd.insertBefore(fi)}}else{if(eZ){e.append(fd)}e.append(ff)}document.documentElement.appendChild(e.first().get(0));eC.$n[fc.get_commandType()]=tab.DoubleUtil.roundToInt(fe.element.innerWidth());fe.element.width(eC.$n[fc.get_commandType()]);document.documentElement.removeChild(e.first().get(0))}}},$6:function(e,eZ){var fa=function(){eZ(e)};e.add_click(fa);this.$16.add$1(new tab.CallOnDispose(function(){e.remove_click(fa)}))},$s:function(e){var eZ=new U;eZ.command=e.get_context();var fa=eZ;this.onCommandExecuted(fa)},$q:function(e){var eZ=new p;eZ.action=e.get_context();var fa=eZ;this.onActionExecuted(fa)},$r:function(e){var eZ=e.get_context();if(tab.ActionUtils.isFilterAction(eZ)||tab.ActionUtils.isHighlightAction(eZ)&&!tab.ActionUtils.isTargetOfActionLocal(eZ)){tab.BaseSession.get_waitHandler().showAndLock(false);this.$18=true;this.$Z=e.get_labelElement().text()}else{var fa=tab.ModelUtils.getVisualModelFromVisualId(this.$19.visualId);var fb=[this.$19.tupleId];tab.UberTipClientCommands.executeUbertipAction(eZ,fb,fa)}},$K:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$19.actions)&&tab.MiscUtil.isNullOrEmpty$1(this.$19.actionPMs)){this.$10.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$19.actions)){this.$N()}else{this.$M()}},$N:function(){var e=$('<ul></ul>');for(var eZ=0;eZ<this.$19.actions.length;eZ++){var fa=this.$19.actions[eZ];this.$h(e,fa.get_name(),fa,ss.mkdel(this,this.$q))}var fb=tab.DoubleUtil.roundToInt(this.element.height());this.$10.html('').append(e).removeClass('hide invisible');var fc=tab.DoubleUtil.roundToInt(this.element.height());if(fc!==fb){this.$1e.requestLayout(null,true)}},$M:function(){var e=$('<ul></ul>');var eZ=tab.ModelUtils.getVisualModelFromVisualId(this.$19.visualId);if(!ss.isValue(eZ)){return}var fa=false;var fb=true;for(var fc=0;fc<this.$19.actionPMs.length;fc++){var fd=this.$19.actionPMs[fc];var fe=tab.ActionUtils.getActionType(fd);if(!this.$11&&fe!=='highlight'){continue}var ff=eZ.get_vizDataModel();var fg=[this.$19.tupleId];var fh=tab.ApplicationModel.get_instance().get_dataDictionary();var fi=(ss.isValue(fd.linkSpec)?fd.linkSpec.delimiter:null);var fj=tab.VizDataUtils.constructUrlFromString(fh,fd.name,ff,fg,eZ.get_worksheetName(),fi);var fk=false;if(fe==='url'){var fl=tab.ActionUtils.getUrlActionPm(fd,eZ,fg);fk=fl.item2==='urlConstructionFail';if(ss.isNullOrUndefined(fl.item1)||ss.isNullOrEmptyString(fj)){fb=false}}if(!fk){this.$h(e,fj,fd,ss.mkdel(this,this.$r))}if(fe==='filter'||fe==='url'){fa=true}}if(e.find('li').length>0){var fm=-1;if(ss.isValue(eZ.get_sceneModel())){fm=eZ.get_sceneModel().get_paneDescriptorCount()}else{}if(fm>1&&fa||!fb){this.$10.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$10.html('').append(e).removeClass('hide invisible')}}},$h:function(e,eZ,fa,fb){var fc=spiff.LabelButton.newAnchorButton();fc.set_label(eZ);fc.element.addClass('tab-action');fc.set_context(fa);this.$6(fc,fb);this.$16.add$1(fc);var fd=$('<li></li>');fd.append(fc.element);e.append(fd)},$Q:function(){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')||!tsConfig.allow_select){return}tab.MiscUtil.dispose(this.$1c);if(ss.isNullOrUndefined(this.$19.contentCommands)){return}var e={};for(var eZ=0;eZ<this.$19.contentCommands.length;eZ++){var fa=this.$19.contentCommands[eZ];e[fa.get_name()]=fa}for(var fb=0;fb<this.$1d.length;fb++){var fc=this.$1d[fb];if(ss.keyExists(e,fc.$0())){this.$m(fc,e)}}},$m:function(e,eZ){var fa=e.$2();var fb={tap:ss.mkdel(this,function(){if(!fa.hasClass('tab-selection-relaxation-selected')){var fc=eZ[e.$0()];this.$n(fa,fc)}})};this.$1c.push(new spiff.TableauEventHandler.$ctor1(fa.get(0),fb))},$n:function(e,eZ){var fa=ss.mkdict(['isSelected',true]);e.data(fa);e.addClass('tab-selection-relaxation-selected');var fb=new U;fb.command=eZ;this.onCommandExecuted(fb)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(eD,a,{get_keyCombos:function(){var e=new cO.$ctor2(new cQ(false,false,false,true,false,false,false,false),90);var eZ=new cO.$ctor3(new cQ(true,false,false,false,false,false,false,false),8);return new cP(e,[eZ])},executeShortcut:function(e){this.executeShortcut$1(ss.mkdel(this,function(){tab.WorksheetServerCommands.undo$1(eE.undoRedoSuccess,eE.undoRedoFailure)}))}},eE,[cB]);ss.initClass(eF,a,{});ss.initClass(eG,a,{render:function(){var e={tap:ss.mkdel(this,function(fb){this.props.removeUser(this.props.user)})};var eZ=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['']);var fa=React.DOM.span({className:'tabUserPillName'},this.props.user.friendlyName);return React.DOM.div(this.$0(),fa,eZ)},$0:function(){var e='tabUserPill';if(!this.props.valid){e+=' error'}return{className:e,title:(this.props.valid?this.props.user.friendlyName:this.props.errorText)}}},React.Component);ss.initClass(eH,a,{render:function(){var e=_.map(this.props.users,ss.mkdel(this,function(fc){return React.createElement(eG,{removeUser:this.props.removeUser,addUser:this.props.addUser,user:fc,valid:ss.staticEquals(this.props.userValidator,null)||this.props.userValidator(fc),errorText:this.props.userInvalidText})}));var eZ=new spiff.ScrollingProps;eZ.scrollY=true;eZ.scrollbars=true;eZ.alwaysShowScrollbarsIfScrollable=true;var fa=eZ;var fb=spiff.ScrollingComponent.createScroller(fa,e);return React.DOM.div({className:'tabUserPillsComponent'},fb)}},React.Component);ss.initClass(eI,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},addUser:function(e){if(_.any(this.get_props().users,function(eZ){return eZ.id===e.id})){return}this.get_props().users.push(e);this.raiseActionEvent(this.$2$1)},removeUser:function(e){var eZ=ss.remove(this.get_props().users,e);if(eZ){this.raiseActionEvent(this.$2$1)}},setUsers:function(e){_.each(this.get_props().users,ss.mkdel(this,function(eZ){this.removeUser(eZ)}));_.each(e,ss.mkdel(this,function(eZ){this.addUser(eZ)}))}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eJ,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}},cK,[ss.IDisposable]);ss.initClass(eK,a,{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.$3},get_viewWidget:function(){return this.$5},get_viewSession:function(){return this.$4},get_sheetName:function(){return this.$4.sheetId},dispose:function(){this.$5=null;this.$2.dispose()},setTiledViewer:function(e){this.$5=e},$0:function(e){if(ss.isNullOrUndefined(e)){return}var eZ=e.layoutStatus;if(ss.isNullOrUndefined(eZ)){return}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var fa=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.get_sheetName());if(fa.get_isVisualValid()){this.$5.doTiledViewerRefreshImages(fa.get_cacheUrlInfo());if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$1:function(e){if(!ss.staticEquals(eK.$1$1,null)){eK.$1$1(this.get_sheetName(),e)}this.$0(e)},incrementCacheVersion:function(){this.$3+=1}},null,[ss.IDisposable,tab.IViewController]);ss.initClass(eL,a,{get_toolbarViewModel:function(){return this.$g.get_toolbarViewModel()},dispose:function(){if(ss.isValue(this.$h)){this.$h.dispose();this.$h=null}},exportImage:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_currentSheetStoryPointId();var eZ=tableau.types.ExportDialogType['ExportImage'];var fa=[];var fb=[];if(this.$g.get_isDashboard()){var fc={};var fd=this.$g.get_viewControllers();if(ss.isValue(fd)){$.each(fd,function(fe,ff){var fg=ff.get_viewWidget().get_scrollPosition();var fh=fg.x;var fi=fg.y;if(fh!==0||fi!==0){fc[ff.get_sheetName()+'-x']=fh;fc[ff.get_sheetName()+'-y']=fi;fb.push({x:fh,y:fi});fa.push(ff.get_sheetName())}})}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,e,eZ,fa,fb)},exportData:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var eZ=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(eZ)){window.open(eZ.formatUnderlyingDataURL(null),eZ.getWindow('vud'),'scrollbars,resizable')}},exportCrosstab:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var eZ=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(eZ)){var fa=tableau.types.ExportDialogType['ExportCrosstab'];eZ.fileDownloadHelper.openDownload(eZ.formatExportCrossTabURL('utf16'),fa)}},exportPdf:function(){if(tab.FeatureFlags.isEnabled('NewPdfDialog')){var e=new bX;e.triggerExportPdfUI()}else{if(ss.isValue(this.$h)){this.$h.dispose()}this.$g.$6(ss.mkdel(this,function(eZ){this.$h=eZ;this.$h.add_closed(ss.mkdel(this,function(){this.$h.dispose();this.$h=null}));this.$h.show()}))}},$3:function(){if(this.$g.get_autoUpdate()){this.$f()}},$5:function(){if(!this.$g.get_autoUpdate()){this.$f()}},$1:function(){return this.$g.get_autoUpdate()},$f:function(){this.$g.set_autoUpdate(!this.$g.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$g.get_autoUpdate());tab.BaseSession.autoUpdate=this.$g.get_autoUpdate();if(this.$g.get_autoUpdate()&&this.$g.get_invalid()){tab.CommandController.get().refreshLayout()}},$2:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(e){var eZ;if(tsConfig.is_metrics_view){eZ=this.$g.get_session().metricsViewDownloadUrl()}else{eZ=this.$6(e)}window.open(eZ)},$4:function(){tab.ToolbarServerCommands.refreshData()},$d:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('share')}},$9:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('customviews')}},$a:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('alert')}},$e:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('subscribe')}},$c:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showPerformanceMetrics()}},$b:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('download')}},$8:function(){},$7:function(){},$6:function(e){if(ss.isValue(e)){var eZ=e.match(eL.$0);if(ss.isValue(eZ)&&eZ.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+eZ[1]}}return e}},null,[ss.IDisposable]);ss.initClass(eM,a,{add_viewportChanged:function(e){var eZ=ss.staticEquals(this.$1$1,null);this.$5(e);if(eZ){this.$2()}},remove_viewportChanged:function(e){this.$6(e);if(ss.staticEquals(this.$1$1,null)){this.$3()}},$5:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$6:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_lastViewportRect:function(){return this.$1$2},set_lastViewportRect:function(e){this.$1$2=e},$2:function(){if(tabBootstrap.Utility.get_embedMode()!=='crossDomainEmbedded'){try{tab.WindowHelper.get_windowParent().addEventListener('scroll',ss.mkdel(this,this.$0));this.$0();return}catch(e){}}this.$4=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))},$3:function(){if(tabBootstrap.Utility.get_embedMode()!=='crossDomainEmbedded'){try{tab.WindowHelper.get_windowParent().removeEventListener('scroll',ss.mkdel(this,this.$0));return}catch(e){}}tab.WindowHelper.cancelAnimationFrame(this.$4)},$0:function(){R.getViewport(ss.mkdel(this,function(e){var eZ=e.get_dimensions();var fa=ss.isNullOrUndefined(this.get_lastViewportRect())||!tab.RectUtil.isEqual(this.get_lastViewportRect(),eZ);if(fa){this.set_lastViewportRect(eZ);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}}))},$1:function(){this.$0();this.$4=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))}});ss.initClass(eN,a,{});ss.initClass(eO,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(eP,a,{get_zoneModel:function(){return this.$j.get_webZoneModel().get_zoneModel()},get_webZonePresModel:function(){return this.$j.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},$f:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$b()},$d:function(e,eZ){if(eZ.get_propertyName()==='isActiveZone'){this.$e()}},$b:function(){var e=null;var eZ=eF.absolutizeURI(this.get_webZonePresModel().url,true);if(tab.FeatureFlags.isEnabled('DashWebAuthSP4')&&tab.WindowHelper.getLocation(window.window).protocol==='https:'&&ss.startsWithString(eZ,'http:')){if(tsConfig.is_authoring){e=new co(eZ)}else{e=new cp(eZ)}}else{e=this.$9(this.get_webZonePresModel().url)}this.$f().updateContentTemplate(e);this.$e()},$9:function(e){if(ss.isNullOrUndefined(this.$g)){this.$g=new cz('frame_'+this.get_zoneModel().get_zoneId(),this.$i)}tab.DomUtil.resize(this.$g.get_frame()[0],{l:0,t:0,w:this.get_zoneModel().get_contentWidth(),h:this.get_zoneModel().get_contentHeight()});var eZ=eF.absolutizeURI(e,true);this.$g.setSrc(eZ,e);return this.$g},$a:function(){this.$i.setActive()},$e:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$h)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$h=e;this.$h.add_click(ss.mkdel(this,this.$a));this.disposables.add$1(this.$h)}if(this.$i.get_isActiveZone()){this.$h.hide()}else{this.$h.show()}},$c:function(){this.$b()}},ss.makeGenericType(spiff.BaseView$1,[eQ]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eQ])]);ss.initClass(eQ,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$3},get_url:function(){return this.get_webZoneModel().get_url()},handleNewWebZone:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eR,a,{});ss.initClass(eS,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eT,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$h.get_dashboardNode()},get_containerNode:function(){return this.$h.get_containerNode()},get_dashboardView:function(){return this.$h},get_dashboardSpacerSize:function(){return(ss.isNullOrUndefined(this.get_dashboardView())?null:tab.DashboardSizeCalculator.calculateContainerSize(this.get_dashboardView().get_dashboardSize()))},dispose:function(){this.$e();if(ss.isValue(this.$h)){this.$h.dispose()}if(ss.isValue(this.$g)){this.$g.dispose()}ss.makeGenericType(spiff.BaseView$1,[eU]).prototype.dispose.call(this)},$e:function(){var e=$(G.tabContainerSelector);e.appendTo(this.get_dom().centeringContainer)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();this.$a();this.get_dom().dashboardSpacer.scroll(ss.mkdel(this,function(e){this.$d()}));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_dom().dashboardSpacer.off('scroll')})))},$9:function(){var e=$(G.tabContainerSelector);e.appendTo(this.get_dom().dashboardSpacer)},$a:function(){if(ss.isValue(this.$i.get_dashboardViewModel())){this.$i.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$c));this.$i.get_dashboardViewModel().add_portSizeChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$c));this.$i.get_dashboardViewModel().remove_portSizeChanged(ss.mkdel(this,this.$c))})));this.$h=tab.ObjectRegistry.newView(bh).call(null,[this.$i.get_dashboardViewModel()]);this.$h.addToDom(this.get_dom().dashboardSpacer);this.colorDashboardSpacer();this.get_dom().dashboardSpacer.css('visibility','visible')}this.resizeDashboardSpacer()},$c:function(){this.resizeDashboardSpacer();this.get_viewModel().raiseWorkbookResized()},resizeDashboardSpacer:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){var e=this.get_dashboardSpacerSize();if(ss.isValue(e)){var eZ=null;eZ=(tsConfig.is_authoring?{overflow:(this.get_viewModel().get_scrollDashboardArea()?'auto':'')}:{margin:'auto'});this.get_dom().dashboardSpacer.css(eZ);var fa=(tsConfig.is_authoring?this.$i.get_dashboardContainerBounds():tab.DashboardSizeCalculator.asRect(e));tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),fa);var fb=tab.DashboardSizeCalculator.get_dashboardViewportSizeWithTabs();var fc={overflow:'hidden'};if(fb.w<e.w||fb.h<e.h){fc.overflow='auto'}$(G.dashboardViewportSelector).css(fc)}else{var fd=this.$i.get_dashboardContainerBounds();var fe={overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){fe.overflow='auto'}this.get_dom().dashboardSpacer.css(fe);tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),fd);this.$f()}if(tsConfig.is_authoring){this.$d()}}},$d:function(){if(ss.isValue(this.get_viewModel().get_dashboardViewModel())&&this.get_viewModel().get_dashboardViewModel().get_isStory()){tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(function(e){e.fireCloseStoryUberMenu()})}},$f:function(){if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<=11){this.get_dom().centeringContainer.css('height','');if(tab.FullscreenUtil.get_inFullscreenMode()){var e=this.$i.get_dashboardContainerBounds().h;e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();e+=(tsConfig.toolbarContainerVis?tabBootstrap.VizLayoutConstants.get_vizToolbarHeight():0);this.get_dom().centeringContainer.css('height',e+'px')}}},colorDashboardSpacer:function(){var e=this.$i.get_dashboardBackgroundColor();if(ss.isValue(this.$i.get_dashboardViewModel())&&this.$i.get_dashboardViewModel().get_hasGutter()){e=''}this.get_dom().dashboardSpacer.css('background-color',e)},$b:function(){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(e){this.$g=e.createDataConnectionPromptView(this.$i.get_connectionPromptViewModel())}))}},ss.makeGenericType(spiff.BaseView$1,[eU]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eU])]);ss.initClass(eU,a,{add_newDashboard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDashboard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$7.get_hasPrompt()},get_dashboardViewModel:function(){return this.$6},get_connectionPromptViewModel:function(){return this.$5},get_scrollDashboardArea:function(){if(!tsConfig.is_authoring||this.$7.get_sheetType()==='worksheet'){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())){var eZ=this.get_dashboardViewModel().get_size();var fa=this.get_dashboardPortSizeContainer();e=eZ.w===fa.w&&eZ.h===fa.h}return!e},get_contentDashboardViewModel:function(){if(!this.$7.get_isCurrentSheetStoryboard()){return this.$6}var e=this.$6.get_zoneViewModels();var eZ=_.keys(e);for(var fa=0;fa<eZ.length;fa++){var fb=eZ[fa];var fc=e[fb];if(fc.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(fc.get_zoneContentViewModel())){return null}return fc.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var eZ={l:0,t:0,w:e.w,h:e.h};return eZ},get_dashboardContainerBounds:function(){var e=H.getClientBounds();return{l:0,t:0,w:e.w,h:e.h}},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}this.$7.remove_newDashboard(ss.mkdel(this,this.$2));spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e){if(ss.isValue(this.$6)){this.$6.dispose()}this.$6=bi.new$1(e);this.raiseActionEvent(this.$2$1)},$3:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(eZ){this.$5=eZ.createDataConnectionPromptViewModel(e);this.raiseActionEvent(this.$2$2)}))}else{this.get_connectionPromptViewModel().get_promptUpdated()(e)}},$4:function(){this.$5=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())},raiseWorkbookResized:function(){this.raiseActionEvent(eU.$2$3)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eV,a,{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')},get_zoneMargin:function(){return this.domRoot.children('.tab-zone-margin')},get_zonePadding:function(){return this.get_zoneMargin().children('.tab-zone-padding')},get_contentHolder:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.domRoot}return this.get_zonePadding()}},spiff.Template,[ss.IDisposable]);ss.initClass(eW,a,{$k:function(){return this.$q},$l:function(e){this.$q=e;this.$q.addToDom(this.get_dom().get_contentHolder())},$m:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$k()},get_dom:function(){return this.get_template()},dispose:function(){this.$m().remove_updateZone(ss.mkdel(this,this.$e));this.$m().remove_resizeZone(ss.mkdel(this,this.$d));this.$m().remove_newZoneContent(ss.mkdel(this,this.$c));this.$m().remove_validStateChanged(ss.mkdel(this,this.$g));if(ss.isValue(this.$q)){this.$q.dispose();this.$q=null}this.$h();ss.makeGenericType(spiff.BaseView$1,[eX]).prototype.dispose.call(this)},$h:function(){if(ss.isValue(this.$o)){this.$o.dispose();this.$o=null}},onViewModelPropertyChanged:function(e,eZ){ss.makeGenericType(spiff.BaseView$1,[eX]).prototype.onViewModelPropertyChanged.call(this,e,eZ);if(eZ.get_propertyName()==='isActiveZone'){this.$i()}if(eZ.get_propertyName()==='isReadyZone'){this.$j()}},$a:function(){if(this.get_template().domRoot.get(0).offsetHeight===0||this.get_template().domRoot.get(0).offsetWidth===0){return}if(!ss.isValue(this.$o)){this.$o=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$o.setColor(this.$m().get_model().get_dashboardModel().get_backgroundColor());this.$o.set_opaque(true);this.$o.set_preventWebPageScroll(true);if(tab.ApplicationModel.get_instance().get_autoUpdate()){this.$o.element.css('cursor','progress')}}this.$o.show()},$b:function(){this.$h()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$k())){if(tsConfig.is_authoring&&this.get_viewModel().get_isInDashboard()&&!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.element.append("<div class='tab-zoneExtension'></div>")}this.$e();this.$d();if(ss.isValue(this.$m().get_zoneContentViewModel())){this.$c(this.$m().get_zoneContentViewModel())}this.$g()}if(ss.contains(eW.$2,this.$m().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$m().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(eZ){this.get_viewModel().setActive()}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}},$i:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$j:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$e:function(){var e=this.$m().get_zoneZIndex();if(e!==this.$p){this.$p=e;this.get_template().domRoot.css('z-index',e.toString())}this.get_template().domRoot.attr('id',eW.$0(this.get_viewModel().get_zoneId()));this.$i();var eZ=this.$m().get_zoneType();var fa=eZ==='layout-flow'||eZ==='layout-free-form'||eZ==='empty';this.get_template().domRoot.toggleClass('wcLayoutContainer',fa);if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.get_dom().get_zoneMargin().css(this.$m().get_marginCss());this.get_dom().get_zoneMargin().css(this.$m().get_borderCss());this.get_dom().get_zonePadding().css(this.$m().get_paddingCss())}if(ss.contains(eW.zonesThatUseStyledBox,eZ)){this.get_dom().get_contentHolder().css(this.$m().get_contentContainerCss())}else{var fb=this.$m().get_backgroundColor();if(!ss.referenceEquals(fb,this.$n)){this.get_dom().get_contentHolder().css('background-color',fb);this.$n=fb}}this.get_dom().get_contentHolder().toggleClass('tab-darkBackground',this.$m().get_contentHasDarkBackground());if(ss.isValue(this.$k())&&eZ==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$g()},$d:function(){var e=this.$m();var eZ;if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){eZ={width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'}}else{eZ={width:e.get_contentWidth()+'px',height:e.get_contentHeight()+'px',top:e.get_y()+'px',left:e.get_x()+'px'};var fa=this.get_template().get_zoneExtension();if(ss.isValue(fa)){fa.css({width:e.get_widthWithMargin()+'px',height:e.get_heightWithMargin()+'px',top:-1*e.get_marginTop()+'px',left:-1*e.get_marginLeft()+'px',position:'absolute'})}}this.get_template().domRoot.css(eZ)},$g:function(){if(!this.$m().get_valid()){this.$a()}else{if(ss.isValue(this.$o)){if(!ss.staticEquals(eW.$3$1,null)){eW.$3$1()}}this.$b()}},$c:function(e){var eZ=this.$m().get_zoneType();var fa=tsConfig.is_authoring&&!tsConfig.is_mobile&&tab.FeatureFlags.isEnabled('RichTextEditing');switch(eZ){case'title':{var fb=tsConfig.current_sheet_type==='dashboard'&&tab.FeatureFlags.isEnabled('RichTextEditingDashboardTitle');var fc=tsConfig.current_sheet_type==='story'&&tab.FeatureFlags.isEnabled('RichTextEditingStoryboardTitle');if(fa&&(fb||fc)){var fd=this.disposables;var fe=this.get_dom().domRoot[0];var ff=this.get_viewModel();fd.add$1(spiff.TableauClickHandler.targetAndDoubleClick(fe,ss.mkdel(ff,ff.openRichTextEditorDialog)))}var fg=new eg.$ctor1(e,1);this.$l(fg);break}case'text':{var fh=tsConfig.current_sheet_type==='dashboard'&&tab.FeatureFlags.isEnabled('RichTextEditingTextZone');var fi=tsConfig.current_sheet_type==='story'&&this.$m().get_model().get_isStorySpecific()&&tab.FeatureFlags.isEnabled('RichTextEditingStoryDescription');var fj=tsConfig.current_sheet_type==='story'&&!this.$m().get_model().get_isStorySpecific()&&tab.FeatureFlags.isEnabled('RichTextEditingTextZoneDelta');if(fa&&(fh||fi||fj)){var fk=this.disposables;var fl=this.get_dom().domRoot[0];var fm=this.get_viewModel();fk.add$1(spiff.TableauClickHandler.targetAndDoubleClick(fl,ss.mkdel(fm,fm.openRichTextEditorDialog)))}var fn=new eg.$ctor1(e,-1);this.$l(fn);break}case'size':case'shape':case'color':case'map':{if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.ICategoricalLegendViewModel)){this.$l(tab.ObjectRegistry.resolve(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel])).call(null,[e]))}else if(ss.isInstanceOfType(e,tab.IQuantitativeColorLegendViewModel)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fo){this.$l(fo.createQuantitativeColorLegendView(e))}))}}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fo){var fp=fo.createLegacyLegendView(e);this.$l(fp)}))}break}case'current-page':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fo){this.$l(fo.createPageView(e))}));break}case'filter':{if(tab.FeatureFlags.isEnabled('VizCatQF')&&this.$m().get_containsNewStyleQuickFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(fo){var fp=e;this.$l(fo.getQuickFilterView(fp))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fo){this.$l(fo.createLegacyQuickFilterDisplayView(e))}));break}case'highlighter':{this.$l(tab.ObjectRegistry.newView(bv).call(null,[e]));break}case'paramctrl':{if(tab.FeatureFlags.isEnabled('VizParam')&&this.$m().get_containsNewStyleParameterFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(fo){var fp=e;this.$l(fo.getParameterFilterView(fp))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fo){this.$l(fo.createParameterControlView(e))}));break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fo){this.$l(fo.newFlipboardNavigatorView(e));this.$9()}));break}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fo){this.$l(fo.newFlipboardView(e))}));break}case'web':{this.$l(new eP(e,this.$m()));break}case'bitmap':{this.$l(new cE(e,this.$m()));break}case'viz':{tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(fo){this.$l(fo.createPaneTableView(e))}));break}case'layout-flow':{this.$l(tab.ObjectRegistry.newView(bU).call(null,[e]));break}default:{break}}this.$9()},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){if(ss.isValue(this.$k())){this.$k().get_rootElement().addClass('fade-in')}}},$f:function(e){this.$m().zoneEntered(true)}},ss.makeGenericType(spiff.BaseView$1,[eX]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eX])]);ss.initClass(eX,a,{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resizeZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resizeZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_zoneResized:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_zoneResized:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_newZoneContent:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_newZoneContent:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_validStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_validStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneContentViewModel:function(){return this.zoneContentViewModel},get_zoneType:function(){return this.$j.get_zoneType()},get_x:function(){return this.$j.get_x()},get_y:function(){return this.$j.get_y()},get_width:function(){return this.$j.get_width()},get_height:function(){return this.$j.get_height()},get_contentHeight:function(){return this.$j.get_contentHeight()},get_contentWidth:function(){return this.$j.get_contentWidth()},get_contentX:function(){return this.$j.get_contentX()},get_contentY:function(){return this.$j.get_contentY()},get_marginLeft:function(){return this.get_contentX()-this.$j.get_xWithMargin()},get_marginTop:function(){return this.get_contentY()-this.$j.get_yWithMargin()},get_widthWithMargin:function(){return this.$j.get_widthWithMargin()},get_heightWithMargin:function(){return this.$j.get_heightWithMargin()},get_model:function(){return this.$j},get_styledBoxModel:function(){return this.get_model().get_styledBoxModel()},get_isInDashboard:function(){return this.$j.get_dashboardModel().get_isDashboard()},get_contentContainerStyle:function(){var e;if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){e=this.$j.get_zoneCommonModel().get_contentStyle()}else{e=this.get_styledBoxModel()}return e},get_titleSize:function(){if(this.$j.get_hasTitle()){return{w:this.$j.pm.titleWidth,h:this.$j.pm.titleHeight}}return{w:0,h:0}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(eX.$1,this.get_zoneType())){return false}return this.$h},get_zoneZIndex:function(){return eX.calculateZoneZIndex(this.$j)},get_zoneId:function(){return this.$j.get_zoneId()},get_associatedSheet:function(){return this.$j.get_associatedSheet()},get_backgroundColor:function(){var e='';if(this.$8()){e=this.$j.get_dashboardModel().get_zonePlaceholderColor()}else if(!ss.contains(eX.$0,this.get_zoneType())&&!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){e=this.$j.get_backgroundColor()||'rgba(0, 0, 0, 0)'}return e},get_isActiveZone:function(){return this.$f},set_isActiveZone:function(e){if(this.$f!==e){this.$f=e;this.notifyPropertyChanged('isActiveZone')}},get_isReadyZone:function(){return this.$g},set_isReadyZone:function(e){if(this.$g!==e){this.$g=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type==='worksheet'||tsConfig.current_sheet_type==='story'&&!tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb')){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$e},$c:function(){var e=this.$j.get_isFloating()&&this.$j.get_zoneType()==='layout-flow';var eZ=ss.isNullOrUndefined(this.get_styledBoxModel())||!this.get_styledBoxModel().get_hasFill()&&this.get_styledBoxModel().get_borderStyle()==='bs-none';return e&&eZ&&this.$j.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$d},get_hasTitle:function(){return this.$j.get_hasTitle()},get_marginCss:function(){var e={top:this.get_styledBoxModel().get_marginTop()+'px',left:this.get_styledBoxModel().get_marginLeft()+'px',bottom:this.get_styledBoxModel().get_marginBottom()+'px',right:this.get_styledBoxModel().get_marginRight()+'px',position:'absolute','background-color':'rgba(0, 0, 0, 0)'};if(ss.isValue(this.get_model().get_backgroundColor())){e['background-color']=this.get_model().get_backgroundColor()}return e},get_paddingCss:function(){return{top:this.get_styledBoxModel().get_paddingTop()+'px',left:this.get_styledBoxModel().get_paddingLeft()+'px',bottom:this.get_styledBoxModel().get_paddingBottom()+'px',right:this.get_styledBoxModel().get_paddingRight()+'px',position:'absolute'}},get_borderCss:function(){return $.extend({},this.get_styledBoxModel().get_borderTop().get_cssDictionary(),this.get_styledBoxModel().get_borderLeft().get_cssDictionary(),this.get_styledBoxModel().get_borderBottom().get_cssDictionary(),this.get_styledBoxModel().get_borderRight().get_cssDictionary())},get_contentContainerCss:function(){var e=cb.makeStyledBoxCssDict(this.get_contentContainerStyle().get_styledBoxPresModel(),true);if(!this.get_contentContainerStyle().get_hasFill()){e['background-color']=''}if(this.$8()){var eZ=tab.ColorModel.fromColorCode(this.$j.get_dashboardModel().get_zonePlaceholderColor());e['background-color']=eZ.toString()}return e},get_contentHasDarkBackground:function(){if(ss.contains(eW.zonesThatUseStyledBox,this.get_zoneType())){return this.get_contentContainerStyle().get_hasFill()&&!tab.ColorModel.fromColorCode(this.get_contentContainerStyle().get_fillColor()).isLuminanceAboveThreshold(0.314999997615814)}else{return!ss.isNullOrEmptyString(this.$j.get_backgroundColor())&&!tab.ColorModel.fromColorCode(this.$j.get_backgroundColor()).isLuminanceAboveThreshold(0.314999997615814)}},setActive:function(){tab.SelectionClientCommands.setActiveZone(this.get_zoneId(),this.$j.get_dashboardModel().get_sheetPath())},zoneEntered:function(e){this.$j.get_dashboardModel().set_readyZoneID((e?this.get_zoneId():0))},dispose:function(){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose();this.zoneContentViewModel=null}if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$j.remove_updateZone(ss.mkdel(this,this.$7));this.$j.get_zoneCommonModel().remove_resizeZone(ss.mkdel(this,this.$5));this.$j.remove_newZoneContent(ss.mkdel(this,this.$3));this.$j.remove_removeZoneContent(ss.mkdel(this,this.$4));this.$j.get_zoneCommonModel().remove_changeZoneTitleVisibility(ss.mkdel(this,this.$6));spiff.BaseViewModel.prototype.dispose.call(this)},openRichTextEditorDialog:function(e){switch(this.get_zoneType()){case'title':case'text':{tab.RichTextCommands.createTextObjectRichTextEditor(this.get_zoneId(),false);break}default:{break}}if(cc.get_richTextEditingOnlineTelemetryEnabled()){tab.OnlineAnalyticsClient.logEvent('Formatting.RichTextEditing',['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom',this.get_zoneType()+'-zone'])}},$a:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$j.get_associatedSheet());if(!ss.referenceEquals(this.$i,e)){if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$i=e;if(ss.isValue(this.$i)){this.$i.add_visualValidStateChanged(ss.mkdel(this,this.$b))}}},$7:function(){tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$a();this.$b();this.raiseActionEvent(this.$2$1);if(this.get_zoneType()==='filter'&&ss.isNullOrUndefined(this.zoneContentViewModel)&&ss.isValue(this.get_model().get_model())){this.$3(this.get_model().get_model())}}))},$5:function(){this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$3)},$b:function(){var e=true;if(this.$j.get_isDependentOnViz()&&ss.isValue(this.$i)){e=this.$i.get_isVisualValid()}if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},forceZoneValidState:function(e){if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},$2:function(){if(this.$c()){this.zoneContentViewModel=new bV(this.$j);this.$9(this.zoneContentViewModel)}},$3:function(e){this.$e=false;this.$d=false;var eZ=this.$j.get_zoneType();var fa=ss.mkdel(this,function(){this.$9(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});var fb=this.$j.get_worksheetName();switch(eZ){case'title':{this.zoneContentViewModel=new eh(e);break}case'text':{var fc=new eh(e);fc.options=new ee(false);this.zoneContentViewModel=fc;break}case'color':case'size':case'shape':case'map':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fg){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.zoneContentViewModel=fg.createCategoricalLegendViewModel(e,eZ,fb,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.zoneContentViewModel=fg.createQuantitativeColorLegendViewModel(e,fb,this)}}else{this.zoneContentViewModel=fg.createLegacyLegendViewModel(e,fb,this)}fa()}));return}case'current-page':{if(tsConfig.allow_filter){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fg){this.zoneContentViewModel=fg.createPageViewModel(e);fa()}))}return}case'web':{this.zoneContentViewModel=new eQ(e);break}case'bitmap':{this.zoneContentViewModel=new cF(e);break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fg){this.zoneContentViewModel=fg.newFlipboardNavigatorViewModel(e);fa()}));return}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fg){this.zoneContentViewModel=fg.newFlipboardViewModel(e,this);fa()}));return}case'filter':{if(ss.referenceEquals(ss.getInstanceType(e),tab.QuickFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(fg){var fh=fg.newQuickFilterViewModel(e);if(ss.isValue(fh)){this.$e=true;this.zoneContentViewModel=fh;fa()}}))}else{var fd=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),fb);var fe=e;var ff=tab.ModelUtils.findMatchingFilterModel(fd,fe);if(ss.isValue(ff)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fg){this.zoneContentViewModel=fg.createLegacyQuickFilterDisplayViewModel(fe,ff);fa()}))}else{}}return}case'highlighter':{this.zoneContentViewModel=new bx(e,tab.ModelUtils.getVisualId(fb),this);break}case'paramctrl':{if(ss.referenceEquals(ss.getInstanceType(e),tab.ParameterFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(fg){var fh=fg.newParameterFilterViewModel(e);this.$d=true;this.zoneContentViewModel=fh;fa()}))}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fg){this.zoneContentViewModel=fg.createParameterControlViewModel(e);fa()}))}return}case'viz':{tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(fg){this.zoneContentViewModel=fg.createPaneTableViewModel(e)}));break}case'layout-basic':{return}default:{return}}fa()},$6:function(){this.notifyPropertyChanged('titleVisible')},$4:function(){this.dispose()},$9:function(e){if(!ss.staticEquals(this.$2$4,null)){this.$2$4(e)}},$8:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.zoneContentViewModel);e=e&&this.$j.get_hasContent();return e}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IZoneViewModel]);ss.initClass(eY,a,{});(function(){cb.tableauFallback='Arial';cb.sansSerifFallback='sans-serif';cb.$5=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];cb.$3=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];cb.$4=[{item1:'italic',item2:'italic'}];cb.$2={}})();(function(){cc.richTextEditingEventType='Formatting.RichTextEditing';cc.richTextEditorOpenedBy='RichTextEditorOpenedBy';cc.richTextEditorOpenedByDoubleClick='DoubleClick';cc.richTextEditorOpenedByContextMenu='ContextMenu';cc.richTextEditorOpenedFrom='RichTextEditorOpenedFrom';cc.richTextEditorControl='EditorControl';cc.richTextEditorDialogCloseButton='close-dialog-button'})();(function(){eR.$4=['format-workbook'];eR.richTextEditorCreationCommandName='create-zone-rich-text-editor'})();(function(){ef.contentElemClassName='tab-textRegion-content';ef.$1="<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>"})();(function(){bv.$0=312;bv.widgetClassName='tabDataHighlighterView';bv.searchResultsListClassName='tabDataHighlighterViewSearchResultList';bv.searchResultsListItemClassName='tab-list-item';bv.searchResultsListItemLabelClassName='tab-list-item-label';bv.inactiveTextClassName='tabDataHighlighterViewInactiveText';bv.queryDelayTimerMs=200;tab.ObjectRegistry.registerType(bv,bv).call(null)})();(function(){co.$0="<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"})();(function(){cp.$0="<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"})();(function(){cz.$0='<div><iframe></iframe></div>'})();(function(){eO.$0="<div class='tab-web'></div>"})();(function(){cC.$0=Math.pow(2,-23)})();(function(){cD.$0="<div class='tab-image'></div>"})();(function(){bT.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){tab.ObjectRegistry.registerType(bU,bU).call(null)})();(function(){eV.$0="<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>";eV.$1="<div class='tab-zone no-spacing'></div>"})();(function(){eW.$1='tabZoneReady';eW.zonesThatUseStyledBox=['layout-flow','map','color','size','shape','filter','highlighter','paramctrl'];eW.$2=['bitmap','color','shape','size','map','text','web','paramctrl','filter','highlighter','empty','current-page'];eW.$3$1=null;tab.ObjectRegistry.registerType(eW,eW).call(null)})();(function(){eX.isActiveZonePropertyName='isActiveZone';eX.isReadyZonePropertyName='isReadyZone';eX.titleVisiblePropertyName='titleVisible';eX.$0=['bitmap','text','layout-free-form','empty'];eX.$1=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard']})();(function(){eK.$1$1=null})();(function(){D.hideAppBannerCookie='hideAppBanner';D.redirectToAppStoreDelayInMS=1000;D.playStoreUrl='https://play.google.com/store/apps/details?id=com.Tableau.TableauApp';D.appStoreUrl='https://itunes.apple.com/app/tableau-mobile/id434633927'})();(function(){br.$1='tab-dataAlertGenericErrorMessage';br.$2='tab-dataAlertPlatformErrorMessage';br.$0='tab-dataAlertErrorDialogContent'})();(function(){tab.ObjectRegistry.registerType(da,da).call(null)})();(function(){tab.ObjectRegistry.registerType(cg,cg).call(null)})();(function(){bS.maxEmailLength=100})();(function(){bm.debounceTimeout=300;bm.maxTitleLength=256;bm.$0=18})();(function(){dv.autoCompleteDebounceTime=200;dv.rowHeight=26;dv.numberOfRowsInViewportIfBulkSubscribe=11})();(function(){bq.editDataAlertUrlParam=':editDataAlert'})();(function(){bL.$0="<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"})();(function(){dI.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'/>\n                    <span class='tab-shareLinkInput'/>\n                </label>\n                <div class='tab-shareLinkButtons'/>\n            </div>";dI.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                    <span class='tab-shareEmbedInput'/>\n                </label>\n            </div>";dI.viewStateTemplateOld="\n            <div class='tab-shareViewStateSection ff-AccessibilityViewingToolbarOff'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>";dI.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n            </div>";dI.$0="\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"})();(function(){eb.characterLimit=2000;eb.characterWarningLimit=1800;eb.messageEditorClass='tabSubscribeMessageEditor';eb.errorMessageClass='tabSubscribeMessageEditorErrorMessage'})();(function(){ea.$1="<div class='tab-subscribeView tab-toolbarFlyout'></div>";ea.$0="\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>"})();(function(){dj.$0="<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"})();(function(){K.$0="<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"})();(function(){bd.$0="\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"})();(function(){be.$0='tab-customViews-rename-container';tab.ObjectRegistry.registerType(be,be).call(null)})();(function(){bf.maxCustomViewNameLength=255;bf.modeSelect=0;bf.modeManage=1;bf.$1=tab.Logger.getLogger(bf)})();(function(){bg.$0="<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>";bg.$1="<div id='tab-dashboard-region' class='tab-dashboard'/>"})();(function(){bh.dashboardRegionId='tab-dashboard-region';bh.dashboardGutterCssSelector='.tab-gutter';tab.ObjectRegistry.registerType(bh,bh).call(null)})();(function(){eS.centeringContainerSelector='#centeringContainer';eS.$1="<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>";eS.$2="<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"})();(function(){en.$1='tabToolbarButtonImg';en.$2='tabToolbarButtonText';en.$0="<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"})();(function(){X.$0=null})();(function(){bZ.fontsReadyMetricName='AllFontsDownloaded';bZ.uiStabilizedMetricName='UI Stabilized'})();(function(){dy.stylesheetId='tab-renderAndCheckFontLoader';dy.hiddenDivClass='tab-hiddenFontMeasurer';dy.baselineFontClass='tab-baselineFontMeasurer';dy.baselineFontName="'Courier New', Monaco, monospace";dy.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';dy.$4=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);dy.maxLengthToWaitForFontsToDownloadMilliseconds=120000;dy.fontLoadedCheckDelayPerTryMilliseconds=100;dy.ensureFirstRenderPassCompletedDelayMilliseconds=5;dy.maxNumberOfTriesToDownloadFont=1200})();(function(){Q.fontLoaderElementId='tab-simpleFontLoader'})();(function(){dF.raiseFontPreparationCompleteDelay=200;dF.tableauLight='Tableau Light';dF.tableauBook='Tableau Book';dF.tableauRegular='Tableau Regular';dF.tableauMedium='Tableau Medium';dF.tableauSemibold='Tableau Semibold';dF.tableauBold='Tableau Bold';dF.bentonSansLight='Benton Sans Light';dF.bentonSansBook='Benton Sans Book';dF.bentonSansBookItalic='Benton Sans Book Italic';dF.bentonSansMedium='Benton Sans Medium';dF.bentonSansSemiDemi='Benton Sans SemiDemi';dF.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';dF.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff'),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff'),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff'),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff'),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff'),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff')]);dF.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff'),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff'),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff'),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff'),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff'),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff')]);var e=new bG;e.set_fontFamily('Tableau Light');e.woffLocation=dF.tableauFontWoffPaths['Tableau Light'];var eZ=new bG;eZ.set_fontFamily('Tableau Light');eZ.set_weight('bold');eZ.woffLocation=dF.tableauFontWoffPaths['Tableau Medium'];var fa=new bG;fa.set_fontFamily('Tableau Book');fa.woffLocation=dF.tableauFontWoffPaths['Tableau Book'];var fb=new bG;fb.set_fontFamily('Tableau Book');fb.set_weight('bold');fb.woffLocation=dF.tableauFontWoffPaths['Tableau Medium'];var fc=new bG;fc.set_fontFamily('Tableau Regular');fc.woffLocation=dF.tableauFontWoffPaths['Tableau Regular'];var fd=new bG;fd.set_fontFamily('Tableau Regular');fd.set_weight('bold');fd.woffLocation=dF.tableauFontWoffPaths['Tableau Semibold'];var fe=new bG;fe.set_fontFamily('Tableau Medium');fe.woffLocation=dF.tableauFontWoffPaths['Tableau Medium'];var ff=new bG;ff.set_fontFamily('Tableau Medium');ff.set_weight('bold');ff.woffLocation=dF.tableauFontWoffPaths['Tableau Bold'];var fg=new bG;fg.set_fontFamily('Tableau Semibold');fg.woffLocation=dF.tableauFontWoffPaths['Tableau Semibold'];var fh=new bG;fh.set_fontFamily('Tableau Semibold');fh.set_weight('bold');fh.woffLocation=dF.tableauFontWoffPaths['Tableau Bold'];var fi=new bG;fi.set_fontFamily('Tableau Bold');fi.woffLocation=dF.tableauFontWoffPaths['Tableau Bold'];var fj=new bG;fj.set_fontFamily('Tableau Bold');fj.set_weight('bold');fj.woffLocation=dF.tableauFontWoffPaths['Tableau Bold'];dF.tableauFontNames=[e,eZ,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj];var e=new bG;e.set_fontFamily('Benton Sans');e.woffLocation=dF.bentonSansWoffPaths['Benton Sans Book'];dF.bentonSansFontNames=[e];var e=new bG;e.set_fontFamily('Benton Sans Low-DPI');e.woffLocation=dF.bentonSansWoffPaths['Benton Sans SemiDemi'];dF.bentonSansLowDpiFontNames=[e];var e=new bG;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=dF.bentonSansWoffPaths['Benton Sans Light'];var eZ=new bG;eZ.set_fontFamily('Benton Sans');eZ.set_weight('bold');eZ.woffLocation=dF.bentonSansWoffPaths['Benton Sans Medium'];dF.drawerFontNames=[e,eZ];var e=new bG;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=dF.bentonSansWoffPaths['Benton Sans Book'];var eZ=new bG;eZ.set_fontFamily('Benton Sans Low-DPI');eZ.set_weight('bold');eZ.woffLocation=dF.bentonSansWoffPaths['Benton Sans Medium'];dF.drawerLowDpiFontNames=[e,eZ];dF.effectiveBentonSans=(tab.BrowserSupport.get_isHighDpi()?dF.bentonSansFontNames:dF.bentonSansLowDpiFontNames);dF.$1=null})();(function(){cN.$4={}})();(function(){eE.$3$1=false})();(function(){m.$0=10;m.$1=600})();(function(){eL.$0=new RegExp('^https?://[^/]+(.*)$')})();(function(){dA.$1="<div class='tab-right-area-drawer'></div>"})();(function(){R.$b=null;R.$a=false;R.$c=null;R.$9=false;if(tabBootstrap.Utility.get_isEmbedded()){var e=window.addEventListener;if(ss.isValue(e)){e('message',R.$3,false)}else{var eZ=R.$3;window.self.attachEvent('onmessage',eZ)}R.$9=true}R.$a=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(tab.BrowserSupport.get_isIE()){R.$1()}})();(function(){cU.$1$1=null})();(function(){dR.maxDialogWidth=600;dR.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){N.dashboardContainerSelector='.dashboardSpacer';N.overlayId='auth-overlay';N.messageEventName='message';N.frameTestHook='dse-frame'})();(function(){cd.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){bY.$0='FileReconnectEditConnection';bY.$1='FileReconnectLocateFile'})();(function(){bO.bodyContainer='<span></span>'})();(function(){tab.ObjectRegistry.registerType(dB,dB).call(null)})();(function(){F.$2="<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>";F.$1="<div id='dashboard-viewport'></div>"})();(function(){es.$0="\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>";es.$1="\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"})();(function(){eo.$0='tabToolbarButtonFlyoverShown'})();(function(){eu.$7='hideLabels';eu.$a='showLabels';eu.$8='horizontalLabels';eu.$b='stackedLabels';eu.$9='narrow';eu.$6='tab-customviews-modified';eu.$c='.tabToolbarButton';eu.$5='160px';eu.$d=50;tab.ObjectRegistry.registerType(eu,eu).call(null);if(tab.FeatureFlags.isEnabled('WebExperimentalKeyboardShortcuts')){cN.registerShortcut(new eD);cN.registerShortcut(new dx);cN.registerShortcut(new el)}})();(function(){eT.dashboardSpacerSelector=tab.DomUtil.asClass('dashboardSpacer');tab.ObjectRegistry.registerType(eT,eT).call(null)})();(function(){E.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';E.$3=null;E.$4=null;E.$5=false;E.$1$1=null;E.$1$2=null;E.$1$3=null;h.$0()})();(function(){G.vizContainerSelector=tab.DomUtil.asID('viz-client-container');G.toolbarContainerSelector=tab.DomUtil.asID('toolbar-container');G.tabContainerSelector=tab.DomUtil.asID('tab-container');G.applicationContainerSelector=tab.DomUtil.asID('main-content');G.dashboardViewportSelector=tab.DomUtil.asID('dashboard-viewport');G.rightPanelSelector=tab.DomUtil.asID('right-panel');tab.ObjectRegistry.registerType(G,G).call(null)})();(function(){ev.$1='tab-icon-';ev.$3='toggle-updates';ev.$2=430;ev.publicViewCount=0})();(function(){bN.$0='http://public.tableau.com/s/download'})();(function(){dL.currentViewPath='/shared/';dL.$c='http://facebook.com';dL.$9=0.75;dL.$b=0.75;dL.$a=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('ds');e.push('aux');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('showShareOptions');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('commentingEnabled');e.push('size');e.push('isVizPortal');dL.$d=e})();(function(){dZ.maxSubscriptionSubjectLength=256;dZ.maxSubscriptionEmailLength=100;dZ.$0='tabSubscriptionScheduleDropdown';dZ.modeMainDialog=0;dZ.modeMessage=1;dZ.modeSubscribeUsers=2;dZ.modeSubscribeGroups=3})();(function(){ep.iconTypeDownload='download';ep.iconTypeShare='share';ep.iconTypeCustomViews='customviews';ep.iconTypeSubscribe='subscribe';ep.iconTypeEdit='edit';ep.iconTypeRedo='redo';ep.iconTypeUndo='undo';ep.iconTypeRevert='revert';ep.iconTypeToggleDataUpdates='toggle-updates';ep.iconTypeRefreshData='refresh';ep.iconTypePublicLogo='public-logo';ep.pauseButton='Pause'})();(function(){tab.ObjectRegistry.registerType(dk,dk).call(null)})();(function(){dY.$0=0;tab.ObjectRegistry.registerType(dY,dY).call(null)})();(function(){tab.ObjectRegistry.registerType(dK,dK).call(null)})();(function(){bM.$1='tabDownloadData';bM.$0='tabDownloadCrosstab';bM.$2='tabDownloadImage';bM.$3='tabDownloadPdf';bM.$4='tabDownloadWorkbook';bM.$5='tabPublicApp';bM.$6=715;tab.ObjectRegistry.registerType(bM,bM).call(null)})();(function(){eU.$2$3=null})();(function(){H.vizClientContainerSelector='.tab-viz-client-container'})();(function(){dC.$1=320;dC.$0=0})();(function(){ca.$4=null;ca.$3=null})();(function(){ed.defaultLinePattern='solid';ed.defaultLineJoin='bevel';ed.defaultLineCap='butt';ed.defaultTextBaseline='alphabetic';ed.defaultTextAlign='start';ed.defaultLineDashDashed=[3,1];ed.defaultLineDashDotted=[1,1];ed.defaultLineWidth=1;ed.defaultColor='rgb(0,0,0)';ed.defaultTextColor='rgb(0,0,0)';ed.defaultTextAngle=0;ed.defaultFontName='Arial';ed.defaultFontSize=8;ed.defaultTextUnderline=false;ed.$1=0.01})();(function(){S.halfPI=0.5*Math.PI;S.onePI=Math.PI;S.oneAndHalfPI=1.5*Math.PI;S.twoPI=2*Math.PI;S.angleEpsilon=0.000174000000697561})();(function(){by.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"})();(function(){bA.$6=6})();(function(){ck.$0=null;if(tab.FeatureFlags.isEnabled('WebKeyboardShortcuts')){ck.$0=(tsConfig.is_authoring?tab.UriUtil.makeSupportUri():tab.UriUtil.makeHelpUri('help','help.htm'));cN.registerShortcut(new ck)}})();(function(){cl.simpleRectangleCollider=null;cl.simpleRectangleCollider=function(e,eZ){var fa=e.get_geom().x;var fb=e.get_geom().x+e.get_geom().w;var fc=e.get_geom().y;var fd=e.get_geom().y+e.get_geom().h;var fe=eZ.x;var ff=eZ.x+eZ.w;var fg=eZ.y;var fh=eZ.y+eZ.h;if(fd<fg){return false}if(fc>fh){return false}if(fb<fe){return false}if(fa>ff){return false}return true}})();(function(){cn.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>"})();(function(){eJ.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>"})();(function(){cJ.$2=0;cJ.$1='tabIterButtonDisabled';cJ.$0=100})();(function(){cS.$0={width:0,readoutText:'',readoutColor:'',borderColor:'',shouldShowMapScale:false,marginOfError:0,tooltipText:''}})();(function(){cW.leafletLibFileName='leaflet';cW.nestedProjectExplorerLibFileName='nested-project-explorer';cW.dataGridModuleDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.ISharedWidgetsDataGrid),null);var e=(tsConfig.isUnitTestRun?false:true);tab.ModuleManager.register(tab.IConnectionDialogModule).call(null,'ConnectionDialogModule',null);tab.ModuleManager.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog',null).andLoadOnDemandIf(e);if(tsConfig.is_authoring){tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(false);tab.ModuleManager.register(tab.IStoryAuthoringModule).call(null,'StoryAuthoring','StoryAuthoring').andLoadOnDemandIf(false);tab.ModuleManager.register(tab.IResizeHeadersModule).call(null,'ResizeHeadersModule',null).andLoadOnDemandIf(false);if(tab.FeatureFlags.isEnabled('RichTextEditing')&&(tab.FeatureFlags.isEnabled('RichTextEditingTextZone')||tab.FeatureFlags.isEnabled('RichTextEditingStoryDescription')||tab.FeatureFlags.isEnabled('RichTextEditingDashboardTitle')||tab.FeatureFlags.isEnabled('RichTextEditingStoryDescription')||tab.FeatureFlags.isEnabled('RichTextEditingTextZoneDelta'))){tab.ModuleManager.register(tab.IRichTextAuthoringModule).call(null,'RichTextEditorModule',null).andShowLoadingIndicator().andExportResultAs('RichTextEditor')}}else{tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e)}tab.ModuleManager.register(tab.ICommentingFactory).call(null,'Commenting',null).andLoadOnDemandIf(e).andExportResultAs('Commenting');tab.ModuleManager.register(tab.IUnificationStyleQuickFiltersModule).call(null,'UnificationStyleQuickFilters',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IGroupDialogModule).call(null,'GroupDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(cW.dataGridModuleDependency);tab.ModuleManager.register(tab.IBinDialogModule).call(null,'BinDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IAliasDialogModule).call(null,'AliasDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(cW.dataGridModuleDependency);tab.ModuleManager.register(tab.ITrendLineDialogModule).call(null,'TrendLineDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.registerRawJsModule('leaflet','leaflet.min','leaflet').andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDataConnectionModule).call(null,'DataConnection',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISelfServiceSchedulesModule).call(null,'SelfServiceSchedulesModule',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISharedWidgetsDataGrid).call(null,'SharedWidgetsDataGridModule',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.ISharedWidgetsPlayground).call(null,'SharedWidgetsPlayground',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadDialogModule).call(null,'DownloadDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.registerRawJsModule('nested-project-explorer','nested-project-explorer.min','nested-project-explorer').andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(cW.dataGridModuleDependency);cW.$1(e);if(tsConfig.is_mobile){tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneMobile',null).andLoadOnDemandIf(false)}else{tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneWeb',null).andLoadOnDemandIf(false)}$(function(){define('$',function(){return $});define('React',function(){return React});define('ReactDOM',function(){return ReactDOM});define('react',function(){return React});define('react-dom',function(){return ReactDOM});define('SharedWidgets',function(){return SharedWidgets});define('@tableau/preslayer-api-contract',function(){var eZ=new Object;eZ.Instance=tab.PluginPresentationLayer.get_instance();return eZ});define('@tableau/shared-widgets',function(){return SharedWidgets});define('@tableau/widgets',function(){return SharedWidgets})})})();(function(){dc.$0="<img class='tab-overlayImage'/>"})();(function(){dp.minTitleHeight=17;dp.titlePadding=3})();(function(){dq.containerClass='tab-legacy-dropdown-container';dq.containerBorderClass='tab-legacy-qf-bordered';dq.summaryClass='tab-legacy-dropdown-summary';dq.iconContainerClass='tab-legacy-dropdown-icon-container';dq.iconClass='tab-legacy-dropdown-icon'})();(function(){dr.containerClass='tab-legacy-qf-readout-container';dr.containerBorderClass='tab-legacy-qf-bordered';dr.textClass='tab-legacy-qf-readout-text';dr.iconClass='tab-legacy-qf-readout-icon'})();(function(){du.autoCompleteDebounceTime=200;du.rowHeight=26;du.numberOfRowsInViewport=6})();(function(){dS.$0='.SmoothTooltipBehavior'})();(function(){ei.$0="<div class='tvimagesContainer'></div>"})();(function(){eB.$0='.tab-tooltipContent';eB.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){ew.defaultVerticalOffset=16;ew.defaultHorizonalOffset=16;ew.$3=16;ew.$2=10;ew.belowRightClass='tab-tooltipBR';ew.belowLeftClass='tab-tooltipBL';ew.aboveRightClass='tab-tooltipAR';ew.aboveLeftClass='tab-tooltipAL';ew.$1='tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR';ew.$4=null})();(function(){eC.$m="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";eC.$r='.tab-ubertipTooltip';eC.$s='.tab-ubertipTooltip span[data-tableau="VizInTooltip"]';eC.$j='.tab-ubertipContent';eC.$e='.tab-ubertipActions';eC.$g='.tab-ubertipCommandArea';eC.$i='.tab-ubertipCommands';eC.$h='.tab-clear';eC.$p='.tab-ubertipSelected';eC.$o='tab-selection-relaxation-selected';eC.$f="<li><div class='tab-separator'>&nbsp;</div></li>";eC.$k=70;eC.$l=2;eC.$q=740;eC.$n=null;eC.$n={}})();(function(){eN.$1$1=null;eN.$1$2=null})();(function(){ey.whitespaceObjectId='W';ey.unknownObjectId='U';ey.$0='mouseleave.basemode';ey.$4=0;ey.$3=null;ey.$2=null;ey.$1='U';ey.vizInTooltipDelayTimerMs=200})();(function(){eM.$0=null})()})();;
/*! BEGIN RuntimeUI */
(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlruntimeui')})();;
/*! BEGIN VizZone */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzone');var b=function(L){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=L;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'};b.__typeName='tab.$0';var c=function(L){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=L.get_alpha();this.$4=L.get_lineJoin();this.$3=L.get_lineCap();this.$5=L.get_linePattern();this.$8=L.get_strokeStyle();this.$6=L.get_lineWidth();this.$a=L.get_textAngle();this.$2=L.get_font();this.$7=L.get_shapeFillStyle();this.$b=L.get_textFillStyle();this.$9=L.get_textAlign()};c.__typeName='tab.$1';var d=function(L,bN){this.$1=null;this.$0=null;this.$1=L;this.$0=bN};d.__typeName='tab.$2';var e=function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')};e.__typeName='tab.$3';var f=function(L){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=L;this.$9=false;this.$a=0};f.__typeName='tab.$4';var g=function(L){this.$a=0;this.$c=-1;this.$b=null;this.$9=true;this.$1$1=null;this.$1$2=null;this.$a=L;this.$c=-1;this.$9=true};g.__typeName='tab.$5';var h=function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var L=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(L);this.$7.css(L);this.$6.css('left','0px');this.$7.css('right','0px');if(tab.BrowserSupport.get_isIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}};h.__typeName='tab.$6';var i=function(){this.$3=[]};i.__typeName='tab.$7';i.$1=function(L,bN,bO){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var bP=bN.get_vizRegionMap()['background'];if(ss.isNullOrUndefined(bP)||ss.isNullOrUndefined(bP.get_visualListPM().drawItems)){return}var bQ=bP.get_visualListPM().drawItems;var bR={};var bS=L.ri.length;for(var bT=0;bT<bS;bT++){var bU=L.ri[bT];bR[bU.r]=bU}var bV=null;if(ss.isValue(bN)&&ss.isValue(bN.get_scene())){bV=bN.get_scene().get_imageDictionary()}var bW=tab.RenderUtil.calculatePixelRatio();var bX=bN.get_visualModel().get_backgroundColor();var bY=[{name:'uleft'.toString(),node:bO.topLeftSpacer},{name:'uright'.toString(),node:bO.topRightSpacer},{name:'lleft'.toString(),node:bO.bottomLeftSpacer},{name:'lright'.toString(),node:bO.bottomRightSpacer}];for(var bZ=0;bZ<bY.length;bZ++){var ca=bY[bZ];var cb=bR[ca.name];if(ss.isNullOrUndefined(cb)){continue}var cc=ca.node;var cd=cc.get(0).firstChild;if(ss.isNullOrUndefined(cd)){continue}i.$2(cd,bX,bW,cb,bQ,bV)}};i.$2=function(L,bN,bO,bP,bQ,bR){var bS=tab.CanvasRenderer.getRenderContext(L,'opaque');bS.set_shapeFillStyle(bN);bS.fillRect(0,0,L.width,L.height);bS.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(bO,1)){tab.CanvasUtil.scaleCanvasDrawing(bS,bO)}var bT=new o(L,bS,K.defaultColors);bT.set_renderOffset({x:bP.x,y:bP.y});var bU=bT;bU.renderDrawItems(bQ,null,bR,null)};i.$0=function(L,bN){var bO=L.get(0).firstChild;if(!(ss.compareStrings(bO.tagName,bN,true)===0)){bO=document.createElement(bN);L.children().first().replaceWith(bO)}return bO};var j=function(){this.$4=null;this.$1=0;this.$1=-1};j.__typeName='tab.$8';var k=function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot};k.__typeName='tab.CanvasTemplate';global.tab.CanvasTemplate=k;var l=function(L){var bN=function(bO,bP){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$c=null;this.$g=null;this.$h=0;this.$i=null;this.$e=null;this.$j=null;this.$f=false;this.$d=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[L]).call(this,bO,new k);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$g={x:0,y:0};this.$f=false;this.$c=bP;this.context=tab.CanvasRenderer.getRenderContext(this.canvasElt,bP);this.$h=tab.RenderUtil.calculatePixelRatio();tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.$b))};ss.registerGenericClassInstance(bN,l,[L],{add_sizeChange:function(bO){this.$3$1=ss.delegateCombine(this.$3$1,bO)},remove_sizeChange:function(bO){this.$3$1=ss.delegateRemove(this.$3$1,bO)},get_canScrollX:function(){return this.get_docSize().w-this.get_effectiveViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_effectiveViewSize().h>0},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(bO){if(!ss.isValue(this.canvasElt)){return}if(tab.CanvasUtil.isOverCanvasSizeLimit(bO.w,bO.h,this.get_pixelRatio())){this.$h=1}if(this.get_effectiveViewSize().w!==bO.w||this.get_effectiveViewSize().h!==bO.h){this.$e={w:bO.w,h:bO.h};tab.CanvasUtil.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$e);if(this.$c==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$e)){return this.$e}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$h},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(bO){if(!tab.PointUtil.equals(this.scrollOffset,bO)){var bP=tab.PointDUtil.timesScalar(bO,this.$h);var bQ=tab.PointDUtil.round(bP);var bR=tab.PointUtil.subtract(bQ,this.$g);var bS=tab.PointUtil.subtract(bO,this.scrollOffset);this.$g=bQ;this.scrollOffset=bO;if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var bT={x:-bS.x,y:-bS.y};var bU=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),bT);this.set_dirtyRect(bU)}if(bS.x!==0&&bS.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var bV=bR.x;var bW=bR.y;var bX=this.get_actualViewSize().w-Math.abs(bV);var bY=((bV>0)?bV:0);var bZ=((bV>0)?0:-bV);var ca=this.get_actualViewSize().h-Math.abs(bW);var cb=((bW>0)?bW:0);var cc=((bW>0)?0:-bW);if(bX<=0||ca<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,bY,cb,bX,ca,bZ,cc,bX,ca);var cd={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(bS.x>0){cd.x=cd.w-bS.x}else if(bS.x<0){cd.w=-bS.x}if(bS.y>0){cd.y=cd.h-bS.y}else if(bS.y<0){cd.h=-bS.y}if(bS.x===0){cd.h=Math.abs(bS.y)}if(bS.y===0){cd.w=Math.abs(bS.x)}cd=tab.RectXYUtil.dialate(cd,3);this.invalidateRect(cd,true)}}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(bO){if(ss.isValue(this.context)){this.context.dirtyRect=bO}},get_backgroundFillColor:null,dispose:function(){if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.$9();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.$b));ss.makeGenericType(spiff.BaseView$1,[L]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(bO){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.triggerRedraw(bO)},invalidateRect:function(bO,bP){var bQ;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){bQ=tab.RectXYUtil.clone(bO)}else{bQ=tab.RectXYUtil.union(this.get_dirtyRect(),bO)}if(bQ.x<0){bQ.x=0}if(bQ.x+bQ.w>this.get_effectiveViewSize().w){bQ.w=this.get_effectiveViewSize().w-bQ.x}if(bQ.y<0){bQ.y=0}if(bQ.y+bQ.h>this.get_effectiveViewSize().h){bQ.h=this.get_effectiveViewSize().h-bQ.y}this.set_dirtyRect(bQ);this.triggerRedraw(bP)},setXPos:function(bO){this.set_scrollPos({x:bO,y:this.get_scrollPos().y})},setYPos:function(bO){this.set_scrollPos({x:this.get_scrollPos().x,y:bO})},redraw:null,redrawFinished:null,triggerRedraw:function(bO){var bP=ss.isValue(this.$i);bO=bO||false;if(bO){this.$a();this.redraw();this.$9();if(bP){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.redrawFinished()}else if(!bP){this.$a();this.$i=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){if(ss.isValue(this.$i)){this.triggerRedraw(true)}},$a:function(){this.$j=this.$j||tab.BaseSession.get_waitHandler();var bO=!this.$f&&this.$j.isBusy();if(bO){this.$j.addref(false);this.$f=true;return true}if(ss.isNullOrUndefined(this.$d)){this.$d=tab.CompletionMonitor.get_instance().hold(1)}return false},$9:function(){if(this.$f){this.$j=this.$j||tab.BaseSession.get_waitHandler();this.$j.release();this.$f=false}if(ss.isValue(this.$d)){this.$d.dispose();this.$d=null}}},function(){return ss.makeGenericType(spiff.BaseView$1,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable]});return bN};l.__typeName='tab.CanvasView$1';ss.initGenericClass(l,a,1);global.tab.CanvasView$1=l;var m=function(L,bN){this.$i=null;this.$j=null;this.$k=null;bs.call(this,L,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$i={center:{x:0,y:0},radius:0};this.$j={center:{x:0,y:0},radius:0};this.$k=bN};m.__typeName='tab.CircleShapeSelector';global.tab.CircleShapeSelector=m;var n=function(){this.$0=null;this.$1=null;bt.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}};n.__typeName='tab.CircleShapeState';global.tab.CircleShapeState=n;var o=function(L,bN,bO){this.$c=null;tab.CanvasRenderer.call(this,L,bN);this.$c=bO||K.defaultColors};o.__typeName='tab.DisplayList2DRenderer';o.setTextProperties=function(L,bN,bO){L.set_textFillStyle(bN.color);var bP=new ss.StringBuilder;if(bN.fontStyle==='font-style-italic'){bP.append('italic ')}if(bN.fontWeight==='font-weight-bold'){bP.append('bold ')}if(ss.isValue(bN.textDecoration)&&bN.textDecoration==='text-decoration-underline'){L.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(bO)||bO<=0){bO=bN.fontSize}var bQ=o.$1(bN.fontName);bP.append(bO+'pt '+bQ);L.set_font(bP.toString());L.set_textBaseline(tab.FormattingConverters.getTextBaseline(bN.valign))};o.$1=function(L){var bN=o.$a.cl[L];if(ss.isValue(bN)){return bN}var bO=ss.trimString(L,[39,34]);var bP=bO.split(' ');var bQ=[];for(var bR=bP.length;bR>0;--bR){bQ.push(tab.FormattingConverters.addQuotationMarks(bP.join(' '),true));bP.pop()}tab.FormattingConverters.addDefaultFontForTableau(bQ);var bS=bQ.join(', ');o.$a.add(L,bS);return bS};o.$0=function(L,bN){var bO=bN;L.set_textFillStyle(tab.ColorModel.convertColorForCanvas(bO.color));if(ss.isValue(bO.angle)){var bP=bO.angle*Math.PI/180;L.set_textAngle(bP)}else{L.set_textAngle(0)}var bQ=new ss.StringBuilder;if(bO.isItalics){bQ.append('italic ')}if(bO.isBold){bQ.append('bold ')}if(bO.isStrikeThrough){}var bR=tab.TabRenderContext2D.defaultTextAlign;if(L.get_isTextAngleHorizontal()){var bS=bO.horizontalLabelAlignment||'h-align-left';if(bS==='h-align-right'){bR='end'}}else{var bT=bO.verticalLabelAlignment||'v-align-top';if(L.get_textAngle()<0&&bT==='v-align-top'||L.get_textAngle()>0&&bT==='v-align-bottom'){bR='end'}}L.set_textAlign(bR);L.set_shouldUnderlineText(bO.isUnderlined||false);var bU=bO.fontName||'Arial';bU=o.$1(bU);var bV=bO.pointSize||8;bQ.append(bV+'pt '+bU);L.set_font(bQ.toString())};o.$2=function(L,bN,bO){var bP=bN;if(bP.points.length!==4){return}var bQ=bP.points[2]-bP.points[0];var bR=bP.points[3]-bP.points[1];var bS=bP.points[0]+bQ/2;var bT=bP.points[1]+bR/2;var bU=((bQ<bR)?bQ:bR)/2;var bV=((bQ<bR)?1:(bQ/bR));var bW=((bR<bQ)?1:(bR/bQ));L.save();L.beginPath();L.translate(bS,bT);L.scale(bV,bW);L.arc(0,0,bU,0,tab.CanvasRenderer.twoPI,false);L.closePath();if(bO){L.fill()}else{L.stroke()}L.restore()};o.$3=function(L,bN,bO){var bP=bN.pointsF;if(!bO&&Math.round(L.get_lineWidth())%2===1){bP=ss.arrayClone(bP);for(var bQ=0,bR=bP.length;bQ<bR;++bQ){bP[bQ]+=0.5}}var bS=bN.pathElements;var bT=Math.floor(bP.length/2);if(bT<2){return}L.beginPath();var bU=0;for(var bV=0;bV<bS.length;bV++){var bW=bS[bV];switch(bW){case'moveto':{{L.moveTo(bP[bU],bP[bU+1]);bU+=2}break}case'lineto':{{L.lineTo(bP[bU],bP[bU+1]);bU+=2}break}case'curveto':{{L.bezierCurveTo(bP[bU],bP[bU+1],bP[bU+2],bP[bU+3],bP[bU+4],bP[bU+5]);bU+=6}break}default:{{}break}}}if(bO){L.fill()}else{L.stroke()}};o.$5=function(L){switch(L.type){case'draw-pen':case'draw-solid-brush':case'draw-gradient-brush':case'clip-rect':case'draw-text-props':case'transform':case'transform-pop':case'transform-push':case'draw-antialias':{return true}}return false};o.$6=function(L,bN){if(!bN){return L}var bO=o.$4(L);if(bO.length===0){return L}var bP=ss.arrayClone(L);var bQ=function(bV,bW){var bX=bP[bV];bP[bV]=bP[bW];bP[bW]=bX};for(var bR=0;bR<bO.length;bR++){var bS=bO[bR];for(var bT=0;bT<ss.Int32.div(bS.length,2);++bT){var bU=bS.length-1-bT;bQ(bS[bT].item1,bS[bU].item1);bQ(bS[bT].item2,bS[bU].item2)}}return bP};o.$4=function(L){var bN=[];var bO=-99999999;var bP=false;var bQ=-1;var bR=[];for(var bS=0;bS<L.length;bS++){var bT=L[bS];if(bT.type==='draw-text-props'){var bU=bT;bP=ss.isValue(bU.horizontalLabelAlignment)&&bU.horizontalLabelAlignment==='h-align-right';bQ=bS}else if(bP&&bT.type==='draw-text'){var bV=bT;var bW=bV.points[1];if(bW!==bO){if(bR.length>=2){bN.push(bR)}bR=[]}bR.push({item1:bQ,item2:bS});bO=bW}}if(bR.length>=2){bN.push(bR)}return bN};global.tab.DisplayList2DRenderer=o;var p=function(){};p.__typeName='tab.DisplayList2DUtils';p.rectXYFromDrawRect=function(L){return{x:L[0],y:L[1],w:L[2]-L[0],h:L[3]-L[1]}};global.tab.DisplayList2DUtils=p;var q=function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array};q.__typeName='tab.DownloadQueue';global.tab.DownloadQueue=q;var r=function(L,bN){React.Component.call(this,L,bN)};r.__typeName='tab.FloatingMenuFlyoutButtonComponent';global.tab.FloatingMenuFlyoutButtonComponent=r;var s=function(){};s.__typeName='tab.FloatingToolbarButton';global.tab.FloatingToolbarButton=s;var t=function(L,bN){React.Component.call(this,L,bN)};t.__typeName='tab.FloatingToolbarContainerComponent';global.tab.FloatingToolbarContainerComponent=t;var u=function(L){this.$q=false;this.$r=false;this.$o=false;this.$p=false;this.$k=true;this.$l=true;this.$j=null;this.$i=null;this.$n=null;this.$m=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$i={};this.$i[0]={buttonId:0,iconClassName:'tab-radial-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRadialSelectionTooltipMobile,onTap:ss.mkdel(this,this.$e)};this.$i[1]={buttonId:1,iconClassName:'tab-lasso-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsLassoSelectionTooltipMobile,onTap:ss.mkdel(this,this.$e)};this.$i[2]={buttonId:2,iconClassName:'tab-rectangle-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltipMobile,isSelected:true,onTap:ss.mkdel(this,this.$e)};this.$i[3]={buttonId:3,iconClassName:'tab-append-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsAppendTooltip,onTap:ss.mkdel(this,this.$5)};this.$n={buttonId:2,iconClassName:'tab-rectangle-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltipMobile,isSelected:true,onTap:ss.mkdel(this,this.$b),shouldShowFlyoutCaret:true};this.$m={buttonId:4,iconClassName:'tab-pan-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsPanTooltipMobile,onTap:ss.mkdel(this,this.$e)};L.add_toolbarToolModeUpdated(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_toolbarToolModeUpdated(ss.mkdel(this,this.$9))})));this.$9(L.get_currentPointerToolMode());L.add_appendModeUpdated(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_appendModeUpdated(ss.mkdel(this,this.$8))})));this.$8(L.get_isAppendMode())};u.__typeName='tab.FloatingToolbarContainerViewModel';u.$0=function(L){switch(L){case'pan-map':{return 4}case'radial-selection':{return 0}case'lasso-selection':{return 1}case'rectangular-selection':default:{return 2}}};u.$1=function(L){switch(L){case 4:{return'pan-map'}case 0:{return'radial-selection'}case 1:{return'lasso-selection'}case 2:{return'rectangular-selection'}default:{return'no-tools'}}};global.tab.FloatingToolbarContainerViewModel=u;var v=function(L,bN){this.$7=null;this.$8=null;this.$9=0;this.$a=0;React.Component.call(this,L,bN);this.$7=ss.mkdel(this,function(bO){this.$8=bO})};v.__typeName='tab.FloatingToolbarPositioningComponent';global.tab.FloatingToolbarPositioningComponent=v;var w=function(L,bN,bO,bP,bQ){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.zoomAreaButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$8=null;this.toolbarType=null;this.$7=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(L);this.api=bN;this.toolbarType=bO;this.canZoomHome=false;this.geoSearchEnabled=bQ;this.element.css({top:bP+'px'})};w.__typeName='tab.FloatingZoomToolbar';global.tab.FloatingZoomToolbar=w;var x=function(L){this.zoomToolbar=null;this.$1=null;this.$0=null;this.$0=L};x.__typeName='tab.FloatingZoomToolbarView';global.tab.FloatingZoomToolbarView=x;var y=function(){};y.__typeName='tab.GeometryUtil';y.domainToPixelGeometry=function(L,bN,bO,bP){switch(L.geometryType){case'multiPolygon':{y.domainToPixelMultipolygon(L.multiPolygon,bN,bO,bP);break}case'multiPoint':{var bQ=0;var bR=L.multiPoint;y.domainToPixelCoordinateArray(bR.pointsF,bN,bO,bP,bQ);break}case'multiLineString':{var bS=L.multiLine;y.domainToPixelMultiline(bS,bN,bO,bP);break}default:{break}}};y.domainToPixelMultipolygon=function(L,bN,bO,bP){var bQ=L.polygonList;var bR=bQ.length;var bS=6;for(var bT=0;bT<bR;bT++){var bU=bQ[bT].lineList;var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW].pointsF;y.domainToPixelCoordinateArray(bX,bN,bO,bP,bS)}}};y.domainToPixelMultiline=function(L,bN,bO,bP){var bQ=L.lineList.length;var bR=4;for(var bS=0;bS<bQ;bS++){var bT=L.lineList[bS].pointsF;y.domainToPixelCoordinateArray(bT,bN,bO,bP,bR)}};y.domainToPixelCoordinateArray=function(L,bN,bO,bP,bQ){var bR=3;var bS=bO.w/bN.w;var bT=bO.h/bN.h;var bU=L.length;if(bU<2){return}var bV=null;var bW=null;var bX=0;for(var bY=0;bY<bU;bY+=2){var bZ=y.$5(L[bY],bN.x,bO.x,bS);var ca=y.$5(L[bY+1],bN.y,bO.y,bT);var cb=bX+bU-bY;if(bP&&cb>bQ){var cc=bZ*3<<0;var cd=ca*3<<0;if(cc===bV&&cd===bW){continue}bV=cc;bW=cd}L[bX]=bZ;L[bX+1]=ca;bX+=2}L.length=bX};y.isGeometryPresModelFeatureEmpty=function(L){switch(L.geometryType){case'multiPoint':{return L.multiPoint.pointsF.length===0}case'multiPolygon':{return L.multiPolygon.polygonList.length===0}case'multiLineString':{return L.multiLine.lineList.length===0}default:{return false}}};y.$5=function(L,bN,bO,bP){return(L-bN)*bP+bO};y.isPointInPoly=function(L,bN,bO){if(ss.isValue(bO)&&bO!==0){return y.polygonIntersectsDoubleRect(L,{x:bN.x-bO,y:bN.y-bO,w:bO*2,h:bO*2})}var bP=0;var bQ=L.length;for(var bR=0;bR<bQ;bR+=2){var bS=L[bR];var bT=L[bR+1];var bU=(bR+2)%bQ;var bV=L[bU];var bW=L[bU+1];if(bT<=bN.y){if(bW>bN.y){if(y.$6(bS,bT,bV,bW,bN.x,bN.y)>0){++bP}}}else if(bW<=bN.y){if(y.$6(bS,bT,bV,bW,bN.x,bN.y)<0){--bP}}}return bP!==0};y.isPointInPolygon=function(L,bN){var bO=false;var bP=0;for(var bQ=0;bQ<L.lineList.length;bQ++){var bR=L.lineList[bQ];var bS=y.isPointInPoly(bR.pointsF,bN);if(bP===0){if(bS){bO=true}else{break}}else if(bS){bO=false;break}bP++}return bO};y.isPointInMultipolygon=function(L,bN){var bO=false;for(var bP=0;bP<L.polygonList.length;bP++){var bQ=L.polygonList[bP];bO=y.isPointInPolygon(bQ,bN);if(bO){break}}return bO};y.lineToQuad=function(L,bN){var bO=bN/2;var bP={x:L[0],y:L[1]};var bQ={x:L[2],y:L[3]};var bR=bQ.x-bP.x;var bS=bQ.y-bP.y;var bT=Math.sqrt(bR*bR+bS*bS);if(bT===0){return y.makeQuadFromPoints(bP,bP,bP,bP)}var bU={x:bO*(bR/bT),y:bO*(bS/bT)};var bV={x:-bU.y,y:bU.x};var bW={x:bP.x+bV.x,y:bP.y+bV.y};var bX={x:bP.x-bV.x,y:bP.y-bV.y};var bY={x:bQ.x+bV.x,y:bQ.y+bV.y};var bZ={x:bQ.x-bV.x,y:bQ.y-bV.y};return y.makeQuadFromPoints(bW,bX,bZ,bY)};y.makeQuadFromPoints=function(L,bN,bO,bP){var bQ=new Array(8);bQ[0]=L.x;bQ[1]=L.y;bQ[2]=bN.x;bQ[3]=bN.y;bQ[4]=bO.x;bQ[5]=bO.y;bQ[6]=bP.x;bQ[7]=bP.y;return bQ};y.isPointInMultiLineString=function(L,bN,bO){var bP=L.lineList;var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR].pointsF;var bT=bS.length;if(bT<4||bT%2===1){continue}for(var bU=0;bU<bT-2;bU+=2){var bV=new Array(4);bV[0]=bS[bU];bV[1]=bS[bU+1];bV[2]=bS[bU+2];bV[3]=bS[bU+3];if(y.isPointInPoly(y.lineToQuad(bV,bO),bN)){return true}if(bU>=2){var bW={x:bS[bU],y:bS[bU+1]};var bX={center:bW,radius:bO/2};if(y.isPointInCircle(bN,bX)){return true}}}}return false};y.isPointInMultipoint=function(L,bN,bO){var bP=L.pointsF;var bQ={center:bN,radius:bO};for(var bR=0;bR<bP.length;bR=bR+2){var bS=bP[bR];var bT=bP[bR+1];var bU={x:bS,y:bT};if(y.isPointInCircle(bU,bQ)){return true}}return false};y.getGeometrySelectionTransform=function(L,bN,bO,bP){if(!L){return tab.Transform.pixelToDomain(bN,bO,bP)}return tab.Transform.none()};y.multipolygonIntersectsDoubleRect=function(L,bN){for(var bO=0;bO<L.polygonList.length;bO++){var bP=L.polygonList[bO];for(var bQ=0;bQ<bP.lineList.length;bQ++){var bR=bP.lineList[bQ];if(y.polygonIntersectsDoubleRect(bR.pointsF,bN)){return true}}}return false};y.multiLineStringIntersectsDoubleRect=function(L,bN,bO){for(var bP=0;bP<L.lineList.length;bP++){var bQ=L.lineList[bP];var bR=bQ.pointsF;var bS=bR.length;if(bS<4||bS%2===1){continue}for(var bT=0;bT<bS-2;bT+=2){var bU=new Array(4);bU[0]=bR[bT];bU[1]=bR[bT+1];bU[2]=bR[bT+2];bU[3]=bR[bT+3];if(y.polygonIntersectsDoubleRect(y.lineToQuad(bU,bO),bN)){return true}if(bT>=2){var bV={x:bR[bT],y:bR[bT+1]};var bW={center:bV,radius:bO/2};var bX=y.$1(bN);if(y.polygonIntersectsCircle(bX,bW)){return true}}}}return false};y.multipointIntersectsDoubleRect=function(L,bN,bO){return y.multipointIntersectsPolygon(L,y.$1(bN),bO)};y.multipolygonIntersectsPolygon=function(L,bN,bO){for(var bP=0;bP<L.polygonList.length;bP++){var bQ=L.polygonList[bP];for(var bR=0;bR<bQ.lineList.length;bR++){var bS=bQ.lineList[bR];if(y.$7(bS.pointsF,bN,bO)){return true}}}return false};y.multiLineStringIntersectsPolygon=function(L,bN,bO){for(var bP=0;bP<L.lineList.length;bP++){var bQ=L.lineList[bP];var bR=bQ.pointsF;var bS=bR.length;if(bS<4||bS%2===1){continue}for(var bT=0;bT<bS-2;bT+=2){var bU=new Array(4);bU[0]=bR[bT];bU[1]=bR[bT+1];bU[2]=bR[bT+2];bU[3]=bR[bT+3];if(y.$7(y.lineToQuad(bU,bO),bN)){return true}if(bT>=2){var bV={x:bR[bT],y:bR[bT+1]};var bW={center:bV,radius:bO/2};if(y.polygonIntersectsCircle(bN,bW)){return true}}}}return false};y.multipointIntersectsPolygon=function(L,bN,bO){var bP=L.pointsF;var bQ={center:{x:0,y:0},radius:bO};for(var bR=0;bR<bP.length;bR=bR+2){var bS=bP[bR];var bT=bP[bR+1];var bU={x:bS,y:bT};bQ.center=bU;if(y.polygonIntersectsCircle(bN,bQ)){return true}}return false};y.polygonIntersectsRect=function(L,bN){return y.$7(L,y.$2(bN))};y.polygonIntersectsDoubleRect=function(L,bN){return y.$7(L,y.$1(bN))};y.$7=function(L,bN,bO){if(L.length===0||bN.length===0){return false}if(y.isPointInPoly(bN,{x:L[0],y:L[1]})){return true}if(y.isPointInPoly(L,{x:bN[0],y:bN[1]})){return true}if(L.length>bN.length||ss.isValue(bO)){var bP=L;L=bN;bN=bP}var bQ=bO;var bR=ss.isValue(bQ);for(var bS=0,bT=L.length;bS<bT;bS+=2){var bU=(bS+2)%bT;if(bR&&!y.$9(bQ,L[bS],L[bS+1],L[bU],L[bU+1])){continue}if(y.$8(bN,L[bS],L[bS+1],L[bU],L[bU+1])){return true}}return false};y.$9=function(L,bN,bO,bP,bQ){if(bN>bP){var bR=bN;bN=bP;bP=bR}if(bP<L.x||bN>L.x+L.w){return false}if(bO>bQ){var bS=bO;bO=bQ;bQ=bS}return!(bQ<L.y||bO>L.y+L.h)};y.$8=function(L,bN,bO,bP,bQ){var bR=bP-bN;var bS=bQ-bO;var bT=L.length;for(var bU=0;bU<bT;bU+=2){var bV=(bU+2)%bT;var bW=L[bU];var bX=L[bU+1];var bY=L[bV];var bZ=L[bV+1];var ca=bR*(bX-bQ)-bS*(bW-bP);var cb=bR*(bZ-bQ)-bS*(bY-bP);if(ca<0&&cb<0||ca>0&&cb>0){continue}var cc=bY-bW;var cd=bZ-bX;var ce=cc*(bO-bZ)-cd*(bN-bY);var cf=cc*(bQ-bZ)-cd*(bP-bY);if(ca!==0&&cb!==0){if(ce<0&&cf>0||ce>0&&cf<0){return true}else if(ce!==0&&cf!==0){continue}}var cg=[ce,cf,ca,cb];var ch=[bN,bO,bP,bQ,bW,bX,bY,bZ];if(y.$4(cg,ch)){return true}}return false};y.$4=function(L,bN){var bO=[4,4,0,0];var bP=[6,6,2,2];for(var bQ=0,bR=0,bS=4;bQ<bS;bQ++,bR+=2){if(L[bQ]===0){var bT=bN[bR];var bU=bN[bR+1];var bV=bN[bO[bQ]];var bW=bN[bO[bQ]+1];var bX=bN[bP[bQ]];var bY=bN[bP[bQ]+1];if(bT>=Math.min(bV,bX)&&bT<=Math.max(bV,bX)&&bU>=Math.min(bW,bY)&&bU<=Math.max(bW,bY)){return true}}}return false};y.multipolygonIntersectsCircle=function(L,bN){for(var bO=0;bO<L.polygonList.length;bO++){var bP=L.polygonList[bO];for(var bQ=0;bQ<bP.lineList.length;bQ++){var bR=bP.lineList[bQ];if(y.polygonIntersectsCircle(bR.pointsF,bN)){return true}}}return false};y.multiLineStringIntersectsCircle=function(L,bN,bO){for(var bP=0;bP<L.lineList.length;bP++){var bQ=L.lineList[bP];var bR=bQ.pointsF;var bS=bR.length;if(bS<4||bS%2===1){continue}for(var bT=0;bT<bS-2;bT+=2){var bU=new Array(4);bU[0]=bR[bT];bU[1]=bR[bT+1];bU[2]=bR[bT+2];bU[3]=bR[bT+3];if(y.polygonIntersectsCircle(y.lineToQuad(bU,bO),bN)){return true}if(bT>=2){var bV={x:bR[bT],y:bR[bT+1]};var bW={center:bV,radius:bO/2};if(y.circleIntersectsCircle(bN,bW)){return true}}}}return false};y.multipointIntersectsCircle=function(L,bN,bO){var bP=L.pointsF;var bQ={center:{x:0,y:0},radius:bO};for(var bR=0;bR<bP.length;bR=bR+2){var bS=bP[bR];var bT=bP[bR+1];var bU={x:bS,y:bT};bQ.center=bU;if(y.circleIntersectsCircle(bN,bQ)){return true}}return false};y.circleIntersectsCircle=function(L,bN){var bO=Math.pow(L.center.x-bN.center.x,2)+Math.pow(L.center.y-bN.center.y,2);return Math.pow(L.radius+bN.radius,2)>=bO};y.polygonIntersectsCircle=function(L,bN){if(L.length===0||bN.radius===0){return false}if(y.isPointInPoly(L,bN.center)){return true}if(y.isPointInCircle({x:L[0],y:L[1]},bN)){return true}var bO=bN.radius*bN.radius;for(var bP=0,bQ=L.length;bP<bQ;bP+=2){var bR=L[bP];var bS=L[bP+1];var bT=(bP+2)%bQ;var bU=L[bT];var bV=L[bT+1];var bW=bV-bS;var bX=bU-bR;var bY=bX*bX+bW*bW;var bZ=((bN.center.x-bR)*bX+(bN.center.y-bS)*bW)/bY;bZ=Math.min(1,Math.max(0,bZ));var ca=bR+bZ*bX;var cb=bS+bZ*bW;bX=ca-bN.center.x;bW=cb-bN.center.y;bY=bX*bX+bW*bW;if(bO>bY){return true}}return false};y.circleIntersectsRect=function(L,bN){if(L.radius<=0){return false}var bO=y.$0(bN);for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];if(y.isPointInCircle(bQ,L)){return true}}if(tab.RectXYUtil.inRectPointF(bN,L.center)){return true}var bR=bN.w/2;var bS=bN.h/2;var bT={x:bN.x+bR,y:bN.y+bS};if(L.center.y<bN.y||L.center.y>=bN.y+bN.h){return L.center.x>bN.x&&L.center.x<bN.x+bN.w&&Math.abs(bT.y-L.center.y)<bS+L.radius}if(L.center.x<bN.x||L.center.x>=bN.x+bN.w){return L.center.y>bN.y&&L.center.y<bN.y+bN.h&&Math.abs(bT.x-L.center.x)<bR+L.radius}return false};y.normalizeAngle=function(L){var bN=L%y.twoPI;if(bN<0){bN+=y.twoPI}return bN};y.isInBetweenAngles=function(L,bN,bO){var bP=false;if(bN>bO){var bQ=bN;bN=bO;bO=bQ;bP=true}if(bN<=L&&bO>=L){return!bP}return bP};y.isPointInCircle=function(L,bN){var bO=Math.pow(L.x-bN.center.x,2)+Math.pow(L.y-bN.center.y,2);var bP=bN.radius*bN.radius;var bQ=bO<bP;return bQ};y.isPointInWedge=function(L,bN,bO,bP){if(!y.isPointInCircle(L,bN)){return false}var bQ=L.x-bN.center.x;var bR=L.y-bN.center.y;var bS=Math.atan2(bR,bQ);bS=y.normalizeAngle(bS);return y.isInBetweenAngles(bS,bO,bP)};y.rectIntersectsWedge=function(L,bN,bO,bP){var bQ=y.$0(L);for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];if(y.isPointInWedge(bS,bN,bO,bP)){return true}}if(tab.RectXYUtil.inRectPointF(L,bN.center)){return true}var bT=y.$3(bN,bO,bP);return y.polygonIntersectsRect(bT,L)};y.polygonIntersectsWedge=function(L,bN,bO,bP){if(L.length===0){return false}if(y.isPointInWedge({x:L[0],y:L[1]},bN,bO,bP)){return true}if(y.isPointInPoly(L,bN.center)){return true}var bQ=y.$3(bN,bO,bP);return y.$7(bQ,L)};y.circleIntersectsWedge=function(L,bN,bO,bP){if(L.radius<=0){return false}if(y.isPointInWedge(L.center,bN,bO,bP)){return true}if(y.isPointInCircle(bN.center,L)){return true}var bQ=y.$3(bN,bO,bP);return y.polygonIntersectsCircle(bQ,L)};y.$3=function(L,bN,bO){while(bN>bO){bO+=y.twoPI}var bP=bN;var bQ=new Array(4);bQ[0]=L.center.x;bQ[1]=L.center.y;bQ[2]=L.center.x+Math.cos(bP)*L.radius;bQ[3]=L.center.y+Math.sin(bP)*L.radius;while(bP<bO){var bR=Math.min(bP+y.$a,bO);bQ.push(L.center.x+Math.cos(bR)*L.radius);bQ.push(L.center.y+Math.sin(bR)*L.radius);bP=bR}return bQ};y.areRectanglesIntersecting=function(L,bN){return tab.RectXYUtil.intersectsWith(L,bN)};y.getSquaredDistanceToCenter=function(L,bN){var bO=L.x+L.w/2;var bP=L.y+L.h/2;var bQ=bO-bN.x;var bR=bP-bN.y;return bQ*bQ+bR*bR};y.getSquaredDistanceToNearestSide=function(L,bN){var bO=L.y;var bP=L.y+L.h;var bQ=L.x;var bR=L.x+L.w;var bS,bT;if(bN.x<bQ){bS=bQ-bN.x}else if(bN.x>bR){bS=bN.x-bR}else{bS=0}if(bN.y<bO){bT=bO-bN.y}else if(bN.y>bP){bT=bN.y-bP}else{bT=0}return bS*bS+bT*bT};y.getSquaredDistanceToCircumference=function(L,bN){var bO=Math.sqrt(y.getSquaredDistanceToCenter(L,bN))-Math.min(L.w,L.h)/2;bO=Math.max(bO,0);return bO*bO};y.getSquaredDistanceToLineSegment=function(L,bN,bO){var bP,bQ;if(bO.x<bN.x){var bR=bN;bN=bO;bO=bR}var bS=bO.x-bN.x;var bT=bO.y-bN.y;var bU=bS*bS+bT*bT;if(bU===0){bP=L.x-bN.x;bQ=L.y-bN.y;return bP*bP+bQ*bQ}var bV=((L.x-bN.x)*bS+(L.y-bN.y)*bT)/bU;var bW;var bX;if(bV<0){bW=bN.x;bX=bN.y}else if(bV>1){bW=bO.x;bX=bO.y}else{bW=bN.x+bV*bS;bX=bN.y+bV*bT}bP=L.x-bW;bQ=L.y-bX;return bP*bP+bQ*bQ};y.degreeToRad=function(L){return L*(Math.PI/180)};y.radToDegree=function(L){return L*(180/Math.PI)};y.haversineDistance=function(L,bN,bO){var bP=y.degreeToRad(bN.item1-L.item1);var bQ=y.degreeToRad(L.item2);var bR=y.degreeToRad(bN.item2);var bS=bR-bQ;var bT=Math.pow(Math.sin(bS/2),2)+Math.cos(bQ)*Math.cos(bR)*Math.pow(Math.sin(bP/2),2);var bU=2*Math.atan2(Math.sqrt(bT),Math.sqrt(1-bT));return bU*bO};y.$6=function(L,bN,bO,bP,bQ,bR){return(bO-L)*(bR-bN)-(bQ-L)*(bP-bN)};y.$0=function(L){var bN=new Array(4);bN[0]={x:L.x,y:L.y};bN[1]={x:L.x+L.w,y:L.y};bN[2]={x:L.x+L.w,y:L.y+L.h};bN[3]={x:L.x,y:L.y+L.h};return bN};y.$2=function(L){var bN=new Array(8);bN[0]=L.x;bN[1]=L.y;bN[2]=L.x+L.w;bN[3]=L.y;bN[4]=bN[2];bN[5]=L.y+L.h;bN[6]=L.x;bN[7]=bN[5];return bN};y.$1=function(L){var bN=new Array(8);bN[0]=L.x;bN[1]=L.y;bN[2]=L.x+L.w;bN[3]=L.y;bN[4]=bN[2];bN[5]=L.y+L.h;bN[6]=L.x;bN[7]=bN[5];return bN};global.tab.GeometryUtil=y;var z=function(L){this.$b=null;this.$a=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!tab.BrowserSupport.get_isGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$b=L;this.$a=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.get_button().element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$9))})));this.get_button().addToDom(this.element)};z.__typeName='tab.GotoMyLocationButton';z.$0=function(){if(tab.BrowserSupport.get_isChrome()&&tab.BrowserSupport.get_googleChromeVersion()>=50){return true}if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()>=10){return true}if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=10){return true}return false};global.tab.GotoMyLocationButton=z;var A=function(L,bN,bO,bP,bQ,bR,bS){this.$E=null;this.$F=null;this.$D=null;Y.call(this,L,bN);this.$F={};var bT=tab.ApplicationModel.get_instance().get_shapeManager().get_imageKeys();var bU=ss.getKeyCount(tab.SceneDataUtil.shapeMapping)+bT.length;var bV=2;var bW=bQ-4;var bX=bR-4;var bY=bO-bW/2;var bZ=bP-bX/2;var ca=bQ-1;var cb=bR-1;var cc=bO-ca/2;var cd=bP-cb/2;var ce=this.$C(bU);var cf=this.$C(bU);var cg=this.$C(bU);var ch=this.$C(bU);var ci=this.$C(bU);var cj=this.$C(bU);for(var ck=0;ck<bU;ck++){var cl;if(ck<ss.getKeyCount(tab.SceneDataUtil.shapeMapping)){cl=_.keys(tab.SceneDataUtil.shapeMapping)[ck];cg.dataValues[ck]=bW;ch.dataValues[ck]=bX;ci.dataValues[ck]=bY;cj.dataValues[ck]=bZ}else{cl=bT[ck-ss.getKeyCount(tab.SceneDataUtil.shapeMapping)];cg.dataValues[ck]=ca;ch.dataValues[ck]=cb;ci.dataValues[ck]=cc;cj.dataValues[ck]=cd}this.$F[cl]=ck;cf.dataValues[ck]=cl;ce.dataValues[ck]=ck.toString()}var cm={};cm.encodingColumns={};cm.encodingColumns['shape_id']=cf;cm.encodingColumns['tuple_id']=ce;cm.encodingColumns['size']=cg;cm.encodingColumns['width']=cg;cm.encodingColumns['height']=ch;cm.encodingColumns['left']=ci;cm.encodingColumns['top']=cj;cm.intMap={};cm.intMap['color']=(new tab.ColorModel(0,0,0,1)).toArgbInt();cm.intMap['background_color']=bS.toArgbInt();cm.floatMap={};cm.floatMap['x']=bO;cm.floatMap['y']=bP;var cn={};cn.paneRect={};cn.paneRect.y=0;cn.paneRect.x=0;cn.paneRect.w=bQ;cn.paneRect.h=bR;var co={};co.startIndex=0;co.endIndex=bU;var cp=new bo;this.$E=new ba.$ctor1('pdKey',cp,cn,co,cm,null,'pdKey')};A.__typeName='tab.HackyShapeSwatchRenderer';global.tab.HackyShapeSwatchRenderer=A;var B=function(){};B.__typeName='tab.HitResultHitType';global.tab.HitResultHitType=B;var C=function(L,bN,bO,bP,bQ){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=L;if(ss.isNullOrUndefined(bP)||tab.RectXYUtil.isEmpty(bP)){this.$2=null}else{this.$2=bP}if(ss.isNullOrUndefined(bO)){this.$4=-1}else{this.$4=bO}if(ss.isNullOrUndefined(bQ)){this.$9=0}else{this.$9=bQ}this.$3=bN;this.$1=[]};C.__typeName='tab.HitTargetNode';C.findPaneNode=function(L){if(ss.isNullOrUndefined(L)){return null}while(L.$3!==0){if(L.get_nodeType()===1){return L}L=L.get_parent()}return null};C.createRootNode=function(){return new C({x:0,y:0,w:9999999,h:9999999},0)};global.tab.HitTargetNode=C;var D=function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var L=$('.tab-tvView .tabCanvas');this.$4=L.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)};D.__typeName='tab.HitTestDebugger';D.get_instance=function(){if(ss.isNullOrUndefined(D.$1)){D.$1=new D}return D.$1};global.tab.HitTestDebugger=D;var E=function(L){this.$5=null;this.$5=L};E.__typeName='tab.HitTester';E.$0=function(L,bN,bO,bP,bQ){switch(bQ){case'area':{return Y.areaMarkExactHitTest(L,bN.x-bP,bN.y,bO)}case'line':{return Y.lineMarkExactHitTest(L,bN.x-bP,bN.y,bO)}case'multipolygon':{return Y.multipolygonMarkExactHitTest(L,bN.x-bP,bN.y,bO)}case'pie':{return Y.pieMarkExactHitTest(L,bN.x-bP,bN.y,bO)}case'shape':{return Y.shapeMarkExactHitTest(L,bN.x-bP,bN.y,bO)}case'bar':case'square':{return Y.barMarkExactHitTest(L,bN.x-bP,bN.y,bO)}case'text':{return Y.textMarkExactHitTest(L,bN.x-bP,bN.y,bO)}default:{var bR={x:bN.x-Math.round(bP),y:bN.y,w:bN.w,h:bN.h};return tab.RectXYUtil.intersectsWith(bR,L.getMarkBounds(bO))}}};E.$1=function(L,bN,bO,bP,bQ){switch(bQ){case'line':{return Y.lineMarkNearHitTest(L,bN.x-bP,bN.y,bO)}case'multipolygon':{return Y.multipolygonMarkNearHitTest(L,bN.x-bP,bN.y,bO)}case'shape':{return Y.shapeMarkNearHitTest(L,bN.x-bP,bN.y,bO)}case'bar':case'square':{return Y.barMarkNearHitTest(L,bN.x-bP,bN.y,bO)}case'text':{return Y.textMarkNearHitTest(L,bN.x-bP,bN.y,bO)}case'area':{return Y.areaMarkNearHitTest(L,bN.x-bP,bN.y,bO)}default:{return false}}};E.rectangleAreaHit=function(L,bN,bO,bP,bQ,bR){var bS=(bQ.get_isNull()?bO:tab.RectXYUtil.offsetRectF(bO,{x:-bQ.get_translateX(),y:-bQ.get_translateY()}));switch(bR){case'area':{return Y.areaMarkRectangleAreaHitTest(L,bS,bP)}case'line':{return Y.lineMarkRectangleAreaHitTest(L,bS,bP)}case'multipolygon':{return Y.multipolygonMarkRectangleAreaHitTest(L,bS,bP)}case'pie':{return Y.pieMarkRectangleAreaHitTest(L,bS,bP)}case'shape':{return Y.shapeMarkRectangleAreaHitTest(L,bS,bP)}case'text':{return Y.textMarkRectangleAreaHitTest(L,bS,bP)}case'bar':case'square':{return Y.barMarkRectangleAreaHitTest(L,bS,bP)}default:{return tab.RectXYUtil.intersectsWith(bO,bN)}}};E.circleAreaHit=function(L,bN,bO,bP,bQ,bR,bS){var bT=(bQ.get_isNull()?bO:tab.CircleUtil.offsetCircle(bO,{x:-bQ.get_translateX(),y:-bQ.get_translateY()}));var bU=(bQ.get_isNull()?bN:tab.RectXYUtil.offsetRectF(bN,{x:-bQ.get_translateX(),y:-bQ.get_translateY()}));switch(bR){case'area':{return Y.areaMarkCircleAreaHitTest(L,bT,bP,bU,bS)}case'line':{return Y.lineMarkCircleAreaHitTest(L,bT,bP,bU,bS)}case'multipolygon':{return Y.multipolygonMarkCircleAreaHitTest(L,bT,bP,bU,bS)}case'pie':{return Y.pieMarkCircleAreaHitTest(L,bT,bP,bS)}case'shape':{return Y.shapeMarkCircleAreaHitTest(L,bT,bP,bS)}case'text':{return Y.textMarkCircleAreaHitTest(L,bT,bP,bU,bS)}case'bar':case'square':{return Y.barMarkCircleAreaHitTest(L,bT,bP,bU,bS)}default:{return y.circleIntersectsRect(bO,bN)}}};E.polyAreaHit=function(L,bN,bO,bP,bQ,bR){var bS=(bQ.get_isNull()?bN:tab.RectXYUtil.offsetRectF(bN,{x:-bQ.get_translateX(),y:-bQ.get_translateY()}));switch(bR){case'area':{return Y.areaMarkPolygonAreaHitTest(L,bO,bP,bS)}case'line':{return Y.lineMarkPolygonAreaHitTest(L,bO,bP,bS)}case'multipolygon':{return Y.multipolygonMarkPolygonAreaHitTest(L,bO,bP,bS)}case'pie':{return Y.pieMarkPolygonAreaHitTest(L,bO,bP)}case'shape':{return Y.shapeMarkPolygonAreaHitTest(L,bO,bP)}case'text':{return Y.textMarkPolygonAreaHitTest(L,bO,bP,bS)}case'bar':case'square':{return Y.barMarkPolygonAreaHitTest(L,bO,bP,bS)}default:{return y.polygonIntersectsRect(bO,bS)}}};E.getTransformInfo=function(L,bN){var bO=L.paneRect;var bP=bN.get_worldOffset();return tab.Transform.offset(bO.x+bP,bO.y)};global.tab.HitTester=E;var F=function(L){F.$ctor1.call(this,L.get_index(),(ss.keyExists(F.$1,L.get_visualPart())?F.$1[L.get_visualPart()]:1),(ss.keyExists(F.$0,L.get_hitType())?F.$0[L.get_hitType()]:0))};F.__typeName='tab.HitTestResult';F.$ctor1=function(L,bN,bO){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=L;this.$0=bN;this.$1=bO;this.$3=bO!==0};F.tieBreak=function(L,bN){if(L.get_hitType()>bN.get_hitType()||L.get_hitType()===bN.get_hitType()&&(L.get_hitObjectType()>bN.get_hitObjectType()||L.get_hitObjectType()===bN.get_hitObjectType()&&L.get_id()>bN.get_id())){return L}return bN};F.getIdsFromHitTestResults=function(L,bN){var bO=new Set;for(var bP=0;bP<L.length;bP++){var bQ=L[bP];bO.add(bQ.get_id())}var bR=tab.SetUtilities.getValues(ss.Int32).call(null,bO);if(bN){bR.sort(function(bS,bT){return bS-bT})}return bR};F.hasExactHit=function(L){for(var bN=0;bN<L.length;bN++){var bO=L[bN];if(bO.get_hitType()===3){return true}}return false};F.tieBreakHits=function(L,bN){var bO=new F.$ctor1(0,0,0);var bP=new F.$ctor1(0,0,0);for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];if(bR.get_hitType()===3){return bR}if(bR.get_hitType()!==0&&bO.get_hitType()===0){bO=bR}}for(var bS=0;bS<bN.length;bS++){var bT=bN[bS];if(bT.get_hitType()===3){return bT}if(bT.get_hitType()!==0&&bP.get_hitType()===0){bP=bT}}if(bO.get_hitType()!==0){return bO}if(bP.get_hitType()!==0){return bP}return new F.$ctor1(0,0,0)};global.tab.HitTestResult=F;var G=function(){};G.__typeName='tab.HitTestStructureBuilder';G.buildBinnedHitTestStructure=function(L,bN){var bO=C.createRootNode();var bP=0;var bQ=L.scene.panes;for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=G.$2(bS);for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];var bW=L.getPaneDrawInfo(bV);var bX=bW.get_mapExtentOrPaneRect();var bY=new C(bX,1);var bZ=bo.getPaneMarksKey(bV);bY.set_paneKey(bZ);bY.set_paneIndex(bV.paneIndex);bY.set_paneOrderIndex(bP++);bO.addNode(bY);var ca=Math.ceil(bX.w/bN);for(var cb=0;cb<bN;++cb){var cc=cb*ca+bX.x;var cd=bX.y;var ce=ca;var cf=bX.h;var cg=new C({x:cc,y:cd,w:ce,h:cf},2);bY.addNode(cg)}var ch=G.buildMarkBounds(bW,0,bW.markCount-1,bW.getAllMarkBounds());for(var ci=0;ci<ch.length;ci++){var cj=ch[ci];var ck=bY.get_children();for(var cl=0;cl<ck.length;cl++){var cm=ck[cl];if(tab.RectXYUtil.intersectsWith(cj.get_boundingBox(),cm.get_boundingBox())){cm.addNode(cj)}}}}}return bO};G.buildLinearHitTestStructure=function(L){var bN=C.createRootNode();var bO=0;var bP=L.scene.panes;for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];var bS=G.$2(bR);for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];var bV=L.getPaneDrawInfo(bU);if(!ss.isValue(bV)){continue}var bW=G.$0(bU,bV,bO);bN.addNode(bW);bO++}}return bN};G.buildTrendLineHitTestStructure=function(L,bN,bO){var bP=L.pointsF;var bQ=L.pathElements;var bR=Math.floor(bP.length/2);if(bR<2){return new C({x:0,y:0,w:0,h:0},0)}var bS=[];var bT=0;for(var bU=0;bU<bQ.length;bU++){var bV=bQ[bU];switch(bV){case'moveto':{{bT+=2}break}case'lineto':{{if(ss.isValue(bP[bT+3])){var bW=[bP[bT],bP[bT+1],bP[bT+2],bP[bT+3]];var bX=ss.Int32.trunc(Math.min(bW[0],bW[2]));var bY=ss.Int32.trunc(Math.min(bW[1],bW[3]));var bZ=ss.Int32.trunc(Math.max(bW[0],bW[2]))-bX;var ca=ss.Int32.trunc(Math.max(bW[1],bW[3]))-bY;var cb={x:bX,y:bY,w:bZ,h:ca};cb=tab.RectXYUtil.dialate(cb,ss.Int32.trunc(bN));var cc=new C(cb,5,bO);bS.push(cc)}bT+=2}break}case'curveto':{{bT+=6}break}default:{{}break}}}var cd=G.$1(bS,4);return cd};G.buildMarkBounds=function(L,bN,bO,bP){var bQ=bO-bN+1;var bR=[];var bS=0;for(var bT=bN;bT<=bO;++bT){var bU=bP[bT].item1;var bV=bP[bT].item2;var bW=L.getMarkInstanceOffsets(bT);var bX=bW.length;for(var bY=0;bY<bX;bY++){var bZ=bU;var ca=bV;var cb=bW[bY];if(cb!==0){var cc=ss.Int32.trunc(cb);bZ=tab.RectXYUtil.offsetRectXY(bU,cc,0);ca=(ss.isValue(bV)?tab.RectXYUtil.offsetRectXY(bV,cc,0):null)}bR[bS]=new C(bZ,3,bT,ca,cb);++bS}}return bR};G.print=function(L,bN){var bO='';var bP=bN;while(bP>0){bO+=' ';--bP}console.log(bO+L.get_objectId());if(L.get_nodeType()!==3){L.get_children().forEach(function(bQ){G.print(bQ,bN+1)})}};G.$2=function(L){var bN=[];for(var bO=0;bO<L.drawPane.length;bO++){var bP=L.drawPane[bO];if(bP.visualPart==='marks'){bN.push(bP.paneMarks)}}return bN};G.$1=function(L,bN){var bO=L;while(bO.length>1){var bP=[];for(var bQ=0;bQ<bO.length;bQ+=bN){var bR=bN;var bS=bO.length-bQ;if(bS<bN){bR=bS}var bT=[];var bU=null;for(var bV=0;bV<bR;++bV){var bW=bO[bQ+bV];bT.push(bW);if(bV===0){bU={x:bW.get_boundingBox().x,y:bW.get_boundingBox().y,w:bW.get_boundingBox().w,h:bW.get_boundingBox().h}}else{bU=tab.RectXYUtil.union(bU,bT[bV].get_boundingBox())}}var bX=new C(bU,4);bX.addNodes(bT);bP.push(bX)}bO=bP}if(bO.length!==1){}var bY=C.createRootNode();bY.addNodes(bO);return bY};G.$0=function(L,bN,bO){var bP=bN.get_mapExtentOrPaneRect();var bQ=new C(bP,1);var bR=bo.getPaneMarksKey(L);bQ.set_paneKey(bR);bQ.set_paneIndex(L.paneIndex);bQ.set_paneOrderIndex(bO);var bS=(bN.hasUserPanes?bN.userPaneCount:1);var bT=bN.paneRect.x;var bU=bN.paneRect.y;var bV=bN.getAllMarkBounds();for(var bW=0;bW<bS;++bW){var bX=tab.RectXYUtil.offsetRectXY(bN.getUserPaneRectByIndex(bW),bT,bU);var bY=new C(bX,6);var bZ=bN.getUserPaneMarkRange(bW);var ca=G.buildMarkBounds(bN,bZ.firstMark,bZ.lastMark,bV);bY.addNodes(ca);bQ.addNode(bY)}return bQ};global.tab.HitTestStructureBuilder=G;var H=function(L,bN,bO,bP,bQ){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=L;this.$1=bN;this.$3=bO;this.$0=bP;this.$4=bQ};H.__typeName='tab.ImageDownloaderImageData';global.tab.ImageDownloaderImageData=H;var I=function(L){this.$0=null;ss.EventArgs.call(this);this.$0=L};I.__typeName='tab.ImageLoadedEventArgs';global.tab.ImageLoadedEventArgs=I;var J=function(){};J.__typeName='tab.IMapsSearchViewTemplate';global.tab.IMapsSearchViewTemplate=J;var K=function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=K.defaultHighlightBgColor;this.selectionBgColor=K.defaultSelectionBgColor;this.highlightTextColor=K.defaultHighlightTextColor;this.selectionTextColor=K.defaultSelectionTextColor};K.__typeName='tab.InteractionColorModel';K.extractInteractionColors=function(L){var bN=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightBgColor);var bO=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightTextColor);var bP=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectBgColor);var bQ=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectionTextColor);if(!bN&&!bP&&!bQ&&!bO){return K.defaultColors}var bR=new K;bR.highlightBgColor=(bN?tab.ColorModel.fromColorCode(L.highlightBgColor):bR.highlightBgColor);bR.selectionBgColor=(bP?tab.ColorModel.fromColorCode(L.selectBgColor):bR.selectionBgColor);bR.highlightTextColor=(bO?tab.ColorModel.fromColorCode(L.highlightTextColor):bR.highlightTextColor);bR.selectionTextColor=(bQ?tab.ColorModel.fromColorCode(L.selectionTextColor):bR.selectionTextColor);return bR};global.tab.InteractionColorModel=K;var M=function(){};M.__typeName='tab.IRegionContentProvider';global.tab.IRegionContentProvider=M;var N=function(){};N.__typeName='tab.IRuntimeUIModule';global.tab.IRuntimeUIModule=N;var O=function(){};O.__typeName='tab.IZoomToolbarContainer';global.tab.IZoomToolbarContainer=O;var P=function(){this.$h=null;this.$l=null;this.$j=null;this.$k=null;this.$n=null;this.$o=0;this.$m=false;this.$i=null};P.__typeName='tab.LeafletMapControl';P.$0=function(L){var bN=256;var bO=document.createElement('canvas');bO.width=bN;bO.height=bN;var bP=tab.CanvasRenderer.getRenderContext(bO,'transparent');bP.set_shapeFillStyle(L);bP.fillRect(0,0,256,256);var bQ=bO.toDataURL('png',null);return bQ};P.$1=function(bN){return new L.LatLng(bN.item1,bN.item2)};global.tab.LeafletMapControl=P;var Q=function(L){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=L;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0};Q.__typeName='tab.LineAttribute';global.tab.LineAttribute=Q;var R=function(L){this.$1=null;this.$1=[];this.$0(L)};R.__typeName='tab.LineMarkDrawState';global.tab.LineMarkDrawState=R;var S=function(L,bN){bI.call(this,L,bN)};S.__typeName='tab.LocalRenderVizHitTester';global.tab.LocalRenderVizHitTester=S;var T=function(){this.attributionBackground=null;this.attributionLink=null;spiff.Template.call(this,$(T.$0));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink')};T.__typeName='tab.MapAttributionTemplate';global.tab.MapAttributionTemplate=T;var U=function(L,bN){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[V,Object,Object]).call(this,tab.ObjectRegistry.newView(V).call(null,[L.viewModel]),L,bN);this.get_widget().set_isVisible(true);this.get_widget().set_isCollapsed(true)};U.__typeName='tab.MapsSearchComponent';global.tab.MapsSearchComponent=U;var V=function(L,bN){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$l=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$o=null;this.$m=false;this.$n=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[W]).call(this,L,bN.get_template());this.mapsSearchViewModel=L;this.mapsSearchViewTemplate=bN;this.mapsSearchView=bN.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$l.get_domRoot());this.$l.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.add_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.add_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.add_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.add_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.add_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.add_blurInputElementCalled(ss.mkdel(this,this.$a));this.$i();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.remove_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.remove_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.remove_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.remove_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.remove_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.remove_blurInputElementCalled(ss.mkdel(this,this.$a));this.$h()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$e)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$f)));if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new z(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}};V.__typeName='tab.MapsSearchView';V.newMapsSearchViewTemplate=function(){return new e};global.tab.MapsSearchView=V;var W=function(L){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;spiff.BaseViewModel.call(this);this.$2=L};W.__typeName='tab.MapsSearchViewModel';global.tab.MapsSearchViewModel=W;var X=function(){};X.__typeName='tab.MarkRange';X.isInstanceOfType=function(){return true};global.tab.MarkRange=X;var Y=function(L,bN){tab.CanvasRenderer.call(this,L,bN)};Y.__typeName='tab.MarksRenderer';Y.multipolygonMarkBuildMarkBound=function(L,bN){var bO='empty';var bP=L.getMarkGeometry(L.c.get('geometry').gv(bN));if(ss.isValue(bP)){bO=bP.geometryType}switch(bO){case'multiPolygon':{var bQ={x:0,y:0,w:0,h:0};{var bR=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)));Y.bBoxGeometry(bQ,bR,0,L.getMarkGeometry(L.c.get('geometry').gv(bN)))}return bQ;break}case'multiLineString':{var bS={x:0,y:0,w:0,h:0};{var bT=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)));Y.bBoxGeometry(bS,bT,L.c.get('size').gv(bN)/2,L.getMarkGeometry(L.c.get('geometry').gv(bN)))}return bS;break}case'multiPoint':{var bU={x:0,y:0,w:0,h:0};{var bV=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)));Y.bBoxGeometry(bU,bV,3.5,L.getMarkGeometry(L.c.get('geometry').gv(bN)))}return bU;break}case'empty':{var bW={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(bW,L.c.get('x').gv(bN),L.c.get('y').gv(bN),3.5)}return bW;break}default:{break}}return{x:0,y:0,w:0,h:0}};Y.multipolygonMarkExactHitTest=function(L,bN,bO,bP){var bQ=y.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP));var bR='empty';var bS=L.getMarkGeometry(L.c.get('geometry').gv(bP));if(ss.isValue(bS)){bR=bS.geometryType}switch(bR){case'multiPolygon':{{if(y.isPointInMultipolygon(bS.multiPolygon,bQ.transformPoint({x:bN,y:bO}))){return true}}return false;break}case'multiLineString':{{if(y.isPointInMultiLineString(bS.multiLine,bQ.transformPoint({x:bN,y:bO}),L.c.get('size').gv(bP))){return true}}return false;break}case'multiPoint':{{if(y.isPointInMultipoint(bS.multiPoint,bQ.transformPoint({x:bN,y:bO}),3.5)){return true}}return false;break}case'empty':{{if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bP),y:L.c.get('y').gv(bP)},radius:3})){return true}}return false;break}default:{break}}return true};Y.multipolygonMarkNearHitTest=function(L,bN,bO,bP){var bQ=y.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP));var bR='empty';var bS=L.getMarkGeometry(L.c.get('geometry').gv(bP));if(ss.isValue(bS)){bR=bS.geometryType}switch(bR){case'multiPolygon':{return false;break}case'multiLineString':{{if(y.isPointInMultiLineString(bS.multiLine,bQ.transformPoint({x:bN,y:bO}),L.c.get('size').gv(bP)+20)){return true}}return false;break}case'multiPoint':{return false;break}case'empty':{return false;break}default:{break}}return false};Y.multipolygonMarkGetHitTestExpansion=function(L,bN){var bO=null;{bO={w:10,h:10}}return bO;return{w:0,h:0}};Y.multipolygonMarkGetDistanceToMark=function(L,bN,bO,bP){var bQ='empty';var bR=L.getMarkGeometry(L.c.get('geometry').gv(bP));if(ss.isValue(bR)){bQ=bR.geometryType}switch(bQ){case'multiPolygon':{return y.getSquaredDistanceToCenter(L.getMarkBounds(bP),{x:bN,y:bO});break}case'multiLineString':{return y.getSquaredDistanceToCenter(L.getMarkBounds(bP),{x:bN,y:bO});break}case'multiPoint':{return y.getSquaredDistanceToCenter(L.getMarkBounds(bP),{x:bN,y:bO});break}case'empty':{return y.getSquaredDistanceToCenter(L.getMarkBounds(bP),{x:bN,y:bO});break}default:{break}}return y.getSquaredDistanceToCenter(L.getMarkBounds(bP),{x:bN,y:bO})};Y.multipolygonMarkRectangleAreaHitTest=function(L,bN,bO){var bP=y.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bO));var bQ='empty';var bR=L.getMarkGeometry(L.c.get('geometry').gv(bO));if(ss.isValue(bR)){bQ=bR.geometryType}switch(bQ){case'multiPolygon':{{if(y.multipolygonIntersectsDoubleRect(bR.multiPolygon,bP.transformRect(bN))){return true}}return false;break}case'multiLineString':{{if(y.multiLineStringIntersectsDoubleRect(bR.multiLine,bP.transformRect(bN),L.c.get('size').gv(bO))){return true}}return false;break}case'multiPoint':{{if(y.multipointIntersectsDoubleRect(bR.multiPoint,bP.transformRect(bN),3.5)){return true}}return false;break}case'empty':{{if(y.circleIntersectsRect({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:3},bN)){return true}}return false;break}default:{break}}return true};Y.multipolygonMarkCircleAreaHitTest=function(L,bN,bO,bP,bQ){var bR=y.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bO));if(bQ){var bS='empty';var bT=L.getMarkGeometry(L.c.get('geometry').gv(bO));if(ss.isValue(bT)){bS=bT.geometryType}switch(bS){case'multiPolygon':{break}case'multiLineString':{{{if(y.multiLineStringIntersectsCircle(bT.multiLine,bR.transformCircle(bN),0)){return true}}return false}break}case'multiPoint':{{{if(y.multipointIntersectsCircle(bT.multiPoint,bR.transformCircle(bN),0)){return true}}return false}break}case'empty':{{{return y.isPointInCircle({x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},bN)}}break}default:{break}}}{var bU='empty';var bV=L.getMarkGeometry(L.c.get('geometry').gv(bO));if(ss.isValue(bV)){bU=bV.geometryType}switch(bU){case'multiPolygon':{{if(y.multipolygonIntersectsCircle(bV.multiPolygon,bR.transformCircle(bN))){return true}}return false;break}case'multiLineString':{{if(y.multiLineStringIntersectsCircle(bV.multiLine,bR.transformCircle(bN),L.c.get('size').gv(bO))){return true}}return false;break}case'multiPoint':{{if(y.multipointIntersectsCircle(bV.multiPoint,bR.transformCircle(bN),3.5)){return true}}return false;break}case'empty':{{if(y.circleIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:3})){return true}}return false;break}default:{break}}}return y.circleIntersectsRect(bN,bP)};Y.multipolygonMarkPolygonAreaHitTest=function(L,bN,bO,bP){var bQ=y.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bO));var bR='empty';var bS=L.getMarkGeometry(L.c.get('geometry').gv(bO));if(ss.isValue(bS)){bR=bS.geometryType}switch(bR){case'multiPolygon':{{if(y.multipolygonIntersectsPolygon(bS.multiPolygon,bQ.transformPolygon(bN))){return true}}return false;break}case'multiLineString':{{if(y.multiLineStringIntersectsPolygon(bS.multiLine,bQ.transformPolygon(bN),L.c.get('size').gv(bO))){return true}}return false;break}case'multiPoint':{{if(y.multipointIntersectsPolygon(bS.multiPoint,bQ.transformPolygon(bN),3.5)){return true}}return false;break}case'empty':{{if(y.polygonIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:3})){return true}}return false;break}default:{break}}return y.polygonIntersectsRect(bN,bP)};Y.areaMarkBuildMarkBound=function(L,bN){var bO=L.c.get('l_neighbor').gv(bN);var bP=L.c.get('r_neighbor').gv(bN);var bQ=L.lineInterpolation;var bR=L.lineMarkerPosition;var bS={x:0,y:0,w:0,h:0};if(bO!==-1){var bT=tab.RectXYUtil.rectXYFromCorners$1(L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),(L.c.get('x_next').gv(bO)+L.c.get('x_prev').gv(bN))/2,(L.c.get('y_next').gv(bO)+L.c.get('y_prev').gv(bN))/2);tab.RectXYUtil.unionInPlace(bS,bT);var bU=tab.RectXYUtil.rectXYFromCorners$1((L.c.get('x1').gv(bO)+L.c.get('x1').gv(bN))/2,(L.c.get('y1').gv(bO)+L.c.get('y1').gv(bN))/2,L.c.get('x_prev').gv(bN),L.c.get('y_prev').gv(bN));tab.RectXYUtil.unionInPlace(bS,bU);tab.RectXYUtil.outsetRectInPlace(bS,10,10)}if(bP!==-1){var bV=tab.RectXYUtil.rectXYFromCorners$1(L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),(L.c.get('x_prev').gv(bP)+L.c.get('x_next').gv(bN))/2,(L.c.get('y_prev').gv(bP)+L.c.get('y_next').gv(bN))/2);tab.RectXYUtil.unionInPlace(bS,bV);var bW=tab.RectXYUtil.rectXYFromCorners$1((L.c.get('x1').gv(bP)+L.c.get('x1').gv(bN))/2,(L.c.get('y1').gv(bP)+L.c.get('y1').gv(bN))/2,L.c.get('x_next').gv(bN),L.c.get('y_next').gv(bN));tab.RectXYUtil.unionInPlace(bS,bW);tab.RectXYUtil.outsetRectInPlace(bS,10,10)}if(bO===-1&&bP===-1){var bX=tab.RectXYUtil.rectXYFromCorners$1(L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),L.c.get('x').gv(bN),L.c.get('y').gv(bN));{var bY=20-bX.w;var bZ=20-bX.h;if(bY>0||bZ>0){bX=tab.RectXYUtil.outsetRect(bX,Math.max(0,Math.ceil(bY/2)),Math.max(0,Math.ceil(bZ/2)))}}tab.RectXYUtil.unionInPlace(bS,bX)}return bS};Y.areaMarkExactHitTest=function(L,bN,bO,bP){var bQ=L.c.get('l_neighbor').gv(bP);var bR=L.c.get('r_neighbor').gv(bP);var bS=L.lineInterpolation;var bT=L.lineMarkerPosition;if(bQ!==-1){var bU=new Array(8);bU[0]=L.c.get('x1').gv(bP);bU[1]=L.c.get('y1').gv(bP);bU[2]=(L.c.get('x1').gv(bQ)+L.c.get('x1').gv(bP))/2;bU[3]=(L.c.get('y1').gv(bQ)+L.c.get('y1').gv(bP))/2;bU[4]=(L.c.get('x_next').gv(bQ)+L.c.get('x_prev').gv(bP))/2;bU[5]=(L.c.get('y_next').gv(bQ)+L.c.get('y_prev').gv(bP))/2;bU[6]=L.c.get('x_prev').gv(bP);bU[7]=L.c.get('y_prev').gv(bP);if(y.isPointInPoly(bU,{x:bN,y:bO},0)){return true}}if(bR!==-1){var bV=new Array(8);bV[0]=L.c.get('x1').gv(bP);bV[1]=L.c.get('y1').gv(bP);bV[2]=(L.c.get('x1').gv(bR)+L.c.get('x1').gv(bP))/2;bV[3]=(L.c.get('y1').gv(bR)+L.c.get('y1').gv(bP))/2;bV[4]=(L.c.get('x_prev').gv(bR)+L.c.get('x_next').gv(bP))/2;bV[5]=(L.c.get('y_prev').gv(bR)+L.c.get('y_next').gv(bP))/2;bV[6]=L.c.get('x_next').gv(bP);bV[7]=L.c.get('y_next').gv(bP);if(y.isPointInPoly(bV,{x:bN,y:bO},0)){return true}}if(bQ===-1&&bR===-1){return true}return false};Y.areaMarkNearHitTest=function(L,bN,bO,bP){var bQ=L.c.get('l_neighbor').gv(bP);var bR=L.c.get('r_neighbor').gv(bP);var bS=L.lineInterpolation;var bT=L.lineMarkerPosition;if(bQ!==-1){var bU=new Array(8);bU[0]=L.c.get('x1').gv(bP);bU[1]=L.c.get('y1').gv(bP);bU[2]=(L.c.get('x1').gv(bQ)+L.c.get('x1').gv(bP))/2;bU[3]=(L.c.get('y1').gv(bQ)+L.c.get('y1').gv(bP))/2;bU[4]=(L.c.get('x_next').gv(bQ)+L.c.get('x_prev').gv(bP))/2;bU[5]=(L.c.get('y_next').gv(bQ)+L.c.get('y_prev').gv(bP))/2;bU[6]=L.c.get('x_prev').gv(bP);bU[7]=L.c.get('y_prev').gv(bP);if(y.isPointInPoly(bU,{x:bN,y:bO},10)){return true}}if(bR!==-1){var bV=new Array(8);bV[0]=L.c.get('x1').gv(bP);bV[1]=L.c.get('y1').gv(bP);bV[2]=(L.c.get('x1').gv(bR)+L.c.get('x1').gv(bP))/2;bV[3]=(L.c.get('y1').gv(bR)+L.c.get('y1').gv(bP))/2;bV[4]=(L.c.get('x_prev').gv(bR)+L.c.get('x_next').gv(bP))/2;bV[5]=(L.c.get('y_prev').gv(bR)+L.c.get('y_next').gv(bP))/2;bV[6]=L.c.get('x_next').gv(bP);bV[7]=L.c.get('y_next').gv(bP);if(y.isPointInPoly(bV,{x:bN,y:bO},10)){return true}}if(bQ===-1&&bR===-1){return true}return false};Y.areaMarkGetHitTestExpansion=function(L,bN){return{w:0,h:0}};Y.areaMarkGetDistanceToMark=function(L,bN,bO,bP){var bQ=L.c.get('l_neighbor').gv(bP);var bR=L.c.get('r_neighbor').gv(bP);var bS=L.c.get('x1').gv(bP);var bT=L.c.get('y1').gv(bP);var bU=L.c.get('x_prev').gv(bP);var bV=L.c.get('y_prev').gv(bP);var bW=L.c.get('x_next').gv(bP);var bX=L.c.get('y_next').gv(bP);var bY;{var bZ=bN-bS;var ca=bO-bT;var cb=bZ*bZ+ca*ca;bY=cb}if(bQ!==-1){var cc=(L.c.get('x1').gv(bQ)+bS)/2;var cd=(L.c.get('y1').gv(bQ)+bT)/2;var ce=(L.c.get('x_next').gv(bQ)+bS)/2;var cf=(L.c.get('y_next').gv(bQ)+bT)/2;var cg={x:(bS+bU)/2,y:(bT+bV)/2};var ch={x:(cc+ce)/2,y:(cd+cf)/2};var ci=y.getSquaredDistanceToLineSegment({x:bN,y:bO},cg,ch);bY=Math.min(bY,ci)}else{var cj={x:bS,y:bT};var ck={x:bW,y:bX};var cl=y.getSquaredDistanceToLineSegment({x:bN,y:bO},cj,ck);bY=Math.min(bY,cl)}if(bR!==-1){var cm=(L.c.get('x1').gv(bR)+bS)/2;var cn=(L.c.get('y1').gv(bR)+bT)/2;var co=(L.c.get('x_prev').gv(bR)+bS)/2;var cp=(L.c.get('y_prev').gv(bR)+bT)/2;var cq={x:(bS+bW)/2,y:(bT+bX)/2};var cr={x:(cm+co)/2,y:(cn+cp)/2};var cs=y.getSquaredDistanceToLineSegment({x:bN,y:bO},cq,cr);bY=Math.min(bY,cs)}else if(bQ!==-1){var ct={x:bS,y:bT};var cu={x:bU,y:bV};var cv=y.getSquaredDistanceToLineSegment({x:bN,y:bO},ct,cu);bY=Math.min(bY,cv)}return bY};Y.areaMarkRectangleAreaHitTest=function(L,bN,bO){{if(y.circleIntersectsRect({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:2.5},bN)){return true}}{if(y.circleIntersectsRect({center:{x:L.c.get('x1').gv(bO),y:L.c.get('y1').gv(bO)},radius:2.5},bN)){return true}}return false};Y.areaMarkCircleAreaHitTest=function(L,bN,bO,bP,bQ){if(bQ){}{if(y.circleIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:2.5})){return true}}{if(y.circleIntersectsCircle(bN,{center:{x:L.c.get('x1').gv(bO),y:L.c.get('y1').gv(bO)},radius:2.5})){return true}}return false};Y.areaMarkPolygonAreaHitTest=function(L,bN,bO,bP){{if(y.polygonIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:2.5})){return true}}{if(y.polygonIntersectsCircle(bN,{center:{x:L.c.get('x1').gv(bO),y:L.c.get('y1').gv(bO)},radius:2.5})){return true}}return false};Y.getMarkLabelBoundingBox=function(L,bN){var bO={x:0,y:0,w:0,h:0};{var bP=L.getMarkLabelProperty('x',bN);var bQ=L.getMarkLabelProperty('y',bN);var bR=L.getMarkLabelProperty('width',bN);var bS=-L.getMarkLabelProperty('height',bN);bP+=0;bQ+=0;if(bS<0){bQ+=bS;bS=Math.abs(bS)}tab.RectXYUtil.set$1(bO,Math.floor(bP),Math.floor(bQ),Math.floor(bR),Math.floor(bS))}return bO};Y.pieMarkExactHitTest=function(L,bN,bO,bP){var bQ=L.c.get('size').gv(bP)/2;var bR=L.c.get('theta').gv(bP);var bS=L.c.get('theta1').gv(bP);if(bR>bS){var bT=bR;bR=bS;bS=bT}var bU={x:L.c.get('x').gv(bP),y:L.c.get('y').gv(bP)};var bV={center:bU,radius:bQ};if(bS-bR>=1){return y.isPointInCircle({x:bN,y:bO},bV)}bR=tab.CanvasRenderer.toCanvasAngle(bR);bS=tab.CanvasRenderer.toCanvasAngle(bS);bR=y.normalizeAngle(bR);bS=y.normalizeAngle(bS);return y.isPointInWedge({x:bN,y:bO},bV,bR,bS)};Y.pieMarkRectangleAreaHitTest=function(L,bN,bO){var bP=L.c.get('size').gv(bO)/2;var bQ=L.c.get('theta').gv(bO);var bR=L.c.get('theta1').gv(bO);if(bQ>bR){var bS=bQ;bQ=bR;bR=bS}var bT={x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)};var bU={center:bT,radius:bP};if(bR-bQ>=1){return y.circleIntersectsRect(bU,bN)}bQ=tab.CanvasRenderer.toCanvasAngle(bQ);bR=tab.CanvasRenderer.toCanvasAngle(bR);bQ=y.normalizeAngle(bQ);bR=y.normalizeAngle(bR);return y.rectIntersectsWedge(bN,{center:bT,radius:bP},bQ,bR)};Y.pieMarkPolygonAreaHitTest=function(L,bN,bO){var bP=L.c.get('size').gv(bO)/2;var bQ=L.c.get('theta').gv(bO);var bR=L.c.get('theta1').gv(bO);if(bQ>bR){var bS=bQ;bQ=bR;bR=bS}var bT={x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)};var bU={center:bT,radius:bP};if(bR-bQ>=1){return y.polygonIntersectsCircle(bN,bU)}bQ=tab.CanvasRenderer.toCanvasAngle(bQ);bR=tab.CanvasRenderer.toCanvasAngle(bR);bQ=y.normalizeAngle(bQ);bR=y.normalizeAngle(bR);return y.polygonIntersectsWedge(bN,{center:bT,radius:bP},bQ,bR)};Y.pieMarkCircleAreaHitTest=function(L,bN,bO,bP){if(bP){{{return y.isPointInCircle({x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},bN)}}}var bQ=L.c.get('size').gv(bO)/2;var bR=L.c.get('theta').gv(bO);var bS=L.c.get('theta1').gv(bO);if(bR>bS){var bT=bR;bR=bS;bS=bT}var bU={x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)};var bV={center:bU,radius:bQ};if(bS-bR>=1){return y.circleIntersectsCircle(bV,bN)}bR=tab.CanvasRenderer.toCanvasAngle(bR);bS=tab.CanvasRenderer.toCanvasAngle(bS);bR=y.normalizeAngle(bR);bS=y.normalizeAngle(bS);return y.circleIntersectsWedge(bN,{center:bU,radius:bQ},bR,bS)};Y.getPieBoundingBox=function(L,bN){var bO={x:0,y:0,w:0,h:0};var bP=L.c.get('size').gv(bN)/2;{tab.RectXYUtil.unionInPlace(bO,Y.$1(L.c.get('x').gv(bN),L.c.get('y').gv(bN),bP,L.c.get('theta').gv(bN),L.c.get('theta1').gv(bN)))}if(L.c.get('draw_border').gv(bN)){tab.RectXYUtil.unionInPlace(bO,Y.$1(L.c.get('x').gv(bN),L.c.get('y').gv(bN),bP,L.c.get('theta').gv(bN),L.c.get('theta1').gv(bN)))}return bO};Y.textMarkBuildMarkBound=function(L,bN){var bO={x:0,y:0,w:0,h:0};if(!(L.clipCase!==0&&L.useCellClipForSelection)){var bP=L.c.get('x').gv(bN);var bQ=L.c.get('y').gv(bN);var bR=L.c.get('width').gv(bN);var bS=-L.c.get('height').gv(bN);bP+=-L.c.get('width').gv(bN)/2;bQ+=L.c.get('height').gv(bN)/2;if(bS<0){bQ+=bS;bS=Math.abs(bS)}tab.RectXYUtil.set$1(bO,Math.floor(bP),Math.floor(bQ),Math.floor(bR),Math.floor(bS))}if(L.clipCase!==0&&L.useCellClipForSelection){var bT=L.c.get('x').gv(bN);var bU=L.c.get('y').gv(bN);var bV=L.c.get('clip_width').gv(bN);var bW=-L.c.get('clip_height').gv(bN);bT+=-L.c.get('clip_width').gv(bN)/2;bU+=L.c.get('clip_height').gv(bN)/2;if(bW<0){bU+=bW;bW=Math.abs(bW)}tab.RectXYUtil.set$1(bO,Math.floor(bT),Math.floor(bU),Math.floor(bV),Math.floor(bW))}return bO};Y.textMarkExactHitTest=function(L,bN,bO,bP){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return Y.$7(L.c.get('y').gv(bP)+L.c.get('height').gv(bP)/2,L.c.get('x').gv(bP)+-L.c.get('width').gv(bP)/2,-L.c.get('height').gv(bP),L.c.get('width').gv(bP),0,0,L.minBarHeight,L.minBarWidth,bN,bO)}if(L.clipCase!==0&&L.useCellClipForSelection){return Y.$7(L.c.get('y').gv(bP)+L.c.get('clip_height').gv(bP)/2,L.c.get('x').gv(bP)+-L.c.get('clip_width').gv(bP)/2,-L.c.get('clip_height').gv(bP),L.c.get('clip_width').gv(bP),0,0,L.minBarHeight,L.minBarWidth,bN,bO)}return false};Y.textMarkNearHitTest=function(L,bN,bO,bP){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return Y.$7(L.c.get('y').gv(bP)+(L.c.get('height').gv(bP)/2+10),L.c.get('x').gv(bP)+(-L.c.get('width').gv(bP)/2-10),-L.c.get('height').gv(bP)-20,L.c.get('width').gv(bP)+20,0,0,L.minBarHeight,L.minBarWidth,bN,bO)}if(L.clipCase!==0&&L.useCellClipForSelection){return Y.$7(L.c.get('y').gv(bP)+L.c.get('clip_height').gv(bP)/2,L.c.get('x').gv(bP)+-L.c.get('clip_width').gv(bP)/2,-L.c.get('clip_height').gv(bP),L.c.get('clip_width').gv(bP),0,0,L.minBarHeight,L.minBarWidth,bN,bO)}return false};Y.textMarkGetHitTestExpansion=function(L,bN){var bO=null;if(!(L.clipCase!==0&&L.useCellClipForSelection)){bO={w:10,h:10}}if(L.clipCase!==0&&L.useCellClipForSelection){bO={w:L.c.get('clip_width').gv(bN)/2,h:L.c.get('clip_height').gv(bN)/2}}return bO};Y.textMarkGetDistanceToMark=function(L,bN,bO,bP){var bQ=L.getMarkBounds(bP);return y.getSquaredDistanceToNearestSide(bQ,{x:bN,y:bO})};Y.textMarkRectangleAreaHitTest=function(L,bN,bO){return true};Y.textMarkCircleAreaHitTest=function(L,bN,bO,bP,bQ){if(bQ){{{return y.isPointInCircle({x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},bN)}}}return y.circleIntersectsRect(bN,bP)};Y.textMarkPolygonAreaHitTest=function(L,bN,bO,bP){return y.polygonIntersectsRect(bN,bP)};Y.barMarkBuildMarkBound=function(L,bN){var bO={x:0,y:0,w:0,h:0};var bP=ss.Int32.trunc(L.c.get('size').gv(bN)+0.5)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var bQ=L.c.get('y').gv(bN);var bR=L.c.get('y1').gv(bN);var bS=L.c.get('x').gv(bN);var bT=L.c.get('x1').gv(bN);Y.$2(L,bO,bQ,bS,bR,bT)}if(!L.scaleMarksInX&&L.scaleMarksInY){var bU=L.c.get('y').gv(bN);var bV=L.c.get('y1').gv(bN);var bW=L.c.get('x').gv(bN)-bP;var bX=L.c.get('x').gv(bN)+bP;Y.$2(L,bO,bU,bW,bV,bX)}if(L.scaleMarksInX&&!L.scaleMarksInY){var bY=L.c.get('y').gv(bN)-bP;var bZ=L.c.get('y').gv(bN)+bP;var ca=L.c.get('x').gv(bN);var cb=L.c.get('x1').gv(bN);Y.$2(L,bO,bY,ca,bZ,cb)}if(!L.scaleMarksInX&&!L.scaleMarksInY){var cc=L.c.get('y').gv(bN)-bP;var cd=L.c.get('y').gv(bN)+bP;var ce=L.c.get('x').gv(bN)-bP;var cf=L.c.get('x').gv(bN)+bP;Y.$2(L,bO,cc,ce,cd,cf)}return bO};Y.barMarkExactHitTest=function(L,bN,bO,bP){var bQ=L.c.get('size').gv(bP)/2;var bR=L.c.get('size').gv(bP)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var bS=Math.floor(Math.min(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var bT=Math.ceil(Math.max(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var bU=Math.floor(Math.min(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var bV=Math.ceil(Math.max(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var bW={x:bU,y:bS,w:bV-bU,h:bT-bS};tab.RectXYUtil.outsetRectInPlace(bW,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(bW,bN,bO)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY){var bX=Math.floor(Math.min(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var bY=Math.ceil(Math.max(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var bZ=Math.floor(Math.min(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var ca=Math.ceil(Math.max(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cb={x:bZ,y:bX,w:ca-bZ,h:bY-bX};tab.RectXYUtil.outsetRectInPlace(cb,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cb,bN,bO)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY){var cc=Math.floor(Math.min(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cd=Math.ceil(Math.max(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var ce=Math.floor(Math.min(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var cf=Math.ceil(Math.max(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var cg={x:ce,y:cc,w:cf-ce,h:cd-cc};tab.RectXYUtil.outsetRectInPlace(cg,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cg,bN,bO)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY){var ch=Math.floor(Math.min(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var ci=Math.ceil(Math.max(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cj=Math.floor(Math.min(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var ck=Math.ceil(Math.max(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cl={x:cj,y:ch,w:ck-cj,h:ci-ch};tab.RectXYUtil.outsetRectInPlace(cl,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cl,bN,bO)){return true}}return false};Y.barMarkNearHitTest=function(L,bN,bO,bP){var bQ=L.c.get('clip_width').gv(bP)/2;var bR=L.c.get('clip_height').gv(bP)/2;var bS=L.c.get('size').gv(bP)/2;var bT=L.c.get('size').gv(bP)/2;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var bU=Math.floor(Math.min(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var bV=Math.ceil(Math.max(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var bW=Math.floor(Math.min(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var bX=Math.ceil(Math.max(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var bY={x:bW,y:bU,w:bX-bW,h:bV-bU};tab.RectXYUtil.outsetRectInPlace(bY,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(bY,bN,bO)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var bZ=Math.floor(Math.min(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var ca=Math.ceil(Math.max(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var cb=Math.floor(Math.min(L.c.get('x').gv(bP)-bS,L.c.get('x').gv(bP)+bS));var cc=Math.ceil(Math.max(L.c.get('x').gv(bP)-bS,L.c.get('x').gv(bP)+bS));var cd={x:cb,y:bZ,w:cc-cb,h:ca-bZ};tab.RectXYUtil.outsetRectInPlace(cd,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cd,bN,bO)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var ce=Math.floor(Math.min(L.c.get('y').gv(bP)-bT,L.c.get('y').gv(bP)+bT));var cf=Math.ceil(Math.max(L.c.get('y').gv(bP)-bT,L.c.get('y').gv(bP)+bT));var cg=Math.floor(Math.min(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var ch=Math.ceil(Math.max(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var ci={x:cg,y:ce,w:ch-cg,h:cf-ce};tab.RectXYUtil.outsetRectInPlace(ci,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(ci,bN,bO)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var cj=Math.floor(Math.min(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var ck=Math.ceil(Math.max(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var cl=Math.floor(Math.min(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cm=Math.ceil(Math.max(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cn={x:cl,y:cj,w:cm-cl,h:ck-cj};tab.RectXYUtil.outsetRectInPlace(cn,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cn,bN,bO)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var co=Math.floor(Math.min(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cp=Math.ceil(Math.max(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cq=Math.floor(Math.min(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var cr=Math.ceil(Math.max(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var cs={x:cq,y:co,w:cr-cq,h:cp-co};tab.RectXYUtil.outsetRectInPlace(cs,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cs,bN,bO)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var ct=Math.floor(Math.min(L.c.get('y').gv(bP)-bT,L.c.get('y').gv(bP)+bT));var cu=Math.ceil(Math.max(L.c.get('y').gv(bP)-bT,L.c.get('y').gv(bP)+bT));var cv=Math.floor(Math.min(L.c.get('x').gv(bP)-bS,L.c.get('x').gv(bP)+bS));var cw=Math.ceil(Math.max(L.c.get('x').gv(bP)-bS,L.c.get('x').gv(bP)+bS));var cx={x:cv,y:ct,w:cw-cv,h:cu-ct};tab.RectXYUtil.outsetRectInPlace(cx,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cx,bN,bO)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var cy=Math.floor(Math.min(L.c.get('y').gv(bP)-bT,L.c.get('y').gv(bP)+bT));var cz=Math.ceil(Math.max(L.c.get('y').gv(bP)-bT,L.c.get('y').gv(bP)+bT));var cA=Math.floor(Math.min(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cB=Math.ceil(Math.max(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cC={x:cA,y:cy,w:cB-cA,h:cz-cy};tab.RectXYUtil.outsetRectInPlace(cC,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cC,bN,bO)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var cD=Math.floor(Math.min(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cE=Math.ceil(Math.max(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cF=Math.floor(Math.min(L.c.get('x').gv(bP)-bS,L.c.get('x').gv(bP)+bS));var cG=Math.ceil(Math.max(L.c.get('x').gv(bP)-bS,L.c.get('x').gv(bP)+bS));var cH={x:cF,y:cD,w:cG-cF,h:cE-cD};tab.RectXYUtil.outsetRectInPlace(cH,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cH,bN,bO)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cI=Math.floor(Math.min(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cJ=Math.ceil(Math.max(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cK=Math.floor(Math.min(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cL=Math.ceil(Math.max(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cM={x:cK,y:cI,w:cL-cK,h:cJ-cI};tab.RectXYUtil.outsetRectInPlace(cM,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cM,bN,bO)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cN=Math.floor(Math.min(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cO=Math.ceil(Math.max(L.c.get('y').gv(bP)-bR,L.c.get('y').gv(bP)+bR));var cP=Math.floor(Math.min(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var cQ=Math.ceil(Math.max(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var cR={x:cP,y:cN,w:cQ-cP,h:cO-cN};tab.RectXYUtil.outsetRectInPlace(cR,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cR,bN,bO)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cS=Math.floor(Math.min(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var cT=Math.ceil(Math.max(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var cU=Math.floor(Math.min(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cV=Math.ceil(Math.max(L.c.get('x').gv(bP)-bQ,L.c.get('x').gv(bP)+bQ));var cW={x:cU,y:cS,w:cV-cU,h:cT-cS};tab.RectXYUtil.outsetRectInPlace(cW,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cW,bN,bO)){return true}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cX=Math.floor(Math.min(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var cY=Math.ceil(Math.max(L.c.get('y').gv(bP),L.c.get('y1').gv(bP)));var cZ=Math.floor(Math.min(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var da=Math.ceil(Math.max(L.c.get('x').gv(bP),L.c.get('x1').gv(bP)));var db={x:cZ,y:cX,w:da-cZ,h:cY-cX};tab.RectXYUtil.outsetRectInPlace(db,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(db,bN,bO)){return true}}return false};Y.barMarkGetHitTestExpansion=function(L,bN){var bO=null;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bO={w:10,h:10}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bO={w:5,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bO={w:10,h:5}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){bO={w:L.c.get('clip_width').gv(bN)/2,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){bO={w:10,h:L.c.get('clip_height').gv(bN)/2}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bO={w:5,h:5}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){bO={w:5,h:L.c.get('clip_height').gv(bN)}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){bO={w:L.c.get('clip_width').gv(bN)/2,h:10}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bO={w:L.c.get('clip_width').gv(bN)/2,h:L.c.get('clip_height').gv(bN)/2}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bO={w:L.c.get('clip_width').gv(bN)/2,h:L.c.get('clip_height').gv(bN)/2}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bO={w:L.c.get('clip_width').gv(bN)/2,h:L.c.get('clip_height').gv(bN)/2}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bO={w:L.c.get('clip_width').gv(bN)/2,h:L.c.get('clip_height').gv(bN)/2}}return bO};Y.barMarkGetDistanceToMark=function(L,bN,bO,bP){var bQ=L.getMarkBounds(bP);return y.getSquaredDistanceToNearestSide(bQ,{x:bN,y:bO})};Y.barMarkRectangleAreaHitTest=function(L,bN,bO){return true};Y.barMarkCircleAreaHitTest=function(L,bN,bO,bP,bQ){if(bQ){if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){{return y.isPointInCircle({x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},bN)}}}return y.circleIntersectsRect(bN,bP)};Y.barMarkPolygonAreaHitTest=function(L,bN,bO,bP){return y.polygonIntersectsRect(bN,bP)};Y.lineMarkBuildMarkBound=function(L,bN){var bO=L.c.get('l_neighbor').gv(bN);var bP=L.c.get('r_neighbor').gv(bN);var bQ=L.lineInterpolation;var bR=L.lineMarkerPosition;var bS={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(bS,L.c.get('x').gv(bN),L.c.get('y').gv(bN),(L.c.get('size').gv(bN)+20)/2)}if(bO!==-1&&bQ==='lim-linear'){Y.$0(bS,(L.c.get('x').gv(bO)+L.c.get('x').gv(bN))/2,(L.c.get('y').gv(bO)+L.c.get('y').gv(bN))/2,(L.c.get('size').gv(bO)+L.c.get('size').gv(bN))/2+20,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20)}if(bP!==-1&&bQ==='lim-linear'){Y.$0(bS,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,(L.c.get('x').gv(bN)+L.c.get('x').gv(bP))/2,(L.c.get('y').gv(bN)+L.c.get('y').gv(bP))/2,(L.c.get('size').gv(bN)+L.c.get('size').gv(bP))/2+20)}if(bP!==-1&&(bQ==='lim-step'||bQ==='lim-jump')&&bR==='lmp-left'){tab.RectXYUtil.encompassCircleInPlace(bS,L.c.get('x').gv(bP),L.c.get('y').gv(bN),(L.c.get('size').gv(bN)+20)/2)}if(bO!==-1&&bQ==='lim-step'&&bR==='lmp-left'){Y.$0(bS,L.c.get('x').gv(bN),L.c.get('y').gv(bO),L.c.get('size').gv(bO)+20,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20)}if(bP!==-1&&(bQ==='lim-step'||bQ==='lim-jump')&&bR==='lmp-left'){Y.$0(bS,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,L.c.get('x').gv(bP),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20)}if(bO!==-1&&bQ==='lim-step'&&bR==='lmp-center'){Y.$0(bS,(L.c.get('x').gv(bO)+L.c.get('x').gv(bN))/2,(L.c.get('y').gv(bO)+L.c.get('y').gv(bN))/2,(L.c.get('size').gv(bO)+L.c.get('size').gv(bN))/2+20,(L.c.get('x').gv(bO)+L.c.get('x').gv(bN))/2,L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20)}if(bP!==-1&&bQ==='lim-step'&&bR==='lmp-center'){Y.$0(bS,(L.c.get('x').gv(bP)+L.c.get('x').gv(bN))/2,L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,(L.c.get('x').gv(bP)+L.c.get('x').gv(bN))/2,(L.c.get('y').gv(bN)+L.c.get('y').gv(bP))/2,(L.c.get('size').gv(bN)+L.c.get('size').gv(bP))/2+20)}if(bO!==-1&&(bQ==='lim-step'||bQ==='lim-jump')&&bR==='lmp-center'){Y.$0(bS,(L.c.get('x').gv(bO)+L.c.get('x').gv(bN))/2,L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20)}if(bP!==-1&&(bQ==='lim-step'||bQ==='lim-jump')&&bR==='lmp-center'){Y.$0(bS,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,(L.c.get('x').gv(bP)+L.c.get('x').gv(bN))/2,L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20)}if(bO!==-1&&(bQ==='lim-step'||bQ==='lim-jump')&&bR==='lmp-right'){tab.RectXYUtil.encompassCircleInPlace(bS,L.c.get('x').gv(bO),L.c.get('y').gv(bN),(L.c.get('size').gv(bN)+20)/2)}if(bP!==-1&&bQ==='lim-step'&&bR==='lmp-right'){Y.$0(bS,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,L.c.get('x').gv(bN),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)}if(bO!==-1&&(bQ==='lim-step'||bQ==='lim-jump')&&bR==='lmp-right'){Y.$0(bS,L.c.get('x').gv(bO),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20)}return bS};Y.lineMarkExactHitTest=function(L,bN,bO,bP){var bQ=L.c.get('l_neighbor').gv(bP);var bR=L.c.get('r_neighbor').gv(bP);var bS=L.lineInterpolation;var bT=L.lineMarkerPosition;{if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bP),y:L.c.get('y').gv(bP)},radius:L.c.get('size').gv(bP)/2})){return true}}if(bQ!==-1&&bS==='lim-linear'){if(Y.$8(bN,bO,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,(L.c.get('y').gv(bQ)+L.c.get('y').gv(bP))/2,(L.c.get('size').gv(bQ)+L.c.get('size').gv(bP))/2,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP))){return true}}if(bR!==-1&&bS==='lim-linear'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP),(L.c.get('x').gv(bP)+L.c.get('x').gv(bR))/2,(L.c.get('y').gv(bP)+L.c.get('y').gv(bR))/2,(L.c.get('size').gv(bP)+L.c.get('size').gv(bR))/2)){return true}}if(bR!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-left'){if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bP)},radius:L.c.get('size').gv(bP)/2})){return true}}if(bQ!==-1&&bS==='lim-step'&&bT==='lmp-left'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP))){return true}}if(bR!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-left'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP),L.c.get('x').gv(bR),L.c.get('y').gv(bP),L.c.get('size').gv(bP))){return true}}if(bQ!==-1&&bS==='lim-step'&&bT==='lmp-center'){if(Y.$8(bN,bO,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,(L.c.get('y').gv(bQ)+L.c.get('y').gv(bP))/2,(L.c.get('size').gv(bQ)+L.c.get('size').gv(bP))/2,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP))){return true}}if(bR!==-1&&bS==='lim-step'&&bT==='lmp-center'){if(Y.$8(bN,bO,(L.c.get('x').gv(bR)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP),(L.c.get('x').gv(bR)+L.c.get('x').gv(bP))/2,(L.c.get('y').gv(bP)+L.c.get('y').gv(bR))/2,(L.c.get('size').gv(bP)+L.c.get('size').gv(bR))/2)){return true}}if(bQ!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-center'){if(Y.$8(bN,bO,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP),L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP))){return true}}if(bR!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-center'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP),(L.c.get('x').gv(bR)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP))){return true}}if(bQ!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-right'){if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bQ),y:L.c.get('y').gv(bP)},radius:L.c.get('size').gv(bP)/2})){return true}}if(bR!==-1&&bS==='lim-step'&&bT==='lmp-right'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP),L.c.get('x').gv(bP),L.c.get('y').gv(bR),L.c.get('size').gv(bR))){return true}}if(bQ!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-right'){if(Y.$8(bN,bO,L.c.get('x').gv(bQ),L.c.get('y').gv(bP),L.c.get('size').gv(bP),L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP))){return true}}return false};Y.lineMarkNearHitTest=function(L,bN,bO,bP){var bQ=L.c.get('l_neighbor').gv(bP);var bR=L.c.get('r_neighbor').gv(bP);var bS=L.lineInterpolation;var bT=L.lineMarkerPosition;{if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bP),y:L.c.get('y').gv(bP)},radius:(L.c.get('size').gv(bP)+20)/2})){return true}}if(bQ!==-1&&bS==='lim-linear'){if(Y.$8(bN,bO,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,(L.c.get('y').gv(bQ)+L.c.get('y').gv(bP))/2,(L.c.get('size').gv(bQ)+L.c.get('size').gv(bP))/2+20,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)){return true}}if(bR!==-1&&bS==='lim-linear'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20,(L.c.get('x').gv(bP)+L.c.get('x').gv(bR))/2,(L.c.get('y').gv(bP)+L.c.get('y').gv(bR))/2,(L.c.get('size').gv(bP)+L.c.get('size').gv(bR))/2+20)){return true}}if(bR!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-left'){if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bP)},radius:(L.c.get('size').gv(bP)+20)/2})){return true}}if(bQ!==-1&&bS==='lim-step'&&bT==='lmp-left'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+20,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)){return true}}if(bR!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-left'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20,L.c.get('x').gv(bR),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)){return true}}if(bQ!==-1&&bS==='lim-step'&&bT==='lmp-center'){if(Y.$8(bN,bO,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,(L.c.get('y').gv(bQ)+L.c.get('y').gv(bP))/2,(L.c.get('size').gv(bQ)+L.c.get('size').gv(bP))/2+20,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)){return true}}if(bR!==-1&&bS==='lim-step'&&bT==='lmp-center'){if(Y.$8(bN,bO,(L.c.get('x').gv(bR)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20,(L.c.get('x').gv(bR)+L.c.get('x').gv(bP))/2,(L.c.get('y').gv(bP)+L.c.get('y').gv(bR))/2,(L.c.get('size').gv(bP)+L.c.get('size').gv(bR))/2+20)){return true}}if(bQ!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-center'){if(Y.$8(bN,bO,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)){return true}}if(bR!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-center'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20,(L.c.get('x').gv(bR)+L.c.get('x').gv(bP))/2,L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)){return true}}if(bQ!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-right'){if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bQ),y:L.c.get('y').gv(bP)},radius:(L.c.get('size').gv(bP)+20)/2})){return true}}if(bR!==-1&&bS==='lim-step'&&bT==='lmp-right'){if(Y.$8(bN,bO,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20,L.c.get('x').gv(bP),L.c.get('y').gv(bR),L.c.get('size').gv(bR)+20)){return true}}if(bQ!==-1&&(bS==='lim-step'||bS==='lim-jump')&&bT==='lmp-right'){if(Y.$8(bN,bO,L.c.get('x').gv(bQ),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20,L.c.get('x').gv(bP),L.c.get('y').gv(bP),L.c.get('size').gv(bP)+20)){return true}}return false};Y.lineMarkGetHitTestExpansion=function(L,bN){return{w:0,h:0}};Y.lineMarkGetDistanceToMark=function(L,bN,bO,bP){var bQ=L.c.get('l_neighbor').gv(bP);var bR=L.c.get('r_neighbor').gv(bP);var bS=L.c.get('x1').gv(bP);var bT=L.c.get('y1').gv(bP);var bU;{var bV=bN-bS;var bW=bO-bT;var bX=bV*bV+bW*bW;bU=bX}if(bQ!==-1){var bY={x:(L.c.get('x').gv(bQ)+bS)/2,y:(L.c.get('y').gv(bQ)+bT)/2};var bZ={x:bS,y:bT};var ca=y.getSquaredDistanceToLineSegment({x:bN,y:bO},bY,bZ);bU=Math.min(bU,ca)}if(bR!==-1){var cb={x:bS,y:bT};var cc={x:(L.c.get('x').gv(bR)+bS)/2,y:(L.c.get('y').gv(bR)+bT)/2};var cd=y.getSquaredDistanceToLineSegment({x:bN,y:bO},cb,cc);bU=Math.min(bU,cd)}return bU};Y.lineMarkRectangleAreaHitTest=function(L,bN,bO){{if(y.circleIntersectsRect({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)/2},bN)){return true}}return false};Y.lineMarkCircleAreaHitTest=function(L,bN,bO,bP,bQ){if(bQ){{{return y.isPointInCircle({x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},bN)}}}{if(y.circleIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)/2})){return true}}return false};Y.lineMarkPolygonAreaHitTest=function(L,bN,bO,bP){{if(y.polygonIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)/2})){return true}}return false};Y.shapeMarkBuildMarkBound=function(L,bN){var bO=L.c.get('shape_id').gv(bN);switch(bO){case'shapeIDCircle':{var bP={x:0,y:0,w:0,h:0};{var bQ=Math.round(L.c.get('x').gv(bN));var bR=Math.round(L.c.get('y').gv(bN));var bS=Math.ceil(L.c.get('size').gv(bN)*0.958333333333333/2);var bT=2*bS;tab.RectXYUtil.unionInPlace$1(bP,bQ-bS,bR-bS,bT,bT)}return bP}case'shapeIDFilledCircle':{var bU={x:0,y:0,w:0,h:0};{var bV=Math.round(L.c.get('x').gv(bN));var bW=Math.round(L.c.get('y').gv(bN));var bX=Math.ceil(L.c.get('size').gv(bN)*0.979166666666667/2);var bY=2*bX;tab.RectXYUtil.unionInPlace$1(bU,bV-bX,bW-bX,bY,bY)}return bU}case'shapeIDUnscaledFilledCircle':{var bZ={x:0,y:0,w:0,h:0};{var ca=Math.round(L.c.get('x').gv(bN));var cb=Math.round(L.c.get('y').gv(bN));var cc=Math.ceil(L.c.get('size').gv(bN)/2);var cd=2*cc;tab.RectXYUtil.unionInPlace$1(bZ,ca-cc,cb-cc,cd,cd)}return bZ}case'shapeIDSquare':{var ce={x:0,y:0,w:0,h:0};{var cf=Math.round(L.c.get('x').gv(bN));var cg=Math.round(L.c.get('y').gv(bN));var ch=Math.ceil(L.c.get('size').gv(bN)*0.895833333333333/2);var ci=2*ch;tab.RectXYUtil.unionInPlace$1(ce,cf-ch,cg-ch,ci,ci)}return ce}case'shapeIDFilledSquare':{var cj={x:0,y:0,w:0,h:0};{var ck=Math.round(L.c.get('x').gv(bN));var cl=Math.round(L.c.get('y').gv(bN));var cm=Math.ceil(L.c.get('size').gv(bN)*0.9375/2);var cn=2*cm;tab.RectXYUtil.unionInPlace$1(cj,ck-cm,cl-cm,cn,cn)}return cj}case'shapeIDAsterisk':{var co={x:0,y:0,w:0,h:0};{var cp=Math.round(L.c.get('x').gv(bN));var cq=Math.round(L.c.get('y').gv(bN));var cr=Math.ceil(L.c.get('size').gv(bN)*0.958333333333333/2);var cs=2*cr;tab.RectXYUtil.unionInPlace$1(co,cp-cr,cq-cr,cs,cs)}return co}case'shapeIDPlus':{var ct={x:0,y:0,w:0,h:0};{var cu=Math.round(L.c.get('x').gv(bN));var cv=Math.round(L.c.get('y').gv(bN));var cw=Math.ceil(L.c.get('size').gv(bN)*0.916666666666667/2);var cx=2*cw;tab.RectXYUtil.unionInPlace$1(ct,cu-cw,cv-cw,cx,cx)}return ct}case'shapeIDFilledPlus':{var cy={x:0,y:0,w:0,h:0};{var cz=Math.round(L.c.get('x').gv(bN));var cA=Math.round(L.c.get('y').gv(bN));var cB=Math.ceil(L.c.get('size').gv(bN)*0.9375/2);var cC=2*cB;tab.RectXYUtil.unionInPlace$1(cy,cz-cB,cA-cB,cC,cC)}return cy}case'shapeIDTimes':{var cD={x:0,y:0,w:0,h:0};{var cE=Math.round(L.c.get('x').gv(bN));var cF=Math.round(L.c.get('y').gv(bN));var cG=Math.ceil(L.c.get('size').gv(bN)*0.875/2);var cH=2*cG;tab.RectXYUtil.unionInPlace$1(cD,cE-cG,cF-cG,cH,cH)}return cD}case'shapeIDFilledTimes':{var cI={x:0,y:0,w:0,h:0};{var cJ=Math.round(L.c.get('x').gv(bN));var cK=Math.round(L.c.get('y').gv(bN));var cL=Math.ceil(L.c.get('size').gv(bN)*0.9375/2);var cM=2*cL;tab.RectXYUtil.unionInPlace$1(cI,cJ-cL,cK-cL,cM,cM)}return cI}case'shapeIDDiamond':{var cN={x:0,y:0,w:0,h:0};{var cO=Math.round(L.c.get('x').gv(bN));var cP=Math.round(L.c.get('y').gv(bN));var cQ=Math.ceil(L.c.get('size').gv(bN)*1.04166666666667/2);var cR=2*cQ;tab.RectXYUtil.unionInPlace$1(cN,cO-cQ,cP-cQ,cR,cR)}return cN}case'shapeIDFilledDiamond':{var cS={x:0,y:0,w:0,h:0};{var cT=Math.round(L.c.get('x').gv(bN));var cU=Math.round(L.c.get('y').gv(bN));var cV=Math.ceil(L.c.get('size').gv(bN)*1.04166666666667/2);var cW=2*cV;tab.RectXYUtil.unionInPlace$1(cS,cT-cV,cU-cV,cW,cW)}return cS}case'shapeIDTriangle':{var cX={x:0,y:0,w:0,h:0};{var cY=Math.round(L.c.get('x').gv(bN));var cZ=Math.round(L.c.get('y').gv(bN));var da=Math.ceil(L.c.get('size').gv(bN)*0.895833333333333/2);var db=2*da;tab.RectXYUtil.unionInPlace$1(cX,cY-da,cZ-da,db,db)}return cX}case'shapeIDFilledTriangle':{var dc={x:0,y:0,w:0,h:0};{var dd=Math.round(L.c.get('x').gv(bN));var de=Math.round(L.c.get('y').gv(bN));var df=Math.ceil(L.c.get('size').gv(bN)*0.916666666666667/2);var dg=2*df;tab.RectXYUtil.unionInPlace$1(dc,dd-df,de-df,dg,dg)}return dc}case'shapeIDDownTriangle':{var dh={x:0,y:0,w:0,h:0};{var di=Math.round(L.c.get('x').gv(bN));var dj=Math.round(L.c.get('y').gv(bN));var dk=Math.ceil(L.c.get('size').gv(bN)*0.895833333333333/2);var dl=2*dk;tab.RectXYUtil.unionInPlace$1(dh,di-dk,dj-dk,dl,dl)}return dh}case'shapeIDFilledDownTriangle':{var dm={x:0,y:0,w:0,h:0};{var dn=Math.round(L.c.get('x').gv(bN));var dp=Math.round(L.c.get('y').gv(bN));var dq=Math.ceil(L.c.get('size').gv(bN)*0.916666666666667/2);var dr=2*dq;tab.RectXYUtil.unionInPlace$1(dm,dn-dq,dp-dq,dr,dr)}return dm}case'shapeIDLeftTriangle':{var ds={x:0,y:0,w:0,h:0};{var dt=Math.round(L.c.get('x').gv(bN));var du=Math.round(L.c.get('y').gv(bN));var dv=Math.ceil(L.c.get('size').gv(bN)*0.895833333333333/2);var dw=2*dv;tab.RectXYUtil.unionInPlace$1(ds,dt-dv,du-dv,dw,dw)}return ds}case'shapeIDFilledLeftTriangle':{var dx={x:0,y:0,w:0,h:0};{var dy=Math.round(L.c.get('x').gv(bN));var dz=Math.round(L.c.get('y').gv(bN));var dA=Math.ceil(L.c.get('size').gv(bN)*0.916666666666667/2);var dB=2*dA;tab.RectXYUtil.unionInPlace$1(dx,dy-dA,dz-dA,dB,dB)}return dx}case'shapeIDRightTriangle':{var dC={x:0,y:0,w:0,h:0};{var dD=Math.round(L.c.get('x').gv(bN));var dE=Math.round(L.c.get('y').gv(bN));var dF=Math.ceil(L.c.get('size').gv(bN)*0.895833333333333/2);var dG=2*dF;tab.RectXYUtil.unionInPlace$1(dC,dD-dF,dE-dF,dG,dG)}return dC}case'shapeIDFilledRightTriangle':{var dH={x:0,y:0,w:0,h:0};{var dI=Math.round(L.c.get('x').gv(bN));var dJ=Math.round(L.c.get('y').gv(bN));var dK=Math.ceil(L.c.get('size').gv(bN)*0.916666666666667/2);var dL=2*dK;tab.RectXYUtil.unionInPlace$1(dH,dI-dK,dJ-dK,dL,dL)}return dH}case'shapeIDFilledStar':{var dM={x:0,y:0,w:0,h:0};{var dN=Math.round(L.c.get('x').gv(bN));var dO=Math.round(L.c.get('y').gv(bN));var dP=Math.ceil(L.c.get('size').gv(bN)*1.09166666666667/2);var dQ=2*dP;tab.RectXYUtil.unionInPlace$1(dM,dN-dP,dO-dP,dQ,dQ)}return dM}default:{if(bO>null){var dR=Math.round(L.c.get('x').gv(bN));var dS=Math.round(L.c.get('y').gv(bN));var dT=Math.ceil(L.c.get('size').gv(bN));var dU=Math.ceil(dT/2);var dV={x:dR-dU,y:dS-dU,w:dT,h:dT};return dV}break}}return{x:0,y:0,w:0,h:0}};Y.shapeMarkExactHitTest=function(L,bN,bO,bP){var bQ=L.c.get('shape_id').gv(bP);switch(bQ){case'shapeIDCircle':{{if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bP),y:L.c.get('y').gv(bP)},radius:L.c.get('size').gv(bP)*0.958333333333333/2})){return true}}return false}case'shapeIDFilledCircle':{{if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bP),y:L.c.get('y').gv(bP)},radius:L.c.get('size').gv(bP)*0.979166666666667/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(y.isPointInCircle({x:bN,y:bO},{center:{x:L.c.get('x').gv(bP),y:L.c.get('y').gv(bP)},radius:L.c.get('size').gv(bP)/2})){return true}}return false}case'shapeIDSquare':{{var bR=L.c.get('size').gv(bP)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bR,L.c.get('y').gv(bP)-bR,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,bN,bO)){return true}}return false}case'shapeIDFilledSquare':{{var bS=L.c.get('size').gv(bP)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bS,L.c.get('y').gv(bP)-bS,L.c.get('size').gv(bP)*0.9375,L.c.get('size').gv(bP)*0.9375,bN,bO)){return true}}return false}case'shapeIDAsterisk':{{var bT=L.c.get('size').gv(bP)*0.958333333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bT,L.c.get('y').gv(bP)-bT,L.c.get('size').gv(bP)*0.958333333333333,L.c.get('size').gv(bP)*0.958333333333333,bN,bO)){return true}}return false}case'shapeIDPlus':{{var bU=L.c.get('size').gv(bP)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bU,L.c.get('y').gv(bP)-bU,L.c.get('size').gv(bP)*0.916666666666667,L.c.get('size').gv(bP)*0.916666666666667,bN,bO)){return true}}return false}case'shapeIDFilledPlus':{{var bV=L.c.get('size').gv(bP)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bV,L.c.get('y').gv(bP)-bV,L.c.get('size').gv(bP)*0.9375,L.c.get('size').gv(bP)*0.9375,bN,bO)){return true}}return false}case'shapeIDTimes':{{var bW=L.c.get('size').gv(bP)*0.875/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bW,L.c.get('y').gv(bP)-bW,L.c.get('size').gv(bP)*0.875,L.c.get('size').gv(bP)*0.875,bN,bO)){return true}}return false}case'shapeIDFilledTimes':{{var bX=L.c.get('size').gv(bP)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bX,L.c.get('y').gv(bP)-bX,L.c.get('size').gv(bP)*0.9375,L.c.get('size').gv(bP)*0.9375,bN,bO)){return true}}return false}case'shapeIDDiamond':{{var bY=L.c.get('size').gv(bP)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bY,L.c.get('y').gv(bP)-bY,L.c.get('size').gv(bP)*1.04166666666667,L.c.get('size').gv(bP)*1.04166666666667,bN,bO)){return true}}return false}case'shapeIDFilledDiamond':{{var bZ=L.c.get('size').gv(bP)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-bZ,L.c.get('y').gv(bP)-bZ,L.c.get('size').gv(bP)*1.04166666666667,L.c.get('size').gv(bP)*1.04166666666667,bN,bO)){return true}}return false}case'shapeIDTriangle':{{var ca=L.c.get('size').gv(bP)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-ca,L.c.get('y').gv(bP)-ca,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,bN,bO)){return true}}return false}case'shapeIDFilledTriangle':{{var cb=L.c.get('size').gv(bP)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-cb,L.c.get('y').gv(bP)-cb,L.c.get('size').gv(bP)*0.916666666666667,L.c.get('size').gv(bP)*0.916666666666667,bN,bO)){return true}}return false}case'shapeIDDownTriangle':{{var cc=L.c.get('size').gv(bP)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-cc,L.c.get('y').gv(bP)-cc,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,bN,bO)){return true}}return false}case'shapeIDFilledDownTriangle':{{var cd=L.c.get('size').gv(bP)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-cd,L.c.get('y').gv(bP)-cd,L.c.get('size').gv(bP)*0.916666666666667,L.c.get('size').gv(bP)*0.916666666666667,bN,bO)){return true}}return false}case'shapeIDLeftTriangle':{{var ce=L.c.get('size').gv(bP)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-ce,L.c.get('y').gv(bP)-ce,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,bN,bO)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var cf=L.c.get('size').gv(bP)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-cf,L.c.get('y').gv(bP)-cf,L.c.get('size').gv(bP)*0.916666666666667,L.c.get('size').gv(bP)*0.916666666666667,bN,bO)){return true}}return false}case'shapeIDRightTriangle':{{var cg=L.c.get('size').gv(bP)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-cg,L.c.get('y').gv(bP)-cg,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,bN,bO)){return true}}return false}case'shapeIDFilledRightTriangle':{{var ch=L.c.get('size').gv(bP)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-ch,L.c.get('y').gv(bP)-ch,L.c.get('size').gv(bP)*0.916666666666667,L.c.get('size').gv(bP)*0.916666666666667,bN,bO)){return true}}return false}case'shapeIDFilledStar':{{var ci=L.c.get('size').gv(bP)*1.09166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-ci,L.c.get('y').gv(bP)-ci,L.c.get('size').gv(bP)*1.09166666666667,L.c.get('size').gv(bP)*1.09166666666667,bN,bO)){return true}}return false}default:{if(bQ>null){var cj=L.c.get('size').gv(bP);var ck=cj/2;return tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bP)-ck,L.c.get('y').gv(bP)-ck,cj,cj,bN,bO)}break}}return true};Y.shapeMarkNearHitTest=function(L,bN,bO,bP){var bQ=L.c.get('shape_id').gv(bP);switch(bQ){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false};Y.shapeMarkGetHitTestExpansion=function(L,bN){var bO=null;{bO={w:10,h:10}}return bO};Y.shapeMarkGetDistanceToMark=function(L,bN,bO,bP){var bQ=L.c.get('shape_id').gv(bP);switch(bQ){case'shapeIDCircle':{var bR=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bR,{x:bN,y:bO})}case'shapeIDFilledCircle':{var bS=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bS,{x:bN,y:bO})}case'shapeIDUnscaledFilledCircle':{var bT=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bT,{x:bN,y:bO})}case'shapeIDSquare':{var bU=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bU,{x:bN,y:bO})}case'shapeIDFilledSquare':{var bV=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bV,{x:bN,y:bO})}case'shapeIDAsterisk':{var bW=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bW,{x:bN,y:bO})}case'shapeIDPlus':{var bX=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bX,{x:bN,y:bO})}case'shapeIDFilledPlus':{var bY=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bY,{x:bN,y:bO})}case'shapeIDTimes':{var bZ=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(bZ,{x:bN,y:bO})}case'shapeIDFilledTimes':{var ca=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(ca,{x:bN,y:bO})}case'shapeIDDiamond':{var cb=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(cb,{x:bN,y:bO})}case'shapeIDFilledDiamond':{var cc=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(cc,{x:bN,y:bO})}case'shapeIDTriangle':{var cd=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(cd,{x:bN,y:bO})}case'shapeIDFilledTriangle':{var ce=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(ce,{x:bN,y:bO})}case'shapeIDDownTriangle':{var cf=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(cf,{x:bN,y:bO})}case'shapeIDFilledDownTriangle':{var cg=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(cg,{x:bN,y:bO})}case'shapeIDLeftTriangle':{var ch=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(ch,{x:bN,y:bO})}case'shapeIDFilledLeftTriangle':{var ci=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(ci,{x:bN,y:bO})}case'shapeIDRightTriangle':{var cj=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(cj,{x:bN,y:bO})}case'shapeIDFilledRightTriangle':{var ck=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(ck,{x:bN,y:bO})}case'shapeIDFilledStar':{var cl=L.getMarkBounds(bP);return y.getSquaredDistanceToCircumference(cl,{x:bN,y:bO})}default:{break}}return y.getSquaredDistanceToCenter(L.getMarkBounds(bP),{x:bN,y:bO})};Y.shapeMarkRectangleAreaHitTest=function(L,bN,bO){var bP=L.c.get('shape_id').gv(bO);switch(bP){case'shapeIDCircle':{return y.circleIntersectsRect({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)*0.958333333333333/2},bN)}case'shapeIDFilledCircle':{return y.circleIntersectsRect({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)*0.979166666666667/2},bN)}case'shapeIDUnscaledFilledCircle':{return y.circleIntersectsRect({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)/2},bN)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true};Y.shapeMarkCircleAreaHitTest=function(L,bN,bO,bP){if(bP){{{return y.isPointInCircle({x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},bN)}}}var bQ=L.c.get('shape_id').gv(bO);switch(bQ){case'shapeIDCircle':{return y.circleIntersectsCircle({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)*0.958333333333333/2},bN)}case'shapeIDFilledCircle':{return y.circleIntersectsCircle({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)*0.979166666666667/2},bN)}case'shapeIDUnscaledFilledCircle':{return y.circleIntersectsCircle({center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)/2},bN)}case'shapeIDSquare':{var bR={x:0,y:0,w:0,h:0};{var bS=Math.round(L.c.get('x').gv(bO));var bT=Math.round(L.c.get('y').gv(bO));var bU=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var bV=2*bU;tab.RectXYUtil.unionInPlace$1(bR,bS-bU,bT-bU,bV,bV)}return y.circleIntersectsRect(bN,bR)}case'shapeIDFilledSquare':{var bW={x:0,y:0,w:0,h:0};{var bX=Math.round(L.c.get('x').gv(bO));var bY=Math.round(L.c.get('y').gv(bO));var bZ=Math.ceil(L.c.get('size').gv(bO)*0.9375/2);var ca=2*bZ;tab.RectXYUtil.unionInPlace$1(bW,bX-bZ,bY-bZ,ca,ca)}return y.circleIntersectsRect(bN,bW)}case'shapeIDAsterisk':{var cb={x:0,y:0,w:0,h:0};{var cc=Math.round(L.c.get('x').gv(bO));var cd=Math.round(L.c.get('y').gv(bO));var ce=Math.ceil(L.c.get('size').gv(bO)*0.958333333333333/2);var cf=2*ce;tab.RectXYUtil.unionInPlace$1(cb,cc-ce,cd-ce,cf,cf)}return y.circleIntersectsRect(bN,cb)}case'shapeIDPlus':{var cg={x:0,y:0,w:0,h:0};{var ch=Math.round(L.c.get('x').gv(bO));var ci=Math.round(L.c.get('y').gv(bO));var cj=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var ck=2*cj;tab.RectXYUtil.unionInPlace$1(cg,ch-cj,ci-cj,ck,ck)}return y.circleIntersectsRect(bN,cg)}case'shapeIDFilledPlus':{var cl={x:0,y:0,w:0,h:0};{var cm=Math.round(L.c.get('x').gv(bO));var cn=Math.round(L.c.get('y').gv(bO));var co=Math.ceil(L.c.get('size').gv(bO)*0.9375/2);var cp=2*co;tab.RectXYUtil.unionInPlace$1(cl,cm-co,cn-co,cp,cp)}return y.circleIntersectsRect(bN,cl)}case'shapeIDTimes':{var cq={x:0,y:0,w:0,h:0};{var cr=Math.round(L.c.get('x').gv(bO));var cs=Math.round(L.c.get('y').gv(bO));var ct=Math.ceil(L.c.get('size').gv(bO)*0.875/2);var cu=2*ct;tab.RectXYUtil.unionInPlace$1(cq,cr-ct,cs-ct,cu,cu)}return y.circleIntersectsRect(bN,cq)}case'shapeIDFilledTimes':{var cv={x:0,y:0,w:0,h:0};{var cw=Math.round(L.c.get('x').gv(bO));var cx=Math.round(L.c.get('y').gv(bO));var cy=Math.ceil(L.c.get('size').gv(bO)*0.9375/2);var cz=2*cy;tab.RectXYUtil.unionInPlace$1(cv,cw-cy,cx-cy,cz,cz)}return y.circleIntersectsRect(bN,cv)}case'shapeIDDiamond':{var cA={x:0,y:0,w:0,h:0};{var cB=Math.round(L.c.get('x').gv(bO));var cC=Math.round(L.c.get('y').gv(bO));var cD=Math.ceil(L.c.get('size').gv(bO)*1.04166666666667/2);var cE=2*cD;tab.RectXYUtil.unionInPlace$1(cA,cB-cD,cC-cD,cE,cE)}return y.circleIntersectsRect(bN,cA)}case'shapeIDFilledDiamond':{var cF={x:0,y:0,w:0,h:0};{var cG=Math.round(L.c.get('x').gv(bO));var cH=Math.round(L.c.get('y').gv(bO));var cI=Math.ceil(L.c.get('size').gv(bO)*1.04166666666667/2);var cJ=2*cI;tab.RectXYUtil.unionInPlace$1(cF,cG-cI,cH-cI,cJ,cJ)}return y.circleIntersectsRect(bN,cF)}case'shapeIDTriangle':{var cK={x:0,y:0,w:0,h:0};{var cL=Math.round(L.c.get('x').gv(bO));var cM=Math.round(L.c.get('y').gv(bO));var cN=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var cO=2*cN;tab.RectXYUtil.unionInPlace$1(cK,cL-cN,cM-cN,cO,cO)}return y.circleIntersectsRect(bN,cK)}case'shapeIDFilledTriangle':{var cP={x:0,y:0,w:0,h:0};{var cQ=Math.round(L.c.get('x').gv(bO));var cR=Math.round(L.c.get('y').gv(bO));var cS=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var cT=2*cS;tab.RectXYUtil.unionInPlace$1(cP,cQ-cS,cR-cS,cT,cT)}return y.circleIntersectsRect(bN,cP)}case'shapeIDDownTriangle':{var cU={x:0,y:0,w:0,h:0};{var cV=Math.round(L.c.get('x').gv(bO));var cW=Math.round(L.c.get('y').gv(bO));var cX=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var cY=2*cX;tab.RectXYUtil.unionInPlace$1(cU,cV-cX,cW-cX,cY,cY)}return y.circleIntersectsRect(bN,cU)}case'shapeIDFilledDownTriangle':{var cZ={x:0,y:0,w:0,h:0};{var da=Math.round(L.c.get('x').gv(bO));var db=Math.round(L.c.get('y').gv(bO));var dc=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var dd=2*dc;tab.RectXYUtil.unionInPlace$1(cZ,da-dc,db-dc,dd,dd)}return y.circleIntersectsRect(bN,cZ)}case'shapeIDLeftTriangle':{var de={x:0,y:0,w:0,h:0};{var df=Math.round(L.c.get('x').gv(bO));var dg=Math.round(L.c.get('y').gv(bO));var dh=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var di=2*dh;tab.RectXYUtil.unionInPlace$1(de,df-dh,dg-dh,di,di)}return y.circleIntersectsRect(bN,de)}case'shapeIDFilledLeftTriangle':{var dj={x:0,y:0,w:0,h:0};{var dk=Math.round(L.c.get('x').gv(bO));var dl=Math.round(L.c.get('y').gv(bO));var dm=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var dn=2*dm;tab.RectXYUtil.unionInPlace$1(dj,dk-dm,dl-dm,dn,dn)}return y.circleIntersectsRect(bN,dj)}case'shapeIDRightTriangle':{var dp={x:0,y:0,w:0,h:0};{var dq=Math.round(L.c.get('x').gv(bO));var dr=Math.round(L.c.get('y').gv(bO));var ds=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var dt=2*ds;tab.RectXYUtil.unionInPlace$1(dp,dq-ds,dr-ds,dt,dt)}return y.circleIntersectsRect(bN,dp)}case'shapeIDFilledRightTriangle':{var du={x:0,y:0,w:0,h:0};{var dv=Math.round(L.c.get('x').gv(bO));var dw=Math.round(L.c.get('y').gv(bO));var dx=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var dy=2*dx;tab.RectXYUtil.unionInPlace$1(du,dv-dx,dw-dx,dy,dy)}return y.circleIntersectsRect(bN,du)}case'shapeIDFilledStar':{var dz={x:0,y:0,w:0,h:0};{var dA=Math.round(L.c.get('x').gv(bO));var dB=Math.round(L.c.get('y').gv(bO));var dC=Math.ceil(L.c.get('size').gv(bO)*1.09166666666667/2);var dD=2*dC;tab.RectXYUtil.unionInPlace$1(dz,dA-dC,dB-dC,dD,dD)}return y.circleIntersectsRect(bN,dz)}default:{var dE=Math.round(L.c.get('x').gv(bO));var dF=Math.round(L.c.get('y').gv(bO));var dG=Math.ceil(L.c.get('size').gv(bO));var dH=Math.ceil(dG/2);var dI={x:dE-dH,y:dF-dH,w:dG,h:dG};return y.circleIntersectsRect(bN,dI)}}};Y.shapeMarkPolygonAreaHitTest=function(L,bN,bO){var bP=L.c.get('shape_id').gv(bO);switch(bP){case'shapeIDCircle':{return y.polygonIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)*0.958333333333333/2})}case'shapeIDFilledCircle':{return y.polygonIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)*0.979166666666667/2})}case'shapeIDUnscaledFilledCircle':{return y.polygonIntersectsCircle(bN,{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bO)},radius:L.c.get('size').gv(bO)/2})}case'shapeIDSquare':{var bQ={x:0,y:0,w:0,h:0};{var bR=Math.round(L.c.get('x').gv(bO));var bS=Math.round(L.c.get('y').gv(bO));var bT=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var bU=2*bT;tab.RectXYUtil.unionInPlace$1(bQ,bR-bT,bS-bT,bU,bU)}return y.polygonIntersectsRect(bN,bQ)}case'shapeIDFilledSquare':{var bV={x:0,y:0,w:0,h:0};{var bW=Math.round(L.c.get('x').gv(bO));var bX=Math.round(L.c.get('y').gv(bO));var bY=Math.ceil(L.c.get('size').gv(bO)*0.9375/2);var bZ=2*bY;tab.RectXYUtil.unionInPlace$1(bV,bW-bY,bX-bY,bZ,bZ)}return y.polygonIntersectsRect(bN,bV)}case'shapeIDAsterisk':{var ca={x:0,y:0,w:0,h:0};{var cb=Math.round(L.c.get('x').gv(bO));var cc=Math.round(L.c.get('y').gv(bO));var cd=Math.ceil(L.c.get('size').gv(bO)*0.958333333333333/2);var ce=2*cd;tab.RectXYUtil.unionInPlace$1(ca,cb-cd,cc-cd,ce,ce)}return y.polygonIntersectsRect(bN,ca)}case'shapeIDPlus':{var cf={x:0,y:0,w:0,h:0};{var cg=Math.round(L.c.get('x').gv(bO));var ch=Math.round(L.c.get('y').gv(bO));var ci=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var cj=2*ci;tab.RectXYUtil.unionInPlace$1(cf,cg-ci,ch-ci,cj,cj)}return y.polygonIntersectsRect(bN,cf)}case'shapeIDFilledPlus':{var ck={x:0,y:0,w:0,h:0};{var cl=Math.round(L.c.get('x').gv(bO));var cm=Math.round(L.c.get('y').gv(bO));var cn=Math.ceil(L.c.get('size').gv(bO)*0.9375/2);var co=2*cn;tab.RectXYUtil.unionInPlace$1(ck,cl-cn,cm-cn,co,co)}return y.polygonIntersectsRect(bN,ck)}case'shapeIDTimes':{var cp={x:0,y:0,w:0,h:0};{var cq=Math.round(L.c.get('x').gv(bO));var cr=Math.round(L.c.get('y').gv(bO));var cs=Math.ceil(L.c.get('size').gv(bO)*0.875/2);var ct=2*cs;tab.RectXYUtil.unionInPlace$1(cp,cq-cs,cr-cs,ct,ct)}return y.polygonIntersectsRect(bN,cp)}case'shapeIDFilledTimes':{var cu={x:0,y:0,w:0,h:0};{var cv=Math.round(L.c.get('x').gv(bO));var cw=Math.round(L.c.get('y').gv(bO));var cx=Math.ceil(L.c.get('size').gv(bO)*0.9375/2);var cy=2*cx;tab.RectXYUtil.unionInPlace$1(cu,cv-cx,cw-cx,cy,cy)}return y.polygonIntersectsRect(bN,cu)}case'shapeIDDiamond':{var cz={x:0,y:0,w:0,h:0};{var cA=Math.round(L.c.get('x').gv(bO));var cB=Math.round(L.c.get('y').gv(bO));var cC=Math.ceil(L.c.get('size').gv(bO)*1.04166666666667/2);var cD=2*cC;tab.RectXYUtil.unionInPlace$1(cz,cA-cC,cB-cC,cD,cD)}return y.polygonIntersectsRect(bN,cz)}case'shapeIDFilledDiamond':{var cE={x:0,y:0,w:0,h:0};{var cF=Math.round(L.c.get('x').gv(bO));var cG=Math.round(L.c.get('y').gv(bO));var cH=Math.ceil(L.c.get('size').gv(bO)*1.04166666666667/2);var cI=2*cH;tab.RectXYUtil.unionInPlace$1(cE,cF-cH,cG-cH,cI,cI)}return y.polygonIntersectsRect(bN,cE)}case'shapeIDTriangle':{var cJ={x:0,y:0,w:0,h:0};{var cK=Math.round(L.c.get('x').gv(bO));var cL=Math.round(L.c.get('y').gv(bO));var cM=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var cN=2*cM;tab.RectXYUtil.unionInPlace$1(cJ,cK-cM,cL-cM,cN,cN)}return y.polygonIntersectsRect(bN,cJ)}case'shapeIDFilledTriangle':{var cO={x:0,y:0,w:0,h:0};{var cP=Math.round(L.c.get('x').gv(bO));var cQ=Math.round(L.c.get('y').gv(bO));var cR=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var cS=2*cR;tab.RectXYUtil.unionInPlace$1(cO,cP-cR,cQ-cR,cS,cS)}return y.polygonIntersectsRect(bN,cO)}case'shapeIDDownTriangle':{var cT={x:0,y:0,w:0,h:0};{var cU=Math.round(L.c.get('x').gv(bO));var cV=Math.round(L.c.get('y').gv(bO));var cW=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var cX=2*cW;tab.RectXYUtil.unionInPlace$1(cT,cU-cW,cV-cW,cX,cX)}return y.polygonIntersectsRect(bN,cT)}case'shapeIDFilledDownTriangle':{var cY={x:0,y:0,w:0,h:0};{var cZ=Math.round(L.c.get('x').gv(bO));var da=Math.round(L.c.get('y').gv(bO));var db=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var dc=2*db;tab.RectXYUtil.unionInPlace$1(cY,cZ-db,da-db,dc,dc)}return y.polygonIntersectsRect(bN,cY)}case'shapeIDLeftTriangle':{var dd={x:0,y:0,w:0,h:0};{var de=Math.round(L.c.get('x').gv(bO));var df=Math.round(L.c.get('y').gv(bO));var dg=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var dh=2*dg;tab.RectXYUtil.unionInPlace$1(dd,de-dg,df-dg,dh,dh)}return y.polygonIntersectsRect(bN,dd)}case'shapeIDFilledLeftTriangle':{var di={x:0,y:0,w:0,h:0};{var dj=Math.round(L.c.get('x').gv(bO));var dk=Math.round(L.c.get('y').gv(bO));var dl=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var dm=2*dl;tab.RectXYUtil.unionInPlace$1(di,dj-dl,dk-dl,dm,dm)}return y.polygonIntersectsRect(bN,di)}case'shapeIDRightTriangle':{var dn={x:0,y:0,w:0,h:0};{var dp=Math.round(L.c.get('x').gv(bO));var dq=Math.round(L.c.get('y').gv(bO));var dr=Math.ceil(L.c.get('size').gv(bO)*0.895833333333333/2);var ds=2*dr;tab.RectXYUtil.unionInPlace$1(dn,dp-dr,dq-dr,ds,ds)}return y.polygonIntersectsRect(bN,dn)}case'shapeIDFilledRightTriangle':{var dt={x:0,y:0,w:0,h:0};{var du=Math.round(L.c.get('x').gv(bO));var dv=Math.round(L.c.get('y').gv(bO));var dw=Math.ceil(L.c.get('size').gv(bO)*0.916666666666667/2);var dx=2*dw;tab.RectXYUtil.unionInPlace$1(dt,du-dw,dv-dw,dx,dx)}return y.polygonIntersectsRect(bN,dt)}case'shapeIDFilledStar':{var dy={x:0,y:0,w:0,h:0};{var dz=Math.round(L.c.get('x').gv(bO));var dA=Math.round(L.c.get('y').gv(bO));var dB=Math.ceil(L.c.get('size').gv(bO)*1.09166666666667/2);var dC=2*dB;tab.RectXYUtil.unionInPlace$1(dy,dz-dB,dA-dB,dC,dC)}return y.polygonIntersectsRect(bN,dy)}default:{var dD=Math.round(L.c.get('x').gv(bO));var dE=Math.round(L.c.get('y').gv(bO));var dF=Math.ceil(L.c.get('size').gv(bO));var dG=Math.ceil(dF/2);var dH={x:dD-dG,y:dE-dG,w:dF,h:dF};return y.polygonIntersectsRect(bN,dH)}}};Y.renderMultipolygonMarkHoverOverlayImage=function(L,bN,bO){var bP='empty';var bQ=bN.getMarkGeometry(bN.c.get('geometry').gv(bO));if(ss.isValue(bQ)){bP=bQ.geometryType}switch(bP){case'multiPolygon':{{var bR=bN.getMarkInstanceOffsets(bO);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];Y.$c(L,bU);{var bV=Y.$d();if(!bN.hasPixelGeometry){L.save();L.translate(bN.c.get('x').gv(bO),bN.c.get('y').gv(bO));L.scale(bN.c.get('size').gv(bO),bN.c.get('size').gv(bO))}tab.CanvasRenderer.createMultipolygonPath(L,bQ);if(!bN.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-bV);L.set_strokeStyle(bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone']);L.stroke()}if(bU!==0){L.restore()}}}break}case'multiLineString':{{var bW=bN.getMarkInstanceOffsets(bO);var bX=bW.length;for(var bY=0;bY<bX;bY++){var bZ=bW[bY];Y.$c(L,bZ);var ca='colorOverrideNone';if(!bN.hasPixelGeometry){L.save();L.translate(bN.c.get('x').gv(bO),bN.c.get('y').gv(bO));L.scale(bN.c.get('size').gv(bO),bN.c.get('size').gv(bO))}tab.CanvasRenderer.createMultiLinePath(L,bQ);if(!bN.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,bN.c.get('size').gv(bO)+3.5,bN.c.get('selected_halo_color').gv(bO)[ca]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,bQ.multiLine,bN.c.get('size').gv(bO)+3.5,1.75,bN.c.get('selected_halo_color').gv(bO)[ca]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,bN.c.get('size').gv(bO),bN.c.get('selected_halo_color').gv(bO)[ca])}if(bZ!==0){L.restore()}}}break}case'multiPoint':{{var cb=bN.getMarkInstanceOffsets(bO);var cc=cb.length;for(var cd=0;cd<cc;cd++){var ce=cb[cd];Y.$c(L,ce);{var cf=Y.$d();if(!bN.hasPixelGeometry){L.save();L.translate(bN.c.get('x').gv(bO),bN.c.get('y').gv(bO));L.scale(bN.c.get('size').gv(bO),bN.c.get('size').gv(bO))}tab.CanvasRenderer.createMultipointPath(L,7,bQ);if(!bN.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-cf);L.set_strokeStyle(bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone']);L.stroke()}if(ce!==0){L.restore()}}}break}case'empty':{{var cg=bN.getMarkInstanceOffsets(bO);var ch=cg.length;for(var ci=0;ci<ch;ci++){var cj=cg[ci];Y.$c(L,cj);{var ck=Y.$d();tab.CanvasRenderer.createPlaceholderPath(L,bN.c.get('x').gv(bO),bN.c.get('y').gv(bO),7);L.set_lineWidth(1.75-ck);L.set_strokeStyle(bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone']);L.stroke()}if(cj!==0){L.restore()}}}break}default:{break}}};Y.renderMultipolygonMarkPressedOverlayImage=function(L,bN,bO){var bP='empty';var bQ=bN.getMarkGeometry(bN.c.get('geometry').gv(bO));if(ss.isValue(bQ)){bP=bQ.geometryType}switch(bP){case'multiPolygon':{{var bR=bN.getMarkInstanceOffsets(bO);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];Y.$c(L,bU);{var bV=Y.$d();if(!bN.hasPixelGeometry){L.save();L.translate(bN.c.get('x').gv(bO),bN.c.get('y').gv(bO));L.scale(bN.c.get('size').gv(bO),bN.c.get('size').gv(bO))}tab.CanvasRenderer.createMultipolygonPath(L,bQ);if(!bN.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-bV);L.set_strokeStyle(bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone']);L.stroke()}if(bU!==0){L.restore()}}}break}case'multiLineString':{{var bW=bN.getMarkInstanceOffsets(bO);var bX=bW.length;for(var bY=0;bY<bX;bY++){var bZ=bW[bY];Y.$c(L,bZ);var ca='colorOverrideNone';if(!bN.hasPixelGeometry){L.save();L.translate(bN.c.get('x').gv(bO),bN.c.get('y').gv(bO));L.scale(bN.c.get('size').gv(bO),bN.c.get('size').gv(bO))}tab.CanvasRenderer.createMultiLinePath(L,bQ);if(!bN.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,bN.c.get('size').gv(bO)+5,bN.c.get('selected_halo_color').gv(bO)[ca]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,bQ.multiLine,bN.c.get('size').gv(bO)+5,2.5,bN.c.get('selected_halo_color').gv(bO)[ca]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,bN.c.get('size').gv(bO),bN.c.get('selected_halo_color').gv(bO)[ca])}if(bZ!==0){L.restore()}}}break}case'multiPoint':{{var cb=bN.getMarkInstanceOffsets(bO);var cc=cb.length;for(var cd=0;cd<cc;cd++){var ce=cb[cd];Y.$c(L,ce);{var cf=Y.$d();if(!bN.hasPixelGeometry){L.save();L.translate(bN.c.get('x').gv(bO),bN.c.get('y').gv(bO));L.scale(bN.c.get('size').gv(bO),bN.c.get('size').gv(bO))}tab.CanvasRenderer.createMultipointPath(L,7,bQ);if(!bN.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-cf);L.set_strokeStyle(bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone']);L.stroke()}if(ce!==0){L.restore()}}}break}case'empty':{{var cg=bN.getMarkInstanceOffsets(bO);var ch=cg.length;for(var ci=0;ci<ch;ci++){var cj=cg[ci];Y.$c(L,cj);{var ck=Y.$d();tab.CanvasRenderer.createPlaceholderPath(L,bN.c.get('x').gv(bO),bN.c.get('y').gv(bO),7);L.set_lineWidth(2.5-ck);L.set_strokeStyle(bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone']);L.stroke()}if(cj!==0){L.restore()}}}break}default:{break}}};Y.renderAreaMarkHoverOverlayImage=function(L,bN,bO){var bP=false;if(bO-1>0&&!bN.isMarkEndPrimitive(bO-1)){bP=bP||bN.isMarkHighlighted(bO-1)}if(bO+1<bN.markCount&&!bN.isMarkEndPrimitive(bO)){bP=bP||bN.isMarkHighlighted(bO+1)}var bQ;var bR=bN.c.get('x').gv(bO);var bS=bN.c.get('y').gv(bO);if(bN.isMarkSelected(bO)){bQ=bN.c.get('selected_halo_color').gv(bO)['colorOverrideOpaque'];{var bT=bN.c.get('draw_border').gv(bO);var bU=7+(bT?2:0);tab.CanvasRenderer.renderCircle(L,0+bR,0+bS,bU,bQ,4)}bQ=bN.getMarkColors(bO)['colorOverrideOpaque'];{var bV=bN.getMarkInstanceOffsets(bO);var bW=bV.length;for(var bX=0;bX<bW;bX++){var bY=bV[bX];Y.$c(L,bY);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,7,bQ);if(bY!==0){L.restore()}}}bR=bN.c.get('x1').gv(bO);bS=bN.c.get('y1').gv(bO);bQ=bN.c.get('selected_halo_color').gv(bO)['colorOverrideOpaque'];{var bZ=bN.c.get('draw_border').gv(bO);var ca=7+(bZ?2:0);tab.CanvasRenderer.renderCircle(L,0+bR,0+bS,ca,bQ,4)}bQ=bN.getMarkColors(bO)['colorOverrideOpaque'];{var cb=bN.getMarkInstanceOffsets(bO);var cc=cb.length;for(var cd=0;cd<cc;cd++){var ce=cb[cd];Y.$c(L,ce);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,7,bQ);if(ce!==0){L.restore()}}}}else if(bN.isMarkHighlighted(bO)&&!bP){bQ=bN.c.get('selected_multi_prim_halo_color').gv(bO)['colorOverrideNone'];{var cf=bN.getMarkInstanceOffsets(bO);var cg=cf.length;for(var ch=0;ch<cg;ch++){var ci=cf[ch];Y.$c(L,ci);{var cj=bN.c.get('draw_border').gv(bO);var ck=7+(cj?2:0);tab.CanvasRenderer.renderCircle(L,0+bR,0+bS,ck,bQ,4)}if(ci!==0){L.restore()}}}bQ=bN.getMarkColors(bO)['colorOverrideNone'];{var cl=bN.getMarkInstanceOffsets(bO);var cm=cl.length;for(var cn=0;cn<cm;cn++){var co=cl[cn];Y.$c(L,co);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,7,bQ);if(co!==0){L.restore()}}}bR=bN.c.get('x1').gv(bO);bS=bN.c.get('y1').gv(bO);bQ=bN.c.get('selected_multi_prim_halo_color').gv(bO)['colorOverrideNone'];{var cp=bN.getMarkInstanceOffsets(bO);var cq=cp.length;for(var cr=0;cr<cq;cr++){var cs=cp[cr];Y.$c(L,cs);{var ct=bN.c.get('draw_border').gv(bO);var cu=7+(ct?2:0);tab.CanvasRenderer.renderCircle(L,0+bR,0+bS,cu,bQ,4)}if(cs!==0){L.restore()}}}bQ=bN.getMarkColors(bO)['colorOverrideNone'];{var cv=bN.getMarkInstanceOffsets(bO);var cw=cv.length;for(var cx=0;cx<cw;cx++){var cy=cv[cx];Y.$c(L,cy);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,7,bQ);if(cy!==0){L.restore()}}}}else{bQ=(bN.drawBorder?bN.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var cz=bN.getMarkInstanceOffsets(bO);var cA=cz.length;for(var cB=0;cB<cA;cB++){var cC=cz[cB];Y.$c(L,cC);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,5,bQ);if(cC!==0){L.restore()}}}bR=bN.c.get('x1').gv(bO);bS=bN.c.get('y1').gv(bO);bQ=(bN.drawBorder?bN.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var cD=bN.getMarkInstanceOffsets(bO);var cE=cD.length;for(var cF=0;cF<cE;cF++){var cG=cD[cF];Y.$c(L,cG);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,5,bQ);if(cG!==0){L.restore()}}}}};Y.renderAreaMarkPressedOverlayImage=function(L,bN,bO){var bP=(bN.drawBorder?bN.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var bQ=bN.c.get('x').gv(bO);var bR=bN.c.get('y').gv(bO);{var bS=bN.getMarkInstanceOffsets(bO);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];Y.$c(L,bV);tab.CanvasRenderer.renderFilledCircle(L,0+bQ,0+bR,7,bP);if(bV!==0){L.restore()}}}bQ=bN.c.get('x1').gv(bO);bR=bN.c.get('y1').gv(bO);{var bW=bN.getMarkInstanceOffsets(bO);var bX=bW.length;for(var bY=0;bY<bX;bY++){var bZ=bW[bY];Y.$c(L,bZ);tab.CanvasRenderer.renderFilledCircle(L,0+bQ,0+bR,7,bP);if(bZ!==0){L.restore()}}}};Y.renderPieHoverOverlayImage=function(L,bN,bO){var bP=bN.getMarkInstanceOffsets(bO);var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR];Y.$c(L,bS);var bT=bN.c.get('size').gv(bO)/2;var bU=bN.c.get('draw_border').gv(bO);var bV=(!!bU?1:0);var bW=bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone'];var bX=bN.c.get('theta').gv(bO);var bY=bN.c.get('theta1').gv(bO);var bZ=bX>bY;if(Math.abs(bX-bY)>=1){tab.CanvasRenderer.renderCircle(L,bN.c.get('x').gv(bO),bN.c.get('y').gv(bO),(bT+bV)*2,bW,1)}else{tab.CanvasRenderer.renderWedge(L,bN.c.get('x').gv(bO),bN.c.get('y').gv(bO),bT,bX,bY,bW,1+bV,bZ)}if(bS!==0){L.restore()}}};Y.renderPiePressedOverlayImage=function(L,bN,bO){var bP=bN.getMarkInstanceOffsets(bO);var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR];Y.$c(L,bS);var bT=bN.c.get('size').gv(bO)/2;var bU=bN.c.get('draw_border').gv(bO);var bV=(!!bU?1:0);var bW=bN.c.get('selected_halo_color').gv(bO)['colorOverrideNone'];var bX=bN.c.get('theta').gv(bO);var bY=bN.c.get('theta1').gv(bO);var bZ=bX>bY;if(Math.abs(bX-bY)>=1){tab.CanvasRenderer.renderCircle(L,bN.c.get('x').gv(bO),bN.c.get('y').gv(bO),(bT+bV)*2,bW,2)}else{tab.CanvasRenderer.renderWedge(L,bN.c.get('x').gv(bO),bN.c.get('y').gv(bO),bT,bX,bY,bW,2+bV,bZ)}if(bS!==0){L.restore()}}};Y.renderTextHoverOverlayImage=function(L,bN,bO){if(!(bN.clipCase!==0&&bN.useCellClipForSelection)){{var bP=bN.getMarkInstanceOffsets(bO);var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR];Y.$c(L,bS);var bT=-bN.c.get('width').gv(bO)/2;var bU=bN.c.get('height').gv(bO)/2-1;var bV=bN.c.get('x').gv(bO)+bT;var bW=bN.c.get('y').gv(bO)+bU;var bX=bN.c.get('x').gv(bO)+bN.c.get('width').gv(bO)+bT;var bY=bN.c.get('y').gv(bO)+bU;var bZ=1;var ca=bX-bV;var cb=[bV,bW+bZ-1,bV+ca,bW+bZ-1];L.set_lineCap('square');L.set_lineWidth(bZ);L.set_strokeStyle(bN.getMarkColors(bO)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,cb,false,true);if(bS!==0){L.restore()}}}}if(bN.clipCase!==0&&bN.useCellClipForSelection){{var cc=bN.getMarkInstanceOffsets(bO);var cd=cc.length;for(var ce=0;ce<cd;ce++){var cf=cc[ce];Y.$c(L,cf);{var cg=2;var ch=bN.c.get('x').gv(bO)-bN.c.get('clip_width').gv(bO)/2+cg;var ci=bN.c.get('x').gv(bO)+bN.c.get('clip_width').gv(bO)/2-cg;var cj=bN.c.get('y').gv(bO)-bN.c.get('clip_height').gv(bO)/2+cg;var ck=bN.c.get('y').gv(bO)+bN.c.get('clip_height').gv(bO)/2-cg;Y.$3(L,bN,bO,ch,ci,cj,ck,bN.getMarkColors(bO),!!false,Math.floor(1))}if(cf!==0){L.restore()}}}}};Y.renderTextPressedOverlayImage=function(L,bN,bO){if(!(bN.clipCase!==0&&bN.useCellClipForSelection)){{var bP=bN.getMarkInstanceOffsets(bO);var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR];Y.$c(L,bS);var bT=-bN.c.get('width').gv(bO)/2;var bU=bN.c.get('height').gv(bO)/2-1;var bV=bN.c.get('x').gv(bO)+bT;var bW=bN.c.get('y').gv(bO)+bU;var bX=bN.c.get('x').gv(bO)+bN.c.get('width').gv(bO)+bT;var bY=bN.c.get('y').gv(bO)+bU;var bZ=2;var ca=bX-bV;var cb=[bV,bW+bZ-1,bV+ca,bW+bZ-1];L.set_lineCap('square');L.set_lineWidth(bZ);L.set_strokeStyle(bN.getMarkColors(bO)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,cb,false,true);if(bS!==0){L.restore()}}}}if(bN.clipCase!==0&&bN.useCellClipForSelection){{var cc=bN.getMarkInstanceOffsets(bO);var cd=cc.length;for(var ce=0;ce<cd;ce++){var cf=cc[ce];Y.$c(L,cf);{var cg=2;var ch=bN.c.get('x').gv(bO)-bN.c.get('clip_width').gv(bO)/2+cg;var ci=bN.c.get('x').gv(bO)+bN.c.get('clip_width').gv(bO)/2-cg;var cj=bN.c.get('y').gv(bO)-bN.c.get('clip_height').gv(bO)/2+cg;var ck=bN.c.get('y').gv(bO)+bN.c.get('clip_height').gv(bO)/2-cg;Y.$3(L,bN,bO,ch,ci,cj,ck,bN.getMarkColors(bO),!!false,Math.floor(2))}if(cf!==0){L.restore()}}}}};Y.renderBarHoverOverlayImage=function(L,bN,bO){var bP=ss.Int32.trunc(bN.c.get('size').gv(bO)+0.5)/2;var bQ=1;if(bN.scaleMarksInX&&bN.scaleMarksInY){{var bR=bN.getMarkInstanceOffsets(bO);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];Y.$c(L,bU);{var bV=0;var bW=bN.c.get('x').gv(bO)+bV;var bX=bN.c.get('x1').gv(bO)-bV;var bY=bN.c.get('y').gv(bO)+bV;var bZ=bN.c.get('y1').gv(bO)-bV;Y.$3(L,bN,bO,bW,bX,bY,bZ,bN.c.get('selected_halo_color').gv(bO),!!false,Math.floor(bQ))}if(bU!==0){L.restore()}}}}if(!bN.scaleMarksInX&&bN.scaleMarksInY){{var ca=bN.getMarkInstanceOffsets(bO);var cb=ca.length;for(var cc=0;cc<cb;cc++){var cd=ca[cc];Y.$c(L,cd);{var ce=0;var cf=bN.c.get('x').gv(bO)-bP+ce;var cg=bN.c.get('x').gv(bO)+bP-ce;var ch=bN.c.get('y').gv(bO)+ce;var ci=bN.c.get('y1').gv(bO)-ce;Y.$3(L,bN,bO,cf,cg,ch,ci,bN.c.get('selected_halo_color').gv(bO),!!false,Math.floor(bQ))}if(cd!==0){L.restore()}}}}if(bN.scaleMarksInX&&!bN.scaleMarksInY){{var cj=bN.getMarkInstanceOffsets(bO);var ck=cj.length;for(var cl=0;cl<ck;cl++){var cm=cj[cl];Y.$c(L,cm);{var cn=0;var co=bN.c.get('x').gv(bO)+cn;var cp=bN.c.get('x1').gv(bO)-cn;var cq=bN.c.get('y').gv(bO)-bP+cn;var cr=bN.c.get('y').gv(bO)+bP-cn;Y.$3(L,bN,bO,co,cp,cq,cr,bN.c.get('selected_halo_color').gv(bO),!!false,Math.floor(bQ))}if(cm!==0){L.restore()}}}}if(!bN.scaleMarksInX&&!bN.scaleMarksInY){{var cs=bN.getMarkInstanceOffsets(bO);var ct=cs.length;for(var cu=0;cu<ct;cu++){var cv=cs[cu];Y.$c(L,cv);{var cw=0;var cx=bN.c.get('x').gv(bO)-bP+cw;var cy=bN.c.get('x').gv(bO)+bP-cw;var cz=bN.c.get('y').gv(bO)-bP+cw;var cA=bN.c.get('y').gv(bO)+bP-cw;Y.$3(L,bN,bO,cx,cy,cz,cA,bN.c.get('selected_halo_color').gv(bO),!!true,Math.floor(bQ))}if(cv!==0){L.restore()}}}}};Y.renderBarPressedOverlayImage=function(L,bN,bO){var bP=ss.Int32.trunc(bN.c.get('size').gv(bO)+0.5)/2;var bQ=2;if(bN.scaleMarksInX&&bN.scaleMarksInY){{var bR=bN.getMarkInstanceOffsets(bO);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];Y.$c(L,bU);{var bV=0;var bW=bN.c.get('x').gv(bO)+bV;var bX=bN.c.get('x1').gv(bO)-bV;var bY=bN.c.get('y').gv(bO)+bV;var bZ=bN.c.get('y1').gv(bO)-bV;Y.$3(L,bN,bO,bW,bX,bY,bZ,bN.c.get('selected_halo_color').gv(bO),!!false,Math.floor(bQ))}if(bU!==0){L.restore()}}}}if(!bN.scaleMarksInX&&bN.scaleMarksInY){{var ca=bN.getMarkInstanceOffsets(bO);var cb=ca.length;for(var cc=0;cc<cb;cc++){var cd=ca[cc];Y.$c(L,cd);{var ce=0;var cf=bN.c.get('x').gv(bO)-bP+ce;var cg=bN.c.get('x').gv(bO)+bP-ce;var ch=bN.c.get('y').gv(bO)+ce;var ci=bN.c.get('y1').gv(bO)-ce;Y.$3(L,bN,bO,cf,cg,ch,ci,bN.c.get('selected_halo_color').gv(bO),!!false,Math.floor(bQ))}if(cd!==0){L.restore()}}}}if(bN.scaleMarksInX&&!bN.scaleMarksInY){{var cj=bN.getMarkInstanceOffsets(bO);var ck=cj.length;for(var cl=0;cl<ck;cl++){var cm=cj[cl];Y.$c(L,cm);{var cn=0;var co=bN.c.get('x').gv(bO)+cn;var cp=bN.c.get('x1').gv(bO)-cn;var cq=bN.c.get('y').gv(bO)-bP+cn;var cr=bN.c.get('y').gv(bO)+bP-cn;Y.$3(L,bN,bO,co,cp,cq,cr,bN.c.get('selected_halo_color').gv(bO),!!false,Math.floor(bQ))}if(cm!==0){L.restore()}}}}if(!bN.scaleMarksInX&&!bN.scaleMarksInY){{var cs=bN.getMarkInstanceOffsets(bO);var ct=cs.length;for(var cu=0;cu<ct;cu++){var cv=cs[cu];Y.$c(L,cv);{var cw=0;var cx=bN.c.get('x').gv(bO)-bP+cw;var cy=bN.c.get('x').gv(bO)+bP-cw;var cz=bN.c.get('y').gv(bO)-bP+cw;var cA=bN.c.get('y').gv(bO)+bP-cw;Y.$3(L,bN,bO,cx,cy,cz,cA,bN.c.get('selected_halo_color').gv(bO),!!true,Math.floor(bQ))}if(cv!==0){L.restore()}}}}};Y.renderLineMarkHoverOverlayImage=function(L,bN,bO){var bP=false;if(bO-1>0&&!bN.isMarkEndPrimitive(bO-1)){bP=bP||bN.isMarkHighlighted(bO-1)}if(bO+1<bN.markCount&&!bN.isMarkEndPrimitive(bO)){bP=bP||bN.isMarkHighlighted(bO+1)}var bQ;var bR=bN.c.get('x').gv(bO);var bS=bN.c.get('y').gv(bO);if(bN.isMarkSelected(bO)){bQ=bN.c.get('selected_halo_color').gv(bO)['colorOverrideOpaque'];{var bT=bN.c.get('draw_border').gv(bO);var bU=bN.c.get('size').gv(bO)+4+4+(bT?2:0);tab.CanvasRenderer.renderCircle(L,0+bR,0+bS,bU,bQ,4)}bQ=bN.getMarkColors(bO)['colorOverrideOpaque'];{var bV=bN.getMarkInstanceOffsets(bO);var bW=bV.length;for(var bX=0;bX<bW;bX++){var bY=bV[bX];Y.$c(L,bY);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,bN.c.get('size').gv(bO)+4+4,bQ);if(bY!==0){L.restore()}}}}else if(bN.isMarkHighlighted(bO)&&!bP){bQ=bN.c.get('selected_multi_prim_halo_color').gv(bO)['colorOverrideNone'];{var bZ=bN.getMarkInstanceOffsets(bO);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];Y.$c(L,cc);{var cd=bN.c.get('draw_border').gv(bO);var ce=bN.c.get('size').gv(bO)+4+4+(cd?2:0);tab.CanvasRenderer.renderCircle(L,0+bR,0+bS,ce,bQ,4)}if(cc!==0){L.restore()}}}bQ=bN.getMarkColors(bO)['colorOverrideNone'];{var cf=bN.getMarkInstanceOffsets(bO);var cg=cf.length;for(var ch=0;ch<cg;ch++){var ci=cf[ch];Y.$c(L,ci);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,bN.c.get('size').gv(bO)+4+4,bQ);if(ci!==0){L.restore()}}}}else{bQ=bN.getMarkColors(bO)['colorOverrideNone'];{var cj=bN.getMarkInstanceOffsets(bO);var ck=cj.length;for(var cl=0;cl<ck;cl++){var cm=cj[cl];Y.$c(L,cm);tab.CanvasRenderer.renderFilledCircle(L,0+bR,0+bS,bN.c.get('size').gv(bO)+4,bQ);if(cm!==0){L.restore()}}}}};Y.renderLineMarkPressedOverlayImage=function(L,bN,bO){var bP=bN.getMarkColors(bO)['colorOverrideNone'];var bQ=bN.c.get('x').gv(bO);var bR=bN.c.get('y').gv(bO);{var bS=bN.getMarkInstanceOffsets(bO);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];Y.$c(L,bV);tab.CanvasRenderer.renderFilledCircle(L,0+bQ,0+bR,bN.c.get('size').gv(bO)+8,bP);if(bV!==0){L.restore()}}}};Y.shapeHasLayerContent=function(L,bN){var bO=false;switch(L){case'shapeIDCircle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDSquare':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDPlus':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDTimes':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDDiamond':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(bN){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bO=true;break}default:{break}}break}default:{bO=true;break}}return bO};Y.getShapeMarkSpriteSize=function(L,bN,bO){var bP=0;switch(L){case'shapeIDCircle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+6);break}case'pressedOverlay':{bP=Math.ceil(bO+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'border':{bP=Math.ceil(bO+2);break}case'hoverOverlay':{bP=Math.ceil(bO+2);break}case'pressedOverlay':{bP=Math.ceil(bO+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'border':{bP=Math.ceil(bO+2);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+6);break}default:{break}}break}case'shapeIDSquare':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'border':{bP=Math.ceil(bO+2);break}case'hoverOverlay':{bP=Math.ceil(bO+2);break}case'pressedOverlay':{bP=Math.ceil(bO+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+6);break}case'pressedOverlay':{bP=Math.ceil(bO+8);break}default:{break}}break}case'shapeIDPlus':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+3);break}case'pressedOverlay':{bP=Math.ceil(bO+5);break}default:{break}}break}case'shapeIDTimes':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+6);break}default:{break}}break}case'shapeIDDiamond':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+6);break}case'pressedOverlay':{bP=Math.ceil(bO+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+5);break}case'pressedOverlay':{bP=Math.ceil(bO+7);break}default:{break}}break}case'shapeIDTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+6);break}case'pressedOverlay':{bP=Math.ceil(bO+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+2);break}case'pressedOverlay':{bP=Math.ceil(bO+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+2);break}case'pressedOverlay':{bP=Math.ceil(bO+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+2);break}case'pressedOverlay':{bP=Math.ceil(bO+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+4);break}case'pressedOverlay':{bP=Math.ceil(bO+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+4);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+4);break}case'hoverOverlay':{bP=Math.ceil(bO+2);break}case'pressedOverlay':{bP=Math.ceil(bO+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(bN){case'normalUnder':{bP=Math.ceil(bO+6);break}case'normalOn':{bP=Math.ceil(bO+2);break}case'selectedUnder':{bP=Math.ceil(bO+6);break}case'hoverOverlay':{bP=Math.ceil(bO+10);break}case'pressedOverlay':{bP=Math.ceil(bO+14);break}default:{break}}break}default:{break}}return bP};Y.renderShapeHoverOverlayImage=function(L,bN,bO){var bP=bN.c.get('shape_id').gv(bO);var bQ=bN.c.get('x').gv(bO);var bR=bN.c.get('y').gv(bO);if(bN.shouldStampThisShapeMark(bO)){bQ=bQ+0.5<<0;bR=bR+0.5<<0}switch(bP){case'shapeIDCircle':{Y.renderShapeIDCircleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledCircle':{Y.renderShapeIDFilledCircleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDUnscaledFilledCircle':{Y.renderShapeIDUnscaledFilledCircleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDSquare':{Y.renderShapeIDSquareHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledSquare':{Y.renderShapeIDFilledSquareHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDAsterisk':{Y.renderShapeIDAsteriskHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDPlus':{Y.renderShapeIDPlusHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledPlus':{Y.renderShapeIDFilledPlusHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDTimes':{Y.renderShapeIDTimesHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledTimes':{Y.renderShapeIDFilledTimesHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDDiamond':{Y.renderShapeIDDiamondHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledDiamond':{Y.renderShapeIDFilledDiamondHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDTriangle':{Y.renderShapeIDTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledTriangle':{Y.renderShapeIDFilledTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDDownTriangle':{Y.renderShapeIDDownTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledDownTriangle':{Y.renderShapeIDFilledDownTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDLeftTriangle':{Y.renderShapeIDLeftTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledLeftTriangle':{Y.renderShapeIDFilledLeftTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDRightTriangle':{Y.renderShapeIDRightTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledRightTriangle':{Y.renderShapeIDFilledRightTriangleHoverOverlayImage(L,bN,bQ,bR,bO);break}case'shapeIDFilledStar':{Y.renderShapeIDFilledStarHoverOverlayImage(L,bN,bQ,bR,bO);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(bP))){var bS=bN.getMarkInstanceOffsets(bO);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];if(bV!==0){L.save();L.translate(bV,0)}Y.$a(L,bN,bO,'hoverOverlay','colorOverrideNone');if(bV!==0){L.restore()}}}else{Y.renderShapeIDCircleHoverOverlayImage(L,bN,bQ,bR,bO)}break}}};Y.renderShapePressedOverlayImage=function(L,bN,bO){var bP=bN.getMarkIndexFromTupleId(bO);var bQ=bN.c.get('shape_id').gv(bP);var bR=bN.c.get('x').gv(bP);var bS=bN.c.get('y').gv(bP);if(bN.shouldStampThisShapeMark(bP)){bR=bR+0.5<<0;bS=bS+0.5<<0}switch(bQ){case'shapeIDCircle':{Y.renderShapeIDCirclePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledCircle':{Y.renderShapeIDFilledCirclePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDUnscaledFilledCircle':{Y.renderShapeIDUnscaledFilledCirclePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDSquare':{Y.renderShapeIDSquarePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledSquare':{Y.renderShapeIDFilledSquarePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDAsterisk':{Y.renderShapeIDAsteriskPressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDPlus':{Y.renderShapeIDPlusPressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledPlus':{Y.renderShapeIDFilledPlusPressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDTimes':{Y.renderShapeIDTimesPressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledTimes':{Y.renderShapeIDFilledTimesPressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDDiamond':{Y.renderShapeIDDiamondPressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledDiamond':{Y.renderShapeIDFilledDiamondPressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDTriangle':{Y.renderShapeIDTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledTriangle':{Y.renderShapeIDFilledTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDDownTriangle':{Y.renderShapeIDDownTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledDownTriangle':{Y.renderShapeIDFilledDownTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDLeftTriangle':{Y.renderShapeIDLeftTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledLeftTriangle':{Y.renderShapeIDFilledLeftTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDRightTriangle':{Y.renderShapeIDRightTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledRightTriangle':{Y.renderShapeIDFilledRightTrianglePressedOverlayImage(L,bN,bR,bS,bP);break}case'shapeIDFilledStar':{Y.renderShapeIDFilledStarPressedOverlayImage(L,bN,bR,bS,bP);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(bQ))){var bT=bN.getMarkInstanceOffsets(bP);var bU=bT.length;for(var bV=0;bV<bU;bV++){var bW=bT[bV];if(bW!==0){L.save();L.translate(bW,0)}Y.$a(L,bN,bP,'pressedOverlay','colorOverrideNone');if(bW!==0){L.restore()}}}else{Y.renderShapeIDCirclePressedOverlayImage(L,bN,bR,bS,bP)}break}}};Y.renderShapeIDCircleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=bN.c.get('draw_border').gv(bQ);var bZ=bN.c.get('size').gv(bQ)*0.958333333333333+2+(bY?2:0);tab.CanvasRenderer.renderCircle(L,0+bS,0+bT,bZ,bR,1)}if(bX!==0){L.restore()}}}};Y.renderShapeIDCirclePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=bN.c.get('draw_border').gv(bQ);var bZ=bN.c.get('size').gv(bQ)*0.958333333333333+3+(bY?2:0);tab.CanvasRenderer.renderCircle(L,0+bS,0+bT,bZ,bR,2)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledCircleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=bN.c.get('draw_border').gv(bQ);var bZ=bN.c.get('size').gv(bQ)*0.979166666666667+(bY?2:0);tab.CanvasRenderer.renderCircle(L,0+bS,0+bT,bZ,bR,1)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledCirclePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=bN.c.get('draw_border').gv(bQ);var bZ=bN.c.get('size').gv(bQ)*0.979166666666667+1+(bY?2:0);tab.CanvasRenderer.renderCircle(L,0+bS,0+bT,bZ,bR,2)}if(bX!==0){L.restore()}}}};Y.renderShapeIDUnscaledFilledCircleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=bN.c.get('draw_border').gv(bQ);var bZ=bN.c.get('size').gv(bQ)+(bY?2:0);tab.CanvasRenderer.renderCircle(L,0+bS,0+bT,bZ,bR,1)}if(bX!==0){L.restore()}}}};Y.renderShapeIDUnscaledFilledCirclePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=bN.c.get('draw_border').gv(bQ);var bZ=bN.c.get('size').gv(bQ)+1+(bY?2:0);tab.CanvasRenderer.renderCircle(L,0+bS,0+bT,bZ,bR,2)}if(bX!==0){L.restore()}}}};Y.renderShapeIDSquareHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);tab.CanvasRenderer.renderRectangle(L,bS+0,bT+0,bN.c.get('size').gv(bQ)*0.895833333333333+3,bN.c.get('size').gv(bQ)*0.895833333333333+3,bR,1);if(bX!==0){L.restore()}}}};Y.renderShapeIDSquarePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);tab.CanvasRenderer.renderRectangle(L,bS+0,bT+0,bN.c.get('size').gv(bQ)*0.895833333333333+4,bN.c.get('size').gv(bQ)*0.895833333333333+4,bR,2);if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledSquareHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);tab.CanvasRenderer.renderRectangle(L,bS+0,bT+0,bN.c.get('size').gv(bQ)*0.9375+1,bN.c.get('size').gv(bQ)*0.9375+1,bR,1);if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledSquarePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);tab.CanvasRenderer.renderRectangle(L,bS+0,bT+0,bN.c.get('size').gv(bQ)*0.9375+2,bN.c.get('size').gv(bQ)*0.9375+2,bR,2);if(bX!==0){L.restore()}}}};Y.renderShapeIDAsteriskHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(36);var bZ=(bN.c.get('size').gv(bQ)*0.958333333333333+2)/2;var ca=0.899999976158142*bZ;var cb=(bN.c.get('size').gv(bQ)*0.958333333333333+6)/4;var cc=2.5;var cd=1.5;bY[0]=-cc+bS;bY[1]=0+bT;bY[2]=-ca+bS;bY[3]=cb-cc+bT;bY[4]=cd-ca+bS;bY[5]=cb+bT;bY[6]=-cd+bS;bY[7]=cc+bT;bY[8]=-cd+bS;bY[9]=bZ+bT;bY[10]=cd+bS;bY[11]=bZ+bT;bY[12]=cd+bS;bY[13]=cc+bT;bY[14]=ca-cd+bS;bY[15]=cb+bT;bY[16]=ca+bS;bY[17]=cb-cc+bT;bY[18]=cc+bS;bY[19]=0+bT;bY[20]=ca+bS;bY[21]=cc-cb+bT;bY[22]=ca-cd+bS;bY[23]=-cb+bT;bY[24]=cd+bS;bY[25]=-cc+bT;bY[26]=cd+bS;bY[27]=-bZ+bT;bY[28]=-cd+bS;bY[29]=-bZ+bT;bY[30]=-cd+bS;bY[31]=-cc+bT;bY[32]=cd-ca+bS;bY[33]=-cb+bT;bY[34]=-ca+bS;bY[35]=cc-cb+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDAsteriskPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(36);var bZ=(bN.c.get('size').gv(bQ)*0.958333333333333+4)/2;var ca=0.899999976158142*bZ;var cb=(bN.c.get('size').gv(bQ)*0.958333333333333+8)/4;var cc=3;var cd=2;bY[0]=-cc+bS;bY[1]=0+bT;bY[2]=-ca+bS;bY[3]=cb-cc+bT;bY[4]=cd-ca+bS;bY[5]=cb+bT;bY[6]=-cd+bS;bY[7]=cc+bT;bY[8]=-cd+bS;bY[9]=bZ+bT;bY[10]=cd+bS;bY[11]=bZ+bT;bY[12]=cd+bS;bY[13]=cc+bT;bY[14]=ca-cd+bS;bY[15]=cb+bT;bY[16]=ca+bS;bY[17]=cb-cc+bT;bY[18]=cc+bS;bY[19]=0+bT;bY[20]=ca+bS;bY[21]=cc-cb+bT;bY[22]=ca-cd+bS;bY[23]=-cb+bT;bY[24]=cd+bS;bY[25]=-cc+bT;bY[26]=cd+bS;bY[27]=-bZ+bT;bY[28]=-cd+bS;bY[29]=-bZ+bT;bY[30]=-cd+bS;bY[31]=-cc+bT;bY[32]=cd-ca+bS;bY[33]=-cb+bT;bY[34]=-ca+bS;bY[35]=cc-cb+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDPlusHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=(bN.c.get('size').gv(bQ)*0.916666666666667+2)/2;var ca=1.5;bY[0]=-ca+bS;bY[1]=-bZ+bT;bY[2]=-ca+bS;bY[3]=-ca+bT;bY[4]=-bZ+bS;bY[5]=-ca+bT;bY[6]=-bZ+bS;bY[7]=ca+bT;bY[8]=-ca+bS;bY[9]=ca+bT;bY[10]=-ca+bS;bY[11]=bZ+bT;bY[12]=ca+bS;bY[13]=bZ+bT;bY[14]=ca+bS;bY[15]=ca+bT;bY[16]=bZ+bS;bY[17]=ca+bT;bY[18]=bZ+bS;bY[19]=-ca+bT;bY[20]=ca+bS;bY[21]=-ca+bT;bY[22]=ca+bS;bY[23]=-bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDPlusPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=(bN.c.get('size').gv(bQ)*0.916666666666667+3)/2;var ca=2;bY[0]=-ca+bS;bY[1]=-bZ+bT;bY[2]=-ca+bS;bY[3]=-ca+bT;bY[4]=-bZ+bS;bY[5]=-ca+bT;bY[6]=-bZ+bS;bY[7]=ca+bT;bY[8]=-ca+bS;bY[9]=ca+bT;bY[10]=-ca+bS;bY[11]=bZ+bT;bY[12]=ca+bS;bY[13]=bZ+bT;bY[14]=ca+bS;bY[15]=ca+bT;bY[16]=bZ+bS;bY[17]=ca+bT;bY[18]=bZ+bS;bY[19]=-ca+bT;bY[20]=ca+bS;bY[21]=-ca+bT;bY[22]=ca+bS;bY[23]=-bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledPlusHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=bN.c.get('size').gv(bQ)*0.9375/2;var ca=bZ/3;bY[0]=-ca+bS;bY[1]=-bZ+bT;bY[2]=-ca+bS;bY[3]=-ca+bT;bY[4]=-bZ+bS;bY[5]=-ca+bT;bY[6]=-bZ+bS;bY[7]=ca+bT;bY[8]=-ca+bS;bY[9]=ca+bT;bY[10]=-ca+bS;bY[11]=bZ+bT;bY[12]=ca+bS;bY[13]=bZ+bT;bY[14]=ca+bS;bY[15]=ca+bT;bY[16]=bZ+bS;bY[17]=ca+bT;bY[18]=bZ+bS;bY[19]=-ca+bT;bY[20]=ca+bS;bY[21]=-ca+bT;bY[22]=ca+bS;bY[23]=-bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledPlusPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=(bN.c.get('size').gv(bQ)*0.9375+1)/2;var ca=(bN.c.get('size').gv(bQ)*0.9375+3)/6;bY[0]=-ca+bS;bY[1]=-bZ+bT;bY[2]=-ca+bS;bY[3]=-ca+bT;bY[4]=-bZ+bS;bY[5]=-ca+bT;bY[6]=-bZ+bS;bY[7]=ca+bT;bY[8]=-ca+bS;bY[9]=ca+bT;bY[10]=-ca+bS;bY[11]=bZ+bT;bY[12]=ca+bS;bY[13]=bZ+bT;bY[14]=ca+bS;bY[15]=ca+bT;bY[16]=bZ+bS;bY[17]=ca+bT;bY[18]=bZ+bS;bY[19]=-ca+bT;bY[20]=ca+bS;bY[21]=-ca+bT;bY[22]=ca+bS;bY[23]=-bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDTimesHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=(bN.c.get('size').gv(bQ)*0.875+4)/2;var ca=2;bY[0]=-bZ+ca+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=-bZ+ca+bT;bY[4]=-ca+bS;bY[5]=0+bT;bY[6]=-bZ+bS;bY[7]=bZ-ca+bT;bY[8]=-bZ+ca+bS;bY[9]=bZ+bT;bY[10]=0+bS;bY[11]=ca+bT;bY[12]=bZ-ca+bS;bY[13]=bZ+bT;bY[14]=bZ+bS;bY[15]=bZ-ca+bT;bY[16]=ca+bS;bY[17]=0+bT;bY[18]=bZ+bS;bY[19]=-bZ+ca+bT;bY[20]=bZ-ca+bS;bY[21]=-bZ+bT;bY[22]=0+bS;bY[23]=-ca+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDTimesPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=(bN.c.get('size').gv(bQ)*0.875+4)/2;var ca=3;bY[0]=-bZ+ca+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=-bZ+ca+bT;bY[4]=-ca+bS;bY[5]=0+bT;bY[6]=-bZ+bS;bY[7]=bZ-ca+bT;bY[8]=-bZ+ca+bS;bY[9]=bZ+bT;bY[10]=0+bS;bY[11]=ca+bT;bY[12]=bZ-ca+bS;bY[13]=bZ+bT;bY[14]=bZ+bS;bY[15]=bZ-ca+bT;bY[16]=ca+bS;bY[17]=0+bT;bY[18]=bZ+bS;bY[19]=-bZ+ca+bT;bY[20]=bZ-ca+bS;bY[21]=-bZ+bT;bY[22]=0+bS;bY[23]=-ca+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledTimesHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=bN.c.get('size').gv(bQ)*0.9375/2;var ca=bN.c.get('size').gv(bQ)*0.9375/4;bY[0]=-ca+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=-ca+bT;bY[4]=-ca+bS;bY[5]=0+bT;bY[6]=-bZ+bS;bY[7]=ca+bT;bY[8]=-ca+bS;bY[9]=bZ+bT;bY[10]=0+bS;bY[11]=ca+bT;bY[12]=ca+bS;bY[13]=bZ+bT;bY[14]=bZ+bS;bY[15]=ca+bT;bY[16]=ca+bS;bY[17]=0+bT;bY[18]=bZ+bS;bY[19]=-ca+bT;bY[20]=ca+bS;bY[21]=-bZ+bT;bY[22]=0+bS;bY[23]=-ca+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledTimesPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(24);var bZ=bN.c.get('size').gv(bQ)*0.9375/2;var ca=bN.c.get('size').gv(bQ)*0.9375/4;bY[0]=-ca+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=-ca+bT;bY[4]=-ca+bS;bY[5]=0+bT;bY[6]=-bZ+bS;bY[7]=ca+bT;bY[8]=-ca+bS;bY[9]=bZ+bT;bY[10]=0+bS;bY[11]=ca+bT;bY[12]=ca+bS;bY[13]=bZ+bT;bY[14]=bZ+bS;bY[15]=ca+bT;bY[16]=ca+bS;bY[17]=0+bT;bY[18]=bZ+bS;bY[19]=-ca+bT;bY[20]=ca+bS;bY[21]=-bZ+bT;bY[22]=0+bS;bY[23]=-ca+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDDiamondHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(8);var bZ=(bN.c.get('size').gv(bQ)*1.04166666666667+3)/2;bY[0]=0+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=0+bT;bY[4]=0+bS;bY[5]=bZ+bT;bY[6]=bZ+bS;bY[7]=0+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDDiamondPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(8);var bZ=(bN.c.get('size').gv(bQ)*1.04166666666667+4)/2;bY[0]=0+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=0+bT;bY[4]=0+bS;bY[5]=bZ+bT;bY[6]=bZ+bS;bY[7]=0+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledDiamondHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(8);var bZ=bN.c.get('size').gv(bQ)*1.04166666666667/2;bY[0]=0+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=0+bT;bY[4]=0+bS;bY[5]=bZ+bT;bY[6]=bZ+bS;bY[7]=0+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledDiamondPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(8);var bZ=(bN.c.get('size').gv(bQ)*1.04166666666667+2)/2;bY[0]=0+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=0+bT;bY[4]=0+bS;bY[5]=bZ+bT;bY[6]=bZ+bS;bY[7]=0+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+3)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+6)/2;bY[0]=0+bS;bY[1]=-ca+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+4)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+8)/2;bY[0]=0+bS;bY[1]=-ca+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=bN.c.get('size').gv(bQ)*0.916666666666667/2;bY[0]=0+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.916666666666667+1)/2;bY[0]=0+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDDownTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+2.5)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+6)/2;bY[0]=0+bS;bY[1]=ca+bT;bY[2]=-bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=-bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDDownTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+4)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+8)/2;bY[0]=0+bS;bY[1]=ca+bT;bY[2]=-bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=-bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledDownTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=bN.c.get('size').gv(bQ)*0.916666666666667/2;bY[0]=0+bS;bY[1]=bZ+bT;bY[2]=-bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=-bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledDownTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.916666666666667+1)/2;bY[0]=0+bS;bY[1]=bZ+bT;bY[2]=-bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=-bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDLeftTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+3)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+6)/2;bY[0]=-ca+bS;bY[1]=0+bT;bY[2]=bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDLeftTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+4)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+8)/2;bY[0]=-ca+bS;bY[1]=0+bT;bY[2]=bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledLeftTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=bN.c.get('size').gv(bQ)*0.916666666666667/2;bY[0]=-bZ+bS;bY[1]=0+bT;bY[2]=bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledLeftTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.916666666666667+1)/2;bY[0]=-bZ+bS;bY[1]=0+bT;bY[2]=bZ+bS;bY[3]=-bZ+bT;bY[4]=bZ+bS;bY[5]=bZ+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDRightTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+3)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+6)/2;bY[0]=-bZ+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=ca+bS;bY[5]=0+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDRightTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.895833333333333+4)/2;var ca=(bN.c.get('size').gv(bQ)*0.895833333333333+8)/2;bY[0]=-bZ+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=ca+bS;bY[5]=0+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledRightTriangleHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=bN.c.get('size').gv(bQ)*0.916666666666667/2;bY[0]=-bZ+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=bZ+bS;bY[5]=0+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledRightTrianglePressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(6);var bZ=(bN.c.get('size').gv(bQ)*0.916666666666667+1)/2;bY[0]=-bZ+bS;bY[1]=-bZ+bT;bY[2]=-bZ+bS;bY[3]=bZ+bT;bY[4]=bZ+bS;bY[5]=0+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledStarHoverOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(20);var bZ=bN.c.get('size').gv(bQ)*1.09166666666667+2;var ca=bZ*0.3877;var cb=bZ/2;bY[0]=0+bS;bY[1]=-cb+bZ*0.0246+bT;bY[2]=-cb+bZ*0.3817+bS;bY[3]=-cb+ca+bT;bY[4]=-cb+bS;bY[5]=-cb+ca+bT;bY[6]=-cb+bZ*0.3088+bS;bY[7]=-cb+bZ*0.612+bT;bY[8]=-cb+bZ*0.1909+bS;bY[9]=-cb+bZ*0.9751+bT;bY[10]=0+bS;bY[11]=-cb+bZ*0.7507+bT;bY[12]=-cb+bZ*0.8085+bS;bY[13]=-cb+bZ*0.9751+bT;bY[14]=-cb+bZ*0.6905+bS;bY[15]=-cb+bZ*0.612+bT;bY[16]=cb+bS;bY[17]=-cb+ca+bT;bY[18]=-cb+bZ*0.6176+bS;bY[19]=-cb+ca+bT;L.set_lineWidth(1);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.renderShapeIDFilledStarPressedOverlayImage=function(L,bN,bO,bP,bQ){var bR=bN.c.get('selected_halo_color').gv(bQ)['colorOverrideNone'];var bS=bO;var bT=bP;{var bU=bN.getMarkInstanceOffsets(bQ);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Y.$c(L,bX);{var bY=new Array(20);var bZ=bN.c.get('size').gv(bQ)*1.09166666666667+4;var ca=bZ*0.3877;var cb=bZ/2;bY[0]=0+bS;bY[1]=-cb+bZ*0.0246+bT;bY[2]=-cb+bZ*0.3817+bS;bY[3]=-cb+ca+bT;bY[4]=-cb+bS;bY[5]=-cb+ca+bT;bY[6]=-cb+bZ*0.3088+bS;bY[7]=-cb+bZ*0.612+bT;bY[8]=-cb+bZ*0.1909+bS;bY[9]=-cb+bZ*0.9751+bT;bY[10]=0+bS;bY[11]=-cb+bZ*0.7507+bT;bY[12]=-cb+bZ*0.8085+bS;bY[13]=-cb+bZ*0.9751+bT;bY[14]=-cb+bZ*0.6905+bS;bY[15]=-cb+bZ*0.612+bT;bY[16]=cb+bS;bY[17]=-cb+ca+bT;bY[18]=-cb+bZ*0.6176+bS;bY[19]=-cb+ca+bT;L.set_lineWidth(2);L.set_strokeStyle(bR);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bY,true,true)}if(bX!==0){L.restore()}}}};Y.$d=function(){return(tab.BrowserSupport.get_isChrome()?0.400000005960464:0)};Y.$c=function(L,bN){if(!tab.DoubleUtil.isApproximatelyEqual(bN,0)){L.save();L.translate(bN,0)}};Y.$2=function(L,bN,bO,bP,bQ,bR){var bS=Math.min(bO,bQ);var bT=Math.max(bO,bQ);var bU=Math.min(bP,bR);var bV=Math.max(bP,bR);var bW=Y.roundStartAndExtent(bS,bT-bS,L.minBarHeight);var bX=Y.roundStartAndExtent(bU,bV-bU,L.minBarWidth);tab.RectXYUtil.unionInPlace$1(bN,bX.item1,bW.item1,Math.floor(bX.item2),Math.floor(bW.item2))};Y.$3=function(L,bN,bO,bP,bQ,bR,bS,bT,bU,bV){var bW=bN.c.get('draw_border').gv(bO);var bX=(bW?1:0);var bY=((bN.markType==='text')?0:1);var bZ=Math.min(bP,bQ);var ca=Math.min(bR,bS);var cb=Math.abs(bQ-bP);var cc=Math.abs(bS-bR);var cd=Y.roundStartAndExtent(ca,cc,bN.minBarHeight);var ce=Y.roundStartAndExtent(bZ,cb,bN.minBarWidth);bZ=ce.item1-bY;ca=cd.item1-bY;cb=ce.item2+bV+bX+bY-1;cc=cd.item2+bV+bX+bY-1;if(bU){cb=cc=Math.min(cb,cc)}if(!bN.isWrappedDomain){var cf=bN.getUserPaneRectByMark(bO);if(!tab.RectXYUtil.intersectsWith$1(cf,Math.floor(bZ),Math.floor(ca),Math.floor(cb),Math.floor(cc))){return}if(cf.x>=bZ){var cg=cf.x+bV-1;cb-=cg-bZ;bZ=cg}if(cf.x+cf.w<=bZ+cb){cb=cf.x+cf.w-bZ-1}if(cf.y>=ca){var ch=cf.y+bV-1;cc-=ch-ca;ca=ch}if(cf.y+cf.h<=ca+cc){cc=cf.y+cf.h-ca-1}}L.set_lineJoin('miter');Y.$9(L,bZ,ca,cb,cc,bT['colorOverrideNone'],bV,bN.minBarWidth,bN.minBarHeight,false)};Y.bBoxGeometry=function(L,bN,bO,bP){var bQ={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(bP.geometryType){case'multiPolygon':{tab.CanvasRenderer.boundsMultipolygon(bP.multiPolygon,bQ);break}case'multiLineString':{tab.CanvasRenderer.boundsMultilineString(bP.multiLine,bQ);break}case'multiPoint':{tab.CanvasRenderer.boundsCoordinateArray(bP.multiPoint.pointsF,bQ);break}default:{return}}var bR=bN.transformBounds(bQ);tab.DoubleRectXYUtil.outsetRectInPlace(bR,bO,bO);tab.RectXYUtil.unionInPlace(L,tab.DoubleRectXYUtil.toEncompassingRectXY(bR))};Y.$6=function(L,bN,bO,bP){switch(bO){case'highlightedUnder':case'normalUnder':{return L.c.get('halo_color').gv(bN)[bP]}case'selectedOn':case'highlightedOn':case'normalOn':{return L.getMarkColors(bN)[bP]}case'border':{return L.getBorderColors(bN)[bP]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return L.c.get('selected_halo_color').gv(bN)[bP]}}return Y.$f};Y.$5=function(L,bN,bO,bP,bQ,bR){var bS=Math.atan2(bQ-bN,bP-L);var bT=Math.cos(bS);var bU=Math.sin(bS);bO/=2;bR/=2;var bV=bO*bU;var bW=bR*bU;var bX=bO*bT;var bY=bR*bT;var bZ=new Array(8);bZ[0]=L+bV;bZ[1]=bN-bX;bZ[2]=bP+bW;bZ[3]=bQ-bY;bZ[4]=bP-bW;bZ[5]=bQ+bY;bZ[6]=L-bV;bZ[7]=bN+bX;return bZ};Y.$8=function(L,bN,bO,bP,bQ,bR,bS,bT){var bU=Y.$5(bO,bP,bQ,bR,bS,bT);return y.isPointInPoly(bU,{x:L,y:bN})};Y.$0=function(L,bN,bO,bP,bQ,bR,bS){var bT=Y.$5(bN,bO,bP,bQ,bR,bS);var bU=bT[0];var bV=bU;var bW=bT[1];var bX=bW;var bY=bT.length;for(var bZ=0;bZ<bY;bZ=bZ+2){bU=Math.min(bU,bT[bZ]);bV=Math.max(bV,bT[bZ]);bW=Math.min(bW,bT[bZ+1]);bX=Math.max(bX,bT[bZ+1])}tab.RectXYUtil.unionInPlace(L,{x:bU<<0,y:bW<<0,w:(bV-bU<<0)+1,h:(bX-bW<<0)+1})};Y.$1=function(L,bN,bO,bP,bQ){if(bP>bQ){var bR=bP;bP=bQ;bQ=bR}if(bQ-bP>=1){var bS=Math.ceil(2*bO);return{x:Math.floor(L-bO),y:Math.floor(bN-bO),w:bS,h:bS}}var bT=tab.CanvasRenderer.toCanvasAngle(bP);var bU=tab.CanvasRenderer.toCanvasAngle(bQ);var bV=[];bV.push({x:L,y:bN});bV.push({x:L+bO*Math.cos(bT),y:bN+bO*Math.sin(bT)});bV.push({x:L+bO*Math.cos(bU),y:bN+bO*Math.sin(bU)});var bW=bV;bT=y.normalizeAngle(bT);bU=y.normalizeAngle(bU);if(y.isInBetweenAngles(0,bT,bU)){bW.push({x:L+bO,y:bN})}if(y.isInBetweenAngles(tab.CanvasRenderer.halfPI,bT,bU)){bW.push({x:L,y:bN+bO})}if(y.isInBetweenAngles(tab.CanvasRenderer.onePI,bT,bU)){bW.push({x:L-bO,y:bN})}if(y.isInBetweenAngles(tab.CanvasRenderer.oneAndHalfPI,bT,bU)){bW.push({x:L,y:bN-bO})}var bX=Number.POSITIVE_INFINITY;var bY=Number.POSITIVE_INFINITY;var bZ=Number.NEGATIVE_INFINITY;var ca=Number.NEGATIVE_INFINITY;for(var cb=0;cb<bW.length;cb++){var cc=bW[cb];bX=Math.min(bX,cc.x);bY=Math.min(bY,cc.y);bZ=Math.max(bZ,cc.x);ca=Math.max(ca,cc.y)}return tab.RectXYUtil.rectXYFromMinAndMax(bX,bY,bZ,ca)};Y.roundStartAndExtent=function(L,bN,bO){var bP=Math.round(L+bN);L=Math.round(L);bN=Math.max(Math.abs(bP-L),bO);return{item1:L,item2:bN}};Y.$7=function(L,bN,bO,bP,bQ,bR,bS,bT,bU,bV){if(bO<0){L+=bO;bO=Math.abs(bO)}if(bP<0){bN+=bP;bP=Math.abs(bP)}var bW=Y.roundStartAndExtent(L-bQ,bO+bQ+bQ,bS+bQ+bQ);var bX=Y.roundStartAndExtent(bN-bR,bP+bR+bR,bT+bR+bR);var bY={x:ss.Int32.trunc(bX.item1),y:ss.Int32.trunc(bW.item1),w:ss.Int32.trunc(bX.item2),h:ss.Int32.trunc(bW.item2)};if(tab.RectXYUtil.inRectPointF(bY,{x:bU,y:bV})){return true}return false};Y.$a=function(L,bN,bO,bP,bQ){var bR=bN.c.get('shape_id').gv(bO);if(ss.isValue(bR)){var bS=tab.ApplicationModel.get_instance().get_shapeManager();var bT=bS.getImageElement(bR);if(!ss.isValue(bT)){tab.CanvasRenderer.renderCircle(L,bN.c.get('x').gv(bO),bN.c.get('y').gv(bO),bN.c.get('size').gv(bO),Y.$6(bN,bO,bP,bQ),2);return}if(!bT.complete){return}var bU=bN.hasConstantColor;var bV=bN.c.get('size').gv(bO);var bW=bN.c.get('left').gv(bO);var bX=bN.c.get('top').gv(bO);var bY;var bZ;if(bT.naturalWidth>bT.naturalHeight){var ca=bT.naturalWidth/bT.naturalHeight;bY=bV;bZ=bV/ca;bX+=Math.round((bV-bZ)/2)}else{var cb=bT.naturalHeight/bT.naturalWidth;bY=bV/cb;bZ=bV;bW+=Math.round((bV-bY)/2)}bY=Math.round(bY);bZ=Math.round(bZ);var cc=Y.$4(bN,bO,bP,bQ);bP=((bP==='normalOn'&&bQ==='colorOverrideOpaque')?'selectedOn':bP);var cd=tab.ShapeManager.getCacheKey$1(bR,bP,bQ,cc.toString(),bY,bZ);var ce=bS.getCachedCanvas(cd);if(ss.isNullOrUndefined(ce)){var cf=null;switch(bP){case'normalUnder':case'highlightedUnder':case'selectedUnder':{cf=function(){return bu.generateSelectedUnderCustomShape(bT,cc,tab.ShapeManager.selectionBorderSize,bY,bZ)};break}case'normalOn':{if(bU){if(bQ==='colorOverrideFog'){cf=function(){return bu.applyFoggingToImage(bT,bN.foggedBackgroundColor,bN.fogBlendFactor,bY,bZ)}}}else{cf=function(){return bu.colorTransformImage(bT,cc,bY,bZ)}}break}case'highlightedOn':{if(!bU){cf=function(){return bu.colorTransformImage(bT,cc,bY,bZ)}}break}case'selectedOn':{if(!bU){cf=function(){cc=tab.ColorModel.fromColorModelPlusAlpha(cc,255);return bu.colorTransformImage(bT,cc,bY,bZ)}}break}case'hoverOverlay':{cf=function(){return bu.generateOverlayForShape(bT,cc,tab.ShapeManager.selectionBorderSize,bY,bZ)};break}case'pressedOverlay':{cf=function(){return bu.generateOverlayForShape(bT,cc,tab.ShapeManager.selectionBorderSize*2,bY,bZ)};break}}if(!ss.isValue(cf)){cf=function(){return bu.generateCanvasAndPrescaleAsNeeded(bT,bY,bZ)}}ce=bS.generateCachedCanvas(cd,cf)}if(ss.isValue(ce)){switch(bP){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{L.drawImage3(ce,bW-tab.ShapeManager.selectionBorderSize,bX-tab.ShapeManager.selectionBorderSize,ce.width,ce.height);break}case'pressedOverlay':{L.drawImage3(ce,bW-tab.ShapeManager.selectionBorderSize*2,bX-tab.ShapeManager.selectionBorderSize*2,ce.width,ce.height);break}case'normalOn':{L.set_alpha(cc.get_a());L.drawImage3(ce,bW,bX,bY,bZ);break}default:{L.drawImage3(ce,bW,bX,bY,bZ);break}}}else{}}};Y.$4=function(L,bN,bO,bP){var bQ=Y.$6(L,bN,bO,bP);return tab.ColorModel.fromColorCode(bQ)};Y.$9=function(L,bN,bO,bP,bQ,bR,bS,bT,bU,bV){L.set_lineWidth(bS);L.set_strokeStyle(bR);var bW=((Math.round(bS)%2===0)?0:0.5);var bX=Y.roundStartAndExtent(bO,bQ,bU);var bY=Y.roundStartAndExtent(bN,bP,bT);if(bV){var bZ=Math.min(bY.item2,bX.item2);bY={item1:bY.item1,item2:bZ};bX={item1:bX.item1,item2:bZ}}L.strokeRect(bY.item1+bW,bX.item1+bW,bY.item2,bX.item2)};Y.$b=function(L,bN,bO,bP,bQ,bR,bS,bT,bU){L.set_shapeFillStyle(bR);{var bV=Y.roundStartAndExtent(bO,bQ,bT);bO=bV.item1;bQ=bV.item2;var bW=Y.roundStartAndExtent(bN,bP,bS);bN=bW.item1;bP=bW.item2}if(bU){bP=bQ=Math.min(bP,bQ)}L.fillRect(bN,bO,bP,bQ)};global.tab.MarksRenderer=Y;var Z=function(){};Z.__typeName='tab.NodeType';global.tab.NodeType=Z;var ba=function(){this.hasPixelGeometry=false;this.$j=tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction');this.worldWidth=0;this.sceneInfo=null;this.c=new Map;this.labelColumnIterators=null;this.textRunColumnIterators=null;this.textStyleColumnIterators=null;this.domainExtents=null;this.$m=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap=new Map;this.$f=null;this.$k=null;this.markInstanceOffsets=null;this.markLabelInstanceOffsets=null;this.$l=null;this.$h=new Set;this.$n=false;this.shapeMarkStampingDecision=null;this.$g=null;this.$i=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.paneDrawInfoKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.markLabelWorldOffsets=null;this.$e=null;this.minBarHeight=0;this.lineInterpolation=null;this.minBarWidth=0;this.lineMarkerPosition=null;if(ss.isNullOrUndefined(ba.$d)){ba.$d=new Map;ba.$d.set(1,0);ba.$d.set(2,-Math.PI*0.5);ba.$d.set(3,Math.PI*0.5)}if(ss.isNullOrUndefined(ba.$b)){ba.$b=new Map;ba.$b.set('theta',{x:0,y:1});ba.$b.set('theta1',{x:0,y:1});ba.$b.set('size',{x:0,y:4096});ba.$b.set('text_run_x',{x:0,y:4096});ba.$b.set('text_run_direction_x',{x:0,y:4096});ba.$b.set('text_run_y',{x:0,y:4096});ba.$b.set('text_run_direction_y',{x:0,y:4096});for(var L=0;L<ba.$5.length;L++){var bN=ba.$5[L];ba.$b.set(bN,{x:0,y:0})}for(var bO=0;bO<ba.$6.length;bO++){var bP=ba.$6[bO];ba.$b.set(bP,{x:0,y:0})}}if(ss.isNullOrUndefined(ba.$c)){ba.$c=[];ba.$c.push(0)}this.setDefaultLabelLookupValues()};ba.__typeName='tab.PaneDrawInfo';ba.$ctor1=function(L,bN,bO,bP,bQ,bR,bS){ba.call(this);if(ss.isNullOrUndefined(bO)){throw new ss.ArgumentNullException('pane')}if(ss.isNullOrUndefined(bP)){throw new ss.ArgumentNullException('paneMarks')}if(ss.isNullOrUndefined(bQ)){throw new ss.ArgumentNullException('pdMarks')}this.skipClipping=false;this.paneDrawInfoKey=bS;this.sceneInfo=bN;this.paneMarks=bP;this.forceOpaqueColors=false;this.pdMarksKey=L;this.paneColumn=bO.columnIndex;this.paneRow=bO.rowIndex;this.paneRect=tab.RecordCast.rectPresModelAsRectXY(bO.paneRect);this.domainExtents=tab.SceneDataUtil.getPaneDomainExtents(bO);this.markCount=tab.SceneDataUtil.getNumPaneItems(this.paneMarks);this.markType=bQ.markLayoutPrimitive;this.showLabels=bQ.showMarkLabels;this.labelMode=bQ.markLabelsMode;this.set_paneFlags(bQ.intMap['pane_flags']);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=tab.VisualColumnHelpers.parseColumns(bQ,bP.startIndex,this.markCount);if(tab.FeatureFlags.isEnabled('RuntimeWebRenderFromFinalDatastore')){this.hasConstantColor=!ss.isNullOrUndefined(bQ.boolMap)&&ss.keyExists(bQ.boolMap,'has_per_mark_color_encoding')&&bQ.boolMap['has_per_mark_color_encoding']===false||ss.keyExists(bQ.intMap,'color')}else{this.hasConstantColor=ss.keyExists(bQ.intMap,'color')}var bT=tab.ColorModel.white;if(this.c.has('background_color')){var bU=this.c.get('background_color');bT=tab.ColorModel.fromArgbInt(bU.v[(bU.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(bT);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(bT,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(bN.sceneUserPaneInfo);this.processColors(bR);this.initStaticProperties();this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}this.parseTextInfo(bQ.textRunColumns,bQ.textStyleColumns,false);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=ba.buildMapExtentsRect(bP.mapDomainExtents,this.domainExtents,this.paneRect);this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()};ba.buildMapExtentsRect=function(L,bN,bO){if(ss.isNullOrUndefined(L)||L.width===0||L.height===0){return null}return{x:ss.Int32.trunc(ba.domainToPixelX(L.doubleLeft,bN,bO)),y:ss.Int32.trunc(ba.domainToPixelY(L.doubleTop,bN,bO)),w:ss.Int32.trunc(ba.domainToPixelWidth(L.width,bN,bO)),h:ss.Int32.trunc(ba.domainToPixelHeight(L.height,bN,bO))}};ba.domainToPixelX=function(L,bN,bO){return y.$5(L,bN.x,bO.x,bO.w/bN.w)};ba.domainToPixelY=function(L,bN,bO){return y.$5(L,bN.y,bO.y,bO.h/bN.h)};ba.domainToPixelWidth=function(L,bN,bO){return L/bN.w*bO.w};ba.domainToPixelHeight=function(L,bN,bO){return L/bN.h*bO.h};ba.$0=function(L,bN){var bO=new ss.StringBuilder;if(ss.keyExists(L,'font_style')&&parseInt(L['font_style'].dataValues[bN].toString())===1){bO.append('italic ')}if(ss.keyExists(L,'font_weight')&&parseInt(L['font_weight'].dataValues[bN].toString())===1){bO.append('bold ')}var bP=parseInt(L['font_size'].dataValues[bN].toString());bP=Math.max(6,bP);var bQ=L['font'].dataValues[bN];bQ=o.$1(bQ);bO.append(bP+'pt '+bQ);return bO.toString()};ba.getMarkBoundingBox=function(L,bN,bO,bP){var bQ;switch(L){case'shape':{bQ=Y.shapeMarkBuildMarkBound(bO,bN);break}case'bar':case'square':{bQ=Y.barMarkBuildMarkBound(bO,bN);break}case'pie':{bQ=Y.getPieBoundingBox(bO,bN);break}case'text':{bQ=Y.textMarkBuildMarkBound(bO,bN);break}case'label':{bQ=Y.getMarkLabelBoundingBox(bO,bN);break}case'line':{bQ=Y.lineMarkBuildMarkBound(bO,bN);break}case'area':{bQ=Y.areaMarkBuildMarkBound(bO,bN);break}case'multipolygon':{bQ=Y.multipolygonMarkBuildMarkBound(bO,bN);break}default:{bQ=ba.$1(bO,bN);break}}if(bO.hasUserPanes){tab.RectXYUtil.intersectInPlace(bQ,bP)}return bQ};ba.$1=function(L,bN){var bO=L.c.get('x').gv(bN);var bP=L.c.get('y').gv(bN);var bQ=L.c.get('size').gv(bN);var bR=Math.ceil(bQ);return{x:Math.floor(bO-bQ/2+0.5),y:Math.floor(bP-bQ/2+0.5),w:bR,h:bR}};global.tab.PaneDrawInfo=ba;var bb=function(L,bN){this.$p=null;this.$r=null;this.$q=null;this.$s=null;tab.CanvasRenderer.call(this,L,bN);var bO=(ss.isValue(this.$s)?this.$s.colorModel:K.defaultColors);this.$p=new o(L,bN,bO);if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){this.$q=bn.get_instance();this.$r=this.$q.createNonMarksRenderer(L,bN)}};bb.__typeName='tab.PaneTable2DRenderer';bb.renderHoverOverlay=function(L,bN,bO){if(ss.isNullOrUndefined(bO)||ss.isNullOrUndefined(bN)){return}{var bP=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var bQ=bN.getMarkIndexFromTupleId(L);switch(bN.markType){case'area':{Y.renderAreaMarkHoverOverlayImage(bO,bN,bQ);break}case'bar':case'square':{Y.renderBarHoverOverlayImage(bO,bN,bQ);break}case'line':{Y.renderLineMarkHoverOverlayImage(bO,bN,bQ);break}case'multipolygon':{Y.renderMultipolygonMarkHoverOverlayImage(bO,bN,bQ);break}case'pie':{Y.renderPieHoverOverlayImage(bO,bN,bQ);break}case'shape':{Y.renderShapeHoverOverlayImage(bO,bN,bQ);break}case'text':{Y.renderTextHoverOverlayImage(bO,bN,bQ);break}}}finally{if(ss.isValue(bP)){bP.dispose()}}}};bb.renderPressedOverlay=function(L,bN,bO){if(ss.isNullOrUndefined(bO)||ss.isNullOrUndefined(bN)){return}{var bP=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var bQ=bN.getMarkIndexFromTupleId(L);switch(bN.markType){case'area':{Y.renderAreaMarkPressedOverlayImage(bO,bN,bQ);break}case'bar':case'square':{Y.renderBarPressedOverlayImage(bO,bN,bQ);break}case'line':{Y.renderLineMarkPressedOverlayImage(bO,bN,bQ);break}case'multipolygon':{Y.renderMultipolygonMarkPressedOverlayImage(bO,bN,bQ);break}case'pie':{Y.renderPiePressedOverlayImage(bO,bN,bQ);break}case'shape':{Y.renderShapePressedOverlayImage(bO,bN,L);break}case'text':{Y.renderTextPressedOverlayImage(bO,bN,bQ);break}}}finally{if(ss.isValue(bP)){bP.dispose()}}}};bb.$1=function(L,bN,bO){L[0]=bN.x;L[1]=bN.y;L[2]=bO.x;L[3]=bO.y};bb.$0=function(L,bN,bO,bP){var bQ=bO==='draw-polyline'||bO==='draw-path'||bO==='draw-rect'||bO==='draw-fill-rect';if(bN==='selected'&&bQ){if(tab.ColorModel.isFullyTransparent(L)){return'rgba(0,0,0,1)'}return L.toString()}if(bN==='hover'&&bQ){var bR=77;var bS=new tab.ColorModel(255,255,255,0.449999988079071);var bT=new tab.ColorModel(0,0,0,0.449999988079071);var bU=(L.isValueAboveThreshold(bR)?bT:bS);return((L.get_a()<1)?bU.toString():tab.ColorModel.alphaBlend(bU,L).toString())}if(bN==='normal'&&ss.isValue(bP)){return tab.SceneDataUtil.fogColorTransform(L,bP.item2,bP.item1).toString()}return L.toString()};global.tab.PaneTable2DRenderer=bb;var bc=function(L,bN,bO){ss.makeGenericType(bG,[bg]).call(this,L,bN,bO);this.renderer=new bb(this.canvasElt,this.context);var bP=_.keys(L.get_vizRegionMap());for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];if(!ss.contains(bg.blackListVisualParts,bR)){L.get_vizRegionMap()[bR].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}};bc.__typeName='tab.PaneTableCanvasView';global.tab.PaneTableCanvasView=bc;var bd=function(L,bN,bO){this.$T=null;this.$N=[];this.$M=new f('hover');this.$Q=new f('press');this.$K=false;this.$R=null;this.$L=false;this.$I=[];this.$P=null;this.$J=null;this.$O='normal';this.$S=false;ss.makeGenericType(bG,[bg]).call(this,L,bN,'transparent');this.renderer=new bb(this.canvasElt,this.context);this.$T=bO;var bP=$(this.canvasElt);bP.css('position','absolute');bP.css('left','0px');bP.css('top','0px')};bd.__typeName='tab.PaneTableOverlayView';bd.$0=function(L,bN){var bO=new Set;if(ss.isValue(L)&&L.length>0){tab.SetUtilities.addAll(ss.Int32).call(null,bO,L)}if(ss.isValue(bN)&&bN.length>0){var bP=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,bP,bN);bO=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,bO,bP)}return tab.SetUtilities.getValues(ss.Int32).call(null,bO)};global.tab.PaneTableOverlayView=bd;var be=function(L){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.view=null;this.title=null;this.caption=null;this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.bottomRightSpacer=null;this.borders=null;spiff.Template.call(this,L);var bN=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=bN('.tab-clip');this.yLabel=bN('.tab-tvYLabel');this.leftAxis=bN('.tab-tvLeftAxis');this.rightAxis=bN('.tab-tvRightAxis');this.xLabel=bN('.tab-tvXLabel');this.bottomAxis=bN('.tab-tvBottomAxis');this.topAxis=bN('.tab-tvTopAxis');this.view=bN('.tab-tvView');this.title=bN('.tab-tvTitle');this.caption=bN('.tab-tvCaption');this.topLeftSpacer=bN('.tab-tvTLSpacer');this.topRightSpacer=bN('.tab-tvTRSpacer');this.bottomLeftSpacer=bN('.tab-tvBLSpacer');this.bottomRightSpacer=bN('.tab-tvBRSpacer');this.borders=bN('.tvViewportBorders');this.borders.append($(be.$0))};be.__typeName='tab.PaneTableTemplate';global.tab.PaneTableTemplate=be;var bf=function(L,bN){this.regions={};this.floatingZoomToolbarView=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.wasPressOverlayJustUpdated=false;this.lastVizHoverPoint=null;this.$V=[];this.$10=0;this.$Z={x:0,y:0};this.$Y=0;this.$13=null;this.isAnimationOccurring=false;this.vizTooltip=null;this.$12=null;this.$N=null;this.$P=false;this.$W=null;this.$S=0;this.$X=null;this.$T=null;this.$U=null;this.$L=null;this.$K=null;this.$R=false;this.$11=null;this.$M=null;this.$Q=null;this.$O=new i;this.regionParts=null;this.geometry=null;this.visibleGeometry=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.titleHeight=0;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).call(this,L,bN);this.dom=bN;this.regionParts=new bh(bN);this.get_controller().setTiledViewer(this);this.$10=(new Date).getTime();this.dom.view.attr('id','view'+this.$g());this.dom.domRoot.attr('tb-test-id',tableau.format.escapeHTML(this.get_paneTableVM().get_visualId().worksheet));this.floatingZoomToolbarView=new x(this);var bO=L.get_visualModel();this.$H(bO);this.$B(bO);this.$A();this.$z();this.$x();this.get_paneTableVM().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().add_textUpdated(ss.mkdel(this,this.$i));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().remove_textUpdated(ss.mkdel(this,this.$i))})))};bf.__typeName='tab.PaneTableView';bf.addVizDragApprover=function(L){bf.removeVizDragApprover(L);bf.$7.push(L)};bf.removeVizDragApprover=function(L){ss.remove(bf.$7,L)};bf.addVizDragHandler=function(L){bf.removeVizDragHandler(L);bf.$8.push(L)};bf.addAsyncVizDragHandler=function(L){bf.removeAsyncVizDragHandler(L);bf.$4.push(L)};bf.removeVizDragHandler=function(L){ss.remove(bf.$8,L)};bf.removeAsyncVizDragHandler=function(L){ss.remove(bf.$4,L)};bf.$1=function(L,bN){if(bN==='viz'){return L[1]}return(ss.contains(bh.headerRegions,bN)?L[2]:L[0])};bf.$2=function(L,bN,bO){var bP=bN.length;for(var bQ=0;bQ<bP;bQ++){var bR=bN[bQ];if(bO.x+bR<=L){bO.x+=bR}else{bO.w=bR;return}}};bf.$3=function(L,bN,bO){var bP=bN.length;for(var bQ=0;bQ<bP;bQ++){var bR=bN[bQ];if(bO.y+bR<=L){bO.y+=bR}else{bO.h=bR;return}}};bf.findTitles=function(){return $('.tab-tvTitle')};bf.$0=function(L,bN){var bO=2;var bP={x:L.x,y:L.y};if(bN.w>4){bP=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(bP,bN,bO)}else{bP={x:bN.x+ss.Int32.div(bN.w,2),y:bP.y}}if(bN.h>4){bP=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(bP,bN,bO)}else{bP={x:bP.x,y:bN.y+ss.Int32.div(bN.h,2)}}return bP};bf.guessTooltipTargetTypeFromRegion=function(L){switch(L){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}};bf.isViewDataAccessEnabled=function(){return tab.ApplicationModel.get_instance().get_toolbar().isLegacyMenuItemEnabled('exportdata')};global.tab.PaneTableView=bf;var bg=function(L){this.$w={};this.$u=null;this.$s=null;this.$q=null;this.$p=null;this.$m=null;this.$v=null;this.$o=null;this.$r=false;this.$t=null;this.$n=null;this.$l=null;this.borderHighlighted=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.resizeHeadersViewModel=null;spiff.BaseViewModel.call(this);this.$u=L;this.$o=[];this.$s=new bo;if(ss.isValue(this.$u)){if(ss.isValue(this.$u.get_selectionsModel())){this.$t=this.$u.get_selectionsModel().createSelectionsToken()}if(ss.isValue(this.$u.get_selectionsModel().tupleSelection)){this.$u.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$c))}this.$u.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$u.get_brushingsModel().tupleSelection)){this.$u.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$u.get_sceneModel())){this.$u.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.$b));this.$b();this.$r=false}if(ss.isValue(this.$u.get_labelsModel())){this.$u.get_labelsModel().add_newSceneModel(ss.mkdel(this,this.$b))}this.$u.add_newHiddenTuples(ss.mkdel(this,this.$8));this.$u.add_newFilteredTuples(ss.mkdel(this,this.$7));this.$u.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$u.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$u.add_vizNavigationSettingChanged(ss.mkdel(this,this.$f));this.$u.add_newVisual(ss.mkdel(this,this.$e));this.$u.add_newVisual(ss.mkdel(this,this.$a));this.$u.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6))}var bN=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$g()});this.$v=new by('viz',(ss.isValue(this.$u)?this.$u.get_defaultMapTool():'no-tools'));this.set_floatingToolbarContainerVM(new u(this.$v));this.resizeHeadersViewModel=null;if(tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&tsConfig.is_authoring&&ss.isValue(this.$u.resizeInfoModel)){tab.ModuleManager.load(tab.IResizeHeadersModule).call(null,[]).done(ss.mkdel(this,function(bO){this.resizeHeadersViewModel=bO.getResizeHeadersViewModel(this.$u.resizeInfoModel,this.$u.get_visualId());this.resizeHeadersViewModel.add_updateResizeHeader(ss.mkdel(this,this.$d))}))}tab.ServerFontLoader.get_instance().add_fontPreparationComplete(bN);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(bN)}));this.$j()};bg.__typeName='tab.PaneTableViewModel';bg.updateSceneInfoFromVisualModel=function(L,bN){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(bN)){return}var bO=bN.pm.colorDictionary;var bP=bN.pm.scene;var bQ=(ss.isValue(bN.get_selectionsModel().tupleSelection)?bN.get_selectionsModel():null);var bR=(ss.isValue(bN.get_impliedSelectionModel())?bN.get_impliedSelectionModel():null);var bS=(ss.isValue(bN.get_brushingsModel().tupleSelection)?bN.get_brushingsModel():null);var bT=bN.get_hiddenTuples();var bU=bN.get_filteredTuples();L.setSceneData(bP,bQ,bR,bS,bO,bT,bU);if(ss.isValue(bN.get_labelsModel())&&ss.isValue(bN.get_labelsModel().pm)){L.setLabelInfo(bN.get_labelsModel().pm)}L.setIsTargetOfBrushingAction(bN.get_isBrushedFromAction());L.setEmptyHighlightFogAll(bN.get_emptyHighlightFogAll())};bg.$0=function(L,bN,bO){switch(L.get_reason()){case 1:{if(bN.hasTupleSelection()){return true}return ss.isValue(bO)&&bO.get_selectionType()==='tuples'&&bO.get_ids().length>0}case 2:{return L.get_invalidateViz()||L.get_objectIds().length>0}default:{return false}}};global.tab.PaneTableViewModel=bg;var bh=function(L){this.$1=null;this.$2=null;this.$1=L;this.$2=this.$0()};bh.__typeName='tab.PaneTableViewRegionParts';global.tab.PaneTableViewRegionParts=bh;var bi=function(L,bN){this.$k=null;this.$l=null;this.$j=null;this.$m=false;this.$p='';this.$i=null;this.$n=null;this.$o=null;bs.call(this,L,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$k=[];this.$l=[];this.$j={};this.$m=bN||false;this.$n=null;this.$o=null};bi.__typeName='tab.PolyShapeSelector';bi.$0=function(L,bN,bO){return L>=bN&&bN>=bO||L<=bN&&bN<=bO};global.tab.PolyShapeSelector=bi;var bj=function(){this.$0=null;this.$1=0;bt.call(this);this.$0=[];this.$1=0};bj.__typeName='tab.PolyShapeState';global.tab.PolyShapeState=bj;var bk=function(){this.$d=null;this.$e=null;bs.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$d={x:0,y:0,w:0,h:0};this.$e={x:0,y:0,w:0,h:0}};bk.__typeName='tab.RectShapeSelector';global.tab.RectShapeSelector=bk;var bl=function(){this.$0=null;this.$1=null;bt.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}};bl.__typeName='tab.RectShapeState';global.tab.RectShapeState=bl;var bm=function(L,bN,bO){this.$2=0;this.$1=0;this.$a=0;this.$9=0;this.$7=0;this.$8=0;this.$d=0;this.$0=0;this.$c=0;this.$b=0;this.$6=0;this.$5=0;this.$4=0;this.$3=0;if(ss.isValue(L.title)){this.$1=bm.$0(this.$1,L.title)}if(ss.isValue(L.xheader)){this.$7=L.xheader.x;this.$a=L.xheader.w;this.$1=bm.$0(this.$1,L.xheader)}if(ss.isValue(L.bottomaxis)){this.$7=L.bottomaxis.x;this.$a=L.bottomaxis.w;this.$1=bm.$0(this.$1,L.bottomaxis)}if(ss.isValue(L.topaxis)){this.$1=bm.$0(this.$1,L.topaxis)}if(ss.isValue(L.viz)){this.$7=L.viz.x;this.$a=L.viz.w;this.$1=bm.$0(this.$1,L.viz)}if(ss.isValue(L.caption)){this.$1=bm.$0(this.$1,L.caption)}if(ss.isValue(L.yheader)){this.$8=L.yheader.y;this.$9=L.yheader.h;this.$2=bm.$1(this.$2,L.yheader)}if(ss.isValue(L.leftaxis)){this.$8=L.leftaxis.y;this.$9=L.leftaxis.h;this.$2=bm.$1(this.$2,L.leftaxis)}if(ss.isValue(L.rightaxis)){this.$2=bm.$1(this.$2,L.rightaxis)}if(ss.isValue(L.viz)){this.$8=L.viz.y;this.$9=L.viz.h;this.$2=bm.$1(this.$2,L.viz)}if(this.$9>0){var bP=this.$1;if(this.$2>bN){bP+=tab.Metrics.get_scrollH()}if(bP>bO){this.$6=tab.Metrics.get_scrollW()}}if(this.$a>0&&this.$2>bN){this.$5=tab.Metrics.get_scrollH()}if(tab.BrowserSupport.get_isIE()&&this.$6>0){this.$6+=1}if(tab.BrowserSupport.get_isIE()&&this.$5>0){this.$5+=1}if(this.$9>0){var bQ=this.$1-this.$9;this.$b=bO-bQ-this.$5;this.$b=Math.min(this.$9,this.$b);this.$0=this.$9-this.$b}if(this.$a>0){var bR=this.$2-this.$a;this.$c=bN-bR-this.$6;this.$c=Math.min(this.$a,this.$c);this.$d=this.$a-this.$c}this.$3=Math.min(this.$1-this.$0,bO);this.$4=Math.min(this.$2-this.$d,bN);if(this.$b<0){this.$b=0}if(this.$c<0){this.$c=0}};bm.__typeName='tab.RegionGeometry';bm.$1=function(L,bN){var bO=bN.x+bN.w;return Math.max(L,bO)};bm.$0=function(L,bN){var bO=bN.y+bN.h;return Math.max(L,bO)};global.tab.RegionGeometry=bm;var bn=function(){};bn.__typeName='tab.RuntimeUIModule';bn.get_instance=function(){if(ss.isNullOrUndefined(bn.$0)){tab.ModuleManager.load(N).call(null,[]).done(function(L){bn.$0=L})}return bn.$0};global.tab.RuntimeUIModule=bn;var bo=function(){this.$k=new Map;this.$r=new Map;this.$p=new Map;this.$o=new Map;this.$j=new Map;this.$n=false;this.$h=false;this.$m=null;this.$l=new Map;this.$i=new Map;this.$q=new Map;this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$f=0;this.$g=0;this.customShapes=[];this.$f=0;this.$g=0};bo.__typeName='tab.SceneInfo';bo.getPaneMarksKey=function(L){var bN=L.paneId;return L.paneDescrKey+'_'+bN['columnIndex'.toString()]+'_'+bN['rowIndex'.toString()]+'_'+L.paneIndex};bo.extractCustomShapes=function(L){var bN=[];if(!ss.isValue(L)||!ss.isValue(L.pdMarksMap)){return bN}var bO=Object.keys(L.pdMarksMap);for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];var bR=L.pdMarksMap[bQ];var bS=bR.encodingColumns;if(ss.keyExists(bS,'shape_id')){var bT=bS['shape_id'];var bU=bT.dataValues;for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];if(ss.isValue(bW)&&tab.SceneDataUtil.isCustomShape(bW)){bN.push(bW)}}}if(ss.isValue(bR.intMap)&&ss.keyExists(bR.intMap,'shape_id')){var bX=bR.intMap['shape_id'];if(tab.SceneDataUtil.isCustomShape(bX)){bN.push(bX)}}}return bN};bo.$0=function(L,bN,bO){var bP=L.paneRect.x;var bQ=L.paneRect.y;bN.forEach(function(bR,bS){tab.RectXYUtil.offsetRectXYInPlace(bR,bP,bQ);bO.set(bS,bR)})};global.tab.SceneInfo=bo;var bp=function(L){bp.$0.call(this,L.xPixelOffsets,L.yPixelOffsets)};bp.__typeName='tab.SceneUserPaneInfo';bp.$0=function(L,bN){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=L;this.$4=bN;this.$1=ss.isValue(L)&&L.length>0;this.$2=ss.isValue(bN)&&bN.length>0;this.$0=(this.$1?(L.length-1):1);this.$5=(this.$2?(bN.length-1):1)};global.tab.SceneUserPaneInfo=bp;var bq=function(L,bN){bI.call(this,L,bN)};bq.__typeName='tab.ServerRenderVizHitTester';global.tab.ServerRenderVizHitTester=bq;var br=function(L){this.$3=new Set;this.$2=null;this.$2=L;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))};br.__typeName='tab.ShapeDependencyManager';global.tab.ShapeDependencyManager=br;var bs=function(L,bN,bO){this.$b=null;this.$a=null;this.$7=null;this.$4=null;this.$5=null;this.$9=null;this.$8={x:0,y:0};this.$6={x:0,y:0};this.$3={x:0,y:0,w:0,h:0};this.$c={x:0,y:0};this.$2={x:0,y:0};this.$b=(ss.isNullOrUndefined(L)?'0':L.w.toString());this.$a=(ss.isNullOrUndefined(L)?'0':L.h.toString());this.$7=bN;this.$4=bO};bs.__typeName='tab.ShapeSelectorBase';global.tab.ShapeSelectorBase=bs;var bt=function(){};bt.__typeName='tab.ShapeStateBase';global.tab.ShapeStateBase=bt;var bu=function(){};bu.__typeName='tab.ShapeUtil';bu.generateSelectedUnderCustomShape=function(L,bN,bO,bP,bQ){var bR=bu.colorTransformImage(L,bN,bP,bQ);var bS=document.createElement('canvas');var bT=bO*2;bS.width=Math.ceil(bP+bT);bS.height=Math.ceil(bQ+bT);var bU=bS.getContext('2d');bU.drawImage(bR,0,0,bP,bQ);bU.drawImage(bR,bO,0,bP,bQ);bU.drawImage(bR,bT,0,bP,bQ);bU.drawImage(bR,bT,bO,bP,bQ);bU.drawImage(bR,bT,bT,bP,bQ);bU.drawImage(bR,bO,bT,bP,bQ);bU.drawImage(bR,0,bT,bP,bQ);bU.drawImage(bR,0,bO,bP,bQ);return bS};bu.generateOverlayForShape=function(L,bN,bO,bP,bQ){var bR=bu.generateSelectedUnderCustomShape(L,bN,bO,bP,bQ);var bS=bR.getContext('2d');bS.globalCompositeOperation='destination-out';bS.drawImage(L,bO,bO,bP,bQ);return bR};bu.colorTransformImage=function(L,bN,bO,bP){var bQ=bu.generateCanvasAndPrescaleAsNeeded(L,bO,bP);var bR=bQ.getContext('2d');var bS=bR.getImageData(0,0,bQ.width,bQ.height);var bT=bS.data.length;for(var bU=0;bU<bT;bU+=4){if(bS.data[bU+3]>0){bS.data[bU]=bN.get_r();bS.data[bU+1]=bN.get_g();bS.data[bU+2]=bN.get_b()}}bR.putImageData(bS,0,0);return bQ};bu.applyFoggingToImage=function(L,bN,bO,bP,bQ){var bR=bu.generateCanvasAndPrescaleAsNeeded(L,bP,bQ);var bS=bR.getContext('2d');var bT=bS.getImageData(0,0,bR.width,bR.height);for(var bU=0;bU<bT.data.length;bU+=4){if(bT.data[bU+3]>0){bT.data[bU]=Math.round(bN.get_r()+bT.data[bU]*bO);bT.data[bU+1]=Math.round(bN.get_g()+bT.data[bU+1]*bO);bT.data[bU+2]=Math.round(bN.get_b()+bT.data[bU+2]*bO)}}bS.putImageData(bT,0,0);return bR};bu.generateCanvasAndPrescaleAsNeeded=function(L,bN,bO){var bP=document.createElement('canvas');if(!ss.isValue(L)){return bP}if(L.width>bN*2&&L.height>bO*2){bP.width=Math.max(ss.Int32.div(L.naturalWidth,2),1);bP.height=Math.max(ss.Int32.div(L.naturalHeight,2),1)}else{bP.width=L.naturalWidth;bP.height=L.naturalHeight}var bQ=bP.getContext('2d');bQ.drawImage(L,0,0,bP.width,bP.height);return bP};global.tab.ShapeUtil=bu;var bv=function(L,bN,bO){this.$o=null;ss.makeGenericType(bG,[bC]).call(this,L,bN,'opaque');var bP=(ss.isValue(bO.get_scene())?bO.get_scene().colorModel:K.defaultColors);this.renderer=new o(this.canvasElt,this.context,bP);this.$o=bO};bv.__typeName='tab.SimpleRegionCanvasView';global.tab.SimpleRegionCanvasView=bv;var bw=function(L,bN,bO,bP,bQ,bR){this.$7=null;this.backgroundMap=new P;this.disposables=new tab.DisposableHolder;this.allowPanZoom=null;this.connectNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.regionContent=null;this.scroller=null;this.isScrolling=false;this.wasScrolling=false;this.waitingOnPanZoomServerResponse=null;this.paneTableViewModel=null;this.backgroundDiv=null;this.resetIsWaitingOnTransition=false;this.$8=null;this.$b=null;this.$a=null;this.$9=null;this.$6=false;this.$5=false;this.$4=null;this.$d=null;this.$e=null;this.$c=null;this.$8=L;this.connectNode=$(bN);this.backgroundDiv=this.connectNode.find('.tvBackgroundContainer');this.$7=this.connectNode.find('.tvimagesContainer');this.allowPanZoom=bO;this.domPanZoomRect=new bk;this.$a=new bk;this.$b=bP;this.paneTableViewModel=bQ;this.waitingOnPanZoomServerResponse='waitingOnServer';this.$c=bR;if(this.$8==='viz'){this.makeDomDrag()}this.get_toolModeViewModel().add_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode));if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().add_tileSourceChanged(ss.mkdel(this,this.$2))}this.$d=new bD};bw.__typeName='tab.TiledViewerRegion';bw.getCanvasElement=function(L){return L.find('canvas').get(0)};global.tab.TiledViewerRegion=bw;var bx=function(L,bN,bO,bP,bQ){this.$c=null;this.$d=null;this.$f=null;this.$k=null;this.$h=null;this.$i=null;this.$o=0;this.$p=0;this.$m=null;this.$b=null;this.$n=0;this.$g=null;this.$r=null;this.$q=0;this.$j=0;this.$l=false;this.$e=false;this.$1$1=null;this.$g=bP;this.$c=L;this.$k=bN;this.$r=bO;this.$l=bQ;this.$f={x:0,y:0,w:0,h:0,r:''};this.$m={w:0,h:0};this.$d=new q;this.$d.add_imageLoaded(ss.mkdel(this,this.$5));this.$d.add_imageTimedOut(ss.mkdel(this,this.$6));this.$d.add_complete(ss.mkdel(this,this.$7));this.$i=[];this.$h=$('.tvimagesContainer',this.$c);this.$e=true};bx.__typeName='tab.TiledWindow';global.tab.TiledWindow=bx;var by=function(L,bN){this.$5=null;this.$8=null;this.$7=false;this.$6=null;this.$2$1=null;this.$2$2=null;this.defaultPointerToolMode=null;this.currentModifierKeyToolMode=null;this.isDeferringModeChanges=false;spiff.BaseViewModel.call(this);this.set_isAppendMode(false);this.isDeferringModeChanges=false;if(L==='viz'){this.currentModifierKeyToolMode='no-tools'}this.setLockedPointerToolMode(bN)};by.__typeName='tab.ToolModeViewModel';global.tab.ToolModeViewModel=by;var bz=function(L,bN){tab.TooltipBaseMode.call(this,'disabled',L,bN)};bz.__typeName='tab.TooltipDisabledMode';global.tab.TooltipDisabledMode=bz;var bA=function(L,bN,bO,bP){this.$C=null;this.$E=null;this.$D=null;this.$B=null;this.$A=false;this.$z=false;tab.TooltipBaseMode.call(this,'smooth',L,bN);var bQ=this.get_currentBehavior();bQ.attach();bQ.add_onMouseStop(ss.mkdel(this,this.$x));this.$B=bO;this.$z=bP;this.$C=bA.$0();this.$E=bA.$2();this.$D=bA.$1();this.$s();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_closed(ss.mkdel(this,this.$y))};bA.__typeName='tab.TooltipResponsiveMode';bA.$0=function(){bA.$3++;return'mousemove.TooltipResponsiveMode'+bA.$3};bA.$2=function(){bA.$3++;return'touchmove.TooltipResponsiveMode'+bA.$3};bA.$1=function(){bA.$3++;return'mouseout.TooltipResponsiveMode'+bA.$3};global.tab.TooltipResponsiveMode=bA;var bB=function(L,bN){this.$g=null;this.$b=0;this.$d=null;this.$e=null;this.$c=null;this.$f=null;this.$h=null;this.$g=L;var bO=L.$1;var bP=L.$2;var bQ=L.$5*L.$0;this.$d=new Array(bQ+1);this.$h=new Array(bQ);this.$c=(bO?new Array(bQ):null);this.$f=(bP?new Array(bQ):null);this.$e=new Array(bN.markCount);this.$b=this.$2(bN)};bB.__typeName='tab.UserPaneInfo';global.tab.UserPaneInfo=bB;var bC=function(L,bN,bO,bP,bQ){this.$6=null;this.$a=null;this.$8=null;this.$9=null;this.$3=null;this.$5=null;this.$4=null;this.$7=null;spiff.BaseViewModel.call(this);this.$6=L;this.$a=bN;this.$8=bO;this.$6.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(bP)){this.$9=bP.nodeSelection;this.$9.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(bQ)){this.$3=bQ.nodeSelection;this.$3.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(bP)||ss.isValue(bQ)){this.$2()}var bR=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});tab.ServerFontLoader.get_instance().add_fontPreparationComplete(bR);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(bR)}))};bC.__typeName='tab.VisualListViewModel';global.tab.VisualListViewModel=bC;var bD=function(){this.$6=null;this.$5=null};bD.__typeName='tab.VisualObjectBoundsComputerAndHitTester';global.tab.VisualObjectBoundsComputerAndHitTester=bD;var bE=function(){};bE.__typeName='tab.VisualPartsHitTest';bE.hitTestRefLines=function(L,bN,bO){var bP=new F.$ctor1(0,0,0);var bQ=[];for(var bR=0;bR<L.length;bR++){var bS=L[bR];var bT=bE.hitTestRefLine(bS.drawItems,bN,bO);if(bT.get_hitType()!==0){if(bO){bP=F.tieBreak(bT,bP)}else{bQ.push(bT)}}}if(bO){if(bP.get_hitType()===0){return[]}return[bP]}return bQ};bE.hitTestRefLine=function(L,bN,bO){var bP=new F.$ctor1(0,0,0);var bQ=bE.$0(L,'refpart-text');bP=bE.$1(bQ,4,bN,bO,bP);if(bP.get_hitType()===3){return bP}var bR=bE.$0(L,'refpart-geom');bP=bE.$1(bR,3,bN,bO,bP);return bP};bE.hitTestTrendLines=function(L,bN,bO){var bP=new F.$ctor1(0,0,0);var bQ=[];for(var bR=L.length-1;bR>=0;bR--){var bS=bE.$3(L[bR],bN,bO);if(bS.get_hitType()===3){if(bO){return[bS]}else{bQ.push(bS)}}if(bO&&bS.get_hitType()===2&&bP.get_hitType()===0){bP=bS}}if(bO){if(bP.get_hitType()===0){return[]}return[bP]}return bQ};bE.$1=function(L,bN,bO,bP,bQ){for(var bR=L.length-1;bR>=0;bR--){var bS=L[bR];var bT=bE.$2(bS.drawItems,bN,bO,bP,bS.objectId);if(bT.get_hitType()===3){return bT}if(bT.get_hitType()===2&&bQ.get_hitType()===0){bQ=bT}}return bQ};bE.$2=function(L,bN,bO,bP,bQ){var bR=tab.RectXYUtil.dialate(bO,bE.visualPartNearHitTestExpansionPixels);var bS=1;var bT=new F.$ctor1(bQ,bN,0);for(var bU=0;bU<L.length;bU++){var bV=L[bU];switch(bV.type){case'draw-pen':{var bW=bV;if(ss.isValue(bW.strokeWidth)){bS=bW.strokeWidth}break}case'draw-polyline':case'draw-fill-rect':{var bX=bV;var bY=ss.isValue(bX.useForOverlayHitTest)&&!bX.useForOverlayHitTest;var bZ={x:bX.points[0],y:bX.points[1]};var ca={x:bX.points[2],y:bX.points[3]};var cb=tab.RectXYUtil.rectXYFromCorners(bZ,ca);if(bV.type==='draw-polyline'){if(bS<3){cb=tab.RectXYUtil.dialate(cb,1)}}var cc=bP&&tab.RectXYUtil.intersectsWith(bR,cb);var cd=(!bP||cc)&&tab.RectXYUtil.intersectsWith(bO,cb);if(cd){bT=new F.$ctor1(bQ,bN,3);if(bY){bT.doNotRenderOverlay()}return bT}if(cc){bT=new F.$ctor1(bQ,bN,2);if(bY){bT.doNotRenderOverlay()}}break}default:{break}}}return bT};bE.$3=function(L,bN,bO){var bP=new F.$ctor1(0,0,0);if(bO){var bQ=tab.RectXYUtil.dialate(bN,bE.visualPartNearHitTestExpansionPixels);var bR=bE.$4(L,bQ);if(ss.isValue(bR)){bP=new F.$ctor1(ss.unbox(bR),2,2)}}if(bP.get_hitType()===2||!bO){var bS=bE.$4(L,bN);if(ss.isValue(bS)){bP=new F.$ctor1(ss.unbox(bS),2,3)}}return bP};bE.$4=function(L,bN){var bO=new Array;bO.push(L);while(bO.length>0){var bP=bO.pop();var bQ=tab.RectXYUtil.intersectsWith(bP.get_boundingBox(),bN);if(bQ){if(bP.get_nodeType()===4||bP.get_nodeType()===0){var bR=bP.get_children();bR.forEach(function(bS){bO.push(bS)})}else if(bP.get_nodeType()===5){return bP.get_objectId()}}}return null};bE.$0=function(L,bN){var bO=[];for(var bP=0;bP<L.length;bP++){var bQ=L[bP];if(bQ.type==='clip-rect'&&bN==='refpart-clip-rect'){bO.push(bQ)}else if(bQ.type==='draw-group'){var bR=bQ;var bS=_.find(bR.drawItems,function(bT){return bT.type==='draw-text'});if(bN==='refpart-text'&&ss.isValue(bS)){bO.push(bQ)}else if(bN==='refpart-geom'&&ss.isNullOrUndefined(bS)){bO.push(bQ)}}}return bO};global.tab.VisualPartsHitTest=bE;var bF=function(){};bF.__typeName='tab.VisualPartTargetState';global.tab.VisualPartTargetState=bF;var bG=function(L){var bN=function(bO,bP,bQ){this.renderer=null;this.completeDocSize={w:0,h:0};this.containers=null;this.$n=null;this.$4$1=null;ss.makeGenericType(l,[L]).call(this,bO,bQ);this.$n=bP;this.containers=$('.tvimagesContainer',this.$n);this.add_sizeChange(ss.mkdel(this,this.$l))};ss.registerGenericClassInstance(bN,bG,[L],{add_loadComplete:function(bO){this.$4$1=ss.delegateCombine(this.$4$1,bO)},remove_loadComplete:function(bO){this.$4$1=ss.delegateRemove(this.$4$1,bO)},get_docSize:function(){return this.completeDocSize},destroy:function(){this.dispose()},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$l));this.renderer=null;ss.makeGenericType(l,[L]).prototype.dispose.call(this)},refreshImages:function(bO){},reset:function(bO,bP){if(ss.isNullOrUndefined(bO)){return}var bQ={w:bO.w,h:bO.h};var bR=ss.isValue(this.completeDocSize)&&!tab.SizeUtil.equals(bQ,this.completeDocSize);this.completeDocSize=bQ;this.containers.width(bO.w);this.containers.height(bO.h);if(bR){this.$m()}},copyContent:function(bO){bO.drawImage1(this.canvasElt,0,0)},redraw:function(){if(!this.get_needsRedraw()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$k());tab.CanvasUtil.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(bO,bP){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$k:function(){var bO=this.get_pixelRatio();var bP=this.get_dirtyRect();var bQ=bP.x*bO;var bR=bP.y*bO;var bS=(bP.x+bP.w)*bO;var bT=(bP.y+bP.h)*bO;var bU=Math.floor(bQ);var bV=Math.floor(bR);return{x:bU,y:bV,w:Math.ceil(bS)-bU,h:Math.ceil(bT)-bV}},$l:function(){this.$m()},$m:function(){var bO=this.get_effectiveViewSize();var bP={x:Math.min(this.completeDocSize.w-bO.w,this.scrollOffset.x),y:Math.min(this.completeDocSize.h-bO.h,this.scrollOffset.y)};bP.x=Math.max(0,bP.x);bP.y=Math.max(0,bP.y);this.set_scrollPos(bP)}},function(){return ss.makeGenericType(l,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable,M]});return bN};bG.__typeName='tab.VisualRegionCanvasView$1';ss.initGenericClass(bG,a,1);global.tab.VisualRegionCanvasView$1=bG;var bH=function(L,bN,bO,bP,bQ,bR,bS){this.$0=null;this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=null;this.$1$7=null;this.set_instanceId(++bH.$0);this.set_region(L);this.set_paneId(bN);this.set_paneColumnIndex(bO);this.set_paneRowIndex(bP);this.set_regionCoordinates(bQ);this.set_pageCoordinates(bR);this.$0=bS};bH.__typeName='tab.VizHitInfo';global.tab.VizHitInfo=bH;var bI=function(L,bN){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(L,'paneTable');tab.Param.verifyValue(bN,'region');this.paneTable=L;this.region=bN;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var bO=this.region.toLocalCoordsEvent(this.lastEvent,false);var bP=tab.PointUtil.add(bO,this.region.getLocalOffsetPoint(false));this.hitTest(bO,bP)}),250)};bI.__typeName='tab.VizHitTester';global.tab.VizHitTester=bI;var bJ=function(){};bJ.__typeName='tab.VizZoneFactory';global.tab.VizZoneFactory=bJ;var bK=function(L,bN){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=L;this.$0=bN};bK.__typeName='tab.WorkerDoneEventArgs';global.tab.WorkerDoneEventArgs=bK;var bL=function(L){this.$0=0;ss.EventArgs.call(this);this.$0=L};bL.__typeName='tab.WorkerTimeoutEventArgs';global.tab.WorkerTimeoutEventArgs=bL;var bM=function(){};bM.__typeName='tab.ZoomComputer';bM.resolveDesiredZoom=function(L,bN){var bO=ss.coalesce(L.mapIntermediateLevels,1);var bP=Math.floor(bN*bO)/bO;bP+=Math.log(ss.coalesce(L.mapMaxStretch,1))/Math.LN2;var bQ=Math.ceil(bN*bO)/bO;bQ+=Math.log(ss.coalesce(L.mapMinShrink,1))/Math.LN2;return((bN+0.05<bQ)?Math.min(bP,bN):Math.max(bQ,bN))};bM.resolveDesiredScale=function(L,bN){var bO=Math.log(bN)/Math.LN2;var bP=bM.resolveDesiredZoom(L,L.mapRequestZoom+bO);var bQ=bP-L.mapRequestZoom;var bR=Math.pow(2,bQ);return bR};bM.incrementZoom=function(L,bN){var bO=L+bN;return bO};bM.combineTileZoomAndStretch=function(L,bN){return L+Math.log(bN)/Math.LN2};global.tab.ZoomComputer=bM;ss.initClass(b,a,{$1:function(){return this.$5},$0:function(){return this.$4}});ss.initClass(c,a,{$0:function(L){L.set_alpha(this.$1);L.set_lineJoin(this.$4);L.set_lineCap(this.$3);L.set_linePattern(this.$5);L.set_strokeStyle(this.$8);L.set_lineWidth(this.$6);L.set_textAngle(this.$a);L.set_font(this.$2);L.set_shapeFillStyle(this.$7);L.set_textFillStyle(this.$b);L.set_textAlign(this.$9)}});ss.initClass(d,a,{});ss.initInterface(J,a,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(e,a,{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}},spiff.Template,[ss.IDisposable,J]);ss.initClass(f,a,{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(L,bN,bO){this.$a=L;this.$8=bN;this.$9=true;this.$b=bO},$0:function(){this.$9=false;this.$b=null},$2:function(L,bN){return this.$1(L,bN)&&this.$9},$1:function(L,bN){return this.$a===L&&this.$8===bN}});ss.initClass(g,a,{$d:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},$e:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},$f:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},$g:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},$8:function(){return!this.$9},$1:function(){this.$0()},$7:function(L){if(ss.isNullOrUndefined(L)){this.$5();return}if(this.$c!==-1){window.clearTimeout(this.$c);this.$c=-1}this.$b=L;this.$9=false;this.$0();var bN=true;var bO=L.get_imageNode();var bP=$(bO);if(ss.isNullOrUndefined(bO)){var bQ=document.createElement('img');L.set_imageNode(bQ);bO=bQ;bP=$(bO)}else{bN=tab.DoubleUtil.roundToInt(bP.width())!==L.get_bounds().w||tab.DoubleUtil.roundToInt(bP.height())!==L.get_bounds().h;bO.style.visibility=''}if(bN){$(bO).css(ss.mkdict(['left',L.get_bounds().l+'px','top',L.get_bounds().t+'px']))}bP.on('load',ss.mkdel(this,this.$3));bP.on('error',ss.mkdel(this,this.$2));bP.on('abort',ss.mkdel(this,this.$3));this.$c=window.setTimeout(ss.mkdel(this,function(){this.$4()}),600000);var bR=bP.attr('src');if(!tab.BrowserSupport.get_imageLoadIsSynchronous()){bP.attr('src',L.get_src())}else{window.setTimeout(function(){bP.attr('src',L.get_src())},0)}if(ss.referenceEquals(L.get_src(),bR)&&!tab.BrowserSupport.get_raisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$3(null)}),0)}},$0:function(){if(ss.isValue(this.$b)&&ss.isValue(this.$b.get_imageNode())){var L=$(this.$b.get_imageNode());if(ss.isValue(L)){L.on('load',ss.mkdel(this,this.$3));L.on('error',ss.mkdel(this,this.$3));L.on('abort',ss.mkdel(this,this.$3))}}},$2:function(L){if(ss.isValue(L.currentTarget)){L.currentTarget.style.visibility='none'}this.$3(L)},$3:function(L){window.clearTimeout(this.$c);this.$c=-1;if(this.$9){return}this.$9=true;this.$5()},$4:function(){this.$9=true;this.$c=-1;this.$0();this.$6()},$5:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new bK(this.$a,this.$b))}},$6:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new bL(this.$a))}}});ss.initClass(h,a,{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(L){var bN=ss.mkdict(['backgroundColor',L]);this.$6.css(bN);this.$7.css(bN);this.$8.css(bN)},$1:function(L,bN){var bO=ss.mkdict(['width',L+'px']);if(bN){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(bO);this.$7.css(bO)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}},spiff.Template,[ss.IDisposable]);ss.initClass(i,a,{$1:function(){this.$3=[]},$2:function(L,bN,bO){if(ss.isValue(bO)){var bP=i.$0(L,'canvas');var bQ=tab.RenderUtil.calculatePixelRatio();var bR=L[0];tab.CanvasUtil.setCanvasSizeAndDensify(bP,bQ,{w:bR.offsetWidth,h:bR.offsetHeight})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){i.$0(L,'div')}else{i.$0(L,'img');this.$3.push({name:bN,node:L})}},$0:function(L,bN,bO){if(this.$3.length>0){var bP=this.$3.length;for(var bQ=0;bQ<bP;bQ++){var bR=this.$3[bQ].node;if(ss.isValue(bR)){var bS=bN.formatRegionTileURL(L,this.$3[bQ].name,bO);var bT=bR.children().first();var bU=tab.RenderUtil.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(bU,1)){bT.css('width',bR[0].offsetWidth+'px')}bT.attr('src',bS)}}}}});ss.initClass(j,a,{$2:function(){return this.$4},$3:function(L){this.$4=L},$0:function(L,bN){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),L)&&this.$1===bN}});ss.initClass(k,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bs,a,{get_dom:function(){return this.$5},get_pi:function(){return this.$9},set_pi:function(L){this.$9=L},get_dragStart:function(){return this.$6},get_connectNodePos:function(){return this.$3},get_totalScrollOffset:function(){return this.$c},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$2},get_tooltipAnchor:function(){return{x:this.$8.x+this.$c.x,y:this.$8.y+this.$c.y}},get_hitTestingBox:null,isSingleSelect:null,setSingleSelectPoint:function(L){this.$8={x:L.x,y:L.y}},dragStarted:function(L,bN,bO){this.$6={x:L,y:bN};this.$3=bO;this.$2={x:0,y:0}},recordScrollingOffsets:function(L){this.$c={x:L.x,y:L.y}},updateAndRenderShape:function(L){this.constrainShape(L);this.updateSpecificShape(this.$8);this.renderShape()},constrainShape:function(L){this.$8={x:L.pageX-this.$3.x,y:L.pageY-this.$3.y};if(ss.isInstanceOfType(this,m)){return}this.$8.y=Math.max(0,Math.min(this.$8.y,this.$3.h));this.$8.x=Math.max(0,Math.min(this.$8.x,this.$3.w))},shapeScrolled:function(L,bN){this.get_dragStart().x-=L;this.get_dragStart().y-=bN;this.$c.x+=L;this.$c.y+=bN;this.$2.x+=L;this.$2.y+=bN;this.updateSpecificShape(this.$8);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(L){this.$5=$(this.$7);this.$5.addClass(this.$4);this.$5.css('display','none');this.$5.find('svg').attr('width',this.$b).attr('height',this.$a);L.append(this.$5)},show:null,hide:null,hitTest:function(L,bN,bO){var bP=bN||this.isSingleSelect();return(bP?this.$0(L,bO):this.$1(L,bO))},$0:function(L,bN){var bO={x:this.$8.x,y:this.$8.y,w:1,h:1};var bP=L.hitTestBoundingBoxes(bO,true,bN);return L.hitTestSingle(bO,bN,bP)},$1:function(L,bN){var bO=L.hitTestBoundingBoxes(this.get_hitTestingBox(),false,bN);var bP=[];var bQ=this.get_hitTestingBox();for(var bR=bO.length-1;bR>=0;bR--){var bS=bO[bR];var bT=bS.get_objectId();if(bT<0){continue}var bU=C.findPaneNode(bS);if(ss.isNullOrUndefined(bU)){continue}var bV=bN.getPaneDrawInfoFromKey(bU.get_paneKey());var bW=E.getTransformInfo(bV,bS);var bX=tab.RectXYUtil.intersect(bQ,bU.get_boundingBox());var bY=this.shapeAreaHit(bX,bV,bS,bW);if(bY){bP.push(new F.$ctor1(bV.c.get('tuple_id').gv(bT),5,1))}}return bP},shapeAreaHit:null,sendSelectionCommand:null,updateLastState:function(L){if(this.isStateObjectTypeCorrect(L)){L.updateLastState()}},getStateDiff:function(L){if(this.isStateObjectTypeCorrect(L)){this.saveCurrentState(L);return L.getStateDiff()}var bN=new Array(1);bN[0]=this.get_hitTestingBox();return bN},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});ss.initClass(m,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$f(true))},isSingleSelect:function(){return this.$i.radius<1},$f:function(L){return tab.CircleUtil.boundingBox((L?this.$j:this.$i))},updateSpecificShape:function(L){var bN=this.get_dragStart().x-this.get_connectNodePos().x;var bO=this.get_dragStart().y-this.get_connectNodePos().y;var bP=Math.sqrt(Math.pow(bN-L.x,2)+Math.pow(bO-L.y,2));this.$i={center:{x:bN+this.get_drawOffsets().x,y:bO+this.get_drawOffsets().y},radius:bP};this.$j={center:{x:bN+this.get_totalScrollOffset().x,y:bO+this.get_totalScrollOffset().y},radius:bP};if(this.$g()){this.$h()}},$g:function(){return ss.isValue(this.$k)&&ss.isValue(this.$k.get_radialSelectionDistanceInfoPresModel())&&this.$k.get_shouldShowDistance()},$h:function(){var L={x:this.$i.center.x+this.$i.radius,y:this.$i.center.y};var bN=this.$d(L);if(bN>0){this.displayDistance(bN)}},$d:function(L){var bN=this.$k.get_latLongRect();if(ss.isNullOrUndefined(bN)||this.$k.get_mapWidth()<=0||this.$k.get_mapHeight()<=0){return 0}var bO={x:this.$i.center.x%this.$k.get_mapWidth(),y:this.$i.center.y%this.$k.get_mapHeight()};var bP={x:bO.x+(L.x-this.$i.center.x),y:bO.y};var bQ=(bN.maxLatitude-bN.minLatitude)/this.$k.get_mapHeight();var bR=bN.maxLatitude-bQ*bO.y;var bS={item1:bN.minLongitude,item2:bR};var bT={item1:bN.maxLongitude,item2:bR};var bU=y.haversineDistance(bS,bT,this.$k.get_earthRadius());var bV=bU/this.$k.get_mapWidth();return Math.abs(bP.x-bO.x)*bV},displayDistance:function(L){var bN=this.get_dom().find('.tabDistanceReadout');bN.text(this.$e(L));var bO={x:ss.round(this.$i.center.x+this.$i.radius+this.$k.get_readoutOffsetPixels()),y:ss.round(this.$i.center.y)-ss.Int32.div(tab.DoubleUtil.roundToInt(bN.height()),2)};bN.css('left',bO.x+'px');bN.css('top',bO.y+'px')},$e:function(L){var bN=this.$k.get_smallUnitDisplay();if(L>=this.$k.get_unitTransition()){L/=this.$k.get_smallToLargeUnitDivisor();bN=this.$k.get_largeUnitDisplay()}var bO=tab.DoubleUtil.sigFigs(L,this.$k.get_sigFigs());var bP=0;if(bO!==0){var bQ=Math.floor(Math.log(Math.abs(bO))/Math.log(10))+1;bP=Math.max(0,this.$k.get_sigFigs()-bQ)}var bR=bO.toFixed(bP);if(this.$k.get_decimalMark()===','&&bR.indexOf('.')!==-1){bR=ss.replaceAllString(bR,'.',this.$k.get_decimalMark())}return ss.formatString('{0}  {1}',bR,bN)},formatReadoutTestHook:function(L){return this.$e(L)},computeRadialDistanceTestHook:function(L){return this.$d(L)},renderShape:function(){var L=this.get_dom().find('.circle_crosshair');var bN=this.get_dom().find('.circle_radius');this.get_dom().find('svg circle').attr('cx',this.$i.center.x.toString()).attr('cy',this.$i.center.y.toString()).attr('r',this.$i.radius.toString());L.eq(0).attr('x1',(this.$i.center.x-4).toString()).attr('x2',(this.$i.center.x+4).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString());L.eq(1).attr('x1',this.$i.center.x.toString()).attr('x2',this.$i.center.x.toString()).attr('y1',(this.$i.center.y-4).toString()).attr('y2',(this.$i.center.y+4).toString());bN.attr('x1',this.$i.center.x.toString()).attr('x2',(this.$i.center.x+this.$i.radius).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString())},show:function(){var L=this.get_dom().find('.tabDistanceReadout');var bN=this.get_dom().find('.circle_radius');if(this.$g()){L.css('font-size',this.$k.get_fontSizePixels());L.css('color',this.$k.get_fontColor());L.show();bN.show()}else{L.hide();bN.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(L,bN,bO,bP){var bQ=this.$g();return E.circleAreaHit(bN,bO.get_boundingBox(),this.$j,bO.get_objectId(),bP,bN.markType,bQ)},sendSelectionCommand:function(L,bN,bO,bP){var bQ=this.$g();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$j,bN,bO,bP,bQ)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new n)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bN=L;bN.saveCurrentState(this.$j)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),n)){return true}}return false}},bs);ss.initClass(bt,a,{updateLastState:null,getStateDiff:null});ss.initClass(n,a,{saveCurrentState:function(L){this.$0=tab.CircleUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var L=new Array(1);L[0]=tab.CircleUtil.boundingBox(this.$0);return L}},bt);ss.initClass(o,a,{renderVisualListHelper:function(L,bN){var bO=L.get_visualListPM().drawItems;this.renderDrawItems(bO,L,bN,null)},renderDrawItems:function(L,bN,bO,bP){var bQ=this.get_currentContext();var bR=bQ.get_numberSavedStates();var bS=4;for(var bT=0;bT<L.length;++bT){var bU=L[bT];if(true&&bT<bS&&bU.type==='transform'){}else if(bU.type==='draw-group'){var bV=bU;this.$9(bN,bV,bO,bP)}else{this.$b(bQ,bU,bO,null,bP,false)}}while(bQ.get_numberSavedStates()>bR){bQ.restore()}},renderVisualList:function(L,bN){this.cachedVisibleRect=null;this.cachedVisibleRect=this.get_visibleRect();if(ss.isValue(L.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(L.get_defaultBackgroundColor());this.get_currentContext().fillRect(this.get_visibleRect().x,this.get_visibleRect().y,this.get_visibleRect().w,this.get_visibleRect().h)}this.renderVisualListHelper(L,bN);this.cachedVisibleRect=null},renderDrawItemList:function(L){this.renderDrawItems(L,null,null,null)},renderCanvasBorders:function(L){var bN=L.get_visualListPM().visualPart;var bO=L.get_visualListPM().drawItems;for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];if(bQ.type==='draw-pen'||bQ.type==='draw-solid-brush'){this.renderDrawItemDefaultOptions(this.get_currentContext(),bQ)}else if(bQ.type==='draw-polyline'){var bR=this.get_currentCanvas().width;var bS=this.get_currentCanvas().height;var bT=bQ;var bU=bT.points;if(ss.contains(o.$b,bN)){if(Math.abs(bU[3]-bU[1])>=bS){var bV={};bV.type=bQ.type;bV.points=[0,0,0,bS];this.renderDrawItemDefaultOptions(this.get_currentContext(),bV);bV.points[0]+=bR-1;bV.points[2]+=bR-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),bV);return}}else if(ss.contains(o.$c,bN)){if(Math.abs(bU[2]-bU[0])>=this.get_currentCanvas().width){var bW={};bW.type=bQ.type;bW.points=[0,0,bR,0];this.renderDrawItemDefaultOptions(this.get_currentContext(),bW);bW.points[1]+=bS-1;bW.points[3]+=bS-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),bW);return}}}}},renderDrawItemDefaultOptions:function(L,bN){this.$b(L,bN,null,null,null,false)},$b:function(L,bN,bO,bP,bQ,bR){if(!ss.isValue(L)||!ss.isValue(bN)){return}switch(bN.type){case'draw-pen':{{var bS=bN;L.set_lineJoin((ss.isValue(bS.lineJoin)?tab.CanvasRenderer.toCanvasLineJoin(bS.lineJoin):tab.TabRenderContext2D.defaultLineJoin));var bT='butt';var bU=bS.linePattern||tab.TabRenderContext2D.defaultLinePattern;if(bU!=='dashed'&&bU!=='dotted'){bT=(ss.isValue(bS.lineCap)?tab.CanvasRenderer.toCanvasLineCap(bS.lineCap):tab.TabRenderContext2D.defaultLineCap)}L.set_lineCap(bT);L.set_linePattern(bU);L.set_strokeStyle(tab.ColorModel.convertColorForCanvas(bS.color)||'rgb(0,0,0)');L.set_lineWidth(bS.strokeWidth||1)}break}case'draw-solid-brush':{{var bV=bN;L.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(bV.color))}break}case'draw-gradient-brush':{{var bW=bN;var bX=bW.pt1;var bY=bW.pt2;var bZ=L.createLinearGradient(bX.x,bX.y,bY.x,bY.y);bZ.addColorStop(0,tab.ColorModel.convertColorForCanvas(bW.color1));bZ.addColorStop(1,tab.ColorModel.convertColorForCanvas(bW.color2));L.set_shapeFillStyle(bZ)}break}case'draw-rect':{{var ca=bN;if(ca.points.length!==4){return}var cb=p.rectXYFromDrawRect(ca.points);L.strokeRect(cb.x,cb.y,cb.w,cb.h)}break}case'draw-fill-rect':{{var cc=bN;if(cc.points.length!==4){return}var cd=p.rectXYFromDrawRect(cc.points);L.fillRect(cd.x,cd.y,cd.w,cd.h)}break}case'draw-ellipse':{{o.$2(L,bN,false)}break}case'draw-fill-ellipse':{{o.$2(L,bN,true)}break}case'draw-polyline':{{var ce=bN;var cf=ce.points;tab.CanvasRenderer.strokePath(L,cf,false,true)}break}case'draw-polygon':{{var cg=bN;tab.CanvasRenderer.strokePath(L,cg.points,true,true)}break}case'draw-fill-polygon':{{var ch=bN;tab.CanvasRenderer.fillPath(L,ch.points,true)}break}case'draw-fill-path':{{o.$3(L,bN,true)}break}case'draw-path':{{o.$3(L,bN,false)}break}case'clip-rect':{{var ci=bN;if(ci.points.length===4){if(true&&ci.points[2]-ci.points[0]===2){break}L.setClip({x:ci.points[0],y:ci.points[1],w:ci.points[2]-ci.points[0],h:ci.points[3]-ci.points[1]})}}break}case'draw-text':{{var cj=bN;if(cj.points.length!==2){return}var ck=cj.points[0];var cl=cj.points[1];var cm=-1;if(ss.isValue(bP)&&bP.w!==0&&bP.h!==0){var cn;var co;if(L.get_isTextAngleHorizontal()){cn=((bP.x>ck)?ck:(ck-bP.x));co=bP.w}else{cn=((bP.y>cl)?cl:(cl-bP.y));co=bP.h}cm=Math.max(cn,co-cn)}this.renderText(cj.text,ck,cl,cm,null,bR)}break}case'draw-text-props':{{o.$0(L,bN)}break}case'transform':{{var cp=bN;if(ss.isValue(cp.transformOffset)&&cp.transformOffset.length===2){L.translate(cp.transformOffset[0],cp.transformOffset[1])}if(ss.isValue(cp.transformScale)&&cp.transformScale.length===2){L.scale(cp.transformScale[0],cp.transformScale[1])}if(ss.isValue(cp.transformAngle)){L.rotate(cp.transformAngle*Math.PI/180)}}break}case'transform-pop':{{var cq=new c(L);L.restore();cq.$0(L)}break}case'transform-push':{{L.save()}break}case'draw-antialias':{{var cr=bN;L.set_shouldAntialias(cr.state)}break}case'draw-image':{{var cs=bN;if(ss.isValue(bO)&&bO.has(cs.imageHash)){var ct=bO.get(cs.imageHash);if(ss.isValue(ct)&&ct.complete){L.save();if(ss.isValue(bQ)){L.setClip(bQ)}L.set_alpha(cs.alpha);L.drawImage4(ct,cs.destBox[0],cs.destBox[1],cs.destBox[2]-cs.destBox[0],cs.destBox[3]-cs.destBox[1]);L.restore()}}else{}}break}default:{{}break}}},$9:function(L,bN,bO,bP){var bQ=ss.isValue(L)&&L.get_visualListPM().visualPart==='annotations';this.clearPrevTextRunInfo();var bR=this.get_currentContext();var bS=false;bN.extentsX=bN.extentsX||0;bN.extentsY=bN.extentsY||0;bN.extentsWidth=bN.extentsWidth||0;bN.extentsHeight=bN.extentsHeight||0;var bT={x:bN.extentsX,y:bN.extentsY,w:bN.extentsWidth,h:bN.extentsHeight};var bU=tab.RectXYUtil.offsetRect(bR.dirtyRect,this.get_renderOffset());if(bN.extentsWidth>0&&bN.extentsHeight>0&&(!this.isRectVisible(bT)||!tab.RectXYUtil.intersectsWith(bU,bT))){bS=true}var bV=this.$a(L,bN,bS);var bW=o.$6(bN.drawItems,bQ);for(var bX=0;bX<bW.length;bX++){var bY=bW[bX];if(bV.$0()&&bY.type==='draw-solid-brush'){var bZ=bY;bV.$2=tab.ColorModel.convertColorForCanvas(bZ.color)}else{var ca=null;if(bV.$0()&&bY.type==='draw-text-props'){var cb=bY;bV.$3=tab.ColorModel.convertColorForCanvas(cb.color);ca=bR.get_textFillStyle()}if(!bS||o.$5(bY)){this.$b(bR,bY,bO,bT,bP,bQ)}if(ss.isValue(ca)){bR.set_textFillStyle(ca)}}}if(bV.$0()){bR.set_shapeFillStyle(bV.$2);bR.set_textFillStyle(bV.$3)}},$a:function(L,bN,bO){var bP=null;if(!bO&&ss.isValue(L)){if(L.isSelected(bN)){bP=new b('selected')}else if(L.isBrushed(bN)){bP=new b('highlighted')}else if(L.isHovered(bN)){bP=new b('hover')}}if(ss.isNullOrUndefined(bP)){return new b('normal')}var bQ=this.get_currentContext();bP.$2=bQ.get_shapeFillStyle();bP.$3=bQ.get_textFillStyle();switch(bP.$1()){case'selected':{bQ.set_textFillStyle(this.$c.selectionTextColor.toRgba());bQ.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{bQ.set_textFillStyle(this.$c.highlightTextColor.toRgba());bQ.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{bQ.set_textFillStyle('rgb(0,0,0)');bQ.set_shapeFillStyle('rgb(245,245,245)');break}}var bR=ss.isValue(bN.offsetX)||ss.isValue(bN.offsetY);if(bR){bN.offsetX=bN.offsetX||0;bN.offsetY=bN.offsetY||0;bQ.translate(-bN.offsetX,-bN.offsetY)}bQ.fillRect(bN.extentsX,bN.extentsY,bN.extentsWidth,bN.extentsHeight);if(bR){bQ.translate(bN.offsetX,bN.offsetY)}return bP}},tab.CanvasRenderer);ss.initClass(p,a,{});ss.initClass(q,a,{add_complete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_complete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},add_imageLoaded:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},remove_imageLoaded:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},add_imageTimedOut:function(L){this.$1$3=ss.delegateCombine(this.$1$3,L)},remove_imageTimedOut:function(L){this.$1$3=ss.delegateRemove(this.$1$3,L)},addImage:function(L){if(!ss.isValue(L)){return}for(var bN=0,bO=this.$3.length;bN<bO;bN++){if(!this.$3[bN].$8()){this.$2++;this.$3[bN].$7(L);return}}if(this.$3.length<2){var bP=new g(this.$3.length);bP.$d(ss.mkdel(this,this.onWorkerFinished));bP.$f(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(bP);this.$2++;bP.$7(L)}else{this.$1.push(L)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var L=0;L<this.$3.length;L++){var bN=this.$3[L];bN.$1()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(L,bN){if(ss.isValue(this.$1$2)){this.$1$2(this,new I(bN.get_image()))}this.$0(bN.get_workerID())},onWorkerTimedOut:function(L,bN){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(bN.get_workerID())},$0:function(L){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[L].$7(this.$1.shift());this.$2++}}});ss.initClass(r,a,{render:function(){var L='fztButton';if(this.props.isSelected){L+=' selected'}var bN=['tab-fzt-toggle-button-icon',this.props.iconClassName,(this.props.shouldShowAppendSubIcon?'tab-select-tool-append-mode':null)].join(' ');var bO=(ss.isNullOrEmptyString(this.props.buttonTooltip)?null:React.DOM.div({className:'tab-mobileTooltip'},this.props.buttonTooltip));var bP=(this.props.shouldShowFlyoutCaret?React.DOM.div({className:'tab-floating-toolbar-flyout-caret'}):null);return spiff.EventForwarder.span(this.$0(),{className:L,title:this.props.buttonTooltip,role:'button'},[React.DOM.div({className:bN}),bP,bO])},$1:function(L){this.props.onTap(this.props.buttonId)},$0:function(){return{tap:ss.mkdel(this,this.$1)}}},React.Component);ss.initEnum(s,a,{radialSelect:0,lassoSelect:1,rectangleSelect:2,appendSelect:3,pan:4,zoomHome:5});ss.initClass(t,a,{render:function(){return(this.props.showToolbar?ss.mkdel(this,this.renderContainer)():null)},renderContainer:function(){return React.createElement(v,{getAnchorPosition:this.props.getAnchorPosition},[this.$2(),(this.props.showMapsSearch?ss.mkdel(this,this.$3)():null),this.$7()])},$2:function(){return spiff.EventForwarder.div(this.$0(),{className:'tab-floating-toolbar-close-button-container',role:'button',title:tab.Strings.PanZoomSelectToolsCloseButtonTooltipMobile},[React.DOM.div({className:'tab-floating-toolbar-close-button'})])},$3:function(){return React.createElement(U,this.props.mapsSearchProps)},$7:function(){var L=this.props.showTools||this.props.showPanAndZoom&&!this.props.isHomeButtonHidden;return React.DOM.div({className:'FloatingZoomToolbar tab-widget tabSuppressVizTooltipsAndOverlays'},(L?ss.mkdel(this,this.$6)():null),this.$8())},$6:function(){return React.DOM.div({className:'fztButtonContainer'},(this.props.showTools?ss.mkdel(this,this.$5)():null),((this.props.showTools&&this.props.showPanAndZoom)?ss.mkdel(this,this.$4)():null),((this.props.showPanAndZoom&&!this.props.isHomeButtonHidden)?ss.mkdel(this,this.$9)():null))},$5:function(){return React.createElement(r,this.props.selectedButtonProps)},$4:function(){return React.createElement(r,this.props.panButtonProps)},$9:function(){return React.createElement(r,this.props.homeButtonProps)},$8:function(){var L=React.DOM.div({className:'fztFlyOutContainer'},React.DOM.div({className:'fztFlyOutButtons'},React.createElement(r,this.props.radialSelectButtonProps),React.createElement(r,this.props.lassoSelectButtonProps),React.createElement(r,this.props.rectangleSelectButtonProps),React.createElement(r,this.props.appendSelectButtonProps)));return(this.props.isFlyoutCollapsed?null:L)},$1:function(L){this.props.onClose()},$0:function(){return{tap:ss.mkdel(this,this.$1)}}},React.Component);ss.initClass(u,a,{add_dismissRequested:function(L){this.$3$1=ss.delegateCombine(this.$3$1,L)},remove_dismissRequested:function(L){this.$3$1=ss.delegateRemove(this.$3$1,L)},add_toolSelectionRequested:function(L){this.$3$2=ss.delegateCombine(this.$3$2,L)},remove_toolSelectionRequested:function(L){this.$3$2=ss.delegateRemove(this.$3$2,L)},add_appendModeSettingRequested:function(L){this.$3$3=ss.delegateCombine(this.$3$3,L)},remove_appendModeSettingRequested:function(L){this.$3$3=ss.delegateRemove(this.$3$3,L)},add_zoomHomeRequested:function(L){this.$3$4=ss.delegateCombine(this.$3$4,L)},remove_zoomHomeRequested:function(L){this.$3$4=ss.delegateRemove(this.$3$4,L)},get_mapsSearchViewModel:function(){return this.$3$5},set_mapsSearchViewModel:function(L){this.$3$5=L},$f:function(){return this.$n.buttonId},$g:function(){return this.$i[3].isSelected},$h:function(){return this.$m.isSelected},showToolbar:function(L){this.$q=true;this.$j=L;this.incrementProps()},hideToolbar:function(){if(!this.$q){return}this.$q=false;this.incrementProps()},showTools:function(L){this.$r=L;this.incrementProps()},showMapsSearch:function(){this.$o=true;this.incrementProps()},hideMapsSearch:function(){this.$o=false;this.incrementProps()},shouldEnablePanAndZoom:function(L){this.$p=L;this.incrementProps()},updateZoomHomeState:function(L){this.$l=L;this.incrementProps()},$9:function(L){if(L==='pan-map'){this.$c()}else{var bN=u.$0(L);this.$d(bN)}},$8:function(L){this.$i[3].isSelected=L;this.$n.shouldShowAppendSubIcon=L;this.incrementProps()},$c:function(){this.$m.isSelected=true;this.$i[this.$f()].isSelected=false;this.$n.isSelected=false;this.incrementProps()},$d:function(L){this.$i[this.$f()].isSelected=false;this.$i[L].isSelected=true;this.$n.buttonId=this.$i[L].buttonId;this.$n.iconClassName=this.$i[L].iconClassName;this.$n.buttonTooltip=this.$i[L].buttonTooltip;this.$n.isSelected=true;this.$m.isSelected=false;this.incrementProps()},$6:function(){this.$k=true;this.incrementProps()},$5:function(L){var bN=!this.$g();this.raiseActionEvent$1(Boolean).call(this,this.$3$3,bN);this.$6()},$e:function(L){this.raiseActionEvent$1(Object).call(this,this.$3$2,u.$1(L));this.$6()},$7:function(L){this.raiseActionEvent(this.$3$4);this.$6()},$b:function(L){if(this.$h()){this.raiseActionEvent$1(Object).call(this,this.$3$2,u.$1(L))}else{this.$k=!this.$k;this.incrementProps()}},$a:function(){this.raiseActionEvent(this.$3$1)},createInitialProps:function(){return{onClose:ss.mkdel(this,this.$a),homeButtonProps:{buttonId:5,iconClassName:'tab-map-home',buttonTooltip:tab.Strings.PanZoomSelectToolsZoomHomeTooltip,onTap:ss.mkdel(this,this.$7)}}},createUpdatedProps:function(){return{mapsSearchProps:{viewModel:this.get_mapsSearchViewModel()},showToolbar:this.$q,showTools:this.$r,showMapsSearch:this.$o,showPanAndZoom:this.$p,panButtonProps:this.$m,radialSelectButtonProps:this.$i[0],lassoSelectButtonProps:this.$i[1],rectangleSelectButtonProps:this.$i[2],appendSelectButtonProps:this.$i[3],selectedButtonProps:this.$n,isFlyoutCollapsed:this.$k,isHomeButtonHidden:this.$l,getAnchorPosition:this.$j}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(v,a,{$0:function(){tab.ViewportChangeDetector.get_instance().add_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().add_scrolled(ss.mkdel(this,this.$2))},$3:function(){tab.ViewportChangeDetector.get_instance().remove_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().remove_scrolled(ss.mkdel(this,this.$2))},componentDidMount:function(){this.$5();this.$0();this.$2()},componentWillUnmount:function(){this.$3()},$5:function(){if(ss.isValue(this.$8)){this.$8.style.display='none'}},$6:function(){if(ss.isValue(this.$8)){this.$8.style.display=''}},$2:function(){if(ss.isNullOrUndefined(tab.ViewportChangeDetector.get_instance().get_lastViewportRect())){return}this.$5();tab.WindowHelper.cancelAnimationFrame(this.$9);this.$a=tab.DateUtil.get_nowAsTime();this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))},$1:function(){var L=tab.DateUtil.get_nowAsTime();if(L-this.$a>=300){this.$4()}else{this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))}},$4:function(){if(ss.isValue(this.$8)){var L=tab.Application.get_instance().get_client().get_dashboardViewport();var bN=tab.ViewportChangeDetector.get_instance().get_lastViewportRect();var bO={x:bN.l,y:bN.t};var bP=L.convertPointFromPageToDashboardCoords(bO);var bQ={l:bP.x,t:bP.y,w:bN.w,h:bN.h};var bR=tab.RectUtil.intersect(bQ,L.get_visibleRect());var bS=this.props.getAnchorPosition();var bT=L.convertPointFromPageToDashboardCoords(bS);this.$8.style.left=Math.max(bT.x,bR.l)+'px';this.$8.style.top=Math.max(bT.y,bR.t)+'px';this.$6()}},render:function(){return React.DOM.div({className:'tab-floating-toolbar-container',ref:this.$7},this.props.children)}},React.Component);ss.initClass(w,a,{get_currentToolMode:function(){return this.$8},set_currentToolMode:function(L){if(L!==this.$8){var bN=this.$8;this.$8=L;this.toolModeChanged(bN)}else if(L===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(L,true)}},get_floatingToolbarType:function(){return this.toolbarType},dispose:function(){try{this.disposables.dispose()}catch(L){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomAreaButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(L){this.canZoomHome=L;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(L){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(L?'':'none')})}if(!L){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')});this.$7=L},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectButton)){this.disposables.add$1(this.rectSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panButton)){this.disposables.add$1(this.panButton.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectButton)){this.disposables.add$1(this.radialSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectButton)){this.disposables.add$1(this.lassoSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeButton)){this.disposables.add$1(this.zoomHomeButton.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(L){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(L?'':'none')})}},toggleFlyout:function(L){if(!this.$7){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var bN=this.flyOutButton.element.position();var bO=tab.DoubleUtil.roundToInt(this.flyOutButton.element.width());this.flyOutContainer.css({top:bN.top+'px',left:bO+'px'});this.updateFlyOutVisibility(true)}},addButton:function(L,bN,bO){var bP=new spiff.Button($(document.createElement('div')));bP.set_hoverTooltipText(bO);var bQ=bP;this.$6(L,bQ,bN);return bQ},addToggleButton:function(L,bN,bO){var bP=new spiff.ToggleButton($(document.createElement('span')));bP.set_hoverTooltipText(bO);var bQ=bP;this.$6(L,bQ,bN);return bQ},addSpacer:function(){var L=$(document.createElement('div'));L.addClass('fztSpacer');this.buttonContainer.append(L)},$6:function(L,bN,bO){bN.element.addClass(bO);bN.element.addClass('fztButton');L.append(bN.element);this.disposables.add$1(bN)},setToolMode:function(L,bN){if(L===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(L)}this.api.setPointerToolMode(this.get_currentToolMode(),bN)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'/>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'/>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'/>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(L,bN){switch(L){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaButton,bN);break}case'pan-map':{if(ss.isValue(this.panButton)){this.selectButton(this.panButton,bN)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectButton)){this.selectButton(this.rectSelectButton,bN)}break}case'radial-selection':{this.selectButton(this.radialSelectButton,bN);break}case'lasso-selection':{this.selectButton(this.lassoSelectButton,bN);break}default:{break}}},selectButton:function(L,bN){var bO=ss.safeCast(L,spiff.ToggleButton);if(ss.isValue(bO)){bO.set_selected(bN)}},toolModeChanged:function(L){this.updateButtonState(L,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(x,a,{get_toolBarIsOffOrHome:function(){return ss.isNullOrUndefined(this.zoomToolbar)||this.zoomToolbar.get_floatingToolbarType()==='homeOnlyToolbar'},resetPointerToolbarMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.$1!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode();return true}return false},updateZoomToolbar:function(L){this.$1=L;if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose();this.zoomToolbar=null;if(this.$1!=='hide'){this.createZoomToolbar();this.showFloatingZoomToolbar(true)}}if(this.$0.get_shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar())}},determineToolbarType:function(){var L=this.$0.allowPanZoom();var bN=this.$0.isVizLargerThanScreen();var bO='fullToolbar';if(!this.$0.get_shouldShowTools()){bO='homeOnlyToolbar'}else if(!L){bO='disablePanZoomToolbar'}if(tsConfig.is_mobile){if(bO==='fullToolbar'&&bN){return'disablePanZoomToolbar'}}return bO},showFloatingZoomToolbar:function(L){if(L&&this.$1!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(L)}},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}var L=tsConfig.is_mobile&&tab.FeatureFlags.isEnabled('TouchSmoothTooltips');if(ss.isNullOrUndefined(this.zoomToolbar)&&!L){var bN=this.$0.get_zoomToolbarContainerDiv();var bO=this.$0.get_isMapSearchEnabled();var bP=this.$0.get_zoomToolbarOperations();var bQ=this.determineToolbarType();var bR=this.$0.get_zoomToolbarOffset();var bS=tab.ObjectRegistry.resolve(w).call(null,[bN,bP,bQ,bR,bO]);bS.addClass('tabSuppressVizTooltipsAndOverlays');this.zoomToolbar=bS}},enableUserInteraction:function(L){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(L)}},resetVisualState:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetVisualState()}},setToolMode:function(L,bN){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(L,bN);return true}return false},dispose:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}}},null,[ss.IDisposable]);ss.initClass(y,a,{});ss.initClass(z,a,{get_button:function(){return this.$a},$9:function(){var L={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$7),ss.mkdel(this,this.$8),L)},$7:function(L){var bN={};var bO=Math.abs(0.0063306021306998);var bP=Math.abs(L.coords.latitude);var bQ=89.9936693978693;if(bP>bQ){bN.minLatitude=((L.coords.latitude<0)?-90:(L.coords.latitude-bO));bN.maxLatitude=((L.coords.latitude<0)?(L.coords.latitude+bO):90)}else{bN.minLatitude=L.coords.latitude-bO;bN.maxLatitude=L.coords.latitude+bO}var bR;var bS=Math.cos(y.degreeToRad(bP));var bT=3.49343234718729E-05;if(bS<bT){bR=180}else{bR=0.7/(111.32*bS)}bN.minLongitude=L.coords.longitude-bR;bN.maxLongitude=L.coords.longitude+bR;tab.PaneClientCommands.boundingBoxPan(this.$b,bN)},$6:function(L){var bN='';if(L.code===L.PERMISSION_DENIED){if(z.$0()){bN=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{bN=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(L.code===L.TIMEOUT){bN=tab.Strings.GotoMyLocationTimeoutError}else if(L.code===L.POSITION_UNAVAILABLE){if(z.$0()){bN=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{bN=tab.Strings.GotoMyLocationPositionUnavailableError}}else{bN=tab.Strings.GotoMyLocationPositionUnavailableError}return bN},$8:function(L){var bN=this.$6(L);var bO=this.element.offset();var bP={x:tab.DoubleUtil.roundToInt(bO.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(bO.top)};if(tsConfig.is_mobile){bP.y+=ss.Int32.div(tab.DoubleUtil.roundToInt(this.element.height()),4)}tab.NotificationViewModel.showGeoLocationNotification(bN,-1,{x:bP.x,y:bP.y})}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(Y,a,{renderMultipolygonMark:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);this.get_currentContext().save();switch(bO){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,bY,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}if(bP||bQ){bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,bY,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,bY,'normalOn',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bP||bQ){bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,bY,'normalOn',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bP||bQ){bR='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,bY,'selectedUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bP||bQ){bR='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,bY,'normalOn',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawMultipolygonMarkLayer:function(L,bN,bO,bP){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bN),L.c.get('cell_y').gv(bN),L.c.get('clip_width').gv(bN),L.c.get('clip_height').gv(bN))}var bQ=((bO!=='normalOn')?0:Y.$d());var bR='empty';var bS=L.getMarkGeometry(L.c.get('geometry').gv(bN));if(ss.isValue(bS)){bR=bS.geometryType}switch(bR){case'multiPolygon':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bN),L.c.get('y').gv(bN));this.get_currentContext().scale(L.c.get('size').gv(bN),L.c.get('size').gv(bN))}tab.CanvasRenderer.createMultipolygonPath(this.get_currentContext(),bS);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bO){case'normalUnder':{{this.strokeCurrentPath(2-bQ,L.c.get('halo_color').gv(bN)[bP])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bQ,L.c.get('selected_halo_color').gv(bN)[bP])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bN)[bP])}if(L.c.get('draw_border').gv(bN)){this.strokeCurrentPath(1-bQ,L.c.get('border_color').gv(bN)[bP])}break}default:{break}}break}case'multiLineString':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bN),L.c.get('y').gv(bN));this.get_currentContext().scale(L.c.get('size').gv(bN),L.c.get('size').gv(bN))}tab.CanvasRenderer.createMultiLinePath(this.get_currentContext(),bS);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bO){case'normalUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bN)+4,L.c.get('halo_color').gv(bN)[bP])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),bS.multiLine,L.c.get('size').gv(bN)+4,2,L.c.get('halo_color').gv(bN)[bP])}break}case'selectedUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bN)+4,L.c.get('selected_halo_color').gv(bN)[bP])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),bS.multiLine,L.c.get('size').gv(bN)+4,2,L.c.get('selected_halo_color').gv(bN)[bP])}break}case'normalOn':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP])}break}default:{break}}break}case'multiPoint':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bN),L.c.get('y').gv(bN));this.get_currentContext().scale(L.c.get('size').gv(bN),L.c.get('size').gv(bN))}tab.CanvasRenderer.createMultipointPath(this.get_currentContext(),7,bS);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bO){case'normalUnder':{{this.strokeCurrentPath(2-bQ,L.c.get('halo_color').gv(bN)[bP])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bQ,L.c.get('selected_halo_color').gv(bN)[bP])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bN)[bP])}if(L.c.get('draw_border').gv(bN)){this.strokeCurrentPath(1-bQ,L.c.get('border_color').gv(bN)[bP])}break}default:{break}}break}case'empty':{tab.CanvasRenderer.createPlaceholderPath(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),7);switch(bO){case'normalUnder':{{this.strokeCurrentPath(2-bQ,L.c.get('halo_color').gv(bN)[bP])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bQ,L.c.get('selected_halo_color').gv(bN)[bP])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bN)[bP])}if(L.c.get('draw_border').gv(bN)){this.strokeCurrentPath(1-bQ,L.c.get('border_color').gv(bN)[bP])}break}default:{break}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderAreaMark:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);var bW=L.get_lineDrawState();this.get_currentContext().save();switch(bO){case'normalUnderPass':{break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}var bX=bW.get_lineAttributes();for(var bY=0;bY<bX.length;bY++){var bZ=bX[bY];if(bZ.get_lineState()!=='lineStateNormal'){continue}var ca=bZ.worldOffsets;var cb=ca.length;for(var cc=0;cc<cb;cc++){var cd=ca[cc];Y.$c(this.get_currentContext(),cd);{for(var ce=0;ce<bZ.marksNeedingDraw.length;ce++){var cf=bZ.marksNeedingDraw[ce];this.drawAreaMarkLayer(L,cf,'edgeOn',bR,bZ.startIndex)}}if(cd!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bP||bQ){bR='colorOverrideNone';var cg=bW.get_lineAttributes();for(var ch=0;ch<cg.length;ch++){var ci=cg[ch];if(ci.get_lineState()!=='lineStateHighlighted'){continue}var cj=ci.worldOffsets;var ck=cj.length;for(var cl=0;cl<ck;cl++){var cm=cj[cl];Y.$c(this.get_currentContext(),cm);{for(var cn=0;cn<ci.marksNeedingDraw.length;cn++){var co=ci.marksNeedingDraw[cn];this.drawAreaMarkLayer(L,co,'edgeOn',bR,ci.startIndex)}}if(cm!==0){this.get_currentContext().restore()}}}var cp=bW.get_lineAttributes();for(var cq=0;cq<cp.length;cq++){var cr=cp[cq];if(cr.get_lineState()!=='lineStateHighlighted'){continue}var cs=cr.worldOffsets;var ct=cs.length;for(var cu=0;cu<ct;cu++){var cv=cs[cu];Y.$c(this.get_currentContext(),cv);if(!cr.get_allHighlighted()){{for(var cw=0;cw<cr.marksNeedingDraw.length;cw++){var cx=cr.marksNeedingDraw[cw];if(L.getMarkState(cx)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cx,'highlightedUnder1',bR,cr.startIndex);this.drawAreaMarkLayer(L,cx,'highlightedUnder',bR,cr.startIndex)}}}{for(var cy=0;cy<cr.marksNeedingDraw.length;cy++){var cz=cr.marksNeedingDraw[cy];if(L.getMarkState(cz)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cz,'highlightedOn1',bR,cr.startIndex);this.drawAreaMarkLayer(L,cz,'highlightedOn',bR,cr.startIndex)}}}}if(cv!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(bP||bQ){bR='colorOverrideOpaque';var cA=bW.get_lineAttributes();for(var cB=0;cB<cA.length;cB++){var cC=cA[cB];if(cC.get_lineState()!=='lineStateSelected'){continue}var cD=cC.worldOffsets;var cE=cD.length;for(var cF=0;cF<cE;cF++){var cG=cD[cF];Y.$c(this.get_currentContext(),cG);{for(var cH=0;cH<cC.marksNeedingDraw.length;cH++){var cI=cC.marksNeedingDraw[cH];this.drawAreaMarkLayer(L,cI,'edgeOn',bR,cC.startIndex)}}if(cG!==0){this.get_currentContext().restore()}}}var cJ=bW.get_lineAttributes();for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];if(cL.get_lineState()!=='lineStateSelected'){continue}var cM=cL.worldOffsets;var cN=cM.length;for(var cO=0;cO<cN;cO++){var cP=cM[cO];Y.$c(this.get_currentContext(),cP);if(!cL.get_allHighlighted()){{for(var cQ=0;cQ<cL.marksNeedingDraw.length;cQ++){var cR=cL.marksNeedingDraw[cQ];if(L.getMarkState(cR)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cR,'highlightedUnder1',bR,cL.startIndex);this.drawAreaMarkLayer(L,cR,'highlightedUnder',bR,cL.startIndex)}}}{for(var cS=0;cS<cL.marksNeedingDraw.length;cS++){var cT=cL.marksNeedingDraw[cS];if(L.getMarkState(cT)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cT,'highlightedOn1',bR,cL.startIndex);this.drawAreaMarkLayer(L,cT,'highlightedOn',bR,cL.startIndex)}}}}if(cP!==0){this.get_currentContext().restore()}}}var cU=bW.get_lineAttributes();for(var cV=0;cV<cU.length;cV++){var cW=cU[cV];if(cW.get_lineState()!=='lineStateSelected'){continue}var cX=cW.worldOffsets;var cY=cX.length;for(var cZ=0;cZ<cY;cZ++){var da=cX[cZ];Y.$c(this.get_currentContext(),da);{for(var db=0;db<cW.marksNeedingDraw.length;db++){var dc=cW.marksNeedingDraw[db];if(L.getMarkState(dc)==='markStateSelected'){this.drawAreaMarkLayer(L,dc,'selectedUnder1',bR,cW.startIndex);this.drawAreaMarkLayer(L,dc,'selectedUnder',bR,cW.startIndex)}}}{for(var dd=0;dd<cW.marksNeedingDraw.length;dd++){var de=cW.marksNeedingDraw[dd];if(L.getMarkState(de)==='markStateSelected'){this.drawAreaMarkLayer(L,de,'selectedOn1',bR,cW.startIndex);this.drawAreaMarkLayer(L,de,'selectedOn',bR,cW.startIndex)}}}if(da!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawAreaMarkLayer:function(L,bN,bO,bP,bQ){var bR=L.c.get('l_neighbor').gv(bN);var bS=L.c.get('r_neighbor').gv(bN);var bT=L.clipCase;if(bT!==0){this.get_currentContext().save();this.$9(bT,L.c.get('cell_x').gv(bN),L.c.get('cell_y').gv(bN),L.c.get('clip_width').gv(bN),L.c.get('clip_height').gv(bN))}var bU=L.drawBorder;switch(bO){case'edgeOn':{if(L.c.get('r_neighbor').gv(bN)!==-1){var bV=[Math.round(L.c.get('x1').gv(bN)),Math.round(L.c.get('y1').gv(bN)),Math.round(L.c.get('x1').gv(bS)),Math.round(L.c.get('y1').gv(bS)),Math.round(L.c.get('x_prev').gv(bS)),Math.round(L.c.get('y_prev').gv(bS)),Math.round(L.c.get('x_next').gv(bN)),Math.round(L.c.get('y_next').gv(bN))];this.get_currentContext().set_lineJoin('miter');this.$c(bV,L.getMarkColors(bQ)[bP])}if(bU&&L.c.get('r_neighbor').gv(bN)!==-1){var bW=[L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),L.c.get('x1').gv(bS),L.c.get('y1').gv(bS)];this.$d(bW,1,L.c.get('border_color').gv(bN)[bP],true)}if(bU&&L.c.get('r_neighbor').gv(bN)!==-1){var bX=[L.c.get('x_next').gv(bN),L.c.get('y_next').gv(bN),L.c.get('x_prev').gv(bS),L.c.get('y_prev').gv(bS)];this.$d(bX,1,L.c.get('border_color').gv(bN)[bP],true)}if(bU&&(L.c.get('l_neighbor').gv(bN)!==-1&&L.c.get('r_neighbor').gv(bN)!==-1)){var bY=[L.c.get('x_prev').gv(bN),L.c.get('y_prev').gv(bN),L.c.get('x_next').gv(bN),L.c.get('y_next').gv(bN)];this.$d(bY,1,L.c.get('border_color').gv(bN)[bP],true)}if(bU&&L.c.get('l_neighbor').gv(bN)===-1){var bZ=[L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),L.c.get('x_next').gv(bN),L.c.get('y_next').gv(bN)];this.$d(bZ,1,L.c.get('border_color').gv(bN)[bP],true)}if(bU&&L.c.get('r_neighbor').gv(bN)===-1){var ca=[L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),L.c.get('x_prev').gv(bN),L.c.get('y_prev').gv(bN)];this.$d(ca,1,L.c.get('border_color').gv(bN)[bP],true)}if(!bU&&L.c.get('r_neighbor').gv(bN)!==-1){var cb=[L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),L.c.get('x1').gv(bS),L.c.get('y1').gv(bS)];this.$d(cb,1,L.getMarkColors(bQ)[bP],true)}if(!bU&&L.c.get('r_neighbor').gv(bN)!==-1){var cc=[L.c.get('x_next').gv(bN),L.c.get('y_next').gv(bN),L.c.get('x_prev').gv(bS),L.c.get('y_prev').gv(bS)];this.$d(cc,1,L.getMarkColors(bQ)[bP],true)}if(!bU&&(L.c.get('l_neighbor').gv(bN)!==-1&&L.c.get('r_neighbor').gv(bN)!==-1)){var cd=[L.c.get('x_prev').gv(bN),L.c.get('y_prev').gv(bN),L.c.get('x_next').gv(bN),L.c.get('y_next').gv(bN)];this.$d(cd,1,L.getMarkColors(bQ)[bP],true)}if(!bU&&L.c.get('l_neighbor').gv(bN)===-1){var ce=[L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),L.c.get('x_next').gv(bN),L.c.get('y_next').gv(bN)];this.$d(ce,1,L.getMarkColors(bQ)[bP],true)}if(!bU&&L.c.get('r_neighbor').gv(bN)===-1){var cf=[L.c.get('x1').gv(bN),L.c.get('y1').gv(bN),L.c.get('x_prev').gv(bN),L.c.get('y_prev').gv(bN)];this.$d(cf,1,L.getMarkColors(bQ)[bP],true)}break}case'selectedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(bN),0+L.c.get('y1').gv(bN),5,L.getMarkColors(bN)[bP])}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(bN),0+L.c.get('y1').gv(bN),5,L.c.get('selected_halo_color').gv(bN)[bP],4)}break}case'selectedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),5,L.getMarkColors(bN)[bP])}break}case'selectedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),5,L.c.get('selected_halo_color').gv(bN)[bP],4)}break}case'highlightedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(bN),0+L.c.get('y1').gv(bN),5,L.getMarkColors(bN)[bP])}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(bN),0+L.c.get('y1').gv(bN),5,L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}break}case'highlightedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),5,L.getMarkColors(bN)[bP])}break}case'highlightedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),5,L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}break}default:{break}}if(bT!==0){this.get_currentContext().restore()}},renderMarkLabels:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);this.get_currentContext().save();var bW=this.$B(L);switch(bO){case'normalUnderPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{var bX=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var bY=bT;bY<=bU;bY++){if(!L.markHasLabel(bY)||!L.markLabelNeedsDraw(bY,bX)){continue}if(L.getMarkLabelState(bY)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(bY),L.c.get('cell_y').gv(bY),L.c.get('clip_width').gv(bY),L.c.get('clip_height').gv(bY))}var bZ=L.getMarkLabelInstanceOffsets(bY);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];if(cc!==0){this.get_currentContext().save();this.get_currentContext().translate(cc,0)}this.drawMarkLabelLayer(L,bY,'normalUnder',bR);if(cc!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}bR='colorOverrideNone';{var cd=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ce=bT;ce<=bU;ce++){if(!L.markHasLabel(ce)||!L.markLabelNeedsDraw(ce,cd)){continue}if(L.getMarkLabelState(ce)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(ce),L.c.get('cell_y').gv(ce),L.c.get('clip_width').gv(ce),L.c.get('clip_height').gv(ce))}var cf=L.getMarkLabelInstanceOffsets(ce);var cg=cf.length;for(var ch=0;ch<cg;ch++){var ci=cf[ch];if(ci!==0){this.get_currentContext().save();this.get_currentContext().translate(ci,0)}this.drawMarkLabelLayer(L,ce,'normalUnder',bR);if(ci!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}bR='colorOverrideNone';{var cj=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ck=bT;ck<=bU;ck++){if(!L.markHasLabel(ck)||!L.markLabelNeedsDraw(ck,cj)){continue}if(L.getMarkLabelState(ck)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(ck),L.c.get('cell_y').gv(ck),L.c.get('clip_width').gv(ck),L.c.get('clip_height').gv(ck))}var cl=L.getMarkLabelInstanceOffsets(ck);var cm=cl.length;for(var cn=0;cn<cm;cn++){var co=cl[cn];if(co!==0){this.get_currentContext().save();this.get_currentContext().translate(co,0)}this.drawMarkLabelLayer(L,ck,'normalUnder',bR);if(co!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{var cp=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cq=bT;cq<=bU;cq++){if(!L.markHasLabel(cq)||!L.markLabelNeedsDraw(cq,cp)){continue}if(L.getMarkLabelState(cq)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cq),L.c.get('cell_y').gv(cq),L.c.get('clip_width').gv(cq),L.c.get('clip_height').gv(cq))}var cr=L.getMarkLabelInstanceOffsets(cq);var cs=cr.length;for(var ct=0;ct<cs;ct++){var cu=cr[ct];if(cu!==0){this.get_currentContext().save();this.get_currentContext().translate(cu,0)}var cv=this.get_currentContext().get_textAlign()==='end';var cw=L.getMarkLabelProperty('text_run_offset',cq);var cx=L.getMarkLabelProperty('text_run_count',cq);var cy=cx>1;for(var cz=0;cz<cx;cz++){var cA=cz+cw;if(cv){cA=cw+cx-cz-1}this.drawLabelRunLayer(L,cq,'normalOn',bR,cA,cy,bW)}this.clearPrevTextRunInfo();if(cu!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bP||bQ){bR='colorOverrideNone';{var cB=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cC=bT;cC<=bU;cC++){if(!L.markHasLabel(cC)||!L.markLabelNeedsDraw(cC,cB)){continue}if(L.getMarkLabelState(cC)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cC),L.c.get('cell_y').gv(cC),L.c.get('clip_width').gv(cC),L.c.get('clip_height').gv(cC))}var cD=L.getMarkLabelInstanceOffsets(cC);var cE=cD.length;for(var cF=0;cF<cE;cF++){var cG=cD[cF];if(cG!==0){this.get_currentContext().save();this.get_currentContext().translate(cG,0)}var cH=this.get_currentContext().get_textAlign()==='end';var cI=L.getMarkLabelProperty('text_run_offset',cC);var cJ=L.getMarkLabelProperty('text_run_count',cC);var cK=cJ>1;for(var cL=0;cL<cJ;cL++){var cM=cL+cI;if(cH){cM=cI+cJ-cL-1}this.drawLabelRunLayer(L,cC,'highlightedOn',bR,cM,cK,bW)}this.clearPrevTextRunInfo();if(cG!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(bP||bQ){bR='colorOverrideOpaque';{var cN=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cO=bT;cO<=bU;cO++){if(!L.markHasLabel(cO)||!L.markLabelNeedsDraw(cO,cN)){continue}if(L.getMarkLabelState(cO)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cO),L.c.get('cell_y').gv(cO),L.c.get('clip_width').gv(cO),L.c.get('clip_height').gv(cO))}var cP=L.getMarkLabelInstanceOffsets(cO);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];if(cS!==0){this.get_currentContext().save();this.get_currentContext().translate(cS,0)}this.drawMarkLabelLayer(L,cO,'selectedUnder',bR);if(cS!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(bP||bQ){bR='colorOverrideOpaque';{var cT=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cU=bT;cU<=bU;cU++){if(!L.markHasLabel(cU)||!L.markLabelNeedsDraw(cU,cT)){continue}if(L.getMarkLabelState(cU)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cU),L.c.get('cell_y').gv(cU),L.c.get('clip_width').gv(cU),L.c.get('clip_height').gv(cU))}var cV=L.getMarkLabelInstanceOffsets(cU);var cW=cV.length;for(var cX=0;cX<cW;cX++){var cY=cV[cX];if(cY!==0){this.get_currentContext().save();this.get_currentContext().translate(cY,0)}var cZ=this.get_currentContext().get_textAlign()==='end';var da=L.getMarkLabelProperty('text_run_offset',cU);var db=L.getMarkLabelProperty('text_run_count',cU);var dc=db>1;for(var dd=0;dd<db;dd++){var de=dd+da;if(cZ){de=da+db-dd-1}this.drawLabelRunLayer(L,cU,'normalOn',bR,de,dc,bW)}this.clearPrevTextRunInfo();if(cY!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawMarkLabelLayer:function(L,bN,bO,bP){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bN),L.c.get('cell_y').gv(bN),L.c.get('clip_width').gv(bN),L.c.get('clip_height').gv(bN))}switch(bO){case'normalUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var bQ=L.getMarkLabelProperty('x',bN);var bR=L.getMarkLabelProperty('y',bN);var bS=L.getMarkLabelProperty('width',bN);var bT=-L.getMarkLabelProperty('height',bN);if(bT<0){bR+=bT;bT=Math.abs(bT)}var bU=0;var bV=0;var bW;if(L.isMarkImpliedSelected(bN)){bW=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{bW=L.getMarkLabelProperty('halo_color',bN)[bP]}Y.$b(this.get_currentContext(),bQ+bU,bR+bV,bS,bT,bW,0,0,false)}}{if(L.isMarkDebug(bN)){var bX=L.getMarkLabelProperty('x',bN);var bY=L.getMarkLabelProperty('y',bN);var bZ=L.getMarkLabelProperty('width',bN);var ca=-L.getMarkLabelProperty('height',bN);if(ca<0){bY+=ca;ca=Math.abs(ca)}var cb=0;var cc=0;var cd;if(L.isMarkImpliedSelected(bN)){cd=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{cd=L.c.get('halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),bX+cb,bY+cc,bZ,ca,cd,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var ce=L.getMarkLabelProperty('x',bN);var cf=L.getMarkLabelProperty('y',bN);var cg=L.getMarkLabelProperty('width',bN);var ch=-L.getMarkLabelProperty('height',bN);if(ch<0){cf+=ch;ch=Math.abs(ch)}var ci=0;var cj=0;var ck;if(L.isMarkImpliedSelected(bN)){ck=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{ck=L.getMarkLabelProperty('halo_color',bN)[bP]}Y.$b(this.get_currentContext(),ce+ci,cf+cj,cg,ch,ck,0,0,false)}}{if(L.isMarkDebug(bN)){var cl=L.getMarkLabelProperty('x',bN);var cm=L.getMarkLabelProperty('y',bN);var cn=L.getMarkLabelProperty('width',bN);var co=-L.getMarkLabelProperty('height',bN);if(co<0){cm+=co;co=Math.abs(co)}var cp=0;var cq=0;var cr;if(L.isMarkImpliedSelected(bN)){cr=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{cr=L.c.get('halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),cl+cp,cm+cq,cn,co,cr,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawTextRunLayer:function(L,bN,bO,bP,bQ,bR,bS){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bN),L.c.get('cell_y').gv(bN),L.c.get('clip_width').gv(bN),L.c.get('clip_height').gv(bN))}switch(bO){case'normalUnder':{break}case'normalOn':{var bT=L.getTextRunProperty('text_style_id',bQ);bS(bT);var bU=L.$6(bT,bN,bP);var bV=L.getTextRunProperty('text_run',bQ);var bW=L.getMarkLabelProperty('x',bN)+L.getTextRunProperty('text_run_x',bQ);var bX=L.getMarkLabelProperty('y',bN)+L.getTextRunProperty('text_run_y',bQ);var bY=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bN):L.getMarkLabelProperty('height',bN));this.renderText(bV,bW,bX,bY,bU,bR);break}case'highlightedUnder':{break}case'highlightedOn':{var bZ=L.getTextRunProperty('text_style_id',bQ);bS(bZ);var ca=L.$6(bZ,bN,bP);var cb=L.getTextRunProperty('text_run',bQ);var cc=L.getMarkLabelProperty('x',bN)+L.getTextRunProperty('text_run_x',bQ);var cd=L.getMarkLabelProperty('y',bN)+L.getTextRunProperty('text_run_y',bQ);var ce=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bN):L.getMarkLabelProperty('height',bN));this.renderText(cb,cc,cd,ce,ca,bR);break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawLabelRunLayer:function(L,bN,bO,bP,bQ,bR,bS){if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bN),L.c.get('cell_y').gv(bN),L.c.get('clip_width').gv(bN),L.c.get('clip_height').gv(bN))}switch(bO){case'normalUnder':{break}case'normalOn':{var bT=L.getTextRunProperty('text_style_id',bQ);bS(bT);var bU=L.$6(bT,bN,bP);var bV=L.getTextRunProperty('text_run',bQ);var bW=L.getMarkLabelProperty('x',bN)+L.getTextRunProperty('text_run_x',bQ);var bX=L.getMarkLabelProperty('y',bN)+L.getTextRunProperty('text_run_y',bQ);var bY=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bN):L.getMarkLabelProperty('height',bN));this.renderText(bV,bW,bX,bY,bU,bR);break}case'highlightedUnder':{break}case'highlightedOn':{var bZ=L.getTextRunProperty('text_style_id',bQ);bS(bZ);var ca=L.$6(bZ,bN,bP);var cb=L.getTextRunProperty('text_run',bQ);var cc=L.getMarkLabelProperty('x',bN)+L.getTextRunProperty('text_run_x',bQ);var cd=L.getMarkLabelProperty('y',bN)+L.getTextRunProperty('text_run_y',bQ);var ce=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bN):L.getMarkLabelProperty('height',bN));this.renderText(cb,cc,cd,ce,ca,bR);break}case'selectedUnder':{break}default:{break}}if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().restore()}},renderPieMark:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);var bW=L.get_lineDrawState();this.get_currentContext().save();switch(bO){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}var bX=bW.get_lineAttributes();for(var bY=0;bY<bX.length;bY++){var bZ=bX[bY];var ca=bZ.worldOffsets;var cb=ca.length;for(var cc=0;cc<cb;cc++){var cd=ca[cc];Y.$c(this.get_currentContext(),cd);{for(var ce=0;ce<bZ.marksNeedingDraw.length;ce++){var cf=bZ.marksNeedingDraw[ce];this.drawPieMarkLayer(L,cf,'normalUnder',bR)}}if(cd!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}var cg=bW.get_lineAttributes();for(var ch=0;ch<cg.length;ch++){var ci=cg[ch];if(ci.get_lineState()!=='lineStateNormal'){continue}var cj=ci.worldOffsets;var ck=cj.length;for(var cl=0;cl<ck;cl++){var cm=cj[cl];Y.$c(this.get_currentContext(),cm);{for(var cn=0;cn<ci.marksNeedingDraw.length;cn++){var co=ci.marksNeedingDraw[cn];this.drawPieMarkLayer(L,co,'normalOn',bR)}}if(cm!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bP||bQ){var cp=bW.get_lineAttributes();for(var cq=0;cq<cp.length;cq++){var cr=cp[cq];if(cr.get_lineState()!=='lineStateHighlighted'){continue}var cs=cr.worldOffsets;var ct=cs.length;for(var cu=0;cu<ct;cu++){var cv=cs[cu];Y.$c(this.get_currentContext(),cv);bR='colorOverrideFog';{for(var cw=0;cw<cr.marksNeedingDraw.length;cw++){var cx=cr.marksNeedingDraw[cw];if(L.getMarkState(cx)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,cx,'normalOn',bR)}}bR='colorOverrideNone';{for(var cy=0;cy<cr.marksNeedingDraw.length;cy++){var cz=cr.marksNeedingDraw[cy];if(L.getMarkState(cz)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,cz,'highlightedOn',bR)}}if(cv!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(bP||bQ){var cA=bW.get_lineAttributes();for(var cB=0;cB<cA.length;cB++){var cC=cA[cB];if(cC.get_lineState()!=='lineStateSelected'){continue}var cD=cC.worldOffsets;var cE=cD.length;for(var cF=0;cF<cE;cF++){var cG=cD[cF];Y.$c(this.get_currentContext(),cG);bR='colorOverrideFog';{for(var cH=0;cH<cC.marksNeedingDraw.length;cH++){var cI=cC.marksNeedingDraw[cH];if(L.getMarkState(cI)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,cI,'normalOn',bR)}}bR='colorOverrideNone';{for(var cJ=0;cJ<cC.marksNeedingDraw.length;cJ++){var cK=cC.marksNeedingDraw[cJ];if(L.getMarkState(cK)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,cK,'highlightedOn',bR)}}bR='colorOverrideOpaque';{for(var cL=0;cL<cC.marksNeedingDraw.length;cL++){var cM=cC.marksNeedingDraw[cL];if(L.getMarkState(cM)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,cM,'selectedUnder',bR)}}{for(var cN=0;cN<cC.marksNeedingDraw.length;cN++){var cO=cC.marksNeedingDraw[cN];if(L.getMarkState(cO)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,cO,'selectedOn',bR)}}if(cG!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawPieMarkLayer:function(L,bN,bO,bP){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bN),L.c.get('cell_y').gv(bN),L.c.get('clip_width').gv(bN),L.c.get('clip_height').gv(bN))}switch(bO){case'normalUnder':{var bQ=L.c.get('size').gv(bN)/2;{var bR=L.c.get('theta').gv(bN);var bS=L.c.get('theta1').gv(bN);var bT=bR>bS;var bU=L.c.get('halo_color').gv(bN)[bP];var bV=false;if(Math.abs(bR-bS)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),bQ*2,bU,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),bQ,bR,bS,bU,4,bT,bV)}}break}case'normalOn':{var bW=L.c.get('size').gv(bN)/2;{var bX=L.c.get('theta').gv(bN);var bY=L.c.get('theta1').gv(bN);if(bX>bY){var bZ=bX;bX=bY;bY=bZ}var ca=L.c.get('x').gv(bN);var cb=L.c.get('y').gv(bN);var cc=L.getMarkColors(bN)[bP];if(L.c.get('alpha').gv(bN)>=1){var cd=tab.CanvasRenderer.toCanvasAngle(bX);var ce=tab.CanvasRenderer.toCanvasAngle(bY);if(Math.abs(ce-cd)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cc);this.get_currentContext().moveTo(ca,cb);this.get_currentContext().lineTo(ca+Math.cos(cd)*bW,cb+Math.sin(cd)*bW);this.get_currentContext().stroke()}}if(Math.abs(bX-bY)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),ca,cb,bW*2,cc)}else{this.renderFilledWedge(ca,cb,bW,bX,bY,cc)}}if(L.c.get('draw_border').gv(bN)){var cf=L.c.get('theta').gv(bN);var cg=L.c.get('theta1').gv(bN);var ch=cf>cg;var ci=L.c.get('border_color').gv(bN)[bP];var cj=true;if(Math.abs(cf-cg)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),bW*2,ci,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),bW,cf,cg,ci,1,ch,cj)}}break}case'highlightedUnder':{var ck=L.c.get('size').gv(bN)/2;{var cl=L.c.get('theta').gv(bN);var cm=L.c.get('theta1').gv(bN);var cn=cl>cm;var co=L.c.get('halo_color').gv(bN)[bP];var cp=false;if(Math.abs(cl-cm)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),ck*2,co,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),ck,cl,cm,co,4,cn,cp)}}break}case'highlightedOn':{var cq=L.c.get('size').gv(bN)/2;{var cr=L.c.get('theta').gv(bN);var cs=L.c.get('theta1').gv(bN);if(cr>cs){var ct=cr;cr=cs;cs=ct}var cu=L.c.get('x').gv(bN);var cv=L.c.get('y').gv(bN);var cw=L.getMarkColors(bN)[bP];if(L.c.get('alpha').gv(bN)>=1){var cx=tab.CanvasRenderer.toCanvasAngle(cr);var cy=tab.CanvasRenderer.toCanvasAngle(cs);if(Math.abs(cy-cx)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cw);this.get_currentContext().moveTo(cu,cv);this.get_currentContext().lineTo(cu+Math.cos(cx)*cq,cv+Math.sin(cx)*cq);this.get_currentContext().stroke()}}if(Math.abs(cr-cs)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cu,cv,cq*2,cw)}else{this.renderFilledWedge(cu,cv,cq,cr,cs,cw)}}if(L.c.get('draw_border').gv(bN)){var cz=L.c.get('theta').gv(bN);var cA=L.c.get('theta1').gv(bN);var cB=cz>cA;var cC=L.c.get('border_color').gv(bN)[bP];var cD=true;if(Math.abs(cz-cA)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),cq*2,cC,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),cq,cz,cA,cC,1,cB,cD)}}break}case'selectedUnder':{var cE=L.c.get('size').gv(bN)/2;{var cF=L.c.get('theta').gv(bN);var cG=L.c.get('theta1').gv(bN);var cH=cF>cG;var cI=L.c.get('selected_halo_color').gv(bN)[bP];var cJ=false;if(Math.abs(cF-cG)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),cE*2,cI,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),cE,cF,cG,cI,4,cH,cJ)}}break}case'selectedOn':{var cK=L.c.get('size').gv(bN)/2;{var cL=L.c.get('theta').gv(bN);var cM=L.c.get('theta1').gv(bN);if(cL>cM){var cN=cL;cL=cM;cM=cN}var cO=L.c.get('x').gv(bN);var cP=L.c.get('y').gv(bN);var cQ=L.getMarkColors(bN)[bP];if(L.c.get('alpha').gv(bN)>=1){var cR=tab.CanvasRenderer.toCanvasAngle(cL);var cS=tab.CanvasRenderer.toCanvasAngle(cM);if(Math.abs(cS-cR)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cQ);this.get_currentContext().moveTo(cO,cP);this.get_currentContext().lineTo(cO+Math.cos(cR)*cK,cP+Math.sin(cR)*cK);this.get_currentContext().stroke()}}if(Math.abs(cL-cM)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cO,cP,cK*2,cQ)}else{this.renderFilledWedge(cO,cP,cK,cL,cM,cQ)}}if(L.c.get('draw_border').gv(bN)){var cT=L.c.get('theta').gv(bN);var cU=L.c.get('theta1').gv(bN);var cV=cT>cU;var cW=L.c.get('border_color').gv(bN)[bP];var cX=true;if(Math.abs(cT-cU)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),cK*2,cW,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bN),L.c.get('y').gv(bN),cK,cT,cU,cW,1,cV,cX)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderTextMarks:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);this.get_currentContext().save();var bW=this.$B(L);switch(bO){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bX,bY){Y.$c(this.get_currentContext(),bY);for(var bZ=bT;bZ<=bU;bZ++){if(bX.has(bZ)){continue}if(!L.markNeedsDraw(bZ)){continue}if(L.getMarkState(bZ)!=='markStateNormal'){continue}this.drawTextMarkLayer(L,bZ,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bY,0)){this.get_currentContext().restore()}}))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bX,bY){Y.$c(this.get_currentContext(),bY);for(var bZ=bT;bZ<=bU;bZ++){if(bX.has(bZ)){continue}if(!L.markNeedsDraw(bZ)){continue}if(L.getMarkState(bZ)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,bZ,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bY,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bX,bY){Y.$c(this.get_currentContext(),bY);for(var bZ=bT;bZ<=bU;bZ++){if(bX.has(bZ)){continue}if(!L.markNeedsDraw(bZ)){continue}if(L.getMarkState(bZ)!=='markStateNormal'){continue}var ca=this.get_currentContext().get_textAlign()==='end';var cb=L.c.get('text_run_offset').gv(bZ);var cc=L.c.get('text_run_count').gv(bZ);var cd=cc>1;for(var ce=0;ce<cc;ce++){var cf=ce+cb;if(ca){cf=cb+cc-ce-1}this.drawTextRunLayer(L,bZ,'normalOn',bR,cf,cd,bW)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(bY,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{if(bP||bQ){if(!(L.get_hasBackground()&&L.get_hasHalos())){bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bX,bY){Y.$c(this.get_currentContext(),bY);for(var bZ=bT;bZ<=bU;bZ++){if(bX.has(bZ)){continue}if(!L.markNeedsDraw(bZ)){continue}if(L.getMarkState(bZ)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,bZ,'highlightedUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bY,0)){this.get_currentContext().restore()}}))}}}break}case'highlightedOnPass':{if(bP||bQ){bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bX,bY){Y.$c(this.get_currentContext(),bY);for(var bZ=bT;bZ<=bU;bZ++){if(bX.has(bZ)){continue}if(!L.markNeedsDraw(bZ)){continue}if(L.getMarkState(bZ)!=='markStateHighlighted'){continue}var ca=this.get_currentContext().get_textAlign()==='end';var cb=L.c.get('text_run_offset').gv(bZ);var cc=L.c.get('text_run_count').gv(bZ);var cd=cc>1;for(var ce=0;ce<cc;ce++){var cf=ce+cb;if(ca){cf=cb+cc-ce-1}this.drawTextRunLayer(L,bZ,'normalOn',bR,cf,cd,bW)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(bY,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bP||bQ){bR='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bX,bY){Y.$c(this.get_currentContext(),bY);for(var bZ=bT;bZ<=bU;bZ++){if(bX.has(bZ)){continue}if(!L.markNeedsDraw(bZ)){continue}if(L.getMarkState(bZ)!=='markStateSelected'){continue}this.drawTextMarkLayer(L,bZ,'selectedUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bY,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bP||bQ){bR='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bX,bY){Y.$c(this.get_currentContext(),bY);for(var bZ=bT;bZ<=bU;bZ++){if(bX.has(bZ)){continue}if(!L.markNeedsDraw(bZ)){continue}if(L.getMarkState(bZ)!=='markStateSelected'){continue}var ca=this.get_currentContext().get_textAlign()==='end';var cb=L.c.get('text_run_offset').gv(bZ);var cc=L.c.get('text_run_count').gv(bZ);var cd=cc>1;for(var ce=0;ce<cc;ce++){var cf=ce+cb;if(ca){cf=cb+cc-ce-1}this.drawTextRunLayer(L,bZ,'normalOn',bR,cf,cd,bW)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(bY,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawTextMarkLayer:function(L,bN,bO,bP){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bN),L.c.get('cell_y').gv(bN),L.c.get('clip_width').gv(bN),L.c.get('clip_height').gv(bN))}switch(bO){case'normalUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var bQ=L.c.get('x').gv(bN);var bR=L.c.get('y').gv(bN);var bS=L.c.get('width').gv(bN);var bT=-L.c.get('height').gv(bN);if(bT<0){bR+=bT;bT=Math.abs(bT)}var bU=-L.c.get('width').gv(bN)/2;var bV=L.c.get('height').gv(bN)/2;var bW;if(L.isMarkImpliedSelected(bN)){bW=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{bW=L.c.get('halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),bQ+bU,bR+bV,bS,bT,bW,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var bX=L.c.get('x').gv(bN);var bY=L.c.get('y').gv(bN);var bZ=L.c.get('clip_width').gv(bN);var ca=-L.c.get('clip_height').gv(bN);if(ca<0){bY+=ca;ca=Math.abs(ca)}var cb=-L.c.get('clip_width').gv(bN)/2;var cc=L.c.get('clip_height').gv(bN)/2;var cd;if(L.isMarkImpliedSelected(bN)){cd=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{cd=L.c.get('halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),bX+cb,bY+cc,bZ,ca,cd,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasHaloHighlightColor()&&!(L.clipCase!==0&&L.useCellClipForSelection)){var ce=L.c.get('x').gv(bN);var cf=L.c.get('y').gv(bN);var cg=L.c.get('width').gv(bN);var ch=-L.c.get('height').gv(bN);if(ch<0){cf+=ch;ch=Math.abs(ch)}var ci=-L.c.get('width').gv(bN)/2;var cj=L.c.get('height').gv(bN)/2;var ck;if(L.isMarkImpliedSelected(bN)){ck=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{ck=L.c.get('highlighted_halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),ce+ci,cf+cj,cg,ch,ck,0,0,false)}}{if(L.get_hasHaloHighlightColor()&&(L.clipCase!==0&&L.useCellClipForSelection)){var cl=L.c.get('x').gv(bN);var cm=L.c.get('y').gv(bN);var cn=L.c.get('clip_width').gv(bN);var co=-L.c.get('clip_height').gv(bN);if(co<0){cm+=co;co=Math.abs(co)}var cp=-L.c.get('clip_width').gv(bN)/2;var cq=L.c.get('clip_height').gv(bN)/2;var cr;if(L.isMarkImpliedSelected(bN)){cr=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{cr=L.c.get('highlighted_halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),cl+cp,cm+cq,cn,co,cr,0,0,false)}}break}case'selectedUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var cs=L.c.get('x').gv(bN);var ct=L.c.get('y').gv(bN);var cu=L.c.get('width').gv(bN);var cv=-L.c.get('height').gv(bN);if(cv<0){ct+=cv;cv=Math.abs(cv)}var cw=-L.c.get('width').gv(bN)/2;var cx=L.c.get('height').gv(bN)/2;var cy;if(L.isMarkImpliedSelected(bN)){cy=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{cy=L.c.get('selected_halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),cs+cw,ct+cx,cu,cv,cy,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var cz=L.c.get('x').gv(bN);var cA=L.c.get('y').gv(bN);var cB=L.c.get('clip_width').gv(bN);var cC=-L.c.get('clip_height').gv(bN);if(cC<0){cA+=cC;cC=Math.abs(cC)}var cD=-L.c.get('clip_width').gv(bN)/2;var cE=L.c.get('clip_height').gv(bN)/2;var cF;if(L.isMarkImpliedSelected(bN)){cF=L.c.get('selected_halo_color').gv(bN)['colorOverrideOpaque']}else{cF=L.c.get('selected_halo_color').gv(bN)[bP]}Y.$b(this.get_currentContext(),cz+cD,cA+cE,cB,cC,cF,0,0,false)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderBarMark:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(bO){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,bV,bY,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,bV,bY,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,bV,bY,'normalOn',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bP||bQ){bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,bV,bY,'highlightedOn',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bP||bQ){bR='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,bV,bY,'selectedUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bP||bQ){bR='colorOverrideOpaque';if(L.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(L.getInsetPaneClipRect(bN,2))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,bV,bY,'selectedOn',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}if(L.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},drawBarMarkLayer:function(L,bN,bO,bP,bQ){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bO),L.c.get('cell_y').gv(bO),L.c.get('clip_width').gv(bO),L.c.get('clip_height').gv(bO))}switch(bP){case'normalUnder':{var bR=ss.Int32.trunc(L.c.get('size').gv(bO)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var bS=L.c.get('x').gv(bO);var bT=L.c.get('x1').gv(bO);var bU=L.c.get('y').gv(bO);var bV=L.c.get('y1').gv(bO);var bW=Math.min(bS,bT);var bX=Math.min(bU,bV);var bY=Math.abs(bT-bS)+0;var bZ=Math.abs(bV-bU)+0;Y.$9(this.get_currentContext(),bW,bX,bY,bZ,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var ca=L.c.get('x').gv(bO)-bR;var cb=L.c.get('x').gv(bO)+bR;var cc=L.c.get('y').gv(bO);var cd=L.c.get('y1').gv(bO);var ce=Math.min(ca,cb);var cf=Math.min(cc,cd);var cg=Math.abs(cb-ca)+0;var ch=Math.abs(cd-cc)+0;Y.$9(this.get_currentContext(),ce,cf,cg,ch,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var ci=L.c.get('x').gv(bO);var cj=L.c.get('x1').gv(bO);var ck=L.c.get('y').gv(bO)-bR;var cl=L.c.get('y').gv(bO)+bR;var cm=Math.min(ci,cj);var cn=Math.min(ck,cl);var co=Math.abs(cj-ci)+0;var cp=Math.abs(cl-ck)+0;Y.$9(this.get_currentContext(),cm,cn,co,cp,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var cq=L.c.get('x').gv(bO)-bR;var cr=L.c.get('x').gv(bO)+bR;var cs=L.c.get('y').gv(bO)-bR;var ct=L.c.get('y').gv(bO)+bR;var cu=Math.min(cq,cr);var cv=Math.min(cs,ct);var cw=Math.abs(cr-cq)+0;var cx=Math.abs(ct-cs)+0;Y.$9(this.get_currentContext(),cu,cv,cw,cx,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,true)}}break}case'normalOn':{var cy=ss.Int32.trunc(L.c.get('size').gv(bO)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var cz=L.c.get('x').gv(bO);var cA=L.c.get('x1').gv(bO);var cB=L.c.get('y').gv(bO);var cC=L.c.get('y1').gv(bO);var cD=Math.min(cz,cA);var cE=Math.min(cB,cC);var cF=Math.abs(cA-cz)+0;var cG=Math.abs(cC-cB)+0;Y.$b(this.get_currentContext(),cD-0,cE-0,cF+0,cG+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var cH=L.c.get('x').gv(bO);var cI=L.c.get('x1').gv(bO);var cJ=L.c.get('y').gv(bO);var cK=L.c.get('y1').gv(bO);var cL=Math.min(cH,cI);var cM=Math.min(cJ,cK);var cN=Math.abs(cI-cH)+0;var cO=Math.abs(cK-cJ)+0;Y.$9(this.get_currentContext(),cL,cM,cN,cO,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var cP=L.c.get('x').gv(bO)-cy;var cQ=L.c.get('x').gv(bO)+cy;var cR=L.c.get('y').gv(bO);var cS=L.c.get('y1').gv(bO);var cT=Math.min(cP,cQ);var cU=Math.min(cR,cS);var cV=Math.abs(cQ-cP)+0;var cW=Math.abs(cS-cR)+0;Y.$b(this.get_currentContext(),cT-0,cU-0,cV+0,cW+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var cX=L.c.get('x').gv(bO)-cy;var cY=L.c.get('x').gv(bO)+cy;var cZ=L.c.get('y').gv(bO);var da=L.c.get('y1').gv(bO);var db=Math.min(cX,cY);var dc=Math.min(cZ,da);var dd=Math.abs(cY-cX)+0;var de=Math.abs(da-cZ)+0;Y.$9(this.get_currentContext(),db,dc,dd,de,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var df=L.c.get('x').gv(bO);var dg=L.c.get('x1').gv(bO);var dh=L.c.get('y').gv(bO)-cy;var di=L.c.get('y').gv(bO)+cy;var dj=Math.min(df,dg);var dk=Math.min(dh,di);var dl=Math.abs(dg-df)+0;var dm=Math.abs(di-dh)+0;Y.$b(this.get_currentContext(),dj-0,dk-0,dl+0,dm+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var dn=L.c.get('x').gv(bO);var dp=L.c.get('x1').gv(bO);var dq=L.c.get('y').gv(bO)-cy;var dr=L.c.get('y').gv(bO)+cy;var ds=Math.min(dn,dp);var dt=Math.min(dq,dr);var du=Math.abs(dp-dn)+0;var dv=Math.abs(dr-dq)+0;Y.$9(this.get_currentContext(),ds,dt,du,dv,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var dw=L.c.get('x').gv(bO)-cy;var dx=L.c.get('x').gv(bO)+cy;var dy=L.c.get('y').gv(bO)-cy;var dz=L.c.get('y').gv(bO)+cy;var dA=Math.min(dw,dx);var dB=Math.min(dy,dz);var dC=Math.abs(dx-dw)+0;var dD=Math.abs(dz-dy)+0;Y.$b(this.get_currentContext(),dA-0,dB-0,dC+0,dD+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var dE=L.c.get('x').gv(bO)-cy;var dF=L.c.get('x').gv(bO)+cy;var dG=L.c.get('y').gv(bO)-cy;var dH=L.c.get('y').gv(bO)+cy;var dI=Math.min(dE,dF);var dJ=Math.min(dG,dH);var dK=Math.abs(dF-dE)+0;var dL=Math.abs(dH-dG)+0;Y.$9(this.get_currentContext(),dI,dJ,dK,dL,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedUnder':{var dM=ss.Int32.trunc(L.c.get('size').gv(bO)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var dN=L.c.get('x').gv(bO);var dO=L.c.get('x1').gv(bO);var dP=L.c.get('y').gv(bO);var dQ=L.c.get('y1').gv(bO);var dR=Math.min(dN,dO);var dS=Math.min(dP,dQ);var dT=Math.abs(dO-dN)+0;var dU=Math.abs(dQ-dP)+0;Y.$9(this.get_currentContext(),dR,dS,dT,dU,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var dV=L.c.get('x').gv(bO)-dM;var dW=L.c.get('x').gv(bO)+dM;var dX=L.c.get('y').gv(bO);var dY=L.c.get('y1').gv(bO);var dZ=Math.min(dV,dW);var ea=Math.min(dX,dY);var eb=Math.abs(dW-dV)+0;var ec=Math.abs(dY-dX)+0;Y.$9(this.get_currentContext(),dZ,ea,eb,ec,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var ed=L.c.get('x').gv(bO);var ee=L.c.get('x1').gv(bO);var ef=L.c.get('y').gv(bO)-dM;var eg=L.c.get('y').gv(bO)+dM;var eh=Math.min(ed,ee);var ei=Math.min(ef,eg);var ej=Math.abs(ee-ed)+0;var ek=Math.abs(eg-ef)+0;Y.$9(this.get_currentContext(),eh,ei,ej,ek,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var el=L.c.get('x').gv(bO)-dM;var em=L.c.get('x').gv(bO)+dM;var en=L.c.get('y').gv(bO)-dM;var eo=L.c.get('y').gv(bO)+dM;var ep=Math.min(el,em);var eq=Math.min(en,eo);var er=Math.abs(em-el)+0;var es=Math.abs(eo-en)+0;Y.$9(this.get_currentContext(),ep,eq,er,es,L.c.get('halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedOn':{var et=ss.Int32.trunc(L.c.get('size').gv(bO)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var eu=L.c.get('x').gv(bO);var ev=L.c.get('x1').gv(bO);var ew=L.c.get('y').gv(bO);var ex=L.c.get('y1').gv(bO);var ey=Math.min(eu,ev);var ez=Math.min(ew,ex);var eA=Math.abs(ev-eu)+0;var eB=Math.abs(ex-ew)+0;Y.$b(this.get_currentContext(),ey-0,ez-0,eA+0,eB+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var eC=L.c.get('x').gv(bO);var eD=L.c.get('x1').gv(bO);var eE=L.c.get('y').gv(bO);var eF=L.c.get('y1').gv(bO);var eG=Math.min(eC,eD);var eH=Math.min(eE,eF);var eI=Math.abs(eD-eC)+0;var eJ=Math.abs(eF-eE)+0;Y.$9(this.get_currentContext(),eG,eH,eI,eJ,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var eK=L.c.get('x').gv(bO)-et;var eL=L.c.get('x').gv(bO)+et;var eM=L.c.get('y').gv(bO);var eN=L.c.get('y1').gv(bO);var eO=Math.min(eK,eL);var eP=Math.min(eM,eN);var eQ=Math.abs(eL-eK)+0;var eR=Math.abs(eN-eM)+0;Y.$b(this.get_currentContext(),eO-0,eP-0,eQ+0,eR+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var eS=L.c.get('x').gv(bO)-et;var eT=L.c.get('x').gv(bO)+et;var eU=L.c.get('y').gv(bO);var eV=L.c.get('y1').gv(bO);var eW=Math.min(eS,eT);var eX=Math.min(eU,eV);var eY=Math.abs(eT-eS)+0;var eZ=Math.abs(eV-eU)+0;Y.$9(this.get_currentContext(),eW,eX,eY,eZ,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var fa=L.c.get('x').gv(bO);var fb=L.c.get('x1').gv(bO);var fc=L.c.get('y').gv(bO)-et;var fd=L.c.get('y').gv(bO)+et;var fe=Math.min(fa,fb);var ff=Math.min(fc,fd);var fg=Math.abs(fb-fa)+0;var fh=Math.abs(fd-fc)+0;Y.$b(this.get_currentContext(),fe-0,ff-0,fg+0,fh+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var fi=L.c.get('x').gv(bO);var fj=L.c.get('x1').gv(bO);var fk=L.c.get('y').gv(bO)-et;var fl=L.c.get('y').gv(bO)+et;var fm=Math.min(fi,fj);var fn=Math.min(fk,fl);var fo=Math.abs(fj-fi)+0;var fp=Math.abs(fl-fk)+0;Y.$9(this.get_currentContext(),fm,fn,fo,fp,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var fq=L.c.get('x').gv(bO)-et;var fr=L.c.get('x').gv(bO)+et;var fs=L.c.get('y').gv(bO)-et;var ft=L.c.get('y').gv(bO)+et;var fu=Math.min(fq,fr);var fv=Math.min(fs,ft);var fw=Math.abs(fr-fq)+0;var fx=Math.abs(ft-fs)+0;Y.$b(this.get_currentContext(),fu-0,fv-0,fw+0,fx+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var fy=L.c.get('x').gv(bO)-et;var fz=L.c.get('x').gv(bO)+et;var fA=L.c.get('y').gv(bO)-et;var fB=L.c.get('y').gv(bO)+et;var fC=Math.min(fy,fz);var fD=Math.min(fA,fB);var fE=Math.abs(fz-fy)+0;var fF=Math.abs(fB-fA)+0;Y.$9(this.get_currentContext(),fC,fD,fE,fF,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedUnder':{var fG=ss.Int32.trunc(L.c.get('size').gv(bO)+0.5)/2;var fH=1;{var fI=L.c.get('x').gv(bO);var fJ=L.c.get('x1').gv(bO);var fK=L.c.get('y').gv(bO);var fL=L.c.get('y1').gv(bO);var fM=Math.min(fI,fJ);var fN=Math.min(fK,fL);var fO=Math.abs(fJ-fI)+0;var fP=Math.abs(fL-fK)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&!this.$a(bN,fM,fN,fO,fP)){Y.$9(this.get_currentContext(),fM,fN,fO,fP,L.c.get('selected_halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{var fQ=L.c.get('x').gv(bO);var fR=L.c.get('x1').gv(bO);var fS=L.c.get('y').gv(bO);var fT=L.c.get('y1').gv(bO);var fU=Math.min(fQ,fR);var fV=Math.min(fS,fT);var fW=Math.abs(fR-fQ)+0;var fX=Math.abs(fT-fS)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&this.$a(bN,fU,fV,fW,fX)){Y.$b(this.get_currentContext(),fU-2,fV-2,fW+4,fX+4,L.c.get('selected_halo_color').gv(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var fY=L.c.get('x').gv(bO);var fZ=L.c.get('x1').gv(bO);var ga=L.c.get('y').gv(bO);var gb=L.c.get('y1').gv(bO);var gc=Math.min(fY,fZ);var gd=Math.min(ga,gb);var ge=Math.abs(fZ-fY)+fH;var gf=Math.abs(gb-ga)+fH;Y.$9(this.get_currentContext(),gc,gd,ge,gf,L.c.get('selected_halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{var gg=L.c.get('x').gv(bO)-fG;var gh=L.c.get('x').gv(bO)+fG;var gi=L.c.get('y').gv(bO);var gj=L.c.get('y1').gv(bO);var gk=Math.min(gg,gh);var gl=Math.min(gi,gj);var gm=Math.abs(gh-gg)+0;var gn=Math.abs(gj-gi)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&!this.$a(bN,gk,gl,gm,gn)){Y.$9(this.get_currentContext(),gk,gl,gm,gn,L.c.get('selected_halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{var go=L.c.get('x').gv(bO)-fG;var gp=L.c.get('x').gv(bO)+fG;var gq=L.c.get('y').gv(bO);var gr=L.c.get('y1').gv(bO);var gs=Math.min(go,gp);var gt=Math.min(gq,gr);var gu=Math.abs(gp-go)+0;var gv=Math.abs(gr-gq)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&this.$a(bN,gs,gt,gu,gv)){Y.$b(this.get_currentContext(),gs-2,gt-2,gu+4,gv+4,L.c.get('selected_halo_color').gv(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var gw=L.c.get('x').gv(bO)-fG;var gx=L.c.get('x').gv(bO)+fG;var gy=L.c.get('y').gv(bO);var gz=L.c.get('y1').gv(bO);var gA=Math.min(gw,gx);var gB=Math.min(gy,gz);var gC=Math.abs(gx-gw)+fH;var gD=Math.abs(gz-gy)+fH;Y.$9(this.get_currentContext(),gA,gB,gC,gD,L.c.get('selected_halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{var gE=L.c.get('x').gv(bO);var gF=L.c.get('x1').gv(bO);var gG=L.c.get('y').gv(bO)-fG;var gH=L.c.get('y').gv(bO)+fG;var gI=Math.min(gE,gF);var gJ=Math.min(gG,gH);var gK=Math.abs(gF-gE)+0;var gL=Math.abs(gH-gG)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&!this.$a(bN,gI,gJ,gK,gL)){Y.$9(this.get_currentContext(),gI,gJ,gK,gL,L.c.get('selected_halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{var gM=L.c.get('x').gv(bO);var gN=L.c.get('x1').gv(bO);var gO=L.c.get('y').gv(bO)-fG;var gP=L.c.get('y').gv(bO)+fG;var gQ=Math.min(gM,gN);var gR=Math.min(gO,gP);var gS=Math.abs(gN-gM)+0;var gT=Math.abs(gP-gO)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&this.$a(bN,gQ,gR,gS,gT)){Y.$b(this.get_currentContext(),gQ-2,gR-2,gS+4,gT+4,L.c.get('selected_halo_color').gv(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var gU=L.c.get('x').gv(bO);var gV=L.c.get('x1').gv(bO);var gW=L.c.get('y').gv(bO)-fG;var gX=L.c.get('y').gv(bO)+fG;var gY=Math.min(gU,gV);var gZ=Math.min(gW,gX);var ha=Math.abs(gV-gU)+fH;var hb=Math.abs(gX-gW)+fH;Y.$9(this.get_currentContext(),gY,gZ,ha,hb,L.c.get('selected_halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,false)}}{var hc=L.c.get('x').gv(bO)-fG;var hd=L.c.get('x').gv(bO)+fG;var he=L.c.get('y').gv(bO)-fG;var hf=L.c.get('y').gv(bO)+fG;var hg=Math.min(hc,hd);var hh=Math.min(he,hf);var hi=Math.abs(hd-hc)+0;var hj=Math.abs(hf-he)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&!this.$a(bN,hg,hh,hi,hj)){Y.$9(this.get_currentContext(),hg,hh,hi,hj,L.c.get('selected_halo_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,true)}}{var hk=L.c.get('x').gv(bO)-fG;var hl=L.c.get('x').gv(bO)+fG;var hm=L.c.get('y').gv(bO)-fG;var hn=L.c.get('y').gv(bO)+fG;var ho=Math.min(hk,hl);var hp=Math.min(hm,hn);var hq=Math.abs(hl-hk)+0;var hr=Math.abs(hn-hm)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&this.$a(bN,ho,hp,hq,hr)){Y.$b(this.get_currentContext(),ho-2,hp-2,hq+4,hr+4,L.c.get('selected_halo_color').gv(bO)[bQ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var hs=L.c.get('x').gv(bO)-fG;var ht=L.c.get('x').gv(bO)+fG;var hu=L.c.get('y').gv(bO)-fG;var hv=L.c.get('y').gv(bO)+fG;var hw=Math.min(hs,ht);var hx=Math.min(hu,hv);var hy=Math.abs(ht-hs)+fH;var hz=Math.abs(hv-hu)+fH;Y.$9(this.get_currentContext(),hw,hx,hy,hz,L.c.get('border_color').gv(bO)[bQ],4,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedOn':{var hA=ss.Int32.trunc(L.c.get('size').gv(bO)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var hB=L.c.get('x').gv(bO);var hC=L.c.get('x1').gv(bO);var hD=L.c.get('y').gv(bO);var hE=L.c.get('y1').gv(bO);var hF=Math.min(hB,hC);var hG=Math.min(hD,hE);var hH=Math.abs(hC-hB)+0;var hI=Math.abs(hE-hD)+0;Y.$b(this.get_currentContext(),hF-0,hG-0,hH+0,hI+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var hJ=L.c.get('x').gv(bO);var hK=L.c.get('x1').gv(bO);var hL=L.c.get('y').gv(bO);var hM=L.c.get('y1').gv(bO);var hN=Math.min(hJ,hK);var hO=Math.min(hL,hM);var hP=Math.abs(hK-hJ)+0;var hQ=Math.abs(hM-hL)+0;Y.$9(this.get_currentContext(),hN,hO,hP,hQ,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var hR=L.c.get('x').gv(bO)-hA;var hS=L.c.get('x').gv(bO)+hA;var hT=L.c.get('y').gv(bO);var hU=L.c.get('y1').gv(bO);var hV=Math.min(hR,hS);var hW=Math.min(hT,hU);var hX=Math.abs(hS-hR)+0;var hY=Math.abs(hU-hT)+0;Y.$b(this.get_currentContext(),hV-0,hW-0,hX+0,hY+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var hZ=L.c.get('x').gv(bO)-hA;var ia=L.c.get('x').gv(bO)+hA;var ib=L.c.get('y').gv(bO);var ic=L.c.get('y1').gv(bO);var id=Math.min(hZ,ia);var ie=Math.min(ib,ic);var ig=Math.abs(ia-hZ)+0;var ih=Math.abs(ic-ib)+0;Y.$9(this.get_currentContext(),id,ie,ig,ih,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var ii=L.c.get('x').gv(bO);var ij=L.c.get('x1').gv(bO);var ik=L.c.get('y').gv(bO)-hA;var il=L.c.get('y').gv(bO)+hA;var im=Math.min(ii,ij);var io=Math.min(ik,il);var ip=Math.abs(ij-ii)+0;var iq=Math.abs(il-ik)+0;Y.$b(this.get_currentContext(),im-0,io-0,ip+0,iq+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var ir=L.c.get('x').gv(bO);var it=L.c.get('x1').gv(bO);var iu=L.c.get('y').gv(bO)-hA;var iv=L.c.get('y').gv(bO)+hA;var iw=Math.min(ir,it);var ix=Math.min(iu,iv);var iy=Math.abs(it-ir)+0;var iz=Math.abs(iv-iu)+0;Y.$9(this.get_currentContext(),iw,ix,iy,iz,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var iA=L.c.get('x').gv(bO)-hA;var iB=L.c.get('x').gv(bO)+hA;var iC=L.c.get('y').gv(bO)-hA;var iD=L.c.get('y').gv(bO)+hA;var iE=Math.min(iA,iB);var iF=Math.min(iC,iD);var iG=Math.abs(iB-iA)+0;var iH=Math.abs(iD-iC)+0;Y.$b(this.get_currentContext(),iE-0,iF-0,iG+0,iH+0,L.getMarkColors(bO)[bQ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var iI=L.c.get('x').gv(bO)-hA;var iJ=L.c.get('x').gv(bO)+hA;var iK=L.c.get('y').gv(bO)-hA;var iL=L.c.get('y').gv(bO)+hA;var iM=Math.min(iI,iJ);var iN=Math.min(iK,iL);var iO=Math.abs(iJ-iI)+0;var iP=Math.abs(iL-iK)+0;Y.$9(this.get_currentContext(),iM,iN,iO,iP,L.c.get('border_color').gv(bO)[bQ],1,L.minBarWidth,L.minBarHeight,true)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderLineMark:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);var bW=L.get_lineDrawState();this.get_currentContext().save();switch(bO){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}var bX=bW.get_lineAttributes();for(var bY=0;bY<bX.length;bY++){var bZ=bX[bY];if(bZ.get_lineState()!=='lineStateNormal'){continue}var ca=bZ.worldOffsets;var cb=ca.length;for(var cc=0;cc<cb;cc++){var cd=ca[cc];Y.$c(this.get_currentContext(),cd);{for(var ce=0;ce<bZ.marksNeedingDraw.length;ce++){var cf=bZ.marksNeedingDraw[ce];if(L.c.get('l_neighbor').gv(cf)!==-1||L.c.get('r_neighbor').gv(cf)!==-1){this.drawLineMarkLayer(L,cf,'normalUnder',bR)}}}{for(var cg=0;cg<bZ.marksNeedingDraw.length;cg++){var ch=bZ.marksNeedingDraw[cg];this.drawLineMarkLayer(L,ch,'edgeUnder',bR);if(L.c.get('l_neighbor').gv(ch)===-1&&L.c.get('r_neighbor').gv(ch)===-1||L.shouldShowMarker(ch)){this.drawLineMarkLayer(L,ch,'blobUnder',bR)}}}if(cd!==0){this.get_currentContext().restore()}}}var ci=bW.get_lineAttributes();for(var cj=0;cj<ci.length;cj++){var ck=ci[cj];if(ck.get_lineState()!=='lineStateHighlighted'){continue}var cl=ck.worldOffsets;var cm=cl.length;for(var cn=0;cn<cm;cn++){var co=cl[cn];Y.$c(this.get_currentContext(),co);{for(var cp=0;cp<ck.marksNeedingDraw.length;cp++){var cq=ck.marksNeedingDraw[cp];if(L.c.get('l_neighbor').gv(cq)!==-1||L.c.get('r_neighbor').gv(cq)!==-1){this.drawLineMarkLayer(L,cq,'normalUnder',bR)}}}{for(var cr=0;cr<ck.marksNeedingDraw.length;cr++){var cs=ck.marksNeedingDraw[cr];this.drawLineMarkLayer(L,cs,'edgeUnder',bR);if(L.c.get('l_neighbor').gv(cs)===-1&&L.c.get('r_neighbor').gv(cs)===-1||L.shouldShowMarker(cs)){this.drawLineMarkLayer(L,cs,'blobUnder',bR)}}}if(co!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}var ct=bW.get_lineAttributes();for(var cu=0;cu<ct.length;cu++){var cv=ct[cu];if(cv.get_lineState()!=='lineStateNormal'){continue}var cw=cv.worldOffsets;var cx=cw.length;for(var cy=0;cy<cx;cy++){var cz=cw[cy];Y.$c(this.get_currentContext(),cz);var cA=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){cA=cv.endIndex-cv.startIndex>1}if(cA){var cB=((!L.isWrappedDomain&&L.markType==='line')?cv.sloppyBoundingBox:null);this.beginOffScreenRender(cB);L.forceOpaqueColors=true}}{for(var cC=0;cC<cv.marksNeedingDraw.length;cC++){var cD=cv.marksNeedingDraw[cC];if(L.c.get('l_neighbor').gv(cD)!==-1||L.c.get('r_neighbor').gv(cD)!==-1){this.drawLineMarkLayer(L,cD,'normalOn',bR)}else{this.drawLineMarkLayer(L,cD,'blobOn',bR)}}}{for(var cE=0;cE<cv.marksNeedingDraw.length;cE++){var cF=cv.marksNeedingDraw[cE];this.drawLineMarkLayer(L,cF,'edgeOn',bR)}}if(L.get_hasGlobalTransparency()){if(cA){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var cG=0;cG<cv.marksNeedingDraw.length;cG++){var cH=cv.marksNeedingDraw[cG];if(L.shouldShowMarker(cH)){this.drawLineMarkLayer(L,cH,'blobOn',bR)}}}if(cz!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bP||bQ){bR='colorOverrideNone';var cI=bW.get_lineAttributes();for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];if(cK.get_lineState()!=='lineStateHighlighted'){continue}var cL=cK.worldOffsets;var cM=cL.length;for(var cN=0;cN<cM;cN++){var cO=cL[cN];Y.$c(this.get_currentContext(),cO);var cP=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){cP=cK.endIndex-cK.startIndex>1}if(cP){var cQ=((!L.isWrappedDomain&&L.markType==='line')?cK.sloppyBoundingBox:null);this.beginOffScreenRender(cQ);L.forceOpaqueColors=true}}{for(var cR=0;cR<cK.marksNeedingDraw.length;cR++){var cS=cK.marksNeedingDraw[cR];if(!(L.getMarkState(cS)==='markStateHighlighted')){bR='colorOverrideFog'}if(!(L.getMarkState(cS)==='markStateHighlighted'&&!cK.get_allHighlighted())){if(L.c.get('l_neighbor').gv(cS)!==-1||L.c.get('r_neighbor').gv(cS)!==-1){this.drawLineMarkLayer(L,cS,'normalOn',bR)}else{this.drawLineMarkLayer(L,cS,'blobOn',bR)}}bR='colorOverrideNone'}}{for(var cT=0;cT<cK.marksNeedingDraw.length;cT++){var cU=cK.marksNeedingDraw[cT];if(L.getMarkState(cU)!=='markStateHighlighted'||L.c.get('r_neighbor').gv(cU)!==-1&&L.getMarkState(L.c.get('r_neighbor').gv(cU))!=='markStateHighlighted'){bR='colorOverrideFog'}this.drawLineMarkLayer(L,cU,'edgeOn',bR);bR='colorOverrideNone'}}if(L.get_hasGlobalTransparency()){if(cP){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var cV=0;cV<cK.marksNeedingDraw.length;cV++){var cW=cK.marksNeedingDraw[cV];if(!(L.getMarkState(cW)==='markStateHighlighted')){bR='colorOverrideFog'}if(!(L.getMarkState(cW)==='markStateHighlighted'&&!cK.get_allHighlighted())){if(L.shouldShowMarker(cW)){this.drawLineMarkLayer(L,cW,'blobOn',bR)}}bR='colorOverrideNone'}}{for(var cX=0;cX<cK.marksNeedingDraw.length;cX++){var cY=cK.marksNeedingDraw[cX];if(L.getMarkState(cY)==='markStateHighlighted'&&!cK.get_allHighlighted()){this.drawLineMarkLayer(L,cY,'highlightedUnder',bR)}}}{for(var cZ=0;cZ<cK.marksNeedingDraw.length;cZ++){var da=cK.marksNeedingDraw[cZ];if(L.getMarkState(da)==='markStateHighlighted'&&!cK.get_allHighlighted()){this.drawLineMarkLayer(L,da,'highlightedOn',bR)}}}if(cO!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(bP||bQ){bR='colorOverrideNone';var db=bW.get_lineAttributes();for(var dc=0;dc<db.length;dc++){var dd=db[dc];if(dd.get_lineState()!=='lineStateSelected'){continue}var de=dd.worldOffsets;var df=de.length;for(var dg=0;dg<df;dg++){var dh=de[dg];Y.$c(this.get_currentContext(),dh);{for(var di=0;di<dd.marksNeedingDraw.length;di++){var dj=dd.marksNeedingDraw[di];this.drawLineMarkLayer(L,dj,'selectedUnder1',bR);this.drawLineMarkLayer(L,dj,'selectedEdgeUnder',bR)}}if(dh!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(bP||bQ){bR='colorOverrideOpaque';var dk=bW.get_lineAttributes();for(var dl=0;dl<dk.length;dl++){var dm=dk[dl];if(dm.get_lineState()!=='lineStateSelected'){continue}var dn=dm.worldOffsets;var dp=dn.length;for(var dq=0;dq<dp;dq++){var dr=dn[dq];Y.$c(this.get_currentContext(),dr);{for(var ds=0;ds<dm.marksNeedingDraw.length;ds++){var dt=dm.marksNeedingDraw[ds];if(L.c.get('l_neighbor').gv(dt)!==-1||L.c.get('r_neighbor').gv(dt)!==-1){this.drawLineMarkLayer(L,dt,'normalOn',bR)}else{this.drawLineMarkLayer(L,dt,'blobOn',bR)}}}{for(var du=0;du<dm.marksNeedingDraw.length;du++){var dv=dm.marksNeedingDraw[du];this.drawLineMarkLayer(L,dv,'edgeOn',bR)}}{for(var dw=0;dw<dm.marksNeedingDraw.length;dw++){var dx=dm.marksNeedingDraw[dw];if(L.shouldShowMarker(dx)){this.drawLineMarkLayer(L,dx,'blobOn',bR)}}}if(!dm.get_allHighlighted()){{for(var dy=0;dy<dm.marksNeedingDraw.length;dy++){var dz=dm.marksNeedingDraw[dy];if(L.getMarkState(dz)==='markStateHighlighted'){this.drawLineMarkLayer(L,dz,'highlightedUnder',bR)}}}{for(var dA=0;dA<dm.marksNeedingDraw.length;dA++){var dB=dm.marksNeedingDraw[dA];if(L.getMarkState(dB)==='markStateHighlighted'){this.drawLineMarkLayer(L,dB,'highlightedOn',bR)}}}}{for(var dC=0;dC<dm.marksNeedingDraw.length;dC++){var dD=dm.marksNeedingDraw[dC];if(L.getMarkState(dD)==='markStateSelected'){this.drawLineMarkLayer(L,dD,'selectedUnder',bR)}}}{for(var dE=0;dE<dm.marksNeedingDraw.length;dE++){var dF=dm.marksNeedingDraw[dE];if(L.getMarkState(dF)==='markStateSelected'){this.drawLineMarkLayer(L,dF,'highlightedOn',bR)}}}if(dr!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawLineMarkLayer:function(L,bN,bO,bP){var bQ=L.c.get('l_neighbor').gv(bN);var bR=L.c.get('r_neighbor').gv(bN);switch(bO){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('halo_color').gv(bN)[bP],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP])}}break}case'blobUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN)+3,L.c.get('halo_color').gv(bN)[bP],4)}break}case'blobOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN)+3,L.getMarkColors(bN)[bP])}}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN)+4,L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}break}case'highlightedOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN)+4,L.getMarkColors(bN)[bP])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN)+4,L.c.get('selected_halo_color').gv(bN)[bP],4)}break}case'selectedUnder1':{var bS=bR!==-1;var bT=L.lineInterpolation;var bU=L.lineMarkerPosition;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bS&&bU==='lmp-left'&&(bT==='lim-step'||bT==='lim-jump')&&L.c.get('y').gv(bN)!==L.c.get('y').gv(bR)){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bR)-L.c.get('x').gv(bN)+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bS&&bU==='lmp-center'&&(bT==='lim-step'||bT==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),(L.c.get('x').gv(bR)-L.c.get('x').gv(bN))/2+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bS&&bU==='lmp-center'&&(bT==='lim-step'||bT==='lim-jump')&&L.c.get('y').gv(bN)!==L.c.get('y').gv(bR)){tab.CanvasRenderer.renderCircle(this.get_currentContext(),(L.c.get('x').gv(bR)-L.c.get('x').gv(bN))/2+L.c.get('x').gv(bN),L.c.get('y').gv(bR)-L.c.get('y').gv(bN)+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bS&&bU==='lmp-right'&&(bT==='lim-step'||bT==='lim-jump')&&L.c.get('y').gv(bN)!==L.c.get('y').gv(bR)){tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),L.c.get('y').gv(bR)-L.c.get('y').gv(bN)+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}break}case'edgeUnder':{var bV=bR!==-1;var bW=L.lineInterpolation;var bX=L.lineMarkerPosition;if(bV&&bW==='lim-linear'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-step'&&bX==='lmp-left'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-step'&&bX==='lmp-left'){this.$e(L.c.get('x').gv(bR),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-step'&&bX==='lmp-center'){this.$e(L.c.get('x').gv(bN),(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-step'&&bX==='lmp-center'){this.$e((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-step'&&bX==='lmp-center'){this.$e((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-step'&&bX==='lmp-right'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-step'&&bX==='lmp-right'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-left'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-center'){this.$e(L.c.get('x').gv(bN),(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-center'){this.$e((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-right'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('halo_color').gv(bN)[bP],4)}break}case'selectedEdgeUnder':{var bY=bR!==-1;var bZ=L.lineInterpolation;var ca=L.lineMarkerPosition;if(bY&&bZ==='lim-linear'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-step'&&ca==='lmp-left'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-step'&&ca==='lmp-left'){this.$e(L.c.get('x').gv(bR),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-step'&&ca==='lmp-center'){this.$e(L.c.get('x').gv(bN),(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-step'&&ca==='lmp-center'){this.$e((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-step'&&ca==='lmp-center'){this.$e((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-step'&&ca==='lmp-right'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-step'&&ca==='lmp-right'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-jump'&&ca==='lmp-left'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-jump'&&ca==='lmp-center'){this.$e(L.c.get('x').gv(bN),(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-jump'&&ca==='lmp-center'){this.$e((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}if(bY&&bZ==='lim-jump'&&ca==='lmp-right'){this.$e(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.c.get('selected_multi_prim_halo_color').gv(bN)[bP],4)}break}case'edgeOn':{var cb=bR!==-1;var cc=L.lineInterpolation;var cd=L.lineMarkerPosition;if(cb&&cc==='lim-linear'){if(L.isLineSegmentVisible(bN,bR)){var ce=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.getMarkColors(bN)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cc==='lim-step'&&cd==='lmp-left'){if(L.isLineSegmentVisible(bN,bR)){var cf=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP],L.getMarkColors(bN)[bP])}}if(cb&&cc==='lim-step'&&cd==='lmp-left'){if(L.isLineSegmentVisible(bN,bR)){var cg=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bR),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.getMarkColors(bN)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cc==='lim-step'&&cd==='lmp-center'){if(L.isLineSegmentVisible(bN,bR)){var ch=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP],L.getMarkColors(bN)[bP])}}if(cb&&cc==='lim-step'&&cd==='lmp-center'){if(L.isLineSegmentVisible(bN,bR)){var ci=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.getMarkColors(bN)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cc==='lim-step'&&cd==='lmp-center'){if(L.isLineSegmentVisible(bN,bR)){var cj=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bR),L.c.get('size').gv(bR),L.getMarkColors(bR)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cc==='lim-step'&&cd==='lmp-right'){if(L.isLineSegmentVisible(bN,bR)){var ck=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),L.c.get('x').gv(bN),L.c.get('y').gv(bN),L.c.get('y').gv(bR),L.c.get('size').gv(bN),L.c.get('size').gv(bR),L.getMarkColors(bN)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cc==='lim-step'&&cd==='lmp-right'){if(L.isLineSegmentVisible(bN,bR)){var cl=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bR),L.c.get('size').gv(bR),L.getMarkColors(bR)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cc==='lim-jump'&&cd==='lmp-left'){if(L.isLineSegmentVisible(bN,bR)){var cm=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP],L.getMarkColors(bN)[bP])}}if(cb&&cc==='lim-jump'&&cd==='lmp-center'){if(L.isLineSegmentVisible(bN,bR)){var cn=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),(L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('y').gv(bN),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP],L.getMarkColors(bN)[bP])}}if(cb&&cc==='lim-jump'&&cd==='lmp-center'){if(L.isLineSegmentVisible(bN,bR)){var co=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b((L.c.get('x').gv(bN)+L.c.get('x').gv(bR))/2,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bR),L.c.get('size').gv(bR),L.getMarkColors(bR)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cc==='lim-jump'&&cd==='lmp-right'){if(L.isLineSegmentVisible(bN,bR)){var cp=bP;if(L.isLineSegmentFiltered(bN,bR)){bP='colorOverrideFog'}this.$b(L.c.get('x').gv(bN),L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bR),L.c.get('size').gv(bR),L.getMarkColors(bR)[bP],L.getMarkColors(bR)[bP])}}if(cb&&cd==='lmp-left'&&(cc==='lim-step'||cc==='lim-jump')&&L.c.get('y').gv(bN)!==L.c.get('y').gv(bR)){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),L.c.get('x').gv(bR)-L.c.get('x').gv(bN)+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP])}if(cb&&cd==='lmp-center'&&(cc==='lim-step'||cc==='lim-jump')){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),(L.c.get('x').gv(bR)-L.c.get('x').gv(bN))/2+L.c.get('x').gv(bN),0+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP])}if(cb&&cd==='lmp-center'&&(cc==='lim-step'||cc==='lim-jump')&&L.c.get('y').gv(bN)!==L.c.get('y').gv(bR)){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),(L.c.get('x').gv(bR)-L.c.get('x').gv(bN))/2+L.c.get('x').gv(bN),L.c.get('y').gv(bR)-L.c.get('y').gv(bN)+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP])}if(cb&&cd==='lmp-right'&&(cc==='lim-step'||cc==='lim-jump')&&L.c.get('y').gv(bN)!==L.c.get('y').gv(bR)){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bN),L.c.get('y').gv(bR)-L.c.get('y').gv(bN)+L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.getMarkColors(bN)[bP])}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderShapeMark:function(L,bN,bO){var bP=L.get_hasSelection();var bQ=L.get_hasBrushing();var bR='colorOverrideNone';var bS=L.getUserPaneMarkRange(bN);var bT=bS.firstMark;var bU=bS.lastMark;var bV=L.getUserPaneRectByIndex(bN);switch(bO){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,bY,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}if(bP||bQ){bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,bY,'normalUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(bP||bQ){bR='colorOverrideFog'}else{bR='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,bY,'normalOn',bR);if(L.drawBorder){this.drawShapeMarkLayer(L,bY,'border',bR)}}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bP||bQ){bR='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,bY,'normalOn',bR);if(L.drawBorder){this.drawShapeMarkLayer(L,bY,'border',bR)}}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bP||bQ){bR='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,bY,'selectedUnder',bR)}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bP||bQ){bR='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bW,bX){Y.$c(this.get_currentContext(),bX);for(var bY=bT;bY<=bU;bY++){if(bW.has(bY)){continue}if(!L.markNeedsDraw(bY)){continue}if(L.getMarkState(bY)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,bY,'normalOn',bR);if(L.drawBorder){this.drawShapeMarkLayer(L,bY,'border',bR)}}if(!tab.DoubleUtil.isApproximatelyEqual(bX,0)){this.get_currentContext().restore()}}))}}break}}},drawShapeMarkLayer:function(L,bN,bO,bP){var bQ=L.c.get('shape_id').gv(bN);if(!Y.shapeHasLayerContent(bQ,bO)){return}var bR=L.c.get('x').gv(bN);var bS=L.c.get('y').gv(bN);var bT=L.shouldStampThisShapeMark(bN);if(!bT){this.renderShapeMarkLayer(L,bR,bS,bN,bO,bP,false);return}var bU=L.c.get('size').gv(bN);var bV=Y.$6(L,bN,bO,bP);var bW=Y.getShapeMarkSpriteSize(bQ,bO,bU)+2;var bX=bW/2;var bY=bS-bX;var bZ=bR-bX;var ca=this.get_currentContext();var cb=tab.ShapeManager.getCacheKey(bQ,bO,bP,bV,bU);var cc=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(cb);if(ss.isNullOrUndefined(cc)){var cd=function(){var ce=document.createElement('canvas');ce.width=bW;ce.height=bW;var cf=new tab.TabRenderContext2D(ce.getContext('2d'));if(tab.FeatureParamsLookup.getBool(38)){cf.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');cf.fillRect(0,0,bW,bW)}var cg=new Y(ce,cf);cg.renderShapeMarkLayer(L,bX,bX,bN,bO,bP,true);return ce};cc=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(cb,cd)}if(ss.isValue(cc)){ca.drawImage3(cc,bZ+0.5<<0,bY+0.5<<0,bW,bW)}else{this.renderShapeMarkLayer(L,bR,bS,bN,bO,bP,false)}},renderShapeMarkLayer:function(L,bN,bO,bP,bQ,bR,bS){var bT=L.clipCase!==0&&!bS;if(bT){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bP),L.c.get('cell_y').gv(bP),L.c.get('clip_width').gv(bP),L.c.get('clip_height').gv(bP))}var bU=L.c.get('shape_id').gv(bP);switch(bU){case'shapeIDCircle':{this.$h(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledCircle':{this.$k(L,bN,bO,bP,bQ,bR);break}case'shapeIDUnscaledFilledCircle':{this.$A(L,bN,bO,bP,bQ,bR);break}case'shapeIDSquare':{this.$x(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledSquare':{this.$q(L,bN,bO,bP,bQ,bR);break}case'shapeIDAsterisk':{this.$g(L,bN,bO,bP,bQ,bR);break}case'shapeIDPlus':{this.$v(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledPlus':{this.$o(L,bN,bO,bP,bQ,bR);break}case'shapeIDTimes':{this.$y(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledTimes':{this.$s(L,bN,bO,bP,bQ,bR);break}case'shapeIDDiamond':{this.$i(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledDiamond':{this.$l(L,bN,bO,bP,bQ,bR);break}case'shapeIDTriangle':{this.$z(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledTriangle':{this.$t(L,bN,bO,bP,bQ,bR);break}case'shapeIDDownTriangle':{this.$j(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledDownTriangle':{this.$m(L,bN,bO,bP,bQ,bR);break}case'shapeIDLeftTriangle':{this.$u(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledLeftTriangle':{this.$n(L,bN,bO,bP,bQ,bR);break}case'shapeIDRightTriangle':{this.$w(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledRightTriangle':{this.$p(L,bN,bO,bP,bQ,bR);break}case'shapeIDFilledStar':{this.$r(L,bN,bO,bP,bQ,bR);break}default:{Y.$a(this.get_currentContext(),L,bP,bQ,bR);break}}if(bT){this.get_currentContext().restore()}},$h:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP)*0.958333333333333,L.c.get('halo_color').gv(bP)[bR],4)}break}case'normalOn':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP)*0.958333333333333,L.getMarkColors(bP)[bR],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP)*0.958333333333333,L.c.get('selected_halo_color').gv(bP)[bR],4)}break}default:{break}}},$k:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP)*0.979166666666667,L.c.get('halo_color').gv(bP)[bR],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP)*0.979166666666667,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP)*0.979166666666667,L.c.get('selected_halo_color').gv(bP)[bR],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP)*0.979166666666667,L.c.get('border_color').gv(bP)[bR],1)}break}default:{break}}},$A:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP),L.c.get('halo_color').gv(bP)[bR],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP),L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP),L.c.get('selected_halo_color').gv(bP)[bR],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bN,0+bO,L.c.get('size').gv(bP),L.c.get('border_color').gv(bP)[bR],1)}break}default:{break}}},$x:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bN+0,bO+0,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('halo_color').gv(bP)[bR],4)}break}case'normalOn':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bN+0,bO+0,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,L.getMarkColors(bP)[bR],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bN+0,bO+0,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('size').gv(bP)*0.895833333333333,L.c.get('selected_halo_color').gv(bP)[bR],4)}break}default:{break}}},$q:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bN+0,bO+0,L.c.get('size').gv(bP)*0.9375,L.c.get('size').gv(bP)*0.9375,L.c.get('halo_color').gv(bP)[bR],4)}break}case'normalOn':{{this.renderFilledRectangle(bN+0,bO+0,L.c.get('size').gv(bP)*0.9375,L.c.get('size').gv(bP)*0.9375,L.getMarkColors(bP)[bR])}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bN+0,bO+0,L.c.get('size').gv(bP)*0.9375,L.c.get('size').gv(bP)*0.9375,L.c.get('selected_halo_color').gv(bP)[bR],4)}break}case'border':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bN+0,bO+0,L.c.get('size').gv(bP)*0.9375,L.c.get('size').gv(bP)*0.9375,L.c.get('border_color').gv(bP)[bR],1)}break}default:{break}}},$g:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.958333333333333/2;var bT=0.899999976158142*bS;var bU=L.c.get('size').gv(bP)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var bV=bN;var bW=bO;var bX=new Array(4);bX[0]=bV+0;bX[1]=bW+-bS;bX[2]=bV+0;bX[3]=bW+bS;this.$d(bX,4,L.c.get('halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var bY=bN;var bZ=bO;var ca=new Array(4);ca[0]=bY+-bT;ca[1]=bZ+-bU;ca[2]=bY+bT;ca[3]=bZ+bU;this.$d(ca,4,L.c.get('halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var cb=bN;var cc=bO;var cd=new Array(4);cd[0]=cb+bT;cd[1]=cc+-bU;cd[2]=cb+-bT;cd[3]=cc+bU;this.$d(cd,4,L.c.get('halo_color').gv(bP)[bR],true)}}break}case'normalOn':{var ce=L.c.get('size').gv(bP)*0.958333333333333/2;var cf=0.899999976158142*ce;var cg=L.c.get('size').gv(bP)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var ch=bN;var ci=bO;var cj=new Array(4);cj[0]=ch+0;cj[1]=ci+-ce;cj[2]=ch+0;cj[3]=ci+ce;this.$d(cj,2,L.getMarkColors(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var ck=bN;var cl=bO;var cm=new Array(4);cm[0]=ck+-cf;cm[1]=cl+-cg;cm[2]=ck+cf;cm[3]=cl+cg;this.$d(cm,2,L.getMarkColors(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var cn=bN;var co=bO;var cp=new Array(4);cp[0]=cn+cf;cp[1]=co+-cg;cp[2]=cn+-cf;cp[3]=co+cg;this.$d(cp,2,L.getMarkColors(bP)[bR],true)}}break}case'selectedUnder':{var cq=L.c.get('size').gv(bP)*0.958333333333333/2;var cr=0.899999976158142*cq;var cs=L.c.get('size').gv(bP)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var ct=bN;var cu=bO;var cv=new Array(4);cv[0]=ct+0;cv[1]=cu+-cq;cv[2]=ct+0;cv[3]=cu+cq;this.$d(cv,4,L.c.get('selected_halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var cw=bN;var cx=bO;var cy=new Array(4);cy[0]=cw+-cr;cy[1]=cx+-cs;cy[2]=cw+cr;cy[3]=cx+cs;this.$d(cy,4,L.c.get('selected_halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var cz=bN;var cA=bO;var cB=new Array(4);cB[0]=cz+cr;cB[1]=cA+-cs;cB[2]=cz+-cr;cB[3]=cA+cs;this.$d(cB,4,L.c.get('selected_halo_color').gv(bP)[bR],true)}}break}default:{break}}},$v:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var bT=bN;var bU=bO;var bV=new Array(4);bV[0]=bT+0;bV[1]=bU+-bS;bV[2]=bT+0;bV[3]=bU+bS;this.$d(bV,4,L.c.get('halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var bW=bN;var bX=bO;var bY=new Array(4);bY[0]=bW+-bS;bY[1]=bX+0;bY[2]=bW+bS;bY[3]=bX+0;this.$d(bY,4,L.c.get('halo_color').gv(bP)[bR],true)}}break}case'normalOn':{var bZ=L.c.get('size').gv(bP)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var ca=bN;var cb=bO;var cc=new Array(4);cc[0]=ca+0;cc[1]=cb+-bZ;cc[2]=ca+0;cc[3]=cb+bZ;this.$d(cc,2,L.getMarkColors(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var cd=bN;var ce=bO;var cf=new Array(4);cf[0]=cd+-bZ;cf[1]=ce+0;cf[2]=cd+bZ;cf[3]=ce+0;this.$d(cf,2,L.getMarkColors(bP)[bR],true)}}break}case'selectedUnder':{var cg=L.c.get('size').gv(bP)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var ch=bN;var ci=bO;var cj=new Array(4);cj[0]=ch+0;cj[1]=ci+-cg;cj[2]=ch+0;cj[3]=ci+cg;this.$d(cj,4,L.c.get('selected_halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var ck=bN;var cl=bO;var cm=new Array(4);cm[0]=ck+-cg;cm[1]=cl+0;cm[2]=ck+cg;cm[3]=cl+0;this.$d(cm,4,L.c.get('selected_halo_color').gv(bP)[bR],true)}}break}default:{break}}},$o:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.9375/2;var bT=bS/3;{{var bU=bN;var bV=bO;var bW=new Array(24);bW[0]=bU+-bT;bW[1]=bV+-bS;bW[2]=bU+-bT;bW[3]=bV+-bT;bW[4]=bU+-bS;bW[5]=bV+-bT;bW[6]=bU+-bS;bW[7]=bV+bT;bW[8]=bU+-bT;bW[9]=bV+bT;bW[10]=bU+-bT;bW[11]=bV+bS;bW[12]=bU+bT;bW[13]=bV+bS;bW[14]=bU+bT;bW[15]=bV+bT;bW[16]=bU+bS;bW[17]=bV+bT;bW[18]=bU+bS;bW[19]=bV+-bT;bW[20]=bU+bT;bW[21]=bV+-bT;bW[22]=bU+bT;bW[23]=bV+-bS;this.get_currentContext().set_lineJoin('miter');this.$f(bW,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bX=L.c.get('size').gv(bP)*0.9375/2;var bY=bX/3;{{var bZ=bN;var ca=bO;var cb=new Array(24);cb[0]=bZ+-bY;cb[1]=ca+-bX;cb[2]=bZ+-bY;cb[3]=ca+-bY;cb[4]=bZ+-bX;cb[5]=ca+-bY;cb[6]=bZ+-bX;cb[7]=ca+bY;cb[8]=bZ+-bY;cb[9]=ca+bY;cb[10]=bZ+-bY;cb[11]=ca+bX;cb[12]=bZ+bY;cb[13]=ca+bX;cb[14]=bZ+bY;cb[15]=ca+bY;cb[16]=bZ+bX;cb[17]=ca+bY;cb[18]=bZ+bX;cb[19]=ca+-bY;cb[20]=bZ+bY;cb[21]=ca+-bY;cb[22]=bZ+bY;cb[23]=ca+-bX;this.$c(cb,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var cc=L.c.get('size').gv(bP)*0.9375/2;var cd=cc/3;{{var ce=bN;var cf=bO;var cg=new Array(24);cg[0]=ce+-cd;cg[1]=cf+-cc;cg[2]=ce+-cd;cg[3]=cf+-cd;cg[4]=ce+-cc;cg[5]=cf+-cd;cg[6]=ce+-cc;cg[7]=cf+cd;cg[8]=ce+-cd;cg[9]=cf+cd;cg[10]=ce+-cd;cg[11]=cf+cc;cg[12]=ce+cd;cg[13]=cf+cc;cg[14]=ce+cd;cg[15]=cf+cd;cg[16]=ce+cc;cg[17]=cf+cd;cg[18]=ce+cc;cg[19]=cf+-cd;cg[20]=ce+cd;cg[21]=cf+-cd;cg[22]=ce+cd;cg[23]=cf+-cc;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$y:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.875/2;{{this.get_currentContext().set_lineCap('square');var bT=bN;var bU=bO;var bV=new Array(4);bV[0]=bT+-bS;bV[1]=bU+-bS;bV[2]=bT+bS;bV[3]=bU+bS;this.$d(bV,4,L.c.get('halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var bW=bN;var bX=bO;var bY=new Array(4);bY[0]=bW+-bS;bY[1]=bX+bS;bY[2]=bW+bS;bY[3]=bX+-bS;this.$d(bY,4,L.c.get('halo_color').gv(bP)[bR],true)}}break}case'normalOn':{var bZ=L.c.get('size').gv(bP)*0.875/2;{{this.get_currentContext().set_lineCap('square');var ca=bN;var cb=bO;var cc=new Array(4);cc[0]=ca+-bZ;cc[1]=cb+-bZ;cc[2]=ca+bZ;cc[3]=cb+bZ;this.$d(cc,2,L.getMarkColors(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var cd=bN;var ce=bO;var cf=new Array(4);cf[0]=cd+-bZ;cf[1]=ce+bZ;cf[2]=cd+bZ;cf[3]=ce+-bZ;this.$d(cf,2,L.getMarkColors(bP)[bR],true)}}break}case'selectedUnder':{var cg=L.c.get('size').gv(bP)*0.875/2;{{this.get_currentContext().set_lineCap('square');var ch=bN;var ci=bO;var cj=new Array(4);cj[0]=ch+-cg;cj[1]=ci+-cg;cj[2]=ch+cg;cj[3]=ci+cg;this.$d(cj,4,L.c.get('selected_halo_color').gv(bP)[bR],true)}}{{this.get_currentContext().set_lineCap('square');var ck=bN;var cl=bO;var cm=new Array(4);cm[0]=ck+-cg;cm[1]=cl+cg;cm[2]=ck+cg;cm[3]=cl+-cg;this.$d(cm,4,L.c.get('selected_halo_color').gv(bP)[bR],true)}}break}default:{break}}},$s:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.9375/2;var bT=L.c.get('size').gv(bP)*0.9375/4;{{var bU=bN;var bV=bO;var bW=new Array(24);bW[0]=bU+-bT;bW[1]=bV+-bS;bW[2]=bU+-bS;bW[3]=bV+-bT;bW[4]=bU+-bT;bW[5]=bV+0;bW[6]=bU+-bS;bW[7]=bV+bT;bW[8]=bU+-bT;bW[9]=bV+bS;bW[10]=bU+0;bW[11]=bV+bT;bW[12]=bU+bT;bW[13]=bV+bS;bW[14]=bU+bS;bW[15]=bV+bT;bW[16]=bU+bT;bW[17]=bV+0;bW[18]=bU+bS;bW[19]=bV+-bT;bW[20]=bU+bT;bW[21]=bV+-bS;bW[22]=bU+0;bW[23]=bV+-bT;this.get_currentContext().set_lineJoin('miter');this.$f(bW,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bX=L.c.get('size').gv(bP)*0.9375/2;var bY=L.c.get('size').gv(bP)*0.9375/4;{{var bZ=bN;var ca=bO;var cb=new Array(24);cb[0]=bZ+-bY;cb[1]=ca+-bX;cb[2]=bZ+-bX;cb[3]=ca+-bY;cb[4]=bZ+-bY;cb[5]=ca+0;cb[6]=bZ+-bX;cb[7]=ca+bY;cb[8]=bZ+-bY;cb[9]=ca+bX;cb[10]=bZ+0;cb[11]=ca+bY;cb[12]=bZ+bY;cb[13]=ca+bX;cb[14]=bZ+bX;cb[15]=ca+bY;cb[16]=bZ+bY;cb[17]=ca+0;cb[18]=bZ+bX;cb[19]=ca+-bY;cb[20]=bZ+bY;cb[21]=ca+-bX;cb[22]=bZ+0;cb[23]=ca+-bY;this.$c(cb,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var cc=L.c.get('size').gv(bP)*0.9375/2;var cd=L.c.get('size').gv(bP)*0.9375/4;{{var ce=bN;var cf=bO;var cg=new Array(24);cg[0]=ce+-cd;cg[1]=cf+-cc;cg[2]=ce+-cc;cg[3]=cf+-cd;cg[4]=ce+-cd;cg[5]=cf+0;cg[6]=ce+-cc;cg[7]=cf+cd;cg[8]=ce+-cd;cg[9]=cf+cc;cg[10]=ce+0;cg[11]=cf+cd;cg[12]=ce+cd;cg[13]=cf+cc;cg[14]=ce+cc;cg[15]=cf+cd;cg[16]=ce+cd;cg[17]=cf+0;cg[18]=ce+cc;cg[19]=cf+-cd;cg[20]=ce+cd;cg[21]=cf+-cc;cg[22]=ce+0;cg[23]=cf+-cd;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$i:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*1.04166666666667/2;{{var bT=bN;var bU=bO;var bV=new Array(8);bV[0]=bT+0;bV[1]=bU+-bS;bV[2]=bT+-bS;bV[3]=bU+0;bV[4]=bT+0;bV[5]=bU+bS;bV[6]=bT+bS;bV[7]=bU+0;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*1.04166666666667/2;{{var bX=bN;var bY=bO;var bZ=new Array(8);bZ[0]=bX+0;bZ[1]=bY+-bW;bZ[2]=bX+-bW;bZ[3]=bY+0;bZ[4]=bX+0;bZ[5]=bY+bW;bZ[6]=bX+bW;bZ[7]=bY+0;this.get_currentContext().set_lineJoin('miter');this.$f(bZ,2,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*1.04166666666667/2;{{var cb=bN;var cc=bO;var cd=new Array(8);cd[0]=cb+0;cd[1]=cc+-ca;cd[2]=cb+-ca;cd[3]=cc+0;cd[4]=cb+0;cd[5]=cc+ca;cd[6]=cb+ca;cd[7]=cc+0;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$l:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*1.04166666666667/2;{{var bT=bN;var bU=bO;var bV=new Array(8);bV[0]=bT+0;bV[1]=bU+-bS;bV[2]=bT+-bS;bV[3]=bU+0;bV[4]=bT+0;bV[5]=bU+bS;bV[6]=bT+bS;bV[7]=bU+0;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*1.04166666666667/2;{{var bX=bN;var bY=bO;var bZ=new Array(8);bZ[0]=bX+0;bZ[1]=bY+-bW;bZ[2]=bX+-bW;bZ[3]=bY+0;bZ[4]=bX+0;bZ[5]=bY+bW;bZ[6]=bX+bW;bZ[7]=bY+0;this.$c(bZ,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*1.04166666666667/2;{{var cb=bN;var cc=bO;var cd=new Array(8);cd[0]=cb+0;cd[1]=cc+-ca;cd[2]=cb+-ca;cd[3]=cc+0;cd[4]=cb+0;cd[5]=cc+ca;cd[6]=cb+ca;cd[7]=cc+0;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$z:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+0;bV[1]=bU+-bS;bV[2]=bT+-bS;bV[3]=bU+bS;bV[4]=bT+bS;bV[5]=bU+bS;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+0;bZ[1]=bY+-bW;bZ[2]=bX+-bW;bZ[3]=bY+bW;bZ[4]=bX+bW;bZ[5]=bY+bW;this.get_currentContext().set_lineJoin('miter');this.$f(bZ,2,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.895833333333333/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+0;cd[1]=cc+-ca;cd[2]=cb+-ca;cd[3]=cc+ca;cd[4]=cb+ca;cd[5]=cc+ca;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$t:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+0;bV[1]=bU+-bS;bV[2]=bT+-bS;bV[3]=bU+bS;bV[4]=bT+bS;bV[5]=bU+bS;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+0;bZ[1]=bY+-bW;bZ[2]=bX+-bW;bZ[3]=bY+bW;bZ[4]=bX+bW;bZ[5]=bY+bW;this.$c(bZ,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.916666666666667/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+0;cd[1]=cc+-ca;cd[2]=cb+-ca;cd[3]=cc+ca;cd[4]=cb+ca;cd[5]=cc+ca;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$j:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+0;bV[1]=bU+bS;bV[2]=bT+-bS;bV[3]=bU+-bS;bV[4]=bT+bS;bV[5]=bU+-bS;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+0;bZ[1]=bY+bW;bZ[2]=bX+-bW;bZ[3]=bY+-bW;bZ[4]=bX+bW;bZ[5]=bY+-bW;this.get_currentContext().set_lineJoin('miter');this.$f(bZ,2,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.895833333333333/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+0;cd[1]=cc+ca;cd[2]=cb+-ca;cd[3]=cc+-ca;cd[4]=cb+ca;cd[5]=cc+-ca;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$m:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+0;bV[1]=bU+bS;bV[2]=bT+-bS;bV[3]=bU+-bS;bV[4]=bT+bS;bV[5]=bU+-bS;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+0;bZ[1]=bY+bW;bZ[2]=bX+-bW;bZ[3]=bY+-bW;bZ[4]=bX+bW;bZ[5]=bY+-bW;this.$c(bZ,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.916666666666667/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+0;cd[1]=cc+L.c.get('size').gv(bP)*0.916666666666667/2;cd[2]=cb+-ca;cd[3]=cc+-ca;cd[4]=cb+ca;cd[5]=cc+-ca;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$u:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+-bS;bV[1]=bU+0;bV[2]=bT+bS;bV[3]=bU+-bS;bV[4]=bT+bS;bV[5]=bU+bS;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+-bW;bZ[1]=bY+0;bZ[2]=bX+bW;bZ[3]=bY+-bW;bZ[4]=bX+bW;bZ[5]=bY+bW;this.get_currentContext().set_lineJoin('miter');this.$f(bZ,2,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.895833333333333/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+-ca;cd[1]=cc+0;cd[2]=cb+ca;cd[3]=cc+-ca;cd[4]=cb+ca;cd[5]=cc+ca;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$n:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+-bS;bV[1]=bU+0;bV[2]=bT+bS;bV[3]=bU+-bS;bV[4]=bT+bS;bV[5]=bU+bS;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+-bW;bZ[1]=bY+0;bZ[2]=bX+bW;bZ[3]=bY+-bW;bZ[4]=bX+bW;bZ[5]=bY+bW;this.$c(bZ,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.916666666666667/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+-ca;cd[1]=cc+0;cd[2]=cb+ca;cd[3]=cc+-ca;cd[4]=cb+ca;cd[5]=cc+ca;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$w:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+-bS;bV[1]=bU+-bS;bV[2]=bT+-bS;bV[3]=bU+bS;bV[4]=bT+bS;bV[5]=bU+0;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.895833333333333/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+-bW;bZ[1]=bY+-bW;bZ[2]=bX+-bW;bZ[3]=bY+bW;bZ[4]=bX+bW;bZ[5]=bY+0;this.get_currentContext().set_lineJoin('miter');this.$f(bZ,2,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.895833333333333/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+-ca;cd[1]=cc+-ca;cd[2]=cb+-ca;cd[3]=cc+ca;cd[4]=cb+ca;cd[5]=cc+0;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$p:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bT=bN;var bU=bO;var bV=new Array(6);bV[0]=bT+-bS;bV[1]=bU+-bS;bV[2]=bT+-bS;bV[3]=bU+bS;bV[4]=bT+bS;bV[5]=bU+0;this.get_currentContext().set_lineJoin('miter');this.$f(bV,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bW=L.c.get('size').gv(bP)*0.916666666666667/2;{{var bX=bN;var bY=bO;var bZ=new Array(6);bZ[0]=bX+-bW;bZ[1]=bY+-bW;bZ[2]=bX+-bW;bZ[3]=bY+bW;bZ[4]=bX+bW;bZ[5]=bY+0;this.$c(bZ,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ca=L.c.get('size').gv(bP)*0.916666666666667/2;{{var cb=bN;var cc=bO;var cd=new Array(6);cd[0]=cb+-ca;cd[1]=cc+-ca;cd[2]=cb+-ca;cd[3]=cc+ca;cd[4]=cb+ca;cd[5]=cc+0;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},$r:function(L,bN,bO,bP,bQ,bR){switch(bQ){case'normalUnder':{var bS=L.c.get('size').gv(bP)*1.09166666666667;var bT=bS/2;var bU=bS*0.3877;{{var bV=bN;var bW=bO;var bX=new Array(20);bX[0]=bV+0;bX[1]=bW+(-bT+bS*0.0246);bX[2]=bV+(-bT+bS*0.3817);bX[3]=bW+(-bT+bU);bX[4]=bV+-bT;bX[5]=bW+(-bT+bU);bX[6]=bV+(-bT+bS*0.3088);bX[7]=bW+(-bT+bS*0.612);bX[8]=bV+(-bT+bS*0.1909);bX[9]=bW+(-bT+bS*0.9751);bX[10]=bV+0;bX[11]=bW+(-bT+bS*0.7507);bX[12]=bV+(-bT+bS*0.8085);bX[13]=bW+(-bT+bS*0.9751);bX[14]=bV+(-bT+bS*0.6905);bX[15]=bW+(-bT+bS*0.612);bX[16]=bV+bT;bX[17]=bW+(-bT+bU);bX[18]=bV+(-bT+bS*0.6176);bX[19]=bW+(-bT+bU);this.get_currentContext().set_lineJoin('miter');this.$f(bX,4,L.c.get('halo_color').gv(bP)[bR])}}break}case'normalOn':{var bY=L.c.get('size').gv(bP)*1.09166666666667;var bZ=bY/2;var ca=bY*0.3877;{{var cb=bN;var cc=bO;var cd=new Array(20);cd[0]=cb+0;cd[1]=cc+(-bZ+bY*0.0246);cd[2]=cb+(-bZ+bY*0.3817);cd[3]=cc+(-bZ+ca);cd[4]=cb+-bZ;cd[5]=cc+(-bZ+ca);cd[6]=cb+(-bZ+bY*0.3088);cd[7]=cc+(-bZ+bY*0.612);cd[8]=cb+(-bZ+bY*0.1909);cd[9]=cc+(-bZ+bY*0.9751);cd[10]=cb+0;cd[11]=cc+(-bZ+bY*0.7507);cd[12]=cb+(-bZ+bY*0.8085);cd[13]=cc+(-bZ+bY*0.9751);cd[14]=cb+(-bZ+bY*0.6905);cd[15]=cc+(-bZ+bY*0.612);cd[16]=cb+bZ;cd[17]=cc+(-bZ+ca);cd[18]=cb+(-bZ+bY*0.6176);cd[19]=cc+(-bZ+ca);this.$c(cd,L.getMarkColors(bP)[bR])}}break}case'selectedUnder':{var ce=L.c.get('size').gv(bP)*1.09166666666667;var cf=ce/2;var cg=ce*0.3877;{{var ch=bN;var ci=bO;var cj=new Array(20);cj[0]=ch+0;cj[1]=ci+(-cf+ce*0.0246);cj[2]=ch+(-cf+ce*0.3817);cj[3]=ci+(-cf+cg);cj[4]=ch+-cf;cj[5]=ci+(-cf+cg);cj[6]=ch+(-cf+ce*0.3088);cj[7]=ci+(-cf+ce*0.612);cj[8]=ch+(-cf+ce*0.1909);cj[9]=ci+(-cf+ce*0.9751);cj[10]=ch+0;cj[11]=ci+(-cf+ce*0.7507);cj[12]=ch+(-cf+ce*0.8085);cj[13]=ci+(-cf+ce*0.9751);cj[14]=ch+(-cf+ce*0.6905);cj[15]=ci+(-cf+ce*0.612);cj[16]=ch+cf;cj[17]=ci+(-cf+cg);cj[18]=ch+(-cf+ce*0.6176);cj[19]=ci+(-cf+cg);this.get_currentContext().set_lineJoin('miter');this.$f(cj,4,L.c.get('selected_halo_color').gv(bP)[bR])}}break}default:{break}}},drawPredictionBandLayer:function(L,bN,bO,bP,bQ,bR){switch(bO){case'normalUnder':{var bS=bQ.qrgbColor;if(L.isTupleVisible(bQ.tupleIds[bN])){if((bN===0||!L.isTupleVisible(bQ.tupleIds[bN-1]))&&(bN+1>=bQ.upperEnd.length||!L.isTupleVisible(bQ.tupleIds[bN+1]))){var bT=ss.Int32.div(bQ.widths[bN],2)+2.5;if(bQ.useYAxis){var bU=L.thisDomainToPixelY(bQ.upperEnd[bN]);var bV=L.thisDomainToPixelY(bQ.lowerEnd[bN]);var bW=L.thisDomainToPixelX(bQ.oppositeAxis[bN]);{var bX=[bW-bT,bU,bW-bT,bV,bW+bT,bV,bW+bT,bU];this.$c(bX,L.getOneColorAlpha(bS,bP,bR))}}else{var bY=L.thisDomainToPixelX(bQ.upperEnd[bN]);var bZ=L.thisDomainToPixelX(bQ.lowerEnd[bN]);var ca=L.thisDomainToPixelY(bQ.oppositeAxis[bN]);{var cb=[bY,ca-bT,bZ,ca-bT,bZ,ca+bT,bY,ca+bT];this.$c(cb,L.getOneColorAlpha(bS,bP,bR))}}}else if(bN+1<bQ.tupleIds.length&&L.isTupleVisible(bQ.tupleIds[bN+1])){if(bQ.useYAxis){var cc=L.thisDomainToPixelY(bQ.upperEnd[bN]);var cd=L.thisDomainToPixelY(bQ.lowerEnd[bN]);var ce=L.thisDomainToPixelY(bQ.upperEnd[bN+1]);var cf=L.thisDomainToPixelY(bQ.lowerEnd[bN+1]);var cg=L.thisDomainToPixelX(bQ.oppositeAxis[bN]);var ch=L.thisDomainToPixelX(bQ.oppositeAxis[bN+1]);{var ci=[cg,cd,ch,cf,ch,ce,cg,cc];this.$c(ci,L.getOneColorAlpha(bS,bP,bR))}}else{var cj=L.thisDomainToPixelX(bQ.upperEnd[bN]);var ck=L.thisDomainToPixelX(bQ.lowerEnd[bN]);var cl=L.thisDomainToPixelX(bQ.upperEnd[bN+1]);var cm=L.thisDomainToPixelX(bQ.lowerEnd[bN+1]);var cn=L.thisDomainToPixelY(bQ.oppositeAxis[bN]);var co=L.thisDomainToPixelY(bQ.oppositeAxis[bN+1]);{var cp=[ck,cn,cm,co,cl,co,cj,cn];this.$c(cp,L.getOneColorAlpha(bS,bP,bR))}}}}break}}},renderPredictionBand:function(L,bN,bO,bP){var bQ='colorOverrideNone';var bR=255;var bS=bO;var bT=0;var bU=1;var bV=2;var bW=bT;for(var bX=0;bX<bS.lineTupleIds.length;bX++){var bY=bS.lineTupleIds[bX];if(L.isTupleSelected(bY)){bW=bV;break}if(bW!==bU&&L.isTupleHighlighted(bY)){bW=bU}}if(bW!==bV){for(var bZ=0;bZ<bS.tupleIds.length;bZ++){var ca=bS.tupleIds[bZ];if(L.isTupleSelected(ca)){bW=bV;break}if(bW!==bU&&L.isTupleHighlighted(ca)){bW=bU}}}switch(bN){case'normalUnderPass':{if(bW===bT&&bP==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){bQ='colorOverrideFog'}else{bQ='colorOverrideNone'}var cb=bS.tupleIds.length;for(var cc=0;cc<cb;cc++){this.drawPredictionBandLayer(L,cc,'normalUnder',bQ,bS,bR)}}break}case'highlightedUnderPass':{if(bW===bU&&bP==='underMark'){var cd=bS.tupleIds.length;for(var ce=0;ce<cd;ce++){if(L.isTupleHighlighted(bS.tupleIds[ce])&&((ce===0||!L.isTupleVisible(bS.tupleIds[ce-1]))&&(ce+1>=bS.upperEnd.length||!L.isTupleVisible(bS.tupleIds[ce+1]))||ce+1<bS.tupleIds.length&&L.isTupleVisible(bS.tupleIds[ce+1])&&L.isTupleHighlighted(bS.tupleIds[ce+1]))){bQ='colorOverrideNone'}else{bQ='colorOverrideFog'}this.drawPredictionBandLayer(L,ce,'normalUnder',bQ,bS,bR)}}break}case'selectedUnderPass':{if(bW===bV&&bP==='underMark'){bQ='colorOverrideReplaceAlpha';bR=76.5;var cf=bS.tupleIds.length;for(var cg=0;cg<cf;cg++){this.drawPredictionBandLayer(L,cg,'normalUnder',bQ,bS,bR)}}break}}},drawPredictionWhiskerLayer:function(L,bN,bO,bP,bQ,bR){switch(bO){case'border':{if(L.isTupleVisible(bQ.tupleIds[bN])){var bS=ss.Int32.div(bQ.widths[bN]-1,2);if(bQ.useYAxis){var bT=ss.Int32.trunc(L.thisDomainToPixelX(bQ.oppositeAxis[bN]));var bU=ss.Int32.trunc(L.thisDomainToPixelY(bQ.upperEnd[bN]));var bV=ss.Int32.trunc(L.thisDomainToPixelY(bQ.lowerEnd[bN]));var bW=bU-0.5;var bX=bV+1.5;var bY=bT-0.5-bS;var bZ=bT+1.5+bS;var ca=bU+1.5;var cb=bV-0.5;var cc=bT-0.5;var cd=bT+1.5;{var ce=[bY,bW,bZ,bW,bZ,ca,cd,ca,cd,cb,bZ,cb,bZ,bX,bY,bX,bY,cb,cc,cb,cc,ca,bY,ca];this.renderLineLoop(ce,1,L.getOneColorAlpha(bQ.qrgbColor,bP,bR))}}else{var cf=ss.Int32.trunc(L.thisDomainToPixelY(bQ.oppositeAxis[bN]));var cg=ss.Int32.trunc(L.thisDomainToPixelX(bQ.lowerEnd[bN]));var ch=ss.Int32.trunc(L.thisDomainToPixelX(bQ.upperEnd[bN]));var ci=cf-0.5-bS;var cj=cf+1.5+bS;var ck=cg-0.5;var cl=ch+1.5;var cm=cf-0.5;var cn=cf+1.5;var co=cg+1.5;var cp=ch-0.5;{var cq=[ck,ci,co,ci,co,cm,cp,cm,cp,ci,cl,ci,cl,cj,cp,cj,cp,cn,co,cn,co,cj,ck,cj];this.renderLineLoop(cq,1,L.getOneColorAlpha(bQ.qrgbColor,bP,bR))}}}break}case'normalUnder':{if(L.isTupleVisible(bQ.tupleIds[bN])){var cr=ss.Int32.div(bQ.widths[bN]-1,2);var cs=bQ.qrgbColors[bN];if(bQ.useYAxis){var ct=ss.Int32.trunc(L.thisDomainToPixelX(bQ.oppositeAxis[bN]));var cu=ss.Int32.trunc(L.thisDomainToPixelY(bQ.upperEnd[bN]));var cv=ss.Int32.trunc(L.thisDomainToPixelY(bQ.lowerEnd[bN]));{var cw=[ct-cr,cu+0.5,ct+cr+1,cu+0.5];this.$d(cw,1,L.getOneColorAlpha(cs,bP,bR),false)}{var cx=[ct-cr,cv+0.5,ct+cr+1,cv+0.5];this.$d(cx,1,L.getOneColorAlpha(cs,bP,bR),false)}{var cy=[ct+0.5,cu+1,ct+0.5,cv];this.$d(cy,1,L.getOneColorAlpha(cs,bP,bR),false)}}else{var cz=ss.Int32.trunc(L.thisDomainToPixelY(bQ.oppositeAxis[bN]));var cA=ss.Int32.trunc(L.thisDomainToPixelX(bQ.lowerEnd[bN]));var cB=ss.Int32.trunc(L.thisDomainToPixelX(bQ.upperEnd[bN]));{var cC=[cA+0.5,cz-cr,cA+0.5,cz+cr+1];this.$d(cC,1,L.getOneColorAlpha(cs,bP,bR),false)}{var cD=[cB+0.5,cz-cr,cB+0.5,cz+cr+1];this.$d(cD,1,L.getOneColorAlpha(cs,bP,bR),false)}{var cE=[cA+1,cz+0.5,cB,cz+0.5];this.$d(cE,1,L.getOneColorAlpha(cs,bP,bR),false)}}}break}}},renderPredictionWhisker:function(L,bN,bO,bP){var bQ='colorOverrideNone';var bR=255;var bS=bO;switch(bN){case'normalUnderPass':{if(!bS.renderOnTop&&bP==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){bQ='colorOverrideFog'}else{bQ='colorOverrideNone'}var bT=bS.tupleIds.length;for(var bU=0;bU<bT;bU++){if(!L.isTupleHighlighted(bS.tupleIds[bU])&&!L.isTupleSelected(bS.tupleIds[bU])){this.drawPredictionWhiskerLayer(L,bU,'border',bQ,bS,bR);this.drawPredictionWhiskerLayer(L,bU,'normalUnder',bQ,bS,bR)}}}break}case'normalOnPass':{if(bS.renderOnTop&&bP==='underLabel'){if(L.get_hasSelection()||L.get_hasBrushing()){bQ='colorOverrideFog'}else{bQ='colorOverrideNone'}var bV=bS.tupleIds.length;for(var bW=0;bW<bV;bW++){if(!L.isTupleHighlighted(bS.tupleIds[bW])&&!L.isTupleSelected(bS.tupleIds[bW])){this.drawPredictionWhiskerLayer(L,bW,'border',bQ,bS,bR);this.drawPredictionWhiskerLayer(L,bW,'normalUnder',bQ,bS,bR)}}}break}case'selectedUnderPass':{if(!bS.renderOnTop&&bP==='underMark'){var bX=bS.tupleIds.length;for(var bY=0;bY<bX;bY++){if(L.isTupleSelected(bS.tupleIds[bY])){bQ='colorOverrideReplaceAlpha';bR=63.75;this.drawPredictionWhiskerLayer(L,bY,'border',bQ,bS,bR);bQ='colorOverrideReplaceAlpha';bR=bS.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,bY,'normalUnder',bQ,bS,bR)}}}break}case'selectedOnPass':{if(bS.renderOnTop&&bP==='underLabel'){var bZ=bS.tupleIds.length;for(var ca=0;ca<bZ;ca++){if(L.isTupleSelected(bS.tupleIds[ca])){bQ='colorOverrideReplaceAlpha';bR=63.75;this.drawPredictionWhiskerLayer(L,ca,'border',bQ,bS,bR);bQ='colorOverrideReplaceAlpha';bR=bS.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,ca,'normalUnder',bQ,bS,bR)}}}break}case'highlightedUnderPass':{if(!bS.renderOnTop&&bP==='underMark'){bQ='colorOverrideNone';var cb=bS.tupleIds.length;for(var cc=0;cc<cb;cc++){if(L.isTupleHighlighted(bS.tupleIds[cc])){this.drawPredictionWhiskerLayer(L,cc,'border',bQ,bS,bR);this.drawPredictionWhiskerLayer(L,cc,'normalUnder',bQ,bS,bR)}}}break}case'highlightedOnPass':{if(bS.renderOnTop&&bP==='underLabel'){bQ='colorOverrideNone';var cd=bS.tupleIds.length;for(var ce=0;ce<cd;ce++){if(L.isTupleHighlighted(bS.tupleIds[ce])){this.drawPredictionWhiskerLayer(L,ce,'border',bQ,bS,bR);this.drawPredictionWhiskerLayer(L,ce,'normalUnder',bQ,bS,bR)}}}break}}},$a:function(L,bN,bO,bP,bQ){var bR=1;var bS=2*bR;return!tab.RectXYUtil.completelyContains$1(L,ss.Int32.trunc(bN)-bR,ss.Int32.trunc(bO)-bR,ss.Int32.trunc(bP)+bS,ss.Int32.trunc(bQ)+bS)},$9:function(L,bN,bO,bP,bQ){var bR=100000;switch(L){case 0:{return}case 1:{bO=-100000;bQ=200000;break}case 2:{bN=-100000;bP=200000;break}}var bS=Y.roundStartAndExtent(bO,bQ,0);var bT=Y.roundStartAndExtent(bN,bP,0);this.get_currentContext().setClip({x:ss.Int32.trunc(bT.item1),y:ss.Int32.trunc(bS.item1),w:ss.Int32.trunc(bT.item2),h:ss.Int32.trunc(bS.item2)})},$d:function(L,bN,bO,bP){var bQ=this.get_currentContext();bQ.set_linePattern('solid');bQ.set_lineWidth(bN);bQ.set_strokeStyle(bO);tab.CanvasRenderer.strokePath(bQ,L,false,bP)},renderLineLoop:function(L,bN,bO){var bP=this.get_currentContext();bP.set_linePattern('solid');bP.set_lineWidth(bN);bP.set_strokeStyle(bO);tab.CanvasRenderer.strokePath(bP,L,true,false)},$e:function(L,bN,bO,bP,bQ,bR,bS,bT){var bU=this.get_currentContext();bU.set_linePattern('solid');bU.set_lineWidth(bT);bU.set_strokeStyle(bS);var bV=Math.atan2(bP-bO,bN-L);var bW=Math.cos(bV);var bX=Math.sin(bV);bQ/=2;bR/=2;var bY=bQ*bX;var bZ=bR*bX;var ca=bQ*bW;var cb=bR*bW;bU.beginPath();bU.moveTo(L+bY,bO-ca);bU.lineTo(bN+bZ,bP-cb);bU.lineTo(bN-bZ,bP+cb);bU.lineTo(L-bY,bO+ca);bU.closePath();bU.stroke()},$b:function(L,bN,bO,bP,bQ,bR,bS,bT){var bU;var bV=this.get_currentContext();if(ss.referenceEquals(bS,bT)){bU=bS}else{var bW=bV.createLinearGradient(L,bO,bN,bP);bW.addColorStop(0,bS);bW.addColorStop(1,bT);bU=bW}if(bQ===bR){bV.set_lineWidth(bQ);bV.set_linePattern('solid');bV.set_strokeStyle(bU);bV.beginPath();bV.moveTo(L,bO);bV.lineTo(bN,bP);bV.closePath();bV.stroke()}else{var bX=Math.atan2(bP-bO,bN-L);var bY=Math.cos(bX);var bZ=Math.sin(bX);bQ/=2;bR/=2;var ca=bQ*bZ;var cb=bR*bZ;var cc=bQ*bY;var cd=bR*bY;bV.beginPath();bV.moveTo(L+ca,bO-cc);bV.lineTo(bN+cb,bP-cd);bV.lineTo(bN-cb,bP+cd);bV.lineTo(L-ca,bO+cc);bV.closePath();bV.set_shapeFillStyle(bU);bV.fill()}},$f:function(L,bN,bO){var bP=this.get_currentContext();bP.set_lineWidth(bN);bP.set_strokeStyle(bO);tab.CanvasRenderer.strokePath(bP,L,true,true)},$c:function(L,bN){var bO=this.get_currentContext();bO.set_shapeFillStyle(bN);tab.CanvasRenderer.fillPath(bO,L,true)},$B:function(L){this.get_currentContext().set_shapeFillStyle(L.$6(0,-1,'colorOverrideNone'));var bN=this.createStyleSettersAndSetDominantStyle(L.get_textStyleColumns());return bN}},tab.CanvasRenderer);ss.initClass(A,a,{get_currentContext:function(){if(ss.isValue(this.$D)){return this.$D}return tab.CanvasRenderer.prototype.get_currentContext.call(this)},$C:function(L){var bN={};bN.dataValues=new Array(L);return bN},containsShape:function(L){return ss.isValue(this.$F[L.toString()])},renderSwatch:function(L,bN,bO){this.$D=L;var bP=(bO?'colorOverrideFog':'colorOverrideOpaque');this.drawShapeMarkLayer(this.$E,this.$F[bN.toString()],'normalOn',bP)}},Y);ss.initEnum(B,a,{noHit:0,areaHit:1,nearHit:2,exactHit:3});ss.initClass(C,a,{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(L){this.$8=L},get_paneKey:function(){return this.$6},set_paneKey:function(L){this.$6=L},get_paneIndex:function(){return this.$5},set_paneIndex:function(L){this.$5=L},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(L){this.$7=L},addNode:function(L){this.$1.push(L);L.set_parent(this)},addNodes:function(L){ss.arrayAddRange(this.$1,L);for(var bN=0;bN<L.length;bN++){var bO=L[bN];bO.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}});ss.initClass(D,a,{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(L){this.clear();this.$0(L)},debugDrawBoundingBoxesHierarchies:function(L){this.clear();for(var bN=0;bN<L.length;bN++){var bO=L[bN];this.$0(bO)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(L){var bN=new Array;bN.push(L);while(bN.length>0){var bO=bN.shift();if(bO.get_nodeType()===2){var bP=bO.get_boundingBox();this.get_context2D().save();if(D.$0%2===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(bP.x,bP.y,bP.w,bP.h);this.get_context2D().restore();++D.$0}if(bO.get_nodeType()===3||bO.get_nodeType()===5){var bQ=bO.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(bQ.x,bQ.y,bQ.w,bQ.h);this.get_context2D().restore()}if(bO.get_nodeType()===4){var bR=bO.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(bR.x,bR.y,bR.w,bR.h);this.get_context2D().restore()}var bS=bO.get_children();bS.forEach(function(bT){bN.push(bT)})}}});ss.initClass(E,a,{hitTestPanes:function(L){var bN=[];var bO=new Array;bO.push(this.$5);while(bO.length>0){var bP=bO.pop();var bQ=tab.RectXYUtil.intersectsWith(bP.get_boundingBox(),L);if(bQ){if(bP.get_nodeType()===1){bN.push(bP.get_paneKey())}else{var bR=bP.get_children();bR.forEach(function(bS){bO.push(bS)})}}}return bN},hitTest:function(L,bN,bO){if(tab.RectXYUtil.isEmpty(L)){return[]}var bP=this.hitTestBoundingBoxes(L,bN,bO);return(bN?this.hitTestSingle(L,bO,bP):this.$1(L,bO,bP))},hitTestSingle:function(L,bN,bO){var bP=L.x+ss.Int32.div(L.w,2);var bQ=L.y+ss.Int32.div(L.h,2);var bR={};var bS=[];for(var bT=bO.length-1;bT>=0;bT--){var bU=bO[bT];if(bU.get_objectId()<0){continue}var bV=C.findPaneNode(bU);if(ss.isNullOrUndefined(bV)){continue}if(ss.isNullOrUndefined(bR[bV.get_paneIndex()])){bR[bV.get_paneIndex()]=[];bS.push(bV)}bR[bV.get_paneIndex()].push(bU)}var bW=[];var bX=[];var bY={};for(var bZ=0;bZ<bS.length;bZ++){var ca=bS[bZ];var cb=bN.getPaneDrawInfoFromKey(ca.get_paneKey());var cc=tab.RectXYUtil.offsetRect(L,{x:-cb.paneRect.x,y:-cb.paneRect.y});var cd=bR[ca.get_paneIndex()];for(var ce=0;ce<cd.length;ce++){var cf=cd[ce];var cg=cb.getMarkState(cf.get_objectId());var ch=cf.get_worldOffset();var ci=cb.c.get('tuple_id').gv(cf.get_objectId());var cj=false;if(ss.isValue(cf.get_labelBox())){cj=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cf.get_labelBox(),L)}if(cj){bW.push(new F.$ctor1(ci,6,3));bY[ci]={item1:ca.get_paneOrderIndex(),item2:cg}}var ck=E.$0(cb,cc,cf.get_objectId(),ch,cb.markType);if(ck){bW.push(new F.$ctor1(ci,5,3));bY[ci]={item1:ca.get_paneOrderIndex(),item2:cg}}else if(bW.length===0){var cl=E.$1(cb,cc,cf.get_objectId(),ch,cb.markType);if(cl){var cm;switch(cb.markType){case'line':{cm=Y.lineMarkGetDistanceToMark(cb,bP,bQ,cf.get_objectId());break}case'bar':case'square':{cm=Y.barMarkGetDistanceToMark(cb,bP,bQ,cf.get_objectId());break}case'shape':{cm=Y.shapeMarkGetDistanceToMark(cb,bP,bQ,cf.get_objectId());break}case'text':{cm=Y.textMarkGetDistanceToMark(cb,bP,bQ,cf.get_objectId());break}case'area':{cm=Y.areaMarkGetDistanceToMark(cb,bP,bQ,cf.get_objectId());break}default:{cm=y.getSquaredDistanceToCenter(cf.get_boundingBox(),{x:bP,y:bQ});break}}var cn=new F.$ctor1(ci,5,2);bX.push({item1:cn,item2:cm});bY[ci]={item1:ca.get_paneOrderIndex(),item2:cg}}else{}}}}if(bW.length>0){var co=this.$4(bW,bY);if(co.get_hitType()===3){return[co]}}if(bX.length>0){var cp=this.$3(bX,bY);if(cp.get_hitType()===2){return[cp]}}return[]},$1:function(L,bN,bO){var bP=[];for(var bQ=bO.length-1;bQ>=0;bQ--){var bR=bO[bQ];var bS=bR.get_objectId();if(bS<0){continue}var bT=C.findPaneNode(bR);if(ss.isNullOrUndefined(bT)){continue}var bU=bN.getPaneDrawInfoFromKey(bT.get_paneKey());var bV=E.getTransformInfo(bU,bR);var bW=E.rectangleAreaHit(bU,bR.get_boundingBox(),L,bS,bV,bU.markType);if(bW){bP.push(new F.$ctor1(bU.c.get('tuple_id').gv(bS),5,1))}}return bP},hitTestBoundingBoxes:function(L,bN,bO){if(tab.RectXYUtil.isEmpty(L)){return[]}var bP=[];var bQ=new Array;var bR={};bQ.push(this.$5);while(bQ.length>0){var bS=bQ.pop();var bT=L;if(bN&&ss.isValue(bO)&&bS.get_nodeType()===3){var bU=C.findPaneNode(bS);if(ss.isValue(bU)){var bV=bU.get_paneKey();if(ss.keyExists(bR,bV)){bT=bR[bV]}else{var bW=bO.getPaneDrawInfoFromKey(bU.get_paneKey());if(ss.isValue(bW)){var bX;switch(bW.markType){case'multipolygon':{bX=Y.multipolygonMarkGetHitTestExpansion(bW,bS.get_objectId());break}case'bar':case'square':{bX=Y.barMarkGetHitTestExpansion(bW,bS.get_objectId());break}case'shape':{bX=Y.shapeMarkGetHitTestExpansion(bW,bS.get_objectId());break}case'text':{bX=Y.textMarkGetHitTestExpansion(bW,bS.get_objectId());break}case'area':{bX=Y.areaMarkGetHitTestExpansion(bW,bS.get_objectId());break}default:{bX=null;break}}if(ss.isValue(bX)&&!tab.SizeUtil.isEmpty(bX)){bT=tab.RectXYUtil.outsetRectSizeF(bT,bX)}}bR[bV]=bT}}}var bY=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(bS.get_boundingBox(),bT);if(!bY&&bN&&ss.isValue(bS.get_labelBox())){bY=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(bS.get_labelBox(),L)}if(bY){if(bS.get_nodeType()===3){bP.push(bS)}else{var bZ=bS.get_children();bZ.forEach(function(ca){bQ.push(ca)})}}}return bP},$4:function(L,bN){if(L.length===0){return new F.$ctor1(0,0,0)}var bO=new F.$ctor1(0,0,0);L.sort(function(bS,bT){return((bS.get_id()>bT.get_id())?-1:1)});for(var bP=0;bP<L.length;bP++){var bQ=L[bP];if(!ss.keyExists(bN,bQ.get_id())){continue}if(bN[bQ.get_id()].item2==='markStateInvisible'){continue}if(bO.get_hitType()===0){bO=bQ}else{var bR=this.$0(bQ.get_id(),bO.get_id(),bN);if(bR>0){bO=bQ}else if(bR===0){if(bQ.get_hitObjectType()>bO.get_hitObjectType()){bO=bQ}}}}return bO},$3:function(L,bN){if(L.length===0){return new F.$ctor1(0,0,0)}var bO=new F.$ctor1(0,0,0);var bP=null;L.sort(function(bU,bV){return((bU.item1.get_id()>bV.item1.get_id())?-1:1)});for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];var bS=bR.item1;var bT=bR.item2;if(!ss.keyExists(bN,bS.get_id())){continue}if(bN[bS.get_id()].item2==='markStateInvisible'){continue}if(bO.get_hitType()===0){bO=bS;bP=bT}else if(ss.Nullable$1.lt(bT,bP)){bO=bS;bP=bT}else if(bT===bP&&this.$0(bS.get_id(),bO.get_id(),bN)>0){bO=bS}}return bO},$0:function(L,bN,bO){var bP=bO[L];var bQ=bO[bN];var bR=this.$2(bP.item2);var bS=this.$2(bQ.item2);if(bR>bS){return 1}if(bR===bS){var bT=bP.item1;var bU=bQ.item1;if(bT>bU){return 1}if(bT===bU){return 0}}return-1},$2:function(L){switch(L){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}});ss.initClass(F,a,{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 3:case 4:{return'ref-line'}case 2:{return'trend-line'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 3:case 4:case 2:{return'visualparts'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}},null,[tab.IHitTestResult]);F.$ctor1.prototype=F.prototype;ss.initClass(G,a,{});ss.initClass(H,a,{get_imageNode:function(){return this.$2},set_imageNode:function(L){this.$2=L},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});ss.initClass(I,a,{get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(K,a,{});ss.initInterface(M,a,{add_loadComplete:null,remove_loadComplete:null,refreshImages:null,destroy:null,reset:null},[spiff.IScrollable]);ss.initInterface(N,a,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(O,a,{get_zoomToolbarContainerDiv:null,get_isMapSearchEnabled:null,get_shouldEnableZoomHomeToolbar:null,get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldShowTools:null,allowPanZoom:null,isVizLargerThanScreen:null});ss.initClass(P,a,{get_enabled:function(){return ss.isValue(this.$h)&&this.$j.get_useFastMaps()},$g:function(){return new L.LatLng(this.$j.get_centerLatitude(),this.$j.get_centerLongitude())},zoomOnPoint:function(bN,bO){this.$9(ss.mkdel(this,function(bP){var bQ=bM.incrementZoom(this.$j.get_zoom(),bO);var bR=bP.containerPointToLatLng(new L.Point(bN.x,bN.y));_.defer(ss.mkdel(this,function(){this.$d(bR,bQ,true)}))}))},animateAnchorZoom:function(bN,bO){var bP=new L.LatLng(bO.x,bO.y);_.defer(ss.mkdel(this,function(){this.$e(bP,bN)}))},zoomRect:function(bN){this.$9(ss.mkdel(this,function(bO){var bP=new L.Point(bN.x,bN.y+bN.h);var bQ=new L.Point(bN.x+bN.w,bN.y);var bR=new L.LatLngBounds(bO.containerPointToLatLng(bP),bO.containerPointToLatLng(bQ));var bS=new L.Point(bN.x+ss.Int32.div(bN.w,2),bN.y+ss.Int32.div(bN.h,2));var bT=bO.containerPointToLatLng(bS);this.$a(bR,bT,true)}))},moveToBounds:function(bN){if(!this.get_enabled()){return}var bO=new L.LatLngBounds(new L.LatLng(bN.minLatitude,bN.minLongitude),new L.LatLng(bN.maxLatitude,bN.maxLongitude));var bP=new L.LatLng((bN.maxLatitude+bN.minLatitude)*0.5,(bN.maxLongitude+bN.minLongitude)*0.5);var bQ=this.$a(bO,bP,true);bQ.done(ss.mkdel(this,function(L){if(!L){this.removeMarkOverlay()}}))},$a:function(L,bN,bO){var bP=$.Deferred();this.$h.done(ss.mkdel(this,function(bQ){var bR=bQ.getBoundsZoom(L,true);var bS=bM.resolveDesiredZoom(this.$j.get_mapServerPresModel(),bR);bO=bO&&Math.abs(bQ.getZoom()-bS)<=2;_.defer(ss.mkdel(this,function(){this.$d(bN,bS,bO)}));bP.resolve(bO)}));return bP},panTo:function(bN,bO){this.$9(ss.mkdel(this,function(bP){var bQ=bP.latLngToContainerPoint(this.$g());var bR=new L.Point(bQ.x-bN,bQ.y-bO);var bS=bP.containerPointToLatLng(bR);var bT=new Object;bT.animate=false;var bU=bT;bP.panTo(bS,bU)}))},getPointLatLong:function(bN){var bO=new L.Point(bN.x,bN.y);var bP=$.Deferred();this.$h.done(function(L){var bQ=L.containerPointToLatLng(bO);var bR={x:bQ.lat,y:bQ.lng};bP.resolve(bR)});return bP},touchMove:function(bN,bO,bP){if(isNaN(bP)||isNaN(bO)||isNaN(bN)){return}if(tab.DoubleUtil.isApproximatelyEqual(bP,1)&&!this.$m){this.panTo(bN,bO);return}this.$h.done(ss.mkdel(this,function(bQ){if(!this.$m){var bR=bQ.getPanes();$(bR.mapPane).addClass('leaflet-touching');$(bR.overlayPane).addClass('leaflet-touching');this.$i=new L.Point(bN,bO)}this.$m=true;tab.WindowHelper.cancelAnimationFrame(this.$o);this.$o=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=bM.combineTileZoomAndStretch(this.$j.get_zoom(),bP);this.$1(bQ,L,bP,bN,bO)}))}))},touchEnd:function(L,bN,bO){this.$9(ss.mkdel(this,function(bP){this.$c(bP);if(this.$m){var bQ=bM.combineTileZoomAndStretch(this.$j.get_zoom(),bO);var bR=bM.resolveDesiredZoom(this.$j.get_mapServerPresModel(),bQ);bO=Math.pow(2,bR-this.$j.get_zoom());this.$1(bP,bR,bO,L,bN)}this.$m=false}))},splatOverlayToMapForTransition:function(bN){if(ss.isNullOrUndefined(this.$h)||ss.isValue(this.$l)){return}var bO=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);var bP=ss.mkdel(this,function(bQ){var bR=tab.RenderUtil.calculatePixelRatio(true);if(!tab.CanvasUtil.canvasDensified(bN)){bR=1}var bS=Math.floor(2*bR);var bT={x:bS,y:bS,w:bN.width-2*bS,h:bN.height-2*bS};var bU=Math.floor(bQ.latLngToContainerPoint(P.$1(P.$6)).y*bR);var bV=Math.floor(bQ.latLngToContainerPoint(P.$1(P.$8)).y*bR);if(bV<bN.height){bT.h=bV}if(bU>0){bT.y+=bU;bT.h-=bU}var bW=new Object;bW.pixelRatio=bR;var bX=bW;this.$l=new L.CanvasOverlay(bQ.getBounds(),bX);bQ.addLayer(this.$l);var bY=this.$l.getCanvas();var bZ=tab.CanvasRenderer.getRenderContext(bY,'transparent');var ca={x:bS,y:bS,w:bT.w,h:bT.h};bZ.drawImage5(bN,bT.x,bT.y,bT.w,bT.h,ca.x,ca.y,ca.w,ca.h);bN.width=bN.width;bO.dispose()});this.$h.done(bP)},$3:function(L,bN){tab.ModuleManager.loadCss(tsConfig.external_static_asset_prefix+'/css/leaflet.css');this.$j=bN;this.$6();var bO=this.$5();this.$n=new h;this.$n.domRoot.appendTo(L);var bP=$.Deferred();this.$h=bP;tab.ModuleManager.load$1('leaflet',[]).done(ss.mkdel(this,function(bQ){if(this.get_enabled()){this.$2(bP,bO)}}))},$2:function(bN,bO){var bP=this.$4();var bQ=new L.Map(this.$n.$4(),bP);bN.resolve(bQ);this.$k=new L.TileLayer(this.$j.get_tileUrl(),bO);this.$f();bQ.addLayer(this.$k);this.$j.add_newMapServerInfo(ss.mkdel(this,this.$8));if(this.$j.get_hasWashout()){var bR=this.$j.get_washoutColor();var bS=P.$0(bR.toRgb());bO=this.$5();bO.opacity=bR.get_a();bQ.addLayer(new L.TileLayer(bS,bO))}this.$n.$3(this.$j.get_mapBGFillColor());this.$0(this.$j.get_zoom(),false)},$f:function(){var L=(this.$j.get_hasValidTileLayer()?1:0);this.$k.setOpacity(L)},$6:function(){if(ss.isValue(this.$h)){this.$h.done(function(L){L.remove()});this.$h=null;if(ss.isValue(this.$j)){this.$j.remove_newMapServerInfo(ss.mkdel(this,this.$8))}this.$j=null;this.$n.dispose();this.$n=null}},$8:function(){this.$9(ss.mkdel(this,function(L){if(L._animatingZoom){window.setTimeout(ss.mkdel(this,this.$8),10)}else{this.$f();var bN=this.$g();var bO=L.latLngToContainerPoint(L.getCenter());var bP=L.latLngToContainerPoint(bN);var bQ=Math.abs(L.getZoom()-this.$j.get_zoom());if(bQ>0.001){}var bR=bQ<0.01&&bO.distanceTo(bP)<8;this.$d(bN,this.$j.get_zoom(),bR);this.$7(L)}}))},$7:function(L){var bN=$(L.getPanes().tilePane).find('.leaflet-tile-container');for(var bO=0;bO<bN.length;++bO){if(!tab.MiscUtil.isNullOrEmpty$3(bN[bO].style.visibility)){L._onZoomTransitionEnd();break}}},$b:function(L,bN){this.$9(ss.mkdel(this,function(bO){tab.DomUtil.setMarginBox(bO.getContainer(),{l:0,t:0,w:L,h:bN});bO.invalidateSize(false);this.$0(this.$j.get_zoom(),false);this.$n.$2()}))},setScrollX:function(L){this.$9(function(bN){bN.getContainer().style.left=-L+'px'})},setScrollY:function(L){this.$9(function(bN){bN.getContainer().style.top=-L+'px'})},removeMarkOverlay:function(){if(ss.isValue(this.$l)){this.$h.done(ss.mkdel(this,function(L){L.removeLayer(this.$l);this.$7(L);this.$c(L)}))}this.$l=null},dispose:function(){this.$6()},$4:function(){var L=new Object;L.center=this.$g();L.zoom=this.$j.get_zoom();L.zoomControl=false;L.attributionControl=false;return L},$5:function(){var L=new Object;L.maxZoom=100;L.maxNativeZoom=this.$j.get_maxZoom();L.minZoom=this.$j.get_minZoom();L.continuousZoom=true;L.intermediateTileLevels=ss.isValue(this.$j.get_intermediateTileLevels())&&this.$j.get_intermediateTileLevels()>1;var bN=this.$j.get_mapServerPresModel().mapTileSize;L.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(bN);L.tileSize=bN;return L},$e:function(L,bN){var bO=new Object;bO.animate=true;var bP=bO;if(bN<0){return}this.$h.done(ss.mkdel(this,function(bQ){if(bQ._animatingZoom){this.$7(bQ)}bQ.setZoomAround(L,bN,bP);this.$0(bN,true)}))},$d:function(L,bN,bO){var bP=new Object;bP.animate=bO;var bQ=bP;if(bN<0){return}this.$h.done(ss.mkdel(this,function(bR){if(bR._animatingZoom){this.$7(bR)}bR.setView(L,bN,bQ);this.$0(bN,bO)}))},$0:function(L,bN){var bO=L+tab.MapUtil.getLeafletZoomOffsetForTileSize(this.$j.get_tilePixelSize());var bP=tab.MapUtil.getVisiblePixelWidth(bO,this.$j.get_numWorldRepeats(),this.$j.get_tilePixelSize());var bQ=this.$n.$5();var bR=Math.ceil((bQ-bP)/2);bR=Math.max(bR,0);this.$n.$1(bR,bN)},$1:function(bN,bO,bP,bQ,bR){var bS=new L.Point(bQ,bR);bS=bS.subtract(this.$i);var bT=bN.containerPointToLayerPoint(bN.getSize().divideBy(2));var bU=(new L.Point(0,0)).subtract(bS).divideBy(bP);var bV=bT.add(bU);var bW=bN.layerPointToLatLng(bV);if(isNaN(bW.lat)||isNaN(bW.lng)){return}bN._animateZoom(bW,bO,bT,bP,bS);this.$0(bO,false)},$c:function(L){$(L.getPanes().mapPane).removeClass('leaflet-touching');$(L.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$o)},$9:function(L){if(!this.get_enabled()){return}this.$h.done(L)}},null,[ss.IDisposable]);ss.initClass(Q,a,{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});ss.initClass(R,a,{get_lineAttributes:function(){return this.$1},$0:function(L){ss.clear(this.$1);var bN=L.markCount;var bO=new Q(0);for(var bP=0;bP<bN;bP++){var bQ=L.getMarkBounds(bP);tab.RectXYUtil.unionInPlace(bO.boundingBox,bQ);var bR=L.getMarkState(bP);if(bR==='markStateSelected'){bO.selectedCount++;if(L.isMarkHighlighted(bP)){bO.highlightedCount++}}else if(bR==='markStateHighlighted'){bO.highlightedCount++}if(L.markNeedsDraw(bP)){bO.marksNeedingDraw.push(bP)}if(L.isMarkEndPrimitive(bP)){bO.worldOffsets=L.getWorldInstanceOffsets(bO.boundingBox.x,bO.boundingBox.x+bO.boundingBox.w);bO.endIndex=bP;bO.sloppyBoundingBox=tab.RectXYUtil.outsetRect(bO.boundingBox,4,4);this.$1.push(bO);bO=new Q(bP+1)}}}});ss.initClass(bI,a,{add_updated:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_updated:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_current:function(){return this.$0},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.setCurrent(null)},isWithinLastHitTestDistance:function(L){if(this.get_hasHit()){var bN=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.isWithinDistance(this.$0.get_regionCoordinates(),bN,20)}return false},getLastHitTestDistance:function(L){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var bN=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.distance(this.$0.get_regionCoordinates(),bN)}return-1},getAsync:function(L){var bN=$.Deferred();if(this.isWithinLastHitTestDistance(L)){bN.resolve(this.$0)}else{var bO=null;bO=ss.mkdel(this,function(bP){this.remove_updated(bO);bN.resolve(bP)});this.add_updated(bO);this.update(L)}return bN.promise()},update:function(L){this.lastEvent=L;this.$1.invokeActionDelayed()},makePaneSpecId:function(L,bN){return bN*this.paneTable.get_numColumns()+L},setCurrent:function(L){this.$0=L;if(ss.isValue(this.$1$1)){this.$1$1(L)}},hitTest:null},null,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(S,a,{hitTest:function(L,bN){var bO=this.region.getPaneDrawInfoFromSelectionAnchor(L);if(ss.isValue(bO)){var bP=this.region.hitTestSingleMarksAndVisualParts(L);var bQ=this.makePaneSpecId(bO.paneColumn,bO.paneRow);this.setCurrent(new bH(this.region,bQ,bO.paneColumn,bO.paneRow,L,bN,bP))}else{this.setCurrent(null)}}},bI,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(T,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(U,a,{handleWidgetPropertyChanged:function(L,bN){},updateWidgetState:function(L){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[V,Object,Object]));ss.initClass(V,a,{get_compositeSearchWidget:function(){return this.$l},get_isCollapsed:function(){return this.$m},set_isCollapsed:function(L){this.$m=L;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$m);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$m)},get_isVisible:function(){return this.$n},set_isVisible:function(L){if(tab.FeatureParamsLookup.getBool(28)===true){L=true}if(this.$n===L){return}this.$n=L;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$n?'':'none'))},$e:function(L){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$f:function(L){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$b:function(L){this.$h();if(L.trim().length===0){this.handleRemoveSuggestionList()}else{this.$k();this.$j()}},showNewSuggestions:function(L,bN){if(!ss.referenceEquals(L,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(bN)){return}this.$o=tab.MiscUtil.dispose(this.$o);this.$o=[];for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];this.$o.push(spiff.ListItemViewModel.newListItem(bO.toString(),bP,false,false,false))}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$k:function(){if(ss.isNullOrUndefined(this.$o)){return}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$9:function(L){var bN=$("<span class='tab-list-item-label'/>");var bO='<span/>';var bP=$(bO);var bQ=$(bO);bP.addClass('tabMapsSearchViewSuggestionDisplayName');var bR=L.geographicSearchCandidateDisplayName;var bS=ss.trimEndString(this.$l.get_textInputView().get_text());if(ss.startsWithString(bR.toLowerCase(),bS.toLowerCase())){var bT=$(bO);bT.addClass('tabMapsSearchViewSuggestionActiveSearchText');bT.text(bR.substr(0,bS.length));bP.append(bT);var bU=$(bO);bU.text(bR.substr(bS.length));bP.append(bU)}else{bP.text(L.geographicSearchCandidateDisplayName)}bN.append(bP);bQ.addClass('tabMapsSearchViewSuggestionParentName');bQ.text(L.geographicSearchCandidateParentName);bN.append(bQ);return bN},handleEnterKeyPress:function(){this.$h();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.handleRemoveSuggestionList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(L){this.$h();this.handleRemoveSuggestionList();this.mapsSearchViewModel.moveMapToSuggestionListItem(L)},handleCollapseSearchWidget:function(){this.set_isCollapsed(true)},$d:function(L){this.set_isVisible(L)},$c:function(){this.get_compositeSearchWidget().get_textInputView().set_text('')},handleRemoveSuggestionList:function(){this.$l.removeList();this.$o=tab.MiscUtil.dispose(this.$o)},$a:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},setGeoLocationButtonVisibility:function(L){if(L){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$h();this.set_isCollapsed(!this.$m);if(!this.$m){if(!tab.BrowserSupport.get_isIE()){this.$l.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$g),200)},$h:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$g:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$h()},updateSearchTextValue:function(L){var bN=L.geographicSearchCandidateDisplayName;if(!ss.isNullOrEmptyString(L.geographicSearchCandidateParentName)){bN+=', '+L.geographicSearchCandidateParentName}this.get_compositeSearchWidget().setSearchText(bN)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$l.get_textInputView().get_inputElement())},handleEnableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')})},createListItemContent:function(L){return this.$9(L.get_data())},$i:function(){var L=this.get_compositeSearchWidget().get_textInputView().get_inputElement();if(!ss.staticEquals(this.mapsSearchViewModel.get_focusInHandler(),null)){L.focusin(this.mapsSearchViewModel.get_focusInHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_focusOutHandler(),null)){L.focusout(this.mapsSearchViewModel.get_focusOutHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_keypressHandler(),null)){L.keypress(this.mapsSearchViewModel.get_keypressHandler())}},dispose:function(){this.$l.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[W]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[W]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[W]),spiff.IListItemContentCreator]);ss.initClass(W,a,{add_receivedNewSuggestions:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_receivedNewSuggestions:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_updateTextInputValue:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_updateTextInputValue:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_onMoveMapToBounds:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_onMoveMapToBounds:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_visibilityChanged:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_visibilityChanged:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},add_userInteractionEnabled:function(L){this.$2$6=ss.delegateCombine(this.$2$6,L)},remove_userInteractionEnabled:function(L){this.$2$6=ss.delegateRemove(this.$2$6,L)},add_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateCombine(this.$2$7,L)},remove_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateRemove(this.$2$7,L)},add_suggestionListRemoved:function(L){this.$2$8=ss.delegateCombine(this.$2$8,L)},remove_suggestionListRemoved:function(L){this.$2$8=ss.delegateRemove(this.$2$8,L)},add_blurInputElementCalled:function(L){this.$2$9=ss.delegateCombine(this.$2$9,L)},remove_blurInputElementCalled:function(L){this.$2$9=ss.delegateRemove(this.$2$9,L)},get_visualID:function(){return this.$2},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)===true&&tab.BrowserSupport.get_isGeolocationSupported()},get_focusInHandler:function(){return this.$2$10},set_focusInHandler:function(L){this.$2$10=L},get_focusOutHandler:function(){return this.$2$11},set_focusOutHandler:function(L){this.$2$11=L},get_keypressHandler:function(){return this.$2$12},set_keypressHandler:function(L){this.$2$12=L},commitToSearchString:function(L){L=L.trim();this.sendGeographicSearchQuery(L,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(L){this.sendGeographicSearchQuery(L,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(L){if(ss.isValue(this.$2$2)){this.$2$2(L)}if(ss.isValue(this.$2$3)){this.$2$3(L.mapLatLongRect)}tab.PaneClientCommands.boundingBoxPan(this.$2,L.mapLatLongRect)},moveMapToSuggestionListItem:function(L){var bN=L.get_data();this.moveMapToCandidateBounds(bN)},moveToTopGeographicCandidate:function(L){var bN=L.geographicSearchCandidateList;if(bN.length===0){}else{var bO=bN[0];this.moveMapToCandidateBounds(bO)}},processGeographicSuggestions:function(L){if(!ss.isValue(this.$2$1)){return}var bN=[];for(var bO=0;bO<L.geographicSearchCandidateList.length;bO++){bN.push(L.geographicSearchCandidateList[bO])}this.$2$1(L.geographicSearchSearchString,bN)},sendGeographicSearchQuery:function(L,bN,bO){var bP=tsConfig.workbookLocale||'en_us';tab.PaneClientCommands.geographicSearchQuery(this.$2,L,bP,bN,bO)},collapseSearchWidget:function(){this.raiseActionEvent(this.$2$4)},setVisible:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$5,L)},enableUserInteraction:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$6,L)},restoreInitialTextInputValue:function(){this.raiseActionEvent(this.$2$7)},removeSuggestionList:function(){this.raiseActionEvent(this.$2$8)},blurInputElement:function(){this.raiseActionEvent(this.$2$9)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(X,a,{});ss.initEnum(Z,a,{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6});ss.initClass(ba,a,{setDefaultLabelLookupValues:function(){this.c.set('label_index',tab.VisualColumnIterator.create([-1]))},addLabelInfo:function(L,bN){this.labelColumnIterators=tab.VisualColumnHelpers.parseColumns(L,bN.startIndex,tab.SceneDataUtil.getNumPaneItems(bN));this.transformColumnData(this.labelColumnIterators);var bO=this.labelColumnIterators.get('tuple_id');var bP=[];if(ss.isValue(bO)){var bQ=new Array(this.markCount);for(var bR=0;bR<this.markCount;bR++){bQ[bR]=-1}for(var bS=0;bS<bO.length;bS++){var bT=this.tupleToIndexMap.get(bO.v[(bO.c?0:bS)]);if(ss.isValue(bT)){bQ[bT]=bS}bP.push(bT)}this.c.set('label_index',tab.VisualColumnIterator.create(bQ))}bO=this.c.get('tuple_id');var bU=new Map;var bV=new Array(this.markCount);this.$d(bP,ss.mkdel(this,function(ca,cb){var cc=ba.getMarkBoundingBox('label',ca,this,cb);bU.set(bO.v[(bO.c?0:ca)],cc);bV[ca]=cc}));var bW=this.$1(bV);this.markLabelWorldOffsets=bW.$1;this.markLabelInstanceOffsets=bW.$0;var bX;if(this.labelColumnIterators.has('pane_flags')){var bY=this.labelColumnIterators.get('pane_flags');bX=bY.v[(bY.c?0:0)]}else{bX=0}var bZ=bX;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(bZ,'clip-to-cell-x');this.parseTextInfo(L.textRunColumns,L.textStyleColumns,true);this.sceneInfo.$1(this,bU)},get_hasLabels:function(){return ss.isValue(this.labelColumnIterators)},get_hasSelection:function(){return this.sceneInfo.get_hasSelection()},get_hasBrushing:function(){return this.sceneInfo.get_hasBrushing()},get_lineDrawState:function(){if(this.$i===null){this.$i=new R(this)}return this.$i},get_hasBackground:function(){var L=this.c.has('pane_has_background');if(L){var bN=this.c.get('pane_has_background');L=bN.v[(bN.c?0:0)]===true}return L},get_hasHalos:function(){var L=this.c.has('has_halos');if(L){var bN=this.c.get('has_halos');L=bN.v[(bN.c?0:0)]===true}return L},get_hasHaloHighlightColor:function(){return this.c.has('highlighted_halo_color')&&this.c.get('highlighted_halo_color').isValid},get_borderColor:function(){var L;if(this.c.has('border_color')){var bN=this.c.get('border_color');L=bN.v[(bN.c?0:0)]}else{L=null}return L},get_textStyleColumns:function(){return this.textStyleColumnIterators},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.paneDescrKey},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$m},set_paneFlags:function(L){this.$m=L;this.$8()},getTextRunProperty:function(L,bN){if(ss.isNullOrUndefined(this.textRunColumnIterators)||!this.textRunColumnIterators.has(L)){return null}var bO=this.textRunColumnIterators.get(L);return bO.v[(bO.c?0:bN)]},markHasLabel:function(L){if(this.$j){if(!this.showLabels){return false}if(this.labelMode==='mlm-selection'&&this.getMarkState(L)!=='markStateSelected'){return false}if(this.labelMode==='mlm-highlight'&&this.getMarkState(L)!=='markStateHighlighted'){return false}}return this.c.get('label_index').gv(L)!==-1},getOneColorAlpha:function(L,bN,bO){var bP=null;this.$g=this.$g||new Map;if(!this.$g.has(L)){bP=tab.ColorModel.fromArgbInt(L);var bQ=tab.SceneDataUtil.createColorCollection(bP,this.foggedBackgroundColor,this.fogBlendFactor);this.$g.set(L,bQ)}var bR=this.$g.get(L);if(bN==='colorOverrideReplaceAlpha'){bP=bP||tab.ColorModel.fromArgbInt(L);return tab.ColorModel.fromColorModelPlusAlpha(bP,bO/255).toRgba()}return bR[bN]},$5:function(L,bN){var bO=this.c.get(bN).gv(L);if(this.$h.has(L)){var bP={};bP['colorOverrideFog']=bO['colorOverrideFog'];bP['colorOverrideNone']=bO['colorOverrideFog'];bP['colorOverrideOpaque']=bO['colorOverrideFog'];bO=bP}return bO},getMarkColors:function(L){var bN='color';if(this.forceOpaqueColors&&this.c.get('opaque_color').isValid){bN='opaque_color'}return this.$5(L,bN)},getBorderColors:function(L){return this.$5(L,'border_color')},getMarkGeometry:function(L){return this.sceneInfo.$7(this.pdMarksKey,L)},isMarkPropertyConstant:function(L){return this.c.get(L).c},computeDirtyMarks:function(L){this.$f=new Map;var bN=tab.RectXYUtil.completelyContains(L,this.paneRect);var bO=this.c.get('tuple_id');for(var bP=0;bP<this.markCount;bP++){var bQ=bO.v[(bO.c?0:bP)];if(!this.isTupleVisible(bQ)){continue}if(bN){this.$f.set(bP,true);continue}if(this.markType==='line'||this.markType==='area'){this.$f.set(bP,true)}else{var bR=this.$7(bQ);var bS=this.getMarkInstanceOffsets(bP);if(tab.RectXYUtil.intersectsWithAny$1(L,bR,bS)){this.$f.set(bP,true)}}}},clearDirtyMarks:function(){this.$f=null},markNeedsDraw:function(L){return ss.isValue(this.$f)&&this.$f.has(L)},markLabelNeedsDraw:function(L,bN){if(this.getMarkState(L)==='markStateInvisible'){return false}var bO=this.getMarkLabelBounds(L);var bP=this.getMarkLabelInstanceOffsets(L);return tab.RectXYUtil.intersectsWithAny$1(bN,bO,bP)},refreshMarkState:function(){this.$k=this.sceneInfo.computeTupleStates(this.c.get('tuple_id'));this.$h=this.sceneInfo.computeFilteredMarks(this.c.get('tuple_id'));this.$l=new Map;for(var L=0;L<this.markCount;L++){if(this.$3(L)){this.$l.set(L,true)}}if(this.$9()){this.$i=new R(this)}},getMarkState:function(L){if(ss.isValue(this.$k)&&this.$k.length>L){return this.$k[L]}return this.$2(L)},getMarkLabelState:function(L){if(this.$9()){var bN=this.get_lineDrawState().get_lineAttributes();for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];if(bP.startIndex<=L&&L<=bP.endIndex){switch(bP.get_lineState()){case'lineStateHighlighted':{return(this.$a(L)?'markStateHighlighted':this.getMarkState(L))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$a(L)){return this.getMarkState(L)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(L)},getMarkLabelProperty:function(L,bN){if(this.markType==='text'){return this.c.get(L).gv(bN)}var bO=this.c.get('label_index').gv(bN);if(bO===-1){return null}var bP=this.labelColumnIterators.get(L);return bP.v[(bP.c?0:bO)]},getAllMarkBounds:function(){var L=new Array(this.markCount);var bN=this.c.get('tuple_id');var bO=this.c.get('label_index');for(var bP=0;bP<this.markCount;bP++){var bQ=bN.v[(bN.c?0:bP)];var bR=this.sceneInfo.getMarkBoundingBox(bQ);var bS=((bO.v[(bO.c?0:bP)]===-1)?null:this.sceneInfo.$6(bQ));L[bP]={item1:bR,item2:bS}}return L},getMarkBounds:function(L){var bN=this.c.get('tuple_id');return this.$7(bN.v[(bN.c?0:L)])},getMarkIndexFromTupleId:function(L){return this.tupleToIndexMap.get(L)},containsTuple:function(L){return this.tupleToIndexMap.has(L)},getMarkLabelBounds:function(L){var bN=this.sceneInfo;var bO=this.c.get('tuple_id');return bN.$6(bO.v[(bO.c?0:L)])},getInsetPaneClipRect:function(L,bN){var bO=2*bN;var bP=this.getUserPaneRectByIndex(L);return{x:bP.x+bN,y:bP.y+bN,w:bP.w-bO,h:bP.h-bO}},getUserPaneRectByMark:function(L){if(this.hasUserPanes){return this.$e.$8(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(L){if(this.hasUserPanes){return this.$e.$7(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleId:function(L){if(this.hasUserPanes){return this.$e.$8(this.getMarkIndexFromTupleId(L))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneMarkCount:function(L){if(!this.hasUserPanes){return this.markCount}else{return this.$e.$5(L)}},getUserPaneMarkRange:function(L){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$e.$6(L)}},getUserPaneIndexByMark:function(L){if(!this.hasUserPanes){return 0}else{return this.$e.$4(L)}},initStaticProperties:function(){var L=this.c.has('draw_border');if(L){var bN=this.c.get('draw_border');L=bN.v[(bN.c?0:0)]}this.drawBorder=L;var bO=this.c.has('wrap_domain');if(bO){var bP=this.c.get('wrap_domain');bO=bP.v[(bP.c?0:0)]}this.isWrappedDomain=bO;var bQ;if(this.c.has('alpha')){var bR=this.c.get('alpha');bQ=bR.v[(bR.c?0:0)]}else{bQ=1}this.globalAlpha=bQ;var bS;if(this.c.has('line_interp')){var bT=this.c.get('line_interp');bS=bT.v[(bT.c?0:0)]}else{bS='lim-linear'}this.lineInterpolation=bS;var bU;if(this.c.has('line_mark_pos')){var bV=this.c.get('line_mark_pos');bU=bV.v[(bV.c?0:0)]}else{bU='lmp-left'}this.lineMarkerPosition=bU;var bW;if(this.c.has('min_bar_width')){var bX=this.c.get('min_bar_width');bW=bX.v[(bX.c?0:0)]}else{bW=0}this.minBarWidth=bW;var bY;if(this.c.has('min_bar_height')){var bZ=this.c.get('min_bar_height');bY=bZ.v[(bZ.c?0:0)]}else{bY=0}this.minBarHeight=bY},$c:function(L){if(!this.hasUserPanes){var bN=this.getUserPaneRectByIndex(0);var bO=this.markCount;for(var bP=0;bP<bO;++bP){L(bP,bN)}}else{this.$e.$9(L)}},$d:function(L,bN){if(!this.hasUserPanes){var bO=this.getUserPaneRectByIndex(0);for(var bP=0;bP<L.length;bP++){var bQ=L[bP];bN(bQ,bO)}}else{this.$e.$a(L,bN)}},getMarkInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markInstanceOffsets)){return ba.$c}return this.markInstanceOffsets[L]},getMarkLabelInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markLabelInstanceOffsets)){return ba.$c}return this.markLabelInstanceOffsets[L]},getWorldInstanceOffsets:function(L,bN){if(!this.isWrappedDomain){return ba.$c}var bO=Math.ceil((this.paneRect.x-bN)/this.worldWidth);var bP=Math.floor((this.paneRect.x+this.paneRect.w-L)/this.worldWidth);var bQ=bP-bO+1;var bR=new Array(bQ);var bS=bO*this.worldWidth;for(var bT=0;bT<bQ;bT++,bS+=this.worldWidth){bR[bT]=bS}return bR},getWorldOffsetBounds:function(L){var bN=[];var bO=this.getWorldInstanceOffsets(L.x,L.x+L.w);var bP=bO.length;for(var bQ=0;bQ<bP;bQ++){var bR=bO[bQ];if(bR!==0){var bS=tab.RectXYUtil.offsetRectXY(L,ss.Int32.trunc(bR)|0,0);bN.push(bS)}else{bN.push(L)}}return bN},isTupleSelected:function(L){return L!==0&&this.sceneInfo.$b(L)},isMarkSelected:function(L){var bN=this.c.get('tuple_id');return this.isTupleSelected(bN.v[(bN.c?0:L)])},isMarkImpliedSelected:function(L){var bN=this.c.get('tuple_id');var bO=bN.v[(bN.c?0:L)];return bO!==0&&this.sceneInfo.$a(bO)},isTupleHighlighted:function(L){return L!==0&&this.sceneInfo.$9(L)},isMarkHighlighted:function(L){var bN=this.c.get('tuple_id');var bO=bN.v[(bN.c?0:L)];return this.isTupleHighlighted(bO)},isTupleVisible:function(L){return L!==0&&this.sceneInfo.$c(L)},isLineSegmentVisible:function(L,bN){return this.getMarkState(L)!=='markStateInvisible'&&this.getMarkState(bN)!=='markStateInvisible'},isLineSegmentFiltered:function(L,bN){return this.$h.has(L)||this.$h.has(bN)},shouldStampThisShapeMark:function(L){if(this.$n){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(L>=this.markCount){return false}return this.shapeMarkStampingDecision[L]},isMarkEndPrimitive:function(L){var bN=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bN,'endprimitive')},isMarkDebug:function(L){var bN=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bN,'debug')},shouldShowMarker:function(L){if(ss.isNullOrUndefined(this.$l)){return this.$3(L)}return this.$l.has(L)},$6:function(L,bN,bO){var bP=null;if(bN>=0&&!this.hasConstantColor&&this.markType==='text'){bP=this.getMarkColors(bN)}else if(ss.isValue(this.textStyleColumnIterators)&&this.textStyleColumnIterators.has('text_style_color')){var bQ=this.textStyleColumnIterators.get('text_style_color');bP=bQ.v[(bQ.c?0:L)]}if(ss.isNullOrUndefined(bP)){return'black'}if(bN!==-1&&this.$h.has(bN)){bO='colorOverrideFog'}return bP[bO]},thisDomainToPixelX:function(L){return ba.domainToPixelX(L,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(L){return ba.domainToPixelY(L,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(L){return ba.domainToPixelWidth(L,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(L){return ba.domainToPixelHeight(L,this.domainExtents,this.paneRect)},$9:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$a:function(L){return this.getMarkLabelProperty('label_one_per_group',L)},$3:function(L){var bN=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bN,'marked')||tab.SceneDataUtil.isMarkFlagSet(bN,'markediflabel')&&this.markHasLabel(L)&&!this.$a(L)},setUserPaneInfo:function(L){if(ss.isNullOrUndefined(L)){return}if(this.markType==='text'){return}this.$e=new bB(L,this);this.userPaneCount=this.$e.$b;this.hasUserPanes=true},processColors:function(L){var bN=this.$b();if(ss.isNullOrUndefined(L)||!this.c.has('color_idx')){if(bN){this.$0()}return}var bO=tab.VisualColumnHelpers.buildColorTable(L,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var bP=null;if(bN){bP=tab.VisualColumnHelpers.buildOpaqueColorTable(bO)}var bQ=this.c.get('color_idx');var bR=bQ.length;var bS=new Array(bR);var bT=(bN?new Array(bR):null);for(var bU=0;bU<bR;bU++){var bV=bQ.v[(bQ.c?0:bU)];bS[bU]=bO[bV];if(bN){bT[bU]=bP[bV]}}this.c.set('color',tab.VisualColumnIterator.create(bS));if(bN){this.c.set('opaque_color',tab.VisualColumnIterator.create(bT))}this.c.delete('color_idx')},$0:function(){var L=this.c.get('color');if(ss.isValue(L)){var bN=new Array(L.length);for(var bO=0;bO<L.length;++bO){bN[bO]=tab.SceneDataUtil.createOpaqueColorCollection(L.v[(L.c?0:bO)])}this.c.set('opaque_color',tab.VisualColumnIterator.create(bN))}},buildTupleLookup:function(){this.tupleToIndexMap.clear();var L=this.c.get('tuple_id');if(!ss.isNullOrUndefined(L)){var bN=L.length;for(var bO=0;bO<bN;bO++){this.tupleToIndexMap.set(L.v[(L.c?0:bO)],bO)}}},$7:function(L){return this.sceneInfo.getMarkBoundingBox(L)},$b:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(L){var bN=tab.VisualColumnHelpers.transformColumn(L.get('alpha'),function(cd){return cd/255});for(var bO=0;bO<ba.$2.length;bO++){var bP=ba.$2[bO];var bQ={$:bN&&(bP==='color'&&!tab.FeatureFlags.isEnabled('RuntimeWebRenderFromFinalDatastore')||bP==='text_style_color')};var bR;if(bQ.$){var bS=L.get('alpha');bR=bS.v[(bS.c?0:0)]}else{bR=1}var bT={$:bR};tab.VisualColumnHelpers.transformColumn(L.get(bP),ss.mkdel({useAlpha:bQ,colorAlpha:bT,$this:this},function(cd){var ce=tab.ColorModel.fromArgbInt(cd);if(this.useAlpha.$){ce=new tab.ColorModel(ce.get_r(),ce.get_g(),ce.get_b(),this.colorAlpha.$*ce.get_a())}return tab.SceneDataUtil.createColorCollection(ce,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(L.get('shape_id'),function(cd){return tab.SceneDataUtil.shapeMapping[cd]||cd});tab.VisualColumnHelpers.transformColumn(L.get('line_interp'),function(cd){return tab.SceneDataUtil.lineInterpolationMapping[cd]||cd});tab.VisualColumnHelpers.transformColumn(L.get('line_mark_pos'),function(cd){return tab.SceneDataUtil.lineMarkerPositionMapping[cd]||cd});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){ba.$b.forEach(ss.mkdel(this,function(cd,ce){var cf;var cg;var ch=ce+'_int';if(ss.contains(ba.$5,ce)){var ci=100*Math.max(1,this.paneRect.w);cf=this.domainExtents.w/ci;cg=this.domainExtents.x}else if(ss.contains(ba.$6,ce)){var cj=100*Math.max(1,this.paneRect.h);cf=this.domainExtents.h/cj;cg=this.domainExtents.y}else{cf=(ba.$b.get(ce).y-ba.$b.get(ce).x)/32767;cg=ba.$b.get(ce).x}var ck=tab.VisualColumnHelpers.transformColumn(L.get(ch),function(cl){return(ss.isValue(cl)?(cl*cf+cg):null)});if(ck){L.set(ce,L.get(ch));L.delete(ch)}}));var bU={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};for(var bV=0;bV<ba.$5.length;bV++){var bW=ba.$5[bV];tab.VisualColumnHelpers.transformColumn(L.get(bW),ss.mkdel(this,function(cd){return ba.domainToPixelX(cd,this.domainExtents,bU)}))}for(var bX=0;bX<ba.$4.length;bX++){var bY=ba.$4[bX];tab.VisualColumnHelpers.transformColumn(L.get(bY),ss.mkdel(this,function(cd){return ba.domainToPixelWidth(cd,this.domainExtents,this.paneRect)}))}for(var bZ=0;bZ<ba.$6.length;bZ++){var ca=ba.$6[bZ];tab.VisualColumnHelpers.transformColumn(L.get(ca),ss.mkdel(this,function(cd){return ba.domainToPixelY(cd,this.domainExtents,bU)}))}for(var cb=0;cb<ba.$3.length;cb++){var cc=ba.$3[cb];tab.VisualColumnHelpers.transformColumn(L.get(cc),ss.mkdel(this,function(cd){return ba.domainToPixelHeight(cd,this.domainExtents,this.paneRect)}))}}},$4:function(L,bN){var bO=new Map;if(ss.keyExists(L,'font')){var bP=L['font'];var bQ=bP.dataValues.length;var bR=new Array(bQ);for(var bS=0;bS<bQ;++bS){bR[bS]=ba.$0(L,bS)}bO.set('font',tab.VisualColumnIterator.create(bR));var bT=_.keys(L);for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];if(!ss.contains(ba.$7,bV)){var bW=L[bV];bO.set(bV,tab.VisualColumnHelpers.createDataArray(bW,0,bW.dataValues.length))}}if(bN){var bX=this.c.get('alpha').gv(0);if(ss.isValue(bX)){bO.set('alpha',tab.VisualColumnIterator.create([bX*255]))}}this.transformColumnData(bO);tab.VisualColumnHelpers.transformColumn(bO.get('text_orientation'),function(bY){return ba.$d.get(bY)});tab.VisualColumnHelpers.transformColumn(bO.get('text_alignment'),function(bY){var bZ='start';var ca=bY;if(ca===2){bZ='end'}return bZ})}return bO},prepareLeftRight:function(){var L=new Array(this.markCount);var bN=new Array(this.markCount);for(var bO=0;bO<this.markCount;++bO){L[bO]=-1;bN[bO]=-1}var bP=0;var bQ=this.c.get('mark_flags');for(var bR=0;bR<this.markCount;bR++){var bS=bQ.v[(bQ.c?0:bR)];if(!tab.SceneDataUtil.isMarkFlagSet(bS,'end')){bN[bR]=bR+1;L[bR+1]=bR}if(tab.SceneDataUtil.isMarkFlagSet(bS,'closedprimitive')){bN[bR]=bP;L[bP]=bR}if(tab.SceneDataUtil.isMarkFlagSet(bS,'endprimitive')){bP=bR+1}}this.c.set('l_neighbor',tab.VisualColumnIterator.create(L));this.c.set('r_neighbor',tab.VisualColumnIterator.create(bN))},setupBoundingBoxes:function(){var L=this.c.get('tuple_id');var bN=new Map;var bO=new Array(this.markCount);this.$c(ss.mkdel(this,function(bY,bZ){var ca=ba.getMarkBoundingBox(this.markType,bY,this,bZ);bN.set(L.v[(L.c?0:bY)],ca);bO[bY]=ca}));if(this.markType==='pie'){var bP=new R(this);var bQ=bP.get_lineAttributes();for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=[];var bU=L.v[(L.c?0:bS.startIndex)];bT.push(bU);var bV=tab.RectXYUtil.clone(bN.get(bU));for(var bW=bS.startIndex+1;bW<=bS.endIndex;++bW){bU=L.v[(L.c?0:bW)];bT.push(bU);tab.RectXYUtil.unionInPlace(bV,bN.get(bU))}this.sceneInfo.$0(this,bV,bT)}}var bX=this.$1(bO);this.markWorldOffsets=bX.$1;this.markInstanceOffsets=bX.$0;this.sceneInfo.$2(this,bN)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var L=[];var bN=[];var bO=this.c.get('shape_id');var bP=this.c.get('x');var bQ=this.c.get('y');var bR=this.c.get('size');for(var bS=0;bS<this.markCount;++bS){if(tab.SceneDataUtil.isCustomShape(bO.v[(bO.c?0:bS)])){var bT=bR.v[(bR.c?0:bS)]/2;L[bS]=Math.round(bP.v[(bP.c?0:bS)]-bT);bN[bS]=Math.round(bQ.v[(bQ.c?0:bS)]-bT)}}if(L.length>0){this.c.set('left',tab.VisualColumnIterator.create(L));this.c.set('top',tab.VisualColumnIterator.create(bN))}}},setupShapeMarkStampingMap:function(){if(this.markCount<ba.shapeMarkStampingRatio){return}if(tab.BrowserSupport.get_isIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}}var L=this.isMarkPropertyConstant('color');var bN=this.isMarkPropertyConstant('size');var bO=this.isMarkPropertyConstant('shape_id');if(bO){var bP=this.c.get('shape_id').gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(bP)){return}if(L&&bN){this.$n=true;return}}var bQ=this.c.get('size');var bR=this.c.get('shape_id');var bS={};var bT=new Array(this.markCount);for(var bU=0;bU<this.markCount;bU++){bT[bU]=false;var bV=[];if(!bN){bV.push(bQ.v[(bQ.c?0:bU)])}if(!bO){var bW=bR.v[(bR.c?0:bU)];if(!tab.SceneDataUtil.isSupportedStampShape(bW)){continue}bV.push(bW)}if(!L){var bX=this.getMarkColors(bU);bV.push(bX['colorOverrideNone'])}var bY=bV.toString();if(!ss.keyExists(bS,bY)){bS[bY]=[]}bS[bY].push(bU)}var bZ=false;var ca=0;var cb=_.keys(bS);for(var cc=0;cc<cb.length;cc++){var cd=cb[cc];var ce=bS[cd];if(ce.length>=ba.shapeMarkStampingRatio){for(var cf=0;cf<ce.length;cf++){var cg=ce[cf];bT[cg]=true;ca++}bZ=true}}if(ca===this.markCount){this.$n=true;this.shapeMarkStampingDecision=null}else if(bZ){this.shapeMarkStampingDecision=bT}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(L,bN,bO){if(ss.isValue(L)){this.textRunColumnIterators=new Map;var bP=_.keys(L);for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];var bS=L[bR];this.textRunColumnIterators.set(bR,tab.VisualColumnHelpers.createDataArray(bS,0,bS.dataValues.length))}this.transformColumnData(this.textRunColumnIterators)}if(ss.isValue(bN)){this.textStyleColumnIterators=this.$4(bN,!bO)}},$1:function(L){var bN=new Map;var bO=null;if(!this.isWrappedDomain){bN.set(0,new Set);return new d(bN,bO)}var bP=L.length;bO=new Array(bP);for(var bQ=0;bQ<bP;bQ++){var bR=L[bQ];if(ss.isNullOrUndefined(bR)){continue}bO[bQ]=this.getWorldInstanceOffsets(bR.x+this.paneRect.x,bR.x+bR.w+this.paneRect.x);var bS=bO[bQ];for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];if(!bN.has(bU)){bN.set(bU,new Set);for(var bV=0;bV<this.markCount;bV++){bN.get(bU).add(bV)}}bN.get(bU).delete(bQ)}}var bW=new d(bN,bO);return bW},$8:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$m,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$m,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$m,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$m,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$m,'has-cells-y')},$2:function(L){var bN=this.c.get('tuple_id');var bO=[bN.v[(bN.c?0:L)]];var bP=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(bO));return bP[0]}});ba.$ctor1.prototype=ba.prototype;ss.initClass(bb,a,{drawReferenceLineAndTrendLineGroup:function(L,bN,bO,bP,bQ){var bR=false;var bS=null;var bT=null;var bU=null;for(var bV=0;bV<L.length;bV++){var bW=L[bV];var bX=bW.type==='draw-fill-rect'||bW.type==='draw-text';var bY=bN==='hover'||bN==='selected';var bZ=true;if(bX&&bY){var ca=tab.ColorModel.fromColorCode(bO.get_shapeFillStyle());if(ca.get_a()<1){if(bN==='hover'){continue}bZ=false}}var cb=bW.type==='draw-pen'||bW.type==='draw-solid-brush'||bW.type==='draw-text-props';if(bP||cb){if((cb||!bZ)&&bR){bO.set_strokeStyle(bS.toString());bO.set_shapeFillStyle(bT.toString());bO.set_textFillStyle(bU.toString());bR=false}if((ss.isValue(bQ)||bN!=='normal')&&!bR&&!cb&&bZ){bS=tab.ColorModel.fromColorCode(bO.get_strokeStyle());bT=tab.ColorModel.fromColorCode(bO.get_shapeFillStyle());bU=tab.ColorModel.fromColorCode(bO.get_textFillStyle());var cc=bb.$0(bS,bN,bW.type,bQ);var cd=bb.$0(bT,bN,bW.type,bQ);var ce=bb.$0(bU,bN,bW.type,bQ);bR=!ss.referenceEquals(cc,bS.toString())||!ss.referenceEquals(cd,bT.toString())||!ss.referenceEquals(ce,bU.toString());if(bR){bO.set_strokeStyle(cc);bO.set_shapeFillStyle(cd);bO.set_textFillStyle(ce)}}this.renderVisualParts(bO,bW)}}if(bR){bO.set_strokeStyle(bS.toString());bO.set_shapeFillStyle(bT.toString());bO.set_textFillStyle(bU.toString())}},renderScene:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$s=L.get_scene();var bN=this.$s.scene;if(!ss.isValue(bN)){return}this.$p.setRenderOffsetNoTranslate(this.get_renderOffset());var bO=this.get_currentContext().get_numberSavedStates();var bP=L.get_mapServerModel().get_useFastMaps();if(!bP){this.$o(L.get_vizRegionMap(),L.get_drawFirstParts())}var bQ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var bR=3;bQ=tab.RectXYUtil.outsetRect(bQ,bR,bR);this.$s.prepareForDraw(bQ);this.$k(bN.panes,bP);this.$s.cleanupFromDraw();this.$o(L.get_vizRegionMap(),L.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>bO){this.get_currentContext().restore()}},renderViewportBorders:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$s=L.get_scene();var bN=this.$s.scene;if(ss.isNullOrUndefined(bN)){return}var bO=this.$a(bN.panes);if(ss.isNullOrUndefined(bO)){return}var bP=[];var bQ=this.get_currentCanvas().width-1;var bR=this.get_currentCanvas().height-1;var bS={x:0,y:0};var bT={x:bQ,y:0};var bU={x:0,y:bR};var bV={x:bQ,y:bR};var bW=false;var bX=false;for(var bY=0;bY<bO.drawItems.length;bY++){var bZ=bO.drawItems[bY];if(bZ.type==='clip-rect'||bZ.type==='transform'){continue}if(bZ.type==='draw-polyline'){var ca=tab.MiscUtil.cloneObject(bZ);if(ca.points[1]===ca.points[3]){if(bW){bb.$1(ca.points,bU,bV)}else{bb.$1(ca.points,bS,bT)}bW=true}else{if(bX){bb.$1(ca.points,bT,bV)}else{bb.$1(ca.points,bS,bU)}bX=true}bP.push(ca)}else{bP.push(bZ)}}this.get_currentContext().save();this.$e(bP,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(L,bN,bO){var bP=L.get_vizRegionMap()['axis-rules'];if(ss.isValue(bP)){var bQ=function(bY,bZ){var ca={type:'draw-polyline',points:new Array(4)};bb.$1(ca.points,bY,bZ);return ca};var bR=tab.RenderUtil.calculatePixelRatio();var bS=this.get_currentCanvas().height-1;var bT=[];var bU=bP.get_visualListPM().drawItems;for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];if(bW.type==='draw-pen'){bT.push(bW)}else if(bW.type==='draw-polyline'){var bX=bW;if(bX.points[0]===bX.points[2]){bT.push(bQ({x:0,y:-bO.y},{x:0,y:Math.round(bR*bN.h)-bO.y}))}else if(bX.points[1]===bX.points[3]){bT.push(bQ({x:-bO.x,y:bS},{x:Math.round(bR*bN.w)-bO.x,y:bS}))}}}this.get_currentContext().save();this.$e(bT,null,'axis-rules');this.get_currentContext().restore()}},$a:function(L){for(var bN=0;bN<L.length;bN++){var bO=L[bN];for(var bP=0;bP<bO.drawPane.length;bP++){var bQ=bO.drawPane[bP];if(bQ.visualPart==='pane-borders'){return bQ}}}return null},$o:function(L,bN){if(!ss.isValue(L)){return}for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];var bQ=L[bP];if(!ss.contains(bg.blackListVisualParts,bP)&&bP!=='axis-rules'){if(ss.isValue(bQ)){this.get_currentContext().save();var bR=this.$s.get_imageDictionary();this.$p.renderVisualListHelper(bQ,bR);this.get_currentContext().restore()}}}},$m:function(L,bN){if(!ss.isValue(L)){return}this.get_currentContext().save();this.$e(L.drawItems,bN,L.visualPart);this.get_currentContext().restore()},$f:function(L){for(var bN=0;bN<L.length;bN++){var bO=L[bN];if(!this.$c(bO)){continue}this.$q.renderGridLines(this.$r,this.$b(bO))}},$k:function(L,bN){if(!ss.isValue(L)){return}if(!bN){this.$n(L,'background')}this.$h(L);this.$n(L,'foreground')},$n:function(L,bN){for(var bO=0;bO<L.length;bO++){var bP=L[bO];if(!this.$c(bP)){continue}for(var bQ=0;bQ<bP.drawPane.length;bQ++){var bR=bP.drawPane[bQ];if(bN===this.$9(bR.visualPart)){this.$m(bR,this.$b(bP))}}}},$b:function(L){var bN=_.find(L.drawPane,function(bO){return bO.visualPart==='marks'});if(ss.isValue(bN)){return this.$s.getPaneDrawInfo(bN.paneMarks)}return null},$h:function(L){var bN=[];var bO=[];for(var bP=0;bP<L.length;bP++){var bQ=L[bP];if(this.$c(bQ)){bN.push(bQ);var bR=null;for(var bS=0;bS<bQ.drawPane.length;bS++){var bT=bQ.drawPane[bS];if(bT.visualPart==='marks'){bR=this.$s.getPaneDrawInfo(bT.paneMarks);break}}bO.push(bR)}}for(var bU=0;bU<bb.$5.length;bU++){var bV=bb.$5[bU];for(var bW=0;bW<bb.$4.length;bW++){var bX=bb.$4[bW];var bY=0;for(var bZ=0;bZ<bN.length;bZ++){var ca=bN[bZ];var cb=bO[bY];bY++;if(ss.isNullOrUndefined(cb)){continue}if(bX==='marks'||bX==='label'){for(var cc=0;cc<ca.drawPane.length;cc++){var cd=ca.drawPane[cc];if(cd.visualPart==='marks'){if(bX==='marks'){this.$j(cb,bV);break}else if(bX==='label'){if(cb.get_hasLabels()){this.$i(cb,bV);break}}}}}else{for(var ce=0;ce<ca.renderNodes.length;ce++){var cf=ca.renderNodes[ce];switch(cf.type){case'prediction-band':{var cg=new Y(this.get_currentCanvas(),this.get_currentContext());cg.setRenderOffsetNoTranslate(this.get_renderOffset());cg.renderPredictionBand(cb,bV,cf,bX);break}case'prediction-whisker':{var ch=new Y(this.get_currentCanvas(),this.get_currentContext());ch.setRenderOffsetNoTranslate(this.get_renderOffset());ch.renderPredictionWhisker(cb,bV,cf,bX);break}}}}}}}},$e:function(L,bN,bO){if(!ss.isValue(L)){return}var bP=this.$s.get_imageDictionary();if(bO!=='ref-lines'&&bO!=='ref-bands'&&bO!=='trend-lines'){var bQ=null;if(bO==='decoration'){if(ss.isValue(bN)){bQ=bN.mapExtents}}this.$p.renderDrawItems(L,null,bP,bQ)}else{var bR=this.$s.selections.refLineSelection;var bS=!bR.isEmpty;var bT=this.$s.selections.trendLineSelection;var bU=!bT.isEmpty;var bV=this.$s.brushings.trendLineSelection;var bW=null;for(var bX=0;bX<L.length;bX++){var bY=L[bX];if(bY.type==='draw-group'){var bZ=bY;var ca=false;var cb=false;switch(bO){case'ref-lines':{ca=bR.isObjectSelected(bZ.objectId);cb=!ca&&(bS||bU);break}case'ref-bands':{cb=(bS||bU)&&!bR.isObjectSelected(bZ.objectId);break}case'trend-lines':{if(bZ.objectId>2147483647){if(!bV.isEmpty){continue}ca=false;cb=false}else{ca=bT.isObjectSelected(bZ.objectId);cb=!ca&&!bV.isObjectSelected(bZ.objectId)&&(this.$s.get_hasBrushing()||this.$s.get_hasSelection())}break}}var cc=(ca?'selected':'normal');if(cb&&ss.isNullOrUndefined(bW)){if(ss.isValue(bN)&&ss.isValue(bN.fogBlendFactor)&&ss.isValue(bN.foggedBackgroundColor)){bW={item1:bN.fogBlendFactor,item2:bN.foggedBackgroundColor}}else{var cd=tab.ColorModel.fromColorCode('rgba(255,255,255,255)');var ce=tab.SceneDataUtil.getFogBlendFactor(cd);var cf=tab.SceneDataUtil.applyFogToBackgroundColor(cd,ce);bW={item1:ce,item2:cf}}}this.drawReferenceLineAndTrendLineGroup(bZ.drawItems,cc,this.get_currentContext(),true,(cb?bW:null))}else{this.renderVisualParts(this.get_currentContext(),bY)}}}},renderVisualParts:function(L,bN){this.$p.renderDrawItemDefaultOptions(L,bN)},$c:function(L){return this.isRectVisible(tab.RecordCast.rectPresModelAsRectXY(L.paneRect))},$l:function(L,bN,bO,bP,bQ,bR){this.get_currentContext().save();if(!L.skipClipping){this.get_currentContext().setClip(bR)}this.get_currentContext().translate(L.paneRect.x,L.paneRect.y);bQ(L,bN,bO,bP);this.get_currentContext().restore()},$d:function(L,bN,bO){if(L.markCount===0){return}var bP=new Y(this.get_currentCanvas(),this.get_currentContext());bP.setRenderOffsetNoTranslate(this.get_renderOffset());if(!L.hasUserPanes){this.$l(L,0,bP,bN,bO,L.get_mapExtentOrPaneRect());return}var bQ=L.userPaneCount;var bR=L.paneRect.x;var bS=L.paneRect.y;for(var bT=0;bT<bQ;++bT){var bU=L.getUserPaneRectByIndex(bT);bU=tab.RectXYUtil.offsetRectXY(bU,bR,bS);var bV=L.getUserPaneMarkCount(bT);if(bV>0&&this.isRectVisible(bU)){this.$l(L,bT,bP,bN,bO,bU)}}},$j:function(L,bN){this.$d(L,bN,ss.mkdel(this,this.$g))},$i:function(L,bN){this.$d(L,bN,function(bO,bP,bQ,bR){bQ.renderMarkLabels(bO,bP,bR)})},$g:function(L,bN,bO,bP){var bQ=L.markType;switch(bQ){case'shape':{{bO.renderShapeMark(L,bN,bP)}break}case'square':case'bar':{{bO.renderBarMark(L,bN,bP)}break}case'pie':{{bO.renderPieMark(L,bN,bP)}break}case'line':{{bO.renderLineMark(L,bN,bP)}break}case'area':{{bO.renderAreaMark(L,bN,bP)}break}case'text':{{bO.renderTextMarks(L,bN,bP)}break}case'multipolygon':{{bO.renderMultipolygonMark(L,bN,bP)}break}default:{break}}},$9:function(L){switch(L){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'}},tab.CanvasRenderer);ss.initClass(bc,a,{get_paneTableVM:function(){return this.get_viewModel()},get_paneTableRenderer:function(){return this.renderer},get_isContentOpaque:function(){return!this.get_paneTableVM().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},performRender:function(){var L={};L['viz']=this.get_paneTableVM().get_sheetId();{var bN=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),4,L);try{this.renderer.clear();this.get_paneTableRenderer().renderScene(this.get_paneTableVM())}finally{if(ss.isValue(bN)){bN.dispose()}}}},onViewModelPropertyChanged:function(L,bN){if(bN.get_propertyName()==='borderHighlight'){return}var bO=this.get_paneTableVM().getAndClearInvalidationRects();if(bO.length===0){this.invalidate(false)}else{var bP=tab.RectXYUtil.unionAll(bO);var bQ=3;tab.RectXYUtil.outsetRectInPlace(bP,bQ,bQ);tab.RectXYUtil.offsetRectXYInPlace(bP,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(bP,false)}},postRenderFinalPass:function(){this.get_paneTableRenderer().renderViewportBorders(this.get_paneTableVM());this.get_paneTableRenderer().renderAxisRulers(this.get_paneTableVM(),this.get_docSize(),this.get_scrollPos())}},ss.makeGenericType(bG,[bg]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bg]),spiff.IScrollable,M]);ss.initClass(bd,a,{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$O},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$u();this.$v();this.$t();this.$o();this.$S=false},hoverOverWhitespace:function(){this.$L=false},setScrollPosition:function(L){this.set_scrollPos(L);this.$I=[];this.invalidate(true)},setDragOverlayTuples:function(L){this.$u();this.$v();this.$o();if(this.$S){return}this.$P=L;var bN=bd.$0(this.$J,L);var bO=bN.length;if(bO>0){var bP=this.get_paneTableVM().get_scene();var bQ=[];for(var bR=0;bR<bO;bR++){var bS=bN[bR];var bT=this.$w(bS,bP);bQ.push(bT)}var bU=this.$T.get_shapeSelector();this.$R=bU.retrieveStateObject(this.$R);var bV=bU.getStateDiff(this.$R);var bW=bV.length;var bX=new Set;var bY=new Array(bW);for(var bZ=0;bZ<bW;bZ++){var ca=bV[bZ];var cb={x:0,y:0,w:0,h:0};for(var cc=0;cc<bO;cc++){if(bX.has(cc)){continue}var cd=bQ[cc];if(tab.RectXYUtil.intersectsWithAny(ca,cd)){cb=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(cd),cb);bX.add(cc)}}bY[bZ]=(tab.RectXYUtil.isEmpty(cb)?cb:tab.RectXYUtil.outsetRect(cb,3,3))}bY=tab.RectXYUtil.reduceRectangles(bY);this.$I=bY;if(bd.$1){this.invalidate(false)}var ce=tab.RectXYUtil.unionAll(bY);ce=tab.RectXYUtil.offsetRect(ce,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(ce,true)}else{this.$I=[];this.clearDirty();this.$P=null}},setHoverOverlayTarget:function(L,bN){this.$O='hover';if(!this.$M.$1(L,bN)){this.$L=false}if(this.$M.$2(L,bN)||ss.isValue(this.$J)&&this.$J.length>0){return false}this.$p();var bO=this.$x(L,bN);this.$y(bO);this.$M.$3(L,bN,bO);this.$D();return true},setPressedOverlayTarget:function(L,bN){this.$L=true;this.$O='press';if(this.$Q.$2(L,bN)){return false}this.$p();var bO=this.$x(L,bN);this.$y(bO);this.$Q.$3(L,bN,bO);this.$D();return true},$C:function(L,bN){if(bN.get_propertyName()==='scene'||bN.get_propertyName()==='vizdata'){this.$H()}},performRender:function(){var L=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$I.length>0||ss.isValue(this.$J)&&this.$J.length>0){this.$E()}else{this.renderer.clear();var bN=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$M.$4()){if(this.$M.$8==='mark'){var bO=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$M.$5());if(!ss.isNullOrUndefined(bO)){this.$q(this.$M.$5(),bO,bN);bb.renderHoverOverlay(this.$M.$5(),bO,this.context)}}else{this.$G(this.$M)}}else if(this.$Q.$4()){if(this.$Q.$8==='mark'){var bP=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$Q.$5());if(!ss.isNullOrUndefined(bP)){this.$q(this.$Q.$5(),bP,bN);bb.renderPressedOverlay(this.$Q.$5(),bP,this.context)}}else{this.$G(this.$Q)}}}}L.dispose()},$s:function(L,bN,bO){var bP=tab.RectXYUtil.offsetRectXY(L,bN.paneRect.x,bN.paneRect.y);var bQ=bN.mapExtents;if(ss.isValue(bQ)){tab.RectXYUtil.intersectInPlace(bP,bQ)}tab.RectXYUtil.intersectInPlace(bP,bO);this.context.setClip(bP);this.context.translate(bN.paneRect.x,bN.paneRect.y)},$q:function(L,bN,bO){var bP=bN.getUserPaneRectByTupleId(L);this.$s(bP,bN,bO)},$r:function(L,bN,bO){var bP=bN.getUserPaneRectByIndex(L);this.$s(bP,bN,bO)},$E:function(){var L=75;var bN=(new Date).getTime();if(ss.isNullOrUndefined(this.$P)){this.$P=this.$J}if(this.$I.length===0){var bO={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$I.push(bO)}if(this.$P.length===0){this.renderer.clear();return}if(bd.$1){this.renderer.clear()}var bP={};var bQ={};var bR={};var bS=this.get_paneTableVM().get_scene();for(var bT=0;bT<this.$P.length;bT++){var bU=this.$P[bT];var bV=bS.getPaneDrawInfoFromTupleId(bU);var bW=bV.paneDrawInfoKey;bP[bW]=ss.coalesce(bP[bW],new Set);bP[bW].add(bU);bQ[bW]=bV;var bX=bS.getMarkBoundingBox(bU);var bY=bV.getWorldOffsetBounds(bX);bR[bU]=bY}var bZ=0;var ca=this.$I.length;for(var cb=0;cb<ca;cb++){var cc=this.$I[cb];this.context.clearRect(cc.x,cc.y,cc.w,cc.h);if(bd.$1){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(cc.x,cc.y,cc.w,cc.h)}var cd=new ss.ObjectEnumerator(bP);try{while(cd.moveNext()){var ce=cd.current();var cf=bQ[ce.key];var cg=tab.RectXYUtil.intersect(cc,cf.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(cg)){continue}var ch=false;var ci=cf.hasUserPanes;var cj=-1;var ck=false;var cl=tab.SetUtilities.getValues(ss.Int32).call(null,ce.value);for(var cm=0;cm<cl.length;cm++){var cn=cl[cm];if(bZ>=L){if((new Date).getTime()-bN>145){ck=true;break}bZ=0}++bZ;if(!tab.RectXYUtil.intersectsWithAny(cg,bR[cn])){continue}var co=0;if(ci){co=cf.getUserPaneIndexByMark(cf.getMarkIndexFromTupleId(cn));if(co!==cj){if(ch){this.context.restore();ch=false}cj=co}}if(!ch){this.context.save();this.$r(co,cf,cc);ch=true}bb.renderHoverOverlay(cn,cf,this.context)}if(ch){this.context.restore()}if(ck){this.$S=true;this.renderer.clear();return}}}finally{cd.dispose()}}},$G:function(L){var bN=[];if(L.$7()==='hover'&&tsConfig.is_authoring){switch(L.$8){case'ref-line':{bN=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{bN=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];var bQ=[];ss.arrayAddRange(bQ,bP.drawItems);this.$F(bQ,L)}},$F:function(L,bN){var bO=bN.$7();var bP=bN.$5();this.context.save();var bQ=this.renderer;var bR=ss.getEnumerator(L);try{while(bR.moveNext()){var bS=bR.current();if(bS.type==='draw-group'){var bT=bS;var bU=true;if(this.$L){switch(bN.$8){case'ref-line':{bU=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(bT.objectId);break}case'trend-line':{bU=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(bT.objectId);break}}}if(bU){bQ.drawReferenceLineAndTrendLineGroup(bT.drawItems,bO,this.context,bP===bT.objectId,null)}}else{bQ.renderVisualParts(this.context,bS)}}}finally{bR.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$J=this.$P;this.$P=null;this.$T.get_shapeSelector().updateLastState(this.$R);this.$I=[];if(this.$S){this.$t()}},$D:function(){if(this.$K||tab.MiscUtil.isNullOrEmpty$1(this.$N)){this.$K=false;this.invalidate(true)}else{var L=tab.RectXYUtil.unionAll(this.$N);ss.clear(this.$N);var bN={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};L=tab.RectXYUtil.offsetRect(L,bN);L=tab.RectXYUtil.outsetRect(L,3,3);this.invalidateRect(L,true)}},$o:function(){if(this.$K||!tab.MiscUtil.isNullOrEmpty$1(this.$N)){this.$D()}},$H:function(){if(!this.$z(this.$M)){this.$M.$0()}if(!this.$z(this.$Q)){this.$Q.$0()}if(ss.isValue(this.$J)){var L=new Set;for(var bN=0;bN<this.$J.length;bN++){var bO=this.$J[bN];if(this.$A(bO)){L.add(bO)}}this.$J=tab.SetUtilities.getValues(ss.Int32).call(null,L)}},$z:function(L){if(!L.$4()){return false}switch(L.$8){case'mark':{return this.$A(L.$5())}case'ref-line':{return this.$B(this.get_paneTableVM().get_refLineVisualLists(),L.$5())}case'trend-line':{return this.$B(this.get_paneTableVM().get_trendLineVisualLists(),L.$5())}case'unspecified':default:{return false}}},$A:function(L){var bN=this.get_paneTableVM().get_visualModel().get_vizDataModel();var bO=this.get_paneTableVM().get_scene();return ss.isValue(bN)&&bN.hasTupleId(L)&&!bO.isMarkFiltered(L)},$B:function(L,bN){for(var bO=0;bO<L.length;bO++){var bP=L[bO];var bQ=bP.drawItems;for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];if(bS.objectId===bN){return true}}}return false},$p:function(){this.$u();this.$v();this.$t()},$x:function(L,bN){if(bN==='mark'){return this.$w(L)}else{return null}},$y:function(L){if(ss.isNullOrUndefined(L)){this.$K=true;ss.clear(this.$N);return}for(var bN=0;bN<L.length;bN++){var bO=L[bN];this.$N.push(bO)}},$w:function(L,bN){bN=bN||this.get_paneTableVM().get_scene();var bO=bN.getMarkBoundingBox(L);var bP=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L);var bQ=bP.getWorldOffsetBounds(bO);return bQ},$u:function(){if(this.$M.$4()){this.$y(this.$M.$6());this.$M.$0()}},$v:function(){if(this.$Q.$4()){this.$y(this.$M.$6());this.$Q.$0()}},$t:function(){if(ss.isValue(this.$J)){var L=this.get_paneTableVM().get_scene();for(var bN=0;bN<this.$J.length;bN++){var bO=this.$J[bN];ss.arrayAddRange(this.$N,this.$w(bO,L))}this.$J=null}this.$P=null;this.$I=[];this.$R=null}},ss.makeGenericType(bG,[bg]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bg]),spiff.IScrollable,M]);ss.initClass(be,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bf,a,{get_zoomToolbarContainerDiv:function(){return this.dom.view.get(0)},get_isMapSearchEnabled:function(){return this.get_paneTableVM().get_mapSearchEnabled()},get_shouldEnableZoomHomeToolbar:function(){return this.get_paneTableVM().shouldEnableZoomHomeToolbar()},get_vizHitTester:function(){return this.$3$1},set_vizHitTester:function(L){this.$3$1=L},get_sortIndicators:function(){return this.get_paneTableVM().get_sortIndicators()},get_tableViewPosition:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableVM().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.geometry)?this.geometry.pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.geometry)?this.geometry.pi.yHeights.length:0)},get_scrollPosition:function(){return this.$Z},set_scrollPosition:function(L){this.$Z=L;this.$t(this.$Z);this.$E()},get_controller:function(){var L=this.get_paneTableVM();var bN=L.get_viewController();return bN},get_visualId:function(){return this.get_paneTableVM().get_visualId()},get_isSameVisualID:function(){return ss.referenceEquals(this.get_visualId(),this.vizTooltip.get_visualIDPresModel())},get_paneTableVM:function(){return this.get_viewModel()},get_vizToolTip:function(){this.$e();return this.vizTooltip},get_tooltipMode:function(){return this.get_paneTableVM().get_visualModel().get_tooltipMode()},get_mapToolSelectionMode:function(){return this.get_paneTableVM().get_visualModel().get_defaultMapTool()},get_isTooltipAllowed:function(){return ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip},get_vizRegion:function(){return this.regions['viz']},set_vizRegion:function(L){this.regions['viz']=L},get_vizRegionDomNode:function(){return this.dom.view.children().first()},get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldDisablePan:function(){return this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'},get_shouldShowTools:function(){var L=this.get_paneTableVM().get_visualModel().get_floatingToolbarVisibility()==='show'||this.get_paneTableVM().get_visualModel().get_floatingToolbarVisibility()==='auto'&&this.allowPanZoom();return L},init:function(){this.$n();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.set_vizHitTester(tab.MiscUtil.dispose$1(this.get_vizHitTester()));if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.set_vizHitTester(new S(this,this.get_vizRegion()))}else{this.set_vizHitTester(new bq(this,this.get_vizRegion()))}}},dispose:function(){this.$P=true;if(ss.isValue(this.get_vizHitTester())){this.get_vizHitTester().dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.visibleGeometry=null;this.disposeOfOverlays();if(ss.isValue(this.get_paneTableVM())){this.get_paneTableVM().remove_vizRegionMapChange(ss.mkdel(this,this.$G));if(ss.isValue(this.get_vizRegion())){var L=this.get_paneTableVM();var bN=this.get_vizRegion();L.remove_propertyChanged(ss.mkdel(bN,bN.$0))}}this.floatingZoomToolbarView.dispose();if(ss.isValue(this.$12)){this.$12.dispose()}if(ss.isValue(this.$N)){this.$N.dispose()}if(ss.isValue(this.$T)){this.$T.dispose()}if(ss.isValue(this.$U)){this.$U.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$W)){this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this.$W,this.$W.$C));this.$W.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).prototype.dispose.call(this)},$f:function(L,bN,bO){if(L.moveNext()&&!ss.staticEquals(L.current(),null)){L.current()(this,bN).done(ss.mkdel(this,function(bP){if(bP){bO.resolve(true);return}this.$f(L,bN,bO)}))}else{bO.resolve(false)}},initEventHandlers:function(){this.$a();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.refreshScrollingAndDrilling()},callAsyncVizDragHandlers:function(L,bN){var bO=$.Deferred();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.$f(ss.getEnumerator(bf.$4),L,bO)}else{bO.resolve(false)}bO.done(ss.mkdel(this,function(bP){if(bP){this.get_vizToolTip().close();return}bN(L)}))},callVizDragHandlers:function(L,bN){if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){for(var bO=0;bO<bf.$8.length;bO++){if(bf.$8[bO](this,L)){this.get_vizToolTip().close();return}}}bN(L)},getVizDragApproval:function(L){if(ss.isValue(L)){for(var bN=0;bN<bf.$7.length;bN++){if(bf.$7[bN](L)){return true}}}return false},zoomHome:function(){tab.PanZoomCommands.requestRestoreFixedAxes(this.get_visualId());if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().restoreInitialTextInputValue()}},doTiledViewerRefreshImages:function(L){this.refreshImages(L)},setPointerToolMode:function(L,bN){this.isPointerToolLocked=bN;if(this.isPointerToolLocked){this.get_paneTableVM().get_vizRegionToolModeViewModel().setLockedPointerToolMode(L)}this.get_paneTableVM().get_vizRegionToolModeViewModel().setPointerToolMode(L)},defaultPointerToolMode:function(){if(ss.isValue(this.get_vizRegion())){return this.get_paneTableVM().get_vizRegionToolModeViewModel().defaultPointerToolMode}return'rectangular-selection'},resetPointerToolMode:function(){var L=this.floatingZoomToolbarView.resetPointerToolbarMode();if(!L&&ss.isValue(this.get_vizRegion())){this.get_paneTableVM().get_vizRegionToolModeViewModel().resetPointerToolMode()}},connectTooltipEventHandlers:function(){var L=this.get_vizToolTip();L.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));L.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));L.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));L.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBackgroundColor:function(){var L=this.get_paneTableVM().get_visualModel();var bN=[L.get_backgroundColor(),L.get_paneBGColor(),L.get_headerBGColor()];if(ss.isValue(this.$K)&&_.isEqual(this.$K,bN)){return}this.$K=bN;var bO=!tab.ApplicationModel.get_instance().get_isLocalRenderMode();for(var bP=0;bP<bh.contentRegions.length;bP++){var bQ=bh.contentRegions[bP];var bR=this.regionParts.getSelectorForRegion(bQ);if(ss.isNullOrUndefined(bR)){continue}var bS=bf.$1(bN,bQ);bR.css('background-color',bS);if(bO){var bT=$('.tvimagesContainer',bR);bT.css('background-color',bS)}}this.$C(bN[2])},$C:function(L){for(var bN=0;bN<bh.spacerRegions.length;bN++){var bO=bh.spacerRegions[bN];this.regionParts.getSelectorForRegion(bO).css('background-color',L)}},$m:function(L,bN){for(var bO=0;bO<bh.nonVizContentRegions.length;bO++){var bP=bh.nonVizContentRegions[bO];var bQ=this.regionParts.getSelectorForRegion(bP);var bR=this.makeTiledWindow(bQ,this.get_session(),this.get_controller(),ss.mkdel(this,this.$h),null);this.regions[bP].set_contentProvider(bR)}this.get_vizRegion().set_contentProvider(this.makeTiledWindow(L,this.get_session(),this.get_controller(),ss.mkdel(this,this.$h),bN))},makeRegionContentProvidersHelper:function(L,bN){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().add_vizRegionMapChange(ss.mkdel(this,this.$G));var bO='transparent';var bP=new bc(this.get_paneTableVM(),this.getDomNodeForContentRegion(L),bO);var bQ=$('.tvimagesContainer',L);bQ.get(0).appendChild(bP.element.get(0));this.get_vizRegion().set_contentProvider(bP);var bR=this.get_paneTableVM();var bS=this.get_vizRegion();bR.add_propertyChanged(ss.mkdel(bS,bS.$0));this.$G();this.$W=new bd(this.get_paneTableVM(),this.getDomNodeForContentRegion(L),this.get_vizRegion());this.get_paneTableVM().add_propertyChanged(ss.mkdel(this.$W,this.$W.$C));bQ.get(0).appendChild(this.$W.element.get(0))}else{this.$m(L,bN)}this.updateRegionBackgroundColor()},makeTiledWindowHelper:function(L,bN,bO,bP,bQ,bR){var bS=new bx(this.getDomNodeForContentRegion(L),bN,bO,bP,bR);if(ss.isValue(bQ)){bS.add_loadComplete(bQ);this.disposables.add$1(new tab.CallOnDispose(function(){bS.remove_loadComplete(bQ)}))}return bS},destroyRegions:function(){var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var bN=L.current();if(ss.isValue(this.regions[bN])){this.regions[bN].destroy()}}}finally{L.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$y:function(L){if(ss.keyExists(L.commandParams,'tupleId')){var bN=parseInt(L.commandParams['tupleId'].toString(),10);var bO=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bN);if(ss.isNullOrUndefined(bO)){return false}}if(ss.keyExists(L.commandParams,'selection')){var bP=L.commandParams['selection'];if(ss.isValue(bP)){try{var bQ=JSON.parse(bP);if(bQ.selectionType==='tuples'){for(var bR=0;bR<bQ.objectIds.length;bR++){var bS=bQ.objectIds[bR];var bT=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bS);if(ss.isNullOrUndefined(bT)){return false}}}}catch(bU){return false}}}return true},onCommandExecuted:function(L,bN){if(ss.isNullOrUndefined(bN)||ss.isNullOrUndefined(bN.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(bN.command.command)&&!this.$y(bN.command.command)){return}if(bN.command.get_commandType()===7){this.get_session().executeCommand(bN.command)}else{tab.UberTipClientCommands.executeUbertipCommand(bN.command)}},onActionExecuted:function(L,bN){if(ss.isNullOrUndefined(bN)||ss.isNullOrUndefined(bN.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(bN.action.command)&&!this.$y(bN.action.command)){return}var bO=function(){L.hideSpinner()};var bP=function(bQ){L.hideSpinner()};this.get_session().executeAction(bN.action,bP,bO)},doDoubleTap:function(L,bN,bO){if(!tsConfig.allow_filter){return}if(L.get_regionPart()!=='viz'||!this.allowPanZoomOnDoubleTap()){return}if(this.get_paneTableVM().get_isMapWithBaseLayer()&&bO<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/bO)){return}this.get_controller().incrementCacheVersion();var bP=tab.DeferLayoutImpl.get_instance();bP.setDeferLayoutUpdates(true);var bQ=this.resolvePane(L.toLocalCoordsEvent(bN,false));L.zoomPoint(bQ,L.toLocalCoordsEvent(bN,false),bO,true,bP);this.get_vizToolTip().close();this.disposeOfOverlays()},$o:function(L,bN){if(!ss.referenceEquals(L,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().reset()}},dragOverride:function(L,bN){if(this.isUserDragging()){return}this.callVizDragHandlers(L,bN)},dragOverrideAsync:function(L,bN){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(L,bN)},clearSelection:function(){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},refreshImages:function(L){this.$Y+=1;var bN=ss.getEnumerator(Object.keys(this.regions));try{while(bN.moveNext()){var bO=bN.current();this.regions[bO].refreshImages(L)}}finally{bN.dispose()}this.$O.$0(L,this.get_session(),this.$h())},$J:function(L,bN){var bO={item1:bN,item2:L};var bP=ss.isValue(this.$L)&&_.isEqual(bO,this.$L);if(!bP){this.$L=bO}return bP},$l:function(L){var bN={};$.extend(true,bN,L);this.geometry=bN;var bO=bN.ri.length;for(var bP=0;bP<bO;bP++){bN[bN.ri[bP].r]=bN.ri[bP]}return bN},$9:function(L,bN,bO){var bP=[L.yheader,L.rightaxis,L.leftaxis,L.viz];for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];if(ss.isValue(bR)){bR.h+=bO}}var bS=[L.xheader,L.bottomaxis,L.topaxis,L.viz];for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];if(ss.isValue(bU)){bU.w+=bN}}},$w:function(L,bN){var bO=0;if(ss.isValue(L.title)&&this.dom.title.css('display')!=='none'){this.titleHeight=L.title.h;var bP={l:0,t:L.title.y,w:L.title.w+bN.get_scrollWidth(),h:L.title.h};var bQ=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(bP,bQ)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,bP);this.$12.handleNewTextRegion();bO=L.title.h+L.title.y}}return bO},$q:function(L,bN){var bO=0;if(ss.isValue(this.$N)&&this.dom.caption.css('display')!=='none'){var bP;if(ss.isValue(L.caption)){bO=L.caption.h+8+bN.get_scrollHeight();bP={l:L.caption.x,t:L.caption.y-bN.get_heightScrollOffset(),w:L.caption.w,h:L.caption.h}}else{bP={l:0,t:0,w:0,h:0}}var bQ=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(bP,bQ)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,bP);this.$N.handleNewTextRegion()}}return bO},$s:function(L,bN){if(this.$J(L,bN)){this.refreshScrollingAndDrilling();return}this.$O.$1();this.$Y+=1;var bO=this.$l(L);var bP=new bm(bO,bN.w,bN.h);var bQ=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var bR=((bQ&&ss.isValue(bO.bottomaxis))?1:0);var bS=((bQ&&ss.isValue(bO.rightaxis))?1:0);if(bQ){this.$9(bO,bS,bR)}this.titleHeight=0;var bT=bP.get_overallHeight();var bU=this.$w(bO,bP);bT=Math.max(bT,bU);var bV=this.$q(bO,bP);bT-=bV;var bW=bP.getVisibleGeometry(bO,bN.w,bR,bS);this.visibleGeometry=bW;this.$u(bW,bO);this.setGeometryForWebScrollbars(bP,bT);this.refreshScrollingAndDrilling();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$u:function(L,bN){var bO=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var bP=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isValue(bP)){bO=bP.get_visualListPM().drawItems}}this.$r(L.uleftArea,bO,this.dom.topLeftSpacer,'uleft');if(ss.isValue(bN.uleft)){this.tlspacerAreaY=$.extend({},L.uleftArea);if(ss.isValue(bN.di)&&bN.uleft.h>=40){this.tlspacerAreaY.t=bN.uleft.y+bN.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(bN.di)&&ss.isValue(bN.di.xy)&&ss.isValue(bN.di.xy[0])){var bQ=18;var bR=bN.xheader;if(ss.isValue(bR)&&bR.h>bN.di.xs){var bS=bN.di.xy.length;for(var bT=0;bT<bS;bT++){if(bN.di.xy[bT][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-bQ,t:bN.uleft.y,w:bQ,h:bN.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}this.$v(bN.yheader,this.dom.yLabel,'yheader',bN.ts,L.yheaderArea);this.$v(bN.leftaxis,this.dom.leftAxis,'leftaxis',bN.ts,L.leftaxisArea);this.$v(bN.rightaxis,this.dom.rightAxis,'rightaxis',bN.ts,L.rightaxisArea);this.$v(bN.xheader,this.dom.xLabel,'xheader',bN.ts,L.xheaderArea);this.$v(bN.bottomaxis,this.dom.bottomAxis,'bottomaxis',bN.ts,L.bottomaxisArea);this.$v(bN.topaxis,this.dom.topAxis,'topaxis',bN.ts,L.topaxisArea);this.$r(L.urightArea,bO,this.dom.topRightSpacer,'uright');this.$r(L.lleftArea,bO,this.dom.bottomLeftSpacer,'lleft');this.blspacerArea=L.lleftArea;this.$r(L.lrightArea,bO,this.dom.bottomRightSpacer,'lright');this.$v(bN.viz,this.dom.view,'viz',bN.ts,L.vizArea)},$r:function(L,bN,bO,bP){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(bO,L);this.setRegionGeometryHelper(bO,L);bO.show();this.$O.$2(bO,bP,bN)}else{bO.hide()}},$v:function(L,bN,bO,bP,bQ){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(bN,bQ);this.setRegionGeometryHelper(bN,bQ);bN.show();this.regions[bO].setGeometry(L,bQ,bP);if(bO==='viz'&&ss.isValue(this.$W)){this.$W.set_actualViewSize({w:bQ.w,h:bQ.h});this.$W.reset(L,bP)}}else{bN.hide()}},resolvePane:function(L){var bN=this.geometry.pi;var bO={canDragH:bN.hasXQAxis,canDragV:bN.hasYQAxis,x:0,y:0,w:0,h:0};bf.$2(L.x,bN.xWidths,bO);bf.$3(L.y,bN.yHeights,bO);return bO},allowPanZoom:null,allowPanZoomOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var L=this.geometry.viz.w;var bN=this.geometry.viz.h;var bO=this.get_vizRegion();var bP=bO.get_contentProvider();if(ss.isNullOrUndefined(bP)){return false}var bQ=bP.get_effectiveViewSize().w;var bR=bP.get_effectiveViewSize().h;return L>bQ||bN>bR}return false},isOneVisiblePane:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var L,bN;var bO=this.geometry.viz.w;var bP=this.geometry.viz.h;var bQ=this.geometry.pi.xWidths;var bR=this.geometry.pi.yHeights;bN=bQ.length;for(L=0;L<bN;L++){if(Math.abs(bO-bQ[L])>1){return false}}bN=bR.length;for(L=0;L<bN;L++){if(Math.abs(bP-bR[L])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(L){var bN=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+L);return bN},createOverlayImageFromFile:function(L){var bN=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(L,false,false));return bN},updateOverlayTarget:function(L,bN,bO){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(bN){case'press':{this.$W.setPressedOverlayTarget(L,bO);break}case'hover':{this.$W.setHoverOverlayTarget(L,bO);break}default:{break}}},updateOverlayForLastTargetState:function(L,bN){this.updateOverlayTarget(L,this.$W.get_lastTargetState(),bN)},hoverOverWhitespace:function(){this.$W.hoverOverWhitespace()},updateHoveredCategoricalHeaders:function(L,bN,bO){var bP=this.get_paneTableVM().get_vizRegionMap()[bO];if(ss.isNullOrUndefined(bP)){return}switch(bN){case'press':{bP.set_hoveredCategoricalNode(null);break}case'hover':{bP.set_hoveredCategoricalNode(L);break}default:{break}}},showOverlayImages:function(L,bN){if(ss.isValue(bN)&&ss.isValue(L)&&bN.length>0){this.disposeOfOverlayImages();for(var bO=1;bO<bN.length;++bO){var bP=L.clone();this.$V.push(bP);bP.show(bN[bO])}this.$V.push(L);L.show(bN[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(L){},clickCaption:function(L){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndDrilling:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},destroyInputHandlers:null,setGeometryForWebScrollbars:function(L,bN){},setRegionResizersForWeb:function(){},makeTooltipLegacyMode:null,makeTooltip:function(){if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='smooth'){return new bA(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId(),this.dom.view,true)}else if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='sticky'){return this.makeTooltipLegacyMode(this.get_paneTableVM().get_tooltipContextProvider())}else{return new bz(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId())}},onHoverOverlay:function(L,bN){if(this.isUserDragging()){return}if(this.wasPressOverlayJustUpdated){this.wasPressOverlayJustUpdated=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&L.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(L.get_toolModeViewModel().get_isSelectingToolActive()||!L.get_isDragTracking()&&L.get_toolModeViewModel().get_currentPointerToolMode()==='pan-map')){var bO=L.toLocalCoordsEvent(bN,false);var bP={x:bN.pageX,y:bN.pageY};this.lastVizHoverPoint=bO;if(this.get_vizToolTip().isHoverAllowed(bP)){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(true)}}else{this.lastVizHoverPoint=null}}},hitTestAndSetHoverOverMarkOrVisualPartHelper:function(L){var bN=this.get_vizRegion();var bO=bN.hitTestSingleMarksAndVisualParts(this.lastVizHoverPoint);this.onHoverOverVisualPart(bN,bO.get_hitType()!==0);if(bO.get_hitType()===0){this.hoverOverWhitespace()}if(bO.get_shouldRenderOverlay()){if(!L){this.updateOverlayForLastTargetState(bO.get_id(),bO.get_overlayTargetType())}else{this.updateOverlayTarget(bO.get_id(),'hover',bO.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},onHoverOverVisualPart:null,onHoverTooltip:function(L,bN){if(this.isUserDragging()){return}if(tab.BaseSession.get_waitHandler().isBusy()){return}var bO=this.get_vizToolTip();if(bO.get_isTooltipShown()&&bO.shownTooltipIsStatic()){return}var bP=L.toLocalCoordsEvent(bN,false);var bQ=tab.PointUtil.add(bP,L.getLocalOffsetPoint(false));if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var bR=bf.guessTooltipTargetTypeFromRegion(L.get_regionPart());bO.hoverOverCoordinates(bQ,bP,bR,L.get_regionPart(),null,null,false);return}var bS=false;if(L.get_regionPart()==='viz'){this.$c();L.get_shapeSelector().setSingleSelectPoint(bP);var bT=this.get_vizRegion();var bU=bT.hitTestSingleMarksAndVisualParts(bP);bS=bU.get_hitType()!==0;this.onHoverOverVisualPart(bT,bS);if(bS){switch(bU.get_hitObjectType()){case 5:case 6:{var bV=this.get_paneTableVM().get_scene().getMarkBoundingBox(bU.get_id());bP=bf.$0(bP,bV);var bW=this.get_paneTableVM().get_visualModel().get_selectionsModel();var bX=bW.tupleSelection.isObjectSelected(bU.get_id());var bY=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bU.get_id());var bZ=bY.get_paneDescriptorKey();bO.hoverOverObject(bQ,tab.PointUtil.add(bP,{x:this.geometry.viz.x,y:this.geometry.viz.y}),bP,bU.get_id(),bX,bZ,'mark',L.get_regionPart());break}case 3:case 4:case 2:{this.$13=window.setTimeout(function(){bO.hoverOverCoordinates(bQ,bP,'visualparts',L.get_regionPart(),null,null,false)},120);break}default:{break}}}}else if(ss.isValue(L.get_contentProvider())){var ca=L.hitTestNodes(bP);if(ss.isValue(ca)){var cb=tab.SelectionUtils.nodeSelectionFromDrawGroup(ca);var cc=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableVM().get_visualModel(),[cb]);bO.hoverOverHeader(bQ,bP,'header',L.get_regionPart(),cc);bS=true}}if(!bS){bO.hoverOverWhitespace(bQ,L.get_regionPart())}},$c:function(){if(ss.isValue(this.$13)){window.clearTimeout(ss.unbox(this.$13));this.$13=null}},makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var L=0;L<this.$V.length;L++){var bN=this.$V[L];if(ss.isValue(bN)){bN.dispose()}}ss.clear(this.$V);if(ss.isValue(this.$W)){this.$W.clearOverlays()}this.$X=tab.MiscUtil.clearTimeout(this.$X)},$t:function(L){if(ss.isValue(this.$W)){this.$W.setScrollPosition(L)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$X)){return}var L=(new Date).getTime()-this.$S;if(L>=30){this.$d()}else{this.$X=window.setTimeout(ss.mkdel(this,this.$d),30-L)}}},$d:function(){this.$X=null;var L=F.getIdsFromHitTestResults(this.get_vizRegion().hitTestMarksAgainstSelectionShape(),true);this.$W.setDragOverlayTuples(L);this.$S=(new Date).getTime()},updateRegionContentProvider:function(L,bN){this.regions[L].set_contentProvider(bN)},isSelectActionOnVizAllowed:function(L){return true},handleLocalTap:function(L,bN,bO,bP,bQ,bR){var bS=false;if(this.isSelectActionOnVizAllowed(bN)){if(L.get_regionPart()==='viz'){var bT=ss.mkdel(this,function(bX){if(this.shouldInformTooltipOfLocalTapOnViz(bX,bR)){this.$j(bX,L,bO,bP)}});var bU=L.doSelectFromPoint(bP,bN,bT,bQ);bS=bU.get_hitType()!==0}else if(ss.isValue(L.get_contentProvider())){var bV=L.hitTestNodes(bP);if(ss.isValue(bV)){var bW=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(bO,bP,L.get_regionPart(),'header',null)});L.selectNode(bP,bV,bN,bW);bS=true}else{tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}if(!bS){this.get_vizToolTip().hoverOverWhitespace(bO,L.get_regionPart())}}},$j:function(L,bN,bO,bP){var bQ=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())&&L.get_tooltipTargetType()==='mark'){var bR=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L.get_id());bQ=bR.get_paneDescriptorKey()}var bS=tab.ActionUtils.couldSheetFilterActionsModifyItself(this.get_visualId().worksheet);if(bS){this.get_vizToolTip().singleSelectCoordinates(bO,bP,bN.get_regionPart(),L.get_tooltipTargetType(),null)}else{this.get_vizToolTip().singleSelectComplete(bO,tab.PointUtil.add(bP,{x:this.geometry.viz.x,y:this.geometry.viz.y}),bP,L.get_id(),bQ,L.get_tooltipTargetType(),bN.get_regionPart())}},$i:function(){var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}var bN=L.get_geometryModel().pm;this.$p(bN)},$p:function(L){i.$1(L,this.get_paneTableVM(),this.dom)},handleNewVisual:function(){if(this.get_paneTableVM().isInvalidSheet()){$('<div/>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableVM().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$P){return}var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}this.get_vizRegion().$3();this.$H(L);this.$B(L);this.$z();this.updateTooltipMode(L);var bN=L.get_geometryModel().pm;{this.$s(bN,L.get_containerGeometry())}this.$I(L);this.floatingZoomToolbarView.setToolMode(this.defaultPointerToolMode(),true);this.updateRegionBackgroundColor();this.$F();this.$D();this.$p(bN);this.isAnimationOccurring=false},$I:function(L){this.updateMapsSearchView();if(L.get_isMap()&&this.get_shouldDisablePan()&&(this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isPanToolActive()||this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isZoomToolActive())){this.setPointerToolMode(L.get_defaultMapTool(),true)}this.get_paneTableVM().get_vizRegionToolModeViewModel().updateDefaultToolMode(this.allowPanZoom());this.floatingZoomToolbarView.updateZoomToolbar(L.get_floatingToolbarVisibility());if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){this.get_paneTableVM().get_floatingToolbarContainerVM().showTools(this.get_shouldShowTools());this.get_paneTableVM().get_floatingToolbarContainerVM().shouldEnablePanAndZoom(!this.get_shouldDisablePan());this.get_paneTableVM().get_floatingToolbarContainerVM().updateZoomHomeState(!this.get_paneTableVM().shouldEnableZoomHomeToolbar())}},updateMapsSearchView:function(){if(this.get_paneTableVM().get_mapSearchEnabled()){if(ss.isNullOrUndefined(this.get_paneTableVM().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView)){this.$b();this.buildMapsSearchView()}this.addMapsSearchViewToDomIfNeeded()}else{this.removeMapsSearchViewFromDomIfNeeded()}},$b:function(){this.get_paneTableVM().set_mapsSearchViewModel(new W(this.get_paneTableVM().get_visualId()));this.get_paneTableVM().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})))},buildMapsSearchView:function(){this.mapsSearchView=tab.ObjectRegistry.newView(V).call(null,[this.get_paneTableVM().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')},addMapsSearchViewToDomIfNeeded:function(){if(!this.$R){this.mapsSearchView.addToDom(this.dom.view);this.$R=true}},removeMapsSearchViewFromDomIfNeeded:function(){if(ss.isValue(this.mapsSearchView)){if(this.$R){var L=this.mapsSearchView.element[0].parentNode;if(ss.isValue(L)){L.removeChild(this.mapsSearchView.element[0]);this.$R=false}}this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}},handlePropertyChanged:function(L,bN){switch(bN.get_propertyName()){case'vizNavigationSetting':{this.$a();this.makeInputHandlers();break}case'borderHighlight':{this.dom.borders.toggleClass('tvBorderHighlight',this.get_paneTableVM().get_highlightBorder());break}default:{break}}},updateTooltipMode:function(L){if(ss.isValue(this.vizTooltip)&&L.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$H:function(L){if(this.get_paneTableVM().get_hasTitle()){if(ss.isValue(this.$12)){return}this.dom.title.css('display','');var bN=new tab.TextRegionViewModel(L.get_titleModel());bN.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var bO=bN;this.$12=new tab.TextRegionView(bO);this.$11='title'+this.$g();this.$12.element.attr('id',this.$11);this.$12.addToDom(this.dom.title)}else if(ss.isValue(this.$12)){this.dom.title.css('display','none');this.$12.get_viewModel().dispose();this.$12=null}},$B:function(L){if(this.get_paneTableVM().get_hasCaption()){if(ss.isValue(this.$N)){return}this.dom.caption.css('display','');var bN=new tab.TextRegionViewModel(L.get_captionModel());bN.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var bO=bN;this.$N=new tab.TextRegionView(bO);this.$M='caption'+this.$g();this.$N.element.attr('id',this.$M);this.$N.addToDom(this.dom.caption)}else if(ss.isValue(this.$N)){this.dom.caption.css('display','none');this.$N.get_viewModel().dispose();this.$N=null;this.$M=''}},$A:function(){if(ss.isNullOrUndefined(this.$Q)){var L='instructions'+this.$g();this.$Q=$('<div/>').attr('id',L).css('display','none');this.$Q.appendTo(this.dom.enclosingDiv)}var bN=tab.Strings.AccessibilityClearSelectionInstructions+' '+(bf.isViewDataAccessEnabled()?tab.Strings.AccessibilityViewDataInstructions:tab.Strings.AccessibilityViewDataDisabled);this.$Q.text(bN)},$z:function(){this.dom.view.attr('tabindex','0').attr('role','img').attr('aria-describedby',ss.coalesce(this.$M,'')+' '+(ss.isValue(this.$Q)?this.$Q[0].id:''));if(this.get_paneTableVM().get_hasTitle()){this.dom.view.removeAttr('aria-label').attr('aria-labelledby',this.$11)}else{this.dom.view.removeAttr('aria-labelledby').attr('aria-label',tab.Strings.AccessibilityDataVisualizationTitleAttr)}},$x:function(){var L=this.dom.view;L.focus(ss.mkdel(this,function(bN){tab.SelectionClientCommands.setActiveZone(this.get_paneTableVM().get_zonePresModel().zoneId,null);this.$A()}));this.dom.domRoot.focus(ss.mkdel(this,function(bN){tab.SelectionClientCommands.setActiveZone(this.get_paneTableVM().get_zonePresModel().zoneId,null)}));L.keydown(ss.mkdel(this,function(bN){if(bN.which===13&&bf.isViewDataAccessEnabled()&&ss.referenceEquals(bN.target,bN.currentTarget)){bN.preventDefault();bN.stopPropagation();tab.ToolbarServerCommands.exportData()}else if(bN.which===27){bN.preventDefault();bN.stopPropagation();this.clearSelection()}}))},$g:function(){return tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetid())},$F:function(){if(this.get_paneTableVM().get_isMap()){var L=ss.isNullOrUndefined(this.get_paneTableVM().get_mapScaleViewModel())||ss.isNullOrUndefined(this.$U);if(L&&ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().set_mapScaleViewModel(new tab.MapScaleViewModel(this.get_paneTableVM().get_mapServerModel().get_mapScaleInfoModel()));this.$U=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.MapScaleViewModel,tab.MapScaleComponent,Object])).call(null,[this.get_paneTableVM().get_mapScaleViewModel()]);this.$U.addToDom(this.dom.view)}}else if(ss.isValue(this.$U)){this.$U.dispose();this.$U=null}},$D:function(){var L=this.get_paneTableVM().get_mapServerModel();if(ss.isValue(L)&&L.get_hasPresModel()&&L.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$T)){this.$T=new T;this.$T.attributionBackground.css('background-color',L.get_attributionBGColor());this.$T.attributionLink.text(L.get_attributionText());this.$T.attributionLink.css('color',L.get_attributionTextColor());this.$T.attributionLink.css('font-size',L.get_attributionTextSize());this.$T.attributionLink.attr('href',L.get_attributionUrl());this.$T.attributionLink.attr('target','_blank');this.dom.view.append(this.$T.domRoot);this.$E()}}else if(ss.isValue(this.$T)){this.$T.dispose();this.$T=null}},$E:function(){if(ss.isValue(this.$T)){var L=1;var bN=1;var bO=this.get_vizRegion().get_contentProvider().get_effectiveViewSize();var bP=this.get_vizRegion().get_contentProvider().get_docSize();var bQ=Math.min(0,bO.h+this.$Z.y-bP.h);bQ+=L;var bR=Math.min(0,-this.$Z.x);bR+=bN;this.$T.domRoot.css('bottom',bQ+'px');this.$T.domRoot.css('left',bR+'px')}},$k:function(){var L=this.get_paneTableVM().get_cacheUrlInfo();this.refreshImages(L)},$G:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().$1();var L=ss.getEnumerator(Object.keys(this.get_paneTableVM().get_vizRegionMap()));try{while(L.moveNext()){var bN=L.current();var bO=tab.ModelUtils.visualPartToRegionMap[bN];if(ss.isValue(bO)&&ss.isValue(this.regions[bO])){var bP=this.regions[bO].get_contentProvider();if(!ss.isNullOrUndefined(bP)&&!ss.referenceEquals(bP.get_viewModel(),this.get_paneTableVM().get_vizRegionMap()[bN])){bP.destroy();bP=null}if(ss.isNullOrUndefined(bP)){var bQ=this.regionParts.getSelectorForRegion(bO);if(ss.isValue(bQ)){var bR=this.get_paneTableVM().get_vizRegionMap()[bN];var bS=new bv(bR,this.getDomNodeForContentRegion(bQ),this.get_paneTableVM());bQ.find('.tvimagesContainer').append(bS.element);this.updateRegionContentProvider(bO,bS);bS.invalidate(false);this.$L=null}}else{this.regions[bO].$1()}}}}finally{L.dispose()}var bT=ss.getEnumerator(Object.keys(tab.ModelUtils.visualPartToRegionMap));try{while(bT.moveNext()){var bU=bT.current();var bV=tab.ModelUtils.visualPartToRegionMap[bU];if(!ss.keyExists(this.get_paneTableVM().get_vizRegionMap(),bU)&&ss.isValue(this.regions[bV])&&ss.isValue(this.regions[bV].get_contentProvider())){this.regions[bV].get_contentProvider().destroy();this.regions[bV].set_contentProvider(null)}}}finally{bT.dispose()}}},$h:function(){return this.$10+'Z'+this.$Y},handleMoveMapToBounds:function(L){if(ss.isValue(this.get_vizRegion())&&tab.FeatureParamsLookup.getBool(19)){this.get_vizRegion().moveMapToBounds(L)}},$a:function(){var L={tap:ss.mkdel(this,function(bQ){bQ.stopPropagation();bQ.preventDefault();this.clearSelection()})};var bN=ss.mkdel(this,function(bQ){this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(bQ.get(0),L))});for(var bO=0;bO<bh.regionsThatClearSelectionOnTap.length;bO++){var bP=bh.regionsThatClearSelectionOnTap[bO];bN(this.regionParts.getSelectorForRegion(bP))}},$n:function(){tab.ViewController.add_selectionChanged(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ViewController.remove_selectionChanged(ss.mkdel(this,this.$o))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var L=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(L);this.handleNewVisual();if(this.get_paneTableVM().get_visualModel().get_isVisualValid()){this.$k()}},checkForSuppressTooltipsAndOverlays:function(L){var bN=$(L);var bO=bN.hasClass('tabSuppressVizTooltipsAndOverlays')||bN.parents('.tabSuppressVizTooltipsAndOverlays').length>0;if(bO){this.disposeOfOverlayImages();var bP=this.get_vizToolTip();bP.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(bO)},$e:function(){if(ss.isNullOrUndefined(this.vizTooltip)||!this.get_isSameVisualID()){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}}},ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,O]);ss.initClass(bg,a,{add_vizRegionMapChange:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_vizRegionMapChange:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_newPaneTable:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_newPaneTable:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_textUpdated:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_textUpdated:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_differentMarkBrushing:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_differentMarkBrushing:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_differentMarkSelection:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_differentMarkSelection:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},add_updateResizeHeaders:function(L){this.$2$6=ss.delegateCombine(this.$2$6,L)},remove_updateResizeHeaders:function(L){this.$2$6=ss.delegateRemove(this.$2$6,L)},get_isMap:function(){return this.$u.get_isMap()},get_isMapWithBaseLayer:function(){return this.get_isMap()&&this.get_mapServerModel().get_hasPresModel()},get_mapSearchEnabled:function(){return tsConfig.allow_filter&&this.get_isMap()&&this.get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_tooltipContextProvider:function(){return(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?new tab.TooltipContextProvider(this.get_visualModel().get_selectionsModel()):null)},get_scene:function(){return this.$s},get_vizRegionMap:function(){return this.$w},get_refLineVisualLists:function(){return this.$k().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.$k().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.$k().get_drawFirstParts()},get_drawLastParts:function(){return this.$k().get_drawLastParts()},get_zonePresModel:function(){return this.$u.get_zone().pm},get_viewController:function(){return this.$2$7},set_viewController:function(L){this.$2$7=L},get_sheetId:function(){return this.get_visualModel().get_worksheetName()},get_sortIndicators:function(){return this.$u.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_selectionsModel:function(){return this.$u.get_selectionsModel()},get_cacheUrlInfo:function(){return this.$u.get_cacheUrlInfo()},get_hasTitle:function(){return this.get_zonePresModel().zoneCommon.hasTitle},get_hasCaption:function(){return this.get_zonePresModel().hasCaption},get_visualModel:function(){return this.$u},$k:function(){return this.$u.get_sceneModel()},get_visualId:function(){return this.$u.get_visualId()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_mapsSearchViewModel:function(){return this.$q},set_mapsSearchViewModel:function(L){this.$q=L},get_mapScaleViewModel:function(){return this.$p},set_mapScaleViewModel:function(L){this.$p=L},get_vizRegionToolModeViewModel:function(){return this.$v},get_floatingToolbarContainerVM:function(){return this.$2$8},set_floatingToolbarContainerVM:function(L){this.$2$8=L},get_highlightBorder:function(){return this.borderHighlighted},set_highlightBorder:function(L){if(this.borderHighlighted===L){return}this.borderHighlighted=L;this.notifyPropertyChanged('borderHighlight')},dispose:function(){if(ss.isValue(this.$q)){this.$q.dispose()}if(ss.isValue(this.$p)){this.$p.dispose()}if(ss.isValue(this.$u)){if(ss.isValue(this.$u.get_selectionsModel().tupleSelection)){this.$u.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$c))}this.$u.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$u.get_brushingsModel().tupleSelection)){this.$u.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$u.get_sceneModel())){this.$u.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$u.get_labelsModel())){this.$u.get_labelsModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.resizeHeadersViewModel)){this.resizeHeadersViewModel.remove_updateResizeHeader(ss.mkdel(this,this.$d))}this.$u.remove_newHiddenTuples(ss.mkdel(this,this.$8));this.$u.remove_newFilteredTuples(ss.mkdel(this,this.$7));this.$u.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$u.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$u.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$f));this.$u.remove_newVisual(ss.mkdel(this,this.$e));this.$u.remove_newVisual(ss.mkdel(this,this.$a));this.$u.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));this.$m=tab.MiscUtil.dispose$1(this.$m)}var L=new ss.ObjectEnumerator(this.$w);try{while(L.moveNext()){var bN=L.current();bN.value.dispose()}}finally{L.dispose()}this.$v.dispose();spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var L=this.$o;this.$o=[];return L},$9:function(){this.notifyPropertyChanged('images')},$f:function(){this.notifyPropertyChanged('vizNavigationSetting')},$c:function(){var L=this.$u.get_selectionsModel().computeSelectionsDiff(this.$t,this.$n,this.$u.get_impliedSelectionModel());if(!ss.staticEquals(this.$2$5,null)&&bg.$0(L,this.$u.get_selectionsModel(),this.$u.get_impliedSelectionModel())){this.$2$5()}this.$t=this.$u.get_selectionsModel().createSelectionsToken();this.$n=this.$u.get_impliedSelectionModel().createSelectionToken();this.$i(L,'selection')},$3:function(){var L=this.$u.get_brushingsModel().computeSelectionsDiff(this.$l,null,null);if(!ss.staticEquals(this.$2$4,null)&&bg.$0(L,this.$u.get_brushingsModel(),null)){this.$2$4()}this.$l=this.$u.get_brushingsModel().createSelectionsToken();this.$s.setEmptyHighlightFogAll(this.$u.get_emptyHighlightFogAll());this.$i(L,'brushing')},$i:function(L,bN){if(!L.get_invalidateViz()){if(L.get_objectIds().length===0){return}var bO=this.$s.getMarksInvalidationRects(L.get_objectIds());this.$2(bO)}this.notifyPropertyChanged(bN)},$4:function(){this.$s.setIsTargetOfBrushingAction(this.$u.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$6:function(){this.$s.setEmptyHighlightFogAll(this.$u.get_emptyHighlightFogAll());this.$r=true},$8:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$u.get_hiddenTuples(),this.$s.get_hiddenTuples());if(L.length===0){return}var bN=this.$s.getMarksInvalidationRects(L);this.$2(bN);this.$s.set_hiddenTuples(this.$u.get_hiddenTuples());this.notifyPropertyChanged('scene')},$7:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$u.get_filteredTuples(),this.$s.get_filteredTuples());if(L.length===0){return}var bN=this.$s.getMarksInvalidationRects(L);this.$2(bN);this.$s.set_filteredTuples(this.$u.get_filteredTuples());this.notifyPropertyChanged('scene')},$5:function(){this.$r=true},$2:function(L){ss.arrayAddRange(this.$o,L)},$b:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var L=false;var bN=ss.getEnumerator(Object.keys(this.$k().get_visualListModels()));try{while(bN.moveNext()){var bO=bN.current();var bP=this.$k().get_visualListModels()[bO];var bQ=this.$w[bO];if(ss.isValue(bQ)&&ss.referenceEquals(bQ.get_visualList(),bP)){}else{tab.MiscUtil.dispose$1(this.$w[bO]);delete this.$w[bO];if(ss.contains(bg.blackListVisualParts,bO)){this.$w[bO]=new bC(bP,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[bO],this.$u.get_selectionsModel(),this.$u.get_brushingsModel())}else{this.$w[bO]=new bC(bP,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[bO],null,null)}L=true}}}finally{bN.dispose()}var bR=Object.keys(this.$w);var bS=ss.getEnumerator(bR);try{while(bS.moveNext()){var bT=bS.current();if(!ss.keyExists(this.$k().get_visualListModels(),bT)){tab.MiscUtil.dispose$1(this.$w[bT]);delete this.$w[bT];L=true}}}finally{bS.dispose()}var bU=this.$k().get_backgroundColor().toString();var bV=ss.getEnumerator(Object.keys(this.$w));try{while(bV.moveNext()){var bW=bV.current();this.$w[bW].set_defaultBackgroundColor(bU)}}finally{bV.dispose()}if(L){this.$h()}this.$r=true},$e:function(){if(this.$r){this.$j();this.notifyPropertyChanged('scene')}this.$r=false},$h:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$j:function(){bg.updateSceneInfoFromVisualModel(this.$s,this.$u);if(this.$s.customShapes.length>0){this.$m=this.$m||new br(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$m.initialize(this.$s.customShapes)}if(ss.isValue(this.$u)&&ss.isValue(this.$u.pm)&&ss.isValue(this.$u.pm.imageDictionary)){this.$s.updateImageMap(this.$u.pm.imageDictionary,ss.mkdel(this,function(){this.$9()}))}},isInvalidSheet:function(){return _.any(this.$u.get_invalidSheets(),ss.mkdel(this,function(L){return _.isEqual(this.get_visualId(),L)}))},$a:function(){this.raiseActionEvent(this.$2$2)},$d:function(){this.$2$6()},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$g:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IPaneTableViewModel]);ss.initClass(bh,a,{$0:function(){var L={};L['uleft']=this.$1.topLeftSpacer;L['uright']=this.$1.topRightSpacer;L['lleft']=this.$1.bottomLeftSpacer;L['lright']=this.$1.bottomRightSpacer;L['title']=this.$1.title;L['caption']=this.$1.caption;L['xheader']=this.$1.xLabel;L['yheader']=this.$1.yLabel;L['leftaxis']=this.$1.leftAxis;L['rightaxis']=this.$1.rightAxis;L['bottomaxis']=this.$1.bottomAxis;L['topaxis']=this.$1.topAxis;L['viz']=this.$1.view;return L},getSelectorForRegion:function(L){return this.$2[L]}});ss.initClass(bi,a,{get_hitTestingBox:function(){return((this.$k.length===0)?{x:0,y:0,w:0,h:0}:tab.RectXYUtil.nonemptyify(this.$g(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$k.length===0},$g:function(L){var bN=(L?this.$l:this.$k);var bO=bN[0].x;var bP=bO;var bQ=bN[0].y;var bR=bQ;for(var bS=0;bS<bN.length;bS++){var bT=bN[bS];if(bT.x<bO){bO=bT.x}else if(bT.x>bP){bP=bT.x}if(bT.y<bQ){bQ=bT.y}else if(bT.y>bR){bR=bT.y}}return{x:bO,y:bQ,w:bP-bO,h:bR-bQ}},updateSpecificShape:function(L){if(this.$k.length===0){var bN=this.get_dragStart().x-this.get_connectNodePos().x;var bO=this.get_dragStart().y-this.get_connectNodePos().y;this.$d(bN,bO)}var bP=L.x;var bQ=L.y;this.$d(bP,bQ)},renderShape:function(){if(ss.isNullOrEmptyString(this.$p)){return}this.get_dom().find('svg path').attr('d',this.$p);this.$i=tab.MiscUtil.clearTimeout(this.$i);this.$i=window.setTimeout(ss.mkdel(this,function(){this.$f()}),300);this.get_dom().css('display','')},$f:function(){this.$i=tab.MiscUtil.clearTimeout(this.$i);this.get_dom().find('svg path').attr('d',this.$p+'Z')},show:function(){this.$e();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(L,bN,bO,bP){var bQ=bO.get_objectId();var bR=bN.markType;var bS=E.rectangleAreaHit(bN,bO.get_boundingBox(),L,bQ,bP,bR);if(!bS){return false}var bT=0;var bU=0;if(bP.get_transformType()===3){bT=bP.get_translateX();bU=bP.get_translateY()}var bV=this.$h(bT,bU);return E.polyAreaHit(bN,bO.get_boundingBox(),bV,bQ,bP,bR)},sendSelectionCommand:function(L,bN,bO,bP){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$l,bN,bO,bP)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bj)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bN=L;bN.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bj)){return true}}return false},$e:function(){ss.clear(this.$k);ss.clear(this.$l);ss.clearKeys(this.$j);this.$p='';this.$n=null;this.$o=null},$d:function(L,bN){var bO=2;var bP=1;if(this.$m&&ss.isValue(this.$n)&&ss.isValue(this.$o)){if(Math.abs(L-ss.unbox(this.$n))<bO&&Math.abs(bN-ss.unbox(this.$o))<bO){return}}var bQ=L+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var bR=bN+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var bS=L+this.get_totalScrollOffset().x;var bT=bN+this.get_totalScrollOffset().y;var bU=false;var bV=false;var bW=false;var bX=this.$l.length;if(this.$m){if(bX>1){var bY=this.$l[bX-1];var bZ=this.$l[bX-2];var ca=Math.abs(bS-bZ.x);var cb=Math.abs(bS-bY.x);var cc=Math.abs(bT-bZ.y);var cd=Math.abs(bT-bY.y);bU=cc<=bP&&cd<=bP;if(bU){bU=bi.$0(bS,bY.x,bZ.x)}else{bV=ca<=bP&&cb<=bP;if(bV){bV=bi.$0(bT,bY.y,bZ.y)}else{bW=ca*cd===cc*cb&&bi.$0(bS,bY.x,bZ.x)}}}}var ce=bX-1;if(bU){this.$k[ce].x=bQ;this.$l[ce].x=bS}else if(bV){this.$k[ce].y=bR;this.$l[ce].y=bT}else if(bW){this.$k[ce].x=bQ;this.$k[ce].y=bR;this.$l[ce].x=bS;this.$l[ce].y=bT}else{this.$k.push({x:bQ,y:bR});this.$l.push({x:bS,y:bT})}this.$p='';var cf=this.get_autoScrollAdjustment();var cg='M';for(var ch=0;ch<this.$k.length;ch++){var ci=this.$k[ch];this.$p+=cg+(ci.x-cf.x)+','+(ci.y-cf.y);cg='L'}this.$n=L;this.$o=bN},$h:function(L,bN){var bO=0;var bP=this.$l.length;var bQ=L.toString()+':'+bN.toString();var bR=this.$j[bQ];if(ss.isNullOrUndefined(bR)){bR=new Array(bP*2);this.$j[bQ]=bR}else{bO=ss.Int32.div(bR.length,2);if(this.$m){bO-=1}bR.length=bP*2}var bS=Math.round(L);var bT=Math.round(bN);for(var bU=bO,bV=bO*2;bU<bP;bU++,bV+=2){var bW=this.$l[bU];bR[bV]=bW.x-bS;bR[bV+1]=bW.y-bT}return bR}},bs);ss.initClass(bj,a,{saveCurrentState:function(L){if(L.length<this.$1){}this.$0=ss.arrayClone(L)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var L=this.$0[0].y;var bN=L;var bO=this.$0[0].x;var bP=bO;for(var bQ=this.$1,bR=this.$0.length;bQ<bR;bQ++){L=Math.min(L,this.$0[bQ].y);bN=Math.max(bN,this.$0[bQ].y);bO=Math.min(bO,this.$0[bQ].x);bP=Math.max(bP,this.$0[bQ].x)}var bS=new Array(1);bS[0]=tab.RectXYUtil.nonemptyify({x:bO,y:L,w:bP-bO,h:bN-L});return bS}},bt);ss.initClass(bk,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$e)},isSingleSelect:function(){return this.$d.w<=1&&this.$d.h<=1},updateSpecificShape:function(L){var bN=this.get_dragStart().x-this.get_connectNodePos().x;var bO=this.get_dragStart().y-this.get_connectNodePos().y;var bP=Math.round(Math.min(L.x,bN));var bQ=Math.round(Math.max(L.x,bN));var bR=Math.round(Math.min(L.y,bO));var bS=Math.round(Math.max(L.y,bO));var bT=bQ-bP;var bU=bS-bR;this.$d={x:bP+this.get_drawOffsets().x,y:bR+this.get_drawOffsets().y,w:bT,h:bU};this.$e={x:bP+this.get_totalScrollOffset().x,y:bR+this.get_totalScrollOffset().y,w:bT,h:bU}},renderShape:function(){var L={l:this.$d.x,t:this.$d.y,w:this.$d.w,h:this.$d.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),L);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(L,bN,bO,bP){return E.rectangleAreaHit(bN,bO.get_boundingBox(),L,bO.get_objectId(),bP,bN.markType)},sendSelectionCommand:function(L,bN,bO,bP){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(L,this.get_hitTestingBox(),bN,bO,bP,'default',null)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bl)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bN=L;bN.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bl)){return true}}return false}},bs);ss.initClass(bl,a,{saveCurrentState:function(L){this.$0=tab.RectXYUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var L=new Array(1);L[0]=this.$0;return L}},bt);ss.initClass(bm,a,{get_neededWidth:function(){return this.$2},get_neededHeight:function(){return this.$1},get_scrollableWidth:function(){return this.$a},get_scrollableHeight:function(){return this.$9},get_scrollXLeft:function(){return this.$7},get_scrollYTop:function(){return this.$8},get_widthScrollOffset:function(){return this.$d},get_heightScrollOffset:function(){return this.$0},get_viewWidth:function(){return this.$c},get_viewHeight:function(){return this.$b},get_scrollWidth:function(){return this.$6},get_scrollHeight:function(){return this.$5},get_overallWidth:function(){return this.$4},get_overallHeight:function(){return this.$3},getVisibleGeometry:function(L,bN,bO,bP){var bQ={};bQ.uleftArea=null;if(ss.isValue(L.uleft)){bQ.uleftArea={l:L.uleft.x,t:L.uleft.y,w:Math.min(L.uleft.w,bN-this.get_scrollWidth()),h:L.uleft.h}}bQ.yheaderArea=null;if(ss.isValue(L.yheader)){bQ.yheaderArea={l:L.yheader.x,t:L.yheader.y,w:Math.min(L.yheader.w,bN-this.get_scrollWidth()),h:this.get_viewHeight()+bO}}bQ.leftaxisArea=null;if(ss.isValue(L.leftaxis)){bQ.leftaxisArea={l:L.leftaxis.x,t:L.leftaxis.y,w:L.leftaxis.w,h:this.get_viewHeight()+bO}}bQ.rightaxisArea=null;if(ss.isValue(L.rightaxis)){bQ.rightaxisArea={l:L.rightaxis.x-this.get_widthScrollOffset(),t:L.rightaxis.y,w:L.rightaxis.w,h:this.get_viewHeight()+bO}}bQ.xheaderArea=null;if(ss.isValue(L.xheader)){bQ.xheaderArea={l:L.xheader.x,t:L.xheader.y,w:this.get_viewWidth()+bP,h:L.xheader.h}}bQ.bottomaxisArea=null;if(ss.isValue(L.bottomaxis)){bQ.bottomaxisArea={l:L.bottomaxis.x,t:L.bottomaxis.y-this.get_heightScrollOffset(),w:this.get_viewWidth()+bP,h:L.bottomaxis.h}}bQ.topaxisArea=null;if(ss.isValue(L.topaxis)){bQ.topaxisArea={l:L.topaxis.x,t:L.topaxis.y,w:this.get_viewWidth()+bP,h:L.topaxis.h}}bQ.urightArea=null;if(ss.isValue(L.uright)){bQ.urightArea={l:L.uright.x-this.get_widthScrollOffset(),t:L.uright.y,w:Math.min(L.uright.w,bN-this.get_scrollWidth()),h:L.uright.h}}bQ.lleftArea=null;if(ss.isValue(L.lleft)){bQ.lleftArea={l:L.lleft.x,t:L.lleft.y-this.get_heightScrollOffset(),w:L.lleft.w,h:L.lleft.h}}bQ.lrightArea=null;if(ss.isValue(L.lright)){bQ.lrightArea={l:L.lright.x-this.get_widthScrollOffset(),t:L.lright.y-this.get_heightScrollOffset(),w:L.lright.w,h:L.lright.h}}bQ.vizArea=null;if(ss.isValue(L.viz)){bQ.vizArea={l:L.viz.x,t:L.viz.y,w:this.get_viewWidth()+bP,h:this.get_viewHeight()+bO}}return bQ}});ss.initClass(bn,a,{});ss.initClass(bo,a,{get_hasSelection:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},get_hasBrushing:function(){return this.$n||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$m)&&!this.$m.isEmpty||this.$h},get_imageDictionary:function(){return this.$k},get_hiddenTuples:function(){return this.$l},set_hiddenTuples:function(L){this.$l=L||new Map},get_isSingleUserPane:function(){return this.scene.panes.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},get_filteredTuples:function(){return this.$i},set_filteredTuples:function(L){this.$i=L||new Map},setSceneData:function(L,bN,bO,bP,bQ,bR,bS){this.$p.clear();this.$j.clear();this.$o.clear();this.$r.clear();this.$q.clear();this.sceneUserPaneInfo=null;this.scene=L;if(tab.FeatureFlags.isEnabled('PageCardImprovements')){this.$f=L.currentPage;this.$g=L.pageCount}this.set_hiddenTuples(bR);this.set_filteredTuples(bS);if(ss.isValue(L)&&ss.isValue(L.pdMarksMap)){this.customShapes=bo.extractCustomShapes(L);if(ss.isValue(L.panes)){if(ss.isValue(L.userPaneInfo)){this.sceneUserPaneInfo=new bp(L.userPaneInfo)}this.$d(L);for(var bT=0;bT<L.panes.length;bT++){var bU=L.panes[bT];for(var bV=0;bV<bU.drawPane.length;bV++){var bW=bU.drawPane[bV];if(ss.isValue(bW.paneMarks)){var bX=bW.paneMarks;var bY=bX.paneDescrKey;var bZ=this.scene.pdMarksMap[bY];var ca=bo.getPaneMarksKey(bX);var cb=new ba.$ctor1(bY,this,bU,bX,bZ,bQ,ca);this.$r.set(ca,cb)}}}}}if(ss.isValue(bN)){this.selections=bN;this.$m=bO}if(ss.isValue(bP)){this.brushings=bP}this.colorModel=K.extractInteractionColors(this.scene)},getMarkBoundingBox:function(L){if(this.$p.has(L)){return this.$p.get(L)}else{return bo.$1}},$7:function(L,bN){if(this.$q.has(L)&&bN>=0&&bN<this.$q.get(L).length){return this.$q.get(L)[bN]}return null},computeFilteredMarks:function(L){var bN=new Set;var bO=this.$i.size;if(bO===0){return bN}var bP=0;if(!ss.isNullOrUndefined(L)){bP=L.length}for(var bQ=0;bQ<bP;bQ++){var bR=L.v[(L.c?0:bQ)];if(this.$i.has(bR.toString())){bN.add(bQ);if(bN.size===bO){break}}}return bN},computeTupleStates:function(L){var bN=this.get_hasSelection();var bO=this.selections;var bP=(ss.isValue(bO)?bO.tupleSelection:null);var bQ=new Set;if(ss.isValue(bP)){tab.SetUtilities.addAll(ss.Int32).call(null,bQ,bP.get_ids())}var bR=this.get_hasBrushing();var bS=this.brushings;var bT=(ss.isValue(bS)?bS.tupleSelection:null);var bU=new Set;if(ss.isValue(bT)){tab.SetUtilities.addAll(ss.Int32).call(null,bU,bT.get_ids())}var bV=new Set;if(ss.isValue(this.$m)){tab.SetUtilities.addAll(ss.Int32).call(null,bV,this.$m.get_ids())}var bW=0;if(!ss.isNullOrUndefined(L)){bW=L.length}var bX=new Array(bW);for(var bY=0;bY<bW;bY++){var bZ=L.v[(L.c?0:bY)];var ca='markStateNormal';if(this.$l.has(bZ.toString())){ca='markStateInvisible'}else if(bN&&bQ.has(bZ)){ca='markStateSelected'}else if(bR&&(bU.has(bZ)||bV.has(bZ))){ca='markStateHighlighted'}bX[bY]=ca}return bX},prepareForDraw:function(L){this.$4(L);this.$e()},cleanupFromDraw:function(){this.$3()},$6:function(L){if(this.$o.has(L)){return this.$o.get(L)}else{return bo.$1}},getMarksInvalidationRects:function(L){var bN=[];for(var bO=0;bO<L.length;bO++){var bP=L[bO];var bQ=this.$8(bP);for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];bN.push(bS)}}return bN},$8:function(L){var bN=false;var bO=[];for(var bP=0;bP<this.scene.panes.length;bP++){var bQ=this.scene.panes[bP];if(bQ.renderNodes.length>0){bN=true;break}}var bR=this.getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(bR)){return bO}var bS=bR.markType;if(bN){bO.push(bR.paneRect)}else if(bS==='area'||bS==='line'){bO.push(bR.paneRect)}else{var bT=this.$5(L);var bU=bR.getWorldOffsetBounds(bT);for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];bO.push(bW)}var bX=this.$6(L);if(!tab.RectXYUtil.isNull(bX)){var bY=bR.getWorldOffsetBounds(bX);for(var bZ=0;bZ<bY.length;bZ++){var ca=bY[bZ];bO.push(ca)}}}return bO},updateImageMap:function(L,bN){if(ss.isValue(L)&&ss.isValue(L.imageMap)){var bO=new ss.ObjectEnumerator(L.imageMap);try{while(bO.moveNext()){var bP=bO.current();var bQ=bP.key;if(!this.$k.has(bQ)){var bR=bP.value;var bS={$:document.createElement('img')};bS.$.src='data:image/jpeg;base64,'+bR;this.$k.set(bQ,bS.$);var bT={$:null};bT.$=ss.mkdel({imgElt:bS,imageFinishedLoad:bT},function(){if(ss.isValue(bN)){bN()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});bS.$.addEventListener('load',bT.$,false)}}}finally{bO.dispose()}this.$k.forEach(ss.mkdel(this,function(bU,bV){if(!ss.keyExists(L.imageMap,bV)){this.$k.delete(bV)}}))}},$b:function(L){return this.get_hasSelection()&&this.selections.tupleSelection.isObjectSelected(L)},$9:function(L){return this.get_hasBrushing()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(L)||this.$a(L))},$a:function(L){return ss.isValue(this.$m)&&this.$m.isObjectSelected(L)},$c:function(L){return!this.$l.has(L.toString())},isMarkFiltered:function(L){return this.$i.has(L.toString())},setLabelInfo:function(L){if(ss.isValue(L)&&ss.isValue(L.panes)){for(var bN=0;bN<L.panes.length;bN++){var bO=L.panes[bN];for(var bP=0;bP<bO.drawPane.length;bP++){var bQ=bO.drawPane[bP];if(ss.isValue(bQ.paneMarks)){var bR=bQ.paneMarks;var bS=bo.getPaneMarksKey(bR);if(ss.isValue(this.$r.has(bS))){var bT=this.$r.get(bS);var bU=bR.paneDescrKey;var bV=L.pdMarksMap[bU];bT.addLabelInfo(bV,bR)}}}}}},getPaneDrawInfo:function(L){var bN=null;if(ss.isValue(L)){bN=this.$r.get(bo.getPaneMarksKey(L))}return bN},getPaneDrawInfoFromKey:function(L){return this.$r.get(L)},getPaneDrawInfoFromTupleId:function(L){var bN=null;tab.MapUtility.forEachWithInterrupt(String,ba).call(null,this.$r,function(bO){if(bO.containsTuple(L)){bN=bO;throw new tab.LoopBreakException}});return bN},setIsTargetOfBrushingAction:function(L){this.$n=L},setEmptyHighlightFogAll:function(L){this.$h=L},$2:function(L,bN){bo.$0(L,bN,this.$p)},$1:function(L,bN){bo.$0(L,bN,this.$o)},$0:function(L,bN,bO){tab.RectXYUtil.offsetRectXYInPlace(bN,L.paneRect.x,L.paneRect.y);for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];this.$j.set(bQ,bN)}},$d:function(L){if(!ss.isValue(L)||!ss.isValue(L.pdMarksMap)){return}var bN=Object.keys(L.pdMarksMap);var bO=ss.getEnumerator(bN);try{while(bO.moveNext()){var bP=bO.current();var bQ=L.pdMarksMap[bP];var bR=bQ.markGeometries;if(!ss.isValue(bR)){continue}var bS=bQ.intMap['pane_flags'];var bT=tab.SceneDataUtil.isPaneFlagSet(bS,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(bS,'enable-scale-y');var bU=null;var bV=null;var bW=false;if(bT){for(var bX=0;bX<L.panes.length;bX++){var bY=L.panes[bX];for(var bZ=0;bZ<bY.drawPane.length;bZ++){var ca=bY.drawPane[bZ];var cb=ca.paneMarks;if(ss.isValue(cb)&&ss.referenceEquals(cb.paneDescrKey,bP)){bU=tab.RecordCast.doubleRectPresModelAsDoubleRectXY(cb.domainExtents);bV={x:0,y:0,w:cb.pixelExtents.w,h:cb.pixelExtents.h};bW=true;break}}if(bW){break}}}var cc=bR.length;var cd=new Array(cc);for(var ce=0;ce<cc;ce++){var cf;cd[ce]=null;if(ss.isInstanceOfType(bR[ce],Float32Array)){if(bR[ce].length<1){continue}var cg=new tab.LinearFloatGeometryDecoder(bR[ce]);cf=cg.processEncodedGeometry()}else{var ch;if(ss.isInstanceOfType(bR[ce],Uint8Array)){ch=tab.Utf8TextDecoder.decode(bR[ce])}else{ch=bR[ce]}if(tab.MiscUtil.isNullOrEmpty$3(ch)){continue}cf=JSON.parse(ch)}if(y.isGeometryPresModelFeatureEmpty(cf)){continue}cf=tab.RleDecoder.decode(cf);if(bT&&bW){y.domainToPixelGeometry(cf,bU,bV,true)}cd[ce]=cf}this.$q.set(bP,cd)}}finally{bO.dispose()}},$5:function(L){var bN=this.$j.get(L);if(ss.isNullOrUndefined(bN)){bN=this.getMarkBoundingBox(L)}return bN},$4:function(L){this.$r.forEach(function(bN){bN.computeDirtyMarks(L)})},$3:function(){this.$r.forEach(function(L){L.clearDirtyMarks()})},$e:function(){this.$r.forEach(function(L){L.refreshMarkState()})}});ss.initClass(bp,a,{});bp.$0.prototype=bp.prototype;ss.initClass(bq,a,{hitTest:function(L,bN){var bO=new tab.HitTestSceneCmd;bO.c['pt1']=tab.PointUtil.toPresModel(L);bO.c['visualIdPresModel']=this.region.get_visualId();bO.invoke().done(ss.mkdel(this,function(bP){var bQ=bP.$$c['sceneElements'];if(ss.isValue(bQ)&&bQ.length>0){var bR=new tab.SceneElementModel(bQ[0]);var bS=bR.get_paneId();var bT=this.makePaneSpecId(bS.get_columnIndex(),bS.get_rowIndex());var bU=new F(bR);this.setCurrent(new bH(this.region,bT,bS.get_columnIndex(),bS.get_rowIndex(),L,bN,bU))}else{this.setCurrent(null)}}))}},bI,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(br,a,{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(L){this.$3.clear();for(var bN=0;bN<L.length;bN++){var bO=L[bN];this.$0(bO)}this.$1()},$0:function(L){if(tab.SceneDataUtil.isCustomShape(L)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(L)){this.$3.add(L)}},onShapeLoaded:function(L){if(!this.$3.has(L)){return}this.$3.delete(L);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}},null,[ss.IDisposable]);ss.initClass(bu,a,{});ss.initClass(bv,a,{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$o.get_visualModel().get_backgroundColor()},performRender:function(){var L=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$o.get_scene().get_imageDictionary())}finally{if(ss.isValue(L)){L.dispose()}}},postRenderFinalPass:function(){this.get_displayListRenderer().renderCanvasBorders(this.get_visualListVM())},onViewModelPropertyChanged:function(L,bN){if(bN.get_propertyName()==='HoverNode'){var bO={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(bO),true)}else{ss.makeGenericType(bG,[bC]).prototype.onViewModelPropertyChanged.call(this,L,bN)}}},ss.makeGenericType(bG,[bC]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bC]),spiff.IScrollable,M]);ss.initClass(bw,a,{get_isDragTracking:function(){return false},get_isScrollable:function(){return this.get_contentProvider().get_canScrollX()||this.get_contentProvider().get_canScrollY()},get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$8},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$b},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(L){if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}this.regionContent=L;if(ss.isValue(this.regionContent)){this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}},get_sceneInfo:function(){if(this.$8!=='viz'){return null}var L=ss.safeCast(this.regionContent,bc);if(ss.isNullOrUndefined(L)){return null}var bN=L.get_viewModel();return bN.get_scene()},get_visualListVM:function(){var L=this.get_contentProvider();return L.get_viewModel()},get_shapeSelector:function(){return this.$a},get_visualObjectBoundsComputerAndHitTester:function(){return this.$d},get_toolModeViewModel:function(){return this.$c},sendSelectionCommand:function(L,bN,bO,bP){this.get_shapeSelector().sendSelectionCommand(L,bN,bO,bP)},turnOnWindowLogging:function(){if(!ss.isValue(bw.windowLog)){bw.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.get_toolModeViewModel().handleDeferredModeChangeIfNeeded();if(this.shouldResetVisualState()){return}this.resetVisualState()},resetVisualState:function(){this.backgroundMap.removeMarkOverlay();this.setViewportBorderVisibility(false);this.hideDomDrag();this.$e=tab.MiscUtil.dispose$1(this.$e)},destroy:function(){this.disposables.dispose();this.allowPanZoom=null;if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy()}if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().remove_tileSourceChanged(ss.mkdel(this,this.$2))}this.backgroundMap.$6();this.backgroundMap.dispose();this.get_toolModeViewModel().remove_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode))},setGeometry:function(L,bN,bO){if(ss.isValue(this.regionContent)){this.regionContent.set_actualViewSize({w:bN.w,h:bN.h});this.regionContent.reset(L,bO);this.backgroundMap.$b(L.w,L.h);this.$9={x:0,y:0,w:L.w,h:L.h};this.updateSelectorShape(this.get_toolModeViewModel().get_currentPointerToolMode())}},refreshImages:function(L){if(ss.isValue(this.regionContent)){this.regionContent.refreshImages(L)}},onZoomBoxMouseMove:function(L){this.onSelectorMouseMove(L,this.domPanZoomRect)},onMarqueeMouseMove:function(L){this.onSelectorMouseMove(L,this.$a)},onSelectorMouseMove:function(L,bN){L.preventDefault();bN.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y});var bO=bN.get_connectNodePos();var bP=L.get_gestureInfo().pageX-bO.x;var bQ=L.get_gestureInfo().pageY-bO.y;var bR=((bP<0)?bP:((bP>bO.w)?(bP-bO.w):0));var bS=((bQ<0)?bQ:((bQ>bO.h)?(bQ-bO.h):0));var bT=this.determineScrollDirection(0,bR);var bU=this.determineScrollDirection(1,bS);var bV=((Math.max(Math.abs(bR),Math.abs(bS))>15)?'fast':'slow');if(bT!==0||bU!==0){this.startScrolling(bT,bU,bV);bN.constrainShape(L.get_gestureInfo())}else{this.stopScrolling();bN.updateAndRenderShape(L.get_gestureInfo())}},onDoubleTapAxis:function(L){var bN=this.toLocalCoordsEvent(L,false);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(this.get_contentProvider())){tab.EditAxisDialogCommands.showEditAxisDialogInServerRenderedMode(this.get_visualId(),bN,this.get_regionPart());return}var bO=true;var bP=this.hitTestNodes(bN);if(ss.isNullOrUndefined(bP)){return}if(this.get_regionPart()==='bottomaxis'){bO=tab.SelectionUtils.isQuantitative(bP)}if(bO){tab.EditAxisDialogCommands.showEditAxisDialogInBrowserRenderedMode(bP.node)}},debugWindowLog:function(L){if(ss.isValue(bw.windowLog)){}},toLocalCoords:function(L,bN){var bO=this.getLocalOffsetPoint(bN);var bP={x:L.x-bO.x,y:L.y-bO.y};return bP},toLocalCoordsRect:function(L,bN){var bO=this.getLocalOffset(bN);var bP={x:bO.x,y:bO.y};var bQ={x:L.x-bP.x,y:L.y-bP.y,w:L.w,h:L.h};return bQ},toLocalCoordsEvent:function(L,bN){var bO={x:L.get_gestureInfo().pageX,y:L.get_gestureInfo().pageY};return this.toLocalCoords(bO,bN)},getLocalOffset:function(L){var bN=tab.DomUtil.getRectXY(this.connectNode);if(L||ss.isNullOrUndefined(this.regionContent)){return bN}bN.x-=this.regionContent.get_scrollPos().x;bN.y-=this.regionContent.get_scrollPos().y;return bN},getLocalOffsetPoint:function(L){var bN=this.getLocalOffset(L);var bO={x:bN.x,y:bN.y};return bO},getPaneDrawInfoFromSelectionAnchor:function(L){var bN=this.get_visualObjectBoundsComputerAndHitTester().$2(L,this.get_sceneInfo());if(bN.length===0){return null}return this.get_sceneInfo().getPaneDrawInfoFromKey(bN[0])},hitTestVisualPartsHelper:function(L,bN){return(F.hasExactHit(bN)?[]:this.get_visualObjectBoundsComputerAndHitTester().$4(L,this.paneTableViewModel))},hitTestMarksAgainstSelectionShape:function(){return this.get_visualObjectBoundsComputerAndHitTester().$3(null,false,this.$a,this.get_sceneInfo())},selectNode:function(L,bN,bO,bP){var bQ=this.get_visualListVM();bQ.selectNode(L,bN,bO,bP)},hitTestNodes:function(L){var bN=this.get_visualListVM();var bO=_.find(bN.get_groupItemNodes(),function(bP){var bQ=bP.extentsX||0;var bR=bP.extentsY||0;var bS={x:bQ,y:bR,w:bP.extentsWidth,h:bP.extentsHeight};return tab.RectXYUtil.inRect(bS,L)});return bO},doSelectFromPoint:function(L,bN,bO,bP){var bQ=this.hitTestSingleMarksAndVisualParts(L);switch(bQ.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([bQ.get_id()],this.get_visualId(),bN,false,function(){bO(bQ)});break}case'visualparts':{var bR={x:L.x,y:L.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.$8,bR,bN,this.get_visualId(),function(){bO(bQ)},bP,null);break}default:{if(bQ.get_hitType()!==0){bO(bQ)}var bS=bP==='always-clear'||bP==='default'&&bN==='simple';if(bS){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}break}}return bQ},hitTestSingleMarksAndVisualParts:function(L){var bN={x:L.x,y:L.y,w:1,h:1};var bO=this.$d.$3(bN,true,this.$a,this.get_sceneInfo());var bP=this.hitTestVisualPartsHelper(bN,bO);var bQ=F.tieBreakHits(bO,bP);return bQ},doSelectMarkAndUbertipFromSelectionShape:function(L,bN){var bO=F.getIdsFromHitTestResults(this.hitTestMarksAgainstSelectionShape(),false);tab.SelectionClientCommands.selectMarksLocal(bO,this.get_visualId(),L,true,bN);return bO},moveMapToBounds:function(L){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.backgroundMap.splatOverlayToMapForTransition(bw.getCanvasElement(this.connectNode));this.setViewportBorderVisibility(true);this.backgroundMap.moveToBounds(L)}},isExistingSelection:function(){var L=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel().tupleSelection;return L.get_ids().length!==0},$0:function(L,bN){if(bN.get_propertyName()==='scene'||bN.get_propertyName()==='vizdata'){this.get_visualObjectBoundsComputerAndHitTester().$0()}},$1:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},zoomPoint:function(L,bN,bO,bP,bQ){if(this.resetIsWaitingOnTransition){return}this.waitingOnPanZoomServerResponse='waitingOnServer';this.suppressTooltips();var bR=(L.canDragH?bO:1);var bS=(L.canDragV?bO:1);var bT=bN;var bU=1/bO;if(bP){tab.PanZoomCommands.zoomDoubleClick(bN,bT,bO>1,bQ,bU,this.$b)}else if(bO>1){tab.PanZoomCommands.zoomIn(bN,bT,bU,this.$b)}else{tab.PanZoomCommands.zoomOut(bN,bT,bU,this.$b)}var bV=((bO>1)?1:-1);this.backgroundMap.zoomOnPoint(bN,bV);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.$e=new spiff.Glass;this.$e.show();this.animateZoomOnPoint(L,bN,bR,bS)}},makeDomDrag:function(){this.domPanZoomRect.createDomAndAppend(this.connectNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDrag:function(){if(this.$8!=='viz'||!this.$5){return}this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('');this.$5=false},showDomDragImage:function(L){this.$5=true;this.setViewportBorderVisibility(true);if(this.backgroundMap.get_enabled()){this.backgroundMap.splatOverlayToMapForTransition(bw.getCanvasElement(this.connectNode))}else{var bN=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var bO={l:L.x-bN.x+1,t:L.y-bN.y+1,w:L.w+1-2,h:L.h+1-2};var bP=this.$7.clone();if(ss.isInstanceOfType(this.regionContent,bc)){var bQ=bw.getCanvasElement(bP);var bR=tab.CanvasRenderer.getRenderContext(bQ,'transparent');this.regionContent.copyContent(bR)}bP.removeClass();bP.addClass('tvdrag_imageContainer');this.domDragImage.append(bP);this.domDragImage.css('display','');var bS=1;tab.DomUtil.setMarginBoxJQ(bP,{l:-bO.l-bS,t:-bO.t-bS,w:tab.DoubleUtil.roundToInt(bP.width())-2,h:tab.DoubleUtil.roundToInt(bP.height())-2});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:bN.x+bS,t:bN.y+bS,w:bO.w-2,h:bO.h-2});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),bO);this.domPanZoomRect.get_dom().css('display','')}},getCenterPoint:function(L){var bN=Math.floor(L.w/2)+L.x;var bO=Math.floor(L.h/2)+L.y;return{x:bN,y:bO}},addHiddenDiv:function(L,bN,bO){L.addClass(bN);L.css('display','none');bO.append(L)},animateZoomOnPoint:function(L,bN,bO,bP){var bQ=((bO<1)?-1:((bO>1)?1:0));var bR=((bP<1)?-1:((bP>1)?1:0));var bS={x:bQ,y:bR};var bT=this.getCenterPoint(L);var bU=Math.floor((bT.x-bN.x)*bS.x*bO);var bV=Math.floor((bT.y-bN.y)*bS.y*bP);var bW={scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};bW.translateX=bU;bW.translateY=bV;bW.scaleX=bO;bW.scaleY=bP;bW.time=777;this.showDomDragImage(L);this.animateZoomWithCSSTransitions(bW)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},animateAnchorZoomLeaflet:function(L,bN,bO){this.showDomDragImage(L);if(this.mapIsBrowserRendered()){this.backgroundMap.animateAnchorZoom(bO,bN)}},animateAnchorZoom:function(L,bN,bO){var bP=1/bO;var bQ=((L.x>0)?(bN.x%L.x):bN.x);var bR=((L.y>0)?(bN.y%L.y):bN.y);var bS={x:bQ,y:bR};var bT={scaleX:bP,scaleY:bP,time:500,scale:1,translateX:0,translateY:0,transformOrigin:null};this.showDomDragImage(L);bT.transformOrigin=bS;this.animateZoomWithCSSTransitions(bT)},getPointLatLong:function(L){return this.backgroundMap.getPointLatLong(L)},animateZoomWithCSSTransitions:function(L){var bN=this.domDragImage.get(0);this.get_toolModeViewModel().deferModeChanges();this.resetIsWaitingOnTransition=true;window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(bN,L);this.$6=true;var bO=500;window.setTimeout(ss.mkdel(this,function(){this.resetIsWaitingOnTransition=false;if(!this.get_toolModeViewModel().isDeferringModeChanges){this.reset()}}),bO)}),50)},stopScrolling:null,startScrolling:null,determineScrollDirection:null,onRegionContentLoadComplete:function(L,bN){if(this.waitingOnPanZoomServerResponse==='waitingOnServer'){this.waitingOnPanZoomServerResponse='normal'}if(this.$8==='viz'){if(!this.isScrolling&&this.$5){this.hideDomDrag()}if(this.$6){tableau.util.transform(this.domDragImage.get(0),null);this.$6=false}}},getPanZoomFillColor:function(){var L='rgb(255,255,255)';if(this.$8==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){L=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){L=this.paneTableViewModel.get_scene().scene.bgColor}}return L},$2:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.$6()}this.$3()},$3:function(){if(this.$8!=='viz'){return}this.setViewportBorderVisibility(false);var L=this.paneTableViewModel.get_mapServerModel();if(L.get_hasPresModel()){if(L.get_useFastMaps()&&!this.backgroundMap.get_enabled()){this.backgroundMap.$3(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel());if(ss.isValue(this.$9)&&!tab.RectXYUtil.isEmpty(this.$9)){this.backgroundMap.$b(this.$9.w,this.$9.h)}}}else{this.backgroundMap.$6()}var bN=this.getPanZoomFillColor();if(!ss.referenceEquals(this.$4,bN)){this.backgroundDiv.css('backgroundColor',bN);this.$4=bN}},setViewportBorderVisibility:function(L){this.paneTableViewModel.set_highlightBorder(L)},updateForToolMode:function(L){this.updateSelectorShape(L)},updateSelectorShape:function(L){if(ss.isValue(this.$a)){if(ss.isValue(this.$a.get_dom())){this.$a.get_dom().remove()}this.$a=null}switch(L){case'lasso-selection':{this.$a=new bi(this.$9,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var bN=this.paneTableViewModel.get_mapServerModel();this.$a=new m(this.$9,bN.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$a=new bk;break}}this.$a.createDomAndAppend(this.connectNode)},shouldResetVisualState:function(){return!tsConfig.is_mobile&&this.resetIsWaitingOnTransition}});ss.initClass(bx,a,{add_loadComplete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_loadComplete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_actualViewSize:function(){return{w:this.$c.clientWidth,h:this.$c.clientHeight}},set_actualViewSize:function(L){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(L){this.set_left(L.x);this.set_top(L.y);this.$3(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$f.w,h:this.$f.h}},get_left:function(){return this.$j},set_left:function(L){this.$j=L;if(this.$l){this.$c.scrollLeft=L}},get_top:function(){return this.$q},set_top:function(L){this.$q=L;if(this.$l){this.$c.scrollTop=L}},destroy:function(){this.$d.destroy();if(this.$n>0){this.$k.decrementWait();tab.ImageTileTracker.decrementPendingCount();this.$n=0}this.$g=null;this.$r=null},refreshImages:function(L){if(this.$2()){return}if(ss.isNullOrUndefined(L)){return}this.$b=L;this.$1();this.$3(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$e);this.$e=false},reset:function(L,bN){var bO=this.$f;this.$f=L;var bP=this.$m;this.$m=bN;if(this.$2()){return}if(this.$4(bO,bP)){return}this.$o=Math.ceil(this.$f.w/this.$m.w);this.$p=Math.ceil(this.$f.h/this.$m.h);this.$8();this.$a()},$8:function(){this.$h.width(this.$f.w);this.$h.height(this.$f.h)},$a:function(){var L=this.$f.h-this.$c.offsetHeight;var bN=this.$f.w-this.$c.offsetWidth;L=Math.max(0,L);bN=Math.max(0,bN);this.set_top(Math.min(this.get_top(),L));this.set_left(Math.min(this.get_left(),bN))},$4:function(L,bN){return tab.RegionRectUtil.sizesAreEqual(L,this.$f)&&tab.SizeUtil.equals(bN,this.$m)},$2:function(){if(ss.isNullOrUndefined(this.$f)){return true}return this.$f.w===0&&this.$f.h===0},setXPos:function(L){this.set_scrollPos({x:L,y:this.get_scrollPos().y})},setYPos:function(L){this.set_scrollPos({x:this.get_scrollPos().x,y:L})},$0:function(L){var bN=$(L);if(!!bN.prop('_deferredClear')){bN.prop('_deferredClear',null);bN.empty()}},$3:function(L){if(!ss.isValue(L)){L=false}if(this.$2()){return}if(!ss.isValue(this.$b)){return}this.$d.clear();if(!ss.isValue(this.$k)){return}var bN=this.get_left();var bO=bN+this.$c.clientWidth;var bP=this.get_top();var bQ=bP+this.$c.clientHeight;var bR=Math.max(Math.floor(bN/this.$m.w),0);var bS=Math.min(Math.ceil(bO/this.$m.w),this.$o);var bT=Math.max(Math.floor(bP/this.$m.h),0);var bU=Math.min(Math.ceil(bQ/this.$m.h),this.$p);var bV=this.$n;this.$n=Math.max((bS-bR)*(bU-bT),0);if(bV<=0&&this.$n>0){if(L){this.$k.incrementWait(false)}tab.ImageTileTracker.incrementPendingCount()}var bW='';var bX=0;if(ss.isValue(this.$g)){bW=this.$g()}if(ss.isValue(this.$r)){bX=this.$r.get_cacheVersion()}var bY=false;for(var bZ=bR;bZ<bS;bZ++){var ca=Math.min(this.$m.w,this.$f.w-bZ*this.$m.w);for(var cb=bT;cb<bU;++cb){var cc=Math.min(this.$m.h,this.$f.h-cb*this.$m.h);var cd=cb*this.$o+bZ;var ce={l:bZ*this.$m.w,t:cb*this.$m.h,w:ca,h:cc};var cf=this.$k.formatTileURL(this.$b,this.$f.r,bZ,cb,'',bW);if(ss.isValue(this.$i[cd])&&this.$i[cd].$0(cf,bX)){if(L){this.$9()}var cg=this.$i[cd].$2();var ch=cg.width!==ce.w||cg.height!==ce.h;if(ch){$(cg).css(ss.mkdict(['left',ce.l+'px','top',ce.t+'px']));tab.RenderUtil.ensureImageEltSize(cg,ce)}}else{bY=true;this.$i[cd]=this.$i[cd]||new j;var ci=new H(this.$i[cd].$2(),cd,cf,ce,bX);this.$d.addImage(ci)}}}if(!bY){this.$h.each(ss.mkdel(this,function(cj,ck){this.$0(ck)}))}},$1:function(){this.$i=[];this.$h.prop('_deferredClear',true)},$9:function(){if(this.$n>0){this.$n--;if(this.$n===0){this.$k.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$5:function(L,bN){this.$9();if(ss.isValue(bN.get_image().get_imageNode())){var bO=bN.get_image().get_imageNode();tab.RenderUtil.ensureImageEltSize(bO,bN.get_image().get_bounds());var bP=bN.get_image().get_index();var bQ=this.$r.get_cacheVersion();if(!ss.isValue(this.$i[bP])){return}if((!ss.isValue(this.$i[bP].$2())||!ss.referenceEquals($(this.$i[bP].$2()).attr('src'),$(bO).attr('src')))&&bN.get_image().get_version()===bQ){this.$i[bP].$3(bO);this.$i[bP].$1=bQ;var bR=bO;var bS=0;var bT=this.$h.length;this.$h.each(ss.mkdel(this,function(bU,bV){this.$0(bV);bV.appendChild(bR);if(bS<bT-1){bR=bR.cloneNode(false)}bS++}))}}},$6:function(L,bN){this.$9()},$7:function(L,bN){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}},null,[spiff.IScrollable,M]);ss.initClass(by,a,{add_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_appendModeUpdated:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_appendModeUpdated:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},get_isAppendMode:function(){return this.$7},set_isAppendMode:function(L){if(this.$7!==L){this.$7=L;this.raiseActionEvent$1(Boolean).call(this,this.$2$2,this.$7)}},get_currentToolbarToolMode:function(){return this.$5},set_currentToolbarToolMode:function(L){if(tsConfig.allow_filter){this.$5=L}},get_currentPointerToolMode:function(){return((this.currentModifierKeyToolMode==='no-tools')?this.get_currentToolbarToolMode():this.currentModifierKeyToolMode)},get_isPanToolActive:function(){return this.get_currentPointerToolMode()==='pan-map'},get_isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},get_isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},initializeToolModesForVizRegion:function(L){this.defaultPointerToolMode=this.$3(L);this.$5=this.defaultPointerToolMode;this.resetPointerToolMode()},setPointerToolMode:function(L){if(ss.isNullOrUndefined(L)){L=this.defaultPointerToolMode}this.$4(L)},$3:function(L){if(tsConfig.is_mobile){var bN='pan-map';if(L||tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){bN=this.$8;if(bN==='area-zoom'){bN='rectangular-selection'}}return bN}else{return this.$8}},updateDefaultToolMode:function(L){this.defaultPointerToolMode=this.$3(L)},setLockedPointerToolMode:function(L){this.$8=L},resetPointerToolMode:function(){this.setPointerToolMode(this.defaultPointerToolMode)},$4:function(L){if(!tsConfig.is_mobile){if(this.$2(L)){return}}this.set_currentToolbarToolMode(L);this.raiseActionEvent$1(Object).call(this,this.$2$1,L)},deferModeChanges:function(){this.isDeferringModeChanges=true},handleDeferredModeChangeIfNeeded:function(){if(tsConfig.is_mobile){return}this.isDeferringModeChanges=false;if(ss.isValue(this.$6)){var L=ss.unbox(this.$6);this.$6=null;this.currentModifierKeyToolMode='no-tools';this.$4(L)}},$2:function(L){if(this.isDeferringModeChanges){this.$6=L;return true}return false}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bz,a,{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(L){return function(){}},buildBehaviorsDictionary:function(){var L=new tab.DisabledTooltipBehavior;this.tooltipBehaviors['disabled']=L},suppressHoverIfNecesary:function(){}},tab.TooltipBaseMode);ss.initClass(bA,a,{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var L=this.tooltipBehaviors['smooth'];L.remove_onMouseStop(ss.mkdel(this,this.$x));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_closed(ss.mkdel(this,this.$y));this.$t();tab.TooltipBaseMode.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var L=tab.ObjectRegistry.newLegacyTooltipBehavior(tab.ITooltipBehavior).call(null,tab.ITooltipBehavior,this.get_tooltip());var bN=new tab.SmoothTooltipBehavior(this.get_tooltip());this.tooltipBehaviors['sticky']=L;this.tooltipBehaviors['smooth']=bN},getSingleSelectBehaviorCallback:function(L){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(L);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isCurrentObjectSelected()){this.switchTooltipMode('smooth');this.$u();if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')&&tsConfig.is_mobile&&this.get_tooltip().get_isShown()){this.get_tooltip().close()}}})},shouldShowCommandButtons:function(){var L=tab.TooltipBaseMode.prototype.shouldShowCommandButtons.call(this);var bN=this.get_ubertip().get_model();if(!L||ss.isNullOrUndefined(bN)){return L}var bO=bN.tupleId===0;if(!bO){L=this.isCurrentObjectSelected()}return L},getSingleSelectBehavior:function(L){return'sticky'},getHoverBehavior:function(L){var bN=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(L==='header'||L==='visualparts'){bN='sticky'}else if(L==='mark'){bN='smooth'}else{}}else if(L==='header'){bN='sticky'}else{bN='smooth'}return bN},onPanOrDragStart:function(L){this.$t();tab.TooltipBaseMode.prototype.onPanOrDragStart.call(this,L)},onDragEnd:function(L){this.get_tooltip().close();this.$s();tab.TooltipBaseMode.prototype.onDragEnd.call(this,L)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$s()}else{this.$t()}},$y:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true)},$v:function(L){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(L)}},$w:function(L){if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:L.pageX,y:L.pageY},false)){return}if(this.get_isTooltipShown()){this.get_tooltip().close()}},$x:function(L){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}if(!this.$z){return}var bN=false;var bO=this.isCurrentObjectSelected();if(bO){bN=this.switchTooltipMode('sticky')}this.$u();if(bN&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$u:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())){this.get_tooltip().close()}},$s:function(){if(this.$A){return}if(tsConfig.is_mobile){this.$B.on(this.$E,ss.mkdel(this,this.$v))}else{this.$B.on(this.$C,ss.mkdel(this,this.$v))}this.$B.on(this.$D,ss.mkdel(this,this.$w));this.$A=true},$t:function(){if(!this.$A){return}if(tsConfig.is_mobile){this.$B.off(this.$E)}else{this.$B.off(this.$C)}this.$B.off(this.$D);this.$A=false}},tab.TooltipBaseMode);ss.initClass(bB,a,{$3:function(L,bN,bO){var bP={x:0,y:0,w:L.w,h:L.h};if(bN>=0&&this.$g.$1){var bQ=this.$g.$3[bN];var bR=this.$g.$3[bN+1];bP.x+=bQ;bP.w=bR-bQ}if(bO>=0&&this.$g.$2){var bS=this.$g.$4[bO];var bT=this.$g.$4[bO+1];bP.y+=bS;bP.h=bT-bS}return bP},$7:function(L){return this.$h[L]},$8:function(L){var bN=this.$e[L];return this.$h[bN]},$4:function(L){return this.$e[L]},$5:function(L){return this.$d[L+1]-this.$d[L]},$6:function(L){return{firstMark:this.$d[L],lastMark:this.$d[L+1]-1}},$2:function(L){var bN=L.c.get('user_pane_col');var bO=L.c.get('user_pane_row');var bP=L.paneRect;var bQ=L.markCount;var bR=0;var bS=-1;var bT=-1;var bU=ss.isNullOrUndefined(bO);var bV=ss.isNullOrUndefined(bN);if(!bU||!bV){for(var bW=0;bW<bQ;++bW){var bX=(bV?-1:bN.v[(bN.c?0:bW)]);var bY=(bU?-1:bO.v[(bO.c?0:bW)]);if(bX!==bS||bY!==bT){this.$1(bW,bR,bX,bY,bP);bS=bX;bT=bY;bR+=1}}}this.$d[bR]=bQ;this.$0(bR);return bR},$0:function(L){if(L===0){return}var bN=L-1;var bO=this.$d[bN];var bP=this.$d[L];for(var bQ=bO;bQ<bP;++bQ){this.$e[bQ]=bN}},$1:function(L,bN,bO,bP,bQ){if(ss.isValue(this.$c)){this.$c[bN]=bO}if(ss.isValue(this.$f)){this.$f[bN]=bP}this.$h[bN]=this.$3(bQ,bO,bP);this.$d[bN]=L;this.$0(bN)},$9:function(L){for(var bN=0;bN<this.$b;++bN){var bO=this.$7(bN);var bP=this.$6(bN);var bQ=bP.firstMark;var bR=bP.lastMark;for(var bS=bQ;bS<=bR;++bS){L(bS,bO)}}},$a:function(L,bN){var bO=-1;var bP=null;for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];var bS=this.$e[bR];if(bS!==bO){bO=bS;bP=this.$7(bS)}bN(bR,bP)}}});ss.initClass(bC,a,{get_visualList:function(){return this.$6},get_groupItemNodes:function(){return this.$6.get_groupItemNodes()},get_visualListPM:function(){return this.$6.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$5},set_defaultBackgroundColor:function(L){this.$5=L},get_hoveredCategoricalNode:function(){return this.$4},set_hoveredCategoricalNode:function(L){if(!ss.referenceEquals(this.$4,L)){this.$7=this.$4;this.$4=L;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(L){var bN={x:0,y:0,w:0,h:0};var bO=[this.$7,this.$4];for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];if(ss.isValue(bQ)){var bR={x:bQ.extentsX,y:bQ.extentsY,w:bQ.extentsWidth,h:bQ.extentsHeight};bN=tab.RectXYUtil.union(bN,bR)}}return tab.RectXYUtil.offsetRect(bN,L)},isHovered:function(L){return ss.referenceEquals(L,this.$4)},isSelected:function(L){return ss.isValue(this.$9)&&this.$9.isNodeSelected(L)},isBrushed:function(L){return ss.isValue(this.$3)&&this.$3.isNodeSelected(L)},selectNode:function(L,bN,bO,bP){tab.SelectionClientCommands.selectNode(this.$8,L,bO,this.$6,bN,this.$a,bP)},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$2:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$6.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$9)){this.$9.remove_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(this.$3)){this.$3.remove_newSelection(ss.mkdel(this,this.$2))}spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bD,a,{$0:function(){this.$6=null;this.$5=null},computeBoundsOfSelectedMarks:function(L,bN){var bO=L.get_selectionsModel().tupleSelection;var bP={x:0,y:0,w:0,h:0};var bQ=bO.get_ids();for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=bN.getMarkBoundingBox(bS);bP=tab.RectXYUtil.union(bP,bT)}return bP},computeBoundsOfSelectedNodes:function(L,bN){var bO=L.get_selectionsModel().nodeSelection;var bP={x:0,y:0,w:0,h:0};var bQ=bN;if(ss.isNullOrUndefined(bQ)){return bP}var bR=bQ.get_groupItemNodes();for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];if(!bO.isNodeSelected(bT)){continue}var bU=bT.extentsX||0;var bV=bT.extentsY||0;var bW={x:bU,y:bV,w:bT.extentsWidth,h:bT.extentsHeight};bP=tab.RectXYUtil.union(bP,bW)}return bP},computeBoundsOfSelectedRefLines:function(L,bN){var bO=L.get_selectionsModel().refLineSelection;var bP={x:0,y:0,w:0,h:0};if(bO.isEmpty){return bP}for(var bQ=0;bQ<bN.length;bQ++){var bR=bN[bQ];for(var bS=0;bS<bR.drawItems.length;bS++){var bT=bR.drawItems[bS];var bU=bT;if(!bO.isObjectSelected(bU.objectId)){continue}for(var bV=0;bV<bU.drawItems.length;bV++){var bW=bU.drawItems[bV];if(bW.type!=='draw-polyline'&&bW.type!=='draw-fill-rect'){continue}var bX=bW;if(bX.points.length<4){continue}var bY={x:bX.points[0],y:bX.points[1]};var bZ={x:bX.points[2],y:bX.points[3]};var ca=tab.RectXYUtil.rectXYFromCorners(bY,bZ);ca=tab.RectXYUtil.nonemptyify(ca);bP=tab.RectXYUtil.union(bP,ca)}}}return bP},computeBoundsOfSelectedTrendLines:function(L,bN){var bO=L.get_selectionsModel().trendLineSelection;var bP={x:0,y:0,w:0,h:0};if(bO.isEmpty){return bP}var bQ=this.ensureAndReturnLineHitTestStructures(bN);var bR=new Array;for(var bS=0;bS<bQ.length;bS++){var bT=bQ[bS];bR.push(bT)}while(bR.length!==0){var bU=bR.pop();if(bU.get_nodeType()===4||bU.get_nodeType()===0){var bV=bU.get_children();for(var bW=0;bW<bV.length;bW++){var bX=bV[bW];bR.push(bX)}}else if(bU.get_nodeType()===5){if(bO.isObjectSelected(bU.get_objectId())){bP=tab.RectXYUtil.union(bP,bU.get_boundingBox())}}}return bP},ensureAndReturnLineHitTestStructures:function(L){if(ss.isNullOrUndefined(this.$6)){this.$6=[];var bN=L.get_trendLineVisualLists();if(ss.isValue(bN)){for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];var bQ=bP.drawItems;var bR=1;for(var bS=0;bS<bQ.length;bS++){var bT=bQ[bS];if(bT.type==='draw-group'){var bU=bT;for(var bV=0;bV<bU.drawItems.length;bV++){var bW=bU.drawItems[bV];switch(bW.type){case'draw-pen':{var bX=bW;if(ss.isValue(bX.strokeWidth)){bR=bX.strokeWidth}break}case'draw-path':{var bY=bW;var bZ=G.buildTrendLineHitTestStructure(bY,bR,bU.objectId);this.$6.push(bZ);break}default:{break}}}}}}}}return this.$6},$4:function(L,bN){var bO;var bP=tabBootstrap.MetricsController.createContext('HitTestVisualParts',16,null);{var bQ=[];var bR=[];var bS=bN.get_refLineVisualLists();if(ss.isValue(bS)){bQ=bE.hitTestRefLines(bS,L,true);if(bQ.length!==0&&bQ[0].get_hitType()!==0){}}if(!F.hasExactHit(bQ)){var bT=this.ensureAndReturnLineHitTestStructures(bN);bR=bE.hitTestTrendLines(bT,L,true);if(bR.length!==0&&bR[0].get_hitType()!==0){}}var bU=F.tieBreakHits(bQ,bR);bO=((bU.get_hitType()===0)?[]:[bU])}bP.dispose();return bO},$1:function(L){if(ss.isNullOrUndefined(this.$5)){var bN=G.buildLinearHitTestStructure(L);this.$5=new E(bN)}return this.$5},$2:function(L,bN){var bO=this.$1(bN);var bP={x:L.x,y:L.y,w:1,h:1};var bQ=bO.hitTestPanes(bP);return bQ},$3:function(L,bN,bO,bP){var bQ;{var bR=tabBootstrap.MetricsController.createContext('HitTestMarks',16,null);try{var bS=this.$1(bP);bQ=(ss.isNullOrUndefined(L)?bO.hitTest(bS,bN,bP):bS.hitTest(L,bN,bP))}finally{if(ss.isValue(bR)){bR.dispose()}}}if(bQ.length>0){}return bQ}});ss.initClass(bE,a,{});ss.initEnum(bF,a,{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected'},true);ss.initClass(bH,a,{get_instanceId:function(){return this.$1$1},set_instanceId:function(L){this.$1$1=L},get_region:function(){return this.$1$2},set_region:function(L){this.$1$2=L},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(L){this.$1$3=L},get_paneColumnIndex:function(){return this.$1$4},set_paneColumnIndex:function(L){this.$1$4=L},get_paneRowIndex:function(){return this.$1$5},set_paneRowIndex:function(L){this.$1$5=L},get_regionCoordinates:function(){return this.$1$6},set_regionCoordinates:function(L){this.$1$6=L},get_pageCoordinates:function(){return this.$1$7},set_pageCoordinates:function(L){this.$1$7=L},get_result:function(){return this.$0}},null,[tab.IVizHitInfo]);ss.initClass(bJ,a,{createPaneTableView:null,createPaneTableViewModel:function(L){return new bg(L)},addVizDragHandler:function(L){bf.addVizDragHandler(L)},addAsyncVizDragHandler:function(L){bf.addAsyncVizDragHandler(L)},addVizDragApprover:function(L){bf.addVizDragApprover(L)}},null,[tab.IVizZoneModule]);ss.initClass(bK,a,{get_workerID:function(){return this.$1},get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(bL,a,{get_workerID:function(){return this.$0}},ss.EventArgs);ss.initClass(bM,a,{});(function(){e.$0="<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"})();(function(){h.$0="<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"})();(function(){K.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);K.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);K.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);K.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var L=new K;L.highlightBgColor=K.defaultHighlightBgColor;L.selectionBgColor=K.defaultSelectionBgColor;L.highlightTextColor=K.defaultHighlightTextColor;L.selectionTextColor=K.defaultSelectionTextColor;K.defaultColors=L})();(function(){o.$8='rgb(0,0,0)';o.$7='rgb(245,245,245)';o.$b=['x-labels','bottom-axis','top-axis'];o.$c=['y-labels','left-axis','right-axis'];o.$a=new tab.FifoCache(20);o.$9=true})();(function(){k.$0="<canvas class='tabCanvas'></canvas>"})();(function(){y.halfPI=0.5*Math.PI;y.onePI=Math.PI;y.oneAndHalfPI=1.5*Math.PI;y.twoPI=2*Math.PI;y.$a=Math.PI*0.15})();(function(){F.$0=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);F.$1=ss.mkdict(['ref-lines',3,'trend-lines',2,'ref-bands',3,'marks',5,'mark-labels',6])})();(function(){Y.$e=0.400000005960464;Y.$f='rgb(255,255,255)'})();(function(){m.$5='tvdrag_svg_div';m.$8='circle_radius';m.$0='circle_crosshair';m.$1=4;m.$3='tabDistanceReadout';m.$4="<div class='tabDistanceReadout'></div>";m.$6="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";m.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";m.$9="<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>";m.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>"})();(function(){q.$0=2})();(function(){v.repositionTimeoutMs=300})();(function(){W.$0=5})();(function(){z.$4=0.7;z.$7=110.574;z.$8=111.32;z.$2=90;z.$1=180;z.$5=6000;z.$3=8;z.$6="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){V.widgetClassName='tabMapsSearchView';V.$0='tabMapsSearchViewCollapsed';V.$1='tabMapsSearchContainerCollapsed';V.widgetClassNameTranslucent='tabMapsSearchViewTranslucent';V.suggestionDisplayClassName='tabMapsSearchViewSuggestionDisplayName';V.suggestionActiveSearchTextClassName='tabMapsSearchViewSuggestionActiveSearchText';V.suggestionParentClassName='tabMapsSearchViewSuggestionParentName';V.queryDelayTimerMs=200;V.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';tab.ObjectRegistry.registerType(V,V).call(null)})();(function(){w.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){ba.shapeMarkStampingRatio=32;ba.$a='_int';ba.$8=32767;ba.$9=100;ba.$7=['font','font_size','font_style','font_weight'];ba.$2=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];ba.$5=['x','x1','x_prev','x_next','cell_x'];ba.$4=['clip_width'];ba.$6=['y','y1','y_prev','y_next','cell_y'];ba.$3=['clip_height'];ba.$c=null;ba.$d=null;ba.$b=null})();(function(){bo.$1={x:0,y:0,w:0,h:0}})();(function(){D.$1=null;D.$0=0})();(function(){bM.$0=0.05})();(function(){P.$4=100;P.$2='/css/leaflet.css';P.$5=2;P.$9=10;P.$a=0.01;P.$7=8;P.$3='leaflet-touching';P.$6={item1:90,item2:0};P.$8={item1:-90,item2:0}})();(function(){bH.$0=0})();(function(){bI.hitTestDelay=250;bI.maxHitTestDistance=20})();(function(){T.$0="<div class='tabMapAttribution'><div class='tabMapAttributionBackground' /><a class='tabMapAttributionLink'></a></div>"})();(function(){bC.propertyHoverNode='HoverNode'})();(function(){var L=[];L.push('left-axis');L.push('right-axis');L.push('y-labels');L.push('x-labels');L.push('top-axis');L.push('bottom-axis');L.push('title');L.push('caption');bg.blackListVisualParts=L;bg.zoomToolbarTopOffset=10;bg.vizNavigationSettingPropertyName='vizNavigationSetting';bg.borderHighlightPropertyName='borderHighlight'})();(function(){bn.$0=null;tab.ModuleManager.register(N).call(null,'RuntimeUI',null).andMarkAsAlreadyLoadedInGlobalNamespace()})();(function(){bb.$3='rgba(0,0,0,1)';bb.$2='rgba(255,255,255,255)';bb.$5=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];bb.$4=['background','underMark','marks','underLabel','label','foreground']})();(function(){bd.$2=3;bd.$3=145;bd.$1=false})();(function(){be.$0="<div class='tvViewportBorder tvLeftBorder' /><div class='tvViewportBorder tvRightBorder' /><div class='tvViewportBorder tvTopBorder' /><div class='tvViewportBorder tvBottomBorder' />"})();(function(){bh.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];bh.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];bh.scrollableRegions=['xheader','bottomaxis','topaxis','yheader','leftaxis','rightaxis','viz'];bh.axisRegions=['leftaxis','rightaxis','bottomaxis','topaxis'];bh.headerRegions=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];bh.regionsThatMightContainCategoricalHeader=['yheader','xheader','bottomaxis','topaxis'];bh.nonVizContentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis'];bh.contentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis','viz'];bh.regionsThatClearSelectionOnTap=['uleft','uright','lleft','lright','caption'];bh.spacerRegions=['uleft','uright','lleft','lright']})();(function(){bA.$3=0})();(function(){bf.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';bf.titleClass='tab-tvTitle';bf.$5=8;bf.$6=30;bf.$4=[];bf.$8=[];bf.$7=[]})();(function(){bi.$5='M';bi.$4='L';bi.$1='Z';bi.$2='tvdrag_svg_div';bi.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";bi.$6=300})();(function(){bk.$1='<div></div>';bk.$0='tvdrag';bk.$2='tvdrag_marquee'})();(function(){bE.visualPartNearHitTestExpansionPixels=7})();(function(){bw.windowLog=null;bw.paneBorderMaskSize=2;bw.canvasBorderPixels=1;bw.zoomAnimationTime=777;bw.minZoomAnimationTime=500;bw.zoomToAnchorAnimationTime=500})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=function(){};b.__typeName='spiff.ChangeSpotlightedItemMode';global.spiff.ChangeSpotlightedItemMode=b;var c=function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)};c.__typeName='spiff.ComboBoxViewWeb';global.spiff.ComboBoxViewWeb=c;var d=function(){this.$w=null;this.$v=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$u));this.set_spotlightedItemLogic(null)};d.__typeName='spiff.CompositeSearchWidgetWeb';global.spiff.CompositeSearchWidgetWeb=d;var e=function(){};e.__typeName='spiff.ICompositeSearchWidgetSpotlightedItemLogic';global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=e;var f=function(i){this.$v=0;this.$w=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$n));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$n))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$t)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$s)))};f.__typeName='spiff.MenuViewWeb';f.$0=function(i){return i.prop('scrollHeight')>i.prop('clientHeight')+1};global.spiff.MenuViewWeb=f;var g=function(){spiff.MenuTemplate.call(this)};g.__typeName='spiff.MenuViewWebTemplate';global.spiff.MenuViewWebTemplate=g;var h=function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)};h.__typeName='spiff.UberPopupViewWeb';global.spiff.UberPopupViewWeb=h;ss.initEnum(b,a,{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});ss.initClass(c,a,{},spiff.ComboBoxView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.ComboBoxViewModel])]);ss.initClass(d,a,{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$w;this.$w=null;this.$t(i)},$t:function(i){if(ss.referenceEquals(i,this.$w)){return}this.$v=(ss.isValue(this.$w)?this.get_listViewModel().get_collection()[this.$w]:null);if(ss.isValue(this.$w)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$w))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$v)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$w;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$w=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$w=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$t(l)},$u:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){i.preventDefault();this.$3$2()}break}}}},spiff.CompositeSearchWidget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initInterface(e,a,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$u(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$p))},$u:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset(j));var p=o.x+n;var q=o.y-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:p,y:q});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=ss.Int32.trunc(m-r.roomBelow)}else{var t=5;q-=ss.Int32.trunc(r.roomAbove);s=r.roomAbove-5+r.roomBelow}if(r.roomRight<l){p=Math.max(0,p-l-n)}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.menuViewModel.get_focusedItem();var k=this.menuViewModel.get_menu().menuItems;if(ss.isValue(j)){this.$r(j)}else if(ss.isValue(k)){for(var l=0;l<k.length;l++){if(k[l].enabled){this.menuViewModel.set_focusedItem(k[l]);break}}}},onSized:function(){var i=this.dom.domRoot;if(f.$0(i)){i.css('overflow-y','scroll')}else{i.css('overflow-y','hidden')}},$p:function(i){if(i.pageX===this.$v&&i.pageY===this.$w){return}this.$v=i.pageX+0;this.$w=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$q(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$q:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$s:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$m()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$m();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$q(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$t:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$m:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$n:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isNullOrUndefined(k)){return}k.toggleClass('tabMenuFocusedItem',j);if(!j){return}this.$o(i);if(k.is(':visible')){var l=this.getMenuElementForMenuItem(i);if(ss.isNullOrUndefined(l)){return}var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+(o-n))}}}},$r:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(tab.DoubleUtil.roundToInt(k.scrollTop())+tab.DoubleUtil.roundToInt(j.position().top)-ss.Int32.div(tab.DoubleUtil.roundToInt(j.height()),2));this.$o(i)},$o:function(i){var j=this.getElementForMenuItem(i);if(i.isTextInput){this.element.removeAttr('aria-activedescendant');j.find('input').focus()}else{var k='tab-'+i.id;j.attr('id',k);this.element.attr('aria-activedescendant',k).focus()}}},spiff.MenuView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.MenuViewModel])]);ss.initClass(g,a,{},spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,a,{get_uberPopupShadowHeight:function(){return 2}},spiff.UberPopupView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.UberPopupViewModel])]);(function(){tab.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=function(g,h){tab.ApplicationViewModel.call(this,g,h);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))};b.__typeName='tab.ApplicationViewModelWeb';global.tab.ApplicationViewModelWeb=b;var c=function(g){this.$y=null;this.$A=null;this.$z=null;tab.DataHighlighterView.call(this,g,new tab.DataHighlighterViewTemplate);this.$y=this.get_compositeSearchWidget();this.$y.add_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.add_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.add_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$y.remove_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.remove_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));this.$y.set_spotlightedItemLogic(this)};c.__typeName='tab.DataHighlighterViewWeb';global.tab.DataHighlighterViewWeb=c;var d=function(g){this.$3=false;this.$5='vertical';this.$4=false;this.$7=null;this.$6=0;this.$1$1=false;this.$3=g;this.forgetInputDevice()};d.__typeName='tab.ScrollAdjuster';global.tab.ScrollAdjuster=d;var e=function(){};e.__typeName='tab.ScrollAdjusterUtil';e.getProperty=function(g,h){var i=g[h];return ss.coalesce(i,0)};e.adjustVerticalScrollDeltaForTouchpad=function(g){if(g%tab.MapUtil.defaultWheelDeltaIncrement!==0){var h=Math.abs(g);var i=ss.Int32.div(h,tab.MapUtil.defaultWheelDeltaIncrement)+1;if(g<0){i*=-1}g=tab.MapUtil.defaultWheelDeltaIncrement*i}return g};global.tab.ScrollAdjusterUtil=e;var f=function(g,h){this.$0=null;this.$1=null;this.$0=g.get(0);this.$1=h.get(0)};f.__typeName='tab.WebScroller';global.tab.WebScroller=f;ss.initClass(b,a,{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}},tab.ApplicationViewModel,[tab.IWidget,tab.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initClass(c,a,{$x:function(g){this.$z=g;if(ss.isValue(this.$z)){var h=this.$z.get_data();this.get_viewModel().highlightItems([h.objectId])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$r:function(g){if(ss.isNullOrUndefined(g.get_data())){return}this.$y.changeSpotlightedListItem(4,g);if(ss.isNullOrUndefined(this.$A)){var h=$(document).find('.tabDataHighlighterViewSearchResultList');this.$A=spiff.EventUtil.bindWithDispose(h,'mouseleave',ss.mkdel(this,this.$v));this.disposables.add$1(this.$A)}},$t:function(g){this.$r(g)},$u:function(g){this.$r(g)},$v:function(g){this.$y.resetSpotlightedItem();this.$w()},removeList:function(){this.$w();tab.DataHighlighterView.prototype.removeList.call(this)},$w:function(){if(ss.isNullOrUndefined(this.$A)){return}this.$A.dispose();this.$A=null},handleEnterKeyPress:function(){if(ss.isValue(this.$z)){this.handleListItemSelected(this.$z);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(g){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,g)},$s:function(){var g;if(ss.isNullOrUndefined(this.$z)){var h=this.$y.get_listViewModel();if(ss.isNullOrUndefined(h)||h.get_collection().length===0){return}var i=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(i===0){this.removeList();return}g=h.get_collection()[0].get_data()}else{g=this.$z.get_data()}this.get_compositeSearchWidget().setSearchText(g.text);this.dataHighlighterViewModel.sendSearchQuery(g.text,false)},populateAndDisplayList:function(g,h){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,g,h);this.$y.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(g,h,i){var j=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(h===4){if(ss.Nullable$1.gt(i,j)){i=j}return i}if(ss.isNullOrUndefined(g)){return 0}var k=g;switch(h){case 1:{k=ss.Nullable$1.add(k,1);if(ss.Nullable$1.gt(k,j)){k=j}break}case 0:{k=ss.Nullable$1.sub(k,1);if(ss.Nullable$1.lt(k,0)){k=null}break}case 2:{k=0;break}case 3:{k=j;break}}return k}},tab.DataHighlighterView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.DataHighlighterViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(d,a,{get_isFromTouchpad:function(){return this.$1$1},set_isFromTouchpad:function(g){this.$1$1=g},forgetInputDevice:function(){this.set_isFromTouchpad(false);this.$4=false;this.$6=0;this.$7=null},normalizeScrollWheelDeltas:function(g){var h,i;var j=e.getProperty(g,'wheelDeltaY');var k=e.getProperty(g,'wheelDeltaX');var l=e.getProperty(g,'deltaY');var m=e.getProperty(g,'deltaX');var n=e.getProperty(g,'detail');if(n!==0){var o=g['axis'];var p=g['HORIZONTAL_AXIS'];i=(ss.referenceEquals(o,p)?0:n);h=(ss.referenceEquals(o,p)?n:0)}else if(j!==0||k!==0){if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=7){var q=Math.abs(k);var r=Math.abs(j);var s=Math.max(q,r);if(this.get_isFromTouchpad()){if(s%3===0){k=ss.Int32.div(k,3);j=ss.Int32.div(j,3)}}else if(s%12===0){k=((k<0)?-120:120);j=((j<0)?-120:120)}}i=-j;h=-k}else if(l!==0||m!==0){var t=(this.get_isFromTouchpad()?3:40);if(tab.BrowserSupport.get_isMac()){t*=3;if(Math.abs(l)>0&&Math.abs(l)<1||Math.abs(m)>0&&Math.abs(m)<1){t*=10}}else{this.$1()}i=t*l;h=t*m}else{i=-g['wheelDelta'];h=0}this.$0(i,l);return((this.get_isFromTouchpad()&&this.$3)?this.$2(h,i):{x:h,y:i})},$1:function(){if(this.$4){return}if(ss.staticEquals(this.$7,null)){this.$7=new Date}else{var g=this.$6>10;if(g||new Date-this.$7>100){this.set_isFromTouchpad(g);this.$4=true}}this.$6++},$0:function(g,h){if(this.$4){return}if(!tab.BrowserSupport.get_isFF()){var i=Math.abs(g);if(i>0){this.$4=true;if(i<12){this.set_isFromTouchpad(true)}}}else{var j=Math.abs(h);if(j>0){this.$4=true;if(tab.BrowserSupport.get_isMac()){this.set_isFromTouchpad(Math.abs(h)>=1)}}}},$2:function(g,h){var i=((g!==0&&h!==0)?this.$5:((g===0)?'vertical':'horizontal'));if(this.$5==='vertical'){g=0}if(this.$5==='horizontal'){h=0}this.$5=i;return{x:g,y:h}}});ss.initClass(e,a,{});ss.initClass(f,a,{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var g=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var h=(ss.isNullOrUndefined(this.$1)?0:tab.DoubleUtil.roundToInt($(this.$1).scrollTop()));return{x:g,y:h}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(g){if(this.get_canScrollX()){this.$0.scrollLeft+=g}},scrollY:function(g){if(this.get_canScrollY()){this.$1.scrollTop+=g}},setScrollTarget:function(g){},refresh:function(){}},null,[spiff.IScroller]);(function(){tab.ObjectRegistry.registerType(tab.DataHighlighterView,c).call(null)})();(function(){d.$4=120;d.$5=12;d.$7=3;d.$6=40;d.$8=3;d.$2=3;d.$3=10;d.$1=10;d.$0=100})()})();;
/*! BEGIN VizZoneWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzoneweb');var b=function(){};b.__typeName='tab.$0';var c=function(){this.$0=null;this.$1=0};c.__typeName='tab.$1';var d=function(u,v,w,x,y,z){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=u;this.$2=v;this.$3=w;this.$0=x;this.$5=y;this.$1=z};d.__typeName='tab.$2';var e=function(u,v,w){this.$1=0;this.$2=0;this.$0=0;this.$1=u;this.$2=v;this.$0=w};e.__typeName='tab.$3';var f=function(){};f.__typeName='tab.CursorKey';global.tab.CursorKey=f;var g=function(u,v){this.$s=null;this.$t=null;this.$u=null;this.$m=null;this.$n=null;this.$v=null;this.$p=false;this.$q=null;this.$o=null;this.$r=null;this.$x=null;this.$w=null;o.call(this,$(document.createElement('div')),$(v));this.$v=u;this.$s=this.$v.get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$m=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown' />").appendTo(this.element);this.$t=new spiff.Button(this.$m);this.$t.add_press(ss.mkdel(this,this.$c));this.$n=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp' />").appendTo(this.element);this.$u=new spiff.Button(this.$n);this.$u.add_press(ss.mkdel(this,this.$d));v.appendChild(this.element.get(0));this.$f();this.turnDrillWidgetsOff()};g.__typeName='tab.Drilling';global.tab.Drilling=g;var h=function(u){this.$0=null;this.$0=u};h.__typeName='tab.FloatingZoomToolbarOperationsWeb';global.tab.FloatingZoomToolbarOperationsWeb=h;var i=function(u,v,w,x,y){tab.FloatingZoomToolbar.call(this,u,v,w,x,y);this.init()};i.__typeName='tab.FloatingZoomToolbarWeb';i.$0=function(u){return u+'\n'+tab.Strings.SelectionToolsLockTooltip};global.tab.FloatingZoomToolbarWeb=i;var j=function(u){this.$0=null;this.$0=u};j.__typeName='tab.HoverApi';global.tab.HoverApi=j;var k=function(u){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(u,'tooltip');this.$j=u;this.$i=[];this.$k=k.$0()};k.__typeName='tab.LegacyTooltipBehavior';k.$0=function(){k.$6++;return'mousemove.LegacyTooltipBehavior'+k.$6.toString()};global.tab.LegacyTooltipBehavior=k;var l=function(u){this.$u=null;tab.MapsSearchView.call(this,u,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$r));var v=this.get_compositeSearchWidget();v.add_spotlightedListItemChanged(ss.mkdel(this,this.$q));v.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){v.remove_spotlightedListItemChanged(ss.mkdel(this,this.$q));v.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));v.set_spotlightedItemLogic(this)};l.__typeName='tab.MapsSearchViewWeb';global.tab.MapsSearchViewWeb=l;var m=function(){this.scrollX=null;this.scrollY=null;this.yLabelResizer=null;this.xLabelResizer=null;this.topAxisResizer=null;this.rightAxisResizer=null;this.bottomAxisResizer=null;this.leftAxisResizer=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var u=ss.mkdel(this,this.getElementBySelector);this.scrollX=u('.tab-tvScrollX');this.scrollY=u('.tab-tvScrollY')};m.__typeName='tab.PaneTableTemplateWeb';global.tab.PaneTableTemplateWeb=m;var n=function(u){this.$2g={};this.$28=null;this.$2c=false;this.$2f=false;this.$2a=null;this.$2t=null;this.$2m=null;this.$2d=null;this.$2s=null;this.$2q=null;this.$2r=null;this.$2p=null;this.$2e=null;this.$2h=false;this.$2n=null;this.$2b=null;this.$2v=null;this.$2u=null;this.$2i=false;this.$2k=0;this.$27=null;this.$2j=null;this.$2l=0;this.$29=null;this.$2o=null;this.$26=null;tab.PaneTableView.call(this,u,new m);this.$28=this.dom;this.$22();this.$2i=false;var v={tap:ss.mkdel(this,function(w){if(ss.referenceEquals(w.currentTarget,w.target)){this.clearSelection()}})};this.get_paneTableVM().add_updateResizeHeaders(ss.mkdel(this,this.$1u));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_updateResizeHeaders(ss.mkdel(this,this.$1u))})));this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(this.dom.enclosingDiv.get(0),v));this.init()};n.__typeName='tab.PaneTableViewWeb';n.$1=function(u,v){return u.x>v.pageX||u.x+u.w<=v.pageX||u.y>v.pageY||u.y+u.h<=v.pageY};n.$0=function(u,v){var w=ss.round(v['clientX']);var x=ss.round(v['clientY']);var y={x:w,y:x};var z=u.toLocalCoords(y,false);return z};n.$3=function(u,v){if(u.get_regionPart()==='viz'){return tab.SelectActionResolver.fromNormalizedEvent(v,1)}return tab.SelectActionResolver.fromNormalizedEvent(v,2)};n.$2=function(){};global.tab.PaneTableViewWeb=n;var o=function(u,v){this.$6=0;this.$8=null;this.$7=null;spiff.Widget.call(this,u);this.$6=o.$0.length;o.$0.push(this);this.$8=v};o.__typeName='tab.SortDrillBase';global.tab.SortDrillBase=o;var p=function(u,v){this.$y=null;this.$u=null;this.$w=null;this.$x=null;this.$z=null;this.$v=null;this.$A=null;this.$C=null;this.$B=null;o.call(this,$(document.createElement('div')),$(v));this.$x=u;this.element.addClass('tab-tiledViewerSort');this.$w=this.$a();this.$y=spiff.LabelButton.newNativeButton();this.$y.element.addClass('tab-tvSortIndicator');this.$y.element.css('border','0');this.$y.element.css('position','absolute');this.$y.element.css('padding','0px');this.element.append(this.$y.element);this.$u=this.$y.element;$(v).find('.tab-tiledViewerSort').remove();v.appendChild(this.element.get(0));this.$9();this.$n();this.$u.css('display','none')};p.__typeName='tab.Sorting';global.tab.Sorting=p;var q=function(){this.geometry=null;this.visibleGeometry=null;this.sortIndicators=null;this.posTVx=0;this.posTVy=0;this.dom=null;this.sheetid=null;this.layoutSession=null;this.session=null;this.inputHandlers=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.regions=null;this.titleHeight=0};q.__typeName='tab.TiledViewerModel';global.tab.TiledViewerModel=q;var r=function(u,v,w,x,y,z,A,B,C){this.$M=false;this.$U=null;this.$P=null;this.$O=null;this.$S=null;this.$T=null;this.$N=null;this.$Q=false;this.$R=false;tab.TiledViewerRegion.call(this,u,v,z,A,B,C);this.$P=w;if(this.get_regionPart()==='viz'){r.$2();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$p))})))}this.$M=true;this.scroller=new tab.WebScroller(x,y)};r.__typeName='tab.TiledViewerRegionWeb';r.$2=function(){if(ss.isValue(r.$6)){return}var u='default';r.$6={};r.$6['zoomIn']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+u));r.$6['zoomOut']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+u));r.$6['panDrag']=(tab.BrowserSupport.get_isIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+u));r.$6['rectSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+u));r.$6['lassoSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+u));r.$6['radialSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+u));r.$6['rectExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+u));r.$6['lassoExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+u));r.$6['radialExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+u));r.$6['dragSelect']='crosshair';r.$6['select']='pointer';r.$6['defaultKey']='default'};r.$0=function(u){return u.shiftKey&&!spiff.EventUtil.isCtrlKey(u)};r.$1=function(u){return!u.altKey&&u.shiftKey&&spiff.EventUtil.isCtrlKey(u)};global.tab.TiledViewerRegionWeb=r;var s=function(u,v){tab.TooltipBaseLegacyMode.call(this,u,v);this.get_tooltip().add_showed(ss.mkdel(this,this.showCommandAreaAndActions))};s.__typeName='tab.TooltipLegacyMode';global.tab.TooltipLegacyMode=s;var t=function(){tab.VizZoneFactory.call(this)};t.__typeName='tab.VizZoneWebFactory';global.tab.VizZoneWebFactory=t;ss.initEnum(b,a,{$3:0,$1:1,$2:2,$0:3});ss.initClass(c,a,{});ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initEnum(f,a,{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);ss.initClass(o,a,{get_enabled:function(){return ss.isValue(this.$7)},set_enabled:function(u){if(this.get_widgetFeatureEnabled()){if(u){if(ss.isNullOrUndefined(this.$7)){this.$7=spiff.EventUtil.bindWithDispose(this.$8,'mousemove',ss.mkdel(this,function(v){this.onMouseMove(v)}))}}else{this.$7=tab.MiscUtil.dispose$1(this.$7)}}},get_widgetFeatureEnabled:null,dispose:function(){ss.remove(o.$0,this);this.element.remove();this.$7=tab.MiscUtil.dispose$1(this.$7);spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(u){for(var v=0;v<o.$0.length;v++){if(v!==this.$6){var w=o.$0[v];if(w.isActiveInRect(u)){return true}}}return false},isActiveInRect:function(u){return false},onMouseMove:null,getSIRegionFromName:function(u,v){var w,x;var y=ss.replaceAllString(v,'Area','');var z=u.get_sortIndicators();var A=z.sortIndicatorRegions;for(w=0,x=A.length;w<x;w++){if(ss.referenceEquals(A[w].sortRegion.toString(),y)){return A[w]}}return null},showNodeAt:function(u,v,w){$(u).css('top',v+'px');$(u).css('left',w+'px');$(u).css('display','')},getWidgetPos:function(u,v,w){if(u==='level'){if(w==='y'){return{x:v.l+ss.Int32.div(v.w,2)-4,y:v.t+2}}else{return{x:v.l+2,y:v.t+ss.Int32.div(v.h,2)-4}}}else{return{x:v['x']+2,y:v['y']+2}}},hideNode:function(u){$(u).css('display','none')},regionHitTest:function(u,v){var w=u;var x=new ss.ObjectEnumerator(w);try{while(x.moveNext()){var y=x.current();if(ss.isValue(y.value)&&tab.RectUtil.inRect(y.value,v)){return y.key}}}finally{x.dispose()}return null},clone:function(u){if(ss.isNullOrUndefined(u)){return u}return this.mixin(new Object,u)},mixin:function(u,v){var w=v;var x=new ss.ObjectEnumerator(w);try{while(x.moveNext()){var y=x.current();var z=u[y.key];if(ss.isNullOrUndefined(z)||!ss.referenceEquals(z,w[y.key])){u[y.key]=w[y.key]}}}finally{x.dispose()}return u}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(g,a,{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){o.prototype.dispose.call(this);this.$v=null;this.$t.dispose();this.$u.dispose()},onUpdate:function(){if(!ss.staticEquals(this.$w,null)){this.$w();this.$w=null}this.$p=false;this.$r=this.$v.geometry;this.$x=this.$v.visibleGeometry},onMouseMove:function(u){this.$a(u)},isActiveInRect:function(u){if($(this.$m.get(0)).css('display')!=='none'||$(this.$n.get(0)).css('display')!=='none'){if(ss.isValue(this.$o)&&tab.RectXYUtil.intersectsWith(this.$o,u)){return true}}return false},turnDrillWidgetsOff:function(){var u=['bottomaxis','xheader','yheader'];for(var v=0;v<u.length;v++){var w=u[v];if(ss.isValue(this.$s[w])){this.$s[w].unsuppressHover()}}this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));this.$q=new c},$f:function(){this.set_enabled(true)},$a:function(u){var v=new Object;var w=false;var x=false;var y=false;var z=false;var A=false;var B=false;var C=false;var D=true;if(this.$p){return}if(u.button>0){return}if(ss.isNullOrUndefined(this.$r)||ss.isNullOrUndefined(this.$r.di)||ss.referenceEquals(this.$r.di,v)||!tsConfig.allow_filter){return}var E=this.$v.get_tableViewPosition();var F={x:u.pageX-E.x,y:u.pageY-E.y};if(ss.isValue(this.$x.xheaderArea)){w=tab.RectUtil.inRect(this.$x.xheaderArea,F)}if(ss.isValue(this.$x.leftaxisArea)){C=tab.RectUtil.inRect(this.$x.leftaxisArea,F)}var G=this.$v.tlspacerAreaX;var H=this.$v.tlspacerAreaY;if(w&&ss.isValue(G)&&ss.isValue(H)&&ss.isValue(this.$x.uleftArea)){H.w=G.l;D=false}if(ss.isValue(this.$x.bottomaxisArea)&&!w){x=tab.RectUtil.inRect(this.$x.bottomaxisArea,F)}if(ss.isValue(this.$x.yheaderArea)&&!w&&!x){y=tab.RectUtil.inRect(this.$x.yheaderArea,F)}if(ss.isValue(H)&&!w&&!x&&ss.isValue(this.$x.yheaderArea)){z=tab.RectUtil.inRect(H,F)}if(ss.isValue(G)&&!z&&!y&&!x&&ss.isValue(this.$x.xheaderArea)){A=tab.RectUtil.inRect(G,F)}var I=this.$v.blspacerArea;if(ss.isValue(I)&&!z&&!A){B=tab.RectUtil.inRect(I,F)}if(!w&&!y&&!x&&!z&&!A&&!B&&!C){this.turnDrillWidgetsOff()}else if(A){D=false;this.$j(F)}else if(w){D=false;this.$j(F)}else if(y){this.$k(F)}else if(x||B){this.$i()}else if(C){this.$h()}else if(z){this.$k(F)}if(D&&ss.isValue(H)&&ss.isValue(this.$x.uleftArea)){H.w=this.$x.uleftArea.w}},$c:function(){this.$b('down')},$d:function(){this.$b('up')},$b:function(u){this.$p=true;if(tsConfig.allow_filter&&!ss.isNullOrUndefined(this.$q.$0)){var v=((this.$q.$0.toString()==='yheader')?'rows-shelf':'columns-shelf');var w=false;if(u==='up'){w=true}tab.FilterClientCommands.levelDrill(this.$v.get_visualId(),this.$q.$1,v,w)}this.turnDrillWidgetsOff()},$j:function(u){var v=this.$r.di.xs+this.$v.titleHeight;var w=this.$9(u.y,v,this.$r.di.xy);if(w.$0>=0&&w.$0<this.$r.di.xy.length){this.$l('x',w,this.$r.di.xy)}else{this.turnDrillWidgetsOff()}},$h:function(){if(ss.isNullOrUndefined(this.$x.leftaxisArea)){return}var u=this.$r.di.yx.length-1;if(u<0){return}var v=Math.min(this.$x.leftaxisArea.l,17);var w={l:this.$x.leftaxisArea.l-v,t:this.$x.leftaxisArea.t,w:this.$x.leftaxisArea.w+v,h:this.$x.leftaxisArea.h};this.$e(w,this.$r.di.yx[u][1],'y');this.$q.$1=u;this.$q.$0='yheader'},$k:function(u){var v=this.$9(u.x,this.$r.di.ys,this.$r.di.yx);var w=v.$0;if(w>=0&&w<this.$r.di.yx.length){this.$l('y',v,this.$r.di.yx)}else{this.turnDrillWidgetsOff()}},$i:function(){if(ss.isNullOrUndefined(this.$x.bottomaxisArea)){return}var u=this.$r.di.xy.length-1;var v=Math.min(this.$x.bottomaxisArea.l,20);var w=null;if(v===0){w={l:this.$x.bottomaxisArea.l+17,t:this.$x.bottomaxisArea.t,w:this.$x.bottomaxisArea.w+17,h:this.$x.bottomaxisArea.h}}else{w={l:this.$x.bottomaxisArea.l-v,t:this.$x.bottomaxisArea.t,w:this.$x.bottomaxisArea.w+v,h:this.$x.bottomaxisArea.h}}this.$e(w,this.$r.di.xy[u][1],'x');this.$q.$1=u;this.$q.$0='bottomaxis'},$l:function(u,v,w){var x;var y=0;if(u==='x'){if(ss.isValue(this.$x.uleftArea)){y=Math.min(this.$x.xheaderArea.l,17)}x={l:this.$x.xheaderArea.l-y,t:v.$1,w:this.$x.xheaderArea.w+y,h:v.$2-v.$1}}else{if(ss.isValue(this.$x.uleftArea)){y=Math.min(this.$x.yheaderArea.t,17)}x={l:v.$1,t:this.$x.yheaderArea.t-y,w:v.$2-v.$1,h:this.$x.yheaderArea.h+y}}this.$e(x,w[v.$0][1],u);this.$q.$1=v.$0;this.$q.$0=u+'header'},$g:function(u,v,w){var x=this.getWidgetPos('level',v,w);var y=tab.DoubleUtil.roundToInt(this.$m.outerHeight());var z=tab.DoubleUtil.roundToInt(this.$m.outerWidth());this.$o={x:x.x,y:x.y,w:z,h:y};if(this.isOtherActiveInRect(this.$o)){return}this.showNodeAt(u,x.y,x.x)},$e:function(u,v,w){switch(v){case 0:{this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));break}case 1:{this.$g(this.$m.get(0),u,w);this.hideNode(this.$n.get(0));break}case 2:{this.$g(this.$n.get(0),u,w);this.hideNode(this.$m.get(0));break}case 3:{if(w==='x'){this.$g(this.$n.get(0),u,w);var x={l:u.l+17,t:u.t,w:u.w+17,h:u.h};this.$g(this.$m.get(0),x,w)}else if(w==='y'){this.$g(this.$n.get(0),u,w);var y={l:u.l+10,t:u.t,w:u.w+17,h:u.h};this.$g(this.$m.get(0),y,w)}break}}},$9:function(u,v,w){var x=-1;var y=v-1;var z=-1;if(ss.isNullOrUndefined(w)){return new e(-1,-1,-1)}while(y<u&&z<w.length-1){z+=1;x=y;y+=w[z][0]}if(y<u){return new e(-1,-1,-1)}return new e(x,y,z)}},o,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(h,a,{zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$24(2)},zoomOut:function(){this.$0.$24(0.5)},setPointerToolMode:function(u,v){this.$0.setPointerToolMode(u,v)},setAppendMode:function(u){},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()}});ss.initClass(i,a,{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$l:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsRadialSelectionTooltip);this.radialSelectButton=this.addToggleButton(u,'buttonRadialSelect',v)},$m:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip);this.rectSelectButton=this.addToggleButton(u,'buttonRectSelect',v)},$j:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsLassoSelectionTooltip);this.lassoSelectButton=this.addToggleButton(u,'buttonLassoSelect',v)},$k:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsPanTooltip);this.panButton=this.addToggleButton(u,'buttonPan',v)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInButton=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutButton=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutButton=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$i()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$m(this.buttonContainer);this.$l(this.buttonContainer);this.$j(this.buttonContainer)}else{this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$i:function(){if(this.toolbarType==='fullToolbar'){var u=i.$0((tab.BrowserSupport.get_isMac()?tab.Strings.PanZoomSelectToolsZoomAreaTooltipMac:tab.Strings.PanZoomSelectToolsZoomAreaTooltip));this.zoomAreaButton=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',u);this.$k(this.flyOutButtons);this.$m(this.flyOutButtons);this.$l(this.flyOutButtons);this.$j(this.flyOutButtons)}},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInButton.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutButton.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaButton.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$o));var u=this.flyOutButton.element;u.mouseout(ss.mkdel(this,this.$n));u.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeButton.add_hover(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeButton.remove_hover(ss.mkdel(this,this.$p))})))}},$p:function(){if(!this.canZoomHome){this.zoomHomeButton.element.removeClass(this.zoomHomeButton.get_hoverClass())}},$o:function(u){var v=this.flyOutContainer.offset();if(v.top>=u.pageY){this.updateFlyOutVisibility(false);return}var w=tab.DoubleUtil.roundToInt(v.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var x=tab.DoubleUtil.roundToInt(v.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(u.pageX>=w||u.pageY>=x){this.updateFlyOutVisibility(false)}},$n:function(u){var v=this.flyOutButton.element.offset();if(v.left>=u.pageX||v.top>=u.pageY){this.updateFlyOutVisibility(false);return}var w=tab.DoubleUtil.roundToInt(v.top)+tab.DoubleUtil.roundToInt(this.flyOutButton.element.height());if(u.pageY>=w){this.updateFlyOutVisibility(false)}}},tab.FloatingZoomToolbar,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(j,a,{dispose:function(){this.$0=null},unsuppressHover:function(u){var v=this.$0.get_inputHandlers()[u.get_regionPart()];if(ss.isValue(v)){v.unsuppressHover()}var w=this.$0.get_responsiveMouseHandler();if(ss.isValue(w)){w.unsuppressHover()}},suppressHover:function(u){var v=this.$0.get_inputHandlers()[u.get_regionPart()];if(ss.isValue(v)){v.suppressHover()}var w=this.$0.get_responsiveMouseHandler();if(ss.isValue(w)){w.suppressHover()}}},null,[ss.IDisposable]);ss.initClass(k,a,{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var u={};spiff.EventHandleSpecExtensions.setHandler(u,'hover',ss.mkdel(this,this.$8));this.$c.add$1(new spiff.TableauEventHandler.$ctor1(this.$j.element[0],u));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(u){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(u,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(u){this.$e=u},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(u,v,w,x){this.showTooltip(u)},hoverOverWhitespace:function(u){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(u,false)){this.$j.close()}},multiSelectComplete:function(u){this.showTooltip(u)},singleSelectComplete:function(u){this.showTooltip(u)},selectionMoved:function(u){},repositionWithinRegion:function(u){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(u,v){this.$j.close()},showTooltip:function(u){if(spiff.DragDropManager.get_isDragging()){return}if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),u)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(u,false)){return}this.$j.show(this.$j.get_body().children()[0],u)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(u){var v=this.$j.get_lastLocation();this.$j.set_lastLocation({x:u.pageX,y:u.pageY});if(ss.isNullOrUndefined(v)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var w=tab.PointUtil.distance(v,this.$j.get_lastLocation());var x=new Date-this.$h;if(w>10&&x>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(u){if(ss.isNullOrUndefined(u)){return false}var v=this.$3();return tab.RectUtil.inRect(v,u)},$3:function(){var u=this.$j.element.position();var v={l:tab.DoubleUtil.roundToInt(u.left),t:tab.DoubleUtil.roundToInt(u.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return v},$1:function(u){var v=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),u);this.$i.push(v);return v},$8:function(u){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(u,v){this.dispose()},$0:function(){for(var u=0;u<this.$i.length;u++){var v=this.$i[u];window.clearTimeout(v)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(l,a,{updateSearchTextValue:function(u){this.$t(u,true)},$t:function(u,v){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,u);if(v===true){this.selectAllSearchText()}},$r:function(u){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var v=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var w=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(v)&&ss.isValue(w)&&!ss.referenceEquals(v,w)){return}this.selectAllSearchText()},$q:function(u){this.$u=u;if(ss.isValue(u)){var v=u.get_data();this.$t(v,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$u)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$u.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$s:function(){if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$u)){return}var u=this.get_compositeSearchWidget();u.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},handleCollapseSearchWidget:function(){tab.MapsSearchView.prototype.handleCollapseSearchWidget.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(u,v,w){if(v===4){return w}var x=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(u)){switch(v){case 1:case 2:{return 0}case 0:case 3:{return x}}}var y=u;switch(v){case 1:{y=ss.Nullable$1.add(y,1);if(ss.Nullable$1.gt(y,x)){y=0}break}case 0:{y=ss.Nullable$1.sub(y,1);if(ss.Nullable$1.lt(y,0)){y=x}break}case 2:{y=0;break}case 3:{y=x;break}}return y}},tab.MapsSearchView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.MapsSearchViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(m,a,{},tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(n,a,{get_inputHandlers:function(){return this.$2g},get_domWeb:function(){return this.$28},get_responsiveMouseHandler:function(){return this.$2n},$25:function(){return this.getWebRegion('viz')},get_zoomToolbarOffset:function(){var u=41;var v=10;if(this.get_paneTableVM().get_mapSearchEnabled()){v+=u}return v},get_zoomToolbarOperations:function(){return new h(this)},$24:function(u){if(this.get_paneTableVM().get_isMapWithBaseLayer()&&u<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/u)){return}var v=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.$25().$K(v,u)},initEventHandlers:function(){var u=null;var v=null;var w=ss.thisFix(ss.mkdel(this,function(){u=tab.MiscUtil.dispose$1(u);v=tab.MiscUtil.dispose$1(v);tab.PaneTableView.prototype.initEventHandlers.call(this)}));var x=this.dom.domRoot[0];u=spiff.EventUtil.addEventListenerWithDispose(x,'mouseenter',w,true);v=spiff.EventUtil.addEventListenerWithDispose(x,'touchstart',w,true);this.disposables.add$1(u);this.disposables.add$1(v)},getDomNodeForContentRegion:function(u){return u.get(0)},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$1K))},makeConnections:function(){this.$28.scrollX.scroll(ss.mkdel(this,function(u){this.$1P()}));this.$28.scrollY.scroll(ss.mkdel(this,function(u){this.$1Q()}));this.dom.domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),ss.mkdel(this,this.$1M));this.dom.domRoot.mouseout(ss.mkdel(this,this.onMouseOut));this.dom.domRoot.mousemove(ss.mkdel(this,this.onMouseMove));this.dom.view.mouseover(ss.mkdel(this,this.onViewMouseOver));this.dom.view.mouseout(ss.mkdel(this,this.onViewMouseOut));this.dom.view.mousemove(ss.mkdel(this,this.onViewMouseMove));this.dom.domRoot.attr('tabindex','-1');this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$1J)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().set_focusInHandler(ss.mkdel(this,function(u){this.checkForSuppressTooltipsAndOverlays(u.target)}));this.get_paneTableVM().get_mapsSearchViewModel().set_focusOutHandler(ss.mkdel(this,function(u){this.checkForSuppressTooltipsAndOverlays(u.relatedTarget)}));this.get_paneTableVM().get_mapsSearchViewModel().set_keypressHandler(ss.mkdel(this,function(u){this.checkForSuppressTooltipsAndOverlays(u.target)}))}},makeRegions:function(){var u=this.makeHoverApi();ss.clearKeys(this.regions);var v=function(){return false};for(var w=0;w<tab.PaneTableViewRegionParts.nonVizContentRegions.length;w++){var x=tab.PaneTableViewRegionParts.nonVizContentRegions[w];var y=this.regionParts.getSelectorForRegion(x);var z=new tab.ToolModeViewModel(x,this.get_paneTableVM().get_visualModel().get_defaultMapTool());this.regions[x]=new r(x,y.get(0),u,this.$28.scrollX,this.$28.scrollY,v,this.get_sheetid(),this.get_paneTableVM(),z)}var A=ss.mkdel(this,this.allowPanZoom);this.set_vizRegion(new r('viz',this.get_vizRegionDomNode().get(0),u,this.$28.scrollX,this.$28.scrollY,A,this.get_sheetid(),this.get_paneTableVM(),this.get_paneTableVM().get_vizRegionToolModeViewModel()));this.get_paneTableVM().get_vizRegionToolModeViewModel().initializeToolModesForVizRegion(A())},getWebRegion:function(u){return ss.safeCast(this.regions[u],r)},makeTooltipLegacyMode:function(u){return new s(u,this.get_visualId())},cancelHover:function(){},makeInputHandlers:function(){var u=ss.getEnumerator(Object.keys(this.$2g));try{while(u.moveNext()){var v=u.current();this.$2g[v]=tab.MiscUtil.dispose$1(this.$2g[v])}}finally{u.dispose()}ss.clearKeys(this.$2g);for(var w=0;w<tab.PaneTableViewRegionParts.nonVizContentRegions.length;w++){var x=tab.PaneTableViewRegionParts.nonVizContentRegions[w];var y=this.regionParts.getSelectorForRegion(x);var z=this.makeMouseSpec(this.getWebRegion(x));this.$2g[x]=new spiff.TableauEventHandler.$ctor1(y.get(0),z)}this.$23();var A=this.get_vizRegionDomNode();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){var B={hoverDelay:20,hover:ss.mkdel(this,function(F){this.get_vizHitTester().update(F)})};var C=ss.mkdel(this,function(F){this.onHitTestUpdated(this.$25(),F)});this.get_vizHitTester().add_updated(C);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_vizHitTester().remove_updated(C)})));this.$2t=new spiff.TableauEventHandler.$ctor1(A.get(0),B);this.disposables.add$1(this.$2t)}var D={};spiff.EventHandleSpecExtensions.setHandler(D,'dragStart',function(F){});this.$2a=new spiff.TableauEventHandler.$ctor1(document.body,D);this.disposables.add$1(this.$2a);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var E={hover:ss.mkdel(this,function(F){this.onHoverOverlay(this.$25(),F)}),hoverDelay:0};this.$2n=new spiff.TableauEventHandler.$ctor1(A.get(0),E);this.disposables.add$1(this.$2n)}this.$1B();A.addClass('tvmodeRectSelect')},$23:function(){this.$2g['viz']=tab.MiscUtil.dispose$1(this.$2g['viz']);var u=this.makeMouseSpec(this.$25());this.$2g['viz']=new spiff.TableauEventHandler.$ctor1(this.get_vizRegionDomNode().get(0),u)},updateTooltipMode:function(u){tab.PaneTableView.prototype.updateTooltipMode.call(this,u);if(ss.isNullOrUndefined(this.vizTooltip)){this.$23()}},$1B:function(){var u=ss.mkdel(this,function(x){var y={hover:ss.mkdel(this,function(A){this.$1I(this.getWebRegion(x),A)}),hoverDelay:0,firstTouch:ss.mkdel(this,function(A){this.$1O(this.getWebRegion(x))})};var z=this.regionParts.getSelectorForRegion(x);this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(z.get(0),y));z.mouseout(ss.mkdel(this,function(A){this.$1L(x)}))});for(var v=0;v<tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader.length;v++){var w=tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader[v];u(w)}},makeHoverApi:function(){if(ss.isNullOrUndefined(this.$2e)){this.$2e=new j(this);this.disposables.add$1(this.$2e)}return this.$2e},makeMouseSpec:function(u){var v={hover:ss.mkdel(this,function(y){this.onHoverTooltip(u,y)}),hoverDelay:(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150)};var w=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(w!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&u.get_regionPart()==='viz'){v.hoverDelay=0}else{var x=tab.FeatureParamsLookup.getInt(12);v.hoverDelay=ss.coalesce(x,120)}}v.firstTouch=ss.mkdel(this,function(y){this.$1H(u,y)});v.tap=ss.mkdel(this,function(y){this.$1R(u,y)});if(tab.FeatureFlags.isEnabled('EditAxisDialog')&&tsConfig.is_authoring&&ss.contains(tab.PaneTableViewRegionParts.axisRegions,u.get_regionPart())){v.doubleTap=ss.mkdel(u,u.onDoubleTapAxis)}if(u.get_regionPart()==='viz'){v.dragStart=ss.mkdel(this,function(y){this.dragOverride(y,ss.mkdel(this,function(z){this.$1G(u,y)}))});if(tsConfig.allow_filter){v.doubleTap=ss.mkdel(this,function(y){this.$1D(u,y)});v.press=function(y){n.$2()};v.cancelPotentialDoubleTap=ss.mkdel(this,function(y){this.$1C()});v.pressDragStart=ss.mkdel(this,function(y){this.dragOverride(y,ss.mkdel(this,function(z){this.$1N(u,y)}))})}}return v},makeRegionContentProviders:function(){var u=ss.mkdel(this,function(v,w){this.get_vizRegion().reset()});this.makeRegionContentProvidersHelper(this.get_vizRegionDomNode(),u);this.$2r=this.makeTiledWindow(this.$28.scrollY,null,null,null,null);this.$2q=this.makeTiledWindow(this.$28.scrollX,null,null,null,null)},makeTiledWindow:function(u,v,w,x,y){return this.makeTiledWindowHelper(u,v,w,x,y,true)},shouldInformTooltipOfLocalTapOnViz:function(u,v){return true},refreshScrollingAndDrilling:function(){var u=this.$2m;this.$2m=null;if(typeof(u)==='function'){u()}if(ss.isValue(this.$2d)){this.$2d.onUpdate()}if(ss.isValue(this.$2s)){this.$2s.onUpdate()}},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2r.destroy();this.$2q.destroy()},destroyInputHandlers:function(){var u=ss.getEnumerator(Object.keys(this.$2g));try{while(u.moveNext()){var v=u.current();this.$2g[v]=tab.MiscUtil.dispose$1(this.$2g[v])}}finally{u.dispose()}ss.clearKeys(this.$2g);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$1K))}this.$1U()},refreshImages:function(u){tab.PaneTableView.prototype.refreshImages.call(this,u);this.$2r.refreshImages(u);this.$2q.refreshImages(u)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$1n(false)},$1K:function(u){var v=tab.DomUtil.getRectXY(this.dom.view);if(v.x>u.x||v.x+v.w<=u.x||v.y>u.y||v.y+v.h<=u.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(u){this.$2h=true;this.floatingZoomToolbarView.showFloatingZoomToolbar(true);if(ss.isValue(this.mapsSearchView)&&this.get_paneTableVM().get_mapSearchEnabled()){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(true)}this.checkForSuppressTooltipsAndOverlays(u.target)},$1z:function(u){var v=tab.DomUtil.getRectXY(this.dom.domRoot);return n.$1(v,u)},$1A:function(u){var v=tab.DomUtil.getRectXY(this.dom.view);return n.$1(v,u)},isPointOutsideOfRelevantVizRegions:function(u){if(!this.$1A(u)){return false}if(!n.$1(tab.DomUtil.getRectXY(this.dom.yLabel),u)){return false}if(!n.$1(tab.DomUtil.getRectXY(this.dom.xLabel),u)){return false}if(!n.$1(tab.DomUtil.getRectXY(this.dom.caption),u)){return false}if(!n.$1(tab.DomUtil.getRectXY(this.dom.leftAxis),u)){return false}if(!n.$1(tab.DomUtil.getRectXY(this.dom.rightAxis),u)){return false}if(!n.$1(tab.DomUtil.getRectXY(this.dom.bottomAxis),u)){return false}if(!n.$1(tab.DomUtil.getRectXY(this.dom.topAxis),u)){return false}return true},onMouseOut:function(u){if(this.$1z(u)){if(ss.isValue(this.$2s)){this.$2s.onMouseOutOfParentPaneTableView()}if(ss.isValue(this.$2d)){this.$2d.turnDrillWidgetsOff()}}if(this.isPointOutsideOfRelevantVizRegions(u)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$1o()}},$1o:function(){if(!this.$2c){this.disposeOfOverlayImages()}},onMouseMove:function(u){var v=this.get_vizToolTip();if(v.get_isTooltipShown()&&!v.shownTooltipIsStatic()&&this.$1A(u)){var w=tab.DomUtil.getRectXY(this.dom.view);v.hoverOverWhitespace({x:w.x,y:w.y},'viz')}},onViewMouseOut:function(u){this.$2h=false;var v=this.get_vizToolTip();if(this.$1A(u)){this.floatingZoomToolbarView.showFloatingZoomToolbar(false);if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}if(v.get_isTooltipShown()&&!v.shownTooltipIsStatic()){var w=tab.DomUtil.getRectXY(this.dom.view);v.hoverOverWhitespace({x:w.x,y:w.y},'viz')}}if(!v.get_isTooltipShown()){this.$1o()}this.checkForSuppressTooltipsAndOverlays(u.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(u){this.$2h=true;this.checkForSuppressTooltipsAndOverlays(u.target)},setupSortIndicators:function(){this.$2s=new p(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2s)},setupDrilling:function(){this.$2d=new g(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2d)},setRegionGeometryHelper:function(u,v){if(ss.isValue(u)&&u.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(u.children().first(),{l:0,t:0,w:v.w,h:v.h})}},setGeometryForWebScrollbars:function(u,v){var w=ss.isValue(u.get_scrollWidth())&&u.get_scrollWidth()>0;var x=ss.isValue(u.get_scrollHeight())&&u.get_scrollHeight()>0;this.$1S(u,w);this.$1T(u,v,x);var y=!!(x^w);this.$2p=new tab.ScrollAdjuster(y);this.$1X(u,w,x)},$1S:function(u,v){var w=this.$28.scrollY;if(v){var x=Math.max(tab.Metrics.get_minScrollHeight(),u.get_viewHeight());var y={l:u.get_overallWidth(),t:u.get_scrollYTop(),w:u.get_scrollWidth(),h:x};tab.DomUtil.setAbsolutePositionBox(w,y)}w.toggle(v)},$1T:function(u,v,w){var x=this.$28.scrollX;if(w){var y=Math.max(tab.Metrics.get_minScrollWidth(),u.get_viewWidth());var z={l:u.get_scrollXLeft(),t:v,w:y,h:u.get_scrollHeight()};tab.DomUtil.setAbsolutePositionBox(x,z)}x.toggle(w)},$1X:function(u,v,w){this.$1Y(u,v);this.$1W(u,w)},$1Y:function(u,v){this.$2r.setYPos(this.$1x());var w=(v?{x:0,y:0,w:1,h:u.get_scrollableHeight(),r:null}:null);this.$2r.reset(w,this.geometry.ts)},$1W:function(u,v){this.$2q.setXPos(this.$1w());var w=(v?{x:0,y:0,w:u.get_scrollableWidth(),h:1,r:null}:null);this.$2q.reset(w,this.geometry.ts)},maybeShowOverlayImages:function(u){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var v=null;if(ss.isValue(u)&&ss.isValue(u.overlayImage)){v=this.createOverlayImageFromDataUri(u.overlayImage)}else if(ss.isValue(u.overlayImageKey)){v=this.createOverlayImageFromFile(u.overlayImageKey)}this.showOverlayImages(v,u.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1u();this.$21()},$1u:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&ss.isValue(this.get_paneTableVM().resizeHeadersViewModel)){this.$1t();if(ss.isValue(this.get_paneTableVM().resizeHeadersViewModel.get_rowHeaderResizers())){var u=[];var v=this.get_paneTableVM().resizeHeadersViewModel.get_rowHeaderResizers();for(var w=0;w<v.length;w++){var x=v[w];var y=$("<div class='tab-tvRowHeaderResizer'></div>");x.set_resizerObject(y);var z={left:x.get_resizerOffset()-5+'px',top:'0px',width:10+'px',height:x.get_resizerLength()+'px'};x.get_resizerObject().css(z);this.$1m(this.dom.yLabel,x.get_resizerObject());u.push(x.get_resizerObject());spiff.DragDropManager.attachDragSource(x.get_resizerObject(),x)}this.$2o=u}if(ss.isValue(this.get_paneTableVM().resizeHeadersViewModel.get_columnHeaderResizers())){var A=ss.Int32.trunc(this.dom.xLabel.height())-this.get_paneTableVM().resizeHeadersViewModel.get_totalColumnHeadersHeight();var B=[];var C=this.get_paneTableVM().resizeHeadersViewModel.get_columnHeaderResizers();for(var D=0;D<C.length;D++){var E=C[D];var F=$("<div class='tab-tvColumnHeaderResizer'></div>");E.set_resizerObject(F);var G={left:'0px',top:E.get_resizerOffset()+A-5+'px',width:E.get_resizerLength()+'px',height:10+'px'};E.get_resizerObject().css(G);this.$1m(this.dom.xLabel,E.get_resizerObject());B.push(E.get_resizerObject());spiff.DragDropManager.attachDragSource(E.get_resizerObject(),E)}this.$26=B}}},$1m:function(u,v){var w=u.clone().empty().removeClass().addClass('tab-tvRegionResizerContainer').append(v);u.parent().append(w)},$1t:function(){if(ss.isValue(this.$2o)){for(var u=0;u<this.$2o.length;u++){var v=this.$2o[u];spiff.DragDropManager.removeDragSource(v);v.parent().remove()}}if(ss.isValue(this.$26)){for(var w=0;w<this.$26.length;w++){var x=this.$26[w];spiff.DragDropManager.removeDragSource(x);x.parent().remove()}}},$21:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeAxes')){this.$1s();var u=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w;var v=tab.DomUtil.getRectXY(this.dom.topRightSpacer).w;var w=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h;var x=tab.DomUtil.getRectXY(this.dom.bottomLeftSpacer).h;var y=tab.DomUtil.getRectXY(this.dom.view);var z=y.w;var A=y.h;var B=w+A+x;var C=u+z+v;var D=tab.DomUtil.getRectXY(this.dom.topAxis).w;var E=tab.DomUtil.getRectXY(this.dom.rightAxis).h;var F=tab.DomUtil.getRectXY(this.dom.bottomAxis).w;var G=tab.DomUtil.getRectXY(this.dom.leftAxis).h;var H=D>0&&F>0;var I=E>0&&G>0;if(D>0){var J=u+D+v;this.get_domWeb().topAxisResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.$1m(this.dom.topAxis,this.get_domWeb().topAxisResizer);var K=-u;tab.ModuleManager.load(tab.IResizeHeadersModule).call(null,[]).done(ss.mkdel(this,function(R){var S=tab.DomUtil.getRectXY(this.dom.topAxis).h;var T=-tab.RegionResizer.getAxisResizerMinimumRunDistance(S);var U=tab.RegionResizer.getAxisResizerMaximumRunDistance(A,B,S,H);var V=R.getRegionResizerViewModel(this.get_visualId(),'topaxis',this.get_domWeb().topAxisResizer,K,J,T,U);spiff.DragDropManager.attachDragSource(this.get_domWeb().topAxisResizer,V)}))}if(E>0){var L=w+E+x;this.get_domWeb().rightAxisResizer=$("<div class='tab-tvYRightRegionResizer'></div>");this.$1m(this.dom.rightAxis,this.get_domWeb().rightAxisResizer);var M=-w;tab.ModuleManager.load(tab.IResizeHeadersModule).call(null,[]).done(ss.mkdel(this,function(R){var S=tab.DomUtil.getRectXY(this.dom.rightAxis).w;var T=-tab.RegionResizer.getAxisResizerMaximumRunDistance(z,C,S,I);var U=tab.RegionResizer.getAxisResizerMinimumRunDistance(S);var V=R.getRegionResizerViewModel(this.get_visualId(),'rightaxis',this.get_domWeb().rightAxisResizer,M,L,T,U);spiff.DragDropManager.attachDragSource(this.get_domWeb().rightAxisResizer,V)}))}if(F>0){var N=u+F+v;this.get_domWeb().bottomAxisResizer=$("<div class='tab-tvXBottomRegionResizer'></div>");this.$1m(this.dom.bottomAxis,this.get_domWeb().bottomAxisResizer);var O=-u;tab.ModuleManager.load(tab.IResizeHeadersModule).call(null,[]).done(ss.mkdel(this,function(R){var S=tab.DomUtil.getRectXY(this.dom.bottomAxis).h;var T=-tab.RegionResizer.getAxisResizerMaximumRunDistance(A,B,S,H);var U=tab.RegionResizer.getAxisResizerMinimumRunDistance(S);var V=R.getRegionResizerViewModel(this.get_visualId(),'bottomaxis',this.get_domWeb().bottomAxisResizer,O,N,T,U);spiff.DragDropManager.attachDragSource(this.get_domWeb().bottomAxisResizer,V)}))}if(G>0){var P=w+G+x;this.get_domWeb().leftAxisResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.$1m(this.dom.leftAxis,this.get_domWeb().leftAxisResizer);var Q=-w;tab.ModuleManager.load(tab.IResizeHeadersModule).call(null,[]).done(ss.mkdel(this,function(R){var S=tab.DomUtil.getRectXY(this.dom.leftAxis).w;var T=-tab.RegionResizer.getAxisResizerMinimumRunDistance(S);var U=tab.RegionResizer.getAxisResizerMaximumRunDistance(z,C,S,I);var V=R.getRegionResizerViewModel(this.get_visualId(),'leftaxis',this.get_domWeb().leftAxisResizer,Q,P,T,U);spiff.DragDropManager.attachDragSource(this.get_domWeb().leftAxisResizer,V)}))}}},$1s:function(){if(ss.isValue(this.get_domWeb().topAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().topAxisResizer);this.get_domWeb().topAxisResizer.parent().remove();this.get_domWeb().topAxisResizer=null}if(ss.isValue(this.get_domWeb().rightAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().rightAxisResizer);this.get_domWeb().rightAxisResizer.parent().remove();this.get_domWeb().rightAxisResizer=null}if(ss.isValue(this.get_domWeb().bottomAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().bottomAxisResizer);this.get_domWeb().bottomAxisResizer.parent().remove();this.get_domWeb().bottomAxisResizer=null}if(ss.isValue(this.get_domWeb().leftAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().leftAxisResizer);this.get_domWeb().leftAxisResizer.parent().remove();this.get_domWeb().leftAxisResizer=null}},$22:function(){this.$2u={x:0,y:0};this.$2l=0;this.$27=null;this.$2k=0;this.$2j=null;if(ss.isValue(this.$2p)){this.$2p.forgetInputDevice()}},$1M:function(u){var v=null;if(ss.isValue(u['originalEvent'])){v=u['originalEvent']}var w=this.$2p.normalizeScrollWheelDeltas(v);if(this.isOneVisiblePane()&&this.get_paneTableVM().get_isMap()&&this.allowPanZoom()){if(this.$2p.get_isFromTouchpad()){w.y=tab.ScrollAdjusterUtil.adjustVerticalScrollDeltaForTouchpad(w.y);this.$2l++;if(this.$2l%tab.MapUtil.touchEventSamplingRate!==0){u.preventDefault();return}}if(this.$2i){u.preventDefault();return}this.$2u.y+=w.y;if(!this.$1A(u)){var x=this.$25();var y=n.$0(x,v);this.$1k(y,x,u);return}}var z=this.$1x();var A=this.$1w();this.$28.scrollY.scrollTop(z+w.y);this.$28.scrollX.scrollLeft(A+w.x);if(z!==this.$1x()){this.$20();u.preventDefault()}if(A!==this.$1w()){this.$1Z();u.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$1k:function(u,v,w){var x=null;if(ss.isNullOrUndefined(this.$27)){if(v.mapIsBrowserRendered()){x=v.getPointLatLong(u);x.done(ss.mkdel(this,function(C){this.$2j=C}))}this.$27=u}if(v.mapIsBrowserRendered()){this.$2k=ss.Int32.div(this.$2u.y,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement}var y=this.get_paneTableVM().get_mapServerModel();var z=(y.get_hasPresModel()?y.get_zoom():1);var A=tab.MapUtil.calculateZoomFactor(this.$2u.y);if(v.mapIsBrowserRendered()&&!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(z,this.$2k)||!tab.MapUtil.allowZoomAtCurrentLevel(z,A)){this.$2k=z;A=tab.MapUtil.getZoomFactorForDesiredZoomLevel(z,0);this.$2u.y=tab.MapUtil.getScrollDeltaForZoomFactor(A)}this.$1p();this.$2v=window.setTimeout(ss.mkdel(this,function(){this.$2i=true;tab.PanZoomCommands.zoomWithAnchorPoint(v.get_regionPart(),this.$27,A,ss.mkdel(this,function(){this.$2i=false}),this.get_sheetid());this.$22()}),500);var B=ss.mkdel(this,function(C){this.$1l(v,z,A,C)});if(!this.$2i){if(ss.isValue(x)){x.done(function(C){B(C)})}else{B(this.$2j)}w.preventDefault()}},$1l:function(u,v,w,x){this.isAnimationOccurring=true;var y=this.resolvePane(this.$27);if(u.mapIsBrowserRendered()){var z=v-this.$2k;u.animateAnchorZoomLeaflet(y,x,z)}else{u.animateAnchorZoom(y,this.$27,w)}this.disposeOfOverlays()},$1Q:function(){this.get_vizToolTip().onScroll();this.$20()},$20:function(){var u=this.$1x();for(var v=0;v<tab.PaneTableViewRegionParts.scrollableYRegions.length;v++){var w=tab.PaneTableViewRegionParts.scrollableYRegions[v];this.getWebRegion(w).setYPos(u)}this.set_scrollPosition({x:this.$1w(),y:u})},$1P:function(){this.get_vizToolTip().onScroll();this.$1Z()},$1Z:function(){var u=this.$1w();for(var v=0;v<tab.PaneTableViewRegionParts.scrollableXRegions.length;v++){var w=tab.PaneTableViewRegionParts.scrollableXRegions[v];this.getWebRegion(w).setXPos(u)}this.set_scrollPosition({x:u,y:this.$1x()})},$1J:function(u){if(this.$25().get_isDragTracking()){return}if(!ss.referenceEquals(u.target,this.element.get(0))&&!ss.referenceEquals(u.target,this.dom.view.get(0))&&!ss.referenceEquals(u.target,this.dom.view.find('.tvimagesContainer').get(0))){return}var v;switch(u.which){case 68:{v='lasso-selection';break}case 83:{v='radial-selection';break}case 65:{v='rectangular-selection';break}default:{return}}if(v===this.get_paneTableVM().get_vizRegionToolModeViewModel().get_currentPointerToolMode()){v=this.defaultPointerToolMode()}var w=this.floatingZoomToolbarView.setToolMode(v,true);if(!w){this.setPointerToolMode(v,true)}},checkForHoverOverlay:function(){this.$1n(true)},$1n:function(u){if(ss.isValue(this.lastVizHoverPoint)&&this.$2h){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(u)}else{this.disposeOfOverlayImages()}},$1I:function(u,v){if(this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(u.get_contentProvider())){return}var w=u.toLocalCoordsEvent(v,false);var x=u.hitTestNodes(w);if(ss.isValue(x)){x=(tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(x.node)?x:null)}var y=tab.ModelUtils.regionToVisualPartMap[u.get_regionPart()];this.updateHoveredCategoricalHeaders(x,'hover',y)},$1O:function(u){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(u.get_contentProvider())){return}var v=tab.ModelUtils.regionToVisualPartMap[u.get_regionPart()];this.updateHoveredCategoricalHeaders(null,'press',v)},$1L:function(u){var v=tab.ModelUtils.regionToVisualPartMap[u];var w=this.get_paneTableVM().get_vizRegionMap()[v];if(ss.isValue(w)){w.set_hoveredCategoricalNode(null)}},isUserDragging:function(){return spiff.DragDropManager.get_isDragging()||r.isDragTrackingInAnyRegion},onHoverOverVisualPart:function(u,v){var w=u;w.setMouseOverMarkOrVisualPart(v)},$1H:function(u,v){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().removeSuggestionList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&u.get_regionPart()==='viz'){var w=u.toLocalCoordsEvent(v,false);var x=this.$25().hitTestSingleMarksAndVisualParts(w);if(x.get_shouldRenderOverlay()){this.wasPressOverlayJustUpdated=true;this.updateOverlayTarget(x.get_id(),'press',x.get_overlayTargetType())}}},$1v:function(){var u=this.get_paneTableVM().get_selectionsModel().get_allLegendSelections();for(var v=0;v<u.length;v++){var w=u[v];if(!w.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(u){return u==='simple'||!this.$1v()},onHitTestUpdated:function(u,v){this.$1r();if(this.getVizDragApproval(v)){var w=u.toLocalCoords(v.get_pageCoordinates(),false);this.$1q(w)}},$1q:function(u){var v=$('<div class="tabDragIcon" ></div>');if(tab.BrowserSupport.get_isIE()){v.css('cursor','alias')}else{v.css('cursor','-webkit-grab');v.css('cursor','-moz-grab');v.css('cursor','grab')}v.css('position','absolute');var w=20;v.css('top',u.y-w+'px');v.css('left',u.x-w+'px');v.css('height',40+'px');v.css('width',40+'px');var x=this.makeMouseSpec(this.$25());this.get_vizRegionDomNode().append(v);this.$2b=new spiff.TableauEventHandler.$ctor1(v.get(0),x)},disposeOfOverlays:function(){this.$1r();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1r:function(){this.$2b=tab.MiscUtil.dispose$1(this.$2b);this.get_vizRegionDomNode().children('.tabDragIcon').remove()},$1R:function(u,v){if(this.$2f){this.$2f=false;return}v.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(v.originalEvent['button']>1){return}var w=u.toLocalCoordsEvent(v,false);var x=tab.PointUtil.add(w,u.getLocalOffsetPoint(false));if(this.allowPanZoom()&&u.get_toolModeViewModel().get_isZoomToolActive()){var y=this.resolvePane(u.toLocalCoordsEvent(v,false));u.$J(v,y);return}var z=n.$3(u,v);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(u,z,x,w,'default',false)}else{var A=ss.mkdel(this,function(){if(!tsConfig.allow_select){this.makeHoverApi().unsuppressHover(u)}var C=tab.PaneTableView.guessTooltipTargetTypeFromRegion(u.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(x,w,u.get_regionPart(),C,null)});var B={x:w.x,y:w.y,w:0,h:0};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(u.get_regionPart(),B,z,this.get_paneTableVM().get_visualId(),A,'default',null);this.dom.domRoot.focus()}},$1D:function(u,v){if(!this.isPointerToolLocked){this.resetPointerToolMode()}var w=((v.shiftKey&&!spiff.EventUtil.isCtrlKey(v))?0.5:2);this.doDoubleTap(u,v,w)},$1G:function(u,v){var w=this.resolvePane(u.toLocalCoordsEvent(v,false));this.$1y();if(!tsConfig.allow_filter){this.setPointerToolMode(u.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{switch(u.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':case'area-zoom':case'zoom-out':{var x=!v.shiftKey;this.setPointerToolMode(u.get_toolModeViewModel().get_currentPointerToolMode(),x);break}}}this.$1V(u);if(ss.isValue(this.$2d)){this.$2d.set_enabled(false)}if(ss.isValue(this.$2s)){this.$2s.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(false)}this.floatingZoomToolbarView.enableUserInteraction(false);u.$j(v,w)},$1E:function(u){var v=this.$25();v.$i(u);if(this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isSelectingToolActive()){this.checkForDragOverlays();this.$2c=true}},$1F:function(u){this.$2f=u.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$2c=false;this.$25().$h(u,this.get_vizToolTip());this.$1U();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.$2d)){this.$2d.set_enabled(true)}if(ss.isValue(this.$2s)){this.$2s.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(true)}this.floatingZoomToolbarView.enableUserInteraction(true)},$1N:function(u,v){var w=this.resolvePane(u.toLocalCoordsEvent(v,false));this.$1y();if(!tsConfig.allow_filter){this.setPointerToolMode(u.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{switch(u.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':{var x=!v.shiftKey;this.setPointerToolMode(u.get_toolModeViewModel().get_currentPointerToolMode(),x);break}case'zoom-out':case'area-zoom':{break}}}u.$j(v,w);this.$1V(u)},$1C:function(){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$1V:function(u){this.lastVizHoverPoint=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1r();if(!u.get_toolModeViewModel().get_isSelectingToolActive()){this.disposeOfOverlays()}},$1U:function(){var u={};spiff.EventHandleSpecExtensions.removeHandler(u,'dragMove');spiff.EventHandleSpecExtensions.removeHandler(u,'dragEnd');if(ss.isValue(this.$2a)){this.$2a.update(u)}this.$29=tab.MiscUtil.dispose$1(this.$29)},$1y:function(){var u={};spiff.EventHandleSpecExtensions.setHandler(u,'dragMove',ss.mkdel(this,this.$1E));spiff.EventHandleSpecExtensions.setHandler(u,'dragEnd',ss.mkdel(this,this.$1F));this.$2a.update(u);tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$29);this.$29=new spiff.Glass;this.$29.show();var v=this.$25();v.setCursor(v.determineDragSelectionCursor(),this.$29.element)},$1p:function(){this.$2v=tab.MiscUtil.clearTimeout(this.$2v)},allowPanZoom:function(){return this.$1j('other')},allowPanZoomOnDoubleTap:function(){return this.$1j('doubleTap')},$1j:function(u){if(!tsConfig.allow_filter){return false}if(this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.geometry)){return false}var v=this.geometry.pi;switch(u){case'doubleTap':{var w=v.hasXQAxis&&v.hasYQAxis;if(tab.FeatureFlags.isEnabled('DisableDoubleClick')){var x=this.floatingZoomToolbarView.get_toolBarIsOffOrHome();if(!this.get_paneTableVM().get_isMap()&&w&&x){return false}}return w}case'other':default:{return v.hasXQAxis||v.hasYQAxis}}},$1x:function(){return tab.DoubleUtil.roundToInt(this.$28.scrollY.scrollTop())},$1w:function(){return this.$28.scrollX.scrollLeft()}},tab.PaneTableView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,tab.IZoomToolbarContainer]);ss.initClass(p,a,{get_widgetFeatureEnabled:function(){return ss.isValue(this.$A)&&tsConfig.allow_filter},dispose:function(){this.$x=null;this.$y.element.remove();this.$y.dispose();o.prototype.dispose.call(this)},onUpdate:function(){this.$C=this.$x.visibleGeometry;this.$A=this.$x.get_sortIndicators();if(!ss.staticEquals(this.$B,null)){this.$B();this.$B=null}},onMouseOutOfParentPaneTableView:function(){this.$e()},$e:function(){if(!this.$g()){return}var u=new RegExp('(sortInd\\w+)?','g');this.$u.get(0).className=this.$u.get(0).className.replace(u,'');this.$u.css('display','none');this.$z=null;if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){this.$w.css('display','none')}},onMouseMove:function(u){this.$f(u)},isActiveInRect:function(u){if(ss.isValue(this.$z)&&this.$z.$1&&tab.RectXYUtil.intersectsWith(u,this.$v)){return true}return false},$a:function(){if(!tab.FeatureFlags.isEnabled('IntuitiveSorting')){return null}var u=spiff.LabelButton.newNativeButton();u.element.addClass('sortDropdownSolid');u.element.css('border','0');u.element.css('position','absolute');u.element.css('padding','0px');u.element.click(ss.mkdel(this,this.$k));u.element.hide();this.element.append(u.element);return u.element},$n:function(){this.$A=this.$x.get_sortIndicators();this.set_enabled(true)},$9:function(){this.$u.click(ss.mkdel(this,this.$h));this.$u.mouseover(ss.mkdel(this,this.$j));this.$u.mouseout(ss.mkdel(this,this.$i))},$f:function(u){if(u.button>0){return}if(ss.isNullOrUndefined(this.$A)||!tsConfig.allow_filter){return}var v=this.$x.get_tableViewPosition();var w={x:u.pageX-v.x,y:u.pageY-v.y};var x=this.$x.get_domWeb().scrollX.get(0);var y=this.$x.get_domWeb().scrollY.get(0);var z={x:x.scrollLeft,y:y.scrollTop};var A=this.$C;var B=this.regionHitTest(this.$C,w);if(ss.isValue(B)){this.$m(this.getSIRegionFromName(this.$x,B),A[B],w,z)}else{this.$e()}},$s:function(u,v,w){var x;var y=u.sortIndicatorItems[v];var z=this.$z;if(!u.isHorizontal){x=((y.sortOrder==='asc')?'Left':'Right')}else{x=((y.sortOrder==='asc')?'Up':'Down')}var A=(y.isSorted?'Solid':'Hollow');this.$z=new d(u,y,v,x,A,w);if(ss.isNullOrUndefined(z)||!ss.referenceEquals(z.$0,x)||!ss.referenceEquals(z.$5,A)||z.$1!==w){this.$t()}},$t:function(){if(ss.isNullOrUndefined(this.$z)){return}var u='';if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){var v=this.$z.$2;if(ss.isValue(v)&&v.sortBy==='alpha'){u='Alphabetic'}}var w='sortInd'+u+this.$z.$5+this.$z.$0+(this.$z.$1?'Active':'');var x=new RegExp('(sortInd\\w+)?','g');this.$u.get(0).className=this.$u.get(0).className.replace(x,'');this.$u.addClass(w)},$q:function(){if(!this.$g()){return}var u=this.$z.$2;var v=this.$z.$4;if(!u.isSorted){u.isSorted=true;u.sortOrder=v.defSortOrder}else if(u.sortOrder===v.defSortOrder){u.sortOrder=((v.defSortOrder==='asc')?'desc':'asc')}else{u.sortOrder=v.defSortOrder;u.isSorted=false}this.$s(v,this.$z.$3,this.$z.$1)},$j:function(u){if(this.isOtherActiveInRect(this.$v)){return}if(this.$g()&&!this.$z.$1){this.$z.$1=true;this.$t()}u.stopPropagation()},$i:function(u){if(!this.$g()){return}var v=$(this.$u.get(0)).offset();var w=tab.DoubleUtil.roundToInt($(this.$u.get(0)).outerHeight());var x=tab.DoubleUtil.roundToInt($(this.$u.get(0)).outerWidth());if(v.left>u.pageX||v.left+x<=u.pageX||v.top>u.pageY||v.top+w<=u.pageY){this.$z.$1=false;this.$t();u.stopPropagation()}},$h:function(u){spiff.EventUtil.stopEvent(u);var v=this.$c();var w=this.$b(u);this.$q();this.$u.addClass('clicked');this.$B=ss.mkdel(this,function(){this.$u.removeClass('clicked');this.$f(u)});if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){this.$d();return}tab.SortServerCommands.sortFromIndicator(w,v,this.$x.get_visualId())},$d:function(){tab.CommandUtils.executeSimpleCommand(this.$z.$2.sortIndicatorCommand,'immediately')},$k:function(u){spiff.EventUtil.stopEvent(u);this.$o(this.$w)},$b:function(u){var v=this.$x.get_tableViewPosition();var w=v.x;var x=v.y;var y={x:u.pageX-w,y:u.pageY-x};var z=this.regionHitTest(this.$C,y);if(ss.isNullOrUndefined(z)){return null}var A=this.getSIRegionFromName(this.$x,z);var B=A.regionRect;var C=this.$C;y.y+=B.y-C[z].t;y.x+=B.x-C[z].l;return y},$c:function(){var u=this.$x.get_domWeb().scrollX.get(0);var v=this.$x.get_domWeb().scrollY.get(0);return{x:u.scrollLeft,y:v.scrollTop}},$o:function(u){var v=this.$z.$2.sortIndicatorMenu;if(ss.isNullOrUndefined(v)){return}var w=tab.WidgetUtil.menuViewModelFromCommands(v,ss.mkdel(this,this.$l),null);if(ss.isValue(w)){w.show(new spiff.ShowMenuOptions(u,false))}},$l:function(u){tab.WidgetUtil.commandMenuItemClicked(u)},$p:function(u,v,w,x){if(this.isOtherActiveInRect(w)){return}var y=null;if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){var z=u.sortIndicatorItems[v];if(ss.isValue(z.sortIndicatorMenu)){var A=z.sortIndicatorMenu['commandItems'.toString()];if(A.length>0){y=z.menuButtonRect}}}this.$v=w;this.$s(u,v,x);this.showNodeAt(this.$u.get(0),w.y,w.x);this.$r(y)},$r:function(u){if(ss.isValue(u)){this.showNodeAt(this.$w.get(0),u.y,u.x)}else if(ss.isValue(this.$w)){this.$w.css('display','none')}},$g:function(){return ss.isValue(this.$z)},$m:function(u,v,w,x){if(ss.isNullOrUndefined(u)){this.$e();return}if(ss.isValue(this.$z)&&ss.isValue(this.$z.$4)&&u.sortRegion!==this.$z.$4.sortRegion){this.$e()}var y={x:w.x,y:w.y};var z=u.regionRect;y.y+=z.y-v.t;y.x+=z.x-v.l;if(u.canScrollY){y.y+=x.y}if(u.canScrollX){y.x+=x.x}var A=u.sortIndicatorItems;for(var B=0,C=A.length;B<C;B++){if(ss.isNullOrUndefined(A[B].itemRect)){continue}if(ss.isNullOrUndefined(A[B].buttonRect)){continue}var D=tab.RecordCast.rectPresModelAsRectXY(A[B].itemRect);if(tab.RectXYUtil.inRect(D,y)){var E=tab.RecordCast.rectPresModelAsRectXY(A[B].buttonRect);var F=this.clone(E);F.y-=y.y-w.y;F.x-=y.x-w.x;var G={x:F.x+2,y:F.y+2};var H={x:F.x+F.w-2,y:F.y+F.h-2};if(tab.RectUtil.inRect(v,G)&&tab.RectUtil.inRect(v,H)){this.$p(u,B,F,tab.RectXYUtil.inRect(F,y));return}}}}},o,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(q,a,{});ss.initClass(r,a,{$L:function(){return this.get_toolModeViewModel().get_isAppendMode()},get_isDragTracking:function(){return this.$Q},$C:function(u){this.$Q=u;r.isDragTrackingInAnyRegion=u},destroy:function(){this.$P=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(u){if(ss.isValue(this.regionContent)){this.regionContent.setXPos(u);this.backgroundMap.setScrollX(u)}},setYPos:function(u){if(ss.isValue(this.regionContent)){this.regionContent.setYPos(u);this.backgroundMap.setScrollY(u)}},resetVisualState:function(){tab.TiledViewerRegion.prototype.resetVisualState.call(this);if(this.isScrolling){this.wasScrolling=false;return}if(!this.$M){return}this.$P.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(u){if(this.$R!==u){this.$R=u;this.$B()}},$j:function(u,v){this.$O(u,v)},$z:function(u,v){this.$E(this.get_shapeSelector());this.$D(u)},$I:function(u,v){this.$E(this.domPanZoomRect);this.$D(u);this.domPanZoomRect.set_pi(v)},$i:function(u){if(this.get_isDragTracking()){this.$S(u)}},$h:function(u,v){this.get_toolModeViewModel().updateDefaultToolMode(this.allowPanZoom());if(this.get_isDragTracking()){this.$T(u,v)}},$J:function(u,v){var w=this.toLocalCoordsEvent(u,false);if(!this.get_toolModeViewModel().get_isZoomToolActive()){}var x=((this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(v,w,x,false,null)},$k:function(u){var v=Math.floor(u.w/2)+u.x;var w=Math.floor(u.h/2)+u.y;return{x:v,y:w}},$K:function(u,v){this.zoomPoint(u,this.getCenterPoint(u),v,false,null)},$q:function(){},$G:function(u){if(ss.isValue(u)){u.hide()}},$E:function(u){if(ss.isValue(u)){u.show()}},updateForToolMode:function(u){tab.TiledViewerRegion.prototype.updateForToolMode.call(this,u);this.$B();switch(u){case'no-tools':{this.$S=ss.mkdel(this,this.$r);this.$T=ss.mkdel(this,this.$r);this.$O=ss.mkdel(this,this.$r);this.$N=ss.mkdel(this,this.$r);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$S=ss.mkdel(this,this.onMarqueeMouseMove);this.$T=ss.mkdel(this,this.$r);this.$O=ss.mkdel(this,this.$z);this.$N=ss.mkdel(this,this.$y);break}case'pan-map':{this.$S=ss.mkdel(this,this.$s);this.$T=ss.mkdel(this,this.$t);this.$O=ss.mkdel(this,this.$u);this.$N=ss.mkdel(this,this.$r);break}case'area-zoom':case'zoom-out':{this.$S=ss.mkdel(this,this.onZoomBoxMouseMove);this.$T=ss.mkdel(this,this.$w);this.$O=ss.mkdel(this,this.$I);this.$N=ss.mkdel(this,this.$H);break}}},$n:function(u){return!u.shiftKey&&spiff.EventUtil.isCtrlKey(u)&&this.get_toolModeViewModel().get_isSelectingToolActive()},$o:function(u){return u.altKey&&(this.get_toolModeViewModel().get_isZoomToolActive()||u.shiftKey&&spiff.EventUtil.isCtrlKey(u))},$p:function(u){var v=u;if(v.altKey&&!v.ctrlKey&&!tab.BrowserSupport.get_isMac()){v.preventDefault()}if(!tsConfig.allow_filter){return}var w=this.get_toolModeViewModel().currentModifierKeyToolMode;var x=this.get_toolModeViewModel().get_isAppendMode();this.get_toolModeViewModel().set_isAppendMode(this.$n(v));if(!this.get_isDragTracking()){if(this.allowPanZoom()){if(r.$0(v)){this.get_toolModeViewModel().currentModifierKeyToolMode='pan-map'}else if(r.$1(v)){this.get_toolModeViewModel().currentModifierKeyToolMode='area-zoom'}else if(this.$o(v)){this.get_toolModeViewModel().currentModifierKeyToolMode='zoom-out'}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}if(w!==this.get_toolModeViewModel().currentModifierKeyToolMode||x!==this.get_toolModeViewModel().get_isAppendMode()){this.$B()}},startScrolling:function(u,v,w){this.stopScrolling();if(!(u!==0&&this.scroller.get_canScrollX()||v!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$U)){this.$m(u,v,w)}var x=((w==='fast')?15:200);this.$U=window.setInterval(ss.mkdel(this,function(){this.$m(u,v,w)}),x);this.isScrolling=true},stopScrolling:function(){if(ss.isValue(this.$U)){window.clearInterval(ss.unbox(this.$U))}this.$U=null;this.wasScrolling=this.isScrolling;this.isScrolling=false},$m:function(u,v,w){var x=0;var y=0;if(u!==0){x=this.$g(0,u);this.scroller.scrollX(x)}if(v!==0){y=this.$g(1,v);this.scroller.scrollY(y)}this.get_shapeSelector().shapeScrolled(x,y);this.get_shapeSelector().get_dom().css('display','');if(x===0&&u!==0||y===0&&v!==0){var z=((x===0)?0:u);var A=((y===0)?0:v);this.startScrolling(z,A,w)}},$g:function(u,v){var w=((u===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var x=((u===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var y=v*15;var z=Math.max(0,Math.min(w+y,x));return z-w},determineScrollDirection:function(u,v){var w=((u===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var x=((u===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var y=((v<0)?-1:((v>0)?1:0));if(y===-1&&w===0||y===1&&w>=x){y=0}return y},suppressTooltips:function(){this.$P.suppressHover(this)},setCursor:function(u,v){v.css('cursor',u)},$A:function(u){this.setCursor(u,this.connectNode)},$l:function(){var u=this.get_toolModeViewModel().get_currentPointerToolMode();if(u==='no-tools'){u=this.get_toolModeViewModel().defaultPointerToolMode}return u},$B:function(){var u=this.$l();switch(u){case'area-zoom':{this.$A(r.$6['zoomIn']);break}case'zoom-out':{this.$A(r.$6['zoomOut']);break}default:{this.$A((this.$R?r.$6['select']:r.$6['defaultKey']));break}}},determineDragSelectionCursor:function(){var u=this.$l();switch(u){case'area-zoom':{return r.$6['zoomIn']}case'zoom-out':{return r.$6['zoomOut']}case'lasso-selection':{return(this.$L()?r.$6['lassoExtended']:r.$6['lassoSelect'])}case'radial-selection':{return(this.$L()?r.$6['radialExtended']:r.$6['radialSelect'])}case'rectangular-selection':{return(this.$L()?r.$6['rectExtended']:r.$6['rectSelect'])}case'pan-map':{return r.$6['panDrag']}default:{return r.$6['defaultKey']}}},$D:function(u){if(u.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.$C(true);u.preventDefault();this.$P.suppressHover(this);var v=u.get_gestureInfo();this.domPanZoomRect.set_pi(null);this.domPanZoomRect.dragStarted(v.startX,v.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(v.startX,v.startY,this.getLocalOffset(true));this.$B()},$F:function(u,v){if(!this.get_isDragTracking()){return}this.$C(false);this.$G(v);this.stopScrolling();this.$B()},$w:function(u,v){this.$v(u,v,this.domPanZoomRect)},$r:function(u,v){this.$v(u,v,this.get_shapeSelector())},$v:function(u,v,w){if(!this.get_isDragTracking()){return}var x=u.originalEvent;if(x['button']>1){return}this.$F(u,w);this.$P.suppressHover(this);this.$N(u,v)},$s:function(u){spiff.EventUtil.stopEvent(u);var v=u.get_gestureInfo();var w=v.pageX-this.domPanZoomRect.get_dragStart().x;var x=v.pageY-this.domPanZoomRect.get_dragStart().y;if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){w=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){x=0}var y=1;w+=y;x+=y;tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:w,t:x,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())});this.backgroundMap.panTo(v.deltaX,v.deltaY)},$t:function(u,v){if(!this.get_isDragTracking()){return}if(u.originalEvent['button']>1){return}spiff.EventUtil.stopEvent(u);this.$F(u,null);var w=u.get_gestureInfo();this.$P.suppressHover(this);var x=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var y={x:w.pageX-this.domPanZoomRect.get_dragStart().x,y:w.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){y.x=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){y.y=0}this.$x(u,x,y)},$x:function(u,v,w){this.waitingOnPanZoomServerResponse='waitingOnServer';this.resetIsWaitingOnTransition=false;var x=ss.mkdel(this,function(){this.reset()});tab.PanZoomCommands.pan(this.get_regionPart(),v,w,x,this.get_sheetid())},$u:function(u,v){if(this.waitingOnPanZoomServerResponse!=='normal'){return}this.$D(u);this.domPanZoomRect.set_pi(v);this.resetIsWaitingOnTransition=true;this.get_toolModeViewModel().deferModeChanges();this.showDomDragImage(v)},$y:function(u,v){if(!tsConfig.allow_select){this.$P.unsuppressHover(this);return}var w=this.get_shapeSelector().get_tooltipAnchor();var x=this.get_regionPart();var y=tab.PointUtil.add(w,this.getLocalOffsetPoint(false));var z=this.get_shapeSelector().get_hitTestingBox();var A=ss.mkdel(this,function(){v.multiSelectComplete(y,z,x);this.$P.unsuppressHover(this)});var B=tab.SelectActionResolver.fromNormalizedEvent(u,0);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var C=this.doSelectMarkAndUbertipFromSelectionShape(B,A);if(tab.MiscUtil.isNullOrEmpty$2(C)||!tsConfig.allow_tooltip){this.$P.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand(x,B,this.get_visualId(),A)}},$H:function(u,v){var w=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var x=this.toLocalCoordsRect(w,false);this.waitingOnPanZoomServerResponse='waitingOnServer';var y=this.domPanZoomRect.get_pi();if(x.w<4&&x.h<4){this.$J(u,y)}var z=this.getCenterPoint(y);if(!this.get_toolModeViewModel().get_isZoomToolActive()){}if(this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out'){var A=this.paneTableViewModel.get_mapServerModel();if(A.get_hasPresModel()&&!tab.MapUtil.allowZoomAtCurrentLevel(A.get_mapServerPresModel().mapRequestZoom,2)){return}var B=0.5;this.$K(y,B);return}else{this.backgroundMap.zoomRect(x);var C=2;var D=1/C;tab.PanZoomCommands.zoomIn(x,z,D,this.get_sheetid())}var E=this.$k(x);var F=x.w;var G=x.h;var H=y.w/F;var I=y.h/G;if(y.canDragH&&y.canDragV){var J=Math.min(H,I);var K=this.paneTableViewModel.get_mapServerModel();if(K.get_hasPresModel()){J=tab.ZoomComputer.resolveDesiredScale(K.get_mapServerPresModel(),J)}H=I=J}else if(!y.canDragV){I=1;E.y=z.y}else if(!y.canDragH){H=1;E.x=z.x}else{return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.animateZoomOnPoint(y,E,H,I)}}},tab.TiledViewerRegion);ss.initClass(s,a,{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var u=new k(this.get_tooltip());this.tooltipBehaviors['sticky']=u},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.showCommandAreaAndActions));tab.TooltipBaseMode.prototype.dispose.call(this)}},tab.TooltipBaseLegacyMode);ss.initClass(t,a,{createPaneTableView:function(u){return new n(u)}},tab.VizZoneFactory,[tab.IVizZoneModule]);(function(){o.$0=[]})();(function(){g.$1=17;g.$2=10;g.$0=20})();(function(){tab.ObjectRegistry.registerType(tab.FloatingZoomToolbar,i).call(null)})();(function(){k.$1='.LegacyTooltipBehavior';k.$2=500;k.$3=250;k.$4=10000;k.$5=1200;k.$6=0;tab.ObjectRegistry.registerType(tab.ITooltipBehavior,k).call(null)})();(function(){tab.ObjectRegistry.registerType(tab.MapsSearchView,l).call(null)})();(function(){m.htmlTemplate="<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"})();(function(){r.isDragTrackingInAnyRegion=false;r.$3=15;r.$4=15;r.$5=200;r.$6=null})();(function(){tab.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,s).call(null)})();(function(){p.sortingElementClassName='tab-tiledViewerSort'})();(function(){n.$5=500;n.$4=10})()})();