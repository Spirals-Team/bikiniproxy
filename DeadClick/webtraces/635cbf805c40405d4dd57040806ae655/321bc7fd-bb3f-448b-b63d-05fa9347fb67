!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=18)}({0:function(t,e,n){"use strict";e.__esModule=!0;var i="https://asset.easydmp.net/log/msg",o=3,s=function(){function t(){}return t.warn=function(e,n){t.log("warn",e,n)},t.err=function(e,n){t.log("error",e,n)},t.errorToString=function(t){return null!==t&&"object"==typeof t?void 0!==typeof t.name?t.name+": "+t.message+" at "+(t.stack||"N/A"):JSON.stringify(t):String(t)},t.log=function(e,n,s){if(!(t.logCount++>=o)){var r={level:e,error:t.errorToString(n)};s&&(r.ctx=s),t.isValid(r.error)&&t.method(i+"?d="+encodeURIComponent(JSON.stringify(r)))}},t.isValid=function(t){return!t.match(/\/inj_js\/common.js|(block|fuck)AdBlock|Message: (QuotaExceededError|InvalidStateError) /)},t.logCount=0,t.method=function(t){(new Image).src=t},t}();e.Logger=s},18:function(t,e,n){"use strict";e.__esModule=!0;var i=n(8);!function(t){i.ClientTag.getInstance(t).gatherActions()}(window)},2:function(t,e,n){"use strict";function i(t){void 0===t&&(t=document.location.host);var e=t.match(/^.*?([^.]+\.[^.]+)\.?$/);return e&&!t.match(/^[0-9.]+$/)?"."+e[1]:t}function o(t,e){void 0===e&&(e=document.cookie);var n;return(n=new RegExp("(?:^|; ?)"+encodeURIComponent(t)+"=?([^;]*)").exec(e))?decodeURIComponent(n[1]):null}function s(t,e,n){var o=new Date((new Date).getTime()+1e3*n);document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";expires="+o.toUTCString()+";path=/;domain="+i()}function r(t){s(t,"",-1123200)}function a(t,e){void 0===e&&(e=172800),s(t,"1",e)}e.__esModule=!0,e.getHostTopDomain=i,e.getCookieValue=o,e.setSimpleCookie=s,e.deleteCookie=r,e.setCappingCookie=a},3:function(t,e,n){"use strict";function i(t){var e=document.createElement("iframe");return e.src=t,e.style.display="none",e.style.visibility="hidden",e.style.opacity="0",e.style.width="0px",e.style.height="0px",e.style.position="absolute",e}function o(t,e){try{t.contentWindow.postMessage(r(e),t.src.replace(/^(.*:\/\/[^\/]*).*$/,"$1"))}catch(t){c.Logger.err(t,"notifyAction")}}function s(t,e){var n=function(t){var n=t.source,i=t.origin,o=a(t.data);o&&e(o,n,i)};t.attachEvent?t.attachEvent("onmessage",n):t.addEventListener&&t.addEventListener("message",n,!1)}function r(t){return JSON.stringify({token:d,payload:t})}function a(t){if(t){try{t="string"==typeof t?JSON.parse(t):t}catch(t){return}if(t.token&&t.token==d&&t.payload)return t.payload}}e.__esModule=!0;var c=n(0),d="GfbyfaO9k6D1qvMbn83g";e.createIframe=i,e.notifyAction=o,e.addPostMessageListener=s,e.generatePostMessage=r,e.readPostMessage=a},4:function(t,e,n){"use strict";e.__esModule=!0,e.ACTION_COLLECT="collect",e.ACTION_SPREAD="spread",e.ACTION_READ="read",e.ACTION_DELETE="delete",e.CLIENT_EVENT_ADD_ACTION="addAction",e.CLIENT_EVENT_READ_RESULT="readResult",e.CLIENT_EVENT_CUSTOM_CALLBACK="customCallback"},8:function(t,e,n){"use strict";e.__esModule=!0;var i=n(3),o=n(4),s=n(2),r=n(0),a="[eedmpact]",c="[eedmpmt]",d=function(){function t(t){this.dmpHosts={},this.isRunning=!1,this.customDomainMap={cpdcsn:"asset.cpdcsn.com"},this.defaultDomain="asset.easydmp.net",this.win=t,this.isRunning=!1,this.replacePublicMethod(),this.listenToPostMessage()}return t.prototype.replacePublicMethod=function(){var t=this.getPublicMethodName(),e=[];this.win[t]&&(e=this.win[t].q||[]);var n=this;this.win[t]=function(){n.win[t].q.push(arguments),n.gatherActions()},this.win[t].q=e},t.getInstance=function(e){return e[c]||(e[c]=new t(e)),e[c]},t.prototype.gatherActions=function(){var t=this;if(!this.isRunning){this.isRunning=!0,this.convertLegacyActions();for(var e=this.getPublicMethodName();this.win[e].q.length>0;){var n=this.win[e].q.shift(),i={type:n[0]||"missing",meta:n[1]||{},data:n[2]||{},options:n[3]||{}};if("dewdmp"==i.meta.dmp&&i.type==o.ACTION_COLLECT&&i.data.sets)try{sessionStorage.removeItem("ABTastyEasyDmp")}catch(t){}var r="dewdmpSegSpeedUp";if("dewdmp"==i.meta.dmp&&i.type==o.ACTION_READ&&!this.dewdmpDeliveryFix&&null==s.getCookieValue(r)){this.dewdmpDeliveryFix=!0,s.setCappingCookie(r,86400);var a={type:"spread",meta:{dmp:"emdmpeasy"},data:{actions:["happyview"]}};return this.addAction(a),this.win[e].q.unshift(n),void setTimeout(function(){for(var e=t.win[t.getPublicMethodName()].q,n=[],i=0;i<e.length;i++)e[i]&&"collect"==e[i][0]&&e[i][1]&&"dewdmp"===e[i][1].dmp?n.unshift(e[i]):n.push(e[i]);t.win[t.getPublicMethodName()].q=n,t.isRunning=!1,t.gatherActions()},1e3)}this.addAction(i)}this.isRunning=!1}},t.prototype.convertLegacyActions=function(){var t=this,e="eedmpst",n="eedmpstv",i="eedmpstr",s="/js/dn_iframe.js",r=this.getPublicMethodName(),a=null,c={},d=function(e,n){if(null!==e){var i=n.p||n.lp;delete n.p,delete n.lp,t.win[r].q.push([o.ACTION_COLLECT,{dmp:e,p:i},n])}};if("object"==typeof this.win[e]){var u=this.win[e];delete this.win[e],a=u.dmp_id||"",delete u.dmp_id,c=this.convertLegacyValues(u)}if("object"==typeof this.win[n]){var p=this.win[n];delete this.win[n];var l=p.dmp_id||null;delete p.dmp_id,delete p.collect,null!==a&&a!=l&&(d(a,c),c={}),a=l,p=this.convertLegacyValues(p);for(var f in p)if(p.hasOwnProperty(f))if(void 0!==c[f]){c[f]="object"==typeof c[f]?c[f]:[c[f]];for(var m="object"==typeof p[f]?p[f]:[p[f]],h=0,g=m;h<g.length;h++){var y=g[h];-1==c[f].indexOf(y)&&c[f].push(y)}}else c[f]=p[f]}d(a,c);var v=this.win.document?this.win.document.querySelector('script[src$="'+s+'"]'):null;if(v&&!v.getAttribute("converted")&&(v.setAttribute("converted","yes"),this.win[r].q.push([o.ACTION_SPREAD,{dmp:"emdmpeasy"},{}])),"object"==typeof this.win[i]){var u=this.win[i];delete this.win[i];var w={fields:(u.datatypes||"").split(/,/),callback:u.callback||""};u.ctx&&(w.ctx=u.ctx),this.win[r].q.push([o.ACTION_READ,{dmp:u.dmp_id||""},w])}},t.prototype.initDmpIframe=function(t){var e=this.getDmpDomain(t);if(!this.dmpHosts[e]){var n=i.createIframe("https://"+e+"/client_iframe.html?t="+Math.round((new Date).getTime()/72e5));n.setAttribute("dmpReady","no"),n.onload=function(){n.setAttribute("dmpReady","yes")},document.body.insertBefore(n,document.body.firstChild),this.dmpHosts[e]={iframe:n,actions:[]}}return e},t.prototype.delegateActions=function(t){var e=this,n=this.dmpHosts[t];try{if("yes"!=n.iframe.getAttribute("dmpReady"))return void setTimeout(function(){e.delegateActions(t)},50)}catch(t){r.Logger.err(t,"hostConfigIframe")}for(;n.actions.length>0;)i.notifyAction(n.iframe,n.actions.shift())},t.prototype.getDmpDomain=function(t){return this.customDomainMap[t]||this.defaultDomain},t.prototype.addAction=function(t){var e=this.initDmpIframe(t.meta.dmp);this.dmpHosts[e].actions.push(t),this.delegateActions(e)},t.prototype.getPublicMethodName=function(){return this.win[a]||"eedmpdo"},t.prototype.convertLegacyValues=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i="string"==typeof t[n]||"number"==typeof t[n]?String(t[n]).split(/,/):[""];e[n]=1==i.length?i[0]:i}return e},t.prototype.listenToPostMessage=function(){var t=this;i.addPostMessageListener(this.win,function(e,n,i){if(e&&e.eventType)switch(e.eventType){case o.CLIENT_EVENT_ADD_ACTION:var s=t.getPublicMethodName(),r=e.eventData||[];t.win[s](r[0],r[1],r[2],r[3]);break;case o.CLIENT_EVENT_CUSTOM_CALLBACK:case o.CLIENT_EVENT_READ_RESULT:var a=e.eventData||[];"function"==typeof window[a.callback]&&window[a.callback](a.fields||{})}})},t}();e.ClientTag=d}});